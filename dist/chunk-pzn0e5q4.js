var __create = Object.create;
var __getProtoOf = Object.getPrototypeOf;
var __defProp = Object.defineProperty;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __toESM = (mod, isNodeMode, target) => {
  target = mod != null ? __create(__getProtoOf(mod)) : {};
  const to = isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target;
  for (let key of __getOwnPropNames(mod))
    if (!__hasOwnProp.call(to, key))
      __defProp(to, key, {
        get: () => mod[key],
        enumerable: true
      });
  return to;
};
var __commonJS = (cb, mod) => () => (mod || cb((mod = { exports: {} }).exports, mod), mod.exports);
var __require = /* @__PURE__ */ ((x) => typeof require !== "undefined" ? require : typeof Proxy !== "undefined" ? new Proxy(x, {
  get: (a, b) => (typeof require !== "undefined" ? require : a)[b]
}) : x)(function(x) {
  if (typeof require !== "undefined")
    return require.apply(this, arguments);
  throw Error('Dynamic require of "' + x + '" is not supported');
});

// node_modules/react/cjs/react.development.js
var require_react_development = __commonJS((exports, module) => {
  (function() {
    function defineDeprecationWarning(methodName, info) {
      Object.defineProperty(Component.prototype, methodName, {
        get: function() {
          console.warn("%s(...) is deprecated in plain JavaScript React classes. %s", info[0], info[1]);
        }
      });
    }
    function getIteratorFn(maybeIterable) {
      if (maybeIterable === null || typeof maybeIterable !== "object")
        return null;
      maybeIterable = MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL] || maybeIterable["@@iterator"];
      return typeof maybeIterable === "function" ? maybeIterable : null;
    }
    function warnNoop(publicInstance, callerName) {
      publicInstance = (publicInstance = publicInstance.constructor) && (publicInstance.displayName || publicInstance.name) || "ReactClass";
      var warningKey = publicInstance + "." + callerName;
      didWarnStateUpdateForUnmountedComponent[warningKey] || (console.error("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.", callerName, publicInstance), didWarnStateUpdateForUnmountedComponent[warningKey] = true);
    }
    function Component(props, context, updater) {
      this.props = props;
      this.context = context;
      this.refs = emptyObject;
      this.updater = updater || ReactNoopUpdateQueue;
    }
    function ComponentDummy() {}
    function PureComponent(props, context, updater) {
      this.props = props;
      this.context = context;
      this.refs = emptyObject;
      this.updater = updater || ReactNoopUpdateQueue;
    }
    function noop() {}
    function testStringCoercion(value) {
      return "" + value;
    }
    function checkKeyStringCoercion(value) {
      try {
        testStringCoercion(value);
        var JSCompiler_inline_result = false;
      } catch (e) {
        JSCompiler_inline_result = true;
      }
      if (JSCompiler_inline_result) {
        JSCompiler_inline_result = console;
        var JSCompiler_temp_const = JSCompiler_inline_result.error;
        var JSCompiler_inline_result$jscomp$0 = typeof Symbol === "function" && Symbol.toStringTag && value[Symbol.toStringTag] || value.constructor.name || "Object";
        JSCompiler_temp_const.call(JSCompiler_inline_result, "The provided key is an unsupported type %s. This value must be coerced to a string before using it here.", JSCompiler_inline_result$jscomp$0);
        return testStringCoercion(value);
      }
    }
    function getComponentNameFromType(type) {
      if (type == null)
        return null;
      if (typeof type === "function")
        return type.$$typeof === REACT_CLIENT_REFERENCE ? null : type.displayName || type.name || null;
      if (typeof type === "string")
        return type;
      switch (type) {
        case REACT_FRAGMENT_TYPE:
          return "Fragment";
        case REACT_PROFILER_TYPE:
          return "Profiler";
        case REACT_STRICT_MODE_TYPE:
          return "StrictMode";
        case REACT_SUSPENSE_TYPE:
          return "Suspense";
        case REACT_SUSPENSE_LIST_TYPE:
          return "SuspenseList";
        case REACT_ACTIVITY_TYPE:
          return "Activity";
      }
      if (typeof type === "object")
        switch (typeof type.tag === "number" && console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."), type.$$typeof) {
          case REACT_PORTAL_TYPE:
            return "Portal";
          case REACT_CONTEXT_TYPE:
            return type.displayName || "Context";
          case REACT_CONSUMER_TYPE:
            return (type._context.displayName || "Context") + ".Consumer";
          case REACT_FORWARD_REF_TYPE:
            var innerType = type.render;
            type = type.displayName;
            type || (type = innerType.displayName || innerType.name || "", type = type !== "" ? "ForwardRef(" + type + ")" : "ForwardRef");
            return type;
          case REACT_MEMO_TYPE:
            return innerType = type.displayName || null, innerType !== null ? innerType : getComponentNameFromType(type.type) || "Memo";
          case REACT_LAZY_TYPE:
            innerType = type._payload;
            type = type._init;
            try {
              return getComponentNameFromType(type(innerType));
            } catch (x) {}
        }
      return null;
    }
    function getTaskName(type) {
      if (type === REACT_FRAGMENT_TYPE)
        return "<>";
      if (typeof type === "object" && type !== null && type.$$typeof === REACT_LAZY_TYPE)
        return "<...>";
      try {
        var name = getComponentNameFromType(type);
        return name ? "<" + name + ">" : "<...>";
      } catch (x) {
        return "<...>";
      }
    }
    function getOwner() {
      var dispatcher = ReactSharedInternals.A;
      return dispatcher === null ? null : dispatcher.getOwner();
    }
    function UnknownOwner() {
      return Error("react-stack-top-frame");
    }
    function hasValidKey(config) {
      if (hasOwnProperty.call(config, "key")) {
        var getter = Object.getOwnPropertyDescriptor(config, "key").get;
        if (getter && getter.isReactWarning)
          return false;
      }
      return config.key !== undefined;
    }
    function defineKeyPropWarningGetter(props, displayName) {
      function warnAboutAccessingKey() {
        specialPropKeyWarningShown || (specialPropKeyWarningShown = true, console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)", displayName));
      }
      warnAboutAccessingKey.isReactWarning = true;
      Object.defineProperty(props, "key", {
        get: warnAboutAccessingKey,
        configurable: true
      });
    }
    function elementRefGetterWithDeprecationWarning() {
      var componentName = getComponentNameFromType(this.type);
      didWarnAboutElementRef[componentName] || (didWarnAboutElementRef[componentName] = true, console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release."));
      componentName = this.props.ref;
      return componentName !== undefined ? componentName : null;
    }
    function ReactElement(type, key, props, owner, debugStack, debugTask) {
      var refProp = props.ref;
      type = {
        $$typeof: REACT_ELEMENT_TYPE,
        type,
        key,
        props,
        _owner: owner
      };
      (refProp !== undefined ? refProp : null) !== null ? Object.defineProperty(type, "ref", {
        enumerable: false,
        get: elementRefGetterWithDeprecationWarning
      }) : Object.defineProperty(type, "ref", { enumerable: false, value: null });
      type._store = {};
      Object.defineProperty(type._store, "validated", {
        configurable: false,
        enumerable: false,
        writable: true,
        value: 0
      });
      Object.defineProperty(type, "_debugInfo", {
        configurable: false,
        enumerable: false,
        writable: true,
        value: null
      });
      Object.defineProperty(type, "_debugStack", {
        configurable: false,
        enumerable: false,
        writable: true,
        value: debugStack
      });
      Object.defineProperty(type, "_debugTask", {
        configurable: false,
        enumerable: false,
        writable: true,
        value: debugTask
      });
      Object.freeze && (Object.freeze(type.props), Object.freeze(type));
      return type;
    }
    function cloneAndReplaceKey(oldElement, newKey) {
      newKey = ReactElement(oldElement.type, newKey, oldElement.props, oldElement._owner, oldElement._debugStack, oldElement._debugTask);
      oldElement._store && (newKey._store.validated = oldElement._store.validated);
      return newKey;
    }
    function validateChildKeys(node) {
      isValidElement(node) ? node._store && (node._store.validated = 1) : typeof node === "object" && node !== null && node.$$typeof === REACT_LAZY_TYPE && (node._payload.status === "fulfilled" ? isValidElement(node._payload.value) && node._payload.value._store && (node._payload.value._store.validated = 1) : node._store && (node._store.validated = 1));
    }
    function isValidElement(object) {
      return typeof object === "object" && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;
    }
    function escape(key) {
      var escaperLookup = { "=": "=0", ":": "=2" };
      return "$" + key.replace(/[=:]/g, function(match) {
        return escaperLookup[match];
      });
    }
    function getElementKey(element, index) {
      return typeof element === "object" && element !== null && element.key != null ? (checkKeyStringCoercion(element.key), escape("" + element.key)) : index.toString(36);
    }
    function resolveThenable(thenable) {
      switch (thenable.status) {
        case "fulfilled":
          return thenable.value;
        case "rejected":
          throw thenable.reason;
        default:
          switch (typeof thenable.status === "string" ? thenable.then(noop, noop) : (thenable.status = "pending", thenable.then(function(fulfilledValue) {
            thenable.status === "pending" && (thenable.status = "fulfilled", thenable.value = fulfilledValue);
          }, function(error) {
            thenable.status === "pending" && (thenable.status = "rejected", thenable.reason = error);
          })), thenable.status) {
            case "fulfilled":
              return thenable.value;
            case "rejected":
              throw thenable.reason;
          }
      }
      throw thenable;
    }
    function mapIntoArray(children, array, escapedPrefix, nameSoFar, callback) {
      var type = typeof children;
      if (type === "undefined" || type === "boolean")
        children = null;
      var invokeCallback = false;
      if (children === null)
        invokeCallback = true;
      else
        switch (type) {
          case "bigint":
          case "string":
          case "number":
            invokeCallback = true;
            break;
          case "object":
            switch (children.$$typeof) {
              case REACT_ELEMENT_TYPE:
              case REACT_PORTAL_TYPE:
                invokeCallback = true;
                break;
              case REACT_LAZY_TYPE:
                return invokeCallback = children._init, mapIntoArray(invokeCallback(children._payload), array, escapedPrefix, nameSoFar, callback);
            }
        }
      if (invokeCallback) {
        invokeCallback = children;
        callback = callback(invokeCallback);
        var childKey = nameSoFar === "" ? "." + getElementKey(invokeCallback, 0) : nameSoFar;
        isArrayImpl(callback) ? (escapedPrefix = "", childKey != null && (escapedPrefix = childKey.replace(userProvidedKeyEscapeRegex, "$&/") + "/"), mapIntoArray(callback, array, escapedPrefix, "", function(c) {
          return c;
        })) : callback != null && (isValidElement(callback) && (callback.key != null && (invokeCallback && invokeCallback.key === callback.key || checkKeyStringCoercion(callback.key)), escapedPrefix = cloneAndReplaceKey(callback, escapedPrefix + (callback.key == null || invokeCallback && invokeCallback.key === callback.key ? "" : ("" + callback.key).replace(userProvidedKeyEscapeRegex, "$&/") + "/") + childKey), nameSoFar !== "" && invokeCallback != null && isValidElement(invokeCallback) && invokeCallback.key == null && invokeCallback._store && !invokeCallback._store.validated && (escapedPrefix._store.validated = 2), callback = escapedPrefix), array.push(callback));
        return 1;
      }
      invokeCallback = 0;
      childKey = nameSoFar === "" ? "." : nameSoFar + ":";
      if (isArrayImpl(children))
        for (var i = 0;i < children.length; i++)
          nameSoFar = children[i], type = childKey + getElementKey(nameSoFar, i), invokeCallback += mapIntoArray(nameSoFar, array, escapedPrefix, type, callback);
      else if (i = getIteratorFn(children), typeof i === "function")
        for (i === children.entries && (didWarnAboutMaps || console.warn("Using Maps as children is not supported. Use an array of keyed ReactElements instead."), didWarnAboutMaps = true), children = i.call(children), i = 0;!(nameSoFar = children.next()).done; )
          nameSoFar = nameSoFar.value, type = childKey + getElementKey(nameSoFar, i++), invokeCallback += mapIntoArray(nameSoFar, array, escapedPrefix, type, callback);
      else if (type === "object") {
        if (typeof children.then === "function")
          return mapIntoArray(resolveThenable(children), array, escapedPrefix, nameSoFar, callback);
        array = String(children);
        throw Error("Objects are not valid as a React child (found: " + (array === "[object Object]" ? "object with keys {" + Object.keys(children).join(", ") + "}" : array) + "). If you meant to render a collection of children, use an array instead.");
      }
      return invokeCallback;
    }
    function mapChildren(children, func, context) {
      if (children == null)
        return children;
      var result = [], count = 0;
      mapIntoArray(children, result, "", "", function(child) {
        return func.call(context, child, count++);
      });
      return result;
    }
    function lazyInitializer(payload) {
      if (payload._status === -1) {
        var ioInfo = payload._ioInfo;
        ioInfo != null && (ioInfo.start = ioInfo.end = performance.now());
        ioInfo = payload._result;
        var thenable = ioInfo();
        thenable.then(function(moduleObject) {
          if (payload._status === 0 || payload._status === -1) {
            payload._status = 1;
            payload._result = moduleObject;
            var _ioInfo = payload._ioInfo;
            _ioInfo != null && (_ioInfo.end = performance.now());
            thenable.status === undefined && (thenable.status = "fulfilled", thenable.value = moduleObject);
          }
        }, function(error) {
          if (payload._status === 0 || payload._status === -1) {
            payload._status = 2;
            payload._result = error;
            var _ioInfo2 = payload._ioInfo;
            _ioInfo2 != null && (_ioInfo2.end = performance.now());
            thenable.status === undefined && (thenable.status = "rejected", thenable.reason = error);
          }
        });
        ioInfo = payload._ioInfo;
        if (ioInfo != null) {
          ioInfo.value = thenable;
          var displayName = thenable.displayName;
          typeof displayName === "string" && (ioInfo.name = displayName);
        }
        payload._status === -1 && (payload._status = 0, payload._result = thenable);
      }
      if (payload._status === 1)
        return ioInfo = payload._result, ioInfo === undefined && console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`, ioInfo), "default" in ioInfo || console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`, ioInfo), ioInfo.default;
      throw payload._result;
    }
    function resolveDispatcher() {
      var dispatcher = ReactSharedInternals.H;
      dispatcher === null && console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`);
      return dispatcher;
    }
    function releaseAsyncTransition() {
      ReactSharedInternals.asyncTransitions--;
    }
    function enqueueTask(task) {
      if (enqueueTaskImpl === null)
        try {
          var requireString = ("require" + Math.random()).slice(0, 7);
          enqueueTaskImpl = (module && module[requireString]).call(module, "timers").setImmediate;
        } catch (_err) {
          enqueueTaskImpl = function(callback) {
            didWarnAboutMessageChannel === false && (didWarnAboutMessageChannel = true, typeof MessageChannel === "undefined" && console.error("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));
            var channel = new MessageChannel;
            channel.port1.onmessage = callback;
            channel.port2.postMessage(undefined);
          };
        }
      return enqueueTaskImpl(task);
    }
    function aggregateErrors(errors) {
      return 1 < errors.length && typeof AggregateError === "function" ? new AggregateError(errors) : errors[0];
    }
    function popActScope(prevActQueue, prevActScopeDepth) {
      prevActScopeDepth !== actScopeDepth - 1 && console.error("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. ");
      actScopeDepth = prevActScopeDepth;
    }
    function recursivelyFlushAsyncActWork(returnValue, resolve, reject) {
      var queue = ReactSharedInternals.actQueue;
      if (queue !== null)
        if (queue.length !== 0)
          try {
            flushActQueue(queue);
            enqueueTask(function() {
              return recursivelyFlushAsyncActWork(returnValue, resolve, reject);
            });
            return;
          } catch (error) {
            ReactSharedInternals.thrownErrors.push(error);
          }
        else
          ReactSharedInternals.actQueue = null;
      0 < ReactSharedInternals.thrownErrors.length ? (queue = aggregateErrors(ReactSharedInternals.thrownErrors), ReactSharedInternals.thrownErrors.length = 0, reject(queue)) : resolve(returnValue);
    }
    function flushActQueue(queue) {
      if (!isFlushing) {
        isFlushing = true;
        var i = 0;
        try {
          for (;i < queue.length; i++) {
            var callback = queue[i];
            do {
              ReactSharedInternals.didUsePromise = false;
              var continuation = callback(false);
              if (continuation !== null) {
                if (ReactSharedInternals.didUsePromise) {
                  queue[i] = callback;
                  queue.splice(0, i);
                  return;
                }
                callback = continuation;
              } else
                break;
            } while (1);
          }
          queue.length = 0;
        } catch (error) {
          queue.splice(0, i + 1), ReactSharedInternals.thrownErrors.push(error);
        } finally {
          isFlushing = false;
        }
      }
    }
    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== "undefined" && typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart === "function" && __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());
    var REACT_ELEMENT_TYPE = Symbol.for("react.transitional.element"), REACT_PORTAL_TYPE = Symbol.for("react.portal"), REACT_FRAGMENT_TYPE = Symbol.for("react.fragment"), REACT_STRICT_MODE_TYPE = Symbol.for("react.strict_mode"), REACT_PROFILER_TYPE = Symbol.for("react.profiler"), REACT_CONSUMER_TYPE = Symbol.for("react.consumer"), REACT_CONTEXT_TYPE = Symbol.for("react.context"), REACT_FORWARD_REF_TYPE = Symbol.for("react.forward_ref"), REACT_SUSPENSE_TYPE = Symbol.for("react.suspense"), REACT_SUSPENSE_LIST_TYPE = Symbol.for("react.suspense_list"), REACT_MEMO_TYPE = Symbol.for("react.memo"), REACT_LAZY_TYPE = Symbol.for("react.lazy"), REACT_ACTIVITY_TYPE = Symbol.for("react.activity"), MAYBE_ITERATOR_SYMBOL = Symbol.iterator, didWarnStateUpdateForUnmountedComponent = {}, ReactNoopUpdateQueue = {
      isMounted: function() {
        return false;
      },
      enqueueForceUpdate: function(publicInstance) {
        warnNoop(publicInstance, "forceUpdate");
      },
      enqueueReplaceState: function(publicInstance) {
        warnNoop(publicInstance, "replaceState");
      },
      enqueueSetState: function(publicInstance) {
        warnNoop(publicInstance, "setState");
      }
    }, assign = Object.assign, emptyObject = {};
    Object.freeze(emptyObject);
    Component.prototype.isReactComponent = {};
    Component.prototype.setState = function(partialState, callback) {
      if (typeof partialState !== "object" && typeof partialState !== "function" && partialState != null)
        throw Error("takes an object of state variables to update or a function which returns an object of state variables.");
      this.updater.enqueueSetState(this, partialState, callback, "setState");
    };
    Component.prototype.forceUpdate = function(callback) {
      this.updater.enqueueForceUpdate(this, callback, "forceUpdate");
    };
    var deprecatedAPIs = {
      isMounted: [
        "isMounted",
        "Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."
      ],
      replaceState: [
        "replaceState",
        "Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."
      ]
    };
    for (fnName in deprecatedAPIs)
      deprecatedAPIs.hasOwnProperty(fnName) && defineDeprecationWarning(fnName, deprecatedAPIs[fnName]);
    ComponentDummy.prototype = Component.prototype;
    deprecatedAPIs = PureComponent.prototype = new ComponentDummy;
    deprecatedAPIs.constructor = PureComponent;
    assign(deprecatedAPIs, Component.prototype);
    deprecatedAPIs.isPureReactComponent = true;
    var isArrayImpl = Array.isArray, REACT_CLIENT_REFERENCE = Symbol.for("react.client.reference"), ReactSharedInternals = {
      H: null,
      A: null,
      T: null,
      S: null,
      actQueue: null,
      asyncTransitions: 0,
      isBatchingLegacy: false,
      didScheduleLegacyUpdate: false,
      didUsePromise: false,
      thrownErrors: [],
      getCurrentStack: null,
      recentlyCreatedOwnerStacks: 0
    }, hasOwnProperty = Object.prototype.hasOwnProperty, createTask = console.createTask ? console.createTask : function() {
      return null;
    };
    deprecatedAPIs = {
      react_stack_bottom_frame: function(callStackForError) {
        return callStackForError();
      }
    };
    var specialPropKeyWarningShown, didWarnAboutOldJSXRuntime;
    var didWarnAboutElementRef = {};
    var unknownOwnerDebugStack = deprecatedAPIs.react_stack_bottom_frame.bind(deprecatedAPIs, UnknownOwner)();
    var unknownOwnerDebugTask = createTask(getTaskName(UnknownOwner));
    var didWarnAboutMaps = false, userProvidedKeyEscapeRegex = /\/+/g, reportGlobalError = typeof reportError === "function" ? reportError : function(error) {
      if (typeof window === "object" && typeof window.ErrorEvent === "function") {
        var event = new window.ErrorEvent("error", {
          bubbles: true,
          cancelable: true,
          message: typeof error === "object" && error !== null && typeof error.message === "string" ? String(error.message) : String(error),
          error
        });
        if (!window.dispatchEvent(event))
          return;
      } else if (typeof process === "object" && typeof process.emit === "function") {
        process.emit("uncaughtException", error);
        return;
      }
      console.error(error);
    }, didWarnAboutMessageChannel = false, enqueueTaskImpl = null, actScopeDepth = 0, didWarnNoAwaitAct = false, isFlushing = false, queueSeveralMicrotasks = typeof queueMicrotask === "function" ? function(callback) {
      queueMicrotask(function() {
        return queueMicrotask(callback);
      });
    } : enqueueTask;
    deprecatedAPIs = Object.freeze({
      __proto__: null,
      c: function(size) {
        return resolveDispatcher().useMemoCache(size);
      }
    });
    var fnName = {
      map: mapChildren,
      forEach: function(children, forEachFunc, forEachContext) {
        mapChildren(children, function() {
          forEachFunc.apply(this, arguments);
        }, forEachContext);
      },
      count: function(children) {
        var n = 0;
        mapChildren(children, function() {
          n++;
        });
        return n;
      },
      toArray: function(children) {
        return mapChildren(children, function(child) {
          return child;
        }) || [];
      },
      only: function(children) {
        if (!isValidElement(children))
          throw Error("React.Children.only expected to receive a single React element child.");
        return children;
      }
    };
    exports.Activity = REACT_ACTIVITY_TYPE;
    exports.Children = fnName;
    exports.Component = Component;
    exports.Fragment = REACT_FRAGMENT_TYPE;
    exports.Profiler = REACT_PROFILER_TYPE;
    exports.PureComponent = PureComponent;
    exports.StrictMode = REACT_STRICT_MODE_TYPE;
    exports.Suspense = REACT_SUSPENSE_TYPE;
    exports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE = ReactSharedInternals;
    exports.__COMPILER_RUNTIME = deprecatedAPIs;
    exports.act = function(callback) {
      var prevActQueue = ReactSharedInternals.actQueue, prevActScopeDepth = actScopeDepth;
      actScopeDepth++;
      var queue = ReactSharedInternals.actQueue = prevActQueue !== null ? prevActQueue : [], didAwaitActCall = false;
      try {
        var result = callback();
      } catch (error) {
        ReactSharedInternals.thrownErrors.push(error);
      }
      if (0 < ReactSharedInternals.thrownErrors.length)
        throw popActScope(prevActQueue, prevActScopeDepth), callback = aggregateErrors(ReactSharedInternals.thrownErrors), ReactSharedInternals.thrownErrors.length = 0, callback;
      if (result !== null && typeof result === "object" && typeof result.then === "function") {
        var thenable = result;
        queueSeveralMicrotasks(function() {
          didAwaitActCall || didWarnNoAwaitAct || (didWarnNoAwaitAct = true, console.error("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"));
        });
        return {
          then: function(resolve, reject) {
            didAwaitActCall = true;
            thenable.then(function(returnValue) {
              popActScope(prevActQueue, prevActScopeDepth);
              if (prevActScopeDepth === 0) {
                try {
                  flushActQueue(queue), enqueueTask(function() {
                    return recursivelyFlushAsyncActWork(returnValue, resolve, reject);
                  });
                } catch (error$0) {
                  ReactSharedInternals.thrownErrors.push(error$0);
                }
                if (0 < ReactSharedInternals.thrownErrors.length) {
                  var _thrownError = aggregateErrors(ReactSharedInternals.thrownErrors);
                  ReactSharedInternals.thrownErrors.length = 0;
                  reject(_thrownError);
                }
              } else
                resolve(returnValue);
            }, function(error) {
              popActScope(prevActQueue, prevActScopeDepth);
              0 < ReactSharedInternals.thrownErrors.length ? (error = aggregateErrors(ReactSharedInternals.thrownErrors), ReactSharedInternals.thrownErrors.length = 0, reject(error)) : reject(error);
            });
          }
        };
      }
      var returnValue$jscomp$0 = result;
      popActScope(prevActQueue, prevActScopeDepth);
      prevActScopeDepth === 0 && (flushActQueue(queue), queue.length !== 0 && queueSeveralMicrotasks(function() {
        didAwaitActCall || didWarnNoAwaitAct || (didWarnNoAwaitAct = true, console.error("A component suspended inside an `act` scope, but the `act` call was not awaited. When testing React components that depend on asynchronous data, you must await the result:\n\nawait act(() => ...)"));
      }), ReactSharedInternals.actQueue = null);
      if (0 < ReactSharedInternals.thrownErrors.length)
        throw callback = aggregateErrors(ReactSharedInternals.thrownErrors), ReactSharedInternals.thrownErrors.length = 0, callback;
      return {
        then: function(resolve, reject) {
          didAwaitActCall = true;
          prevActScopeDepth === 0 ? (ReactSharedInternals.actQueue = queue, enqueueTask(function() {
            return recursivelyFlushAsyncActWork(returnValue$jscomp$0, resolve, reject);
          })) : resolve(returnValue$jscomp$0);
        }
      };
    };
    exports.cache = function(fn) {
      return function() {
        return fn.apply(null, arguments);
      };
    };
    exports.cacheSignal = function() {
      return null;
    };
    exports.captureOwnerStack = function() {
      var getCurrentStack = ReactSharedInternals.getCurrentStack;
      return getCurrentStack === null ? null : getCurrentStack();
    };
    exports.cloneElement = function(element, config, children) {
      if (element === null || element === undefined)
        throw Error("The argument must be a React element, but you passed " + element + ".");
      var props = assign({}, element.props), key = element.key, owner = element._owner;
      if (config != null) {
        var JSCompiler_inline_result;
        a: {
          if (hasOwnProperty.call(config, "ref") && (JSCompiler_inline_result = Object.getOwnPropertyDescriptor(config, "ref").get) && JSCompiler_inline_result.isReactWarning) {
            JSCompiler_inline_result = false;
            break a;
          }
          JSCompiler_inline_result = config.ref !== undefined;
        }
        JSCompiler_inline_result && (owner = getOwner());
        hasValidKey(config) && (checkKeyStringCoercion(config.key), key = "" + config.key);
        for (propName in config)
          !hasOwnProperty.call(config, propName) || propName === "key" || propName === "__self" || propName === "__source" || propName === "ref" && config.ref === undefined || (props[propName] = config[propName]);
      }
      var propName = arguments.length - 2;
      if (propName === 1)
        props.children = children;
      else if (1 < propName) {
        JSCompiler_inline_result = Array(propName);
        for (var i = 0;i < propName; i++)
          JSCompiler_inline_result[i] = arguments[i + 2];
        props.children = JSCompiler_inline_result;
      }
      props = ReactElement(element.type, key, props, owner, element._debugStack, element._debugTask);
      for (key = 2;key < arguments.length; key++)
        validateChildKeys(arguments[key]);
      return props;
    };
    exports.createContext = function(defaultValue) {
      defaultValue = {
        $$typeof: REACT_CONTEXT_TYPE,
        _currentValue: defaultValue,
        _currentValue2: defaultValue,
        _threadCount: 0,
        Provider: null,
        Consumer: null
      };
      defaultValue.Provider = defaultValue;
      defaultValue.Consumer = {
        $$typeof: REACT_CONSUMER_TYPE,
        _context: defaultValue
      };
      defaultValue._currentRenderer = null;
      defaultValue._currentRenderer2 = null;
      return defaultValue;
    };
    exports.createElement = function(type, config, children) {
      for (var i = 2;i < arguments.length; i++)
        validateChildKeys(arguments[i]);
      i = {};
      var key = null;
      if (config != null)
        for (propName in didWarnAboutOldJSXRuntime || !("__self" in config) || "key" in config || (didWarnAboutOldJSXRuntime = true, console.warn("Your app (or one of its dependencies) is using an outdated JSX transform. Update to the modern JSX transform for faster performance: https://react.dev/link/new-jsx-transform")), hasValidKey(config) && (checkKeyStringCoercion(config.key), key = "" + config.key), config)
          hasOwnProperty.call(config, propName) && propName !== "key" && propName !== "__self" && propName !== "__source" && (i[propName] = config[propName]);
      var childrenLength = arguments.length - 2;
      if (childrenLength === 1)
        i.children = children;
      else if (1 < childrenLength) {
        for (var childArray = Array(childrenLength), _i = 0;_i < childrenLength; _i++)
          childArray[_i] = arguments[_i + 2];
        Object.freeze && Object.freeze(childArray);
        i.children = childArray;
      }
      if (type && type.defaultProps)
        for (propName in childrenLength = type.defaultProps, childrenLength)
          i[propName] === undefined && (i[propName] = childrenLength[propName]);
      key && defineKeyPropWarningGetter(i, typeof type === "function" ? type.displayName || type.name || "Unknown" : type);
      var propName = 1e4 > ReactSharedInternals.recentlyCreatedOwnerStacks++;
      return ReactElement(type, key, i, getOwner(), propName ? Error("react-stack-top-frame") : unknownOwnerDebugStack, propName ? createTask(getTaskName(type)) : unknownOwnerDebugTask);
    };
    exports.createRef = function() {
      var refObject = { current: null };
      Object.seal(refObject);
      return refObject;
    };
    exports.forwardRef = function(render) {
      render != null && render.$$typeof === REACT_MEMO_TYPE ? console.error("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...)).") : typeof render !== "function" ? console.error("forwardRef requires a render function but was given %s.", render === null ? "null" : typeof render) : render.length !== 0 && render.length !== 2 && console.error("forwardRef render functions accept exactly two parameters: props and ref. %s", render.length === 1 ? "Did you forget to use the ref parameter?" : "Any additional parameter will be undefined.");
      render != null && render.defaultProps != null && console.error("forwardRef render functions do not support defaultProps. Did you accidentally pass a React component?");
      var elementType = { $$typeof: REACT_FORWARD_REF_TYPE, render }, ownName;
      Object.defineProperty(elementType, "displayName", {
        enumerable: false,
        configurable: true,
        get: function() {
          return ownName;
        },
        set: function(name) {
          ownName = name;
          render.name || render.displayName || (Object.defineProperty(render, "name", { value: name }), render.displayName = name);
        }
      });
      return elementType;
    };
    exports.isValidElement = isValidElement;
    exports.lazy = function(ctor) {
      ctor = { _status: -1, _result: ctor };
      var lazyType = {
        $$typeof: REACT_LAZY_TYPE,
        _payload: ctor,
        _init: lazyInitializer
      }, ioInfo = {
        name: "lazy",
        start: -1,
        end: -1,
        value: null,
        owner: null,
        debugStack: Error("react-stack-top-frame"),
        debugTask: console.createTask ? console.createTask("lazy()") : null
      };
      ctor._ioInfo = ioInfo;
      lazyType._debugInfo = [{ awaited: ioInfo }];
      return lazyType;
    };
    exports.memo = function(type, compare) {
      type == null && console.error("memo: The first argument must be a component. Instead received: %s", type === null ? "null" : typeof type);
      compare = {
        $$typeof: REACT_MEMO_TYPE,
        type,
        compare: compare === undefined ? null : compare
      };
      var ownName;
      Object.defineProperty(compare, "displayName", {
        enumerable: false,
        configurable: true,
        get: function() {
          return ownName;
        },
        set: function(name) {
          ownName = name;
          type.name || type.displayName || (Object.defineProperty(type, "name", { value: name }), type.displayName = name);
        }
      });
      return compare;
    };
    exports.startTransition = function(scope) {
      var prevTransition = ReactSharedInternals.T, currentTransition = {};
      currentTransition._updatedFibers = new Set;
      ReactSharedInternals.T = currentTransition;
      try {
        var returnValue = scope(), onStartTransitionFinish = ReactSharedInternals.S;
        onStartTransitionFinish !== null && onStartTransitionFinish(currentTransition, returnValue);
        typeof returnValue === "object" && returnValue !== null && typeof returnValue.then === "function" && (ReactSharedInternals.asyncTransitions++, returnValue.then(releaseAsyncTransition, releaseAsyncTransition), returnValue.then(noop, reportGlobalError));
      } catch (error) {
        reportGlobalError(error);
      } finally {
        prevTransition === null && currentTransition._updatedFibers && (scope = currentTransition._updatedFibers.size, currentTransition._updatedFibers.clear(), 10 < scope && console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table.")), prevTransition !== null && currentTransition.types !== null && (prevTransition.types !== null && prevTransition.types !== currentTransition.types && console.error("We expected inner Transitions to have transferred the outer types set and that you cannot add to the outer Transition while inside the inner.This is a bug in React."), prevTransition.types = currentTransition.types), ReactSharedInternals.T = prevTransition;
      }
    };
    exports.unstable_useCacheRefresh = function() {
      return resolveDispatcher().useCacheRefresh();
    };
    exports.use = function(usable) {
      return resolveDispatcher().use(usable);
    };
    exports.useActionState = function(action, initialState, permalink) {
      return resolveDispatcher().useActionState(action, initialState, permalink);
    };
    exports.useCallback = function(callback, deps) {
      return resolveDispatcher().useCallback(callback, deps);
    };
    exports.useContext = function(Context) {
      var dispatcher = resolveDispatcher();
      Context.$$typeof === REACT_CONSUMER_TYPE && console.error("Calling useContext(Context.Consumer) is not supported and will cause bugs. Did you mean to call useContext(Context) instead?");
      return dispatcher.useContext(Context);
    };
    exports.useDebugValue = function(value, formatterFn) {
      return resolveDispatcher().useDebugValue(value, formatterFn);
    };
    exports.useDeferredValue = function(value, initialValue) {
      return resolveDispatcher().useDeferredValue(value, initialValue);
    };
    exports.useEffect = function(create, deps) {
      create == null && console.warn("React Hook useEffect requires an effect callback. Did you forget to pass a callback to the hook?");
      return resolveDispatcher().useEffect(create, deps);
    };
    exports.useEffectEvent = function(callback) {
      return resolveDispatcher().useEffectEvent(callback);
    };
    exports.useId = function() {
      return resolveDispatcher().useId();
    };
    exports.useImperativeHandle = function(ref, create, deps) {
      return resolveDispatcher().useImperativeHandle(ref, create, deps);
    };
    exports.useInsertionEffect = function(create, deps) {
      create == null && console.warn("React Hook useInsertionEffect requires an effect callback. Did you forget to pass a callback to the hook?");
      return resolveDispatcher().useInsertionEffect(create, deps);
    };
    exports.useLayoutEffect = function(create, deps) {
      create == null && console.warn("React Hook useLayoutEffect requires an effect callback. Did you forget to pass a callback to the hook?");
      return resolveDispatcher().useLayoutEffect(create, deps);
    };
    exports.useMemo = function(create, deps) {
      return resolveDispatcher().useMemo(create, deps);
    };
    exports.useOptimistic = function(passthrough, reducer) {
      return resolveDispatcher().useOptimistic(passthrough, reducer);
    };
    exports.useReducer = function(reducer, initialArg, init) {
      return resolveDispatcher().useReducer(reducer, initialArg, init);
    };
    exports.useRef = function(initialValue) {
      return resolveDispatcher().useRef(initialValue);
    };
    exports.useState = function(initialState) {
      return resolveDispatcher().useState(initialState);
    };
    exports.useSyncExternalStore = function(subscribe, getSnapshot, getServerSnapshot) {
      return resolveDispatcher().useSyncExternalStore(subscribe, getSnapshot, getServerSnapshot);
    };
    exports.useTransition = function() {
      return resolveDispatcher().useTransition();
    };
    exports.version = "19.2.0";
    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== "undefined" && typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop === "function" && __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error());
  })();
});

// node_modules/react/index.js
var require_react = __commonJS((exports, module) => {
  var react_development = __toESM(require_react_development());
  if (false) {} else {
    module.exports = react_development;
  }
});

// node_modules/react-dom/cjs/react-dom.development.js
var require_react_dom_development = __commonJS((exports) => {
  var React12 = __toESM(require_react());
  (function() {
    function noop() {}
    function testStringCoercion(value) {
      return "" + value;
    }
    function createPortal$1(children, containerInfo, implementation) {
      var key = 3 < arguments.length && arguments[3] !== undefined ? arguments[3] : null;
      try {
        testStringCoercion(key);
        var JSCompiler_inline_result = false;
      } catch (e) {
        JSCompiler_inline_result = true;
      }
      JSCompiler_inline_result && (console.error("The provided key is an unsupported type %s. This value must be coerced to a string before using it here.", typeof Symbol === "function" && Symbol.toStringTag && key[Symbol.toStringTag] || key.constructor.name || "Object"), testStringCoercion(key));
      return {
        $$typeof: REACT_PORTAL_TYPE,
        key: key == null ? null : "" + key,
        children,
        containerInfo,
        implementation
      };
    }
    function getCrossOriginStringAs(as, input) {
      if (as === "font")
        return "";
      if (typeof input === "string")
        return input === "use-credentials" ? input : "";
    }
    function getValueDescriptorExpectingObjectForWarning(thing) {
      return thing === null ? "`null`" : thing === undefined ? "`undefined`" : thing === "" ? "an empty string" : 'something with type "' + typeof thing + '"';
    }
    function getValueDescriptorExpectingEnumForWarning(thing) {
      return thing === null ? "`null`" : thing === undefined ? "`undefined`" : thing === "" ? "an empty string" : typeof thing === "string" ? JSON.stringify(thing) : typeof thing === "number" ? "`" + thing + "`" : 'something with type "' + typeof thing + '"';
    }
    function resolveDispatcher() {
      var dispatcher = ReactSharedInternals.H;
      dispatcher === null && console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`);
      return dispatcher;
    }
    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== "undefined" && typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart === "function" && __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());
    var Internals = {
      d: {
        f: noop,
        r: function() {
          throw Error("Invalid form element. requestFormReset must be passed a form that was rendered by React.");
        },
        D: noop,
        C: noop,
        L: noop,
        m: noop,
        X: noop,
        S: noop,
        M: noop
      },
      p: 0,
      findDOMNode: null
    }, REACT_PORTAL_TYPE = Symbol.for("react.portal"), ReactSharedInternals = React12.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;
    typeof Map === "function" && Map.prototype != null && typeof Map.prototype.forEach === "function" && typeof Set === "function" && Set.prototype != null && typeof Set.prototype.clear === "function" && typeof Set.prototype.forEach === "function" || console.error("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills");
    exports.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE = Internals;
    exports.createPortal = function(children, container) {
      var key = 2 < arguments.length && arguments[2] !== undefined ? arguments[2] : null;
      if (!container || container.nodeType !== 1 && container.nodeType !== 9 && container.nodeType !== 11)
        throw Error("Target container is not a DOM element.");
      return createPortal$1(children, container, null, key);
    };
    exports.flushSync = function(fn) {
      var previousTransition = ReactSharedInternals.T, previousUpdatePriority = Internals.p;
      try {
        if (ReactSharedInternals.T = null, Internals.p = 2, fn)
          return fn();
      } finally {
        ReactSharedInternals.T = previousTransition, Internals.p = previousUpdatePriority, Internals.d.f() && console.error("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task.");
      }
    };
    exports.preconnect = function(href, options) {
      typeof href === "string" && href ? options != null && typeof options !== "object" ? console.error("ReactDOM.preconnect(): Expected the `options` argument (second) to be an object but encountered %s instead. The only supported option at this time is `crossOrigin` which accepts a string.", getValueDescriptorExpectingEnumForWarning(options)) : options != null && typeof options.crossOrigin !== "string" && console.error("ReactDOM.preconnect(): Expected the `crossOrigin` option (second argument) to be a string but encountered %s instead. Try removing this option or passing a string value instead.", getValueDescriptorExpectingObjectForWarning(options.crossOrigin)) : console.error("ReactDOM.preconnect(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.", getValueDescriptorExpectingObjectForWarning(href));
      typeof href === "string" && (options ? (options = options.crossOrigin, options = typeof options === "string" ? options === "use-credentials" ? options : "" : undefined) : options = null, Internals.d.C(href, options));
    };
    exports.prefetchDNS = function(href) {
      if (typeof href !== "string" || !href)
        console.error("ReactDOM.prefetchDNS(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.", getValueDescriptorExpectingObjectForWarning(href));
      else if (1 < arguments.length) {
        var options = arguments[1];
        typeof options === "object" && options.hasOwnProperty("crossOrigin") ? console.error("ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. It looks like the you are attempting to set a crossOrigin property for this DNS lookup hint. Browsers do not perform DNS queries using CORS and setting this attribute on the resource hint has no effect. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.", getValueDescriptorExpectingEnumForWarning(options)) : console.error("ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.", getValueDescriptorExpectingEnumForWarning(options));
      }
      typeof href === "string" && Internals.d.D(href);
    };
    exports.preinit = function(href, options) {
      typeof href === "string" && href ? options == null || typeof options !== "object" ? console.error("ReactDOM.preinit(): Expected the `options` argument (second) to be an object with an `as` property describing the type of resource to be preinitialized but encountered %s instead.", getValueDescriptorExpectingEnumForWarning(options)) : options.as !== "style" && options.as !== "script" && console.error('ReactDOM.preinit(): Expected the `as` property in the `options` argument (second) to contain a valid value describing the type of resource to be preinitialized but encountered %s instead. Valid values for `as` are "style" and "script".', getValueDescriptorExpectingEnumForWarning(options.as)) : console.error("ReactDOM.preinit(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.", getValueDescriptorExpectingObjectForWarning(href));
      if (typeof href === "string" && options && typeof options.as === "string") {
        var as = options.as, crossOrigin = getCrossOriginStringAs(as, options.crossOrigin), integrity = typeof options.integrity === "string" ? options.integrity : undefined, fetchPriority = typeof options.fetchPriority === "string" ? options.fetchPriority : undefined;
        as === "style" ? Internals.d.S(href, typeof options.precedence === "string" ? options.precedence : undefined, {
          crossOrigin,
          integrity,
          fetchPriority
        }) : as === "script" && Internals.d.X(href, {
          crossOrigin,
          integrity,
          fetchPriority,
          nonce: typeof options.nonce === "string" ? options.nonce : undefined
        });
      }
    };
    exports.preinitModule = function(href, options) {
      var encountered = "";
      typeof href === "string" && href || (encountered += " The `href` argument encountered was " + getValueDescriptorExpectingObjectForWarning(href) + ".");
      options !== undefined && typeof options !== "object" ? encountered += " The `options` argument encountered was " + getValueDescriptorExpectingObjectForWarning(options) + "." : options && ("as" in options) && options.as !== "script" && (encountered += " The `as` option encountered was " + getValueDescriptorExpectingEnumForWarning(options.as) + ".");
      if (encountered)
        console.error("ReactDOM.preinitModule(): Expected up to two arguments, a non-empty `href` string and, optionally, an `options` object with a valid `as` property.%s", encountered);
      else
        switch (encountered = options && typeof options.as === "string" ? options.as : "script", encountered) {
          case "script":
            break;
          default:
            encountered = getValueDescriptorExpectingEnumForWarning(encountered), console.error('ReactDOM.preinitModule(): Currently the only supported "as" type for this function is "script" but received "%s" instead. This warning was generated for `href` "%s". In the future other module types will be supported, aligning with the import-attributes proposal. Learn more here: (https://github.com/tc39/proposal-import-attributes)', encountered, href);
        }
      if (typeof href === "string")
        if (typeof options === "object" && options !== null) {
          if (options.as == null || options.as === "script")
            encountered = getCrossOriginStringAs(options.as, options.crossOrigin), Internals.d.M(href, {
              crossOrigin: encountered,
              integrity: typeof options.integrity === "string" ? options.integrity : undefined,
              nonce: typeof options.nonce === "string" ? options.nonce : undefined
            });
        } else
          options == null && Internals.d.M(href);
    };
    exports.preload = function(href, options) {
      var encountered = "";
      typeof href === "string" && href || (encountered += " The `href` argument encountered was " + getValueDescriptorExpectingObjectForWarning(href) + ".");
      options == null || typeof options !== "object" ? encountered += " The `options` argument encountered was " + getValueDescriptorExpectingObjectForWarning(options) + "." : typeof options.as === "string" && options.as || (encountered += " The `as` option encountered was " + getValueDescriptorExpectingObjectForWarning(options.as) + ".");
      encountered && console.error('ReactDOM.preload(): Expected two arguments, a non-empty `href` string and an `options` object with an `as` property valid for a `<link rel="preload" as="..." />` tag.%s', encountered);
      if (typeof href === "string" && typeof options === "object" && options !== null && typeof options.as === "string") {
        encountered = options.as;
        var crossOrigin = getCrossOriginStringAs(encountered, options.crossOrigin);
        Internals.d.L(href, encountered, {
          crossOrigin,
          integrity: typeof options.integrity === "string" ? options.integrity : undefined,
          nonce: typeof options.nonce === "string" ? options.nonce : undefined,
          type: typeof options.type === "string" ? options.type : undefined,
          fetchPriority: typeof options.fetchPriority === "string" ? options.fetchPriority : undefined,
          referrerPolicy: typeof options.referrerPolicy === "string" ? options.referrerPolicy : undefined,
          imageSrcSet: typeof options.imageSrcSet === "string" ? options.imageSrcSet : undefined,
          imageSizes: typeof options.imageSizes === "string" ? options.imageSizes : undefined,
          media: typeof options.media === "string" ? options.media : undefined
        });
      }
    };
    exports.preloadModule = function(href, options) {
      var encountered = "";
      typeof href === "string" && href || (encountered += " The `href` argument encountered was " + getValueDescriptorExpectingObjectForWarning(href) + ".");
      options !== undefined && typeof options !== "object" ? encountered += " The `options` argument encountered was " + getValueDescriptorExpectingObjectForWarning(options) + "." : options && ("as" in options) && typeof options.as !== "string" && (encountered += " The `as` option encountered was " + getValueDescriptorExpectingObjectForWarning(options.as) + ".");
      encountered && console.error('ReactDOM.preloadModule(): Expected two arguments, a non-empty `href` string and, optionally, an `options` object with an `as` property valid for a `<link rel="modulepreload" as="..." />` tag.%s', encountered);
      typeof href === "string" && (options ? (encountered = getCrossOriginStringAs(options.as, options.crossOrigin), Internals.d.m(href, {
        as: typeof options.as === "string" && options.as !== "script" ? options.as : undefined,
        crossOrigin: encountered,
        integrity: typeof options.integrity === "string" ? options.integrity : undefined
      })) : Internals.d.m(href));
    };
    exports.requestFormReset = function(form) {
      Internals.d.r(form);
    };
    exports.unstable_batchedUpdates = function(fn, a) {
      return fn(a);
    };
    exports.useFormState = function(action, initialState, permalink) {
      return resolveDispatcher().useFormState(action, initialState, permalink);
    };
    exports.useFormStatus = function() {
      return resolveDispatcher().useHostTransitionStatus();
    };
    exports.version = "19.2.0";
    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== "undefined" && typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop === "function" && __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error());
  })();
});

// node_modules/react-dom/index.js
var require_react_dom = __commonJS((exports, module) => {
  var react_dom_development = __toESM(require_react_dom_development());
  if (false) {} else {
    module.exports = react_dom_development;
  }
});

// node_modules/prop-types/node_modules/react-is/cjs/react-is.development.js
var require_react_is_development = __commonJS((exports) => {
  if (true) {
    (function() {
      var hasSymbol = typeof Symbol === "function" && Symbol.for;
      var REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for("react.element") : 60103;
      var REACT_PORTAL_TYPE = hasSymbol ? Symbol.for("react.portal") : 60106;
      var REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for("react.fragment") : 60107;
      var REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for("react.strict_mode") : 60108;
      var REACT_PROFILER_TYPE = hasSymbol ? Symbol.for("react.profiler") : 60114;
      var REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for("react.provider") : 60109;
      var REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for("react.context") : 60110;
      var REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for("react.async_mode") : 60111;
      var REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for("react.concurrent_mode") : 60111;
      var REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for("react.forward_ref") : 60112;
      var REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for("react.suspense") : 60113;
      var REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for("react.suspense_list") : 60120;
      var REACT_MEMO_TYPE = hasSymbol ? Symbol.for("react.memo") : 60115;
      var REACT_LAZY_TYPE = hasSymbol ? Symbol.for("react.lazy") : 60116;
      var REACT_BLOCK_TYPE = hasSymbol ? Symbol.for("react.block") : 60121;
      var REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for("react.fundamental") : 60117;
      var REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for("react.responder") : 60118;
      var REACT_SCOPE_TYPE = hasSymbol ? Symbol.for("react.scope") : 60119;
      function isValidElementType(type) {
        return typeof type === "string" || typeof type === "function" || type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === "object" && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);
      }
      function typeOf(object) {
        if (typeof object === "object" && object !== null) {
          var $$typeof = object.$$typeof;
          switch ($$typeof) {
            case REACT_ELEMENT_TYPE:
              var type = object.type;
              switch (type) {
                case REACT_ASYNC_MODE_TYPE:
                case REACT_CONCURRENT_MODE_TYPE:
                case REACT_FRAGMENT_TYPE:
                case REACT_PROFILER_TYPE:
                case REACT_STRICT_MODE_TYPE:
                case REACT_SUSPENSE_TYPE:
                  return type;
                default:
                  var $$typeofType = type && type.$$typeof;
                  switch ($$typeofType) {
                    case REACT_CONTEXT_TYPE:
                    case REACT_FORWARD_REF_TYPE:
                    case REACT_LAZY_TYPE:
                    case REACT_MEMO_TYPE:
                    case REACT_PROVIDER_TYPE:
                      return $$typeofType;
                    default:
                      return $$typeof;
                  }
              }
            case REACT_PORTAL_TYPE:
              return $$typeof;
          }
        }
        return;
      }
      var AsyncMode = REACT_ASYNC_MODE_TYPE;
      var ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;
      var ContextConsumer = REACT_CONTEXT_TYPE;
      var ContextProvider = REACT_PROVIDER_TYPE;
      var Element2 = REACT_ELEMENT_TYPE;
      var ForwardRef = REACT_FORWARD_REF_TYPE;
      var Fragment8 = REACT_FRAGMENT_TYPE;
      var Lazy = REACT_LAZY_TYPE;
      var Memo = REACT_MEMO_TYPE;
      var Portal = REACT_PORTAL_TYPE;
      var Profiler = REACT_PROFILER_TYPE;
      var StrictMode = REACT_STRICT_MODE_TYPE;
      var Suspense2 = REACT_SUSPENSE_TYPE;
      var hasWarnedAboutDeprecatedIsAsyncMode = false;
      function isAsyncMode(object) {
        {
          if (!hasWarnedAboutDeprecatedIsAsyncMode) {
            hasWarnedAboutDeprecatedIsAsyncMode = true;
            console["warn"]("The ReactIs.isAsyncMode() alias has been deprecated, " + "and will be removed in React 17+. Update your code to use " + "ReactIs.isConcurrentMode() instead. It has the exact same API.");
          }
        }
        return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;
      }
      function isConcurrentMode(object) {
        return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;
      }
      function isContextConsumer(object) {
        return typeOf(object) === REACT_CONTEXT_TYPE;
      }
      function isContextProvider(object) {
        return typeOf(object) === REACT_PROVIDER_TYPE;
      }
      function isElement(object) {
        return typeof object === "object" && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;
      }
      function isForwardRef(object) {
        return typeOf(object) === REACT_FORWARD_REF_TYPE;
      }
      function isFragment(object) {
        return typeOf(object) === REACT_FRAGMENT_TYPE;
      }
      function isLazy(object) {
        return typeOf(object) === REACT_LAZY_TYPE;
      }
      function isMemo(object) {
        return typeOf(object) === REACT_MEMO_TYPE;
      }
      function isPortal(object) {
        return typeOf(object) === REACT_PORTAL_TYPE;
      }
      function isProfiler(object) {
        return typeOf(object) === REACT_PROFILER_TYPE;
      }
      function isStrictMode(object) {
        return typeOf(object) === REACT_STRICT_MODE_TYPE;
      }
      function isSuspense(object) {
        return typeOf(object) === REACT_SUSPENSE_TYPE;
      }
      exports.AsyncMode = AsyncMode;
      exports.ConcurrentMode = ConcurrentMode;
      exports.ContextConsumer = ContextConsumer;
      exports.ContextProvider = ContextProvider;
      exports.Element = Element2;
      exports.ForwardRef = ForwardRef;
      exports.Fragment = Fragment8;
      exports.Lazy = Lazy;
      exports.Memo = Memo;
      exports.Portal = Portal;
      exports.Profiler = Profiler;
      exports.StrictMode = StrictMode;
      exports.Suspense = Suspense2;
      exports.isAsyncMode = isAsyncMode;
      exports.isConcurrentMode = isConcurrentMode;
      exports.isContextConsumer = isContextConsumer;
      exports.isContextProvider = isContextProvider;
      exports.isElement = isElement;
      exports.isForwardRef = isForwardRef;
      exports.isFragment = isFragment;
      exports.isLazy = isLazy;
      exports.isMemo = isMemo;
      exports.isPortal = isPortal;
      exports.isProfiler = isProfiler;
      exports.isStrictMode = isStrictMode;
      exports.isSuspense = isSuspense;
      exports.isValidElementType = isValidElementType;
      exports.typeOf = typeOf;
    })();
  }
});

// node_modules/prop-types/node_modules/react-is/index.js
var require_react_is = __commonJS((exports, module) => {
  var react_is_development = __toESM(require_react_is_development());
  if (false) {} else {
    module.exports = react_is_development;
  }
});

// node_modules/object-assign/index.js
var require_object_assign = __commonJS((exports, module) => {
  var getOwnPropertySymbols = Object.getOwnPropertySymbols;
  var hasOwnProperty = Object.prototype.hasOwnProperty;
  var propIsEnumerable = Object.prototype.propertyIsEnumerable;
  function toObject(val) {
    if (val === null || val === undefined) {
      throw new TypeError("Object.assign cannot be called with null or undefined");
    }
    return Object(val);
  }
  function shouldUseNative() {
    try {
      if (!Object.assign) {
        return false;
      }
      var test1 = new String("abc");
      test1[5] = "de";
      if (Object.getOwnPropertyNames(test1)[0] === "5") {
        return false;
      }
      var test2 = {};
      for (var i = 0;i < 10; i++) {
        test2["_" + String.fromCharCode(i)] = i;
      }
      var order2 = Object.getOwnPropertyNames(test2).map(function(n) {
        return test2[n];
      });
      if (order2.join("") !== "0123456789") {
        return false;
      }
      var test3 = {};
      "abcdefghijklmnopqrst".split("").forEach(function(letter) {
        test3[letter] = letter;
      });
      if (Object.keys(Object.assign({}, test3)).join("") !== "abcdefghijklmnopqrst") {
        return false;
      }
      return true;
    } catch (err) {
      return false;
    }
  }
  module.exports = shouldUseNative() ? Object.assign : function(target, source) {
    var from;
    var to = toObject(target);
    var symbols;
    for (var s = 1;s < arguments.length; s++) {
      from = Object(arguments[s]);
      for (var key in from) {
        if (hasOwnProperty.call(from, key)) {
          to[key] = from[key];
        }
      }
      if (getOwnPropertySymbols) {
        symbols = getOwnPropertySymbols(from);
        for (var i = 0;i < symbols.length; i++) {
          if (propIsEnumerable.call(from, symbols[i])) {
            to[symbols[i]] = from[symbols[i]];
          }
        }
      }
    }
    return to;
  };
});

// node_modules/prop-types/lib/ReactPropTypesSecret.js
var require_ReactPropTypesSecret = __commonJS((exports, module) => {
  var ReactPropTypesSecret = "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";
  module.exports = ReactPropTypesSecret;
});

// node_modules/prop-types/lib/has.js
var require_has = __commonJS((exports, module) => {
  module.exports = Function.call.bind(Object.prototype.hasOwnProperty);
});

// node_modules/prop-types/checkPropTypes.js
var require_checkPropTypes = __commonJS((exports, module) => {
  var printWarning = function() {};
  if (true) {
    ReactPropTypesSecret = require_ReactPropTypesSecret();
    loggedTypeFailures = {};
    has = require_has();
    printWarning = function(text) {
      var message = "Warning: " + text;
      if (typeof console !== "undefined") {
        console.error(message);
      }
      try {
        throw new Error(message);
      } catch (x) {}
    };
  }
  var ReactPropTypesSecret;
  var loggedTypeFailures;
  var has;
  function checkPropTypes(typeSpecs, values, location2, componentName, getStack) {
    if (true) {
      for (var typeSpecName in typeSpecs) {
        if (has(typeSpecs, typeSpecName)) {
          var error;
          try {
            if (typeof typeSpecs[typeSpecName] !== "function") {
              var err = Error((componentName || "React class") + ": " + location2 + " type `" + typeSpecName + "` is invalid; " + "it must be a function, usually from the `prop-types` package, but received `" + typeof typeSpecs[typeSpecName] + "`." + "This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");
              err.name = "Invariant Violation";
              throw err;
            }
            error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location2, null, ReactPropTypesSecret);
          } catch (ex) {
            error = ex;
          }
          if (error && !(error instanceof Error)) {
            printWarning((componentName || "React class") + ": type specification of " + location2 + " `" + typeSpecName + "` is invalid; the type checker " + "function must return `null` or an `Error` but returned a " + typeof error + ". " + "You may have forgotten to pass an argument to the type checker " + "creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and " + "shape all require an argument).");
          }
          if (error instanceof Error && !(error.message in loggedTypeFailures)) {
            loggedTypeFailures[error.message] = true;
            var stack = getStack ? getStack() : "";
            printWarning("Failed " + location2 + " type: " + error.message + (stack != null ? stack : ""));
          }
        }
      }
    }
  }
  checkPropTypes.resetWarningCache = function() {
    if (true) {
      loggedTypeFailures = {};
    }
  };
  module.exports = checkPropTypes;
});

// node_modules/prop-types/factoryWithTypeCheckers.js
var require_factoryWithTypeCheckers = __commonJS((exports, module) => {
  var ReactIs = __toESM(require_react_is());
  var assign = require_object_assign();
  var ReactPropTypesSecret = require_ReactPropTypesSecret();
  var has = require_has();
  var checkPropTypes = require_checkPropTypes();
  var printWarning = function() {};
  if (true) {
    printWarning = function(text) {
      var message = "Warning: " + text;
      if (typeof console !== "undefined") {
        console.error(message);
      }
      try {
        throw new Error(message);
      } catch (x) {}
    };
  }
  function emptyFunctionThatReturnsNull() {
    return null;
  }
  module.exports = function(isValidElement2, throwOnDirectAccess) {
    var ITERATOR_SYMBOL = typeof Symbol === "function" && Symbol.iterator;
    var FAUX_ITERATOR_SYMBOL = "@@iterator";
    function getIteratorFn(maybeIterable) {
      var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);
      if (typeof iteratorFn === "function") {
        return iteratorFn;
      }
    }
    var ANONYMOUS = "<<anonymous>>";
    var ReactPropTypes = {
      array: createPrimitiveTypeChecker("array"),
      bigint: createPrimitiveTypeChecker("bigint"),
      bool: createPrimitiveTypeChecker("boolean"),
      func: createPrimitiveTypeChecker("function"),
      number: createPrimitiveTypeChecker("number"),
      object: createPrimitiveTypeChecker("object"),
      string: createPrimitiveTypeChecker("string"),
      symbol: createPrimitiveTypeChecker("symbol"),
      any: createAnyTypeChecker(),
      arrayOf: createArrayOfTypeChecker,
      element: createElementTypeChecker(),
      elementType: createElementTypeTypeChecker(),
      instanceOf: createInstanceTypeChecker,
      node: createNodeChecker(),
      objectOf: createObjectOfTypeChecker,
      oneOf: createEnumTypeChecker,
      oneOfType: createUnionTypeChecker,
      shape: createShapeTypeChecker,
      exact: createStrictShapeTypeChecker
    };
    function is(x, y) {
      if (x === y) {
        return x !== 0 || 1 / x === 1 / y;
      } else {
        return x !== x && y !== y;
      }
    }
    function PropTypeError(message, data2) {
      this.message = message;
      this.data = data2 && typeof data2 === "object" ? data2 : {};
      this.stack = "";
    }
    PropTypeError.prototype = Error.prototype;
    function createChainableTypeChecker(validate) {
      if (true) {
        var manualPropTypeCallCache = {};
        var manualPropTypeWarningCount = 0;
      }
      function checkType(isRequired, props, propName, componentName, location2, propFullName, secret) {
        componentName = componentName || ANONYMOUS;
        propFullName = propFullName || propName;
        if (secret !== ReactPropTypesSecret) {
          if (throwOnDirectAccess) {
            var err = new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. " + "Use `PropTypes.checkPropTypes()` to call them. " + "Read more at http://fb.me/use-check-prop-types");
            err.name = "Invariant Violation";
            throw err;
          } else if (typeof console !== "undefined") {
            var cacheKey = componentName + ":" + propName;
            if (!manualPropTypeCallCache[cacheKey] && manualPropTypeWarningCount < 3) {
              printWarning("You are manually calling a React.PropTypes validation " + "function for the `" + propFullName + "` prop on `" + componentName + "`. This is deprecated " + "and will throw in the standalone `prop-types` package. " + "You may be seeing this warning due to a third-party PropTypes " + "library. See https://fb.me/react-warning-dont-call-proptypes " + "for details.");
              manualPropTypeCallCache[cacheKey] = true;
              manualPropTypeWarningCount++;
            }
          }
        }
        if (props[propName] == null) {
          if (isRequired) {
            if (props[propName] === null) {
              return new PropTypeError("The " + location2 + " `" + propFullName + "` is marked as required " + ("in `" + componentName + "`, but its value is `null`."));
            }
            return new PropTypeError("The " + location2 + " `" + propFullName + "` is marked as required in " + ("`" + componentName + "`, but its value is `undefined`."));
          }
          return null;
        } else {
          return validate(props, propName, componentName, location2, propFullName);
        }
      }
      var chainedCheckType = checkType.bind(null, false);
      chainedCheckType.isRequired = checkType.bind(null, true);
      return chainedCheckType;
    }
    function createPrimitiveTypeChecker(expectedType) {
      function validate(props, propName, componentName, location2, propFullName, secret) {
        var propValue = props[propName];
        var propType = getPropType(propValue);
        if (propType !== expectedType) {
          var preciseType = getPreciseType(propValue);
          return new PropTypeError("Invalid " + location2 + " `" + propFullName + "` of type " + ("`" + preciseType + "` supplied to `" + componentName + "`, expected ") + ("`" + expectedType + "`."), { expectedType });
        }
        return null;
      }
      return createChainableTypeChecker(validate);
    }
    function createAnyTypeChecker() {
      return createChainableTypeChecker(emptyFunctionThatReturnsNull);
    }
    function createArrayOfTypeChecker(typeChecker) {
      function validate(props, propName, componentName, location2, propFullName) {
        if (typeof typeChecker !== "function") {
          return new PropTypeError("Property `" + propFullName + "` of component `" + componentName + "` has invalid PropType notation inside arrayOf.");
        }
        var propValue = props[propName];
        if (!Array.isArray(propValue)) {
          var propType = getPropType(propValue);
          return new PropTypeError("Invalid " + location2 + " `" + propFullName + "` of type " + ("`" + propType + "` supplied to `" + componentName + "`, expected an array."));
        }
        for (var i = 0;i < propValue.length; i++) {
          var error = typeChecker(propValue, i, componentName, location2, propFullName + "[" + i + "]", ReactPropTypesSecret);
          if (error instanceof Error) {
            return error;
          }
        }
        return null;
      }
      return createChainableTypeChecker(validate);
    }
    function createElementTypeChecker() {
      function validate(props, propName, componentName, location2, propFullName) {
        var propValue = props[propName];
        if (!isValidElement2(propValue)) {
          var propType = getPropType(propValue);
          return new PropTypeError("Invalid " + location2 + " `" + propFullName + "` of type " + ("`" + propType + "` supplied to `" + componentName + "`, expected a single ReactElement."));
        }
        return null;
      }
      return createChainableTypeChecker(validate);
    }
    function createElementTypeTypeChecker() {
      function validate(props, propName, componentName, location2, propFullName) {
        var propValue = props[propName];
        if (!ReactIs.isValidElementType(propValue)) {
          var propType = getPropType(propValue);
          return new PropTypeError("Invalid " + location2 + " `" + propFullName + "` of type " + ("`" + propType + "` supplied to `" + componentName + "`, expected a single ReactElement type."));
        }
        return null;
      }
      return createChainableTypeChecker(validate);
    }
    function createInstanceTypeChecker(expectedClass) {
      function validate(props, propName, componentName, location2, propFullName) {
        if (!(props[propName] instanceof expectedClass)) {
          var expectedClassName = expectedClass.name || ANONYMOUS;
          var actualClassName = getClassName(props[propName]);
          return new PropTypeError("Invalid " + location2 + " `" + propFullName + "` of type " + ("`" + actualClassName + "` supplied to `" + componentName + "`, expected ") + ("instance of `" + expectedClassName + "`."));
        }
        return null;
      }
      return createChainableTypeChecker(validate);
    }
    function createEnumTypeChecker(expectedValues) {
      if (!Array.isArray(expectedValues)) {
        if (true) {
          if (arguments.length > 1) {
            printWarning("Invalid arguments supplied to oneOf, expected an array, got " + arguments.length + " arguments. " + "A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).");
          } else {
            printWarning("Invalid argument supplied to oneOf, expected an array.");
          }
        }
        return emptyFunctionThatReturnsNull;
      }
      function validate(props, propName, componentName, location2, propFullName) {
        var propValue = props[propName];
        for (var i = 0;i < expectedValues.length; i++) {
          if (is(propValue, expectedValues[i])) {
            return null;
          }
        }
        var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {
          var type = getPreciseType(value);
          if (type === "symbol") {
            return String(value);
          }
          return value;
        });
        return new PropTypeError("Invalid " + location2 + " `" + propFullName + "` of value `" + String(propValue) + "` " + ("supplied to `" + componentName + "`, expected one of " + valuesString + "."));
      }
      return createChainableTypeChecker(validate);
    }
    function createObjectOfTypeChecker(typeChecker) {
      function validate(props, propName, componentName, location2, propFullName) {
        if (typeof typeChecker !== "function") {
          return new PropTypeError("Property `" + propFullName + "` of component `" + componentName + "` has invalid PropType notation inside objectOf.");
        }
        var propValue = props[propName];
        var propType = getPropType(propValue);
        if (propType !== "object") {
          return new PropTypeError("Invalid " + location2 + " `" + propFullName + "` of type " + ("`" + propType + "` supplied to `" + componentName + "`, expected an object."));
        }
        for (var key in propValue) {
          if (has(propValue, key)) {
            var error = typeChecker(propValue, key, componentName, location2, propFullName + "." + key, ReactPropTypesSecret);
            if (error instanceof Error) {
              return error;
            }
          }
        }
        return null;
      }
      return createChainableTypeChecker(validate);
    }
    function createUnionTypeChecker(arrayOfTypeCheckers) {
      if (!Array.isArray(arrayOfTypeCheckers)) {
        printWarning("Invalid argument supplied to oneOfType, expected an instance of array.");
        return emptyFunctionThatReturnsNull;
      }
      for (var i = 0;i < arrayOfTypeCheckers.length; i++) {
        var checker = arrayOfTypeCheckers[i];
        if (typeof checker !== "function") {
          printWarning("Invalid argument supplied to oneOfType. Expected an array of check functions, but " + "received " + getPostfixForTypeWarning(checker) + " at index " + i + ".");
          return emptyFunctionThatReturnsNull;
        }
      }
      function validate(props, propName, componentName, location2, propFullName) {
        var expectedTypes = [];
        for (var i2 = 0;i2 < arrayOfTypeCheckers.length; i2++) {
          var checker2 = arrayOfTypeCheckers[i2];
          var checkerResult = checker2(props, propName, componentName, location2, propFullName, ReactPropTypesSecret);
          if (checkerResult == null) {
            return null;
          }
          if (checkerResult.data && has(checkerResult.data, "expectedType")) {
            expectedTypes.push(checkerResult.data.expectedType);
          }
        }
        var expectedTypesMessage = expectedTypes.length > 0 ? ", expected one of type [" + expectedTypes.join(", ") + "]" : "";
        return new PropTypeError("Invalid " + location2 + " `" + propFullName + "` supplied to " + ("`" + componentName + "`" + expectedTypesMessage + "."));
      }
      return createChainableTypeChecker(validate);
    }
    function createNodeChecker() {
      function validate(props, propName, componentName, location2, propFullName) {
        if (!isNode(props[propName])) {
          return new PropTypeError("Invalid " + location2 + " `" + propFullName + "` supplied to " + ("`" + componentName + "`, expected a ReactNode."));
        }
        return null;
      }
      return createChainableTypeChecker(validate);
    }
    function invalidValidatorError(componentName, location2, propFullName, key, type) {
      return new PropTypeError((componentName || "React class") + ": " + location2 + " type `" + propFullName + "." + key + "` is invalid; " + "it must be a function, usually from the `prop-types` package, but received `" + type + "`.");
    }
    function createShapeTypeChecker(shapeTypes) {
      function validate(props, propName, componentName, location2, propFullName) {
        var propValue = props[propName];
        var propType = getPropType(propValue);
        if (propType !== "object") {
          return new PropTypeError("Invalid " + location2 + " `" + propFullName + "` of type `" + propType + "` " + ("supplied to `" + componentName + "`, expected `object`."));
        }
        for (var key in shapeTypes) {
          var checker = shapeTypes[key];
          if (typeof checker !== "function") {
            return invalidValidatorError(componentName, location2, propFullName, key, getPreciseType(checker));
          }
          var error = checker(propValue, key, componentName, location2, propFullName + "." + key, ReactPropTypesSecret);
          if (error) {
            return error;
          }
        }
        return null;
      }
      return createChainableTypeChecker(validate);
    }
    function createStrictShapeTypeChecker(shapeTypes) {
      function validate(props, propName, componentName, location2, propFullName) {
        var propValue = props[propName];
        var propType = getPropType(propValue);
        if (propType !== "object") {
          return new PropTypeError("Invalid " + location2 + " `" + propFullName + "` of type `" + propType + "` " + ("supplied to `" + componentName + "`, expected `object`."));
        }
        var allKeys = assign({}, props[propName], shapeTypes);
        for (var key in allKeys) {
          var checker = shapeTypes[key];
          if (has(shapeTypes, key) && typeof checker !== "function") {
            return invalidValidatorError(componentName, location2, propFullName, key, getPreciseType(checker));
          }
          if (!checker) {
            return new PropTypeError("Invalid " + location2 + " `" + propFullName + "` key `" + key + "` supplied to `" + componentName + "`." + `
Bad object: ` + JSON.stringify(props[propName], null, "  ") + `
Valid keys: ` + JSON.stringify(Object.keys(shapeTypes), null, "  "));
          }
          var error = checker(propValue, key, componentName, location2, propFullName + "." + key, ReactPropTypesSecret);
          if (error) {
            return error;
          }
        }
        return null;
      }
      return createChainableTypeChecker(validate);
    }
    function isNode(propValue) {
      switch (typeof propValue) {
        case "number":
        case "string":
        case "undefined":
          return true;
        case "boolean":
          return !propValue;
        case "object":
          if (Array.isArray(propValue)) {
            return propValue.every(isNode);
          }
          if (propValue === null || isValidElement2(propValue)) {
            return true;
          }
          var iteratorFn = getIteratorFn(propValue);
          if (iteratorFn) {
            var iterator = iteratorFn.call(propValue);
            var step;
            if (iteratorFn !== propValue.entries) {
              while (!(step = iterator.next()).done) {
                if (!isNode(step.value)) {
                  return false;
                }
              }
            } else {
              while (!(step = iterator.next()).done) {
                var entry = step.value;
                if (entry) {
                  if (!isNode(entry[1])) {
                    return false;
                  }
                }
              }
            }
          } else {
            return false;
          }
          return true;
        default:
          return false;
      }
    }
    function isSymbol(propType, propValue) {
      if (propType === "symbol") {
        return true;
      }
      if (!propValue) {
        return false;
      }
      if (propValue["@@toStringTag"] === "Symbol") {
        return true;
      }
      if (typeof Symbol === "function" && propValue instanceof Symbol) {
        return true;
      }
      return false;
    }
    function getPropType(propValue) {
      var propType = typeof propValue;
      if (Array.isArray(propValue)) {
        return "array";
      }
      if (propValue instanceof RegExp) {
        return "object";
      }
      if (isSymbol(propType, propValue)) {
        return "symbol";
      }
      return propType;
    }
    function getPreciseType(propValue) {
      if (typeof propValue === "undefined" || propValue === null) {
        return "" + propValue;
      }
      var propType = getPropType(propValue);
      if (propType === "object") {
        if (propValue instanceof Date) {
          return "date";
        } else if (propValue instanceof RegExp) {
          return "regexp";
        }
      }
      return propType;
    }
    function getPostfixForTypeWarning(value) {
      var type = getPreciseType(value);
      switch (type) {
        case "array":
        case "object":
          return "an " + type;
        case "boolean":
        case "date":
        case "regexp":
          return "a " + type;
        default:
          return type;
      }
    }
    function getClassName(propValue) {
      if (!propValue.constructor || !propValue.constructor.name) {
        return ANONYMOUS;
      }
      return propValue.constructor.name;
    }
    ReactPropTypes.checkPropTypes = checkPropTypes;
    ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;
    ReactPropTypes.PropTypes = ReactPropTypes;
    return ReactPropTypes;
  };
});

// node_modules/prop-types/index.js
var require_prop_types = __commonJS((exports, module) => {
  var ReactIs = __toESM(require_react_is());
  if (true) {
    throwOnDirectAccess = true;
    module.exports = require_factoryWithTypeCheckers()(ReactIs.isElement, throwOnDirectAccess);
  } else {}
  var throwOnDirectAccess;
});

// node_modules/react-is/cjs/react-is.development.js
var require_react_is_development2 = __commonJS((exports) => {
  (function() {
    function typeOf(object) {
      if (typeof object === "object" && object !== null) {
        var $$typeof = object.$$typeof;
        switch ($$typeof) {
          case REACT_ELEMENT_TYPE:
            switch (object = object.type, object) {
              case REACT_FRAGMENT_TYPE:
              case REACT_PROFILER_TYPE:
              case REACT_STRICT_MODE_TYPE:
              case REACT_SUSPENSE_TYPE:
              case REACT_SUSPENSE_LIST_TYPE:
              case REACT_VIEW_TRANSITION_TYPE:
                return object;
              default:
                switch (object = object && object.$$typeof, object) {
                  case REACT_CONTEXT_TYPE:
                  case REACT_FORWARD_REF_TYPE:
                  case REACT_LAZY_TYPE:
                  case REACT_MEMO_TYPE:
                    return object;
                  case REACT_CONSUMER_TYPE:
                    return object;
                  default:
                    return $$typeof;
                }
            }
          case REACT_PORTAL_TYPE:
            return $$typeof;
        }
      }
    }
    var REACT_ELEMENT_TYPE = Symbol.for("react.transitional.element"), REACT_PORTAL_TYPE = Symbol.for("react.portal"), REACT_FRAGMENT_TYPE = Symbol.for("react.fragment"), REACT_STRICT_MODE_TYPE = Symbol.for("react.strict_mode"), REACT_PROFILER_TYPE = Symbol.for("react.profiler"), REACT_CONSUMER_TYPE = Symbol.for("react.consumer"), REACT_CONTEXT_TYPE = Symbol.for("react.context"), REACT_FORWARD_REF_TYPE = Symbol.for("react.forward_ref"), REACT_SUSPENSE_TYPE = Symbol.for("react.suspense"), REACT_SUSPENSE_LIST_TYPE = Symbol.for("react.suspense_list"), REACT_MEMO_TYPE = Symbol.for("react.memo"), REACT_LAZY_TYPE = Symbol.for("react.lazy"), REACT_VIEW_TRANSITION_TYPE = Symbol.for("react.view_transition"), REACT_CLIENT_REFERENCE = Symbol.for("react.client.reference");
    exports.ContextConsumer = REACT_CONSUMER_TYPE;
    exports.ContextProvider = REACT_CONTEXT_TYPE;
    exports.Element = REACT_ELEMENT_TYPE;
    exports.ForwardRef = REACT_FORWARD_REF_TYPE;
    exports.Fragment = REACT_FRAGMENT_TYPE;
    exports.Lazy = REACT_LAZY_TYPE;
    exports.Memo = REACT_MEMO_TYPE;
    exports.Portal = REACT_PORTAL_TYPE;
    exports.Profiler = REACT_PROFILER_TYPE;
    exports.StrictMode = REACT_STRICT_MODE_TYPE;
    exports.Suspense = REACT_SUSPENSE_TYPE;
    exports.SuspenseList = REACT_SUSPENSE_LIST_TYPE;
    exports.isContextConsumer = function(object) {
      return typeOf(object) === REACT_CONSUMER_TYPE;
    };
    exports.isContextProvider = function(object) {
      return typeOf(object) === REACT_CONTEXT_TYPE;
    };
    exports.isElement = function(object) {
      return typeof object === "object" && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;
    };
    exports.isForwardRef = function(object) {
      return typeOf(object) === REACT_FORWARD_REF_TYPE;
    };
    exports.isFragment = function(object) {
      return typeOf(object) === REACT_FRAGMENT_TYPE;
    };
    exports.isLazy = function(object) {
      return typeOf(object) === REACT_LAZY_TYPE;
    };
    exports.isMemo = function(object) {
      return typeOf(object) === REACT_MEMO_TYPE;
    };
    exports.isPortal = function(object) {
      return typeOf(object) === REACT_PORTAL_TYPE;
    };
    exports.isProfiler = function(object) {
      return typeOf(object) === REACT_PROFILER_TYPE;
    };
    exports.isStrictMode = function(object) {
      return typeOf(object) === REACT_STRICT_MODE_TYPE;
    };
    exports.isSuspense = function(object) {
      return typeOf(object) === REACT_SUSPENSE_TYPE;
    };
    exports.isSuspenseList = function(object) {
      return typeOf(object) === REACT_SUSPENSE_LIST_TYPE;
    };
    exports.isValidElementType = function(type) {
      return typeof type === "string" || typeof type === "function" || type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === "object" && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_CONSUMER_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_CLIENT_REFERENCE || type.getModuleId !== undefined) ? true : false;
    };
    exports.typeOf = typeOf;
  })();
});

// node_modules/react-is/index.js
var require_react_is2 = __commonJS((exports, module) => {
  var react_is_development = __toESM(require_react_is_development2());
  if (false) {} else {
    module.exports = react_is_development;
  }
});

// node_modules/hoist-non-react-statics/node_modules/react-is/cjs/react-is.development.js
var require_react_is_development3 = __commonJS((exports) => {
  if (true) {
    (function() {
      var hasSymbol = typeof Symbol === "function" && Symbol.for;
      var REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for("react.element") : 60103;
      var REACT_PORTAL_TYPE = hasSymbol ? Symbol.for("react.portal") : 60106;
      var REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for("react.fragment") : 60107;
      var REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for("react.strict_mode") : 60108;
      var REACT_PROFILER_TYPE = hasSymbol ? Symbol.for("react.profiler") : 60114;
      var REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for("react.provider") : 60109;
      var REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for("react.context") : 60110;
      var REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for("react.async_mode") : 60111;
      var REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for("react.concurrent_mode") : 60111;
      var REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for("react.forward_ref") : 60112;
      var REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for("react.suspense") : 60113;
      var REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for("react.suspense_list") : 60120;
      var REACT_MEMO_TYPE = hasSymbol ? Symbol.for("react.memo") : 60115;
      var REACT_LAZY_TYPE = hasSymbol ? Symbol.for("react.lazy") : 60116;
      var REACT_BLOCK_TYPE = hasSymbol ? Symbol.for("react.block") : 60121;
      var REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for("react.fundamental") : 60117;
      var REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for("react.responder") : 60118;
      var REACT_SCOPE_TYPE = hasSymbol ? Symbol.for("react.scope") : 60119;
      function isValidElementType2(type) {
        return typeof type === "string" || typeof type === "function" || type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === "object" && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);
      }
      function typeOf(object) {
        if (typeof object === "object" && object !== null) {
          var $$typeof = object.$$typeof;
          switch ($$typeof) {
            case REACT_ELEMENT_TYPE:
              var type = object.type;
              switch (type) {
                case REACT_ASYNC_MODE_TYPE:
                case REACT_CONCURRENT_MODE_TYPE:
                case REACT_FRAGMENT_TYPE:
                case REACT_PROFILER_TYPE:
                case REACT_STRICT_MODE_TYPE:
                case REACT_SUSPENSE_TYPE:
                  return type;
                default:
                  var $$typeofType = type && type.$$typeof;
                  switch ($$typeofType) {
                    case REACT_CONTEXT_TYPE:
                    case REACT_FORWARD_REF_TYPE:
                    case REACT_LAZY_TYPE:
                    case REACT_MEMO_TYPE:
                    case REACT_PROVIDER_TYPE:
                      return $$typeofType;
                    default:
                      return $$typeof;
                  }
              }
            case REACT_PORTAL_TYPE:
              return $$typeof;
          }
        }
        return;
      }
      var AsyncMode = REACT_ASYNC_MODE_TYPE;
      var ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;
      var ContextConsumer = REACT_CONTEXT_TYPE;
      var ContextProvider = REACT_PROVIDER_TYPE;
      var Element2 = REACT_ELEMENT_TYPE;
      var ForwardRef = REACT_FORWARD_REF_TYPE;
      var Fragment8 = REACT_FRAGMENT_TYPE;
      var Lazy = REACT_LAZY_TYPE;
      var Memo = REACT_MEMO_TYPE;
      var Portal = REACT_PORTAL_TYPE;
      var Profiler = REACT_PROFILER_TYPE;
      var StrictMode = REACT_STRICT_MODE_TYPE;
      var Suspense2 = REACT_SUSPENSE_TYPE;
      var hasWarnedAboutDeprecatedIsAsyncMode = false;
      function isAsyncMode(object) {
        {
          if (!hasWarnedAboutDeprecatedIsAsyncMode) {
            hasWarnedAboutDeprecatedIsAsyncMode = true;
            console["warn"]("The ReactIs.isAsyncMode() alias has been deprecated, " + "and will be removed in React 17+. Update your code to use " + "ReactIs.isConcurrentMode() instead. It has the exact same API.");
          }
        }
        return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;
      }
      function isConcurrentMode(object) {
        return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;
      }
      function isContextConsumer(object) {
        return typeOf(object) === REACT_CONTEXT_TYPE;
      }
      function isContextProvider(object) {
        return typeOf(object) === REACT_PROVIDER_TYPE;
      }
      function isElement(object) {
        return typeof object === "object" && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;
      }
      function isForwardRef(object) {
        return typeOf(object) === REACT_FORWARD_REF_TYPE;
      }
      function isFragment(object) {
        return typeOf(object) === REACT_FRAGMENT_TYPE;
      }
      function isLazy(object) {
        return typeOf(object) === REACT_LAZY_TYPE;
      }
      function isMemo(object) {
        return typeOf(object) === REACT_MEMO_TYPE;
      }
      function isPortal(object) {
        return typeOf(object) === REACT_PORTAL_TYPE;
      }
      function isProfiler(object) {
        return typeOf(object) === REACT_PROFILER_TYPE;
      }
      function isStrictMode(object) {
        return typeOf(object) === REACT_STRICT_MODE_TYPE;
      }
      function isSuspense(object) {
        return typeOf(object) === REACT_SUSPENSE_TYPE;
      }
      exports.AsyncMode = AsyncMode;
      exports.ConcurrentMode = ConcurrentMode;
      exports.ContextConsumer = ContextConsumer;
      exports.ContextProvider = ContextProvider;
      exports.Element = Element2;
      exports.ForwardRef = ForwardRef;
      exports.Fragment = Fragment8;
      exports.Lazy = Lazy;
      exports.Memo = Memo;
      exports.Portal = Portal;
      exports.Profiler = Profiler;
      exports.StrictMode = StrictMode;
      exports.Suspense = Suspense2;
      exports.isAsyncMode = isAsyncMode;
      exports.isConcurrentMode = isConcurrentMode;
      exports.isContextConsumer = isContextConsumer;
      exports.isContextProvider = isContextProvider;
      exports.isElement = isElement;
      exports.isForwardRef = isForwardRef;
      exports.isFragment = isFragment;
      exports.isLazy = isLazy;
      exports.isMemo = isMemo;
      exports.isPortal = isPortal;
      exports.isProfiler = isProfiler;
      exports.isStrictMode = isStrictMode;
      exports.isSuspense = isSuspense;
      exports.isValidElementType = isValidElementType2;
      exports.typeOf = typeOf;
    })();
  }
});

// node_modules/hoist-non-react-statics/node_modules/react-is/index.js
var require_react_is3 = __commonJS((exports, module) => {
  var react_is_development = __toESM(require_react_is_development3());
  if (false) {} else {
    module.exports = react_is_development;
  }
});

// node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js
var require_hoist_non_react_statics_cjs = __commonJS((exports, module) => {
  var reactIs = __toESM(require_react_is3());
  var REACT_STATICS = {
    childContextTypes: true,
    contextType: true,
    contextTypes: true,
    defaultProps: true,
    displayName: true,
    getDefaultProps: true,
    getDerivedStateFromError: true,
    getDerivedStateFromProps: true,
    mixins: true,
    propTypes: true,
    type: true
  };
  var KNOWN_STATICS = {
    name: true,
    length: true,
    prototype: true,
    caller: true,
    callee: true,
    arguments: true,
    arity: true
  };
  var FORWARD_REF_STATICS = {
    $$typeof: true,
    render: true,
    defaultProps: true,
    displayName: true,
    propTypes: true
  };
  var MEMO_STATICS = {
    $$typeof: true,
    compare: true,
    defaultProps: true,
    displayName: true,
    propTypes: true,
    type: true
  };
  var TYPE_STATICS = {};
  TYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;
  TYPE_STATICS[reactIs.Memo] = MEMO_STATICS;
  function getStatics(component) {
    if (reactIs.isMemo(component)) {
      return MEMO_STATICS;
    }
    return TYPE_STATICS[component["$$typeof"]] || REACT_STATICS;
  }
  var defineProperty = Object.defineProperty;
  var getOwnPropertyNames = Object.getOwnPropertyNames;
  var getOwnPropertySymbols = Object.getOwnPropertySymbols;
  var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
  var getPrototypeOf = Object.getPrototypeOf;
  var objectPrototype = Object.prototype;
  function hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {
    if (typeof sourceComponent !== "string") {
      if (objectPrototype) {
        var inheritedComponent = getPrototypeOf(sourceComponent);
        if (inheritedComponent && inheritedComponent !== objectPrototype) {
          hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);
        }
      }
      var keys = getOwnPropertyNames(sourceComponent);
      if (getOwnPropertySymbols) {
        keys = keys.concat(getOwnPropertySymbols(sourceComponent));
      }
      var targetStatics = getStatics(targetComponent);
      var sourceStatics = getStatics(sourceComponent);
      for (var i = 0;i < keys.length; ++i) {
        var key = keys[i];
        if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {
          var descriptor = getOwnPropertyDescriptor(sourceComponent, key);
          try {
            defineProperty(targetComponent, key, descriptor);
          } catch (e) {}
        }
      }
    }
    return targetComponent;
  }
  module.exports = hoistNonReactStatics;
});

// node_modules/react/cjs/react-jsx-runtime.development.js
var require_react_jsx_runtime_development = __commonJS((exports) => {
  var React13 = __toESM(require_react());
  (function() {
    function getComponentNameFromType(type) {
      if (type == null)
        return null;
      if (typeof type === "function")
        return type.$$typeof === REACT_CLIENT_REFERENCE ? null : type.displayName || type.name || null;
      if (typeof type === "string")
        return type;
      switch (type) {
        case REACT_FRAGMENT_TYPE:
          return "Fragment";
        case REACT_PROFILER_TYPE:
          return "Profiler";
        case REACT_STRICT_MODE_TYPE:
          return "StrictMode";
        case REACT_SUSPENSE_TYPE:
          return "Suspense";
        case REACT_SUSPENSE_LIST_TYPE:
          return "SuspenseList";
        case REACT_ACTIVITY_TYPE:
          return "Activity";
      }
      if (typeof type === "object")
        switch (typeof type.tag === "number" && console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."), type.$$typeof) {
          case REACT_PORTAL_TYPE:
            return "Portal";
          case REACT_CONTEXT_TYPE:
            return type.displayName || "Context";
          case REACT_CONSUMER_TYPE:
            return (type._context.displayName || "Context") + ".Consumer";
          case REACT_FORWARD_REF_TYPE:
            var innerType = type.render;
            type = type.displayName;
            type || (type = innerType.displayName || innerType.name || "", type = type !== "" ? "ForwardRef(" + type + ")" : "ForwardRef");
            return type;
          case REACT_MEMO_TYPE:
            return innerType = type.displayName || null, innerType !== null ? innerType : getComponentNameFromType(type.type) || "Memo";
          case REACT_LAZY_TYPE:
            innerType = type._payload;
            type = type._init;
            try {
              return getComponentNameFromType(type(innerType));
            } catch (x) {}
        }
      return null;
    }
    function testStringCoercion(value) {
      return "" + value;
    }
    function checkKeyStringCoercion(value) {
      try {
        testStringCoercion(value);
        var JSCompiler_inline_result = false;
      } catch (e) {
        JSCompiler_inline_result = true;
      }
      if (JSCompiler_inline_result) {
        JSCompiler_inline_result = console;
        var JSCompiler_temp_const = JSCompiler_inline_result.error;
        var JSCompiler_inline_result$jscomp$0 = typeof Symbol === "function" && Symbol.toStringTag && value[Symbol.toStringTag] || value.constructor.name || "Object";
        JSCompiler_temp_const.call(JSCompiler_inline_result, "The provided key is an unsupported type %s. This value must be coerced to a string before using it here.", JSCompiler_inline_result$jscomp$0);
        return testStringCoercion(value);
      }
    }
    function getTaskName(type) {
      if (type === REACT_FRAGMENT_TYPE)
        return "<>";
      if (typeof type === "object" && type !== null && type.$$typeof === REACT_LAZY_TYPE)
        return "<...>";
      try {
        var name = getComponentNameFromType(type);
        return name ? "<" + name + ">" : "<...>";
      } catch (x) {
        return "<...>";
      }
    }
    function getOwner() {
      var dispatcher = ReactSharedInternals.A;
      return dispatcher === null ? null : dispatcher.getOwner();
    }
    function UnknownOwner() {
      return Error("react-stack-top-frame");
    }
    function hasValidKey(config) {
      if (hasOwnProperty.call(config, "key")) {
        var getter = Object.getOwnPropertyDescriptor(config, "key").get;
        if (getter && getter.isReactWarning)
          return false;
      }
      return config.key !== undefined;
    }
    function defineKeyPropWarningGetter(props, displayName) {
      function warnAboutAccessingKey() {
        specialPropKeyWarningShown || (specialPropKeyWarningShown = true, console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)", displayName));
      }
      warnAboutAccessingKey.isReactWarning = true;
      Object.defineProperty(props, "key", {
        get: warnAboutAccessingKey,
        configurable: true
      });
    }
    function elementRefGetterWithDeprecationWarning() {
      var componentName = getComponentNameFromType(this.type);
      didWarnAboutElementRef[componentName] || (didWarnAboutElementRef[componentName] = true, console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release."));
      componentName = this.props.ref;
      return componentName !== undefined ? componentName : null;
    }
    function ReactElement(type, key, props, owner, debugStack, debugTask) {
      var refProp = props.ref;
      type = {
        $$typeof: REACT_ELEMENT_TYPE,
        type,
        key,
        props,
        _owner: owner
      };
      (refProp !== undefined ? refProp : null) !== null ? Object.defineProperty(type, "ref", {
        enumerable: false,
        get: elementRefGetterWithDeprecationWarning
      }) : Object.defineProperty(type, "ref", { enumerable: false, value: null });
      type._store = {};
      Object.defineProperty(type._store, "validated", {
        configurable: false,
        enumerable: false,
        writable: true,
        value: 0
      });
      Object.defineProperty(type, "_debugInfo", {
        configurable: false,
        enumerable: false,
        writable: true,
        value: null
      });
      Object.defineProperty(type, "_debugStack", {
        configurable: false,
        enumerable: false,
        writable: true,
        value: debugStack
      });
      Object.defineProperty(type, "_debugTask", {
        configurable: false,
        enumerable: false,
        writable: true,
        value: debugTask
      });
      Object.freeze && (Object.freeze(type.props), Object.freeze(type));
      return type;
    }
    function jsxDEVImpl(type, config, maybeKey, isStaticChildren, debugStack, debugTask) {
      var children = config.children;
      if (children !== undefined)
        if (isStaticChildren)
          if (isArrayImpl(children)) {
            for (isStaticChildren = 0;isStaticChildren < children.length; isStaticChildren++)
              validateChildKeys(children[isStaticChildren]);
            Object.freeze && Object.freeze(children);
          } else
            console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");
        else
          validateChildKeys(children);
      if (hasOwnProperty.call(config, "key")) {
        children = getComponentNameFromType(type);
        var keys = Object.keys(config).filter(function(k) {
          return k !== "key";
        });
        isStaticChildren = 0 < keys.length ? "{key: someKey, " + keys.join(": ..., ") + ": ...}" : "{key: someKey}";
        didWarnAboutKeySpread[children + isStaticChildren] || (keys = 0 < keys.length ? "{" + keys.join(": ..., ") + ": ...}" : "{}", console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`, isStaticChildren, children, keys, children), didWarnAboutKeySpread[children + isStaticChildren] = true);
      }
      children = null;
      maybeKey !== undefined && (checkKeyStringCoercion(maybeKey), children = "" + maybeKey);
      hasValidKey(config) && (checkKeyStringCoercion(config.key), children = "" + config.key);
      if ("key" in config) {
        maybeKey = {};
        for (var propName in config)
          propName !== "key" && (maybeKey[propName] = config[propName]);
      } else
        maybeKey = config;
      children && defineKeyPropWarningGetter(maybeKey, typeof type === "function" ? type.displayName || type.name || "Unknown" : type);
      return ReactElement(type, children, maybeKey, getOwner(), debugStack, debugTask);
    }
    function validateChildKeys(node2) {
      isValidElement3(node2) ? node2._store && (node2._store.validated = 1) : typeof node2 === "object" && node2 !== null && node2.$$typeof === REACT_LAZY_TYPE && (node2._payload.status === "fulfilled" ? isValidElement3(node2._payload.value) && node2._payload.value._store && (node2._payload.value._store.validated = 1) : node2._store && (node2._store.validated = 1));
    }
    function isValidElement3(object) {
      return typeof object === "object" && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;
    }
    var REACT_ELEMENT_TYPE = Symbol.for("react.transitional.element"), REACT_PORTAL_TYPE = Symbol.for("react.portal"), REACT_FRAGMENT_TYPE = Symbol.for("react.fragment"), REACT_STRICT_MODE_TYPE = Symbol.for("react.strict_mode"), REACT_PROFILER_TYPE = Symbol.for("react.profiler"), REACT_CONSUMER_TYPE = Symbol.for("react.consumer"), REACT_CONTEXT_TYPE = Symbol.for("react.context"), REACT_FORWARD_REF_TYPE = Symbol.for("react.forward_ref"), REACT_SUSPENSE_TYPE = Symbol.for("react.suspense"), REACT_SUSPENSE_LIST_TYPE = Symbol.for("react.suspense_list"), REACT_MEMO_TYPE = Symbol.for("react.memo"), REACT_LAZY_TYPE = Symbol.for("react.lazy"), REACT_ACTIVITY_TYPE = Symbol.for("react.activity"), REACT_CLIENT_REFERENCE = Symbol.for("react.client.reference"), ReactSharedInternals = React13.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE, hasOwnProperty = Object.prototype.hasOwnProperty, isArrayImpl = Array.isArray, createTask = console.createTask ? console.createTask : function() {
      return null;
    };
    React13 = {
      react_stack_bottom_frame: function(callStackForError) {
        return callStackForError();
      }
    };
    var specialPropKeyWarningShown;
    var didWarnAboutElementRef = {};
    var unknownOwnerDebugStack = React13.react_stack_bottom_frame.bind(React13, UnknownOwner)();
    var unknownOwnerDebugTask = createTask(getTaskName(UnknownOwner));
    var didWarnAboutKeySpread = {};
    exports.Fragment = REACT_FRAGMENT_TYPE;
    exports.jsx = function(type, config, maybeKey) {
      var trackActualOwner = 1e4 > ReactSharedInternals.recentlyCreatedOwnerStacks++;
      return jsxDEVImpl(type, config, maybeKey, false, trackActualOwner ? Error("react-stack-top-frame") : unknownOwnerDebugStack, trackActualOwner ? createTask(getTaskName(type)) : unknownOwnerDebugTask);
    };
    exports.jsxs = function(type, config, maybeKey) {
      var trackActualOwner = 1e4 > ReactSharedInternals.recentlyCreatedOwnerStacks++;
      return jsxDEVImpl(type, config, maybeKey, true, trackActualOwner ? Error("react-stack-top-frame") : unknownOwnerDebugStack, trackActualOwner ? createTask(getTaskName(type)) : unknownOwnerDebugTask);
    };
  })();
});

// node_modules/react/jsx-runtime.js
var require_jsx_runtime = __commonJS((exports, module) => {
  var react_jsx_runtime_development = __toESM(require_react_jsx_runtime_development());
  if (false) {} else {
    module.exports = react_jsx_runtime_development;
  }
});

// node_modules/react/cjs/react-jsx-dev-runtime.development.js
var require_react_jsx_dev_runtime_development = __commonJS((exports) => {
  var React13 = __toESM(require_react());
  (function() {
    function getComponentNameFromType(type) {
      if (type == null)
        return null;
      if (typeof type === "function")
        return type.$$typeof === REACT_CLIENT_REFERENCE ? null : type.displayName || type.name || null;
      if (typeof type === "string")
        return type;
      switch (type) {
        case REACT_FRAGMENT_TYPE:
          return "Fragment";
        case REACT_PROFILER_TYPE:
          return "Profiler";
        case REACT_STRICT_MODE_TYPE:
          return "StrictMode";
        case REACT_SUSPENSE_TYPE:
          return "Suspense";
        case REACT_SUSPENSE_LIST_TYPE:
          return "SuspenseList";
        case REACT_ACTIVITY_TYPE:
          return "Activity";
      }
      if (typeof type === "object")
        switch (typeof type.tag === "number" && console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."), type.$$typeof) {
          case REACT_PORTAL_TYPE:
            return "Portal";
          case REACT_CONTEXT_TYPE:
            return type.displayName || "Context";
          case REACT_CONSUMER_TYPE:
            return (type._context.displayName || "Context") + ".Consumer";
          case REACT_FORWARD_REF_TYPE:
            var innerType = type.render;
            type = type.displayName;
            type || (type = innerType.displayName || innerType.name || "", type = type !== "" ? "ForwardRef(" + type + ")" : "ForwardRef");
            return type;
          case REACT_MEMO_TYPE:
            return innerType = type.displayName || null, innerType !== null ? innerType : getComponentNameFromType(type.type) || "Memo";
          case REACT_LAZY_TYPE:
            innerType = type._payload;
            type = type._init;
            try {
              return getComponentNameFromType(type(innerType));
            } catch (x) {}
        }
      return null;
    }
    function testStringCoercion(value) {
      return "" + value;
    }
    function checkKeyStringCoercion(value) {
      try {
        testStringCoercion(value);
        var JSCompiler_inline_result = false;
      } catch (e) {
        JSCompiler_inline_result = true;
      }
      if (JSCompiler_inline_result) {
        JSCompiler_inline_result = console;
        var JSCompiler_temp_const = JSCompiler_inline_result.error;
        var JSCompiler_inline_result$jscomp$0 = typeof Symbol === "function" && Symbol.toStringTag && value[Symbol.toStringTag] || value.constructor.name || "Object";
        JSCompiler_temp_const.call(JSCompiler_inline_result, "The provided key is an unsupported type %s. This value must be coerced to a string before using it here.", JSCompiler_inline_result$jscomp$0);
        return testStringCoercion(value);
      }
    }
    function getTaskName(type) {
      if (type === REACT_FRAGMENT_TYPE)
        return "<>";
      if (typeof type === "object" && type !== null && type.$$typeof === REACT_LAZY_TYPE)
        return "<...>";
      try {
        var name = getComponentNameFromType(type);
        return name ? "<" + name + ">" : "<...>";
      } catch (x) {
        return "<...>";
      }
    }
    function getOwner() {
      var dispatcher = ReactSharedInternals.A;
      return dispatcher === null ? null : dispatcher.getOwner();
    }
    function UnknownOwner() {
      return Error("react-stack-top-frame");
    }
    function hasValidKey(config) {
      if (hasOwnProperty.call(config, "key")) {
        var getter = Object.getOwnPropertyDescriptor(config, "key").get;
        if (getter && getter.isReactWarning)
          return false;
      }
      return config.key !== undefined;
    }
    function defineKeyPropWarningGetter(props, displayName) {
      function warnAboutAccessingKey() {
        specialPropKeyWarningShown || (specialPropKeyWarningShown = true, console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)", displayName));
      }
      warnAboutAccessingKey.isReactWarning = true;
      Object.defineProperty(props, "key", {
        get: warnAboutAccessingKey,
        configurable: true
      });
    }
    function elementRefGetterWithDeprecationWarning() {
      var componentName = getComponentNameFromType(this.type);
      didWarnAboutElementRef[componentName] || (didWarnAboutElementRef[componentName] = true, console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release."));
      componentName = this.props.ref;
      return componentName !== undefined ? componentName : null;
    }
    function ReactElement(type, key, props, owner, debugStack, debugTask) {
      var refProp = props.ref;
      type = {
        $$typeof: REACT_ELEMENT_TYPE,
        type,
        key,
        props,
        _owner: owner
      };
      (refProp !== undefined ? refProp : null) !== null ? Object.defineProperty(type, "ref", {
        enumerable: false,
        get: elementRefGetterWithDeprecationWarning
      }) : Object.defineProperty(type, "ref", { enumerable: false, value: null });
      type._store = {};
      Object.defineProperty(type._store, "validated", {
        configurable: false,
        enumerable: false,
        writable: true,
        value: 0
      });
      Object.defineProperty(type, "_debugInfo", {
        configurable: false,
        enumerable: false,
        writable: true,
        value: null
      });
      Object.defineProperty(type, "_debugStack", {
        configurable: false,
        enumerable: false,
        writable: true,
        value: debugStack
      });
      Object.defineProperty(type, "_debugTask", {
        configurable: false,
        enumerable: false,
        writable: true,
        value: debugTask
      });
      Object.freeze && (Object.freeze(type.props), Object.freeze(type));
      return type;
    }
    function jsxDEVImpl(type, config, maybeKey, isStaticChildren, debugStack, debugTask) {
      var children = config.children;
      if (children !== undefined)
        if (isStaticChildren)
          if (isArrayImpl(children)) {
            for (isStaticChildren = 0;isStaticChildren < children.length; isStaticChildren++)
              validateChildKeys(children[isStaticChildren]);
            Object.freeze && Object.freeze(children);
          } else
            console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");
        else
          validateChildKeys(children);
      if (hasOwnProperty.call(config, "key")) {
        children = getComponentNameFromType(type);
        var keys = Object.keys(config).filter(function(k) {
          return k !== "key";
        });
        isStaticChildren = 0 < keys.length ? "{key: someKey, " + keys.join(": ..., ") + ": ...}" : "{key: someKey}";
        didWarnAboutKeySpread[children + isStaticChildren] || (keys = 0 < keys.length ? "{" + keys.join(": ..., ") + ": ...}" : "{}", console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`, isStaticChildren, children, keys, children), didWarnAboutKeySpread[children + isStaticChildren] = true);
      }
      children = null;
      maybeKey !== undefined && (checkKeyStringCoercion(maybeKey), children = "" + maybeKey);
      hasValidKey(config) && (checkKeyStringCoercion(config.key), children = "" + config.key);
      if ("key" in config) {
        maybeKey = {};
        for (var propName in config)
          propName !== "key" && (maybeKey[propName] = config[propName]);
      } else
        maybeKey = config;
      children && defineKeyPropWarningGetter(maybeKey, typeof type === "function" ? type.displayName || type.name || "Unknown" : type);
      return ReactElement(type, children, maybeKey, getOwner(), debugStack, debugTask);
    }
    function validateChildKeys(node2) {
      isValidElement11(node2) ? node2._store && (node2._store.validated = 1) : typeof node2 === "object" && node2 !== null && node2.$$typeof === REACT_LAZY_TYPE && (node2._payload.status === "fulfilled" ? isValidElement11(node2._payload.value) && node2._payload.value._store && (node2._payload.value._store.validated = 1) : node2._store && (node2._store.validated = 1));
    }
    function isValidElement11(object) {
      return typeof object === "object" && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;
    }
    var REACT_ELEMENT_TYPE = Symbol.for("react.transitional.element"), REACT_PORTAL_TYPE = Symbol.for("react.portal"), REACT_FRAGMENT_TYPE = Symbol.for("react.fragment"), REACT_STRICT_MODE_TYPE = Symbol.for("react.strict_mode"), REACT_PROFILER_TYPE = Symbol.for("react.profiler"), REACT_CONSUMER_TYPE = Symbol.for("react.consumer"), REACT_CONTEXT_TYPE = Symbol.for("react.context"), REACT_FORWARD_REF_TYPE = Symbol.for("react.forward_ref"), REACT_SUSPENSE_TYPE = Symbol.for("react.suspense"), REACT_SUSPENSE_LIST_TYPE = Symbol.for("react.suspense_list"), REACT_MEMO_TYPE = Symbol.for("react.memo"), REACT_LAZY_TYPE = Symbol.for("react.lazy"), REACT_ACTIVITY_TYPE = Symbol.for("react.activity"), REACT_CLIENT_REFERENCE = Symbol.for("react.client.reference"), ReactSharedInternals = React13.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE, hasOwnProperty = Object.prototype.hasOwnProperty, isArrayImpl = Array.isArray, createTask = console.createTask ? console.createTask : function() {
      return null;
    };
    React13 = {
      react_stack_bottom_frame: function(callStackForError) {
        return callStackForError();
      }
    };
    var specialPropKeyWarningShown;
    var didWarnAboutElementRef = {};
    var unknownOwnerDebugStack = React13.react_stack_bottom_frame.bind(React13, UnknownOwner)();
    var unknownOwnerDebugTask = createTask(getTaskName(UnknownOwner));
    var didWarnAboutKeySpread = {};
    exports.Fragment = REACT_FRAGMENT_TYPE;
    exports.jsxDEV = function(type, config, maybeKey, isStaticChildren) {
      var trackActualOwner = 1e4 > ReactSharedInternals.recentlyCreatedOwnerStacks++;
      return jsxDEVImpl(type, config, maybeKey, isStaticChildren, trackActualOwner ? Error("react-stack-top-frame") : unknownOwnerDebugStack, trackActualOwner ? createTask(getTaskName(type)) : unknownOwnerDebugTask);
    };
  })();
});

// node_modules/react/jsx-dev-runtime.js
var require_jsx_dev_runtime = __commonJS((exports, module) => {
  var react_jsx_dev_runtime_development = __toESM(require_react_jsx_dev_runtime_development());
  if (false) {} else {
    module.exports = react_jsx_dev_runtime_development;
  }
});

// node_modules/react-fast-compare/index.js
var require_react_fast_compare = __commonJS((exports, module) => {
  var hasElementType = typeof Element !== "undefined";
  var hasMap = typeof Map === "function";
  var hasSet = typeof Set === "function";
  var hasArrayBuffer = typeof ArrayBuffer === "function" && !!ArrayBuffer.isView;
  function equal(a, b) {
    if (a === b)
      return true;
    if (a && b && typeof a == "object" && typeof b == "object") {
      if (a.constructor !== b.constructor)
        return false;
      var length2, i, keys;
      if (Array.isArray(a)) {
        length2 = a.length;
        if (length2 != b.length)
          return false;
        for (i = length2;i-- !== 0; )
          if (!equal(a[i], b[i]))
            return false;
        return true;
      }
      var it;
      if (hasMap && a instanceof Map && b instanceof Map) {
        if (a.size !== b.size)
          return false;
        it = a.entries();
        while (!(i = it.next()).done)
          if (!b.has(i.value[0]))
            return false;
        it = a.entries();
        while (!(i = it.next()).done)
          if (!equal(i.value[1], b.get(i.value[0])))
            return false;
        return true;
      }
      if (hasSet && a instanceof Set && b instanceof Set) {
        if (a.size !== b.size)
          return false;
        it = a.entries();
        while (!(i = it.next()).done)
          if (!b.has(i.value[0]))
            return false;
        return true;
      }
      if (hasArrayBuffer && ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {
        length2 = a.length;
        if (length2 != b.length)
          return false;
        for (i = length2;i-- !== 0; )
          if (a[i] !== b[i])
            return false;
        return true;
      }
      if (a.constructor === RegExp)
        return a.source === b.source && a.flags === b.flags;
      if (a.valueOf !== Object.prototype.valueOf && typeof a.valueOf === "function" && typeof b.valueOf === "function")
        return a.valueOf() === b.valueOf();
      if (a.toString !== Object.prototype.toString && typeof a.toString === "function" && typeof b.toString === "function")
        return a.toString() === b.toString();
      keys = Object.keys(a);
      length2 = keys.length;
      if (length2 !== Object.keys(b).length)
        return false;
      for (i = length2;i-- !== 0; )
        if (!Object.prototype.hasOwnProperty.call(b, keys[i]))
          return false;
      if (hasElementType && a instanceof Element)
        return false;
      for (i = length2;i-- !== 0; ) {
        if ((keys[i] === "_owner" || keys[i] === "__v" || keys[i] === "__o") && a.$$typeof) {
          continue;
        }
        if (!equal(a[keys[i]], b[keys[i]]))
          return false;
      }
      return true;
    }
    return a !== a && b !== b;
  }
  module.exports = function isEqual(a, b) {
    try {
      return equal(a, b);
    } catch (error) {
      if ((error.message || "").match(/stack|recursion/i)) {
        console.warn("react-fast-compare cannot handle circular refs");
        return false;
      }
      throw error;
    }
  };
});

// node_modules/invariant/browser.js
var require_browser = __commonJS((exports, module) => {
  var invariant3 = function(condition, format, a, b, c, d, e, f) {
    if (true) {
      if (format === undefined) {
        throw new Error("invariant requires an error message argument");
      }
    }
    if (!condition) {
      var error;
      if (format === undefined) {
        error = new Error("Minified exception occurred; use the non-minified dev environment " + "for the full error message and additional helpful warnings.");
      } else {
        var args = [a, b, c, d, e, f];
        var argIndex = 0;
        error = new Error(format.replace(/%s/g, function() {
          return args[argIndex++];
        }));
        error.name = "Invariant Violation";
      }
      error.framesToPop = 1;
      throw error;
    }
  };
  module.exports = invariant3;
});

// node_modules/shallowequal/index.js
var require_shallowequal = __commonJS((exports, module) => {
  module.exports = function shallowEqual(objA, objB, compare, compareContext) {
    var ret = compare ? compare.call(compareContext, objA, objB) : undefined;
    if (ret !== undefined) {
      return !!ret;
    }
    if (objA === objB) {
      return true;
    }
    if (typeof objA !== "object" || !objA || typeof objB !== "object" || !objB) {
      return false;
    }
    var keysA = Object.keys(objA);
    var keysB = Object.keys(objB);
    if (keysA.length !== keysB.length) {
      return false;
    }
    var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);
    for (var idx = 0;idx < keysA.length; idx++) {
      var key = keysA[idx];
      if (!bHasOwnProperty(key)) {
        return false;
      }
      var valueA = objA[key];
      var valueB = objB[key];
      ret = compare ? compare.call(compareContext, valueA, valueB, key) : undefined;
      if (ret === false || ret === undefined && valueA !== valueB) {
        return false;
      }
    }
    return true;
  };
});

// node_modules/react-router/dist/development/chunk-UIGDSWPH.mjs
var React = __toESM(require_react(), 1);
var React2 = __toESM(require_react(), 1);
var React3 = __toESM(require_react(), 1);
var React4 = __toESM(require_react(), 1);
var React9 = __toESM(require_react(), 1);
var React8 = __toESM(require_react(), 1);
var React7 = __toESM(require_react(), 1);
var React6 = __toESM(require_react(), 1);
var React5 = __toESM(require_react(), 1);
var React10 = __toESM(require_react(), 1);
var React11 = __toESM(require_react(), 1);
var __typeError = (msg) => {
  throw TypeError(msg);
};
var __accessCheck = (obj, member, msg) => member.has(obj) || __typeError("Cannot " + msg);
var __privateGet = (obj, member, getter) => (__accessCheck(obj, member, "read from private field"), getter ? getter.call(obj) : member.get(obj));
var __privateAdd = (obj, member, value) => member.has(obj) ? __typeError("Cannot add the same private member more than once") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
var PopStateEventType = "popstate";
function createBrowserHistory(options = {}) {
  function createBrowserLocation(window2, globalHistory) {
    let { pathname, search, hash } = window2.location;
    return createLocation("", { pathname, search, hash }, globalHistory.state && globalHistory.state.usr || null, globalHistory.state && globalHistory.state.key || "default");
  }
  function createBrowserHref(window2, to) {
    return typeof to === "string" ? to : createPath(to);
  }
  return getUrlBasedHistory(createBrowserLocation, createBrowserHref, null, options);
}
function invariant(value, message) {
  if (value === false || value === null || typeof value === "undefined") {
    throw new Error(message);
  }
}
function warning(cond, message) {
  if (!cond) {
    if (typeof console !== "undefined")
      console.warn(message);
    try {
      throw new Error(message);
    } catch (e) {}
  }
}
function createKey() {
  return Math.random().toString(36).substring(2, 10);
}
function getHistoryState(location2, index) {
  return {
    usr: location2.state,
    key: location2.key,
    idx: index
  };
}
function createLocation(current, to, state = null, key) {
  let location2 = {
    pathname: typeof current === "string" ? current : current.pathname,
    search: "",
    hash: "",
    ...typeof to === "string" ? parsePath(to) : to,
    state,
    key: to && to.key || key || createKey()
  };
  return location2;
}
function createPath({
  pathname = "/",
  search = "",
  hash = ""
}) {
  if (search && search !== "?")
    pathname += search.charAt(0) === "?" ? search : "?" + search;
  if (hash && hash !== "#")
    pathname += hash.charAt(0) === "#" ? hash : "#" + hash;
  return pathname;
}
function parsePath(path) {
  let parsedPath = {};
  if (path) {
    let hashIndex = path.indexOf("#");
    if (hashIndex >= 0) {
      parsedPath.hash = path.substring(hashIndex);
      path = path.substring(0, hashIndex);
    }
    let searchIndex = path.indexOf("?");
    if (searchIndex >= 0) {
      parsedPath.search = path.substring(searchIndex);
      path = path.substring(0, searchIndex);
    }
    if (path) {
      parsedPath.pathname = path;
    }
  }
  return parsedPath;
}
function getUrlBasedHistory(getLocation, createHref2, validateLocation, options = {}) {
  let { window: window2 = document.defaultView, v5Compat = false } = options;
  let globalHistory = window2.history;
  let action = "POP";
  let listener = null;
  let index = getIndex();
  if (index == null) {
    index = 0;
    globalHistory.replaceState({ ...globalHistory.state, idx: index }, "");
  }
  function getIndex() {
    let state = globalHistory.state || { idx: null };
    return state.idx;
  }
  function handlePop() {
    action = "POP";
    let nextIndex = getIndex();
    let delta = nextIndex == null ? null : nextIndex - index;
    index = nextIndex;
    if (listener) {
      listener({ action, location: history.location, delta });
    }
  }
  function push(to, state) {
    action = "PUSH";
    let location2 = createLocation(history.location, to, state);
    if (validateLocation)
      validateLocation(location2, to);
    index = getIndex() + 1;
    let historyState = getHistoryState(location2, index);
    let url = history.createHref(location2);
    try {
      globalHistory.pushState(historyState, "", url);
    } catch (error) {
      if (error instanceof DOMException && error.name === "DataCloneError") {
        throw error;
      }
      window2.location.assign(url);
    }
    if (v5Compat && listener) {
      listener({ action, location: history.location, delta: 1 });
    }
  }
  function replace2(to, state) {
    action = "REPLACE";
    let location2 = createLocation(history.location, to, state);
    if (validateLocation)
      validateLocation(location2, to);
    index = getIndex();
    let historyState = getHistoryState(location2, index);
    let url = history.createHref(location2);
    globalHistory.replaceState(historyState, "", url);
    if (v5Compat && listener) {
      listener({ action, location: history.location, delta: 0 });
    }
  }
  function createURL(to) {
    return createBrowserURLImpl(to);
  }
  let history = {
    get action() {
      return action;
    },
    get location() {
      return getLocation(window2, globalHistory);
    },
    listen(fn) {
      if (listener) {
        throw new Error("A history only accepts one active listener");
      }
      window2.addEventListener(PopStateEventType, handlePop);
      listener = fn;
      return () => {
        window2.removeEventListener(PopStateEventType, handlePop);
        listener = null;
      };
    },
    createHref(to) {
      return createHref2(window2, to);
    },
    createURL,
    encodeLocation(to) {
      let url = createURL(to);
      return {
        pathname: url.pathname,
        search: url.search,
        hash: url.hash
      };
    },
    push,
    replace: replace2,
    go(n) {
      return globalHistory.go(n);
    }
  };
  return history;
}
function createBrowserURLImpl(to, isAbsolute = false) {
  let base = "http://localhost";
  if (typeof window !== "undefined") {
    base = window.location.origin !== "null" ? window.location.origin : window.location.href;
  }
  invariant(base, "No window.location.(origin|href) available to create URL");
  let href = typeof to === "string" ? to : createPath(to);
  href = href.replace(/ $/, "%20");
  if (!isAbsolute && href.startsWith("//")) {
    href = base + href;
  }
  return new URL(href, base);
}
function createContext4(defaultValue) {
  return { defaultValue };
}
var _map;
var RouterContextProvider = class {
  constructor(init) {
    __privateAdd(this, _map, /* @__PURE__ */ new Map);
    if (init) {
      for (let [context, value] of init) {
        this.set(context, value);
      }
    }
  }
  get(context) {
    if (__privateGet(this, _map).has(context)) {
      return __privateGet(this, _map).get(context);
    }
    if (context.defaultValue !== undefined) {
      return context.defaultValue;
    }
    throw new Error("No value found for context");
  }
  set(context, value) {
    __privateGet(this, _map).set(context, value);
  }
};
_map = new WeakMap;
var unsupportedLazyRouteObjectKeys = /* @__PURE__ */ new Set([
  "lazy",
  "caseSensitive",
  "path",
  "id",
  "index",
  "children"
]);
function isUnsupportedLazyRouteObjectKey(key) {
  return unsupportedLazyRouteObjectKeys.has(key);
}
var unsupportedLazyRouteFunctionKeys = /* @__PURE__ */ new Set([
  "lazy",
  "caseSensitive",
  "path",
  "id",
  "index",
  "middleware",
  "children"
]);
function isUnsupportedLazyRouteFunctionKey(key) {
  return unsupportedLazyRouteFunctionKeys.has(key);
}
function isIndexRoute(route) {
  return route.index === true;
}
function convertRoutesToDataRoutes(routes, mapRouteProperties2, parentPath = [], manifest = {}, allowInPlaceMutations = false) {
  return routes.map((route, index) => {
    let treePath = [...parentPath, String(index)];
    let id = typeof route.id === "string" ? route.id : treePath.join("-");
    invariant(route.index !== true || !route.children, `Cannot specify children on an index route`);
    invariant(allowInPlaceMutations || !manifest[id], `Found a route id collision on id "${id}".  Route id's must be globally unique within Data Router usages`);
    if (isIndexRoute(route)) {
      let indexRoute = {
        ...route,
        id
      };
      manifest[id] = mergeRouteUpdates(indexRoute, mapRouteProperties2(indexRoute));
      return indexRoute;
    } else {
      let pathOrLayoutRoute = {
        ...route,
        id,
        children: undefined
      };
      manifest[id] = mergeRouteUpdates(pathOrLayoutRoute, mapRouteProperties2(pathOrLayoutRoute));
      if (route.children) {
        pathOrLayoutRoute.children = convertRoutesToDataRoutes(route.children, mapRouteProperties2, treePath, manifest, allowInPlaceMutations);
      }
      return pathOrLayoutRoute;
    }
  });
}
function mergeRouteUpdates(route, updates) {
  return Object.assign(route, {
    ...updates,
    ...typeof updates.lazy === "object" && updates.lazy != null ? {
      lazy: {
        ...route.lazy,
        ...updates.lazy
      }
    } : {}
  });
}
function matchRoutes(routes, locationArg, basename = "/") {
  return matchRoutesImpl(routes, locationArg, basename, false);
}
function matchRoutesImpl(routes, locationArg, basename, allowPartial) {
  let location2 = typeof locationArg === "string" ? parsePath(locationArg) : locationArg;
  let pathname = stripBasename(location2.pathname || "/", basename);
  if (pathname == null) {
    return null;
  }
  let branches = flattenRoutes(routes);
  rankRouteBranches(branches);
  let matches = null;
  for (let i = 0;matches == null && i < branches.length; ++i) {
    let decoded = decodePath(pathname);
    matches = matchRouteBranch(branches[i], decoded, allowPartial);
  }
  return matches;
}
function convertRouteMatchToUiMatch(match, loaderData) {
  let { route, pathname, params } = match;
  return {
    id: route.id,
    pathname,
    params,
    data: loaderData[route.id],
    loaderData: loaderData[route.id],
    handle: route.handle
  };
}
function flattenRoutes(routes, branches = [], parentsMeta = [], parentPath = "", _hasParentOptionalSegments = false) {
  let flattenRoute = (route, index, hasParentOptionalSegments = _hasParentOptionalSegments, relativePath) => {
    let meta = {
      relativePath: relativePath === undefined ? route.path || "" : relativePath,
      caseSensitive: route.caseSensitive === true,
      childrenIndex: index,
      route
    };
    if (meta.relativePath.startsWith("/")) {
      if (!meta.relativePath.startsWith(parentPath) && hasParentOptionalSegments) {
        return;
      }
      invariant(meta.relativePath.startsWith(parentPath), `Absolute route path "${meta.relativePath}" nested under path "${parentPath}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`);
      meta.relativePath = meta.relativePath.slice(parentPath.length);
    }
    let path = joinPaths([parentPath, meta.relativePath]);
    let routesMeta = parentsMeta.concat(meta);
    if (route.children && route.children.length > 0) {
      invariant(route.index !== true, `Index routes must not have child routes. Please remove all child routes from route path "${path}".`);
      flattenRoutes(route.children, branches, routesMeta, path, hasParentOptionalSegments);
    }
    if (route.path == null && !route.index) {
      return;
    }
    branches.push({
      path,
      score: computeScore(path, route.index),
      routesMeta
    });
  };
  routes.forEach((route, index) => {
    if (route.path === "" || !route.path?.includes("?")) {
      flattenRoute(route, index);
    } else {
      for (let exploded of explodeOptionalSegments(route.path)) {
        flattenRoute(route, index, true, exploded);
      }
    }
  });
  return branches;
}
function explodeOptionalSegments(path) {
  let segments = path.split("/");
  if (segments.length === 0)
    return [];
  let [first, ...rest] = segments;
  let isOptional = first.endsWith("?");
  let required = first.replace(/\?$/, "");
  if (rest.length === 0) {
    return isOptional ? [required, ""] : [required];
  }
  let restExploded = explodeOptionalSegments(rest.join("/"));
  let result = [];
  result.push(...restExploded.map((subpath) => subpath === "" ? required : [required, subpath].join("/")));
  if (isOptional) {
    result.push(...restExploded);
  }
  return result.map((exploded) => path.startsWith("/") && exploded === "" ? "/" : exploded);
}
function rankRouteBranches(branches) {
  branches.sort((a, b) => a.score !== b.score ? b.score - a.score : compareIndexes(a.routesMeta.map((meta) => meta.childrenIndex), b.routesMeta.map((meta) => meta.childrenIndex)));
}
var paramRe = /^:[\w-]+$/;
var dynamicSegmentValue = 3;
var indexRouteValue = 2;
var emptySegmentValue = 1;
var staticSegmentValue = 10;
var splatPenalty = -2;
var isSplat = (s) => s === "*";
function computeScore(path, index) {
  let segments = path.split("/");
  let initialScore = segments.length;
  if (segments.some(isSplat)) {
    initialScore += splatPenalty;
  }
  if (index) {
    initialScore += indexRouteValue;
  }
  return segments.filter((s) => !isSplat(s)).reduce((score, segment) => score + (paramRe.test(segment) ? dynamicSegmentValue : segment === "" ? emptySegmentValue : staticSegmentValue), initialScore);
}
function compareIndexes(a, b) {
  let siblings = a.length === b.length && a.slice(0, -1).every((n, i) => n === b[i]);
  return siblings ? a[a.length - 1] - b[b.length - 1] : 0;
}
function matchRouteBranch(branch, pathname, allowPartial = false) {
  let { routesMeta } = branch;
  let matchedParams = {};
  let matchedPathname = "/";
  let matches = [];
  for (let i = 0;i < routesMeta.length; ++i) {
    let meta = routesMeta[i];
    let end = i === routesMeta.length - 1;
    let remainingPathname = matchedPathname === "/" ? pathname : pathname.slice(matchedPathname.length) || "/";
    let match = matchPath({ path: meta.relativePath, caseSensitive: meta.caseSensitive, end }, remainingPathname);
    let route = meta.route;
    if (!match && end && allowPartial && !routesMeta[routesMeta.length - 1].route.index) {
      match = matchPath({
        path: meta.relativePath,
        caseSensitive: meta.caseSensitive,
        end: false
      }, remainingPathname);
    }
    if (!match) {
      return null;
    }
    Object.assign(matchedParams, match.params);
    matches.push({
      params: matchedParams,
      pathname: joinPaths([matchedPathname, match.pathname]),
      pathnameBase: normalizePathname(joinPaths([matchedPathname, match.pathnameBase])),
      route
    });
    if (match.pathnameBase !== "/") {
      matchedPathname = joinPaths([matchedPathname, match.pathnameBase]);
    }
  }
  return matches;
}
function matchPath(pattern, pathname) {
  if (typeof pattern === "string") {
    pattern = { path: pattern, caseSensitive: false, end: true };
  }
  let [matcher, compiledParams] = compilePath(pattern.path, pattern.caseSensitive, pattern.end);
  let match = pathname.match(matcher);
  if (!match)
    return null;
  let matchedPathname = match[0];
  let pathnameBase = matchedPathname.replace(/(.)\/+$/, "$1");
  let captureGroups = match.slice(1);
  let params = compiledParams.reduce((memo2, { paramName, isOptional }, index) => {
    if (paramName === "*") {
      let splatValue = captureGroups[index] || "";
      pathnameBase = matchedPathname.slice(0, matchedPathname.length - splatValue.length).replace(/(.)\/+$/, "$1");
    }
    const value = captureGroups[index];
    if (isOptional && !value) {
      memo2[paramName] = undefined;
    } else {
      memo2[paramName] = (value || "").replace(/%2F/g, "/");
    }
    return memo2;
  }, {});
  return {
    params,
    pathname: matchedPathname,
    pathnameBase,
    pattern
  };
}
function compilePath(path, caseSensitive = false, end = true) {
  warning(path === "*" || !path.endsWith("*") || path.endsWith("/*"), `Route path "${path}" will be treated as if it were "${path.replace(/\*$/, "/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${path.replace(/\*$/, "/*")}".`);
  let params = [];
  let regexpSource = "^" + path.replace(/\/*\*?$/, "").replace(/^\/*/, "/").replace(/[\\.*+^${}|()[\]]/g, "\\$&").replace(/\/:([\w-]+)(\?)?/g, (_, paramName, isOptional) => {
    params.push({ paramName, isOptional: isOptional != null });
    return isOptional ? "/?([^\\/]+)?" : "/([^\\/]+)";
  }).replace(/\/([\w-]+)\?(\/|$)/g, "(/$1)?$2");
  if (path.endsWith("*")) {
    params.push({ paramName: "*" });
    regexpSource += path === "*" || path === "/*" ? "(.*)$" : "(?:\\/(.+)|\\/*)$";
  } else if (end) {
    regexpSource += "\\/*$";
  } else if (path !== "" && path !== "/") {
    regexpSource += "(?:(?=\\/|$))";
  } else {}
  let matcher = new RegExp(regexpSource, caseSensitive ? undefined : "i");
  return [matcher, params];
}
function decodePath(value) {
  try {
    return value.split("/").map((v) => decodeURIComponent(v).replace(/\//g, "%2F")).join("/");
  } catch (error) {
    warning(false, `The URL path "${value}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${error}).`);
    return value;
  }
}
function stripBasename(pathname, basename) {
  if (basename === "/")
    return pathname;
  if (!pathname.toLowerCase().startsWith(basename.toLowerCase())) {
    return null;
  }
  let startIndex = basename.endsWith("/") ? basename.length - 1 : basename.length;
  let nextChar = pathname.charAt(startIndex);
  if (nextChar && nextChar !== "/") {
    return null;
  }
  return pathname.slice(startIndex) || "/";
}
function prependBasename({
  basename,
  pathname
}) {
  return pathname === "/" ? basename : joinPaths([basename, pathname]);
}
function resolvePath(to, fromPathname = "/") {
  let {
    pathname: toPathname,
    search = "",
    hash = ""
  } = typeof to === "string" ? parsePath(to) : to;
  let pathname = toPathname ? toPathname.startsWith("/") ? toPathname : resolvePathname(toPathname, fromPathname) : fromPathname;
  return {
    pathname,
    search: normalizeSearch(search),
    hash: normalizeHash(hash)
  };
}
function resolvePathname(relativePath, fromPathname) {
  let segments = fromPathname.replace(/\/+$/, "").split("/");
  let relativeSegments = relativePath.split("/");
  relativeSegments.forEach((segment) => {
    if (segment === "..") {
      if (segments.length > 1)
        segments.pop();
    } else if (segment !== ".") {
      segments.push(segment);
    }
  });
  return segments.length > 1 ? segments.join("/") : "/";
}
function getInvalidPathError(char, field, dest, path) {
  return `Cannot include a '${char}' character in a manually specified \`to.${field}\` field [${JSON.stringify(path)}].  Please separate it out to the \`to.${dest}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`;
}
function getPathContributingMatches(matches) {
  return matches.filter((match, index) => index === 0 || match.route.path && match.route.path.length > 0);
}
function getResolveToMatches(matches) {
  let pathMatches = getPathContributingMatches(matches);
  return pathMatches.map((match, idx) => idx === pathMatches.length - 1 ? match.pathname : match.pathnameBase);
}
function resolveTo(toArg, routePathnames, locationPathname, isPathRelative = false) {
  let to;
  if (typeof toArg === "string") {
    to = parsePath(toArg);
  } else {
    to = { ...toArg };
    invariant(!to.pathname || !to.pathname.includes("?"), getInvalidPathError("?", "pathname", "search", to));
    invariant(!to.pathname || !to.pathname.includes("#"), getInvalidPathError("#", "pathname", "hash", to));
    invariant(!to.search || !to.search.includes("#"), getInvalidPathError("#", "search", "hash", to));
  }
  let isEmptyPath = toArg === "" || to.pathname === "";
  let toPathname = isEmptyPath ? "/" : to.pathname;
  let from;
  if (toPathname == null) {
    from = locationPathname;
  } else {
    let routePathnameIndex = routePathnames.length - 1;
    if (!isPathRelative && toPathname.startsWith("..")) {
      let toSegments = toPathname.split("/");
      while (toSegments[0] === "..") {
        toSegments.shift();
        routePathnameIndex -= 1;
      }
      to.pathname = toSegments.join("/");
    }
    from = routePathnameIndex >= 0 ? routePathnames[routePathnameIndex] : "/";
  }
  let path = resolvePath(to, from);
  let hasExplicitTrailingSlash = toPathname && toPathname !== "/" && toPathname.endsWith("/");
  let hasCurrentTrailingSlash = (isEmptyPath || toPathname === ".") && locationPathname.endsWith("/");
  if (!path.pathname.endsWith("/") && (hasExplicitTrailingSlash || hasCurrentTrailingSlash)) {
    path.pathname += "/";
  }
  return path;
}
var joinPaths = (paths) => paths.join("/").replace(/\/\/+/g, "/");
var normalizePathname = (pathname) => pathname.replace(/\/+$/, "").replace(/^\/*/, "/");
var normalizeSearch = (search) => !search || search === "?" ? "" : search.startsWith("?") ? search : "?" + search;
var normalizeHash = (hash) => !hash || hash === "#" ? "" : hash.startsWith("#") ? hash : "#" + hash;
var ErrorResponseImpl = class {
  constructor(status, statusText, data2, internal = false) {
    this.status = status;
    this.statusText = statusText || "";
    this.internal = internal;
    if (data2 instanceof Error) {
      this.data = data2.toString();
      this.error = data2;
    } else {
      this.data = data2;
    }
  }
};
function isRouteErrorResponse(error) {
  return error != null && typeof error.status === "number" && typeof error.statusText === "string" && typeof error.internal === "boolean" && "data" in error;
}
function getRoutePattern(paths) {
  return paths.filter(Boolean).join("/").replace(/\/\/*/g, "/") || "/";
}
var UninstrumentedSymbol = Symbol("Uninstrumented");
function getRouteInstrumentationUpdates(fns, route) {
  let aggregated = {
    lazy: [],
    "lazy.loader": [],
    "lazy.action": [],
    "lazy.middleware": [],
    middleware: [],
    loader: [],
    action: []
  };
  fns.forEach((fn) => fn({
    id: route.id,
    index: route.index,
    path: route.path,
    instrument(i) {
      let keys = Object.keys(aggregated);
      for (let key of keys) {
        if (i[key]) {
          aggregated[key].push(i[key]);
        }
      }
    }
  }));
  let updates = {};
  if (typeof route.lazy === "function" && aggregated.lazy.length > 0) {
    let instrumented = wrapImpl(aggregated.lazy, route.lazy, () => {
      return;
    });
    if (instrumented) {
      updates.lazy = instrumented;
    }
  }
  if (typeof route.lazy === "object") {
    let lazyObject = route.lazy;
    ["middleware", "loader", "action"].forEach((key) => {
      let lazyFn = lazyObject[key];
      let instrumentations = aggregated[`lazy.${key}`];
      if (typeof lazyFn === "function" && instrumentations.length > 0) {
        let instrumented = wrapImpl(instrumentations, lazyFn, () => {
          return;
        });
        if (instrumented) {
          updates.lazy = Object.assign(updates.lazy || {}, {
            [key]: instrumented
          });
        }
      }
    });
  }
  ["loader", "action"].forEach((key) => {
    let handler = route[key];
    if (typeof handler === "function" && aggregated[key].length > 0) {
      let original = handler[UninstrumentedSymbol] ?? handler;
      let instrumented = wrapImpl(aggregated[key], original, (...args) => getHandlerInfo(args[0]));
      if (instrumented) {
        instrumented[UninstrumentedSymbol] = original;
        updates[key] = instrumented;
      }
    }
  });
  if (route.middleware && route.middleware.length > 0 && aggregated.middleware.length > 0) {
    updates.middleware = route.middleware.map((middleware) => {
      let original = middleware[UninstrumentedSymbol] ?? middleware;
      let instrumented = wrapImpl(aggregated.middleware, original, (...args) => getHandlerInfo(args[0]));
      if (instrumented) {
        instrumented[UninstrumentedSymbol] = original;
        return instrumented;
      }
      return middleware;
    });
  }
  return updates;
}
function instrumentClientSideRouter(router, fns) {
  let aggregated = {
    navigate: [],
    fetch: []
  };
  fns.forEach((fn) => fn({
    instrument(i) {
      let keys = Object.keys(i);
      for (let key of keys) {
        if (i[key]) {
          aggregated[key].push(i[key]);
        }
      }
    }
  }));
  if (aggregated.navigate.length > 0) {
    let navigate = router.navigate[UninstrumentedSymbol] ?? router.navigate;
    let instrumentedNavigate = wrapImpl(aggregated.navigate, navigate, (...args) => {
      let [to, opts] = args;
      return {
        to: typeof to === "number" || typeof to === "string" ? to : to ? createPath(to) : ".",
        ...getRouterInfo(router, opts ?? {})
      };
    });
    if (instrumentedNavigate) {
      instrumentedNavigate[UninstrumentedSymbol] = navigate;
      router.navigate = instrumentedNavigate;
    }
  }
  if (aggregated.fetch.length > 0) {
    let fetch2 = router.fetch[UninstrumentedSymbol] ?? router.fetch;
    let instrumentedFetch = wrapImpl(aggregated.fetch, fetch2, (...args) => {
      let [key, , href, opts] = args;
      return {
        href: href ?? ".",
        fetcherKey: key,
        ...getRouterInfo(router, opts ?? {})
      };
    });
    if (instrumentedFetch) {
      instrumentedFetch[UninstrumentedSymbol] = fetch2;
      router.fetch = instrumentedFetch;
    }
  }
  return router;
}
function wrapImpl(impls, handler, getInfo) {
  if (impls.length === 0) {
    return null;
  }
  return async (...args) => {
    let result = await recurseRight(impls, getInfo(...args), () => handler(...args), impls.length - 1);
    if (result.type === "error") {
      throw result.value;
    }
    return result.value;
  };
}
async function recurseRight(impls, info, handler, index) {
  let impl = impls[index];
  let result;
  if (!impl) {
    try {
      let value = await handler();
      result = { type: "success", value };
    } catch (e) {
      result = { type: "error", value: e };
    }
  } else {
    let handlerPromise = undefined;
    let callHandler = async () => {
      if (handlerPromise) {
        console.error("You cannot call instrumented handlers more than once");
      } else {
        handlerPromise = recurseRight(impls, info, handler, index - 1);
      }
      result = await handlerPromise;
      invariant(result, "Expected a result");
      if (result.type === "error" && result.value instanceof Error) {
        return { status: "error", error: result.value };
      }
      return { status: "success", error: undefined };
    };
    try {
      await impl(callHandler, info);
    } catch (e) {
      console.error("An instrumentation function threw an error:", e);
    }
    if (!handlerPromise) {
      await callHandler();
    }
    await handlerPromise;
  }
  if (result) {
    return result;
  }
  return {
    type: "error",
    value: new Error("No result assigned in instrumentation chain.")
  };
}
function getHandlerInfo(args) {
  let { request, context, params, unstable_pattern } = args;
  return {
    request: getReadonlyRequest(request),
    params: { ...params },
    unstable_pattern,
    context: getReadonlyContext(context)
  };
}
function getRouterInfo(router, opts) {
  return {
    currentUrl: createPath(router.state.location),
    ..."formMethod" in opts ? { formMethod: opts.formMethod } : {},
    ..."formEncType" in opts ? { formEncType: opts.formEncType } : {},
    ..."formData" in opts ? { formData: opts.formData } : {},
    ..."body" in opts ? { body: opts.body } : {}
  };
}
function getReadonlyRequest(request) {
  return {
    method: request.method,
    url: request.url,
    headers: {
      get: (...args) => request.headers.get(...args)
    }
  };
}
function getReadonlyContext(context) {
  if (isPlainObject(context)) {
    let frozen = { ...context };
    Object.freeze(frozen);
    return frozen;
  } else {
    return {
      get: (ctx) => context.get(ctx)
    };
  }
}
var objectProtoNames = Object.getOwnPropertyNames(Object.prototype).sort().join("\x00");
function isPlainObject(thing) {
  if (thing === null || typeof thing !== "object") {
    return false;
  }
  const proto = Object.getPrototypeOf(thing);
  return proto === Object.prototype || proto === null || Object.getOwnPropertyNames(proto).sort().join("\x00") === objectProtoNames;
}
var validMutationMethodsArr = [
  "POST",
  "PUT",
  "PATCH",
  "DELETE"
];
var validMutationMethods = new Set(validMutationMethodsArr);
var validRequestMethodsArr = [
  "GET",
  ...validMutationMethodsArr
];
var validRequestMethods = new Set(validRequestMethodsArr);
var redirectStatusCodes = /* @__PURE__ */ new Set([301, 302, 303, 307, 308]);
var redirectPreserveMethodStatusCodes = /* @__PURE__ */ new Set([307, 308]);
var IDLE_NAVIGATION = {
  state: "idle",
  location: undefined,
  formMethod: undefined,
  formAction: undefined,
  formEncType: undefined,
  formData: undefined,
  json: undefined,
  text: undefined
};
var IDLE_FETCHER = {
  state: "idle",
  data: undefined,
  formMethod: undefined,
  formAction: undefined,
  formEncType: undefined,
  formData: undefined,
  json: undefined,
  text: undefined
};
var IDLE_BLOCKER = {
  state: "unblocked",
  proceed: undefined,
  reset: undefined,
  location: undefined
};
var ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;
var isAbsoluteUrl = (url) => ABSOLUTE_URL_REGEX.test(url);
var defaultMapRouteProperties = (route) => ({
  hasErrorBoundary: Boolean(route.hasErrorBoundary)
});
var TRANSITIONS_STORAGE_KEY = "remix-router-transitions";
var ResetLoaderDataSymbol = Symbol("ResetLoaderData");
function createRouter(init) {
  const routerWindow = init.window ? init.window : typeof window !== "undefined" ? window : undefined;
  const isBrowser2 = typeof routerWindow !== "undefined" && typeof routerWindow.document !== "undefined" && typeof routerWindow.document.createElement !== "undefined";
  invariant(init.routes.length > 0, "You must provide a non-empty routes array to createRouter");
  let hydrationRouteProperties2 = init.hydrationRouteProperties || [];
  let _mapRouteProperties = init.mapRouteProperties || defaultMapRouteProperties;
  let mapRouteProperties2 = _mapRouteProperties;
  if (init.unstable_instrumentations) {
    let instrumentations = init.unstable_instrumentations;
    mapRouteProperties2 = (route) => {
      return {
        ..._mapRouteProperties(route),
        ...getRouteInstrumentationUpdates(instrumentations.map((i) => i.route).filter(Boolean), route)
      };
    };
  }
  let manifest = {};
  let dataRoutes = convertRoutesToDataRoutes(init.routes, mapRouteProperties2, undefined, manifest);
  let inFlightDataRoutes;
  let basename = init.basename || "/";
  if (!basename.startsWith("/")) {
    basename = `/${basename}`;
  }
  let dataStrategyImpl = init.dataStrategy || defaultDataStrategyWithMiddleware;
  let future = {
    ...init.future
  };
  let unlistenHistory = null;
  let subscribers = /* @__PURE__ */ new Set;
  let savedScrollPositions2 = null;
  let getScrollRestorationKey2 = null;
  let getScrollPosition = null;
  let initialScrollRestored = init.hydrationData != null;
  let initialMatches = matchRoutes(dataRoutes, init.history.location, basename);
  let initialMatchesIsFOW = false;
  let initialErrors = null;
  let initialized;
  if (initialMatches == null && !init.patchRoutesOnNavigation) {
    let error = getInternalRouterError(404, {
      pathname: init.history.location.pathname
    });
    let { matches, route } = getShortCircuitMatches(dataRoutes);
    initialized = true;
    initialMatches = matches;
    initialErrors = { [route.id]: error };
  } else {
    if (initialMatches && !init.hydrationData) {
      let fogOfWar = checkFogOfWar(initialMatches, dataRoutes, init.history.location.pathname);
      if (fogOfWar.active) {
        initialMatches = null;
      }
    }
    if (!initialMatches) {
      initialized = false;
      initialMatches = [];
      let fogOfWar = checkFogOfWar(null, dataRoutes, init.history.location.pathname);
      if (fogOfWar.active && fogOfWar.matches) {
        initialMatchesIsFOW = true;
        initialMatches = fogOfWar.matches;
      }
    } else if (initialMatches.some((m) => m.route.lazy)) {
      initialized = false;
    } else if (!initialMatches.some((m) => routeHasLoaderOrMiddleware(m.route))) {
      initialized = true;
    } else {
      let loaderData = init.hydrationData ? init.hydrationData.loaderData : null;
      let errors = init.hydrationData ? init.hydrationData.errors : null;
      if (errors) {
        let idx = initialMatches.findIndex((m) => errors[m.route.id] !== undefined);
        initialized = initialMatches.slice(0, idx + 1).every((m) => !shouldLoadRouteOnHydration(m.route, loaderData, errors));
      } else {
        initialized = initialMatches.every((m) => !shouldLoadRouteOnHydration(m.route, loaderData, errors));
      }
    }
  }
  let router;
  let state = {
    historyAction: init.history.action,
    location: init.history.location,
    matches: initialMatches,
    initialized,
    navigation: IDLE_NAVIGATION,
    restoreScrollPosition: init.hydrationData != null ? false : null,
    preventScrollReset: false,
    revalidation: "idle",
    loaderData: init.hydrationData && init.hydrationData.loaderData || {},
    actionData: init.hydrationData && init.hydrationData.actionData || null,
    errors: init.hydrationData && init.hydrationData.errors || initialErrors,
    fetchers: /* @__PURE__ */ new Map,
    blockers: /* @__PURE__ */ new Map
  };
  let pendingAction = "POP";
  let pendingPreventScrollReset = false;
  let pendingNavigationController;
  let pendingViewTransitionEnabled = false;
  let appliedViewTransitions = /* @__PURE__ */ new Map;
  let removePageHideEventListener = null;
  let isUninterruptedRevalidation = false;
  let isRevalidationRequired = false;
  let cancelledFetcherLoads = /* @__PURE__ */ new Set;
  let fetchControllers = /* @__PURE__ */ new Map;
  let incrementingLoadId = 0;
  let pendingNavigationLoadId = -1;
  let fetchReloadIds = /* @__PURE__ */ new Map;
  let fetchRedirectIds = /* @__PURE__ */ new Set;
  let fetchLoadMatches = /* @__PURE__ */ new Map;
  let activeFetchers = /* @__PURE__ */ new Map;
  let fetchersQueuedForDeletion = /* @__PURE__ */ new Set;
  let blockerFunctions = /* @__PURE__ */ new Map;
  let unblockBlockerHistoryUpdate = undefined;
  let pendingRevalidationDfd = null;
  function initialize() {
    unlistenHistory = init.history.listen(({ action: historyAction, location: location2, delta }) => {
      if (unblockBlockerHistoryUpdate) {
        unblockBlockerHistoryUpdate();
        unblockBlockerHistoryUpdate = undefined;
        return;
      }
      warning(blockerFunctions.size === 0 || delta != null, "You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");
      let blockerKey = shouldBlockNavigation({
        currentLocation: state.location,
        nextLocation: location2,
        historyAction
      });
      if (blockerKey && delta != null) {
        let nextHistoryUpdatePromise = new Promise((resolve) => {
          unblockBlockerHistoryUpdate = resolve;
        });
        init.history.go(delta * -1);
        updateBlocker(blockerKey, {
          state: "blocked",
          location: location2,
          proceed() {
            updateBlocker(blockerKey, {
              state: "proceeding",
              proceed: undefined,
              reset: undefined,
              location: location2
            });
            nextHistoryUpdatePromise.then(() => init.history.go(delta));
          },
          reset() {
            let blockers = new Map(state.blockers);
            blockers.set(blockerKey, IDLE_BLOCKER);
            updateState({ blockers });
          }
        });
        return;
      }
      return startNavigation(historyAction, location2);
    });
    if (isBrowser2) {
      restoreAppliedTransitions(routerWindow, appliedViewTransitions);
      let _saveAppliedTransitions = () => persistAppliedTransitions(routerWindow, appliedViewTransitions);
      routerWindow.addEventListener("pagehide", _saveAppliedTransitions);
      removePageHideEventListener = () => routerWindow.removeEventListener("pagehide", _saveAppliedTransitions);
    }
    if (!state.initialized) {
      startNavigation("POP", state.location, {
        initialHydration: true
      });
    }
    return router;
  }
  function dispose() {
    if (unlistenHistory) {
      unlistenHistory();
    }
    if (removePageHideEventListener) {
      removePageHideEventListener();
    }
    subscribers.clear();
    pendingNavigationController && pendingNavigationController.abort();
    state.fetchers.forEach((_, key) => deleteFetcher(key));
    state.blockers.forEach((_, key) => deleteBlocker(key));
  }
  function subscribe(fn) {
    subscribers.add(fn);
    return () => subscribers.delete(fn);
  }
  function updateState(newState, opts = {}) {
    if (newState.matches) {
      newState.matches = newState.matches.map((m) => {
        let route = manifest[m.route.id];
        let matchRoute = m.route;
        if (matchRoute.element !== route.element || matchRoute.errorElement !== route.errorElement || matchRoute.hydrateFallbackElement !== route.hydrateFallbackElement) {
          return {
            ...m,
            route
          };
        }
        return m;
      });
    }
    state = {
      ...state,
      ...newState
    };
    let unmountedFetchers = [];
    let mountedFetchers = [];
    state.fetchers.forEach((fetcher, key) => {
      if (fetcher.state === "idle") {
        if (fetchersQueuedForDeletion.has(key)) {
          unmountedFetchers.push(key);
        } else {
          mountedFetchers.push(key);
        }
      }
    });
    fetchersQueuedForDeletion.forEach((key) => {
      if (!state.fetchers.has(key) && !fetchControllers.has(key)) {
        unmountedFetchers.push(key);
      }
    });
    [...subscribers].forEach((subscriber) => subscriber(state, {
      deletedFetchers: unmountedFetchers,
      viewTransitionOpts: opts.viewTransitionOpts,
      flushSync: opts.flushSync === true
    }));
    unmountedFetchers.forEach((key) => deleteFetcher(key));
    mountedFetchers.forEach((key) => state.fetchers.delete(key));
  }
  function completeNavigation(location2, newState, { flushSync } = {}) {
    let isActionReload = state.actionData != null && state.navigation.formMethod != null && isMutationMethod(state.navigation.formMethod) && state.navigation.state === "loading" && location2.state?._isRedirect !== true;
    let actionData;
    if (newState.actionData) {
      if (Object.keys(newState.actionData).length > 0) {
        actionData = newState.actionData;
      } else {
        actionData = null;
      }
    } else if (isActionReload) {
      actionData = state.actionData;
    } else {
      actionData = null;
    }
    let loaderData = newState.loaderData ? mergeLoaderData(state.loaderData, newState.loaderData, newState.matches || [], newState.errors) : state.loaderData;
    let blockers = state.blockers;
    if (blockers.size > 0) {
      blockers = new Map(blockers);
      blockers.forEach((_, k) => blockers.set(k, IDLE_BLOCKER));
    }
    let restoreScrollPosition = isUninterruptedRevalidation ? false : getSavedScrollPosition(location2, newState.matches || state.matches);
    let preventScrollReset = pendingPreventScrollReset === true || state.navigation.formMethod != null && isMutationMethod(state.navigation.formMethod) && location2.state?._isRedirect !== true;
    if (inFlightDataRoutes) {
      dataRoutes = inFlightDataRoutes;
      inFlightDataRoutes = undefined;
    }
    if (isUninterruptedRevalidation) {} else if (pendingAction === "POP") {} else if (pendingAction === "PUSH") {
      init.history.push(location2, location2.state);
    } else if (pendingAction === "REPLACE") {
      init.history.replace(location2, location2.state);
    }
    let viewTransitionOpts;
    if (pendingAction === "POP") {
      let priorPaths = appliedViewTransitions.get(state.location.pathname);
      if (priorPaths && priorPaths.has(location2.pathname)) {
        viewTransitionOpts = {
          currentLocation: state.location,
          nextLocation: location2
        };
      } else if (appliedViewTransitions.has(location2.pathname)) {
        viewTransitionOpts = {
          currentLocation: location2,
          nextLocation: state.location
        };
      }
    } else if (pendingViewTransitionEnabled) {
      let toPaths = appliedViewTransitions.get(state.location.pathname);
      if (toPaths) {
        toPaths.add(location2.pathname);
      } else {
        toPaths = /* @__PURE__ */ new Set([location2.pathname]);
        appliedViewTransitions.set(state.location.pathname, toPaths);
      }
      viewTransitionOpts = {
        currentLocation: state.location,
        nextLocation: location2
      };
    }
    updateState({
      ...newState,
      actionData,
      loaderData,
      historyAction: pendingAction,
      location: location2,
      initialized: true,
      navigation: IDLE_NAVIGATION,
      revalidation: "idle",
      restoreScrollPosition,
      preventScrollReset,
      blockers
    }, {
      viewTransitionOpts,
      flushSync: flushSync === true
    });
    pendingAction = "POP";
    pendingPreventScrollReset = false;
    pendingViewTransitionEnabled = false;
    isUninterruptedRevalidation = false;
    isRevalidationRequired = false;
    pendingRevalidationDfd?.resolve();
    pendingRevalidationDfd = null;
  }
  async function navigate(to, opts) {
    if (typeof to === "number") {
      init.history.go(to);
      return;
    }
    let normalizedPath = normalizeTo(state.location, state.matches, basename, to, opts?.fromRouteId, opts?.relative);
    let { path, submission, error } = normalizeNavigateOptions(false, normalizedPath, opts);
    let currentLocation = state.location;
    let nextLocation = createLocation(state.location, path, opts && opts.state);
    nextLocation = {
      ...nextLocation,
      ...init.history.encodeLocation(nextLocation)
    };
    let userReplace = opts && opts.replace != null ? opts.replace : undefined;
    let historyAction = "PUSH";
    if (userReplace === true) {
      historyAction = "REPLACE";
    } else if (userReplace === false) {} else if (submission != null && isMutationMethod(submission.formMethod) && submission.formAction === state.location.pathname + state.location.search) {
      historyAction = "REPLACE";
    }
    let preventScrollReset = opts && "preventScrollReset" in opts ? opts.preventScrollReset === true : undefined;
    let flushSync = (opts && opts.flushSync) === true;
    let blockerKey = shouldBlockNavigation({
      currentLocation,
      nextLocation,
      historyAction
    });
    if (blockerKey) {
      updateBlocker(blockerKey, {
        state: "blocked",
        location: nextLocation,
        proceed() {
          updateBlocker(blockerKey, {
            state: "proceeding",
            proceed: undefined,
            reset: undefined,
            location: nextLocation
          });
          navigate(to, opts);
        },
        reset() {
          let blockers = new Map(state.blockers);
          blockers.set(blockerKey, IDLE_BLOCKER);
          updateState({ blockers });
        }
      });
      return;
    }
    await startNavigation(historyAction, nextLocation, {
      submission,
      pendingError: error,
      preventScrollReset,
      replace: opts && opts.replace,
      enableViewTransition: opts && opts.viewTransition,
      flushSync
    });
  }
  function revalidate() {
    if (!pendingRevalidationDfd) {
      pendingRevalidationDfd = createDeferred();
    }
    interruptActiveLoads();
    updateState({ revalidation: "loading" });
    let promise = pendingRevalidationDfd.promise;
    if (state.navigation.state === "submitting") {
      return promise;
    }
    if (state.navigation.state === "idle") {
      startNavigation(state.historyAction, state.location, {
        startUninterruptedRevalidation: true
      });
      return promise;
    }
    startNavigation(pendingAction || state.historyAction, state.navigation.location, {
      overrideNavigation: state.navigation,
      enableViewTransition: pendingViewTransitionEnabled === true
    });
    return promise;
  }
  async function startNavigation(historyAction, location2, opts) {
    pendingNavigationController && pendingNavigationController.abort();
    pendingNavigationController = null;
    pendingAction = historyAction;
    isUninterruptedRevalidation = (opts && opts.startUninterruptedRevalidation) === true;
    saveScrollPosition(state.location, state.matches);
    pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;
    pendingViewTransitionEnabled = (opts && opts.enableViewTransition) === true;
    let routesToUse = inFlightDataRoutes || dataRoutes;
    let loadingNavigation = opts && opts.overrideNavigation;
    let matches = opts?.initialHydration && state.matches && state.matches.length > 0 && !initialMatchesIsFOW ? state.matches : matchRoutes(routesToUse, location2, basename);
    let flushSync = (opts && opts.flushSync) === true;
    if (matches && state.initialized && !isRevalidationRequired && isHashChangeOnly(state.location, location2) && !(opts && opts.submission && isMutationMethod(opts.submission.formMethod))) {
      completeNavigation(location2, { matches }, { flushSync });
      return;
    }
    let fogOfWar = checkFogOfWar(matches, routesToUse, location2.pathname);
    if (fogOfWar.active && fogOfWar.matches) {
      matches = fogOfWar.matches;
    }
    if (!matches) {
      let { error, notFoundMatches, route } = handleNavigational404(location2.pathname);
      completeNavigation(location2, {
        matches: notFoundMatches,
        loaderData: {},
        errors: {
          [route.id]: error
        }
      }, { flushSync });
      return;
    }
    pendingNavigationController = new AbortController;
    let request = createClientSideRequest(init.history, location2, pendingNavigationController.signal, opts && opts.submission);
    let scopedContext = init.getContext ? await init.getContext() : new RouterContextProvider;
    let pendingActionResult;
    if (opts && opts.pendingError) {
      pendingActionResult = [
        findNearestBoundary(matches).route.id,
        { type: "error", error: opts.pendingError }
      ];
    } else if (opts && opts.submission && isMutationMethod(opts.submission.formMethod)) {
      let actionResult = await handleAction(request, location2, opts.submission, matches, scopedContext, fogOfWar.active, opts && opts.initialHydration === true, { replace: opts.replace, flushSync });
      if (actionResult.shortCircuited) {
        return;
      }
      if (actionResult.pendingActionResult) {
        let [routeId, result] = actionResult.pendingActionResult;
        if (isErrorResult(result) && isRouteErrorResponse(result.error) && result.error.status === 404) {
          pendingNavigationController = null;
          completeNavigation(location2, {
            matches: actionResult.matches,
            loaderData: {},
            errors: {
              [routeId]: result.error
            }
          });
          return;
        }
      }
      matches = actionResult.matches || matches;
      pendingActionResult = actionResult.pendingActionResult;
      loadingNavigation = getLoadingNavigation(location2, opts.submission);
      flushSync = false;
      fogOfWar.active = false;
      request = createClientSideRequest(init.history, request.url, request.signal);
    }
    let {
      shortCircuited,
      matches: updatedMatches,
      loaderData,
      errors
    } = await handleLoaders(request, location2, matches, scopedContext, fogOfWar.active, loadingNavigation, opts && opts.submission, opts && opts.fetcherSubmission, opts && opts.replace, opts && opts.initialHydration === true, flushSync, pendingActionResult);
    if (shortCircuited) {
      return;
    }
    pendingNavigationController = null;
    completeNavigation(location2, {
      matches: updatedMatches || matches,
      ...getActionDataForCommit(pendingActionResult),
      loaderData,
      errors
    });
  }
  async function handleAction(request, location2, submission, matches, scopedContext, isFogOfWar, initialHydration, opts = {}) {
    interruptActiveLoads();
    let navigation = getSubmittingNavigation(location2, submission);
    updateState({ navigation }, { flushSync: opts.flushSync === true });
    if (isFogOfWar) {
      let discoverResult = await discoverRoutes(matches, location2.pathname, request.signal);
      if (discoverResult.type === "aborted") {
        return { shortCircuited: true };
      } else if (discoverResult.type === "error") {
        if (discoverResult.partialMatches.length === 0) {
          let { matches: matches2, route } = getShortCircuitMatches(dataRoutes);
          return {
            matches: matches2,
            pendingActionResult: [
              route.id,
              {
                type: "error",
                error: discoverResult.error
              }
            ]
          };
        }
        let boundaryId = findNearestBoundary(discoverResult.partialMatches).route.id;
        return {
          matches: discoverResult.partialMatches,
          pendingActionResult: [
            boundaryId,
            {
              type: "error",
              error: discoverResult.error
            }
          ]
        };
      } else if (!discoverResult.matches) {
        let { notFoundMatches, error, route } = handleNavigational404(location2.pathname);
        return {
          matches: notFoundMatches,
          pendingActionResult: [
            route.id,
            {
              type: "error",
              error
            }
          ]
        };
      } else {
        matches = discoverResult.matches;
      }
    }
    let result;
    let actionMatch = getTargetMatch(matches, location2);
    if (!actionMatch.route.action && !actionMatch.route.lazy) {
      result = {
        type: "error",
        error: getInternalRouterError(405, {
          method: request.method,
          pathname: location2.pathname,
          routeId: actionMatch.route.id
        })
      };
    } else {
      let dsMatches = getTargetedDataStrategyMatches(mapRouteProperties2, manifest, request, matches, actionMatch, initialHydration ? [] : hydrationRouteProperties2, scopedContext);
      let results = await callDataStrategy(request, dsMatches, scopedContext, null);
      result = results[actionMatch.route.id];
      if (!result) {
        for (let match of matches) {
          if (results[match.route.id]) {
            result = results[match.route.id];
            break;
          }
        }
      }
      if (request.signal.aborted) {
        return { shortCircuited: true };
      }
    }
    if (isRedirectResult(result)) {
      let replace2;
      if (opts && opts.replace != null) {
        replace2 = opts.replace;
      } else {
        let location22 = normalizeRedirectLocation(result.response.headers.get("Location"), new URL(request.url), basename);
        replace2 = location22 === state.location.pathname + state.location.search;
      }
      await startRedirectNavigation(request, result, true, {
        submission,
        replace: replace2
      });
      return { shortCircuited: true };
    }
    if (isErrorResult(result)) {
      let boundaryMatch = findNearestBoundary(matches, actionMatch.route.id);
      if ((opts && opts.replace) !== true) {
        pendingAction = "PUSH";
      }
      return {
        matches,
        pendingActionResult: [
          boundaryMatch.route.id,
          result,
          actionMatch.route.id
        ]
      };
    }
    return {
      matches,
      pendingActionResult: [actionMatch.route.id, result]
    };
  }
  async function handleLoaders(request, location2, matches, scopedContext, isFogOfWar, overrideNavigation, submission, fetcherSubmission, replace2, initialHydration, flushSync, pendingActionResult) {
    let loadingNavigation = overrideNavigation || getLoadingNavigation(location2, submission);
    let activeSubmission = submission || fetcherSubmission || getSubmissionFromNavigation(loadingNavigation);
    let shouldUpdateNavigationState = !isUninterruptedRevalidation && !initialHydration;
    if (isFogOfWar) {
      if (shouldUpdateNavigationState) {
        let actionData = getUpdatedActionData(pendingActionResult);
        updateState({
          navigation: loadingNavigation,
          ...actionData !== undefined ? { actionData } : {}
        }, {
          flushSync
        });
      }
      let discoverResult = await discoverRoutes(matches, location2.pathname, request.signal);
      if (discoverResult.type === "aborted") {
        return { shortCircuited: true };
      } else if (discoverResult.type === "error") {
        if (discoverResult.partialMatches.length === 0) {
          let { matches: matches2, route } = getShortCircuitMatches(dataRoutes);
          return {
            matches: matches2,
            loaderData: {},
            errors: {
              [route.id]: discoverResult.error
            }
          };
        }
        let boundaryId = findNearestBoundary(discoverResult.partialMatches).route.id;
        return {
          matches: discoverResult.partialMatches,
          loaderData: {},
          errors: {
            [boundaryId]: discoverResult.error
          }
        };
      } else if (!discoverResult.matches) {
        let { error, notFoundMatches, route } = handleNavigational404(location2.pathname);
        return {
          matches: notFoundMatches,
          loaderData: {},
          errors: {
            [route.id]: error
          }
        };
      } else {
        matches = discoverResult.matches;
      }
    }
    let routesToUse = inFlightDataRoutes || dataRoutes;
    let { dsMatches, revalidatingFetchers } = getMatchesToLoad(request, scopedContext, mapRouteProperties2, manifest, init.history, state, matches, activeSubmission, location2, initialHydration ? [] : hydrationRouteProperties2, initialHydration === true, isRevalidationRequired, cancelledFetcherLoads, fetchersQueuedForDeletion, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, init.patchRoutesOnNavigation != null, pendingActionResult);
    pendingNavigationLoadId = ++incrementingLoadId;
    if (!init.dataStrategy && !dsMatches.some((m) => m.shouldLoad) && !dsMatches.some((m) => m.route.middleware && m.route.middleware.length > 0) && revalidatingFetchers.length === 0) {
      let updatedFetchers2 = markFetchRedirectsDone();
      completeNavigation(location2, {
        matches,
        loaderData: {},
        errors: pendingActionResult && isErrorResult(pendingActionResult[1]) ? { [pendingActionResult[0]]: pendingActionResult[1].error } : null,
        ...getActionDataForCommit(pendingActionResult),
        ...updatedFetchers2 ? { fetchers: new Map(state.fetchers) } : {}
      }, { flushSync });
      return { shortCircuited: true };
    }
    if (shouldUpdateNavigationState) {
      let updates = {};
      if (!isFogOfWar) {
        updates.navigation = loadingNavigation;
        let actionData = getUpdatedActionData(pendingActionResult);
        if (actionData !== undefined) {
          updates.actionData = actionData;
        }
      }
      if (revalidatingFetchers.length > 0) {
        updates.fetchers = getUpdatedRevalidatingFetchers(revalidatingFetchers);
      }
      updateState(updates, { flushSync });
    }
    revalidatingFetchers.forEach((rf) => {
      abortFetcher(rf.key);
      if (rf.controller) {
        fetchControllers.set(rf.key, rf.controller);
      }
    });
    let abortPendingFetchRevalidations = () => revalidatingFetchers.forEach((f) => abortFetcher(f.key));
    if (pendingNavigationController) {
      pendingNavigationController.signal.addEventListener("abort", abortPendingFetchRevalidations);
    }
    let { loaderResults, fetcherResults } = await callLoadersAndMaybeResolveData(dsMatches, revalidatingFetchers, request, scopedContext);
    if (request.signal.aborted) {
      return { shortCircuited: true };
    }
    if (pendingNavigationController) {
      pendingNavigationController.signal.removeEventListener("abort", abortPendingFetchRevalidations);
    }
    revalidatingFetchers.forEach((rf) => fetchControllers.delete(rf.key));
    let redirect2 = findRedirect(loaderResults);
    if (redirect2) {
      await startRedirectNavigation(request, redirect2.result, true, {
        replace: replace2
      });
      return { shortCircuited: true };
    }
    redirect2 = findRedirect(fetcherResults);
    if (redirect2) {
      fetchRedirectIds.add(redirect2.key);
      await startRedirectNavigation(request, redirect2.result, true, {
        replace: replace2
      });
      return { shortCircuited: true };
    }
    let { loaderData, errors } = processLoaderData(state, matches, loaderResults, pendingActionResult, revalidatingFetchers, fetcherResults);
    if (initialHydration && state.errors) {
      errors = { ...state.errors, ...errors };
    }
    let updatedFetchers = markFetchRedirectsDone();
    let didAbortFetchLoads = abortStaleFetchLoads(pendingNavigationLoadId);
    let shouldUpdateFetchers = updatedFetchers || didAbortFetchLoads || revalidatingFetchers.length > 0;
    return {
      matches,
      loaderData,
      errors,
      ...shouldUpdateFetchers ? { fetchers: new Map(state.fetchers) } : {}
    };
  }
  function getUpdatedActionData(pendingActionResult) {
    if (pendingActionResult && !isErrorResult(pendingActionResult[1])) {
      return {
        [pendingActionResult[0]]: pendingActionResult[1].data
      };
    } else if (state.actionData) {
      if (Object.keys(state.actionData).length === 0) {
        return null;
      } else {
        return state.actionData;
      }
    }
  }
  function getUpdatedRevalidatingFetchers(revalidatingFetchers) {
    revalidatingFetchers.forEach((rf) => {
      let fetcher = state.fetchers.get(rf.key);
      let revalidatingFetcher = getLoadingFetcher(undefined, fetcher ? fetcher.data : undefined);
      state.fetchers.set(rf.key, revalidatingFetcher);
    });
    return new Map(state.fetchers);
  }
  async function fetch2(key, routeId, href, opts) {
    abortFetcher(key);
    let flushSync = (opts && opts.flushSync) === true;
    let routesToUse = inFlightDataRoutes || dataRoutes;
    let normalizedPath = normalizeTo(state.location, state.matches, basename, href, routeId, opts?.relative);
    let matches = matchRoutes(routesToUse, normalizedPath, basename);
    let fogOfWar = checkFogOfWar(matches, routesToUse, normalizedPath);
    if (fogOfWar.active && fogOfWar.matches) {
      matches = fogOfWar.matches;
    }
    if (!matches) {
      setFetcherError(key, routeId, getInternalRouterError(404, { pathname: normalizedPath }), { flushSync });
      return;
    }
    let { path, submission, error } = normalizeNavigateOptions(true, normalizedPath, opts);
    if (error) {
      setFetcherError(key, routeId, error, { flushSync });
      return;
    }
    let scopedContext = init.getContext ? await init.getContext() : new RouterContextProvider;
    let preventScrollReset = (opts && opts.preventScrollReset) === true;
    if (submission && isMutationMethod(submission.formMethod)) {
      await handleFetcherAction(key, routeId, path, matches, scopedContext, fogOfWar.active, flushSync, preventScrollReset, submission);
      return;
    }
    fetchLoadMatches.set(key, { routeId, path });
    await handleFetcherLoader(key, routeId, path, matches, scopedContext, fogOfWar.active, flushSync, preventScrollReset, submission);
  }
  async function handleFetcherAction(key, routeId, path, requestMatches, scopedContext, isFogOfWar, flushSync, preventScrollReset, submission) {
    interruptActiveLoads();
    fetchLoadMatches.delete(key);
    let existingFetcher = state.fetchers.get(key);
    updateFetcherState(key, getSubmittingFetcher(submission, existingFetcher), {
      flushSync
    });
    let abortController = new AbortController;
    let fetchRequest = createClientSideRequest(init.history, path, abortController.signal, submission);
    if (isFogOfWar) {
      let discoverResult = await discoverRoutes(requestMatches, new URL(fetchRequest.url).pathname, fetchRequest.signal, key);
      if (discoverResult.type === "aborted") {
        return;
      } else if (discoverResult.type === "error") {
        setFetcherError(key, routeId, discoverResult.error, { flushSync });
        return;
      } else if (!discoverResult.matches) {
        setFetcherError(key, routeId, getInternalRouterError(404, { pathname: path }), { flushSync });
        return;
      } else {
        requestMatches = discoverResult.matches;
      }
    }
    let match = getTargetMatch(requestMatches, path);
    if (!match.route.action && !match.route.lazy) {
      let error = getInternalRouterError(405, {
        method: submission.formMethod,
        pathname: path,
        routeId
      });
      setFetcherError(key, routeId, error, { flushSync });
      return;
    }
    fetchControllers.set(key, abortController);
    let originatingLoadId = incrementingLoadId;
    let fetchMatches = getTargetedDataStrategyMatches(mapRouteProperties2, manifest, fetchRequest, requestMatches, match, hydrationRouteProperties2, scopedContext);
    let actionResults = await callDataStrategy(fetchRequest, fetchMatches, scopedContext, key);
    let actionResult = actionResults[match.route.id];
    if (fetchRequest.signal.aborted) {
      if (fetchControllers.get(key) === abortController) {
        fetchControllers.delete(key);
      }
      return;
    }
    if (fetchersQueuedForDeletion.has(key)) {
      if (isRedirectResult(actionResult) || isErrorResult(actionResult)) {
        updateFetcherState(key, getDoneFetcher(undefined));
        return;
      }
    } else {
      if (isRedirectResult(actionResult)) {
        fetchControllers.delete(key);
        if (pendingNavigationLoadId > originatingLoadId) {
          updateFetcherState(key, getDoneFetcher(undefined));
          return;
        } else {
          fetchRedirectIds.add(key);
          updateFetcherState(key, getLoadingFetcher(submission));
          return startRedirectNavigation(fetchRequest, actionResult, false, {
            fetcherSubmission: submission,
            preventScrollReset
          });
        }
      }
      if (isErrorResult(actionResult)) {
        setFetcherError(key, routeId, actionResult.error);
        return;
      }
    }
    let nextLocation = state.navigation.location || state.location;
    let revalidationRequest = createClientSideRequest(init.history, nextLocation, abortController.signal);
    let routesToUse = inFlightDataRoutes || dataRoutes;
    let matches = state.navigation.state !== "idle" ? matchRoutes(routesToUse, state.navigation.location, basename) : state.matches;
    invariant(matches, "Didn't find any matches after fetcher action");
    let loadId = ++incrementingLoadId;
    fetchReloadIds.set(key, loadId);
    let loadFetcher = getLoadingFetcher(submission, actionResult.data);
    state.fetchers.set(key, loadFetcher);
    let { dsMatches, revalidatingFetchers } = getMatchesToLoad(revalidationRequest, scopedContext, mapRouteProperties2, manifest, init.history, state, matches, submission, nextLocation, hydrationRouteProperties2, false, isRevalidationRequired, cancelledFetcherLoads, fetchersQueuedForDeletion, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, init.patchRoutesOnNavigation != null, [match.route.id, actionResult]);
    revalidatingFetchers.filter((rf) => rf.key !== key).forEach((rf) => {
      let staleKey = rf.key;
      let existingFetcher2 = state.fetchers.get(staleKey);
      let revalidatingFetcher = getLoadingFetcher(undefined, existingFetcher2 ? existingFetcher2.data : undefined);
      state.fetchers.set(staleKey, revalidatingFetcher);
      abortFetcher(staleKey);
      if (rf.controller) {
        fetchControllers.set(staleKey, rf.controller);
      }
    });
    updateState({ fetchers: new Map(state.fetchers) });
    let abortPendingFetchRevalidations = () => revalidatingFetchers.forEach((rf) => abortFetcher(rf.key));
    abortController.signal.addEventListener("abort", abortPendingFetchRevalidations);
    let { loaderResults, fetcherResults } = await callLoadersAndMaybeResolveData(dsMatches, revalidatingFetchers, revalidationRequest, scopedContext);
    if (abortController.signal.aborted) {
      return;
    }
    abortController.signal.removeEventListener("abort", abortPendingFetchRevalidations);
    fetchReloadIds.delete(key);
    fetchControllers.delete(key);
    revalidatingFetchers.forEach((r) => fetchControllers.delete(r.key));
    if (state.fetchers.has(key)) {
      let doneFetcher = getDoneFetcher(actionResult.data);
      state.fetchers.set(key, doneFetcher);
    }
    let redirect2 = findRedirect(loaderResults);
    if (redirect2) {
      return startRedirectNavigation(revalidationRequest, redirect2.result, false, { preventScrollReset });
    }
    redirect2 = findRedirect(fetcherResults);
    if (redirect2) {
      fetchRedirectIds.add(redirect2.key);
      return startRedirectNavigation(revalidationRequest, redirect2.result, false, { preventScrollReset });
    }
    let { loaderData, errors } = processLoaderData(state, matches, loaderResults, undefined, revalidatingFetchers, fetcherResults);
    abortStaleFetchLoads(loadId);
    if (state.navigation.state === "loading" && loadId > pendingNavigationLoadId) {
      invariant(pendingAction, "Expected pending action");
      pendingNavigationController && pendingNavigationController.abort();
      completeNavigation(state.navigation.location, {
        matches,
        loaderData,
        errors,
        fetchers: new Map(state.fetchers)
      });
    } else {
      updateState({
        errors,
        loaderData: mergeLoaderData(state.loaderData, loaderData, matches, errors),
        fetchers: new Map(state.fetchers)
      });
      isRevalidationRequired = false;
    }
  }
  async function handleFetcherLoader(key, routeId, path, matches, scopedContext, isFogOfWar, flushSync, preventScrollReset, submission) {
    let existingFetcher = state.fetchers.get(key);
    updateFetcherState(key, getLoadingFetcher(submission, existingFetcher ? existingFetcher.data : undefined), { flushSync });
    let abortController = new AbortController;
    let fetchRequest = createClientSideRequest(init.history, path, abortController.signal);
    if (isFogOfWar) {
      let discoverResult = await discoverRoutes(matches, new URL(fetchRequest.url).pathname, fetchRequest.signal, key);
      if (discoverResult.type === "aborted") {
        return;
      } else if (discoverResult.type === "error") {
        setFetcherError(key, routeId, discoverResult.error, { flushSync });
        return;
      } else if (!discoverResult.matches) {
        setFetcherError(key, routeId, getInternalRouterError(404, { pathname: path }), { flushSync });
        return;
      } else {
        matches = discoverResult.matches;
      }
    }
    let match = getTargetMatch(matches, path);
    fetchControllers.set(key, abortController);
    let originatingLoadId = incrementingLoadId;
    let dsMatches = getTargetedDataStrategyMatches(mapRouteProperties2, manifest, fetchRequest, matches, match, hydrationRouteProperties2, scopedContext);
    let results = await callDataStrategy(fetchRequest, dsMatches, scopedContext, key);
    let result = results[match.route.id];
    if (fetchControllers.get(key) === abortController) {
      fetchControllers.delete(key);
    }
    if (fetchRequest.signal.aborted) {
      return;
    }
    if (fetchersQueuedForDeletion.has(key)) {
      updateFetcherState(key, getDoneFetcher(undefined));
      return;
    }
    if (isRedirectResult(result)) {
      if (pendingNavigationLoadId > originatingLoadId) {
        updateFetcherState(key, getDoneFetcher(undefined));
        return;
      } else {
        fetchRedirectIds.add(key);
        await startRedirectNavigation(fetchRequest, result, false, {
          preventScrollReset
        });
        return;
      }
    }
    if (isErrorResult(result)) {
      setFetcherError(key, routeId, result.error);
      return;
    }
    updateFetcherState(key, getDoneFetcher(result.data));
  }
  async function startRedirectNavigation(request, redirect2, isNavigation, {
    submission,
    fetcherSubmission,
    preventScrollReset,
    replace: replace2
  } = {}) {
    if (redirect2.response.headers.has("X-Remix-Revalidate")) {
      isRevalidationRequired = true;
    }
    let location2 = redirect2.response.headers.get("Location");
    invariant(location2, "Expected a Location header on the redirect Response");
    location2 = normalizeRedirectLocation(location2, new URL(request.url), basename);
    let redirectLocation = createLocation(state.location, location2, {
      _isRedirect: true
    });
    if (isBrowser2) {
      let isDocumentReload = false;
      if (redirect2.response.headers.has("X-Remix-Reload-Document")) {
        isDocumentReload = true;
      } else if (isAbsoluteUrl(location2)) {
        const url = createBrowserURLImpl(location2, true);
        isDocumentReload = url.origin !== routerWindow.location.origin || stripBasename(url.pathname, basename) == null;
      }
      if (isDocumentReload) {
        if (replace2) {
          routerWindow.location.replace(location2);
        } else {
          routerWindow.location.assign(location2);
        }
        return;
      }
    }
    pendingNavigationController = null;
    let redirectNavigationType = replace2 === true || redirect2.response.headers.has("X-Remix-Replace") ? "REPLACE" : "PUSH";
    let { formMethod, formAction, formEncType } = state.navigation;
    if (!submission && !fetcherSubmission && formMethod && formAction && formEncType) {
      submission = getSubmissionFromNavigation(state.navigation);
    }
    let activeSubmission = submission || fetcherSubmission;
    if (redirectPreserveMethodStatusCodes.has(redirect2.response.status) && activeSubmission && isMutationMethod(activeSubmission.formMethod)) {
      await startNavigation(redirectNavigationType, redirectLocation, {
        submission: {
          ...activeSubmission,
          formAction: location2
        },
        preventScrollReset: preventScrollReset || pendingPreventScrollReset,
        enableViewTransition: isNavigation ? pendingViewTransitionEnabled : undefined
      });
    } else {
      let overrideNavigation = getLoadingNavigation(redirectLocation, submission);
      await startNavigation(redirectNavigationType, redirectLocation, {
        overrideNavigation,
        fetcherSubmission,
        preventScrollReset: preventScrollReset || pendingPreventScrollReset,
        enableViewTransition: isNavigation ? pendingViewTransitionEnabled : undefined
      });
    }
  }
  async function callDataStrategy(request, matches, scopedContext, fetcherKey) {
    let results;
    let dataResults = {};
    try {
      results = await callDataStrategyImpl(dataStrategyImpl, request, matches, fetcherKey, scopedContext, false);
    } catch (e) {
      matches.filter((m) => m.shouldLoad).forEach((m) => {
        dataResults[m.route.id] = {
          type: "error",
          error: e
        };
      });
      return dataResults;
    }
    if (request.signal.aborted) {
      return dataResults;
    }
    for (let [routeId, result] of Object.entries(results)) {
      if (isRedirectDataStrategyResult(result)) {
        let response = result.result;
        dataResults[routeId] = {
          type: "redirect",
          response: normalizeRelativeRoutingRedirectResponse(response, request, routeId, matches, basename)
        };
      } else {
        dataResults[routeId] = await convertDataStrategyResultToDataResult(result);
      }
    }
    return dataResults;
  }
  async function callLoadersAndMaybeResolveData(matches, fetchersToLoad, request, scopedContext) {
    let loaderResultsPromise = callDataStrategy(request, matches, scopedContext, null);
    let fetcherResultsPromise = Promise.all(fetchersToLoad.map(async (f) => {
      if (f.matches && f.match && f.request && f.controller) {
        let results = await callDataStrategy(f.request, f.matches, scopedContext, f.key);
        let result = results[f.match.route.id];
        return { [f.key]: result };
      } else {
        return Promise.resolve({
          [f.key]: {
            type: "error",
            error: getInternalRouterError(404, {
              pathname: f.path
            })
          }
        });
      }
    }));
    let loaderResults = await loaderResultsPromise;
    let fetcherResults = (await fetcherResultsPromise).reduce((acc, r) => Object.assign(acc, r), {});
    return {
      loaderResults,
      fetcherResults
    };
  }
  function interruptActiveLoads() {
    isRevalidationRequired = true;
    fetchLoadMatches.forEach((_, key) => {
      if (fetchControllers.has(key)) {
        cancelledFetcherLoads.add(key);
      }
      abortFetcher(key);
    });
  }
  function updateFetcherState(key, fetcher, opts = {}) {
    state.fetchers.set(key, fetcher);
    updateState({ fetchers: new Map(state.fetchers) }, { flushSync: (opts && opts.flushSync) === true });
  }
  function setFetcherError(key, routeId, error, opts = {}) {
    let boundaryMatch = findNearestBoundary(state.matches, routeId);
    deleteFetcher(key);
    updateState({
      errors: {
        [boundaryMatch.route.id]: error
      },
      fetchers: new Map(state.fetchers)
    }, { flushSync: (opts && opts.flushSync) === true });
  }
  function getFetcher(key) {
    activeFetchers.set(key, (activeFetchers.get(key) || 0) + 1);
    if (fetchersQueuedForDeletion.has(key)) {
      fetchersQueuedForDeletion.delete(key);
    }
    return state.fetchers.get(key) || IDLE_FETCHER;
  }
  function resetFetcher(key, opts) {
    abortFetcher(key, opts?.reason);
    updateFetcherState(key, getDoneFetcher(null));
  }
  function deleteFetcher(key) {
    let fetcher = state.fetchers.get(key);
    if (fetchControllers.has(key) && !(fetcher && fetcher.state === "loading" && fetchReloadIds.has(key))) {
      abortFetcher(key);
    }
    fetchLoadMatches.delete(key);
    fetchReloadIds.delete(key);
    fetchRedirectIds.delete(key);
    fetchersQueuedForDeletion.delete(key);
    cancelledFetcherLoads.delete(key);
    state.fetchers.delete(key);
  }
  function queueFetcherForDeletion(key) {
    let count = (activeFetchers.get(key) || 0) - 1;
    if (count <= 0) {
      activeFetchers.delete(key);
      fetchersQueuedForDeletion.add(key);
    } else {
      activeFetchers.set(key, count);
    }
    updateState({ fetchers: new Map(state.fetchers) });
  }
  function abortFetcher(key, reason) {
    let controller = fetchControllers.get(key);
    if (controller) {
      controller.abort(reason);
      fetchControllers.delete(key);
    }
  }
  function markFetchersDone(keys) {
    for (let key of keys) {
      let fetcher = getFetcher(key);
      let doneFetcher = getDoneFetcher(fetcher.data);
      state.fetchers.set(key, doneFetcher);
    }
  }
  function markFetchRedirectsDone() {
    let doneKeys = [];
    let updatedFetchers = false;
    for (let key of fetchRedirectIds) {
      let fetcher = state.fetchers.get(key);
      invariant(fetcher, `Expected fetcher: ${key}`);
      if (fetcher.state === "loading") {
        fetchRedirectIds.delete(key);
        doneKeys.push(key);
        updatedFetchers = true;
      }
    }
    markFetchersDone(doneKeys);
    return updatedFetchers;
  }
  function abortStaleFetchLoads(landedId) {
    let yeetedKeys = [];
    for (let [key, id] of fetchReloadIds) {
      if (id < landedId) {
        let fetcher = state.fetchers.get(key);
        invariant(fetcher, `Expected fetcher: ${key}`);
        if (fetcher.state === "loading") {
          abortFetcher(key);
          fetchReloadIds.delete(key);
          yeetedKeys.push(key);
        }
      }
    }
    markFetchersDone(yeetedKeys);
    return yeetedKeys.length > 0;
  }
  function getBlocker(key, fn) {
    let blocker = state.blockers.get(key) || IDLE_BLOCKER;
    if (blockerFunctions.get(key) !== fn) {
      blockerFunctions.set(key, fn);
    }
    return blocker;
  }
  function deleteBlocker(key) {
    state.blockers.delete(key);
    blockerFunctions.delete(key);
  }
  function updateBlocker(key, newBlocker) {
    let blocker = state.blockers.get(key) || IDLE_BLOCKER;
    invariant(blocker.state === "unblocked" && newBlocker.state === "blocked" || blocker.state === "blocked" && newBlocker.state === "blocked" || blocker.state === "blocked" && newBlocker.state === "proceeding" || blocker.state === "blocked" && newBlocker.state === "unblocked" || blocker.state === "proceeding" && newBlocker.state === "unblocked", `Invalid blocker state transition: ${blocker.state} -> ${newBlocker.state}`);
    let blockers = new Map(state.blockers);
    blockers.set(key, newBlocker);
    updateState({ blockers });
  }
  function shouldBlockNavigation({
    currentLocation,
    nextLocation,
    historyAction
  }) {
    if (blockerFunctions.size === 0) {
      return;
    }
    if (blockerFunctions.size > 1) {
      warning(false, "A router only supports one blocker at a time");
    }
    let entries = Array.from(blockerFunctions.entries());
    let [blockerKey, blockerFunction] = entries[entries.length - 1];
    let blocker = state.blockers.get(blockerKey);
    if (blocker && blocker.state === "proceeding") {
      return;
    }
    if (blockerFunction({ currentLocation, nextLocation, historyAction })) {
      return blockerKey;
    }
  }
  function handleNavigational404(pathname) {
    let error = getInternalRouterError(404, { pathname });
    let routesToUse = inFlightDataRoutes || dataRoutes;
    let { matches, route } = getShortCircuitMatches(routesToUse);
    return { notFoundMatches: matches, route, error };
  }
  function enableScrollRestoration(positions, getPosition, getKey) {
    savedScrollPositions2 = positions;
    getScrollPosition = getPosition;
    getScrollRestorationKey2 = getKey || null;
    if (!initialScrollRestored && state.navigation === IDLE_NAVIGATION) {
      initialScrollRestored = true;
      let y = getSavedScrollPosition(state.location, state.matches);
      if (y != null) {
        updateState({ restoreScrollPosition: y });
      }
    }
    return () => {
      savedScrollPositions2 = null;
      getScrollPosition = null;
      getScrollRestorationKey2 = null;
    };
  }
  function getScrollKey(location2, matches) {
    if (getScrollRestorationKey2) {
      let key = getScrollRestorationKey2(location2, matches.map((m) => convertRouteMatchToUiMatch(m, state.loaderData)));
      return key || location2.key;
    }
    return location2.key;
  }
  function saveScrollPosition(location2, matches) {
    if (savedScrollPositions2 && getScrollPosition) {
      let key = getScrollKey(location2, matches);
      savedScrollPositions2[key] = getScrollPosition();
    }
  }
  function getSavedScrollPosition(location2, matches) {
    if (savedScrollPositions2) {
      let key = getScrollKey(location2, matches);
      let y = savedScrollPositions2[key];
      if (typeof y === "number") {
        return y;
      }
    }
    return null;
  }
  function checkFogOfWar(matches, routesToUse, pathname) {
    if (init.patchRoutesOnNavigation) {
      if (!matches) {
        let fogMatches = matchRoutesImpl(routesToUse, pathname, basename, true);
        return { active: true, matches: fogMatches || [] };
      } else {
        if (Object.keys(matches[0].params).length > 0) {
          let partialMatches = matchRoutesImpl(routesToUse, pathname, basename, true);
          return { active: true, matches: partialMatches };
        }
      }
    }
    return { active: false, matches: null };
  }
  async function discoverRoutes(matches, pathname, signal, fetcherKey) {
    if (!init.patchRoutesOnNavigation) {
      return { type: "success", matches };
    }
    let partialMatches = matches;
    while (true) {
      let isNonHMR = inFlightDataRoutes == null;
      let routesToUse = inFlightDataRoutes || dataRoutes;
      let localManifest = manifest;
      try {
        await init.patchRoutesOnNavigation({
          signal,
          path: pathname,
          matches: partialMatches,
          fetcherKey,
          patch: (routeId, children) => {
            if (signal.aborted)
              return;
            patchRoutesImpl(routeId, children, routesToUse, localManifest, mapRouteProperties2, false);
          }
        });
      } catch (e) {
        return { type: "error", error: e, partialMatches };
      } finally {
        if (isNonHMR && !signal.aborted) {
          dataRoutes = [...dataRoutes];
        }
      }
      if (signal.aborted) {
        return { type: "aborted" };
      }
      let newMatches = matchRoutes(routesToUse, pathname, basename);
      if (newMatches) {
        return { type: "success", matches: newMatches };
      }
      let newPartialMatches = matchRoutesImpl(routesToUse, pathname, basename, true);
      if (!newPartialMatches || partialMatches.length === newPartialMatches.length && partialMatches.every((m, i) => m.route.id === newPartialMatches[i].route.id)) {
        return { type: "success", matches: null };
      }
      partialMatches = newPartialMatches;
    }
  }
  function _internalSetRoutes(newRoutes) {
    manifest = {};
    inFlightDataRoutes = convertRoutesToDataRoutes(newRoutes, mapRouteProperties2, undefined, manifest);
  }
  function patchRoutes(routeId, children, unstable_allowElementMutations = false) {
    let isNonHMR = inFlightDataRoutes == null;
    let routesToUse = inFlightDataRoutes || dataRoutes;
    patchRoutesImpl(routeId, children, routesToUse, manifest, mapRouteProperties2, unstable_allowElementMutations);
    if (isNonHMR) {
      dataRoutes = [...dataRoutes];
      updateState({});
    }
  }
  router = {
    get basename() {
      return basename;
    },
    get future() {
      return future;
    },
    get state() {
      return state;
    },
    get routes() {
      return dataRoutes;
    },
    get window() {
      return routerWindow;
    },
    initialize,
    subscribe,
    enableScrollRestoration,
    navigate,
    fetch: fetch2,
    revalidate,
    createHref: (to) => init.history.createHref(to),
    encodeLocation: (to) => init.history.encodeLocation(to),
    getFetcher,
    resetFetcher,
    deleteFetcher: queueFetcherForDeletion,
    dispose,
    getBlocker,
    deleteBlocker,
    patchRoutes,
    _internalFetchControllers: fetchControllers,
    _internalSetRoutes,
    _internalSetStateDoNotUseOrYouWillBreakYourApp(newState) {
      updateState(newState);
    }
  };
  if (init.unstable_instrumentations) {
    router = instrumentClientSideRouter(router, init.unstable_instrumentations.map((i) => i.router).filter(Boolean));
  }
  return router;
}
function isSubmissionNavigation(opts) {
  return opts != null && (("formData" in opts) && opts.formData != null || ("body" in opts) && opts.body !== undefined);
}
function normalizeTo(location2, matches, basename, to, fromRouteId, relative) {
  let contextualMatches;
  let activeRouteMatch;
  if (fromRouteId) {
    contextualMatches = [];
    for (let match of matches) {
      contextualMatches.push(match);
      if (match.route.id === fromRouteId) {
        activeRouteMatch = match;
        break;
      }
    }
  } else {
    contextualMatches = matches;
    activeRouteMatch = matches[matches.length - 1];
  }
  let path = resolveTo(to ? to : ".", getResolveToMatches(contextualMatches), stripBasename(location2.pathname, basename) || location2.pathname, relative === "path");
  if (to == null) {
    path.search = location2.search;
    path.hash = location2.hash;
  }
  if ((to == null || to === "" || to === ".") && activeRouteMatch) {
    let nakedIndex = hasNakedIndexQuery(path.search);
    if (activeRouteMatch.route.index && !nakedIndex) {
      path.search = path.search ? path.search.replace(/^\?/, "?index&") : "?index";
    } else if (!activeRouteMatch.route.index && nakedIndex) {
      let params = new URLSearchParams(path.search);
      let indexValues = params.getAll("index");
      params.delete("index");
      indexValues.filter((v) => v).forEach((v) => params.append("index", v));
      let qs = params.toString();
      path.search = qs ? `?${qs}` : "";
    }
  }
  if (basename !== "/") {
    path.pathname = prependBasename({ basename, pathname: path.pathname });
  }
  return createPath(path);
}
function normalizeNavigateOptions(isFetcher, path, opts) {
  if (!opts || !isSubmissionNavigation(opts)) {
    return { path };
  }
  if (opts.formMethod && !isValidMethod(opts.formMethod)) {
    return {
      path,
      error: getInternalRouterError(405, { method: opts.formMethod })
    };
  }
  let getInvalidBodyError = () => ({
    path,
    error: getInternalRouterError(400, { type: "invalid-body" })
  });
  let rawFormMethod = opts.formMethod || "get";
  let formMethod = rawFormMethod.toUpperCase();
  let formAction = stripHashFromPath(path);
  if (opts.body !== undefined) {
    if (opts.formEncType === "text/plain") {
      if (!isMutationMethod(formMethod)) {
        return getInvalidBodyError();
      }
      let text = typeof opts.body === "string" ? opts.body : opts.body instanceof FormData || opts.body instanceof URLSearchParams ? Array.from(opts.body.entries()).reduce((acc, [name, value]) => `${acc}${name}=${value}
`, "") : String(opts.body);
      return {
        path,
        submission: {
          formMethod,
          formAction,
          formEncType: opts.formEncType,
          formData: undefined,
          json: undefined,
          text
        }
      };
    } else if (opts.formEncType === "application/json") {
      if (!isMutationMethod(formMethod)) {
        return getInvalidBodyError();
      }
      try {
        let json = typeof opts.body === "string" ? JSON.parse(opts.body) : opts.body;
        return {
          path,
          submission: {
            formMethod,
            formAction,
            formEncType: opts.formEncType,
            formData: undefined,
            json,
            text: undefined
          }
        };
      } catch (e) {
        return getInvalidBodyError();
      }
    }
  }
  invariant(typeof FormData === "function", "FormData is not available in this environment");
  let searchParams;
  let formData;
  if (opts.formData) {
    searchParams = convertFormDataToSearchParams(opts.formData);
    formData = opts.formData;
  } else if (opts.body instanceof FormData) {
    searchParams = convertFormDataToSearchParams(opts.body);
    formData = opts.body;
  } else if (opts.body instanceof URLSearchParams) {
    searchParams = opts.body;
    formData = convertSearchParamsToFormData(searchParams);
  } else if (opts.body == null) {
    searchParams = new URLSearchParams;
    formData = new FormData;
  } else {
    try {
      searchParams = new URLSearchParams(opts.body);
      formData = convertSearchParamsToFormData(searchParams);
    } catch (e) {
      return getInvalidBodyError();
    }
  }
  let submission = {
    formMethod,
    formAction,
    formEncType: opts && opts.formEncType || "application/x-www-form-urlencoded",
    formData,
    json: undefined,
    text: undefined
  };
  if (isMutationMethod(submission.formMethod)) {
    return { path, submission };
  }
  let parsedPath = parsePath(path);
  if (isFetcher && parsedPath.search && hasNakedIndexQuery(parsedPath.search)) {
    searchParams.append("index", "");
  }
  parsedPath.search = `?${searchParams}`;
  return { path: createPath(parsedPath), submission };
}
function getMatchesToLoad(request, scopedContext, mapRouteProperties2, manifest, history, state, matches, submission, location2, lazyRoutePropertiesToSkip, initialHydration, isRevalidationRequired, cancelledFetcherLoads, fetchersQueuedForDeletion, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, hasPatchRoutesOnNavigation, pendingActionResult) {
  let actionResult = pendingActionResult ? isErrorResult(pendingActionResult[1]) ? pendingActionResult[1].error : pendingActionResult[1].data : undefined;
  let currentUrl = history.createURL(state.location);
  let nextUrl = history.createURL(location2);
  let maxIdx;
  if (initialHydration && state.errors) {
    let boundaryId = Object.keys(state.errors)[0];
    maxIdx = matches.findIndex((m) => m.route.id === boundaryId);
  } else if (pendingActionResult && isErrorResult(pendingActionResult[1])) {
    let boundaryId = pendingActionResult[0];
    maxIdx = matches.findIndex((m) => m.route.id === boundaryId) - 1;
  }
  let actionStatus = pendingActionResult ? pendingActionResult[1].statusCode : undefined;
  let shouldSkipRevalidation = actionStatus && actionStatus >= 400;
  let baseShouldRevalidateArgs = {
    currentUrl,
    currentParams: state.matches[0]?.params || {},
    nextUrl,
    nextParams: matches[0].params,
    ...submission,
    actionResult,
    actionStatus
  };
  let pattern = getRoutePattern(matches.map((m) => m.route.path));
  let dsMatches = matches.map((match, index) => {
    let { route } = match;
    let forceShouldLoad = null;
    if (maxIdx != null && index > maxIdx) {
      forceShouldLoad = false;
    } else if (route.lazy) {
      forceShouldLoad = true;
    } else if (!routeHasLoaderOrMiddleware(route)) {
      forceShouldLoad = false;
    } else if (initialHydration) {
      forceShouldLoad = shouldLoadRouteOnHydration(route, state.loaderData, state.errors);
    } else if (isNewLoader(state.loaderData, state.matches[index], match)) {
      forceShouldLoad = true;
    }
    if (forceShouldLoad !== null) {
      return getDataStrategyMatch(mapRouteProperties2, manifest, request, pattern, match, lazyRoutePropertiesToSkip, scopedContext, forceShouldLoad);
    }
    let defaultShouldRevalidate = shouldSkipRevalidation ? false : isRevalidationRequired || currentUrl.pathname + currentUrl.search === nextUrl.pathname + nextUrl.search || currentUrl.search !== nextUrl.search || isNewRouteInstance(state.matches[index], match);
    let shouldRevalidateArgs = {
      ...baseShouldRevalidateArgs,
      defaultShouldRevalidate
    };
    let shouldLoad = shouldRevalidateLoader(match, shouldRevalidateArgs);
    return getDataStrategyMatch(mapRouteProperties2, manifest, request, pattern, match, lazyRoutePropertiesToSkip, scopedContext, shouldLoad, shouldRevalidateArgs);
  });
  let revalidatingFetchers = [];
  fetchLoadMatches.forEach((f, key) => {
    if (initialHydration || !matches.some((m) => m.route.id === f.routeId) || fetchersQueuedForDeletion.has(key)) {
      return;
    }
    let fetcher = state.fetchers.get(key);
    let isMidInitialLoad = fetcher && fetcher.state !== "idle" && fetcher.data === undefined;
    let fetcherMatches = matchRoutes(routesToUse, f.path, basename);
    if (!fetcherMatches) {
      if (hasPatchRoutesOnNavigation && isMidInitialLoad) {
        return;
      }
      revalidatingFetchers.push({
        key,
        routeId: f.routeId,
        path: f.path,
        matches: null,
        match: null,
        request: null,
        controller: null
      });
      return;
    }
    if (fetchRedirectIds.has(key)) {
      return;
    }
    let fetcherMatch = getTargetMatch(fetcherMatches, f.path);
    let fetchController = new AbortController;
    let fetchRequest = createClientSideRequest(history, f.path, fetchController.signal);
    let fetcherDsMatches = null;
    if (cancelledFetcherLoads.has(key)) {
      cancelledFetcherLoads.delete(key);
      fetcherDsMatches = getTargetedDataStrategyMatches(mapRouteProperties2, manifest, fetchRequest, fetcherMatches, fetcherMatch, lazyRoutePropertiesToSkip, scopedContext);
    } else if (isMidInitialLoad) {
      if (isRevalidationRequired) {
        fetcherDsMatches = getTargetedDataStrategyMatches(mapRouteProperties2, manifest, fetchRequest, fetcherMatches, fetcherMatch, lazyRoutePropertiesToSkip, scopedContext);
      }
    } else {
      let shouldRevalidateArgs = {
        ...baseShouldRevalidateArgs,
        defaultShouldRevalidate: shouldSkipRevalidation ? false : isRevalidationRequired
      };
      if (shouldRevalidateLoader(fetcherMatch, shouldRevalidateArgs)) {
        fetcherDsMatches = getTargetedDataStrategyMatches(mapRouteProperties2, manifest, fetchRequest, fetcherMatches, fetcherMatch, lazyRoutePropertiesToSkip, scopedContext, shouldRevalidateArgs);
      }
    }
    if (fetcherDsMatches) {
      revalidatingFetchers.push({
        key,
        routeId: f.routeId,
        path: f.path,
        matches: fetcherDsMatches,
        match: fetcherMatch,
        request: fetchRequest,
        controller: fetchController
      });
    }
  });
  return { dsMatches, revalidatingFetchers };
}
function routeHasLoaderOrMiddleware(route) {
  return route.loader != null || route.middleware != null && route.middleware.length > 0;
}
function shouldLoadRouteOnHydration(route, loaderData, errors) {
  if (route.lazy) {
    return true;
  }
  if (!routeHasLoaderOrMiddleware(route)) {
    return false;
  }
  let hasData = loaderData != null && route.id in loaderData;
  let hasError = errors != null && errors[route.id] !== undefined;
  if (!hasData && hasError) {
    return false;
  }
  if (typeof route.loader === "function" && route.loader.hydrate === true) {
    return true;
  }
  return !hasData && !hasError;
}
function isNewLoader(currentLoaderData, currentMatch, match) {
  let isNew = !currentMatch || match.route.id !== currentMatch.route.id;
  let isMissingData = !currentLoaderData.hasOwnProperty(match.route.id);
  return isNew || isMissingData;
}
function isNewRouteInstance(currentMatch, match) {
  let currentPath = currentMatch.route.path;
  return currentMatch.pathname !== match.pathname || currentPath != null && currentPath.endsWith("*") && currentMatch.params["*"] !== match.params["*"];
}
function shouldRevalidateLoader(loaderMatch, arg) {
  if (loaderMatch.route.shouldRevalidate) {
    let routeChoice = loaderMatch.route.shouldRevalidate(arg);
    if (typeof routeChoice === "boolean") {
      return routeChoice;
    }
  }
  return arg.defaultShouldRevalidate;
}
function patchRoutesImpl(routeId, children, routesToUse, manifest, mapRouteProperties2, allowElementMutations) {
  let childrenToPatch;
  if (routeId) {
    let route = manifest[routeId];
    invariant(route, `No route found to patch children into: routeId = ${routeId}`);
    if (!route.children) {
      route.children = [];
    }
    childrenToPatch = route.children;
  } else {
    childrenToPatch = routesToUse;
  }
  let uniqueChildren = [];
  let existingChildren = [];
  children.forEach((newRoute) => {
    let existingRoute = childrenToPatch.find((existingRoute2) => isSameRoute(newRoute, existingRoute2));
    if (existingRoute) {
      existingChildren.push({ existingRoute, newRoute });
    } else {
      uniqueChildren.push(newRoute);
    }
  });
  if (uniqueChildren.length > 0) {
    let newRoutes = convertRoutesToDataRoutes(uniqueChildren, mapRouteProperties2, [routeId || "_", "patch", String(childrenToPatch?.length || "0")], manifest);
    childrenToPatch.push(...newRoutes);
  }
  if (allowElementMutations && existingChildren.length > 0) {
    for (let i = 0;i < existingChildren.length; i++) {
      let { existingRoute, newRoute } = existingChildren[i];
      let existingRouteTyped = existingRoute;
      let [newRouteTyped] = convertRoutesToDataRoutes([newRoute], mapRouteProperties2, [], {}, true);
      Object.assign(existingRouteTyped, {
        element: newRouteTyped.element ? newRouteTyped.element : existingRouteTyped.element,
        errorElement: newRouteTyped.errorElement ? newRouteTyped.errorElement : existingRouteTyped.errorElement,
        hydrateFallbackElement: newRouteTyped.hydrateFallbackElement ? newRouteTyped.hydrateFallbackElement : existingRouteTyped.hydrateFallbackElement
      });
    }
  }
}
function isSameRoute(newRoute, existingRoute) {
  if ("id" in newRoute && "id" in existingRoute && newRoute.id === existingRoute.id) {
    return true;
  }
  if (!(newRoute.index === existingRoute.index && newRoute.path === existingRoute.path && newRoute.caseSensitive === existingRoute.caseSensitive)) {
    return false;
  }
  if ((!newRoute.children || newRoute.children.length === 0) && (!existingRoute.children || existingRoute.children.length === 0)) {
    return true;
  }
  return newRoute.children.every((aChild, i) => existingRoute.children?.some((bChild) => isSameRoute(aChild, bChild)));
}
var lazyRoutePropertyCache = /* @__PURE__ */ new WeakMap;
var loadLazyRouteProperty = ({
  key,
  route,
  manifest,
  mapRouteProperties: mapRouteProperties2
}) => {
  let routeToUpdate = manifest[route.id];
  invariant(routeToUpdate, "No route found in manifest");
  if (!routeToUpdate.lazy || typeof routeToUpdate.lazy !== "object") {
    return;
  }
  let lazyFn = routeToUpdate.lazy[key];
  if (!lazyFn) {
    return;
  }
  let cache = lazyRoutePropertyCache.get(routeToUpdate);
  if (!cache) {
    cache = {};
    lazyRoutePropertyCache.set(routeToUpdate, cache);
  }
  let cachedPromise = cache[key];
  if (cachedPromise) {
    return cachedPromise;
  }
  let propertyPromise = (async () => {
    let isUnsupported = isUnsupportedLazyRouteObjectKey(key);
    let staticRouteValue = routeToUpdate[key];
    let isStaticallyDefined = staticRouteValue !== undefined && key !== "hasErrorBoundary";
    if (isUnsupported) {
      warning(!isUnsupported, "Route property " + key + " is not a supported lazy route property. This property will be ignored.");
      cache[key] = Promise.resolve();
    } else if (isStaticallyDefined) {
      warning(false, `Route "${routeToUpdate.id}" has a static property "${key}" defined. The lazy property will be ignored.`);
    } else {
      let value = await lazyFn();
      if (value != null) {
        Object.assign(routeToUpdate, { [key]: value });
        Object.assign(routeToUpdate, mapRouteProperties2(routeToUpdate));
      }
    }
    if (typeof routeToUpdate.lazy === "object") {
      routeToUpdate.lazy[key] = undefined;
      if (Object.values(routeToUpdate.lazy).every((value) => value === undefined)) {
        routeToUpdate.lazy = undefined;
      }
    }
  })();
  cache[key] = propertyPromise;
  return propertyPromise;
};
var lazyRouteFunctionCache = /* @__PURE__ */ new WeakMap;
function loadLazyRoute(route, type, manifest, mapRouteProperties2, lazyRoutePropertiesToSkip) {
  let routeToUpdate = manifest[route.id];
  invariant(routeToUpdate, "No route found in manifest");
  if (!route.lazy) {
    return {
      lazyRoutePromise: undefined,
      lazyHandlerPromise: undefined
    };
  }
  if (typeof route.lazy === "function") {
    let cachedPromise = lazyRouteFunctionCache.get(routeToUpdate);
    if (cachedPromise) {
      return {
        lazyRoutePromise: cachedPromise,
        lazyHandlerPromise: cachedPromise
      };
    }
    let lazyRoutePromise2 = (async () => {
      invariant(typeof route.lazy === "function", "No lazy route function found");
      let lazyRoute = await route.lazy();
      let routeUpdates = {};
      for (let lazyRouteProperty in lazyRoute) {
        let lazyValue = lazyRoute[lazyRouteProperty];
        if (lazyValue === undefined) {
          continue;
        }
        let isUnsupported = isUnsupportedLazyRouteFunctionKey(lazyRouteProperty);
        let staticRouteValue = routeToUpdate[lazyRouteProperty];
        let isStaticallyDefined = staticRouteValue !== undefined && lazyRouteProperty !== "hasErrorBoundary";
        if (isUnsupported) {
          warning(!isUnsupported, "Route property " + lazyRouteProperty + " is not a supported property to be returned from a lazy route function. This property will be ignored.");
        } else if (isStaticallyDefined) {
          warning(!isStaticallyDefined, `Route "${routeToUpdate.id}" has a static property "${lazyRouteProperty}" defined but its lazy function is also returning a value for this property. The lazy route property "${lazyRouteProperty}" will be ignored.`);
        } else {
          routeUpdates[lazyRouteProperty] = lazyValue;
        }
      }
      Object.assign(routeToUpdate, routeUpdates);
      Object.assign(routeToUpdate, {
        ...mapRouteProperties2(routeToUpdate),
        lazy: undefined
      });
    })();
    lazyRouteFunctionCache.set(routeToUpdate, lazyRoutePromise2);
    lazyRoutePromise2.catch(() => {});
    return {
      lazyRoutePromise: lazyRoutePromise2,
      lazyHandlerPromise: lazyRoutePromise2
    };
  }
  let lazyKeys = Object.keys(route.lazy);
  let lazyPropertyPromises = [];
  let lazyHandlerPromise = undefined;
  for (let key of lazyKeys) {
    if (lazyRoutePropertiesToSkip && lazyRoutePropertiesToSkip.includes(key)) {
      continue;
    }
    let promise = loadLazyRouteProperty({
      key,
      route,
      manifest,
      mapRouteProperties: mapRouteProperties2
    });
    if (promise) {
      lazyPropertyPromises.push(promise);
      if (key === type) {
        lazyHandlerPromise = promise;
      }
    }
  }
  let lazyRoutePromise = lazyPropertyPromises.length > 0 ? Promise.all(lazyPropertyPromises).then(() => {}) : undefined;
  lazyRoutePromise?.catch(() => {});
  lazyHandlerPromise?.catch(() => {});
  return {
    lazyRoutePromise,
    lazyHandlerPromise
  };
}
async function defaultDataStrategy(args) {
  let matchesToLoad = args.matches.filter((m) => m.shouldLoad);
  let keyedResults = {};
  let results = await Promise.all(matchesToLoad.map((m) => m.resolve()));
  results.forEach((result, i) => {
    keyedResults[matchesToLoad[i].route.id] = result;
  });
  return keyedResults;
}
async function defaultDataStrategyWithMiddleware(args) {
  if (!args.matches.some((m) => m.route.middleware)) {
    return defaultDataStrategy(args);
  }
  return runClientMiddlewarePipeline(args, () => defaultDataStrategy(args));
}
function runClientMiddlewarePipeline(args, handler) {
  return runMiddlewarePipeline(args, handler, (r) => r, isDataStrategyResults, errorHandler);
  function errorHandler(error, routeId, nextResult) {
    if (nextResult) {
      return Promise.resolve(Object.assign(nextResult.value, {
        [routeId]: { type: "error", result: error }
      }));
    } else {
      let { matches } = args;
      let maxBoundaryIdx = Math.min(Math.max(matches.findIndex((m) => m.route.id === routeId), 0), Math.max(matches.findIndex((m) => m.unstable_shouldCallHandler()), 0));
      let boundaryRouteId = findNearestBoundary(matches, matches[maxBoundaryIdx].route.id).route.id;
      return Promise.resolve({
        [boundaryRouteId]: { type: "error", result: error }
      });
    }
  }
}
async function runMiddlewarePipeline(args, handler, processResult, isResult, errorHandler) {
  let { matches, request, params, context, unstable_pattern } = args;
  let tuples = matches.flatMap((m) => m.route.middleware ? m.route.middleware.map((fn) => [m.route.id, fn]) : []);
  let result = await callRouteMiddleware({
    request,
    params,
    context,
    unstable_pattern
  }, tuples, handler, processResult, isResult, errorHandler);
  return result;
}
async function callRouteMiddleware(args, middlewares, handler, processResult, isResult, errorHandler, idx = 0) {
  let { request } = args;
  if (request.signal.aborted) {
    throw request.signal.reason ?? new Error(`Request aborted: ${request.method} ${request.url}`);
  }
  let tuple = middlewares[idx];
  if (!tuple) {
    let result = await handler();
    return result;
  }
  let [routeId, middleware] = tuple;
  let nextResult;
  let next = async () => {
    if (nextResult) {
      throw new Error("You may only call `next()` once per middleware");
    }
    try {
      let result = await callRouteMiddleware(args, middlewares, handler, processResult, isResult, errorHandler, idx + 1);
      nextResult = { value: result };
      return nextResult.value;
    } catch (error) {
      nextResult = { value: await errorHandler(error, routeId, nextResult) };
      return nextResult.value;
    }
  };
  try {
    let value = await middleware(args, next);
    let result = value != null ? processResult(value) : undefined;
    if (isResult(result)) {
      return result;
    } else if (nextResult) {
      return result ?? nextResult.value;
    } else {
      nextResult = { value: await next() };
      return nextResult.value;
    }
  } catch (error) {
    let response = await errorHandler(error, routeId, nextResult);
    return response;
  }
}
function getDataStrategyMatchLazyPromises(mapRouteProperties2, manifest, request, match, lazyRoutePropertiesToSkip) {
  let lazyMiddlewarePromise = loadLazyRouteProperty({
    key: "middleware",
    route: match.route,
    manifest,
    mapRouteProperties: mapRouteProperties2
  });
  let lazyRoutePromises = loadLazyRoute(match.route, isMutationMethod(request.method) ? "action" : "loader", manifest, mapRouteProperties2, lazyRoutePropertiesToSkip);
  return {
    middleware: lazyMiddlewarePromise,
    route: lazyRoutePromises.lazyRoutePromise,
    handler: lazyRoutePromises.lazyHandlerPromise
  };
}
function getDataStrategyMatch(mapRouteProperties2, manifest, request, unstable_pattern, match, lazyRoutePropertiesToSkip, scopedContext, shouldLoad, unstable_shouldRevalidateArgs = null) {
  let isUsingNewApi = false;
  let _lazyPromises = getDataStrategyMatchLazyPromises(mapRouteProperties2, manifest, request, match, lazyRoutePropertiesToSkip);
  return {
    ...match,
    _lazyPromises,
    shouldLoad,
    unstable_shouldRevalidateArgs,
    unstable_shouldCallHandler(defaultShouldRevalidate) {
      isUsingNewApi = true;
      if (!unstable_shouldRevalidateArgs) {
        return shouldLoad;
      }
      if (typeof defaultShouldRevalidate === "boolean") {
        return shouldRevalidateLoader(match, {
          ...unstable_shouldRevalidateArgs,
          defaultShouldRevalidate
        });
      }
      return shouldRevalidateLoader(match, unstable_shouldRevalidateArgs);
    },
    resolve(handlerOverride) {
      let { lazy, loader, middleware } = match.route;
      let callHandler = isUsingNewApi || shouldLoad || handlerOverride && !isMutationMethod(request.method) && (lazy || loader);
      let isMiddlewareOnlyRoute = middleware && middleware.length > 0 && !loader && !lazy;
      if (callHandler && (isMutationMethod(request.method) || !isMiddlewareOnlyRoute)) {
        return callLoaderOrAction({
          request,
          unstable_pattern,
          match,
          lazyHandlerPromise: _lazyPromises?.handler,
          lazyRoutePromise: _lazyPromises?.route,
          handlerOverride,
          scopedContext
        });
      }
      return Promise.resolve({ type: "data", result: undefined });
    }
  };
}
function getTargetedDataStrategyMatches(mapRouteProperties2, manifest, request, matches, targetMatch, lazyRoutePropertiesToSkip, scopedContext, shouldRevalidateArgs = null) {
  return matches.map((match) => {
    if (match.route.id !== targetMatch.route.id) {
      return {
        ...match,
        shouldLoad: false,
        unstable_shouldRevalidateArgs: shouldRevalidateArgs,
        unstable_shouldCallHandler: () => false,
        _lazyPromises: getDataStrategyMatchLazyPromises(mapRouteProperties2, manifest, request, match, lazyRoutePropertiesToSkip),
        resolve: () => Promise.resolve({ type: "data", result: undefined })
      };
    }
    return getDataStrategyMatch(mapRouteProperties2, manifest, request, getRoutePattern(matches.map((m) => m.route.path)), match, lazyRoutePropertiesToSkip, scopedContext, true, shouldRevalidateArgs);
  });
}
async function callDataStrategyImpl(dataStrategyImpl, request, matches, fetcherKey, scopedContext, isStaticHandler) {
  if (matches.some((m) => m._lazyPromises?.middleware)) {
    await Promise.all(matches.map((m) => m._lazyPromises?.middleware));
  }
  let dataStrategyArgs = {
    request,
    unstable_pattern: getRoutePattern(matches.map((m) => m.route.path)),
    params: matches[0].params,
    context: scopedContext,
    matches
  };
  let runClientMiddleware = isStaticHandler ? () => {
    throw new Error("You cannot call `runClientMiddleware()` from a static handler `dataStrategy`. Middleware is run outside of `dataStrategy` during SSR in order to bubble up the Response.  You can enable middleware via the `respond` API in `query`/`queryRoute`");
  } : (cb) => {
    let typedDataStrategyArgs = dataStrategyArgs;
    return runClientMiddlewarePipeline(typedDataStrategyArgs, () => {
      return cb({
        ...typedDataStrategyArgs,
        fetcherKey,
        runClientMiddleware: () => {
          throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler");
        }
      });
    });
  };
  let results = await dataStrategyImpl({
    ...dataStrategyArgs,
    fetcherKey,
    runClientMiddleware
  });
  try {
    await Promise.all(matches.flatMap((m) => [
      m._lazyPromises?.handler,
      m._lazyPromises?.route
    ]));
  } catch (e) {}
  return results;
}
async function callLoaderOrAction({
  request,
  unstable_pattern,
  match,
  lazyHandlerPromise,
  lazyRoutePromise,
  handlerOverride,
  scopedContext
}) {
  let result;
  let onReject;
  let isAction = isMutationMethod(request.method);
  let type = isAction ? "action" : "loader";
  let runHandler = (handler) => {
    let reject;
    let abortPromise = new Promise((_, r) => reject = r);
    onReject = () => reject();
    request.signal.addEventListener("abort", onReject);
    let actualHandler = (ctx) => {
      if (typeof handler !== "function") {
        return Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${type}" [routeId: ${match.route.id}]`));
      }
      return handler({
        request,
        unstable_pattern,
        params: match.params,
        context: scopedContext
      }, ...ctx !== undefined ? [ctx] : []);
    };
    let handlerPromise = (async () => {
      try {
        let val = await (handlerOverride ? handlerOverride((ctx) => actualHandler(ctx)) : actualHandler());
        return { type: "data", result: val };
      } catch (e) {
        return { type: "error", result: e };
      }
    })();
    return Promise.race([handlerPromise, abortPromise]);
  };
  try {
    let handler = isAction ? match.route.action : match.route.loader;
    if (lazyHandlerPromise || lazyRoutePromise) {
      if (handler) {
        let handlerError;
        let [value] = await Promise.all([
          runHandler(handler).catch((e) => {
            handlerError = e;
          }),
          lazyHandlerPromise,
          lazyRoutePromise
        ]);
        if (handlerError !== undefined) {
          throw handlerError;
        }
        result = value;
      } else {
        await lazyHandlerPromise;
        let handler2 = isAction ? match.route.action : match.route.loader;
        if (handler2) {
          [result] = await Promise.all([runHandler(handler2), lazyRoutePromise]);
        } else if (type === "action") {
          let url = new URL(request.url);
          let pathname = url.pathname + url.search;
          throw getInternalRouterError(405, {
            method: request.method,
            pathname,
            routeId: match.route.id
          });
        } else {
          return { type: "data", result: undefined };
        }
      }
    } else if (!handler) {
      let url = new URL(request.url);
      let pathname = url.pathname + url.search;
      throw getInternalRouterError(404, {
        pathname
      });
    } else {
      result = await runHandler(handler);
    }
  } catch (e) {
    return { type: "error", result: e };
  } finally {
    if (onReject) {
      request.signal.removeEventListener("abort", onReject);
    }
  }
  return result;
}
async function parseResponseBody(response) {
  let contentType = response.headers.get("Content-Type");
  if (contentType && /\bapplication\/json\b/.test(contentType)) {
    return response.body == null ? null : response.json();
  }
  return response.text();
}
async function convertDataStrategyResultToDataResult(dataStrategyResult) {
  let { result, type } = dataStrategyResult;
  if (isResponse(result)) {
    let data2;
    try {
      data2 = await parseResponseBody(result);
    } catch (e) {
      return { type: "error", error: e };
    }
    if (type === "error") {
      return {
        type: "error",
        error: new ErrorResponseImpl(result.status, result.statusText, data2),
        statusCode: result.status,
        headers: result.headers
      };
    }
    return {
      type: "data",
      data: data2,
      statusCode: result.status,
      headers: result.headers
    };
  }
  if (type === "error") {
    if (isDataWithResponseInit(result)) {
      if (result.data instanceof Error) {
        return {
          type: "error",
          error: result.data,
          statusCode: result.init?.status,
          headers: result.init?.headers ? new Headers(result.init.headers) : undefined
        };
      }
      return {
        type: "error",
        error: new ErrorResponseImpl(result.init?.status || 500, undefined, result.data),
        statusCode: isRouteErrorResponse(result) ? result.status : undefined,
        headers: result.init?.headers ? new Headers(result.init.headers) : undefined
      };
    }
    return {
      type: "error",
      error: result,
      statusCode: isRouteErrorResponse(result) ? result.status : undefined
    };
  }
  if (isDataWithResponseInit(result)) {
    return {
      type: "data",
      data: result.data,
      statusCode: result.init?.status,
      headers: result.init?.headers ? new Headers(result.init.headers) : undefined
    };
  }
  return { type: "data", data: result };
}
function normalizeRelativeRoutingRedirectResponse(response, request, routeId, matches, basename) {
  let location2 = response.headers.get("Location");
  invariant(location2, "Redirects returned/thrown from loaders/actions must have a Location header");
  if (!isAbsoluteUrl(location2)) {
    let trimmedMatches = matches.slice(0, matches.findIndex((m) => m.route.id === routeId) + 1);
    location2 = normalizeTo(new URL(request.url), trimmedMatches, basename, location2);
    response.headers.set("Location", location2);
  }
  return response;
}
function normalizeRedirectLocation(location2, currentUrl, basename) {
  if (isAbsoluteUrl(location2)) {
    let normalizedLocation = location2;
    let url = normalizedLocation.startsWith("//") ? new URL(currentUrl.protocol + normalizedLocation) : new URL(normalizedLocation);
    let isSameBasename = stripBasename(url.pathname, basename) != null;
    if (url.origin === currentUrl.origin && isSameBasename) {
      return url.pathname + url.search + url.hash;
    }
  }
  return location2;
}
function createClientSideRequest(history, location2, signal, submission) {
  let url = history.createURL(stripHashFromPath(location2)).toString();
  let init = { signal };
  if (submission && isMutationMethod(submission.formMethod)) {
    let { formMethod, formEncType } = submission;
    init.method = formMethod.toUpperCase();
    if (formEncType === "application/json") {
      init.headers = new Headers({ "Content-Type": formEncType });
      init.body = JSON.stringify(submission.json);
    } else if (formEncType === "text/plain") {
      init.body = submission.text;
    } else if (formEncType === "application/x-www-form-urlencoded" && submission.formData) {
      init.body = convertFormDataToSearchParams(submission.formData);
    } else {
      init.body = submission.formData;
    }
  }
  return new Request(url, init);
}
function convertFormDataToSearchParams(formData) {
  let searchParams = new URLSearchParams;
  for (let [key, value] of formData.entries()) {
    searchParams.append(key, typeof value === "string" ? value : value.name);
  }
  return searchParams;
}
function convertSearchParamsToFormData(searchParams) {
  let formData = new FormData;
  for (let [key, value] of searchParams.entries()) {
    formData.append(key, value);
  }
  return formData;
}
function processRouteLoaderData(matches, results, pendingActionResult, isStaticHandler = false, skipLoaderErrorBubbling = false) {
  let loaderData = {};
  let errors = null;
  let statusCode;
  let foundError = false;
  let loaderHeaders = {};
  let pendingError = pendingActionResult && isErrorResult(pendingActionResult[1]) ? pendingActionResult[1].error : undefined;
  matches.forEach((match) => {
    if (!(match.route.id in results)) {
      return;
    }
    let id = match.route.id;
    let result = results[id];
    invariant(!isRedirectResult(result), "Cannot handle redirect results in processLoaderData");
    if (isErrorResult(result)) {
      let error = result.error;
      if (pendingError !== undefined) {
        error = pendingError;
        pendingError = undefined;
      }
      errors = errors || {};
      if (skipLoaderErrorBubbling) {
        errors[id] = error;
      } else {
        let boundaryMatch = findNearestBoundary(matches, id);
        if (errors[boundaryMatch.route.id] == null) {
          errors[boundaryMatch.route.id] = error;
        }
      }
      if (!isStaticHandler) {
        loaderData[id] = ResetLoaderDataSymbol;
      }
      if (!foundError) {
        foundError = true;
        statusCode = isRouteErrorResponse(result.error) ? result.error.status : 500;
      }
      if (result.headers) {
        loaderHeaders[id] = result.headers;
      }
    } else {
      loaderData[id] = result.data;
      if (result.statusCode && result.statusCode !== 200 && !foundError) {
        statusCode = result.statusCode;
      }
      if (result.headers) {
        loaderHeaders[id] = result.headers;
      }
    }
  });
  if (pendingError !== undefined && pendingActionResult) {
    errors = { [pendingActionResult[0]]: pendingError };
    if (pendingActionResult[2]) {
      loaderData[pendingActionResult[2]] = undefined;
    }
  }
  return {
    loaderData,
    errors,
    statusCode: statusCode || 200,
    loaderHeaders
  };
}
function processLoaderData(state, matches, results, pendingActionResult, revalidatingFetchers, fetcherResults) {
  let { loaderData, errors } = processRouteLoaderData(matches, results, pendingActionResult);
  revalidatingFetchers.filter((f) => !f.matches || f.matches.some((m) => m.shouldLoad)).forEach((rf) => {
    let { key, match, controller } = rf;
    if (controller && controller.signal.aborted) {
      return;
    }
    let result = fetcherResults[key];
    invariant(result, "Did not find corresponding fetcher result");
    if (isErrorResult(result)) {
      let boundaryMatch = findNearestBoundary(state.matches, match?.route.id);
      if (!(errors && errors[boundaryMatch.route.id])) {
        errors = {
          ...errors,
          [boundaryMatch.route.id]: result.error
        };
      }
      state.fetchers.delete(key);
    } else if (isRedirectResult(result)) {
      invariant(false, "Unhandled fetcher revalidation redirect");
    } else {
      let doneFetcher = getDoneFetcher(result.data);
      state.fetchers.set(key, doneFetcher);
    }
  });
  return { loaderData, errors };
}
function mergeLoaderData(loaderData, newLoaderData, matches, errors) {
  let mergedLoaderData = Object.entries(newLoaderData).filter(([, v]) => v !== ResetLoaderDataSymbol).reduce((merged, [k, v]) => {
    merged[k] = v;
    return merged;
  }, {});
  for (let match of matches) {
    let id = match.route.id;
    if (!newLoaderData.hasOwnProperty(id) && loaderData.hasOwnProperty(id) && match.route.loader) {
      mergedLoaderData[id] = loaderData[id];
    }
    if (errors && errors.hasOwnProperty(id)) {
      break;
    }
  }
  return mergedLoaderData;
}
function getActionDataForCommit(pendingActionResult) {
  if (!pendingActionResult) {
    return {};
  }
  return isErrorResult(pendingActionResult[1]) ? {
    actionData: {}
  } : {
    actionData: {
      [pendingActionResult[0]]: pendingActionResult[1].data
    }
  };
}
function findNearestBoundary(matches, routeId) {
  let eligibleMatches = routeId ? matches.slice(0, matches.findIndex((m) => m.route.id === routeId) + 1) : [...matches];
  return eligibleMatches.reverse().find((m) => m.route.hasErrorBoundary === true) || matches[0];
}
function getShortCircuitMatches(routes) {
  let route = routes.length === 1 ? routes[0] : routes.find((r) => r.index || !r.path || r.path === "/") || {
    id: `__shim-error-route__`
  };
  return {
    matches: [
      {
        params: {},
        pathname: "",
        pathnameBase: "",
        route
      }
    ],
    route
  };
}
function getInternalRouterError(status, {
  pathname,
  routeId,
  method,
  type,
  message
} = {}) {
  let statusText = "Unknown Server Error";
  let errorMessage = "Unknown @remix-run/router error";
  if (status === 400) {
    statusText = "Bad Request";
    if (method && pathname && routeId) {
      errorMessage = `You made a ${method} request to "${pathname}" but did not provide a \`loader\` for route "${routeId}", so there is no way to handle the request.`;
    } else if (type === "invalid-body") {
      errorMessage = "Unable to encode submission body";
    }
  } else if (status === 403) {
    statusText = "Forbidden";
    errorMessage = `Route "${routeId}" does not match URL "${pathname}"`;
  } else if (status === 404) {
    statusText = "Not Found";
    errorMessage = `No route matches URL "${pathname}"`;
  } else if (status === 405) {
    statusText = "Method Not Allowed";
    if (method && pathname && routeId) {
      errorMessage = `You made a ${method.toUpperCase()} request to "${pathname}" but did not provide an \`action\` for route "${routeId}", so there is no way to handle the request.`;
    } else if (method) {
      errorMessage = `Invalid request method "${method.toUpperCase()}"`;
    }
  }
  return new ErrorResponseImpl(status || 500, statusText, new Error(errorMessage), true);
}
function findRedirect(results) {
  let entries = Object.entries(results);
  for (let i = entries.length - 1;i >= 0; i--) {
    let [key, result] = entries[i];
    if (isRedirectResult(result)) {
      return { key, result };
    }
  }
}
function stripHashFromPath(path) {
  let parsedPath = typeof path === "string" ? parsePath(path) : path;
  return createPath({ ...parsedPath, hash: "" });
}
function isHashChangeOnly(a, b) {
  if (a.pathname !== b.pathname || a.search !== b.search) {
    return false;
  }
  if (a.hash === "") {
    return b.hash !== "";
  } else if (a.hash === b.hash) {
    return true;
  } else if (b.hash !== "") {
    return true;
  }
  return false;
}
function isDataStrategyResults(result) {
  return result != null && typeof result === "object" && Object.entries(result).every(([key, value]) => typeof key === "string" && isDataStrategyResult(value));
}
function isDataStrategyResult(result) {
  return result != null && typeof result === "object" && "type" in result && "result" in result && (result.type === "data" || result.type === "error");
}
function isRedirectDataStrategyResult(result) {
  return isResponse(result.result) && redirectStatusCodes.has(result.result.status);
}
function isErrorResult(result) {
  return result.type === "error";
}
function isRedirectResult(result) {
  return (result && result.type) === "redirect";
}
function isDataWithResponseInit(value) {
  return typeof value === "object" && value != null && "type" in value && "data" in value && "init" in value && value.type === "DataWithResponseInit";
}
function isResponse(value) {
  return value != null && typeof value.status === "number" && typeof value.statusText === "string" && typeof value.headers === "object" && typeof value.body !== "undefined";
}
function isValidMethod(method) {
  return validRequestMethods.has(method.toUpperCase());
}
function isMutationMethod(method) {
  return validMutationMethods.has(method.toUpperCase());
}
function hasNakedIndexQuery(search) {
  return new URLSearchParams(search).getAll("index").some((v) => v === "");
}
function getTargetMatch(matches, location2) {
  let search = typeof location2 === "string" ? parsePath(location2).search : location2.search;
  if (matches[matches.length - 1].route.index && hasNakedIndexQuery(search || "")) {
    return matches[matches.length - 1];
  }
  let pathMatches = getPathContributingMatches(matches);
  return pathMatches[pathMatches.length - 1];
}
function getSubmissionFromNavigation(navigation) {
  let { formMethod, formAction, formEncType, text, formData, json } = navigation;
  if (!formMethod || !formAction || !formEncType) {
    return;
  }
  if (text != null) {
    return {
      formMethod,
      formAction,
      formEncType,
      formData: undefined,
      json: undefined,
      text
    };
  } else if (formData != null) {
    return {
      formMethod,
      formAction,
      formEncType,
      formData,
      json: undefined,
      text: undefined
    };
  } else if (json !== undefined) {
    return {
      formMethod,
      formAction,
      formEncType,
      formData: undefined,
      json,
      text: undefined
    };
  }
}
function getLoadingNavigation(location2, submission) {
  if (submission) {
    let navigation = {
      state: "loading",
      location: location2,
      formMethod: submission.formMethod,
      formAction: submission.formAction,
      formEncType: submission.formEncType,
      formData: submission.formData,
      json: submission.json,
      text: submission.text
    };
    return navigation;
  } else {
    let navigation = {
      state: "loading",
      location: location2,
      formMethod: undefined,
      formAction: undefined,
      formEncType: undefined,
      formData: undefined,
      json: undefined,
      text: undefined
    };
    return navigation;
  }
}
function getSubmittingNavigation(location2, submission) {
  let navigation = {
    state: "submitting",
    location: location2,
    formMethod: submission.formMethod,
    formAction: submission.formAction,
    formEncType: submission.formEncType,
    formData: submission.formData,
    json: submission.json,
    text: submission.text
  };
  return navigation;
}
function getLoadingFetcher(submission, data2) {
  if (submission) {
    let fetcher = {
      state: "loading",
      formMethod: submission.formMethod,
      formAction: submission.formAction,
      formEncType: submission.formEncType,
      formData: submission.formData,
      json: submission.json,
      text: submission.text,
      data: data2
    };
    return fetcher;
  } else {
    let fetcher = {
      state: "loading",
      formMethod: undefined,
      formAction: undefined,
      formEncType: undefined,
      formData: undefined,
      json: undefined,
      text: undefined,
      data: data2
    };
    return fetcher;
  }
}
function getSubmittingFetcher(submission, existingFetcher) {
  let fetcher = {
    state: "submitting",
    formMethod: submission.formMethod,
    formAction: submission.formAction,
    formEncType: submission.formEncType,
    formData: submission.formData,
    json: submission.json,
    text: submission.text,
    data: existingFetcher ? existingFetcher.data : undefined
  };
  return fetcher;
}
function getDoneFetcher(data2) {
  let fetcher = {
    state: "idle",
    formMethod: undefined,
    formAction: undefined,
    formEncType: undefined,
    formData: undefined,
    json: undefined,
    text: undefined,
    data: data2
  };
  return fetcher;
}
function restoreAppliedTransitions(_window, transitions) {
  try {
    let sessionPositions = _window.sessionStorage.getItem(TRANSITIONS_STORAGE_KEY);
    if (sessionPositions) {
      let json = JSON.parse(sessionPositions);
      for (let [k, v] of Object.entries(json || {})) {
        if (v && Array.isArray(v)) {
          transitions.set(k, new Set(v || []));
        }
      }
    }
  } catch (e) {}
}
function persistAppliedTransitions(_window, transitions) {
  if (transitions.size > 0) {
    let json = {};
    for (let [k, v] of transitions) {
      json[k] = [...v];
    }
    try {
      _window.sessionStorage.setItem(TRANSITIONS_STORAGE_KEY, JSON.stringify(json));
    } catch (error) {
      warning(false, `Failed to save applied view transitions in sessionStorage (${error}).`);
    }
  }
}
function createDeferred() {
  let resolve;
  let reject;
  let promise = new Promise((res, rej) => {
    resolve = async (val) => {
      res(val);
      try {
        await promise;
      } catch (e) {}
    };
    reject = async (error) => {
      rej(error);
      try {
        await promise;
      } catch (e) {}
    };
  });
  return {
    promise,
    resolve,
    reject
  };
}
var DataRouterContext = React.createContext(null);
DataRouterContext.displayName = "DataRouter";
var DataRouterStateContext = React.createContext(null);
DataRouterStateContext.displayName = "DataRouterState";
var RSCRouterContext = React.createContext(false);
var ViewTransitionContext = React.createContext({
  isTransitioning: false
});
ViewTransitionContext.displayName = "ViewTransition";
var FetchersContext = React.createContext(/* @__PURE__ */ new Map);
FetchersContext.displayName = "Fetchers";
var AwaitContext = React.createContext(null);
AwaitContext.displayName = "Await";
var NavigationContext = React.createContext(null);
NavigationContext.displayName = "Navigation";
var LocationContext = React.createContext(null);
LocationContext.displayName = "Location";
var RouteContext = React.createContext({
  outlet: null,
  matches: [],
  isDataRoute: false
});
RouteContext.displayName = "Route";
var RouteErrorContext = React.createContext(null);
RouteErrorContext.displayName = "RouteError";
var ENABLE_DEV_WARNINGS = true;
function useHref(to, { relative } = {}) {
  invariant(useInRouterContext(), `useHref() may be used only in the context of a <Router> component.`);
  let { basename, navigator: navigator2 } = React2.useContext(NavigationContext);
  let { hash, pathname, search } = useResolvedPath(to, { relative });
  let joinedPathname = pathname;
  if (basename !== "/") {
    joinedPathname = pathname === "/" ? basename : joinPaths([basename, pathname]);
  }
  return navigator2.createHref({ pathname: joinedPathname, search, hash });
}
function useInRouterContext() {
  return React2.useContext(LocationContext) != null;
}
function useLocation() {
  invariant(useInRouterContext(), `useLocation() may be used only in the context of a <Router> component.`);
  return React2.useContext(LocationContext).location;
}
var navigateEffectWarning = `You should call navigate() in a React.useEffect(), not when your component is first rendered.`;
function useIsomorphicLayoutEffect(cb) {
  let isStatic = React2.useContext(NavigationContext).static;
  if (!isStatic) {
    React2.useLayoutEffect(cb);
  }
}
function useNavigate() {
  let { isDataRoute } = React2.useContext(RouteContext);
  return isDataRoute ? useNavigateStable() : useNavigateUnstable();
}
function useNavigateUnstable() {
  invariant(useInRouterContext(), `useNavigate() may be used only in the context of a <Router> component.`);
  let dataRouterContext = React2.useContext(DataRouterContext);
  let { basename, navigator: navigator2 } = React2.useContext(NavigationContext);
  let { matches } = React2.useContext(RouteContext);
  let { pathname: locationPathname } = useLocation();
  let routePathnamesJson = JSON.stringify(getResolveToMatches(matches));
  let activeRef = React2.useRef(false);
  useIsomorphicLayoutEffect(() => {
    activeRef.current = true;
  });
  let navigate = React2.useCallback((to, options = {}) => {
    warning(activeRef.current, navigateEffectWarning);
    if (!activeRef.current)
      return;
    if (typeof to === "number") {
      navigator2.go(to);
      return;
    }
    let path = resolveTo(to, JSON.parse(routePathnamesJson), locationPathname, options.relative === "path");
    if (dataRouterContext == null && basename !== "/") {
      path.pathname = path.pathname === "/" ? basename : joinPaths([basename, path.pathname]);
    }
    (options.replace ? navigator2.replace : navigator2.push)(path, options.state, options);
  }, [
    basename,
    navigator2,
    routePathnamesJson,
    locationPathname,
    dataRouterContext
  ]);
  return navigate;
}
var OutletContext = React2.createContext(null);
function useOutlet(context) {
  let outlet = React2.useContext(RouteContext).outlet;
  return React2.useMemo(() => outlet && /* @__PURE__ */ React2.createElement(OutletContext.Provider, { value: context }, outlet), [outlet, context]);
}
function useResolvedPath(to, { relative } = {}) {
  let { matches } = React2.useContext(RouteContext);
  let { pathname: locationPathname } = useLocation();
  let routePathnamesJson = JSON.stringify(getResolveToMatches(matches));
  return React2.useMemo(() => resolveTo(to, JSON.parse(routePathnamesJson), locationPathname, relative === "path"), [to, routePathnamesJson, locationPathname, relative]);
}
function useRoutesImpl(routes, locationArg, dataRouterState, unstable_onError, future) {
  invariant(useInRouterContext(), `useRoutes() may be used only in the context of a <Router> component.`);
  let { navigator: navigator2 } = React2.useContext(NavigationContext);
  let { matches: parentMatches } = React2.useContext(RouteContext);
  let routeMatch = parentMatches[parentMatches.length - 1];
  let parentParams = routeMatch ? routeMatch.params : {};
  let parentPathname = routeMatch ? routeMatch.pathname : "/";
  let parentPathnameBase = routeMatch ? routeMatch.pathnameBase : "/";
  let parentRoute = routeMatch && routeMatch.route;
  if (ENABLE_DEV_WARNINGS) {
    let parentPath = parentRoute && parentRoute.path || "";
    warningOnce(parentPathname, !parentRoute || parentPath.endsWith("*") || parentPath.endsWith("*?"), `You rendered descendant <Routes> (or called \`useRoutes()\`) at "${parentPathname}" (under <Route path="${parentPath}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${parentPath}"> to <Route path="${parentPath === "/" ? "*" : `${parentPath}/*`}">.`);
  }
  let locationFromContext = useLocation();
  let location2;
  if (locationArg) {
    let parsedLocationArg = typeof locationArg === "string" ? parsePath(locationArg) : locationArg;
    invariant(parentPathnameBase === "/" || parsedLocationArg.pathname?.startsWith(parentPathnameBase), `When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${parentPathnameBase}" but pathname "${parsedLocationArg.pathname}" was given in the \`location\` prop.`);
    location2 = parsedLocationArg;
  } else {
    location2 = locationFromContext;
  }
  let pathname = location2.pathname || "/";
  let remainingPathname = pathname;
  if (parentPathnameBase !== "/") {
    let parentSegments = parentPathnameBase.replace(/^\//, "").split("/");
    let segments = pathname.replace(/^\//, "").split("/");
    remainingPathname = "/" + segments.slice(parentSegments.length).join("/");
  }
  let matches = matchRoutes(routes, { pathname: remainingPathname });
  if (ENABLE_DEV_WARNINGS) {
    warning(parentRoute || matches != null, `No routes matched location "${location2.pathname}${location2.search}${location2.hash}" `);
    warning(matches == null || matches[matches.length - 1].route.element !== undefined || matches[matches.length - 1].route.Component !== undefined || matches[matches.length - 1].route.lazy !== undefined, `Matched leaf route at location "${location2.pathname}${location2.search}${location2.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);
  }
  let renderedMatches = _renderMatches(matches && matches.map((match) => Object.assign({}, match, {
    params: Object.assign({}, parentParams, match.params),
    pathname: joinPaths([
      parentPathnameBase,
      navigator2.encodeLocation ? navigator2.encodeLocation(match.pathname.replace(/\?/g, "%3F").replace(/#/g, "%23")).pathname : match.pathname
    ]),
    pathnameBase: match.pathnameBase === "/" ? parentPathnameBase : joinPaths([
      parentPathnameBase,
      navigator2.encodeLocation ? navigator2.encodeLocation(match.pathnameBase.replace(/\?/g, "%3F").replace(/#/g, "%23")).pathname : match.pathnameBase
    ])
  })), parentMatches, dataRouterState, unstable_onError, future);
  if (locationArg && renderedMatches) {
    return /* @__PURE__ */ React2.createElement(LocationContext.Provider, {
      value: {
        location: {
          pathname: "/",
          search: "",
          hash: "",
          state: null,
          key: "default",
          ...location2
        },
        navigationType: "POP"
      }
    }, renderedMatches);
  }
  return renderedMatches;
}
function DefaultErrorComponent() {
  let error = useRouteError();
  let message = isRouteErrorResponse(error) ? `${error.status} ${error.statusText}` : error instanceof Error ? error.message : JSON.stringify(error);
  let stack = error instanceof Error ? error.stack : null;
  let lightgrey = "rgba(200,200,200, 0.5)";
  let preStyles = { padding: "0.5rem", backgroundColor: lightgrey };
  let codeStyles = { padding: "2px 4px", backgroundColor: lightgrey };
  let devInfo = null;
  if (ENABLE_DEV_WARNINGS) {
    console.error("Error handled by React Router default ErrorBoundary:", error);
    devInfo = /* @__PURE__ */ React2.createElement(React2.Fragment, null, /* @__PURE__ */ React2.createElement("p", null, "\uD83D\uDCBF Hey developer \uD83D\uDC4B"), /* @__PURE__ */ React2.createElement("p", null, "You can provide a way better UX than this when your app throws errors by providing your own ", /* @__PURE__ */ React2.createElement("code", { style: codeStyles }, "ErrorBoundary"), " or", " ", /* @__PURE__ */ React2.createElement("code", { style: codeStyles }, "errorElement"), " prop on your route."));
  }
  return /* @__PURE__ */ React2.createElement(React2.Fragment, null, /* @__PURE__ */ React2.createElement("h2", null, "Unexpected Application Error!"), /* @__PURE__ */ React2.createElement("h3", { style: { fontStyle: "italic" } }, message), stack ? /* @__PURE__ */ React2.createElement("pre", { style: preStyles }, stack) : null, devInfo);
}
var defaultErrorElement = /* @__PURE__ */ React2.createElement(DefaultErrorComponent, null);
var RenderErrorBoundary = class extends React2.Component {
  constructor(props) {
    super(props);
    this.state = {
      location: props.location,
      revalidation: props.revalidation,
      error: props.error
    };
  }
  static getDerivedStateFromError(error) {
    return { error };
  }
  static getDerivedStateFromProps(props, state) {
    if (state.location !== props.location || state.revalidation !== "idle" && props.revalidation === "idle") {
      return {
        error: props.error,
        location: props.location,
        revalidation: props.revalidation
      };
    }
    return {
      error: props.error !== undefined ? props.error : state.error,
      location: state.location,
      revalidation: props.revalidation || state.revalidation
    };
  }
  componentDidCatch(error, errorInfo) {
    if (this.props.unstable_onError) {
      this.props.unstable_onError(error, errorInfo);
    } else {
      console.error("React Router caught the following error during render", error);
    }
  }
  render() {
    return this.state.error !== undefined ? /* @__PURE__ */ React2.createElement(RouteContext.Provider, { value: this.props.routeContext }, /* @__PURE__ */ React2.createElement(RouteErrorContext.Provider, {
      value: this.state.error,
      children: this.props.component
    })) : this.props.children;
  }
};
function RenderedRoute({ routeContext, match, children }) {
  let dataRouterContext = React2.useContext(DataRouterContext);
  if (dataRouterContext && dataRouterContext.static && dataRouterContext.staticContext && (match.route.errorElement || match.route.ErrorBoundary)) {
    dataRouterContext.staticContext._deepestRenderedBoundaryId = match.route.id;
  }
  return /* @__PURE__ */ React2.createElement(RouteContext.Provider, { value: routeContext }, children);
}
function _renderMatches(matches, parentMatches = [], dataRouterState = null, unstable_onError = null, future = null) {
  if (matches == null) {
    if (!dataRouterState) {
      return null;
    }
    if (dataRouterState.errors) {
      matches = dataRouterState.matches;
    } else if (parentMatches.length === 0 && !dataRouterState.initialized && dataRouterState.matches.length > 0) {
      matches = dataRouterState.matches;
    } else {
      return null;
    }
  }
  let renderedMatches = matches;
  let errors = dataRouterState?.errors;
  if (errors != null) {
    let errorIndex = renderedMatches.findIndex((m) => m.route.id && errors?.[m.route.id] !== undefined);
    invariant(errorIndex >= 0, `Could not find a matching route for errors on route IDs: ${Object.keys(errors).join(",")}`);
    renderedMatches = renderedMatches.slice(0, Math.min(renderedMatches.length, errorIndex + 1));
  }
  let renderFallback = false;
  let fallbackIndex = -1;
  if (dataRouterState) {
    for (let i = 0;i < renderedMatches.length; i++) {
      let match = renderedMatches[i];
      if (match.route.HydrateFallback || match.route.hydrateFallbackElement) {
        fallbackIndex = i;
      }
      if (match.route.id) {
        let { loaderData, errors: errors2 } = dataRouterState;
        let needsToRunLoader = match.route.loader && !loaderData.hasOwnProperty(match.route.id) && (!errors2 || errors2[match.route.id] === undefined);
        if (match.route.lazy || needsToRunLoader) {
          renderFallback = true;
          if (fallbackIndex >= 0) {
            renderedMatches = renderedMatches.slice(0, fallbackIndex + 1);
          } else {
            renderedMatches = [renderedMatches[0]];
          }
          break;
        }
      }
    }
  }
  return renderedMatches.reduceRight((outlet, match, index) => {
    let error;
    let shouldRenderHydrateFallback = false;
    let errorElement = null;
    let hydrateFallbackElement = null;
    if (dataRouterState) {
      error = errors && match.route.id ? errors[match.route.id] : undefined;
      errorElement = match.route.errorElement || defaultErrorElement;
      if (renderFallback) {
        if (fallbackIndex < 0 && index === 0) {
          warningOnce("route-fallback", false, "No `HydrateFallback` element provided to render during initial hydration");
          shouldRenderHydrateFallback = true;
          hydrateFallbackElement = null;
        } else if (fallbackIndex === index) {
          shouldRenderHydrateFallback = true;
          hydrateFallbackElement = match.route.hydrateFallbackElement || null;
        }
      }
    }
    let matches2 = parentMatches.concat(renderedMatches.slice(0, index + 1));
    let getChildren = () => {
      let children;
      if (error) {
        children = errorElement;
      } else if (shouldRenderHydrateFallback) {
        children = hydrateFallbackElement;
      } else if (match.route.Component) {
        children = /* @__PURE__ */ React2.createElement(match.route.Component, null);
      } else if (match.route.element) {
        children = match.route.element;
      } else {
        children = outlet;
      }
      return /* @__PURE__ */ React2.createElement(RenderedRoute, {
        match,
        routeContext: {
          outlet,
          matches: matches2,
          isDataRoute: dataRouterState != null
        },
        children
      });
    };
    return dataRouterState && (match.route.ErrorBoundary || match.route.errorElement || index === 0) ? /* @__PURE__ */ React2.createElement(RenderErrorBoundary, {
      location: dataRouterState.location,
      revalidation: dataRouterState.revalidation,
      component: errorElement,
      error,
      children: getChildren(),
      routeContext: { outlet: null, matches: matches2, isDataRoute: true },
      unstable_onError
    }) : getChildren();
  }, null);
}
function getDataRouterConsoleError(hookName) {
  return `${hookName} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`;
}
function useDataRouterContext(hookName) {
  let ctx = React2.useContext(DataRouterContext);
  invariant(ctx, getDataRouterConsoleError(hookName));
  return ctx;
}
function useDataRouterState(hookName) {
  let state = React2.useContext(DataRouterStateContext);
  invariant(state, getDataRouterConsoleError(hookName));
  return state;
}
function useRouteContext(hookName) {
  let route = React2.useContext(RouteContext);
  invariant(route, getDataRouterConsoleError(hookName));
  return route;
}
function useCurrentRouteId(hookName) {
  let route = useRouteContext(hookName);
  let thisRoute = route.matches[route.matches.length - 1];
  invariant(thisRoute.route.id, `${hookName} can only be used on routes that contain a unique "id"`);
  return thisRoute.route.id;
}
function useRouteId() {
  return useCurrentRouteId("useRouteId");
}
function useNavigation() {
  let state = useDataRouterState("useNavigation");
  return state.navigation;
}
function useMatches() {
  let { matches, loaderData } = useDataRouterState("useMatches");
  return React2.useMemo(() => matches.map((m) => convertRouteMatchToUiMatch(m, loaderData)), [matches, loaderData]);
}
function useRouteError() {
  let error = React2.useContext(RouteErrorContext);
  let state = useDataRouterState("useRouteError");
  let routeId = useCurrentRouteId("useRouteError");
  if (error !== undefined) {
    return error;
  }
  return state.errors?.[routeId];
}
function useNavigateStable() {
  let { router } = useDataRouterContext("useNavigate");
  let id = useCurrentRouteId("useNavigate");
  let activeRef = React2.useRef(false);
  useIsomorphicLayoutEffect(() => {
    activeRef.current = true;
  });
  let navigate = React2.useCallback(async (to, options = {}) => {
    warning(activeRef.current, navigateEffectWarning);
    if (!activeRef.current)
      return;
    if (typeof to === "number") {
      router.navigate(to);
    } else {
      await router.navigate(to, { fromRouteId: id, ...options });
    }
  }, [router, id]);
  return navigate;
}
var alreadyWarned = {};
function warningOnce(key, cond, message) {
  if (!cond && !alreadyWarned[key]) {
    alreadyWarned[key] = true;
    warning(false, message);
  }
}
var alreadyWarned2 = {};
function warnOnce(condition, message) {
  if (!condition && !alreadyWarned2[message]) {
    alreadyWarned2[message] = true;
    console.warn(message);
  }
}
function mapRouteProperties(route) {
  let updates = {
    hasErrorBoundary: route.hasErrorBoundary || route.ErrorBoundary != null || route.errorElement != null
  };
  if (route.Component) {
    if (ENABLE_DEV_WARNINGS) {
      if (route.element) {
        warning(false, "You should not include both `Component` and `element` on your route - `Component` will be used.");
      }
    }
    Object.assign(updates, {
      element: React3.createElement(route.Component),
      Component: undefined
    });
  }
  if (route.HydrateFallback) {
    if (ENABLE_DEV_WARNINGS) {
      if (route.hydrateFallbackElement) {
        warning(false, "You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used.");
      }
    }
    Object.assign(updates, {
      hydrateFallbackElement: React3.createElement(route.HydrateFallback),
      HydrateFallback: undefined
    });
  }
  if (route.ErrorBoundary) {
    if (ENABLE_DEV_WARNINGS) {
      if (route.errorElement) {
        warning(false, "You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used.");
      }
    }
    Object.assign(updates, {
      errorElement: React3.createElement(route.ErrorBoundary),
      ErrorBoundary: undefined
    });
  }
  return updates;
}
var hydrationRouteProperties = [
  "HydrateFallback",
  "hydrateFallbackElement"
];
var Deferred = class {
  constructor() {
    this.status = "pending";
    this.promise = new Promise((resolve, reject) => {
      this.resolve = (value) => {
        if (this.status === "pending") {
          this.status = "resolved";
          resolve(value);
        }
      };
      this.reject = (reason) => {
        if (this.status === "pending") {
          this.status = "rejected";
          reject(reason);
        }
      };
    });
  }
};
function RouterProvider({
  router,
  flushSync: reactDomFlushSyncImpl,
  unstable_onError
}) {
  let [state, setStateImpl] = React3.useState(router.state);
  let [pendingState, setPendingState] = React3.useState();
  let [vtContext, setVtContext] = React3.useState({
    isTransitioning: false
  });
  let [renderDfd, setRenderDfd] = React3.useState();
  let [transition, setTransition] = React3.useState();
  let [interruption, setInterruption] = React3.useState();
  let fetcherData = React3.useRef(/* @__PURE__ */ new Map);
  let logErrorsAndSetState = React3.useCallback((newState) => {
    setStateImpl((prevState) => {
      if (newState.errors && unstable_onError) {
        Object.entries(newState.errors).forEach(([routeId, error]) => {
          if (prevState.errors?.[routeId] !== error) {
            unstable_onError(error);
          }
        });
      }
      return newState;
    });
  }, [unstable_onError]);
  let setState = React3.useCallback((newState, { deletedFetchers, flushSync, viewTransitionOpts }) => {
    newState.fetchers.forEach((fetcher, key) => {
      if (fetcher.data !== undefined) {
        fetcherData.current.set(key, fetcher.data);
      }
    });
    deletedFetchers.forEach((key) => fetcherData.current.delete(key));
    warnOnce(flushSync === false || reactDomFlushSyncImpl != null, 'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');
    let isViewTransitionAvailable = router.window != null && router.window.document != null && typeof router.window.document.startViewTransition === "function";
    warnOnce(viewTransitionOpts == null || isViewTransitionAvailable, "You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available.");
    if (!viewTransitionOpts || !isViewTransitionAvailable) {
      if (reactDomFlushSyncImpl && flushSync) {
        reactDomFlushSyncImpl(() => logErrorsAndSetState(newState));
      } else {
        React3.startTransition(() => logErrorsAndSetState(newState));
      }
      return;
    }
    if (reactDomFlushSyncImpl && flushSync) {
      reactDomFlushSyncImpl(() => {
        if (transition) {
          renderDfd && renderDfd.resolve();
          transition.skipTransition();
        }
        setVtContext({
          isTransitioning: true,
          flushSync: true,
          currentLocation: viewTransitionOpts.currentLocation,
          nextLocation: viewTransitionOpts.nextLocation
        });
      });
      let t = router.window.document.startViewTransition(() => {
        reactDomFlushSyncImpl(() => logErrorsAndSetState(newState));
      });
      t.finished.finally(() => {
        reactDomFlushSyncImpl(() => {
          setRenderDfd(undefined);
          setTransition(undefined);
          setPendingState(undefined);
          setVtContext({ isTransitioning: false });
        });
      });
      reactDomFlushSyncImpl(() => setTransition(t));
      return;
    }
    if (transition) {
      renderDfd && renderDfd.resolve();
      transition.skipTransition();
      setInterruption({
        state: newState,
        currentLocation: viewTransitionOpts.currentLocation,
        nextLocation: viewTransitionOpts.nextLocation
      });
    } else {
      setPendingState(newState);
      setVtContext({
        isTransitioning: true,
        flushSync: false,
        currentLocation: viewTransitionOpts.currentLocation,
        nextLocation: viewTransitionOpts.nextLocation
      });
    }
  }, [
    router.window,
    reactDomFlushSyncImpl,
    transition,
    renderDfd,
    logErrorsAndSetState
  ]);
  React3.useLayoutEffect(() => router.subscribe(setState), [router, setState]);
  React3.useEffect(() => {
    if (vtContext.isTransitioning && !vtContext.flushSync) {
      setRenderDfd(new Deferred);
    }
  }, [vtContext]);
  React3.useEffect(() => {
    if (renderDfd && pendingState && router.window) {
      let newState = pendingState;
      let renderPromise = renderDfd.promise;
      let transition2 = router.window.document.startViewTransition(async () => {
        React3.startTransition(() => logErrorsAndSetState(newState));
        await renderPromise;
      });
      transition2.finished.finally(() => {
        setRenderDfd(undefined);
        setTransition(undefined);
        setPendingState(undefined);
        setVtContext({ isTransitioning: false });
      });
      setTransition(transition2);
    }
  }, [pendingState, renderDfd, router.window, logErrorsAndSetState]);
  React3.useEffect(() => {
    if (renderDfd && pendingState && state.location.key === pendingState.location.key) {
      renderDfd.resolve();
    }
  }, [renderDfd, transition, state.location, pendingState]);
  React3.useEffect(() => {
    if (!vtContext.isTransitioning && interruption) {
      setPendingState(interruption.state);
      setVtContext({
        isTransitioning: true,
        flushSync: false,
        currentLocation: interruption.currentLocation,
        nextLocation: interruption.nextLocation
      });
      setInterruption(undefined);
    }
  }, [vtContext.isTransitioning, interruption]);
  let navigator2 = React3.useMemo(() => {
    return {
      createHref: router.createHref,
      encodeLocation: router.encodeLocation,
      go: (n) => router.navigate(n),
      push: (to, state2, opts) => router.navigate(to, {
        state: state2,
        preventScrollReset: opts?.preventScrollReset
      }),
      replace: (to, state2, opts) => router.navigate(to, {
        replace: true,
        state: state2,
        preventScrollReset: opts?.preventScrollReset
      })
    };
  }, [router]);
  let basename = router.basename || "/";
  let dataRouterContext = React3.useMemo(() => ({
    router,
    navigator: navigator2,
    static: false,
    basename,
    unstable_onError
  }), [router, navigator2, basename, unstable_onError]);
  return /* @__PURE__ */ React3.createElement(React3.Fragment, null, /* @__PURE__ */ React3.createElement(DataRouterContext.Provider, { value: dataRouterContext }, /* @__PURE__ */ React3.createElement(DataRouterStateContext.Provider, { value: state }, /* @__PURE__ */ React3.createElement(FetchersContext.Provider, { value: fetcherData.current }, /* @__PURE__ */ React3.createElement(ViewTransitionContext.Provider, { value: vtContext }, /* @__PURE__ */ React3.createElement(Router, {
    basename,
    location: state.location,
    navigationType: state.historyAction,
    navigator: navigator2
  }, /* @__PURE__ */ React3.createElement(MemoizedDataRoutes, {
    routes: router.routes,
    future: router.future,
    state,
    unstable_onError
  })))))), null);
}
var MemoizedDataRoutes = React3.memo(DataRoutes);
function DataRoutes({
  routes,
  future,
  state,
  unstable_onError
}) {
  return useRoutesImpl(routes, undefined, state, unstable_onError, future);
}
function Outlet(props) {
  return useOutlet(props.context);
}
function Router({
  basename: basenameProp = "/",
  children = null,
  location: locationProp,
  navigationType = "POP",
  navigator: navigator2,
  static: staticProp = false
}) {
  invariant(!useInRouterContext(), `You cannot render a <Router> inside another <Router>. You should never have more than one in your app.`);
  let basename = basenameProp.replace(/^\/*/, "/");
  let navigationContext = React3.useMemo(() => ({
    basename,
    navigator: navigator2,
    static: staticProp,
    future: {}
  }), [basename, navigator2, staticProp]);
  if (typeof locationProp === "string") {
    locationProp = parsePath(locationProp);
  }
  let {
    pathname = "/",
    search = "",
    hash = "",
    state = null,
    key = "default"
  } = locationProp;
  let locationContext = React3.useMemo(() => {
    let trailingPathname = stripBasename(pathname, basename);
    if (trailingPathname == null) {
      return null;
    }
    return {
      location: {
        pathname: trailingPathname,
        search,
        hash,
        state,
        key
      },
      navigationType
    };
  }, [basename, pathname, search, hash, state, key, navigationType]);
  warning(locationContext != null, `<Router basename="${basename}"> is not able to match the URL "${pathname}${search}${hash}" because it does not start with the basename, so the <Router> won't render anything.`);
  if (locationContext == null) {
    return null;
  }
  return /* @__PURE__ */ React3.createElement(NavigationContext.Provider, { value: navigationContext }, /* @__PURE__ */ React3.createElement(LocationContext.Provider, { children, value: locationContext }));
}
var defaultMethod = "get";
var defaultEncType = "application/x-www-form-urlencoded";
function isHtmlElement(object) {
  return object != null && typeof object.tagName === "string";
}
function isButtonElement(object) {
  return isHtmlElement(object) && object.tagName.toLowerCase() === "button";
}
function isFormElement(object) {
  return isHtmlElement(object) && object.tagName.toLowerCase() === "form";
}
function isInputElement(object) {
  return isHtmlElement(object) && object.tagName.toLowerCase() === "input";
}
function isModifiedEvent(event) {
  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);
}
function shouldProcessLinkClick(event, target) {
  return event.button === 0 && (!target || target === "_self") && !isModifiedEvent(event);
}
var _formDataSupportsSubmitter = null;
function isFormDataSubmitterSupported() {
  if (_formDataSupportsSubmitter === null) {
    try {
      new FormData(document.createElement("form"), 0);
      _formDataSupportsSubmitter = false;
    } catch (e) {
      _formDataSupportsSubmitter = true;
    }
  }
  return _formDataSupportsSubmitter;
}
var supportedFormEncTypes = /* @__PURE__ */ new Set([
  "application/x-www-form-urlencoded",
  "multipart/form-data",
  "text/plain"
]);
function getFormEncType(encType) {
  if (encType != null && !supportedFormEncTypes.has(encType)) {
    warning(false, `"${encType}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`);
    return null;
  }
  return encType;
}
function getFormSubmissionInfo(target, basename) {
  let method;
  let action;
  let encType;
  let formData;
  let body;
  if (isFormElement(target)) {
    let attr = target.getAttribute("action");
    action = attr ? stripBasename(attr, basename) : null;
    method = target.getAttribute("method") || defaultMethod;
    encType = getFormEncType(target.getAttribute("enctype")) || defaultEncType;
    formData = new FormData(target);
  } else if (isButtonElement(target) || isInputElement(target) && (target.type === "submit" || target.type === "image")) {
    let form = target.form;
    if (form == null) {
      throw new Error(`Cannot submit a <button> or <input type="submit"> without a <form>`);
    }
    let attr = target.getAttribute("formaction") || form.getAttribute("action");
    action = attr ? stripBasename(attr, basename) : null;
    method = target.getAttribute("formmethod") || form.getAttribute("method") || defaultMethod;
    encType = getFormEncType(target.getAttribute("formenctype")) || getFormEncType(form.getAttribute("enctype")) || defaultEncType;
    formData = new FormData(form, target);
    if (!isFormDataSubmitterSupported()) {
      let { name, type, value } = target;
      if (type === "image") {
        let prefix = name ? `${name}.` : "";
        formData.append(`${prefix}x`, "0");
        formData.append(`${prefix}y`, "0");
      } else if (name) {
        formData.append(name, value);
      }
    }
  } else if (isHtmlElement(target)) {
    throw new Error(`Cannot submit element that is not <form>, <button>, or <input type="submit|image">`);
  } else {
    method = defaultMethod;
    action = null;
    encType = defaultEncType;
    body = target;
  }
  if (formData && encType === "text/plain") {
    body = formData;
    formData = undefined;
  }
  return { action, method: method.toLowerCase(), encType, formData, body };
}
var objectProtoNames2 = Object.getOwnPropertyNames(Object.prototype).sort().join("\x00");
function invariant2(value, message) {
  if (value === false || value === null || typeof value === "undefined") {
    throw new Error(message);
  }
}
var SingleFetchRedirectSymbol = Symbol("SingleFetchRedirect");
function singleFetchUrl(reqUrl, basename, extension) {
  let url = typeof reqUrl === "string" ? new URL(reqUrl, typeof window === "undefined" ? "server://singlefetch/" : window.location.origin) : reqUrl;
  if (url.pathname === "/") {
    url.pathname = `_root.${extension}`;
  } else if (basename && stripBasename(url.pathname, basename) === "/") {
    url.pathname = `${basename.replace(/\/$/, "")}/_root.${extension}`;
  } else {
    url.pathname = `${url.pathname.replace(/\/$/, "")}.${extension}`;
  }
  return url;
}
async function loadRouteModule(route, routeModulesCache) {
  if (route.id in routeModulesCache) {
    return routeModulesCache[route.id];
  }
  try {
    let routeModule = await import(route.module);
    routeModulesCache[route.id] = routeModule;
    return routeModule;
  } catch (error) {
    console.error(`Error loading route module \`${route.module}\`, reloading page...`);
    console.error(error);
    if (window.__reactRouterContext && window.__reactRouterContext.isSpaMode && undefined) {}
    window.location.reload();
    return new Promise(() => {});
  }
}
function isPageLinkDescriptor(object) {
  return object != null && typeof object.page === "string";
}
function isHtmlLinkDescriptor(object) {
  if (object == null) {
    return false;
  }
  if (object.href == null) {
    return object.rel === "preload" && typeof object.imageSrcSet === "string" && typeof object.imageSizes === "string";
  }
  return typeof object.rel === "string" && typeof object.href === "string";
}
async function getKeyedPrefetchLinks(matches, manifest, routeModules) {
  let links = await Promise.all(matches.map(async (match) => {
    let route = manifest.routes[match.route.id];
    if (route) {
      let mod = await loadRouteModule(route, routeModules);
      return mod.links ? mod.links() : [];
    }
    return [];
  }));
  return dedupeLinkDescriptors(links.flat(1).filter(isHtmlLinkDescriptor).filter((link) => link.rel === "stylesheet" || link.rel === "preload").map((link) => link.rel === "stylesheet" ? { ...link, rel: "prefetch", as: "style" } : { ...link, rel: "prefetch" }));
}
function getNewMatchesForLinks(page, nextMatches, currentMatches, manifest, location2, mode) {
  let isNew = (match, index) => {
    if (!currentMatches[index])
      return true;
    return match.route.id !== currentMatches[index].route.id;
  };
  let matchPathChanged = (match, index) => {
    return currentMatches[index].pathname !== match.pathname || currentMatches[index].route.path?.endsWith("*") && currentMatches[index].params["*"] !== match.params["*"];
  };
  if (mode === "assets") {
    return nextMatches.filter((match, index) => isNew(match, index) || matchPathChanged(match, index));
  }
  if (mode === "data") {
    return nextMatches.filter((match, index) => {
      let manifestRoute = manifest.routes[match.route.id];
      if (!manifestRoute || !manifestRoute.hasLoader) {
        return false;
      }
      if (isNew(match, index) || matchPathChanged(match, index)) {
        return true;
      }
      if (match.route.shouldRevalidate) {
        let routeChoice = match.route.shouldRevalidate({
          currentUrl: new URL(location2.pathname + location2.search + location2.hash, window.origin),
          currentParams: currentMatches[0]?.params || {},
          nextUrl: new URL(page, window.origin),
          nextParams: match.params,
          defaultShouldRevalidate: true
        });
        if (typeof routeChoice === "boolean") {
          return routeChoice;
        }
      }
      return true;
    });
  }
  return [];
}
function getModuleLinkHrefs(matches, manifest, { includeHydrateFallback } = {}) {
  return dedupeHrefs(matches.map((match) => {
    let route = manifest.routes[match.route.id];
    if (!route)
      return [];
    let hrefs = [route.module];
    if (route.clientActionModule) {
      hrefs = hrefs.concat(route.clientActionModule);
    }
    if (route.clientLoaderModule) {
      hrefs = hrefs.concat(route.clientLoaderModule);
    }
    if (includeHydrateFallback && route.hydrateFallbackModule) {
      hrefs = hrefs.concat(route.hydrateFallbackModule);
    }
    if (route.imports) {
      hrefs = hrefs.concat(route.imports);
    }
    return hrefs;
  }).flat(1));
}
function dedupeHrefs(hrefs) {
  return [...new Set(hrefs)];
}
function sortKeys(obj) {
  let sorted = {};
  let keys = Object.keys(obj).sort();
  for (let key of keys) {
    sorted[key] = obj[key];
  }
  return sorted;
}
function dedupeLinkDescriptors(descriptors, preloads) {
  let set = /* @__PURE__ */ new Set;
  let preloadsSet = new Set(preloads);
  return descriptors.reduce((deduped, descriptor) => {
    let alreadyModulePreload = preloads && !isPageLinkDescriptor(descriptor) && descriptor.as === "script" && descriptor.href && preloadsSet.has(descriptor.href);
    if (alreadyModulePreload) {
      return deduped;
    }
    let key = JSON.stringify(sortKeys(descriptor));
    if (!set.has(key)) {
      set.add(key);
      deduped.push({ key, link: descriptor });
    }
    return deduped;
  }, []);
}
function useDataRouterContext2() {
  let context = React8.useContext(DataRouterContext);
  invariant2(context, "You must render this element inside a <DataRouterContext.Provider> element");
  return context;
}
function useDataRouterStateContext() {
  let context = React8.useContext(DataRouterStateContext);
  invariant2(context, "You must render this element inside a <DataRouterStateContext.Provider> element");
  return context;
}
var FrameworkContext = React8.createContext(undefined);
FrameworkContext.displayName = "FrameworkContext";
function useFrameworkContext() {
  let context = React8.useContext(FrameworkContext);
  invariant2(context, "You must render this element inside a <HydratedRouter> element");
  return context;
}
function usePrefetchBehavior(prefetch, theirElementProps) {
  let frameworkContext = React8.useContext(FrameworkContext);
  let [maybePrefetch, setMaybePrefetch] = React8.useState(false);
  let [shouldPrefetch, setShouldPrefetch] = React8.useState(false);
  let { onFocus, onBlur, onMouseEnter, onMouseLeave, onTouchStart } = theirElementProps;
  let ref = React8.useRef(null);
  React8.useEffect(() => {
    if (prefetch === "render") {
      setShouldPrefetch(true);
    }
    if (prefetch === "viewport") {
      let callback = (entries) => {
        entries.forEach((entry) => {
          setShouldPrefetch(entry.isIntersecting);
        });
      };
      let observer = new IntersectionObserver(callback, { threshold: 0.5 });
      if (ref.current)
        observer.observe(ref.current);
      return () => {
        observer.disconnect();
      };
    }
  }, [prefetch]);
  React8.useEffect(() => {
    if (maybePrefetch) {
      let id = setTimeout(() => {
        setShouldPrefetch(true);
      }, 100);
      return () => {
        clearTimeout(id);
      };
    }
  }, [maybePrefetch]);
  let setIntent = () => {
    setMaybePrefetch(true);
  };
  let cancelIntent = () => {
    setMaybePrefetch(false);
    setShouldPrefetch(false);
  };
  if (!frameworkContext) {
    return [false, ref, {}];
  }
  if (prefetch !== "intent") {
    return [shouldPrefetch, ref, {}];
  }
  return [
    shouldPrefetch,
    ref,
    {
      onFocus: composeEventHandlers(onFocus, setIntent),
      onBlur: composeEventHandlers(onBlur, cancelIntent),
      onMouseEnter: composeEventHandlers(onMouseEnter, setIntent),
      onMouseLeave: composeEventHandlers(onMouseLeave, cancelIntent),
      onTouchStart: composeEventHandlers(onTouchStart, setIntent)
    }
  ];
}
function composeEventHandlers(theirHandler, ourHandler) {
  return (event) => {
    theirHandler && theirHandler(event);
    if (!event.defaultPrevented) {
      ourHandler(event);
    }
  };
}
function PrefetchPageLinks({ page, ...linkProps }) {
  let { router } = useDataRouterContext2();
  let matches = React8.useMemo(() => matchRoutes(router.routes, page, router.basename), [router.routes, page, router.basename]);
  if (!matches) {
    return null;
  }
  return /* @__PURE__ */ React8.createElement(PrefetchPageLinksImpl, { page, matches, ...linkProps });
}
function useKeyedPrefetchLinks(matches) {
  let { manifest, routeModules } = useFrameworkContext();
  let [keyedPrefetchLinks, setKeyedPrefetchLinks] = React8.useState([]);
  React8.useEffect(() => {
    let interrupted = false;
    getKeyedPrefetchLinks(matches, manifest, routeModules).then((links) => {
      if (!interrupted) {
        setKeyedPrefetchLinks(links);
      }
    });
    return () => {
      interrupted = true;
    };
  }, [matches, manifest, routeModules]);
  return keyedPrefetchLinks;
}
function PrefetchPageLinksImpl({
  page,
  matches: nextMatches,
  ...linkProps
}) {
  let location2 = useLocation();
  let { manifest, routeModules } = useFrameworkContext();
  let { basename } = useDataRouterContext2();
  let { loaderData, matches } = useDataRouterStateContext();
  let newMatchesForData = React8.useMemo(() => getNewMatchesForLinks(page, nextMatches, matches, manifest, location2, "data"), [page, nextMatches, matches, manifest, location2]);
  let newMatchesForAssets = React8.useMemo(() => getNewMatchesForLinks(page, nextMatches, matches, manifest, location2, "assets"), [page, nextMatches, matches, manifest, location2]);
  let dataHrefs = React8.useMemo(() => {
    if (page === location2.pathname + location2.search + location2.hash) {
      return [];
    }
    let routesParams = /* @__PURE__ */ new Set;
    let foundOptOutRoute = false;
    nextMatches.forEach((m) => {
      let manifestRoute = manifest.routes[m.route.id];
      if (!manifestRoute || !manifestRoute.hasLoader) {
        return;
      }
      if (!newMatchesForData.some((m2) => m2.route.id === m.route.id) && m.route.id in loaderData && routeModules[m.route.id]?.shouldRevalidate) {
        foundOptOutRoute = true;
      } else if (manifestRoute.hasClientLoader) {
        foundOptOutRoute = true;
      } else {
        routesParams.add(m.route.id);
      }
    });
    if (routesParams.size === 0) {
      return [];
    }
    let url = singleFetchUrl(page, basename, "data");
    if (foundOptOutRoute && routesParams.size > 0) {
      url.searchParams.set("_routes", nextMatches.filter((m) => routesParams.has(m.route.id)).map((m) => m.route.id).join(","));
    }
    return [url.pathname + url.search];
  }, [
    basename,
    loaderData,
    location2,
    manifest,
    newMatchesForData,
    nextMatches,
    page,
    routeModules
  ]);
  let moduleHrefs = React8.useMemo(() => getModuleLinkHrefs(newMatchesForAssets, manifest), [newMatchesForAssets, manifest]);
  let keyedPrefetchLinks = useKeyedPrefetchLinks(newMatchesForAssets);
  return /* @__PURE__ */ React8.createElement(React8.Fragment, null, dataHrefs.map((href) => /* @__PURE__ */ React8.createElement("link", { key: href, rel: "prefetch", as: "fetch", href, ...linkProps })), moduleHrefs.map((href) => /* @__PURE__ */ React8.createElement("link", { key: href, rel: "modulepreload", href, ...linkProps })), keyedPrefetchLinks.map(({ key, link }) => /* @__PURE__ */ React8.createElement("link", { key, nonce: linkProps.nonce, ...link })));
}
function mergeRefs(...refs) {
  return (value) => {
    refs.forEach((ref) => {
      if (typeof ref === "function") {
        ref(value);
      } else if (ref != null) {
        ref.current = value;
      }
    });
  };
}
var isBrowser = typeof window !== "undefined" && typeof window.document !== "undefined" && typeof window.document.createElement !== "undefined";
try {
  if (isBrowser) {
    window.__reactRouterVersion = "7.9.5";
  }
} catch (e) {}
function createBrowserRouter(routes, opts) {
  return createRouter({
    basename: opts?.basename,
    getContext: opts?.getContext,
    future: opts?.future,
    history: createBrowserHistory({ window: opts?.window }),
    hydrationData: opts?.hydrationData || parseHydrationData(),
    routes,
    mapRouteProperties,
    hydrationRouteProperties,
    dataStrategy: opts?.dataStrategy,
    patchRoutesOnNavigation: opts?.patchRoutesOnNavigation,
    window: opts?.window,
    unstable_instrumentations: opts?.unstable_instrumentations
  }).initialize();
}
function parseHydrationData() {
  let state = window?.__staticRouterHydrationData;
  if (state && state.errors) {
    state = {
      ...state,
      errors: deserializeErrors(state.errors)
    };
  }
  return state;
}
function deserializeErrors(errors) {
  if (!errors)
    return null;
  let entries = Object.entries(errors);
  let serialized = {};
  for (let [key, val] of entries) {
    if (val && val.__type === "RouteErrorResponse") {
      serialized[key] = new ErrorResponseImpl(val.status, val.statusText, val.data, val.internal === true);
    } else if (val && val.__type === "Error") {
      if (val.__subType) {
        let ErrorConstructor = window[val.__subType];
        if (typeof ErrorConstructor === "function") {
          try {
            let error = new ErrorConstructor(val.message);
            error.stack = "";
            serialized[key] = error;
          } catch (e) {}
        }
      }
      if (serialized[key] == null) {
        let error = new Error(val.message);
        error.stack = "";
        serialized[key] = error;
      }
    } else {
      serialized[key] = val;
    }
  }
  return serialized;
}
function HistoryRouter({
  basename,
  children,
  history
}) {
  let [state, setStateImpl] = React10.useState({
    action: history.action,
    location: history.location
  });
  let setState = React10.useCallback((newState) => {
    React10.startTransition(() => setStateImpl(newState));
  }, [setStateImpl]);
  React10.useLayoutEffect(() => history.listen(setState), [history, setState]);
  return /* @__PURE__ */ React10.createElement(Router, {
    basename,
    children,
    location: state.location,
    navigationType: state.action,
    navigator: history
  });
}
HistoryRouter.displayName = "unstable_HistoryRouter";
var ABSOLUTE_URL_REGEX2 = /^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;
var Link = React10.forwardRef(function LinkWithRef({
  onClick,
  discover = "render",
  prefetch = "none",
  relative,
  reloadDocument,
  replace: replace2,
  state,
  target,
  to,
  preventScrollReset,
  viewTransition,
  ...rest
}, forwardedRef) {
  let { basename } = React10.useContext(NavigationContext);
  let isAbsolute = typeof to === "string" && ABSOLUTE_URL_REGEX2.test(to);
  let absoluteHref;
  let isExternal = false;
  if (typeof to === "string" && isAbsolute) {
    absoluteHref = to;
    if (isBrowser) {
      try {
        let currentUrl = new URL(window.location.href);
        let targetUrl = to.startsWith("//") ? new URL(currentUrl.protocol + to) : new URL(to);
        let path = stripBasename(targetUrl.pathname, basename);
        if (targetUrl.origin === currentUrl.origin && path != null) {
          to = path + targetUrl.search + targetUrl.hash;
        } else {
          isExternal = true;
        }
      } catch (e) {
        warning(false, `<Link to="${to}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`);
      }
    }
  }
  let href = useHref(to, { relative });
  let [shouldPrefetch, prefetchRef, prefetchHandlers] = usePrefetchBehavior(prefetch, rest);
  let internalOnClick = useLinkClickHandler(to, {
    replace: replace2,
    state,
    target,
    preventScrollReset,
    relative,
    viewTransition
  });
  function handleClick(event) {
    if (onClick)
      onClick(event);
    if (!event.defaultPrevented) {
      internalOnClick(event);
    }
  }
  let link = /* @__PURE__ */ React10.createElement("a", {
    ...rest,
    ...prefetchHandlers,
    href: absoluteHref || href,
    onClick: isExternal || reloadDocument ? onClick : handleClick,
    ref: mergeRefs(forwardedRef, prefetchRef),
    target,
    "data-discover": !isAbsolute && discover === "render" ? "true" : undefined
  });
  return shouldPrefetch && !isAbsolute ? /* @__PURE__ */ React10.createElement(React10.Fragment, null, link, /* @__PURE__ */ React10.createElement(PrefetchPageLinks, { page: href })) : link;
});
Link.displayName = "Link";
var NavLink = React10.forwardRef(function NavLinkWithRef({
  "aria-current": ariaCurrentProp = "page",
  caseSensitive = false,
  className: classNameProp = "",
  end = false,
  style: styleProp,
  to,
  viewTransition,
  children,
  ...rest
}, ref) {
  let path = useResolvedPath(to, { relative: rest.relative });
  let location2 = useLocation();
  let routerState = React10.useContext(DataRouterStateContext);
  let { navigator: navigator2, basename } = React10.useContext(NavigationContext);
  let isTransitioning = routerState != null && useViewTransitionState(path) && viewTransition === true;
  let toPathname = navigator2.encodeLocation ? navigator2.encodeLocation(path).pathname : path.pathname;
  let locationPathname = location2.pathname;
  let nextLocationPathname = routerState && routerState.navigation && routerState.navigation.location ? routerState.navigation.location.pathname : null;
  if (!caseSensitive) {
    locationPathname = locationPathname.toLowerCase();
    nextLocationPathname = nextLocationPathname ? nextLocationPathname.toLowerCase() : null;
    toPathname = toPathname.toLowerCase();
  }
  if (nextLocationPathname && basename) {
    nextLocationPathname = stripBasename(nextLocationPathname, basename) || nextLocationPathname;
  }
  const endSlashPosition = toPathname !== "/" && toPathname.endsWith("/") ? toPathname.length - 1 : toPathname.length;
  let isActive = locationPathname === toPathname || !end && locationPathname.startsWith(toPathname) && locationPathname.charAt(endSlashPosition) === "/";
  let isPending = nextLocationPathname != null && (nextLocationPathname === toPathname || !end && nextLocationPathname.startsWith(toPathname) && nextLocationPathname.charAt(toPathname.length) === "/");
  let renderProps = {
    isActive,
    isPending,
    isTransitioning
  };
  let ariaCurrent = isActive ? ariaCurrentProp : undefined;
  let className;
  if (typeof classNameProp === "function") {
    className = classNameProp(renderProps);
  } else {
    className = [
      classNameProp,
      isActive ? "active" : null,
      isPending ? "pending" : null,
      isTransitioning ? "transitioning" : null
    ].filter(Boolean).join(" ");
  }
  let style = typeof styleProp === "function" ? styleProp(renderProps) : styleProp;
  return /* @__PURE__ */ React10.createElement(Link, {
    ...rest,
    "aria-current": ariaCurrent,
    className,
    ref,
    style,
    to,
    viewTransition
  }, typeof children === "function" ? children(renderProps) : children);
});
NavLink.displayName = "NavLink";
var Form = React10.forwardRef(({
  discover = "render",
  fetcherKey,
  navigate,
  reloadDocument,
  replace: replace2,
  state,
  method = defaultMethod,
  action,
  onSubmit,
  relative,
  preventScrollReset,
  viewTransition,
  ...props
}, forwardedRef) => {
  let submit = useSubmit();
  let formAction = useFormAction(action, { relative });
  let formMethod = method.toLowerCase() === "get" ? "get" : "post";
  let isAbsolute = typeof action === "string" && ABSOLUTE_URL_REGEX2.test(action);
  let submitHandler = (event) => {
    onSubmit && onSubmit(event);
    if (event.defaultPrevented)
      return;
    event.preventDefault();
    let submitter = event.nativeEvent.submitter;
    let submitMethod = submitter?.getAttribute("formmethod") || method;
    submit(submitter || event.currentTarget, {
      fetcherKey,
      method: submitMethod,
      navigate,
      replace: replace2,
      state,
      relative,
      preventScrollReset,
      viewTransition
    });
  };
  return /* @__PURE__ */ React10.createElement("form", {
    ref: forwardedRef,
    method: formMethod,
    action: formAction,
    onSubmit: reloadDocument ? onSubmit : submitHandler,
    ...props,
    "data-discover": !isAbsolute && discover === "render" ? "true" : undefined
  });
});
Form.displayName = "Form";
function ScrollRestoration({
  getKey,
  storageKey,
  ...props
}) {
  let remixContext = React10.useContext(FrameworkContext);
  let { basename } = React10.useContext(NavigationContext);
  let location2 = useLocation();
  let matches = useMatches();
  useScrollRestoration({ getKey, storageKey });
  let ssrKey = React10.useMemo(() => {
    if (!remixContext || !getKey)
      return null;
    let userKey = getScrollRestorationKey(location2, matches, basename, getKey);
    return userKey !== location2.key ? userKey : null;
  }, []);
  if (!remixContext || remixContext.isSpaMode) {
    return null;
  }
  let restoreScroll = ((storageKey2, restoreKey) => {
    if (!window.history.state || !window.history.state.key) {
      let key = Math.random().toString(32).slice(2);
      window.history.replaceState({ key }, "");
    }
    try {
      let positions = JSON.parse(sessionStorage.getItem(storageKey2) || "{}");
      let storedY = positions[restoreKey || window.history.state.key];
      if (typeof storedY === "number") {
        window.scrollTo(0, storedY);
      }
    } catch (error) {
      console.error(error);
      sessionStorage.removeItem(storageKey2);
    }
  }).toString();
  return /* @__PURE__ */ React10.createElement("script", {
    ...props,
    suppressHydrationWarning: true,
    dangerouslySetInnerHTML: {
      __html: `(${restoreScroll})(${JSON.stringify(storageKey || SCROLL_RESTORATION_STORAGE_KEY)}, ${JSON.stringify(ssrKey)})`
    }
  });
}
ScrollRestoration.displayName = "ScrollRestoration";
function getDataRouterConsoleError2(hookName) {
  return `${hookName} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`;
}
function useDataRouterContext3(hookName) {
  let ctx = React10.useContext(DataRouterContext);
  invariant(ctx, getDataRouterConsoleError2(hookName));
  return ctx;
}
function useDataRouterState2(hookName) {
  let state = React10.useContext(DataRouterStateContext);
  invariant(state, getDataRouterConsoleError2(hookName));
  return state;
}
function useLinkClickHandler(to, {
  target,
  replace: replaceProp,
  state,
  preventScrollReset,
  relative,
  viewTransition
} = {}) {
  let navigate = useNavigate();
  let location2 = useLocation();
  let path = useResolvedPath(to, { relative });
  return React10.useCallback((event) => {
    if (shouldProcessLinkClick(event, target)) {
      event.preventDefault();
      let replace2 = replaceProp !== undefined ? replaceProp : createPath(location2) === createPath(path);
      navigate(to, {
        replace: replace2,
        state,
        preventScrollReset,
        relative,
        viewTransition
      });
    }
  }, [
    location2,
    navigate,
    path,
    replaceProp,
    state,
    target,
    to,
    preventScrollReset,
    relative,
    viewTransition
  ]);
}
var fetcherId = 0;
var getUniqueFetcherId = () => `__${String(++fetcherId)}__`;
function useSubmit() {
  let { router } = useDataRouterContext3("useSubmit");
  let { basename } = React10.useContext(NavigationContext);
  let currentRouteId = useRouteId();
  return React10.useCallback(async (target, options = {}) => {
    let { action, method, encType, formData, body } = getFormSubmissionInfo(target, basename);
    if (options.navigate === false) {
      let key = options.fetcherKey || getUniqueFetcherId();
      await router.fetch(key, currentRouteId, options.action || action, {
        preventScrollReset: options.preventScrollReset,
        formData,
        body,
        formMethod: options.method || method,
        formEncType: options.encType || encType,
        flushSync: options.flushSync
      });
    } else {
      await router.navigate(options.action || action, {
        preventScrollReset: options.preventScrollReset,
        formData,
        body,
        formMethod: options.method || method,
        formEncType: options.encType || encType,
        replace: options.replace,
        state: options.state,
        fromRouteId: currentRouteId,
        flushSync: options.flushSync,
        viewTransition: options.viewTransition
      });
    }
  }, [router, basename, currentRouteId]);
}
function useFormAction(action, { relative } = {}) {
  let { basename } = React10.useContext(NavigationContext);
  let routeContext = React10.useContext(RouteContext);
  invariant(routeContext, "useFormAction must be used inside a RouteContext");
  let [match] = routeContext.matches.slice(-1);
  let path = { ...useResolvedPath(action ? action : ".", { relative }) };
  let location2 = useLocation();
  if (action == null) {
    path.search = location2.search;
    let params = new URLSearchParams(path.search);
    let indexValues = params.getAll("index");
    let hasNakedIndexParam = indexValues.some((v) => v === "");
    if (hasNakedIndexParam) {
      params.delete("index");
      indexValues.filter((v) => v).forEach((v) => params.append("index", v));
      let qs = params.toString();
      path.search = qs ? `?${qs}` : "";
    }
  }
  if ((!action || action === ".") && match.route.index) {
    path.search = path.search ? path.search.replace(/^\?/, "?index&") : "?index";
  }
  if (basename !== "/") {
    path.pathname = path.pathname === "/" ? basename : joinPaths([basename, path.pathname]);
  }
  return createPath(path);
}
var SCROLL_RESTORATION_STORAGE_KEY = "react-router-scroll-positions";
var savedScrollPositions = {};
function getScrollRestorationKey(location2, matches, basename, getKey) {
  let key = null;
  if (getKey) {
    if (basename !== "/") {
      key = getKey({
        ...location2,
        pathname: stripBasename(location2.pathname, basename) || location2.pathname
      }, matches);
    } else {
      key = getKey(location2, matches);
    }
  }
  if (key == null) {
    key = location2.key;
  }
  return key;
}
function useScrollRestoration({
  getKey,
  storageKey
} = {}) {
  let { router } = useDataRouterContext3("useScrollRestoration");
  let { restoreScrollPosition, preventScrollReset } = useDataRouterState2("useScrollRestoration");
  let { basename } = React10.useContext(NavigationContext);
  let location2 = useLocation();
  let matches = useMatches();
  let navigation = useNavigation();
  React10.useEffect(() => {
    window.history.scrollRestoration = "manual";
    return () => {
      window.history.scrollRestoration = "auto";
    };
  }, []);
  usePageHide(React10.useCallback(() => {
    if (navigation.state === "idle") {
      let key = getScrollRestorationKey(location2, matches, basename, getKey);
      savedScrollPositions[key] = window.scrollY;
    }
    try {
      sessionStorage.setItem(storageKey || SCROLL_RESTORATION_STORAGE_KEY, JSON.stringify(savedScrollPositions));
    } catch (error) {
      warning(false, `Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${error}).`);
    }
    window.history.scrollRestoration = "auto";
  }, [navigation.state, getKey, basename, location2, matches, storageKey]));
  if (typeof document !== "undefined") {
    React10.useLayoutEffect(() => {
      try {
        let sessionPositions = sessionStorage.getItem(storageKey || SCROLL_RESTORATION_STORAGE_KEY);
        if (sessionPositions) {
          savedScrollPositions = JSON.parse(sessionPositions);
        }
      } catch (e) {}
    }, [storageKey]);
    React10.useLayoutEffect(() => {
      let disableScrollRestoration = router?.enableScrollRestoration(savedScrollPositions, () => window.scrollY, getKey ? (location22, matches2) => getScrollRestorationKey(location22, matches2, basename, getKey) : undefined);
      return () => disableScrollRestoration && disableScrollRestoration();
    }, [router, basename, getKey]);
    React10.useLayoutEffect(() => {
      if (restoreScrollPosition === false) {
        return;
      }
      if (typeof restoreScrollPosition === "number") {
        window.scrollTo(0, restoreScrollPosition);
        return;
      }
      try {
        if (location2.hash) {
          let el = document.getElementById(decodeURIComponent(location2.hash.slice(1)));
          if (el) {
            el.scrollIntoView();
            return;
          }
        }
      } catch {
        warning(false, `"${location2.hash.slice(1)}" is not a decodable element ID. The view will not scroll to it.`);
      }
      if (preventScrollReset === true) {
        return;
      }
      window.scrollTo(0, 0);
    }, [location2, restoreScrollPosition, preventScrollReset]);
  }
}
function usePageHide(callback, options) {
  let { capture } = options || {};
  React10.useEffect(() => {
    let opts = capture != null ? { capture } : undefined;
    window.addEventListener("pagehide", callback, opts);
    return () => {
      window.removeEventListener("pagehide", callback, opts);
    };
  }, [callback, capture]);
}
function useViewTransitionState(to, { relative } = {}) {
  let vtContext = React10.useContext(ViewTransitionContext);
  invariant(vtContext != null, "`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");
  let { basename } = useDataRouterContext3("useViewTransitionState");
  let path = useResolvedPath(to, { relative });
  if (!vtContext.isTransitioning) {
    return false;
  }
  let currentPath = stripBasename(vtContext.currentLocation.pathname, basename) || vtContext.currentLocation.pathname;
  let nextPath = stripBasename(vtContext.nextLocation.pathname, basename) || vtContext.nextLocation.pathname;
  return matchPath(path.pathname, nextPath) != null || matchPath(path.pathname, currentPath) != null;
}

// node_modules/react-router/dist/development/index.mjs
"use client";

// node_modules/react-router/dist/development/dom-export.mjs
var React12 = __toESM(require_react(), 1);
var ReactDOM = __toESM(require_react_dom(), 1);
var React22 = __toESM(require_react(), 1);
var React32 = __toESM(require_react(), 1);
var ReactDOM2 = __toESM(require_react_dom(), 1);
"use client";
function RouterProvider2(props) {
  return /* @__PURE__ */ React12.createElement(RouterProvider, { flushSync: ReactDOM.flushSync, ...props });
}
var renderedRoutesContext = createContext4();
// node_modules/@mui/material/esm/Typography/Typography.js
var React42 = __toESM(require_react(), 1);
var import_prop_types15 = __toESM(require_prop_types(), 1);

// node_modules/clsx/dist/clsx.mjs
function r(e) {
  var t, f, n = "";
  if (typeof e == "string" || typeof e == "number")
    n += e;
  else if (typeof e == "object")
    if (Array.isArray(e)) {
      var o = e.length;
      for (t = 0;t < o; t++)
        e[t] && (f = r(e[t])) && (n && (n += " "), n += f);
    } else
      for (f in e)
        e[f] && (n && (n += " "), n += f);
  return n;
}
function clsx() {
  for (var e, t, f = 0, n = "", o = arguments.length;f < o; f++)
    (e = arguments[f]) && (t = r(e)) && (n && (n += " "), n += t);
  return n;
}
var clsx_default = clsx;

// node_modules/@mui/utils/esm/composeClasses/composeClasses.js
function composeClasses(slots, getUtilityClass, classes = undefined) {
  const output = {};
  for (const slotName in slots) {
    const slot = slots[slotName];
    let buffer = "";
    let start = true;
    for (let i = 0;i < slot.length; i += 1) {
      const value = slot[i];
      if (value) {
        buffer += (start === true ? "" : " ") + getUtilityClass(value);
        start = false;
        if (classes && classes[value]) {
          buffer += " " + classes[value];
        }
      }
    }
    output[slotName] = buffer;
  }
  return output;
}
// node_modules/@mui/utils/esm/capitalize/capitalize.js
function capitalize(string) {
  if (typeof string !== "string") {
    throw new Error("MUI: `capitalize(string)` expects a string argument.");
  }
  return string.charAt(0).toUpperCase() + string.slice(1);
}
// node_modules/@mui/utils/esm/deepmerge/deepmerge.js
var React14 = __toESM(require_react(), 1);
var import_react_is = __toESM(require_react_is2(), 1);
function isPlainObject2(item) {
  if (typeof item !== "object" || item === null) {
    return false;
  }
  const prototype = Object.getPrototypeOf(item);
  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in item) && !(Symbol.iterator in item);
}
function deepClone(source) {
  if (/* @__PURE__ */ React14.isValidElement(source) || import_react_is.isValidElementType(source) || !isPlainObject2(source)) {
    return source;
  }
  const output = {};
  Object.keys(source).forEach((key) => {
    output[key] = deepClone(source[key]);
  });
  return output;
}
function deepmerge(target, source, options = {
  clone: true
}) {
  const output = options.clone ? {
    ...target
  } : target;
  if (isPlainObject2(target) && isPlainObject2(source)) {
    Object.keys(source).forEach((key) => {
      if (/* @__PURE__ */ React14.isValidElement(source[key]) || import_react_is.isValidElementType(source[key])) {
        output[key] = source[key];
      } else if (isPlainObject2(source[key]) && Object.prototype.hasOwnProperty.call(target, key) && isPlainObject2(target[key])) {
        output[key] = deepmerge(target[key], source[key], options);
      } else if (options.clone) {
        output[key] = isPlainObject2(source[key]) ? deepClone(source[key]) : source[key];
      } else {
        output[key] = source[key];
      }
    });
  }
  return output;
}
// node_modules/@mui/system/esm/merge/merge.js
function merge(acc, item) {
  if (!item) {
    return acc;
  }
  return deepmerge(acc, item, {
    clone: false
  });
}
var merge_default = merge;
// node_modules/@mui/system/esm/responsivePropType/responsivePropType.js
var import_prop_types = __toESM(require_prop_types(), 1);
var responsivePropType = import_prop_types.default.oneOfType([import_prop_types.default.number, import_prop_types.default.string, import_prop_types.default.object, import_prop_types.default.array]);
var responsivePropType_default = responsivePropType;
// node_modules/@mui/system/esm/cssContainerQueries/cssContainerQueries.js
function sortContainerQueries(theme, css) {
  if (!theme.containerQueries) {
    return css;
  }
  const sorted = Object.keys(css).filter((key) => key.startsWith("@container")).sort((a, b) => {
    const regex = /min-width:\s*([0-9.]+)/;
    return +(a.match(regex)?.[1] || 0) - +(b.match(regex)?.[1] || 0);
  });
  if (!sorted.length) {
    return css;
  }
  return sorted.reduce((acc, key) => {
    const value = css[key];
    delete acc[key];
    acc[key] = value;
    return acc;
  }, {
    ...css
  });
}
function isCqShorthand(breakpointKeys, value) {
  return value === "@" || value.startsWith("@") && (breakpointKeys.some((key) => value.startsWith(`@${key}`)) || !!value.match(/^@\d/));
}
function getContainerQuery(theme, shorthand) {
  const matches = shorthand.match(/^@([^/]+)?\/?(.+)?$/);
  if (!matches) {
    if (true) {
      throw new Error(`MUI: The provided shorthand ${`(${shorthand})`} is invalid. The format should be \`@<breakpoint | number>\` or \`@<breakpoint | number>/<container>\`.
` + "For example, `@sm` or `@600` or `@40rem/sidebar`.");
    }
    return null;
  }
  const [, containerQuery, containerName] = matches;
  const value = Number.isNaN(+containerQuery) ? containerQuery || 0 : +containerQuery;
  return theme.containerQueries(containerName).up(value);
}
function cssContainerQueries(themeInput) {
  const toContainerQuery = (mediaQuery, name) => mediaQuery.replace("@media", name ? `@container ${name}` : "@container");
  function attachCq(node2, name) {
    node2.up = (...args) => toContainerQuery(themeInput.breakpoints.up(...args), name);
    node2.down = (...args) => toContainerQuery(themeInput.breakpoints.down(...args), name);
    node2.between = (...args) => toContainerQuery(themeInput.breakpoints.between(...args), name);
    node2.only = (...args) => toContainerQuery(themeInput.breakpoints.only(...args), name);
    node2.not = (...args) => {
      const result = toContainerQuery(themeInput.breakpoints.not(...args), name);
      if (result.includes("not all and")) {
        return result.replace("not all and ", "").replace("min-width:", "width<").replace("max-width:", "width>").replace("and", "or");
      }
      return result;
    };
  }
  const node = {};
  const containerQueries = (name) => {
    attachCq(node, name);
    return node;
  };
  attachCq(containerQueries);
  return {
    ...themeInput,
    containerQueries
  };
}
// node_modules/@mui/system/esm/breakpoints/breakpoints.js
var values = {
  xs: 0,
  sm: 600,
  md: 900,
  lg: 1200,
  xl: 1536
};
var defaultBreakpoints = {
  keys: ["xs", "sm", "md", "lg", "xl"],
  up: (key) => `@media (min-width:${values[key]}px)`
};
var defaultContainerQueries = {
  containerQueries: (containerName) => ({
    up: (key) => {
      let result = typeof key === "number" ? key : values[key] || key;
      if (typeof result === "number") {
        result = `${result}px`;
      }
      return containerName ? `@container ${containerName} (min-width:${result})` : `@container (min-width:${result})`;
    }
  })
};
function handleBreakpoints(props, propValue, styleFromPropValue) {
  const theme = props.theme || {};
  if (Array.isArray(propValue)) {
    const themeBreakpoints = theme.breakpoints || defaultBreakpoints;
    return propValue.reduce((acc, item, index) => {
      acc[themeBreakpoints.up(themeBreakpoints.keys[index])] = styleFromPropValue(propValue[index]);
      return acc;
    }, {});
  }
  if (typeof propValue === "object") {
    const themeBreakpoints = theme.breakpoints || defaultBreakpoints;
    return Object.keys(propValue).reduce((acc, breakpoint) => {
      if (isCqShorthand(themeBreakpoints.keys, breakpoint)) {
        const containerKey = getContainerQuery(theme.containerQueries ? theme : defaultContainerQueries, breakpoint);
        if (containerKey) {
          acc[containerKey] = styleFromPropValue(propValue[breakpoint], breakpoint);
        }
      } else if (Object.keys(themeBreakpoints.values || values).includes(breakpoint)) {
        const mediaKey = themeBreakpoints.up(breakpoint);
        acc[mediaKey] = styleFromPropValue(propValue[breakpoint], breakpoint);
      } else {
        const cssKey = breakpoint;
        acc[cssKey] = propValue[cssKey];
      }
      return acc;
    }, {});
  }
  const output = styleFromPropValue(propValue);
  return output;
}
function createEmptyBreakpointObject(breakpointsInput = {}) {
  const breakpointsInOrder = breakpointsInput.keys?.reduce((acc, key) => {
    const breakpointStyleKey = breakpointsInput.up(key);
    acc[breakpointStyleKey] = {};
    return acc;
  }, {});
  return breakpointsInOrder || {};
}
function removeUnusedBreakpoints(breakpointKeys, style) {
  return breakpointKeys.reduce((acc, key) => {
    const breakpointOutput = acc[key];
    const isBreakpointUnused = !breakpointOutput || Object.keys(breakpointOutput).length === 0;
    if (isBreakpointUnused) {
      delete acc[key];
    }
    return acc;
  }, style);
}
function mergeBreakpointsInOrder(breakpointsInput, ...styles) {
  const emptyBreakpoints = createEmptyBreakpointObject(breakpointsInput);
  const mergedOutput = [emptyBreakpoints, ...styles].reduce((prev, next) => deepmerge(prev, next), {});
  return removeUnusedBreakpoints(Object.keys(emptyBreakpoints), mergedOutput);
}
function computeBreakpointsBase(breakpointValues, themeBreakpoints) {
  if (typeof breakpointValues !== "object") {
    return {};
  }
  const base = {};
  const breakpointsKeys = Object.keys(themeBreakpoints);
  if (Array.isArray(breakpointValues)) {
    breakpointsKeys.forEach((breakpoint, i) => {
      if (i < breakpointValues.length) {
        base[breakpoint] = true;
      }
    });
  } else {
    breakpointsKeys.forEach((breakpoint) => {
      if (breakpointValues[breakpoint] != null) {
        base[breakpoint] = true;
      }
    });
  }
  return base;
}
function resolveBreakpointValues({
  values: breakpointValues,
  breakpoints: themeBreakpoints,
  base: customBase
}) {
  const base = customBase || computeBreakpointsBase(breakpointValues, themeBreakpoints);
  const keys = Object.keys(base);
  if (keys.length === 0) {
    return breakpointValues;
  }
  let previous;
  return keys.reduce((acc, breakpoint, i) => {
    if (Array.isArray(breakpointValues)) {
      acc[breakpoint] = breakpointValues[i] != null ? breakpointValues[i] : breakpointValues[previous];
      previous = i;
    } else if (typeof breakpointValues === "object") {
      acc[breakpoint] = breakpointValues[breakpoint] != null ? breakpointValues[breakpoint] : breakpointValues[previous];
      previous = breakpoint;
    } else {
      acc[breakpoint] = breakpointValues;
    }
    return acc;
  }, {});
}

// node_modules/@mui/system/esm/style/style.js
function getPath(obj, path, checkVars = true) {
  if (!path || typeof path !== "string") {
    return null;
  }
  if (obj && obj.vars && checkVars) {
    const val = `vars.${path}`.split(".").reduce((acc, item) => acc && acc[item] ? acc[item] : null, obj);
    if (val != null) {
      return val;
    }
  }
  return path.split(".").reduce((acc, item) => {
    if (acc && acc[item] != null) {
      return acc[item];
    }
    return null;
  }, obj);
}
function getStyleValue(themeMapping, transform, propValueFinal, userValue = propValueFinal) {
  let value;
  if (typeof themeMapping === "function") {
    value = themeMapping(propValueFinal);
  } else if (Array.isArray(themeMapping)) {
    value = themeMapping[propValueFinal] || userValue;
  } else {
    value = getPath(themeMapping, propValueFinal) || userValue;
  }
  if (transform) {
    value = transform(value, userValue, themeMapping);
  }
  return value;
}
function style(options) {
  const {
    prop,
    cssProperty = options.prop,
    themeKey,
    transform
  } = options;
  const fn = (props) => {
    if (props[prop] == null) {
      return null;
    }
    const propValue = props[prop];
    const theme = props.theme;
    const themeMapping = getPath(theme, themeKey) || {};
    const styleFromPropValue = (propValueFinal) => {
      let value = getStyleValue(themeMapping, transform, propValueFinal);
      if (propValueFinal === value && typeof propValueFinal === "string") {
        value = getStyleValue(themeMapping, transform, `${prop}${propValueFinal === "default" ? "" : capitalize(propValueFinal)}`, propValueFinal);
      }
      if (cssProperty === false) {
        return value;
      }
      return {
        [cssProperty]: value
      };
    };
    return handleBreakpoints(props, propValue, styleFromPropValue);
  };
  fn.propTypes = {
    [prop]: responsivePropType_default
  };
  fn.filterProps = [prop];
  return fn;
}
var style_default = style;
// node_modules/@mui/system/esm/memoize/memoize.js
function memoize(fn) {
  const cache = {};
  return (arg) => {
    if (cache[arg] === undefined) {
      cache[arg] = fn(arg);
    }
    return cache[arg];
  };
}
// node_modules/@mui/system/esm/spacing/spacing.js
var properties = {
  m: "margin",
  p: "padding"
};
var directions = {
  t: "Top",
  r: "Right",
  b: "Bottom",
  l: "Left",
  x: ["Left", "Right"],
  y: ["Top", "Bottom"]
};
var aliases = {
  marginX: "mx",
  marginY: "my",
  paddingX: "px",
  paddingY: "py"
};
var getCssProperties = memoize((prop) => {
  if (prop.length > 2) {
    if (aliases[prop]) {
      prop = aliases[prop];
    } else {
      return [prop];
    }
  }
  const [a, b] = prop.split("");
  const property = properties[a];
  const direction = directions[b] || "";
  return Array.isArray(direction) ? direction.map((dir) => property + dir) : [property + direction];
});
var marginKeys = ["m", "mt", "mr", "mb", "ml", "mx", "my", "margin", "marginTop", "marginRight", "marginBottom", "marginLeft", "marginX", "marginY", "marginInline", "marginInlineStart", "marginInlineEnd", "marginBlock", "marginBlockStart", "marginBlockEnd"];
var paddingKeys = ["p", "pt", "pr", "pb", "pl", "px", "py", "padding", "paddingTop", "paddingRight", "paddingBottom", "paddingLeft", "paddingX", "paddingY", "paddingInline", "paddingInlineStart", "paddingInlineEnd", "paddingBlock", "paddingBlockStart", "paddingBlockEnd"];
var spacingKeys = [...marginKeys, ...paddingKeys];
function createUnaryUnit(theme, themeKey, defaultValue, propName) {
  const themeSpacing = getPath(theme, themeKey, true) ?? defaultValue;
  if (typeof themeSpacing === "number" || typeof themeSpacing === "string") {
    return (val) => {
      if (typeof val === "string") {
        return val;
      }
      if (true) {
        if (typeof val !== "number") {
          console.error(`MUI: Expected ${propName} argument to be a number or a string, got ${val}.`);
        }
      }
      if (typeof themeSpacing === "string") {
        if (themeSpacing.startsWith("var(") && val === 0) {
          return 0;
        }
        if (themeSpacing.startsWith("var(") && val === 1) {
          return themeSpacing;
        }
        return `calc(${val} * ${themeSpacing})`;
      }
      return themeSpacing * val;
    };
  }
  if (Array.isArray(themeSpacing)) {
    return (val) => {
      if (typeof val === "string") {
        return val;
      }
      const abs = Math.abs(val);
      if (true) {
        if (!Number.isInteger(abs)) {
          console.error([`MUI: The \`theme.${themeKey}\` array type cannot be combined with non integer values.` + `You should either use an integer value that can be used as index, or define the \`theme.${themeKey}\` as a number.`].join(`
`));
        } else if (abs > themeSpacing.length - 1) {
          console.error([`MUI: The value provided (${abs}) overflows.`, `The supported values are: ${JSON.stringify(themeSpacing)}.`, `${abs} > ${themeSpacing.length - 1}, you need to add the missing values.`].join(`
`));
        }
      }
      const transformed = themeSpacing[abs];
      if (val >= 0) {
        return transformed;
      }
      if (typeof transformed === "number") {
        return -transformed;
      }
      if (typeof transformed === "string" && transformed.startsWith("var(")) {
        return `calc(-1 * ${transformed})`;
      }
      return `-${transformed}`;
    };
  }
  if (typeof themeSpacing === "function") {
    return themeSpacing;
  }
  if (true) {
    console.error([`MUI: The \`theme.${themeKey}\` value (${themeSpacing}) is invalid.`, "It should be a number, an array or a function."].join(`
`));
  }
  return () => {
    return;
  };
}
function createUnarySpacing(theme) {
  return createUnaryUnit(theme, "spacing", 8, "spacing");
}
function getValue(transformer, propValue) {
  if (typeof propValue === "string" || propValue == null) {
    return propValue;
  }
  return transformer(propValue);
}
function getStyleFromPropValue(cssProperties, transformer) {
  return (propValue) => cssProperties.reduce((acc, cssProperty) => {
    acc[cssProperty] = getValue(transformer, propValue);
    return acc;
  }, {});
}
function resolveCssProperty(props, keys, prop, transformer) {
  if (!keys.includes(prop)) {
    return null;
  }
  const cssProperties = getCssProperties(prop);
  const styleFromPropValue = getStyleFromPropValue(cssProperties, transformer);
  const propValue = props[prop];
  return handleBreakpoints(props, propValue, styleFromPropValue);
}
function style3(props, keys) {
  const transformer = createUnarySpacing(props.theme);
  return Object.keys(props).map((prop) => resolveCssProperty(props, keys, prop, transformer)).reduce(merge_default, {});
}
function margin(props) {
  return style3(props, marginKeys);
}
margin.propTypes = marginKeys.reduce((obj, key) => {
  obj[key] = responsivePropType_default;
  return obj;
}, {});
margin.filterProps = marginKeys;
function padding(props) {
  return style3(props, paddingKeys);
}
padding.propTypes = paddingKeys.reduce((obj, key) => {
  obj[key] = responsivePropType_default;
  return obj;
}, {});
padding.filterProps = paddingKeys;
function spacing(props) {
  return style3(props, spacingKeys);
}
spacing.propTypes = spacingKeys.reduce((obj, key) => {
  obj[key] = responsivePropType_default;
  return obj;
}, {});
spacing.filterProps = spacingKeys;

// node_modules/@mui/system/esm/compose/compose.js
function compose(...styles) {
  const handlers = styles.reduce((acc, style4) => {
    style4.filterProps.forEach((prop) => {
      acc[prop] = style4;
    });
    return acc;
  }, {});
  const fn = (props) => {
    return Object.keys(props).reduce((acc, prop) => {
      if (handlers[prop]) {
        return merge_default(acc, handlers[prop](props));
      }
      return acc;
    }, {});
  };
  fn.propTypes = styles.reduce((acc, style4) => Object.assign(acc, style4.propTypes), {});
  fn.filterProps = styles.reduce((acc, style4) => acc.concat(style4.filterProps), []);
  return fn;
}
var compose_default = compose;
// node_modules/@mui/system/esm/borders/borders.js
function borderTransform(value) {
  if (typeof value !== "number") {
    return value;
  }
  return `${value}px solid`;
}
function createBorderStyle(prop, transform) {
  return style_default({
    prop,
    themeKey: "borders",
    transform
  });
}
var border = createBorderStyle("border", borderTransform);
var borderTop = createBorderStyle("borderTop", borderTransform);
var borderRight = createBorderStyle("borderRight", borderTransform);
var borderBottom = createBorderStyle("borderBottom", borderTransform);
var borderLeft = createBorderStyle("borderLeft", borderTransform);
var borderColor = createBorderStyle("borderColor");
var borderTopColor = createBorderStyle("borderTopColor");
var borderRightColor = createBorderStyle("borderRightColor");
var borderBottomColor = createBorderStyle("borderBottomColor");
var borderLeftColor = createBorderStyle("borderLeftColor");
var outline = createBorderStyle("outline", borderTransform);
var outlineColor = createBorderStyle("outlineColor");
var borderRadius = (props) => {
  if (props.borderRadius !== undefined && props.borderRadius !== null) {
    const transformer = createUnaryUnit(props.theme, "shape.borderRadius", 4, "borderRadius");
    const styleFromPropValue = (propValue) => ({
      borderRadius: getValue(transformer, propValue)
    });
    return handleBreakpoints(props, props.borderRadius, styleFromPropValue);
  }
  return null;
};
borderRadius.propTypes = {
  borderRadius: responsivePropType_default
};
borderRadius.filterProps = ["borderRadius"];
var borders = compose_default(border, borderTop, borderRight, borderBottom, borderLeft, borderColor, borderTopColor, borderRightColor, borderBottomColor, borderLeftColor, borderRadius, outline, outlineColor);

// node_modules/@mui/system/esm/cssGrid/cssGrid.js
var gap = (props) => {
  if (props.gap !== undefined && props.gap !== null) {
    const transformer = createUnaryUnit(props.theme, "spacing", 8, "gap");
    const styleFromPropValue = (propValue) => ({
      gap: getValue(transformer, propValue)
    });
    return handleBreakpoints(props, props.gap, styleFromPropValue);
  }
  return null;
};
gap.propTypes = {
  gap: responsivePropType_default
};
gap.filterProps = ["gap"];
var columnGap = (props) => {
  if (props.columnGap !== undefined && props.columnGap !== null) {
    const transformer = createUnaryUnit(props.theme, "spacing", 8, "columnGap");
    const styleFromPropValue = (propValue) => ({
      columnGap: getValue(transformer, propValue)
    });
    return handleBreakpoints(props, props.columnGap, styleFromPropValue);
  }
  return null;
};
columnGap.propTypes = {
  columnGap: responsivePropType_default
};
columnGap.filterProps = ["columnGap"];
var rowGap = (props) => {
  if (props.rowGap !== undefined && props.rowGap !== null) {
    const transformer = createUnaryUnit(props.theme, "spacing", 8, "rowGap");
    const styleFromPropValue = (propValue) => ({
      rowGap: getValue(transformer, propValue)
    });
    return handleBreakpoints(props, props.rowGap, styleFromPropValue);
  }
  return null;
};
rowGap.propTypes = {
  rowGap: responsivePropType_default
};
rowGap.filterProps = ["rowGap"];
var gridColumn = style_default({
  prop: "gridColumn"
});
var gridRow = style_default({
  prop: "gridRow"
});
var gridAutoFlow = style_default({
  prop: "gridAutoFlow"
});
var gridAutoColumns = style_default({
  prop: "gridAutoColumns"
});
var gridAutoRows = style_default({
  prop: "gridAutoRows"
});
var gridTemplateColumns = style_default({
  prop: "gridTemplateColumns"
});
var gridTemplateRows = style_default({
  prop: "gridTemplateRows"
});
var gridTemplateAreas = style_default({
  prop: "gridTemplateAreas"
});
var gridArea = style_default({
  prop: "gridArea"
});
var grid = compose_default(gap, columnGap, rowGap, gridColumn, gridRow, gridAutoFlow, gridAutoColumns, gridAutoRows, gridTemplateColumns, gridTemplateRows, gridTemplateAreas, gridArea);

// node_modules/@mui/system/esm/palette/palette.js
function paletteTransform(value, userValue) {
  if (userValue === "grey") {
    return userValue;
  }
  return value;
}
var color = style_default({
  prop: "color",
  themeKey: "palette",
  transform: paletteTransform
});
var bgcolor = style_default({
  prop: "bgcolor",
  cssProperty: "backgroundColor",
  themeKey: "palette",
  transform: paletteTransform
});
var backgroundColor = style_default({
  prop: "backgroundColor",
  themeKey: "palette",
  transform: paletteTransform
});
var palette = compose_default(color, bgcolor, backgroundColor);

// node_modules/@mui/system/esm/sizing/sizing.js
function sizingTransform(value) {
  return value <= 1 && value !== 0 ? `${value * 100}%` : value;
}
var width = style_default({
  prop: "width",
  transform: sizingTransform
});
var maxWidth = (props) => {
  if (props.maxWidth !== undefined && props.maxWidth !== null) {
    const styleFromPropValue = (propValue) => {
      const breakpoint = props.theme?.breakpoints?.values?.[propValue] || values[propValue];
      if (!breakpoint) {
        return {
          maxWidth: sizingTransform(propValue)
        };
      }
      if (props.theme?.breakpoints?.unit !== "px") {
        return {
          maxWidth: `${breakpoint}${props.theme.breakpoints.unit}`
        };
      }
      return {
        maxWidth: breakpoint
      };
    };
    return handleBreakpoints(props, props.maxWidth, styleFromPropValue);
  }
  return null;
};
maxWidth.filterProps = ["maxWidth"];
var minWidth = style_default({
  prop: "minWidth",
  transform: sizingTransform
});
var height = style_default({
  prop: "height",
  transform: sizingTransform
});
var maxHeight = style_default({
  prop: "maxHeight",
  transform: sizingTransform
});
var minHeight = style_default({
  prop: "minHeight",
  transform: sizingTransform
});
var sizeWidth = style_default({
  prop: "size",
  cssProperty: "width",
  transform: sizingTransform
});
var sizeHeight = style_default({
  prop: "size",
  cssProperty: "height",
  transform: sizingTransform
});
var boxSizing = style_default({
  prop: "boxSizing"
});
var sizing = compose_default(width, maxWidth, minWidth, height, maxHeight, minHeight, boxSizing);

// node_modules/@mui/system/esm/styleFunctionSx/defaultSxConfig.js
var defaultSxConfig = {
  border: {
    themeKey: "borders",
    transform: borderTransform
  },
  borderTop: {
    themeKey: "borders",
    transform: borderTransform
  },
  borderRight: {
    themeKey: "borders",
    transform: borderTransform
  },
  borderBottom: {
    themeKey: "borders",
    transform: borderTransform
  },
  borderLeft: {
    themeKey: "borders",
    transform: borderTransform
  },
  borderColor: {
    themeKey: "palette"
  },
  borderTopColor: {
    themeKey: "palette"
  },
  borderRightColor: {
    themeKey: "palette"
  },
  borderBottomColor: {
    themeKey: "palette"
  },
  borderLeftColor: {
    themeKey: "palette"
  },
  outline: {
    themeKey: "borders",
    transform: borderTransform
  },
  outlineColor: {
    themeKey: "palette"
  },
  borderRadius: {
    themeKey: "shape.borderRadius",
    style: borderRadius
  },
  color: {
    themeKey: "palette",
    transform: paletteTransform
  },
  bgcolor: {
    themeKey: "palette",
    cssProperty: "backgroundColor",
    transform: paletteTransform
  },
  backgroundColor: {
    themeKey: "palette",
    transform: paletteTransform
  },
  p: {
    style: padding
  },
  pt: {
    style: padding
  },
  pr: {
    style: padding
  },
  pb: {
    style: padding
  },
  pl: {
    style: padding
  },
  px: {
    style: padding
  },
  py: {
    style: padding
  },
  padding: {
    style: padding
  },
  paddingTop: {
    style: padding
  },
  paddingRight: {
    style: padding
  },
  paddingBottom: {
    style: padding
  },
  paddingLeft: {
    style: padding
  },
  paddingX: {
    style: padding
  },
  paddingY: {
    style: padding
  },
  paddingInline: {
    style: padding
  },
  paddingInlineStart: {
    style: padding
  },
  paddingInlineEnd: {
    style: padding
  },
  paddingBlock: {
    style: padding
  },
  paddingBlockStart: {
    style: padding
  },
  paddingBlockEnd: {
    style: padding
  },
  m: {
    style: margin
  },
  mt: {
    style: margin
  },
  mr: {
    style: margin
  },
  mb: {
    style: margin
  },
  ml: {
    style: margin
  },
  mx: {
    style: margin
  },
  my: {
    style: margin
  },
  margin: {
    style: margin
  },
  marginTop: {
    style: margin
  },
  marginRight: {
    style: margin
  },
  marginBottom: {
    style: margin
  },
  marginLeft: {
    style: margin
  },
  marginX: {
    style: margin
  },
  marginY: {
    style: margin
  },
  marginInline: {
    style: margin
  },
  marginInlineStart: {
    style: margin
  },
  marginInlineEnd: {
    style: margin
  },
  marginBlock: {
    style: margin
  },
  marginBlockStart: {
    style: margin
  },
  marginBlockEnd: {
    style: margin
  },
  displayPrint: {
    cssProperty: false,
    transform: (value) => ({
      "@media print": {
        display: value
      }
    })
  },
  display: {},
  overflow: {},
  textOverflow: {},
  visibility: {},
  whiteSpace: {},
  flexBasis: {},
  flexDirection: {},
  flexWrap: {},
  justifyContent: {},
  alignItems: {},
  alignContent: {},
  order: {},
  flex: {},
  flexGrow: {},
  flexShrink: {},
  alignSelf: {},
  justifyItems: {},
  justifySelf: {},
  gap: {
    style: gap
  },
  rowGap: {
    style: rowGap
  },
  columnGap: {
    style: columnGap
  },
  gridColumn: {},
  gridRow: {},
  gridAutoFlow: {},
  gridAutoColumns: {},
  gridAutoRows: {},
  gridTemplateColumns: {},
  gridTemplateRows: {},
  gridTemplateAreas: {},
  gridArea: {},
  position: {},
  zIndex: {
    themeKey: "zIndex"
  },
  top: {},
  right: {},
  bottom: {},
  left: {},
  boxShadow: {
    themeKey: "shadows"
  },
  width: {
    transform: sizingTransform
  },
  maxWidth: {
    style: maxWidth
  },
  minWidth: {
    transform: sizingTransform
  },
  height: {
    transform: sizingTransform
  },
  maxHeight: {
    transform: sizingTransform
  },
  minHeight: {
    transform: sizingTransform
  },
  boxSizing: {},
  font: {
    themeKey: "font"
  },
  fontFamily: {
    themeKey: "typography"
  },
  fontSize: {
    themeKey: "typography"
  },
  fontStyle: {
    themeKey: "typography"
  },
  fontWeight: {
    themeKey: "typography"
  },
  letterSpacing: {},
  textTransform: {},
  lineHeight: {},
  textAlign: {},
  typography: {
    cssProperty: false,
    themeKey: "typography"
  }
};
var defaultSxConfig_default = defaultSxConfig;

// node_modules/@mui/system/esm/styleFunctionSx/styleFunctionSx.js
function objectsHaveSameKeys(...objects) {
  const allKeys = objects.reduce((keys, object) => keys.concat(Object.keys(object)), []);
  const union = new Set(allKeys);
  return objects.every((object) => union.size === Object.keys(object).length);
}
function callIfFn(maybeFn, arg) {
  return typeof maybeFn === "function" ? maybeFn(arg) : maybeFn;
}
function unstable_createStyleFunctionSx() {
  function getThemeValue(prop, val, theme, config) {
    const props = {
      [prop]: val,
      theme
    };
    const options = config[prop];
    if (!options) {
      return {
        [prop]: val
      };
    }
    const {
      cssProperty = prop,
      themeKey,
      transform,
      style: style4
    } = options;
    if (val == null) {
      return null;
    }
    if (themeKey === "typography" && val === "inherit") {
      return {
        [prop]: val
      };
    }
    const themeMapping = getPath(theme, themeKey) || {};
    if (style4) {
      return style4(props);
    }
    const styleFromPropValue = (propValueFinal) => {
      let value = getStyleValue(themeMapping, transform, propValueFinal);
      if (propValueFinal === value && typeof propValueFinal === "string") {
        value = getStyleValue(themeMapping, transform, `${prop}${propValueFinal === "default" ? "" : capitalize(propValueFinal)}`, propValueFinal);
      }
      if (cssProperty === false) {
        return value;
      }
      return {
        [cssProperty]: value
      };
    };
    return handleBreakpoints(props, val, styleFromPropValue);
  }
  function styleFunctionSx(props) {
    const {
      sx,
      theme = {},
      nested
    } = props || {};
    if (!sx) {
      return null;
    }
    const config = theme.unstable_sxConfig ?? defaultSxConfig_default;
    function traverse(sxInput) {
      let sxObject = sxInput;
      if (typeof sxInput === "function") {
        sxObject = sxInput(theme);
      } else if (typeof sxInput !== "object") {
        return sxInput;
      }
      if (!sxObject) {
        return null;
      }
      const emptyBreakpoints = createEmptyBreakpointObject(theme.breakpoints);
      const breakpointsKeys = Object.keys(emptyBreakpoints);
      let css = emptyBreakpoints;
      Object.keys(sxObject).forEach((styleKey) => {
        const value = callIfFn(sxObject[styleKey], theme);
        if (value !== null && value !== undefined) {
          if (typeof value === "object") {
            if (config[styleKey]) {
              css = merge_default(css, getThemeValue(styleKey, value, theme, config));
            } else {
              const breakpointsValues = handleBreakpoints({
                theme
              }, value, (x) => ({
                [styleKey]: x
              }));
              if (objectsHaveSameKeys(breakpointsValues, value)) {
                css[styleKey] = styleFunctionSx({
                  sx: value,
                  theme,
                  nested: true
                });
              } else {
                css = merge_default(css, breakpointsValues);
              }
            }
          } else {
            css = merge_default(css, getThemeValue(styleKey, value, theme, config));
          }
        }
      });
      if (!nested && theme.modularCssLayers) {
        return {
          "@layer sx": sortContainerQueries(theme, removeUnusedBreakpoints(breakpointsKeys, css))
        };
      }
      return sortContainerQueries(theme, removeUnusedBreakpoints(breakpointsKeys, css));
    }
    return Array.isArray(sx) ? sx.map(traverse) : traverse(sx);
  }
  return styleFunctionSx;
}
var styleFunctionSx = unstable_createStyleFunctionSx();
styleFunctionSx.filterProps = ["sx"];
var styleFunctionSx_default = styleFunctionSx;
// node_modules/@mui/system/esm/styleFunctionSx/extendSxProp.js
var splitProps = (props) => {
  const result = {
    systemProps: {},
    otherProps: {}
  };
  const config = props?.theme?.unstable_sxConfig ?? defaultSxConfig_default;
  Object.keys(props).forEach((prop) => {
    if (config[prop]) {
      result.systemProps[prop] = props[prop];
    } else {
      result.otherProps[prop] = props[prop];
    }
  });
  return result;
};
function extendSxProp(props) {
  const {
    sx: inSx,
    ...other
  } = props;
  const {
    systemProps,
    otherProps
  } = splitProps(other);
  let finalSx;
  if (Array.isArray(inSx)) {
    finalSx = [systemProps, ...inSx];
  } else if (typeof inSx === "function") {
    finalSx = (...args) => {
      const result = inSx(...args);
      if (!isPlainObject2(result)) {
        return systemProps;
      }
      return {
        ...systemProps,
        ...result
      };
    };
  } else {
    finalSx = {
      ...systemProps,
      ...inSx
    };
  }
  return {
    ...otherProps,
    sx: finalSx
  };
}
// node_modules/@mui/material/esm/styles/useTheme.js
var React40 = __toESM(require_react(), 1);

// node_modules/@babel/runtime/helpers/esm/extends.js
function _extends() {
  return _extends = Object.assign ? Object.assign.bind() : function(n) {
    for (var e = 1;e < arguments.length; e++) {
      var t = arguments[e];
      for (var r2 in t)
        ({}).hasOwnProperty.call(t, r2) && (n[r2] = t[r2]);
    }
    return n;
  }, _extends.apply(null, arguments);
}

// node_modules/@emotion/react/dist/emotion-element-489459f2.browser.development.esm.js
var React16 = __toESM(require_react(), 1);
var import_react = __toESM(require_react(), 1);

// node_modules/@emotion/sheet/dist/emotion-sheet.development.esm.js
var isDevelopment = true;
function sheetForTag(tag) {
  if (tag.sheet) {
    return tag.sheet;
  }
  for (var i = 0;i < document.styleSheets.length; i++) {
    if (document.styleSheets[i].ownerNode === tag) {
      return document.styleSheets[i];
    }
  }
  return;
}
function createStyleElement(options) {
  var tag = document.createElement("style");
  tag.setAttribute("data-emotion", options.key);
  if (options.nonce !== undefined) {
    tag.setAttribute("nonce", options.nonce);
  }
  tag.appendChild(document.createTextNode(""));
  tag.setAttribute("data-s", "");
  return tag;
}
var StyleSheet = /* @__PURE__ */ function() {
  function StyleSheet2(options) {
    var _this = this;
    this._insertTag = function(tag) {
      var before;
      if (_this.tags.length === 0) {
        if (_this.insertionPoint) {
          before = _this.insertionPoint.nextSibling;
        } else if (_this.prepend) {
          before = _this.container.firstChild;
        } else {
          before = _this.before;
        }
      } else {
        before = _this.tags[_this.tags.length - 1].nextSibling;
      }
      _this.container.insertBefore(tag, before);
      _this.tags.push(tag);
    };
    this.isSpeedy = options.speedy === undefined ? !isDevelopment : options.speedy;
    this.tags = [];
    this.ctr = 0;
    this.nonce = options.nonce;
    this.key = options.key;
    this.container = options.container;
    this.prepend = options.prepend;
    this.insertionPoint = options.insertionPoint;
    this.before = null;
  }
  var _proto = StyleSheet2.prototype;
  _proto.hydrate = function hydrate(nodes) {
    nodes.forEach(this._insertTag);
  };
  _proto.insert = function insert(rule) {
    if (this.ctr % (this.isSpeedy ? 65000 : 1) === 0) {
      this._insertTag(createStyleElement(this));
    }
    var tag = this.tags[this.tags.length - 1];
    {
      var isImportRule = rule.charCodeAt(0) === 64 && rule.charCodeAt(1) === 105;
      if (isImportRule && this._alreadyInsertedOrderInsensitiveRule) {
        console.error(`You're attempting to insert the following rule:
` + rule + "\n\n`@import` rules must be before all other types of rules in a stylesheet but other rules have already been inserted. Please ensure that `@import` rules are before all other rules.");
      }
      this._alreadyInsertedOrderInsensitiveRule = this._alreadyInsertedOrderInsensitiveRule || !isImportRule;
    }
    if (this.isSpeedy) {
      var sheet = sheetForTag(tag);
      try {
        sheet.insertRule(rule, sheet.cssRules.length);
      } catch (e) {
        if (!/:(-moz-placeholder|-moz-focus-inner|-moz-focusring|-ms-input-placeholder|-moz-read-write|-moz-read-only|-ms-clear|-ms-expand|-ms-reveal){/.test(rule)) {
          console.error('There was a problem inserting the following rule: "' + rule + '"', e);
        }
      }
    } else {
      tag.appendChild(document.createTextNode(rule));
    }
    this.ctr++;
  };
  _proto.flush = function flush() {
    this.tags.forEach(function(tag) {
      var _tag$parentNode;
      return (_tag$parentNode = tag.parentNode) == null ? undefined : _tag$parentNode.removeChild(tag);
    });
    this.tags = [];
    this.ctr = 0;
    {
      this._alreadyInsertedOrderInsensitiveRule = false;
    }
  };
  return StyleSheet2;
}();

// node_modules/stylis/src/Enum.js
var MS = "-ms-";
var MOZ = "-moz-";
var WEBKIT = "-webkit-";
var COMMENT = "comm";
var RULESET = "rule";
var DECLARATION = "decl";
var IMPORT = "@import";
var KEYFRAMES = "@keyframes";
var LAYER = "@layer";

// node_modules/stylis/src/Utility.js
var abs = Math.abs;
var from = String.fromCharCode;
var assign = Object.assign;
function hash(value, length) {
  return charat(value, 0) ^ 45 ? (((length << 2 ^ charat(value, 0)) << 2 ^ charat(value, 1)) << 2 ^ charat(value, 2)) << 2 ^ charat(value, 3) : 0;
}
function trim(value) {
  return value.trim();
}
function match(value, pattern) {
  return (value = pattern.exec(value)) ? value[0] : value;
}
function replace2(value, pattern, replacement) {
  return value.replace(pattern, replacement);
}
function indexof(value, search) {
  return value.indexOf(search);
}
function charat(value, index) {
  return value.charCodeAt(index) | 0;
}
function substr(value, begin, end) {
  return value.slice(begin, end);
}
function strlen(value) {
  return value.length;
}
function sizeof(value) {
  return value.length;
}
function append(value, array) {
  return array.push(value), value;
}
function combine(array, callback) {
  return array.map(callback).join("");
}

// node_modules/stylis/src/Tokenizer.js
var line = 1;
var column = 1;
var length = 0;
var position = 0;
var character = 0;
var characters = "";
function node(value, root, parent, type, props, children, length2) {
  return { value, root, parent, type, props, children, line, column, length: length2, return: "" };
}
function copy(root, props) {
  return assign(node("", null, null, "", null, null, 0), root, { length: -root.length }, props);
}
function char() {
  return character;
}
function prev() {
  character = position > 0 ? charat(characters, --position) : 0;
  if (column--, character === 10)
    column = 1, line--;
  return character;
}
function next() {
  character = position < length ? charat(characters, position++) : 0;
  if (column++, character === 10)
    column = 1, line++;
  return character;
}
function peek() {
  return charat(characters, position);
}
function caret() {
  return position;
}
function slice(begin, end) {
  return substr(characters, begin, end);
}
function token(type) {
  switch (type) {
    case 0:
    case 9:
    case 10:
    case 13:
    case 32:
      return 5;
    case 33:
    case 43:
    case 44:
    case 47:
    case 62:
    case 64:
    case 126:
    case 59:
    case 123:
    case 125:
      return 4;
    case 58:
      return 3;
    case 34:
    case 39:
    case 40:
    case 91:
      return 2;
    case 41:
    case 93:
      return 1;
  }
  return 0;
}
function alloc(value) {
  return line = column = 1, length = strlen(characters = value), position = 0, [];
}
function dealloc(value) {
  return characters = "", value;
}
function delimit(type) {
  return trim(slice(position - 1, delimiter(type === 91 ? type + 2 : type === 40 ? type + 1 : type)));
}
function whitespace(type) {
  while (character = peek())
    if (character < 33)
      next();
    else
      break;
  return token(type) > 2 || token(character) > 3 ? "" : " ";
}
function escaping(index, count) {
  while (--count && next())
    if (character < 48 || character > 102 || character > 57 && character < 65 || character > 70 && character < 97)
      break;
  return slice(index, caret() + (count < 6 && peek() == 32 && next() == 32));
}
function delimiter(type) {
  while (next())
    switch (character) {
      case type:
        return position;
      case 34:
      case 39:
        if (type !== 34 && type !== 39)
          delimiter(character);
        break;
      case 40:
        if (type === 41)
          delimiter(type);
        break;
      case 92:
        next();
        break;
    }
  return position;
}
function commenter(type, index) {
  while (next())
    if (type + character === 47 + 10)
      break;
    else if (type + character === 42 + 42 && peek() === 47)
      break;
  return "/*" + slice(index, position - 1) + "*" + from(type === 47 ? type : next());
}
function identifier(index) {
  while (!token(peek()))
    next();
  return slice(index, position);
}

// node_modules/stylis/src/Parser.js
function compile(value) {
  return dealloc(parse("", null, null, null, [""], value = alloc(value), 0, [0], value));
}
function parse(value, root, parent, rule, rules, rulesets, pseudo, points, declarations) {
  var index = 0;
  var offset = 0;
  var length2 = pseudo;
  var atrule = 0;
  var property = 0;
  var previous = 0;
  var variable = 1;
  var scanning = 1;
  var ampersand = 1;
  var character2 = 0;
  var type = "";
  var props = rules;
  var children = rulesets;
  var reference = rule;
  var characters2 = type;
  while (scanning)
    switch (previous = character2, character2 = next()) {
      case 40:
        if (previous != 108 && charat(characters2, length2 - 1) == 58) {
          if (indexof(characters2 += replace2(delimit(character2), "&", "&\f"), "&\f") != -1)
            ampersand = -1;
          break;
        }
      case 34:
      case 39:
      case 91:
        characters2 += delimit(character2);
        break;
      case 9:
      case 10:
      case 13:
      case 32:
        characters2 += whitespace(previous);
        break;
      case 92:
        characters2 += escaping(caret() - 1, 7);
        continue;
      case 47:
        switch (peek()) {
          case 42:
          case 47:
            append(comment(commenter(next(), caret()), root, parent), declarations);
            break;
          default:
            characters2 += "/";
        }
        break;
      case 123 * variable:
        points[index++] = strlen(characters2) * ampersand;
      case 125 * variable:
      case 59:
      case 0:
        switch (character2) {
          case 0:
          case 125:
            scanning = 0;
          case 59 + offset:
            if (ampersand == -1)
              characters2 = replace2(characters2, /\f/g, "");
            if (property > 0 && strlen(characters2) - length2)
              append(property > 32 ? declaration(characters2 + ";", rule, parent, length2 - 1) : declaration(replace2(characters2, " ", "") + ";", rule, parent, length2 - 2), declarations);
            break;
          case 59:
            characters2 += ";";
          default:
            append(reference = ruleset(characters2, root, parent, index, offset, rules, points, type, props = [], children = [], length2), rulesets);
            if (character2 === 123)
              if (offset === 0)
                parse(characters2, root, reference, reference, props, rulesets, length2, points, children);
              else
                switch (atrule === 99 && charat(characters2, 3) === 110 ? 100 : atrule) {
                  case 100:
                  case 108:
                  case 109:
                  case 115:
                    parse(value, reference, reference, rule && append(ruleset(value, reference, reference, 0, 0, rules, points, type, rules, props = [], length2), children), rules, children, length2, points, rule ? props : children);
                    break;
                  default:
                    parse(characters2, reference, reference, reference, [""], children, 0, points, children);
                }
        }
        index = offset = property = 0, variable = ampersand = 1, type = characters2 = "", length2 = pseudo;
        break;
      case 58:
        length2 = 1 + strlen(characters2), property = previous;
      default:
        if (variable < 1) {
          if (character2 == 123)
            --variable;
          else if (character2 == 125 && variable++ == 0 && prev() == 125)
            continue;
        }
        switch (characters2 += from(character2), character2 * variable) {
          case 38:
            ampersand = offset > 0 ? 1 : (characters2 += "\f", -1);
            break;
          case 44:
            points[index++] = (strlen(characters2) - 1) * ampersand, ampersand = 1;
            break;
          case 64:
            if (peek() === 45)
              characters2 += delimit(next());
            atrule = peek(), offset = length2 = strlen(type = characters2 += identifier(caret())), character2++;
            break;
          case 45:
            if (previous === 45 && strlen(characters2) == 2)
              variable = 0;
        }
    }
  return rulesets;
}
function ruleset(value, root, parent, index, offset, rules, points, type, props, children, length2) {
  var post = offset - 1;
  var rule = offset === 0 ? rules : [""];
  var size = sizeof(rule);
  for (var i = 0, j = 0, k = 0;i < index; ++i)
    for (var x = 0, y = substr(value, post + 1, post = abs(j = points[i])), z = value;x < size; ++x)
      if (z = trim(j > 0 ? rule[x] + " " + y : replace2(y, /&\f/g, rule[x])))
        props[k++] = z;
  return node(value, root, parent, offset === 0 ? RULESET : type, props, children, length2);
}
function comment(value, root, parent) {
  return node(value, root, parent, COMMENT, from(char()), substr(value, 2, -2), 0);
}
function declaration(value, root, parent, length2) {
  return node(value, root, parent, DECLARATION, substr(value, 0, length2), substr(value, length2 + 1, -1), length2);
}

// node_modules/stylis/src/Serializer.js
function serialize(children, callback) {
  var output = "";
  var length2 = sizeof(children);
  for (var i = 0;i < length2; i++)
    output += callback(children[i], i, children, callback) || "";
  return output;
}
function stringify(element, index, children, callback) {
  switch (element.type) {
    case LAYER:
      if (element.children.length)
        break;
    case IMPORT:
    case DECLARATION:
      return element.return = element.return || element.value;
    case COMMENT:
      return "";
    case KEYFRAMES:
      return element.return = element.value + "{" + serialize(element.children, callback) + "}";
    case RULESET:
      element.value = element.props.join(",");
  }
  return strlen(children = serialize(element.children, callback)) ? element.return = element.value + "{" + children + "}" : "";
}

// node_modules/stylis/src/Middleware.js
function middleware(collection) {
  var length2 = sizeof(collection);
  return function(element, index, children, callback) {
    var output = "";
    for (var i = 0;i < length2; i++)
      output += collection[i](element, index, children, callback) || "";
    return output;
  };
}

// node_modules/@emotion/memoize/dist/emotion-memoize.esm.js
function memoize2(fn) {
  var cache = Object.create(null);
  return function(arg) {
    if (cache[arg] === undefined)
      cache[arg] = fn(arg);
    return cache[arg];
  };
}

// node_modules/@emotion/cache/dist/emotion-cache.browser.development.esm.js
var identifierWithPointTracking = function identifierWithPointTracking2(begin, points, index) {
  var previous = 0;
  var character2 = 0;
  while (true) {
    previous = character2;
    character2 = peek();
    if (previous === 38 && character2 === 12) {
      points[index] = 1;
    }
    if (token(character2)) {
      break;
    }
    next();
  }
  return slice(begin, position);
};
var toRules = function toRules2(parsed, points) {
  var index = -1;
  var character2 = 44;
  do {
    switch (token(character2)) {
      case 0:
        if (character2 === 38 && peek() === 12) {
          points[index] = 1;
        }
        parsed[index] += identifierWithPointTracking(position - 1, points, index);
        break;
      case 2:
        parsed[index] += delimit(character2);
        break;
      case 4:
        if (character2 === 44) {
          parsed[++index] = peek() === 58 ? "&\f" : "";
          points[index] = parsed[index].length;
          break;
        }
      default:
        parsed[index] += from(character2);
    }
  } while (character2 = next());
  return parsed;
};
var getRules = function getRules2(value, points) {
  return dealloc(toRules(alloc(value), points));
};
var fixedElements = /* @__PURE__ */ new WeakMap;
var compat = function compat2(element) {
  if (element.type !== "rule" || !element.parent || element.length < 1) {
    return;
  }
  var value = element.value;
  var parent = element.parent;
  var isImplicitRule = element.column === parent.column && element.line === parent.line;
  while (parent.type !== "rule") {
    parent = parent.parent;
    if (!parent)
      return;
  }
  if (element.props.length === 1 && value.charCodeAt(0) !== 58 && !fixedElements.get(parent)) {
    return;
  }
  if (isImplicitRule) {
    return;
  }
  fixedElements.set(element, true);
  var points = [];
  var rules = getRules(value, points);
  var parentRules = parent.props;
  for (var i = 0, k = 0;i < rules.length; i++) {
    for (var j = 0;j < parentRules.length; j++, k++) {
      element.props[k] = points[i] ? rules[i].replace(/&\f/g, parentRules[j]) : parentRules[j] + " " + rules[i];
    }
  }
};
var removeLabel = function removeLabel2(element) {
  if (element.type === "decl") {
    var value = element.value;
    if (value.charCodeAt(0) === 108 && value.charCodeAt(2) === 98) {
      element["return"] = "";
      element.value = "";
    }
  }
};
var ignoreFlag = "emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason";
var isIgnoringComment = function isIgnoringComment2(element) {
  return element.type === "comm" && element.children.indexOf(ignoreFlag) > -1;
};
var createUnsafeSelectorsAlarm = function createUnsafeSelectorsAlarm2(cache) {
  return function(element, index, children) {
    if (element.type !== "rule" || cache.compat)
      return;
    var unsafePseudoClasses = element.value.match(/(:first|:nth|:nth-last)-child/g);
    if (unsafePseudoClasses) {
      var isNested = !!element.parent;
      var commentContainer = isNested ? element.parent.children : children;
      for (var i = commentContainer.length - 1;i >= 0; i--) {
        var node2 = commentContainer[i];
        if (node2.line < element.line) {
          break;
        }
        if (node2.column < element.column) {
          if (isIgnoringComment(node2)) {
            return;
          }
          break;
        }
      }
      unsafePseudoClasses.forEach(function(unsafePseudoClass) {
        console.error('The pseudo class "' + unsafePseudoClass + '" is potentially unsafe when doing server-side rendering. Try changing it to "' + unsafePseudoClass.split("-child")[0] + '-of-type".');
      });
    }
  };
};
var isImportRule = function isImportRule2(element) {
  return element.type.charCodeAt(1) === 105 && element.type.charCodeAt(0) === 64;
};
var isPrependedWithRegularRules = function isPrependedWithRegularRules2(index, children) {
  for (var i = index - 1;i >= 0; i--) {
    if (!isImportRule(children[i])) {
      return true;
    }
  }
  return false;
};
var nullifyElement = function nullifyElement2(element) {
  element.type = "";
  element.value = "";
  element["return"] = "";
  element.children = "";
  element.props = "";
};
var incorrectImportAlarm = function incorrectImportAlarm2(element, index, children) {
  if (!isImportRule(element)) {
    return;
  }
  if (element.parent) {
    console.error("`@import` rules can't be nested inside other rules. Please move it to the top level and put it before regular rules. Keep in mind that they can only be used within global styles.");
    nullifyElement(element);
  } else if (isPrependedWithRegularRules(index, children)) {
    console.error("`@import` rules can't be after other rules. Please put your `@import` rules before your other rules.");
    nullifyElement(element);
  }
};
function prefix(value, length2) {
  switch (hash(value, length2)) {
    case 5103:
      return WEBKIT + "print-" + value + value;
    case 5737:
    case 4201:
    case 3177:
    case 3433:
    case 1641:
    case 4457:
    case 2921:
    case 5572:
    case 6356:
    case 5844:
    case 3191:
    case 6645:
    case 3005:
    case 6391:
    case 5879:
    case 5623:
    case 6135:
    case 4599:
    case 4855:
    case 4215:
    case 6389:
    case 5109:
    case 5365:
    case 5621:
    case 3829:
      return WEBKIT + value + value;
    case 5349:
    case 4246:
    case 4810:
    case 6968:
    case 2756:
      return WEBKIT + value + MOZ + value + MS + value + value;
    case 6828:
    case 4268:
      return WEBKIT + value + MS + value + value;
    case 6165:
      return WEBKIT + value + MS + "flex-" + value + value;
    case 5187:
      return WEBKIT + value + replace2(value, /(\w+).+(:[^]+)/, WEBKIT + "box-$1$2" + MS + "flex-$1$2") + value;
    case 5443:
      return WEBKIT + value + MS + "flex-item-" + replace2(value, /flex-|-self/, "") + value;
    case 4675:
      return WEBKIT + value + MS + "flex-line-pack" + replace2(value, /align-content|flex-|-self/, "") + value;
    case 5548:
      return WEBKIT + value + MS + replace2(value, "shrink", "negative") + value;
    case 5292:
      return WEBKIT + value + MS + replace2(value, "basis", "preferred-size") + value;
    case 6060:
      return WEBKIT + "box-" + replace2(value, "-grow", "") + WEBKIT + value + MS + replace2(value, "grow", "positive") + value;
    case 4554:
      return WEBKIT + replace2(value, /([^-])(transform)/g, "$1" + WEBKIT + "$2") + value;
    case 6187:
      return replace2(replace2(replace2(value, /(zoom-|grab)/, WEBKIT + "$1"), /(image-set)/, WEBKIT + "$1"), value, "") + value;
    case 5495:
    case 3959:
      return replace2(value, /(image-set\([^]*)/, WEBKIT + "$1" + "$`$1");
    case 4968:
      return replace2(replace2(value, /(.+:)(flex-)?(.*)/, WEBKIT + "box-pack:$3" + MS + "flex-pack:$3"), /s.+-b[^;]+/, "justify") + WEBKIT + value + value;
    case 4095:
    case 3583:
    case 4068:
    case 2532:
      return replace2(value, /(.+)-inline(.+)/, WEBKIT + "$1$2") + value;
    case 8116:
    case 7059:
    case 5753:
    case 5535:
    case 5445:
    case 5701:
    case 4933:
    case 4677:
    case 5533:
    case 5789:
    case 5021:
    case 4765:
      if (strlen(value) - 1 - length2 > 6)
        switch (charat(value, length2 + 1)) {
          case 109:
            if (charat(value, length2 + 4) !== 45)
              break;
          case 102:
            return replace2(value, /(.+:)(.+)-([^]+)/, "$1" + WEBKIT + "$2-$3" + "$1" + MOZ + (charat(value, length2 + 3) == 108 ? "$3" : "$2-$3")) + value;
          case 115:
            return ~indexof(value, "stretch") ? prefix(replace2(value, "stretch", "fill-available"), length2) + value : value;
        }
      break;
    case 4949:
      if (charat(value, length2 + 1) !== 115)
        break;
    case 6444:
      switch (charat(value, strlen(value) - 3 - (~indexof(value, "!important") && 10))) {
        case 107:
          return replace2(value, ":", ":" + WEBKIT) + value;
        case 101:
          return replace2(value, /(.+:)([^;!]+)(;|!.+)?/, "$1" + WEBKIT + (charat(value, 14) === 45 ? "inline-" : "") + "box$3" + "$1" + WEBKIT + "$2$3" + "$1" + MS + "$2box$3") + value;
      }
      break;
    case 5936:
      switch (charat(value, length2 + 11)) {
        case 114:
          return WEBKIT + value + MS + replace2(value, /[svh]\w+-[tblr]{2}/, "tb") + value;
        case 108:
          return WEBKIT + value + MS + replace2(value, /[svh]\w+-[tblr]{2}/, "tb-rl") + value;
        case 45:
          return WEBKIT + value + MS + replace2(value, /[svh]\w+-[tblr]{2}/, "lr") + value;
      }
      return WEBKIT + value + MS + value + value;
  }
  return value;
}
var prefixer = function prefixer2(element, index, children, callback) {
  if (element.length > -1) {
    if (!element["return"])
      switch (element.type) {
        case DECLARATION:
          element["return"] = prefix(element.value, element.length);
          break;
        case KEYFRAMES:
          return serialize([copy(element, {
            value: replace2(element.value, "@", "@" + WEBKIT)
          })], callback);
        case RULESET:
          if (element.length)
            return combine(element.props, function(value) {
              switch (match(value, /(::plac\w+|:read-\w+)/)) {
                case ":read-only":
                case ":read-write":
                  return serialize([copy(element, {
                    props: [replace2(value, /:(read-\w+)/, ":" + MOZ + "$1")]
                  })], callback);
                case "::placeholder":
                  return serialize([copy(element, {
                    props: [replace2(value, /:(plac\w+)/, ":" + WEBKIT + "input-$1")]
                  }), copy(element, {
                    props: [replace2(value, /:(plac\w+)/, ":" + MOZ + "$1")]
                  }), copy(element, {
                    props: [replace2(value, /:(plac\w+)/, MS + "input-$1")]
                  })], callback);
              }
              return "";
            });
      }
  }
};
var defaultStylisPlugins = [prefixer];
var getSourceMap;
{
  sourceMapPattern = /\/\*#\ssourceMappingURL=data:application\/json;\S+\s+\*\//g;
  getSourceMap = function getSourceMap(styles) {
    var matches = styles.match(sourceMapPattern);
    if (!matches)
      return;
    return matches[matches.length - 1];
  };
}
var sourceMapPattern;
var createCache = function createCache2(options) {
  var key = options.key;
  if (!key) {
    throw new Error("You have to configure `key` for your cache. Please make sure it's unique (and not equal to 'css') as it's used for linking styles to your cache.\n" + `If multiple caches share the same key they might "fight" for each other's style elements.`);
  }
  if (key === "css") {
    var ssrStyles = document.querySelectorAll("style[data-emotion]:not([data-s])");
    Array.prototype.forEach.call(ssrStyles, function(node2) {
      var dataEmotionAttribute = node2.getAttribute("data-emotion");
      if (dataEmotionAttribute.indexOf(" ") === -1) {
        return;
      }
      document.head.appendChild(node2);
      node2.setAttribute("data-s", "");
    });
  }
  var stylisPlugins = options.stylisPlugins || defaultStylisPlugins;
  {
    if (/[^a-z-]/.test(key)) {
      throw new Error('Emotion key must only contain lower case alphabetical characters and - but "' + key + '" was passed');
    }
  }
  var inserted = {};
  var container;
  var nodesToHydrate = [];
  {
    container = options.container || document.head;
    Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="' + key + ' "]'), function(node2) {
      var attrib = node2.getAttribute("data-emotion").split(" ");
      for (var i = 1;i < attrib.length; i++) {
        inserted[attrib[i]] = true;
      }
      nodesToHydrate.push(node2);
    });
  }
  var _insert;
  var omnipresentPlugins = [compat, removeLabel];
  {
    omnipresentPlugins.push(createUnsafeSelectorsAlarm({
      get compat() {
        return cache.compat;
      }
    }), incorrectImportAlarm);
  }
  {
    var currentSheet;
    var finalizingPlugins = [stringify, function(element) {
      if (!element.root) {
        if (element["return"]) {
          currentSheet.insert(element["return"]);
        } else if (element.value && element.type !== COMMENT) {
          currentSheet.insert(element.value + "{}");
        }
      }
    }];
    var serializer = middleware(omnipresentPlugins.concat(stylisPlugins, finalizingPlugins));
    var stylis = function stylis(styles) {
      return serialize(compile(styles), serializer);
    };
    _insert = function insert(selector, serialized, sheet, shouldCache) {
      currentSheet = sheet;
      if (getSourceMap) {
        var sourceMap = getSourceMap(serialized.styles);
        if (sourceMap) {
          currentSheet = {
            insert: function insert(rule) {
              sheet.insert(rule + sourceMap);
            }
          };
        }
      }
      stylis(selector ? selector + "{" + serialized.styles + "}" : serialized.styles);
      if (shouldCache) {
        cache.inserted[serialized.name] = true;
      }
    };
  }
  var cache = {
    key,
    sheet: new StyleSheet({
      key,
      container,
      nonce: options.nonce,
      speedy: options.speedy,
      prepend: options.prepend,
      insertionPoint: options.insertionPoint
    }),
    nonce: options.nonce,
    inserted,
    registered: {},
    insert: _insert
  };
  cache.sheet.hydrate(nodesToHydrate);
  return cache;
};

// node_modules/@emotion/utils/dist/emotion-utils.browser.esm.js
var isBrowser2 = true;
function getRegisteredStyles(registered, registeredStyles, classNames) {
  var rawClassName = "";
  classNames.split(" ").forEach(function(className) {
    if (registered[className] !== undefined) {
      registeredStyles.push(registered[className] + ";");
    } else if (className) {
      rawClassName += className + " ";
    }
  });
  return rawClassName;
}
var registerStyles = function registerStyles2(cache, serialized, isStringTag) {
  var className = cache.key + "-" + serialized.name;
  if ((isStringTag === false || isBrowser2 === false) && cache.registered[className] === undefined) {
    cache.registered[className] = serialized.styles;
  }
};
var insertStyles = function insertStyles2(cache, serialized, isStringTag) {
  registerStyles(cache, serialized, isStringTag);
  var className = cache.key + "-" + serialized.name;
  if (cache.inserted[serialized.name] === undefined) {
    var current = serialized;
    do {
      cache.insert(serialized === current ? "." + className : "", current, cache.sheet, true);
      current = current.next;
    } while (current !== undefined);
  }
};

// node_modules/@emotion/hash/dist/emotion-hash.esm.js
function murmur2(str) {
  var h = 0;
  var k, i = 0, len = str.length;
  for (;len >= 4; ++i, len -= 4) {
    k = str.charCodeAt(i) & 255 | (str.charCodeAt(++i) & 255) << 8 | (str.charCodeAt(++i) & 255) << 16 | (str.charCodeAt(++i) & 255) << 24;
    k = (k & 65535) * 1540483477 + ((k >>> 16) * 59797 << 16);
    k ^= k >>> 24;
    h = (k & 65535) * 1540483477 + ((k >>> 16) * 59797 << 16) ^ (h & 65535) * 1540483477 + ((h >>> 16) * 59797 << 16);
  }
  switch (len) {
    case 3:
      h ^= (str.charCodeAt(i + 2) & 255) << 16;
    case 2:
      h ^= (str.charCodeAt(i + 1) & 255) << 8;
    case 1:
      h ^= str.charCodeAt(i) & 255;
      h = (h & 65535) * 1540483477 + ((h >>> 16) * 59797 << 16);
  }
  h ^= h >>> 13;
  h = (h & 65535) * 1540483477 + ((h >>> 16) * 59797 << 16);
  return ((h ^ h >>> 15) >>> 0).toString(36);
}

// node_modules/@emotion/unitless/dist/emotion-unitless.esm.js
var unitlessKeys = {
  animationIterationCount: 1,
  aspectRatio: 1,
  borderImageOutset: 1,
  borderImageSlice: 1,
  borderImageWidth: 1,
  boxFlex: 1,
  boxFlexGroup: 1,
  boxOrdinalGroup: 1,
  columnCount: 1,
  columns: 1,
  flex: 1,
  flexGrow: 1,
  flexPositive: 1,
  flexShrink: 1,
  flexNegative: 1,
  flexOrder: 1,
  gridRow: 1,
  gridRowEnd: 1,
  gridRowSpan: 1,
  gridRowStart: 1,
  gridColumn: 1,
  gridColumnEnd: 1,
  gridColumnSpan: 1,
  gridColumnStart: 1,
  msGridRow: 1,
  msGridRowSpan: 1,
  msGridColumn: 1,
  msGridColumnSpan: 1,
  fontWeight: 1,
  lineHeight: 1,
  opacity: 1,
  order: 1,
  orphans: 1,
  scale: 1,
  tabSize: 1,
  widows: 1,
  zIndex: 1,
  zoom: 1,
  WebkitLineClamp: 1,
  fillOpacity: 1,
  floodOpacity: 1,
  stopOpacity: 1,
  strokeDasharray: 1,
  strokeDashoffset: 1,
  strokeMiterlimit: 1,
  strokeOpacity: 1,
  strokeWidth: 1
};

// node_modules/@emotion/serialize/dist/emotion-serialize.development.esm.js
var isDevelopment2 = true;
var ILLEGAL_ESCAPE_SEQUENCE_ERROR = `You have illegal escape sequence in your template literal, most likely inside content's property value.
Because you write your CSS inside a JavaScript string you actually have to do double escaping, so for example "content: '\\00d7';" should become "content: '\\\\00d7';".
You can read more about this here:
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences`;
var UNDEFINED_AS_OBJECT_KEY_ERROR = "You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key).";
var hyphenateRegex = /[A-Z]|^ms/g;
var animationRegex = /_EMO_([^_]+?)_([^]*?)_EMO_/g;
var isCustomProperty = function isCustomProperty2(property) {
  return property.charCodeAt(1) === 45;
};
var isProcessableValue = function isProcessableValue2(value) {
  return value != null && typeof value !== "boolean";
};
var processStyleName = /* @__PURE__ */ memoize2(function(styleName) {
  return isCustomProperty(styleName) ? styleName : styleName.replace(hyphenateRegex, "-$&").toLowerCase();
});
var processStyleValue = function processStyleValue2(key, value) {
  switch (key) {
    case "animation":
    case "animationName": {
      if (typeof value === "string") {
        return value.replace(animationRegex, function(match2, p1, p2) {
          cursor = {
            name: p1,
            styles: p2,
            next: cursor
          };
          return p1;
        });
      }
    }
  }
  if (unitlessKeys[key] !== 1 && !isCustomProperty(key) && typeof value === "number" && value !== 0) {
    return value + "px";
  }
  return value;
};
{
  contentValuePattern = /(var|attr|counters?|url|element|(((repeating-)?(linear|radial))|conic)-gradient)\(|(no-)?(open|close)-quote/;
  contentValues = ["normal", "none", "initial", "inherit", "unset"];
  oldProcessStyleValue = processStyleValue;
  msPattern = /^-ms-/;
  hyphenPattern = /-(.)/g;
  hyphenatedCache = {};
  processStyleValue = function processStyleValue(key, value) {
    if (key === "content") {
      if (typeof value !== "string" || contentValues.indexOf(value) === -1 && !contentValuePattern.test(value) && (value.charAt(0) !== value.charAt(value.length - 1) || value.charAt(0) !== '"' && value.charAt(0) !== "'")) {
        throw new Error("You seem to be using a value for 'content' without quotes, try replacing it with `content: '\"" + value + "\"'`");
      }
    }
    var processed = oldProcessStyleValue(key, value);
    if (processed !== "" && !isCustomProperty(key) && key.indexOf("-") !== -1 && hyphenatedCache[key] === undefined) {
      hyphenatedCache[key] = true;
      console.error("Using kebab-case for css properties in objects is not supported. Did you mean " + key.replace(msPattern, "ms-").replace(hyphenPattern, function(str, _char) {
        return _char.toUpperCase();
      }) + "?");
    }
    return processed;
  };
}
var contentValuePattern;
var contentValues;
var oldProcessStyleValue;
var msPattern;
var hyphenPattern;
var hyphenatedCache;
var noComponentSelectorMessage = "Component selectors can only be used in conjunction with " + "@emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware " + "compiler transform.";
function handleInterpolation(mergedProps, registered, interpolation) {
  if (interpolation == null) {
    return "";
  }
  var componentSelector = interpolation;
  if (componentSelector.__emotion_styles !== undefined) {
    if (String(componentSelector) === "NO_COMPONENT_SELECTOR") {
      throw new Error(noComponentSelectorMessage);
    }
    return componentSelector;
  }
  switch (typeof interpolation) {
    case "boolean": {
      return "";
    }
    case "object": {
      var keyframes = interpolation;
      if (keyframes.anim === 1) {
        cursor = {
          name: keyframes.name,
          styles: keyframes.styles,
          next: cursor
        };
        return keyframes.name;
      }
      var serializedStyles = interpolation;
      if (serializedStyles.styles !== undefined) {
        var next2 = serializedStyles.next;
        if (next2 !== undefined) {
          while (next2 !== undefined) {
            cursor = {
              name: next2.name,
              styles: next2.styles,
              next: cursor
            };
            next2 = next2.next;
          }
        }
        var styles = serializedStyles.styles + ";";
        return styles;
      }
      return createStringFromObject(mergedProps, registered, interpolation);
    }
    case "function": {
      if (mergedProps !== undefined) {
        var previousCursor = cursor;
        var result = interpolation(mergedProps);
        cursor = previousCursor;
        return handleInterpolation(mergedProps, registered, result);
      } else {
        console.error(`Functions that are interpolated in css calls will be stringified.
` + `If you want to have a css call based on props, create a function that returns a css call like this
` + "let dynamicStyle = (props) => css`color: ${props.color}`\n" + `It can be called directly with props or interpolated in a styled call like this
` + "let SomeComponent = styled('div')`${dynamicStyle}`");
      }
      break;
    }
    case "string":
      {
        var matched = [];
        var replaced = interpolation.replace(animationRegex, function(_match, _p1, p2) {
          var fakeVarName = "animation" + matched.length;
          matched.push("const " + fakeVarName + " = keyframes`" + p2.replace(/^@keyframes animation-\w+/, "") + "`");
          return "${" + fakeVarName + "}";
        });
        if (matched.length) {
          console.error("`keyframes` output got interpolated into plain string, please wrap it with `css`.\n\nInstead of doing this:\n\n" + [].concat(matched, ["`" + replaced + "`"]).join(`
`) + `

You should wrap it with \`css\` like this:

css\`` + replaced + "`");
        }
      }
      break;
  }
  var asString = interpolation;
  if (registered == null) {
    return asString;
  }
  var cached = registered[asString];
  return cached !== undefined ? cached : asString;
}
function createStringFromObject(mergedProps, registered, obj) {
  var string = "";
  if (Array.isArray(obj)) {
    for (var i = 0;i < obj.length; i++) {
      string += handleInterpolation(mergedProps, registered, obj[i]) + ";";
    }
  } else {
    for (var key in obj) {
      var value = obj[key];
      if (typeof value !== "object") {
        var asString = value;
        if (registered != null && registered[asString] !== undefined) {
          string += key + "{" + registered[asString] + "}";
        } else if (isProcessableValue(asString)) {
          string += processStyleName(key) + ":" + processStyleValue(key, asString) + ";";
        }
      } else {
        if (key === "NO_COMPONENT_SELECTOR" && isDevelopment2) {
          throw new Error(noComponentSelectorMessage);
        }
        if (Array.isArray(value) && typeof value[0] === "string" && (registered == null || registered[value[0]] === undefined)) {
          for (var _i = 0;_i < value.length; _i++) {
            if (isProcessableValue(value[_i])) {
              string += processStyleName(key) + ":" + processStyleValue(key, value[_i]) + ";";
            }
          }
        } else {
          var interpolated = handleInterpolation(mergedProps, registered, value);
          switch (key) {
            case "animation":
            case "animationName": {
              string += processStyleName(key) + ":" + interpolated + ";";
              break;
            }
            default: {
              if (key === "undefined") {
                console.error(UNDEFINED_AS_OBJECT_KEY_ERROR);
              }
              string += key + "{" + interpolated + "}";
            }
          }
        }
      }
    }
  }
  return string;
}
var labelPattern = /label:\s*([^\s;{]+)\s*(;|$)/g;
var cursor;
function serializeStyles(args, registered, mergedProps) {
  if (args.length === 1 && typeof args[0] === "object" && args[0] !== null && args[0].styles !== undefined) {
    return args[0];
  }
  var stringMode = true;
  var styles = "";
  cursor = undefined;
  var strings = args[0];
  if (strings == null || strings.raw === undefined) {
    stringMode = false;
    styles += handleInterpolation(mergedProps, registered, strings);
  } else {
    var asTemplateStringsArr = strings;
    if (asTemplateStringsArr[0] === undefined) {
      console.error(ILLEGAL_ESCAPE_SEQUENCE_ERROR);
    }
    styles += asTemplateStringsArr[0];
  }
  for (var i = 1;i < args.length; i++) {
    styles += handleInterpolation(mergedProps, registered, args[i]);
    if (stringMode) {
      var templateStringsArr = strings;
      if (templateStringsArr[i] === undefined) {
        console.error(ILLEGAL_ESCAPE_SEQUENCE_ERROR);
      }
      styles += templateStringsArr[i];
    }
  }
  labelPattern.lastIndex = 0;
  var identifierName = "";
  var match2;
  while ((match2 = labelPattern.exec(styles)) !== null) {
    identifierName += "-" + match2[1];
  }
  var name = murmur2(styles) + identifierName;
  {
    var devStyles = {
      name,
      styles,
      next: cursor,
      toString: function toString() {
        return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
      }
    };
    return devStyles;
  }
}

// node_modules/@emotion/use-insertion-effect-with-fallbacks/dist/emotion-use-insertion-effect-with-fallbacks.browser.esm.js
var React15 = __toESM(require_react(), 1);
var syncFallback = function syncFallback2(create) {
  return create();
};
var useInsertionEffect = React15["useInsertion" + "Effect"] ? React15["useInsertion" + "Effect"] : false;
var useInsertionEffectAlwaysWithSyncFallback = useInsertionEffect || syncFallback;
var useInsertionEffectWithLayoutFallback = useInsertionEffect || React15.useLayoutEffect;

// node_modules/@emotion/react/dist/emotion-element-489459f2.browser.development.esm.js
var EmotionCacheContext = /* @__PURE__ */ React16.createContext(typeof HTMLElement !== "undefined" ? /* @__PURE__ */ createCache({
  key: "css"
}) : null);
{
  EmotionCacheContext.displayName = "EmotionCacheContext";
}
var CacheProvider = EmotionCacheContext.Provider;
var withEmotionCache = function withEmotionCache2(func) {
  return /* @__PURE__ */ import_react.forwardRef(function(props, ref) {
    var cache = import_react.useContext(EmotionCacheContext);
    return func(props, cache, ref);
  });
};
var ThemeContext = /* @__PURE__ */ React16.createContext({});
{
  ThemeContext.displayName = "EmotionThemeContext";
}
var hasOwn = {}.hasOwnProperty;
var getLastPart = function getLastPart2(functionName) {
  var parts = functionName.split(".");
  return parts[parts.length - 1];
};
var getFunctionNameFromStackTraceLine = function getFunctionNameFromStackTraceLine2(line2) {
  var match2 = /^\s+at\s+([A-Za-z0-9$.]+)\s/.exec(line2);
  if (match2)
    return getLastPart(match2[1]);
  match2 = /^([A-Za-z0-9$.]+)@/.exec(line2);
  if (match2)
    return getLastPart(match2[1]);
  return;
};
var internalReactFunctionNames = /* @__PURE__ */ new Set(["renderWithHooks", "processChild", "finishClassComponent", "renderToString"]);
var sanitizeIdentifier = function sanitizeIdentifier2(identifier2) {
  return identifier2.replace(/\$/g, "-");
};
var getLabelFromStackTrace = function getLabelFromStackTrace2(stackTrace) {
  if (!stackTrace)
    return;
  var lines = stackTrace.split(`
`);
  for (var i = 0;i < lines.length; i++) {
    var functionName = getFunctionNameFromStackTraceLine(lines[i]);
    if (!functionName)
      continue;
    if (internalReactFunctionNames.has(functionName))
      break;
    if (/^[A-Z]/.test(functionName))
      return sanitizeIdentifier(functionName);
  }
  return;
};
var typePropName = "__EMOTION_TYPE_PLEASE_DO_NOT_USE__";
var labelPropName = "__EMOTION_LABEL_PLEASE_DO_NOT_USE__";
var createEmotionProps = function createEmotionProps2(type, props) {
  if (typeof props.css === "string" && props.css.indexOf(":") !== -1) {
    throw new Error("Strings are not allowed as css prop values, please wrap it in a css template literal from '@emotion/react' like this: css`" + props.css + "`");
  }
  var newProps = {};
  for (var _key in props) {
    if (hasOwn.call(props, _key)) {
      newProps[_key] = props[_key];
    }
  }
  newProps[typePropName] = type;
  if (typeof globalThis !== "undefined" && !!globalThis.EMOTION_RUNTIME_AUTO_LABEL && !!props.css && (typeof props.css !== "object" || !("name" in props.css) || typeof props.css.name !== "string" || props.css.name.indexOf("-") === -1)) {
    var label = getLabelFromStackTrace(new Error().stack);
    if (label)
      newProps[labelPropName] = label;
  }
  return newProps;
};
var Insertion = function Insertion2(_ref) {
  var { cache, serialized, isStringTag } = _ref;
  registerStyles(cache, serialized, isStringTag);
  useInsertionEffectAlwaysWithSyncFallback(function() {
    return insertStyles(cache, serialized, isStringTag);
  });
  return null;
};
var Emotion = /* @__PURE__ */ withEmotionCache(function(props, cache, ref) {
  var cssProp = props.css;
  if (typeof cssProp === "string" && cache.registered[cssProp] !== undefined) {
    cssProp = cache.registered[cssProp];
  }
  var WrappedComponent = props[typePropName];
  var registeredStyles = [cssProp];
  var className = "";
  if (typeof props.className === "string") {
    className = getRegisteredStyles(cache.registered, registeredStyles, props.className);
  } else if (props.className != null) {
    className = props.className + " ";
  }
  var serialized = serializeStyles(registeredStyles, undefined, React16.useContext(ThemeContext));
  if (serialized.name.indexOf("-") === -1) {
    var labelFromStack = props[labelPropName];
    if (labelFromStack) {
      serialized = serializeStyles([serialized, "label:" + labelFromStack + ";"]);
    }
  }
  className += cache.key + "-" + serialized.name;
  var newProps = {};
  for (var _key2 in props) {
    if (hasOwn.call(props, _key2) && _key2 !== "css" && _key2 !== typePropName && _key2 !== labelPropName) {
      newProps[_key2] = props[_key2];
    }
  }
  newProps.className = className;
  if (ref) {
    newProps.ref = ref;
  }
  return /* @__PURE__ */ React16.createElement(React16.Fragment, null, /* @__PURE__ */ React16.createElement(Insertion, {
    cache,
    serialized,
    isStringTag: typeof WrappedComponent === "string"
  }), /* @__PURE__ */ React16.createElement(WrappedComponent, newProps));
});
{
  Emotion.displayName = "EmotionCssPropInternal";
}
var Emotion$1 = Emotion;

// node_modules/@emotion/react/dist/emotion-react.browser.development.esm.js
var React17 = __toESM(require_react(), 1);
var import_hoist_non_react_statics = __toESM(require_hoist_non_react_statics_cjs(), 1);
var isDevelopment3 = true;
var pkg = {
  name: "@emotion/react",
  version: "11.14.0",
  main: "dist/emotion-react.cjs.js",
  module: "dist/emotion-react.esm.js",
  types: "dist/emotion-react.cjs.d.ts",
  exports: {
    ".": {
      types: {
        import: "./dist/emotion-react.cjs.mjs",
        default: "./dist/emotion-react.cjs.js"
      },
      development: {
        "edge-light": {
          module: "./dist/emotion-react.development.edge-light.esm.js",
          import: "./dist/emotion-react.development.edge-light.cjs.mjs",
          default: "./dist/emotion-react.development.edge-light.cjs.js"
        },
        worker: {
          module: "./dist/emotion-react.development.edge-light.esm.js",
          import: "./dist/emotion-react.development.edge-light.cjs.mjs",
          default: "./dist/emotion-react.development.edge-light.cjs.js"
        },
        workerd: {
          module: "./dist/emotion-react.development.edge-light.esm.js",
          import: "./dist/emotion-react.development.edge-light.cjs.mjs",
          default: "./dist/emotion-react.development.edge-light.cjs.js"
        },
        browser: {
          module: "./dist/emotion-react.browser.development.esm.js",
          import: "./dist/emotion-react.browser.development.cjs.mjs",
          default: "./dist/emotion-react.browser.development.cjs.js"
        },
        module: "./dist/emotion-react.development.esm.js",
        import: "./dist/emotion-react.development.cjs.mjs",
        default: "./dist/emotion-react.development.cjs.js"
      },
      "edge-light": {
        module: "./dist/emotion-react.edge-light.esm.js",
        import: "./dist/emotion-react.edge-light.cjs.mjs",
        default: "./dist/emotion-react.edge-light.cjs.js"
      },
      worker: {
        module: "./dist/emotion-react.edge-light.esm.js",
        import: "./dist/emotion-react.edge-light.cjs.mjs",
        default: "./dist/emotion-react.edge-light.cjs.js"
      },
      workerd: {
        module: "./dist/emotion-react.edge-light.esm.js",
        import: "./dist/emotion-react.edge-light.cjs.mjs",
        default: "./dist/emotion-react.edge-light.cjs.js"
      },
      browser: {
        module: "./dist/emotion-react.browser.esm.js",
        import: "./dist/emotion-react.browser.cjs.mjs",
        default: "./dist/emotion-react.browser.cjs.js"
      },
      module: "./dist/emotion-react.esm.js",
      import: "./dist/emotion-react.cjs.mjs",
      default: "./dist/emotion-react.cjs.js"
    },
    "./jsx-runtime": {
      types: {
        import: "./jsx-runtime/dist/emotion-react-jsx-runtime.cjs.mjs",
        default: "./jsx-runtime/dist/emotion-react-jsx-runtime.cjs.js"
      },
      development: {
        "edge-light": {
          module: "./jsx-runtime/dist/emotion-react-jsx-runtime.development.edge-light.esm.js",
          import: "./jsx-runtime/dist/emotion-react-jsx-runtime.development.edge-light.cjs.mjs",
          default: "./jsx-runtime/dist/emotion-react-jsx-runtime.development.edge-light.cjs.js"
        },
        worker: {
          module: "./jsx-runtime/dist/emotion-react-jsx-runtime.development.edge-light.esm.js",
          import: "./jsx-runtime/dist/emotion-react-jsx-runtime.development.edge-light.cjs.mjs",
          default: "./jsx-runtime/dist/emotion-react-jsx-runtime.development.edge-light.cjs.js"
        },
        workerd: {
          module: "./jsx-runtime/dist/emotion-react-jsx-runtime.development.edge-light.esm.js",
          import: "./jsx-runtime/dist/emotion-react-jsx-runtime.development.edge-light.cjs.mjs",
          default: "./jsx-runtime/dist/emotion-react-jsx-runtime.development.edge-light.cjs.js"
        },
        browser: {
          module: "./jsx-runtime/dist/emotion-react-jsx-runtime.browser.development.esm.js",
          import: "./jsx-runtime/dist/emotion-react-jsx-runtime.browser.development.cjs.mjs",
          default: "./jsx-runtime/dist/emotion-react-jsx-runtime.browser.development.cjs.js"
        },
        module: "./jsx-runtime/dist/emotion-react-jsx-runtime.development.esm.js",
        import: "./jsx-runtime/dist/emotion-react-jsx-runtime.development.cjs.mjs",
        default: "./jsx-runtime/dist/emotion-react-jsx-runtime.development.cjs.js"
      },
      "edge-light": {
        module: "./jsx-runtime/dist/emotion-react-jsx-runtime.edge-light.esm.js",
        import: "./jsx-runtime/dist/emotion-react-jsx-runtime.edge-light.cjs.mjs",
        default: "./jsx-runtime/dist/emotion-react-jsx-runtime.edge-light.cjs.js"
      },
      worker: {
        module: "./jsx-runtime/dist/emotion-react-jsx-runtime.edge-light.esm.js",
        import: "./jsx-runtime/dist/emotion-react-jsx-runtime.edge-light.cjs.mjs",
        default: "./jsx-runtime/dist/emotion-react-jsx-runtime.edge-light.cjs.js"
      },
      workerd: {
        module: "./jsx-runtime/dist/emotion-react-jsx-runtime.edge-light.esm.js",
        import: "./jsx-runtime/dist/emotion-react-jsx-runtime.edge-light.cjs.mjs",
        default: "./jsx-runtime/dist/emotion-react-jsx-runtime.edge-light.cjs.js"
      },
      browser: {
        module: "./jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js",
        import: "./jsx-runtime/dist/emotion-react-jsx-runtime.browser.cjs.mjs",
        default: "./jsx-runtime/dist/emotion-react-jsx-runtime.browser.cjs.js"
      },
      module: "./jsx-runtime/dist/emotion-react-jsx-runtime.esm.js",
      import: "./jsx-runtime/dist/emotion-react-jsx-runtime.cjs.mjs",
      default: "./jsx-runtime/dist/emotion-react-jsx-runtime.cjs.js"
    },
    "./_isolated-hnrs": {
      types: {
        import: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.cjs.mjs",
        default: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.cjs.js"
      },
      development: {
        "edge-light": {
          module: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.development.edge-light.esm.js",
          import: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.development.edge-light.cjs.mjs",
          default: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.development.edge-light.cjs.js"
        },
        worker: {
          module: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.development.edge-light.esm.js",
          import: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.development.edge-light.cjs.mjs",
          default: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.development.edge-light.cjs.js"
        },
        workerd: {
          module: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.development.edge-light.esm.js",
          import: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.development.edge-light.cjs.mjs",
          default: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.development.edge-light.cjs.js"
        },
        browser: {
          module: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.development.esm.js",
          import: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.development.cjs.mjs",
          default: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.development.cjs.js"
        },
        module: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.development.esm.js",
        import: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.development.cjs.mjs",
        default: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.development.cjs.js"
      },
      "edge-light": {
        module: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.edge-light.esm.js",
        import: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.edge-light.cjs.mjs",
        default: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.edge-light.cjs.js"
      },
      worker: {
        module: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.edge-light.esm.js",
        import: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.edge-light.cjs.mjs",
        default: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.edge-light.cjs.js"
      },
      workerd: {
        module: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.edge-light.esm.js",
        import: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.edge-light.cjs.mjs",
        default: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.edge-light.cjs.js"
      },
      browser: {
        module: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.esm.js",
        import: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.cjs.mjs",
        default: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.cjs.js"
      },
      module: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.esm.js",
      import: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.cjs.mjs",
      default: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.cjs.js"
    },
    "./jsx-dev-runtime": {
      types: {
        import: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.cjs.mjs",
        default: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.cjs.js"
      },
      development: {
        "edge-light": {
          module: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.development.edge-light.esm.js",
          import: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.development.edge-light.cjs.mjs",
          default: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.development.edge-light.cjs.js"
        },
        worker: {
          module: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.development.edge-light.esm.js",
          import: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.development.edge-light.cjs.mjs",
          default: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.development.edge-light.cjs.js"
        },
        workerd: {
          module: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.development.edge-light.esm.js",
          import: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.development.edge-light.cjs.mjs",
          default: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.development.edge-light.cjs.js"
        },
        browser: {
          module: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.browser.development.esm.js",
          import: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.browser.development.cjs.mjs",
          default: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.browser.development.cjs.js"
        },
        module: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.development.esm.js",
        import: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.development.cjs.mjs",
        default: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.development.cjs.js"
      },
      "edge-light": {
        module: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.edge-light.esm.js",
        import: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.edge-light.cjs.mjs",
        default: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.edge-light.cjs.js"
      },
      worker: {
        module: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.edge-light.esm.js",
        import: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.edge-light.cjs.mjs",
        default: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.edge-light.cjs.js"
      },
      workerd: {
        module: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.edge-light.esm.js",
        import: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.edge-light.cjs.mjs",
        default: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.edge-light.cjs.js"
      },
      browser: {
        module: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.browser.esm.js",
        import: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.browser.cjs.mjs",
        default: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.browser.cjs.js"
      },
      module: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.esm.js",
      import: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.cjs.mjs",
      default: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.cjs.js"
    },
    "./package.json": "./package.json",
    "./types/css-prop": "./types/css-prop.d.ts",
    "./macro": {
      types: {
        import: "./macro.d.mts",
        default: "./macro.d.ts"
      },
      default: "./macro.js"
    }
  },
  imports: {
    "#is-development": {
      development: "./src/conditions/true.ts",
      default: "./src/conditions/false.ts"
    },
    "#is-browser": {
      "edge-light": "./src/conditions/false.ts",
      workerd: "./src/conditions/false.ts",
      worker: "./src/conditions/false.ts",
      browser: "./src/conditions/true.ts",
      default: "./src/conditions/is-browser.ts"
    }
  },
  files: [
    "src",
    "dist",
    "jsx-runtime",
    "jsx-dev-runtime",
    "_isolated-hnrs",
    "types/css-prop.d.ts",
    "macro.*"
  ],
  sideEffects: false,
  author: "Emotion Contributors",
  license: "MIT",
  scripts: {
    "test:typescript": "dtslint types"
  },
  dependencies: {
    "@babel/runtime": "^7.18.3",
    "@emotion/babel-plugin": "^11.13.5",
    "@emotion/cache": "^11.14.0",
    "@emotion/serialize": "^1.3.3",
    "@emotion/use-insertion-effect-with-fallbacks": "^1.2.0",
    "@emotion/utils": "^1.4.2",
    "@emotion/weak-memoize": "^0.4.0",
    "hoist-non-react-statics": "^3.3.1"
  },
  peerDependencies: {
    react: ">=16.8.0"
  },
  peerDependenciesMeta: {
    "@types/react": {
      optional: true
    }
  },
  devDependencies: {
    "@definitelytyped/dtslint": "0.0.112",
    "@emotion/css": "11.13.5",
    "@emotion/css-prettifier": "1.2.0",
    "@emotion/server": "11.11.0",
    "@emotion/styled": "11.14.0",
    "@types/hoist-non-react-statics": "^3.3.5",
    "html-tag-names": "^1.1.2",
    react: "16.14.0",
    "svg-tag-names": "^1.1.1",
    typescript: "^5.4.5"
  },
  repository: "https://github.com/emotion-js/emotion/tree/main/packages/react",
  publishConfig: {
    access: "public"
  },
  "umd:main": "dist/emotion-react.umd.min.js",
  preconstruct: {
    entrypoints: [
      "./index.ts",
      "./jsx-runtime.ts",
      "./jsx-dev-runtime.ts",
      "./_isolated-hnrs.ts"
    ],
    umdName: "emotionReact",
    exports: {
      extra: {
        "./types/css-prop": "./types/css-prop.d.ts",
        "./macro": {
          types: {
            import: "./macro.d.mts",
            default: "./macro.d.ts"
          },
          default: "./macro.js"
        }
      }
    }
  }
};
var jsx = function jsx2(type, props) {
  var args = arguments;
  if (props == null || !hasOwn.call(props, "css")) {
    return React17.createElement.apply(undefined, args);
  }
  var argsLength = args.length;
  var createElementArgArray = new Array(argsLength);
  createElementArgArray[0] = Emotion$1;
  createElementArgArray[1] = createEmotionProps(type, props);
  for (var i = 2;i < argsLength; i++) {
    createElementArgArray[i] = args[i];
  }
  return React17.createElement.apply(null, createElementArgArray);
};
(function(_jsx) {
  var JSX;
  (function(_JSX) {})(JSX || (JSX = _jsx.JSX || (_jsx.JSX = {})));
})(jsx || (jsx = {}));
var warnedAboutCssPropForGlobal = false;
var Global = /* @__PURE__ */ withEmotionCache(function(props, cache) {
  if (!warnedAboutCssPropForGlobal && (("className" in props) && props.className || ("css" in props) && props.css)) {
    console.error("It looks like you're using the css prop on Global, did you mean to use the styles prop instead?");
    warnedAboutCssPropForGlobal = true;
  }
  var styles = props.styles;
  var serialized = serializeStyles([styles], undefined, React17.useContext(ThemeContext));
  var sheetRef = React17.useRef();
  useInsertionEffectWithLayoutFallback(function() {
    var key = cache.key + "-global";
    var sheet = new cache.sheet.constructor({
      key,
      nonce: cache.sheet.nonce,
      container: cache.sheet.container,
      speedy: cache.sheet.isSpeedy
    });
    var rehydrating = false;
    var node2 = document.querySelector('style[data-emotion="' + key + " " + serialized.name + '"]');
    if (cache.sheet.tags.length) {
      sheet.before = cache.sheet.tags[0];
    }
    if (node2 !== null) {
      rehydrating = true;
      node2.setAttribute("data-emotion", key);
      sheet.hydrate([node2]);
    }
    sheetRef.current = [sheet, rehydrating];
    return function() {
      sheet.flush();
    };
  }, [cache]);
  useInsertionEffectWithLayoutFallback(function() {
    var sheetRefCurrent = sheetRef.current;
    var sheet = sheetRefCurrent[0], rehydrating = sheetRefCurrent[1];
    if (rehydrating) {
      sheetRefCurrent[1] = false;
      return;
    }
    if (serialized.next !== undefined) {
      insertStyles(cache, serialized.next, true);
    }
    if (sheet.tags.length) {
      var element = sheet.tags[sheet.tags.length - 1].nextElementSibling;
      sheet.before = element;
      sheet.flush();
    }
    cache.insert("", serialized, sheet, false);
  }, [cache, serialized.name]);
  return null;
});
{
  Global.displayName = "EmotionGlobal";
}
function css() {
  for (var _len = arguments.length, args = new Array(_len), _key = 0;_key < _len; _key++) {
    args[_key] = arguments[_key];
  }
  return serializeStyles(args);
}
function keyframes() {
  var insertable = css.apply(undefined, arguments);
  var name = "animation-" + insertable.name;
  return {
    name,
    styles: "@keyframes " + name + "{" + insertable.styles + "}",
    anim: 1,
    toString: function toString() {
      return "_EMO_" + this.name + "_" + this.styles + "_EMO_";
    }
  };
}
var classnames = function classnames2(args) {
  var len = args.length;
  var i = 0;
  var cls = "";
  for (;i < len; i++) {
    var arg = args[i];
    if (arg == null)
      continue;
    var toAdd = undefined;
    switch (typeof arg) {
      case "boolean":
        break;
      case "object": {
        if (Array.isArray(arg)) {
          toAdd = classnames2(arg);
        } else {
          if (arg.styles !== undefined && arg.name !== undefined) {
            console.error("You have passed styles created with `css` from `@emotion/react` package to the `cx`.\n" + "`cx` is meant to compose class names (strings) so you should convert those styles to a class name by passing them to the `css` received from <ClassNames/> component.");
          }
          toAdd = "";
          for (var k in arg) {
            if (arg[k] && k) {
              toAdd && (toAdd += " ");
              toAdd += k;
            }
          }
        }
        break;
      }
      default: {
        toAdd = arg;
      }
    }
    if (toAdd) {
      cls && (cls += " ");
      cls += toAdd;
    }
  }
  return cls;
};
function merge2(registered, css2, className) {
  var registeredStyles = [];
  var rawClassName = getRegisteredStyles(registered, registeredStyles, className);
  if (registeredStyles.length < 2) {
    return className;
  }
  return rawClassName + css2(registeredStyles);
}
var Insertion3 = function Insertion4(_ref) {
  var { cache, serializedArr } = _ref;
  useInsertionEffectAlwaysWithSyncFallback(function() {
    for (var i = 0;i < serializedArr.length; i++) {
      insertStyles(cache, serializedArr[i], false);
    }
  });
  return null;
};
var ClassNames = /* @__PURE__ */ withEmotionCache(function(props, cache) {
  var hasRendered = false;
  var serializedArr = [];
  var css2 = function css() {
    if (hasRendered && isDevelopment3) {
      throw new Error("css can only be used during render");
    }
    for (var _len = arguments.length, args = new Array(_len), _key = 0;_key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    var serialized = serializeStyles(args, cache.registered);
    serializedArr.push(serialized);
    registerStyles(cache, serialized, false);
    return cache.key + "-" + serialized.name;
  };
  var cx = function cx() {
    if (hasRendered && isDevelopment3) {
      throw new Error("cx can only be used during render");
    }
    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0;_key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }
    return merge2(cache.registered, css2, classnames(args));
  };
  var content = {
    css: css2,
    cx,
    theme: React17.useContext(ThemeContext)
  };
  var ele = props.children(content);
  hasRendered = true;
  return /* @__PURE__ */ React17.createElement(React17.Fragment, null, /* @__PURE__ */ React17.createElement(Insertion3, {
    cache,
    serializedArr
  }), ele);
});
{
  ClassNames.displayName = "EmotionClassNames";
}
{
  isBrowser3 = typeof document !== "undefined";
  isTestEnv = typeof jest !== "undefined" || typeof vi !== "undefined";
  if (isBrowser3 && !isTestEnv) {
    globalContext = typeof globalThis !== "undefined" ? globalThis : isBrowser3 ? window : global;
    globalKey = "__EMOTION_REACT_" + pkg.version.split(".")[0] + "__";
    if (globalContext[globalKey]) {
      console.warn("You are loading @emotion/react when it is already loaded. Running " + "multiple instances may cause problems. This can happen if multiple " + "versions are used, or if multiple builds of the same version are " + "used.");
    }
    globalContext[globalKey] = true;
  }
}
var isBrowser3;
var isTestEnv;
var globalContext;
var globalKey;

// node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.development.esm.js
var React18 = __toESM(require_react(), 1);

// node_modules/@emotion/is-prop-valid/dist/emotion-is-prop-valid.esm.js
var reactPropsRegex = /^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;
var isPropValid = /* @__PURE__ */ memoize2(function(prop) {
  return reactPropsRegex.test(prop) || prop.charCodeAt(0) === 111 && prop.charCodeAt(1) === 110 && prop.charCodeAt(2) < 91;
});

// node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.development.esm.js
var isDevelopment4 = true;
var testOmitPropsOnStringTag = isPropValid;
var testOmitPropsOnComponent = function testOmitPropsOnComponent2(key) {
  return key !== "theme";
};
var getDefaultShouldForwardProp = function getDefaultShouldForwardProp2(tag) {
  return typeof tag === "string" && tag.charCodeAt(0) > 96 ? testOmitPropsOnStringTag : testOmitPropsOnComponent;
};
var composeShouldForwardProps = function composeShouldForwardProps2(tag, options, isReal) {
  var shouldForwardProp;
  if (options) {
    var optionsShouldForwardProp = options.shouldForwardProp;
    shouldForwardProp = tag.__emotion_forwardProp && optionsShouldForwardProp ? function(propName) {
      return tag.__emotion_forwardProp(propName) && optionsShouldForwardProp(propName);
    } : optionsShouldForwardProp;
  }
  if (typeof shouldForwardProp !== "function" && isReal) {
    shouldForwardProp = tag.__emotion_forwardProp;
  }
  return shouldForwardProp;
};
var ILLEGAL_ESCAPE_SEQUENCE_ERROR2 = `You have illegal escape sequence in your template literal, most likely inside content's property value.
Because you write your CSS inside a JavaScript string you actually have to do double escaping, so for example "content: '\\00d7';" should become "content: '\\\\00d7';".
You can read more about this here:
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences`;
var Insertion5 = function Insertion6(_ref) {
  var { cache, serialized, isStringTag } = _ref;
  registerStyles(cache, serialized, isStringTag);
  useInsertionEffectAlwaysWithSyncFallback(function() {
    return insertStyles(cache, serialized, isStringTag);
  });
  return null;
};
var createStyled = function createStyled2(tag, options) {
  {
    if (tag === undefined) {
      throw new Error(`You are trying to create a styled element with an undefined component.
You may have forgotten to import it.`);
    }
  }
  var isReal = tag.__emotion_real === tag;
  var baseTag = isReal && tag.__emotion_base || tag;
  var identifierName;
  var targetClassName;
  if (options !== undefined) {
    identifierName = options.label;
    targetClassName = options.target;
  }
  var shouldForwardProp = composeShouldForwardProps(tag, options, isReal);
  var defaultShouldForwardProp = shouldForwardProp || getDefaultShouldForwardProp(baseTag);
  var shouldUseAs = !defaultShouldForwardProp("as");
  return function() {
    var args = arguments;
    var styles = isReal && tag.__emotion_styles !== undefined ? tag.__emotion_styles.slice(0) : [];
    if (identifierName !== undefined) {
      styles.push("label:" + identifierName + ";");
    }
    if (args[0] == null || args[0].raw === undefined) {
      styles.push.apply(styles, args);
    } else {
      var templateStringsArr = args[0];
      if (templateStringsArr[0] === undefined) {
        console.error(ILLEGAL_ESCAPE_SEQUENCE_ERROR2);
      }
      styles.push(templateStringsArr[0]);
      var len = args.length;
      var i = 1;
      for (;i < len; i++) {
        if (templateStringsArr[i] === undefined) {
          console.error(ILLEGAL_ESCAPE_SEQUENCE_ERROR2);
        }
        styles.push(args[i], templateStringsArr[i]);
      }
    }
    var Styled = withEmotionCache(function(props, cache, ref) {
      var FinalTag = shouldUseAs && props.as || baseTag;
      var className = "";
      var classInterpolations = [];
      var mergedProps = props;
      if (props.theme == null) {
        mergedProps = {};
        for (var key in props) {
          mergedProps[key] = props[key];
        }
        mergedProps.theme = React18.useContext(ThemeContext);
      }
      if (typeof props.className === "string") {
        className = getRegisteredStyles(cache.registered, classInterpolations, props.className);
      } else if (props.className != null) {
        className = props.className + " ";
      }
      var serialized = serializeStyles(styles.concat(classInterpolations), cache.registered, mergedProps);
      className += cache.key + "-" + serialized.name;
      if (targetClassName !== undefined) {
        className += " " + targetClassName;
      }
      var finalShouldForwardProp = shouldUseAs && shouldForwardProp === undefined ? getDefaultShouldForwardProp(FinalTag) : defaultShouldForwardProp;
      var newProps = {};
      for (var _key in props) {
        if (shouldUseAs && _key === "as")
          continue;
        if (finalShouldForwardProp(_key)) {
          newProps[_key] = props[_key];
        }
      }
      newProps.className = className;
      if (ref) {
        newProps.ref = ref;
      }
      return /* @__PURE__ */ React18.createElement(React18.Fragment, null, /* @__PURE__ */ React18.createElement(Insertion5, {
        cache,
        serialized,
        isStringTag: typeof FinalTag === "string"
      }), /* @__PURE__ */ React18.createElement(FinalTag, newProps));
    });
    Styled.displayName = identifierName !== undefined ? identifierName : "Styled(" + (typeof baseTag === "string" ? baseTag : baseTag.displayName || baseTag.name || "Component") + ")";
    Styled.defaultProps = tag.defaultProps;
    Styled.__emotion_real = Styled;
    Styled.__emotion_base = baseTag;
    Styled.__emotion_styles = styles;
    Styled.__emotion_forwardProp = shouldForwardProp;
    Object.defineProperty(Styled, "toString", {
      value: function value() {
        if (targetClassName === undefined && isDevelopment4) {
          return "NO_COMPONENT_SELECTOR";
        }
        return "." + targetClassName;
      }
    });
    Styled.withComponent = function(nextTag, nextOptions) {
      var newStyled = createStyled2(nextTag, _extends({}, options, nextOptions, {
        shouldForwardProp: composeShouldForwardProps(Styled, nextOptions, true)
      }));
      return newStyled.apply(undefined, styles);
    };
    return Styled;
  };
};

// node_modules/@emotion/styled/dist/emotion-styled.browser.development.esm.js
var import_react3 = __toESM(require_react(), 1);
var tags = [
  "a",
  "abbr",
  "address",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "bdi",
  "bdo",
  "big",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "cite",
  "code",
  "col",
  "colgroup",
  "data",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "footer",
  "form",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "head",
  "header",
  "hgroup",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "keygen",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "marquee",
  "menu",
  "menuitem",
  "meta",
  "meter",
  "nav",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "picture",
  "pre",
  "progress",
  "q",
  "rp",
  "rt",
  "ruby",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "track",
  "u",
  "ul",
  "var",
  "video",
  "wbr",
  "circle",
  "clipPath",
  "defs",
  "ellipse",
  "foreignObject",
  "g",
  "image",
  "line",
  "linearGradient",
  "mask",
  "path",
  "pattern",
  "polygon",
  "polyline",
  "radialGradient",
  "rect",
  "stop",
  "svg",
  "text",
  "tspan"
];
var styled = createStyled.bind(null);
tags.forEach(function(tagName) {
  styled[tagName] = styled(tagName);
});
// node_modules/@mui/styled-engine/esm/GlobalStyles/GlobalStyles.js
var import_prop_types2 = __toESM(require_prop_types(), 1);
var import_jsx_runtime = __toESM(require_jsx_runtime(), 1);
"use client";
function isEmpty(obj) {
  return obj === undefined || obj === null || Object.keys(obj).length === 0;
}
function GlobalStyles(props) {
  const {
    styles,
    defaultTheme = {}
  } = props;
  const globalStyles = typeof styles === "function" ? (themeInput) => styles(isEmpty(themeInput) ? defaultTheme : themeInput) : styles;
  return /* @__PURE__ */ import_jsx_runtime.jsx(Global, {
    styles: globalStyles
  });
}
GlobalStyles.propTypes = {
  defaultTheme: import_prop_types2.default.object,
  styles: import_prop_types2.default.oneOfType([import_prop_types2.default.array, import_prop_types2.default.string, import_prop_types2.default.object, import_prop_types2.default.func])
};
// node_modules/@mui/styled-engine/esm/index.js
"use client";
function styled2(tag, options) {
  const stylesFactory = styled(tag, options);
  if (true) {
    return (...styles) => {
      const component = typeof tag === "string" ? `"${tag}"` : "component";
      if (styles.length === 0) {
        console.error([`MUI: Seems like you called \`styled(${component})()\` without a \`style\` argument.`, 'You must provide a `styles` argument: `styled("div")(styleYouForgotToPass)`.'].join(`
`));
      } else if (styles.some((style4) => style4 === undefined)) {
        console.error(`MUI: the styled(${component})(...args) API requires all its args to be defined.`);
      }
      return stylesFactory(...styles);
    };
  }
  return stylesFactory;
}
function internal_mutateStyles(tag, processor) {
  if (Array.isArray(tag.__emotion_styles)) {
    tag.__emotion_styles = processor(tag.__emotion_styles);
  }
}
var wrapper = [];
function internal_serializeStyles(styles) {
  wrapper[0] = styles;
  return serializeStyles(wrapper);
}
// node_modules/@mui/system/esm/GlobalStyles/GlobalStyles.js
var import_prop_types3 = __toESM(require_prop_types(), 1);

// node_modules/@mui/system/esm/createBreakpoints/createBreakpoints.js
var sortBreakpointsValues = (values2) => {
  const breakpointsAsArray = Object.keys(values2).map((key) => ({
    key,
    val: values2[key]
  })) || [];
  breakpointsAsArray.sort((breakpoint1, breakpoint2) => breakpoint1.val - breakpoint2.val);
  return breakpointsAsArray.reduce((acc, obj) => {
    return {
      ...acc,
      [obj.key]: obj.val
    };
  }, {});
};
function createBreakpoints(breakpoints) {
  const {
    values: values2 = {
      xs: 0,
      sm: 600,
      md: 900,
      lg: 1200,
      xl: 1536
    },
    unit = "px",
    step = 5,
    ...other
  } = breakpoints;
  const sortedValues = sortBreakpointsValues(values2);
  const keys = Object.keys(sortedValues);
  function up(key) {
    const value = typeof values2[key] === "number" ? values2[key] : key;
    return `@media (min-width:${value}${unit})`;
  }
  function down(key) {
    const value = typeof values2[key] === "number" ? values2[key] : key;
    return `@media (max-width:${value - step / 100}${unit})`;
  }
  function between(start, end) {
    const endIndex = keys.indexOf(end);
    return `@media (min-width:${typeof values2[start] === "number" ? values2[start] : start}${unit}) and ` + `(max-width:${(endIndex !== -1 && typeof values2[keys[endIndex]] === "number" ? values2[keys[endIndex]] : end) - step / 100}${unit})`;
  }
  function only(key) {
    if (keys.indexOf(key) + 1 < keys.length) {
      return between(key, keys[keys.indexOf(key) + 1]);
    }
    return up(key);
  }
  function not(key) {
    const keyIndex = keys.indexOf(key);
    if (keyIndex === 0) {
      return up(keys[1]);
    }
    if (keyIndex === keys.length - 1) {
      return down(keys[keyIndex]);
    }
    return between(key, keys[keys.indexOf(key) + 1]).replace("@media", "@media not all and");
  }
  return {
    keys,
    values: sortedValues,
    up,
    down,
    between,
    only,
    not,
    unit,
    ...other
  };
}

// node_modules/@mui/system/esm/createTheme/shape.js
var shape = {
  borderRadius: 4
};
var shape_default = shape;

// node_modules/@mui/system/esm/createTheme/createSpacing.js
function createSpacing(spacingInput = 8, transform = createUnarySpacing({
  spacing: spacingInput
})) {
  if (spacingInput.mui) {
    return spacingInput;
  }
  const spacing2 = (...argsInput) => {
    if (true) {
      if (!(argsInput.length <= 4)) {
        console.error(`MUI: Too many arguments provided, expected between 0 and 4, got ${argsInput.length}`);
      }
    }
    const args = argsInput.length === 0 ? [1] : argsInput;
    return args.map((argument) => {
      const output = transform(argument);
      return typeof output === "number" ? `${output}px` : output;
    }).join(" ");
  };
  spacing2.mui = true;
  return spacing2;
}

// node_modules/@mui/system/esm/createTheme/applyStyles.js
function applyStyles(key, styles) {
  const theme = this;
  if (theme.vars) {
    if (!theme.colorSchemes?.[key] || typeof theme.getColorSchemeSelector !== "function") {
      return {};
    }
    let selector = theme.getColorSchemeSelector(key);
    if (selector === "&") {
      return styles;
    }
    if (selector.includes("data-") || selector.includes(".")) {
      selector = `*:where(${selector.replace(/\s*&$/, "")}) &`;
    }
    return {
      [selector]: styles
    };
  }
  if (theme.palette.mode === key) {
    return styles;
  }
  return {};
}

// node_modules/@mui/system/esm/createTheme/createTheme.js
function createTheme(options = {}, ...args) {
  const {
    breakpoints: breakpointsInput = {},
    palette: paletteInput = {},
    spacing: spacingInput,
    shape: shapeInput = {},
    ...other
  } = options;
  const breakpoints = createBreakpoints(breakpointsInput);
  const spacing2 = createSpacing(spacingInput);
  let muiTheme = deepmerge({
    breakpoints,
    direction: "ltr",
    components: {},
    palette: {
      mode: "light",
      ...paletteInput
    },
    spacing: spacing2,
    shape: {
      ...shape_default,
      ...shapeInput
    }
  }, other);
  muiTheme = cssContainerQueries(muiTheme);
  muiTheme.applyStyles = applyStyles;
  muiTheme = args.reduce((acc, argument) => deepmerge(acc, argument), muiTheme);
  muiTheme.unstable_sxConfig = {
    ...defaultSxConfig_default,
    ...other?.unstable_sxConfig
  };
  muiTheme.unstable_sx = function sx(props) {
    return styleFunctionSx_default({
      sx: props,
      theme: this
    });
  };
  return muiTheme;
}
var createTheme_default = createTheme;
// node_modules/@mui/system/esm/useThemeWithoutDefault/useThemeWithoutDefault.js
var React19 = __toESM(require_react(), 1);
"use client";
function isObjectEmpty(obj) {
  return Object.keys(obj).length === 0;
}
function useTheme2(defaultTheme = null) {
  const contextTheme = React19.useContext(ThemeContext);
  return !contextTheme || isObjectEmpty(contextTheme) ? defaultTheme : contextTheme;
}
var useThemeWithoutDefault_default = useTheme2;
// node_modules/@mui/system/esm/useTheme/useTheme.js
"use client";
var systemDefaultTheme = createTheme_default();
function useTheme3(defaultTheme = systemDefaultTheme) {
  return useThemeWithoutDefault_default(defaultTheme);
}
var useTheme_default = useTheme3;
// node_modules/@mui/system/esm/GlobalStyles/GlobalStyles.js
var import_jsx_runtime2 = __toESM(require_jsx_runtime(), 1);
"use client";
function wrapGlobalLayer(styles) {
  const serialized = internal_serializeStyles(styles);
  if (styles !== serialized && serialized.styles) {
    if (!serialized.styles.match(/^@layer\s+[^{]*$/)) {
      serialized.styles = `@layer global{${serialized.styles}}`;
    }
    return serialized;
  }
  return styles;
}
function GlobalStyles2({
  styles,
  themeId,
  defaultTheme = {}
}) {
  const upperTheme = useTheme_default(defaultTheme);
  const resolvedTheme = themeId ? upperTheme[themeId] || upperTheme : upperTheme;
  let globalStyles = typeof styles === "function" ? styles(resolvedTheme) : styles;
  if (resolvedTheme.modularCssLayers) {
    if (Array.isArray(globalStyles)) {
      globalStyles = globalStyles.map((styleArg) => {
        if (typeof styleArg === "function") {
          return wrapGlobalLayer(styleArg(resolvedTheme));
        }
        return wrapGlobalLayer(styleArg);
      });
    } else {
      globalStyles = wrapGlobalLayer(globalStyles);
    }
  }
  return /* @__PURE__ */ import_jsx_runtime2.jsx(GlobalStyles, {
    styles: globalStyles
  });
}
GlobalStyles2.propTypes = {
  defaultTheme: import_prop_types3.default.object,
  styles: import_prop_types3.default.oneOfType([import_prop_types3.default.array, import_prop_types3.default.func, import_prop_types3.default.number, import_prop_types3.default.object, import_prop_types3.default.string, import_prop_types3.default.bool]),
  themeId: import_prop_types3.default.string
};
var GlobalStyles_default = GlobalStyles2;
// node_modules/@mui/utils/esm/ClassNameGenerator/ClassNameGenerator.js
var defaultGenerator = (componentName) => componentName;
var createClassNameGenerator = () => {
  let generate = defaultGenerator;
  return {
    configure(generator) {
      generate = generator;
    },
    generate(componentName) {
      return generate(componentName);
    },
    reset() {
      generate = defaultGenerator;
    }
  };
};
var ClassNameGenerator = createClassNameGenerator();
var ClassNameGenerator_default = ClassNameGenerator;
// node_modules/@mui/system/esm/createBox/createBox.js
var React20 = __toESM(require_react(), 1);
var import_jsx_runtime3 = __toESM(require_jsx_runtime(), 1);
"use client";
function createBox(options = {}) {
  const {
    themeId,
    defaultTheme,
    defaultClassName = "MuiBox-root",
    generateClassName
  } = options;
  const BoxRoot = styled2("div", {
    shouldForwardProp: (prop) => prop !== "theme" && prop !== "sx" && prop !== "as"
  })(styleFunctionSx_default);
  const Box = /* @__PURE__ */ React20.forwardRef(function Box(inProps, ref) {
    const theme = useTheme_default(defaultTheme);
    const {
      className,
      component = "div",
      ...other
    } = extendSxProp(inProps);
    return /* @__PURE__ */ import_jsx_runtime3.jsx(BoxRoot, {
      as: component,
      ref,
      className: clsx_default(className, generateClassName ? generateClassName(defaultClassName) : defaultClassName),
      theme: themeId ? theme[themeId] || theme : theme,
      ...other
    });
  });
  return Box;
}
// node_modules/@mui/utils/esm/generateUtilityClass/generateUtilityClass.js
var globalStateClasses = {
  active: "active",
  checked: "checked",
  completed: "completed",
  disabled: "disabled",
  error: "error",
  expanded: "expanded",
  focused: "focused",
  focusVisible: "focusVisible",
  open: "open",
  readOnly: "readOnly",
  required: "required",
  selected: "selected"
};
function generateUtilityClass(componentName, slot, globalStatePrefix = "Mui") {
  const globalStateClass = globalStateClasses[slot];
  return globalStateClass ? `${globalStatePrefix}-${globalStateClass}` : `${ClassNameGenerator_default.generate(componentName)}-${slot}`;
}
// node_modules/@mui/utils/esm/generateUtilityClasses/generateUtilityClasses.js
function generateUtilityClasses(componentName, slots, globalStatePrefix = "Mui") {
  const result = {};
  slots.forEach((slot) => {
    result[slot] = generateUtilityClass(componentName, slot, globalStatePrefix);
  });
  return result;
}
// node_modules/@mui/utils/esm/getDisplayName/getDisplayName.js
var import_react_is2 = __toESM(require_react_is2(), 1);
function getFunctionComponentName(Component4, fallback = "") {
  return Component4.displayName || Component4.name || fallback;
}
function getWrappedName(outerType, innerType, wrapperName) {
  const functionName = getFunctionComponentName(innerType);
  return outerType.displayName || (functionName !== "" ? `${wrapperName}(${functionName})` : wrapperName);
}
function getDisplayName(Component4) {
  if (Component4 == null) {
    return;
  }
  if (typeof Component4 === "string") {
    return Component4;
  }
  if (typeof Component4 === "function") {
    return getFunctionComponentName(Component4, "Component");
  }
  if (typeof Component4 === "object") {
    switch (Component4.$$typeof) {
      case import_react_is2.ForwardRef:
        return getWrappedName(Component4, Component4.render, "ForwardRef");
      case import_react_is2.Memo:
        return getWrappedName(Component4, Component4.type, "memo");
      default:
        return;
    }
  }
  return;
}
// node_modules/@mui/system/esm/preprocessStyles.js
function preprocessStyles(input) {
  const {
    variants,
    ...style4
  } = input;
  const result = {
    variants,
    style: internal_serializeStyles(style4),
    isProcessed: true
  };
  if (result.style === style4) {
    return result;
  }
  if (variants) {
    variants.forEach((variant) => {
      if (typeof variant.style !== "function") {
        variant.style = internal_serializeStyles(variant.style);
      }
    });
  }
  return result;
}

// node_modules/@mui/system/esm/createStyled/createStyled.js
var systemDefaultTheme2 = createTheme_default();
function shouldForwardProp(prop) {
  return prop !== "ownerState" && prop !== "theme" && prop !== "sx" && prop !== "as";
}
function shallowLayer(serialized, layerName) {
  if (layerName && serialized && typeof serialized === "object" && serialized.styles && !serialized.styles.startsWith("@layer")) {
    serialized.styles = `@layer ${layerName}{${String(serialized.styles)}}`;
  }
  return serialized;
}
function defaultOverridesResolver(slot) {
  if (!slot) {
    return null;
  }
  return (_props, styles) => styles[slot];
}
function attachTheme(props, themeId, defaultTheme) {
  props.theme = isObjectEmpty2(props.theme) ? defaultTheme : props.theme[themeId] || props.theme;
}
function processStyle(props, style4, layerName) {
  const resolvedStyle = typeof style4 === "function" ? style4(props) : style4;
  if (Array.isArray(resolvedStyle)) {
    return resolvedStyle.flatMap((subStyle) => processStyle(props, subStyle, layerName));
  }
  if (Array.isArray(resolvedStyle?.variants)) {
    let rootStyle;
    if (resolvedStyle.isProcessed) {
      rootStyle = layerName ? shallowLayer(resolvedStyle.style, layerName) : resolvedStyle.style;
    } else {
      const {
        variants,
        ...otherStyles
      } = resolvedStyle;
      rootStyle = layerName ? shallowLayer(internal_serializeStyles(otherStyles), layerName) : otherStyles;
    }
    return processStyleVariants(props, resolvedStyle.variants, [rootStyle], layerName);
  }
  if (resolvedStyle?.isProcessed) {
    return layerName ? shallowLayer(internal_serializeStyles(resolvedStyle.style), layerName) : resolvedStyle.style;
  }
  return layerName ? shallowLayer(internal_serializeStyles(resolvedStyle), layerName) : resolvedStyle;
}
function processStyleVariants(props, variants, results = [], layerName = undefined) {
  let mergedState;
  variantLoop:
    for (let i = 0;i < variants.length; i += 1) {
      const variant = variants[i];
      if (typeof variant.props === "function") {
        mergedState ??= {
          ...props,
          ...props.ownerState,
          ownerState: props.ownerState
        };
        if (!variant.props(mergedState)) {
          continue;
        }
      } else {
        for (const key in variant.props) {
          if (props[key] !== variant.props[key] && props.ownerState?.[key] !== variant.props[key]) {
            continue variantLoop;
          }
        }
      }
      if (typeof variant.style === "function") {
        mergedState ??= {
          ...props,
          ...props.ownerState,
          ownerState: props.ownerState
        };
        results.push(layerName ? shallowLayer(internal_serializeStyles(variant.style(mergedState)), layerName) : variant.style(mergedState));
      } else {
        results.push(layerName ? shallowLayer(internal_serializeStyles(variant.style), layerName) : variant.style);
      }
    }
  return results;
}
function createStyled3(input = {}) {
  const {
    themeId,
    defaultTheme = systemDefaultTheme2,
    rootShouldForwardProp = shouldForwardProp,
    slotShouldForwardProp = shouldForwardProp
  } = input;
  function styleAttachTheme(props) {
    attachTheme(props, themeId, defaultTheme);
  }
  const styled3 = (tag, inputOptions = {}) => {
    internal_mutateStyles(tag, (styles) => styles.filter((style4) => style4 !== styleFunctionSx_default));
    const {
      name: componentName,
      slot: componentSlot,
      skipVariantsResolver: inputSkipVariantsResolver,
      skipSx: inputSkipSx,
      overridesResolver = defaultOverridesResolver(lowercaseFirstLetter(componentSlot)),
      ...options
    } = inputOptions;
    const layerName = componentName && componentName.startsWith("Mui") || !!componentSlot ? "components" : "custom";
    const skipVariantsResolver = inputSkipVariantsResolver !== undefined ? inputSkipVariantsResolver : componentSlot && componentSlot !== "Root" && componentSlot !== "root" || false;
    const skipSx = inputSkipSx || false;
    let shouldForwardPropOption = shouldForwardProp;
    if (componentSlot === "Root" || componentSlot === "root") {
      shouldForwardPropOption = rootShouldForwardProp;
    } else if (componentSlot) {
      shouldForwardPropOption = slotShouldForwardProp;
    } else if (isStringTag(tag)) {
      shouldForwardPropOption = undefined;
    }
    const defaultStyledResolver = styled2(tag, {
      shouldForwardProp: shouldForwardPropOption,
      label: generateStyledLabel(componentName, componentSlot),
      ...options
    });
    const transformStyle = (style4) => {
      if (style4.__emotion_real === style4) {
        return style4;
      }
      if (typeof style4 === "function") {
        return function styleFunctionProcessor(props) {
          return processStyle(props, style4, props.theme.modularCssLayers ? layerName : undefined);
        };
      }
      if (isPlainObject2(style4)) {
        const serialized = preprocessStyles(style4);
        return function styleObjectProcessor(props) {
          if (!serialized.variants) {
            return props.theme.modularCssLayers ? shallowLayer(serialized.style, layerName) : serialized.style;
          }
          return processStyle(props, serialized, props.theme.modularCssLayers ? layerName : undefined);
        };
      }
      return style4;
    };
    const muiStyledResolver = (...expressionsInput) => {
      const expressionsHead = [];
      const expressionsBody = expressionsInput.map(transformStyle);
      const expressionsTail = [];
      expressionsHead.push(styleAttachTheme);
      if (componentName && overridesResolver) {
        expressionsTail.push(function styleThemeOverrides(props) {
          const theme = props.theme;
          const styleOverrides = theme.components?.[componentName]?.styleOverrides;
          if (!styleOverrides) {
            return null;
          }
          const resolvedStyleOverrides = {};
          for (const slotKey in styleOverrides) {
            resolvedStyleOverrides[slotKey] = processStyle(props, styleOverrides[slotKey], props.theme.modularCssLayers ? "theme" : undefined);
          }
          return overridesResolver(props, resolvedStyleOverrides);
        });
      }
      if (componentName && !skipVariantsResolver) {
        expressionsTail.push(function styleThemeVariants(props) {
          const theme = props.theme;
          const themeVariants = theme?.components?.[componentName]?.variants;
          if (!themeVariants) {
            return null;
          }
          return processStyleVariants(props, themeVariants, [], props.theme.modularCssLayers ? "theme" : undefined);
        });
      }
      if (!skipSx) {
        expressionsTail.push(styleFunctionSx_default);
      }
      if (Array.isArray(expressionsBody[0])) {
        const inputStrings = expressionsBody.shift();
        const placeholdersHead = new Array(expressionsHead.length).fill("");
        const placeholdersTail = new Array(expressionsTail.length).fill("");
        let outputStrings;
        {
          outputStrings = [...placeholdersHead, ...inputStrings, ...placeholdersTail];
          outputStrings.raw = [...placeholdersHead, ...inputStrings.raw, ...placeholdersTail];
        }
        expressionsHead.unshift(outputStrings);
      }
      const expressions = [...expressionsHead, ...expressionsBody, ...expressionsTail];
      const Component4 = defaultStyledResolver(...expressions);
      if (tag.muiName) {
        Component4.muiName = tag.muiName;
      }
      if (true) {
        Component4.displayName = generateDisplayName(componentName, componentSlot, tag);
      }
      return Component4;
    };
    if (defaultStyledResolver.withConfig) {
      muiStyledResolver.withConfig = defaultStyledResolver.withConfig;
    }
    return muiStyledResolver;
  };
  return styled3;
}
function generateDisplayName(componentName, componentSlot, tag) {
  if (componentName) {
    return `${componentName}${capitalize(componentSlot || "")}`;
  }
  return `Styled(${getDisplayName(tag)})`;
}
function generateStyledLabel(componentName, componentSlot) {
  let label;
  if (true) {
    if (componentName) {
      label = `${componentName}-${lowercaseFirstLetter(componentSlot || "Root")}`;
    }
  }
  return label;
}
function isObjectEmpty2(object) {
  for (const _ in object) {
    return false;
  }
  return true;
}
function isStringTag(tag) {
  return typeof tag === "string" && tag.charCodeAt(0) > 96;
}
function lowercaseFirstLetter(string) {
  if (!string) {
    return string;
  }
  return string.charAt(0).toLowerCase() + string.slice(1);
}
// node_modules/@mui/system/esm/styled/styled.js
var styled3 = createStyled3();
var styled_default = styled3;
// node_modules/@mui/utils/esm/resolveProps/resolveProps.js
function resolveProps(defaultProps, props, mergeClassNameAndStyle = false) {
  const output = {
    ...props
  };
  for (const key in defaultProps) {
    if (Object.prototype.hasOwnProperty.call(defaultProps, key)) {
      const propName = key;
      if (propName === "components" || propName === "slots") {
        output[propName] = {
          ...defaultProps[propName],
          ...output[propName]
        };
      } else if (propName === "componentsProps" || propName === "slotProps") {
        const defaultSlotProps = defaultProps[propName];
        const slotProps = props[propName];
        if (!slotProps) {
          output[propName] = defaultSlotProps || {};
        } else if (!defaultSlotProps) {
          output[propName] = slotProps;
        } else {
          output[propName] = {
            ...slotProps
          };
          for (const slotKey in defaultSlotProps) {
            if (Object.prototype.hasOwnProperty.call(defaultSlotProps, slotKey)) {
              const slotPropName = slotKey;
              output[propName][slotPropName] = resolveProps(defaultSlotProps[slotPropName], slotProps[slotPropName], mergeClassNameAndStyle);
            }
          }
        }
      } else if (propName === "className" && mergeClassNameAndStyle && props.className) {
        output.className = clsx_default(defaultProps?.className, props?.className);
      } else if (propName === "style" && mergeClassNameAndStyle && props.style) {
        output.style = {
          ...defaultProps?.style,
          ...props?.style
        };
      } else if (output[propName] === undefined) {
        output[propName] = defaultProps[propName];
      }
    }
  }
  return output;
}
// node_modules/@mui/system/esm/useThemeProps/getThemeProps.js
function getThemeProps(params) {
  const {
    theme,
    name,
    props
  } = params;
  if (!theme || !theme.components || !theme.components[name] || !theme.components[name].defaultProps) {
    return props;
  }
  return resolveProps(theme.components[name].defaultProps, props);
}

// node_modules/@mui/system/esm/useThemeProps/useThemeProps.js
"use client";
function useThemeProps({
  props,
  name,
  defaultTheme,
  themeId
}) {
  let theme = useTheme_default(defaultTheme);
  if (themeId) {
    theme = theme[themeId] || theme;
  }
  return getThemeProps({
    theme,
    name,
    props
  });
}
// node_modules/@mui/system/esm/useMediaQuery/useMediaQuery.js
var React23 = __toESM(require_react(), 1);

// node_modules/@mui/utils/esm/useEnhancedEffect/useEnhancedEffect.js
var React21 = __toESM(require_react(), 1);
"use client";
var useEnhancedEffect = typeof window !== "undefined" ? React21.useLayoutEffect : React21.useEffect;
var useEnhancedEffect_default = useEnhancedEffect;
// node_modules/@mui/system/esm/useMediaQuery/useMediaQuery.js
"use client";
function useMediaQueryOld(query, defaultMatches, matchMedia, ssrMatchMedia, noSsr) {
  const [match2, setMatch] = React23.useState(() => {
    if (noSsr && matchMedia) {
      return matchMedia(query).matches;
    }
    if (ssrMatchMedia) {
      return ssrMatchMedia(query).matches;
    }
    return defaultMatches;
  });
  useEnhancedEffect_default(() => {
    if (!matchMedia) {
      return;
    }
    const queryList = matchMedia(query);
    const updateMatch = () => {
      setMatch(queryList.matches);
    };
    updateMatch();
    queryList.addEventListener("change", updateMatch);
    return () => {
      queryList.removeEventListener("change", updateMatch);
    };
  }, [query, matchMedia]);
  return match2;
}
var safeReact = {
  ...React23
};
var maybeReactUseSyncExternalStore = safeReact.useSyncExternalStore;
function useMediaQueryNew(query, defaultMatches, matchMedia, ssrMatchMedia, noSsr) {
  const getDefaultSnapshot = React23.useCallback(() => defaultMatches, [defaultMatches]);
  const getServerSnapshot = React23.useMemo(() => {
    if (noSsr && matchMedia) {
      return () => matchMedia(query).matches;
    }
    if (ssrMatchMedia !== null) {
      const {
        matches
      } = ssrMatchMedia(query);
      return () => matches;
    }
    return getDefaultSnapshot;
  }, [getDefaultSnapshot, query, ssrMatchMedia, noSsr, matchMedia]);
  const [getSnapshot, subscribe] = React23.useMemo(() => {
    if (matchMedia === null) {
      return [getDefaultSnapshot, () => () => {}];
    }
    const mediaQueryList = matchMedia(query);
    return [() => mediaQueryList.matches, (notify) => {
      mediaQueryList.addEventListener("change", notify);
      return () => {
        mediaQueryList.removeEventListener("change", notify);
      };
    }];
  }, [getDefaultSnapshot, matchMedia, query]);
  const match2 = maybeReactUseSyncExternalStore(subscribe, getSnapshot, getServerSnapshot);
  return match2;
}
function unstable_createUseMediaQuery(params = {}) {
  const {
    themeId
  } = params;
  return function useMediaQuery(queryInput, options = {}) {
    let theme = useThemeWithoutDefault_default();
    if (theme && themeId) {
      theme = theme[themeId] || theme;
    }
    const supportMatchMedia = typeof window !== "undefined" && typeof window.matchMedia !== "undefined";
    const {
      defaultMatches = false,
      matchMedia = supportMatchMedia ? window.matchMedia : null,
      ssrMatchMedia = null,
      noSsr = false
    } = getThemeProps({
      name: "MuiUseMediaQuery",
      props: options,
      theme
    });
    if (true) {
      if (typeof queryInput === "function" && theme === null) {
        console.error(["MUI: The `query` argument provided is invalid.", "You are providing a function without a theme in the context.", "One of the parent elements needs to use a ThemeProvider."].join(`
`));
      }
    }
    let query = typeof queryInput === "function" ? queryInput(theme) : queryInput;
    query = query.replace(/^@media( ?)/m, "");
    if (query.includes("print")) {
      console.warn([`MUI: You have provided a \`print\` query to the \`useMediaQuery\` hook.`, "Using the print media query to modify print styles can lead to unexpected results.", "Consider using the `displayPrint` field in the `sx` prop instead.", "More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join(`
`));
    }
    const useMediaQueryImplementation = maybeReactUseSyncExternalStore !== undefined ? useMediaQueryNew : useMediaQueryOld;
    const match2 = useMediaQueryImplementation(query, defaultMatches, matchMedia, ssrMatchMedia, noSsr);
    if (true) {
      React23.useDebugValue({
        query,
        match: match2
      });
    }
    return match2;
  };
}
var useMediaQuery = unstable_createUseMediaQuery();

// node_modules/@mui/utils/esm/clamp/clamp.js
function clamp(val, min = Number.MIN_SAFE_INTEGER, max = Number.MAX_SAFE_INTEGER) {
  return Math.max(min, Math.min(val, max));
}
var clamp_default = clamp;
// node_modules/@mui/system/esm/colorManipulator/colorManipulator.js
function clampWrapper(value, min = 0, max = 1) {
  if (true) {
    if (value < min || value > max) {
      console.error(`MUI: The value provided ${value} is out of range [${min}, ${max}].`);
    }
  }
  return clamp_default(value, min, max);
}
function hexToRgb(color2) {
  color2 = color2.slice(1);
  const re = new RegExp(`.{1,${color2.length >= 6 ? 2 : 1}}`, "g");
  let colors = color2.match(re);
  if (colors && colors[0].length === 1) {
    colors = colors.map((n) => n + n);
  }
  if (true) {
    if (color2.length !== color2.trim().length) {
      console.error(`MUI: The color: "${color2}" is invalid. Make sure the color input doesn't contain leading/trailing space.`);
    }
  }
  return colors ? `rgb${colors.length === 4 ? "a" : ""}(${colors.map((n, index) => {
    return index < 3 ? parseInt(n, 16) : Math.round(parseInt(n, 16) / 255 * 1000) / 1000;
  }).join(", ")})` : "";
}
function decomposeColor(color2) {
  if (color2.type) {
    return color2;
  }
  if (color2.charAt(0) === "#") {
    return decomposeColor(hexToRgb(color2));
  }
  const marker = color2.indexOf("(");
  const type = color2.substring(0, marker);
  if (!["rgb", "rgba", "hsl", "hsla", "color"].includes(type)) {
    throw new Error(`MUI: Unsupported \`${color2}\` color.
` + "The following formats are supported: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().");
  }
  let values2 = color2.substring(marker + 1, color2.length - 1);
  let colorSpace;
  if (type === "color") {
    values2 = values2.split(" ");
    colorSpace = values2.shift();
    if (values2.length === 4 && values2[3].charAt(0) === "/") {
      values2[3] = values2[3].slice(1);
    }
    if (!["srgb", "display-p3", "a98-rgb", "prophoto-rgb", "rec-2020"].includes(colorSpace)) {
      throw new Error(`MUI: unsupported \`${colorSpace}\` color space.
` + "The following color spaces are supported: srgb, display-p3, a98-rgb, prophoto-rgb, rec-2020.");
    }
  } else {
    values2 = values2.split(",");
  }
  values2 = values2.map((value) => parseFloat(value));
  return {
    type,
    values: values2,
    colorSpace
  };
}
var colorChannel = (color2) => {
  const decomposedColor = decomposeColor(color2);
  return decomposedColor.values.slice(0, 3).map((val, idx) => decomposedColor.type.includes("hsl") && idx !== 0 ? `${val}%` : val).join(" ");
};
var private_safeColorChannel = (color2, warning2) => {
  try {
    return colorChannel(color2);
  } catch (error) {
    if (warning2 && true) {
      console.warn(warning2);
    }
    return color2;
  }
};
function recomposeColor(color2) {
  const {
    type,
    colorSpace
  } = color2;
  let {
    values: values2
  } = color2;
  if (type.includes("rgb")) {
    values2 = values2.map((n, i) => i < 3 ? parseInt(n, 10) : n);
  } else if (type.includes("hsl")) {
    values2[1] = `${values2[1]}%`;
    values2[2] = `${values2[2]}%`;
  }
  if (type.includes("color")) {
    values2 = `${colorSpace} ${values2.join(" ")}`;
  } else {
    values2 = `${values2.join(", ")}`;
  }
  return `${type}(${values2})`;
}
function hslToRgb(color2) {
  color2 = decomposeColor(color2);
  const {
    values: values2
  } = color2;
  const h = values2[0];
  const s = values2[1] / 100;
  const l = values2[2] / 100;
  const a = s * Math.min(l, 1 - l);
  const f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);
  let type = "rgb";
  const rgb = [Math.round(f(0) * 255), Math.round(f(8) * 255), Math.round(f(4) * 255)];
  if (color2.type === "hsla") {
    type += "a";
    rgb.push(values2[3]);
  }
  return recomposeColor({
    type,
    values: rgb
  });
}
function getLuminance(color2) {
  color2 = decomposeColor(color2);
  let rgb = color2.type === "hsl" || color2.type === "hsla" ? decomposeColor(hslToRgb(color2)).values : color2.values;
  rgb = rgb.map((val) => {
    if (color2.type !== "color") {
      val /= 255;
    }
    return val <= 0.03928 ? val / 12.92 : ((val + 0.055) / 1.055) ** 2.4;
  });
  return Number((0.2126 * rgb[0] + 0.7152 * rgb[1] + 0.0722 * rgb[2]).toFixed(3));
}
function getContrastRatio(foreground, background) {
  const lumA = getLuminance(foreground);
  const lumB = getLuminance(background);
  return (Math.max(lumA, lumB) + 0.05) / (Math.min(lumA, lumB) + 0.05);
}
function alpha(color2, value) {
  color2 = decomposeColor(color2);
  value = clampWrapper(value);
  if (color2.type === "rgb" || color2.type === "hsl") {
    color2.type += "a";
  }
  if (color2.type === "color") {
    color2.values[3] = `/${value}`;
  } else {
    color2.values[3] = value;
  }
  return recomposeColor(color2);
}
function private_safeAlpha(color2, value, warning2) {
  try {
    return alpha(color2, value);
  } catch (error) {
    if (warning2 && true) {
      console.warn(warning2);
    }
    return color2;
  }
}
function darken(color2, coefficient) {
  color2 = decomposeColor(color2);
  coefficient = clampWrapper(coefficient);
  if (color2.type.includes("hsl")) {
    color2.values[2] *= 1 - coefficient;
  } else if (color2.type.includes("rgb") || color2.type.includes("color")) {
    for (let i = 0;i < 3; i += 1) {
      color2.values[i] *= 1 - coefficient;
    }
  }
  return recomposeColor(color2);
}
function private_safeDarken(color2, coefficient, warning2) {
  try {
    return darken(color2, coefficient);
  } catch (error) {
    if (warning2 && true) {
      console.warn(warning2);
    }
    return color2;
  }
}
function lighten(color2, coefficient) {
  color2 = decomposeColor(color2);
  coefficient = clampWrapper(coefficient);
  if (color2.type.includes("hsl")) {
    color2.values[2] += (100 - color2.values[2]) * coefficient;
  } else if (color2.type.includes("rgb")) {
    for (let i = 0;i < 3; i += 1) {
      color2.values[i] += (255 - color2.values[i]) * coefficient;
    }
  } else if (color2.type.includes("color")) {
    for (let i = 0;i < 3; i += 1) {
      color2.values[i] += (1 - color2.values[i]) * coefficient;
    }
  }
  return recomposeColor(color2);
}
function private_safeLighten(color2, coefficient, warning2) {
  try {
    return lighten(color2, coefficient);
  } catch (error) {
    if (warning2 && true) {
      console.warn(warning2);
    }
    return color2;
  }
}
function emphasize(color2, coefficient = 0.15) {
  return getLuminance(color2) > 0.5 ? darken(color2, coefficient) : lighten(color2, coefficient);
}
function private_safeEmphasize(color2, coefficient, warning2) {
  try {
    return emphasize(color2, coefficient);
  } catch (error) {
    if (warning2 && true) {
      console.warn(warning2);
    }
    return color2;
  }
}
// node_modules/@mui/system/esm/ThemeProvider/ThemeProvider.js
var React31 = __toESM(require_react(), 1);
var import_prop_types7 = __toESM(require_prop_types(), 1);

// node_modules/@mui/private-theming/esm/ThemeProvider/ThemeProvider.js
var React27 = __toESM(require_react(), 1);
var import_prop_types4 = __toESM(require_prop_types(), 1);

// node_modules/@mui/utils/esm/exactProp/exactProp.js
var specialProperty = "exact-prop: ";
function exactProp(propTypes) {
  if (false) {}
  return {
    ...propTypes,
    [specialProperty]: (props) => {
      const unsupportedProps = Object.keys(props).filter((prop) => !propTypes.hasOwnProperty(prop));
      if (unsupportedProps.length > 0) {
        return new Error(`The following props are not supported: ${unsupportedProps.map((prop) => `\`${prop}\``).join(", ")}. Please remove them.`);
      }
      return null;
    }
  };
}
// node_modules/@mui/private-theming/esm/useTheme/ThemeContext.js
var React25 = __toESM(require_react(), 1);
"use client";
var ThemeContext2 = /* @__PURE__ */ React25.createContext(null);
if (true) {
  ThemeContext2.displayName = "ThemeContext";
}
var ThemeContext_default = ThemeContext2;

// node_modules/@mui/private-theming/esm/useTheme/useTheme.js
var React26 = __toESM(require_react(), 1);
function useTheme5() {
  const theme = React26.useContext(ThemeContext_default);
  if (true) {
    React26.useDebugValue(theme);
  }
  return theme;
}
// node_modules/@mui/private-theming/esm/ThemeProvider/nested.js
var hasSymbol = typeof Symbol === "function" && Symbol.for;
var nested_default = hasSymbol ? Symbol.for("mui.nested") : "__THEME_NESTED__";

// node_modules/@mui/private-theming/esm/ThemeProvider/ThemeProvider.js
var import_jsx_runtime4 = __toESM(require_jsx_runtime(), 1);
function mergeOuterLocalTheme(outerTheme, localTheme) {
  if (typeof localTheme === "function") {
    const mergedTheme = localTheme(outerTheme);
    if (true) {
      if (!mergedTheme) {
        console.error(["MUI: You should return an object from your theme function, i.e.", "<ThemeProvider theme={() => ({})} />"].join(`
`));
      }
    }
    return mergedTheme;
  }
  return {
    ...outerTheme,
    ...localTheme
  };
}
function ThemeProvider2(props) {
  const {
    children,
    theme: localTheme
  } = props;
  const outerTheme = useTheme5();
  if (true) {
    if (outerTheme === null && typeof localTheme === "function") {
      console.error(["MUI: You are providing a theme function prop to the ThemeProvider component:", "<ThemeProvider theme={outerTheme => outerTheme} />", "", "However, no outer theme is present.", "Make sure a theme is already injected higher in the React tree " + "or provide a theme object."].join(`
`));
    }
  }
  const theme = React27.useMemo(() => {
    const output = outerTheme === null ? {
      ...localTheme
    } : mergeOuterLocalTheme(outerTheme, localTheme);
    if (output != null) {
      output[nested_default] = outerTheme !== null;
    }
    return output;
  }, [localTheme, outerTheme]);
  return /* @__PURE__ */ import_jsx_runtime4.jsx(ThemeContext_default.Provider, {
    value: theme,
    children
  });
}
ThemeProvider2.propTypes = {
  children: import_prop_types4.default.node,
  theme: import_prop_types4.default.oneOfType([import_prop_types4.default.object, import_prop_types4.default.func]).isRequired
};
if (true) {
  ThemeProvider2.propTypes = exactProp(ThemeProvider2.propTypes);
}
var ThemeProvider_default = ThemeProvider2;
// node_modules/@mui/system/esm/RtlProvider/index.js
var React28 = __toESM(require_react(), 1);
var import_prop_types5 = __toESM(require_prop_types(), 1);
var import_jsx_runtime5 = __toESM(require_jsx_runtime(), 1);
"use client";
var RtlContext = /* @__PURE__ */ React28.createContext();
function RtlProvider({
  value,
  ...props
}) {
  return /* @__PURE__ */ import_jsx_runtime5.jsx(RtlContext.Provider, {
    value: value ?? true,
    ...props
  });
}
RtlProvider.propTypes = {
  children: import_prop_types5.default.node,
  value: import_prop_types5.default.bool
};
var useRtl = () => {
  const value = React28.useContext(RtlContext);
  return value ?? false;
};
var RtlProvider_default = RtlProvider;

// node_modules/@mui/system/esm/DefaultPropsProvider/DefaultPropsProvider.js
var React29 = __toESM(require_react(), 1);
var import_prop_types6 = __toESM(require_prop_types(), 1);
var import_jsx_runtime6 = __toESM(require_jsx_runtime(), 1);
"use client";
var PropsContext = /* @__PURE__ */ React29.createContext(undefined);
function DefaultPropsProvider({
  value,
  children
}) {
  return /* @__PURE__ */ import_jsx_runtime6.jsx(PropsContext.Provider, {
    value,
    children
  });
}
DefaultPropsProvider.propTypes = {
  children: import_prop_types6.default.node,
  value: import_prop_types6.default.object
};
function getThemeProps2(params) {
  const {
    theme,
    name,
    props
  } = params;
  if (!theme || !theme.components || !theme.components[name]) {
    return props;
  }
  const config = theme.components[name];
  if (config.defaultProps) {
    return resolveProps(config.defaultProps, props, theme.components.mergeClassNameAndStyle);
  }
  if (!config.styleOverrides && !config.variants) {
    return resolveProps(config, props, theme.components.mergeClassNameAndStyle);
  }
  return props;
}
function useDefaultProps({
  props,
  name
}) {
  const ctx = React29.useContext(PropsContext);
  return getThemeProps2({
    props,
    name,
    theme: {
      components: ctx
    }
  });
}
var DefaultPropsProvider_default = DefaultPropsProvider;
// node_modules/@mui/utils/esm/useId/useId.js
var React30 = __toESM(require_react(), 1);
"use client";
var globalId = 0;
function useGlobalId(idOverride) {
  const [defaultId, setDefaultId] = React30.useState(idOverride);
  const id = idOverride || defaultId;
  React30.useEffect(() => {
    if (defaultId == null) {
      globalId += 1;
      setDefaultId(`mui-${globalId}`);
    }
  }, [defaultId]);
  return id;
}
var safeReact2 = {
  ...React30
};
var maybeReactUseId = safeReact2.useId;
function useId2(idOverride) {
  if (maybeReactUseId !== undefined) {
    const reactId = maybeReactUseId();
    return idOverride ?? reactId;
  }
  return useGlobalId(idOverride);
}
// node_modules/@mui/system/esm/ThemeProvider/useLayerOrder.js
var import_jsx_runtime7 = __toESM(require_jsx_runtime(), 1);
function useLayerOrder(theme) {
  const upperTheme = useThemeWithoutDefault_default();
  const id = useId2() || "";
  const {
    modularCssLayers
  } = theme;
  let layerOrder = "mui.global, mui.components, mui.theme, mui.custom, mui.sx";
  if (!modularCssLayers || upperTheme !== null) {
    layerOrder = "";
  } else if (typeof modularCssLayers === "string") {
    layerOrder = modularCssLayers.replace(/mui(?!\.)/g, layerOrder);
  } else {
    layerOrder = `@layer ${layerOrder};`;
  }
  useEnhancedEffect_default(() => {
    const head = document.querySelector("head");
    if (!head) {
      return;
    }
    const firstChild = head.firstChild;
    if (layerOrder) {
      if (firstChild && firstChild.hasAttribute?.("data-mui-layer-order") && firstChild.getAttribute("data-mui-layer-order") === id) {
        return;
      }
      const styleElement = document.createElement("style");
      styleElement.setAttribute("data-mui-layer-order", id);
      styleElement.textContent = layerOrder;
      head.prepend(styleElement);
    } else {
      head.querySelector(`style[data-mui-layer-order="${id}"]`)?.remove();
    }
  }, [layerOrder, id]);
  if (!layerOrder) {
    return null;
  }
  return /* @__PURE__ */ import_jsx_runtime7.jsx(GlobalStyles_default, {
    styles: layerOrder
  });
}

// node_modules/@mui/system/esm/ThemeProvider/ThemeProvider.js
var import_jsx_runtime8 = __toESM(require_jsx_runtime(), 1);
"use client";
var EMPTY_THEME = {};
function useThemeScoping(themeId, upperTheme, localTheme, isPrivate = false) {
  return React31.useMemo(() => {
    const resolvedTheme = themeId ? upperTheme[themeId] || upperTheme : upperTheme;
    if (typeof localTheme === "function") {
      const mergedTheme = localTheme(resolvedTheme);
      const result = themeId ? {
        ...upperTheme,
        [themeId]: mergedTheme
      } : mergedTheme;
      if (isPrivate) {
        return () => result;
      }
      return result;
    }
    return themeId ? {
      ...upperTheme,
      [themeId]: localTheme
    } : {
      ...upperTheme,
      ...localTheme
    };
  }, [themeId, upperTheme, localTheme, isPrivate]);
}
function ThemeProvider4(props) {
  const {
    children,
    theme: localTheme,
    themeId
  } = props;
  const upperTheme = useThemeWithoutDefault_default(EMPTY_THEME);
  const upperPrivateTheme = useTheme5() || EMPTY_THEME;
  if (true) {
    if (upperTheme === null && typeof localTheme === "function" || themeId && upperTheme && !upperTheme[themeId] && typeof localTheme === "function") {
      console.error(["MUI: You are providing a theme function prop to the ThemeProvider component:", "<ThemeProvider theme={outerTheme => outerTheme} />", "", "However, no outer theme is present.", "Make sure a theme is already injected higher in the React tree " + "or provide a theme object."].join(`
`));
    }
  }
  const engineTheme = useThemeScoping(themeId, upperTheme, localTheme);
  const privateTheme = useThemeScoping(themeId, upperPrivateTheme, localTheme, true);
  const rtlValue = (themeId ? engineTheme[themeId] : engineTheme).direction === "rtl";
  const layerOrder = useLayerOrder(engineTheme);
  return /* @__PURE__ */ import_jsx_runtime8.jsx(ThemeProvider_default, {
    theme: privateTheme,
    children: /* @__PURE__ */ import_jsx_runtime8.jsx(ThemeContext.Provider, {
      value: engineTheme,
      children: /* @__PURE__ */ import_jsx_runtime8.jsx(RtlProvider_default, {
        value: rtlValue,
        children: /* @__PURE__ */ import_jsx_runtime8.jsxs(DefaultPropsProvider_default, {
          value: themeId ? engineTheme[themeId].components : engineTheme.components,
          children: [layerOrder, children]
        })
      })
    })
  });
}
ThemeProvider4.propTypes = {
  children: import_prop_types7.default.node,
  theme: import_prop_types7.default.oneOfType([import_prop_types7.default.func, import_prop_types7.default.object]).isRequired,
  themeId: import_prop_types7.default.string
};
if (true) {
  ThemeProvider4.propTypes = exactProp(ThemeProvider4.propTypes);
}
var ThemeProvider_default2 = ThemeProvider4;
// node_modules/@mui/system/esm/memoTheme.js
var arg = {
  theme: undefined
};
function unstable_memoTheme(styleFn) {
  let lastValue;
  let lastTheme;
  return function styleMemoized(props) {
    let value = lastValue;
    if (value === undefined || props.theme !== lastTheme) {
      arg.theme = props.theme;
      value = preprocessStyles(styleFn(arg));
      lastValue = value;
      lastTheme = props.theme;
    }
    return value;
  };
}
// node_modules/@mui/system/esm/cssVars/createCssVarsProvider.js
var React35 = __toESM(require_react(), 1);
var import_prop_types8 = __toESM(require_prop_types(), 1);

// node_modules/@mui/system/esm/InitColorSchemeScript/InitColorSchemeScript.js
var import_jsx_runtime9 = __toESM(require_jsx_runtime(), 1);
var DEFAULT_MODE_STORAGE_KEY = "mode";
var DEFAULT_COLOR_SCHEME_STORAGE_KEY = "color-scheme";
var DEFAULT_ATTRIBUTE = "data-color-scheme";
function InitColorSchemeScript(options) {
  const {
    defaultMode = "system",
    defaultLightColorScheme = "light",
    defaultDarkColorScheme = "dark",
    modeStorageKey = DEFAULT_MODE_STORAGE_KEY,
    colorSchemeStorageKey = DEFAULT_COLOR_SCHEME_STORAGE_KEY,
    attribute: initialAttribute = DEFAULT_ATTRIBUTE,
    colorSchemeNode = "document.documentElement",
    nonce
  } = options || {};
  let setter = "";
  let attribute = initialAttribute;
  if (initialAttribute === "class") {
    attribute = ".%s";
  }
  if (initialAttribute === "data") {
    attribute = "[data-%s]";
  }
  if (attribute.startsWith(".")) {
    const selector = attribute.substring(1);
    setter += `${colorSchemeNode}.classList.remove('${selector}'.replace('%s', light), '${selector}'.replace('%s', dark));
      ${colorSchemeNode}.classList.add('${selector}'.replace('%s', colorScheme));`;
  }
  const matches = attribute.match(/\[([^[\]]+)\]/);
  if (matches) {
    const [attr, value] = matches[1].split("=");
    if (!value) {
      setter += `${colorSchemeNode}.removeAttribute('${attr}'.replace('%s', light));
      ${colorSchemeNode}.removeAttribute('${attr}'.replace('%s', dark));`;
    }
    setter += `
      ${colorSchemeNode}.setAttribute('${attr}'.replace('%s', colorScheme), ${value ? `${value}.replace('%s', colorScheme)` : '""'});`;
  } else {
    setter += `${colorSchemeNode}.setAttribute('${attribute}', colorScheme);`;
  }
  return /* @__PURE__ */ import_jsx_runtime9.jsx("script", {
    suppressHydrationWarning: true,
    nonce: typeof window === "undefined" ? nonce : "",
    dangerouslySetInnerHTML: {
      __html: `(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${modeStorageKey}') || '${defaultMode}';
  const dark = localStorage.getItem('${colorSchemeStorageKey}-dark') || '${defaultDarkColorScheme}';
  const light = localStorage.getItem('${colorSchemeStorageKey}-light') || '${defaultLightColorScheme}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${setter}
  }
} catch(e){}})();`
    }
  }, "mui-color-scheme-init");
}

// node_modules/@mui/system/esm/cssVars/useCurrentColorScheme.js
var React33 = __toESM(require_react(), 1);

// node_modules/@mui/system/esm/cssVars/localStorageManager.js
function noop() {}
var localStorageManager = ({
  key,
  storageWindow
}) => {
  if (!storageWindow && typeof window !== "undefined") {
    storageWindow = window;
  }
  return {
    get(defaultValue) {
      if (typeof window === "undefined") {
        return;
      }
      if (!storageWindow) {
        return defaultValue;
      }
      let value;
      try {
        value = storageWindow.localStorage.getItem(key);
      } catch {}
      return value || defaultValue;
    },
    set: (value) => {
      if (storageWindow) {
        try {
          storageWindow.localStorage.setItem(key, value);
        } catch {}
      }
    },
    subscribe: (handler) => {
      if (!storageWindow) {
        return noop;
      }
      const listener = (event) => {
        const value = event.newValue;
        if (event.key === key) {
          handler(value);
        }
      };
      storageWindow.addEventListener("storage", listener);
      return () => {
        storageWindow.removeEventListener("storage", listener);
      };
    }
  };
};
var localStorageManager_default = localStorageManager;

// node_modules/@mui/system/esm/cssVars/useCurrentColorScheme.js
"use client";
function noop2() {}
function getSystemMode(mode) {
  if (typeof window !== "undefined" && typeof window.matchMedia === "function" && mode === "system") {
    const mql = window.matchMedia("(prefers-color-scheme: dark)");
    if (mql.matches) {
      return "dark";
    }
    return "light";
  }
  return;
}
function processState(state, callback) {
  if (state.mode === "light" || state.mode === "system" && state.systemMode === "light") {
    return callback("light");
  }
  if (state.mode === "dark" || state.mode === "system" && state.systemMode === "dark") {
    return callback("dark");
  }
  return;
}
function getColorScheme(state) {
  return processState(state, (mode) => {
    if (mode === "light") {
      return state.lightColorScheme;
    }
    if (mode === "dark") {
      return state.darkColorScheme;
    }
    return;
  });
}
function useCurrentColorScheme(options) {
  const {
    defaultMode = "light",
    defaultLightColorScheme,
    defaultDarkColorScheme,
    supportedColorSchemes = [],
    modeStorageKey = DEFAULT_MODE_STORAGE_KEY,
    colorSchemeStorageKey = DEFAULT_COLOR_SCHEME_STORAGE_KEY,
    storageWindow = typeof window === "undefined" ? undefined : window,
    storageManager = localStorageManager_default,
    noSsr = false
  } = options;
  const joinedColorSchemes = supportedColorSchemes.join(",");
  const isMultiSchemes = supportedColorSchemes.length > 1;
  const modeStorage = React33.useMemo(() => storageManager?.({
    key: modeStorageKey,
    storageWindow
  }), [storageManager, modeStorageKey, storageWindow]);
  const lightStorage = React33.useMemo(() => storageManager?.({
    key: `${colorSchemeStorageKey}-light`,
    storageWindow
  }), [storageManager, colorSchemeStorageKey, storageWindow]);
  const darkStorage = React33.useMemo(() => storageManager?.({
    key: `${colorSchemeStorageKey}-dark`,
    storageWindow
  }), [storageManager, colorSchemeStorageKey, storageWindow]);
  const [state, setState] = React33.useState(() => {
    const initialMode = modeStorage?.get(defaultMode) || defaultMode;
    const lightColorScheme = lightStorage?.get(defaultLightColorScheme) || defaultLightColorScheme;
    const darkColorScheme = darkStorage?.get(defaultDarkColorScheme) || defaultDarkColorScheme;
    return {
      mode: initialMode,
      systemMode: getSystemMode(initialMode),
      lightColorScheme,
      darkColorScheme
    };
  });
  const [isClient, setIsClient] = React33.useState(noSsr || !isMultiSchemes);
  React33.useEffect(() => {
    setIsClient(true);
  }, []);
  const colorScheme = getColorScheme(state);
  const setMode = React33.useCallback((mode) => {
    setState((currentState) => {
      if (mode === currentState.mode) {
        return currentState;
      }
      const newMode = mode ?? defaultMode;
      modeStorage?.set(newMode);
      return {
        ...currentState,
        mode: newMode,
        systemMode: getSystemMode(newMode)
      };
    });
  }, [modeStorage, defaultMode]);
  const setColorScheme = React33.useCallback((value) => {
    if (!value) {
      setState((currentState) => {
        lightStorage?.set(defaultLightColorScheme);
        darkStorage?.set(defaultDarkColorScheme);
        return {
          ...currentState,
          lightColorScheme: defaultLightColorScheme,
          darkColorScheme: defaultDarkColorScheme
        };
      });
    } else if (typeof value === "string") {
      if (value && !joinedColorSchemes.includes(value)) {
        console.error(`\`${value}\` does not exist in \`theme.colorSchemes\`.`);
      } else {
        setState((currentState) => {
          const newState = {
            ...currentState
          };
          processState(currentState, (mode) => {
            if (mode === "light") {
              lightStorage?.set(value);
              newState.lightColorScheme = value;
            }
            if (mode === "dark") {
              darkStorage?.set(value);
              newState.darkColorScheme = value;
            }
          });
          return newState;
        });
      }
    } else {
      setState((currentState) => {
        const newState = {
          ...currentState
        };
        const newLightColorScheme = value.light === null ? defaultLightColorScheme : value.light;
        const newDarkColorScheme = value.dark === null ? defaultDarkColorScheme : value.dark;
        if (newLightColorScheme) {
          if (!joinedColorSchemes.includes(newLightColorScheme)) {
            console.error(`\`${newLightColorScheme}\` does not exist in \`theme.colorSchemes\`.`);
          } else {
            newState.lightColorScheme = newLightColorScheme;
            lightStorage?.set(newLightColorScheme);
          }
        }
        if (newDarkColorScheme) {
          if (!joinedColorSchemes.includes(newDarkColorScheme)) {
            console.error(`\`${newDarkColorScheme}\` does not exist in \`theme.colorSchemes\`.`);
          } else {
            newState.darkColorScheme = newDarkColorScheme;
            darkStorage?.set(newDarkColorScheme);
          }
        }
        return newState;
      });
    }
  }, [joinedColorSchemes, lightStorage, darkStorage, defaultLightColorScheme, defaultDarkColorScheme]);
  const handleMediaQuery = React33.useCallback((event) => {
    if (state.mode === "system") {
      setState((currentState) => {
        const systemMode = event?.matches ? "dark" : "light";
        if (currentState.systemMode === systemMode) {
          return currentState;
        }
        return {
          ...currentState,
          systemMode
        };
      });
    }
  }, [state.mode]);
  const mediaListener = React33.useRef(handleMediaQuery);
  mediaListener.current = handleMediaQuery;
  React33.useEffect(() => {
    if (typeof window.matchMedia !== "function" || !isMultiSchemes) {
      return;
    }
    const handler = (...args) => mediaListener.current(...args);
    const media = window.matchMedia("(prefers-color-scheme: dark)");
    media.addListener(handler);
    handler(media);
    return () => {
      media.removeListener(handler);
    };
  }, [isMultiSchemes]);
  React33.useEffect(() => {
    if (isMultiSchemes) {
      const unsubscribeMode = modeStorage?.subscribe((value) => {
        if (!value || ["light", "dark", "system"].includes(value)) {
          setMode(value || defaultMode);
        }
      }) || noop2;
      const unsubscribeLight = lightStorage?.subscribe((value) => {
        if (!value || joinedColorSchemes.match(value)) {
          setColorScheme({
            light: value
          });
        }
      }) || noop2;
      const unsubscribeDark = darkStorage?.subscribe((value) => {
        if (!value || joinedColorSchemes.match(value)) {
          setColorScheme({
            dark: value
          });
        }
      }) || noop2;
      return () => {
        unsubscribeMode();
        unsubscribeLight();
        unsubscribeDark();
      };
    }
    return;
  }, [setColorScheme, setMode, joinedColorSchemes, defaultMode, storageWindow, isMultiSchemes, modeStorage, lightStorage, darkStorage]);
  return {
    ...state,
    mode: isClient ? state.mode : undefined,
    systemMode: isClient ? state.systemMode : undefined,
    colorScheme: isClient ? colorScheme : undefined,
    setMode,
    setColorScheme
  };
}

// node_modules/@mui/system/esm/cssVars/createCssVarsProvider.js
var import_jsx_runtime10 = __toESM(require_jsx_runtime(), 1);
"use client";
var DISABLE_CSS_TRANSITION = "*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";
function createCssVarsProvider(options) {
  const {
    themeId,
    theme: defaultTheme = {},
    modeStorageKey: defaultModeStorageKey = DEFAULT_MODE_STORAGE_KEY,
    colorSchemeStorageKey: defaultColorSchemeStorageKey = DEFAULT_COLOR_SCHEME_STORAGE_KEY,
    disableTransitionOnChange: designSystemTransitionOnChange = false,
    defaultColorScheme,
    resolveTheme
  } = options;
  const defaultContext = {
    allColorSchemes: [],
    colorScheme: undefined,
    darkColorScheme: undefined,
    lightColorScheme: undefined,
    mode: undefined,
    setColorScheme: () => {},
    setMode: () => {},
    systemMode: undefined
  };
  const ColorSchemeContext = /* @__PURE__ */ React35.createContext(undefined);
  if (true) {
    ColorSchemeContext.displayName = "ColorSchemeContext";
  }
  const useColorScheme = () => React35.useContext(ColorSchemeContext) || defaultContext;
  const defaultColorSchemes = {};
  const defaultComponents = {};
  function CssVarsProvider(props) {
    const {
      children,
      theme: themeProp,
      modeStorageKey = defaultModeStorageKey,
      colorSchemeStorageKey = defaultColorSchemeStorageKey,
      disableTransitionOnChange = designSystemTransitionOnChange,
      storageManager,
      storageWindow = typeof window === "undefined" ? undefined : window,
      documentNode = typeof document === "undefined" ? undefined : document,
      colorSchemeNode = typeof document === "undefined" ? undefined : document.documentElement,
      disableNestedContext = false,
      disableStyleSheetGeneration = false,
      defaultMode: initialMode = "system",
      forceThemeRerender = false,
      noSsr
    } = props;
    const hasMounted = React35.useRef(false);
    const upperTheme = useTheme5();
    const ctx = React35.useContext(ColorSchemeContext);
    const nested = !!ctx && !disableNestedContext;
    const initialTheme = React35.useMemo(() => {
      if (themeProp) {
        return themeProp;
      }
      return typeof defaultTheme === "function" ? defaultTheme() : defaultTheme;
    }, [themeProp]);
    const scopedTheme = initialTheme[themeId];
    const restThemeProp = scopedTheme || initialTheme;
    const {
      colorSchemes = defaultColorSchemes,
      components = defaultComponents,
      cssVarPrefix
    } = restThemeProp;
    const joinedColorSchemes = Object.keys(colorSchemes).filter((k) => !!colorSchemes[k]).join(",");
    const allColorSchemes = React35.useMemo(() => joinedColorSchemes.split(","), [joinedColorSchemes]);
    const defaultLightColorScheme2 = typeof defaultColorScheme === "string" ? defaultColorScheme : defaultColorScheme.light;
    const defaultDarkColorScheme2 = typeof defaultColorScheme === "string" ? defaultColorScheme : defaultColorScheme.dark;
    const defaultMode = colorSchemes[defaultLightColorScheme2] && colorSchemes[defaultDarkColorScheme2] ? initialMode : colorSchemes[restThemeProp.defaultColorScheme]?.palette?.mode || restThemeProp.palette?.mode;
    const {
      mode: stateMode,
      setMode,
      systemMode,
      lightColorScheme,
      darkColorScheme,
      colorScheme: stateColorScheme,
      setColorScheme
    } = useCurrentColorScheme({
      supportedColorSchemes: allColorSchemes,
      defaultLightColorScheme: defaultLightColorScheme2,
      defaultDarkColorScheme: defaultDarkColorScheme2,
      modeStorageKey,
      colorSchemeStorageKey,
      defaultMode,
      storageManager,
      storageWindow,
      noSsr
    });
    let mode = stateMode;
    let colorScheme = stateColorScheme;
    if (nested) {
      mode = ctx.mode;
      colorScheme = ctx.colorScheme;
    }
    if (true) {
      if (forceThemeRerender && !restThemeProp.vars) {
        console.warn(["MUI: The `forceThemeRerender` prop should only be used with CSS theme variables.", "Note that it will slow down the app when changing between modes, so only do this when you cannot find a better solution."].join(`
`));
      }
    }
    let calculatedColorScheme = colorScheme || restThemeProp.defaultColorScheme;
    if (restThemeProp.vars && !forceThemeRerender) {
      calculatedColorScheme = restThemeProp.defaultColorScheme;
    }
    const memoTheme = React35.useMemo(() => {
      const themeVars = restThemeProp.generateThemeVars?.() || restThemeProp.vars;
      const theme = {
        ...restThemeProp,
        components,
        colorSchemes,
        cssVarPrefix,
        vars: themeVars
      };
      if (typeof theme.generateSpacing === "function") {
        theme.spacing = theme.generateSpacing();
      }
      if (calculatedColorScheme) {
        const scheme = colorSchemes[calculatedColorScheme];
        if (scheme && typeof scheme === "object") {
          Object.keys(scheme).forEach((schemeKey) => {
            if (scheme[schemeKey] && typeof scheme[schemeKey] === "object") {
              theme[schemeKey] = {
                ...theme[schemeKey],
                ...scheme[schemeKey]
              };
            } else {
              theme[schemeKey] = scheme[schemeKey];
            }
          });
        }
      }
      return resolveTheme ? resolveTheme(theme) : theme;
    }, [restThemeProp, calculatedColorScheme, components, colorSchemes, cssVarPrefix]);
    const colorSchemeSelector = restThemeProp.colorSchemeSelector;
    useEnhancedEffect_default(() => {
      if (colorScheme && colorSchemeNode && colorSchemeSelector && colorSchemeSelector !== "media") {
        const selector = colorSchemeSelector;
        let rule = colorSchemeSelector;
        if (selector === "class") {
          rule = `.%s`;
        }
        if (selector === "data") {
          rule = `[data-%s]`;
        }
        if (selector?.startsWith("data-") && !selector.includes("%s")) {
          rule = `[${selector}="%s"]`;
        }
        if (rule.startsWith(".")) {
          colorSchemeNode.classList.remove(...allColorSchemes.map((scheme) => rule.substring(1).replace("%s", scheme)));
          colorSchemeNode.classList.add(rule.substring(1).replace("%s", colorScheme));
        } else {
          const matches = rule.replace("%s", colorScheme).match(/\[([^\]]+)\]/);
          if (matches) {
            const [attr, value] = matches[1].split("=");
            if (!value) {
              allColorSchemes.forEach((scheme) => {
                colorSchemeNode.removeAttribute(attr.replace(colorScheme, scheme));
              });
            }
            colorSchemeNode.setAttribute(attr, value ? value.replace(/"|'/g, "") : "");
          } else {
            colorSchemeNode.setAttribute(rule, colorScheme);
          }
        }
      }
    }, [colorScheme, colorSchemeSelector, colorSchemeNode, allColorSchemes]);
    React35.useEffect(() => {
      let timer;
      if (disableTransitionOnChange && hasMounted.current && documentNode) {
        const css2 = documentNode.createElement("style");
        css2.appendChild(documentNode.createTextNode(DISABLE_CSS_TRANSITION));
        documentNode.head.appendChild(css2);
        (() => window.getComputedStyle(documentNode.body))();
        timer = setTimeout(() => {
          documentNode.head.removeChild(css2);
        }, 1);
      }
      return () => {
        clearTimeout(timer);
      };
    }, [colorScheme, disableTransitionOnChange, documentNode]);
    React35.useEffect(() => {
      hasMounted.current = true;
      return () => {
        hasMounted.current = false;
      };
    }, []);
    const contextValue = React35.useMemo(() => ({
      allColorSchemes,
      colorScheme,
      darkColorScheme,
      lightColorScheme,
      mode,
      setColorScheme,
      setMode: (newMode) => {
        if (memoTheme.colorSchemeSelector === "media") {
          console.error(["MUI: The `setMode` function has no effect if `colorSchemeSelector` is `media` (`media` is the default value).", "To toggle the mode manually, please configure `colorSchemeSelector` to use a class or data attribute.", "To learn more, visit https://mui.com/material-ui/customization/css-theme-variables/configuration/#toggling-dark-mode-manually"].join(`
`));
        }
        setMode(newMode);
      },
      systemMode
    }), [allColorSchemes, colorScheme, darkColorScheme, lightColorScheme, mode, setColorScheme, setMode, systemMode, memoTheme.colorSchemeSelector]);
    let shouldGenerateStyleSheet = true;
    if (disableStyleSheetGeneration || restThemeProp.cssVariables === false || nested && upperTheme?.cssVarPrefix === cssVarPrefix) {
      shouldGenerateStyleSheet = false;
    }
    const element = /* @__PURE__ */ import_jsx_runtime10.jsxs(React35.Fragment, {
      children: [/* @__PURE__ */ import_jsx_runtime10.jsx(ThemeProvider_default2, {
        themeId: scopedTheme ? themeId : undefined,
        theme: memoTheme,
        children
      }), shouldGenerateStyleSheet && /* @__PURE__ */ import_jsx_runtime10.jsx(GlobalStyles, {
        styles: memoTheme.generateStyleSheets?.() || []
      })]
    });
    if (nested) {
      return element;
    }
    return /* @__PURE__ */ import_jsx_runtime10.jsx(ColorSchemeContext.Provider, {
      value: contextValue,
      children: element
    });
  }
  CssVarsProvider.propTypes = {
    children: import_prop_types8.default.node,
    colorSchemeNode: import_prop_types8.default.any,
    colorSchemeStorageKey: import_prop_types8.default.string,
    defaultMode: import_prop_types8.default.string,
    disableNestedContext: import_prop_types8.default.bool,
    disableStyleSheetGeneration: import_prop_types8.default.bool,
    disableTransitionOnChange: import_prop_types8.default.bool,
    documentNode: import_prop_types8.default.any,
    forceThemeRerender: import_prop_types8.default.bool,
    modeStorageKey: import_prop_types8.default.string,
    noSsr: import_prop_types8.default.bool,
    storageManager: import_prop_types8.default.func,
    storageWindow: import_prop_types8.default.any,
    theme: import_prop_types8.default.object
  };
  const defaultLightColorScheme = typeof defaultColorScheme === "string" ? defaultColorScheme : defaultColorScheme.light;
  const defaultDarkColorScheme = typeof defaultColorScheme === "string" ? defaultColorScheme : defaultColorScheme.dark;
  const getInitColorSchemeScript = (params) => InitColorSchemeScript({
    colorSchemeStorageKey: defaultColorSchemeStorageKey,
    defaultLightColorScheme,
    defaultDarkColorScheme,
    modeStorageKey: defaultModeStorageKey,
    ...params
  });
  return {
    CssVarsProvider,
    useColorScheme,
    getInitColorSchemeScript
  };
}
// node_modules/@mui/system/esm/cssVars/createGetCssVar.js
function createGetCssVar(prefix2 = "") {
  function appendVar(...vars) {
    if (!vars.length) {
      return "";
    }
    const value = vars[0];
    if (typeof value === "string" && !value.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)) {
      return `, var(--${prefix2 ? `${prefix2}-` : ""}${value}${appendVar(...vars.slice(1))})`;
    }
    return `, ${value}`;
  }
  const getCssVar = (field, ...fallbacks) => {
    return `var(--${prefix2 ? `${prefix2}-` : ""}${field}${appendVar(...fallbacks)})`;
  };
  return getCssVar;
}
// node_modules/@mui/system/esm/cssVars/cssVarsParser.js
var assignNestedKeys = (obj, keys, value, arrayKeys = []) => {
  let temp = obj;
  keys.forEach((k, index) => {
    if (index === keys.length - 1) {
      if (Array.isArray(temp)) {
        temp[Number(k)] = value;
      } else if (temp && typeof temp === "object") {
        temp[k] = value;
      }
    } else if (temp && typeof temp === "object") {
      if (!temp[k]) {
        temp[k] = arrayKeys.includes(k) ? [] : {};
      }
      temp = temp[k];
    }
  });
};
var walkObjectDeep = (obj, callback, shouldSkipPaths) => {
  function recurse(object, parentKeys = [], arrayKeys = []) {
    Object.entries(object).forEach(([key, value]) => {
      if (!shouldSkipPaths || shouldSkipPaths && !shouldSkipPaths([...parentKeys, key])) {
        if (value !== undefined && value !== null) {
          if (typeof value === "object" && Object.keys(value).length > 0) {
            recurse(value, [...parentKeys, key], Array.isArray(value) ? [...arrayKeys, key] : arrayKeys);
          } else {
            callback([...parentKeys, key], value, arrayKeys);
          }
        }
      }
    });
  }
  recurse(obj);
};
var getCssValue = (keys, value) => {
  if (typeof value === "number") {
    if (["lineHeight", "fontWeight", "opacity", "zIndex"].some((prop) => keys.includes(prop))) {
      return value;
    }
    const lastKey = keys[keys.length - 1];
    if (lastKey.toLowerCase().includes("opacity")) {
      return value;
    }
    return `${value}px`;
  }
  return value;
};
function cssVarsParser(theme, options) {
  const {
    prefix: prefix2,
    shouldSkipGeneratingVar
  } = options || {};
  const css2 = {};
  const vars = {};
  const varsWithDefaults = {};
  walkObjectDeep(theme, (keys, value, arrayKeys) => {
    if (typeof value === "string" || typeof value === "number") {
      if (!shouldSkipGeneratingVar || !shouldSkipGeneratingVar(keys, value)) {
        const cssVar = `--${prefix2 ? `${prefix2}-` : ""}${keys.join("-")}`;
        const resolvedValue = getCssValue(keys, value);
        Object.assign(css2, {
          [cssVar]: resolvedValue
        });
        assignNestedKeys(vars, keys, `var(${cssVar})`, arrayKeys);
        assignNestedKeys(varsWithDefaults, keys, `var(${cssVar}, ${resolvedValue})`, arrayKeys);
      }
    }
  }, (keys) => keys[0] === "vars");
  return {
    css: css2,
    vars,
    varsWithDefaults
  };
}

// node_modules/@mui/system/esm/cssVars/prepareCssVars.js
function prepareCssVars(theme, parserConfig = {}) {
  const {
    getSelector = defaultGetSelector,
    disableCssColorScheme,
    colorSchemeSelector: selector,
    enableContrastVars
  } = parserConfig;
  const {
    colorSchemes = {},
    components,
    defaultColorScheme = "light",
    ...otherTheme
  } = theme;
  const {
    vars: rootVars,
    css: rootCss,
    varsWithDefaults: rootVarsWithDefaults
  } = cssVarsParser(otherTheme, parserConfig);
  let themeVars = rootVarsWithDefaults;
  const colorSchemesMap = {};
  const {
    [defaultColorScheme]: defaultScheme,
    ...otherColorSchemes
  } = colorSchemes;
  Object.entries(otherColorSchemes || {}).forEach(([key, scheme]) => {
    const {
      vars,
      css: css2,
      varsWithDefaults
    } = cssVarsParser(scheme, parserConfig);
    themeVars = deepmerge(themeVars, varsWithDefaults);
    colorSchemesMap[key] = {
      css: css2,
      vars
    };
  });
  if (defaultScheme) {
    const {
      css: css2,
      vars,
      varsWithDefaults
    } = cssVarsParser(defaultScheme, parserConfig);
    themeVars = deepmerge(themeVars, varsWithDefaults);
    colorSchemesMap[defaultColorScheme] = {
      css: css2,
      vars
    };
  }
  function defaultGetSelector(colorScheme, cssObject) {
    let rule = selector;
    if (selector === "class") {
      rule = ".%s";
    }
    if (selector === "data") {
      rule = "[data-%s]";
    }
    if (selector?.startsWith("data-") && !selector.includes("%s")) {
      rule = `[${selector}="%s"]`;
    }
    if (colorScheme) {
      if (rule === "media") {
        if (theme.defaultColorScheme === colorScheme) {
          return ":root";
        }
        const mode = colorSchemes[colorScheme]?.palette?.mode || colorScheme;
        return {
          [`@media (prefers-color-scheme: ${mode})`]: {
            ":root": cssObject
          }
        };
      }
      if (rule) {
        if (theme.defaultColorScheme === colorScheme) {
          return `:root, ${rule.replace("%s", String(colorScheme))}`;
        }
        return rule.replace("%s", String(colorScheme));
      }
    }
    return ":root";
  }
  const generateThemeVars = () => {
    let vars = {
      ...rootVars
    };
    Object.entries(colorSchemesMap).forEach(([, {
      vars: schemeVars
    }]) => {
      vars = deepmerge(vars, schemeVars);
    });
    return vars;
  };
  const generateStyleSheets = () => {
    const stylesheets = [];
    const colorScheme = theme.defaultColorScheme || "light";
    function insertStyleSheet(key, css2) {
      if (Object.keys(css2).length) {
        stylesheets.push(typeof key === "string" ? {
          [key]: {
            ...css2
          }
        } : key);
      }
    }
    insertStyleSheet(getSelector(undefined, {
      ...rootCss
    }), rootCss);
    const {
      [colorScheme]: defaultSchemeVal,
      ...other
    } = colorSchemesMap;
    if (defaultSchemeVal) {
      const {
        css: css2
      } = defaultSchemeVal;
      const cssColorSheme = colorSchemes[colorScheme]?.palette?.mode;
      const finalCss = !disableCssColorScheme && cssColorSheme ? {
        colorScheme: cssColorSheme,
        ...css2
      } : {
        ...css2
      };
      insertStyleSheet(getSelector(colorScheme, {
        ...finalCss
      }), finalCss);
    }
    Object.entries(other).forEach(([key, {
      css: css2
    }]) => {
      const cssColorSheme = colorSchemes[key]?.palette?.mode;
      const finalCss = !disableCssColorScheme && cssColorSheme ? {
        colorScheme: cssColorSheme,
        ...css2
      } : {
        ...css2
      };
      insertStyleSheet(getSelector(key, {
        ...finalCss
      }), finalCss);
    });
    if (enableContrastVars) {
      stylesheets.push({
        ":root": {
          "--__l-threshold": "0.7",
          "--__l": "clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)",
          "--__a": "clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"
        }
      });
    }
    return stylesheets;
  };
  return {
    vars: themeVars,
    generateThemeVars,
    generateStyleSheets
  };
}
var prepareCssVars_default = prepareCssVars;

// node_modules/@mui/system/esm/cssVars/getColorSchemeSelector.js
function createGetColorSchemeSelector(selector) {
  return function getColorSchemeSelector(colorScheme) {
    if (selector === "media") {
      if (true) {
        if (colorScheme !== "light" && colorScheme !== "dark") {
          console.error(`MUI: @media (prefers-color-scheme) supports only 'light' or 'dark', but receive '${colorScheme}'.`);
        }
      }
      return `@media (prefers-color-scheme: ${colorScheme})`;
    }
    if (selector) {
      if (selector.startsWith("data-") && !selector.includes("%s")) {
        return `[${selector}="${colorScheme}"] &`;
      }
      if (selector === "class") {
        return `.${colorScheme} &`;
      }
      if (selector === "data") {
        return `[data-${colorScheme}] &`;
      }
      return `${selector.replace("%s", colorScheme)} &`;
    }
    return "&";
  };
}
// node_modules/@mui/system/esm/Container/createContainer.js
var React36 = __toESM(require_react(), 1);
var import_prop_types9 = __toESM(require_prop_types(), 1);
var import_jsx_runtime11 = __toESM(require_jsx_runtime(), 1);
"use client";
var defaultTheme = createTheme_default();
var defaultCreateStyledComponent = styled_default("div", {
  name: "MuiContainer",
  slot: "Root",
  overridesResolver: (props, styles) => {
    const {
      ownerState
    } = props;
    return [styles.root, styles[`maxWidth${capitalize(String(ownerState.maxWidth))}`], ownerState.fixed && styles.fixed, ownerState.disableGutters && styles.disableGutters];
  }
});
var useThemePropsDefault = (inProps) => useThemeProps({
  props: inProps,
  name: "MuiContainer",
  defaultTheme
});
var useUtilityClasses = (ownerState, componentName) => {
  const getContainerUtilityClass = (slot) => {
    return generateUtilityClass(componentName, slot);
  };
  const {
    classes,
    fixed,
    disableGutters,
    maxWidth: maxWidth2
  } = ownerState;
  const slots = {
    root: ["root", maxWidth2 && `maxWidth${capitalize(String(maxWidth2))}`, fixed && "fixed", disableGutters && "disableGutters"]
  };
  return composeClasses(slots, getContainerUtilityClass, classes);
};
function createContainer(options = {}) {
  const {
    createStyledComponent = defaultCreateStyledComponent,
    useThemeProps: useThemeProps2 = useThemePropsDefault,
    componentName = "MuiContainer"
  } = options;
  const ContainerRoot = createStyledComponent(({
    theme,
    ownerState
  }) => ({
    width: "100%",
    marginLeft: "auto",
    boxSizing: "border-box",
    marginRight: "auto",
    ...!ownerState.disableGutters && {
      paddingLeft: theme.spacing(2),
      paddingRight: theme.spacing(2),
      [theme.breakpoints.up("sm")]: {
        paddingLeft: theme.spacing(3),
        paddingRight: theme.spacing(3)
      }
    }
  }), ({
    theme,
    ownerState
  }) => ownerState.fixed && Object.keys(theme.breakpoints.values).reduce((acc, breakpointValueKey) => {
    const breakpoint = breakpointValueKey;
    const value = theme.breakpoints.values[breakpoint];
    if (value !== 0) {
      acc[theme.breakpoints.up(breakpoint)] = {
        maxWidth: `${value}${theme.breakpoints.unit}`
      };
    }
    return acc;
  }, {}), ({
    theme,
    ownerState
  }) => ({
    ...ownerState.maxWidth === "xs" && {
      [theme.breakpoints.up("xs")]: {
        maxWidth: Math.max(theme.breakpoints.values.xs, 444)
      }
    },
    ...ownerState.maxWidth && ownerState.maxWidth !== "xs" && {
      [theme.breakpoints.up(ownerState.maxWidth)]: {
        maxWidth: `${theme.breakpoints.values[ownerState.maxWidth]}${theme.breakpoints.unit}`
      }
    }
  }));
  const Container = /* @__PURE__ */ React36.forwardRef(function Container(inProps, ref) {
    const props = useThemeProps2(inProps);
    const {
      className,
      component = "div",
      disableGutters = false,
      fixed = false,
      maxWidth: maxWidth2 = "lg",
      classes: classesProp,
      ...other
    } = props;
    const ownerState = {
      ...props,
      component,
      disableGutters,
      fixed,
      maxWidth: maxWidth2
    };
    const classes = useUtilityClasses(ownerState, componentName);
    return /* @__PURE__ */ import_jsx_runtime11.jsx(ContainerRoot, {
      as: component,
      ownerState,
      className: clsx_default(classes.root, className),
      ref,
      ...other
    });
  });
  Container.propTypes = {
    children: import_prop_types9.default.node,
    classes: import_prop_types9.default.object,
    className: import_prop_types9.default.string,
    component: import_prop_types9.default.elementType,
    disableGutters: import_prop_types9.default.bool,
    fixed: import_prop_types9.default.bool,
    maxWidth: import_prop_types9.default.oneOfType([import_prop_types9.default.oneOf(["xs", "sm", "md", "lg", "xl", false]), import_prop_types9.default.string]),
    sx: import_prop_types9.default.oneOfType([import_prop_types9.default.arrayOf(import_prop_types9.default.oneOfType([import_prop_types9.default.func, import_prop_types9.default.object, import_prop_types9.default.bool])), import_prop_types9.default.func, import_prop_types9.default.object])
  };
  return Container;
}
// node_modules/@mui/system/esm/Grid/Grid.js
var import_prop_types11 = __toESM(require_prop_types(), 1);

// node_modules/@mui/system/esm/Grid/createGrid.js
var React38 = __toESM(require_react(), 1);
var import_prop_types10 = __toESM(require_prop_types(), 1);

// node_modules/@mui/utils/esm/isMuiElement/isMuiElement.js
var React37 = __toESM(require_react(), 1);
function isMuiElement(element, muiNames) {
  return /* @__PURE__ */ React37.isValidElement(element) && muiNames.indexOf(element.type.muiName ?? element.type?._payload?.value?.muiName) !== -1;
}
// node_modules/@mui/system/esm/Grid/traverseBreakpoints.js
var filterBreakpointKeys = (breakpointsKeys, responsiveKeys) => breakpointsKeys.filter((key) => responsiveKeys.includes(key));
var traverseBreakpoints = (breakpoints, responsive, iterator) => {
  const smallestBreakpoint = breakpoints.keys[0];
  if (Array.isArray(responsive)) {
    responsive.forEach((breakpointValue, index) => {
      iterator((responsiveStyles, style4) => {
        if (index <= breakpoints.keys.length - 1) {
          if (index === 0) {
            Object.assign(responsiveStyles, style4);
          } else {
            responsiveStyles[breakpoints.up(breakpoints.keys[index])] = style4;
          }
        }
      }, breakpointValue);
    });
  } else if (responsive && typeof responsive === "object") {
    const keys = Object.keys(responsive).length > breakpoints.keys.length ? breakpoints.keys : filterBreakpointKeys(breakpoints.keys, Object.keys(responsive));
    keys.forEach((key) => {
      if (breakpoints.keys.includes(key)) {
        const breakpointValue = responsive[key];
        if (breakpointValue !== undefined) {
          iterator((responsiveStyles, style4) => {
            if (smallestBreakpoint === key) {
              Object.assign(responsiveStyles, style4);
            } else {
              responsiveStyles[breakpoints.up(key)] = style4;
            }
          }, breakpointValue);
        }
      }
    });
  } else if (typeof responsive === "number" || typeof responsive === "string") {
    iterator((responsiveStyles, style4) => {
      Object.assign(responsiveStyles, style4);
    }, responsive);
  }
};

// node_modules/@mui/system/esm/Grid/gridGenerator.js
function getSelfSpacingVar(axis) {
  return `--Grid-${axis}Spacing`;
}
function getParentSpacingVar(axis) {
  return `--Grid-parent-${axis}Spacing`;
}
var selfColumnsVar = "--Grid-columns";
var parentColumnsVar = "--Grid-parent-columns";
var generateGridSizeStyles = ({
  theme,
  ownerState
}) => {
  const styles = {};
  traverseBreakpoints(theme.breakpoints, ownerState.size, (appendStyle, value) => {
    let style4 = {};
    if (value === "grow") {
      style4 = {
        flexBasis: 0,
        flexGrow: 1,
        maxWidth: "100%"
      };
    }
    if (value === "auto") {
      style4 = {
        flexBasis: "auto",
        flexGrow: 0,
        flexShrink: 0,
        maxWidth: "none",
        width: "auto"
      };
    }
    if (typeof value === "number") {
      style4 = {
        flexGrow: 0,
        flexBasis: "auto",
        width: `calc(100% * ${value} / var(${parentColumnsVar}) - (var(${parentColumnsVar}) - ${value}) * (var(${getParentSpacingVar("column")}) / var(${parentColumnsVar})))`
      };
    }
    appendStyle(styles, style4);
  });
  return styles;
};
var generateGridOffsetStyles = ({
  theme,
  ownerState
}) => {
  const styles = {};
  traverseBreakpoints(theme.breakpoints, ownerState.offset, (appendStyle, value) => {
    let style4 = {};
    if (value === "auto") {
      style4 = {
        marginLeft: "auto"
      };
    }
    if (typeof value === "number") {
      style4 = {
        marginLeft: value === 0 ? "0px" : `calc(100% * ${value} / var(${parentColumnsVar}) + var(${getParentSpacingVar("column")}) * ${value} / var(${parentColumnsVar}))`
      };
    }
    appendStyle(styles, style4);
  });
  return styles;
};
var generateGridColumnsStyles = ({
  theme,
  ownerState
}) => {
  if (!ownerState.container) {
    return {};
  }
  const styles = {
    [selfColumnsVar]: 12
  };
  traverseBreakpoints(theme.breakpoints, ownerState.columns, (appendStyle, value) => {
    const columns = value ?? 12;
    appendStyle(styles, {
      [selfColumnsVar]: columns,
      "> *": {
        [parentColumnsVar]: columns
      }
    });
  });
  return styles;
};
var generateGridRowSpacingStyles = ({
  theme,
  ownerState
}) => {
  if (!ownerState.container) {
    return {};
  }
  const styles = {};
  traverseBreakpoints(theme.breakpoints, ownerState.rowSpacing, (appendStyle, value) => {
    const spacing2 = typeof value === "string" ? value : theme.spacing?.(value);
    appendStyle(styles, {
      [getSelfSpacingVar("row")]: spacing2,
      "> *": {
        [getParentSpacingVar("row")]: spacing2
      }
    });
  });
  return styles;
};
var generateGridColumnSpacingStyles = ({
  theme,
  ownerState
}) => {
  if (!ownerState.container) {
    return {};
  }
  const styles = {};
  traverseBreakpoints(theme.breakpoints, ownerState.columnSpacing, (appendStyle, value) => {
    const spacing2 = typeof value === "string" ? value : theme.spacing?.(value);
    appendStyle(styles, {
      [getSelfSpacingVar("column")]: spacing2,
      "> *": {
        [getParentSpacingVar("column")]: spacing2
      }
    });
  });
  return styles;
};
var generateGridDirectionStyles = ({
  theme,
  ownerState
}) => {
  if (!ownerState.container) {
    return {};
  }
  const styles = {};
  traverseBreakpoints(theme.breakpoints, ownerState.direction, (appendStyle, value) => {
    appendStyle(styles, {
      flexDirection: value
    });
  });
  return styles;
};
var generateGridStyles = ({
  ownerState
}) => {
  return {
    minWidth: 0,
    boxSizing: "border-box",
    ...ownerState.container && {
      display: "flex",
      flexWrap: "wrap",
      ...ownerState.wrap && ownerState.wrap !== "wrap" && {
        flexWrap: ownerState.wrap
      },
      gap: `var(${getSelfSpacingVar("row")}) var(${getSelfSpacingVar("column")})`
    }
  };
};
var generateSizeClassNames = (size) => {
  const classNames = [];
  Object.entries(size).forEach(([key, value]) => {
    if (value !== false && value !== undefined) {
      classNames.push(`grid-${key}-${String(value)}`);
    }
  });
  return classNames;
};
var generateSpacingClassNames = (spacing2, smallestBreakpoint = "xs") => {
  function isValidSpacing(val) {
    if (val === undefined) {
      return false;
    }
    return typeof val === "string" && !Number.isNaN(Number(val)) || typeof val === "number" && val > 0;
  }
  if (isValidSpacing(spacing2)) {
    return [`spacing-${smallestBreakpoint}-${String(spacing2)}`];
  }
  if (typeof spacing2 === "object" && !Array.isArray(spacing2)) {
    const classNames = [];
    Object.entries(spacing2).forEach(([key, value]) => {
      if (isValidSpacing(value)) {
        classNames.push(`spacing-${key}-${String(value)}`);
      }
    });
    return classNames;
  }
  return [];
};
var generateDirectionClasses = (direction) => {
  if (direction === undefined) {
    return [];
  }
  if (typeof direction === "object") {
    return Object.entries(direction).map(([key, value]) => `direction-${key}-${value}`);
  }
  return [`direction-xs-${String(direction)}`];
};

// node_modules/@mui/system/esm/Grid/deleteLegacyGridProps.js
var getLegacyGridWarning = (propName) => {
  if (["item", "zeroMinWidth"].includes(propName)) {
    return `The \`${propName}\` prop has been removed and is no longer necessary. You can safely remove it.`;
  }
  return `The \`${propName}\` prop has been removed. See https://mui.com/material-ui/migration/upgrade-to-grid-v2/ for migration instructions.`;
};
var warnedAboutProps = [];
function deleteLegacyGridProps(props, breakpoints) {
  const propsToWarn = [];
  if (props.item !== undefined) {
    delete props.item;
    propsToWarn.push("item");
  }
  if (props.zeroMinWidth !== undefined) {
    delete props.zeroMinWidth;
    propsToWarn.push("zeroMinWidth");
  }
  breakpoints.keys.forEach((breakpoint) => {
    if (props[breakpoint] !== undefined) {
      propsToWarn.push(breakpoint);
      delete props[breakpoint];
    }
  });
  if (true) {
    propsToWarn.forEach((prop) => {
      if (!warnedAboutProps.includes(prop)) {
        warnedAboutProps.push(prop);
        console.warn(`MUI Grid: ${getLegacyGridWarning(prop)}
`);
      }
    });
  }
}

// node_modules/@mui/system/esm/Grid/createGrid.js
var import_jsx_runtime12 = __toESM(require_jsx_runtime(), 1);
"use client";
var defaultTheme2 = createTheme_default();
var defaultCreateStyledComponent2 = styled_default("div", {
  name: "MuiGrid",
  slot: "Root"
});
function useThemePropsDefault2(props) {
  return useThemeProps({
    props,
    name: "MuiGrid",
    defaultTheme: defaultTheme2
  });
}
function createGrid(options = {}) {
  const {
    createStyledComponent = defaultCreateStyledComponent2,
    useThemeProps: useThemeProps2 = useThemePropsDefault2,
    useTheme: useTheme6 = useTheme_default,
    componentName = "MuiGrid"
  } = options;
  const useUtilityClasses2 = (ownerState, theme) => {
    const {
      container,
      direction,
      spacing: spacing2,
      wrap,
      size
    } = ownerState;
    const slots = {
      root: ["root", container && "container", wrap !== "wrap" && `wrap-xs-${String(wrap)}`, ...generateDirectionClasses(direction), ...generateSizeClassNames(size), ...container ? generateSpacingClassNames(spacing2, theme.breakpoints.keys[0]) : []]
    };
    return composeClasses(slots, (slot) => generateUtilityClass(componentName, slot), {});
  };
  function parseResponsiveProp(propValue, breakpoints, shouldUseValue = () => true) {
    const parsedProp = {};
    if (propValue === null) {
      return parsedProp;
    }
    if (Array.isArray(propValue)) {
      propValue.forEach((value, index) => {
        if (value !== null && shouldUseValue(value) && breakpoints.keys[index]) {
          parsedProp[breakpoints.keys[index]] = value;
        }
      });
    } else if (typeof propValue === "object") {
      Object.keys(propValue).forEach((key) => {
        const value = propValue[key];
        if (value !== null && value !== undefined && shouldUseValue(value)) {
          parsedProp[key] = value;
        }
      });
    } else {
      parsedProp[breakpoints.keys[0]] = propValue;
    }
    return parsedProp;
  }
  const GridRoot = createStyledComponent(generateGridColumnsStyles, generateGridColumnSpacingStyles, generateGridRowSpacingStyles, generateGridSizeStyles, generateGridDirectionStyles, generateGridStyles, generateGridOffsetStyles);
  const Grid = /* @__PURE__ */ React38.forwardRef(function Grid(inProps, ref) {
    const theme = useTheme6();
    const themeProps = useThemeProps2(inProps);
    const props = extendSxProp(themeProps);
    deleteLegacyGridProps(props, theme.breakpoints);
    const {
      className,
      children,
      columns: columnsProp = 12,
      container = false,
      component = "div",
      direction = "row",
      wrap = "wrap",
      size: sizeProp = {},
      offset: offsetProp = {},
      spacing: spacingProp = 0,
      rowSpacing: rowSpacingProp = spacingProp,
      columnSpacing: columnSpacingProp = spacingProp,
      unstable_level: level = 0,
      ...other
    } = props;
    const size = parseResponsiveProp(sizeProp, theme.breakpoints, (val) => val !== false);
    const offset = parseResponsiveProp(offsetProp, theme.breakpoints);
    const columns = inProps.columns ?? (level ? undefined : columnsProp);
    const spacing2 = inProps.spacing ?? (level ? undefined : spacingProp);
    const rowSpacing = inProps.rowSpacing ?? inProps.spacing ?? (level ? undefined : rowSpacingProp);
    const columnSpacing = inProps.columnSpacing ?? inProps.spacing ?? (level ? undefined : columnSpacingProp);
    const ownerState = {
      ...props,
      level,
      columns,
      container,
      direction,
      wrap,
      spacing: spacing2,
      rowSpacing,
      columnSpacing,
      size,
      offset
    };
    const classes = useUtilityClasses2(ownerState, theme);
    return /* @__PURE__ */ import_jsx_runtime12.jsx(GridRoot, {
      ref,
      as: component,
      ownerState,
      className: clsx_default(classes.root, className),
      ...other,
      children: React38.Children.map(children, (child) => {
        if (/* @__PURE__ */ React38.isValidElement(child) && isMuiElement(child, ["Grid"]) && container && child.props.container) {
          return /* @__PURE__ */ React38.cloneElement(child, {
            unstable_level: child.props?.unstable_level ?? level + 1
          });
        }
        return child;
      })
    });
  });
  Grid.propTypes = {
    children: import_prop_types10.default.node,
    className: import_prop_types10.default.string,
    columns: import_prop_types10.default.oneOfType([import_prop_types10.default.arrayOf(import_prop_types10.default.number), import_prop_types10.default.number, import_prop_types10.default.object]),
    columnSpacing: import_prop_types10.default.oneOfType([import_prop_types10.default.arrayOf(import_prop_types10.default.oneOfType([import_prop_types10.default.number, import_prop_types10.default.string])), import_prop_types10.default.number, import_prop_types10.default.object, import_prop_types10.default.string]),
    component: import_prop_types10.default.elementType,
    container: import_prop_types10.default.bool,
    direction: import_prop_types10.default.oneOfType([import_prop_types10.default.oneOf(["column-reverse", "column", "row-reverse", "row"]), import_prop_types10.default.arrayOf(import_prop_types10.default.oneOf(["column-reverse", "column", "row-reverse", "row"])), import_prop_types10.default.object]),
    offset: import_prop_types10.default.oneOfType([import_prop_types10.default.string, import_prop_types10.default.number, import_prop_types10.default.arrayOf(import_prop_types10.default.oneOfType([import_prop_types10.default.string, import_prop_types10.default.number])), import_prop_types10.default.object]),
    rowSpacing: import_prop_types10.default.oneOfType([import_prop_types10.default.arrayOf(import_prop_types10.default.oneOfType([import_prop_types10.default.number, import_prop_types10.default.string])), import_prop_types10.default.number, import_prop_types10.default.object, import_prop_types10.default.string]),
    size: import_prop_types10.default.oneOfType([import_prop_types10.default.string, import_prop_types10.default.bool, import_prop_types10.default.number, import_prop_types10.default.arrayOf(import_prop_types10.default.oneOfType([import_prop_types10.default.string, import_prop_types10.default.bool, import_prop_types10.default.number])), import_prop_types10.default.object]),
    spacing: import_prop_types10.default.oneOfType([import_prop_types10.default.arrayOf(import_prop_types10.default.oneOfType([import_prop_types10.default.number, import_prop_types10.default.string])), import_prop_types10.default.number, import_prop_types10.default.object, import_prop_types10.default.string]),
    sx: import_prop_types10.default.oneOfType([import_prop_types10.default.arrayOf(import_prop_types10.default.oneOfType([import_prop_types10.default.func, import_prop_types10.default.object, import_prop_types10.default.bool])), import_prop_types10.default.func, import_prop_types10.default.object]),
    wrap: import_prop_types10.default.oneOf(["nowrap", "wrap-reverse", "wrap"])
  };
  Grid.muiName = "Grid";
  return Grid;
}

// node_modules/@mui/system/esm/Grid/Grid.js
"use client";
var Grid = createGrid();
Grid.propTypes = {
  children: import_prop_types11.default.node,
  columns: import_prop_types11.default.oneOfType([import_prop_types11.default.arrayOf(import_prop_types11.default.number), import_prop_types11.default.number, import_prop_types11.default.object]),
  columnSpacing: import_prop_types11.default.oneOfType([import_prop_types11.default.arrayOf(import_prop_types11.default.oneOfType([import_prop_types11.default.number, import_prop_types11.default.string])), import_prop_types11.default.number, import_prop_types11.default.object, import_prop_types11.default.string]),
  container: import_prop_types11.default.bool,
  direction: import_prop_types11.default.oneOfType([import_prop_types11.default.oneOf(["column-reverse", "column", "row-reverse", "row"]), import_prop_types11.default.arrayOf(import_prop_types11.default.oneOf(["column-reverse", "column", "row-reverse", "row"])), import_prop_types11.default.object]),
  offset: import_prop_types11.default.oneOfType([import_prop_types11.default.string, import_prop_types11.default.number, import_prop_types11.default.arrayOf(import_prop_types11.default.oneOfType([import_prop_types11.default.string, import_prop_types11.default.number])), import_prop_types11.default.object]),
  rowSpacing: import_prop_types11.default.oneOfType([import_prop_types11.default.arrayOf(import_prop_types11.default.oneOfType([import_prop_types11.default.number, import_prop_types11.default.string])), import_prop_types11.default.number, import_prop_types11.default.object, import_prop_types11.default.string]),
  size: import_prop_types11.default.oneOfType([import_prop_types11.default.string, import_prop_types11.default.bool, import_prop_types11.default.number, import_prop_types11.default.arrayOf(import_prop_types11.default.oneOfType([import_prop_types11.default.string, import_prop_types11.default.bool, import_prop_types11.default.number])), import_prop_types11.default.object]),
  spacing: import_prop_types11.default.oneOfType([import_prop_types11.default.arrayOf(import_prop_types11.default.oneOfType([import_prop_types11.default.number, import_prop_types11.default.string])), import_prop_types11.default.number, import_prop_types11.default.object, import_prop_types11.default.string]),
  sx: import_prop_types11.default.oneOfType([import_prop_types11.default.arrayOf(import_prop_types11.default.oneOfType([import_prop_types11.default.func, import_prop_types11.default.object, import_prop_types11.default.bool])), import_prop_types11.default.func, import_prop_types11.default.object]),
  unstable_level: import_prop_types11.default.number,
  wrap: import_prop_types11.default.oneOf(["nowrap", "wrap-reverse", "wrap"])
};
var Grid_default = Grid;
// node_modules/@mui/system/esm/Stack/createStack.js
var React39 = __toESM(require_react(), 1);
var import_prop_types12 = __toESM(require_prop_types(), 1);
var import_jsx_runtime13 = __toESM(require_jsx_runtime(), 1);
"use client";
var defaultTheme3 = createTheme_default();
var defaultCreateStyledComponent3 = styled_default("div", {
  name: "MuiStack",
  slot: "Root"
});
function useThemePropsDefault3(props) {
  return useThemeProps({
    props,
    name: "MuiStack",
    defaultTheme: defaultTheme3
  });
}
function joinChildren(children, separator) {
  const childrenArray = React39.Children.toArray(children).filter(Boolean);
  return childrenArray.reduce((output, child, index) => {
    output.push(child);
    if (index < childrenArray.length - 1) {
      output.push(/* @__PURE__ */ React39.cloneElement(separator, {
        key: `separator-${index}`
      }));
    }
    return output;
  }, []);
}
var getSideFromDirection = (direction) => {
  return {
    row: "Left",
    "row-reverse": "Right",
    column: "Top",
    "column-reverse": "Bottom"
  }[direction];
};
var style4 = ({
  ownerState,
  theme
}) => {
  let styles = {
    display: "flex",
    flexDirection: "column",
    ...handleBreakpoints({
      theme
    }, resolveBreakpointValues({
      values: ownerState.direction,
      breakpoints: theme.breakpoints.values
    }), (propValue) => ({
      flexDirection: propValue
    }))
  };
  if (ownerState.spacing) {
    const transformer = createUnarySpacing(theme);
    const base = Object.keys(theme.breakpoints.values).reduce((acc, breakpoint) => {
      if (typeof ownerState.spacing === "object" && ownerState.spacing[breakpoint] != null || typeof ownerState.direction === "object" && ownerState.direction[breakpoint] != null) {
        acc[breakpoint] = true;
      }
      return acc;
    }, {});
    const directionValues = resolveBreakpointValues({
      values: ownerState.direction,
      base
    });
    const spacingValues = resolveBreakpointValues({
      values: ownerState.spacing,
      base
    });
    if (typeof directionValues === "object") {
      Object.keys(directionValues).forEach((breakpoint, index, breakpoints) => {
        const directionValue = directionValues[breakpoint];
        if (!directionValue) {
          const previousDirectionValue = index > 0 ? directionValues[breakpoints[index - 1]] : "column";
          directionValues[breakpoint] = previousDirectionValue;
        }
      });
    }
    const styleFromPropValue = (propValue, breakpoint) => {
      if (ownerState.useFlexGap) {
        return {
          gap: getValue(transformer, propValue)
        };
      }
      return {
        "& > :not(style):not(style)": {
          margin: 0
        },
        "& > :not(style) ~ :not(style)": {
          [`margin${getSideFromDirection(breakpoint ? directionValues[breakpoint] : ownerState.direction)}`]: getValue(transformer, propValue)
        }
      };
    };
    styles = deepmerge(styles, handleBreakpoints({
      theme
    }, spacingValues, styleFromPropValue));
  }
  styles = mergeBreakpointsInOrder(theme.breakpoints, styles);
  return styles;
};
function createStack(options = {}) {
  const {
    createStyledComponent = defaultCreateStyledComponent3,
    useThemeProps: useThemeProps2 = useThemePropsDefault3,
    componentName = "MuiStack"
  } = options;
  const useUtilityClasses2 = () => {
    const slots = {
      root: ["root"]
    };
    return composeClasses(slots, (slot) => generateUtilityClass(componentName, slot), {});
  };
  const StackRoot = createStyledComponent(style4);
  const Stack = /* @__PURE__ */ React39.forwardRef(function Grid(inProps, ref) {
    const themeProps = useThemeProps2(inProps);
    const props = extendSxProp(themeProps);
    const {
      component = "div",
      direction = "column",
      spacing: spacing2 = 0,
      divider,
      children,
      className,
      useFlexGap = false,
      ...other
    } = props;
    const ownerState = {
      direction,
      spacing: spacing2,
      useFlexGap
    };
    const classes = useUtilityClasses2();
    return /* @__PURE__ */ import_jsx_runtime13.jsx(StackRoot, {
      as: component,
      ownerState,
      ref,
      className: clsx_default(classes.root, className),
      ...other,
      children: divider ? joinChildren(children, divider) : children
    });
  });
  Stack.propTypes = {
    children: import_prop_types12.default.node,
    direction: import_prop_types12.default.oneOfType([import_prop_types12.default.oneOf(["column-reverse", "column", "row-reverse", "row"]), import_prop_types12.default.arrayOf(import_prop_types12.default.oneOf(["column-reverse", "column", "row-reverse", "row"])), import_prop_types12.default.object]),
    divider: import_prop_types12.default.node,
    spacing: import_prop_types12.default.oneOfType([import_prop_types12.default.arrayOf(import_prop_types12.default.oneOfType([import_prop_types12.default.number, import_prop_types12.default.string])), import_prop_types12.default.number, import_prop_types12.default.object, import_prop_types12.default.string]),
    sx: import_prop_types12.default.oneOfType([import_prop_types12.default.arrayOf(import_prop_types12.default.oneOfType([import_prop_types12.default.func, import_prop_types12.default.object, import_prop_types12.default.bool])), import_prop_types12.default.func, import_prop_types12.default.object])
  };
  return Stack;
}
// node_modules/@mui/material/esm/colors/common.js
var common = {
  black: "#000",
  white: "#fff"
};
var common_default = common;

// node_modules/@mui/material/esm/colors/grey.js
var grey = {
  50: "#fafafa",
  100: "#f5f5f5",
  200: "#eeeeee",
  300: "#e0e0e0",
  400: "#bdbdbd",
  500: "#9e9e9e",
  600: "#757575",
  700: "#616161",
  800: "#424242",
  900: "#212121",
  A100: "#f5f5f5",
  A200: "#eeeeee",
  A400: "#bdbdbd",
  A700: "#616161"
};
var grey_default = grey;

// node_modules/@mui/material/esm/colors/purple.js
var purple = {
  50: "#f3e5f5",
  100: "#e1bee7",
  200: "#ce93d8",
  300: "#ba68c8",
  400: "#ab47bc",
  500: "#9c27b0",
  600: "#8e24aa",
  700: "#7b1fa2",
  800: "#6a1b9a",
  900: "#4a148c",
  A100: "#ea80fc",
  A200: "#e040fb",
  A400: "#d500f9",
  A700: "#aa00ff"
};
var purple_default = purple;

// node_modules/@mui/material/esm/colors/red.js
var red = {
  50: "#ffebee",
  100: "#ffcdd2",
  200: "#ef9a9a",
  300: "#e57373",
  400: "#ef5350",
  500: "#f44336",
  600: "#e53935",
  700: "#d32f2f",
  800: "#c62828",
  900: "#b71c1c",
  A100: "#ff8a80",
  A200: "#ff5252",
  A400: "#ff1744",
  A700: "#d50000"
};
var red_default = red;

// node_modules/@mui/material/esm/colors/orange.js
var orange = {
  50: "#fff3e0",
  100: "#ffe0b2",
  200: "#ffcc80",
  300: "#ffb74d",
  400: "#ffa726",
  500: "#ff9800",
  600: "#fb8c00",
  700: "#f57c00",
  800: "#ef6c00",
  900: "#e65100",
  A100: "#ffd180",
  A200: "#ffab40",
  A400: "#ff9100",
  A700: "#ff6d00"
};
var orange_default = orange;

// node_modules/@mui/material/esm/colors/blue.js
var blue = {
  50: "#e3f2fd",
  100: "#bbdefb",
  200: "#90caf9",
  300: "#64b5f6",
  400: "#42a5f5",
  500: "#2196f3",
  600: "#1e88e5",
  700: "#1976d2",
  800: "#1565c0",
  900: "#0d47a1",
  A100: "#82b1ff",
  A200: "#448aff",
  A400: "#2979ff",
  A700: "#2962ff"
};
var blue_default = blue;

// node_modules/@mui/material/esm/colors/lightBlue.js
var lightBlue = {
  50: "#e1f5fe",
  100: "#b3e5fc",
  200: "#81d4fa",
  300: "#4fc3f7",
  400: "#29b6f6",
  500: "#03a9f4",
  600: "#039be5",
  700: "#0288d1",
  800: "#0277bd",
  900: "#01579b",
  A100: "#80d8ff",
  A200: "#40c4ff",
  A400: "#00b0ff",
  A700: "#0091ea"
};
var lightBlue_default = lightBlue;

// node_modules/@mui/material/esm/colors/green.js
var green = {
  50: "#e8f5e9",
  100: "#c8e6c9",
  200: "#a5d6a7",
  300: "#81c784",
  400: "#66bb6a",
  500: "#4caf50",
  600: "#43a047",
  700: "#388e3c",
  800: "#2e7d32",
  900: "#1b5e20",
  A100: "#b9f6ca",
  A200: "#69f0ae",
  A400: "#00e676",
  A700: "#00c853"
};
var green_default = green;

// node_modules/@mui/material/esm/styles/createPalette.js
function getLight() {
  return {
    text: {
      primary: "rgba(0, 0, 0, 0.87)",
      secondary: "rgba(0, 0, 0, 0.6)",
      disabled: "rgba(0, 0, 0, 0.38)"
    },
    divider: "rgba(0, 0, 0, 0.12)",
    background: {
      paper: common_default.white,
      default: common_default.white
    },
    action: {
      active: "rgba(0, 0, 0, 0.54)",
      hover: "rgba(0, 0, 0, 0.04)",
      hoverOpacity: 0.04,
      selected: "rgba(0, 0, 0, 0.08)",
      selectedOpacity: 0.08,
      disabled: "rgba(0, 0, 0, 0.26)",
      disabledBackground: "rgba(0, 0, 0, 0.12)",
      disabledOpacity: 0.38,
      focus: "rgba(0, 0, 0, 0.12)",
      focusOpacity: 0.12,
      activatedOpacity: 0.12
    }
  };
}
var light = getLight();
function getDark() {
  return {
    text: {
      primary: common_default.white,
      secondary: "rgba(255, 255, 255, 0.7)",
      disabled: "rgba(255, 255, 255, 0.5)",
      icon: "rgba(255, 255, 255, 0.5)"
    },
    divider: "rgba(255, 255, 255, 0.12)",
    background: {
      paper: "#121212",
      default: "#121212"
    },
    action: {
      active: common_default.white,
      hover: "rgba(255, 255, 255, 0.08)",
      hoverOpacity: 0.08,
      selected: "rgba(255, 255, 255, 0.16)",
      selectedOpacity: 0.16,
      disabled: "rgba(255, 255, 255, 0.3)",
      disabledBackground: "rgba(255, 255, 255, 0.12)",
      disabledOpacity: 0.38,
      focus: "rgba(255, 255, 255, 0.12)",
      focusOpacity: 0.12,
      activatedOpacity: 0.24
    }
  };
}
var dark = getDark();
function addLightOrDark(intent, direction, shade, tonalOffset) {
  const tonalOffsetLight = tonalOffset.light || tonalOffset;
  const tonalOffsetDark = tonalOffset.dark || tonalOffset * 1.5;
  if (!intent[direction]) {
    if (intent.hasOwnProperty(shade)) {
      intent[direction] = intent[shade];
    } else if (direction === "light") {
      intent.light = lighten(intent.main, tonalOffsetLight);
    } else if (direction === "dark") {
      intent.dark = darken(intent.main, tonalOffsetDark);
    }
  }
}
function mixLightOrDark(colorSpace, intent, direction, shade, tonalOffset) {
  const tonalOffsetLight = tonalOffset.light || tonalOffset;
  const tonalOffsetDark = tonalOffset.dark || tonalOffset * 1.5;
  if (!intent[direction]) {
    if (intent.hasOwnProperty(shade)) {
      intent[direction] = intent[shade];
    } else if (direction === "light") {
      intent.light = `color-mix(in ${colorSpace}, ${intent.main}, #fff ${(tonalOffsetLight * 100).toFixed(0)}%)`;
    } else if (direction === "dark") {
      intent.dark = `color-mix(in ${colorSpace}, ${intent.main}, #000 ${(tonalOffsetDark * 100).toFixed(0)}%)`;
    }
  }
}
function getDefaultPrimary(mode = "light") {
  if (mode === "dark") {
    return {
      main: blue_default[200],
      light: blue_default[50],
      dark: blue_default[400]
    };
  }
  return {
    main: blue_default[700],
    light: blue_default[400],
    dark: blue_default[800]
  };
}
function getDefaultSecondary(mode = "light") {
  if (mode === "dark") {
    return {
      main: purple_default[200],
      light: purple_default[50],
      dark: purple_default[400]
    };
  }
  return {
    main: purple_default[500],
    light: purple_default[300],
    dark: purple_default[700]
  };
}
function getDefaultError(mode = "light") {
  if (mode === "dark") {
    return {
      main: red_default[500],
      light: red_default[300],
      dark: red_default[700]
    };
  }
  return {
    main: red_default[700],
    light: red_default[400],
    dark: red_default[800]
  };
}
function getDefaultInfo(mode = "light") {
  if (mode === "dark") {
    return {
      main: lightBlue_default[400],
      light: lightBlue_default[300],
      dark: lightBlue_default[700]
    };
  }
  return {
    main: lightBlue_default[700],
    light: lightBlue_default[500],
    dark: lightBlue_default[900]
  };
}
function getDefaultSuccess(mode = "light") {
  if (mode === "dark") {
    return {
      main: green_default[400],
      light: green_default[300],
      dark: green_default[700]
    };
  }
  return {
    main: green_default[800],
    light: green_default[500],
    dark: green_default[900]
  };
}
function getDefaultWarning(mode = "light") {
  if (mode === "dark") {
    return {
      main: orange_default[400],
      light: orange_default[300],
      dark: orange_default[700]
    };
  }
  return {
    main: "#ed6c02",
    light: orange_default[500],
    dark: orange_default[900]
  };
}
function contrastColor(background) {
  return `oklch(from ${background} var(--__l) 0 h / var(--__a))`;
}
function createPalette(palette3) {
  const {
    mode = "light",
    contrastThreshold = 3,
    tonalOffset = 0.2,
    colorSpace,
    ...other
  } = palette3;
  const primary = palette3.primary || getDefaultPrimary(mode);
  const secondary = palette3.secondary || getDefaultSecondary(mode);
  const error = palette3.error || getDefaultError(mode);
  const info = palette3.info || getDefaultInfo(mode);
  const success = palette3.success || getDefaultSuccess(mode);
  const warning2 = palette3.warning || getDefaultWarning(mode);
  function getContrastText(background) {
    if (colorSpace) {
      return contrastColor(background);
    }
    const contrastText = getContrastRatio(background, dark.text.primary) >= contrastThreshold ? dark.text.primary : light.text.primary;
    if (true) {
      const contrast = getContrastRatio(background, contrastText);
      if (contrast < 3) {
        console.error([`MUI: The contrast ratio of ${contrast}:1 for ${contrastText} on ${background}`, "falls below the WCAG recommended absolute minimum contrast ratio of 3:1.", "https://www.w3.org/TR/2008/REC-WCAG20-20081211/#visual-audio-contrast-contrast"].join(`
`));
      }
    }
    return contrastText;
  }
  const augmentColor = ({
    color: color2,
    name,
    mainShade = 500,
    lightShade = 300,
    darkShade = 700
  }) => {
    color2 = {
      ...color2
    };
    if (!color2.main && color2[mainShade]) {
      color2.main = color2[mainShade];
    }
    if (!color2.hasOwnProperty("main")) {
      throw new Error(`MUI: The color${name ? ` (${name})` : ""} provided to augmentColor(color) is invalid.
` + `The color object needs to have a \`main\` property or a \`${mainShade}\` property.`);
    }
    if (typeof color2.main !== "string") {
      throw new Error(`MUI: The color${name ? ` (${name})` : ""} provided to augmentColor(color) is invalid.
` + `\`color.main\` should be a string, but \`${JSON.stringify(color2.main)}\` was provided instead.
` + `
` + `Did you intend to use one of the following approaches?
` + `
` + `import { green } from "@mui/material/colors";
` + `
` + `const theme1 = createTheme({ palette: {
` + `  primary: green,
` + `} });
` + `
` + `const theme2 = createTheme({ palette: {
` + `  primary: { main: green[500] },
` + "} });");
    }
    if (colorSpace) {
      mixLightOrDark(colorSpace, color2, "light", lightShade, tonalOffset);
      mixLightOrDark(colorSpace, color2, "dark", darkShade, tonalOffset);
    } else {
      addLightOrDark(color2, "light", lightShade, tonalOffset);
      addLightOrDark(color2, "dark", darkShade, tonalOffset);
    }
    if (!color2.contrastText) {
      color2.contrastText = getContrastText(color2.main);
    }
    return color2;
  };
  let modeHydrated;
  if (mode === "light") {
    modeHydrated = getLight();
  } else if (mode === "dark") {
    modeHydrated = getDark();
  }
  if (true) {
    if (!modeHydrated) {
      console.error(`MUI: The palette mode \`${mode}\` is not supported.`);
    }
  }
  const paletteOutput = deepmerge({
    common: {
      ...common_default
    },
    mode,
    primary: augmentColor({
      color: primary,
      name: "primary"
    }),
    secondary: augmentColor({
      color: secondary,
      name: "secondary",
      mainShade: "A400",
      lightShade: "A200",
      darkShade: "A700"
    }),
    error: augmentColor({
      color: error,
      name: "error"
    }),
    warning: augmentColor({
      color: warning2,
      name: "warning"
    }),
    info: augmentColor({
      color: info,
      name: "info"
    }),
    success: augmentColor({
      color: success,
      name: "success"
    }),
    grey: grey_default,
    contrastThreshold,
    getContrastText,
    augmentColor,
    tonalOffset,
    ...modeHydrated
  }, other);
  return paletteOutput;
}
// node_modules/@mui/system/esm/cssVars/prepareTypographyVars.js
function prepareTypographyVars(typography2) {
  const vars = {};
  const entries = Object.entries(typography2);
  entries.forEach((entry) => {
    const [key, value] = entry;
    if (typeof value === "object") {
      vars[key] = `${value.fontStyle ? `${value.fontStyle} ` : ""}${value.fontVariant ? `${value.fontVariant} ` : ""}${value.fontWeight ? `${value.fontWeight} ` : ""}${value.fontStretch ? `${value.fontStretch} ` : ""}${value.fontSize || ""}${value.lineHeight ? `/${value.lineHeight} ` : ""}${value.fontFamily || ""}`;
    }
  });
  return vars;
}
// node_modules/@mui/material/esm/styles/createMixins.js
function createMixins(breakpoints, mixins) {
  return {
    toolbar: {
      minHeight: 56,
      [breakpoints.up("xs")]: {
        "@media (orientation: landscape)": {
          minHeight: 48
        }
      },
      [breakpoints.up("sm")]: {
        minHeight: 64
      }
    },
    ...mixins
  };
}

// node_modules/@mui/material/esm/styles/createTypography.js
function round(value) {
  return Math.round(value * 1e5) / 1e5;
}
var caseAllCaps = {
  textTransform: "uppercase"
};
var defaultFontFamily = '"Roboto", "Helvetica", "Arial", sans-serif';
function createTypography(palette3, typography2) {
  const {
    fontFamily = defaultFontFamily,
    fontSize = 14,
    fontWeightLight = 300,
    fontWeightRegular = 400,
    fontWeightMedium = 500,
    fontWeightBold = 700,
    htmlFontSize = 16,
    allVariants,
    pxToRem: pxToRem2,
    ...other
  } = typeof typography2 === "function" ? typography2(palette3) : typography2;
  if (true) {
    if (typeof fontSize !== "number") {
      console.error("MUI: `fontSize` is required to be a number.");
    }
    if (typeof htmlFontSize !== "number") {
      console.error("MUI: `htmlFontSize` is required to be a number.");
    }
  }
  const coef = fontSize / 14;
  const pxToRem = pxToRem2 || ((size) => `${size / htmlFontSize * coef}rem`);
  const buildVariant = (fontWeight, size, lineHeight, letterSpacing, casing) => ({
    fontFamily,
    fontWeight,
    fontSize: pxToRem(size),
    lineHeight,
    ...fontFamily === defaultFontFamily ? {
      letterSpacing: `${round(letterSpacing / size)}em`
    } : {},
    ...casing,
    ...allVariants
  });
  const variants = {
    h1: buildVariant(fontWeightLight, 96, 1.167, -1.5),
    h2: buildVariant(fontWeightLight, 60, 1.2, -0.5),
    h3: buildVariant(fontWeightRegular, 48, 1.167, 0),
    h4: buildVariant(fontWeightRegular, 34, 1.235, 0.25),
    h5: buildVariant(fontWeightRegular, 24, 1.334, 0),
    h6: buildVariant(fontWeightMedium, 20, 1.6, 0.15),
    subtitle1: buildVariant(fontWeightRegular, 16, 1.75, 0.15),
    subtitle2: buildVariant(fontWeightMedium, 14, 1.57, 0.1),
    body1: buildVariant(fontWeightRegular, 16, 1.5, 0.15),
    body2: buildVariant(fontWeightRegular, 14, 1.43, 0.15),
    button: buildVariant(fontWeightMedium, 14, 1.75, 0.4, caseAllCaps),
    caption: buildVariant(fontWeightRegular, 12, 1.66, 0.4),
    overline: buildVariant(fontWeightRegular, 12, 2.66, 1, caseAllCaps),
    inherit: {
      fontFamily: "inherit",
      fontWeight: "inherit",
      fontSize: "inherit",
      lineHeight: "inherit",
      letterSpacing: "inherit"
    }
  };
  return deepmerge({
    htmlFontSize,
    pxToRem,
    fontFamily,
    fontSize,
    fontWeightLight,
    fontWeightRegular,
    fontWeightMedium,
    fontWeightBold,
    ...variants
  }, other, {
    clone: false
  });
}

// node_modules/@mui/material/esm/styles/shadows.js
var shadowKeyUmbraOpacity = 0.2;
var shadowKeyPenumbraOpacity = 0.14;
var shadowAmbientShadowOpacity = 0.12;
function createShadow(...px) {
  return [`${px[0]}px ${px[1]}px ${px[2]}px ${px[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`, `${px[4]}px ${px[5]}px ${px[6]}px ${px[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`, `${px[8]}px ${px[9]}px ${px[10]}px ${px[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",");
}
var shadows = ["none", createShadow(0, 2, 1, -1, 0, 1, 1, 0, 0, 1, 3, 0), createShadow(0, 3, 1, -2, 0, 2, 2, 0, 0, 1, 5, 0), createShadow(0, 3, 3, -2, 0, 3, 4, 0, 0, 1, 8, 0), createShadow(0, 2, 4, -1, 0, 4, 5, 0, 0, 1, 10, 0), createShadow(0, 3, 5, -1, 0, 5, 8, 0, 0, 1, 14, 0), createShadow(0, 3, 5, -1, 0, 6, 10, 0, 0, 1, 18, 0), createShadow(0, 4, 5, -2, 0, 7, 10, 1, 0, 2, 16, 1), createShadow(0, 5, 5, -3, 0, 8, 10, 1, 0, 3, 14, 2), createShadow(0, 5, 6, -3, 0, 9, 12, 1, 0, 3, 16, 2), createShadow(0, 6, 6, -3, 0, 10, 14, 1, 0, 4, 18, 3), createShadow(0, 6, 7, -4, 0, 11, 15, 1, 0, 4, 20, 3), createShadow(0, 7, 8, -4, 0, 12, 17, 2, 0, 5, 22, 4), createShadow(0, 7, 8, -4, 0, 13, 19, 2, 0, 5, 24, 4), createShadow(0, 7, 9, -4, 0, 14, 21, 2, 0, 5, 26, 4), createShadow(0, 8, 9, -5, 0, 15, 22, 2, 0, 6, 28, 5), createShadow(0, 8, 10, -5, 0, 16, 24, 2, 0, 6, 30, 5), createShadow(0, 8, 11, -5, 0, 17, 26, 2, 0, 6, 32, 5), createShadow(0, 9, 11, -5, 0, 18, 28, 2, 0, 7, 34, 6), createShadow(0, 9, 12, -6, 0, 19, 29, 2, 0, 7, 36, 6), createShadow(0, 10, 13, -6, 0, 20, 31, 3, 0, 8, 38, 7), createShadow(0, 10, 13, -6, 0, 21, 33, 3, 0, 8, 40, 7), createShadow(0, 10, 14, -6, 0, 22, 35, 3, 0, 8, 42, 7), createShadow(0, 11, 14, -7, 0, 23, 36, 3, 0, 9, 44, 8), createShadow(0, 11, 15, -7, 0, 24, 38, 3, 0, 9, 46, 8)];
var shadows_default = shadows;

// node_modules/@mui/material/esm/styles/createTransitions.js
var easing = {
  easeInOut: "cubic-bezier(0.4, 0, 0.2, 1)",
  easeOut: "cubic-bezier(0.0, 0, 0.2, 1)",
  easeIn: "cubic-bezier(0.4, 0, 1, 1)",
  sharp: "cubic-bezier(0.4, 0, 0.6, 1)"
};
var duration = {
  shortest: 150,
  shorter: 200,
  short: 250,
  standard: 300,
  complex: 375,
  enteringScreen: 225,
  leavingScreen: 195
};
function formatMs(milliseconds) {
  return `${Math.round(milliseconds)}ms`;
}
function getAutoHeightDuration(height2) {
  if (!height2) {
    return 0;
  }
  const constant = height2 / 36;
  return Math.min(Math.round((4 + 15 * constant ** 0.25 + constant / 5) * 10), 3000);
}
function createTransitions(inputTransitions) {
  const mergedEasing = {
    ...easing,
    ...inputTransitions.easing
  };
  const mergedDuration = {
    ...duration,
    ...inputTransitions.duration
  };
  const create = (props = ["all"], options = {}) => {
    const {
      duration: durationOption = mergedDuration.standard,
      easing: easingOption = mergedEasing.easeInOut,
      delay = 0,
      ...other
    } = options;
    if (true) {
      const isString = (value) => typeof value === "string";
      const isNumber = (value) => !Number.isNaN(parseFloat(value));
      if (!isString(props) && !Array.isArray(props)) {
        console.error('MUI: Argument "props" must be a string or Array.');
      }
      if (!isNumber(durationOption) && !isString(durationOption)) {
        console.error(`MUI: Argument "duration" must be a number or a string but found ${durationOption}.`);
      }
      if (!isString(easingOption)) {
        console.error('MUI: Argument "easing" must be a string.');
      }
      if (!isNumber(delay) && !isString(delay)) {
        console.error('MUI: Argument "delay" must be a number or a string.');
      }
      if (typeof options !== "object") {
        console.error(["MUI: Secong argument of transition.create must be an object.", "Arguments should be either `create('prop1', options)` or `create(['prop1', 'prop2'], options)`"].join(`
`));
      }
      if (Object.keys(other).length !== 0) {
        console.error(`MUI: Unrecognized argument(s) [${Object.keys(other).join(",")}].`);
      }
    }
    return (Array.isArray(props) ? props : [props]).map((animatedProp) => `${animatedProp} ${typeof durationOption === "string" ? durationOption : formatMs(durationOption)} ${easingOption} ${typeof delay === "string" ? delay : formatMs(delay)}`).join(",");
  };
  return {
    getAutoHeightDuration,
    create,
    ...inputTransitions,
    easing: mergedEasing,
    duration: mergedDuration
  };
}

// node_modules/@mui/material/esm/styles/zIndex.js
var zIndex = {
  mobileStepper: 1000,
  fab: 1050,
  speedDial: 1050,
  appBar: 1100,
  drawer: 1200,
  modal: 1300,
  snackbar: 1400,
  tooltip: 1500
};
var zIndex_default = zIndex;

// node_modules/@mui/material/esm/styles/stringifyTheme.js
function isSerializable(val) {
  return isPlainObject2(val) || typeof val === "undefined" || typeof val === "string" || typeof val === "boolean" || typeof val === "number" || Array.isArray(val);
}
function stringifyTheme(baseTheme = {}) {
  const serializableTheme = {
    ...baseTheme
  };
  function serializeTheme(object) {
    const array = Object.entries(object);
    for (let index = 0;index < array.length; index++) {
      const [key, value] = array[index];
      if (!isSerializable(value) || key.startsWith("unstable_")) {
        delete object[key];
      } else if (isPlainObject2(value)) {
        object[key] = {
          ...value
        };
        serializeTheme(object[key]);
      }
    }
  }
  serializeTheme(serializableTheme);
  return `import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(serializableTheme, null, 2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`;
}

// node_modules/@mui/material/esm/styles/createThemeNoVars.js
function coefficientToPercentage(coefficient) {
  if (typeof coefficient === "number") {
    return `${(coefficient * 100).toFixed(0)}%`;
  }
  return `calc((${coefficient}) * 100%)`;
}
var parseAddition = (str) => {
  if (!Number.isNaN(+str)) {
    return +str;
  }
  const numbers = str.match(/\d*\.?\d+/g);
  if (!numbers) {
    return 0;
  }
  let sum = 0;
  for (let i = 0;i < numbers.length; i += 1) {
    sum += +numbers[i];
  }
  return sum;
};
function attachColorManipulators(theme) {
  Object.assign(theme, {
    alpha(color2, coefficient) {
      const obj = this || theme;
      if (obj.colorSpace) {
        return `oklch(from ${color2} l c h / ${typeof coefficient === "string" ? `calc(${coefficient})` : coefficient})`;
      }
      if (obj.vars) {
        return `rgba(${color2.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g, "var(--$1Channel)")} / ${typeof coefficient === "string" ? `calc(${coefficient})` : coefficient})`;
      }
      return alpha(color2, parseAddition(coefficient));
    },
    lighten(color2, coefficient) {
      const obj = this || theme;
      if (obj.colorSpace) {
        return `color-mix(in ${obj.colorSpace}, ${color2}, #fff ${coefficientToPercentage(coefficient)})`;
      }
      return lighten(color2, coefficient);
    },
    darken(color2, coefficient) {
      const obj = this || theme;
      if (obj.colorSpace) {
        return `color-mix(in ${obj.colorSpace}, ${color2}, #000 ${coefficientToPercentage(coefficient)})`;
      }
      return darken(color2, coefficient);
    }
  });
}
function createThemeNoVars(options = {}, ...args) {
  const {
    breakpoints: breakpointsInput,
    mixins: mixinsInput = {},
    spacing: spacingInput,
    palette: paletteInput = {},
    transitions: transitionsInput = {},
    typography: typographyInput = {},
    shape: shapeInput,
    colorSpace,
    ...other
  } = options;
  if (options.vars && options.generateThemeVars === undefined) {
    throw new Error("MUI: `vars` is a private field used for CSS variables support.\n" + "Please use another name or follow the [docs](https://mui.com/material-ui/customization/css-theme-variables/usage/) to enable the feature.");
  }
  const palette3 = createPalette({
    ...paletteInput,
    colorSpace
  });
  const systemTheme = createTheme_default(options);
  let muiTheme = deepmerge(systemTheme, {
    mixins: createMixins(systemTheme.breakpoints, mixinsInput),
    palette: palette3,
    shadows: shadows_default.slice(),
    typography: createTypography(palette3, typographyInput),
    transitions: createTransitions(transitionsInput),
    zIndex: {
      ...zIndex_default
    }
  });
  muiTheme = deepmerge(muiTheme, other);
  muiTheme = args.reduce((acc, argument) => deepmerge(acc, argument), muiTheme);
  if (true) {
    const stateClasses = ["active", "checked", "completed", "disabled", "error", "expanded", "focused", "focusVisible", "required", "selected"];
    const traverse = (node2, component) => {
      let key;
      for (key in node2) {
        const child = node2[key];
        if (stateClasses.includes(key) && Object.keys(child).length > 0) {
          if (true) {
            const stateClass = generateUtilityClass("", key);
            console.error([`MUI: The \`${component}\` component increases ` + `the CSS specificity of the \`${key}\` internal state.`, "You can not override it like this: ", JSON.stringify(node2, null, 2), "", `Instead, you need to use the '&.${stateClass}' syntax:`, JSON.stringify({
              root: {
                [`&.${stateClass}`]: child
              }
            }, null, 2), "", "https://mui.com/r/state-classes-guide"].join(`
`));
          }
          node2[key] = {};
        }
      }
    };
    Object.keys(muiTheme.components).forEach((component) => {
      const styleOverrides = muiTheme.components[component].styleOverrides;
      if (styleOverrides && component.startsWith("Mui")) {
        traverse(styleOverrides, component);
      }
    });
  }
  muiTheme.unstable_sxConfig = {
    ...defaultSxConfig_default,
    ...other?.unstable_sxConfig
  };
  muiTheme.unstable_sx = function sx(props) {
    return styleFunctionSx_default({
      sx: props,
      theme: this
    });
  };
  muiTheme.toRuntimeSource = stringifyTheme;
  attachColorManipulators(muiTheme);
  return muiTheme;
}
var createThemeNoVars_default = createThemeNoVars;

// node_modules/@mui/material/esm/styles/getOverlayAlpha.js
function getOverlayAlpha(elevation) {
  let alphaValue;
  if (elevation < 1) {
    alphaValue = 5.11916 * elevation ** 2;
  } else {
    alphaValue = 4.5 * Math.log(elevation + 1) + 2;
  }
  return Math.round(alphaValue * 10) / 1000;
}

// node_modules/@mui/material/esm/styles/createColorScheme.js
var defaultDarkOverlays = [...Array(25)].map((_, index) => {
  if (index === 0) {
    return "none";
  }
  const overlay = getOverlayAlpha(index);
  return `linear-gradient(rgba(255 255 255 / ${overlay}), rgba(255 255 255 / ${overlay}))`;
});
function getOpacity(mode) {
  return {
    inputPlaceholder: mode === "dark" ? 0.5 : 0.42,
    inputUnderline: mode === "dark" ? 0.7 : 0.42,
    switchTrackDisabled: mode === "dark" ? 0.2 : 0.12,
    switchTrack: mode === "dark" ? 0.3 : 0.38
  };
}
function getOverlays(mode) {
  return mode === "dark" ? defaultDarkOverlays : [];
}
function createColorScheme(options) {
  const {
    palette: paletteInput = {
      mode: "light"
    },
    opacity,
    overlays,
    colorSpace,
    ...other
  } = options;
  const palette3 = createPalette({
    ...paletteInput,
    colorSpace
  });
  return {
    palette: palette3,
    opacity: {
      ...getOpacity(palette3.mode),
      ...opacity
    },
    overlays: overlays || getOverlays(palette3.mode),
    ...other
  };
}

// node_modules/@mui/material/esm/styles/shouldSkipGeneratingVar.js
function shouldSkipGeneratingVar(keys) {
  return !!keys[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/) || !!keys[0].match(/sxConfig$/) || keys[0] === "palette" && !!keys[1]?.match(/(mode|contrastThreshold|tonalOffset)/);
}

// node_modules/@mui/material/esm/styles/excludeVariablesFromRoot.js
var excludeVariablesFromRoot = (cssVarPrefix) => [...[...Array(25)].map((_, index) => `--${cssVarPrefix ? `${cssVarPrefix}-` : ""}overlays-${index}`), `--${cssVarPrefix ? `${cssVarPrefix}-` : ""}palette-AppBar-darkBg`, `--${cssVarPrefix ? `${cssVarPrefix}-` : ""}palette-AppBar-darkColor`];
var excludeVariablesFromRoot_default = excludeVariablesFromRoot;

// node_modules/@mui/material/esm/styles/createGetSelector.js
var createGetSelector_default = (theme) => (colorScheme, css2) => {
  const root = theme.rootSelector || ":root";
  const selector = theme.colorSchemeSelector;
  let rule = selector;
  if (selector === "class") {
    rule = ".%s";
  }
  if (selector === "data") {
    rule = "[data-%s]";
  }
  if (selector?.startsWith("data-") && !selector.includes("%s")) {
    rule = `[${selector}="%s"]`;
  }
  if (theme.defaultColorScheme === colorScheme) {
    if (colorScheme === "dark") {
      const excludedVariables = {};
      excludeVariablesFromRoot_default(theme.cssVarPrefix).forEach((cssVar) => {
        excludedVariables[cssVar] = css2[cssVar];
        delete css2[cssVar];
      });
      if (rule === "media") {
        return {
          [root]: css2,
          [`@media (prefers-color-scheme: dark)`]: {
            [root]: excludedVariables
          }
        };
      }
      if (rule) {
        return {
          [rule.replace("%s", colorScheme)]: excludedVariables,
          [`${root}, ${rule.replace("%s", colorScheme)}`]: css2
        };
      }
      return {
        [root]: {
          ...css2,
          ...excludedVariables
        }
      };
    }
    if (rule && rule !== "media") {
      return `${root}, ${rule.replace("%s", String(colorScheme))}`;
    }
  } else if (colorScheme) {
    if (rule === "media") {
      return {
        [`@media (prefers-color-scheme: ${String(colorScheme)})`]: {
          [root]: css2
        }
      };
    }
    if (rule) {
      return rule.replace("%s", String(colorScheme));
    }
  }
  return root;
};

// node_modules/@mui/material/esm/styles/createThemeWithVars.js
function assignNode(obj, keys) {
  keys.forEach((k) => {
    if (!obj[k]) {
      obj[k] = {};
    }
  });
}
function setColor(obj, key, defaultValue) {
  if (!obj[key] && defaultValue) {
    obj[key] = defaultValue;
  }
}
function toRgb(color2) {
  if (typeof color2 !== "string" || !color2.startsWith("hsl")) {
    return color2;
  }
  return hslToRgb(color2);
}
function setColorChannel(obj, key) {
  if (!(`${key}Channel` in obj)) {
    obj[`${key}Channel`] = private_safeColorChannel(toRgb(obj[key]), `MUI: Can't create \`palette.${key}Channel\` because \`palette.${key}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().` + `
` + `To suppress this warning, you need to explicitly provide the \`palette.${key}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`);
  }
}
function getSpacingVal(spacingInput) {
  if (typeof spacingInput === "number") {
    return `${spacingInput}px`;
  }
  if (typeof spacingInput === "string" || typeof spacingInput === "function" || Array.isArray(spacingInput)) {
    return spacingInput;
  }
  return "8px";
}
var silent = (fn) => {
  try {
    return fn();
  } catch (error) {}
  return;
};
var createGetCssVar2 = (cssVarPrefix = "mui") => createGetCssVar(cssVarPrefix);
function attachColorScheme(colorSpace, colorSchemes, scheme, restTheme, colorScheme) {
  if (!scheme) {
    return;
  }
  scheme = scheme === true ? {} : scheme;
  const mode = colorScheme === "dark" ? "dark" : "light";
  if (!restTheme) {
    colorSchemes[colorScheme] = createColorScheme({
      ...scheme,
      palette: {
        mode,
        ...scheme?.palette
      },
      colorSpace
    });
    return;
  }
  const {
    palette: palette3,
    ...muiTheme
  } = createThemeNoVars_default({
    ...restTheme,
    palette: {
      mode,
      ...scheme?.palette
    },
    colorSpace
  });
  colorSchemes[colorScheme] = {
    ...scheme,
    palette: palette3,
    opacity: {
      ...getOpacity(mode),
      ...scheme?.opacity
    },
    overlays: scheme?.overlays || getOverlays(mode)
  };
  return muiTheme;
}
function createThemeWithVars(options = {}, ...args) {
  const {
    colorSchemes: colorSchemesInput = {
      light: true
    },
    defaultColorScheme: defaultColorSchemeInput,
    disableCssColorScheme = false,
    cssVarPrefix = "mui",
    nativeColor = false,
    shouldSkipGeneratingVar: shouldSkipGeneratingVar2 = shouldSkipGeneratingVar,
    colorSchemeSelector: selector = colorSchemesInput.light && colorSchemesInput.dark ? "media" : undefined,
    rootSelector = ":root",
    ...input
  } = options;
  const firstColorScheme = Object.keys(colorSchemesInput)[0];
  const defaultColorScheme = defaultColorSchemeInput || (colorSchemesInput.light && firstColorScheme !== "light" ? "light" : firstColorScheme);
  const getCssVar = createGetCssVar2(cssVarPrefix);
  const {
    [defaultColorScheme]: defaultSchemeInput,
    light: builtInLight,
    dark: builtInDark,
    ...customColorSchemes
  } = colorSchemesInput;
  const colorSchemes = {
    ...customColorSchemes
  };
  let defaultScheme = defaultSchemeInput;
  if (defaultColorScheme === "dark" && !("dark" in colorSchemesInput) || defaultColorScheme === "light" && !("light" in colorSchemesInput)) {
    defaultScheme = true;
  }
  if (!defaultScheme) {
    throw new Error(`MUI: The \`colorSchemes.${defaultColorScheme}\` option is either missing or invalid.`);
  }
  let colorSpace;
  if (nativeColor) {
    colorSpace = "oklch";
  }
  const muiTheme = attachColorScheme(colorSpace, colorSchemes, defaultScheme, input, defaultColorScheme);
  if (builtInLight && !colorSchemes.light) {
    attachColorScheme(colorSpace, colorSchemes, builtInLight, undefined, "light");
  }
  if (builtInDark && !colorSchemes.dark) {
    attachColorScheme(colorSpace, colorSchemes, builtInDark, undefined, "dark");
  }
  let theme = {
    defaultColorScheme,
    ...muiTheme,
    cssVarPrefix,
    colorSchemeSelector: selector,
    rootSelector,
    getCssVar,
    colorSchemes,
    font: {
      ...prepareTypographyVars(muiTheme.typography),
      ...muiTheme.font
    },
    spacing: getSpacingVal(input.spacing)
  };
  Object.keys(theme.colorSchemes).forEach((key) => {
    const palette3 = theme.colorSchemes[key].palette;
    const setCssVarColor = (cssVar) => {
      const tokens = cssVar.split("-");
      const color2 = tokens[1];
      const colorToken = tokens[2];
      return getCssVar(cssVar, palette3[color2][colorToken]);
    };
    if (palette3.mode === "light") {
      setColor(palette3.common, "background", "#fff");
      setColor(palette3.common, "onBackground", "#000");
    }
    if (palette3.mode === "dark") {
      setColor(palette3.common, "background", "#000");
      setColor(palette3.common, "onBackground", "#fff");
    }
    function colorMix(method, color2, coefficient) {
      if (colorSpace) {
        let mixer;
        if (method === private_safeAlpha) {
          mixer = `transparent ${((1 - coefficient) * 100).toFixed(0)}%`;
        }
        if (method === private_safeDarken) {
          mixer = `#000 ${(coefficient * 100).toFixed(0)}%`;
        }
        if (method === private_safeLighten) {
          mixer = `#fff ${(coefficient * 100).toFixed(0)}%`;
        }
        return `color-mix(in ${colorSpace}, ${color2}, ${mixer})`;
      }
      return method(color2, coefficient);
    }
    assignNode(palette3, ["Alert", "AppBar", "Avatar", "Button", "Chip", "FilledInput", "LinearProgress", "Skeleton", "Slider", "SnackbarContent", "SpeedDialAction", "StepConnector", "StepContent", "Switch", "TableCell", "Tooltip"]);
    if (palette3.mode === "light") {
      setColor(palette3.Alert, "errorColor", colorMix(private_safeDarken, palette3.error.light, 0.6));
      setColor(palette3.Alert, "infoColor", colorMix(private_safeDarken, palette3.info.light, 0.6));
      setColor(palette3.Alert, "successColor", colorMix(private_safeDarken, palette3.success.light, 0.6));
      setColor(palette3.Alert, "warningColor", colorMix(private_safeDarken, palette3.warning.light, 0.6));
      setColor(palette3.Alert, "errorFilledBg", setCssVarColor("palette-error-main"));
      setColor(palette3.Alert, "infoFilledBg", setCssVarColor("palette-info-main"));
      setColor(palette3.Alert, "successFilledBg", setCssVarColor("palette-success-main"));
      setColor(palette3.Alert, "warningFilledBg", setCssVarColor("palette-warning-main"));
      setColor(palette3.Alert, "errorFilledColor", silent(() => palette3.getContrastText(palette3.error.main)));
      setColor(palette3.Alert, "infoFilledColor", silent(() => palette3.getContrastText(palette3.info.main)));
      setColor(palette3.Alert, "successFilledColor", silent(() => palette3.getContrastText(palette3.success.main)));
      setColor(palette3.Alert, "warningFilledColor", silent(() => palette3.getContrastText(palette3.warning.main)));
      setColor(palette3.Alert, "errorStandardBg", colorMix(private_safeLighten, palette3.error.light, 0.9));
      setColor(palette3.Alert, "infoStandardBg", colorMix(private_safeLighten, palette3.info.light, 0.9));
      setColor(palette3.Alert, "successStandardBg", colorMix(private_safeLighten, palette3.success.light, 0.9));
      setColor(palette3.Alert, "warningStandardBg", colorMix(private_safeLighten, palette3.warning.light, 0.9));
      setColor(palette3.Alert, "errorIconColor", setCssVarColor("palette-error-main"));
      setColor(palette3.Alert, "infoIconColor", setCssVarColor("palette-info-main"));
      setColor(palette3.Alert, "successIconColor", setCssVarColor("palette-success-main"));
      setColor(palette3.Alert, "warningIconColor", setCssVarColor("palette-warning-main"));
      setColor(palette3.AppBar, "defaultBg", setCssVarColor("palette-grey-100"));
      setColor(palette3.Avatar, "defaultBg", setCssVarColor("palette-grey-400"));
      setColor(palette3.Button, "inheritContainedBg", setCssVarColor("palette-grey-300"));
      setColor(palette3.Button, "inheritContainedHoverBg", setCssVarColor("palette-grey-A100"));
      setColor(palette3.Chip, "defaultBorder", setCssVarColor("palette-grey-400"));
      setColor(palette3.Chip, "defaultAvatarColor", setCssVarColor("palette-grey-700"));
      setColor(palette3.Chip, "defaultIconColor", setCssVarColor("palette-grey-700"));
      setColor(palette3.FilledInput, "bg", "rgba(0, 0, 0, 0.06)");
      setColor(palette3.FilledInput, "hoverBg", "rgba(0, 0, 0, 0.09)");
      setColor(palette3.FilledInput, "disabledBg", "rgba(0, 0, 0, 0.12)");
      setColor(palette3.LinearProgress, "primaryBg", colorMix(private_safeLighten, palette3.primary.main, 0.62));
      setColor(palette3.LinearProgress, "secondaryBg", colorMix(private_safeLighten, palette3.secondary.main, 0.62));
      setColor(palette3.LinearProgress, "errorBg", colorMix(private_safeLighten, palette3.error.main, 0.62));
      setColor(palette3.LinearProgress, "infoBg", colorMix(private_safeLighten, palette3.info.main, 0.62));
      setColor(palette3.LinearProgress, "successBg", colorMix(private_safeLighten, palette3.success.main, 0.62));
      setColor(palette3.LinearProgress, "warningBg", colorMix(private_safeLighten, palette3.warning.main, 0.62));
      setColor(palette3.Skeleton, "bg", colorSpace ? colorMix(private_safeAlpha, palette3.text.primary, 0.11) : `rgba(${setCssVarColor("palette-text-primaryChannel")} / 0.11)`);
      setColor(palette3.Slider, "primaryTrack", colorMix(private_safeLighten, palette3.primary.main, 0.62));
      setColor(palette3.Slider, "secondaryTrack", colorMix(private_safeLighten, palette3.secondary.main, 0.62));
      setColor(palette3.Slider, "errorTrack", colorMix(private_safeLighten, palette3.error.main, 0.62));
      setColor(palette3.Slider, "infoTrack", colorMix(private_safeLighten, palette3.info.main, 0.62));
      setColor(palette3.Slider, "successTrack", colorMix(private_safeLighten, palette3.success.main, 0.62));
      setColor(palette3.Slider, "warningTrack", colorMix(private_safeLighten, palette3.warning.main, 0.62));
      const snackbarContentBackground = colorSpace ? colorMix(private_safeDarken, palette3.background.default, 0.6825) : private_safeEmphasize(palette3.background.default, 0.8);
      setColor(palette3.SnackbarContent, "bg", snackbarContentBackground);
      setColor(palette3.SnackbarContent, "color", silent(() => colorSpace ? dark.text.primary : palette3.getContrastText(snackbarContentBackground)));
      setColor(palette3.SpeedDialAction, "fabHoverBg", private_safeEmphasize(palette3.background.paper, 0.15));
      setColor(palette3.StepConnector, "border", setCssVarColor("palette-grey-400"));
      setColor(palette3.StepContent, "border", setCssVarColor("palette-grey-400"));
      setColor(palette3.Switch, "defaultColor", setCssVarColor("palette-common-white"));
      setColor(palette3.Switch, "defaultDisabledColor", setCssVarColor("palette-grey-100"));
      setColor(palette3.Switch, "primaryDisabledColor", colorMix(private_safeLighten, palette3.primary.main, 0.62));
      setColor(palette3.Switch, "secondaryDisabledColor", colorMix(private_safeLighten, palette3.secondary.main, 0.62));
      setColor(palette3.Switch, "errorDisabledColor", colorMix(private_safeLighten, palette3.error.main, 0.62));
      setColor(palette3.Switch, "infoDisabledColor", colorMix(private_safeLighten, palette3.info.main, 0.62));
      setColor(palette3.Switch, "successDisabledColor", colorMix(private_safeLighten, palette3.success.main, 0.62));
      setColor(palette3.Switch, "warningDisabledColor", colorMix(private_safeLighten, palette3.warning.main, 0.62));
      setColor(palette3.TableCell, "border", colorMix(private_safeLighten, colorMix(private_safeAlpha, palette3.divider, 1), 0.88));
      setColor(palette3.Tooltip, "bg", colorMix(private_safeAlpha, palette3.grey[700], 0.92));
    }
    if (palette3.mode === "dark") {
      setColor(palette3.Alert, "errorColor", colorMix(private_safeLighten, palette3.error.light, 0.6));
      setColor(palette3.Alert, "infoColor", colorMix(private_safeLighten, palette3.info.light, 0.6));
      setColor(palette3.Alert, "successColor", colorMix(private_safeLighten, palette3.success.light, 0.6));
      setColor(palette3.Alert, "warningColor", colorMix(private_safeLighten, palette3.warning.light, 0.6));
      setColor(palette3.Alert, "errorFilledBg", setCssVarColor("palette-error-dark"));
      setColor(palette3.Alert, "infoFilledBg", setCssVarColor("palette-info-dark"));
      setColor(palette3.Alert, "successFilledBg", setCssVarColor("palette-success-dark"));
      setColor(palette3.Alert, "warningFilledBg", setCssVarColor("palette-warning-dark"));
      setColor(palette3.Alert, "errorFilledColor", silent(() => palette3.getContrastText(palette3.error.dark)));
      setColor(palette3.Alert, "infoFilledColor", silent(() => palette3.getContrastText(palette3.info.dark)));
      setColor(palette3.Alert, "successFilledColor", silent(() => palette3.getContrastText(palette3.success.dark)));
      setColor(palette3.Alert, "warningFilledColor", silent(() => palette3.getContrastText(palette3.warning.dark)));
      setColor(palette3.Alert, "errorStandardBg", colorMix(private_safeDarken, palette3.error.light, 0.9));
      setColor(palette3.Alert, "infoStandardBg", colorMix(private_safeDarken, palette3.info.light, 0.9));
      setColor(palette3.Alert, "successStandardBg", colorMix(private_safeDarken, palette3.success.light, 0.9));
      setColor(palette3.Alert, "warningStandardBg", colorMix(private_safeDarken, palette3.warning.light, 0.9));
      setColor(palette3.Alert, "errorIconColor", setCssVarColor("palette-error-main"));
      setColor(palette3.Alert, "infoIconColor", setCssVarColor("palette-info-main"));
      setColor(palette3.Alert, "successIconColor", setCssVarColor("palette-success-main"));
      setColor(palette3.Alert, "warningIconColor", setCssVarColor("palette-warning-main"));
      setColor(palette3.AppBar, "defaultBg", setCssVarColor("palette-grey-900"));
      setColor(palette3.AppBar, "darkBg", setCssVarColor("palette-background-paper"));
      setColor(palette3.AppBar, "darkColor", setCssVarColor("palette-text-primary"));
      setColor(palette3.Avatar, "defaultBg", setCssVarColor("palette-grey-600"));
      setColor(palette3.Button, "inheritContainedBg", setCssVarColor("palette-grey-800"));
      setColor(palette3.Button, "inheritContainedHoverBg", setCssVarColor("palette-grey-700"));
      setColor(palette3.Chip, "defaultBorder", setCssVarColor("palette-grey-700"));
      setColor(palette3.Chip, "defaultAvatarColor", setCssVarColor("palette-grey-300"));
      setColor(palette3.Chip, "defaultIconColor", setCssVarColor("palette-grey-300"));
      setColor(palette3.FilledInput, "bg", "rgba(255, 255, 255, 0.09)");
      setColor(palette3.FilledInput, "hoverBg", "rgba(255, 255, 255, 0.13)");
      setColor(palette3.FilledInput, "disabledBg", "rgba(255, 255, 255, 0.12)");
      setColor(palette3.LinearProgress, "primaryBg", colorMix(private_safeDarken, palette3.primary.main, 0.5));
      setColor(palette3.LinearProgress, "secondaryBg", colorMix(private_safeDarken, palette3.secondary.main, 0.5));
      setColor(palette3.LinearProgress, "errorBg", colorMix(private_safeDarken, palette3.error.main, 0.5));
      setColor(palette3.LinearProgress, "infoBg", colorMix(private_safeDarken, palette3.info.main, 0.5));
      setColor(palette3.LinearProgress, "successBg", colorMix(private_safeDarken, palette3.success.main, 0.5));
      setColor(palette3.LinearProgress, "warningBg", colorMix(private_safeDarken, palette3.warning.main, 0.5));
      setColor(palette3.Skeleton, "bg", colorSpace ? colorMix(private_safeAlpha, palette3.text.primary, 0.13) : `rgba(${setCssVarColor("palette-text-primaryChannel")} / 0.13)`);
      setColor(palette3.Slider, "primaryTrack", colorMix(private_safeDarken, palette3.primary.main, 0.5));
      setColor(palette3.Slider, "secondaryTrack", colorMix(private_safeDarken, palette3.secondary.main, 0.5));
      setColor(palette3.Slider, "errorTrack", colorMix(private_safeDarken, palette3.error.main, 0.5));
      setColor(palette3.Slider, "infoTrack", colorMix(private_safeDarken, palette3.info.main, 0.5));
      setColor(palette3.Slider, "successTrack", colorMix(private_safeDarken, palette3.success.main, 0.5));
      setColor(palette3.Slider, "warningTrack", colorMix(private_safeDarken, palette3.warning.main, 0.5));
      const snackbarContentBackground = colorSpace ? colorMix(private_safeLighten, palette3.background.default, 0.985) : private_safeEmphasize(palette3.background.default, 0.98);
      setColor(palette3.SnackbarContent, "bg", snackbarContentBackground);
      setColor(palette3.SnackbarContent, "color", silent(() => colorSpace ? light.text.primary : palette3.getContrastText(snackbarContentBackground)));
      setColor(palette3.SpeedDialAction, "fabHoverBg", private_safeEmphasize(palette3.background.paper, 0.15));
      setColor(palette3.StepConnector, "border", setCssVarColor("palette-grey-600"));
      setColor(palette3.StepContent, "border", setCssVarColor("palette-grey-600"));
      setColor(palette3.Switch, "defaultColor", setCssVarColor("palette-grey-300"));
      setColor(palette3.Switch, "defaultDisabledColor", setCssVarColor("palette-grey-600"));
      setColor(palette3.Switch, "primaryDisabledColor", colorMix(private_safeDarken, palette3.primary.main, 0.55));
      setColor(palette3.Switch, "secondaryDisabledColor", colorMix(private_safeDarken, palette3.secondary.main, 0.55));
      setColor(palette3.Switch, "errorDisabledColor", colorMix(private_safeDarken, palette3.error.main, 0.55));
      setColor(palette3.Switch, "infoDisabledColor", colorMix(private_safeDarken, palette3.info.main, 0.55));
      setColor(palette3.Switch, "successDisabledColor", colorMix(private_safeDarken, palette3.success.main, 0.55));
      setColor(palette3.Switch, "warningDisabledColor", colorMix(private_safeDarken, palette3.warning.main, 0.55));
      setColor(palette3.TableCell, "border", colorMix(private_safeDarken, colorMix(private_safeAlpha, palette3.divider, 1), 0.68));
      setColor(palette3.Tooltip, "bg", colorMix(private_safeAlpha, palette3.grey[700], 0.92));
    }
    setColorChannel(palette3.background, "default");
    setColorChannel(palette3.background, "paper");
    setColorChannel(palette3.common, "background");
    setColorChannel(palette3.common, "onBackground");
    setColorChannel(palette3, "divider");
    Object.keys(palette3).forEach((color2) => {
      const colors = palette3[color2];
      if (color2 !== "tonalOffset" && colors && typeof colors === "object") {
        if (colors.main) {
          setColor(palette3[color2], "mainChannel", private_safeColorChannel(toRgb(colors.main)));
        }
        if (colors.light) {
          setColor(palette3[color2], "lightChannel", private_safeColorChannel(toRgb(colors.light)));
        }
        if (colors.dark) {
          setColor(palette3[color2], "darkChannel", private_safeColorChannel(toRgb(colors.dark)));
        }
        if (colors.contrastText) {
          setColor(palette3[color2], "contrastTextChannel", private_safeColorChannel(toRgb(colors.contrastText)));
        }
        if (color2 === "text") {
          setColorChannel(palette3[color2], "primary");
          setColorChannel(palette3[color2], "secondary");
        }
        if (color2 === "action") {
          if (colors.active) {
            setColorChannel(palette3[color2], "active");
          }
          if (colors.selected) {
            setColorChannel(palette3[color2], "selected");
          }
        }
      }
    });
  });
  theme = args.reduce((acc, argument) => deepmerge(acc, argument), theme);
  const parserConfig = {
    prefix: cssVarPrefix,
    disableCssColorScheme,
    shouldSkipGeneratingVar: shouldSkipGeneratingVar2,
    getSelector: createGetSelector_default(theme),
    enableContrastVars: nativeColor
  };
  const {
    vars,
    generateThemeVars,
    generateStyleSheets
  } = prepareCssVars_default(theme, parserConfig);
  theme.vars = vars;
  Object.entries(theme.colorSchemes[theme.defaultColorScheme]).forEach(([key, value]) => {
    theme[key] = value;
  });
  theme.generateThemeVars = generateThemeVars;
  theme.generateStyleSheets = generateStyleSheets;
  theme.generateSpacing = function generateSpacing() {
    return createSpacing(input.spacing, createUnarySpacing(this));
  };
  theme.getColorSchemeSelector = createGetColorSchemeSelector(selector);
  theme.spacing = theme.generateSpacing();
  theme.shouldSkipGeneratingVar = shouldSkipGeneratingVar2;
  theme.unstable_sxConfig = {
    ...defaultSxConfig_default,
    ...input?.unstable_sxConfig
  };
  theme.unstable_sx = function sx(props) {
    return styleFunctionSx_default({
      sx: props,
      theme: this
    });
  };
  theme.toRuntimeSource = stringifyTheme;
  return theme;
}

// node_modules/@mui/material/esm/styles/createTheme.js
function attachColorScheme2(theme, scheme, colorScheme) {
  if (!theme.colorSchemes) {
    return;
  }
  if (colorScheme) {
    theme.colorSchemes[scheme] = {
      ...colorScheme !== true && colorScheme,
      palette: createPalette({
        ...colorScheme === true ? {} : colorScheme.palette,
        mode: scheme
      })
    };
  }
}
function createTheme2(options = {}, ...args) {
  const {
    palette: palette3,
    cssVariables = false,
    colorSchemes: initialColorSchemes = !palette3 ? {
      light: true
    } : undefined,
    defaultColorScheme: initialDefaultColorScheme = palette3?.mode,
    ...other
  } = options;
  const defaultColorSchemeInput = initialDefaultColorScheme || "light";
  const defaultScheme = initialColorSchemes?.[defaultColorSchemeInput];
  const colorSchemesInput = {
    ...initialColorSchemes,
    ...palette3 ? {
      [defaultColorSchemeInput]: {
        ...typeof defaultScheme !== "boolean" && defaultScheme,
        palette: palette3
      }
    } : undefined
  };
  if (cssVariables === false) {
    if (!("colorSchemes" in options)) {
      return createThemeNoVars_default(options, ...args);
    }
    let paletteOptions = palette3;
    if (!("palette" in options)) {
      if (colorSchemesInput[defaultColorSchemeInput]) {
        if (colorSchemesInput[defaultColorSchemeInput] !== true) {
          paletteOptions = colorSchemesInput[defaultColorSchemeInput].palette;
        } else if (defaultColorSchemeInput === "dark") {
          paletteOptions = {
            mode: "dark"
          };
        }
      }
    }
    const theme = createThemeNoVars_default({
      ...options,
      palette: paletteOptions
    }, ...args);
    theme.defaultColorScheme = defaultColorSchemeInput;
    theme.colorSchemes = colorSchemesInput;
    if (theme.palette.mode === "light") {
      theme.colorSchemes.light = {
        ...colorSchemesInput.light !== true && colorSchemesInput.light,
        palette: theme.palette
      };
      attachColorScheme2(theme, "dark", colorSchemesInput.dark);
    }
    if (theme.palette.mode === "dark") {
      theme.colorSchemes.dark = {
        ...colorSchemesInput.dark !== true && colorSchemesInput.dark,
        palette: theme.palette
      };
      attachColorScheme2(theme, "light", colorSchemesInput.light);
    }
    return theme;
  }
  if (!palette3 && !("light" in colorSchemesInput) && defaultColorSchemeInput === "light") {
    colorSchemesInput.light = true;
  }
  return createThemeWithVars({
    ...other,
    colorSchemes: colorSchemesInput,
    defaultColorScheme: defaultColorSchemeInput,
    ...typeof cssVariables !== "boolean" && cssVariables
  }, ...args);
}

// node_modules/@mui/material/esm/styles/defaultTheme.js
"use client";
var defaultTheme4 = createTheme2();
var defaultTheme_default = defaultTheme4;

// node_modules/@mui/material/esm/styles/identifier.js
var identifier_default = "$$material";

// node_modules/@mui/material/esm/styles/useTheme.js
"use client";
function useTheme6() {
  const theme = useTheme_default(defaultTheme_default);
  if (true) {
    React40.useDebugValue(theme);
  }
  return theme[identifier_default] || theme;
}

// node_modules/@mui/material/esm/GlobalStyles/GlobalStyles.js
var import_prop_types13 = __toESM(require_prop_types(), 1);
var import_jsx_runtime14 = __toESM(require_jsx_runtime(), 1);
"use client";
function GlobalStyles4(props) {
  return /* @__PURE__ */ import_jsx_runtime14.jsx(GlobalStyles_default, {
    ...props,
    defaultTheme: defaultTheme_default,
    themeId: identifier_default
  });
}
GlobalStyles4.propTypes = {
  styles: import_prop_types13.default.oneOfType([import_prop_types13.default.array, import_prop_types13.default.func, import_prop_types13.default.number, import_prop_types13.default.object, import_prop_types13.default.string, import_prop_types13.default.bool])
};
var GlobalStyles_default2 = GlobalStyles4;
// node_modules/@mui/material/esm/zero-styled/index.js
var import_jsx_runtime15 = __toESM(require_jsx_runtime(), 1);

// node_modules/@mui/material/esm/styles/slotShouldForwardProp.js
function slotShouldForwardProp(prop) {
  return prop !== "ownerState" && prop !== "theme" && prop !== "sx" && prop !== "as";
}
var slotShouldForwardProp_default = slotShouldForwardProp;

// node_modules/@mui/material/esm/styles/rootShouldForwardProp.js
var rootShouldForwardProp = (prop) => slotShouldForwardProp_default(prop) && prop !== "classes";
var rootShouldForwardProp_default = rootShouldForwardProp;

// node_modules/@mui/material/esm/styles/styled.js
"use client";
var styled4 = createStyled3({
  themeId: identifier_default,
  defaultTheme: defaultTheme_default,
  rootShouldForwardProp: rootShouldForwardProp_default
});
var styled_default2 = styled4;

// node_modules/@mui/material/esm/zero-styled/index.js
function globalCss(styles) {
  return function GlobalStylesWrapper(props) {
    return /* @__PURE__ */ import_jsx_runtime15.jsx(GlobalStyles_default2, {
      styles: typeof styles === "function" ? (theme) => styles({
        theme,
        ...props
      }) : styles
    });
  };
}
function internal_createExtendSxProp() {
  return extendSxProp;
}

// node_modules/@mui/material/esm/utils/memoTheme.js
var memoTheme = unstable_memoTheme;
var memoTheme_default = memoTheme;

// node_modules/@mui/material/esm/DefaultPropsProvider/DefaultPropsProvider.js
var React41 = __toESM(require_react(), 1);
var import_prop_types14 = __toESM(require_prop_types(), 1);
var import_jsx_runtime16 = __toESM(require_jsx_runtime(), 1);
"use client";
function DefaultPropsProvider2(props) {
  return /* @__PURE__ */ import_jsx_runtime16.jsx(DefaultPropsProvider_default, {
    ...props
  });
}
DefaultPropsProvider2.propTypes = {
  children: import_prop_types14.default.node,
  value: import_prop_types14.default.object.isRequired
};
function useDefaultProps2(params) {
  return useDefaultProps(params);
}
// node_modules/@mui/material/esm/utils/capitalize.js
var capitalize_default = capitalize;

// node_modules/@mui/material/esm/utils/createSimplePaletteValueFilter.js
function hasCorrectMainProperty(obj) {
  return typeof obj.main === "string";
}
function checkSimplePaletteColorValues(obj, additionalPropertiesToCheck = []) {
  if (!hasCorrectMainProperty(obj)) {
    return false;
  }
  for (const value of additionalPropertiesToCheck) {
    if (!obj.hasOwnProperty(value) || typeof obj[value] !== "string") {
      return false;
    }
  }
  return true;
}
function createSimplePaletteValueFilter(additionalPropertiesToCheck = []) {
  return ([, value]) => value && checkSimplePaletteColorValues(value, additionalPropertiesToCheck);
}

// node_modules/@mui/material/esm/Typography/typographyClasses.js
function getTypographyUtilityClass(slot) {
  return generateUtilityClass("MuiTypography", slot);
}
var typographyClasses = generateUtilityClasses("MuiTypography", ["root", "h1", "h2", "h3", "h4", "h5", "h6", "subtitle1", "subtitle2", "body1", "body2", "inherit", "button", "caption", "overline", "alignLeft", "alignRight", "alignCenter", "alignJustify", "noWrap", "gutterBottom", "paragraph"]);
var typographyClasses_default = typographyClasses;

// node_modules/@mui/material/esm/Typography/Typography.js
var import_jsx_runtime17 = __toESM(require_jsx_runtime(), 1);
"use client";
var v6Colors = {
  primary: true,
  secondary: true,
  error: true,
  info: true,
  success: true,
  warning: true,
  textPrimary: true,
  textSecondary: true,
  textDisabled: true
};
var extendSxProp2 = internal_createExtendSxProp();
var useUtilityClasses2 = (ownerState) => {
  const {
    align,
    gutterBottom,
    noWrap,
    paragraph,
    variant,
    classes
  } = ownerState;
  const slots = {
    root: ["root", variant, ownerState.align !== "inherit" && `align${capitalize_default(align)}`, gutterBottom && "gutterBottom", noWrap && "noWrap", paragraph && "paragraph"]
  };
  return composeClasses(slots, getTypographyUtilityClass, classes);
};
var TypographyRoot = styled_default2("span", {
  name: "MuiTypography",
  slot: "Root",
  overridesResolver: (props, styles) => {
    const {
      ownerState
    } = props;
    return [styles.root, ownerState.variant && styles[ownerState.variant], ownerState.align !== "inherit" && styles[`align${capitalize_default(ownerState.align)}`], ownerState.noWrap && styles.noWrap, ownerState.gutterBottom && styles.gutterBottom, ownerState.paragraph && styles.paragraph];
  }
})(memoTheme_default(({
  theme
}) => ({
  margin: 0,
  variants: [{
    props: {
      variant: "inherit"
    },
    style: {
      font: "inherit",
      lineHeight: "inherit",
      letterSpacing: "inherit"
    }
  }, ...Object.entries(theme.typography).filter(([variant, value]) => variant !== "inherit" && value && typeof value === "object").map(([variant, value]) => ({
    props: {
      variant
    },
    style: value
  })), ...Object.entries(theme.palette).filter(createSimplePaletteValueFilter()).map(([color2]) => ({
    props: {
      color: color2
    },
    style: {
      color: (theme.vars || theme).palette[color2].main
    }
  })), ...Object.entries(theme.palette?.text || {}).filter(([, value]) => typeof value === "string").map(([color2]) => ({
    props: {
      color: `text${capitalize_default(color2)}`
    },
    style: {
      color: (theme.vars || theme).palette.text[color2]
    }
  })), {
    props: ({
      ownerState
    }) => ownerState.align !== "inherit",
    style: {
      textAlign: "var(--Typography-textAlign)"
    }
  }, {
    props: ({
      ownerState
    }) => ownerState.noWrap,
    style: {
      overflow: "hidden",
      textOverflow: "ellipsis",
      whiteSpace: "nowrap"
    }
  }, {
    props: ({
      ownerState
    }) => ownerState.gutterBottom,
    style: {
      marginBottom: "0.35em"
    }
  }, {
    props: ({
      ownerState
    }) => ownerState.paragraph,
    style: {
      marginBottom: 16
    }
  }]
})));
var defaultVariantMapping = {
  h1: "h1",
  h2: "h2",
  h3: "h3",
  h4: "h4",
  h5: "h5",
  h6: "h6",
  subtitle1: "h6",
  subtitle2: "h6",
  body1: "p",
  body2: "p",
  inherit: "p"
};
var Typography = /* @__PURE__ */ React42.forwardRef(function Typography2(inProps, ref) {
  const {
    color: color2,
    ...themeProps
  } = useDefaultProps2({
    props: inProps,
    name: "MuiTypography"
  });
  const isSxColor = !v6Colors[color2];
  const props = extendSxProp2({
    ...themeProps,
    ...isSxColor && {
      color: color2
    }
  });
  const {
    align = "inherit",
    className,
    component,
    gutterBottom = false,
    noWrap = false,
    paragraph = false,
    variant = "body1",
    variantMapping = defaultVariantMapping,
    ...other
  } = props;
  const ownerState = {
    ...props,
    align,
    color: color2,
    className,
    component,
    gutterBottom,
    noWrap,
    paragraph,
    variant,
    variantMapping
  };
  const Component4 = component || (paragraph ? "p" : variantMapping[variant] || defaultVariantMapping[variant]) || "span";
  const classes = useUtilityClasses2(ownerState);
  return /* @__PURE__ */ import_jsx_runtime17.jsx(TypographyRoot, {
    as: Component4,
    ref,
    className: clsx_default(classes.root, className),
    ...other,
    ownerState,
    style: {
      ...align !== "inherit" && {
        "--Typography-textAlign": align
      },
      ...other.style
    }
  });
});
Typography.propTypes = {
  align: import_prop_types15.default.oneOf(["center", "inherit", "justify", "left", "right"]),
  children: import_prop_types15.default.node,
  classes: import_prop_types15.default.object,
  className: import_prop_types15.default.string,
  color: import_prop_types15.default.oneOfType([import_prop_types15.default.oneOf(["primary", "secondary", "success", "error", "info", "warning", "textPrimary", "textSecondary", "textDisabled"]), import_prop_types15.default.string]),
  component: import_prop_types15.default.elementType,
  gutterBottom: import_prop_types15.default.bool,
  noWrap: import_prop_types15.default.bool,
  paragraph: import_prop_types15.default.bool,
  style: import_prop_types15.default.object,
  sx: import_prop_types15.default.oneOfType([import_prop_types15.default.arrayOf(import_prop_types15.default.oneOfType([import_prop_types15.default.func, import_prop_types15.default.object, import_prop_types15.default.bool])), import_prop_types15.default.func, import_prop_types15.default.object]),
  variant: import_prop_types15.default.oneOfType([import_prop_types15.default.oneOf(["body1", "body2", "button", "caption", "h1", "h2", "h3", "h4", "h5", "h6", "inherit", "overline", "subtitle1", "subtitle2"]), import_prop_types15.default.string]),
  variantMapping: import_prop_types15.default.object
};
var Typography_default = Typography;
// node_modules/@mui/material/esm/Box/Box.js
var import_prop_types17 = __toESM(require_prop_types(), 1);
// node_modules/@mui/material/esm/styles/cssUtils.js
function isUnitless(value) {
  return String(parseFloat(value)).length === String(value).length;
}
function getUnit(input) {
  return String(input).match(/[\d.\-+]*\s*(.*)/)[1] || "";
}
function toUnitless(length2) {
  return parseFloat(length2);
}
function convertLength(baseFontSize) {
  return (length2, toUnit) => {
    const fromUnit = getUnit(length2);
    if (fromUnit === toUnit) {
      return length2;
    }
    let pxLength = toUnitless(length2);
    if (fromUnit !== "px") {
      if (fromUnit === "em") {
        pxLength = toUnitless(length2) * toUnitless(baseFontSize);
      } else if (fromUnit === "rem") {
        pxLength = toUnitless(length2) * toUnitless(baseFontSize);
      }
    }
    let outputLength = pxLength;
    if (toUnit !== "px") {
      if (toUnit === "em") {
        outputLength = pxLength / toUnitless(baseFontSize);
      } else if (toUnit === "rem") {
        outputLength = pxLength / toUnitless(baseFontSize);
      } else {
        return length2;
      }
    }
    return parseFloat(outputLength.toFixed(5)) + toUnit;
  };
}
function alignProperty({
  size,
  grid: grid2
}) {
  const sizeBelow = size - size % grid2;
  const sizeAbove = sizeBelow + grid2;
  return size - sizeBelow < sizeAbove - size ? sizeBelow : sizeAbove;
}
function fontGrid({
  lineHeight,
  pixels,
  htmlFontSize
}) {
  return pixels / (lineHeight * htmlFontSize);
}
function responsiveProperty({
  cssProperty,
  min,
  max,
  unit = "rem",
  breakpoints = [600, 900, 1200],
  transform = null
}) {
  const output = {
    [cssProperty]: `${min}${unit}`
  };
  const factor = (max - min) / breakpoints[breakpoints.length - 1];
  breakpoints.forEach((breakpoint) => {
    let value = min + factor * breakpoint;
    if (transform !== null) {
      value = transform(value);
    }
    output[`@media (min-width:${breakpoint}px)`] = {
      [cssProperty]: `${Math.round(value * 1e4) / 1e4}${unit}`
    };
  });
  return output;
}

// node_modules/@mui/material/esm/styles/responsiveFontSizes.js
function responsiveFontSizes(themeInput, options = {}) {
  const {
    breakpoints = ["sm", "md", "lg"],
    disableAlign = false,
    factor = 2,
    variants = ["h1", "h2", "h3", "h4", "h5", "h6", "subtitle1", "subtitle2", "body1", "body2", "caption", "button", "overline"]
  } = options;
  const theme = {
    ...themeInput
  };
  theme.typography = {
    ...theme.typography
  };
  const typography2 = theme.typography;
  const convert = convertLength(typography2.htmlFontSize);
  const breakpointValues = breakpoints.map((x) => theme.breakpoints.values[x]);
  variants.forEach((variant) => {
    const style5 = typography2[variant];
    if (!style5) {
      return;
    }
    const remFontSize = parseFloat(convert(style5.fontSize, "rem"));
    if (remFontSize <= 1) {
      return;
    }
    const maxFontSize = remFontSize;
    const minFontSize = 1 + (maxFontSize - 1) / factor;
    let {
      lineHeight
    } = style5;
    if (!isUnitless(lineHeight) && !disableAlign) {
      throw new Error(`MUI: Unsupported non-unitless line height with grid alignment.
` + "Use unitless line heights instead.");
    }
    if (!isUnitless(lineHeight)) {
      lineHeight = parseFloat(convert(lineHeight, "rem")) / parseFloat(remFontSize);
    }
    let transform = null;
    if (!disableAlign) {
      transform = (value) => alignProperty({
        size: value,
        grid: fontGrid({
          pixels: 4,
          lineHeight,
          htmlFontSize: typography2.htmlFontSize
        })
      });
    }
    typography2[variant] = {
      ...style5,
      ...responsiveProperty({
        cssProperty: "fontSize",
        min: minFontSize,
        max: maxFontSize,
        unit: "rem",
        breakpoints: breakpointValues,
        transform
      })
    };
  });
  return theme;
}
// node_modules/@mui/material/esm/styles/ThemeProvider.js
var React44 = __toESM(require_react(), 1);

// node_modules/@mui/material/esm/styles/ThemeProviderNoVars.js
var React43 = __toESM(require_react(), 1);
var import_jsx_runtime18 = __toESM(require_jsx_runtime(), 1);
"use client";
function ThemeProviderNoVars({
  theme: themeInput,
  ...props
}) {
  const scopedTheme = identifier_default in themeInput ? themeInput[identifier_default] : undefined;
  return /* @__PURE__ */ import_jsx_runtime18.jsx(ThemeProvider_default2, {
    ...props,
    themeId: scopedTheme ? identifier_default : undefined,
    theme: scopedTheme || themeInput
  });
}

// node_modules/@mui/material/esm/InitColorSchemeScript/InitColorSchemeScript.js
var import_prop_types16 = __toESM(require_prop_types(), 1);
var import_jsx_runtime19 = __toESM(require_jsx_runtime(), 1);
var defaultConfig = {
  attribute: "data-mui-color-scheme",
  colorSchemeStorageKey: "mui-color-scheme",
  defaultLightColorScheme: "light",
  defaultDarkColorScheme: "dark",
  modeStorageKey: "mui-mode"
};
function InitColorSchemeScript2(props) {
  const {
    defaultMode = "system",
    defaultLightColorScheme = defaultConfig.defaultLightColorScheme,
    defaultDarkColorScheme = defaultConfig.defaultDarkColorScheme,
    modeStorageKey = defaultConfig.modeStorageKey,
    colorSchemeStorageKey = defaultConfig.colorSchemeStorageKey,
    attribute: initialAttribute = defaultConfig.attribute,
    colorSchemeNode = "document.documentElement",
    nonce
  } = props;
  return /* @__PURE__ */ import_jsx_runtime19.jsx(InitColorSchemeScript, {
    defaultMode,
    defaultLightColorScheme,
    defaultDarkColorScheme,
    modeStorageKey,
    colorSchemeStorageKey,
    attribute: initialAttribute,
    colorSchemeNode,
    nonce
  });
}
InitColorSchemeScript2.propTypes = {
  attribute: import_prop_types16.default.string,
  colorSchemeNode: import_prop_types16.default.string,
  colorSchemeStorageKey: import_prop_types16.default.string,
  defaultDarkColorScheme: import_prop_types16.default.string,
  defaultLightColorScheme: import_prop_types16.default.string,
  defaultMode: import_prop_types16.default.oneOf(["dark", "light", "system"]),
  modeStorageKey: import_prop_types16.default.string,
  nonce: import_prop_types16.default.string
};

// node_modules/@mui/material/esm/styles/ThemeProviderWithVars.js
var import_jsx_runtime20 = __toESM(require_jsx_runtime(), 1);
"use client";
var {
  CssVarsProvider: InternalCssVarsProvider,
  useColorScheme,
  getInitColorSchemeScript: deprecatedGetInitColorSchemeScript
} = createCssVarsProvider({
  themeId: identifier_default,
  theme: () => createTheme2({
    cssVariables: true
  }),
  colorSchemeStorageKey: defaultConfig.colorSchemeStorageKey,
  modeStorageKey: defaultConfig.modeStorageKey,
  defaultColorScheme: {
    light: defaultConfig.defaultLightColorScheme,
    dark: defaultConfig.defaultDarkColorScheme
  },
  resolveTheme: (theme) => {
    const newTheme = {
      ...theme,
      typography: createTypography(theme.palette, theme.typography)
    };
    newTheme.unstable_sx = function sx(props) {
      return styleFunctionSx_default({
        sx: props,
        theme: this
      });
    };
    return newTheme;
  }
});
var CssVarsProvider = InternalCssVarsProvider;

// node_modules/@mui/material/esm/styles/ThemeProvider.js
var import_jsx_runtime21 = __toESM(require_jsx_runtime(), 1);
"use client";
function ThemeProvider5({
  theme,
  ...props
}) {
  const noVarsTheme = React44.useMemo(() => {
    if (typeof theme === "function") {
      return theme;
    }
    const muiTheme = identifier_default in theme ? theme[identifier_default] : theme;
    if (!("colorSchemes" in muiTheme)) {
      if (!("vars" in muiTheme)) {
        return {
          ...theme,
          vars: null
        };
      }
      return theme;
    }
    return null;
  }, [theme]);
  if (noVarsTheme) {
    return /* @__PURE__ */ import_jsx_runtime21.jsx(ThemeProviderNoVars, {
      theme: noVarsTheme,
      ...props
    });
  }
  return /* @__PURE__ */ import_jsx_runtime21.jsx(CssVarsProvider, {
    theme,
    ...props
  });
}
// node_modules/@mui/material/esm/Box/boxClasses.js
var boxClasses = generateUtilityClasses("MuiBox", ["root"]);
var boxClasses_default = boxClasses;

// node_modules/@mui/material/esm/Box/Box.js
"use client";
var defaultTheme5 = createTheme2();
var Box2 = createBox({
  themeId: identifier_default,
  defaultTheme: defaultTheme5,
  defaultClassName: boxClasses_default.root,
  generateClassName: ClassNameGenerator_default.generate
});
Box2.propTypes = {
  children: import_prop_types17.default.node,
  component: import_prop_types17.default.elementType,
  sx: import_prop_types17.default.oneOfType([import_prop_types17.default.arrayOf(import_prop_types17.default.oneOfType([import_prop_types17.default.func, import_prop_types17.default.object, import_prop_types17.default.bool])), import_prop_types17.default.func, import_prop_types17.default.object])
};
var Box_default = Box2;
// node_modules/@mui/material/esm/Button/Button.js
var React62 = __toESM(require_react(), 1);
var import_prop_types28 = __toESM(require_prop_types(), 1);

// node_modules/@mui/utils/esm/createChainedFunction/createChainedFunction.js
function createChainedFunction(...funcs) {
  return funcs.reduce((acc, func) => {
    if (func == null) {
      return acc;
    }
    return function chainedFunction(...args) {
      acc.apply(this, args);
      func.apply(this, args);
    };
  }, () => {});
}
// node_modules/@mui/material/esm/utils/createSvgIcon.js
var React46 = __toESM(require_react(), 1);

// node_modules/@mui/material/esm/SvgIcon/SvgIcon.js
var React45 = __toESM(require_react(), 1);
var import_prop_types18 = __toESM(require_prop_types(), 1);

// node_modules/@mui/material/esm/SvgIcon/svgIconClasses.js
function getSvgIconUtilityClass(slot) {
  return generateUtilityClass("MuiSvgIcon", slot);
}
var svgIconClasses = generateUtilityClasses("MuiSvgIcon", ["root", "colorPrimary", "colorSecondary", "colorAction", "colorError", "colorDisabled", "fontSizeInherit", "fontSizeSmall", "fontSizeMedium", "fontSizeLarge"]);

// node_modules/@mui/material/esm/SvgIcon/SvgIcon.js
var import_jsx_runtime22 = __toESM(require_jsx_runtime(), 1);
"use client";
var useUtilityClasses3 = (ownerState) => {
  const {
    color: color2,
    fontSize,
    classes
  } = ownerState;
  const slots = {
    root: ["root", color2 !== "inherit" && `color${capitalize_default(color2)}`, `fontSize${capitalize_default(fontSize)}`]
  };
  return composeClasses(slots, getSvgIconUtilityClass, classes);
};
var SvgIconRoot = styled_default2("svg", {
  name: "MuiSvgIcon",
  slot: "Root",
  overridesResolver: (props, styles) => {
    const {
      ownerState
    } = props;
    return [styles.root, ownerState.color !== "inherit" && styles[`color${capitalize_default(ownerState.color)}`], styles[`fontSize${capitalize_default(ownerState.fontSize)}`]];
  }
})(memoTheme_default(({
  theme
}) => ({
  userSelect: "none",
  width: "1em",
  height: "1em",
  display: "inline-block",
  flexShrink: 0,
  transition: theme.transitions?.create?.("fill", {
    duration: (theme.vars ?? theme).transitions?.duration?.shorter
  }),
  variants: [
    {
      props: (props) => !props.hasSvgAsChild,
      style: {
        fill: "currentColor"
      }
    },
    {
      props: {
        fontSize: "inherit"
      },
      style: {
        fontSize: "inherit"
      }
    },
    {
      props: {
        fontSize: "small"
      },
      style: {
        fontSize: theme.typography?.pxToRem?.(20) || "1.25rem"
      }
    },
    {
      props: {
        fontSize: "medium"
      },
      style: {
        fontSize: theme.typography?.pxToRem?.(24) || "1.5rem"
      }
    },
    {
      props: {
        fontSize: "large"
      },
      style: {
        fontSize: theme.typography?.pxToRem?.(35) || "2.1875rem"
      }
    },
    ...Object.entries((theme.vars ?? theme).palette).filter(([, value]) => value && value.main).map(([color2]) => ({
      props: {
        color: color2
      },
      style: {
        color: (theme.vars ?? theme).palette?.[color2]?.main
      }
    })),
    {
      props: {
        color: "action"
      },
      style: {
        color: (theme.vars ?? theme).palette?.action?.active
      }
    },
    {
      props: {
        color: "disabled"
      },
      style: {
        color: (theme.vars ?? theme).palette?.action?.disabled
      }
    },
    {
      props: {
        color: "inherit"
      },
      style: {
        color: undefined
      }
    }
  ]
})));
var SvgIcon = /* @__PURE__ */ React45.forwardRef(function SvgIcon2(inProps, ref) {
  const props = useDefaultProps2({
    props: inProps,
    name: "MuiSvgIcon"
  });
  const {
    children,
    className,
    color: color2 = "inherit",
    component = "svg",
    fontSize = "medium",
    htmlColor,
    inheritViewBox = false,
    titleAccess,
    viewBox = "0 0 24 24",
    ...other
  } = props;
  const hasSvgAsChild = /* @__PURE__ */ React45.isValidElement(children) && children.type === "svg";
  const ownerState = {
    ...props,
    color: color2,
    component,
    fontSize,
    instanceFontSize: inProps.fontSize,
    inheritViewBox,
    viewBox,
    hasSvgAsChild
  };
  const more = {};
  if (!inheritViewBox) {
    more.viewBox = viewBox;
  }
  const classes = useUtilityClasses3(ownerState);
  return /* @__PURE__ */ import_jsx_runtime22.jsxs(SvgIconRoot, {
    as: component,
    className: clsx_default(classes.root, className),
    focusable: "false",
    color: htmlColor,
    "aria-hidden": titleAccess ? undefined : true,
    role: titleAccess ? "img" : undefined,
    ref,
    ...more,
    ...other,
    ...hasSvgAsChild && children.props,
    ownerState,
    children: [hasSvgAsChild ? children.props.children : children, titleAccess ? /* @__PURE__ */ import_jsx_runtime22.jsx("title", {
      children: titleAccess
    }) : null]
  });
});
SvgIcon.propTypes = {
  children: import_prop_types18.default.node,
  classes: import_prop_types18.default.object,
  className: import_prop_types18.default.string,
  color: import_prop_types18.default.oneOfType([import_prop_types18.default.oneOf(["inherit", "action", "disabled", "primary", "secondary", "error", "info", "success", "warning"]), import_prop_types18.default.string]),
  component: import_prop_types18.default.elementType,
  fontSize: import_prop_types18.default.oneOfType([import_prop_types18.default.oneOf(["inherit", "large", "medium", "small"]), import_prop_types18.default.string]),
  htmlColor: import_prop_types18.default.string,
  inheritViewBox: import_prop_types18.default.bool,
  shapeRendering: import_prop_types18.default.string,
  sx: import_prop_types18.default.oneOfType([import_prop_types18.default.arrayOf(import_prop_types18.default.oneOfType([import_prop_types18.default.func, import_prop_types18.default.object, import_prop_types18.default.bool])), import_prop_types18.default.func, import_prop_types18.default.object]),
  titleAccess: import_prop_types18.default.string,
  viewBox: import_prop_types18.default.string
};
SvgIcon.muiName = "SvgIcon";
var SvgIcon_default = SvgIcon;
// node_modules/@mui/material/esm/utils/createSvgIcon.js
var import_jsx_runtime23 = __toESM(require_jsx_runtime(), 1);
"use client";
function createSvgIcon(path, displayName) {
  function Component4(props, ref) {
    return /* @__PURE__ */ import_jsx_runtime23.jsx(SvgIcon_default, {
      "data-testid": `${displayName}Icon`,
      ref,
      ...props,
      children: path
    });
  }
  if (true) {
    Component4.displayName = `${displayName}Icon`;
  }
  Component4.muiName = SvgIcon_default.muiName;
  return /* @__PURE__ */ React46.memo(/* @__PURE__ */ React46.forwardRef(Component4));
}
// node_modules/@mui/utils/esm/debounce/debounce.js
function debounce(func, wait = 166) {
  let timeout;
  function debounced(...args) {
    const later = () => {
      func.apply(this, args);
    };
    clearTimeout(timeout);
    timeout = setTimeout(later, wait);
  }
  debounced.clear = () => {
    clearTimeout(timeout);
  };
  return debounced;
}
// node_modules/@mui/material/esm/utils/debounce.js
var debounce_default = debounce;

// node_modules/@mui/utils/esm/ownerDocument/ownerDocument.js
function ownerDocument(node2) {
  return node2 && node2.ownerDocument || document;
}
// node_modules/@mui/utils/esm/ownerWindow/ownerWindow.js
function ownerWindow(node2) {
  const doc = ownerDocument(node2);
  return doc.defaultView || window;
}
// node_modules/@mui/material/esm/utils/ownerWindow.js
var ownerWindow_default = ownerWindow;
// node_modules/@mui/utils/esm/requirePropFactory/requirePropFactory.js
function requirePropFactory(componentNameInError, Component4) {
  if (false) {}
  const prevPropTypes = Component4 ? {
    ...Component4.propTypes
  } : null;
  const requireProp = (requiredProp) => (props, propName, componentName, location2, propFullName, ...args) => {
    const propFullNameSafe = propFullName || propName;
    const defaultTypeChecker = prevPropTypes?.[propFullNameSafe];
    if (defaultTypeChecker) {
      const typeCheckerResult = defaultTypeChecker(props, propName, componentName, location2, propFullName, ...args);
      if (typeCheckerResult) {
        return typeCheckerResult;
      }
    }
    if (typeof props[propName] !== "undefined" && !props[requiredProp]) {
      return new Error(`The prop \`${propFullNameSafe}\` of ` + `\`${componentNameInError}\` can only be used together with the \`${requiredProp}\` prop.`);
    }
    return null;
  };
  return requireProp;
}
// node_modules/@mui/material/esm/utils/requirePropFactory.js
var requirePropFactory_default = requirePropFactory;

// node_modules/@mui/utils/esm/setRef/setRef.js
function setRef(ref, value) {
  if (typeof ref === "function") {
    ref(value);
  } else if (ref) {
    ref.current = value;
  }
}
// node_modules/@mui/material/esm/utils/useEnhancedEffect.js
"use client";
var useEnhancedEffect_default2 = useEnhancedEffect_default;

// node_modules/@mui/material/esm/utils/useId.js
"use client";
var useId_default = useId2;
// node_modules/@mui/utils/esm/unsupportedProp/unsupportedProp.js
function unsupportedProp(props, propName, componentName, location2, propFullName) {
  if (false) {}
  const propFullNameSafe = propFullName || propName;
  if (typeof props[propName] !== "undefined") {
    return new Error(`The prop \`${propFullNameSafe}\` is not supported. Please remove it.`);
  }
  return null;
}
// node_modules/@mui/material/esm/utils/unsupportedProp.js
var unsupportedProp_default = unsupportedProp;

// node_modules/@mui/utils/esm/useControlled/useControlled.js
var React47 = __toESM(require_react(), 1);
"use client";
function useControlled(props) {
  const {
    controlled,
    default: defaultProp,
    name,
    state = "value"
  } = props;
  const {
    current: isControlled
  } = React47.useRef(controlled !== undefined);
  const [valueState, setValue] = React47.useState(defaultProp);
  const value = isControlled ? controlled : valueState;
  if (true) {
    React47.useEffect(() => {
      if (isControlled !== (controlled !== undefined)) {
        console.error([`MUI: A component is changing the ${isControlled ? "" : "un"}controlled ${state} state of ${name} to be ${isControlled ? "un" : ""}controlled.`, "Elements should not switch from uncontrolled to controlled (or vice versa).", `Decide between using a controlled or uncontrolled ${name} ` + "element for the lifetime of the component.", "The nature of the state is determined during the first render. It's considered controlled if the value is not `undefined`.", "More info: https://fb.me/react-controlled-components"].join(`
`));
      }
    }, [state, name, controlled]);
    const {
      current: defaultValue
    } = React47.useRef(defaultProp);
    React47.useEffect(() => {
      if (!isControlled && JSON.stringify(defaultProp) !== JSON.stringify(defaultValue)) {
        console.error([`MUI: A component is changing the default ${state} state of an uncontrolled ${name} after being initialized. ` + `To suppress this warning opt to use a controlled ${name}.`].join(`
`));
      }
    }, [JSON.stringify(defaultProp)]);
  }
  const setValueIfUncontrolled = React47.useCallback((newValue) => {
    if (!isControlled) {
      setValue(newValue);
    }
  }, []);
  return [value, setValueIfUncontrolled];
}
// node_modules/@mui/material/esm/utils/useControlled.js
"use client";
var useControlled_default = useControlled;

// node_modules/@mui/utils/esm/useEventCallback/useEventCallback.js
var React48 = __toESM(require_react(), 1);
"use client";
function useEventCallback(fn) {
  const ref = React48.useRef(fn);
  useEnhancedEffect_default(() => {
    ref.current = fn;
  });
  return React48.useRef((...args) => (0, ref.current)(...args)).current;
}
var useEventCallback_default = useEventCallback;
// node_modules/@mui/material/esm/utils/useEventCallback.js
"use client";
var useEventCallback_default2 = useEventCallback_default;

// node_modules/@mui/utils/esm/useForkRef/useForkRef.js
var React49 = __toESM(require_react(), 1);
"use client";
function useForkRef(...refs) {
  const cleanupRef = React49.useRef(undefined);
  const refEffect = React49.useCallback((instance) => {
    const cleanups = refs.map((ref) => {
      if (ref == null) {
        return null;
      }
      if (typeof ref === "function") {
        const refCallback = ref;
        const refCleanup = refCallback(instance);
        return typeof refCleanup === "function" ? refCleanup : () => {
          refCallback(null);
        };
      }
      ref.current = instance;
      return () => {
        ref.current = null;
      };
    });
    return () => {
      cleanups.forEach((refCleanup) => refCleanup?.());
    };
  }, refs);
  return React49.useMemo(() => {
    if (refs.every((ref) => ref == null)) {
      return null;
    }
    return (value) => {
      if (cleanupRef.current) {
        cleanupRef.current();
        cleanupRef.current = undefined;
      }
      if (value != null) {
        cleanupRef.current = refEffect(value);
      }
    };
  }, refs);
}
// node_modules/@mui/material/esm/utils/useForkRef.js
"use client";
var useForkRef_default = useForkRef;
// node_modules/@mui/material/esm/utils/mergeSlotProps.js
function isEventHandler(key, value) {
  const thirdCharCode = key.charCodeAt(2);
  return key[0] === "o" && key[1] === "n" && thirdCharCode >= 65 && thirdCharCode <= 90 && typeof value === "function";
}
function mergeSlotProps(externalSlotProps, defaultSlotProps) {
  if (!externalSlotProps) {
    return defaultSlotProps;
  }
  function extractHandlers(externalSlotPropsValue, defaultSlotPropsValue) {
    const handlers2 = {};
    Object.keys(defaultSlotPropsValue).forEach((key) => {
      if (isEventHandler(key, defaultSlotPropsValue[key]) && typeof externalSlotPropsValue[key] === "function") {
        handlers2[key] = (...args) => {
          externalSlotPropsValue[key](...args);
          defaultSlotPropsValue[key](...args);
        };
      }
    });
    return handlers2;
  }
  if (typeof externalSlotProps === "function" || typeof defaultSlotProps === "function") {
    return (ownerState) => {
      const defaultSlotPropsValue = typeof defaultSlotProps === "function" ? defaultSlotProps(ownerState) : defaultSlotProps;
      const externalSlotPropsValue = typeof externalSlotProps === "function" ? externalSlotProps({
        ...ownerState,
        ...defaultSlotPropsValue
      }) : externalSlotProps;
      const className2 = clsx_default(ownerState?.className, defaultSlotPropsValue?.className, externalSlotPropsValue?.className);
      const handlers2 = extractHandlers(externalSlotPropsValue, defaultSlotPropsValue);
      return {
        ...defaultSlotPropsValue,
        ...externalSlotPropsValue,
        ...handlers2,
        ...!!className2 && {
          className: className2
        },
        ...defaultSlotPropsValue?.style && externalSlotPropsValue?.style && {
          style: {
            ...defaultSlotPropsValue.style,
            ...externalSlotPropsValue.style
          }
        },
        ...defaultSlotPropsValue?.sx && externalSlotPropsValue?.sx && {
          sx: [...Array.isArray(defaultSlotPropsValue.sx) ? defaultSlotPropsValue.sx : [defaultSlotPropsValue.sx], ...Array.isArray(externalSlotPropsValue.sx) ? externalSlotPropsValue.sx : [externalSlotPropsValue.sx]]
        }
      };
    };
  }
  const typedDefaultSlotProps = defaultSlotProps;
  const handlers = extractHandlers(externalSlotProps, typedDefaultSlotProps);
  const className = clsx_default(typedDefaultSlotProps?.className, externalSlotProps?.className);
  return {
    ...defaultSlotProps,
    ...externalSlotProps,
    ...handlers,
    ...!!className && {
      className
    },
    ...typedDefaultSlotProps?.style && externalSlotProps?.style && {
      style: {
        ...typedDefaultSlotProps.style,
        ...externalSlotProps.style
      }
    },
    ...typedDefaultSlotProps?.sx && externalSlotProps?.sx && {
      sx: [...Array.isArray(typedDefaultSlotProps.sx) ? typedDefaultSlotProps.sx : [typedDefaultSlotProps.sx], ...Array.isArray(externalSlotProps.sx) ? externalSlotProps.sx : [externalSlotProps.sx]]
    }
  };
}

// node_modules/@mui/material/esm/utils/index.js
"use client";

// node_modules/@mui/material/esm/ButtonBase/ButtonBase.js
var React58 = __toESM(require_react(), 1);
var import_prop_types26 = __toESM(require_prop_types(), 1);

// node_modules/@mui/utils/esm/refType/refType.js
var import_prop_types19 = __toESM(require_prop_types(), 1);
var refType = import_prop_types19.default.oneOfType([import_prop_types19.default.func, import_prop_types19.default.object]);
var refType_default = refType;
// node_modules/@mui/utils/esm/elementTypeAcceptingRef/elementTypeAcceptingRef.js
var import_prop_types20 = __toESM(require_prop_types(), 1);

// node_modules/@mui/utils/esm/chainPropTypes/chainPropTypes.js
function chainPropTypes(propType1, propType2) {
  if (false) {}
  return function validate(...args) {
    return propType1(...args) || propType2(...args);
  };
}
// node_modules/@mui/utils/esm/elementTypeAcceptingRef/elementTypeAcceptingRef.js
function isClassComponent(elementType) {
  const {
    prototype = {}
  } = elementType;
  return Boolean(prototype.isReactComponent);
}
function elementTypeAcceptingRef(props, propName, componentName, location2, propFullName) {
  const propValue = props[propName];
  const safePropName = propFullName || propName;
  if (propValue == null || typeof window === "undefined") {
    return null;
  }
  let warningHint;
  if (typeof propValue === "function" && !isClassComponent(propValue)) {
    warningHint = "Did you accidentally provide a plain function component instead?";
  }
  if (warningHint !== undefined) {
    return new Error(`Invalid ${location2} \`${safePropName}\` supplied to \`${componentName}\`. ` + `Expected an element type that can hold a ref. ${warningHint} ` + "For more information see https://mui.com/r/caveat-with-refs-guide");
  }
  return null;
}
var elementTypeAcceptingRef_default = chainPropTypes(import_prop_types20.default.elementType, elementTypeAcceptingRef);
// node_modules/@mui/utils/esm/isFocusVisible/isFocusVisible.js
function isFocusVisible(element) {
  try {
    return element.matches(":focus-visible");
  } catch (error) {
    if (!window.navigator.userAgent.includes("jsdom")) {
      console.warn(["MUI: The `:focus-visible` pseudo class is not supported in this browser.", "Some components rely on this feature to work properly."].join(`
`));
    }
  }
  return false;
}
// node_modules/@mui/material/esm/useLazyRipple/useLazyRipple.js
var React51 = __toESM(require_react(), 1);

// node_modules/@mui/utils/esm/useLazyRef/useLazyRef.js
var React50 = __toESM(require_react(), 1);
"use client";
var UNINITIALIZED = {};
function useLazyRef(init, initArg) {
  const ref = React50.useRef(UNINITIALIZED);
  if (ref.current === UNINITIALIZED) {
    ref.current = init(initArg);
  }
  return ref;
}
// node_modules/@mui/material/esm/useLazyRipple/useLazyRipple.js
"use client";

class LazyRipple {
  static create() {
    return new LazyRipple;
  }
  static use() {
    const ripple = useLazyRef(LazyRipple.create).current;
    const [shouldMount, setShouldMount] = React51.useState(false);
    ripple.shouldMount = shouldMount;
    ripple.setShouldMount = setShouldMount;
    React51.useEffect(ripple.mountEffect, [shouldMount]);
    return ripple;
  }
  constructor() {
    this.ref = {
      current: null
    };
    this.mounted = null;
    this.didMount = false;
    this.shouldMount = false;
    this.setShouldMount = null;
  }
  mount() {
    if (!this.mounted) {
      this.mounted = createControlledPromise();
      this.shouldMount = true;
      this.setShouldMount(this.shouldMount);
    }
    return this.mounted;
  }
  mountEffect = () => {
    if (this.shouldMount && !this.didMount) {
      if (this.ref.current !== null) {
        this.didMount = true;
        this.mounted.resolve();
      }
    }
  };
  start(...args) {
    this.mount().then(() => this.ref.current?.start(...args));
  }
  stop(...args) {
    this.mount().then(() => this.ref.current?.stop(...args));
  }
  pulsate(...args) {
    this.mount().then(() => this.ref.current?.pulsate(...args));
  }
}
function useLazyRipple() {
  return LazyRipple.use();
}
function createControlledPromise() {
  let resolve;
  let reject;
  const p = new Promise((resolveFn, rejectFn) => {
    resolve = resolveFn;
    reject = rejectFn;
  });
  p.resolve = resolve;
  p.reject = reject;
  return p;
}

// node_modules/@mui/material/esm/useLazyRipple/index.js
"use client";

// node_modules/@mui/material/esm/ButtonBase/TouchRipple.js
var React57 = __toESM(require_react(), 1);
var import_prop_types25 = __toESM(require_prop_types(), 1);

// node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js
function _objectWithoutPropertiesLoose(r2, e) {
  if (r2 == null)
    return {};
  var t = {};
  for (var n in r2)
    if ({}.hasOwnProperty.call(r2, n)) {
      if (e.indexOf(n) !== -1)
        continue;
      t[n] = r2[n];
    }
  return t;
}

// node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js
function _setPrototypeOf(t, e) {
  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t2, e2) {
    return t2.__proto__ = e2, t2;
  }, _setPrototypeOf(t, e);
}

// node_modules/@babel/runtime/helpers/esm/inheritsLoose.js
function _inheritsLoose(t, o) {
  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, _setPrototypeOf(t, o);
}

// node_modules/react-transition-group/esm/Transition.js
var import_prop_types22 = __toESM(require_prop_types(), 1);
var import_react7 = __toESM(require_react(), 1);
var import_react_dom = __toESM(require_react_dom(), 1);

// node_modules/react-transition-group/esm/config.js
var config_default = {
  disabled: false
};

// node_modules/react-transition-group/esm/utils/PropTypes.js
var import_prop_types21 = __toESM(require_prop_types(), 1);
var timeoutsShape = import_prop_types21.default.oneOfType([import_prop_types21.default.number, import_prop_types21.default.shape({
  enter: import_prop_types21.default.number,
  exit: import_prop_types21.default.number,
  appear: import_prop_types21.default.number
}).isRequired]);
var classNamesShape = import_prop_types21.default.oneOfType([import_prop_types21.default.string, import_prop_types21.default.shape({
  enter: import_prop_types21.default.string,
  exit: import_prop_types21.default.string,
  active: import_prop_types21.default.string
}), import_prop_types21.default.shape({
  enter: import_prop_types21.default.string,
  enterDone: import_prop_types21.default.string,
  enterActive: import_prop_types21.default.string,
  exit: import_prop_types21.default.string,
  exitDone: import_prop_types21.default.string,
  exitActive: import_prop_types21.default.string
})]);

// node_modules/react-transition-group/esm/TransitionGroupContext.js
var import_react6 = __toESM(require_react(), 1);
var TransitionGroupContext_default = import_react6.default.createContext(null);

// node_modules/react-transition-group/esm/utils/reflow.js
var forceReflow = function forceReflow2(node2) {
  return node2.scrollTop;
};

// node_modules/react-transition-group/esm/Transition.js
var UNMOUNTED = "unmounted";
var EXITED = "exited";
var ENTERING = "entering";
var ENTERED = "entered";
var EXITING = "exiting";
var Transition = /* @__PURE__ */ function(_React$Component) {
  _inheritsLoose(Transition2, _React$Component);
  function Transition2(props, context) {
    var _this;
    _this = _React$Component.call(this, props, context) || this;
    var parentGroup = context;
    var appear = parentGroup && !parentGroup.isMounting ? props.enter : props.appear;
    var initialStatus;
    _this.appearStatus = null;
    if (props.in) {
      if (appear) {
        initialStatus = EXITED;
        _this.appearStatus = ENTERING;
      } else {
        initialStatus = ENTERED;
      }
    } else {
      if (props.unmountOnExit || props.mountOnEnter) {
        initialStatus = UNMOUNTED;
      } else {
        initialStatus = EXITED;
      }
    }
    _this.state = {
      status: initialStatus
    };
    _this.nextCallback = null;
    return _this;
  }
  Transition2.getDerivedStateFromProps = function getDerivedStateFromProps(_ref, prevState) {
    var nextIn = _ref.in;
    if (nextIn && prevState.status === UNMOUNTED) {
      return {
        status: EXITED
      };
    }
    return null;
  };
  var _proto = Transition2.prototype;
  _proto.componentDidMount = function componentDidMount() {
    this.updateStatus(true, this.appearStatus);
  };
  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {
    var nextStatus = null;
    if (prevProps !== this.props) {
      var status = this.state.status;
      if (this.props.in) {
        if (status !== ENTERING && status !== ENTERED) {
          nextStatus = ENTERING;
        }
      } else {
        if (status === ENTERING || status === ENTERED) {
          nextStatus = EXITING;
        }
      }
    }
    this.updateStatus(false, nextStatus);
  };
  _proto.componentWillUnmount = function componentWillUnmount() {
    this.cancelNextCallback();
  };
  _proto.getTimeouts = function getTimeouts() {
    var timeout = this.props.timeout;
    var exit, enter, appear;
    exit = enter = appear = timeout;
    if (timeout != null && typeof timeout !== "number") {
      exit = timeout.exit;
      enter = timeout.enter;
      appear = timeout.appear !== undefined ? timeout.appear : enter;
    }
    return {
      exit,
      enter,
      appear
    };
  };
  _proto.updateStatus = function updateStatus(mounting, nextStatus) {
    if (mounting === undefined) {
      mounting = false;
    }
    if (nextStatus !== null) {
      this.cancelNextCallback();
      if (nextStatus === ENTERING) {
        if (this.props.unmountOnExit || this.props.mountOnEnter) {
          var node2 = this.props.nodeRef ? this.props.nodeRef.current : import_react_dom.default.findDOMNode(this);
          if (node2)
            forceReflow(node2);
        }
        this.performEnter(mounting);
      } else {
        this.performExit();
      }
    } else if (this.props.unmountOnExit && this.state.status === EXITED) {
      this.setState({
        status: UNMOUNTED
      });
    }
  };
  _proto.performEnter = function performEnter(mounting) {
    var _this2 = this;
    var enter = this.props.enter;
    var appearing = this.context ? this.context.isMounting : mounting;
    var _ref2 = this.props.nodeRef ? [appearing] : [import_react_dom.default.findDOMNode(this), appearing], maybeNode = _ref2[0], maybeAppearing = _ref2[1];
    var timeouts = this.getTimeouts();
    var enterTimeout = appearing ? timeouts.appear : timeouts.enter;
    if (!mounting && !enter || config_default.disabled) {
      this.safeSetState({
        status: ENTERED
      }, function() {
        _this2.props.onEntered(maybeNode);
      });
      return;
    }
    this.props.onEnter(maybeNode, maybeAppearing);
    this.safeSetState({
      status: ENTERING
    }, function() {
      _this2.props.onEntering(maybeNode, maybeAppearing);
      _this2.onTransitionEnd(enterTimeout, function() {
        _this2.safeSetState({
          status: ENTERED
        }, function() {
          _this2.props.onEntered(maybeNode, maybeAppearing);
        });
      });
    });
  };
  _proto.performExit = function performExit() {
    var _this3 = this;
    var exit = this.props.exit;
    var timeouts = this.getTimeouts();
    var maybeNode = this.props.nodeRef ? undefined : import_react_dom.default.findDOMNode(this);
    if (!exit || config_default.disabled) {
      this.safeSetState({
        status: EXITED
      }, function() {
        _this3.props.onExited(maybeNode);
      });
      return;
    }
    this.props.onExit(maybeNode);
    this.safeSetState({
      status: EXITING
    }, function() {
      _this3.props.onExiting(maybeNode);
      _this3.onTransitionEnd(timeouts.exit, function() {
        _this3.safeSetState({
          status: EXITED
        }, function() {
          _this3.props.onExited(maybeNode);
        });
      });
    });
  };
  _proto.cancelNextCallback = function cancelNextCallback() {
    if (this.nextCallback !== null) {
      this.nextCallback.cancel();
      this.nextCallback = null;
    }
  };
  _proto.safeSetState = function safeSetState(nextState, callback) {
    callback = this.setNextCallback(callback);
    this.setState(nextState, callback);
  };
  _proto.setNextCallback = function setNextCallback(callback) {
    var _this4 = this;
    var active = true;
    this.nextCallback = function(event) {
      if (active) {
        active = false;
        _this4.nextCallback = null;
        callback(event);
      }
    };
    this.nextCallback.cancel = function() {
      active = false;
    };
    return this.nextCallback;
  };
  _proto.onTransitionEnd = function onTransitionEnd(timeout, handler) {
    this.setNextCallback(handler);
    var node2 = this.props.nodeRef ? this.props.nodeRef.current : import_react_dom.default.findDOMNode(this);
    var doesNotHaveTimeoutOrListener = timeout == null && !this.props.addEndListener;
    if (!node2 || doesNotHaveTimeoutOrListener) {
      setTimeout(this.nextCallback, 0);
      return;
    }
    if (this.props.addEndListener) {
      var _ref3 = this.props.nodeRef ? [this.nextCallback] : [node2, this.nextCallback], maybeNode = _ref3[0], maybeNextCallback = _ref3[1];
      this.props.addEndListener(maybeNode, maybeNextCallback);
    }
    if (timeout != null) {
      setTimeout(this.nextCallback, timeout);
    }
  };
  _proto.render = function render() {
    var status = this.state.status;
    if (status === UNMOUNTED) {
      return null;
    }
    var _this$props = this.props, children = _this$props.children, _in = _this$props.in, _mountOnEnter = _this$props.mountOnEnter, _unmountOnExit = _this$props.unmountOnExit, _appear = _this$props.appear, _enter = _this$props.enter, _exit = _this$props.exit, _timeout = _this$props.timeout, _addEndListener = _this$props.addEndListener, _onEnter = _this$props.onEnter, _onEntering = _this$props.onEntering, _onEntered = _this$props.onEntered, _onExit = _this$props.onExit, _onExiting = _this$props.onExiting, _onExited = _this$props.onExited, _nodeRef = _this$props.nodeRef, childProps = _objectWithoutPropertiesLoose(_this$props, ["children", "in", "mountOnEnter", "unmountOnExit", "appear", "enter", "exit", "timeout", "addEndListener", "onEnter", "onEntering", "onEntered", "onExit", "onExiting", "onExited", "nodeRef"]);
    return /* @__PURE__ */ import_react7.default.createElement(TransitionGroupContext_default.Provider, {
      value: null
    }, typeof children === "function" ? children(status, childProps) : import_react7.default.cloneElement(import_react7.default.Children.only(children), childProps));
  };
  return Transition2;
}(import_react7.default.Component);
Transition.contextType = TransitionGroupContext_default;
Transition.propTypes = {
  nodeRef: import_prop_types22.default.shape({
    current: typeof Element === "undefined" ? import_prop_types22.default.any : function(propValue, key, componentName, location2, propFullName, secret) {
      var value = propValue[key];
      return import_prop_types22.default.instanceOf(value && "ownerDocument" in value ? value.ownerDocument.defaultView.Element : Element)(propValue, key, componentName, location2, propFullName, secret);
    }
  }),
  children: import_prop_types22.default.oneOfType([import_prop_types22.default.func.isRequired, import_prop_types22.default.element.isRequired]).isRequired,
  in: import_prop_types22.default.bool,
  mountOnEnter: import_prop_types22.default.bool,
  unmountOnExit: import_prop_types22.default.bool,
  appear: import_prop_types22.default.bool,
  enter: import_prop_types22.default.bool,
  exit: import_prop_types22.default.bool,
  timeout: function timeout(props) {
    var pt = timeoutsShape;
    if (!props.addEndListener)
      pt = pt.isRequired;
    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1;_key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }
    return pt.apply(undefined, [props].concat(args));
  },
  addEndListener: import_prop_types22.default.func,
  onEnter: import_prop_types22.default.func,
  onEntering: import_prop_types22.default.func,
  onEntered: import_prop_types22.default.func,
  onExit: import_prop_types22.default.func,
  onExiting: import_prop_types22.default.func,
  onExited: import_prop_types22.default.func
};
function noop3() {}
Transition.defaultProps = {
  in: false,
  mountOnEnter: false,
  unmountOnExit: false,
  appear: false,
  enter: true,
  exit: true,
  onEnter: noop3,
  onEntering: noop3,
  onEntered: noop3,
  onExit: noop3,
  onExiting: noop3,
  onExited: noop3
};
Transition.UNMOUNTED = UNMOUNTED;
Transition.EXITED = EXITED;
Transition.ENTERING = ENTERING;
Transition.ENTERED = ENTERED;
Transition.EXITING = EXITING;
var Transition_default = Transition;

// node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js
function _assertThisInitialized(e) {
  if (e === undefined)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e;
}

// node_modules/react-transition-group/esm/TransitionGroup.js
var import_prop_types23 = __toESM(require_prop_types(), 1);
var import_react9 = __toESM(require_react(), 1);

// node_modules/react-transition-group/esm/utils/ChildMapping.js
var import_react8 = __toESM(require_react(), 1);
function getChildMapping(children, mapFn) {
  var mapper = function mapper(child) {
    return mapFn && import_react8.isValidElement(child) ? mapFn(child) : child;
  };
  var result = Object.create(null);
  if (children)
    import_react8.Children.map(children, function(c) {
      return c;
    }).forEach(function(child) {
      result[child.key] = mapper(child);
    });
  return result;
}
function mergeChildMappings(prev2, next2) {
  prev2 = prev2 || {};
  next2 = next2 || {};
  function getValueForKey(key) {
    return key in next2 ? next2[key] : prev2[key];
  }
  var nextKeysPending = Object.create(null);
  var pendingKeys = [];
  for (var prevKey in prev2) {
    if (prevKey in next2) {
      if (pendingKeys.length) {
        nextKeysPending[prevKey] = pendingKeys;
        pendingKeys = [];
      }
    } else {
      pendingKeys.push(prevKey);
    }
  }
  var i;
  var childMapping = {};
  for (var nextKey in next2) {
    if (nextKeysPending[nextKey]) {
      for (i = 0;i < nextKeysPending[nextKey].length; i++) {
        var pendingNextKey = nextKeysPending[nextKey][i];
        childMapping[nextKeysPending[nextKey][i]] = getValueForKey(pendingNextKey);
      }
    }
    childMapping[nextKey] = getValueForKey(nextKey);
  }
  for (i = 0;i < pendingKeys.length; i++) {
    childMapping[pendingKeys[i]] = getValueForKey(pendingKeys[i]);
  }
  return childMapping;
}
function getProp(child, prop, props) {
  return props[prop] != null ? props[prop] : child.props[prop];
}
function getInitialChildMapping(props, onExited) {
  return getChildMapping(props.children, function(child) {
    return import_react8.cloneElement(child, {
      onExited: onExited.bind(null, child),
      in: true,
      appear: getProp(child, "appear", props),
      enter: getProp(child, "enter", props),
      exit: getProp(child, "exit", props)
    });
  });
}
function getNextChildMapping(nextProps, prevChildMapping, onExited) {
  var nextChildMapping = getChildMapping(nextProps.children);
  var children = mergeChildMappings(prevChildMapping, nextChildMapping);
  Object.keys(children).forEach(function(key) {
    var child = children[key];
    if (!import_react8.isValidElement(child))
      return;
    var hasPrev = key in prevChildMapping;
    var hasNext = key in nextChildMapping;
    var prevChild = prevChildMapping[key];
    var isLeaving = import_react8.isValidElement(prevChild) && !prevChild.props.in;
    if (hasNext && (!hasPrev || isLeaving)) {
      children[key] = import_react8.cloneElement(child, {
        onExited: onExited.bind(null, child),
        in: true,
        exit: getProp(child, "exit", nextProps),
        enter: getProp(child, "enter", nextProps)
      });
    } else if (!hasNext && hasPrev && !isLeaving) {
      children[key] = import_react8.cloneElement(child, {
        in: false
      });
    } else if (hasNext && hasPrev && import_react8.isValidElement(prevChild)) {
      children[key] = import_react8.cloneElement(child, {
        onExited: onExited.bind(null, child),
        in: prevChild.props.in,
        exit: getProp(child, "exit", nextProps),
        enter: getProp(child, "enter", nextProps)
      });
    }
  });
  return children;
}

// node_modules/react-transition-group/esm/TransitionGroup.js
var values2 = Object.values || function(obj) {
  return Object.keys(obj).map(function(k) {
    return obj[k];
  });
};
var defaultProps = {
  component: "div",
  childFactory: function childFactory(child) {
    return child;
  }
};
var TransitionGroup = /* @__PURE__ */ function(_React$Component) {
  _inheritsLoose(TransitionGroup2, _React$Component);
  function TransitionGroup2(props, context) {
    var _this;
    _this = _React$Component.call(this, props, context) || this;
    var handleExited = _this.handleExited.bind(_assertThisInitialized(_this));
    _this.state = {
      contextValue: {
        isMounting: true
      },
      handleExited,
      firstRender: true
    };
    return _this;
  }
  var _proto = TransitionGroup2.prototype;
  _proto.componentDidMount = function componentDidMount() {
    this.mounted = true;
    this.setState({
      contextValue: {
        isMounting: false
      }
    });
  };
  _proto.componentWillUnmount = function componentWillUnmount() {
    this.mounted = false;
  };
  TransitionGroup2.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, _ref) {
    var { children: prevChildMapping, handleExited, firstRender } = _ref;
    return {
      children: firstRender ? getInitialChildMapping(nextProps, handleExited) : getNextChildMapping(nextProps, prevChildMapping, handleExited),
      firstRender: false
    };
  };
  _proto.handleExited = function handleExited(child, node2) {
    var currentChildMapping = getChildMapping(this.props.children);
    if (child.key in currentChildMapping)
      return;
    if (child.props.onExited) {
      child.props.onExited(node2);
    }
    if (this.mounted) {
      this.setState(function(state) {
        var children = _extends({}, state.children);
        delete children[child.key];
        return {
          children
        };
      });
    }
  };
  _proto.render = function render() {
    var _this$props = this.props, Component4 = _this$props.component, childFactory2 = _this$props.childFactory, props = _objectWithoutPropertiesLoose(_this$props, ["component", "childFactory"]);
    var contextValue = this.state.contextValue;
    var children = values2(this.state.children).map(childFactory2);
    delete props.appear;
    delete props.enter;
    delete props.exit;
    if (Component4 === null) {
      return /* @__PURE__ */ import_react9.default.createElement(TransitionGroupContext_default.Provider, {
        value: contextValue
      }, children);
    }
    return /* @__PURE__ */ import_react9.default.createElement(TransitionGroupContext_default.Provider, {
      value: contextValue
    }, /* @__PURE__ */ import_react9.default.createElement(Component4, props, children));
  };
  return TransitionGroup2;
}(import_react9.default.Component);
TransitionGroup.propTypes = {
  component: import_prop_types23.default.any,
  children: import_prop_types23.default.node,
  appear: import_prop_types23.default.bool,
  enter: import_prop_types23.default.bool,
  exit: import_prop_types23.default.bool,
  childFactory: import_prop_types23.default.func
};
TransitionGroup.defaultProps = defaultProps;
var TransitionGroup_default = TransitionGroup;
// node_modules/@mui/utils/esm/useOnMount/useOnMount.js
var React55 = __toESM(require_react(), 1);
"use client";
var EMPTY = [];
function useOnMount(fn) {
  React55.useEffect(fn, EMPTY);
}

// node_modules/@mui/utils/esm/useTimeout/useTimeout.js
"use client";

class Timeout {
  static create() {
    return new Timeout;
  }
  currentId = null;
  start(delay, fn) {
    this.clear();
    this.currentId = setTimeout(() => {
      this.currentId = null;
      fn();
    }, delay);
  }
  clear = () => {
    if (this.currentId !== null) {
      clearTimeout(this.currentId);
      this.currentId = null;
    }
  };
  disposeEffect = () => {
    return this.clear;
  };
}
function useTimeout() {
  const timeout2 = useLazyRef(Timeout.create).current;
  useOnMount(timeout2.disposeEffect);
  return timeout2;
}
// node_modules/@mui/material/esm/ButtonBase/Ripple.js
var React56 = __toESM(require_react(), 1);
var import_prop_types24 = __toESM(require_prop_types(), 1);
var import_jsx_runtime24 = __toESM(require_jsx_runtime(), 1);
"use client";
function Ripple(props) {
  const {
    className,
    classes,
    pulsate = false,
    rippleX,
    rippleY,
    rippleSize,
    in: inProp,
    onExited,
    timeout: timeout2
  } = props;
  const [leaving, setLeaving] = React56.useState(false);
  const rippleClassName = clsx_default(className, classes.ripple, classes.rippleVisible, pulsate && classes.ripplePulsate);
  const rippleStyles = {
    width: rippleSize,
    height: rippleSize,
    top: -(rippleSize / 2) + rippleY,
    left: -(rippleSize / 2) + rippleX
  };
  const childClassName = clsx_default(classes.child, leaving && classes.childLeaving, pulsate && classes.childPulsate);
  if (!inProp && !leaving) {
    setLeaving(true);
  }
  React56.useEffect(() => {
    if (!inProp && onExited != null) {
      const timeoutId = setTimeout(onExited, timeout2);
      return () => {
        clearTimeout(timeoutId);
      };
    }
    return;
  }, [onExited, inProp, timeout2]);
  return /* @__PURE__ */ import_jsx_runtime24.jsx("span", {
    className: rippleClassName,
    style: rippleStyles,
    children: /* @__PURE__ */ import_jsx_runtime24.jsx("span", {
      className: childClassName
    })
  });
}
Ripple.propTypes = {
  classes: import_prop_types24.default.object.isRequired,
  className: import_prop_types24.default.string,
  in: import_prop_types24.default.bool,
  onExited: import_prop_types24.default.func,
  pulsate: import_prop_types24.default.bool,
  rippleSize: import_prop_types24.default.number,
  rippleX: import_prop_types24.default.number,
  rippleY: import_prop_types24.default.number,
  timeout: import_prop_types24.default.number.isRequired
};
var Ripple_default = Ripple;

// node_modules/@mui/material/esm/ButtonBase/touchRippleClasses.js
var touchRippleClasses = generateUtilityClasses("MuiTouchRipple", ["root", "ripple", "rippleVisible", "ripplePulsate", "child", "childLeaving", "childPulsate"]);
var touchRippleClasses_default = touchRippleClasses;

// node_modules/@mui/material/esm/ButtonBase/TouchRipple.js
var import_jsx_runtime25 = __toESM(require_jsx_runtime(), 1);
"use client";
var DURATION = 550;
var DELAY_RIPPLE = 80;
var enterKeyframe = keyframes`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`;
var exitKeyframe = keyframes`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`;
var pulsateKeyframe = keyframes`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`;
var TouchRippleRoot = styled_default2("span", {
  name: "MuiTouchRipple",
  slot: "Root"
})({
  overflow: "hidden",
  pointerEvents: "none",
  position: "absolute",
  zIndex: 0,
  top: 0,
  right: 0,
  bottom: 0,
  left: 0,
  borderRadius: "inherit"
});
var TouchRippleRipple = styled_default2(Ripple_default, {
  name: "MuiTouchRipple",
  slot: "Ripple"
})`
  opacity: 0;
  position: absolute;

  &.${touchRippleClasses_default.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${enterKeyframe};
    animation-duration: ${DURATION}ms;
    animation-timing-function: ${({
  theme
}) => theme.transitions.easing.easeInOut};
  }

  &.${touchRippleClasses_default.ripplePulsate} {
    animation-duration: ${({
  theme
}) => theme.transitions.duration.shorter}ms;
  }

  & .${touchRippleClasses_default.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${touchRippleClasses_default.childLeaving} {
    opacity: 0;
    animation-name: ${exitKeyframe};
    animation-duration: ${DURATION}ms;
    animation-timing-function: ${({
  theme
}) => theme.transitions.easing.easeInOut};
  }

  & .${touchRippleClasses_default.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${pulsateKeyframe};
    animation-duration: 2500ms;
    animation-timing-function: ${({
  theme
}) => theme.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`;
var TouchRipple = /* @__PURE__ */ React57.forwardRef(function TouchRipple2(inProps, ref) {
  const props = useDefaultProps2({
    props: inProps,
    name: "MuiTouchRipple"
  });
  const {
    center: centerProp = false,
    classes = {},
    className,
    ...other
  } = props;
  const [ripples, setRipples] = React57.useState([]);
  const nextKey = React57.useRef(0);
  const rippleCallback = React57.useRef(null);
  React57.useEffect(() => {
    if (rippleCallback.current) {
      rippleCallback.current();
      rippleCallback.current = null;
    }
  }, [ripples]);
  const ignoringMouseDown = React57.useRef(false);
  const startTimer = useTimeout();
  const startTimerCommit = React57.useRef(null);
  const container = React57.useRef(null);
  const startCommit = React57.useCallback((params) => {
    const {
      pulsate: pulsate2,
      rippleX,
      rippleY,
      rippleSize,
      cb
    } = params;
    setRipples((oldRipples) => [...oldRipples, /* @__PURE__ */ import_jsx_runtime25.jsx(TouchRippleRipple, {
      classes: {
        ripple: clsx_default(classes.ripple, touchRippleClasses_default.ripple),
        rippleVisible: clsx_default(classes.rippleVisible, touchRippleClasses_default.rippleVisible),
        ripplePulsate: clsx_default(classes.ripplePulsate, touchRippleClasses_default.ripplePulsate),
        child: clsx_default(classes.child, touchRippleClasses_default.child),
        childLeaving: clsx_default(classes.childLeaving, touchRippleClasses_default.childLeaving),
        childPulsate: clsx_default(classes.childPulsate, touchRippleClasses_default.childPulsate)
      },
      timeout: DURATION,
      pulsate: pulsate2,
      rippleX,
      rippleY,
      rippleSize
    }, nextKey.current)]);
    nextKey.current += 1;
    rippleCallback.current = cb;
  }, [classes]);
  const start = React57.useCallback((event = {}, options = {}, cb = () => {}) => {
    const {
      pulsate: pulsate2 = false,
      center = centerProp || options.pulsate,
      fakeElement = false
    } = options;
    if (event?.type === "mousedown" && ignoringMouseDown.current) {
      ignoringMouseDown.current = false;
      return;
    }
    if (event?.type === "touchstart") {
      ignoringMouseDown.current = true;
    }
    const element = fakeElement ? null : container.current;
    const rect = element ? element.getBoundingClientRect() : {
      width: 0,
      height: 0,
      left: 0,
      top: 0
    };
    let rippleX;
    let rippleY;
    let rippleSize;
    if (center || event === undefined || event.clientX === 0 && event.clientY === 0 || !event.clientX && !event.touches) {
      rippleX = Math.round(rect.width / 2);
      rippleY = Math.round(rect.height / 2);
    } else {
      const {
        clientX,
        clientY
      } = event.touches && event.touches.length > 0 ? event.touches[0] : event;
      rippleX = Math.round(clientX - rect.left);
      rippleY = Math.round(clientY - rect.top);
    }
    if (center) {
      rippleSize = Math.sqrt((2 * rect.width ** 2 + rect.height ** 2) / 3);
      if (rippleSize % 2 === 0) {
        rippleSize += 1;
      }
    } else {
      const sizeX = Math.max(Math.abs((element ? element.clientWidth : 0) - rippleX), rippleX) * 2 + 2;
      const sizeY = Math.max(Math.abs((element ? element.clientHeight : 0) - rippleY), rippleY) * 2 + 2;
      rippleSize = Math.sqrt(sizeX ** 2 + sizeY ** 2);
    }
    if (event?.touches) {
      if (startTimerCommit.current === null) {
        startTimerCommit.current = () => {
          startCommit({
            pulsate: pulsate2,
            rippleX,
            rippleY,
            rippleSize,
            cb
          });
        };
        startTimer.start(DELAY_RIPPLE, () => {
          if (startTimerCommit.current) {
            startTimerCommit.current();
            startTimerCommit.current = null;
          }
        });
      }
    } else {
      startCommit({
        pulsate: pulsate2,
        rippleX,
        rippleY,
        rippleSize,
        cb
      });
    }
  }, [centerProp, startCommit, startTimer]);
  const pulsate = React57.useCallback(() => {
    start({}, {
      pulsate: true
    });
  }, [start]);
  const stop = React57.useCallback((event, cb) => {
    startTimer.clear();
    if (event?.type === "touchend" && startTimerCommit.current) {
      startTimerCommit.current();
      startTimerCommit.current = null;
      startTimer.start(0, () => {
        stop(event, cb);
      });
      return;
    }
    startTimerCommit.current = null;
    setRipples((oldRipples) => {
      if (oldRipples.length > 0) {
        return oldRipples.slice(1);
      }
      return oldRipples;
    });
    rippleCallback.current = cb;
  }, [startTimer]);
  React57.useImperativeHandle(ref, () => ({
    pulsate,
    start,
    stop
  }), [pulsate, start, stop]);
  return /* @__PURE__ */ import_jsx_runtime25.jsx(TouchRippleRoot, {
    className: clsx_default(touchRippleClasses_default.root, classes.root, className),
    ref: container,
    ...other,
    children: /* @__PURE__ */ import_jsx_runtime25.jsx(TransitionGroup_default, {
      component: null,
      exit: true,
      children: ripples
    })
  });
});
TouchRipple.propTypes = {
  center: import_prop_types25.default.bool,
  classes: import_prop_types25.default.object,
  className: import_prop_types25.default.string
};
var TouchRipple_default = TouchRipple;

// node_modules/@mui/material/esm/ButtonBase/buttonBaseClasses.js
function getButtonBaseUtilityClass(slot) {
  return generateUtilityClass("MuiButtonBase", slot);
}
var buttonBaseClasses = generateUtilityClasses("MuiButtonBase", ["root", "disabled", "focusVisible"]);
var buttonBaseClasses_default = buttonBaseClasses;

// node_modules/@mui/material/esm/ButtonBase/ButtonBase.js
var import_jsx_runtime26 = __toESM(require_jsx_runtime(), 1);
"use client";
var useUtilityClasses4 = (ownerState) => {
  const {
    disabled,
    focusVisible,
    focusVisibleClassName,
    classes
  } = ownerState;
  const slots = {
    root: ["root", disabled && "disabled", focusVisible && "focusVisible"]
  };
  const composedClasses = composeClasses(slots, getButtonBaseUtilityClass, classes);
  if (focusVisible && focusVisibleClassName) {
    composedClasses.root += ` ${focusVisibleClassName}`;
  }
  return composedClasses;
};
var ButtonBaseRoot = styled_default2("button", {
  name: "MuiButtonBase",
  slot: "Root"
})({
  display: "inline-flex",
  alignItems: "center",
  justifyContent: "center",
  position: "relative",
  boxSizing: "border-box",
  WebkitTapHighlightColor: "transparent",
  backgroundColor: "transparent",
  outline: 0,
  border: 0,
  margin: 0,
  borderRadius: 0,
  padding: 0,
  cursor: "pointer",
  userSelect: "none",
  verticalAlign: "middle",
  MozAppearance: "none",
  WebkitAppearance: "none",
  textDecoration: "none",
  color: "inherit",
  "&::-moz-focus-inner": {
    borderStyle: "none"
  },
  [`&.${buttonBaseClasses_default.disabled}`]: {
    pointerEvents: "none",
    cursor: "default"
  },
  "@media print": {
    colorAdjust: "exact"
  }
});
var ButtonBase = /* @__PURE__ */ React58.forwardRef(function ButtonBase2(inProps, ref) {
  const props = useDefaultProps2({
    props: inProps,
    name: "MuiButtonBase"
  });
  const {
    action,
    centerRipple = false,
    children,
    className,
    component = "button",
    disabled = false,
    disableRipple = false,
    disableTouchRipple = false,
    focusRipple = false,
    focusVisibleClassName,
    LinkComponent = "a",
    onBlur,
    onClick,
    onContextMenu,
    onDragLeave,
    onFocus,
    onFocusVisible,
    onKeyDown,
    onKeyUp,
    onMouseDown,
    onMouseLeave,
    onMouseUp,
    onTouchEnd,
    onTouchMove,
    onTouchStart,
    tabIndex = 0,
    TouchRippleProps,
    touchRippleRef,
    type,
    ...other
  } = props;
  const buttonRef = React58.useRef(null);
  const ripple = useLazyRipple();
  const handleRippleRef = useForkRef_default(ripple.ref, touchRippleRef);
  const [focusVisible, setFocusVisible] = React58.useState(false);
  if (disabled && focusVisible) {
    setFocusVisible(false);
  }
  React58.useImperativeHandle(action, () => ({
    focusVisible: () => {
      setFocusVisible(true);
      buttonRef.current.focus();
    }
  }), []);
  const enableTouchRipple = ripple.shouldMount && !disableRipple && !disabled;
  React58.useEffect(() => {
    if (focusVisible && focusRipple && !disableRipple) {
      ripple.pulsate();
    }
  }, [disableRipple, focusRipple, focusVisible, ripple]);
  const handleMouseDown = useRippleHandler(ripple, "start", onMouseDown, disableTouchRipple);
  const handleContextMenu = useRippleHandler(ripple, "stop", onContextMenu, disableTouchRipple);
  const handleDragLeave = useRippleHandler(ripple, "stop", onDragLeave, disableTouchRipple);
  const handleMouseUp = useRippleHandler(ripple, "stop", onMouseUp, disableTouchRipple);
  const handleMouseLeave = useRippleHandler(ripple, "stop", (event) => {
    if (focusVisible) {
      event.preventDefault();
    }
    if (onMouseLeave) {
      onMouseLeave(event);
    }
  }, disableTouchRipple);
  const handleTouchStart = useRippleHandler(ripple, "start", onTouchStart, disableTouchRipple);
  const handleTouchEnd = useRippleHandler(ripple, "stop", onTouchEnd, disableTouchRipple);
  const handleTouchMove = useRippleHandler(ripple, "stop", onTouchMove, disableTouchRipple);
  const handleBlur = useRippleHandler(ripple, "stop", (event) => {
    if (!isFocusVisible(event.target)) {
      setFocusVisible(false);
    }
    if (onBlur) {
      onBlur(event);
    }
  }, false);
  const handleFocus = useEventCallback_default2((event) => {
    if (!buttonRef.current) {
      buttonRef.current = event.currentTarget;
    }
    if (isFocusVisible(event.target)) {
      setFocusVisible(true);
      if (onFocusVisible) {
        onFocusVisible(event);
      }
    }
    if (onFocus) {
      onFocus(event);
    }
  });
  const isNonNativeButton = () => {
    const button = buttonRef.current;
    return component && component !== "button" && !(button.tagName === "A" && button.href);
  };
  const handleKeyDown = useEventCallback_default2((event) => {
    if (focusRipple && !event.repeat && focusVisible && event.key === " ") {
      ripple.stop(event, () => {
        ripple.start(event);
      });
    }
    if (event.target === event.currentTarget && isNonNativeButton() && event.key === " ") {
      event.preventDefault();
    }
    if (onKeyDown) {
      onKeyDown(event);
    }
    if (event.target === event.currentTarget && isNonNativeButton() && event.key === "Enter" && !disabled) {
      event.preventDefault();
      if (onClick) {
        onClick(event);
      }
    }
  });
  const handleKeyUp = useEventCallback_default2((event) => {
    if (focusRipple && event.key === " " && focusVisible && !event.defaultPrevented) {
      ripple.stop(event, () => {
        ripple.pulsate(event);
      });
    }
    if (onKeyUp) {
      onKeyUp(event);
    }
    if (onClick && event.target === event.currentTarget && isNonNativeButton() && event.key === " " && !event.defaultPrevented) {
      onClick(event);
    }
  });
  let ComponentProp = component;
  if (ComponentProp === "button" && (other.href || other.to)) {
    ComponentProp = LinkComponent;
  }
  const buttonProps = {};
  if (ComponentProp === "button") {
    buttonProps.type = type === undefined ? "button" : type;
    buttonProps.disabled = disabled;
  } else {
    if (!other.href && !other.to) {
      buttonProps.role = "button";
    }
    if (disabled) {
      buttonProps["aria-disabled"] = disabled;
    }
  }
  const handleRef = useForkRef_default(ref, buttonRef);
  const ownerState = {
    ...props,
    centerRipple,
    component,
    disabled,
    disableRipple,
    disableTouchRipple,
    focusRipple,
    tabIndex,
    focusVisible
  };
  const classes = useUtilityClasses4(ownerState);
  return /* @__PURE__ */ import_jsx_runtime26.jsxs(ButtonBaseRoot, {
    as: ComponentProp,
    className: clsx_default(classes.root, className),
    ownerState,
    onBlur: handleBlur,
    onClick,
    onContextMenu: handleContextMenu,
    onFocus: handleFocus,
    onKeyDown: handleKeyDown,
    onKeyUp: handleKeyUp,
    onMouseDown: handleMouseDown,
    onMouseLeave: handleMouseLeave,
    onMouseUp: handleMouseUp,
    onDragLeave: handleDragLeave,
    onTouchEnd: handleTouchEnd,
    onTouchMove: handleTouchMove,
    onTouchStart: handleTouchStart,
    ref: handleRef,
    tabIndex: disabled ? -1 : tabIndex,
    type,
    ...buttonProps,
    ...other,
    children: [children, enableTouchRipple ? /* @__PURE__ */ import_jsx_runtime26.jsx(TouchRipple_default, {
      ref: handleRippleRef,
      center: centerRipple,
      ...TouchRippleProps
    }) : null]
  });
});
function useRippleHandler(ripple, rippleAction, eventCallback, skipRippleAction = false) {
  return useEventCallback_default2((event) => {
    if (eventCallback) {
      eventCallback(event);
    }
    if (!skipRippleAction) {
      ripple[rippleAction](event);
    }
    return true;
  });
}
ButtonBase.propTypes = {
  action: refType_default,
  centerRipple: import_prop_types26.default.bool,
  children: import_prop_types26.default.node,
  classes: import_prop_types26.default.object,
  className: import_prop_types26.default.string,
  component: elementTypeAcceptingRef_default,
  disabled: import_prop_types26.default.bool,
  disableRipple: import_prop_types26.default.bool,
  disableTouchRipple: import_prop_types26.default.bool,
  focusRipple: import_prop_types26.default.bool,
  focusVisibleClassName: import_prop_types26.default.string,
  href: import_prop_types26.default.any,
  LinkComponent: import_prop_types26.default.elementType,
  onBlur: import_prop_types26.default.func,
  onClick: import_prop_types26.default.func,
  onContextMenu: import_prop_types26.default.func,
  onDragLeave: import_prop_types26.default.func,
  onFocus: import_prop_types26.default.func,
  onFocusVisible: import_prop_types26.default.func,
  onKeyDown: import_prop_types26.default.func,
  onKeyUp: import_prop_types26.default.func,
  onMouseDown: import_prop_types26.default.func,
  onMouseLeave: import_prop_types26.default.func,
  onMouseUp: import_prop_types26.default.func,
  onTouchEnd: import_prop_types26.default.func,
  onTouchMove: import_prop_types26.default.func,
  onTouchStart: import_prop_types26.default.func,
  sx: import_prop_types26.default.oneOfType([import_prop_types26.default.arrayOf(import_prop_types26.default.oneOfType([import_prop_types26.default.func, import_prop_types26.default.object, import_prop_types26.default.bool])), import_prop_types26.default.func, import_prop_types26.default.object]),
  tabIndex: import_prop_types26.default.number,
  TouchRippleProps: import_prop_types26.default.object,
  touchRippleRef: import_prop_types26.default.oneOfType([import_prop_types26.default.func, import_prop_types26.default.shape({
    current: import_prop_types26.default.shape({
      pulsate: import_prop_types26.default.func.isRequired,
      start: import_prop_types26.default.func.isRequired,
      stop: import_prop_types26.default.func.isRequired
    })
  })]),
  type: import_prop_types26.default.oneOfType([import_prop_types26.default.oneOf(["button", "reset", "submit"]), import_prop_types26.default.string])
};
var ButtonBase_default = ButtonBase;
// node_modules/@mui/material/esm/CircularProgress/CircularProgress.js
var React59 = __toESM(require_react(), 1);
var import_prop_types27 = __toESM(require_prop_types(), 1);

// node_modules/@mui/material/esm/CircularProgress/circularProgressClasses.js
function getCircularProgressUtilityClass(slot) {
  return generateUtilityClass("MuiCircularProgress", slot);
}
var circularProgressClasses = generateUtilityClasses("MuiCircularProgress", ["root", "determinate", "indeterminate", "colorPrimary", "colorSecondary", "svg", "track", "circle", "circleDeterminate", "circleIndeterminate", "circleDisableShrink"]);

// node_modules/@mui/material/esm/CircularProgress/CircularProgress.js
var import_jsx_runtime27 = __toESM(require_jsx_runtime(), 1);
"use client";
var SIZE = 44;
var circularRotateKeyframe = keyframes`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`;
var circularDashKeyframe = keyframes`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`;
var rotateAnimation = typeof circularRotateKeyframe !== "string" ? css`
        animation: ${circularRotateKeyframe} 1.4s linear infinite;
      ` : null;
var dashAnimation = typeof circularDashKeyframe !== "string" ? css`
        animation: ${circularDashKeyframe} 1.4s ease-in-out infinite;
      ` : null;
var useUtilityClasses5 = (ownerState) => {
  const {
    classes,
    variant,
    color: color2,
    disableShrink
  } = ownerState;
  const slots = {
    root: ["root", variant, `color${capitalize_default(color2)}`],
    svg: ["svg"],
    track: ["track"],
    circle: ["circle", `circle${capitalize_default(variant)}`, disableShrink && "circleDisableShrink"]
  };
  return composeClasses(slots, getCircularProgressUtilityClass, classes);
};
var CircularProgressRoot = styled_default2("span", {
  name: "MuiCircularProgress",
  slot: "Root",
  overridesResolver: (props, styles) => {
    const {
      ownerState
    } = props;
    return [styles.root, styles[ownerState.variant], styles[`color${capitalize_default(ownerState.color)}`]];
  }
})(memoTheme_default(({
  theme
}) => ({
  display: "inline-block",
  variants: [{
    props: {
      variant: "determinate"
    },
    style: {
      transition: theme.transitions.create("transform")
    }
  }, {
    props: {
      variant: "indeterminate"
    },
    style: rotateAnimation || {
      animation: `${circularRotateKeyframe} 1.4s linear infinite`
    }
  }, ...Object.entries(theme.palette).filter(createSimplePaletteValueFilter()).map(([color2]) => ({
    props: {
      color: color2
    },
    style: {
      color: (theme.vars || theme).palette[color2].main
    }
  }))]
})));
var CircularProgressSVG = styled_default2("svg", {
  name: "MuiCircularProgress",
  slot: "Svg"
})({
  display: "block"
});
var CircularProgressCircle = styled_default2("circle", {
  name: "MuiCircularProgress",
  slot: "Circle",
  overridesResolver: (props, styles) => {
    const {
      ownerState
    } = props;
    return [styles.circle, styles[`circle${capitalize_default(ownerState.variant)}`], ownerState.disableShrink && styles.circleDisableShrink];
  }
})(memoTheme_default(({
  theme
}) => ({
  stroke: "currentColor",
  variants: [{
    props: {
      variant: "determinate"
    },
    style: {
      transition: theme.transitions.create("stroke-dashoffset")
    }
  }, {
    props: {
      variant: "indeterminate"
    },
    style: {
      strokeDasharray: "80px, 200px",
      strokeDashoffset: 0
    }
  }, {
    props: ({
      ownerState
    }) => ownerState.variant === "indeterminate" && !ownerState.disableShrink,
    style: dashAnimation || {
      animation: `${circularDashKeyframe} 1.4s ease-in-out infinite`
    }
  }]
})));
var CircularProgressTrack = styled_default2("circle", {
  name: "MuiCircularProgress",
  slot: "Track"
})(memoTheme_default(({
  theme
}) => ({
  stroke: "currentColor",
  opacity: (theme.vars || theme).palette.action.activatedOpacity
})));
var CircularProgress = /* @__PURE__ */ React59.forwardRef(function CircularProgress2(inProps, ref) {
  const props = useDefaultProps2({
    props: inProps,
    name: "MuiCircularProgress"
  });
  const {
    className,
    color: color2 = "primary",
    disableShrink = false,
    enableTrackSlot = false,
    size = 40,
    style: style5,
    thickness = 3.6,
    value = 0,
    variant = "indeterminate",
    ...other
  } = props;
  const ownerState = {
    ...props,
    color: color2,
    disableShrink,
    size,
    thickness,
    value,
    variant,
    enableTrackSlot
  };
  const classes = useUtilityClasses5(ownerState);
  const circleStyle = {};
  const rootStyle = {};
  const rootProps = {};
  if (variant === "determinate") {
    const circumference = 2 * Math.PI * ((SIZE - thickness) / 2);
    circleStyle.strokeDasharray = circumference.toFixed(3);
    rootProps["aria-valuenow"] = Math.round(value);
    circleStyle.strokeDashoffset = `${((100 - value) / 100 * circumference).toFixed(3)}px`;
    rootStyle.transform = "rotate(-90deg)";
  }
  return /* @__PURE__ */ import_jsx_runtime27.jsx(CircularProgressRoot, {
    className: clsx_default(classes.root, className),
    style: {
      width: size,
      height: size,
      ...rootStyle,
      ...style5
    },
    ownerState,
    ref,
    role: "progressbar",
    ...rootProps,
    ...other,
    children: /* @__PURE__ */ import_jsx_runtime27.jsxs(CircularProgressSVG, {
      className: classes.svg,
      ownerState,
      viewBox: `${SIZE / 2} ${SIZE / 2} ${SIZE} ${SIZE}`,
      children: [enableTrackSlot ? /* @__PURE__ */ import_jsx_runtime27.jsx(CircularProgressTrack, {
        className: classes.track,
        ownerState,
        cx: SIZE,
        cy: SIZE,
        r: (SIZE - thickness) / 2,
        fill: "none",
        strokeWidth: thickness,
        "aria-hidden": "true"
      }) : null, /* @__PURE__ */ import_jsx_runtime27.jsx(CircularProgressCircle, {
        className: classes.circle,
        style: circleStyle,
        ownerState,
        cx: SIZE,
        cy: SIZE,
        r: (SIZE - thickness) / 2,
        fill: "none",
        strokeWidth: thickness
      })]
    })
  });
});
CircularProgress.propTypes = {
  classes: import_prop_types27.default.object,
  className: import_prop_types27.default.string,
  color: import_prop_types27.default.oneOfType([import_prop_types27.default.oneOf(["inherit", "primary", "secondary", "error", "info", "success", "warning"]), import_prop_types27.default.string]),
  disableShrink: chainPropTypes(import_prop_types27.default.bool, (props) => {
    if (props.disableShrink && props.variant && props.variant !== "indeterminate") {
      return new Error("MUI: You have provided the `disableShrink` prop " + "with a variant other than `indeterminate`. This will have no effect.");
    }
    return null;
  }),
  enableTrackSlot: import_prop_types27.default.bool,
  size: import_prop_types27.default.oneOfType([import_prop_types27.default.number, import_prop_types27.default.string]),
  style: import_prop_types27.default.object,
  sx: import_prop_types27.default.oneOfType([import_prop_types27.default.arrayOf(import_prop_types27.default.oneOfType([import_prop_types27.default.func, import_prop_types27.default.object, import_prop_types27.default.bool])), import_prop_types27.default.func, import_prop_types27.default.object]),
  thickness: import_prop_types27.default.number,
  value: import_prop_types27.default.number,
  variant: import_prop_types27.default.oneOf(["determinate", "indeterminate"])
};
var CircularProgress_default = CircularProgress;
// node_modules/@mui/material/esm/Button/buttonClasses.js
function getButtonUtilityClass(slot) {
  return generateUtilityClass("MuiButton", slot);
}
var buttonClasses = generateUtilityClasses("MuiButton", ["root", "text", "textInherit", "textPrimary", "textSecondary", "textSuccess", "textError", "textInfo", "textWarning", "outlined", "outlinedInherit", "outlinedPrimary", "outlinedSecondary", "outlinedSuccess", "outlinedError", "outlinedInfo", "outlinedWarning", "contained", "containedInherit", "containedPrimary", "containedSecondary", "containedSuccess", "containedError", "containedInfo", "containedWarning", "disableElevation", "focusVisible", "disabled", "colorInherit", "colorPrimary", "colorSecondary", "colorSuccess", "colorError", "colorInfo", "colorWarning", "textSizeSmall", "textSizeMedium", "textSizeLarge", "outlinedSizeSmall", "outlinedSizeMedium", "outlinedSizeLarge", "containedSizeSmall", "containedSizeMedium", "containedSizeLarge", "sizeMedium", "sizeSmall", "sizeLarge", "fullWidth", "startIcon", "endIcon", "icon", "iconSizeSmall", "iconSizeMedium", "iconSizeLarge", "loading", "loadingWrapper", "loadingIconPlaceholder", "loadingIndicator", "loadingPositionCenter", "loadingPositionStart", "loadingPositionEnd"]);
var buttonClasses_default = buttonClasses;

// node_modules/@mui/material/esm/ButtonGroup/ButtonGroupContext.js
var React60 = __toESM(require_react(), 1);
"use client";
var ButtonGroupContext = /* @__PURE__ */ React60.createContext({});
if (true) {
  ButtonGroupContext.displayName = "ButtonGroupContext";
}
var ButtonGroupContext_default = ButtonGroupContext;

// node_modules/@mui/material/esm/ButtonGroup/ButtonGroupButtonContext.js
var React61 = __toESM(require_react(), 1);
"use client";
var ButtonGroupButtonContext = /* @__PURE__ */ React61.createContext(undefined);
if (true) {
  ButtonGroupButtonContext.displayName = "ButtonGroupButtonContext";
}
var ButtonGroupButtonContext_default = ButtonGroupButtonContext;

// node_modules/@mui/material/esm/Button/Button.js
var import_jsx_runtime28 = __toESM(require_jsx_runtime(), 1);
"use client";
var useUtilityClasses6 = (ownerState) => {
  const {
    color: color2,
    disableElevation,
    fullWidth,
    size,
    variant,
    loading,
    loadingPosition,
    classes
  } = ownerState;
  const slots = {
    root: ["root", loading && "loading", variant, `${variant}${capitalize_default(color2)}`, `size${capitalize_default(size)}`, `${variant}Size${capitalize_default(size)}`, `color${capitalize_default(color2)}`, disableElevation && "disableElevation", fullWidth && "fullWidth", loading && `loadingPosition${capitalize_default(loadingPosition)}`],
    startIcon: ["icon", "startIcon", `iconSize${capitalize_default(size)}`],
    endIcon: ["icon", "endIcon", `iconSize${capitalize_default(size)}`],
    loadingIndicator: ["loadingIndicator"],
    loadingWrapper: ["loadingWrapper"]
  };
  const composedClasses = composeClasses(slots, getButtonUtilityClass, classes);
  return {
    ...classes,
    ...composedClasses
  };
};
var commonIconStyles = [{
  props: {
    size: "small"
  },
  style: {
    "& > *:nth-of-type(1)": {
      fontSize: 18
    }
  }
}, {
  props: {
    size: "medium"
  },
  style: {
    "& > *:nth-of-type(1)": {
      fontSize: 20
    }
  }
}, {
  props: {
    size: "large"
  },
  style: {
    "& > *:nth-of-type(1)": {
      fontSize: 22
    }
  }
}];
var ButtonRoot = styled_default2(ButtonBase_default, {
  shouldForwardProp: (prop) => rootShouldForwardProp_default(prop) || prop === "classes",
  name: "MuiButton",
  slot: "Root",
  overridesResolver: (props, styles) => {
    const {
      ownerState
    } = props;
    return [styles.root, styles[ownerState.variant], styles[`${ownerState.variant}${capitalize_default(ownerState.color)}`], styles[`size${capitalize_default(ownerState.size)}`], styles[`${ownerState.variant}Size${capitalize_default(ownerState.size)}`], ownerState.color === "inherit" && styles.colorInherit, ownerState.disableElevation && styles.disableElevation, ownerState.fullWidth && styles.fullWidth, ownerState.loading && styles.loading];
  }
})(memoTheme_default(({
  theme
}) => {
  const inheritContainedBackgroundColor = theme.palette.mode === "light" ? theme.palette.grey[300] : theme.palette.grey[800];
  const inheritContainedHoverBackgroundColor = theme.palette.mode === "light" ? theme.palette.grey.A100 : theme.palette.grey[700];
  return {
    ...theme.typography.button,
    minWidth: 64,
    padding: "6px 16px",
    border: 0,
    borderRadius: (theme.vars || theme).shape.borderRadius,
    transition: theme.transitions.create(["background-color", "box-shadow", "border-color", "color"], {
      duration: theme.transitions.duration.short
    }),
    "&:hover": {
      textDecoration: "none"
    },
    [`&.${buttonClasses_default.disabled}`]: {
      color: (theme.vars || theme).palette.action.disabled
    },
    variants: [{
      props: {
        variant: "contained"
      },
      style: {
        color: `var(--variant-containedColor)`,
        backgroundColor: `var(--variant-containedBg)`,
        boxShadow: (theme.vars || theme).shadows[2],
        "&:hover": {
          boxShadow: (theme.vars || theme).shadows[4],
          "@media (hover: none)": {
            boxShadow: (theme.vars || theme).shadows[2]
          }
        },
        "&:active": {
          boxShadow: (theme.vars || theme).shadows[8]
        },
        [`&.${buttonClasses_default.focusVisible}`]: {
          boxShadow: (theme.vars || theme).shadows[6]
        },
        [`&.${buttonClasses_default.disabled}`]: {
          color: (theme.vars || theme).palette.action.disabled,
          boxShadow: (theme.vars || theme).shadows[0],
          backgroundColor: (theme.vars || theme).palette.action.disabledBackground
        }
      }
    }, {
      props: {
        variant: "outlined"
      },
      style: {
        padding: "5px 15px",
        border: "1px solid currentColor",
        borderColor: `var(--variant-outlinedBorder, currentColor)`,
        backgroundColor: `var(--variant-outlinedBg)`,
        color: `var(--variant-outlinedColor)`,
        [`&.${buttonClasses_default.disabled}`]: {
          border: `1px solid ${(theme.vars || theme).palette.action.disabledBackground}`
        }
      }
    }, {
      props: {
        variant: "text"
      },
      style: {
        padding: "6px 8px",
        color: `var(--variant-textColor)`,
        backgroundColor: `var(--variant-textBg)`
      }
    }, ...Object.entries(theme.palette).filter(createSimplePaletteValueFilter()).map(([color2]) => ({
      props: {
        color: color2
      },
      style: {
        "--variant-textColor": (theme.vars || theme).palette[color2].main,
        "--variant-outlinedColor": (theme.vars || theme).palette[color2].main,
        "--variant-outlinedBorder": theme.alpha((theme.vars || theme).palette[color2].main, 0.5),
        "--variant-containedColor": (theme.vars || theme).palette[color2].contrastText,
        "--variant-containedBg": (theme.vars || theme).palette[color2].main,
        "@media (hover: hover)": {
          "&:hover": {
            "--variant-containedBg": (theme.vars || theme).palette[color2].dark,
            "--variant-textBg": theme.alpha((theme.vars || theme).palette[color2].main, (theme.vars || theme).palette.action.hoverOpacity),
            "--variant-outlinedBorder": (theme.vars || theme).palette[color2].main,
            "--variant-outlinedBg": theme.alpha((theme.vars || theme).palette[color2].main, (theme.vars || theme).palette.action.hoverOpacity)
          }
        }
      }
    })), {
      props: {
        color: "inherit"
      },
      style: {
        color: "inherit",
        borderColor: "currentColor",
        "--variant-containedBg": theme.vars ? theme.vars.palette.Button.inheritContainedBg : inheritContainedBackgroundColor,
        "@media (hover: hover)": {
          "&:hover": {
            "--variant-containedBg": theme.vars ? theme.vars.palette.Button.inheritContainedHoverBg : inheritContainedHoverBackgroundColor,
            "--variant-textBg": theme.alpha((theme.vars || theme).palette.text.primary, (theme.vars || theme).palette.action.hoverOpacity),
            "--variant-outlinedBg": theme.alpha((theme.vars || theme).palette.text.primary, (theme.vars || theme).palette.action.hoverOpacity)
          }
        }
      }
    }, {
      props: {
        size: "small",
        variant: "text"
      },
      style: {
        padding: "4px 5px",
        fontSize: theme.typography.pxToRem(13)
      }
    }, {
      props: {
        size: "large",
        variant: "text"
      },
      style: {
        padding: "8px 11px",
        fontSize: theme.typography.pxToRem(15)
      }
    }, {
      props: {
        size: "small",
        variant: "outlined"
      },
      style: {
        padding: "3px 9px",
        fontSize: theme.typography.pxToRem(13)
      }
    }, {
      props: {
        size: "large",
        variant: "outlined"
      },
      style: {
        padding: "7px 21px",
        fontSize: theme.typography.pxToRem(15)
      }
    }, {
      props: {
        size: "small",
        variant: "contained"
      },
      style: {
        padding: "4px 10px",
        fontSize: theme.typography.pxToRem(13)
      }
    }, {
      props: {
        size: "large",
        variant: "contained"
      },
      style: {
        padding: "8px 22px",
        fontSize: theme.typography.pxToRem(15)
      }
    }, {
      props: {
        disableElevation: true
      },
      style: {
        boxShadow: "none",
        "&:hover": {
          boxShadow: "none"
        },
        [`&.${buttonClasses_default.focusVisible}`]: {
          boxShadow: "none"
        },
        "&:active": {
          boxShadow: "none"
        },
        [`&.${buttonClasses_default.disabled}`]: {
          boxShadow: "none"
        }
      }
    }, {
      props: {
        fullWidth: true
      },
      style: {
        width: "100%"
      }
    }, {
      props: {
        loadingPosition: "center"
      },
      style: {
        transition: theme.transitions.create(["background-color", "box-shadow", "border-color"], {
          duration: theme.transitions.duration.short
        }),
        [`&.${buttonClasses_default.loading}`]: {
          color: "transparent"
        }
      }
    }]
  };
}));
var ButtonStartIcon = styled_default2("span", {
  name: "MuiButton",
  slot: "StartIcon",
  overridesResolver: (props, styles) => {
    const {
      ownerState
    } = props;
    return [styles.startIcon, ownerState.loading && styles.startIconLoadingStart, styles[`iconSize${capitalize_default(ownerState.size)}`]];
  }
})(({
  theme
}) => ({
  display: "inherit",
  marginRight: 8,
  marginLeft: -4,
  variants: [{
    props: {
      size: "small"
    },
    style: {
      marginLeft: -2
    }
  }, {
    props: {
      loadingPosition: "start",
      loading: true
    },
    style: {
      transition: theme.transitions.create(["opacity"], {
        duration: theme.transitions.duration.short
      }),
      opacity: 0
    }
  }, {
    props: {
      loadingPosition: "start",
      loading: true,
      fullWidth: true
    },
    style: {
      marginRight: -8
    }
  }, ...commonIconStyles]
}));
var ButtonEndIcon = styled_default2("span", {
  name: "MuiButton",
  slot: "EndIcon",
  overridesResolver: (props, styles) => {
    const {
      ownerState
    } = props;
    return [styles.endIcon, ownerState.loading && styles.endIconLoadingEnd, styles[`iconSize${capitalize_default(ownerState.size)}`]];
  }
})(({
  theme
}) => ({
  display: "inherit",
  marginRight: -4,
  marginLeft: 8,
  variants: [{
    props: {
      size: "small"
    },
    style: {
      marginRight: -2
    }
  }, {
    props: {
      loadingPosition: "end",
      loading: true
    },
    style: {
      transition: theme.transitions.create(["opacity"], {
        duration: theme.transitions.duration.short
      }),
      opacity: 0
    }
  }, {
    props: {
      loadingPosition: "end",
      loading: true,
      fullWidth: true
    },
    style: {
      marginLeft: -8
    }
  }, ...commonIconStyles]
}));
var ButtonLoadingIndicator = styled_default2("span", {
  name: "MuiButton",
  slot: "LoadingIndicator"
})(({
  theme
}) => ({
  display: "none",
  position: "absolute",
  visibility: "visible",
  variants: [{
    props: {
      loading: true
    },
    style: {
      display: "flex"
    }
  }, {
    props: {
      loadingPosition: "start"
    },
    style: {
      left: 14
    }
  }, {
    props: {
      loadingPosition: "start",
      size: "small"
    },
    style: {
      left: 10
    }
  }, {
    props: {
      variant: "text",
      loadingPosition: "start"
    },
    style: {
      left: 6
    }
  }, {
    props: {
      loadingPosition: "center"
    },
    style: {
      left: "50%",
      transform: "translate(-50%)",
      color: (theme.vars || theme).palette.action.disabled
    }
  }, {
    props: {
      loadingPosition: "end"
    },
    style: {
      right: 14
    }
  }, {
    props: {
      loadingPosition: "end",
      size: "small"
    },
    style: {
      right: 10
    }
  }, {
    props: {
      variant: "text",
      loadingPosition: "end"
    },
    style: {
      right: 6
    }
  }, {
    props: {
      loadingPosition: "start",
      fullWidth: true
    },
    style: {
      position: "relative",
      left: -10
    }
  }, {
    props: {
      loadingPosition: "end",
      fullWidth: true
    },
    style: {
      position: "relative",
      right: -10
    }
  }]
}));
var ButtonLoadingIconPlaceholder = styled_default2("span", {
  name: "MuiButton",
  slot: "LoadingIconPlaceholder"
})({
  display: "inline-block",
  width: "1em",
  height: "1em"
});
var Button = /* @__PURE__ */ React62.forwardRef(function Button2(inProps, ref) {
  const contextProps = React62.useContext(ButtonGroupContext_default);
  const buttonGroupButtonContextPositionClassName = React62.useContext(ButtonGroupButtonContext_default);
  const resolvedProps = resolveProps(contextProps, inProps);
  const props = useDefaultProps2({
    props: resolvedProps,
    name: "MuiButton"
  });
  const {
    children,
    color: color2 = "primary",
    component = "button",
    className,
    disabled = false,
    disableElevation = false,
    disableFocusRipple = false,
    endIcon: endIconProp,
    focusVisibleClassName,
    fullWidth = false,
    id: idProp,
    loading = null,
    loadingIndicator: loadingIndicatorProp,
    loadingPosition = "center",
    size = "medium",
    startIcon: startIconProp,
    type,
    variant = "text",
    ...other
  } = props;
  const loadingId = useId_default(idProp);
  const loadingIndicator = loadingIndicatorProp ?? /* @__PURE__ */ import_jsx_runtime28.jsx(CircularProgress_default, {
    "aria-labelledby": loadingId,
    color: "inherit",
    size: 16
  });
  const ownerState = {
    ...props,
    color: color2,
    component,
    disabled,
    disableElevation,
    disableFocusRipple,
    fullWidth,
    loading,
    loadingIndicator,
    loadingPosition,
    size,
    type,
    variant
  };
  const classes = useUtilityClasses6(ownerState);
  const startIcon = (startIconProp || loading && loadingPosition === "start") && /* @__PURE__ */ import_jsx_runtime28.jsx(ButtonStartIcon, {
    className: classes.startIcon,
    ownerState,
    children: startIconProp || /* @__PURE__ */ import_jsx_runtime28.jsx(ButtonLoadingIconPlaceholder, {
      className: classes.loadingIconPlaceholder,
      ownerState
    })
  });
  const endIcon = (endIconProp || loading && loadingPosition === "end") && /* @__PURE__ */ import_jsx_runtime28.jsx(ButtonEndIcon, {
    className: classes.endIcon,
    ownerState,
    children: endIconProp || /* @__PURE__ */ import_jsx_runtime28.jsx(ButtonLoadingIconPlaceholder, {
      className: classes.loadingIconPlaceholder,
      ownerState
    })
  });
  const positionClassName = buttonGroupButtonContextPositionClassName || "";
  const loader = typeof loading === "boolean" ? /* @__PURE__ */ import_jsx_runtime28.jsx("span", {
    className: classes.loadingWrapper,
    style: {
      display: "contents"
    },
    children: loading && /* @__PURE__ */ import_jsx_runtime28.jsx(ButtonLoadingIndicator, {
      className: classes.loadingIndicator,
      ownerState,
      children: loadingIndicator
    })
  }) : null;
  return /* @__PURE__ */ import_jsx_runtime28.jsxs(ButtonRoot, {
    ownerState,
    className: clsx_default(contextProps.className, classes.root, className, positionClassName),
    component,
    disabled: disabled || loading,
    focusRipple: !disableFocusRipple,
    focusVisibleClassName: clsx_default(classes.focusVisible, focusVisibleClassName),
    ref,
    type,
    id: loading ? loadingId : idProp,
    ...other,
    classes,
    children: [startIcon, loadingPosition !== "end" && loader, children, loadingPosition === "end" && loader, endIcon]
  });
});
Button.propTypes = {
  children: import_prop_types28.default.node,
  classes: import_prop_types28.default.object,
  className: import_prop_types28.default.string,
  color: import_prop_types28.default.oneOfType([import_prop_types28.default.oneOf(["inherit", "primary", "secondary", "success", "error", "info", "warning"]), import_prop_types28.default.string]),
  component: import_prop_types28.default.elementType,
  disabled: import_prop_types28.default.bool,
  disableElevation: import_prop_types28.default.bool,
  disableFocusRipple: import_prop_types28.default.bool,
  disableRipple: import_prop_types28.default.bool,
  endIcon: import_prop_types28.default.node,
  focusVisibleClassName: import_prop_types28.default.string,
  fullWidth: import_prop_types28.default.bool,
  href: import_prop_types28.default.string,
  id: import_prop_types28.default.string,
  loading: import_prop_types28.default.bool,
  loadingIndicator: import_prop_types28.default.node,
  loadingPosition: import_prop_types28.default.oneOf(["center", "end", "start"]),
  size: import_prop_types28.default.oneOfType([import_prop_types28.default.oneOf(["small", "medium", "large"]), import_prop_types28.default.string]),
  startIcon: import_prop_types28.default.node,
  sx: import_prop_types28.default.oneOfType([import_prop_types28.default.arrayOf(import_prop_types28.default.oneOfType([import_prop_types28.default.func, import_prop_types28.default.object, import_prop_types28.default.bool])), import_prop_types28.default.func, import_prop_types28.default.object]),
  type: import_prop_types28.default.oneOfType([import_prop_types28.default.oneOf(["button", "reset", "submit"]), import_prop_types28.default.string]),
  variant: import_prop_types28.default.oneOfType([import_prop_types28.default.oneOf(["contained", "outlined", "text"]), import_prop_types28.default.string])
};
var Button_default = Button;
// node_modules/@mui/material/esm/Container/Container.js
var import_prop_types29 = __toESM(require_prop_types(), 1);
"use client";
var Container2 = createContainer({
  createStyledComponent: styled_default2("div", {
    name: "MuiContainer",
    slot: "Root",
    overridesResolver: (props, styles) => {
      const {
        ownerState
      } = props;
      return [styles.root, styles[`maxWidth${capitalize_default(String(ownerState.maxWidth))}`], ownerState.fixed && styles.fixed, ownerState.disableGutters && styles.disableGutters];
    }
  }),
  useThemeProps: (inProps) => useDefaultProps2({
    props: inProps,
    name: "MuiContainer"
  })
});
Container2.propTypes = {
  children: import_prop_types29.default.node,
  classes: import_prop_types29.default.object,
  component: import_prop_types29.default.elementType,
  disableGutters: import_prop_types29.default.bool,
  fixed: import_prop_types29.default.bool,
  maxWidth: import_prop_types29.default.oneOfType([import_prop_types29.default.oneOf(["xs", "sm", "md", "lg", "xl", false]), import_prop_types29.default.string]),
  sx: import_prop_types29.default.oneOfType([import_prop_types29.default.arrayOf(import_prop_types29.default.oneOfType([import_prop_types29.default.func, import_prop_types29.default.object, import_prop_types29.default.bool])), import_prop_types29.default.func, import_prop_types29.default.object])
};
var Container_default = Container2;
// node_modules/@mui/material/esm/Stack/Stack.js
var import_prop_types30 = __toESM(require_prop_types(), 1);
"use client";
var Stack2 = createStack({
  createStyledComponent: styled_default2("div", {
    name: "MuiStack",
    slot: "Root"
  }),
  useThemeProps: (inProps) => useDefaultProps2({
    props: inProps,
    name: "MuiStack"
  })
});
Stack2.propTypes = {
  children: import_prop_types30.default.node,
  component: import_prop_types30.default.elementType,
  direction: import_prop_types30.default.oneOfType([import_prop_types30.default.oneOf(["column-reverse", "column", "row-reverse", "row"]), import_prop_types30.default.arrayOf(import_prop_types30.default.oneOf(["column-reverse", "column", "row-reverse", "row"])), import_prop_types30.default.object]),
  divider: import_prop_types30.default.node,
  spacing: import_prop_types30.default.oneOfType([import_prop_types30.default.arrayOf(import_prop_types30.default.oneOfType([import_prop_types30.default.number, import_prop_types30.default.string])), import_prop_types30.default.number, import_prop_types30.default.object, import_prop_types30.default.string]),
  sx: import_prop_types30.default.oneOfType([import_prop_types30.default.arrayOf(import_prop_types30.default.oneOfType([import_prop_types30.default.func, import_prop_types30.default.object, import_prop_types30.default.bool])), import_prop_types30.default.func, import_prop_types30.default.object]),
  useFlexGap: import_prop_types30.default.bool
};
var Stack_default = Stack2;
// node_modules/@mui/material/esm/Collapse/Collapse.js
var React63 = __toESM(require_react(), 1);
var import_prop_types31 = __toESM(require_prop_types(), 1);

// node_modules/@mui/material/esm/transitions/utils.js
var reflow = (node2) => node2.scrollTop;
function getTransitionProps(props, options) {
  const {
    timeout: timeout2,
    easing: easing2,
    style: style5 = {}
  } = props;
  return {
    duration: style5.transitionDuration ?? (typeof timeout2 === "number" ? timeout2 : timeout2[options.mode] || 0),
    easing: style5.transitionTimingFunction ?? (typeof easing2 === "object" ? easing2[options.mode] : easing2),
    delay: style5.transitionDelay
  };
}

// node_modules/@mui/utils/esm/isHostComponent/isHostComponent.js
function isHostComponent(element) {
  return typeof element === "string";
}
var isHostComponent_default = isHostComponent;
// node_modules/@mui/utils/esm/appendOwnerState/appendOwnerState.js
function appendOwnerState(elementType, otherProps, ownerState) {
  if (elementType === undefined || isHostComponent_default(elementType)) {
    return otherProps;
  }
  return {
    ...otherProps,
    ownerState: {
      ...otherProps.ownerState,
      ...ownerState
    }
  };
}
var appendOwnerState_default = appendOwnerState;
// node_modules/@mui/utils/esm/resolveComponentProps/resolveComponentProps.js
function resolveComponentProps(componentProps, ownerState, slotState) {
  if (typeof componentProps === "function") {
    return componentProps(ownerState, slotState);
  }
  return componentProps;
}
var resolveComponentProps_default = resolveComponentProps;
// node_modules/@mui/utils/esm/extractEventHandlers/extractEventHandlers.js
function extractEventHandlers(object, excludeKeys = []) {
  if (object === undefined) {
    return {};
  }
  const result = {};
  Object.keys(object).filter((prop) => prop.match(/^on[A-Z]/) && typeof object[prop] === "function" && !excludeKeys.includes(prop)).forEach((prop) => {
    result[prop] = object[prop];
  });
  return result;
}
var extractEventHandlers_default = extractEventHandlers;
// node_modules/@mui/utils/esm/omitEventHandlers/omitEventHandlers.js
function omitEventHandlers(object) {
  if (object === undefined) {
    return {};
  }
  const result = {};
  Object.keys(object).filter((prop) => !(prop.match(/^on[A-Z]/) && typeof object[prop] === "function")).forEach((prop) => {
    result[prop] = object[prop];
  });
  return result;
}
var omitEventHandlers_default = omitEventHandlers;
// node_modules/@mui/utils/esm/mergeSlotProps/mergeSlotProps.js
function mergeSlotProps2(parameters) {
  const {
    getSlotProps,
    additionalProps,
    externalSlotProps,
    externalForwardedProps,
    className
  } = parameters;
  if (!getSlotProps) {
    const joinedClasses2 = clsx_default(additionalProps?.className, className, externalForwardedProps?.className, externalSlotProps?.className);
    const mergedStyle2 = {
      ...additionalProps?.style,
      ...externalForwardedProps?.style,
      ...externalSlotProps?.style
    };
    const props2 = {
      ...additionalProps,
      ...externalForwardedProps,
      ...externalSlotProps
    };
    if (joinedClasses2.length > 0) {
      props2.className = joinedClasses2;
    }
    if (Object.keys(mergedStyle2).length > 0) {
      props2.style = mergedStyle2;
    }
    return {
      props: props2,
      internalRef: undefined
    };
  }
  const eventHandlers = extractEventHandlers_default({
    ...externalForwardedProps,
    ...externalSlotProps
  });
  const componentsPropsWithoutEventHandlers = omitEventHandlers_default(externalSlotProps);
  const otherPropsWithoutEventHandlers = omitEventHandlers_default(externalForwardedProps);
  const internalSlotProps = getSlotProps(eventHandlers);
  const joinedClasses = clsx_default(internalSlotProps?.className, additionalProps?.className, className, externalForwardedProps?.className, externalSlotProps?.className);
  const mergedStyle = {
    ...internalSlotProps?.style,
    ...additionalProps?.style,
    ...externalForwardedProps?.style,
    ...externalSlotProps?.style
  };
  const props = {
    ...internalSlotProps,
    ...additionalProps,
    ...otherPropsWithoutEventHandlers,
    ...componentsPropsWithoutEventHandlers
  };
  if (joinedClasses.length > 0) {
    props.className = joinedClasses;
  }
  if (Object.keys(mergedStyle).length > 0) {
    props.style = mergedStyle;
  }
  return {
    props,
    internalRef: internalSlotProps.ref
  };
}
var mergeSlotProps_default = mergeSlotProps2;
// node_modules/@mui/material/esm/utils/useSlot.js
"use client";
function useSlot(name, parameters) {
  const {
    className,
    elementType: initialElementType,
    ownerState,
    externalForwardedProps,
    internalForwardedProps,
    shouldForwardComponentProp = false,
    ...useSlotPropsParams
  } = parameters;
  const {
    component: rootComponent,
    slots = {
      [name]: undefined
    },
    slotProps = {
      [name]: undefined
    },
    ...other
  } = externalForwardedProps;
  const elementType = slots[name] || initialElementType;
  const resolvedComponentsProps = resolveComponentProps_default(slotProps[name], ownerState);
  const {
    props: {
      component: slotComponent,
      ...mergedProps
    },
    internalRef
  } = mergeSlotProps_default({
    className,
    ...useSlotPropsParams,
    externalForwardedProps: name === "root" ? other : undefined,
    externalSlotProps: resolvedComponentsProps
  });
  const ref = useForkRef(internalRef, resolvedComponentsProps?.ref, parameters.ref);
  const LeafComponent = name === "root" ? slotComponent || rootComponent : slotComponent;
  const props = appendOwnerState_default(elementType, {
    ...name === "root" && !rootComponent && !slots[name] && internalForwardedProps,
    ...name !== "root" && !slots[name] && internalForwardedProps,
    ...mergedProps,
    ...LeafComponent && !shouldForwardComponentProp && {
      as: LeafComponent
    },
    ...LeafComponent && shouldForwardComponentProp && {
      component: LeafComponent
    },
    ref
  }, ownerState);
  return [elementType, props];
}

// node_modules/@mui/material/esm/Collapse/collapseClasses.js
function getCollapseUtilityClass(slot) {
  return generateUtilityClass("MuiCollapse", slot);
}
var collapseClasses = generateUtilityClasses("MuiCollapse", ["root", "horizontal", "vertical", "entered", "hidden", "wrapper", "wrapperInner"]);

// node_modules/@mui/material/esm/Collapse/Collapse.js
var import_jsx_runtime29 = __toESM(require_jsx_runtime(), 1);
"use client";
var useUtilityClasses7 = (ownerState) => {
  const {
    orientation,
    classes
  } = ownerState;
  const slots = {
    root: ["root", `${orientation}`],
    entered: ["entered"],
    hidden: ["hidden"],
    wrapper: ["wrapper", `${orientation}`],
    wrapperInner: ["wrapperInner", `${orientation}`]
  };
  return composeClasses(slots, getCollapseUtilityClass, classes);
};
var CollapseRoot = styled_default2("div", {
  name: "MuiCollapse",
  slot: "Root",
  overridesResolver: (props, styles) => {
    const {
      ownerState
    } = props;
    return [styles.root, styles[ownerState.orientation], ownerState.state === "entered" && styles.entered, ownerState.state === "exited" && !ownerState.in && ownerState.collapsedSize === "0px" && styles.hidden];
  }
})(memoTheme_default(({
  theme
}) => ({
  height: 0,
  overflow: "hidden",
  transition: theme.transitions.create("height"),
  variants: [{
    props: {
      orientation: "horizontal"
    },
    style: {
      height: "auto",
      width: 0,
      transition: theme.transitions.create("width")
    }
  }, {
    props: {
      state: "entered"
    },
    style: {
      height: "auto",
      overflow: "visible"
    }
  }, {
    props: {
      state: "entered",
      orientation: "horizontal"
    },
    style: {
      width: "auto"
    }
  }, {
    props: ({
      ownerState
    }) => ownerState.state === "exited" && !ownerState.in && ownerState.collapsedSize === "0px",
    style: {
      visibility: "hidden"
    }
  }]
})));
var CollapseWrapper = styled_default2("div", {
  name: "MuiCollapse",
  slot: "Wrapper"
})({
  display: "flex",
  width: "100%",
  variants: [{
    props: {
      orientation: "horizontal"
    },
    style: {
      width: "auto",
      height: "100%"
    }
  }]
});
var CollapseWrapperInner = styled_default2("div", {
  name: "MuiCollapse",
  slot: "WrapperInner"
})({
  width: "100%",
  variants: [{
    props: {
      orientation: "horizontal"
    },
    style: {
      width: "auto",
      height: "100%"
    }
  }]
});
var Collapse = /* @__PURE__ */ React63.forwardRef(function Collapse2(inProps, ref) {
  const props = useDefaultProps2({
    props: inProps,
    name: "MuiCollapse"
  });
  const {
    addEndListener,
    children,
    className,
    collapsedSize: collapsedSizeProp = "0px",
    component,
    easing: easing2,
    in: inProp,
    onEnter,
    onEntered,
    onEntering,
    onExit,
    onExited,
    onExiting,
    orientation = "vertical",
    slots = {},
    slotProps = {},
    style: style5,
    timeout: timeout2 = duration.standard,
    TransitionComponent = Transition_default,
    ...other
  } = props;
  const ownerState = {
    ...props,
    orientation,
    collapsedSize: collapsedSizeProp
  };
  const classes = useUtilityClasses7(ownerState);
  const theme = useTheme6();
  const timer = useTimeout();
  const wrapperRef = React63.useRef(null);
  const autoTransitionDuration = React63.useRef();
  const collapsedSize = typeof collapsedSizeProp === "number" ? `${collapsedSizeProp}px` : collapsedSizeProp;
  const isHorizontal = orientation === "horizontal";
  const size = isHorizontal ? "width" : "height";
  const nodeRef = React63.useRef(null);
  const handleRef = useForkRef_default(ref, nodeRef);
  const normalizedTransitionCallback = (callback) => (maybeIsAppearing) => {
    if (callback) {
      const node2 = nodeRef.current;
      if (maybeIsAppearing === undefined) {
        callback(node2);
      } else {
        callback(node2, maybeIsAppearing);
      }
    }
  };
  const getWrapperSize = () => wrapperRef.current ? wrapperRef.current[isHorizontal ? "clientWidth" : "clientHeight"] : 0;
  const handleEnter = normalizedTransitionCallback((node2, isAppearing) => {
    if (wrapperRef.current && isHorizontal) {
      wrapperRef.current.style.position = "absolute";
    }
    node2.style[size] = collapsedSize;
    if (onEnter) {
      onEnter(node2, isAppearing);
    }
  });
  const handleEntering = normalizedTransitionCallback((node2, isAppearing) => {
    const wrapperSize = getWrapperSize();
    if (wrapperRef.current && isHorizontal) {
      wrapperRef.current.style.position = "";
    }
    const {
      duration: transitionDuration,
      easing: transitionTimingFunction
    } = getTransitionProps({
      style: style5,
      timeout: timeout2,
      easing: easing2
    }, {
      mode: "enter"
    });
    if (timeout2 === "auto") {
      const duration2 = theme.transitions.getAutoHeightDuration(wrapperSize);
      node2.style.transitionDuration = `${duration2}ms`;
      autoTransitionDuration.current = duration2;
    } else {
      node2.style.transitionDuration = typeof transitionDuration === "string" ? transitionDuration : `${transitionDuration}ms`;
    }
    node2.style[size] = `${wrapperSize}px`;
    node2.style.transitionTimingFunction = transitionTimingFunction;
    if (onEntering) {
      onEntering(node2, isAppearing);
    }
  });
  const handleEntered = normalizedTransitionCallback((node2, isAppearing) => {
    node2.style[size] = "auto";
    if (onEntered) {
      onEntered(node2, isAppearing);
    }
  });
  const handleExit = normalizedTransitionCallback((node2) => {
    node2.style[size] = `${getWrapperSize()}px`;
    if (onExit) {
      onExit(node2);
    }
  });
  const handleExited = normalizedTransitionCallback(onExited);
  const handleExiting = normalizedTransitionCallback((node2) => {
    const wrapperSize = getWrapperSize();
    const {
      duration: transitionDuration,
      easing: transitionTimingFunction
    } = getTransitionProps({
      style: style5,
      timeout: timeout2,
      easing: easing2
    }, {
      mode: "exit"
    });
    if (timeout2 === "auto") {
      const duration2 = theme.transitions.getAutoHeightDuration(wrapperSize);
      node2.style.transitionDuration = `${duration2}ms`;
      autoTransitionDuration.current = duration2;
    } else {
      node2.style.transitionDuration = typeof transitionDuration === "string" ? transitionDuration : `${transitionDuration}ms`;
    }
    node2.style[size] = collapsedSize;
    node2.style.transitionTimingFunction = transitionTimingFunction;
    if (onExiting) {
      onExiting(node2);
    }
  });
  const handleAddEndListener = (next2) => {
    if (timeout2 === "auto") {
      timer.start(autoTransitionDuration.current || 0, next2);
    }
    if (addEndListener) {
      addEndListener(nodeRef.current, next2);
    }
  };
  const externalForwardedProps = {
    slots,
    slotProps,
    component
  };
  const [RootSlot, rootSlotProps] = useSlot("root", {
    ref: handleRef,
    className: clsx_default(classes.root, className),
    elementType: CollapseRoot,
    externalForwardedProps,
    ownerState,
    additionalProps: {
      style: {
        [isHorizontal ? "minWidth" : "minHeight"]: collapsedSize,
        ...style5
      }
    }
  });
  const [WrapperSlot, wrapperSlotProps] = useSlot("wrapper", {
    ref: wrapperRef,
    className: classes.wrapper,
    elementType: CollapseWrapper,
    externalForwardedProps,
    ownerState
  });
  const [WrapperInnerSlot, wrapperInnerSlotProps] = useSlot("wrapperInner", {
    className: classes.wrapperInner,
    elementType: CollapseWrapperInner,
    externalForwardedProps,
    ownerState
  });
  return /* @__PURE__ */ import_jsx_runtime29.jsx(TransitionComponent, {
    in: inProp,
    onEnter: handleEnter,
    onEntered: handleEntered,
    onEntering: handleEntering,
    onExit: handleExit,
    onExited: handleExited,
    onExiting: handleExiting,
    addEndListener: handleAddEndListener,
    nodeRef,
    timeout: timeout2 === "auto" ? null : timeout2,
    ...other,
    children: (state, {
      ownerState: incomingOwnerState,
      ...restChildProps
    }) => {
      const stateOwnerState = {
        ...ownerState,
        state
      };
      return /* @__PURE__ */ import_jsx_runtime29.jsx(RootSlot, {
        ...rootSlotProps,
        className: clsx_default(rootSlotProps.className, {
          entered: classes.entered,
          exited: !inProp && collapsedSize === "0px" && classes.hidden
        }[state]),
        ownerState: stateOwnerState,
        ...restChildProps,
        children: /* @__PURE__ */ import_jsx_runtime29.jsx(WrapperSlot, {
          ...wrapperSlotProps,
          ownerState: stateOwnerState,
          children: /* @__PURE__ */ import_jsx_runtime29.jsx(WrapperInnerSlot, {
            ...wrapperInnerSlotProps,
            ownerState: stateOwnerState,
            children
          })
        })
      });
    }
  });
});
Collapse.propTypes = {
  addEndListener: import_prop_types31.default.func,
  children: import_prop_types31.default.node,
  classes: import_prop_types31.default.object,
  className: import_prop_types31.default.string,
  collapsedSize: import_prop_types31.default.oneOfType([import_prop_types31.default.number, import_prop_types31.default.string]),
  component: elementTypeAcceptingRef_default,
  easing: import_prop_types31.default.oneOfType([import_prop_types31.default.shape({
    enter: import_prop_types31.default.string,
    exit: import_prop_types31.default.string
  }), import_prop_types31.default.string]),
  in: import_prop_types31.default.bool,
  onEnter: import_prop_types31.default.func,
  onEntered: import_prop_types31.default.func,
  onEntering: import_prop_types31.default.func,
  onExit: import_prop_types31.default.func,
  onExited: import_prop_types31.default.func,
  onExiting: import_prop_types31.default.func,
  orientation: import_prop_types31.default.oneOf(["horizontal", "vertical"]),
  slotProps: import_prop_types31.default.shape({
    root: import_prop_types31.default.oneOfType([import_prop_types31.default.func, import_prop_types31.default.object]),
    wrapper: import_prop_types31.default.oneOfType([import_prop_types31.default.func, import_prop_types31.default.object]),
    wrapperInner: import_prop_types31.default.oneOfType([import_prop_types31.default.func, import_prop_types31.default.object])
  }),
  slots: import_prop_types31.default.shape({
    root: import_prop_types31.default.elementType,
    wrapper: import_prop_types31.default.elementType,
    wrapperInner: import_prop_types31.default.elementType
  }),
  style: import_prop_types31.default.object,
  sx: import_prop_types31.default.oneOfType([import_prop_types31.default.arrayOf(import_prop_types31.default.oneOfType([import_prop_types31.default.func, import_prop_types31.default.object, import_prop_types31.default.bool])), import_prop_types31.default.func, import_prop_types31.default.object]),
  timeout: import_prop_types31.default.oneOfType([import_prop_types31.default.oneOf(["auto"]), import_prop_types31.default.number, import_prop_types31.default.shape({
    appear: import_prop_types31.default.number,
    enter: import_prop_types31.default.number,
    exit: import_prop_types31.default.number
  })])
};
if (Collapse) {
  Collapse.muiSupportAuto = true;
}
var Collapse_default = Collapse;
// node_modules/@mui/material/esm/Paper/Paper.js
var React64 = __toESM(require_react(), 1);
var import_prop_types32 = __toESM(require_prop_types(), 1);

// node_modules/@mui/utils/esm/integerPropType/integerPropType.js
function getTypeByValue(value) {
  const valueType = typeof value;
  switch (valueType) {
    case "number":
      if (Number.isNaN(value)) {
        return "NaN";
      }
      if (!Number.isFinite(value)) {
        return "Infinity";
      }
      if (value !== Math.floor(value)) {
        return "float";
      }
      return "number";
    case "object":
      if (value === null) {
        return "null";
      }
      return value.constructor.name;
    default:
      return valueType;
  }
}
function requiredInteger(props, propName, componentName, location2) {
  const propValue = props[propName];
  if (propValue == null || !Number.isInteger(propValue)) {
    const propType = getTypeByValue(propValue);
    return new RangeError(`Invalid ${location2} \`${propName}\` of type \`${propType}\` supplied to \`${componentName}\`, expected \`integer\`.`);
  }
  return null;
}
function validator(props, propName, componentName, location2) {
  const propValue = props[propName];
  if (propValue === undefined) {
    return null;
  }
  return requiredInteger(props, propName, componentName, location2);
}
function validatorNoop() {
  return null;
}
validator.isRequired = requiredInteger;
validatorNoop.isRequired = validatorNoop;
var integerPropType = validator;
var integerPropType_default = integerPropType;
// node_modules/@mui/material/esm/Paper/paperClasses.js
function getPaperUtilityClass(slot) {
  return generateUtilityClass("MuiPaper", slot);
}
var paperClasses = generateUtilityClasses("MuiPaper", ["root", "rounded", "outlined", "elevation", "elevation0", "elevation1", "elevation2", "elevation3", "elevation4", "elevation5", "elevation6", "elevation7", "elevation8", "elevation9", "elevation10", "elevation11", "elevation12", "elevation13", "elevation14", "elevation15", "elevation16", "elevation17", "elevation18", "elevation19", "elevation20", "elevation21", "elevation22", "elevation23", "elevation24"]);

// node_modules/@mui/material/esm/Paper/Paper.js
var import_jsx_runtime30 = __toESM(require_jsx_runtime(), 1);
"use client";
var useUtilityClasses8 = (ownerState) => {
  const {
    square,
    elevation,
    variant,
    classes
  } = ownerState;
  const slots = {
    root: ["root", variant, !square && "rounded", variant === "elevation" && `elevation${elevation}`]
  };
  return composeClasses(slots, getPaperUtilityClass, classes);
};
var PaperRoot = styled_default2("div", {
  name: "MuiPaper",
  slot: "Root",
  overridesResolver: (props, styles) => {
    const {
      ownerState
    } = props;
    return [styles.root, styles[ownerState.variant], !ownerState.square && styles.rounded, ownerState.variant === "elevation" && styles[`elevation${ownerState.elevation}`]];
  }
})(memoTheme_default(({
  theme
}) => ({
  backgroundColor: (theme.vars || theme).palette.background.paper,
  color: (theme.vars || theme).palette.text.primary,
  transition: theme.transitions.create("box-shadow"),
  variants: [{
    props: ({
      ownerState
    }) => !ownerState.square,
    style: {
      borderRadius: theme.shape.borderRadius
    }
  }, {
    props: {
      variant: "outlined"
    },
    style: {
      border: `1px solid ${(theme.vars || theme).palette.divider}`
    }
  }, {
    props: {
      variant: "elevation"
    },
    style: {
      boxShadow: "var(--Paper-shadow)",
      backgroundImage: "var(--Paper-overlay)"
    }
  }]
})));
var Paper = /* @__PURE__ */ React64.forwardRef(function Paper2(inProps, ref) {
  const props = useDefaultProps2({
    props: inProps,
    name: "MuiPaper"
  });
  const theme = useTheme6();
  const {
    className,
    component = "div",
    elevation = 1,
    square = false,
    variant = "elevation",
    ...other
  } = props;
  const ownerState = {
    ...props,
    component,
    elevation,
    square,
    variant
  };
  const classes = useUtilityClasses8(ownerState);
  if (true) {
    if (theme.shadows[elevation] === undefined) {
      console.error([`MUI: The elevation provided <Paper elevation={${elevation}}> is not available in the theme.`, `Please make sure that \`theme.shadows[${elevation}]\` is defined.`].join(`
`));
    }
  }
  return /* @__PURE__ */ import_jsx_runtime30.jsx(PaperRoot, {
    as: component,
    ownerState,
    className: clsx_default(classes.root, className),
    ref,
    ...other,
    style: {
      ...variant === "elevation" && {
        "--Paper-shadow": (theme.vars || theme).shadows[elevation],
        ...theme.vars && {
          "--Paper-overlay": theme.vars.overlays?.[elevation]
        },
        ...!theme.vars && theme.palette.mode === "dark" && {
          "--Paper-overlay": `linear-gradient(${alpha("#fff", getOverlayAlpha(elevation))}, ${alpha("#fff", getOverlayAlpha(elevation))})`
        }
      },
      ...other.style
    }
  });
});
Paper.propTypes = {
  children: import_prop_types32.default.node,
  classes: import_prop_types32.default.object,
  className: import_prop_types32.default.string,
  component: import_prop_types32.default.elementType,
  elevation: chainPropTypes(integerPropType_default, (props) => {
    const {
      elevation,
      variant
    } = props;
    if (elevation > 0 && variant === "outlined") {
      return new Error(`MUI: Combining \`elevation={${elevation}}\` with \`variant="${variant}"\` has no effect. Either use \`elevation={0}\` or use a different \`variant\`.`);
    }
    return null;
  }),
  square: import_prop_types32.default.bool,
  style: import_prop_types32.default.object,
  sx: import_prop_types32.default.oneOfType([import_prop_types32.default.arrayOf(import_prop_types32.default.oneOfType([import_prop_types32.default.func, import_prop_types32.default.object, import_prop_types32.default.bool])), import_prop_types32.default.func, import_prop_types32.default.object]),
  variant: import_prop_types32.default.oneOfType([import_prop_types32.default.oneOf(["elevation", "outlined"]), import_prop_types32.default.string])
};
var Paper_default = Paper;
// node_modules/@mui/material/esm/IconButton/IconButton.js
var React65 = __toESM(require_react(), 1);
var import_prop_types33 = __toESM(require_prop_types(), 1);

// node_modules/@mui/material/esm/IconButton/iconButtonClasses.js
function getIconButtonUtilityClass(slot) {
  return generateUtilityClass("MuiIconButton", slot);
}
var iconButtonClasses = generateUtilityClasses("MuiIconButton", ["root", "disabled", "colorInherit", "colorPrimary", "colorSecondary", "colorError", "colorInfo", "colorSuccess", "colorWarning", "edgeStart", "edgeEnd", "sizeSmall", "sizeMedium", "sizeLarge", "loading", "loadingIndicator", "loadingWrapper"]);
var iconButtonClasses_default = iconButtonClasses;

// node_modules/@mui/material/esm/IconButton/IconButton.js
var import_jsx_runtime31 = __toESM(require_jsx_runtime(), 1);
"use client";
var useUtilityClasses9 = (ownerState) => {
  const {
    classes,
    disabled,
    color: color2,
    edge,
    size,
    loading
  } = ownerState;
  const slots = {
    root: ["root", loading && "loading", disabled && "disabled", color2 !== "default" && `color${capitalize_default(color2)}`, edge && `edge${capitalize_default(edge)}`, `size${capitalize_default(size)}`],
    loadingIndicator: ["loadingIndicator"],
    loadingWrapper: ["loadingWrapper"]
  };
  return composeClasses(slots, getIconButtonUtilityClass, classes);
};
var IconButtonRoot = styled_default2(ButtonBase_default, {
  name: "MuiIconButton",
  slot: "Root",
  overridesResolver: (props, styles) => {
    const {
      ownerState
    } = props;
    return [styles.root, ownerState.loading && styles.loading, ownerState.color !== "default" && styles[`color${capitalize_default(ownerState.color)}`], ownerState.edge && styles[`edge${capitalize_default(ownerState.edge)}`], styles[`size${capitalize_default(ownerState.size)}`]];
  }
})(memoTheme_default(({
  theme
}) => ({
  textAlign: "center",
  flex: "0 0 auto",
  fontSize: theme.typography.pxToRem(24),
  padding: 8,
  borderRadius: "50%",
  color: (theme.vars || theme).palette.action.active,
  transition: theme.transitions.create("background-color", {
    duration: theme.transitions.duration.shortest
  }),
  variants: [{
    props: (props) => !props.disableRipple,
    style: {
      "--IconButton-hoverBg": theme.alpha((theme.vars || theme).palette.action.active, (theme.vars || theme).palette.action.hoverOpacity),
      "&:hover": {
        backgroundColor: "var(--IconButton-hoverBg)",
        "@media (hover: none)": {
          backgroundColor: "transparent"
        }
      }
    }
  }, {
    props: {
      edge: "start"
    },
    style: {
      marginLeft: -12
    }
  }, {
    props: {
      edge: "start",
      size: "small"
    },
    style: {
      marginLeft: -3
    }
  }, {
    props: {
      edge: "end"
    },
    style: {
      marginRight: -12
    }
  }, {
    props: {
      edge: "end",
      size: "small"
    },
    style: {
      marginRight: -3
    }
  }]
})), memoTheme_default(({
  theme
}) => ({
  variants: [{
    props: {
      color: "inherit"
    },
    style: {
      color: "inherit"
    }
  }, ...Object.entries(theme.palette).filter(createSimplePaletteValueFilter()).map(([color2]) => ({
    props: {
      color: color2
    },
    style: {
      color: (theme.vars || theme).palette[color2].main
    }
  })), ...Object.entries(theme.palette).filter(createSimplePaletteValueFilter()).map(([color2]) => ({
    props: {
      color: color2
    },
    style: {
      "--IconButton-hoverBg": theme.alpha((theme.vars || theme).palette[color2].main, (theme.vars || theme).palette.action.hoverOpacity)
    }
  })), {
    props: {
      size: "small"
    },
    style: {
      padding: 5,
      fontSize: theme.typography.pxToRem(18)
    }
  }, {
    props: {
      size: "large"
    },
    style: {
      padding: 12,
      fontSize: theme.typography.pxToRem(28)
    }
  }],
  [`&.${iconButtonClasses_default.disabled}`]: {
    backgroundColor: "transparent",
    color: (theme.vars || theme).palette.action.disabled
  },
  [`&.${iconButtonClasses_default.loading}`]: {
    color: "transparent"
  }
})));
var IconButtonLoadingIndicator = styled_default2("span", {
  name: "MuiIconButton",
  slot: "LoadingIndicator"
})(({
  theme
}) => ({
  display: "none",
  position: "absolute",
  visibility: "visible",
  top: "50%",
  left: "50%",
  transform: "translate(-50%, -50%)",
  color: (theme.vars || theme).palette.action.disabled,
  variants: [{
    props: {
      loading: true
    },
    style: {
      display: "flex"
    }
  }]
}));
var IconButton = /* @__PURE__ */ React65.forwardRef(function IconButton2(inProps, ref) {
  const props = useDefaultProps2({
    props: inProps,
    name: "MuiIconButton"
  });
  const {
    edge = false,
    children,
    className,
    color: color2 = "default",
    disabled = false,
    disableFocusRipple = false,
    size = "medium",
    id: idProp,
    loading = null,
    loadingIndicator: loadingIndicatorProp,
    ...other
  } = props;
  const loadingId = useId_default(idProp);
  const loadingIndicator = loadingIndicatorProp ?? /* @__PURE__ */ import_jsx_runtime31.jsx(CircularProgress_default, {
    "aria-labelledby": loadingId,
    color: "inherit",
    size: 16
  });
  const ownerState = {
    ...props,
    edge,
    color: color2,
    disabled,
    disableFocusRipple,
    loading,
    loadingIndicator,
    size
  };
  const classes = useUtilityClasses9(ownerState);
  return /* @__PURE__ */ import_jsx_runtime31.jsxs(IconButtonRoot, {
    id: loading ? loadingId : idProp,
    className: clsx_default(classes.root, className),
    centerRipple: true,
    focusRipple: !disableFocusRipple,
    disabled: disabled || loading,
    ref,
    ...other,
    ownerState,
    children: [typeof loading === "boolean" && /* @__PURE__ */ import_jsx_runtime31.jsx("span", {
      className: classes.loadingWrapper,
      style: {
        display: "contents"
      },
      children: /* @__PURE__ */ import_jsx_runtime31.jsx(IconButtonLoadingIndicator, {
        className: classes.loadingIndicator,
        ownerState,
        children: loading && loadingIndicator
      })
    }), children]
  });
});
IconButton.propTypes = {
  children: chainPropTypes(import_prop_types33.default.node, (props) => {
    const found = React65.Children.toArray(props.children).some((child) => /* @__PURE__ */ React65.isValidElement(child) && child.props.onClick);
    if (found) {
      return new Error(["MUI: You are providing an onClick event listener to a child of a button element.", "Prefer applying it to the IconButton directly.", "This guarantees that the whole <button> will be responsive to click events."].join(`
`));
    }
    return null;
  }),
  classes: import_prop_types33.default.object,
  className: import_prop_types33.default.string,
  color: import_prop_types33.default.oneOfType([import_prop_types33.default.oneOf(["inherit", "default", "primary", "secondary", "error", "info", "success", "warning"]), import_prop_types33.default.string]),
  disabled: import_prop_types33.default.bool,
  disableFocusRipple: import_prop_types33.default.bool,
  disableRipple: import_prop_types33.default.bool,
  edge: import_prop_types33.default.oneOf(["end", "start", false]),
  id: import_prop_types33.default.string,
  loading: import_prop_types33.default.bool,
  loadingIndicator: import_prop_types33.default.node,
  size: import_prop_types33.default.oneOfType([import_prop_types33.default.oneOf(["small", "medium", "large"]), import_prop_types33.default.string]),
  sx: import_prop_types33.default.oneOfType([import_prop_types33.default.arrayOf(import_prop_types33.default.oneOfType([import_prop_types33.default.func, import_prop_types33.default.object, import_prop_types33.default.bool])), import_prop_types33.default.func, import_prop_types33.default.object])
};
var IconButton_default = IconButton;
// node_modules/@mui/material/esm/AppBar/AppBar.js
var React66 = __toESM(require_react(), 1);
var import_prop_types34 = __toESM(require_prop_types(), 1);

// node_modules/@mui/material/esm/AppBar/appBarClasses.js
function getAppBarUtilityClass(slot) {
  return generateUtilityClass("MuiAppBar", slot);
}
var appBarClasses = generateUtilityClasses("MuiAppBar", ["root", "positionFixed", "positionAbsolute", "positionSticky", "positionStatic", "positionRelative", "colorDefault", "colorPrimary", "colorSecondary", "colorInherit", "colorTransparent", "colorError", "colorInfo", "colorSuccess", "colorWarning"]);

// node_modules/@mui/material/esm/AppBar/AppBar.js
var import_jsx_runtime32 = __toESM(require_jsx_runtime(), 1);
"use client";
var useUtilityClasses10 = (ownerState) => {
  const {
    color: color2,
    position: position2,
    classes
  } = ownerState;
  const slots = {
    root: ["root", `color${capitalize_default(color2)}`, `position${capitalize_default(position2)}`]
  };
  return composeClasses(slots, getAppBarUtilityClass, classes);
};
var joinVars = (var1, var2) => var1 ? `${var1?.replace(")", "")}, ${var2})` : var2;
var AppBarRoot = styled_default2(Paper_default, {
  name: "MuiAppBar",
  slot: "Root",
  overridesResolver: (props, styles) => {
    const {
      ownerState
    } = props;
    return [styles.root, styles[`position${capitalize_default(ownerState.position)}`], styles[`color${capitalize_default(ownerState.color)}`]];
  }
})(memoTheme_default(({
  theme
}) => ({
  display: "flex",
  flexDirection: "column",
  width: "100%",
  boxSizing: "border-box",
  flexShrink: 0,
  variants: [{
    props: {
      position: "fixed"
    },
    style: {
      position: "fixed",
      zIndex: (theme.vars || theme).zIndex.appBar,
      top: 0,
      left: "auto",
      right: 0,
      "@media print": {
        position: "absolute"
      }
    }
  }, {
    props: {
      position: "absolute"
    },
    style: {
      position: "absolute",
      zIndex: (theme.vars || theme).zIndex.appBar,
      top: 0,
      left: "auto",
      right: 0
    }
  }, {
    props: {
      position: "sticky"
    },
    style: {
      position: "sticky",
      zIndex: (theme.vars || theme).zIndex.appBar,
      top: 0,
      left: "auto",
      right: 0
    }
  }, {
    props: {
      position: "static"
    },
    style: {
      position: "static"
    }
  }, {
    props: {
      position: "relative"
    },
    style: {
      position: "relative"
    }
  }, {
    props: {
      color: "inherit"
    },
    style: {
      "--AppBar-color": "inherit"
    }
  }, {
    props: {
      color: "default"
    },
    style: {
      "--AppBar-background": theme.vars ? theme.vars.palette.AppBar.defaultBg : theme.palette.grey[100],
      "--AppBar-color": theme.vars ? theme.vars.palette.text.primary : theme.palette.getContrastText(theme.palette.grey[100]),
      ...theme.applyStyles("dark", {
        "--AppBar-background": theme.vars ? theme.vars.palette.AppBar.defaultBg : theme.palette.grey[900],
        "--AppBar-color": theme.vars ? theme.vars.palette.text.primary : theme.palette.getContrastText(theme.palette.grey[900])
      })
    }
  }, ...Object.entries(theme.palette).filter(createSimplePaletteValueFilter(["contrastText"])).map(([color2]) => ({
    props: {
      color: color2
    },
    style: {
      "--AppBar-background": (theme.vars ?? theme).palette[color2].main,
      "--AppBar-color": (theme.vars ?? theme).palette[color2].contrastText
    }
  })), {
    props: (props) => props.enableColorOnDark === true && !["inherit", "transparent"].includes(props.color),
    style: {
      backgroundColor: "var(--AppBar-background)",
      color: "var(--AppBar-color)"
    }
  }, {
    props: (props) => props.enableColorOnDark === false && !["inherit", "transparent"].includes(props.color),
    style: {
      backgroundColor: "var(--AppBar-background)",
      color: "var(--AppBar-color)",
      ...theme.applyStyles("dark", {
        backgroundColor: theme.vars ? joinVars(theme.vars.palette.AppBar.darkBg, "var(--AppBar-background)") : null,
        color: theme.vars ? joinVars(theme.vars.palette.AppBar.darkColor, "var(--AppBar-color)") : null
      })
    }
  }, {
    props: {
      color: "transparent"
    },
    style: {
      "--AppBar-background": "transparent",
      "--AppBar-color": "inherit",
      backgroundColor: "var(--AppBar-background)",
      color: "var(--AppBar-color)",
      ...theme.applyStyles("dark", {
        backgroundImage: "none"
      })
    }
  }]
})));
var AppBar = /* @__PURE__ */ React66.forwardRef(function AppBar2(inProps, ref) {
  const props = useDefaultProps2({
    props: inProps,
    name: "MuiAppBar"
  });
  const {
    className,
    color: color2 = "primary",
    enableColorOnDark = false,
    position: position2 = "fixed",
    ...other
  } = props;
  const ownerState = {
    ...props,
    color: color2,
    position: position2,
    enableColorOnDark
  };
  const classes = useUtilityClasses10(ownerState);
  return /* @__PURE__ */ import_jsx_runtime32.jsx(AppBarRoot, {
    square: true,
    component: "header",
    ownerState,
    elevation: 4,
    className: clsx_default(classes.root, className, position2 === "fixed" && "mui-fixed"),
    ref,
    ...other
  });
});
AppBar.propTypes = {
  children: import_prop_types34.default.node,
  classes: import_prop_types34.default.object,
  className: import_prop_types34.default.string,
  color: import_prop_types34.default.oneOfType([import_prop_types34.default.oneOf(["default", "inherit", "primary", "secondary", "transparent", "error", "info", "success", "warning"]), import_prop_types34.default.string]),
  enableColorOnDark: import_prop_types34.default.bool,
  position: import_prop_types34.default.oneOf(["absolute", "fixed", "relative", "static", "sticky"]),
  sx: import_prop_types34.default.oneOfType([import_prop_types34.default.arrayOf(import_prop_types34.default.oneOfType([import_prop_types34.default.func, import_prop_types34.default.object, import_prop_types34.default.bool])), import_prop_types34.default.func, import_prop_types34.default.object])
};
var AppBar_default = AppBar;
// node_modules/@mui/utils/esm/HTMLElementType/HTMLElementType.js
function HTMLElementType(props, propName, componentName, location2, propFullName) {
  if (false) {}
  const propValue = props[propName];
  const safePropName = propFullName || propName;
  if (propValue == null) {
    return null;
  }
  if (propValue && propValue.nodeType !== 1) {
    return new Error(`Invalid ${location2} \`${safePropName}\` supplied to \`${componentName}\`. ` + `Expected an HTMLElement.`);
  }
  return null;
}
// node_modules/@mui/material/esm/Popper/Popper.js
var import_prop_types37 = __toESM(require_prop_types(), 1);
var React70 = __toESM(require_react(), 1);

// node_modules/@mui/material/esm/Popper/BasePopper.js
var React69 = __toESM(require_react(), 1);

// node_modules/@popperjs/core/lib/enums.js
var top = "top";
var bottom = "bottom";
var right = "right";
var left = "left";
var auto = "auto";
var basePlacements = [top, bottom, right, left];
var start = "start";
var end = "end";
var clippingParents = "clippingParents";
var viewport = "viewport";
var popper = "popper";
var reference = "reference";
var variationPlacements = /* @__PURE__ */ basePlacements.reduce(function(acc, placement) {
  return acc.concat([placement + "-" + start, placement + "-" + end]);
}, []);
var placements = /* @__PURE__ */ [].concat(basePlacements, [auto]).reduce(function(acc, placement) {
  return acc.concat([placement, placement + "-" + start, placement + "-" + end]);
}, []);
var beforeRead = "beforeRead";
var read = "read";
var afterRead = "afterRead";
var beforeMain = "beforeMain";
var main = "main";
var afterMain = "afterMain";
var beforeWrite = "beforeWrite";
var write = "write";
var afterWrite = "afterWrite";
var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];
// node_modules/@popperjs/core/lib/dom-utils/getNodeName.js
function getNodeName(element) {
  return element ? (element.nodeName || "").toLowerCase() : null;
}

// node_modules/@popperjs/core/lib/dom-utils/getWindow.js
function getWindow(node2) {
  if (node2 == null) {
    return window;
  }
  if (node2.toString() !== "[object Window]") {
    var ownerDocument2 = node2.ownerDocument;
    return ownerDocument2 ? ownerDocument2.defaultView || window : window;
  }
  return node2;
}

// node_modules/@popperjs/core/lib/dom-utils/instanceOf.js
function isElement(node2) {
  var OwnElement = getWindow(node2).Element;
  return node2 instanceof OwnElement || node2 instanceof Element;
}
function isHTMLElement(node2) {
  var OwnElement = getWindow(node2).HTMLElement;
  return node2 instanceof OwnElement || node2 instanceof HTMLElement;
}
function isShadowRoot(node2) {
  if (typeof ShadowRoot === "undefined") {
    return false;
  }
  var OwnElement = getWindow(node2).ShadowRoot;
  return node2 instanceof OwnElement || node2 instanceof ShadowRoot;
}

// node_modules/@popperjs/core/lib/modifiers/applyStyles.js
function applyStyles2(_ref) {
  var state = _ref.state;
  Object.keys(state.elements).forEach(function(name) {
    var style5 = state.styles[name] || {};
    var attributes = state.attributes[name] || {};
    var element = state.elements[name];
    if (!isHTMLElement(element) || !getNodeName(element)) {
      return;
    }
    Object.assign(element.style, style5);
    Object.keys(attributes).forEach(function(name2) {
      var value = attributes[name2];
      if (value === false) {
        element.removeAttribute(name2);
      } else {
        element.setAttribute(name2, value === true ? "" : value);
      }
    });
  });
}
function effect(_ref2) {
  var state = _ref2.state;
  var initialStyles = {
    popper: {
      position: state.options.strategy,
      left: "0",
      top: "0",
      margin: "0"
    },
    arrow: {
      position: "absolute"
    },
    reference: {}
  };
  Object.assign(state.elements.popper.style, initialStyles.popper);
  state.styles = initialStyles;
  if (state.elements.arrow) {
    Object.assign(state.elements.arrow.style, initialStyles.arrow);
  }
  return function() {
    Object.keys(state.elements).forEach(function(name) {
      var element = state.elements[name];
      var attributes = state.attributes[name] || {};
      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]);
      var style5 = styleProperties.reduce(function(style6, property) {
        style6[property] = "";
        return style6;
      }, {});
      if (!isHTMLElement(element) || !getNodeName(element)) {
        return;
      }
      Object.assign(element.style, style5);
      Object.keys(attributes).forEach(function(attribute) {
        element.removeAttribute(attribute);
      });
    });
  };
}
var applyStyles_default = {
  name: "applyStyles",
  enabled: true,
  phase: "write",
  fn: applyStyles2,
  effect,
  requires: ["computeStyles"]
};

// node_modules/@popperjs/core/lib/utils/getBasePlacement.js
function getBasePlacement(placement) {
  return placement.split("-")[0];
}

// node_modules/@popperjs/core/lib/utils/math.js
var max = Math.max;
var min = Math.min;
var round2 = Math.round;

// node_modules/@popperjs/core/lib/utils/userAgent.js
function getUAString() {
  var uaData = navigator.userAgentData;
  if (uaData != null && uaData.brands && Array.isArray(uaData.brands)) {
    return uaData.brands.map(function(item) {
      return item.brand + "/" + item.version;
    }).join(" ");
  }
  return navigator.userAgent;
}

// node_modules/@popperjs/core/lib/dom-utils/isLayoutViewport.js
function isLayoutViewport() {
  return !/^((?!chrome|android).)*safari/i.test(getUAString());
}

// node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js
function getBoundingClientRect(element, includeScale, isFixedStrategy) {
  if (includeScale === undefined) {
    includeScale = false;
  }
  if (isFixedStrategy === undefined) {
    isFixedStrategy = false;
  }
  var clientRect = element.getBoundingClientRect();
  var scaleX = 1;
  var scaleY = 1;
  if (includeScale && isHTMLElement(element)) {
    scaleX = element.offsetWidth > 0 ? round2(clientRect.width) / element.offsetWidth || 1 : 1;
    scaleY = element.offsetHeight > 0 ? round2(clientRect.height) / element.offsetHeight || 1 : 1;
  }
  var _ref = isElement(element) ? getWindow(element) : window, visualViewport = _ref.visualViewport;
  var addVisualOffsets = !isLayoutViewport() && isFixedStrategy;
  var x = (clientRect.left + (addVisualOffsets && visualViewport ? visualViewport.offsetLeft : 0)) / scaleX;
  var y = (clientRect.top + (addVisualOffsets && visualViewport ? visualViewport.offsetTop : 0)) / scaleY;
  var width2 = clientRect.width / scaleX;
  var height2 = clientRect.height / scaleY;
  return {
    width: width2,
    height: height2,
    top: y,
    right: x + width2,
    bottom: y + height2,
    left: x,
    x,
    y
  };
}

// node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js
function getLayoutRect(element) {
  var clientRect = getBoundingClientRect(element);
  var width2 = element.offsetWidth;
  var height2 = element.offsetHeight;
  if (Math.abs(clientRect.width - width2) <= 1) {
    width2 = clientRect.width;
  }
  if (Math.abs(clientRect.height - height2) <= 1) {
    height2 = clientRect.height;
  }
  return {
    x: element.offsetLeft,
    y: element.offsetTop,
    width: width2,
    height: height2
  };
}

// node_modules/@popperjs/core/lib/dom-utils/contains.js
function contains(parent, child) {
  var rootNode = child.getRootNode && child.getRootNode();
  if (parent.contains(child)) {
    return true;
  } else if (rootNode && isShadowRoot(rootNode)) {
    var next2 = child;
    do {
      if (next2 && parent.isSameNode(next2)) {
        return true;
      }
      next2 = next2.parentNode || next2.host;
    } while (next2);
  }
  return false;
}

// node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js
function getComputedStyle(element) {
  return getWindow(element).getComputedStyle(element);
}

// node_modules/@popperjs/core/lib/dom-utils/isTableElement.js
function isTableElement(element) {
  return ["table", "td", "th"].indexOf(getNodeName(element)) >= 0;
}

// node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js
function getDocumentElement(element) {
  return ((isElement(element) ? element.ownerDocument : element.document) || window.document).documentElement;
}

// node_modules/@popperjs/core/lib/dom-utils/getParentNode.js
function getParentNode(element) {
  if (getNodeName(element) === "html") {
    return element;
  }
  return element.assignedSlot || element.parentNode || (isShadowRoot(element) ? element.host : null) || getDocumentElement(element);
}

// node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js
function getTrueOffsetParent(element) {
  if (!isHTMLElement(element) || getComputedStyle(element).position === "fixed") {
    return null;
  }
  return element.offsetParent;
}
function getContainingBlock(element) {
  var isFirefox = /firefox/i.test(getUAString());
  var isIE = /Trident/i.test(getUAString());
  if (isIE && isHTMLElement(element)) {
    var elementCss = getComputedStyle(element);
    if (elementCss.position === "fixed") {
      return null;
    }
  }
  var currentNode = getParentNode(element);
  if (isShadowRoot(currentNode)) {
    currentNode = currentNode.host;
  }
  while (isHTMLElement(currentNode) && ["html", "body"].indexOf(getNodeName(currentNode)) < 0) {
    var css2 = getComputedStyle(currentNode);
    if (css2.transform !== "none" || css2.perspective !== "none" || css2.contain === "paint" || ["transform", "perspective"].indexOf(css2.willChange) !== -1 || isFirefox && css2.willChange === "filter" || isFirefox && css2.filter && css2.filter !== "none") {
      return currentNode;
    } else {
      currentNode = currentNode.parentNode;
    }
  }
  return null;
}
function getOffsetParent(element) {
  var window2 = getWindow(element);
  var offsetParent = getTrueOffsetParent(element);
  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === "static") {
    offsetParent = getTrueOffsetParent(offsetParent);
  }
  if (offsetParent && (getNodeName(offsetParent) === "html" || getNodeName(offsetParent) === "body" && getComputedStyle(offsetParent).position === "static")) {
    return window2;
  }
  return offsetParent || getContainingBlock(element) || window2;
}

// node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js
function getMainAxisFromPlacement(placement) {
  return ["top", "bottom"].indexOf(placement) >= 0 ? "x" : "y";
}

// node_modules/@popperjs/core/lib/utils/within.js
function within(min2, value, max2) {
  return max(min2, min(value, max2));
}
function withinMaxClamp(min2, value, max2) {
  var v = within(min2, value, max2);
  return v > max2 ? max2 : v;
}

// node_modules/@popperjs/core/lib/utils/getFreshSideObject.js
function getFreshSideObject() {
  return {
    top: 0,
    right: 0,
    bottom: 0,
    left: 0
  };
}

// node_modules/@popperjs/core/lib/utils/mergePaddingObject.js
function mergePaddingObject(paddingObject) {
  return Object.assign({}, getFreshSideObject(), paddingObject);
}

// node_modules/@popperjs/core/lib/utils/expandToHashMap.js
function expandToHashMap(value, keys) {
  return keys.reduce(function(hashMap, key) {
    hashMap[key] = value;
    return hashMap;
  }, {});
}

// node_modules/@popperjs/core/lib/modifiers/arrow.js
var toPaddingObject = function toPaddingObject2(padding2, state) {
  padding2 = typeof padding2 === "function" ? padding2(Object.assign({}, state.rects, {
    placement: state.placement
  })) : padding2;
  return mergePaddingObject(typeof padding2 !== "number" ? padding2 : expandToHashMap(padding2, basePlacements));
};
function arrow(_ref) {
  var _state$modifiersData$;
  var { state, name, options } = _ref;
  var arrowElement = state.elements.arrow;
  var popperOffsets = state.modifiersData.popperOffsets;
  var basePlacement = getBasePlacement(state.placement);
  var axis = getMainAxisFromPlacement(basePlacement);
  var isVertical = [left, right].indexOf(basePlacement) >= 0;
  var len = isVertical ? "height" : "width";
  if (!arrowElement || !popperOffsets) {
    return;
  }
  var paddingObject = toPaddingObject(options.padding, state);
  var arrowRect = getLayoutRect(arrowElement);
  var minProp = axis === "y" ? top : left;
  var maxProp = axis === "y" ? bottom : right;
  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];
  var startDiff = popperOffsets[axis] - state.rects.reference[axis];
  var arrowOffsetParent = getOffsetParent(arrowElement);
  var clientSize = arrowOffsetParent ? axis === "y" ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;
  var centerToReference = endDiff / 2 - startDiff / 2;
  var min2 = paddingObject[minProp];
  var max2 = clientSize - arrowRect[len] - paddingObject[maxProp];
  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;
  var offset = within(min2, center, max2);
  var axisProp = axis;
  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);
}
function effect2(_ref2) {
  var { state, options } = _ref2;
  var _options$element = options.element, arrowElement = _options$element === undefined ? "[data-popper-arrow]" : _options$element;
  if (arrowElement == null) {
    return;
  }
  if (typeof arrowElement === "string") {
    arrowElement = state.elements.popper.querySelector(arrowElement);
    if (!arrowElement) {
      return;
    }
  }
  if (!contains(state.elements.popper, arrowElement)) {
    return;
  }
  state.elements.arrow = arrowElement;
}
var arrow_default = {
  name: "arrow",
  enabled: true,
  phase: "main",
  fn: arrow,
  effect: effect2,
  requires: ["popperOffsets"],
  requiresIfExists: ["preventOverflow"]
};

// node_modules/@popperjs/core/lib/utils/getVariation.js
function getVariation(placement) {
  return placement.split("-")[1];
}

// node_modules/@popperjs/core/lib/modifiers/computeStyles.js
var unsetSides = {
  top: "auto",
  right: "auto",
  bottom: "auto",
  left: "auto"
};
function roundOffsetsByDPR(_ref, win) {
  var { x, y } = _ref;
  var dpr = win.devicePixelRatio || 1;
  return {
    x: round2(x * dpr) / dpr || 0,
    y: round2(y * dpr) / dpr || 0
  };
}
function mapToStyles(_ref2) {
  var _Object$assign2;
  var { popper: popper2, popperRect, placement, variation, offsets, position: position2, gpuAcceleration, adaptive, roundOffsets, isFixed } = _ref2;
  var _offsets$x = offsets.x, x = _offsets$x === undefined ? 0 : _offsets$x, _offsets$y = offsets.y, y = _offsets$y === undefined ? 0 : _offsets$y;
  var _ref3 = typeof roundOffsets === "function" ? roundOffsets({
    x,
    y
  }) : {
    x,
    y
  };
  x = _ref3.x;
  y = _ref3.y;
  var hasX = offsets.hasOwnProperty("x");
  var hasY = offsets.hasOwnProperty("y");
  var sideX = left;
  var sideY = top;
  var win = window;
  if (adaptive) {
    var offsetParent = getOffsetParent(popper2);
    var heightProp = "clientHeight";
    var widthProp = "clientWidth";
    if (offsetParent === getWindow(popper2)) {
      offsetParent = getDocumentElement(popper2);
      if (getComputedStyle(offsetParent).position !== "static" && position2 === "absolute") {
        heightProp = "scrollHeight";
        widthProp = "scrollWidth";
      }
    }
    offsetParent = offsetParent;
    if (placement === top || (placement === left || placement === right) && variation === end) {
      sideY = bottom;
      var offsetY = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.height : offsetParent[heightProp];
      y -= offsetY - popperRect.height;
      y *= gpuAcceleration ? 1 : -1;
    }
    if (placement === left || (placement === top || placement === bottom) && variation === end) {
      sideX = right;
      var offsetX = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.width : offsetParent[widthProp];
      x -= offsetX - popperRect.width;
      x *= gpuAcceleration ? 1 : -1;
    }
  }
  var commonStyles = Object.assign({
    position: position2
  }, adaptive && unsetSides);
  var _ref4 = roundOffsets === true ? roundOffsetsByDPR({
    x,
    y
  }, getWindow(popper2)) : {
    x,
    y
  };
  x = _ref4.x;
  y = _ref4.y;
  if (gpuAcceleration) {
    var _Object$assign;
    return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? "0" : "", _Object$assign[sideX] = hasX ? "0" : "", _Object$assign.transform = (win.devicePixelRatio || 1) <= 1 ? "translate(" + x + "px, " + y + "px)" : "translate3d(" + x + "px, " + y + "px, 0)", _Object$assign));
  }
  return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + "px" : "", _Object$assign2[sideX] = hasX ? x + "px" : "", _Object$assign2.transform = "", _Object$assign2));
}
function computeStyles(_ref5) {
  var { state, options } = _ref5;
  var _options$gpuAccelerat = options.gpuAcceleration, gpuAcceleration = _options$gpuAccelerat === undefined ? true : _options$gpuAccelerat, _options$adaptive = options.adaptive, adaptive = _options$adaptive === undefined ? true : _options$adaptive, _options$roundOffsets = options.roundOffsets, roundOffsets = _options$roundOffsets === undefined ? true : _options$roundOffsets;
  var commonStyles = {
    placement: getBasePlacement(state.placement),
    variation: getVariation(state.placement),
    popper: state.elements.popper,
    popperRect: state.rects.popper,
    gpuAcceleration,
    isFixed: state.options.strategy === "fixed"
  };
  if (state.modifiersData.popperOffsets != null) {
    state.styles.popper = Object.assign({}, state.styles.popper, mapToStyles(Object.assign({}, commonStyles, {
      offsets: state.modifiersData.popperOffsets,
      position: state.options.strategy,
      adaptive,
      roundOffsets
    })));
  }
  if (state.modifiersData.arrow != null) {
    state.styles.arrow = Object.assign({}, state.styles.arrow, mapToStyles(Object.assign({}, commonStyles, {
      offsets: state.modifiersData.arrow,
      position: "absolute",
      adaptive: false,
      roundOffsets
    })));
  }
  state.attributes.popper = Object.assign({}, state.attributes.popper, {
    "data-popper-placement": state.placement
  });
}
var computeStyles_default = {
  name: "computeStyles",
  enabled: true,
  phase: "beforeWrite",
  fn: computeStyles,
  data: {}
};

// node_modules/@popperjs/core/lib/modifiers/eventListeners.js
var passive = {
  passive: true
};
function effect3(_ref) {
  var { state, instance, options } = _ref;
  var _options$scroll = options.scroll, scroll = _options$scroll === undefined ? true : _options$scroll, _options$resize = options.resize, resize = _options$resize === undefined ? true : _options$resize;
  var window2 = getWindow(state.elements.popper);
  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);
  if (scroll) {
    scrollParents.forEach(function(scrollParent) {
      scrollParent.addEventListener("scroll", instance.update, passive);
    });
  }
  if (resize) {
    window2.addEventListener("resize", instance.update, passive);
  }
  return function() {
    if (scroll) {
      scrollParents.forEach(function(scrollParent) {
        scrollParent.removeEventListener("scroll", instance.update, passive);
      });
    }
    if (resize) {
      window2.removeEventListener("resize", instance.update, passive);
    }
  };
}
var eventListeners_default = {
  name: "eventListeners",
  enabled: true,
  phase: "write",
  fn: function fn() {},
  effect: effect3,
  data: {}
};

// node_modules/@popperjs/core/lib/utils/getOppositePlacement.js
var hash2 = {
  left: "right",
  right: "left",
  bottom: "top",
  top: "bottom"
};
function getOppositePlacement(placement) {
  return placement.replace(/left|right|bottom|top/g, function(matched) {
    return hash2[matched];
  });
}

// node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js
var hash3 = {
  start: "end",
  end: "start"
};
function getOppositeVariationPlacement(placement) {
  return placement.replace(/start|end/g, function(matched) {
    return hash3[matched];
  });
}

// node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js
function getWindowScroll(node2) {
  var win = getWindow(node2);
  var scrollLeft = win.pageXOffset;
  var scrollTop = win.pageYOffset;
  return {
    scrollLeft,
    scrollTop
  };
}

// node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js
function getWindowScrollBarX(element) {
  return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;
}

// node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js
function getViewportRect(element, strategy) {
  var win = getWindow(element);
  var html = getDocumentElement(element);
  var visualViewport = win.visualViewport;
  var width2 = html.clientWidth;
  var height2 = html.clientHeight;
  var x = 0;
  var y = 0;
  if (visualViewport) {
    width2 = visualViewport.width;
    height2 = visualViewport.height;
    var layoutViewport = isLayoutViewport();
    if (layoutViewport || !layoutViewport && strategy === "fixed") {
      x = visualViewport.offsetLeft;
      y = visualViewport.offsetTop;
    }
  }
  return {
    width: width2,
    height: height2,
    x: x + getWindowScrollBarX(element),
    y
  };
}

// node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js
function getDocumentRect(element) {
  var _element$ownerDocumen;
  var html = getDocumentElement(element);
  var winScroll = getWindowScroll(element);
  var body = (_element$ownerDocumen = element.ownerDocument) == null ? undefined : _element$ownerDocumen.body;
  var width2 = max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);
  var height2 = max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);
  var x = -winScroll.scrollLeft + getWindowScrollBarX(element);
  var y = -winScroll.scrollTop;
  if (getComputedStyle(body || html).direction === "rtl") {
    x += max(html.clientWidth, body ? body.clientWidth : 0) - width2;
  }
  return {
    width: width2,
    height: height2,
    x,
    y
  };
}

// node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js
function isScrollParent(element) {
  var _getComputedStyle = getComputedStyle(element), overflow = _getComputedStyle.overflow, overflowX = _getComputedStyle.overflowX, overflowY = _getComputedStyle.overflowY;
  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);
}

// node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js
function getScrollParent(node2) {
  if (["html", "body", "#document"].indexOf(getNodeName(node2)) >= 0) {
    return node2.ownerDocument.body;
  }
  if (isHTMLElement(node2) && isScrollParent(node2)) {
    return node2;
  }
  return getScrollParent(getParentNode(node2));
}

// node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js
function listScrollParents(element, list) {
  var _element$ownerDocumen;
  if (list === undefined) {
    list = [];
  }
  var scrollParent = getScrollParent(element);
  var isBody = scrollParent === ((_element$ownerDocumen = element.ownerDocument) == null ? undefined : _element$ownerDocumen.body);
  var win = getWindow(scrollParent);
  var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;
  var updatedList = list.concat(target);
  return isBody ? updatedList : updatedList.concat(listScrollParents(getParentNode(target)));
}

// node_modules/@popperjs/core/lib/utils/rectToClientRect.js
function rectToClientRect(rect) {
  return Object.assign({}, rect, {
    left: rect.x,
    top: rect.y,
    right: rect.x + rect.width,
    bottom: rect.y + rect.height
  });
}

// node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js
function getInnerBoundingClientRect(element, strategy) {
  var rect = getBoundingClientRect(element, false, strategy === "fixed");
  rect.top = rect.top + element.clientTop;
  rect.left = rect.left + element.clientLeft;
  rect.bottom = rect.top + element.clientHeight;
  rect.right = rect.left + element.clientWidth;
  rect.width = element.clientWidth;
  rect.height = element.clientHeight;
  rect.x = rect.left;
  rect.y = rect.top;
  return rect;
}
function getClientRectFromMixedType(element, clippingParent, strategy) {
  return clippingParent === viewport ? rectToClientRect(getViewportRect(element, strategy)) : isElement(clippingParent) ? getInnerBoundingClientRect(clippingParent, strategy) : rectToClientRect(getDocumentRect(getDocumentElement(element)));
}
function getClippingParents(element) {
  var clippingParents2 = listScrollParents(getParentNode(element));
  var canEscapeClipping = ["absolute", "fixed"].indexOf(getComputedStyle(element).position) >= 0;
  var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;
  if (!isElement(clipperElement)) {
    return [];
  }
  return clippingParents2.filter(function(clippingParent) {
    return isElement(clippingParent) && contains(clippingParent, clipperElement) && getNodeName(clippingParent) !== "body";
  });
}
function getClippingRect(element, boundary, rootBoundary, strategy) {
  var mainClippingParents = boundary === "clippingParents" ? getClippingParents(element) : [].concat(boundary);
  var clippingParents2 = [].concat(mainClippingParents, [rootBoundary]);
  var firstClippingParent = clippingParents2[0];
  var clippingRect = clippingParents2.reduce(function(accRect, clippingParent) {
    var rect = getClientRectFromMixedType(element, clippingParent, strategy);
    accRect.top = max(rect.top, accRect.top);
    accRect.right = min(rect.right, accRect.right);
    accRect.bottom = min(rect.bottom, accRect.bottom);
    accRect.left = max(rect.left, accRect.left);
    return accRect;
  }, getClientRectFromMixedType(element, firstClippingParent, strategy));
  clippingRect.width = clippingRect.right - clippingRect.left;
  clippingRect.height = clippingRect.bottom - clippingRect.top;
  clippingRect.x = clippingRect.left;
  clippingRect.y = clippingRect.top;
  return clippingRect;
}

// node_modules/@popperjs/core/lib/utils/computeOffsets.js
function computeOffsets(_ref) {
  var { reference: reference2, element, placement } = _ref;
  var basePlacement = placement ? getBasePlacement(placement) : null;
  var variation = placement ? getVariation(placement) : null;
  var commonX = reference2.x + reference2.width / 2 - element.width / 2;
  var commonY = reference2.y + reference2.height / 2 - element.height / 2;
  var offsets;
  switch (basePlacement) {
    case top:
      offsets = {
        x: commonX,
        y: reference2.y - element.height
      };
      break;
    case bottom:
      offsets = {
        x: commonX,
        y: reference2.y + reference2.height
      };
      break;
    case right:
      offsets = {
        x: reference2.x + reference2.width,
        y: commonY
      };
      break;
    case left:
      offsets = {
        x: reference2.x - element.width,
        y: commonY
      };
      break;
    default:
      offsets = {
        x: reference2.x,
        y: reference2.y
      };
  }
  var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;
  if (mainAxis != null) {
    var len = mainAxis === "y" ? "height" : "width";
    switch (variation) {
      case start:
        offsets[mainAxis] = offsets[mainAxis] - (reference2[len] / 2 - element[len] / 2);
        break;
      case end:
        offsets[mainAxis] = offsets[mainAxis] + (reference2[len] / 2 - element[len] / 2);
        break;
      default:
    }
  }
  return offsets;
}

// node_modules/@popperjs/core/lib/utils/detectOverflow.js
function detectOverflow(state, options) {
  if (options === undefined) {
    options = {};
  }
  var _options = options, _options$placement = _options.placement, placement = _options$placement === undefined ? state.placement : _options$placement, _options$strategy = _options.strategy, strategy = _options$strategy === undefined ? state.strategy : _options$strategy, _options$boundary = _options.boundary, boundary = _options$boundary === undefined ? clippingParents : _options$boundary, _options$rootBoundary = _options.rootBoundary, rootBoundary = _options$rootBoundary === undefined ? viewport : _options$rootBoundary, _options$elementConte = _options.elementContext, elementContext = _options$elementConte === undefined ? popper : _options$elementConte, _options$altBoundary = _options.altBoundary, altBoundary = _options$altBoundary === undefined ? false : _options$altBoundary, _options$padding = _options.padding, padding2 = _options$padding === undefined ? 0 : _options$padding;
  var paddingObject = mergePaddingObject(typeof padding2 !== "number" ? padding2 : expandToHashMap(padding2, basePlacements));
  var altContext = elementContext === popper ? reference : popper;
  var popperRect = state.rects.popper;
  var element = state.elements[altBoundary ? altContext : elementContext];
  var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary, strategy);
  var referenceClientRect = getBoundingClientRect(state.elements.reference);
  var popperOffsets = computeOffsets({
    reference: referenceClientRect,
    element: popperRect,
    strategy: "absolute",
    placement
  });
  var popperClientRect = rectToClientRect(Object.assign({}, popperRect, popperOffsets));
  var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect;
  var overflowOffsets = {
    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,
    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,
    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,
    right: elementClientRect.right - clippingClientRect.right + paddingObject.right
  };
  var offsetData = state.modifiersData.offset;
  if (elementContext === popper && offsetData) {
    var offset = offsetData[placement];
    Object.keys(overflowOffsets).forEach(function(key) {
      var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;
      var axis = [top, bottom].indexOf(key) >= 0 ? "y" : "x";
      overflowOffsets[key] += offset[axis] * multiply;
    });
  }
  return overflowOffsets;
}

// node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js
function computeAutoPlacement(state, options) {
  if (options === undefined) {
    options = {};
  }
  var _options = options, placement = _options.placement, boundary = _options.boundary, rootBoundary = _options.rootBoundary, padding2 = _options.padding, flipVariations = _options.flipVariations, _options$allowedAutoP = _options.allowedAutoPlacements, allowedAutoPlacements = _options$allowedAutoP === undefined ? placements : _options$allowedAutoP;
  var variation = getVariation(placement);
  var placements2 = variation ? flipVariations ? variationPlacements : variationPlacements.filter(function(placement2) {
    return getVariation(placement2) === variation;
  }) : basePlacements;
  var allowedPlacements = placements2.filter(function(placement2) {
    return allowedAutoPlacements.indexOf(placement2) >= 0;
  });
  if (allowedPlacements.length === 0) {
    allowedPlacements = placements2;
  }
  var overflows = allowedPlacements.reduce(function(acc, placement2) {
    acc[placement2] = detectOverflow(state, {
      placement: placement2,
      boundary,
      rootBoundary,
      padding: padding2
    })[getBasePlacement(placement2)];
    return acc;
  }, {});
  return Object.keys(overflows).sort(function(a, b) {
    return overflows[a] - overflows[b];
  });
}

// node_modules/@popperjs/core/lib/modifiers/flip.js
function getExpandedFallbackPlacements(placement) {
  if (getBasePlacement(placement) === auto) {
    return [];
  }
  var oppositePlacement = getOppositePlacement(placement);
  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];
}
function flip(_ref) {
  var { state, options, name } = _ref;
  if (state.modifiersData[name]._skip) {
    return;
  }
  var _options$mainAxis = options.mainAxis, checkMainAxis = _options$mainAxis === undefined ? true : _options$mainAxis, _options$altAxis = options.altAxis, checkAltAxis = _options$altAxis === undefined ? true : _options$altAxis, specifiedFallbackPlacements = options.fallbackPlacements, padding2 = options.padding, boundary = options.boundary, rootBoundary = options.rootBoundary, altBoundary = options.altBoundary, _options$flipVariatio = options.flipVariations, flipVariations = _options$flipVariatio === undefined ? true : _options$flipVariatio, allowedAutoPlacements = options.allowedAutoPlacements;
  var preferredPlacement = state.options.placement;
  var basePlacement = getBasePlacement(preferredPlacement);
  var isBasePlacement = basePlacement === preferredPlacement;
  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));
  var placements2 = [preferredPlacement].concat(fallbackPlacements).reduce(function(acc, placement2) {
    return acc.concat(getBasePlacement(placement2) === auto ? computeAutoPlacement(state, {
      placement: placement2,
      boundary,
      rootBoundary,
      padding: padding2,
      flipVariations,
      allowedAutoPlacements
    }) : placement2);
  }, []);
  var referenceRect = state.rects.reference;
  var popperRect = state.rects.popper;
  var checksMap = new Map;
  var makeFallbackChecks = true;
  var firstFittingPlacement = placements2[0];
  for (var i = 0;i < placements2.length; i++) {
    var placement = placements2[i];
    var _basePlacement = getBasePlacement(placement);
    var isStartVariation = getVariation(placement) === start;
    var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;
    var len = isVertical ? "width" : "height";
    var overflow = detectOverflow(state, {
      placement,
      boundary,
      rootBoundary,
      altBoundary,
      padding: padding2
    });
    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;
    if (referenceRect[len] > popperRect[len]) {
      mainVariationSide = getOppositePlacement(mainVariationSide);
    }
    var altVariationSide = getOppositePlacement(mainVariationSide);
    var checks = [];
    if (checkMainAxis) {
      checks.push(overflow[_basePlacement] <= 0);
    }
    if (checkAltAxis) {
      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);
    }
    if (checks.every(function(check) {
      return check;
    })) {
      firstFittingPlacement = placement;
      makeFallbackChecks = false;
      break;
    }
    checksMap.set(placement, checks);
  }
  if (makeFallbackChecks) {
    var numberOfChecks = flipVariations ? 3 : 1;
    var _loop = function _loop(_i2) {
      var fittingPlacement = placements2.find(function(placement2) {
        var checks2 = checksMap.get(placement2);
        if (checks2) {
          return checks2.slice(0, _i2).every(function(check) {
            return check;
          });
        }
      });
      if (fittingPlacement) {
        firstFittingPlacement = fittingPlacement;
        return "break";
      }
    };
    for (var _i = numberOfChecks;_i > 0; _i--) {
      var _ret = _loop(_i);
      if (_ret === "break")
        break;
    }
  }
  if (state.placement !== firstFittingPlacement) {
    state.modifiersData[name]._skip = true;
    state.placement = firstFittingPlacement;
    state.reset = true;
  }
}
var flip_default = {
  name: "flip",
  enabled: true,
  phase: "main",
  fn: flip,
  requiresIfExists: ["offset"],
  data: {
    _skip: false
  }
};

// node_modules/@popperjs/core/lib/modifiers/hide.js
function getSideOffsets(overflow, rect, preventedOffsets) {
  if (preventedOffsets === undefined) {
    preventedOffsets = {
      x: 0,
      y: 0
    };
  }
  return {
    top: overflow.top - rect.height - preventedOffsets.y,
    right: overflow.right - rect.width + preventedOffsets.x,
    bottom: overflow.bottom - rect.height + preventedOffsets.y,
    left: overflow.left - rect.width - preventedOffsets.x
  };
}
function isAnySideFullyClipped(overflow) {
  return [top, right, bottom, left].some(function(side) {
    return overflow[side] >= 0;
  });
}
function hide(_ref) {
  var { state, name } = _ref;
  var referenceRect = state.rects.reference;
  var popperRect = state.rects.popper;
  var preventedOffsets = state.modifiersData.preventOverflow;
  var referenceOverflow = detectOverflow(state, {
    elementContext: "reference"
  });
  var popperAltOverflow = detectOverflow(state, {
    altBoundary: true
  });
  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);
  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);
  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);
  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);
  state.modifiersData[name] = {
    referenceClippingOffsets,
    popperEscapeOffsets,
    isReferenceHidden,
    hasPopperEscaped
  };
  state.attributes.popper = Object.assign({}, state.attributes.popper, {
    "data-popper-reference-hidden": isReferenceHidden,
    "data-popper-escaped": hasPopperEscaped
  });
}
var hide_default = {
  name: "hide",
  enabled: true,
  phase: "main",
  requiresIfExists: ["preventOverflow"],
  fn: hide
};

// node_modules/@popperjs/core/lib/modifiers/offset.js
function distanceAndSkiddingToXY(placement, rects, offset) {
  var basePlacement = getBasePlacement(placement);
  var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;
  var _ref = typeof offset === "function" ? offset(Object.assign({}, rects, {
    placement
  })) : offset, skidding = _ref[0], distance = _ref[1];
  skidding = skidding || 0;
  distance = (distance || 0) * invertDistance;
  return [left, right].indexOf(basePlacement) >= 0 ? {
    x: distance,
    y: skidding
  } : {
    x: skidding,
    y: distance
  };
}
function offset(_ref2) {
  var { state, options, name } = _ref2;
  var _options$offset = options.offset, offset2 = _options$offset === undefined ? [0, 0] : _options$offset;
  var data2 = placements.reduce(function(acc, placement) {
    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset2);
    return acc;
  }, {});
  var _data$state$placement = data2[state.placement], x = _data$state$placement.x, y = _data$state$placement.y;
  if (state.modifiersData.popperOffsets != null) {
    state.modifiersData.popperOffsets.x += x;
    state.modifiersData.popperOffsets.y += y;
  }
  state.modifiersData[name] = data2;
}
var offset_default = {
  name: "offset",
  enabled: true,
  phase: "main",
  requires: ["popperOffsets"],
  fn: offset
};

// node_modules/@popperjs/core/lib/modifiers/popperOffsets.js
function popperOffsets(_ref) {
  var { state, name } = _ref;
  state.modifiersData[name] = computeOffsets({
    reference: state.rects.reference,
    element: state.rects.popper,
    strategy: "absolute",
    placement: state.placement
  });
}
var popperOffsets_default = {
  name: "popperOffsets",
  enabled: true,
  phase: "read",
  fn: popperOffsets,
  data: {}
};

// node_modules/@popperjs/core/lib/utils/getAltAxis.js
function getAltAxis(axis) {
  return axis === "x" ? "y" : "x";
}

// node_modules/@popperjs/core/lib/modifiers/preventOverflow.js
function preventOverflow(_ref) {
  var { state, options, name } = _ref;
  var _options$mainAxis = options.mainAxis, checkMainAxis = _options$mainAxis === undefined ? true : _options$mainAxis, _options$altAxis = options.altAxis, checkAltAxis = _options$altAxis === undefined ? false : _options$altAxis, boundary = options.boundary, rootBoundary = options.rootBoundary, altBoundary = options.altBoundary, padding2 = options.padding, _options$tether = options.tether, tether = _options$tether === undefined ? true : _options$tether, _options$tetherOffset = options.tetherOffset, tetherOffset = _options$tetherOffset === undefined ? 0 : _options$tetherOffset;
  var overflow = detectOverflow(state, {
    boundary,
    rootBoundary,
    padding: padding2,
    altBoundary
  });
  var basePlacement = getBasePlacement(state.placement);
  var variation = getVariation(state.placement);
  var isBasePlacement = !variation;
  var mainAxis = getMainAxisFromPlacement(basePlacement);
  var altAxis = getAltAxis(mainAxis);
  var popperOffsets2 = state.modifiersData.popperOffsets;
  var referenceRect = state.rects.reference;
  var popperRect = state.rects.popper;
  var tetherOffsetValue = typeof tetherOffset === "function" ? tetherOffset(Object.assign({}, state.rects, {
    placement: state.placement
  })) : tetherOffset;
  var normalizedTetherOffsetValue = typeof tetherOffsetValue === "number" ? {
    mainAxis: tetherOffsetValue,
    altAxis: tetherOffsetValue
  } : Object.assign({
    mainAxis: 0,
    altAxis: 0
  }, tetherOffsetValue);
  var offsetModifierState = state.modifiersData.offset ? state.modifiersData.offset[state.placement] : null;
  var data2 = {
    x: 0,
    y: 0
  };
  if (!popperOffsets2) {
    return;
  }
  if (checkMainAxis) {
    var _offsetModifierState$;
    var mainSide = mainAxis === "y" ? top : left;
    var altSide = mainAxis === "y" ? bottom : right;
    var len = mainAxis === "y" ? "height" : "width";
    var offset2 = popperOffsets2[mainAxis];
    var min2 = offset2 + overflow[mainSide];
    var max2 = offset2 - overflow[altSide];
    var additive = tether ? -popperRect[len] / 2 : 0;
    var minLen = variation === start ? referenceRect[len] : popperRect[len];
    var maxLen = variation === start ? -popperRect[len] : -referenceRect[len];
    var arrowElement = state.elements.arrow;
    var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {
      width: 0,
      height: 0
    };
    var arrowPaddingObject = state.modifiersData["arrow#persistent"] ? state.modifiersData["arrow#persistent"].padding : getFreshSideObject();
    var arrowPaddingMin = arrowPaddingObject[mainSide];
    var arrowPaddingMax = arrowPaddingObject[altSide];
    var arrowLen = within(0, referenceRect[len], arrowRect[len]);
    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis : minLen - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis;
    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis : maxLen + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis;
    var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);
    var clientOffset = arrowOffsetParent ? mainAxis === "y" ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;
    var offsetModifierValue = (_offsetModifierState$ = offsetModifierState == null ? undefined : offsetModifierState[mainAxis]) != null ? _offsetModifierState$ : 0;
    var tetherMin = offset2 + minOffset - offsetModifierValue - clientOffset;
    var tetherMax = offset2 + maxOffset - offsetModifierValue;
    var preventedOffset = within(tether ? min(min2, tetherMin) : min2, offset2, tether ? max(max2, tetherMax) : max2);
    popperOffsets2[mainAxis] = preventedOffset;
    data2[mainAxis] = preventedOffset - offset2;
  }
  if (checkAltAxis) {
    var _offsetModifierState$2;
    var _mainSide = mainAxis === "x" ? top : left;
    var _altSide = mainAxis === "x" ? bottom : right;
    var _offset = popperOffsets2[altAxis];
    var _len = altAxis === "y" ? "height" : "width";
    var _min = _offset + overflow[_mainSide];
    var _max = _offset - overflow[_altSide];
    var isOriginSide = [top, left].indexOf(basePlacement) !== -1;
    var _offsetModifierValue = (_offsetModifierState$2 = offsetModifierState == null ? undefined : offsetModifierState[altAxis]) != null ? _offsetModifierState$2 : 0;
    var _tetherMin = isOriginSide ? _min : _offset - referenceRect[_len] - popperRect[_len] - _offsetModifierValue + normalizedTetherOffsetValue.altAxis;
    var _tetherMax = isOriginSide ? _offset + referenceRect[_len] + popperRect[_len] - _offsetModifierValue - normalizedTetherOffsetValue.altAxis : _max;
    var _preventedOffset = tether && isOriginSide ? withinMaxClamp(_tetherMin, _offset, _tetherMax) : within(tether ? _tetherMin : _min, _offset, tether ? _tetherMax : _max);
    popperOffsets2[altAxis] = _preventedOffset;
    data2[altAxis] = _preventedOffset - _offset;
  }
  state.modifiersData[name] = data2;
}
var preventOverflow_default = {
  name: "preventOverflow",
  enabled: true,
  phase: "main",
  fn: preventOverflow,
  requiresIfExists: ["offset"]
};
// node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js
function getHTMLElementScroll(element) {
  return {
    scrollLeft: element.scrollLeft,
    scrollTop: element.scrollTop
  };
}

// node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js
function getNodeScroll(node2) {
  if (node2 === getWindow(node2) || !isHTMLElement(node2)) {
    return getWindowScroll(node2);
  } else {
    return getHTMLElementScroll(node2);
  }
}

// node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js
function isElementScaled(element) {
  var rect = element.getBoundingClientRect();
  var scaleX = round2(rect.width) / element.offsetWidth || 1;
  var scaleY = round2(rect.height) / element.offsetHeight || 1;
  return scaleX !== 1 || scaleY !== 1;
}
function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {
  if (isFixed === undefined) {
    isFixed = false;
  }
  var isOffsetParentAnElement = isHTMLElement(offsetParent);
  var offsetParentIsScaled = isHTMLElement(offsetParent) && isElementScaled(offsetParent);
  var documentElement = getDocumentElement(offsetParent);
  var rect = getBoundingClientRect(elementOrVirtualElement, offsetParentIsScaled, isFixed);
  var scroll = {
    scrollLeft: 0,
    scrollTop: 0
  };
  var offsets = {
    x: 0,
    y: 0
  };
  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {
    if (getNodeName(offsetParent) !== "body" || isScrollParent(documentElement)) {
      scroll = getNodeScroll(offsetParent);
    }
    if (isHTMLElement(offsetParent)) {
      offsets = getBoundingClientRect(offsetParent, true);
      offsets.x += offsetParent.clientLeft;
      offsets.y += offsetParent.clientTop;
    } else if (documentElement) {
      offsets.x = getWindowScrollBarX(documentElement);
    }
  }
  return {
    x: rect.left + scroll.scrollLeft - offsets.x,
    y: rect.top + scroll.scrollTop - offsets.y,
    width: rect.width,
    height: rect.height
  };
}

// node_modules/@popperjs/core/lib/utils/orderModifiers.js
function order(modifiers) {
  var map = new Map;
  var visited = new Set;
  var result = [];
  modifiers.forEach(function(modifier) {
    map.set(modifier.name, modifier);
  });
  function sort(modifier) {
    visited.add(modifier.name);
    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);
    requires.forEach(function(dep) {
      if (!visited.has(dep)) {
        var depModifier = map.get(dep);
        if (depModifier) {
          sort(depModifier);
        }
      }
    });
    result.push(modifier);
  }
  modifiers.forEach(function(modifier) {
    if (!visited.has(modifier.name)) {
      sort(modifier);
    }
  });
  return result;
}
function orderModifiers(modifiers) {
  var orderedModifiers = order(modifiers);
  return modifierPhases.reduce(function(acc, phase) {
    return acc.concat(orderedModifiers.filter(function(modifier) {
      return modifier.phase === phase;
    }));
  }, []);
}

// node_modules/@popperjs/core/lib/utils/debounce.js
function debounce3(fn2) {
  var pending;
  return function() {
    if (!pending) {
      pending = new Promise(function(resolve) {
        Promise.resolve().then(function() {
          pending = undefined;
          resolve(fn2());
        });
      });
    }
    return pending;
  };
}

// node_modules/@popperjs/core/lib/utils/mergeByName.js
function mergeByName(modifiers) {
  var merged = modifiers.reduce(function(merged2, current) {
    var existing = merged2[current.name];
    merged2[current.name] = existing ? Object.assign({}, existing, current, {
      options: Object.assign({}, existing.options, current.options),
      data: Object.assign({}, existing.data, current.data)
    }) : current;
    return merged2;
  }, {});
  return Object.keys(merged).map(function(key) {
    return merged[key];
  });
}

// node_modules/@popperjs/core/lib/createPopper.js
var DEFAULT_OPTIONS = {
  placement: "bottom",
  modifiers: [],
  strategy: "absolute"
};
function areValidElements() {
  for (var _len = arguments.length, args = new Array(_len), _key = 0;_key < _len; _key++) {
    args[_key] = arguments[_key];
  }
  return !args.some(function(element) {
    return !(element && typeof element.getBoundingClientRect === "function");
  });
}
function popperGenerator(generatorOptions) {
  if (generatorOptions === undefined) {
    generatorOptions = {};
  }
  var _generatorOptions = generatorOptions, _generatorOptions$def = _generatorOptions.defaultModifiers, defaultModifiers = _generatorOptions$def === undefined ? [] : _generatorOptions$def, _generatorOptions$def2 = _generatorOptions.defaultOptions, defaultOptions = _generatorOptions$def2 === undefined ? DEFAULT_OPTIONS : _generatorOptions$def2;
  return function createPopper(reference2, popper2, options) {
    if (options === undefined) {
      options = defaultOptions;
    }
    var state = {
      placement: "bottom",
      orderedModifiers: [],
      options: Object.assign({}, DEFAULT_OPTIONS, defaultOptions),
      modifiersData: {},
      elements: {
        reference: reference2,
        popper: popper2
      },
      attributes: {},
      styles: {}
    };
    var effectCleanupFns = [];
    var isDestroyed = false;
    var instance = {
      state,
      setOptions: function setOptions(setOptionsAction) {
        var options2 = typeof setOptionsAction === "function" ? setOptionsAction(state.options) : setOptionsAction;
        cleanupModifierEffects();
        state.options = Object.assign({}, defaultOptions, state.options, options2);
        state.scrollParents = {
          reference: isElement(reference2) ? listScrollParents(reference2) : reference2.contextElement ? listScrollParents(reference2.contextElement) : [],
          popper: listScrollParents(popper2)
        };
        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers)));
        state.orderedModifiers = orderedModifiers.filter(function(m) {
          return m.enabled;
        });
        runModifierEffects();
        return instance.update();
      },
      forceUpdate: function forceUpdate() {
        if (isDestroyed) {
          return;
        }
        var _state$elements = state.elements, reference3 = _state$elements.reference, popper3 = _state$elements.popper;
        if (!areValidElements(reference3, popper3)) {
          return;
        }
        state.rects = {
          reference: getCompositeRect(reference3, getOffsetParent(popper3), state.options.strategy === "fixed"),
          popper: getLayoutRect(popper3)
        };
        state.reset = false;
        state.placement = state.options.placement;
        state.orderedModifiers.forEach(function(modifier) {
          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);
        });
        for (var index = 0;index < state.orderedModifiers.length; index++) {
          if (state.reset === true) {
            state.reset = false;
            index = -1;
            continue;
          }
          var _state$orderedModifie = state.orderedModifiers[index], fn2 = _state$orderedModifie.fn, _state$orderedModifie2 = _state$orderedModifie.options, _options = _state$orderedModifie2 === undefined ? {} : _state$orderedModifie2, name = _state$orderedModifie.name;
          if (typeof fn2 === "function") {
            state = fn2({
              state,
              options: _options,
              name,
              instance
            }) || state;
          }
        }
      },
      update: debounce3(function() {
        return new Promise(function(resolve) {
          instance.forceUpdate();
          resolve(state);
        });
      }),
      destroy: function destroy() {
        cleanupModifierEffects();
        isDestroyed = true;
      }
    };
    if (!areValidElements(reference2, popper2)) {
      return instance;
    }
    instance.setOptions(options).then(function(state2) {
      if (!isDestroyed && options.onFirstUpdate) {
        options.onFirstUpdate(state2);
      }
    });
    function runModifierEffects() {
      state.orderedModifiers.forEach(function(_ref) {
        var { name, options: _ref$options } = _ref, options2 = _ref$options === undefined ? {} : _ref$options, effect4 = _ref.effect;
        if (typeof effect4 === "function") {
          var cleanupFn = effect4({
            state,
            name,
            instance,
            options: options2
          });
          var noopFn = function noopFn() {};
          effectCleanupFns.push(cleanupFn || noopFn);
        }
      });
    }
    function cleanupModifierEffects() {
      effectCleanupFns.forEach(function(fn2) {
        return fn2();
      });
      effectCleanupFns = [];
    }
    return instance;
  };
}

// node_modules/@popperjs/core/lib/popper.js
var defaultModifiers = [eventListeners_default, popperOffsets_default, computeStyles_default, applyStyles_default, offset_default, flip_default, preventOverflow_default, arrow_default, hide_default];
var createPopper = /* @__PURE__ */ popperGenerator({
  defaultModifiers
});
// node_modules/@mui/material/esm/Popper/BasePopper.js
var import_prop_types36 = __toESM(require_prop_types(), 1);

// node_modules/@mui/utils/esm/useSlotProps/useSlotProps.js
"use client";
function useSlotProps(parameters) {
  const {
    elementType,
    externalSlotProps,
    ownerState,
    skipResolvingSlotProps = false,
    ...other
  } = parameters;
  const resolvedComponentsProps = skipResolvingSlotProps ? {} : resolveComponentProps_default(externalSlotProps, ownerState);
  const {
    props: mergedProps,
    internalRef
  } = mergeSlotProps_default({
    ...other,
    externalSlotProps: resolvedComponentsProps
  });
  const ref = useForkRef(internalRef, resolvedComponentsProps?.ref, parameters.additionalProps?.ref);
  const props = appendOwnerState_default(elementType, {
    ...mergedProps,
    ref
  }, ownerState);
  return props;
}
var useSlotProps_default = useSlotProps;
// node_modules/@mui/material/esm/Portal/Portal.js
var React68 = __toESM(require_react(), 1);
var ReactDOM5 = __toESM(require_react_dom(), 1);
var import_prop_types35 = __toESM(require_prop_types(), 1);

// node_modules/@mui/utils/esm/getReactElementRef/getReactElementRef.js
var React67 = __toESM(require_react(), 1);
function getReactElementRef(element) {
  if (parseInt(React67.version, 10) >= 19) {
    return element?.props?.ref || null;
  }
  return element?.ref || null;
}
// node_modules/@mui/material/esm/Portal/Portal.js
"use client";
function getContainer(container) {
  return typeof container === "function" ? container() : container;
}
var Portal = /* @__PURE__ */ React68.forwardRef(function Portal2(props, forwardedRef) {
  const {
    children,
    container,
    disablePortal = false
  } = props;
  const [mountNode, setMountNode] = React68.useState(null);
  const handleRef = useForkRef(/* @__PURE__ */ React68.isValidElement(children) ? getReactElementRef(children) : null, forwardedRef);
  useEnhancedEffect_default(() => {
    if (!disablePortal) {
      setMountNode(getContainer(container) || document.body);
    }
  }, [container, disablePortal]);
  useEnhancedEffect_default(() => {
    if (mountNode && !disablePortal) {
      setRef(forwardedRef, mountNode);
      return () => {
        setRef(forwardedRef, null);
      };
    }
    return;
  }, [forwardedRef, mountNode, disablePortal]);
  if (disablePortal) {
    if (/* @__PURE__ */ React68.isValidElement(children)) {
      const newProps = {
        ref: handleRef
      };
      return /* @__PURE__ */ React68.cloneElement(children, newProps);
    }
    return children;
  }
  return mountNode ? /* @__PURE__ */ ReactDOM5.createPortal(children, mountNode) : mountNode;
});
Portal.propTypes = {
  children: import_prop_types35.default.node,
  container: import_prop_types35.default.oneOfType([HTMLElementType, import_prop_types35.default.func]),
  disablePortal: import_prop_types35.default.bool
};
if (true) {
  Portal["propTypes" + ""] = exactProp(Portal.propTypes);
}
var Portal_default = Portal;
// node_modules/@mui/material/esm/Popper/popperClasses.js
function getPopperUtilityClass(slot) {
  return generateUtilityClass("MuiPopper", slot);
}
var popperClasses = generateUtilityClasses("MuiPopper", ["root"]);

// node_modules/@mui/material/esm/Popper/BasePopper.js
var import_jsx_runtime33 = __toESM(require_jsx_runtime(), 1);
"use client";
function flipPlacement(placement, direction) {
  if (direction === "ltr") {
    return placement;
  }
  switch (placement) {
    case "bottom-end":
      return "bottom-start";
    case "bottom-start":
      return "bottom-end";
    case "top-end":
      return "top-start";
    case "top-start":
      return "top-end";
    default:
      return placement;
  }
}
function resolveAnchorEl(anchorEl) {
  return typeof anchorEl === "function" ? anchorEl() : anchorEl;
}
function isHTMLElement2(element) {
  return element.nodeType !== undefined;
}
function isVirtualElement(element) {
  return !isHTMLElement2(element);
}
var useUtilityClasses11 = (ownerState) => {
  const {
    classes
  } = ownerState;
  const slots = {
    root: ["root"]
  };
  return composeClasses(slots, getPopperUtilityClass, classes);
};
var defaultPopperOptions = {};
var PopperTooltip = /* @__PURE__ */ React69.forwardRef(function PopperTooltip2(props, forwardedRef) {
  const {
    anchorEl,
    children,
    direction,
    disablePortal,
    modifiers: modifiers3,
    open,
    placement: initialPlacement,
    popperOptions,
    popperRef: popperRefProp,
    slotProps = {},
    slots = {},
    TransitionProps,
    ownerState: ownerStateProp,
    ...other
  } = props;
  const tooltipRef = React69.useRef(null);
  const ownRef = useForkRef(tooltipRef, forwardedRef);
  const popperRef = React69.useRef(null);
  const handlePopperRef = useForkRef(popperRef, popperRefProp);
  const handlePopperRefRef = React69.useRef(handlePopperRef);
  useEnhancedEffect_default(() => {
    handlePopperRefRef.current = handlePopperRef;
  }, [handlePopperRef]);
  React69.useImperativeHandle(popperRefProp, () => popperRef.current, []);
  const rtlPlacement = flipPlacement(initialPlacement, direction);
  const [placement, setPlacement] = React69.useState(rtlPlacement);
  const [resolvedAnchorElement, setResolvedAnchorElement] = React69.useState(resolveAnchorEl(anchorEl));
  React69.useEffect(() => {
    if (popperRef.current) {
      popperRef.current.forceUpdate();
    }
  });
  React69.useEffect(() => {
    if (anchorEl) {
      setResolvedAnchorElement(resolveAnchorEl(anchorEl));
    }
  }, [anchorEl]);
  useEnhancedEffect_default(() => {
    if (!resolvedAnchorElement || !open) {
      return;
    }
    const handlePopperUpdate = (data2) => {
      setPlacement(data2.placement);
    };
    if (true) {
      if (resolvedAnchorElement && isHTMLElement2(resolvedAnchorElement) && resolvedAnchorElement.nodeType === 1) {
        const box = resolvedAnchorElement.getBoundingClientRect();
        if (box.top === 0 && box.left === 0 && box.right === 0 && box.bottom === 0) {
          console.warn(["MUI: The `anchorEl` prop provided to the component is invalid.", "The anchor element should be part of the document layout.", "Make sure the element is present in the document or that it's not display none."].join(`
`));
        }
      }
    }
    let popperModifiers = [{
      name: "preventOverflow",
      options: {
        altBoundary: disablePortal
      }
    }, {
      name: "flip",
      options: {
        altBoundary: disablePortal
      }
    }, {
      name: "onUpdate",
      enabled: true,
      phase: "afterWrite",
      fn: ({
        state
      }) => {
        handlePopperUpdate(state);
      }
    }];
    if (modifiers3 != null) {
      popperModifiers = popperModifiers.concat(modifiers3);
    }
    if (popperOptions && popperOptions.modifiers != null) {
      popperModifiers = popperModifiers.concat(popperOptions.modifiers);
    }
    const popper2 = createPopper(resolvedAnchorElement, tooltipRef.current, {
      placement: rtlPlacement,
      ...popperOptions,
      modifiers: popperModifiers
    });
    handlePopperRefRef.current(popper2);
    return () => {
      popper2.destroy();
      handlePopperRefRef.current(null);
    };
  }, [resolvedAnchorElement, disablePortal, modifiers3, open, popperOptions, rtlPlacement]);
  const childProps = {
    placement
  };
  if (TransitionProps !== null) {
    childProps.TransitionProps = TransitionProps;
  }
  const classes = useUtilityClasses11(props);
  const Root = slots.root ?? "div";
  const rootProps = useSlotProps_default({
    elementType: Root,
    externalSlotProps: slotProps.root,
    externalForwardedProps: other,
    additionalProps: {
      role: "tooltip",
      ref: ownRef
    },
    ownerState: props,
    className: classes.root
  });
  return /* @__PURE__ */ import_jsx_runtime33.jsx(Root, {
    ...rootProps,
    children: typeof children === "function" ? children(childProps) : children
  });
});
var Popper = /* @__PURE__ */ React69.forwardRef(function Popper2(props, forwardedRef) {
  const {
    anchorEl,
    children,
    container: containerProp,
    direction = "ltr",
    disablePortal = false,
    keepMounted = false,
    modifiers: modifiers3,
    open,
    placement = "bottom",
    popperOptions = defaultPopperOptions,
    popperRef,
    style: style5,
    transition = false,
    slotProps = {},
    slots = {},
    ...other
  } = props;
  const [exited, setExited] = React69.useState(true);
  const handleEnter = () => {
    setExited(false);
  };
  const handleExited = () => {
    setExited(true);
  };
  if (!keepMounted && !open && (!transition || exited)) {
    return null;
  }
  let container;
  if (containerProp) {
    container = containerProp;
  } else if (anchorEl) {
    const resolvedAnchorEl = resolveAnchorEl(anchorEl);
    container = resolvedAnchorEl && isHTMLElement2(resolvedAnchorEl) ? ownerDocument(resolvedAnchorEl).body : ownerDocument(null).body;
  }
  const display = !open && keepMounted && (!transition || exited) ? "none" : undefined;
  const transitionProps = transition ? {
    in: open,
    onEnter: handleEnter,
    onExited: handleExited
  } : undefined;
  return /* @__PURE__ */ import_jsx_runtime33.jsx(Portal_default, {
    disablePortal,
    container,
    children: /* @__PURE__ */ import_jsx_runtime33.jsx(PopperTooltip, {
      anchorEl,
      direction,
      disablePortal,
      modifiers: modifiers3,
      ref: forwardedRef,
      open: transition ? !exited : open,
      placement,
      popperOptions,
      popperRef,
      slotProps,
      slots,
      ...other,
      style: {
        position: "fixed",
        top: 0,
        left: 0,
        display,
        ...style5
      },
      TransitionProps: transitionProps,
      children
    })
  });
});
Popper.propTypes = {
  anchorEl: chainPropTypes(import_prop_types36.default.oneOfType([HTMLElementType, import_prop_types36.default.object, import_prop_types36.default.func]), (props) => {
    if (props.open) {
      const resolvedAnchorEl = resolveAnchorEl(props.anchorEl);
      if (resolvedAnchorEl && isHTMLElement2(resolvedAnchorEl) && resolvedAnchorEl.nodeType === 1) {
        const box = resolvedAnchorEl.getBoundingClientRect();
        if (box.top === 0 && box.left === 0 && box.right === 0 && box.bottom === 0) {
          return new Error(["MUI: The `anchorEl` prop provided to the component is invalid.", "The anchor element should be part of the document layout.", "Make sure the element is present in the document or that it's not display none."].join(`
`));
        }
      } else if (!resolvedAnchorEl || typeof resolvedAnchorEl.getBoundingClientRect !== "function" || isVirtualElement(resolvedAnchorEl) && resolvedAnchorEl.contextElement != null && resolvedAnchorEl.contextElement.nodeType !== 1) {
        return new Error(["MUI: The `anchorEl` prop provided to the component is invalid.", "It should be an HTML element instance or a virtualElement ", "(https://popper.js.org/docs/v2/virtual-elements/)."].join(`
`));
      }
    }
    return null;
  }),
  children: import_prop_types36.default.oneOfType([import_prop_types36.default.node, import_prop_types36.default.func]),
  container: import_prop_types36.default.oneOfType([HTMLElementType, import_prop_types36.default.func]),
  direction: import_prop_types36.default.oneOf(["ltr", "rtl"]),
  disablePortal: import_prop_types36.default.bool,
  keepMounted: import_prop_types36.default.bool,
  modifiers: import_prop_types36.default.arrayOf(import_prop_types36.default.shape({
    data: import_prop_types36.default.object,
    effect: import_prop_types36.default.func,
    enabled: import_prop_types36.default.bool,
    fn: import_prop_types36.default.func,
    name: import_prop_types36.default.any,
    options: import_prop_types36.default.object,
    phase: import_prop_types36.default.oneOf(["afterMain", "afterRead", "afterWrite", "beforeMain", "beforeRead", "beforeWrite", "main", "read", "write"]),
    requires: import_prop_types36.default.arrayOf(import_prop_types36.default.string),
    requiresIfExists: import_prop_types36.default.arrayOf(import_prop_types36.default.string)
  })),
  open: import_prop_types36.default.bool.isRequired,
  placement: import_prop_types36.default.oneOf(["auto-end", "auto-start", "auto", "bottom-end", "bottom-start", "bottom", "left-end", "left-start", "left", "right-end", "right-start", "right", "top-end", "top-start", "top"]),
  popperOptions: import_prop_types36.default.shape({
    modifiers: import_prop_types36.default.array,
    onFirstUpdate: import_prop_types36.default.func,
    placement: import_prop_types36.default.oneOf(["auto-end", "auto-start", "auto", "bottom-end", "bottom-start", "bottom", "left-end", "left-start", "left", "right-end", "right-start", "right", "top-end", "top-start", "top"]),
    strategy: import_prop_types36.default.oneOf(["absolute", "fixed"])
  }),
  popperRef: refType_default,
  slotProps: import_prop_types36.default.shape({
    root: import_prop_types36.default.oneOfType([import_prop_types36.default.func, import_prop_types36.default.object])
  }),
  slots: import_prop_types36.default.shape({
    root: import_prop_types36.default.elementType
  }),
  transition: import_prop_types36.default.bool
};
var BasePopper_default = Popper;

// node_modules/@mui/material/esm/Popper/Popper.js
var import_jsx_runtime34 = __toESM(require_jsx_runtime(), 1);
"use client";
var PopperRoot = styled_default2(BasePopper_default, {
  name: "MuiPopper",
  slot: "Root"
})({});
var Popper3 = /* @__PURE__ */ React70.forwardRef(function Popper4(inProps, ref) {
  const isRtl = useRtl();
  const props = useDefaultProps2({
    props: inProps,
    name: "MuiPopper"
  });
  const {
    anchorEl,
    component,
    components,
    componentsProps,
    container,
    disablePortal,
    keepMounted,
    modifiers: modifiers3,
    open,
    placement,
    popperOptions,
    popperRef,
    transition,
    slots,
    slotProps,
    ...other
  } = props;
  const RootComponent = slots?.root ?? components?.Root;
  const otherProps = {
    anchorEl,
    container,
    disablePortal,
    keepMounted,
    modifiers: modifiers3,
    open,
    placement,
    popperOptions,
    popperRef,
    transition,
    ...other
  };
  return /* @__PURE__ */ import_jsx_runtime34.jsx(PopperRoot, {
    as: component,
    direction: isRtl ? "rtl" : "ltr",
    slots: {
      root: RootComponent
    },
    slotProps: slotProps ?? componentsProps,
    ...otherProps,
    ref
  });
});
Popper3.propTypes = {
  anchorEl: import_prop_types37.default.oneOfType([HTMLElementType, import_prop_types37.default.object, import_prop_types37.default.func]),
  children: import_prop_types37.default.oneOfType([import_prop_types37.default.node, import_prop_types37.default.func]),
  component: import_prop_types37.default.elementType,
  components: import_prop_types37.default.shape({
    Root: import_prop_types37.default.elementType
  }),
  componentsProps: import_prop_types37.default.shape({
    root: import_prop_types37.default.oneOfType([import_prop_types37.default.func, import_prop_types37.default.object])
  }),
  container: import_prop_types37.default.oneOfType([HTMLElementType, import_prop_types37.default.func]),
  disablePortal: import_prop_types37.default.bool,
  keepMounted: import_prop_types37.default.bool,
  modifiers: import_prop_types37.default.arrayOf(import_prop_types37.default.shape({
    data: import_prop_types37.default.object,
    effect: import_prop_types37.default.func,
    enabled: import_prop_types37.default.bool,
    fn: import_prop_types37.default.func,
    name: import_prop_types37.default.any,
    options: import_prop_types37.default.object,
    phase: import_prop_types37.default.oneOf(["afterMain", "afterRead", "afterWrite", "beforeMain", "beforeRead", "beforeWrite", "main", "read", "write"]),
    requires: import_prop_types37.default.arrayOf(import_prop_types37.default.string),
    requiresIfExists: import_prop_types37.default.arrayOf(import_prop_types37.default.string)
  })),
  open: import_prop_types37.default.bool.isRequired,
  placement: import_prop_types37.default.oneOf(["auto-end", "auto-start", "auto", "bottom-end", "bottom-start", "bottom", "left-end", "left-start", "left", "right-end", "right-start", "right", "top-end", "top-start", "top"]),
  popperOptions: import_prop_types37.default.shape({
    modifiers: import_prop_types37.default.array,
    onFirstUpdate: import_prop_types37.default.func,
    placement: import_prop_types37.default.oneOf(["auto-end", "auto-start", "auto", "bottom-end", "bottom-start", "bottom", "left-end", "left-start", "left", "right-end", "right-start", "right", "top-end", "top-start", "top"]),
    strategy: import_prop_types37.default.oneOf(["absolute", "fixed"])
  }),
  popperRef: refType_default,
  slotProps: import_prop_types37.default.shape({
    root: import_prop_types37.default.oneOfType([import_prop_types37.default.func, import_prop_types37.default.object])
  }),
  slots: import_prop_types37.default.shape({
    root: import_prop_types37.default.elementType
  }),
  sx: import_prop_types37.default.oneOfType([import_prop_types37.default.arrayOf(import_prop_types37.default.oneOfType([import_prop_types37.default.func, import_prop_types37.default.object, import_prop_types37.default.bool])), import_prop_types37.default.func, import_prop_types37.default.object]),
  transition: import_prop_types37.default.bool
};
var Popper_default = Popper3;
// node_modules/@mui/material/esm/Chip/Chip.js
var React71 = __toESM(require_react(), 1);
var import_prop_types38 = __toESM(require_prop_types(), 1);

// node_modules/@mui/material/esm/internal/svg-icons/Cancel.js
var import_jsx_runtime35 = __toESM(require_jsx_runtime(), 1);
"use client";
var Cancel_default = createSvgIcon(/* @__PURE__ */ import_jsx_runtime35.jsx("path", {
  d: "M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"
}), "Cancel");

// node_modules/@mui/material/esm/Chip/chipClasses.js
function getChipUtilityClass(slot) {
  return generateUtilityClass("MuiChip", slot);
}
var chipClasses = generateUtilityClasses("MuiChip", ["root", "sizeSmall", "sizeMedium", "colorDefault", "colorError", "colorInfo", "colorPrimary", "colorSecondary", "colorSuccess", "colorWarning", "disabled", "clickable", "clickableColorPrimary", "clickableColorSecondary", "deletable", "deletableColorPrimary", "deletableColorSecondary", "outlined", "filled", "outlinedPrimary", "outlinedSecondary", "filledPrimary", "filledSecondary", "avatar", "avatarSmall", "avatarMedium", "avatarColorPrimary", "avatarColorSecondary", "icon", "iconSmall", "iconMedium", "iconColorPrimary", "iconColorSecondary", "label", "labelSmall", "labelMedium", "deleteIcon", "deleteIconSmall", "deleteIconMedium", "deleteIconColorPrimary", "deleteIconColorSecondary", "deleteIconOutlinedColorPrimary", "deleteIconOutlinedColorSecondary", "deleteIconFilledColorPrimary", "deleteIconFilledColorSecondary", "focusVisible"]);
var chipClasses_default = chipClasses;

// node_modules/@mui/material/esm/Chip/Chip.js
var import_jsx_runtime36 = __toESM(require_jsx_runtime(), 1);
"use client";
var useUtilityClasses12 = (ownerState) => {
  const {
    classes,
    disabled,
    size,
    color: color2,
    iconColor,
    onDelete,
    clickable,
    variant
  } = ownerState;
  const slots = {
    root: ["root", variant, disabled && "disabled", `size${capitalize_default(size)}`, `color${capitalize_default(color2)}`, clickable && "clickable", clickable && `clickableColor${capitalize_default(color2)}`, onDelete && "deletable", onDelete && `deletableColor${capitalize_default(color2)}`, `${variant}${capitalize_default(color2)}`],
    label: ["label", `label${capitalize_default(size)}`],
    avatar: ["avatar", `avatar${capitalize_default(size)}`, `avatarColor${capitalize_default(color2)}`],
    icon: ["icon", `icon${capitalize_default(size)}`, `iconColor${capitalize_default(iconColor)}`],
    deleteIcon: ["deleteIcon", `deleteIcon${capitalize_default(size)}`, `deleteIconColor${capitalize_default(color2)}`, `deleteIcon${capitalize_default(variant)}Color${capitalize_default(color2)}`]
  };
  return composeClasses(slots, getChipUtilityClass, classes);
};
var ChipRoot = styled_default2("div", {
  name: "MuiChip",
  slot: "Root",
  overridesResolver: (props, styles) => {
    const {
      ownerState
    } = props;
    const {
      color: color2,
      iconColor,
      clickable,
      onDelete,
      size,
      variant
    } = ownerState;
    return [{
      [`& .${chipClasses_default.avatar}`]: styles.avatar
    }, {
      [`& .${chipClasses_default.avatar}`]: styles[`avatar${capitalize_default(size)}`]
    }, {
      [`& .${chipClasses_default.avatar}`]: styles[`avatarColor${capitalize_default(color2)}`]
    }, {
      [`& .${chipClasses_default.icon}`]: styles.icon
    }, {
      [`& .${chipClasses_default.icon}`]: styles[`icon${capitalize_default(size)}`]
    }, {
      [`& .${chipClasses_default.icon}`]: styles[`iconColor${capitalize_default(iconColor)}`]
    }, {
      [`& .${chipClasses_default.deleteIcon}`]: styles.deleteIcon
    }, {
      [`& .${chipClasses_default.deleteIcon}`]: styles[`deleteIcon${capitalize_default(size)}`]
    }, {
      [`& .${chipClasses_default.deleteIcon}`]: styles[`deleteIconColor${capitalize_default(color2)}`]
    }, {
      [`& .${chipClasses_default.deleteIcon}`]: styles[`deleteIcon${capitalize_default(variant)}Color${capitalize_default(color2)}`]
    }, styles.root, styles[`size${capitalize_default(size)}`], styles[`color${capitalize_default(color2)}`], clickable && styles.clickable, clickable && color2 !== "default" && styles[`clickableColor${capitalize_default(color2)})`], onDelete && styles.deletable, onDelete && color2 !== "default" && styles[`deletableColor${capitalize_default(color2)}`], styles[variant], styles[`${variant}${capitalize_default(color2)}`]];
  }
})(memoTheme_default(({
  theme
}) => {
  const textColor = theme.palette.mode === "light" ? theme.palette.grey[700] : theme.palette.grey[300];
  return {
    maxWidth: "100%",
    fontFamily: theme.typography.fontFamily,
    fontSize: theme.typography.pxToRem(13),
    display: "inline-flex",
    alignItems: "center",
    justifyContent: "center",
    height: 32,
    lineHeight: 1.5,
    color: (theme.vars || theme).palette.text.primary,
    backgroundColor: (theme.vars || theme).palette.action.selected,
    borderRadius: 32 / 2,
    whiteSpace: "nowrap",
    transition: theme.transitions.create(["background-color", "box-shadow"]),
    cursor: "unset",
    outline: 0,
    textDecoration: "none",
    border: 0,
    padding: 0,
    verticalAlign: "middle",
    boxSizing: "border-box",
    [`&.${chipClasses_default.disabled}`]: {
      opacity: (theme.vars || theme).palette.action.disabledOpacity,
      pointerEvents: "none"
    },
    [`& .${chipClasses_default.avatar}`]: {
      marginLeft: 5,
      marginRight: -6,
      width: 24,
      height: 24,
      color: theme.vars ? theme.vars.palette.Chip.defaultAvatarColor : textColor,
      fontSize: theme.typography.pxToRem(12)
    },
    [`& .${chipClasses_default.avatarColorPrimary}`]: {
      color: (theme.vars || theme).palette.primary.contrastText,
      backgroundColor: (theme.vars || theme).palette.primary.dark
    },
    [`& .${chipClasses_default.avatarColorSecondary}`]: {
      color: (theme.vars || theme).palette.secondary.contrastText,
      backgroundColor: (theme.vars || theme).palette.secondary.dark
    },
    [`& .${chipClasses_default.avatarSmall}`]: {
      marginLeft: 4,
      marginRight: -4,
      width: 18,
      height: 18,
      fontSize: theme.typography.pxToRem(10)
    },
    [`& .${chipClasses_default.icon}`]: {
      marginLeft: 5,
      marginRight: -6
    },
    [`& .${chipClasses_default.deleteIcon}`]: {
      WebkitTapHighlightColor: "transparent",
      color: theme.alpha((theme.vars || theme).palette.text.primary, 0.26),
      fontSize: 22,
      cursor: "pointer",
      margin: "0 5px 0 -6px",
      "&:hover": {
        color: theme.alpha((theme.vars || theme).palette.text.primary, 0.4)
      }
    },
    variants: [{
      props: {
        size: "small"
      },
      style: {
        height: 24,
        [`& .${chipClasses_default.icon}`]: {
          fontSize: 18,
          marginLeft: 4,
          marginRight: -4
        },
        [`& .${chipClasses_default.deleteIcon}`]: {
          fontSize: 16,
          marginRight: 4,
          marginLeft: -4
        }
      }
    }, ...Object.entries(theme.palette).filter(createSimplePaletteValueFilter(["contrastText"])).map(([color2]) => {
      return {
        props: {
          color: color2
        },
        style: {
          backgroundColor: (theme.vars || theme).palette[color2].main,
          color: (theme.vars || theme).palette[color2].contrastText,
          [`& .${chipClasses_default.deleteIcon}`]: {
            color: theme.alpha((theme.vars || theme).palette[color2].contrastText, 0.7),
            "&:hover, &:active": {
              color: (theme.vars || theme).palette[color2].contrastText
            }
          }
        }
      };
    }), {
      props: (props) => props.iconColor === props.color,
      style: {
        [`& .${chipClasses_default.icon}`]: {
          color: theme.vars ? theme.vars.palette.Chip.defaultIconColor : textColor
        }
      }
    }, {
      props: (props) => props.iconColor === props.color && props.color !== "default",
      style: {
        [`& .${chipClasses_default.icon}`]: {
          color: "inherit"
        }
      }
    }, {
      props: {
        onDelete: true
      },
      style: {
        [`&.${chipClasses_default.focusVisible}`]: {
          backgroundColor: theme.alpha((theme.vars || theme).palette.action.selected, `${(theme.vars || theme).palette.action.selectedOpacity} + ${(theme.vars || theme).palette.action.focusOpacity}`)
        }
      }
    }, ...Object.entries(theme.palette).filter(createSimplePaletteValueFilter(["dark"])).map(([color2]) => {
      return {
        props: {
          color: color2,
          onDelete: true
        },
        style: {
          [`&.${chipClasses_default.focusVisible}`]: {
            background: (theme.vars || theme).palette[color2].dark
          }
        }
      };
    }), {
      props: {
        clickable: true
      },
      style: {
        userSelect: "none",
        WebkitTapHighlightColor: "transparent",
        cursor: "pointer",
        "&:hover": {
          backgroundColor: theme.alpha((theme.vars || theme).palette.action.selected, `${(theme.vars || theme).palette.action.selectedOpacity} + ${(theme.vars || theme).palette.action.hoverOpacity}`)
        },
        [`&.${chipClasses_default.focusVisible}`]: {
          backgroundColor: theme.alpha((theme.vars || theme).palette.action.selected, `${(theme.vars || theme).palette.action.selectedOpacity} + ${(theme.vars || theme).palette.action.focusOpacity}`)
        },
        "&:active": {
          boxShadow: (theme.vars || theme).shadows[1]
        }
      }
    }, ...Object.entries(theme.palette).filter(createSimplePaletteValueFilter(["dark"])).map(([color2]) => ({
      props: {
        color: color2,
        clickable: true
      },
      style: {
        [`&:hover, &.${chipClasses_default.focusVisible}`]: {
          backgroundColor: (theme.vars || theme).palette[color2].dark
        }
      }
    })), {
      props: {
        variant: "outlined"
      },
      style: {
        backgroundColor: "transparent",
        border: theme.vars ? `1px solid ${theme.vars.palette.Chip.defaultBorder}` : `1px solid ${theme.palette.mode === "light" ? theme.palette.grey[400] : theme.palette.grey[700]}`,
        [`&.${chipClasses_default.clickable}:hover`]: {
          backgroundColor: (theme.vars || theme).palette.action.hover
        },
        [`&.${chipClasses_default.focusVisible}`]: {
          backgroundColor: (theme.vars || theme).palette.action.focus
        },
        [`& .${chipClasses_default.avatar}`]: {
          marginLeft: 4
        },
        [`& .${chipClasses_default.avatarSmall}`]: {
          marginLeft: 2
        },
        [`& .${chipClasses_default.icon}`]: {
          marginLeft: 4
        },
        [`& .${chipClasses_default.iconSmall}`]: {
          marginLeft: 2
        },
        [`& .${chipClasses_default.deleteIcon}`]: {
          marginRight: 5
        },
        [`& .${chipClasses_default.deleteIconSmall}`]: {
          marginRight: 3
        }
      }
    }, ...Object.entries(theme.palette).filter(createSimplePaletteValueFilter()).map(([color2]) => ({
      props: {
        variant: "outlined",
        color: color2
      },
      style: {
        color: (theme.vars || theme).palette[color2].main,
        border: `1px solid ${theme.alpha((theme.vars || theme).palette[color2].main, 0.7)}`,
        [`&.${chipClasses_default.clickable}:hover`]: {
          backgroundColor: theme.alpha((theme.vars || theme).palette[color2].main, (theme.vars || theme).palette.action.hoverOpacity)
        },
        [`&.${chipClasses_default.focusVisible}`]: {
          backgroundColor: theme.alpha((theme.vars || theme).palette[color2].main, (theme.vars || theme).palette.action.focusOpacity)
        },
        [`& .${chipClasses_default.deleteIcon}`]: {
          color: theme.alpha((theme.vars || theme).palette[color2].main, 0.7),
          "&:hover, &:active": {
            color: (theme.vars || theme).palette[color2].main
          }
        }
      }
    }))]
  };
}));
var ChipLabel = styled_default2("span", {
  name: "MuiChip",
  slot: "Label",
  overridesResolver: (props, styles) => {
    const {
      ownerState
    } = props;
    const {
      size
    } = ownerState;
    return [styles.label, styles[`label${capitalize_default(size)}`]];
  }
})({
  overflow: "hidden",
  textOverflow: "ellipsis",
  paddingLeft: 12,
  paddingRight: 12,
  whiteSpace: "nowrap",
  variants: [{
    props: {
      variant: "outlined"
    },
    style: {
      paddingLeft: 11,
      paddingRight: 11
    }
  }, {
    props: {
      size: "small"
    },
    style: {
      paddingLeft: 8,
      paddingRight: 8
    }
  }, {
    props: {
      size: "small",
      variant: "outlined"
    },
    style: {
      paddingLeft: 7,
      paddingRight: 7
    }
  }]
});
function isDeleteKeyboardEvent(keyboardEvent) {
  return keyboardEvent.key === "Backspace" || keyboardEvent.key === "Delete";
}
var Chip = /* @__PURE__ */ React71.forwardRef(function Chip2(inProps, ref) {
  const props = useDefaultProps2({
    props: inProps,
    name: "MuiChip"
  });
  const {
    avatar: avatarProp,
    className,
    clickable: clickableProp,
    color: color2 = "default",
    component: ComponentProp,
    deleteIcon: deleteIconProp,
    disabled = false,
    icon: iconProp,
    label,
    onClick,
    onDelete,
    onKeyDown,
    onKeyUp,
    size = "medium",
    variant = "filled",
    tabIndex,
    skipFocusWhenDisabled = false,
    slots = {},
    slotProps = {},
    ...other
  } = props;
  const chipRef = React71.useRef(null);
  const handleRef = useForkRef_default(chipRef, ref);
  const handleDeleteIconClick = (event) => {
    event.stopPropagation();
    if (onDelete) {
      onDelete(event);
    }
  };
  const handleKeyDown = (event) => {
    if (event.currentTarget === event.target && isDeleteKeyboardEvent(event)) {
      event.preventDefault();
    }
    if (onKeyDown) {
      onKeyDown(event);
    }
  };
  const handleKeyUp = (event) => {
    if (event.currentTarget === event.target) {
      if (onDelete && isDeleteKeyboardEvent(event)) {
        onDelete(event);
      }
    }
    if (onKeyUp) {
      onKeyUp(event);
    }
  };
  const clickable = clickableProp !== false && onClick ? true : clickableProp;
  const component = clickable || onDelete ? ButtonBase_default : ComponentProp || "div";
  const ownerState = {
    ...props,
    component,
    disabled,
    size,
    color: color2,
    iconColor: /* @__PURE__ */ React71.isValidElement(iconProp) ? iconProp.props.color || color2 : color2,
    onDelete: !!onDelete,
    clickable,
    variant
  };
  const classes = useUtilityClasses12(ownerState);
  const moreProps = component === ButtonBase_default ? {
    component: ComponentProp || "div",
    focusVisibleClassName: classes.focusVisible,
    ...onDelete && {
      disableRipple: true
    }
  } : {};
  let deleteIcon = null;
  if (onDelete) {
    deleteIcon = deleteIconProp && /* @__PURE__ */ React71.isValidElement(deleteIconProp) ? /* @__PURE__ */ React71.cloneElement(deleteIconProp, {
      className: clsx_default(deleteIconProp.props.className, classes.deleteIcon),
      onClick: handleDeleteIconClick
    }) : /* @__PURE__ */ import_jsx_runtime36.jsx(Cancel_default, {
      className: classes.deleteIcon,
      onClick: handleDeleteIconClick
    });
  }
  let avatar = null;
  if (avatarProp && /* @__PURE__ */ React71.isValidElement(avatarProp)) {
    avatar = /* @__PURE__ */ React71.cloneElement(avatarProp, {
      className: clsx_default(classes.avatar, avatarProp.props.className)
    });
  }
  let icon = null;
  if (iconProp && /* @__PURE__ */ React71.isValidElement(iconProp)) {
    icon = /* @__PURE__ */ React71.cloneElement(iconProp, {
      className: clsx_default(classes.icon, iconProp.props.className)
    });
  }
  if (true) {
    if (avatar && icon) {
      console.error("MUI: The Chip component can not handle the avatar " + "and the icon prop at the same time. Pick one.");
    }
  }
  const externalForwardedProps = {
    slots,
    slotProps
  };
  const [RootSlot, rootProps] = useSlot("root", {
    elementType: ChipRoot,
    externalForwardedProps: {
      ...externalForwardedProps,
      ...other
    },
    ownerState,
    shouldForwardComponentProp: true,
    ref: handleRef,
    className: clsx_default(classes.root, className),
    additionalProps: {
      disabled: clickable && disabled ? true : undefined,
      tabIndex: skipFocusWhenDisabled && disabled ? -1 : tabIndex,
      ...moreProps
    },
    getSlotProps: (handlers) => ({
      ...handlers,
      onClick: (event) => {
        handlers.onClick?.(event);
        onClick?.(event);
      },
      onKeyDown: (event) => {
        handlers.onKeyDown?.(event);
        handleKeyDown(event);
      },
      onKeyUp: (event) => {
        handlers.onKeyUp?.(event);
        handleKeyUp(event);
      }
    })
  });
  const [LabelSlot, labelProps] = useSlot("label", {
    elementType: ChipLabel,
    externalForwardedProps,
    ownerState,
    className: classes.label
  });
  return /* @__PURE__ */ import_jsx_runtime36.jsxs(RootSlot, {
    as: component,
    ...rootProps,
    children: [avatar || icon, /* @__PURE__ */ import_jsx_runtime36.jsx(LabelSlot, {
      ...labelProps,
      children: label
    }), deleteIcon]
  });
});
Chip.propTypes = {
  avatar: import_prop_types38.default.element,
  children: unsupportedProp_default,
  classes: import_prop_types38.default.object,
  className: import_prop_types38.default.string,
  clickable: import_prop_types38.default.bool,
  color: import_prop_types38.default.oneOfType([import_prop_types38.default.oneOf(["default", "primary", "secondary", "error", "info", "success", "warning"]), import_prop_types38.default.string]),
  component: import_prop_types38.default.elementType,
  deleteIcon: import_prop_types38.default.element,
  disabled: import_prop_types38.default.bool,
  icon: import_prop_types38.default.element,
  label: import_prop_types38.default.node,
  onClick: import_prop_types38.default.func,
  onDelete: import_prop_types38.default.func,
  onKeyDown: import_prop_types38.default.func,
  onKeyUp: import_prop_types38.default.func,
  size: import_prop_types38.default.oneOfType([import_prop_types38.default.oneOf(["medium", "small"]), import_prop_types38.default.string]),
  skipFocusWhenDisabled: import_prop_types38.default.bool,
  slotProps: import_prop_types38.default.shape({
    label: import_prop_types38.default.oneOfType([import_prop_types38.default.func, import_prop_types38.default.object]),
    root: import_prop_types38.default.oneOfType([import_prop_types38.default.func, import_prop_types38.default.object])
  }),
  slots: import_prop_types38.default.shape({
    label: import_prop_types38.default.elementType,
    root: import_prop_types38.default.elementType
  }),
  sx: import_prop_types38.default.oneOfType([import_prop_types38.default.arrayOf(import_prop_types38.default.oneOfType([import_prop_types38.default.func, import_prop_types38.default.object, import_prop_types38.default.bool])), import_prop_types38.default.func, import_prop_types38.default.object]),
  tabIndex: import_prop_types38.default.number,
  variant: import_prop_types38.default.oneOfType([import_prop_types38.default.oneOf(["filled", "outlined"]), import_prop_types38.default.string])
};
var Chip_default = Chip;
// node_modules/@mui/material/esm/FormControl/FormControlContext.js
var React72 = __toESM(require_react(), 1);
"use client";
var FormControlContext = /* @__PURE__ */ React72.createContext(undefined);
if (true) {
  FormControlContext.displayName = "FormControlContext";
}
var FormControlContext_default = FormControlContext;

// node_modules/@mui/material/esm/FormControl/useFormControl.js
var React73 = __toESM(require_react(), 1);
"use client";
function useFormControl() {
  return React73.useContext(FormControlContext_default);
}
// node_modules/@mui/material/esm/Avatar/Avatar.js
var React74 = __toESM(require_react(), 1);
var import_prop_types39 = __toESM(require_prop_types(), 1);

// node_modules/@mui/material/esm/internal/svg-icons/Person.js
var import_jsx_runtime37 = __toESM(require_jsx_runtime(), 1);
"use client";
var Person_default = createSvgIcon(/* @__PURE__ */ import_jsx_runtime37.jsx("path", {
  d: "M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"
}), "Person");

// node_modules/@mui/material/esm/Avatar/avatarClasses.js
function getAvatarUtilityClass(slot) {
  return generateUtilityClass("MuiAvatar", slot);
}
var avatarClasses = generateUtilityClasses("MuiAvatar", ["root", "colorDefault", "circular", "rounded", "square", "img", "fallback"]);

// node_modules/@mui/material/esm/Avatar/Avatar.js
var import_jsx_runtime38 = __toESM(require_jsx_runtime(), 1);
"use client";
var useUtilityClasses13 = (ownerState) => {
  const {
    classes,
    variant,
    colorDefault
  } = ownerState;
  const slots = {
    root: ["root", variant, colorDefault && "colorDefault"],
    img: ["img"],
    fallback: ["fallback"]
  };
  return composeClasses(slots, getAvatarUtilityClass, classes);
};
var AvatarRoot = styled_default2("div", {
  name: "MuiAvatar",
  slot: "Root",
  overridesResolver: (props, styles) => {
    const {
      ownerState
    } = props;
    return [styles.root, styles[ownerState.variant], ownerState.colorDefault && styles.colorDefault];
  }
})(memoTheme_default(({
  theme
}) => ({
  position: "relative",
  display: "flex",
  alignItems: "center",
  justifyContent: "center",
  flexShrink: 0,
  width: 40,
  height: 40,
  fontFamily: theme.typography.fontFamily,
  fontSize: theme.typography.pxToRem(20),
  lineHeight: 1,
  borderRadius: "50%",
  overflow: "hidden",
  userSelect: "none",
  variants: [{
    props: {
      variant: "rounded"
    },
    style: {
      borderRadius: (theme.vars || theme).shape.borderRadius
    }
  }, {
    props: {
      variant: "square"
    },
    style: {
      borderRadius: 0
    }
  }, {
    props: {
      colorDefault: true
    },
    style: {
      color: (theme.vars || theme).palette.background.default,
      ...theme.vars ? {
        backgroundColor: theme.vars.palette.Avatar.defaultBg
      } : {
        backgroundColor: theme.palette.grey[400],
        ...theme.applyStyles("dark", {
          backgroundColor: theme.palette.grey[600]
        })
      }
    }
  }]
})));
var AvatarImg = styled_default2("img", {
  name: "MuiAvatar",
  slot: "Img"
})({
  width: "100%",
  height: "100%",
  textAlign: "center",
  objectFit: "cover",
  color: "transparent",
  textIndent: 1e4
});
var AvatarFallback = styled_default2(Person_default, {
  name: "MuiAvatar",
  slot: "Fallback"
})({
  width: "75%",
  height: "75%"
});
function useLoaded({
  crossOrigin,
  referrerPolicy,
  src,
  srcSet
}) {
  const [loaded, setLoaded] = React74.useState(false);
  React74.useEffect(() => {
    if (!src && !srcSet) {
      return;
    }
    setLoaded(false);
    let active = true;
    const image = new Image;
    image.onload = () => {
      if (!active) {
        return;
      }
      setLoaded("loaded");
    };
    image.onerror = () => {
      if (!active) {
        return;
      }
      setLoaded("error");
    };
    image.crossOrigin = crossOrigin;
    image.referrerPolicy = referrerPolicy;
    image.src = src;
    if (srcSet) {
      image.srcset = srcSet;
    }
    return () => {
      active = false;
    };
  }, [crossOrigin, referrerPolicy, src, srcSet]);
  return loaded;
}
var Avatar = /* @__PURE__ */ React74.forwardRef(function Avatar2(inProps, ref) {
  const props = useDefaultProps2({
    props: inProps,
    name: "MuiAvatar"
  });
  const {
    alt,
    children: childrenProp,
    className,
    component = "div",
    slots = {},
    slotProps = {},
    imgProps,
    sizes,
    src,
    srcSet,
    variant = "circular",
    ...other
  } = props;
  let children = null;
  const ownerState = {
    ...props,
    component,
    variant
  };
  const loaded = useLoaded({
    ...imgProps,
    ...typeof slotProps.img === "function" ? slotProps.img(ownerState) : slotProps.img,
    src,
    srcSet
  });
  const hasImg = src || srcSet;
  const hasImgNotFailing = hasImg && loaded !== "error";
  ownerState.colorDefault = !hasImgNotFailing;
  delete ownerState.ownerState;
  const classes = useUtilityClasses13(ownerState);
  const [RootSlot, rootSlotProps] = useSlot("root", {
    ref,
    className: clsx_default(classes.root, className),
    elementType: AvatarRoot,
    externalForwardedProps: {
      slots,
      slotProps,
      component,
      ...other
    },
    ownerState
  });
  const [ImgSlot, imgSlotProps] = useSlot("img", {
    className: classes.img,
    elementType: AvatarImg,
    externalForwardedProps: {
      slots,
      slotProps: {
        img: {
          ...imgProps,
          ...slotProps.img
        }
      }
    },
    additionalProps: {
      alt,
      src,
      srcSet,
      sizes
    },
    ownerState
  });
  const [FallbackSlot, fallbackSlotProps] = useSlot("fallback", {
    className: classes.fallback,
    elementType: AvatarFallback,
    externalForwardedProps: {
      slots,
      slotProps
    },
    shouldForwardComponentProp: true,
    ownerState
  });
  if (hasImgNotFailing) {
    children = /* @__PURE__ */ import_jsx_runtime38.jsx(ImgSlot, {
      ...imgSlotProps
    });
  } else if (!!childrenProp || childrenProp === 0) {
    children = childrenProp;
  } else if (hasImg && alt) {
    children = alt[0];
  } else {
    children = /* @__PURE__ */ import_jsx_runtime38.jsx(FallbackSlot, {
      ...fallbackSlotProps
    });
  }
  return /* @__PURE__ */ import_jsx_runtime38.jsx(RootSlot, {
    ...rootSlotProps,
    children
  });
});
Avatar.propTypes = {
  alt: import_prop_types39.default.string,
  children: import_prop_types39.default.node,
  classes: import_prop_types39.default.object,
  className: import_prop_types39.default.string,
  component: import_prop_types39.default.elementType,
  imgProps: import_prop_types39.default.object,
  sizes: import_prop_types39.default.string,
  slotProps: import_prop_types39.default.shape({
    fallback: import_prop_types39.default.oneOfType([import_prop_types39.default.func, import_prop_types39.default.object]),
    img: import_prop_types39.default.oneOfType([import_prop_types39.default.func, import_prop_types39.default.object]),
    root: import_prop_types39.default.oneOfType([import_prop_types39.default.func, import_prop_types39.default.object])
  }),
  slots: import_prop_types39.default.shape({
    fallback: import_prop_types39.default.elementType,
    img: import_prop_types39.default.elementType,
    root: import_prop_types39.default.elementType
  }),
  src: import_prop_types39.default.string,
  srcSet: import_prop_types39.default.string,
  sx: import_prop_types39.default.oneOfType([import_prop_types39.default.arrayOf(import_prop_types39.default.oneOfType([import_prop_types39.default.func, import_prop_types39.default.object, import_prop_types39.default.bool])), import_prop_types39.default.func, import_prop_types39.default.object]),
  variant: import_prop_types39.default.oneOfType([import_prop_types39.default.oneOf(["circular", "rounded", "square"]), import_prop_types39.default.string])
};
var Avatar_default = Avatar;
// node_modules/@mui/material/esm/Backdrop/Backdrop.js
var React76 = __toESM(require_react(), 1);
var import_prop_types42 = __toESM(require_prop_types(), 1);

// node_modules/@mui/material/esm/Fade/Fade.js
var React75 = __toESM(require_react(), 1);
var import_prop_types41 = __toESM(require_prop_types(), 1);

// node_modules/@mui/utils/esm/elementAcceptingRef/elementAcceptingRef.js
var import_prop_types40 = __toESM(require_prop_types(), 1);
function isClassComponent2(elementType) {
  const {
    prototype = {}
  } = elementType;
  return Boolean(prototype.isReactComponent);
}
function acceptingRef(props, propName, componentName, location2, propFullName) {
  const element = props[propName];
  const safePropName = propFullName || propName;
  if (element == null || typeof window === "undefined") {
    return null;
  }
  let warningHint;
  const elementType = element.type;
  if (typeof elementType === "function" && !isClassComponent2(elementType)) {
    warningHint = "Did you accidentally use a plain function component for an element instead?";
  }
  if (warningHint !== undefined) {
    return new Error(`Invalid ${location2} \`${safePropName}\` supplied to \`${componentName}\`. ` + `Expected an element that can hold a ref. ${warningHint} ` + "For more information see https://mui.com/r/caveat-with-refs-guide");
  }
  return null;
}
var elementAcceptingRef = chainPropTypes(import_prop_types40.default.element, acceptingRef);
elementAcceptingRef.isRequired = chainPropTypes(import_prop_types40.default.element.isRequired, acceptingRef);
var elementAcceptingRef_default = elementAcceptingRef;
// node_modules/@mui/material/esm/Fade/Fade.js
var import_jsx_runtime39 = __toESM(require_jsx_runtime(), 1);
"use client";
var styles = {
  entering: {
    opacity: 1
  },
  entered: {
    opacity: 1
  }
};
var Fade = /* @__PURE__ */ React75.forwardRef(function Fade2(props, ref) {
  const theme = useTheme6();
  const defaultTimeout = {
    enter: theme.transitions.duration.enteringScreen,
    exit: theme.transitions.duration.leavingScreen
  };
  const {
    addEndListener,
    appear = true,
    children,
    easing: easing2,
    in: inProp,
    onEnter,
    onEntered,
    onEntering,
    onExit,
    onExited,
    onExiting,
    style: style5,
    timeout: timeout2 = defaultTimeout,
    TransitionComponent = Transition_default,
    ...other
  } = props;
  const enableStrictModeCompat = true;
  const nodeRef = React75.useRef(null);
  const handleRef = useForkRef_default(nodeRef, getReactElementRef(children), ref);
  const normalizedTransitionCallback = (callback) => (maybeIsAppearing) => {
    if (callback) {
      const node2 = nodeRef.current;
      if (maybeIsAppearing === undefined) {
        callback(node2);
      } else {
        callback(node2, maybeIsAppearing);
      }
    }
  };
  const handleEntering = normalizedTransitionCallback(onEntering);
  const handleEnter = normalizedTransitionCallback((node2, isAppearing) => {
    reflow(node2);
    const transitionProps = getTransitionProps({
      style: style5,
      timeout: timeout2,
      easing: easing2
    }, {
      mode: "enter"
    });
    node2.style.webkitTransition = theme.transitions.create("opacity", transitionProps);
    node2.style.transition = theme.transitions.create("opacity", transitionProps);
    if (onEnter) {
      onEnter(node2, isAppearing);
    }
  });
  const handleEntered = normalizedTransitionCallback(onEntered);
  const handleExiting = normalizedTransitionCallback(onExiting);
  const handleExit = normalizedTransitionCallback((node2) => {
    const transitionProps = getTransitionProps({
      style: style5,
      timeout: timeout2,
      easing: easing2
    }, {
      mode: "exit"
    });
    node2.style.webkitTransition = theme.transitions.create("opacity", transitionProps);
    node2.style.transition = theme.transitions.create("opacity", transitionProps);
    if (onExit) {
      onExit(node2);
    }
  });
  const handleExited = normalizedTransitionCallback(onExited);
  const handleAddEndListener = (next2) => {
    if (addEndListener) {
      addEndListener(nodeRef.current, next2);
    }
  };
  return /* @__PURE__ */ import_jsx_runtime39.jsx(TransitionComponent, {
    appear,
    in: inProp,
    nodeRef: enableStrictModeCompat ? nodeRef : undefined,
    onEnter: handleEnter,
    onEntered: handleEntered,
    onEntering: handleEntering,
    onExit: handleExit,
    onExited: handleExited,
    onExiting: handleExiting,
    addEndListener: handleAddEndListener,
    timeout: timeout2,
    ...other,
    children: (state, {
      ownerState,
      ...restChildProps
    }) => {
      return /* @__PURE__ */ React75.cloneElement(children, {
        style: {
          opacity: 0,
          visibility: state === "exited" && !inProp ? "hidden" : undefined,
          ...styles[state],
          ...style5,
          ...children.props.style
        },
        ref: handleRef,
        ...restChildProps
      });
    }
  });
});
Fade.propTypes = {
  addEndListener: import_prop_types41.default.func,
  appear: import_prop_types41.default.bool,
  children: elementAcceptingRef_default.isRequired,
  easing: import_prop_types41.default.oneOfType([import_prop_types41.default.shape({
    enter: import_prop_types41.default.string,
    exit: import_prop_types41.default.string
  }), import_prop_types41.default.string]),
  in: import_prop_types41.default.bool,
  onEnter: import_prop_types41.default.func,
  onEntered: import_prop_types41.default.func,
  onEntering: import_prop_types41.default.func,
  onExit: import_prop_types41.default.func,
  onExited: import_prop_types41.default.func,
  onExiting: import_prop_types41.default.func,
  style: import_prop_types41.default.object,
  timeout: import_prop_types41.default.oneOfType([import_prop_types41.default.number, import_prop_types41.default.shape({
    appear: import_prop_types41.default.number,
    enter: import_prop_types41.default.number,
    exit: import_prop_types41.default.number
  })])
};
var Fade_default = Fade;
// node_modules/@mui/material/esm/Backdrop/backdropClasses.js
function getBackdropUtilityClass(slot) {
  return generateUtilityClass("MuiBackdrop", slot);
}
var backdropClasses = generateUtilityClasses("MuiBackdrop", ["root", "invisible"]);

// node_modules/@mui/material/esm/Backdrop/Backdrop.js
var import_jsx_runtime40 = __toESM(require_jsx_runtime(), 1);
"use client";
var useUtilityClasses14 = (ownerState) => {
  const {
    classes,
    invisible
  } = ownerState;
  const slots = {
    root: ["root", invisible && "invisible"]
  };
  return composeClasses(slots, getBackdropUtilityClass, classes);
};
var BackdropRoot = styled_default2("div", {
  name: "MuiBackdrop",
  slot: "Root",
  overridesResolver: (props, styles2) => {
    const {
      ownerState
    } = props;
    return [styles2.root, ownerState.invisible && styles2.invisible];
  }
})({
  position: "fixed",
  display: "flex",
  alignItems: "center",
  justifyContent: "center",
  right: 0,
  bottom: 0,
  top: 0,
  left: 0,
  backgroundColor: "rgba(0, 0, 0, 0.5)",
  WebkitTapHighlightColor: "transparent",
  variants: [{
    props: {
      invisible: true
    },
    style: {
      backgroundColor: "transparent"
    }
  }]
});
var Backdrop = /* @__PURE__ */ React76.forwardRef(function Backdrop2(inProps, ref) {
  const props = useDefaultProps2({
    props: inProps,
    name: "MuiBackdrop"
  });
  const {
    children,
    className,
    component = "div",
    invisible = false,
    open,
    components = {},
    componentsProps = {},
    slotProps = {},
    slots = {},
    TransitionComponent: TransitionComponentProp,
    transitionDuration,
    ...other
  } = props;
  const ownerState = {
    ...props,
    component,
    invisible
  };
  const classes = useUtilityClasses14(ownerState);
  const backwardCompatibleSlots = {
    transition: TransitionComponentProp,
    root: components.Root,
    ...slots
  };
  const backwardCompatibleSlotProps = {
    ...componentsProps,
    ...slotProps
  };
  const externalForwardedProps = {
    component,
    slots: backwardCompatibleSlots,
    slotProps: backwardCompatibleSlotProps
  };
  const [RootSlot, rootProps] = useSlot("root", {
    elementType: BackdropRoot,
    externalForwardedProps,
    className: clsx_default(classes.root, className),
    ownerState
  });
  const [TransitionSlot, transitionProps] = useSlot("transition", {
    elementType: Fade_default,
    externalForwardedProps,
    ownerState
  });
  return /* @__PURE__ */ import_jsx_runtime40.jsx(TransitionSlot, {
    in: open,
    timeout: transitionDuration,
    ...other,
    ...transitionProps,
    children: /* @__PURE__ */ import_jsx_runtime40.jsx(RootSlot, {
      "aria-hidden": true,
      ...rootProps,
      classes,
      ref,
      children
    })
  });
});
Backdrop.propTypes = {
  children: import_prop_types42.default.node,
  classes: import_prop_types42.default.object,
  className: import_prop_types42.default.string,
  component: import_prop_types42.default.elementType,
  components: import_prop_types42.default.shape({
    Root: import_prop_types42.default.elementType
  }),
  componentsProps: import_prop_types42.default.shape({
    root: import_prop_types42.default.object
  }),
  invisible: import_prop_types42.default.bool,
  open: import_prop_types42.default.bool.isRequired,
  slotProps: import_prop_types42.default.shape({
    root: import_prop_types42.default.oneOfType([import_prop_types42.default.func, import_prop_types42.default.object]),
    transition: import_prop_types42.default.oneOfType([import_prop_types42.default.func, import_prop_types42.default.object])
  }),
  slots: import_prop_types42.default.shape({
    root: import_prop_types42.default.elementType,
    transition: import_prop_types42.default.elementType
  }),
  sx: import_prop_types42.default.oneOfType([import_prop_types42.default.arrayOf(import_prop_types42.default.oneOfType([import_prop_types42.default.func, import_prop_types42.default.object, import_prop_types42.default.bool])), import_prop_types42.default.func, import_prop_types42.default.object]),
  TransitionComponent: import_prop_types42.default.elementType,
  transitionDuration: import_prop_types42.default.oneOfType([import_prop_types42.default.number, import_prop_types42.default.shape({
    appear: import_prop_types42.default.number,
    enter: import_prop_types42.default.number,
    exit: import_prop_types42.default.number
  })])
};
var Backdrop_default = Backdrop;
// node_modules/@mui/material/esm/Card/Card.js
var React77 = __toESM(require_react(), 1);
var import_prop_types43 = __toESM(require_prop_types(), 1);

// node_modules/@mui/material/esm/Card/cardClasses.js
function getCardUtilityClass(slot) {
  return generateUtilityClass("MuiCard", slot);
}
var cardClasses = generateUtilityClasses("MuiCard", ["root"]);

// node_modules/@mui/material/esm/Card/Card.js
var import_jsx_runtime41 = __toESM(require_jsx_runtime(), 1);
"use client";
var useUtilityClasses15 = (ownerState) => {
  const {
    classes
  } = ownerState;
  const slots = {
    root: ["root"]
  };
  return composeClasses(slots, getCardUtilityClass, classes);
};
var CardRoot = styled_default2(Paper_default, {
  name: "MuiCard",
  slot: "Root"
})({
  overflow: "hidden"
});
var Card = /* @__PURE__ */ React77.forwardRef(function Card2(inProps, ref) {
  const props = useDefaultProps2({
    props: inProps,
    name: "MuiCard"
  });
  const {
    className,
    raised = false,
    ...other
  } = props;
  const ownerState = {
    ...props,
    raised
  };
  const classes = useUtilityClasses15(ownerState);
  return /* @__PURE__ */ import_jsx_runtime41.jsx(CardRoot, {
    className: clsx_default(classes.root, className),
    elevation: raised ? 8 : undefined,
    ref,
    ownerState,
    ...other
  });
});
Card.propTypes = {
  children: import_prop_types43.default.node,
  classes: import_prop_types43.default.object,
  className: import_prop_types43.default.string,
  raised: chainPropTypes(import_prop_types43.default.bool, (props) => {
    if (props.raised && props.variant === "outlined") {
      return new Error('MUI: Combining `raised={true}` with `variant="outlined"` has no effect.');
    }
    return null;
  }),
  sx: import_prop_types43.default.oneOfType([import_prop_types43.default.arrayOf(import_prop_types43.default.oneOfType([import_prop_types43.default.func, import_prop_types43.default.object, import_prop_types43.default.bool])), import_prop_types43.default.func, import_prop_types43.default.object])
};
var Card_default = Card;
// node_modules/@mui/material/esm/CardActions/CardActions.js
var React78 = __toESM(require_react(), 1);
var import_prop_types44 = __toESM(require_prop_types(), 1);

// node_modules/@mui/material/esm/CardActions/cardActionsClasses.js
function getCardActionsUtilityClass(slot) {
  return generateUtilityClass("MuiCardActions", slot);
}
var cardActionsClasses = generateUtilityClasses("MuiCardActions", ["root", "spacing"]);

// node_modules/@mui/material/esm/CardActions/CardActions.js
var import_jsx_runtime42 = __toESM(require_jsx_runtime(), 1);
"use client";
var useUtilityClasses16 = (ownerState) => {
  const {
    classes,
    disableSpacing
  } = ownerState;
  const slots = {
    root: ["root", !disableSpacing && "spacing"]
  };
  return composeClasses(slots, getCardActionsUtilityClass, classes);
};
var CardActionsRoot = styled_default2("div", {
  name: "MuiCardActions",
  slot: "Root",
  overridesResolver: (props, styles2) => {
    const {
      ownerState
    } = props;
    return [styles2.root, !ownerState.disableSpacing && styles2.spacing];
  }
})({
  display: "flex",
  alignItems: "center",
  padding: 8,
  variants: [{
    props: {
      disableSpacing: false
    },
    style: {
      "& > :not(style) ~ :not(style)": {
        marginLeft: 8
      }
    }
  }]
});
var CardActions = /* @__PURE__ */ React78.forwardRef(function CardActions2(inProps, ref) {
  const props = useDefaultProps2({
    props: inProps,
    name: "MuiCardActions"
  });
  const {
    disableSpacing = false,
    className,
    ...other
  } = props;
  const ownerState = {
    ...props,
    disableSpacing
  };
  const classes = useUtilityClasses16(ownerState);
  return /* @__PURE__ */ import_jsx_runtime42.jsx(CardActionsRoot, {
    className: clsx_default(classes.root, className),
    ownerState,
    ref,
    ...other
  });
});
CardActions.propTypes = {
  children: import_prop_types44.default.node,
  classes: import_prop_types44.default.object,
  className: import_prop_types44.default.string,
  disableSpacing: import_prop_types44.default.bool,
  sx: import_prop_types44.default.oneOfType([import_prop_types44.default.arrayOf(import_prop_types44.default.oneOfType([import_prop_types44.default.func, import_prop_types44.default.object, import_prop_types44.default.bool])), import_prop_types44.default.func, import_prop_types44.default.object])
};
var CardActions_default = CardActions;
// node_modules/@mui/material/esm/CardContent/CardContent.js
var React79 = __toESM(require_react(), 1);
var import_prop_types45 = __toESM(require_prop_types(), 1);

// node_modules/@mui/material/esm/CardContent/cardContentClasses.js
function getCardContentUtilityClass(slot) {
  return generateUtilityClass("MuiCardContent", slot);
}
var cardContentClasses = generateUtilityClasses("MuiCardContent", ["root"]);

// node_modules/@mui/material/esm/CardContent/CardContent.js
var import_jsx_runtime43 = __toESM(require_jsx_runtime(), 1);
"use client";
var useUtilityClasses17 = (ownerState) => {
  const {
    classes
  } = ownerState;
  const slots = {
    root: ["root"]
  };
  return composeClasses(slots, getCardContentUtilityClass, classes);
};
var CardContentRoot = styled_default2("div", {
  name: "MuiCardContent",
  slot: "Root"
})({
  padding: 16,
  "&:last-child": {
    paddingBottom: 24
  }
});
var CardContent = /* @__PURE__ */ React79.forwardRef(function CardContent2(inProps, ref) {
  const props = useDefaultProps2({
    props: inProps,
    name: "MuiCardContent"
  });
  const {
    className,
    component = "div",
    ...other
  } = props;
  const ownerState = {
    ...props,
    component
  };
  const classes = useUtilityClasses17(ownerState);
  return /* @__PURE__ */ import_jsx_runtime43.jsx(CardContentRoot, {
    as: component,
    className: clsx_default(classes.root, className),
    ownerState,
    ref,
    ...other
  });
});
CardContent.propTypes = {
  children: import_prop_types45.default.node,
  classes: import_prop_types45.default.object,
  className: import_prop_types45.default.string,
  component: import_prop_types45.default.elementType,
  sx: import_prop_types45.default.oneOfType([import_prop_types45.default.arrayOf(import_prop_types45.default.oneOfType([import_prop_types45.default.func, import_prop_types45.default.object, import_prop_types45.default.bool])), import_prop_types45.default.func, import_prop_types45.default.object])
};
var CardContent_default = CardContent;
// node_modules/@mui/material/esm/internal/SwitchBase.js
var React80 = __toESM(require_react(), 1);
var import_prop_types46 = __toESM(require_prop_types(), 1);

// node_modules/@mui/material/esm/internal/switchBaseClasses.js
function getSwitchBaseUtilityClass(slot) {
  return generateUtilityClass("PrivateSwitchBase", slot);
}
var switchBaseClasses = generateUtilityClasses("PrivateSwitchBase", ["root", "checked", "disabled", "input", "edgeStart", "edgeEnd"]);

// node_modules/@mui/material/esm/internal/SwitchBase.js
var import_jsx_runtime44 = __toESM(require_jsx_runtime(), 1);
"use client";
var useUtilityClasses18 = (ownerState) => {
  const {
    classes,
    checked,
    disabled,
    edge
  } = ownerState;
  const slots = {
    root: ["root", checked && "checked", disabled && "disabled", edge && `edge${capitalize_default(edge)}`],
    input: ["input"]
  };
  return composeClasses(slots, getSwitchBaseUtilityClass, classes);
};
var SwitchBaseRoot = styled_default2(ButtonBase_default, {
  name: "MuiSwitchBase"
})({
  padding: 9,
  borderRadius: "50%",
  variants: [{
    props: {
      edge: "start",
      size: "small"
    },
    style: {
      marginLeft: -3
    }
  }, {
    props: ({
      edge,
      ownerState
    }) => edge === "start" && ownerState.size !== "small",
    style: {
      marginLeft: -12
    }
  }, {
    props: {
      edge: "end",
      size: "small"
    },
    style: {
      marginRight: -3
    }
  }, {
    props: ({
      edge,
      ownerState
    }) => edge === "end" && ownerState.size !== "small",
    style: {
      marginRight: -12
    }
  }]
});
var SwitchBaseInput = styled_default2("input", {
  name: "MuiSwitchBase",
  shouldForwardProp: rootShouldForwardProp_default
})({
  cursor: "inherit",
  position: "absolute",
  opacity: 0,
  width: "100%",
  height: "100%",
  top: 0,
  left: 0,
  margin: 0,
  padding: 0,
  zIndex: 1
});
var SwitchBase = /* @__PURE__ */ React80.forwardRef(function SwitchBase2(props, ref) {
  const {
    autoFocus,
    checked: checkedProp,
    checkedIcon,
    defaultChecked,
    disabled: disabledProp,
    disableFocusRipple = false,
    edge = false,
    icon,
    id,
    inputProps,
    inputRef,
    name,
    onBlur,
    onChange,
    onFocus,
    readOnly,
    required = false,
    tabIndex,
    type,
    value,
    slots = {},
    slotProps = {},
    ...other
  } = props;
  const [checked, setCheckedState] = useControlled_default({
    controlled: checkedProp,
    default: Boolean(defaultChecked),
    name: "SwitchBase",
    state: "checked"
  });
  const muiFormControl = useFormControl();
  const handleFocus = (event) => {
    if (onFocus) {
      onFocus(event);
    }
    if (muiFormControl && muiFormControl.onFocus) {
      muiFormControl.onFocus(event);
    }
  };
  const handleBlur = (event) => {
    if (onBlur) {
      onBlur(event);
    }
    if (muiFormControl && muiFormControl.onBlur) {
      muiFormControl.onBlur(event);
    }
  };
  const handleInputChange = (event) => {
    if (event.nativeEvent.defaultPrevented) {
      return;
    }
    const newChecked = event.target.checked;
    setCheckedState(newChecked);
    if (onChange) {
      onChange(event, newChecked);
    }
  };
  let disabled = disabledProp;
  if (muiFormControl) {
    if (typeof disabled === "undefined") {
      disabled = muiFormControl.disabled;
    }
  }
  const hasLabelFor = type === "checkbox" || type === "radio";
  const ownerState = {
    ...props,
    checked,
    disabled,
    disableFocusRipple,
    edge
  };
  const classes = useUtilityClasses18(ownerState);
  const externalForwardedProps = {
    slots,
    slotProps: {
      input: inputProps,
      ...slotProps
    }
  };
  const [RootSlot, rootSlotProps] = useSlot("root", {
    ref,
    elementType: SwitchBaseRoot,
    className: classes.root,
    shouldForwardComponentProp: true,
    externalForwardedProps: {
      ...externalForwardedProps,
      component: "span",
      ...other
    },
    getSlotProps: (handlers) => ({
      ...handlers,
      onFocus: (event) => {
        handlers.onFocus?.(event);
        handleFocus(event);
      },
      onBlur: (event) => {
        handlers.onBlur?.(event);
        handleBlur(event);
      }
    }),
    ownerState,
    additionalProps: {
      centerRipple: true,
      focusRipple: !disableFocusRipple,
      disabled,
      role: undefined,
      tabIndex: null
    }
  });
  const [InputSlot, inputSlotProps] = useSlot("input", {
    ref: inputRef,
    elementType: SwitchBaseInput,
    className: classes.input,
    externalForwardedProps,
    getSlotProps: (handlers) => ({
      ...handlers,
      onChange: (event) => {
        handlers.onChange?.(event);
        handleInputChange(event);
      }
    }),
    ownerState,
    additionalProps: {
      autoFocus,
      checked: checkedProp,
      defaultChecked,
      disabled,
      id: hasLabelFor ? id : undefined,
      name,
      readOnly,
      required,
      tabIndex,
      type,
      ...type === "checkbox" && value === undefined ? {} : {
        value
      }
    }
  });
  return /* @__PURE__ */ import_jsx_runtime44.jsxs(RootSlot, {
    ...rootSlotProps,
    children: [/* @__PURE__ */ import_jsx_runtime44.jsx(InputSlot, {
      ...inputSlotProps
    }), checked ? checkedIcon : icon]
  });
});
SwitchBase.propTypes = {
  autoFocus: import_prop_types46.default.bool,
  checked: import_prop_types46.default.bool,
  checkedIcon: import_prop_types46.default.node.isRequired,
  classes: import_prop_types46.default.object,
  className: import_prop_types46.default.string,
  defaultChecked: import_prop_types46.default.bool,
  disabled: import_prop_types46.default.bool,
  disableFocusRipple: import_prop_types46.default.bool,
  edge: import_prop_types46.default.oneOf(["end", "start", false]),
  icon: import_prop_types46.default.node.isRequired,
  id: import_prop_types46.default.string,
  inputProps: import_prop_types46.default.object,
  inputRef: refType_default,
  name: import_prop_types46.default.string,
  onBlur: import_prop_types46.default.func,
  onChange: import_prop_types46.default.func,
  onFocus: import_prop_types46.default.func,
  readOnly: import_prop_types46.default.bool,
  required: import_prop_types46.default.bool,
  slotProps: import_prop_types46.default.shape({
    input: import_prop_types46.default.oneOfType([import_prop_types46.default.func, import_prop_types46.default.object]),
    root: import_prop_types46.default.oneOfType([import_prop_types46.default.func, import_prop_types46.default.object])
  }),
  slots: import_prop_types46.default.shape({
    input: import_prop_types46.default.elementType,
    root: import_prop_types46.default.elementType
  }),
  sx: import_prop_types46.default.object,
  tabIndex: import_prop_types46.default.oneOfType([import_prop_types46.default.number, import_prop_types46.default.string]),
  type: import_prop_types46.default.string.isRequired,
  value: import_prop_types46.default.any
};
var SwitchBase_default = SwitchBase;
// node_modules/@mui/material/esm/CssBaseline/CssBaseline.js
var React81 = __toESM(require_react(), 1);
var import_prop_types47 = __toESM(require_prop_types(), 1);
var import_jsx_runtime45 = __toESM(require_jsx_runtime(), 1);
"use client";
var isDynamicSupport = typeof globalCss({}) === "function";
var html = (theme, enableColorScheme) => ({
  WebkitFontSmoothing: "antialiased",
  MozOsxFontSmoothing: "grayscale",
  boxSizing: "border-box",
  WebkitTextSizeAdjust: "100%",
  ...enableColorScheme && !theme.vars && {
    colorScheme: theme.palette.mode
  }
});
var body = (theme) => ({
  color: (theme.vars || theme).palette.text.primary,
  ...theme.typography.body1,
  backgroundColor: (theme.vars || theme).palette.background.default,
  "@media print": {
    backgroundColor: (theme.vars || theme).palette.common.white
  }
});
var styles2 = (theme, enableColorScheme = false) => {
  const colorSchemeStyles = {};
  if (enableColorScheme && theme.colorSchemes && typeof theme.getColorSchemeSelector === "function") {
    Object.entries(theme.colorSchemes).forEach(([key, scheme]) => {
      const selector = theme.getColorSchemeSelector(key);
      if (selector.startsWith("@")) {
        colorSchemeStyles[selector] = {
          ":root": {
            colorScheme: scheme.palette?.mode
          }
        };
      } else {
        colorSchemeStyles[selector.replace(/\s*&/, "")] = {
          colorScheme: scheme.palette?.mode
        };
      }
    });
  }
  let defaultStyles = {
    html: html(theme, enableColorScheme),
    "*, *::before, *::after": {
      boxSizing: "inherit"
    },
    "strong, b": {
      fontWeight: theme.typography.fontWeightBold
    },
    body: {
      margin: 0,
      ...body(theme),
      "&::backdrop": {
        backgroundColor: (theme.vars || theme).palette.background.default
      }
    },
    ...colorSchemeStyles
  };
  const themeOverrides = theme.components?.MuiCssBaseline?.styleOverrides;
  if (themeOverrides) {
    defaultStyles = [defaultStyles, themeOverrides];
  }
  return defaultStyles;
};
var SELECTOR = "mui-ecs";
var staticStyles = (theme) => {
  const result = styles2(theme, false);
  const baseStyles = Array.isArray(result) ? result[0] : result;
  if (!theme.vars && baseStyles) {
    baseStyles.html[`:root:has(${SELECTOR})`] = {
      colorScheme: theme.palette.mode
    };
  }
  if (theme.colorSchemes) {
    Object.entries(theme.colorSchemes).forEach(([key, scheme]) => {
      const selector = theme.getColorSchemeSelector(key);
      if (selector.startsWith("@")) {
        baseStyles[selector] = {
          [`:root:not(:has(.${SELECTOR}))`]: {
            colorScheme: scheme.palette?.mode
          }
        };
      } else {
        baseStyles[selector.replace(/\s*&/, "")] = {
          [`&:not(:has(.${SELECTOR}))`]: {
            colorScheme: scheme.palette?.mode
          }
        };
      }
    });
  }
  return result;
};
var GlobalStyles5 = globalCss(isDynamicSupport ? ({
  theme,
  enableColorScheme
}) => styles2(theme, enableColorScheme) : ({
  theme
}) => staticStyles(theme));
function CssBaseline(inProps) {
  const props = useDefaultProps2({
    props: inProps,
    name: "MuiCssBaseline"
  });
  const {
    children,
    enableColorScheme = false
  } = props;
  return /* @__PURE__ */ import_jsx_runtime45.jsxs(React81.Fragment, {
    children: [isDynamicSupport && /* @__PURE__ */ import_jsx_runtime45.jsx(GlobalStyles5, {
      enableColorScheme
    }), !isDynamicSupport && !enableColorScheme && /* @__PURE__ */ import_jsx_runtime45.jsx("span", {
      className: SELECTOR,
      style: {
        display: "none"
      }
    }), children]
  });
}
CssBaseline.propTypes = {
  children: import_prop_types47.default.node,
  enableColorScheme: import_prop_types47.default.bool
};
var CssBaseline_default = CssBaseline;
// node_modules/@mui/material/esm/Dialog/Dialog.js
var React86 = __toESM(require_react(), 1);
var import_prop_types50 = __toESM(require_prop_types(), 1);

// node_modules/@mui/utils/esm/getScrollbarSize/getScrollbarSize.js
function getScrollbarSize(win = window) {
  const documentWidth = win.document.documentElement.clientWidth;
  return win.innerWidth - documentWidth;
}
// node_modules/@mui/material/esm/Modal/ModalManager.js
function isOverflowing(container) {
  const doc = ownerDocument(container);
  if (doc.body === container) {
    return ownerWindow(container).innerWidth > doc.documentElement.clientWidth;
  }
  return container.scrollHeight > container.clientHeight;
}
function ariaHidden(element, hide2) {
  if (hide2) {
    element.setAttribute("aria-hidden", "true");
  } else {
    element.removeAttribute("aria-hidden");
  }
}
function getPaddingRight(element) {
  return parseInt(ownerWindow(element).getComputedStyle(element).paddingRight, 10) || 0;
}
function isAriaHiddenForbiddenOnElement(element) {
  const forbiddenTagNames = ["TEMPLATE", "SCRIPT", "STYLE", "LINK", "MAP", "META", "NOSCRIPT", "PICTURE", "COL", "COLGROUP", "PARAM", "SLOT", "SOURCE", "TRACK"];
  const isForbiddenTagName = forbiddenTagNames.includes(element.tagName);
  const isInputHidden = element.tagName === "INPUT" && element.getAttribute("type") === "hidden";
  return isForbiddenTagName || isInputHidden;
}
function ariaHiddenSiblings(container, mountElement, currentElement, elementsToExclude, hide2) {
  const blacklist = [mountElement, currentElement, ...elementsToExclude];
  [].forEach.call(container.children, (element) => {
    const isNotExcludedElement = !blacklist.includes(element);
    const isNotForbiddenElement = !isAriaHiddenForbiddenOnElement(element);
    if (isNotExcludedElement && isNotForbiddenElement) {
      ariaHidden(element, hide2);
    }
  });
}
function findIndexOf(items, callback) {
  let idx = -1;
  items.some((item, index) => {
    if (callback(item)) {
      idx = index;
      return true;
    }
    return false;
  });
  return idx;
}
function handleContainer(containerInfo, props) {
  const restoreStyle = [];
  const container = containerInfo.container;
  if (!props.disableScrollLock) {
    if (isOverflowing(container)) {
      const scrollbarSize = getScrollbarSize(ownerWindow(container));
      restoreStyle.push({
        value: container.style.paddingRight,
        property: "padding-right",
        el: container
      });
      container.style.paddingRight = `${getPaddingRight(container) + scrollbarSize}px`;
      const fixedElements2 = ownerDocument(container).querySelectorAll(".mui-fixed");
      [].forEach.call(fixedElements2, (element) => {
        restoreStyle.push({
          value: element.style.paddingRight,
          property: "padding-right",
          el: element
        });
        element.style.paddingRight = `${getPaddingRight(element) + scrollbarSize}px`;
      });
    }
    let scrollContainer;
    if (container.parentNode instanceof DocumentFragment) {
      scrollContainer = ownerDocument(container).body;
    } else {
      const parent = container.parentElement;
      const containerWindow = ownerWindow(container);
      scrollContainer = parent?.nodeName === "HTML" && containerWindow.getComputedStyle(parent).overflowY === "scroll" ? parent : container;
    }
    restoreStyle.push({
      value: scrollContainer.style.overflow,
      property: "overflow",
      el: scrollContainer
    }, {
      value: scrollContainer.style.overflowX,
      property: "overflow-x",
      el: scrollContainer
    }, {
      value: scrollContainer.style.overflowY,
      property: "overflow-y",
      el: scrollContainer
    });
    scrollContainer.style.overflow = "hidden";
  }
  const restore = () => {
    restoreStyle.forEach(({
      value,
      el,
      property
    }) => {
      if (value) {
        el.style.setProperty(property, value);
      } else {
        el.style.removeProperty(property);
      }
    });
  };
  return restore;
}
function getHiddenSiblings(container) {
  const hiddenSiblings = [];
  [].forEach.call(container.children, (element) => {
    if (element.getAttribute("aria-hidden") === "true") {
      hiddenSiblings.push(element);
    }
  });
  return hiddenSiblings;
}

class ModalManager {
  constructor() {
    this.modals = [];
    this.containers = [];
  }
  add(modal, container) {
    let modalIndex = this.modals.indexOf(modal);
    if (modalIndex !== -1) {
      return modalIndex;
    }
    modalIndex = this.modals.length;
    this.modals.push(modal);
    if (modal.modalRef) {
      ariaHidden(modal.modalRef, false);
    }
    const hiddenSiblings = getHiddenSiblings(container);
    ariaHiddenSiblings(container, modal.mount, modal.modalRef, hiddenSiblings, true);
    const containerIndex = findIndexOf(this.containers, (item) => item.container === container);
    if (containerIndex !== -1) {
      this.containers[containerIndex].modals.push(modal);
      return modalIndex;
    }
    this.containers.push({
      modals: [modal],
      container,
      restore: null,
      hiddenSiblings
    });
    return modalIndex;
  }
  mount(modal, props) {
    const containerIndex = findIndexOf(this.containers, (item) => item.modals.includes(modal));
    const containerInfo = this.containers[containerIndex];
    if (!containerInfo.restore) {
      containerInfo.restore = handleContainer(containerInfo, props);
    }
  }
  remove(modal, ariaHiddenState = true) {
    const modalIndex = this.modals.indexOf(modal);
    if (modalIndex === -1) {
      return modalIndex;
    }
    const containerIndex = findIndexOf(this.containers, (item) => item.modals.includes(modal));
    const containerInfo = this.containers[containerIndex];
    containerInfo.modals.splice(containerInfo.modals.indexOf(modal), 1);
    this.modals.splice(modalIndex, 1);
    if (containerInfo.modals.length === 0) {
      if (containerInfo.restore) {
        containerInfo.restore();
      }
      if (modal.modalRef) {
        ariaHidden(modal.modalRef, ariaHiddenState);
      }
      ariaHiddenSiblings(containerInfo.container, modal.mount, modal.modalRef, containerInfo.hiddenSiblings, false);
      this.containers.splice(containerIndex, 1);
    } else {
      const nextTop = containerInfo.modals[containerInfo.modals.length - 1];
      if (nextTop.modalRef) {
        ariaHidden(nextTop.modalRef, false);
      }
    }
    return modalIndex;
  }
  isTopModal(modal) {
    return this.modals.length > 0 && this.modals[this.modals.length - 1] === modal;
  }
}

// node_modules/@mui/material/esm/Modal/Modal.js
var React84 = __toESM(require_react(), 1);
var import_prop_types49 = __toESM(require_prop_types(), 1);

// node_modules/@mui/material/esm/Unstable_TrapFocus/FocusTrap.js
var React82 = __toESM(require_react(), 1);
var import_prop_types48 = __toESM(require_prop_types(), 1);
var import_jsx_runtime46 = __toESM(require_jsx_runtime(), 1);
"use client";
var candidatesSelector = ["input", "select", "textarea", "a[href]", "button", "[tabindex]", "audio[controls]", "video[controls]", '[contenteditable]:not([contenteditable="false"])'].join(",");
function getTabIndex(node2) {
  const tabindexAttr = parseInt(node2.getAttribute("tabindex") || "", 10);
  if (!Number.isNaN(tabindexAttr)) {
    return tabindexAttr;
  }
  if (node2.contentEditable === "true" || (node2.nodeName === "AUDIO" || node2.nodeName === "VIDEO" || node2.nodeName === "DETAILS") && node2.getAttribute("tabindex") === null) {
    return 0;
  }
  return node2.tabIndex;
}
function isNonTabbableRadio(node2) {
  if (node2.tagName !== "INPUT" || node2.type !== "radio") {
    return false;
  }
  if (!node2.name) {
    return false;
  }
  const getRadio = (selector) => node2.ownerDocument.querySelector(`input[type="radio"]${selector}`);
  let roving = getRadio(`[name="${node2.name}"]:checked`);
  if (!roving) {
    roving = getRadio(`[name="${node2.name}"]`);
  }
  return roving !== node2;
}
function isNodeMatchingSelectorFocusable(node2) {
  if (node2.disabled || node2.tagName === "INPUT" && node2.type === "hidden" || isNonTabbableRadio(node2)) {
    return false;
  }
  return true;
}
function defaultGetTabbable(root) {
  const regularTabNodes = [];
  const orderedTabNodes = [];
  Array.from(root.querySelectorAll(candidatesSelector)).forEach((node2, i) => {
    const nodeTabIndex = getTabIndex(node2);
    if (nodeTabIndex === -1 || !isNodeMatchingSelectorFocusable(node2)) {
      return;
    }
    if (nodeTabIndex === 0) {
      regularTabNodes.push(node2);
    } else {
      orderedTabNodes.push({
        documentOrder: i,
        tabIndex: nodeTabIndex,
        node: node2
      });
    }
  });
  return orderedTabNodes.sort((a, b) => a.tabIndex === b.tabIndex ? a.documentOrder - b.documentOrder : a.tabIndex - b.tabIndex).map((a) => a.node).concat(regularTabNodes);
}
function defaultIsEnabled() {
  return true;
}
function FocusTrap(props) {
  const {
    children,
    disableAutoFocus = false,
    disableEnforceFocus = false,
    disableRestoreFocus = false,
    getTabbable = defaultGetTabbable,
    isEnabled = defaultIsEnabled,
    open
  } = props;
  const ignoreNextEnforceFocus = React82.useRef(false);
  const sentinelStart = React82.useRef(null);
  const sentinelEnd = React82.useRef(null);
  const nodeToRestore = React82.useRef(null);
  const reactFocusEventTarget = React82.useRef(null);
  const activated = React82.useRef(false);
  const rootRef = React82.useRef(null);
  const handleRef = useForkRef(getReactElementRef(children), rootRef);
  const lastKeydown = React82.useRef(null);
  React82.useEffect(() => {
    if (!open || !rootRef.current) {
      return;
    }
    activated.current = !disableAutoFocus;
  }, [disableAutoFocus, open]);
  React82.useEffect(() => {
    if (!open || !rootRef.current) {
      return;
    }
    const doc = ownerDocument(rootRef.current);
    if (!rootRef.current.contains(doc.activeElement)) {
      if (!rootRef.current.hasAttribute("tabIndex")) {
        if (true) {
          console.error(["MUI: The modal content node does not accept focus.", "For the benefit of assistive technologies, " + 'the tabIndex of the node is being set to "-1".'].join(`
`));
        }
        rootRef.current.setAttribute("tabIndex", "-1");
      }
      if (activated.current) {
        rootRef.current.focus();
      }
    }
    return () => {
      if (!disableRestoreFocus) {
        if (nodeToRestore.current && nodeToRestore.current.focus) {
          ignoreNextEnforceFocus.current = true;
          nodeToRestore.current.focus();
        }
        nodeToRestore.current = null;
      }
    };
  }, [open]);
  React82.useEffect(() => {
    if (!open || !rootRef.current) {
      return;
    }
    const doc = ownerDocument(rootRef.current);
    const loopFocus = (nativeEvent) => {
      lastKeydown.current = nativeEvent;
      if (disableEnforceFocus || !isEnabled() || nativeEvent.key !== "Tab") {
        return;
      }
      if (doc.activeElement === rootRef.current && nativeEvent.shiftKey) {
        ignoreNextEnforceFocus.current = true;
        if (sentinelEnd.current) {
          sentinelEnd.current.focus();
        }
      }
    };
    const contain = () => {
      const rootElement = rootRef.current;
      if (rootElement === null) {
        return;
      }
      if (!doc.hasFocus() || !isEnabled() || ignoreNextEnforceFocus.current) {
        ignoreNextEnforceFocus.current = false;
        return;
      }
      if (rootElement.contains(doc.activeElement)) {
        return;
      }
      if (disableEnforceFocus && doc.activeElement !== sentinelStart.current && doc.activeElement !== sentinelEnd.current) {
        return;
      }
      if (doc.activeElement !== reactFocusEventTarget.current) {
        reactFocusEventTarget.current = null;
      } else if (reactFocusEventTarget.current !== null) {
        return;
      }
      if (!activated.current) {
        return;
      }
      let tabbable = [];
      if (doc.activeElement === sentinelStart.current || doc.activeElement === sentinelEnd.current) {
        tabbable = getTabbable(rootRef.current);
      }
      if (tabbable.length > 0) {
        const isShiftTab = Boolean(lastKeydown.current?.shiftKey && lastKeydown.current?.key === "Tab");
        const focusNext = tabbable[0];
        const focusPrevious = tabbable[tabbable.length - 1];
        if (typeof focusNext !== "string" && typeof focusPrevious !== "string") {
          if (isShiftTab) {
            focusPrevious.focus();
          } else {
            focusNext.focus();
          }
        }
      } else {
        rootElement.focus();
      }
    };
    doc.addEventListener("focusin", contain);
    doc.addEventListener("keydown", loopFocus, true);
    const interval = setInterval(() => {
      if (doc.activeElement && doc.activeElement.tagName === "BODY") {
        contain();
      }
    }, 50);
    return () => {
      clearInterval(interval);
      doc.removeEventListener("focusin", contain);
      doc.removeEventListener("keydown", loopFocus, true);
    };
  }, [disableAutoFocus, disableEnforceFocus, disableRestoreFocus, isEnabled, open, getTabbable]);
  const onFocus = (event) => {
    if (nodeToRestore.current === null) {
      nodeToRestore.current = event.relatedTarget;
    }
    activated.current = true;
    reactFocusEventTarget.current = event.target;
    const childrenPropsHandler = children.props.onFocus;
    if (childrenPropsHandler) {
      childrenPropsHandler(event);
    }
  };
  const handleFocusSentinel = (event) => {
    if (nodeToRestore.current === null) {
      nodeToRestore.current = event.relatedTarget;
    }
    activated.current = true;
  };
  return /* @__PURE__ */ import_jsx_runtime46.jsxs(React82.Fragment, {
    children: [/* @__PURE__ */ import_jsx_runtime46.jsx("div", {
      tabIndex: open ? 0 : -1,
      onFocus: handleFocusSentinel,
      ref: sentinelStart,
      "data-testid": "sentinelStart"
    }), /* @__PURE__ */ React82.cloneElement(children, {
      ref: handleRef,
      onFocus
    }), /* @__PURE__ */ import_jsx_runtime46.jsx("div", {
      tabIndex: open ? 0 : -1,
      onFocus: handleFocusSentinel,
      ref: sentinelEnd,
      "data-testid": "sentinelEnd"
    })]
  });
}
FocusTrap.propTypes = {
  children: elementAcceptingRef_default,
  disableAutoFocus: import_prop_types48.default.bool,
  disableEnforceFocus: import_prop_types48.default.bool,
  disableRestoreFocus: import_prop_types48.default.bool,
  getTabbable: import_prop_types48.default.func,
  isEnabled: import_prop_types48.default.func,
  open: import_prop_types48.default.bool.isRequired
};
if (true) {
  FocusTrap["propTypes" + ""] = exactProp(FocusTrap.propTypes);
}
var FocusTrap_default = FocusTrap;
// node_modules/@mui/material/esm/Modal/useModal.js
var React83 = __toESM(require_react(), 1);
"use client";
function getContainer2(container) {
  return typeof container === "function" ? container() : container;
}
function getHasTransition(children) {
  return children ? children.props.hasOwnProperty("in") : false;
}
var noop4 = () => {};
var manager = new ModalManager;
function useModal(parameters) {
  const {
    container,
    disableEscapeKeyDown = false,
    disableScrollLock = false,
    closeAfterTransition = false,
    onTransitionEnter,
    onTransitionExited,
    children,
    onClose,
    open,
    rootRef
  } = parameters;
  const modal = React83.useRef({});
  const mountNodeRef = React83.useRef(null);
  const modalRef = React83.useRef(null);
  const handleRef = useForkRef(modalRef, rootRef);
  const [exited, setExited] = React83.useState(!open);
  const hasTransition = getHasTransition(children);
  let ariaHiddenProp = true;
  if (parameters["aria-hidden"] === "false" || parameters["aria-hidden"] === false) {
    ariaHiddenProp = false;
  }
  const getDoc = () => ownerDocument(mountNodeRef.current);
  const getModal = () => {
    modal.current.modalRef = modalRef.current;
    modal.current.mount = mountNodeRef.current;
    return modal.current;
  };
  const handleMounted = () => {
    manager.mount(getModal(), {
      disableScrollLock
    });
    if (modalRef.current) {
      modalRef.current.scrollTop = 0;
    }
  };
  const handleOpen = useEventCallback_default(() => {
    const resolvedContainer = getContainer2(container) || getDoc().body;
    manager.add(getModal(), resolvedContainer);
    if (modalRef.current) {
      handleMounted();
    }
  });
  const isTopModal = () => manager.isTopModal(getModal());
  const handlePortalRef = useEventCallback_default((node2) => {
    mountNodeRef.current = node2;
    if (!node2) {
      return;
    }
    if (open && isTopModal()) {
      handleMounted();
    } else if (modalRef.current) {
      ariaHidden(modalRef.current, ariaHiddenProp);
    }
  });
  const handleClose = React83.useCallback(() => {
    manager.remove(getModal(), ariaHiddenProp);
  }, [ariaHiddenProp]);
  React83.useEffect(() => {
    return () => {
      handleClose();
    };
  }, [handleClose]);
  React83.useEffect(() => {
    if (open) {
      handleOpen();
    } else if (!hasTransition || !closeAfterTransition) {
      handleClose();
    }
  }, [open, handleClose, hasTransition, closeAfterTransition, handleOpen]);
  const createHandleKeyDown = (otherHandlers) => (event) => {
    otherHandlers.onKeyDown?.(event);
    if (event.key !== "Escape" || event.which === 229 || !isTopModal()) {
      return;
    }
    if (!disableEscapeKeyDown) {
      event.stopPropagation();
      if (onClose) {
        onClose(event, "escapeKeyDown");
      }
    }
  };
  const createHandleBackdropClick = (otherHandlers) => (event) => {
    otherHandlers.onClick?.(event);
    if (event.target !== event.currentTarget) {
      return;
    }
    if (onClose) {
      onClose(event, "backdropClick");
    }
  };
  const getRootProps = (otherHandlers = {}) => {
    const propsEventHandlers = extractEventHandlers_default(parameters);
    delete propsEventHandlers.onTransitionEnter;
    delete propsEventHandlers.onTransitionExited;
    const externalEventHandlers = {
      ...propsEventHandlers,
      ...otherHandlers
    };
    return {
      role: "presentation",
      ...externalEventHandlers,
      onKeyDown: createHandleKeyDown(externalEventHandlers),
      ref: handleRef
    };
  };
  const getBackdropProps = (otherHandlers = {}) => {
    const externalEventHandlers = otherHandlers;
    return {
      "aria-hidden": true,
      ...externalEventHandlers,
      onClick: createHandleBackdropClick(externalEventHandlers),
      open
    };
  };
  const getTransitionProps2 = () => {
    const handleEnter = () => {
      setExited(false);
      if (onTransitionEnter) {
        onTransitionEnter();
      }
    };
    const handleExited = () => {
      setExited(true);
      if (onTransitionExited) {
        onTransitionExited();
      }
      if (closeAfterTransition) {
        handleClose();
      }
    };
    return {
      onEnter: createChainedFunction(handleEnter, children?.props.onEnter ?? noop4),
      onExited: createChainedFunction(handleExited, children?.props.onExited ?? noop4)
    };
  };
  return {
    getRootProps,
    getBackdropProps,
    getTransitionProps: getTransitionProps2,
    rootRef: handleRef,
    portalRef: handlePortalRef,
    isTopModal,
    exited,
    hasTransition
  };
}
var useModal_default = useModal;

// node_modules/@mui/material/esm/Modal/modalClasses.js
function getModalUtilityClass(slot) {
  return generateUtilityClass("MuiModal", slot);
}
var modalClasses = generateUtilityClasses("MuiModal", ["root", "hidden", "backdrop"]);

// node_modules/@mui/material/esm/Modal/Modal.js
var import_jsx_runtime47 = __toESM(require_jsx_runtime(), 1);
"use client";
var useUtilityClasses19 = (ownerState) => {
  const {
    open,
    exited,
    classes
  } = ownerState;
  const slots = {
    root: ["root", !open && exited && "hidden"],
    backdrop: ["backdrop"]
  };
  return composeClasses(slots, getModalUtilityClass, classes);
};
var ModalRoot = styled_default2("div", {
  name: "MuiModal",
  slot: "Root",
  overridesResolver: (props, styles3) => {
    const {
      ownerState
    } = props;
    return [styles3.root, !ownerState.open && ownerState.exited && styles3.hidden];
  }
})(memoTheme_default(({
  theme
}) => ({
  position: "fixed",
  zIndex: (theme.vars || theme).zIndex.modal,
  right: 0,
  bottom: 0,
  top: 0,
  left: 0,
  variants: [{
    props: ({
      ownerState
    }) => !ownerState.open && ownerState.exited,
    style: {
      visibility: "hidden"
    }
  }]
})));
var ModalBackdrop = styled_default2(Backdrop_default, {
  name: "MuiModal",
  slot: "Backdrop"
})({
  zIndex: -1
});
var Modal = /* @__PURE__ */ React84.forwardRef(function Modal2(inProps, ref) {
  const props = useDefaultProps2({
    name: "MuiModal",
    props: inProps
  });
  const {
    BackdropComponent = ModalBackdrop,
    BackdropProps,
    classes: classesProp,
    className,
    closeAfterTransition = false,
    children,
    container,
    component,
    components = {},
    componentsProps = {},
    disableAutoFocus = false,
    disableEnforceFocus = false,
    disableEscapeKeyDown = false,
    disablePortal = false,
    disableRestoreFocus = false,
    disableScrollLock = false,
    hideBackdrop = false,
    keepMounted = false,
    onClose,
    onTransitionEnter,
    onTransitionExited,
    open,
    slotProps = {},
    slots = {},
    theme,
    ...other
  } = props;
  const propsWithDefaults = {
    ...props,
    closeAfterTransition,
    disableAutoFocus,
    disableEnforceFocus,
    disableEscapeKeyDown,
    disablePortal,
    disableRestoreFocus,
    disableScrollLock,
    hideBackdrop,
    keepMounted
  };
  const {
    getRootProps,
    getBackdropProps,
    getTransitionProps: getTransitionProps2,
    portalRef,
    isTopModal,
    exited,
    hasTransition
  } = useModal_default({
    ...propsWithDefaults,
    rootRef: ref
  });
  const ownerState = {
    ...propsWithDefaults,
    exited
  };
  const classes = useUtilityClasses19(ownerState);
  const childProps = {};
  if (children.props.tabIndex === undefined) {
    childProps.tabIndex = "-1";
  }
  if (hasTransition) {
    const {
      onEnter,
      onExited
    } = getTransitionProps2();
    childProps.onEnter = onEnter;
    childProps.onExited = onExited;
  }
  const externalForwardedProps = {
    slots: {
      root: components.Root,
      backdrop: components.Backdrop,
      ...slots
    },
    slotProps: {
      ...componentsProps,
      ...slotProps
    }
  };
  const [RootSlot, rootProps] = useSlot("root", {
    ref,
    elementType: ModalRoot,
    externalForwardedProps: {
      ...externalForwardedProps,
      ...other,
      component
    },
    getSlotProps: getRootProps,
    ownerState,
    className: clsx_default(className, classes?.root, !ownerState.open && ownerState.exited && classes?.hidden)
  });
  const [BackdropSlot, backdropProps] = useSlot("backdrop", {
    ref: BackdropProps?.ref,
    elementType: BackdropComponent,
    externalForwardedProps,
    shouldForwardComponentProp: true,
    additionalProps: BackdropProps,
    getSlotProps: (otherHandlers) => {
      return getBackdropProps({
        ...otherHandlers,
        onClick: (event) => {
          if (otherHandlers?.onClick) {
            otherHandlers.onClick(event);
          }
        }
      });
    },
    className: clsx_default(BackdropProps?.className, classes?.backdrop),
    ownerState
  });
  if (!keepMounted && !open && (!hasTransition || exited)) {
    return null;
  }
  return /* @__PURE__ */ import_jsx_runtime47.jsx(Portal_default, {
    ref: portalRef,
    container,
    disablePortal,
    children: /* @__PURE__ */ import_jsx_runtime47.jsxs(RootSlot, {
      ...rootProps,
      children: [!hideBackdrop && BackdropComponent ? /* @__PURE__ */ import_jsx_runtime47.jsx(BackdropSlot, {
        ...backdropProps
      }) : null, /* @__PURE__ */ import_jsx_runtime47.jsx(FocusTrap_default, {
        disableEnforceFocus,
        disableAutoFocus,
        disableRestoreFocus,
        isEnabled: isTopModal,
        open,
        children: /* @__PURE__ */ React84.cloneElement(children, childProps)
      })]
    })
  });
});
Modal.propTypes = {
  BackdropComponent: import_prop_types49.default.elementType,
  BackdropProps: import_prop_types49.default.object,
  children: elementAcceptingRef_default.isRequired,
  classes: import_prop_types49.default.object,
  className: import_prop_types49.default.string,
  closeAfterTransition: import_prop_types49.default.bool,
  component: import_prop_types49.default.elementType,
  components: import_prop_types49.default.shape({
    Backdrop: import_prop_types49.default.elementType,
    Root: import_prop_types49.default.elementType
  }),
  componentsProps: import_prop_types49.default.shape({
    backdrop: import_prop_types49.default.oneOfType([import_prop_types49.default.func, import_prop_types49.default.object]),
    root: import_prop_types49.default.oneOfType([import_prop_types49.default.func, import_prop_types49.default.object])
  }),
  container: import_prop_types49.default.oneOfType([HTMLElementType, import_prop_types49.default.func]),
  disableAutoFocus: import_prop_types49.default.bool,
  disableEnforceFocus: import_prop_types49.default.bool,
  disableEscapeKeyDown: import_prop_types49.default.bool,
  disablePortal: import_prop_types49.default.bool,
  disableRestoreFocus: import_prop_types49.default.bool,
  disableScrollLock: import_prop_types49.default.bool,
  hideBackdrop: import_prop_types49.default.bool,
  keepMounted: import_prop_types49.default.bool,
  onClose: import_prop_types49.default.func,
  onTransitionEnter: import_prop_types49.default.func,
  onTransitionExited: import_prop_types49.default.func,
  open: import_prop_types49.default.bool.isRequired,
  slotProps: import_prop_types49.default.shape({
    backdrop: import_prop_types49.default.oneOfType([import_prop_types49.default.func, import_prop_types49.default.object]),
    root: import_prop_types49.default.oneOfType([import_prop_types49.default.func, import_prop_types49.default.object])
  }),
  slots: import_prop_types49.default.shape({
    backdrop: import_prop_types49.default.elementType,
    root: import_prop_types49.default.elementType
  }),
  sx: import_prop_types49.default.oneOfType([import_prop_types49.default.arrayOf(import_prop_types49.default.oneOfType([import_prop_types49.default.func, import_prop_types49.default.object, import_prop_types49.default.bool])), import_prop_types49.default.func, import_prop_types49.default.object])
};
var Modal_default = Modal;
// node_modules/@mui/material/esm/Dialog/dialogClasses.js
function getDialogUtilityClass(slot) {
  return generateUtilityClass("MuiDialog", slot);
}
var dialogClasses = generateUtilityClasses("MuiDialog", ["root", "scrollPaper", "scrollBody", "container", "paper", "paperScrollPaper", "paperScrollBody", "paperWidthFalse", "paperWidthXs", "paperWidthSm", "paperWidthMd", "paperWidthLg", "paperWidthXl", "paperFullWidth", "paperFullScreen"]);
var dialogClasses_default = dialogClasses;

// node_modules/@mui/material/esm/Dialog/DialogContext.js
var React85 = __toESM(require_react(), 1);
"use client";
var DialogContext = /* @__PURE__ */ React85.createContext({});
if (true) {
  DialogContext.displayName = "DialogContext";
}
var DialogContext_default = DialogContext;

// node_modules/@mui/material/esm/Dialog/Dialog.js
var import_jsx_runtime48 = __toESM(require_jsx_runtime(), 1);
"use client";
var DialogBackdrop = styled_default2(Backdrop_default, {
  name: "MuiDialog",
  slot: "Backdrop",
  overrides: (props, styles3) => styles3.backdrop
})({
  zIndex: -1
});
var useUtilityClasses20 = (ownerState) => {
  const {
    classes,
    scroll,
    maxWidth: maxWidth2,
    fullWidth,
    fullScreen
  } = ownerState;
  const slots = {
    root: ["root"],
    container: ["container", `scroll${capitalize_default(scroll)}`],
    paper: ["paper", `paperScroll${capitalize_default(scroll)}`, `paperWidth${capitalize_default(String(maxWidth2))}`, fullWidth && "paperFullWidth", fullScreen && "paperFullScreen"]
  };
  return composeClasses(slots, getDialogUtilityClass, classes);
};
var DialogRoot = styled_default2(Modal_default, {
  name: "MuiDialog",
  slot: "Root"
})({
  "@media print": {
    position: "absolute !important"
  }
});
var DialogContainer = styled_default2("div", {
  name: "MuiDialog",
  slot: "Container",
  overridesResolver: (props, styles3) => {
    const {
      ownerState
    } = props;
    return [styles3.container, styles3[`scroll${capitalize_default(ownerState.scroll)}`]];
  }
})({
  height: "100%",
  "@media print": {
    height: "auto"
  },
  outline: 0,
  variants: [{
    props: {
      scroll: "paper"
    },
    style: {
      display: "flex",
      justifyContent: "center",
      alignItems: "center"
    }
  }, {
    props: {
      scroll: "body"
    },
    style: {
      overflowY: "auto",
      overflowX: "hidden",
      textAlign: "center",
      "&::after": {
        content: '""',
        display: "inline-block",
        verticalAlign: "middle",
        height: "100%",
        width: "0"
      }
    }
  }]
});
var DialogPaper = styled_default2(Paper_default, {
  name: "MuiDialog",
  slot: "Paper",
  overridesResolver: (props, styles3) => {
    const {
      ownerState
    } = props;
    return [styles3.paper, styles3[`scrollPaper${capitalize_default(ownerState.scroll)}`], styles3[`paperWidth${capitalize_default(String(ownerState.maxWidth))}`], ownerState.fullWidth && styles3.paperFullWidth, ownerState.fullScreen && styles3.paperFullScreen];
  }
})(memoTheme_default(({
  theme
}) => ({
  margin: 32,
  position: "relative",
  overflowY: "auto",
  "@media print": {
    overflowY: "visible",
    boxShadow: "none"
  },
  variants: [{
    props: {
      scroll: "paper"
    },
    style: {
      display: "flex",
      flexDirection: "column",
      maxHeight: "calc(100% - 64px)"
    }
  }, {
    props: {
      scroll: "body"
    },
    style: {
      display: "inline-block",
      verticalAlign: "middle",
      textAlign: "initial"
    }
  }, {
    props: ({
      ownerState
    }) => !ownerState.maxWidth,
    style: {
      maxWidth: "calc(100% - 64px)"
    }
  }, {
    props: {
      maxWidth: "xs"
    },
    style: {
      maxWidth: theme.breakpoints.unit === "px" ? Math.max(theme.breakpoints.values.xs, 444) : `max(${theme.breakpoints.values.xs}${theme.breakpoints.unit}, 444px)`,
      [`&.${dialogClasses_default.paperScrollBody}`]: {
        [theme.breakpoints.down(Math.max(theme.breakpoints.values.xs, 444) + 32 * 2)]: {
          maxWidth: "calc(100% - 64px)"
        }
      }
    }
  }, ...Object.keys(theme.breakpoints.values).filter((maxWidth2) => maxWidth2 !== "xs").map((maxWidth2) => ({
    props: {
      maxWidth: maxWidth2
    },
    style: {
      maxWidth: `${theme.breakpoints.values[maxWidth2]}${theme.breakpoints.unit}`,
      [`&.${dialogClasses_default.paperScrollBody}`]: {
        [theme.breakpoints.down(theme.breakpoints.values[maxWidth2] + 32 * 2)]: {
          maxWidth: "calc(100% - 64px)"
        }
      }
    }
  })), {
    props: ({
      ownerState
    }) => ownerState.fullWidth,
    style: {
      width: "calc(100% - 64px)"
    }
  }, {
    props: ({
      ownerState
    }) => ownerState.fullScreen,
    style: {
      margin: 0,
      width: "100%",
      maxWidth: "100%",
      height: "100%",
      maxHeight: "none",
      borderRadius: 0,
      [`&.${dialogClasses_default.paperScrollBody}`]: {
        margin: 0,
        maxWidth: "100%"
      }
    }
  }]
})));
var Dialog = /* @__PURE__ */ React86.forwardRef(function Dialog2(inProps, ref) {
  const props = useDefaultProps2({
    props: inProps,
    name: "MuiDialog"
  });
  const theme = useTheme6();
  const defaultTransitionDuration = {
    enter: theme.transitions.duration.enteringScreen,
    exit: theme.transitions.duration.leavingScreen
  };
  const {
    "aria-describedby": ariaDescribedby,
    "aria-labelledby": ariaLabelledbyProp,
    "aria-modal": ariaModal = true,
    BackdropComponent,
    BackdropProps,
    children,
    className,
    disableEscapeKeyDown = false,
    fullScreen = false,
    fullWidth = false,
    maxWidth: maxWidth2 = "sm",
    onClick,
    onClose,
    open,
    PaperComponent = Paper_default,
    PaperProps = {},
    scroll = "paper",
    slots = {},
    slotProps = {},
    TransitionComponent = Fade_default,
    transitionDuration = defaultTransitionDuration,
    TransitionProps,
    ...other
  } = props;
  const ownerState = {
    ...props,
    disableEscapeKeyDown,
    fullScreen,
    fullWidth,
    maxWidth: maxWidth2,
    scroll
  };
  const classes = useUtilityClasses20(ownerState);
  const backdropClick = React86.useRef();
  const handleMouseDown = (event) => {
    backdropClick.current = event.target === event.currentTarget;
  };
  const handleBackdropClick = (event) => {
    if (onClick) {
      onClick(event);
    }
    if (!backdropClick.current) {
      return;
    }
    backdropClick.current = null;
    if (onClose) {
      onClose(event, "backdropClick");
    }
  };
  const ariaLabelledby = useId2(ariaLabelledbyProp);
  const dialogContextValue = React86.useMemo(() => {
    return {
      titleId: ariaLabelledby
    };
  }, [ariaLabelledby]);
  const backwardCompatibleSlots = {
    transition: TransitionComponent,
    ...slots
  };
  const backwardCompatibleSlotProps = {
    transition: TransitionProps,
    paper: PaperProps,
    backdrop: BackdropProps,
    ...slotProps
  };
  const externalForwardedProps = {
    slots: backwardCompatibleSlots,
    slotProps: backwardCompatibleSlotProps
  };
  const [RootSlot, rootSlotProps] = useSlot("root", {
    elementType: DialogRoot,
    shouldForwardComponentProp: true,
    externalForwardedProps,
    ownerState,
    className: clsx_default(classes.root, className),
    ref
  });
  const [BackdropSlot, backdropSlotProps] = useSlot("backdrop", {
    elementType: DialogBackdrop,
    shouldForwardComponentProp: true,
    externalForwardedProps,
    ownerState
  });
  const [PaperSlot, paperSlotProps] = useSlot("paper", {
    elementType: DialogPaper,
    shouldForwardComponentProp: true,
    externalForwardedProps,
    ownerState,
    className: clsx_default(classes.paper, PaperProps.className)
  });
  const [ContainerSlot, containerSlotProps] = useSlot("container", {
    elementType: DialogContainer,
    externalForwardedProps,
    ownerState,
    className: classes.container
  });
  const [TransitionSlot, transitionSlotProps] = useSlot("transition", {
    elementType: Fade_default,
    externalForwardedProps,
    ownerState,
    additionalProps: {
      appear: true,
      in: open,
      timeout: transitionDuration,
      role: "presentation"
    }
  });
  return /* @__PURE__ */ import_jsx_runtime48.jsx(RootSlot, {
    closeAfterTransition: true,
    slots: {
      backdrop: BackdropSlot
    },
    slotProps: {
      backdrop: {
        transitionDuration,
        as: BackdropComponent,
        ...backdropSlotProps
      }
    },
    disableEscapeKeyDown,
    onClose,
    open,
    onClick: handleBackdropClick,
    ...rootSlotProps,
    ...other,
    children: /* @__PURE__ */ import_jsx_runtime48.jsx(TransitionSlot, {
      ...transitionSlotProps,
      children: /* @__PURE__ */ import_jsx_runtime48.jsx(ContainerSlot, {
        onMouseDown: handleMouseDown,
        ...containerSlotProps,
        children: /* @__PURE__ */ import_jsx_runtime48.jsx(PaperSlot, {
          as: PaperComponent,
          elevation: 24,
          role: "dialog",
          "aria-describedby": ariaDescribedby,
          "aria-labelledby": ariaLabelledby,
          "aria-modal": ariaModal,
          ...paperSlotProps,
          children: /* @__PURE__ */ import_jsx_runtime48.jsx(DialogContext_default.Provider, {
            value: dialogContextValue,
            children
          })
        })
      })
    })
  });
});
Dialog.propTypes = {
  "aria-describedby": import_prop_types50.default.string,
  "aria-labelledby": import_prop_types50.default.string,
  "aria-modal": import_prop_types50.default.oneOfType([import_prop_types50.default.oneOf(["false", "true"]), import_prop_types50.default.bool]),
  BackdropComponent: import_prop_types50.default.elementType,
  BackdropProps: import_prop_types50.default.object,
  children: import_prop_types50.default.node,
  classes: import_prop_types50.default.object,
  className: import_prop_types50.default.string,
  disableEscapeKeyDown: import_prop_types50.default.bool,
  fullScreen: import_prop_types50.default.bool,
  fullWidth: import_prop_types50.default.bool,
  maxWidth: import_prop_types50.default.oneOfType([import_prop_types50.default.oneOf(["xs", "sm", "md", "lg", "xl", false]), import_prop_types50.default.string]),
  onClick: import_prop_types50.default.func,
  onClose: import_prop_types50.default.func,
  open: import_prop_types50.default.bool.isRequired,
  PaperComponent: import_prop_types50.default.elementType,
  PaperProps: import_prop_types50.default.object,
  scroll: import_prop_types50.default.oneOf(["body", "paper"]),
  slotProps: import_prop_types50.default.shape({
    backdrop: import_prop_types50.default.oneOfType([import_prop_types50.default.func, import_prop_types50.default.object]),
    container: import_prop_types50.default.oneOfType([import_prop_types50.default.func, import_prop_types50.default.object]),
    paper: import_prop_types50.default.oneOfType([import_prop_types50.default.func, import_prop_types50.default.object]),
    root: import_prop_types50.default.oneOfType([import_prop_types50.default.func, import_prop_types50.default.object]),
    transition: import_prop_types50.default.oneOfType([import_prop_types50.default.func, import_prop_types50.default.object])
  }),
  slots: import_prop_types50.default.shape({
    backdrop: import_prop_types50.default.elementType,
    container: import_prop_types50.default.elementType,
    paper: import_prop_types50.default.elementType,
    root: import_prop_types50.default.elementType,
    transition: import_prop_types50.default.elementType
  }),
  sx: import_prop_types50.default.oneOfType([import_prop_types50.default.arrayOf(import_prop_types50.default.oneOfType([import_prop_types50.default.func, import_prop_types50.default.object, import_prop_types50.default.bool])), import_prop_types50.default.func, import_prop_types50.default.object]),
  TransitionComponent: import_prop_types50.default.elementType,
  transitionDuration: import_prop_types50.default.oneOfType([import_prop_types50.default.number, import_prop_types50.default.shape({
    appear: import_prop_types50.default.number,
    enter: import_prop_types50.default.number,
    exit: import_prop_types50.default.number
  })]),
  TransitionProps: import_prop_types50.default.object
};
var Dialog_default = Dialog;
// node_modules/@mui/material/esm/DialogContent/DialogContent.js
var React87 = __toESM(require_react(), 1);
var import_prop_types51 = __toESM(require_prop_types(), 1);

// node_modules/@mui/material/esm/DialogContent/dialogContentClasses.js
function getDialogContentUtilityClass(slot) {
  return generateUtilityClass("MuiDialogContent", slot);
}
var dialogContentClasses = generateUtilityClasses("MuiDialogContent", ["root", "dividers"]);

// node_modules/@mui/material/esm/DialogTitle/dialogTitleClasses.js
function getDialogTitleUtilityClass(slot) {
  return generateUtilityClass("MuiDialogTitle", slot);
}
var dialogTitleClasses = generateUtilityClasses("MuiDialogTitle", ["root"]);
var dialogTitleClasses_default = dialogTitleClasses;

// node_modules/@mui/material/esm/DialogContent/DialogContent.js
var import_jsx_runtime49 = __toESM(require_jsx_runtime(), 1);
"use client";
var useUtilityClasses21 = (ownerState) => {
  const {
    classes,
    dividers
  } = ownerState;
  const slots = {
    root: ["root", dividers && "dividers"]
  };
  return composeClasses(slots, getDialogContentUtilityClass, classes);
};
var DialogContentRoot = styled_default2("div", {
  name: "MuiDialogContent",
  slot: "Root",
  overridesResolver: (props, styles3) => {
    const {
      ownerState
    } = props;
    return [styles3.root, ownerState.dividers && styles3.dividers];
  }
})(memoTheme_default(({
  theme
}) => ({
  flex: "1 1 auto",
  WebkitOverflowScrolling: "touch",
  overflowY: "auto",
  padding: "20px 24px",
  variants: [{
    props: ({
      ownerState
    }) => ownerState.dividers,
    style: {
      padding: "16px 24px",
      borderTop: `1px solid ${(theme.vars || theme).palette.divider}`,
      borderBottom: `1px solid ${(theme.vars || theme).palette.divider}`
    }
  }, {
    props: ({
      ownerState
    }) => !ownerState.dividers,
    style: {
      [`.${dialogTitleClasses_default.root} + &`]: {
        paddingTop: 0
      }
    }
  }]
})));
var DialogContent = /* @__PURE__ */ React87.forwardRef(function DialogContent2(inProps, ref) {
  const props = useDefaultProps2({
    props: inProps,
    name: "MuiDialogContent"
  });
  const {
    className,
    dividers = false,
    ...other
  } = props;
  const ownerState = {
    ...props,
    dividers
  };
  const classes = useUtilityClasses21(ownerState);
  return /* @__PURE__ */ import_jsx_runtime49.jsx(DialogContentRoot, {
    className: clsx_default(classes.root, className),
    ownerState,
    ref,
    ...other
  });
});
DialogContent.propTypes = {
  children: import_prop_types51.default.node,
  classes: import_prop_types51.default.object,
  className: import_prop_types51.default.string,
  dividers: import_prop_types51.default.bool,
  sx: import_prop_types51.default.oneOfType([import_prop_types51.default.arrayOf(import_prop_types51.default.oneOfType([import_prop_types51.default.func, import_prop_types51.default.object, import_prop_types51.default.bool])), import_prop_types51.default.func, import_prop_types51.default.object])
};
var DialogContent_default = DialogContent;
// node_modules/@mui/material/esm/DialogTitle/DialogTitle.js
var React88 = __toESM(require_react(), 1);
var import_prop_types52 = __toESM(require_prop_types(), 1);
var import_jsx_runtime50 = __toESM(require_jsx_runtime(), 1);
"use client";
var useUtilityClasses22 = (ownerState) => {
  const {
    classes
  } = ownerState;
  const slots = {
    root: ["root"]
  };
  return composeClasses(slots, getDialogTitleUtilityClass, classes);
};
var DialogTitleRoot = styled_default2(Typography_default, {
  name: "MuiDialogTitle",
  slot: "Root"
})({
  padding: "16px 24px",
  flex: "0 0 auto"
});
var DialogTitle = /* @__PURE__ */ React88.forwardRef(function DialogTitle2(inProps, ref) {
  const props = useDefaultProps2({
    props: inProps,
    name: "MuiDialogTitle"
  });
  const {
    className,
    id: idProp,
    ...other
  } = props;
  const ownerState = props;
  const classes = useUtilityClasses22(ownerState);
  const {
    titleId = idProp
  } = React88.useContext(DialogContext_default);
  return /* @__PURE__ */ import_jsx_runtime50.jsx(DialogTitleRoot, {
    component: "h2",
    className: clsx_default(classes.root, className),
    ownerState,
    ref,
    variant: "h6",
    id: idProp ?? titleId,
    ...other
  });
});
DialogTitle.propTypes = {
  children: import_prop_types52.default.node,
  classes: import_prop_types52.default.object,
  className: import_prop_types52.default.string,
  id: import_prop_types52.default.string,
  sx: import_prop_types52.default.oneOfType([import_prop_types52.default.arrayOf(import_prop_types52.default.oneOfType([import_prop_types52.default.func, import_prop_types52.default.object, import_prop_types52.default.bool])), import_prop_types52.default.func, import_prop_types52.default.object])
};
var DialogTitle_default = DialogTitle;
// node_modules/@mui/material/esm/Divider/Divider.js
var React89 = __toESM(require_react(), 1);
var import_prop_types53 = __toESM(require_prop_types(), 1);

// node_modules/@mui/material/esm/Divider/dividerClasses.js
function getDividerUtilityClass(slot) {
  return generateUtilityClass("MuiDivider", slot);
}
var dividerClasses = generateUtilityClasses("MuiDivider", ["root", "absolute", "fullWidth", "inset", "middle", "flexItem", "light", "vertical", "withChildren", "withChildrenVertical", "textAlignRight", "textAlignLeft", "wrapper", "wrapperVertical"]);

// node_modules/@mui/material/esm/Divider/Divider.js
var import_jsx_runtime51 = __toESM(require_jsx_runtime(), 1);
"use client";
var useUtilityClasses23 = (ownerState) => {
  const {
    absolute,
    children,
    classes,
    flexItem,
    light: light2,
    orientation,
    textAlign,
    variant
  } = ownerState;
  const slots = {
    root: ["root", absolute && "absolute", variant, light2 && "light", orientation === "vertical" && "vertical", flexItem && "flexItem", children && "withChildren", children && orientation === "vertical" && "withChildrenVertical", textAlign === "right" && orientation !== "vertical" && "textAlignRight", textAlign === "left" && orientation !== "vertical" && "textAlignLeft"],
    wrapper: ["wrapper", orientation === "vertical" && "wrapperVertical"]
  };
  return composeClasses(slots, getDividerUtilityClass, classes);
};
var DividerRoot = styled_default2("div", {
  name: "MuiDivider",
  slot: "Root",
  overridesResolver: (props, styles3) => {
    const {
      ownerState
    } = props;
    return [styles3.root, ownerState.absolute && styles3.absolute, styles3[ownerState.variant], ownerState.light && styles3.light, ownerState.orientation === "vertical" && styles3.vertical, ownerState.flexItem && styles3.flexItem, ownerState.children && styles3.withChildren, ownerState.children && ownerState.orientation === "vertical" && styles3.withChildrenVertical, ownerState.textAlign === "right" && ownerState.orientation !== "vertical" && styles3.textAlignRight, ownerState.textAlign === "left" && ownerState.orientation !== "vertical" && styles3.textAlignLeft];
  }
})(memoTheme_default(({
  theme
}) => ({
  margin: 0,
  flexShrink: 0,
  borderWidth: 0,
  borderStyle: "solid",
  borderColor: (theme.vars || theme).palette.divider,
  borderBottomWidth: "thin",
  variants: [{
    props: {
      absolute: true
    },
    style: {
      position: "absolute",
      bottom: 0,
      left: 0,
      width: "100%"
    }
  }, {
    props: {
      light: true
    },
    style: {
      borderColor: theme.alpha((theme.vars || theme).palette.divider, 0.08)
    }
  }, {
    props: {
      variant: "inset"
    },
    style: {
      marginLeft: 72
    }
  }, {
    props: {
      variant: "middle",
      orientation: "horizontal"
    },
    style: {
      marginLeft: theme.spacing(2),
      marginRight: theme.spacing(2)
    }
  }, {
    props: {
      variant: "middle",
      orientation: "vertical"
    },
    style: {
      marginTop: theme.spacing(1),
      marginBottom: theme.spacing(1)
    }
  }, {
    props: {
      orientation: "vertical"
    },
    style: {
      height: "100%",
      borderBottomWidth: 0,
      borderRightWidth: "thin"
    }
  }, {
    props: {
      flexItem: true
    },
    style: {
      alignSelf: "stretch",
      height: "auto"
    }
  }, {
    props: ({
      ownerState
    }) => !!ownerState.children,
    style: {
      display: "flex",
      textAlign: "center",
      border: 0,
      borderTopStyle: "solid",
      borderLeftStyle: "solid",
      "&::before, &::after": {
        content: '""',
        alignSelf: "center"
      }
    }
  }, {
    props: ({
      ownerState
    }) => ownerState.children && ownerState.orientation !== "vertical",
    style: {
      "&::before, &::after": {
        width: "100%",
        borderTop: `thin solid ${(theme.vars || theme).palette.divider}`,
        borderTopStyle: "inherit"
      }
    }
  }, {
    props: ({
      ownerState
    }) => ownerState.orientation === "vertical" && ownerState.children,
    style: {
      flexDirection: "column",
      "&::before, &::after": {
        height: "100%",
        borderLeft: `thin solid ${(theme.vars || theme).palette.divider}`,
        borderLeftStyle: "inherit"
      }
    }
  }, {
    props: ({
      ownerState
    }) => ownerState.textAlign === "right" && ownerState.orientation !== "vertical",
    style: {
      "&::before": {
        width: "90%"
      },
      "&::after": {
        width: "10%"
      }
    }
  }, {
    props: ({
      ownerState
    }) => ownerState.textAlign === "left" && ownerState.orientation !== "vertical",
    style: {
      "&::before": {
        width: "10%"
      },
      "&::after": {
        width: "90%"
      }
    }
  }]
})));
var DividerWrapper = styled_default2("span", {
  name: "MuiDivider",
  slot: "Wrapper",
  overridesResolver: (props, styles3) => {
    const {
      ownerState
    } = props;
    return [styles3.wrapper, ownerState.orientation === "vertical" && styles3.wrapperVertical];
  }
})(memoTheme_default(({
  theme
}) => ({
  display: "inline-block",
  paddingLeft: `calc(${theme.spacing(1)} * 1.2)`,
  paddingRight: `calc(${theme.spacing(1)} * 1.2)`,
  whiteSpace: "nowrap",
  variants: [{
    props: {
      orientation: "vertical"
    },
    style: {
      paddingTop: `calc(${theme.spacing(1)} * 1.2)`,
      paddingBottom: `calc(${theme.spacing(1)} * 1.2)`
    }
  }]
})));
var Divider = /* @__PURE__ */ React89.forwardRef(function Divider2(inProps, ref) {
  const props = useDefaultProps2({
    props: inProps,
    name: "MuiDivider"
  });
  const {
    absolute = false,
    children,
    className,
    orientation = "horizontal",
    component = children || orientation === "vertical" ? "div" : "hr",
    flexItem = false,
    light: light2 = false,
    role = component !== "hr" ? "separator" : undefined,
    textAlign = "center",
    variant = "fullWidth",
    ...other
  } = props;
  const ownerState = {
    ...props,
    absolute,
    component,
    flexItem,
    light: light2,
    orientation,
    role,
    textAlign,
    variant
  };
  const classes = useUtilityClasses23(ownerState);
  return /* @__PURE__ */ import_jsx_runtime51.jsx(DividerRoot, {
    as: component,
    className: clsx_default(classes.root, className),
    role,
    ref,
    ownerState,
    "aria-orientation": role === "separator" && (component !== "hr" || orientation === "vertical") ? orientation : undefined,
    ...other,
    children: children ? /* @__PURE__ */ import_jsx_runtime51.jsx(DividerWrapper, {
      className: classes.wrapper,
      ownerState,
      children
    }) : null
  });
});
if (Divider) {
  Divider.muiSkipListHighlight = true;
}
Divider.propTypes = {
  absolute: import_prop_types53.default.bool,
  children: import_prop_types53.default.node,
  classes: import_prop_types53.default.object,
  className: import_prop_types53.default.string,
  component: import_prop_types53.default.elementType,
  flexItem: import_prop_types53.default.bool,
  light: import_prop_types53.default.bool,
  orientation: import_prop_types53.default.oneOf(["horizontal", "vertical"]),
  role: import_prop_types53.default.string,
  sx: import_prop_types53.default.oneOfType([import_prop_types53.default.arrayOf(import_prop_types53.default.oneOfType([import_prop_types53.default.func, import_prop_types53.default.object, import_prop_types53.default.bool])), import_prop_types53.default.func, import_prop_types53.default.object]),
  textAlign: import_prop_types53.default.oneOf(["center", "left", "right"]),
  variant: import_prop_types53.default.oneOfType([import_prop_types53.default.oneOf(["fullWidth", "inset", "middle"]), import_prop_types53.default.string])
};
var Divider_default = Divider;
// node_modules/@mui/material/esm/Drawer/Drawer.js
var React91 = __toESM(require_react(), 1);
var import_prop_types55 = __toESM(require_prop_types(), 1);

// node_modules/@mui/material/esm/Slide/Slide.js
var React90 = __toESM(require_react(), 1);
var import_prop_types54 = __toESM(require_prop_types(), 1);
var import_jsx_runtime52 = __toESM(require_jsx_runtime(), 1);
"use client";
function getTranslateValue(direction, node2, resolvedContainer) {
  const rect = node2.getBoundingClientRect();
  const containerRect = resolvedContainer && resolvedContainer.getBoundingClientRect();
  const containerWindow = ownerWindow_default(node2);
  let transform;
  if (node2.fakeTransform) {
    transform = node2.fakeTransform;
  } else {
    const computedStyle = containerWindow.getComputedStyle(node2);
    transform = computedStyle.getPropertyValue("-webkit-transform") || computedStyle.getPropertyValue("transform");
  }
  let offsetX = 0;
  let offsetY = 0;
  if (transform && transform !== "none" && typeof transform === "string") {
    const transformValues = transform.split("(")[1].split(")")[0].split(",");
    offsetX = parseInt(transformValues[4], 10);
    offsetY = parseInt(transformValues[5], 10);
  }
  if (direction === "left") {
    if (containerRect) {
      return `translateX(${containerRect.right + offsetX - rect.left}px)`;
    }
    return `translateX(${containerWindow.innerWidth + offsetX - rect.left}px)`;
  }
  if (direction === "right") {
    if (containerRect) {
      return `translateX(-${rect.right - containerRect.left - offsetX}px)`;
    }
    return `translateX(-${rect.left + rect.width - offsetX}px)`;
  }
  if (direction === "up") {
    if (containerRect) {
      return `translateY(${containerRect.bottom + offsetY - rect.top}px)`;
    }
    return `translateY(${containerWindow.innerHeight + offsetY - rect.top}px)`;
  }
  if (containerRect) {
    return `translateY(-${rect.top - containerRect.top + rect.height - offsetY}px)`;
  }
  return `translateY(-${rect.top + rect.height - offsetY}px)`;
}
function resolveContainer(containerPropProp) {
  return typeof containerPropProp === "function" ? containerPropProp() : containerPropProp;
}
function setTranslateValue(direction, node2, containerProp) {
  const resolvedContainer = resolveContainer(containerProp);
  const transform = getTranslateValue(direction, node2, resolvedContainer);
  if (transform) {
    node2.style.webkitTransform = transform;
    node2.style.transform = transform;
  }
}
var Slide = /* @__PURE__ */ React90.forwardRef(function Slide2(props, ref) {
  const theme = useTheme6();
  const defaultEasing = {
    enter: theme.transitions.easing.easeOut,
    exit: theme.transitions.easing.sharp
  };
  const defaultTimeout = {
    enter: theme.transitions.duration.enteringScreen,
    exit: theme.transitions.duration.leavingScreen
  };
  const {
    addEndListener,
    appear = true,
    children,
    container: containerProp,
    direction = "down",
    easing: easingProp = defaultEasing,
    in: inProp,
    onEnter,
    onEntered,
    onEntering,
    onExit,
    onExited,
    onExiting,
    style: style5,
    timeout: timeout2 = defaultTimeout,
    TransitionComponent = Transition_default,
    ...other
  } = props;
  const childrenRef = React90.useRef(null);
  const handleRef = useForkRef_default(getReactElementRef(children), childrenRef, ref);
  const normalizedTransitionCallback = (callback) => (isAppearing) => {
    if (callback) {
      if (isAppearing === undefined) {
        callback(childrenRef.current);
      } else {
        callback(childrenRef.current, isAppearing);
      }
    }
  };
  const handleEnter = normalizedTransitionCallback((node2, isAppearing) => {
    setTranslateValue(direction, node2, containerProp);
    reflow(node2);
    if (onEnter) {
      onEnter(node2, isAppearing);
    }
  });
  const handleEntering = normalizedTransitionCallback((node2, isAppearing) => {
    const transitionProps = getTransitionProps({
      timeout: timeout2,
      style: style5,
      easing: easingProp
    }, {
      mode: "enter"
    });
    node2.style.webkitTransition = theme.transitions.create("-webkit-transform", {
      ...transitionProps
    });
    node2.style.transition = theme.transitions.create("transform", {
      ...transitionProps
    });
    node2.style.webkitTransform = "none";
    node2.style.transform = "none";
    if (onEntering) {
      onEntering(node2, isAppearing);
    }
  });
  const handleEntered = normalizedTransitionCallback(onEntered);
  const handleExiting = normalizedTransitionCallback(onExiting);
  const handleExit = normalizedTransitionCallback((node2) => {
    const transitionProps = getTransitionProps({
      timeout: timeout2,
      style: style5,
      easing: easingProp
    }, {
      mode: "exit"
    });
    node2.style.webkitTransition = theme.transitions.create("-webkit-transform", transitionProps);
    node2.style.transition = theme.transitions.create("transform", transitionProps);
    setTranslateValue(direction, node2, containerProp);
    if (onExit) {
      onExit(node2);
    }
  });
  const handleExited = normalizedTransitionCallback((node2) => {
    node2.style.webkitTransition = "";
    node2.style.transition = "";
    if (onExited) {
      onExited(node2);
    }
  });
  const handleAddEndListener = (next2) => {
    if (addEndListener) {
      addEndListener(childrenRef.current, next2);
    }
  };
  const updatePosition = React90.useCallback(() => {
    if (childrenRef.current) {
      setTranslateValue(direction, childrenRef.current, containerProp);
    }
  }, [direction, containerProp]);
  React90.useEffect(() => {
    if (inProp || direction === "down" || direction === "right") {
      return;
    }
    const handleResize = debounce_default(() => {
      if (childrenRef.current) {
        setTranslateValue(direction, childrenRef.current, containerProp);
      }
    });
    const containerWindow = ownerWindow_default(childrenRef.current);
    containerWindow.addEventListener("resize", handleResize);
    return () => {
      handleResize.clear();
      containerWindow.removeEventListener("resize", handleResize);
    };
  }, [direction, inProp, containerProp]);
  React90.useEffect(() => {
    if (!inProp) {
      updatePosition();
    }
  }, [inProp, updatePosition]);
  return /* @__PURE__ */ import_jsx_runtime52.jsx(TransitionComponent, {
    nodeRef: childrenRef,
    onEnter: handleEnter,
    onEntered: handleEntered,
    onEntering: handleEntering,
    onExit: handleExit,
    onExited: handleExited,
    onExiting: handleExiting,
    addEndListener: handleAddEndListener,
    appear,
    in: inProp,
    timeout: timeout2,
    ...other,
    children: (state, {
      ownerState,
      ...restChildProps
    }) => {
      return /* @__PURE__ */ React90.cloneElement(children, {
        ref: handleRef,
        style: {
          visibility: state === "exited" && !inProp ? "hidden" : undefined,
          ...style5,
          ...children.props.style
        },
        ...restChildProps
      });
    }
  });
});
Slide.propTypes = {
  addEndListener: import_prop_types54.default.func,
  appear: import_prop_types54.default.bool,
  children: elementAcceptingRef_default.isRequired,
  container: chainPropTypes(import_prop_types54.default.oneOfType([HTMLElementType, import_prop_types54.default.func]), (props) => {
    if (props.open) {
      const resolvedContainer = resolveContainer(props.container);
      if (resolvedContainer && resolvedContainer.nodeType === 1) {
        const box = resolvedContainer.getBoundingClientRect();
        if (box.top === 0 && box.left === 0 && box.right === 0 && box.bottom === 0) {
          return new Error(["MUI: The `container` prop provided to the component is invalid.", "The anchor element should be part of the document layout.", "Make sure the element is present in the document or that it's not display none."].join(`
`));
        }
      } else if (!resolvedContainer || typeof resolvedContainer.getBoundingClientRect !== "function" || resolvedContainer.contextElement != null && resolvedContainer.contextElement.nodeType !== 1) {
        return new Error(["MUI: The `container` prop provided to the component is invalid.", "It should be an HTML element instance."].join(`
`));
      }
    }
    return null;
  }),
  direction: import_prop_types54.default.oneOf(["down", "left", "right", "up"]),
  easing: import_prop_types54.default.oneOfType([import_prop_types54.default.shape({
    enter: import_prop_types54.default.string,
    exit: import_prop_types54.default.string
  }), import_prop_types54.default.string]),
  in: import_prop_types54.default.bool,
  onEnter: import_prop_types54.default.func,
  onEntered: import_prop_types54.default.func,
  onEntering: import_prop_types54.default.func,
  onExit: import_prop_types54.default.func,
  onExited: import_prop_types54.default.func,
  onExiting: import_prop_types54.default.func,
  style: import_prop_types54.default.object,
  timeout: import_prop_types54.default.oneOfType([import_prop_types54.default.number, import_prop_types54.default.shape({
    appear: import_prop_types54.default.number,
    enter: import_prop_types54.default.number,
    exit: import_prop_types54.default.number
  })])
};
var Slide_default = Slide;
// node_modules/@mui/material/esm/Drawer/drawerClasses.js
function getDrawerUtilityClass(slot) {
  return generateUtilityClass("MuiDrawer", slot);
}
var drawerClasses = generateUtilityClasses("MuiDrawer", ["root", "docked", "paper", "anchorLeft", "anchorRight", "anchorTop", "anchorBottom", "paperAnchorLeft", "paperAnchorRight", "paperAnchorTop", "paperAnchorBottom", "paperAnchorDockedLeft", "paperAnchorDockedRight", "paperAnchorDockedTop", "paperAnchorDockedBottom", "modal"]);

// node_modules/@mui/material/esm/Drawer/Drawer.js
var import_jsx_runtime53 = __toESM(require_jsx_runtime(), 1);
"use client";
var overridesResolver = (props, styles3) => {
  const {
    ownerState
  } = props;
  return [styles3.root, (ownerState.variant === "permanent" || ownerState.variant === "persistent") && styles3.docked, styles3.modal];
};
var useUtilityClasses24 = (ownerState) => {
  const {
    classes,
    anchor,
    variant
  } = ownerState;
  const slots = {
    root: ["root", `anchor${capitalize_default(anchor)}`],
    docked: [(variant === "permanent" || variant === "persistent") && "docked"],
    modal: ["modal"],
    paper: ["paper", `paperAnchor${capitalize_default(anchor)}`, variant !== "temporary" && `paperAnchorDocked${capitalize_default(anchor)}`]
  };
  return composeClasses(slots, getDrawerUtilityClass, classes);
};
var DrawerRoot = styled_default2(Modal_default, {
  name: "MuiDrawer",
  slot: "Root",
  overridesResolver
})(memoTheme_default(({
  theme
}) => ({
  zIndex: (theme.vars || theme).zIndex.drawer
})));
var DrawerDockedRoot = styled_default2("div", {
  shouldForwardProp: rootShouldForwardProp_default,
  name: "MuiDrawer",
  slot: "Docked",
  skipVariantsResolver: false,
  overridesResolver
})({
  flex: "0 0 auto"
});
var DrawerPaper = styled_default2(Paper_default, {
  name: "MuiDrawer",
  slot: "Paper",
  overridesResolver: (props, styles3) => {
    const {
      ownerState
    } = props;
    return [styles3.paper, styles3[`paperAnchor${capitalize_default(ownerState.anchor)}`], ownerState.variant !== "temporary" && styles3[`paperAnchorDocked${capitalize_default(ownerState.anchor)}`]];
  }
})(memoTheme_default(({
  theme
}) => ({
  overflowY: "auto",
  display: "flex",
  flexDirection: "column",
  height: "100%",
  flex: "1 0 auto",
  zIndex: (theme.vars || theme).zIndex.drawer,
  WebkitOverflowScrolling: "touch",
  position: "fixed",
  top: 0,
  outline: 0,
  variants: [{
    props: {
      anchor: "left"
    },
    style: {
      left: 0
    }
  }, {
    props: {
      anchor: "top"
    },
    style: {
      top: 0,
      left: 0,
      right: 0,
      height: "auto",
      maxHeight: "100%"
    }
  }, {
    props: {
      anchor: "right"
    },
    style: {
      right: 0
    }
  }, {
    props: {
      anchor: "bottom"
    },
    style: {
      top: "auto",
      left: 0,
      bottom: 0,
      right: 0,
      height: "auto",
      maxHeight: "100%"
    }
  }, {
    props: ({
      ownerState
    }) => ownerState.anchor === "left" && ownerState.variant !== "temporary",
    style: {
      borderRight: `1px solid ${(theme.vars || theme).palette.divider}`
    }
  }, {
    props: ({
      ownerState
    }) => ownerState.anchor === "top" && ownerState.variant !== "temporary",
    style: {
      borderBottom: `1px solid ${(theme.vars || theme).palette.divider}`
    }
  }, {
    props: ({
      ownerState
    }) => ownerState.anchor === "right" && ownerState.variant !== "temporary",
    style: {
      borderLeft: `1px solid ${(theme.vars || theme).palette.divider}`
    }
  }, {
    props: ({
      ownerState
    }) => ownerState.anchor === "bottom" && ownerState.variant !== "temporary",
    style: {
      borderTop: `1px solid ${(theme.vars || theme).palette.divider}`
    }
  }]
})));
var oppositeDirection = {
  left: "right",
  right: "left",
  top: "down",
  bottom: "up"
};
function isHorizontal(anchor) {
  return ["left", "right"].includes(anchor);
}
function getAnchor({
  direction
}, anchor) {
  return direction === "rtl" && isHorizontal(anchor) ? oppositeDirection[anchor] : anchor;
}
var Drawer = /* @__PURE__ */ React91.forwardRef(function Drawer2(inProps, ref) {
  const props = useDefaultProps2({
    props: inProps,
    name: "MuiDrawer"
  });
  const theme = useTheme6();
  const isRtl = useRtl();
  const defaultTransitionDuration = {
    enter: theme.transitions.duration.enteringScreen,
    exit: theme.transitions.duration.leavingScreen
  };
  const {
    anchor: anchorProp = "left",
    BackdropProps,
    children,
    className,
    elevation = 16,
    hideBackdrop = false,
    ModalProps: {
      BackdropProps: BackdropPropsProp,
      ...ModalProps
    } = {},
    onClose,
    open = false,
    PaperProps = {},
    SlideProps,
    TransitionComponent,
    transitionDuration = defaultTransitionDuration,
    variant = "temporary",
    slots = {},
    slotProps = {},
    ...other
  } = props;
  const mounted = React91.useRef(false);
  React91.useEffect(() => {
    mounted.current = true;
  }, []);
  const anchorInvariant = getAnchor({
    direction: isRtl ? "rtl" : "ltr"
  }, anchorProp);
  const anchor = anchorProp;
  const ownerState = {
    ...props,
    anchor,
    elevation,
    open,
    variant,
    ...other
  };
  const classes = useUtilityClasses24(ownerState);
  const externalForwardedProps = {
    slots: {
      transition: TransitionComponent,
      ...slots
    },
    slotProps: {
      paper: PaperProps,
      transition: SlideProps,
      ...slotProps,
      backdrop: mergeSlotProps(slotProps.backdrop || {
        ...BackdropProps,
        ...BackdropPropsProp
      }, {
        transitionDuration
      })
    }
  };
  const [RootSlot, rootSlotProps] = useSlot("root", {
    ref,
    elementType: DrawerRoot,
    className: clsx_default(classes.root, classes.modal, className),
    shouldForwardComponentProp: true,
    ownerState,
    externalForwardedProps: {
      ...externalForwardedProps,
      ...other,
      ...ModalProps
    },
    additionalProps: {
      open,
      onClose,
      hideBackdrop,
      slots: {
        backdrop: externalForwardedProps.slots.backdrop
      },
      slotProps: {
        backdrop: externalForwardedProps.slotProps.backdrop
      }
    }
  });
  const [PaperSlot, paperSlotProps] = useSlot("paper", {
    elementType: DrawerPaper,
    shouldForwardComponentProp: true,
    className: clsx_default(classes.paper, PaperProps.className),
    ownerState,
    externalForwardedProps,
    additionalProps: {
      elevation: variant === "temporary" ? elevation : 0,
      square: true,
      ...variant === "temporary" && {
        role: "dialog",
        "aria-modal": "true"
      }
    }
  });
  const [DockedSlot, dockedSlotProps] = useSlot("docked", {
    elementType: DrawerDockedRoot,
    ref,
    className: clsx_default(classes.root, classes.docked, className),
    ownerState,
    externalForwardedProps,
    additionalProps: other
  });
  const [TransitionSlot, transitionSlotProps] = useSlot("transition", {
    elementType: Slide_default,
    ownerState,
    externalForwardedProps,
    additionalProps: {
      in: open,
      direction: oppositeDirection[anchorInvariant],
      timeout: transitionDuration,
      appear: mounted.current
    }
  });
  const drawer = /* @__PURE__ */ import_jsx_runtime53.jsx(PaperSlot, {
    ...paperSlotProps,
    children
  });
  if (variant === "permanent") {
    return /* @__PURE__ */ import_jsx_runtime53.jsx(DockedSlot, {
      ...dockedSlotProps,
      children: drawer
    });
  }
  const slidingDrawer = /* @__PURE__ */ import_jsx_runtime53.jsx(TransitionSlot, {
    ...transitionSlotProps,
    children: drawer
  });
  if (variant === "persistent") {
    return /* @__PURE__ */ import_jsx_runtime53.jsx(DockedSlot, {
      ...dockedSlotProps,
      children: slidingDrawer
    });
  }
  return /* @__PURE__ */ import_jsx_runtime53.jsx(RootSlot, {
    ...rootSlotProps,
    children: slidingDrawer
  });
});
Drawer.propTypes = {
  anchor: import_prop_types55.default.oneOf(["bottom", "left", "right", "top"]),
  BackdropProps: import_prop_types55.default.object,
  children: import_prop_types55.default.node,
  classes: import_prop_types55.default.object,
  className: import_prop_types55.default.string,
  elevation: integerPropType_default,
  hideBackdrop: import_prop_types55.default.bool,
  ModalProps: import_prop_types55.default.object,
  onClose: import_prop_types55.default.func,
  open: import_prop_types55.default.bool,
  PaperProps: import_prop_types55.default.object,
  SlideProps: import_prop_types55.default.object,
  slotProps: import_prop_types55.default.shape({
    backdrop: import_prop_types55.default.oneOfType([import_prop_types55.default.func, import_prop_types55.default.object]),
    docked: import_prop_types55.default.oneOfType([import_prop_types55.default.func, import_prop_types55.default.object]),
    paper: import_prop_types55.default.oneOfType([import_prop_types55.default.func, import_prop_types55.default.object]),
    root: import_prop_types55.default.oneOfType([import_prop_types55.default.func, import_prop_types55.default.object]),
    transition: import_prop_types55.default.oneOfType([import_prop_types55.default.func, import_prop_types55.default.object])
  }),
  slots: import_prop_types55.default.shape({
    backdrop: import_prop_types55.default.elementType,
    docked: import_prop_types55.default.elementType,
    paper: import_prop_types55.default.elementType,
    root: import_prop_types55.default.elementType,
    transition: import_prop_types55.default.elementType
  }),
  sx: import_prop_types55.default.oneOfType([import_prop_types55.default.arrayOf(import_prop_types55.default.oneOfType([import_prop_types55.default.func, import_prop_types55.default.object, import_prop_types55.default.bool])), import_prop_types55.default.func, import_prop_types55.default.object]),
  transitionDuration: import_prop_types55.default.oneOfType([import_prop_types55.default.number, import_prop_types55.default.shape({
    appear: import_prop_types55.default.number,
    enter: import_prop_types55.default.number,
    exit: import_prop_types55.default.number
  })]),
  variant: import_prop_types55.default.oneOf(["permanent", "persistent", "temporary"])
};
var Drawer_default = Drawer;
// node_modules/@mui/material/esm/Grid/Grid.js
var import_prop_types56 = __toESM(require_prop_types(), 1);
"use client";
var Grid3 = createGrid({
  createStyledComponent: styled_default2("div", {
    name: "MuiGrid",
    slot: "Root",
    overridesResolver: (props, styles3) => {
      const {
        ownerState
      } = props;
      return [styles3.root, ownerState.container && styles3.container];
    }
  }),
  componentName: "MuiGrid",
  useThemeProps: (inProps) => useDefaultProps2({
    props: inProps,
    name: "MuiGrid"
  }),
  useTheme: useTheme6
});
Grid3.propTypes = {
  children: import_prop_types56.default.node,
  columns: import_prop_types56.default.oneOfType([import_prop_types56.default.arrayOf(import_prop_types56.default.number), import_prop_types56.default.number, import_prop_types56.default.object]),
  columnSpacing: import_prop_types56.default.oneOfType([import_prop_types56.default.arrayOf(import_prop_types56.default.oneOfType([import_prop_types56.default.number, import_prop_types56.default.string])), import_prop_types56.default.number, import_prop_types56.default.object, import_prop_types56.default.string]),
  container: import_prop_types56.default.bool,
  direction: import_prop_types56.default.oneOfType([import_prop_types56.default.oneOf(["column-reverse", "column", "row-reverse", "row"]), import_prop_types56.default.arrayOf(import_prop_types56.default.oneOf(["column-reverse", "column", "row-reverse", "row"])), import_prop_types56.default.object]),
  offset: import_prop_types56.default.oneOfType([import_prop_types56.default.string, import_prop_types56.default.number, import_prop_types56.default.arrayOf(import_prop_types56.default.oneOfType([import_prop_types56.default.string, import_prop_types56.default.number])), import_prop_types56.default.object]),
  rowSpacing: import_prop_types56.default.oneOfType([import_prop_types56.default.arrayOf(import_prop_types56.default.oneOfType([import_prop_types56.default.number, import_prop_types56.default.string])), import_prop_types56.default.number, import_prop_types56.default.object, import_prop_types56.default.string]),
  size: import_prop_types56.default.oneOfType([import_prop_types56.default.string, import_prop_types56.default.bool, import_prop_types56.default.number, import_prop_types56.default.arrayOf(import_prop_types56.default.oneOfType([import_prop_types56.default.string, import_prop_types56.default.bool, import_prop_types56.default.number])), import_prop_types56.default.object]),
  spacing: import_prop_types56.default.oneOfType([import_prop_types56.default.arrayOf(import_prop_types56.default.oneOfType([import_prop_types56.default.number, import_prop_types56.default.string])), import_prop_types56.default.number, import_prop_types56.default.object, import_prop_types56.default.string]),
  sx: import_prop_types56.default.oneOfType([import_prop_types56.default.arrayOf(import_prop_types56.default.oneOfType([import_prop_types56.default.func, import_prop_types56.default.object, import_prop_types56.default.bool])), import_prop_types56.default.func, import_prop_types56.default.object]),
  unstable_level: import_prop_types56.default.number,
  wrap: import_prop_types56.default.oneOf(["nowrap", "wrap-reverse", "wrap"])
};
if (true) {
  const Component4 = Grid3;
  const requireProp = requirePropFactory_default("Grid", Component4);
  Component4["propTypes" + ""] = {
    ...Component4.propTypes,
    direction: requireProp("container"),
    spacing: requireProp("container"),
    wrap: requireProp("container")
  };
}
var Grid_default2 = Grid3;
// node_modules/@mui/material/esm/Grow/Grow.js
var React92 = __toESM(require_react(), 1);
var import_prop_types57 = __toESM(require_prop_types(), 1);
var import_jsx_runtime54 = __toESM(require_jsx_runtime(), 1);
"use client";
function getScale(value) {
  return `scale(${value}, ${value ** 2})`;
}
var styles3 = {
  entering: {
    opacity: 1,
    transform: getScale(1)
  },
  entered: {
    opacity: 1,
    transform: "none"
  }
};
var isWebKit154 = typeof navigator !== "undefined" && /^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent) && /(os |version\/)15(.|_)4/i.test(navigator.userAgent);
var Grow = /* @__PURE__ */ React92.forwardRef(function Grow2(props, ref) {
  const {
    addEndListener,
    appear = true,
    children,
    easing: easing2,
    in: inProp,
    onEnter,
    onEntered,
    onEntering,
    onExit,
    onExited,
    onExiting,
    style: style5,
    timeout: timeout2 = "auto",
    TransitionComponent = Transition_default,
    ...other
  } = props;
  const timer = useTimeout();
  const autoTimeout = React92.useRef();
  const theme = useTheme6();
  const nodeRef = React92.useRef(null);
  const handleRef = useForkRef_default(nodeRef, getReactElementRef(children), ref);
  const normalizedTransitionCallback = (callback) => (maybeIsAppearing) => {
    if (callback) {
      const node2 = nodeRef.current;
      if (maybeIsAppearing === undefined) {
        callback(node2);
      } else {
        callback(node2, maybeIsAppearing);
      }
    }
  };
  const handleEntering = normalizedTransitionCallback(onEntering);
  const handleEnter = normalizedTransitionCallback((node2, isAppearing) => {
    reflow(node2);
    const {
      duration: transitionDuration,
      delay,
      easing: transitionTimingFunction
    } = getTransitionProps({
      style: style5,
      timeout: timeout2,
      easing: easing2
    }, {
      mode: "enter"
    });
    let duration2;
    if (timeout2 === "auto") {
      duration2 = theme.transitions.getAutoHeightDuration(node2.clientHeight);
      autoTimeout.current = duration2;
    } else {
      duration2 = transitionDuration;
    }
    node2.style.transition = [theme.transitions.create("opacity", {
      duration: duration2,
      delay
    }), theme.transitions.create("transform", {
      duration: isWebKit154 ? duration2 : duration2 * 0.666,
      delay,
      easing: transitionTimingFunction
    })].join(",");
    if (onEnter) {
      onEnter(node2, isAppearing);
    }
  });
  const handleEntered = normalizedTransitionCallback(onEntered);
  const handleExiting = normalizedTransitionCallback(onExiting);
  const handleExit = normalizedTransitionCallback((node2) => {
    const {
      duration: transitionDuration,
      delay,
      easing: transitionTimingFunction
    } = getTransitionProps({
      style: style5,
      timeout: timeout2,
      easing: easing2
    }, {
      mode: "exit"
    });
    let duration2;
    if (timeout2 === "auto") {
      duration2 = theme.transitions.getAutoHeightDuration(node2.clientHeight);
      autoTimeout.current = duration2;
    } else {
      duration2 = transitionDuration;
    }
    node2.style.transition = [theme.transitions.create("opacity", {
      duration: duration2,
      delay
    }), theme.transitions.create("transform", {
      duration: isWebKit154 ? duration2 : duration2 * 0.666,
      delay: isWebKit154 ? delay : delay || duration2 * 0.333,
      easing: transitionTimingFunction
    })].join(",");
    node2.style.opacity = 0;
    node2.style.transform = getScale(0.75);
    if (onExit) {
      onExit(node2);
    }
  });
  const handleExited = normalizedTransitionCallback(onExited);
  const handleAddEndListener = (next2) => {
    if (timeout2 === "auto") {
      timer.start(autoTimeout.current || 0, next2);
    }
    if (addEndListener) {
      addEndListener(nodeRef.current, next2);
    }
  };
  return /* @__PURE__ */ import_jsx_runtime54.jsx(TransitionComponent, {
    appear,
    in: inProp,
    nodeRef,
    onEnter: handleEnter,
    onEntered: handleEntered,
    onEntering: handleEntering,
    onExit: handleExit,
    onExited: handleExited,
    onExiting: handleExiting,
    addEndListener: handleAddEndListener,
    timeout: timeout2 === "auto" ? null : timeout2,
    ...other,
    children: (state, {
      ownerState,
      ...restChildProps
    }) => {
      return /* @__PURE__ */ React92.cloneElement(children, {
        style: {
          opacity: 0,
          transform: getScale(0.75),
          visibility: state === "exited" && !inProp ? "hidden" : undefined,
          ...styles3[state],
          ...style5,
          ...children.props.style
        },
        ref: handleRef,
        ...restChildProps
      });
    }
  });
});
Grow.propTypes = {
  addEndListener: import_prop_types57.default.func,
  appear: import_prop_types57.default.bool,
  children: elementAcceptingRef_default.isRequired,
  easing: import_prop_types57.default.oneOfType([import_prop_types57.default.shape({
    enter: import_prop_types57.default.string,
    exit: import_prop_types57.default.string
  }), import_prop_types57.default.string]),
  in: import_prop_types57.default.bool,
  onEnter: import_prop_types57.default.func,
  onEntered: import_prop_types57.default.func,
  onEntering: import_prop_types57.default.func,
  onExit: import_prop_types57.default.func,
  onExited: import_prop_types57.default.func,
  onExiting: import_prop_types57.default.func,
  style: import_prop_types57.default.object,
  timeout: import_prop_types57.default.oneOfType([import_prop_types57.default.oneOf(["auto"]), import_prop_types57.default.number, import_prop_types57.default.shape({
    appear: import_prop_types57.default.number,
    enter: import_prop_types57.default.number,
    exit: import_prop_types57.default.number
  })])
};
if (Grow) {
  Grow.muiSupportAuto = true;
}
var Grow_default = Grow;
// node_modules/@mui/material/esm/List/List.js
var React94 = __toESM(require_react(), 1);
var import_prop_types58 = __toESM(require_prop_types(), 1);

// node_modules/@mui/material/esm/List/ListContext.js
var React93 = __toESM(require_react(), 1);
"use client";
var ListContext = /* @__PURE__ */ React93.createContext({});
if (true) {
  ListContext.displayName = "ListContext";
}
var ListContext_default = ListContext;

// node_modules/@mui/material/esm/List/listClasses.js
function getListUtilityClass(slot) {
  return generateUtilityClass("MuiList", slot);
}
var listClasses = generateUtilityClasses("MuiList", ["root", "padding", "dense", "subheader"]);

// node_modules/@mui/material/esm/List/List.js
var import_jsx_runtime55 = __toESM(require_jsx_runtime(), 1);
"use client";
var useUtilityClasses25 = (ownerState) => {
  const {
    classes,
    disablePadding,
    dense,
    subheader
  } = ownerState;
  const slots = {
    root: ["root", !disablePadding && "padding", dense && "dense", subheader && "subheader"]
  };
  return composeClasses(slots, getListUtilityClass, classes);
};
var ListRoot = styled_default2("ul", {
  name: "MuiList",
  slot: "Root",
  overridesResolver: (props, styles4) => {
    const {
      ownerState
    } = props;
    return [styles4.root, !ownerState.disablePadding && styles4.padding, ownerState.dense && styles4.dense, ownerState.subheader && styles4.subheader];
  }
})({
  listStyle: "none",
  margin: 0,
  padding: 0,
  position: "relative",
  variants: [{
    props: ({
      ownerState
    }) => !ownerState.disablePadding,
    style: {
      paddingTop: 8,
      paddingBottom: 8
    }
  }, {
    props: ({
      ownerState
    }) => ownerState.subheader,
    style: {
      paddingTop: 0
    }
  }]
});
var List = /* @__PURE__ */ React94.forwardRef(function List2(inProps, ref) {
  const props = useDefaultProps2({
    props: inProps,
    name: "MuiList"
  });
  const {
    children,
    className,
    component = "ul",
    dense = false,
    disablePadding = false,
    subheader,
    ...other
  } = props;
  const context = React94.useMemo(() => ({
    dense
  }), [dense]);
  const ownerState = {
    ...props,
    component,
    dense,
    disablePadding
  };
  const classes = useUtilityClasses25(ownerState);
  return /* @__PURE__ */ import_jsx_runtime55.jsx(ListContext_default.Provider, {
    value: context,
    children: /* @__PURE__ */ import_jsx_runtime55.jsxs(ListRoot, {
      as: component,
      className: clsx_default(classes.root, className),
      ref,
      ownerState,
      ...other,
      children: [subheader, children]
    })
  });
});
List.propTypes = {
  children: import_prop_types58.default.node,
  classes: import_prop_types58.default.object,
  className: import_prop_types58.default.string,
  component: import_prop_types58.default.elementType,
  dense: import_prop_types58.default.bool,
  disablePadding: import_prop_types58.default.bool,
  subheader: import_prop_types58.default.node,
  sx: import_prop_types58.default.oneOfType([import_prop_types58.default.arrayOf(import_prop_types58.default.oneOfType([import_prop_types58.default.func, import_prop_types58.default.object, import_prop_types58.default.bool])), import_prop_types58.default.func, import_prop_types58.default.object])
};
var List_default = List;
// node_modules/@mui/material/esm/ListItemButton/ListItemButton.js
var React95 = __toESM(require_react(), 1);
var import_prop_types59 = __toESM(require_prop_types(), 1);

// node_modules/@mui/material/esm/ListItemButton/listItemButtonClasses.js
function getListItemButtonUtilityClass(slot) {
  return generateUtilityClass("MuiListItemButton", slot);
}
var listItemButtonClasses = generateUtilityClasses("MuiListItemButton", ["root", "focusVisible", "dense", "alignItemsFlexStart", "disabled", "divider", "gutters", "selected"]);
var listItemButtonClasses_default = listItemButtonClasses;

// node_modules/@mui/material/esm/ListItemButton/ListItemButton.js
var import_jsx_runtime56 = __toESM(require_jsx_runtime(), 1);
"use client";
var overridesResolver2 = (props, styles4) => {
  const {
    ownerState
  } = props;
  return [styles4.root, ownerState.dense && styles4.dense, ownerState.alignItems === "flex-start" && styles4.alignItemsFlexStart, ownerState.divider && styles4.divider, !ownerState.disableGutters && styles4.gutters];
};
var useUtilityClasses26 = (ownerState) => {
  const {
    alignItems,
    classes,
    dense,
    disabled,
    disableGutters,
    divider,
    selected
  } = ownerState;
  const slots = {
    root: ["root", dense && "dense", !disableGutters && "gutters", divider && "divider", disabled && "disabled", alignItems === "flex-start" && "alignItemsFlexStart", selected && "selected"]
  };
  const composedClasses = composeClasses(slots, getListItemButtonUtilityClass, classes);
  return {
    ...classes,
    ...composedClasses
  };
};
var ListItemButtonRoot = styled_default2(ButtonBase_default, {
  shouldForwardProp: (prop) => rootShouldForwardProp_default(prop) || prop === "classes",
  name: "MuiListItemButton",
  slot: "Root",
  overridesResolver: overridesResolver2
})(memoTheme_default(({
  theme
}) => ({
  display: "flex",
  flexGrow: 1,
  justifyContent: "flex-start",
  alignItems: "center",
  position: "relative",
  textDecoration: "none",
  minWidth: 0,
  boxSizing: "border-box",
  textAlign: "left",
  paddingTop: 8,
  paddingBottom: 8,
  transition: theme.transitions.create("background-color", {
    duration: theme.transitions.duration.shortest
  }),
  "&:hover": {
    textDecoration: "none",
    backgroundColor: (theme.vars || theme).palette.action.hover,
    "@media (hover: none)": {
      backgroundColor: "transparent"
    }
  },
  [`&.${listItemButtonClasses_default.selected}`]: {
    backgroundColor: theme.alpha((theme.vars || theme).palette.primary.main, (theme.vars || theme).palette.action.selectedOpacity),
    [`&.${listItemButtonClasses_default.focusVisible}`]: {
      backgroundColor: theme.alpha((theme.vars || theme).palette.primary.main, `${(theme.vars || theme).palette.action.selectedOpacity} + ${(theme.vars || theme).palette.action.focusOpacity}`)
    }
  },
  [`&.${listItemButtonClasses_default.selected}:hover`]: {
    backgroundColor: theme.alpha((theme.vars || theme).palette.primary.main, `${(theme.vars || theme).palette.action.selectedOpacity} + ${(theme.vars || theme).palette.action.hoverOpacity}`),
    "@media (hover: none)": {
      backgroundColor: theme.alpha((theme.vars || theme).palette.primary.main, (theme.vars || theme).palette.action.selectedOpacity)
    }
  },
  [`&.${listItemButtonClasses_default.focusVisible}`]: {
    backgroundColor: (theme.vars || theme).palette.action.focus
  },
  [`&.${listItemButtonClasses_default.disabled}`]: {
    opacity: (theme.vars || theme).palette.action.disabledOpacity
  },
  variants: [{
    props: ({
      ownerState
    }) => ownerState.divider,
    style: {
      borderBottom: `1px solid ${(theme.vars || theme).palette.divider}`,
      backgroundClip: "padding-box"
    }
  }, {
    props: {
      alignItems: "flex-start"
    },
    style: {
      alignItems: "flex-start"
    }
  }, {
    props: ({
      ownerState
    }) => !ownerState.disableGutters,
    style: {
      paddingLeft: 16,
      paddingRight: 16
    }
  }, {
    props: ({
      ownerState
    }) => ownerState.dense,
    style: {
      paddingTop: 4,
      paddingBottom: 4
    }
  }]
})));
var ListItemButton = /* @__PURE__ */ React95.forwardRef(function ListItemButton2(inProps, ref) {
  const props = useDefaultProps2({
    props: inProps,
    name: "MuiListItemButton"
  });
  const {
    alignItems = "center",
    autoFocus = false,
    component = "div",
    children,
    dense = false,
    disableGutters = false,
    divider = false,
    focusVisibleClassName,
    selected = false,
    className,
    ...other
  } = props;
  const context = React95.useContext(ListContext_default);
  const childContext = React95.useMemo(() => ({
    dense: dense || context.dense || false,
    alignItems,
    disableGutters
  }), [alignItems, context.dense, dense, disableGutters]);
  const listItemRef = React95.useRef(null);
  useEnhancedEffect_default2(() => {
    if (autoFocus) {
      if (listItemRef.current) {
        listItemRef.current.focus();
      } else if (true) {
        console.error("MUI: Unable to set focus to a ListItemButton whose component has not been rendered.");
      }
    }
  }, [autoFocus]);
  const ownerState = {
    ...props,
    alignItems,
    dense: childContext.dense,
    disableGutters,
    divider,
    selected
  };
  const classes = useUtilityClasses26(ownerState);
  const handleRef = useForkRef_default(listItemRef, ref);
  return /* @__PURE__ */ import_jsx_runtime56.jsx(ListContext_default.Provider, {
    value: childContext,
    children: /* @__PURE__ */ import_jsx_runtime56.jsx(ListItemButtonRoot, {
      ref: handleRef,
      href: other.href || other.to,
      component: (other.href || other.to) && component === "div" ? "button" : component,
      focusVisibleClassName: clsx_default(classes.focusVisible, focusVisibleClassName),
      ownerState,
      className: clsx_default(classes.root, className),
      ...other,
      classes,
      children
    })
  });
});
ListItemButton.propTypes = {
  alignItems: import_prop_types59.default.oneOf(["center", "flex-start"]),
  autoFocus: import_prop_types59.default.bool,
  children: import_prop_types59.default.node,
  classes: import_prop_types59.default.object,
  className: import_prop_types59.default.string,
  component: import_prop_types59.default.elementType,
  dense: import_prop_types59.default.bool,
  disabled: import_prop_types59.default.bool,
  disableGutters: import_prop_types59.default.bool,
  divider: import_prop_types59.default.bool,
  focusVisibleClassName: import_prop_types59.default.string,
  href: import_prop_types59.default.string,
  selected: import_prop_types59.default.bool,
  sx: import_prop_types59.default.oneOfType([import_prop_types59.default.arrayOf(import_prop_types59.default.oneOfType([import_prop_types59.default.func, import_prop_types59.default.object, import_prop_types59.default.bool])), import_prop_types59.default.func, import_prop_types59.default.object])
};
var ListItemButton_default = ListItemButton;
// node_modules/@mui/material/esm/ListItemText/ListItemText.js
var React96 = __toESM(require_react(), 1);
var import_prop_types60 = __toESM(require_prop_types(), 1);

// node_modules/@mui/material/esm/ListItemText/listItemTextClasses.js
function getListItemTextUtilityClass(slot) {
  return generateUtilityClass("MuiListItemText", slot);
}
var listItemTextClasses = generateUtilityClasses("MuiListItemText", ["root", "multiline", "dense", "inset", "primary", "secondary"]);
var listItemTextClasses_default = listItemTextClasses;

// node_modules/@mui/material/esm/ListItemText/ListItemText.js
var import_jsx_runtime57 = __toESM(require_jsx_runtime(), 1);
"use client";
var useUtilityClasses27 = (ownerState) => {
  const {
    classes,
    inset,
    primary,
    secondary,
    dense
  } = ownerState;
  const slots = {
    root: ["root", inset && "inset", dense && "dense", primary && secondary && "multiline"],
    primary: ["primary"],
    secondary: ["secondary"]
  };
  return composeClasses(slots, getListItemTextUtilityClass, classes);
};
var ListItemTextRoot = styled_default2("div", {
  name: "MuiListItemText",
  slot: "Root",
  overridesResolver: (props, styles4) => {
    const {
      ownerState
    } = props;
    return [{
      [`& .${listItemTextClasses_default.primary}`]: styles4.primary
    }, {
      [`& .${listItemTextClasses_default.secondary}`]: styles4.secondary
    }, styles4.root, ownerState.inset && styles4.inset, ownerState.primary && ownerState.secondary && styles4.multiline, ownerState.dense && styles4.dense];
  }
})({
  flex: "1 1 auto",
  minWidth: 0,
  marginTop: 4,
  marginBottom: 4,
  [`.${typographyClasses_default.root}:where(& .${listItemTextClasses_default.primary})`]: {
    display: "block"
  },
  [`.${typographyClasses_default.root}:where(& .${listItemTextClasses_default.secondary})`]: {
    display: "block"
  },
  variants: [{
    props: ({
      ownerState
    }) => ownerState.primary && ownerState.secondary,
    style: {
      marginTop: 6,
      marginBottom: 6
    }
  }, {
    props: ({
      ownerState
    }) => ownerState.inset,
    style: {
      paddingLeft: 56
    }
  }]
});
var ListItemText = /* @__PURE__ */ React96.forwardRef(function ListItemText2(inProps, ref) {
  const props = useDefaultProps2({
    props: inProps,
    name: "MuiListItemText"
  });
  const {
    children,
    className,
    disableTypography = false,
    inset = false,
    primary: primaryProp,
    primaryTypographyProps,
    secondary: secondaryProp,
    secondaryTypographyProps,
    slots = {},
    slotProps = {},
    ...other
  } = props;
  const {
    dense
  } = React96.useContext(ListContext_default);
  let primary = primaryProp != null ? primaryProp : children;
  let secondary = secondaryProp;
  const ownerState = {
    ...props,
    disableTypography,
    inset,
    primary: !!primary,
    secondary: !!secondary,
    dense
  };
  const classes = useUtilityClasses27(ownerState);
  const externalForwardedProps = {
    slots,
    slotProps: {
      primary: primaryTypographyProps,
      secondary: secondaryTypographyProps,
      ...slotProps
    }
  };
  const [RootSlot, rootSlotProps] = useSlot("root", {
    className: clsx_default(classes.root, className),
    elementType: ListItemTextRoot,
    externalForwardedProps: {
      ...externalForwardedProps,
      ...other
    },
    ownerState,
    ref
  });
  const [PrimarySlot, primarySlotProps] = useSlot("primary", {
    className: classes.primary,
    elementType: Typography_default,
    externalForwardedProps,
    ownerState
  });
  const [SecondarySlot, secondarySlotProps] = useSlot("secondary", {
    className: classes.secondary,
    elementType: Typography_default,
    externalForwardedProps,
    ownerState
  });
  if (primary != null && primary.type !== Typography_default && !disableTypography) {
    primary = /* @__PURE__ */ import_jsx_runtime57.jsx(PrimarySlot, {
      variant: dense ? "body2" : "body1",
      component: primarySlotProps?.variant ? undefined : "span",
      ...primarySlotProps,
      children: primary
    });
  }
  if (secondary != null && secondary.type !== Typography_default && !disableTypography) {
    secondary = /* @__PURE__ */ import_jsx_runtime57.jsx(SecondarySlot, {
      variant: "body2",
      color: "textSecondary",
      ...secondarySlotProps,
      children: secondary
    });
  }
  return /* @__PURE__ */ import_jsx_runtime57.jsxs(RootSlot, {
    ...rootSlotProps,
    children: [primary, secondary]
  });
});
ListItemText.propTypes = {
  children: import_prop_types60.default.node,
  classes: import_prop_types60.default.object,
  className: import_prop_types60.default.string,
  disableTypography: import_prop_types60.default.bool,
  inset: import_prop_types60.default.bool,
  primary: import_prop_types60.default.node,
  primaryTypographyProps: import_prop_types60.default.object,
  secondary: import_prop_types60.default.node,
  secondaryTypographyProps: import_prop_types60.default.object,
  slotProps: import_prop_types60.default.shape({
    primary: import_prop_types60.default.oneOfType([import_prop_types60.default.func, import_prop_types60.default.object]),
    root: import_prop_types60.default.oneOfType([import_prop_types60.default.func, import_prop_types60.default.object]),
    secondary: import_prop_types60.default.oneOfType([import_prop_types60.default.func, import_prop_types60.default.object])
  }),
  slots: import_prop_types60.default.shape({
    primary: import_prop_types60.default.elementType,
    root: import_prop_types60.default.elementType,
    secondary: import_prop_types60.default.elementType
  }),
  sx: import_prop_types60.default.oneOfType([import_prop_types60.default.arrayOf(import_prop_types60.default.oneOfType([import_prop_types60.default.func, import_prop_types60.default.object, import_prop_types60.default.bool])), import_prop_types60.default.func, import_prop_types60.default.object])
};
var ListItemText_default = ListItemText;
// node_modules/@mui/material/esm/Tooltip/Tooltip.js
var React97 = __toESM(require_react(), 1);
var import_prop_types61 = __toESM(require_prop_types(), 1);

// node_modules/@mui/material/esm/Tooltip/tooltipClasses.js
function getTooltipUtilityClass(slot) {
  return generateUtilityClass("MuiTooltip", slot);
}
var tooltipClasses = generateUtilityClasses("MuiTooltip", ["popper", "popperInteractive", "popperArrow", "popperClose", "tooltip", "tooltipArrow", "touch", "tooltipPlacementLeft", "tooltipPlacementRight", "tooltipPlacementTop", "tooltipPlacementBottom", "arrow"]);
var tooltipClasses_default = tooltipClasses;

// node_modules/@mui/material/esm/Tooltip/Tooltip.js
var import_jsx_runtime58 = __toESM(require_jsx_runtime(), 1);
"use client";
function round3(value) {
  return Math.round(value * 1e5) / 1e5;
}
var useUtilityClasses28 = (ownerState) => {
  const {
    classes,
    disableInteractive,
    arrow: arrow2,
    touch,
    placement
  } = ownerState;
  const slots = {
    popper: ["popper", !disableInteractive && "popperInteractive", arrow2 && "popperArrow"],
    tooltip: ["tooltip", arrow2 && "tooltipArrow", touch && "touch", `tooltipPlacement${capitalize_default(placement.split("-")[0])}`],
    arrow: ["arrow"]
  };
  return composeClasses(slots, getTooltipUtilityClass, classes);
};
var TooltipPopper = styled_default2(Popper_default, {
  name: "MuiTooltip",
  slot: "Popper",
  overridesResolver: (props, styles4) => {
    const {
      ownerState
    } = props;
    return [styles4.popper, !ownerState.disableInteractive && styles4.popperInteractive, ownerState.arrow && styles4.popperArrow, !ownerState.open && styles4.popperClose];
  }
})(memoTheme_default(({
  theme
}) => ({
  zIndex: (theme.vars || theme).zIndex.tooltip,
  pointerEvents: "none",
  variants: [{
    props: ({
      ownerState
    }) => !ownerState.disableInteractive,
    style: {
      pointerEvents: "auto"
    }
  }, {
    props: ({
      open
    }) => !open,
    style: {
      pointerEvents: "none"
    }
  }, {
    props: ({
      ownerState
    }) => ownerState.arrow,
    style: {
      [`&[data-popper-placement*="bottom"] .${tooltipClasses_default.arrow}`]: {
        top: 0,
        marginTop: "-0.71em",
        "&::before": {
          transformOrigin: "0 100%"
        }
      },
      [`&[data-popper-placement*="top"] .${tooltipClasses_default.arrow}`]: {
        bottom: 0,
        marginBottom: "-0.71em",
        "&::before": {
          transformOrigin: "100% 0"
        }
      },
      [`&[data-popper-placement*="right"] .${tooltipClasses_default.arrow}`]: {
        height: "1em",
        width: "0.71em",
        "&::before": {
          transformOrigin: "100% 100%"
        }
      },
      [`&[data-popper-placement*="left"] .${tooltipClasses_default.arrow}`]: {
        height: "1em",
        width: "0.71em",
        "&::before": {
          transformOrigin: "0 0"
        }
      }
    }
  }, {
    props: ({
      ownerState
    }) => ownerState.arrow && !ownerState.isRtl,
    style: {
      [`&[data-popper-placement*="right"] .${tooltipClasses_default.arrow}`]: {
        left: 0,
        marginLeft: "-0.71em"
      }
    }
  }, {
    props: ({
      ownerState
    }) => ownerState.arrow && !!ownerState.isRtl,
    style: {
      [`&[data-popper-placement*="right"] .${tooltipClasses_default.arrow}`]: {
        right: 0,
        marginRight: "-0.71em"
      }
    }
  }, {
    props: ({
      ownerState
    }) => ownerState.arrow && !ownerState.isRtl,
    style: {
      [`&[data-popper-placement*="left"] .${tooltipClasses_default.arrow}`]: {
        right: 0,
        marginRight: "-0.71em"
      }
    }
  }, {
    props: ({
      ownerState
    }) => ownerState.arrow && !!ownerState.isRtl,
    style: {
      [`&[data-popper-placement*="left"] .${tooltipClasses_default.arrow}`]: {
        left: 0,
        marginLeft: "-0.71em"
      }
    }
  }]
})));
var TooltipTooltip = styled_default2("div", {
  name: "MuiTooltip",
  slot: "Tooltip",
  overridesResolver: (props, styles4) => {
    const {
      ownerState
    } = props;
    return [styles4.tooltip, ownerState.touch && styles4.touch, ownerState.arrow && styles4.tooltipArrow, styles4[`tooltipPlacement${capitalize_default(ownerState.placement.split("-")[0])}`]];
  }
})(memoTheme_default(({
  theme
}) => ({
  backgroundColor: theme.vars ? theme.vars.palette.Tooltip.bg : theme.alpha(theme.palette.grey[700], 0.92),
  borderRadius: (theme.vars || theme).shape.borderRadius,
  color: (theme.vars || theme).palette.common.white,
  fontFamily: theme.typography.fontFamily,
  padding: "4px 8px",
  fontSize: theme.typography.pxToRem(11),
  maxWidth: 300,
  margin: 2,
  wordWrap: "break-word",
  fontWeight: theme.typography.fontWeightMedium,
  [`.${tooltipClasses_default.popper}[data-popper-placement*="left"] &`]: {
    transformOrigin: "right center"
  },
  [`.${tooltipClasses_default.popper}[data-popper-placement*="right"] &`]: {
    transformOrigin: "left center"
  },
  [`.${tooltipClasses_default.popper}[data-popper-placement*="top"] &`]: {
    transformOrigin: "center bottom",
    marginBottom: "14px"
  },
  [`.${tooltipClasses_default.popper}[data-popper-placement*="bottom"] &`]: {
    transformOrigin: "center top",
    marginTop: "14px"
  },
  variants: [{
    props: ({
      ownerState
    }) => ownerState.arrow,
    style: {
      position: "relative",
      margin: 0
    }
  }, {
    props: ({
      ownerState
    }) => ownerState.touch,
    style: {
      padding: "8px 16px",
      fontSize: theme.typography.pxToRem(14),
      lineHeight: `${round3(16 / 14)}em`,
      fontWeight: theme.typography.fontWeightRegular
    }
  }, {
    props: ({
      ownerState
    }) => !ownerState.isRtl,
    style: {
      [`.${tooltipClasses_default.popper}[data-popper-placement*="left"] &`]: {
        marginRight: "14px"
      },
      [`.${tooltipClasses_default.popper}[data-popper-placement*="right"] &`]: {
        marginLeft: "14px"
      }
    }
  }, {
    props: ({
      ownerState
    }) => !ownerState.isRtl && ownerState.touch,
    style: {
      [`.${tooltipClasses_default.popper}[data-popper-placement*="left"] &`]: {
        marginRight: "24px"
      },
      [`.${tooltipClasses_default.popper}[data-popper-placement*="right"] &`]: {
        marginLeft: "24px"
      }
    }
  }, {
    props: ({
      ownerState
    }) => !!ownerState.isRtl,
    style: {
      [`.${tooltipClasses_default.popper}[data-popper-placement*="left"] &`]: {
        marginLeft: "14px"
      },
      [`.${tooltipClasses_default.popper}[data-popper-placement*="right"] &`]: {
        marginRight: "14px"
      }
    }
  }, {
    props: ({
      ownerState
    }) => !!ownerState.isRtl && ownerState.touch,
    style: {
      [`.${tooltipClasses_default.popper}[data-popper-placement*="left"] &`]: {
        marginLeft: "24px"
      },
      [`.${tooltipClasses_default.popper}[data-popper-placement*="right"] &`]: {
        marginRight: "24px"
      }
    }
  }, {
    props: ({
      ownerState
    }) => ownerState.touch,
    style: {
      [`.${tooltipClasses_default.popper}[data-popper-placement*="top"] &`]: {
        marginBottom: "24px"
      }
    }
  }, {
    props: ({
      ownerState
    }) => ownerState.touch,
    style: {
      [`.${tooltipClasses_default.popper}[data-popper-placement*="bottom"] &`]: {
        marginTop: "24px"
      }
    }
  }]
})));
var TooltipArrow = styled_default2("span", {
  name: "MuiTooltip",
  slot: "Arrow"
})(memoTheme_default(({
  theme
}) => ({
  overflow: "hidden",
  position: "absolute",
  width: "1em",
  height: "0.71em",
  boxSizing: "border-box",
  color: theme.vars ? theme.vars.palette.Tooltip.bg : theme.alpha(theme.palette.grey[700], 0.9),
  "&::before": {
    content: '""',
    margin: "auto",
    display: "block",
    width: "100%",
    height: "100%",
    backgroundColor: "currentColor",
    transform: "rotate(45deg)"
  }
})));
var hystersisOpen = false;
var hystersisTimer = new Timeout;
var cursorPosition = {
  x: 0,
  y: 0
};
function composeEventHandler(handler, eventHandler) {
  return (event, ...params) => {
    if (eventHandler) {
      eventHandler(event, ...params);
    }
    handler(event, ...params);
  };
}
var Tooltip = /* @__PURE__ */ React97.forwardRef(function Tooltip2(inProps, ref) {
  const props = useDefaultProps2({
    props: inProps,
    name: "MuiTooltip"
  });
  const {
    arrow: arrow2 = false,
    children: childrenProp,
    classes: classesProp,
    components = {},
    componentsProps = {},
    describeChild = false,
    disableFocusListener = false,
    disableHoverListener = false,
    disableInteractive: disableInteractiveProp = false,
    disableTouchListener = false,
    enterDelay = 100,
    enterNextDelay = 0,
    enterTouchDelay = 700,
    followCursor = false,
    id: idProp,
    leaveDelay = 0,
    leaveTouchDelay = 1500,
    onClose,
    onOpen,
    open: openProp,
    placement = "bottom",
    PopperComponent: PopperComponentProp,
    PopperProps = {},
    slotProps = {},
    slots = {},
    title,
    TransitionComponent: TransitionComponentProp,
    TransitionProps,
    ...other
  } = props;
  const children = /* @__PURE__ */ React97.isValidElement(childrenProp) ? childrenProp : /* @__PURE__ */ import_jsx_runtime58.jsx("span", {
    children: childrenProp
  });
  const theme = useTheme6();
  const isRtl = useRtl();
  const [childNode, setChildNode] = React97.useState();
  const [arrowRef, setArrowRef] = React97.useState(null);
  const ignoreNonTouchEvents = React97.useRef(false);
  const disableInteractive = disableInteractiveProp || followCursor;
  const closeTimer = useTimeout();
  const enterTimer = useTimeout();
  const leaveTimer = useTimeout();
  const touchTimer = useTimeout();
  const [openState, setOpenState] = useControlled_default({
    controlled: openProp,
    default: false,
    name: "Tooltip",
    state: "open"
  });
  let open = openState;
  if (true) {
    const {
      current: isControlled
    } = React97.useRef(openProp !== undefined);
    React97.useEffect(() => {
      if (childNode && childNode.disabled && !isControlled && title !== "" && childNode.tagName.toLowerCase() === "button") {
        console.warn(["MUI: You are providing a disabled `button` child to the Tooltip component.", "A disabled element does not fire events.", "Tooltip needs to listen to the child element's events to display the title.", "", "Add a simple wrapper element, such as a `span`."].join(`
`));
      }
    }, [title, childNode, isControlled]);
  }
  const id = useId_default(idProp);
  const prevUserSelect = React97.useRef();
  const stopTouchInteraction = useEventCallback_default2(() => {
    if (prevUserSelect.current !== undefined) {
      document.body.style.WebkitUserSelect = prevUserSelect.current;
      prevUserSelect.current = undefined;
    }
    touchTimer.clear();
  });
  React97.useEffect(() => stopTouchInteraction, [stopTouchInteraction]);
  const handleOpen = (event) => {
    hystersisTimer.clear();
    hystersisOpen = true;
    setOpenState(true);
    if (onOpen && !open) {
      onOpen(event);
    }
  };
  const handleClose = useEventCallback_default2((event) => {
    hystersisTimer.start(800 + leaveDelay, () => {
      hystersisOpen = false;
    });
    setOpenState(false);
    if (onClose && open) {
      onClose(event);
    }
    closeTimer.start(theme.transitions.duration.shortest, () => {
      ignoreNonTouchEvents.current = false;
    });
  });
  const handleMouseOver = (event) => {
    if (ignoreNonTouchEvents.current && event.type !== "touchstart") {
      return;
    }
    if (childNode) {
      childNode.removeAttribute("title");
    }
    enterTimer.clear();
    leaveTimer.clear();
    if (enterDelay || hystersisOpen && enterNextDelay) {
      enterTimer.start(hystersisOpen ? enterNextDelay : enterDelay, () => {
        handleOpen(event);
      });
    } else {
      handleOpen(event);
    }
  };
  const handleMouseLeave = (event) => {
    enterTimer.clear();
    leaveTimer.start(leaveDelay, () => {
      handleClose(event);
    });
  };
  const [, setChildIsFocusVisible] = React97.useState(false);
  const handleBlur = (event) => {
    if (!isFocusVisible(event.target)) {
      setChildIsFocusVisible(false);
      handleMouseLeave(event);
    }
  };
  const handleFocus = (event) => {
    if (!childNode) {
      setChildNode(event.currentTarget);
    }
    if (isFocusVisible(event.target)) {
      setChildIsFocusVisible(true);
      handleMouseOver(event);
    }
  };
  const detectTouchStart = (event) => {
    ignoreNonTouchEvents.current = true;
    const childrenProps2 = children.props;
    if (childrenProps2.onTouchStart) {
      childrenProps2.onTouchStart(event);
    }
  };
  const handleTouchStart = (event) => {
    detectTouchStart(event);
    leaveTimer.clear();
    closeTimer.clear();
    stopTouchInteraction();
    prevUserSelect.current = document.body.style.WebkitUserSelect;
    document.body.style.WebkitUserSelect = "none";
    touchTimer.start(enterTouchDelay, () => {
      document.body.style.WebkitUserSelect = prevUserSelect.current;
      handleMouseOver(event);
    });
  };
  const handleTouchEnd = (event) => {
    if (children.props.onTouchEnd) {
      children.props.onTouchEnd(event);
    }
    stopTouchInteraction();
    leaveTimer.start(leaveTouchDelay, () => {
      handleClose(event);
    });
  };
  React97.useEffect(() => {
    if (!open) {
      return;
    }
    function handleKeyDown(nativeEvent) {
      if (nativeEvent.key === "Escape") {
        handleClose(nativeEvent);
      }
    }
    document.addEventListener("keydown", handleKeyDown);
    return () => {
      document.removeEventListener("keydown", handleKeyDown);
    };
  }, [handleClose, open]);
  const handleRef = useForkRef_default(getReactElementRef(children), setChildNode, ref);
  if (!title && title !== 0) {
    open = false;
  }
  const popperRef = React97.useRef();
  const handleMouseMove = (event) => {
    const childrenProps2 = children.props;
    if (childrenProps2.onMouseMove) {
      childrenProps2.onMouseMove(event);
    }
    cursorPosition = {
      x: event.clientX,
      y: event.clientY
    };
    if (popperRef.current) {
      popperRef.current.update();
    }
  };
  const nameOrDescProps = {};
  const titleIsString = typeof title === "string";
  if (describeChild) {
    nameOrDescProps.title = !open && titleIsString && !disableHoverListener ? title : null;
    nameOrDescProps["aria-describedby"] = open ? id : null;
  } else {
    nameOrDescProps["aria-label"] = titleIsString ? title : null;
    nameOrDescProps["aria-labelledby"] = open && !titleIsString ? id : null;
  }
  const childrenProps = {
    ...nameOrDescProps,
    ...other,
    ...children.props,
    className: clsx_default(other.className, children.props.className),
    onTouchStart: detectTouchStart,
    ref: handleRef,
    ...followCursor ? {
      onMouseMove: handleMouseMove
    } : {}
  };
  if (true) {
    childrenProps["data-mui-internal-clone-element"] = true;
    React97.useEffect(() => {
      if (childNode && !childNode.getAttribute("data-mui-internal-clone-element")) {
        console.error(["MUI: The `children` component of the Tooltip is not forwarding its props correctly.", "Please make sure that props are spread on the same element that the ref is applied to."].join(`
`));
      }
    }, [childNode]);
  }
  const interactiveWrapperListeners = {};
  if (!disableTouchListener) {
    childrenProps.onTouchStart = handleTouchStart;
    childrenProps.onTouchEnd = handleTouchEnd;
  }
  if (!disableHoverListener) {
    childrenProps.onMouseOver = composeEventHandler(handleMouseOver, childrenProps.onMouseOver);
    childrenProps.onMouseLeave = composeEventHandler(handleMouseLeave, childrenProps.onMouseLeave);
    if (!disableInteractive) {
      interactiveWrapperListeners.onMouseOver = handleMouseOver;
      interactiveWrapperListeners.onMouseLeave = handleMouseLeave;
    }
  }
  if (!disableFocusListener) {
    childrenProps.onFocus = composeEventHandler(handleFocus, childrenProps.onFocus);
    childrenProps.onBlur = composeEventHandler(handleBlur, childrenProps.onBlur);
    if (!disableInteractive) {
      interactiveWrapperListeners.onFocus = handleFocus;
      interactiveWrapperListeners.onBlur = handleBlur;
    }
  }
  if (true) {
    if (children.props.title) {
      console.error(["MUI: You have provided a `title` prop to the child of <Tooltip />.", `Remove this title prop \`${children.props.title}\` or the Tooltip component.`].join(`
`));
    }
  }
  const ownerState = {
    ...props,
    isRtl,
    arrow: arrow2,
    disableInteractive,
    placement,
    PopperComponentProp,
    touch: ignoreNonTouchEvents.current
  };
  const resolvedPopperProps = typeof slotProps.popper === "function" ? slotProps.popper(ownerState) : slotProps.popper;
  const popperOptions = React97.useMemo(() => {
    let tooltipModifiers = [{
      name: "arrow",
      enabled: Boolean(arrowRef),
      options: {
        element: arrowRef,
        padding: 4
      }
    }];
    if (PopperProps.popperOptions?.modifiers) {
      tooltipModifiers = tooltipModifiers.concat(PopperProps.popperOptions.modifiers);
    }
    if (resolvedPopperProps?.popperOptions?.modifiers) {
      tooltipModifiers = tooltipModifiers.concat(resolvedPopperProps.popperOptions.modifiers);
    }
    return {
      ...PopperProps.popperOptions,
      ...resolvedPopperProps?.popperOptions,
      modifiers: tooltipModifiers
    };
  }, [arrowRef, PopperProps.popperOptions, resolvedPopperProps?.popperOptions]);
  const classes = useUtilityClasses28(ownerState);
  const resolvedTransitionProps = typeof slotProps.transition === "function" ? slotProps.transition(ownerState) : slotProps.transition;
  const externalForwardedProps = {
    slots: {
      popper: components.Popper,
      transition: components.Transition ?? TransitionComponentProp,
      tooltip: components.Tooltip,
      arrow: components.Arrow,
      ...slots
    },
    slotProps: {
      arrow: slotProps.arrow ?? componentsProps.arrow,
      popper: {
        ...PopperProps,
        ...resolvedPopperProps ?? componentsProps.popper
      },
      tooltip: slotProps.tooltip ?? componentsProps.tooltip,
      transition: {
        ...TransitionProps,
        ...resolvedTransitionProps ?? componentsProps.transition
      }
    }
  };
  const [PopperSlot, popperSlotProps] = useSlot("popper", {
    elementType: TooltipPopper,
    externalForwardedProps,
    ownerState,
    className: clsx_default(classes.popper, PopperProps?.className)
  });
  const [TransitionSlot, transitionSlotProps] = useSlot("transition", {
    elementType: Grow_default,
    externalForwardedProps,
    ownerState
  });
  const [TooltipSlot, tooltipSlotProps] = useSlot("tooltip", {
    elementType: TooltipTooltip,
    className: classes.tooltip,
    externalForwardedProps,
    ownerState
  });
  const [ArrowSlot, arrowSlotProps] = useSlot("arrow", {
    elementType: TooltipArrow,
    className: classes.arrow,
    externalForwardedProps,
    ownerState,
    ref: setArrowRef
  });
  return /* @__PURE__ */ import_jsx_runtime58.jsxs(React97.Fragment, {
    children: [/* @__PURE__ */ React97.cloneElement(children, childrenProps), /* @__PURE__ */ import_jsx_runtime58.jsx(PopperSlot, {
      as: PopperComponentProp ?? Popper_default,
      placement,
      anchorEl: followCursor ? {
        getBoundingClientRect: () => ({
          top: cursorPosition.y,
          left: cursorPosition.x,
          right: cursorPosition.x,
          bottom: cursorPosition.y,
          width: 0,
          height: 0
        })
      } : childNode,
      popperRef,
      open: childNode ? open : false,
      id,
      transition: true,
      ...interactiveWrapperListeners,
      ...popperSlotProps,
      popperOptions,
      children: ({
        TransitionProps: TransitionPropsInner
      }) => /* @__PURE__ */ import_jsx_runtime58.jsx(TransitionSlot, {
        timeout: theme.transitions.duration.shorter,
        ...TransitionPropsInner,
        ...transitionSlotProps,
        children: /* @__PURE__ */ import_jsx_runtime58.jsxs(TooltipSlot, {
          ...tooltipSlotProps,
          children: [title, arrow2 ? /* @__PURE__ */ import_jsx_runtime58.jsx(ArrowSlot, {
            ...arrowSlotProps
          }) : null]
        })
      })
    })]
  });
});
Tooltip.propTypes = {
  arrow: import_prop_types61.default.bool,
  children: elementAcceptingRef_default.isRequired,
  classes: import_prop_types61.default.object,
  className: import_prop_types61.default.string,
  components: import_prop_types61.default.shape({
    Arrow: import_prop_types61.default.elementType,
    Popper: import_prop_types61.default.elementType,
    Tooltip: import_prop_types61.default.elementType,
    Transition: import_prop_types61.default.elementType
  }),
  componentsProps: import_prop_types61.default.shape({
    arrow: import_prop_types61.default.object,
    popper: import_prop_types61.default.object,
    tooltip: import_prop_types61.default.object,
    transition: import_prop_types61.default.object
  }),
  describeChild: import_prop_types61.default.bool,
  disableFocusListener: import_prop_types61.default.bool,
  disableHoverListener: import_prop_types61.default.bool,
  disableInteractive: import_prop_types61.default.bool,
  disableTouchListener: import_prop_types61.default.bool,
  enterDelay: import_prop_types61.default.number,
  enterNextDelay: import_prop_types61.default.number,
  enterTouchDelay: import_prop_types61.default.number,
  followCursor: import_prop_types61.default.bool,
  id: import_prop_types61.default.string,
  leaveDelay: import_prop_types61.default.number,
  leaveTouchDelay: import_prop_types61.default.number,
  onClose: import_prop_types61.default.func,
  onOpen: import_prop_types61.default.func,
  open: import_prop_types61.default.bool,
  placement: import_prop_types61.default.oneOf(["auto-end", "auto-start", "auto", "bottom-end", "bottom-start", "bottom", "left-end", "left-start", "left", "right-end", "right-start", "right", "top-end", "top-start", "top"]),
  PopperComponent: import_prop_types61.default.elementType,
  PopperProps: import_prop_types61.default.object,
  slotProps: import_prop_types61.default.shape({
    arrow: import_prop_types61.default.oneOfType([import_prop_types61.default.func, import_prop_types61.default.object]),
    popper: import_prop_types61.default.oneOfType([import_prop_types61.default.func, import_prop_types61.default.object]),
    tooltip: import_prop_types61.default.oneOfType([import_prop_types61.default.func, import_prop_types61.default.object]),
    transition: import_prop_types61.default.oneOfType([import_prop_types61.default.func, import_prop_types61.default.object])
  }),
  slots: import_prop_types61.default.shape({
    arrow: import_prop_types61.default.elementType,
    popper: import_prop_types61.default.elementType,
    tooltip: import_prop_types61.default.elementType,
    transition: import_prop_types61.default.elementType
  }),
  sx: import_prop_types61.default.oneOfType([import_prop_types61.default.arrayOf(import_prop_types61.default.oneOfType([import_prop_types61.default.func, import_prop_types61.default.object, import_prop_types61.default.bool])), import_prop_types61.default.func, import_prop_types61.default.object]),
  title: import_prop_types61.default.node,
  TransitionComponent: import_prop_types61.default.elementType,
  TransitionProps: import_prop_types61.default.object
};
var Tooltip_default = Tooltip;
// node_modules/@mui/material/esm/Switch/Switch.js
var React98 = __toESM(require_react(), 1);
var import_prop_types62 = __toESM(require_prop_types(), 1);

// node_modules/@mui/material/esm/Switch/switchClasses.js
function getSwitchUtilityClass(slot) {
  return generateUtilityClass("MuiSwitch", slot);
}
var switchClasses = generateUtilityClasses("MuiSwitch", ["root", "edgeStart", "edgeEnd", "switchBase", "colorPrimary", "colorSecondary", "sizeSmall", "sizeMedium", "checked", "disabled", "input", "thumb", "track"]);
var switchClasses_default = switchClasses;

// node_modules/@mui/material/esm/Switch/Switch.js
var import_jsx_runtime59 = __toESM(require_jsx_runtime(), 1);
"use client";
var useUtilityClasses29 = (ownerState) => {
  const {
    classes,
    edge,
    size,
    color: color2,
    checked,
    disabled
  } = ownerState;
  const slots = {
    root: ["root", edge && `edge${capitalize_default(edge)}`, `size${capitalize_default(size)}`],
    switchBase: ["switchBase", `color${capitalize_default(color2)}`, checked && "checked", disabled && "disabled"],
    thumb: ["thumb"],
    track: ["track"],
    input: ["input"]
  };
  const composedClasses = composeClasses(slots, getSwitchUtilityClass, classes);
  return {
    ...classes,
    ...composedClasses
  };
};
var SwitchRoot = styled_default2("span", {
  name: "MuiSwitch",
  slot: "Root",
  overridesResolver: (props, styles4) => {
    const {
      ownerState
    } = props;
    return [styles4.root, ownerState.edge && styles4[`edge${capitalize_default(ownerState.edge)}`], styles4[`size${capitalize_default(ownerState.size)}`]];
  }
})({
  display: "inline-flex",
  width: 34 + 12 * 2,
  height: 14 + 12 * 2,
  overflow: "hidden",
  padding: 12,
  boxSizing: "border-box",
  position: "relative",
  flexShrink: 0,
  zIndex: 0,
  verticalAlign: "middle",
  "@media print": {
    colorAdjust: "exact"
  },
  variants: [{
    props: {
      edge: "start"
    },
    style: {
      marginLeft: -8
    }
  }, {
    props: {
      edge: "end"
    },
    style: {
      marginRight: -8
    }
  }, {
    props: {
      size: "small"
    },
    style: {
      width: 40,
      height: 24,
      padding: 7,
      [`& .${switchClasses_default.thumb}`]: {
        width: 16,
        height: 16
      },
      [`& .${switchClasses_default.switchBase}`]: {
        padding: 4,
        [`&.${switchClasses_default.checked}`]: {
          transform: "translateX(16px)"
        }
      }
    }
  }]
});
var SwitchSwitchBase = styled_default2(SwitchBase_default, {
  name: "MuiSwitch",
  slot: "SwitchBase",
  overridesResolver: (props, styles4) => {
    const {
      ownerState
    } = props;
    return [styles4.switchBase, {
      [`& .${switchClasses_default.input}`]: styles4.input
    }, ownerState.color !== "default" && styles4[`color${capitalize_default(ownerState.color)}`]];
  }
})(memoTheme_default(({
  theme
}) => ({
  position: "absolute",
  top: 0,
  left: 0,
  zIndex: 1,
  color: theme.vars ? theme.vars.palette.Switch.defaultColor : `${theme.palette.mode === "light" ? theme.palette.common.white : theme.palette.grey[300]}`,
  transition: theme.transitions.create(["left", "transform"], {
    duration: theme.transitions.duration.shortest
  }),
  [`&.${switchClasses_default.checked}`]: {
    transform: "translateX(20px)"
  },
  [`&.${switchClasses_default.disabled}`]: {
    color: theme.vars ? theme.vars.palette.Switch.defaultDisabledColor : `${theme.palette.mode === "light" ? theme.palette.grey[100] : theme.palette.grey[600]}`
  },
  [`&.${switchClasses_default.checked} + .${switchClasses_default.track}`]: {
    opacity: 0.5
  },
  [`&.${switchClasses_default.disabled} + .${switchClasses_default.track}`]: {
    opacity: theme.vars ? theme.vars.opacity.switchTrackDisabled : `${theme.palette.mode === "light" ? 0.12 : 0.2}`
  },
  [`& .${switchClasses_default.input}`]: {
    left: "-100%",
    width: "300%"
  }
})), memoTheme_default(({
  theme
}) => ({
  "&:hover": {
    backgroundColor: theme.alpha((theme.vars || theme).palette.action.active, (theme.vars || theme).palette.action.hoverOpacity),
    "@media (hover: none)": {
      backgroundColor: "transparent"
    }
  },
  variants: [...Object.entries(theme.palette).filter(createSimplePaletteValueFilter(["light"])).map(([color2]) => ({
    props: {
      color: color2
    },
    style: {
      [`&.${switchClasses_default.checked}`]: {
        color: (theme.vars || theme).palette[color2].main,
        "&:hover": {
          backgroundColor: theme.alpha((theme.vars || theme).palette[color2].main, (theme.vars || theme).palette.action.hoverOpacity),
          "@media (hover: none)": {
            backgroundColor: "transparent"
          }
        },
        [`&.${switchClasses_default.disabled}`]: {
          color: theme.vars ? theme.vars.palette.Switch[`${color2}DisabledColor`] : `${theme.palette.mode === "light" ? theme.lighten(theme.palette[color2].main, 0.62) : theme.darken(theme.palette[color2].main, 0.55)}`
        }
      },
      [`&.${switchClasses_default.checked} + .${switchClasses_default.track}`]: {
        backgroundColor: (theme.vars || theme).palette[color2].main
      }
    }
  }))]
})));
var SwitchTrack = styled_default2("span", {
  name: "MuiSwitch",
  slot: "Track"
})(memoTheme_default(({
  theme
}) => ({
  height: "100%",
  width: "100%",
  borderRadius: 14 / 2,
  zIndex: -1,
  transition: theme.transitions.create(["opacity", "background-color"], {
    duration: theme.transitions.duration.shortest
  }),
  backgroundColor: theme.vars ? theme.vars.palette.common.onBackground : `${theme.palette.mode === "light" ? theme.palette.common.black : theme.palette.common.white}`,
  opacity: theme.vars ? theme.vars.opacity.switchTrack : `${theme.palette.mode === "light" ? 0.38 : 0.3}`
})));
var SwitchThumb = styled_default2("span", {
  name: "MuiSwitch",
  slot: "Thumb"
})(memoTheme_default(({
  theme
}) => ({
  boxShadow: (theme.vars || theme).shadows[1],
  backgroundColor: "currentColor",
  width: 20,
  height: 20,
  borderRadius: "50%"
})));
var Switch = /* @__PURE__ */ React98.forwardRef(function Switch2(inProps, ref) {
  const props = useDefaultProps2({
    props: inProps,
    name: "MuiSwitch"
  });
  const {
    className,
    color: color2 = "primary",
    edge = false,
    size = "medium",
    sx,
    slots = {},
    slotProps = {},
    ...other
  } = props;
  const ownerState = {
    ...props,
    color: color2,
    edge,
    size
  };
  const classes = useUtilityClasses29(ownerState);
  const externalForwardedProps = {
    slots,
    slotProps
  };
  const [RootSlot, rootSlotProps] = useSlot("root", {
    className: clsx_default(classes.root, className),
    elementType: SwitchRoot,
    externalForwardedProps,
    ownerState,
    additionalProps: {
      sx
    }
  });
  const [ThumbSlot, thumbSlotProps] = useSlot("thumb", {
    className: classes.thumb,
    elementType: SwitchThumb,
    externalForwardedProps,
    ownerState
  });
  const icon = /* @__PURE__ */ import_jsx_runtime59.jsx(ThumbSlot, {
    ...thumbSlotProps
  });
  const [TrackSlot, trackSlotProps] = useSlot("track", {
    className: classes.track,
    elementType: SwitchTrack,
    externalForwardedProps,
    ownerState
  });
  return /* @__PURE__ */ import_jsx_runtime59.jsxs(RootSlot, {
    ...rootSlotProps,
    children: [/* @__PURE__ */ import_jsx_runtime59.jsx(SwitchSwitchBase, {
      type: "checkbox",
      icon,
      checkedIcon: icon,
      ref,
      ownerState,
      ...other,
      classes: {
        ...classes,
        root: classes.switchBase
      },
      slots: {
        ...slots.switchBase && {
          root: slots.switchBase
        },
        ...slots.input && {
          input: slots.input
        }
      },
      slotProps: {
        ...slotProps.switchBase && {
          root: typeof slotProps.switchBase === "function" ? slotProps.switchBase(ownerState) : slotProps.switchBase
        },
        input: {
          role: "switch"
        },
        ...slotProps.input && {
          input: typeof slotProps.input === "function" ? slotProps.input(ownerState) : slotProps.input
        }
      }
    }), /* @__PURE__ */ import_jsx_runtime59.jsx(TrackSlot, {
      ...trackSlotProps
    })]
  });
});
Switch.propTypes = {
  checked: import_prop_types62.default.bool,
  checkedIcon: import_prop_types62.default.node,
  classes: import_prop_types62.default.object,
  className: import_prop_types62.default.string,
  color: import_prop_types62.default.oneOfType([import_prop_types62.default.oneOf(["default", "primary", "secondary", "error", "info", "success", "warning"]), import_prop_types62.default.string]),
  defaultChecked: import_prop_types62.default.bool,
  disabled: import_prop_types62.default.bool,
  disableRipple: import_prop_types62.default.bool,
  edge: import_prop_types62.default.oneOf(["end", "start", false]),
  icon: import_prop_types62.default.node,
  id: import_prop_types62.default.string,
  inputProps: import_prop_types62.default.object,
  inputRef: refType_default,
  onChange: import_prop_types62.default.func,
  required: import_prop_types62.default.bool,
  size: import_prop_types62.default.oneOfType([import_prop_types62.default.oneOf(["medium", "small"]), import_prop_types62.default.string]),
  slotProps: import_prop_types62.default.shape({
    input: import_prop_types62.default.oneOfType([import_prop_types62.default.func, import_prop_types62.default.object]),
    root: import_prop_types62.default.oneOfType([import_prop_types62.default.func, import_prop_types62.default.object]),
    switchBase: import_prop_types62.default.oneOfType([import_prop_types62.default.func, import_prop_types62.default.object]),
    thumb: import_prop_types62.default.oneOfType([import_prop_types62.default.func, import_prop_types62.default.object]),
    track: import_prop_types62.default.oneOfType([import_prop_types62.default.func, import_prop_types62.default.object])
  }),
  slots: import_prop_types62.default.shape({
    input: import_prop_types62.default.elementType,
    root: import_prop_types62.default.elementType,
    switchBase: import_prop_types62.default.elementType,
    thumb: import_prop_types62.default.elementType,
    track: import_prop_types62.default.elementType
  }),
  sx: import_prop_types62.default.oneOfType([import_prop_types62.default.arrayOf(import_prop_types62.default.oneOfType([import_prop_types62.default.func, import_prop_types62.default.object, import_prop_types62.default.bool])), import_prop_types62.default.func, import_prop_types62.default.object]),
  value: import_prop_types62.default.any
};
var Switch_default = Switch;
// node_modules/@mui/material/esm/Toolbar/Toolbar.js
var React99 = __toESM(require_react(), 1);
var import_prop_types63 = __toESM(require_prop_types(), 1);

// node_modules/@mui/material/esm/Toolbar/toolbarClasses.js
function getToolbarUtilityClass(slot) {
  return generateUtilityClass("MuiToolbar", slot);
}
var toolbarClasses = generateUtilityClasses("MuiToolbar", ["root", "gutters", "regular", "dense"]);

// node_modules/@mui/material/esm/Toolbar/Toolbar.js
var import_jsx_runtime60 = __toESM(require_jsx_runtime(), 1);
"use client";
var useUtilityClasses30 = (ownerState) => {
  const {
    classes,
    disableGutters,
    variant
  } = ownerState;
  const slots = {
    root: ["root", !disableGutters && "gutters", variant]
  };
  return composeClasses(slots, getToolbarUtilityClass, classes);
};
var ToolbarRoot = styled_default2("div", {
  name: "MuiToolbar",
  slot: "Root",
  overridesResolver: (props, styles4) => {
    const {
      ownerState
    } = props;
    return [styles4.root, !ownerState.disableGutters && styles4.gutters, styles4[ownerState.variant]];
  }
})(memoTheme_default(({
  theme
}) => ({
  position: "relative",
  display: "flex",
  alignItems: "center",
  variants: [{
    props: ({
      ownerState
    }) => !ownerState.disableGutters,
    style: {
      paddingLeft: theme.spacing(2),
      paddingRight: theme.spacing(2),
      [theme.breakpoints.up("sm")]: {
        paddingLeft: theme.spacing(3),
        paddingRight: theme.spacing(3)
      }
    }
  }, {
    props: {
      variant: "dense"
    },
    style: {
      minHeight: 48
    }
  }, {
    props: {
      variant: "regular"
    },
    style: theme.mixins.toolbar
  }]
})));
var Toolbar = /* @__PURE__ */ React99.forwardRef(function Toolbar2(inProps, ref) {
  const props = useDefaultProps2({
    props: inProps,
    name: "MuiToolbar"
  });
  const {
    className,
    component = "div",
    disableGutters = false,
    variant = "regular",
    ...other
  } = props;
  const ownerState = {
    ...props,
    component,
    disableGutters,
    variant
  };
  const classes = useUtilityClasses30(ownerState);
  return /* @__PURE__ */ import_jsx_runtime60.jsx(ToolbarRoot, {
    as: component,
    className: clsx_default(classes.root, className),
    ref,
    ownerState,
    ...other
  });
});
Toolbar.propTypes = {
  children: import_prop_types63.default.node,
  classes: import_prop_types63.default.object,
  className: import_prop_types63.default.string,
  component: import_prop_types63.default.elementType,
  disableGutters: import_prop_types63.default.bool,
  sx: import_prop_types63.default.oneOfType([import_prop_types63.default.arrayOf(import_prop_types63.default.oneOfType([import_prop_types63.default.func, import_prop_types63.default.object, import_prop_types63.default.bool])), import_prop_types63.default.func, import_prop_types63.default.object]),
  variant: import_prop_types63.default.oneOfType([import_prop_types63.default.oneOf(["dense", "regular"]), import_prop_types63.default.string])
};
var Toolbar_default = Toolbar;
// node_modules/@mui/material/esm/useMediaQuery/index.js
var useMediaQuery2 = unstable_createUseMediaQuery({
  themeId: identifier_default
});
var useMediaQuery_default = useMediaQuery2;
// node_modules/react-helmet-async/lib/index.esm.js
var import_react10 = __toESM(require_react(), 1);
var import_react_fast_compare = __toESM(require_react_fast_compare(), 1);
var import_invariant = __toESM(require_browser(), 1);
var import_react11 = __toESM(require_react(), 1);
var import_react12 = __toESM(require_react(), 1);
var import_react13 = __toESM(require_react(), 1);
var import_shallowequal = __toESM(require_shallowequal(), 1);
var TAG_NAMES = /* @__PURE__ */ ((TAG_NAMES2) => {
  TAG_NAMES2["BASE"] = "base";
  TAG_NAMES2["BODY"] = "body";
  TAG_NAMES2["HEAD"] = "head";
  TAG_NAMES2["HTML"] = "html";
  TAG_NAMES2["LINK"] = "link";
  TAG_NAMES2["META"] = "meta";
  TAG_NAMES2["NOSCRIPT"] = "noscript";
  TAG_NAMES2["SCRIPT"] = "script";
  TAG_NAMES2["STYLE"] = "style";
  TAG_NAMES2["TITLE"] = "title";
  TAG_NAMES2["FRAGMENT"] = "Symbol(react.fragment)";
  return TAG_NAMES2;
})(TAG_NAMES || {});
var SEO_PRIORITY_TAGS = {
  link: { rel: ["amphtml", "canonical", "alternate"] },
  script: { type: ["application/ld+json"] },
  meta: {
    charset: "",
    name: ["generator", "robots", "description"],
    property: [
      "og:type",
      "og:title",
      "og:url",
      "og:image",
      "og:image:alt",
      "og:description",
      "twitter:url",
      "twitter:title",
      "twitter:description",
      "twitter:image",
      "twitter:image:alt",
      "twitter:card",
      "twitter:site"
    ]
  }
};
var VALID_TAG_NAMES = Object.values(TAG_NAMES);
var REACT_TAG_MAP = {
  accesskey: "accessKey",
  charset: "charSet",
  class: "className",
  contenteditable: "contentEditable",
  contextmenu: "contextMenu",
  "http-equiv": "httpEquiv",
  itemprop: "itemProp",
  tabindex: "tabIndex"
};
var HTML_TAG_MAP = Object.entries(REACT_TAG_MAP).reduce((carry, [key, value]) => {
  carry[value] = key;
  return carry;
}, {});
var HELMET_ATTRIBUTE = "data-rh";
var HELMET_PROPS = {
  DEFAULT_TITLE: "defaultTitle",
  DEFER: "defer",
  ENCODE_SPECIAL_CHARACTERS: "encodeSpecialCharacters",
  ON_CHANGE_CLIENT_STATE: "onChangeClientState",
  TITLE_TEMPLATE: "titleTemplate",
  PRIORITIZE_SEO_TAGS: "prioritizeSeoTags"
};
var getInnermostProperty = (propsList, property) => {
  for (let i = propsList.length - 1;i >= 0; i -= 1) {
    const props = propsList[i];
    if (Object.prototype.hasOwnProperty.call(props, property)) {
      return props[property];
    }
  }
  return null;
};
var getTitleFromPropsList = (propsList) => {
  let innermostTitle = getInnermostProperty(propsList, "title");
  const innermostTemplate = getInnermostProperty(propsList, HELMET_PROPS.TITLE_TEMPLATE);
  if (Array.isArray(innermostTitle)) {
    innermostTitle = innermostTitle.join("");
  }
  if (innermostTemplate && innermostTitle) {
    return innermostTemplate.replace(/%s/g, () => innermostTitle);
  }
  const innermostDefaultTitle = getInnermostProperty(propsList, HELMET_PROPS.DEFAULT_TITLE);
  return innermostTitle || innermostDefaultTitle || undefined;
};
var getOnChangeClientState = (propsList) => getInnermostProperty(propsList, HELMET_PROPS.ON_CHANGE_CLIENT_STATE) || (() => {});
var getAttributesFromPropsList = (tagType, propsList) => propsList.filter((props) => typeof props[tagType] !== "undefined").map((props) => props[tagType]).reduce((tagAttrs, current) => ({ ...tagAttrs, ...current }), {});
var getBaseTagFromPropsList = (primaryAttributes, propsList) => propsList.filter((props) => typeof props["base"] !== "undefined").map((props) => props["base"]).reverse().reduce((innermostBaseTag, tag) => {
  if (!innermostBaseTag.length) {
    const keys = Object.keys(tag);
    for (let i = 0;i < keys.length; i += 1) {
      const attributeKey = keys[i];
      const lowerCaseAttributeKey = attributeKey.toLowerCase();
      if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && tag[lowerCaseAttributeKey]) {
        return innermostBaseTag.concat(tag);
      }
    }
  }
  return innermostBaseTag;
}, []);
var warn = (msg) => console && typeof console.warn === "function" && console.warn(msg);
var getTagsFromPropsList = (tagName, primaryAttributes, propsList) => {
  const approvedSeenTags = {};
  return propsList.filter((props) => {
    if (Array.isArray(props[tagName])) {
      return true;
    }
    if (typeof props[tagName] !== "undefined") {
      warn(`Helmet: ${tagName} should be of type "Array". Instead found type "${typeof props[tagName]}"`);
    }
    return false;
  }).map((props) => props[tagName]).reverse().reduce((approvedTags, instanceTags) => {
    const instanceSeenTags = {};
    instanceTags.filter((tag) => {
      let primaryAttributeKey;
      const keys2 = Object.keys(tag);
      for (let i = 0;i < keys2.length; i += 1) {
        const attributeKey = keys2[i];
        const lowerCaseAttributeKey = attributeKey.toLowerCase();
        if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && !(primaryAttributeKey === "rel" && tag[primaryAttributeKey].toLowerCase() === "canonical") && !(lowerCaseAttributeKey === "rel" && tag[lowerCaseAttributeKey].toLowerCase() === "stylesheet")) {
          primaryAttributeKey = lowerCaseAttributeKey;
        }
        if (primaryAttributes.indexOf(attributeKey) !== -1 && (attributeKey === "innerHTML" || attributeKey === "cssText" || attributeKey === "itemprop")) {
          primaryAttributeKey = attributeKey;
        }
      }
      if (!primaryAttributeKey || !tag[primaryAttributeKey]) {
        return false;
      }
      const value = tag[primaryAttributeKey].toLowerCase();
      if (!approvedSeenTags[primaryAttributeKey]) {
        approvedSeenTags[primaryAttributeKey] = {};
      }
      if (!instanceSeenTags[primaryAttributeKey]) {
        instanceSeenTags[primaryAttributeKey] = {};
      }
      if (!approvedSeenTags[primaryAttributeKey][value]) {
        instanceSeenTags[primaryAttributeKey][value] = true;
        return true;
      }
      return false;
    }).reverse().forEach((tag) => approvedTags.push(tag));
    const keys = Object.keys(instanceSeenTags);
    for (let i = 0;i < keys.length; i += 1) {
      const attributeKey = keys[i];
      const tagUnion = {
        ...approvedSeenTags[attributeKey],
        ...instanceSeenTags[attributeKey]
      };
      approvedSeenTags[attributeKey] = tagUnion;
    }
    return approvedTags;
  }, []).reverse();
};
var getAnyTrueFromPropsList = (propsList, checkedTag) => {
  if (Array.isArray(propsList) && propsList.length) {
    for (let index = 0;index < propsList.length; index += 1) {
      const prop = propsList[index];
      if (prop[checkedTag]) {
        return true;
      }
    }
  }
  return false;
};
var reducePropsToState = (propsList) => ({
  baseTag: getBaseTagFromPropsList(["href"], propsList),
  bodyAttributes: getAttributesFromPropsList("bodyAttributes", propsList),
  defer: getInnermostProperty(propsList, HELMET_PROPS.DEFER),
  encode: getInnermostProperty(propsList, HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),
  htmlAttributes: getAttributesFromPropsList("htmlAttributes", propsList),
  linkTags: getTagsFromPropsList("link", ["rel", "href"], propsList),
  metaTags: getTagsFromPropsList("meta", [
    "name",
    "charset",
    "http-equiv",
    "property",
    "itemprop"
  ], propsList),
  noscriptTags: getTagsFromPropsList("noscript", ["innerHTML"], propsList),
  onChangeClientState: getOnChangeClientState(propsList),
  scriptTags: getTagsFromPropsList("script", ["src", "innerHTML"], propsList),
  styleTags: getTagsFromPropsList("style", ["cssText"], propsList),
  title: getTitleFromPropsList(propsList),
  titleAttributes: getAttributesFromPropsList("titleAttributes", propsList),
  prioritizeSeoTags: getAnyTrueFromPropsList(propsList, HELMET_PROPS.PRIORITIZE_SEO_TAGS)
});
var flattenArray = (possibleArray) => Array.isArray(possibleArray) ? possibleArray.join("") : possibleArray;
var checkIfPropsMatch = (props, toMatch) => {
  const keys = Object.keys(props);
  for (let i = 0;i < keys.length; i += 1) {
    if (toMatch[keys[i]] && toMatch[keys[i]].includes(props[keys[i]])) {
      return true;
    }
  }
  return false;
};
var prioritizer = (elementsList, propsToMatch) => {
  if (Array.isArray(elementsList)) {
    return elementsList.reduce((acc, elementAttrs) => {
      if (checkIfPropsMatch(elementAttrs, propsToMatch)) {
        acc.priority.push(elementAttrs);
      } else {
        acc.default.push(elementAttrs);
      }
      return acc;
    }, { priority: [], default: [] });
  }
  return { default: elementsList, priority: [] };
};
var without = (obj, key) => {
  return {
    ...obj,
    [key]: undefined
  };
};
var SELF_CLOSING_TAGS = ["noscript", "script", "style"];
var encodeSpecialCharacters = (str, encode = true) => {
  if (encode === false) {
    return String(str);
  }
  return String(str).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#x27;");
};
var generateElementAttributesAsString = (attributes) => Object.keys(attributes).reduce((str, key) => {
  const attr = typeof attributes[key] !== "undefined" ? `${key}="${attributes[key]}"` : `${key}`;
  return str ? `${str} ${attr}` : attr;
}, "");
var generateTitleAsString = (type, title, attributes, encode) => {
  const attributeString = generateElementAttributesAsString(attributes);
  const flattenedTitle = flattenArray(title);
  return attributeString ? `<${type} ${HELMET_ATTRIBUTE}="true" ${attributeString}>${encodeSpecialCharacters(flattenedTitle, encode)}</${type}>` : `<${type} ${HELMET_ATTRIBUTE}="true">${encodeSpecialCharacters(flattenedTitle, encode)}</${type}>`;
};
var generateTagsAsString = (type, tags2, encode = true) => tags2.reduce((str, t) => {
  const tag = t;
  const attributeHtml = Object.keys(tag).filter((attribute) => !(attribute === "innerHTML" || attribute === "cssText")).reduce((string, attribute) => {
    const attr = typeof tag[attribute] === "undefined" ? attribute : `${attribute}="${encodeSpecialCharacters(tag[attribute], encode)}"`;
    return string ? `${string} ${attr}` : attr;
  }, "");
  const tagContent = tag.innerHTML || tag.cssText || "";
  const isSelfClosing = SELF_CLOSING_TAGS.indexOf(type) === -1;
  return `${str}<${type} ${HELMET_ATTRIBUTE}="true" ${attributeHtml}${isSelfClosing ? `/>` : `>${tagContent}</${type}>`}`;
}, "");
var convertElementAttributesToReactProps = (attributes, initProps = {}) => Object.keys(attributes).reduce((obj, key) => {
  const mapped = REACT_TAG_MAP[key];
  obj[mapped || key] = attributes[key];
  return obj;
}, initProps);
var generateTitleAsReactComponent = (_type, title, attributes) => {
  const initProps = {
    key: title,
    [HELMET_ATTRIBUTE]: true
  };
  const props = convertElementAttributesToReactProps(attributes, initProps);
  return [import_react12.default.createElement("title", props, title)];
};
var generateTagsAsReactComponent = (type, tags2) => tags2.map((tag, i) => {
  const mappedTag = {
    key: i,
    [HELMET_ATTRIBUTE]: true
  };
  Object.keys(tag).forEach((attribute) => {
    const mapped = REACT_TAG_MAP[attribute];
    const mappedAttribute = mapped || attribute;
    if (mappedAttribute === "innerHTML" || mappedAttribute === "cssText") {
      const content = tag.innerHTML || tag.cssText;
      mappedTag.dangerouslySetInnerHTML = { __html: content };
    } else {
      mappedTag[mappedAttribute] = tag[attribute];
    }
  });
  return import_react12.default.createElement(type, mappedTag);
});
var getMethodsForTag = (type, tags2, encode = true) => {
  switch (type) {
    case "title":
      return {
        toComponent: () => generateTitleAsReactComponent(type, tags2.title, tags2.titleAttributes),
        toString: () => generateTitleAsString(type, tags2.title, tags2.titleAttributes, encode)
      };
    case "bodyAttributes":
    case "htmlAttributes":
      return {
        toComponent: () => convertElementAttributesToReactProps(tags2),
        toString: () => generateElementAttributesAsString(tags2)
      };
    default:
      return {
        toComponent: () => generateTagsAsReactComponent(type, tags2),
        toString: () => generateTagsAsString(type, tags2, encode)
      };
  }
};
var getPriorityMethods = ({ metaTags, linkTags, scriptTags, encode }) => {
  const meta = prioritizer(metaTags, SEO_PRIORITY_TAGS.meta);
  const link = prioritizer(linkTags, SEO_PRIORITY_TAGS.link);
  const script = prioritizer(scriptTags, SEO_PRIORITY_TAGS.script);
  const priorityMethods = {
    toComponent: () => [
      ...generateTagsAsReactComponent("meta", meta.priority),
      ...generateTagsAsReactComponent("link", link.priority),
      ...generateTagsAsReactComponent("script", script.priority)
    ],
    toString: () => `${getMethodsForTag("meta", meta.priority, encode)} ${getMethodsForTag("link", link.priority, encode)} ${getMethodsForTag("script", script.priority, encode)}`
  };
  return {
    priorityMethods,
    metaTags: meta.default,
    linkTags: link.default,
    scriptTags: script.default
  };
};
var mapStateOnServer = (props) => {
  const {
    baseTag,
    bodyAttributes,
    encode = true,
    htmlAttributes,
    noscriptTags,
    styleTags,
    title = "",
    titleAttributes,
    prioritizeSeoTags
  } = props;
  let { linkTags, metaTags, scriptTags } = props;
  let priorityMethods = {
    toComponent: () => {},
    toString: () => ""
  };
  if (prioritizeSeoTags) {
    ({ priorityMethods, linkTags, metaTags, scriptTags } = getPriorityMethods(props));
  }
  return {
    priority: priorityMethods,
    base: getMethodsForTag("base", baseTag, encode),
    bodyAttributes: getMethodsForTag("bodyAttributes", bodyAttributes, encode),
    htmlAttributes: getMethodsForTag("htmlAttributes", htmlAttributes, encode),
    link: getMethodsForTag("link", linkTags, encode),
    meta: getMethodsForTag("meta", metaTags, encode),
    noscript: getMethodsForTag("noscript", noscriptTags, encode),
    script: getMethodsForTag("script", scriptTags, encode),
    style: getMethodsForTag("style", styleTags, encode),
    title: getMethodsForTag("title", { title, titleAttributes }, encode)
  };
};
var server_default = mapStateOnServer;
var instances = [];
var isDocument = !!(typeof window !== "undefined" && window.document && window.document.createElement);
var HelmetData = class {
  instances = [];
  canUseDOM = isDocument;
  context;
  value = {
    setHelmet: (serverState) => {
      this.context.helmet = serverState;
    },
    helmetInstances: {
      get: () => this.canUseDOM ? instances : this.instances,
      add: (instance) => {
        (this.canUseDOM ? instances : this.instances).push(instance);
      },
      remove: (instance) => {
        const index = (this.canUseDOM ? instances : this.instances).indexOf(instance);
        (this.canUseDOM ? instances : this.instances).splice(index, 1);
      }
    }
  };
  constructor(context, canUseDOM) {
    this.context = context;
    this.canUseDOM = canUseDOM || false;
    if (!canUseDOM) {
      context.helmet = server_default({
        baseTag: [],
        bodyAttributes: {},
        encodeSpecialCharacters: true,
        htmlAttributes: {},
        linkTags: [],
        metaTags: [],
        noscriptTags: [],
        scriptTags: [],
        styleTags: [],
        title: "",
        titleAttributes: {}
      });
    }
  }
};
var defaultValue = {};
var Context = import_react11.default.createContext(defaultValue);
var HelmetProvider = class _HelmetProvider extends import_react11.Component {
  static canUseDOM = isDocument;
  helmetData;
  constructor(props) {
    super(props);
    this.helmetData = new HelmetData(this.props.context || {}, _HelmetProvider.canUseDOM);
  }
  render() {
    return /* @__PURE__ */ import_react11.default.createElement(Context.Provider, { value: this.helmetData.value }, this.props.children);
  }
};
var updateTags = (type, tags2) => {
  const headElement = document.head || document.querySelector("head");
  const tagNodes = headElement.querySelectorAll(`${type}[${HELMET_ATTRIBUTE}]`);
  const oldTags = [].slice.call(tagNodes);
  const newTags = [];
  let indexToDelete;
  if (tags2 && tags2.length) {
    tags2.forEach((tag) => {
      const newElement = document.createElement(type);
      for (const attribute in tag) {
        if (Object.prototype.hasOwnProperty.call(tag, attribute)) {
          if (attribute === "innerHTML") {
            newElement.innerHTML = tag.innerHTML;
          } else if (attribute === "cssText") {
            if (newElement.styleSheet) {
              newElement.styleSheet.cssText = tag.cssText;
            } else {
              newElement.appendChild(document.createTextNode(tag.cssText));
            }
          } else {
            const attr = attribute;
            const value = typeof tag[attr] === "undefined" ? "" : tag[attr];
            newElement.setAttribute(attribute, value);
          }
        }
      }
      newElement.setAttribute(HELMET_ATTRIBUTE, "true");
      if (oldTags.some((existingTag, index) => {
        indexToDelete = index;
        return newElement.isEqualNode(existingTag);
      })) {
        oldTags.splice(indexToDelete, 1);
      } else {
        newTags.push(newElement);
      }
    });
  }
  oldTags.forEach((tag) => tag.parentNode?.removeChild(tag));
  newTags.forEach((tag) => headElement.appendChild(tag));
  return {
    oldTags,
    newTags
  };
};
var updateAttributes = (tagName, attributes) => {
  const elementTag = document.getElementsByTagName(tagName)[0];
  if (!elementTag) {
    return;
  }
  const helmetAttributeString = elementTag.getAttribute(HELMET_ATTRIBUTE);
  const helmetAttributes = helmetAttributeString ? helmetAttributeString.split(",") : [];
  const attributesToRemove = [...helmetAttributes];
  const attributeKeys = Object.keys(attributes);
  for (const attribute of attributeKeys) {
    const value = attributes[attribute] || "";
    if (elementTag.getAttribute(attribute) !== value) {
      elementTag.setAttribute(attribute, value);
    }
    if (helmetAttributes.indexOf(attribute) === -1) {
      helmetAttributes.push(attribute);
    }
    const indexToSave = attributesToRemove.indexOf(attribute);
    if (indexToSave !== -1) {
      attributesToRemove.splice(indexToSave, 1);
    }
  }
  for (let i = attributesToRemove.length - 1;i >= 0; i -= 1) {
    elementTag.removeAttribute(attributesToRemove[i]);
  }
  if (helmetAttributes.length === attributesToRemove.length) {
    elementTag.removeAttribute(HELMET_ATTRIBUTE);
  } else if (elementTag.getAttribute(HELMET_ATTRIBUTE) !== attributeKeys.join(",")) {
    elementTag.setAttribute(HELMET_ATTRIBUTE, attributeKeys.join(","));
  }
};
var updateTitle = (title, attributes) => {
  if (typeof title !== "undefined" && document.title !== title) {
    document.title = flattenArray(title);
  }
  updateAttributes("title", attributes);
};
var commitTagChanges = (newState, cb) => {
  const {
    baseTag,
    bodyAttributes,
    htmlAttributes,
    linkTags,
    metaTags,
    noscriptTags,
    onChangeClientState,
    scriptTags,
    styleTags,
    title,
    titleAttributes
  } = newState;
  updateAttributes("body", bodyAttributes);
  updateAttributes("html", htmlAttributes);
  updateTitle(title, titleAttributes);
  const tagUpdates = {
    baseTag: updateTags("base", baseTag),
    linkTags: updateTags("link", linkTags),
    metaTags: updateTags("meta", metaTags),
    noscriptTags: updateTags("noscript", noscriptTags),
    scriptTags: updateTags("script", scriptTags),
    styleTags: updateTags("style", styleTags)
  };
  const addedTags = {};
  const removedTags = {};
  Object.keys(tagUpdates).forEach((tagType) => {
    const { newTags, oldTags } = tagUpdates[tagType];
    if (newTags.length) {
      addedTags[tagType] = newTags;
    }
    if (oldTags.length) {
      removedTags[tagType] = tagUpdates[tagType].oldTags;
    }
  });
  if (cb) {
    cb();
  }
  onChangeClientState(newState, addedTags, removedTags);
};
var _helmetCallback = null;
var handleStateChangeOnClient = (newState) => {
  if (_helmetCallback) {
    cancelAnimationFrame(_helmetCallback);
  }
  if (newState.defer) {
    _helmetCallback = requestAnimationFrame(() => {
      commitTagChanges(newState, () => {
        _helmetCallback = null;
      });
    });
  } else {
    commitTagChanges(newState);
    _helmetCallback = null;
  }
};
var client_default = handleStateChangeOnClient;
var HelmetDispatcher = class extends import_react13.Component {
  rendered = false;
  shouldComponentUpdate(nextProps) {
    return !import_shallowequal.default(nextProps, this.props);
  }
  componentDidUpdate() {
    this.emitChange();
  }
  componentWillUnmount() {
    const { helmetInstances } = this.props.context;
    helmetInstances.remove(this);
    this.emitChange();
  }
  emitChange() {
    const { helmetInstances, setHelmet } = this.props.context;
    let serverState = null;
    const state = reducePropsToState(helmetInstances.get().map((instance) => {
      const props = { ...instance.props };
      delete props.context;
      return props;
    }));
    if (HelmetProvider.canUseDOM) {
      client_default(state);
    } else if (server_default) {
      serverState = server_default(state);
    }
    setHelmet(serverState);
  }
  init() {
    if (this.rendered) {
      return;
    }
    this.rendered = true;
    const { helmetInstances } = this.props.context;
    helmetInstances.add(this);
    this.emitChange();
  }
  render() {
    this.init();
    return null;
  }
};
var Helmet = class extends import_react10.Component {
  static defaultProps = {
    defer: true,
    encodeSpecialCharacters: true,
    prioritizeSeoTags: false
  };
  shouldComponentUpdate(nextProps) {
    return !import_react_fast_compare.default(without(this.props, "helmetData"), without(nextProps, "helmetData"));
  }
  mapNestedChildrenToProps(child, nestedChildren) {
    if (!nestedChildren) {
      return null;
    }
    switch (child.type) {
      case "script":
      case "noscript":
        return {
          innerHTML: nestedChildren
        };
      case "style":
        return {
          cssText: nestedChildren
        };
      default:
        throw new Error(`<${child.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`);
    }
  }
  flattenArrayTypeChildren(child, arrayTypeChildren, newChildProps, nestedChildren) {
    return {
      ...arrayTypeChildren,
      [child.type]: [
        ...arrayTypeChildren[child.type] || [],
        {
          ...newChildProps,
          ...this.mapNestedChildrenToProps(child, nestedChildren)
        }
      ]
    };
  }
  mapObjectTypeChildren(child, newProps, newChildProps, nestedChildren) {
    switch (child.type) {
      case "title":
        return {
          ...newProps,
          [child.type]: nestedChildren,
          titleAttributes: { ...newChildProps }
        };
      case "body":
        return {
          ...newProps,
          bodyAttributes: { ...newChildProps }
        };
      case "html":
        return {
          ...newProps,
          htmlAttributes: { ...newChildProps }
        };
      default:
        return {
          ...newProps,
          [child.type]: { ...newChildProps }
        };
    }
  }
  mapArrayTypeChildrenToProps(arrayTypeChildren, newProps) {
    let newFlattenedProps = { ...newProps };
    Object.keys(arrayTypeChildren).forEach((arrayChildName) => {
      newFlattenedProps = {
        ...newFlattenedProps,
        [arrayChildName]: arrayTypeChildren[arrayChildName]
      };
    });
    return newFlattenedProps;
  }
  warnOnInvalidChildren(child, nestedChildren) {
    import_invariant.default(VALID_TAG_NAMES.some((name) => child.type === name), typeof child.type === "function" ? `You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.` : `Only elements types ${VALID_TAG_NAMES.join(", ")} are allowed. Helmet does not support rendering <${child.type}> elements. Refer to our API for more information.`);
    import_invariant.default(!nestedChildren || typeof nestedChildren === "string" || Array.isArray(nestedChildren) && !nestedChildren.some((nestedChild) => typeof nestedChild !== "string"), `Helmet expects a string as a child of <${child.type}>. Did you forget to wrap your children in braces? ( <${child.type}>{\`\`}</${child.type}> ) Refer to our API for more information.`);
    return true;
  }
  mapChildrenToProps(children, newProps) {
    let arrayTypeChildren = {};
    import_react10.default.Children.forEach(children, (child) => {
      if (!child || !child.props) {
        return;
      }
      const { children: nestedChildren, ...childProps } = child.props;
      const newChildProps = Object.keys(childProps).reduce((obj, key) => {
        obj[HTML_TAG_MAP[key] || key] = childProps[key];
        return obj;
      }, {});
      let { type } = child;
      if (typeof type === "symbol") {
        type = type.toString();
      } else {
        this.warnOnInvalidChildren(child, nestedChildren);
      }
      switch (type) {
        case "Symbol(react.fragment)":
          newProps = this.mapChildrenToProps(nestedChildren, newProps);
          break;
        case "link":
        case "meta":
        case "noscript":
        case "script":
        case "style":
          arrayTypeChildren = this.flattenArrayTypeChildren(child, arrayTypeChildren, newChildProps, nestedChildren);
          break;
        default:
          newProps = this.mapObjectTypeChildren(child, newProps, newChildProps, nestedChildren);
          break;
      }
    });
    return this.mapArrayTypeChildrenToProps(arrayTypeChildren, newProps);
  }
  render() {
    const { children, ...props } = this.props;
    let newProps = { ...props };
    let { helmetData } = props;
    if (children) {
      newProps = this.mapChildrenToProps(children, newProps);
    }
    if (helmetData && !(helmetData instanceof HelmetData)) {
      const data2 = helmetData;
      helmetData = new HelmetData(data2.context, true);
      delete newProps.helmetData;
    }
    return helmetData ? /* @__PURE__ */ import_react10.default.createElement(HelmetDispatcher, { ...newProps, context: helmetData.value }) : /* @__PURE__ */ import_react10.default.createElement(Context.Consumer, null, (context) => /* @__PURE__ */ import_react10.default.createElement(HelmetDispatcher, { ...newProps, context }));
  }
};

export { __toESM, __commonJS, __require, require_react, require_react_dom, isRouteErrorResponse, useLocation, useNavigate, useRouteError, Outlet, createBrowserRouter, Link, RouterProvider2, require_jsx_runtime, Grid_default, createTheme2 as createTheme, responsiveFontSizes, useTheme6 as useTheme, ThemeProvider5 as ThemeProvider, createSvgIcon, Collapse_default, CircularProgress_default, IconButton_default, Typography_default, AppBar_default, Chip_default, Avatar_default, Box_default, Button_default, Card_default, CardActions_default, CardContent_default, Container_default, CssBaseline_default, Dialog_default, DialogContent_default, DialogTitle_default, Divider_default, Drawer_default, Grid_default2 as Grid_default1, List_default, ListItemButton_default, ListItemText_default, Tooltip_default, Stack_default, Switch_default, Toolbar_default, useMediaQuery_default, require_jsx_dev_runtime, HelmetProvider, Helmet };

//# debugId=3903938E3F83BED464756E2164756E21
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vbm9kZV9tb2R1bGVzL3JlYWN0L2Nqcy9yZWFjdC5kZXZlbG9wbWVudC5qcyIsICIuLi9ub2RlX21vZHVsZXMvcmVhY3QvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWRvbS9janMvcmVhY3QtZG9tLmRldmVsb3BtZW50LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9yZWFjdC1kb20vaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvbm9kZV9tb2R1bGVzL3JlYWN0LWlzL2Nqcy9yZWFjdC1pcy5kZXZlbG9wbWVudC5qcyIsICIuLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9ub2RlX21vZHVsZXMvcmVhY3QtaXMvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL29iamVjdC1hc3NpZ24vaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2xpYi9oYXMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvY2hlY2tQcm9wVHlwZXMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWlzL2Nqcy9yZWFjdC1pcy5kZXZlbG9wbWVudC5qcyIsICIuLi9ub2RlX21vZHVsZXMvcmVhY3QtaXMvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzL25vZGVfbW9kdWxlcy9yZWFjdC1pcy9janMvcmVhY3QtaXMuZGV2ZWxvcG1lbnQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzL25vZGVfbW9kdWxlcy9yZWFjdC1pcy9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3MvZGlzdC9ob2lzdC1ub24tcmVhY3Qtc3RhdGljcy5janMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3JlYWN0L2Nqcy9yZWFjdC1qc3gtcnVudGltZS5kZXZlbG9wbWVudC5qcyIsICIuLi9ub2RlX21vZHVsZXMvcmVhY3QvanN4LXJ1bnRpbWUuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3JlYWN0L2Nqcy9yZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3JlYWN0L2pzeC1kZXYtcnVudGltZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvcmVhY3QtZmFzdC1jb21wYXJlL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9pbnZhcmlhbnQvYnJvd3Nlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvc2hhbGxvd2VxdWFsL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXIvZGlzdC9kZXZlbG9wbWVudC9jaHVuay1VSUdEU1dQSC5tanMiLCAiLi4vbm9kZV9tb2R1bGVzL3JlYWN0LXJvdXRlci9kaXN0L2RldmVsb3BtZW50L2luZGV4Lm1qcyIsICIuLi9ub2RlX21vZHVsZXMvcmVhY3Qtcm91dGVyL2Rpc3QvZGV2ZWxvcG1lbnQvZG9tLWV4cG9ydC5tanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL1R5cG9ncmFwaHkvVHlwb2dyYXBoeS5qcyIsICIuLi9ub2RlX21vZHVsZXMvY2xzeC9kaXN0L2Nsc3gubWpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL3V0aWxzL2VzbS9jb21wb3NlQ2xhc3Nlcy9jb21wb3NlQ2xhc3Nlcy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS91dGlscy9lc20vY2FwaXRhbGl6ZS9jYXBpdGFsaXplLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL3V0aWxzL2VzbS9kZWVwbWVyZ2UvZGVlcG1lcmdlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vbWVyZ2UvbWVyZ2UuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvc3lzdGVtL2VzbS9yZXNwb25zaXZlUHJvcFR5cGUvcmVzcG9uc2l2ZVByb3BUeXBlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vY3NzQ29udGFpbmVyUXVlcmllcy9jc3NDb250YWluZXJRdWVyaWVzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vYnJlYWtwb2ludHMvYnJlYWtwb2ludHMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvc3lzdGVtL2VzbS9zdHlsZS9zdHlsZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL21lbW9pemUvbWVtb2l6ZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL3NwYWNpbmcvc3BhY2luZy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL2NvbXBvc2UvY29tcG9zZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL2JvcmRlcnMvYm9yZGVycy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL2Nzc0dyaWQvY3NzR3JpZC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL3BhbGV0dGUvcGFsZXR0ZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL3NpemluZy9zaXppbmcuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvc3lzdGVtL2VzbS9zdHlsZUZ1bmN0aW9uU3gvZGVmYXVsdFN4Q29uZmlnLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vc3R5bGVGdW5jdGlvblN4L3N0eWxlRnVuY3Rpb25TeC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL3N0eWxlRnVuY3Rpb25TeC9leHRlbmRTeFByb3AuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL3N0eWxlcy91c2VUaGVtZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGVtb3Rpb24vcmVhY3QvZGlzdC9lbW90aW9uLWVsZW1lbnQtNDg5NDU5ZjIuYnJvd3Nlci5kZXZlbG9wbWVudC5lc20uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BlbW90aW9uL3NoZWV0L2Rpc3QvZW1vdGlvbi1zaGVldC5kZXZlbG9wbWVudC5lc20uanMiLCAiLi4vbm9kZV9tb2R1bGVzL3N0eWxpcy9zcmMvRW51bS5qcyIsICIuLi9ub2RlX21vZHVsZXMvc3R5bGlzL3NyYy9VdGlsaXR5LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9zdHlsaXMvc3JjL1Rva2VuaXplci5qcyIsICIuLi9ub2RlX21vZHVsZXMvc3R5bGlzL3NyYy9QYXJzZXIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3N0eWxpcy9zcmMvU2VyaWFsaXplci5qcyIsICIuLi9ub2RlX21vZHVsZXMvc3R5bGlzL3NyYy9NaWRkbGV3YXJlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZW1vdGlvbi9tZW1vaXplL2Rpc3QvZW1vdGlvbi1tZW1vaXplLmVzbS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGVtb3Rpb24vY2FjaGUvZGlzdC9lbW90aW9uLWNhY2hlLmJyb3dzZXIuZGV2ZWxvcG1lbnQuZXNtLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZW1vdGlvbi91dGlscy9kaXN0L2Vtb3Rpb24tdXRpbHMuYnJvd3Nlci5lc20uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BlbW90aW9uL2hhc2gvZGlzdC9lbW90aW9uLWhhc2guZXNtLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZW1vdGlvbi91bml0bGVzcy9kaXN0L2Vtb3Rpb24tdW5pdGxlc3MuZXNtLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZW1vdGlvbi9zZXJpYWxpemUvZGlzdC9lbW90aW9uLXNlcmlhbGl6ZS5kZXZlbG9wbWVudC5lc20uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BlbW90aW9uL3VzZS1pbnNlcnRpb24tZWZmZWN0LXdpdGgtZmFsbGJhY2tzL2Rpc3QvZW1vdGlvbi11c2UtaW5zZXJ0aW9uLWVmZmVjdC13aXRoLWZhbGxiYWNrcy5icm93c2VyLmVzbS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGVtb3Rpb24vcmVhY3QvZGlzdC9lbW90aW9uLXJlYWN0LmJyb3dzZXIuZGV2ZWxvcG1lbnQuZXNtLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZW1vdGlvbi9zdHlsZWQvYmFzZS9kaXN0L2Vtb3Rpb24tc3R5bGVkLWJhc2UuYnJvd3Nlci5kZXZlbG9wbWVudC5lc20uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BlbW90aW9uL2lzLXByb3AtdmFsaWQvZGlzdC9lbW90aW9uLWlzLXByb3AtdmFsaWQuZXNtLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZW1vdGlvbi9zdHlsZWQvZGlzdC9lbW90aW9uLXN0eWxlZC5icm93c2VyLmRldmVsb3BtZW50LmVzbS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9zdHlsZWQtZW5naW5lL2VzbS9HbG9iYWxTdHlsZXMvR2xvYmFsU3R5bGVzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL3N0eWxlZC1lbmdpbmUvZXNtL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vR2xvYmFsU3R5bGVzL0dsb2JhbFN0eWxlcy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL2NyZWF0ZUJyZWFrcG9pbnRzL2NyZWF0ZUJyZWFrcG9pbnRzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vY3JlYXRlVGhlbWUvc2hhcGUuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvc3lzdGVtL2VzbS9jcmVhdGVUaGVtZS9jcmVhdGVTcGFjaW5nLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vY3JlYXRlVGhlbWUvYXBwbHlTdHlsZXMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvc3lzdGVtL2VzbS9jcmVhdGVUaGVtZS9jcmVhdGVUaGVtZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL3VzZVRoZW1lV2l0aG91dERlZmF1bHQvdXNlVGhlbWVXaXRob3V0RGVmYXVsdC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL3VzZVRoZW1lL3VzZVRoZW1lLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL3V0aWxzL2VzbS9DbGFzc05hbWVHZW5lcmF0b3IvQ2xhc3NOYW1lR2VuZXJhdG9yLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vY3JlYXRlQm94L2NyZWF0ZUJveC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS91dGlscy9lc20vZ2VuZXJhdGVVdGlsaXR5Q2xhc3MvZ2VuZXJhdGVVdGlsaXR5Q2xhc3MuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvdXRpbHMvZXNtL2dlbmVyYXRlVXRpbGl0eUNsYXNzZXMvZ2VuZXJhdGVVdGlsaXR5Q2xhc3Nlcy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS91dGlscy9lc20vZ2V0RGlzcGxheU5hbWUvZ2V0RGlzcGxheU5hbWUuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvc3lzdGVtL2VzbS9wcmVwcm9jZXNzU3R5bGVzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vY3JlYXRlU3R5bGVkL2NyZWF0ZVN0eWxlZC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL3N0eWxlZC9zdHlsZWQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvdXRpbHMvZXNtL3Jlc29sdmVQcm9wcy9yZXNvbHZlUHJvcHMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvc3lzdGVtL2VzbS91c2VUaGVtZVByb3BzL2dldFRoZW1lUHJvcHMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvc3lzdGVtL2VzbS91c2VUaGVtZVByb3BzL3VzZVRoZW1lUHJvcHMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvc3lzdGVtL2VzbS91c2VNZWRpYVF1ZXJ5L3VzZU1lZGlhUXVlcnkuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvdXRpbHMvZXNtL3VzZUVuaGFuY2VkRWZmZWN0L3VzZUVuaGFuY2VkRWZmZWN0LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL3V0aWxzL2VzbS9jbGFtcC9jbGFtcC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL2NvbG9yTWFuaXB1bGF0b3IvY29sb3JNYW5pcHVsYXRvci5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL1RoZW1lUHJvdmlkZXIvVGhlbWVQcm92aWRlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9wcml2YXRlLXRoZW1pbmcvZXNtL1RoZW1lUHJvdmlkZXIvVGhlbWVQcm92aWRlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS91dGlscy9lc20vZXhhY3RQcm9wL2V4YWN0UHJvcC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9wcml2YXRlLXRoZW1pbmcvZXNtL3VzZVRoZW1lL1RoZW1lQ29udGV4dC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9wcml2YXRlLXRoZW1pbmcvZXNtL3VzZVRoZW1lL3VzZVRoZW1lLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL3ByaXZhdGUtdGhlbWluZy9lc20vVGhlbWVQcm92aWRlci9uZXN0ZWQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvc3lzdGVtL2VzbS9SdGxQcm92aWRlci9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL0RlZmF1bHRQcm9wc1Byb3ZpZGVyL0RlZmF1bHRQcm9wc1Byb3ZpZGVyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL3V0aWxzL2VzbS91c2VJZC91c2VJZC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL1RoZW1lUHJvdmlkZXIvdXNlTGF5ZXJPcmRlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL21lbW9UaGVtZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL2Nzc1ZhcnMvY3JlYXRlQ3NzVmFyc1Byb3ZpZGVyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vSW5pdENvbG9yU2NoZW1lU2NyaXB0L0luaXRDb2xvclNjaGVtZVNjcmlwdC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL2Nzc1ZhcnMvdXNlQ3VycmVudENvbG9yU2NoZW1lLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vY3NzVmFycy9sb2NhbFN0b3JhZ2VNYW5hZ2VyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vY3NzVmFycy9jcmVhdGVHZXRDc3NWYXIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvc3lzdGVtL2VzbS9jc3NWYXJzL2Nzc1ZhcnNQYXJzZXIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvc3lzdGVtL2VzbS9jc3NWYXJzL3ByZXBhcmVDc3NWYXJzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vY3NzVmFycy9nZXRDb2xvclNjaGVtZVNlbGVjdG9yLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vQ29udGFpbmVyL2NyZWF0ZUNvbnRhaW5lci5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL0dyaWQvR3JpZC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL0dyaWQvY3JlYXRlR3JpZC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS91dGlscy9lc20vaXNNdWlFbGVtZW50L2lzTXVpRWxlbWVudC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL0dyaWQvdHJhdmVyc2VCcmVha3BvaW50cy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL0dyaWQvZ3JpZEdlbmVyYXRvci5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL0dyaWQvZGVsZXRlTGVnYWN5R3JpZFByb3BzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vU3RhY2svY3JlYXRlU3RhY2suanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL2NvbG9ycy9jb21tb24uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL2NvbG9ycy9ncmV5LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9jb2xvcnMvcHVycGxlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9jb2xvcnMvcmVkLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9jb2xvcnMvb3JhbmdlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9jb2xvcnMvYmx1ZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vY29sb3JzL2xpZ2h0Qmx1ZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vY29sb3JzL2dyZWVuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9zdHlsZXMvY3JlYXRlUGFsZXR0ZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL2Nzc1ZhcnMvcHJlcGFyZVR5cG9ncmFwaHlWYXJzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9zdHlsZXMvY3JlYXRlTWl4aW5zLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9zdHlsZXMvY3JlYXRlVHlwb2dyYXBoeS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vc3R5bGVzL3NoYWRvd3MuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL3N0eWxlcy9jcmVhdGVUcmFuc2l0aW9ucy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vc3R5bGVzL3pJbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vc3R5bGVzL3N0cmluZ2lmeVRoZW1lLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9zdHlsZXMvY3JlYXRlVGhlbWVOb1ZhcnMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL3N0eWxlcy9nZXRPdmVybGF5QWxwaGEuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL3N0eWxlcy9jcmVhdGVDb2xvclNjaGVtZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vc3R5bGVzL3Nob3VsZFNraXBHZW5lcmF0aW5nVmFyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9zdHlsZXMvZXhjbHVkZVZhcmlhYmxlc0Zyb21Sb290LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9zdHlsZXMvY3JlYXRlR2V0U2VsZWN0b3IuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL3N0eWxlcy9jcmVhdGVUaGVtZVdpdGhWYXJzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9zdHlsZXMvY3JlYXRlVGhlbWUuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL3N0eWxlcy9kZWZhdWx0VGhlbWUuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL3N0eWxlcy9pZGVudGlmaWVyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9HbG9iYWxTdHlsZXMvR2xvYmFsU3R5bGVzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS96ZXJvLXN0eWxlZC9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vc3R5bGVzL3Nsb3RTaG91bGRGb3J3YXJkUHJvcC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vc3R5bGVzL3Jvb3RTaG91bGRGb3J3YXJkUHJvcC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vc3R5bGVzL3N0eWxlZC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vdXRpbHMvbWVtb1RoZW1lLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9EZWZhdWx0UHJvcHNQcm92aWRlci9EZWZhdWx0UHJvcHNQcm92aWRlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vdXRpbHMvY2FwaXRhbGl6ZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vdXRpbHMvY3JlYXRlU2ltcGxlUGFsZXR0ZVZhbHVlRmlsdGVyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9UeXBvZ3JhcGh5L3R5cG9ncmFwaHlDbGFzc2VzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9Cb3gvQm94LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9zdHlsZXMvY3NzVXRpbHMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL3N0eWxlcy9yZXNwb25zaXZlRm9udFNpemVzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9zdHlsZXMvVGhlbWVQcm92aWRlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vc3R5bGVzL1RoZW1lUHJvdmlkZXJOb1ZhcnMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL0luaXRDb2xvclNjaGVtZVNjcmlwdC9Jbml0Q29sb3JTY2hlbWVTY3JpcHQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL3N0eWxlcy9UaGVtZVByb3ZpZGVyV2l0aFZhcnMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL0JveC9ib3hDbGFzc2VzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9CdXR0b24vQnV0dG9uLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL3V0aWxzL2VzbS9jcmVhdGVDaGFpbmVkRnVuY3Rpb24vY3JlYXRlQ2hhaW5lZEZ1bmN0aW9uLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS91dGlscy9jcmVhdGVTdmdJY29uLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9TdmdJY29uL1N2Z0ljb24uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL1N2Z0ljb24vc3ZnSWNvbkNsYXNzZXMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvdXRpbHMvZXNtL2RlYm91bmNlL2RlYm91bmNlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS91dGlscy9kZWJvdW5jZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS91dGlscy9lc20vb3duZXJEb2N1bWVudC9vd25lckRvY3VtZW50LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL3V0aWxzL2VzbS9vd25lcldpbmRvdy9vd25lcldpbmRvdy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vdXRpbHMvb3duZXJXaW5kb3cuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvdXRpbHMvZXNtL3JlcXVpcmVQcm9wRmFjdG9yeS9yZXF1aXJlUHJvcEZhY3RvcnkuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL3V0aWxzL3JlcXVpcmVQcm9wRmFjdG9yeS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS91dGlscy9lc20vc2V0UmVmL3NldFJlZi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vdXRpbHMvdXNlRW5oYW5jZWRFZmZlY3QuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL3V0aWxzL3VzZUlkLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL3V0aWxzL2VzbS91bnN1cHBvcnRlZFByb3AvdW5zdXBwb3J0ZWRQcm9wLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS91dGlscy91bnN1cHBvcnRlZFByb3AuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvdXRpbHMvZXNtL3VzZUNvbnRyb2xsZWQvdXNlQ29udHJvbGxlZC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vdXRpbHMvdXNlQ29udHJvbGxlZC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS91dGlscy9lc20vdXNlRXZlbnRDYWxsYmFjay91c2VFdmVudENhbGxiYWNrLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS91dGlscy91c2VFdmVudENhbGxiYWNrLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL3V0aWxzL2VzbS91c2VGb3JrUmVmL3VzZUZvcmtSZWYuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL3V0aWxzL3VzZUZvcmtSZWYuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL3V0aWxzL21lcmdlU2xvdFByb3BzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS91dGlscy9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vQnV0dG9uQmFzZS9CdXR0b25CYXNlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL3V0aWxzL2VzbS9yZWZUeXBlL3JlZlR5cGUuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvdXRpbHMvZXNtL2VsZW1lbnRUeXBlQWNjZXB0aW5nUmVmL2VsZW1lbnRUeXBlQWNjZXB0aW5nUmVmLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL3V0aWxzL2VzbS9jaGFpblByb3BUeXBlcy9jaGFpblByb3BUeXBlcy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS91dGlscy9lc20vaXNGb2N1c1Zpc2libGUvaXNGb2N1c1Zpc2libGUuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL3VzZUxhenlSaXBwbGUvdXNlTGF6eVJpcHBsZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS91dGlscy9lc20vdXNlTGF6eVJlZi91c2VMYXp5UmVmLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS91c2VMYXp5UmlwcGxlL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9CdXR0b25CYXNlL1RvdWNoUmlwcGxlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zZXRQcm90b3R5cGVPZi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHNMb29zZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvcmVhY3QtdHJhbnNpdGlvbi1ncm91cC9lc20vVHJhbnNpdGlvbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvcmVhY3QtdHJhbnNpdGlvbi1ncm91cC9lc20vY29uZmlnLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL2VzbS91dGlscy9Qcm9wVHlwZXMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvZXNtL1RyYW5zaXRpb25Hcm91cENvbnRleHQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvZXNtL3V0aWxzL3JlZmxvdy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXNzZXJ0VGhpc0luaXRpYWxpemVkLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL2VzbS9UcmFuc2l0aW9uR3JvdXAuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvZXNtL3V0aWxzL0NoaWxkTWFwcGluZy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS91dGlscy9lc20vdXNlT25Nb3VudC91c2VPbk1vdW50LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL3V0aWxzL2VzbS91c2VUaW1lb3V0L3VzZVRpbWVvdXQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL0J1dHRvbkJhc2UvUmlwcGxlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9CdXR0b25CYXNlL3RvdWNoUmlwcGxlQ2xhc3Nlcy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vQnV0dG9uQmFzZS9idXR0b25CYXNlQ2xhc3Nlcy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vQ2lyY3VsYXJQcm9ncmVzcy9DaXJjdWxhclByb2dyZXNzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9DaXJjdWxhclByb2dyZXNzL2NpcmN1bGFyUHJvZ3Jlc3NDbGFzc2VzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9CdXR0b24vYnV0dG9uQ2xhc3Nlcy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vQnV0dG9uR3JvdXAvQnV0dG9uR3JvdXBDb250ZXh0LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9CdXR0b25Hcm91cC9CdXR0b25Hcm91cEJ1dHRvbkNvbnRleHQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL0NvbnRhaW5lci9Db250YWluZXIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL1N0YWNrL1N0YWNrLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9Db2xsYXBzZS9Db2xsYXBzZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vdHJhbnNpdGlvbnMvdXRpbHMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvdXRpbHMvZXNtL2lzSG9zdENvbXBvbmVudC9pc0hvc3RDb21wb25lbnQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvdXRpbHMvZXNtL2FwcGVuZE93bmVyU3RhdGUvYXBwZW5kT3duZXJTdGF0ZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS91dGlscy9lc20vcmVzb2x2ZUNvbXBvbmVudFByb3BzL3Jlc29sdmVDb21wb25lbnRQcm9wcy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS91dGlscy9lc20vZXh0cmFjdEV2ZW50SGFuZGxlcnMvZXh0cmFjdEV2ZW50SGFuZGxlcnMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvdXRpbHMvZXNtL29taXRFdmVudEhhbmRsZXJzL29taXRFdmVudEhhbmRsZXJzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL3V0aWxzL2VzbS9tZXJnZVNsb3RQcm9wcy9tZXJnZVNsb3RQcm9wcy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vdXRpbHMvdXNlU2xvdC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vQ29sbGFwc2UvY29sbGFwc2VDbGFzc2VzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9QYXBlci9QYXBlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS91dGlscy9lc20vaW50ZWdlclByb3BUeXBlL2ludGVnZXJQcm9wVHlwZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vUGFwZXIvcGFwZXJDbGFzc2VzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9JY29uQnV0dG9uL0ljb25CdXR0b24uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL0ljb25CdXR0b24vaWNvbkJ1dHRvbkNsYXNzZXMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL0FwcEJhci9BcHBCYXIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL0FwcEJhci9hcHBCYXJDbGFzc2VzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL3V0aWxzL2VzbS9IVE1MRWxlbWVudFR5cGUvSFRNTEVsZW1lbnRUeXBlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9Qb3BwZXIvUG9wcGVyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9Qb3BwZXIvQmFzZVBvcHBlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2VudW1zLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldE5vZGVOYW1lLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldFdpbmRvdy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9pbnN0YW5jZU9mLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvbW9kaWZpZXJzL2FwcGx5U3R5bGVzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvZ2V0QmFzZVBsYWNlbWVudC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL21hdGguanMiLCAiLi4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy91c2VyQWdlbnQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvaXNMYXlvdXRWaWV3cG9ydC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXRCb3VuZGluZ0NsaWVudFJlY3QuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0TGF5b3V0UmVjdC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9jb250YWlucy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXRDb21wdXRlZFN0eWxlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2lzVGFibGVFbGVtZW50LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldERvY3VtZW50RWxlbWVudC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXRQYXJlbnROb2RlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldE9mZnNldFBhcmVudC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL2dldE1haW5BeGlzRnJvbVBsYWNlbWVudC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL3dpdGhpbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL2dldEZyZXNoU2lkZU9iamVjdC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL21lcmdlUGFkZGluZ09iamVjdC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL2V4cGFuZFRvSGFzaE1hcC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL21vZGlmaWVycy9hcnJvdy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL2dldFZhcmlhdGlvbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL21vZGlmaWVycy9jb21wdXRlU3R5bGVzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvbW9kaWZpZXJzL2V2ZW50TGlzdGVuZXJzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvZ2V0T3Bwb3NpdGVQbGFjZW1lbnQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9nZXRPcHBvc2l0ZVZhcmlhdGlvblBsYWNlbWVudC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXRXaW5kb3dTY3JvbGwuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0V2luZG93U2Nyb2xsQmFyWC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXRWaWV3cG9ydFJlY3QuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0RG9jdW1lbnRSZWN0LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2lzU2Nyb2xsUGFyZW50LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldFNjcm9sbFBhcmVudC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9saXN0U2Nyb2xsUGFyZW50cy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL3JlY3RUb0NsaWVudFJlY3QuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0Q2xpcHBpbmdSZWN0LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvY29tcHV0ZU9mZnNldHMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9kZXRlY3RPdmVyZmxvdy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL2NvbXB1dGVBdXRvUGxhY2VtZW50LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvbW9kaWZpZXJzL2ZsaXAuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9tb2RpZmllcnMvaGlkZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL21vZGlmaWVycy9vZmZzZXQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9tb2RpZmllcnMvcG9wcGVyT2Zmc2V0cy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL2dldEFsdEF4aXMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9tb2RpZmllcnMvcHJldmVudE92ZXJmbG93LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldEhUTUxFbGVtZW50U2Nyb2xsLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldE5vZGVTY3JvbGwuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0Q29tcG9zaXRlUmVjdC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL29yZGVyTW9kaWZpZXJzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvZGVib3VuY2UuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9tZXJnZUJ5TmFtZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2NyZWF0ZVBvcHBlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3BvcHBlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS91dGlscy9lc20vdXNlU2xvdFByb3BzL3VzZVNsb3RQcm9wcy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vUG9ydGFsL1BvcnRhbC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS91dGlscy9lc20vZ2V0UmVhY3RFbGVtZW50UmVmL2dldFJlYWN0RWxlbWVudFJlZi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vUG9wcGVyL3BvcHBlckNsYXNzZXMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL0NoaXAvQ2hpcC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vaW50ZXJuYWwvc3ZnLWljb25zL0NhbmNlbC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vQ2hpcC9jaGlwQ2xhc3Nlcy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vRm9ybUNvbnRyb2wvRm9ybUNvbnRyb2xDb250ZXh0LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9Gb3JtQ29udHJvbC91c2VGb3JtQ29udHJvbC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vQXZhdGFyL0F2YXRhci5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vaW50ZXJuYWwvc3ZnLWljb25zL1BlcnNvbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vQXZhdGFyL2F2YXRhckNsYXNzZXMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL0JhY2tkcm9wL0JhY2tkcm9wLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9GYWRlL0ZhZGUuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvdXRpbHMvZXNtL2VsZW1lbnRBY2NlcHRpbmdSZWYvZWxlbWVudEFjY2VwdGluZ1JlZi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vQmFja2Ryb3AvYmFja2Ryb3BDbGFzc2VzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9DYXJkL0NhcmQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL0NhcmQvY2FyZENsYXNzZXMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL0NhcmRBY3Rpb25zL0NhcmRBY3Rpb25zLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9DYXJkQWN0aW9ucy9jYXJkQWN0aW9uc0NsYXNzZXMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL0NhcmRDb250ZW50L0NhcmRDb250ZW50LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9DYXJkQ29udGVudC9jYXJkQ29udGVudENsYXNzZXMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL2ludGVybmFsL1N3aXRjaEJhc2UuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL2ludGVybmFsL3N3aXRjaEJhc2VDbGFzc2VzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9Dc3NCYXNlbGluZS9Dc3NCYXNlbGluZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vRGlhbG9nL0RpYWxvZy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS91dGlscy9lc20vZ2V0U2Nyb2xsYmFyU2l6ZS9nZXRTY3JvbGxiYXJTaXplLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9Nb2RhbC9Nb2RhbE1hbmFnZXIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL01vZGFsL01vZGFsLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9VbnN0YWJsZV9UcmFwRm9jdXMvRm9jdXNUcmFwLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9Nb2RhbC91c2VNb2RhbC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vTW9kYWwvbW9kYWxDbGFzc2VzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9EaWFsb2cvZGlhbG9nQ2xhc3Nlcy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vRGlhbG9nL0RpYWxvZ0NvbnRleHQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL0RpYWxvZ0NvbnRlbnQvRGlhbG9nQ29udGVudC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vRGlhbG9nQ29udGVudC9kaWFsb2dDb250ZW50Q2xhc3Nlcy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vRGlhbG9nVGl0bGUvZGlhbG9nVGl0bGVDbGFzc2VzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9EaWFsb2dUaXRsZS9EaWFsb2dUaXRsZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vRGl2aWRlci9EaXZpZGVyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9EaXZpZGVyL2RpdmlkZXJDbGFzc2VzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9EcmF3ZXIvRHJhd2VyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9TbGlkZS9TbGlkZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vRHJhd2VyL2RyYXdlckNsYXNzZXMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL0dyaWQvR3JpZC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vR3Jvdy9Hcm93LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9MaXN0L0xpc3QuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL0xpc3QvTGlzdENvbnRleHQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL0xpc3QvbGlzdENsYXNzZXMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL0xpc3RJdGVtQnV0dG9uL0xpc3RJdGVtQnV0dG9uLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9MaXN0SXRlbUJ1dHRvbi9saXN0SXRlbUJ1dHRvbkNsYXNzZXMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL0xpc3RJdGVtVGV4dC9MaXN0SXRlbVRleHQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL0xpc3RJdGVtVGV4dC9saXN0SXRlbVRleHRDbGFzc2VzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9Ub29sdGlwL1Rvb2x0aXAuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL1Rvb2x0aXAvdG9vbHRpcENsYXNzZXMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL1N3aXRjaC9Td2l0Y2guanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL1N3aXRjaC9zd2l0Y2hDbGFzc2VzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9Ub29sYmFyL1Rvb2xiYXIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL1Rvb2xiYXIvdG9vbGJhckNsYXNzZXMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvZXNtL3VzZU1lZGlhUXVlcnkvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWhlbG1ldC1hc3luYy9saWIvaW5kZXguZXNtLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWwogICAgIi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHJlYWN0LmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJlxuICAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGRlZmluZURlcHJlY2F0aW9uV2FybmluZyhtZXRob2ROYW1lLCBpbmZvKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcG9uZW50LnByb3RvdHlwZSwgbWV0aG9kTmFtZSwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICBcIiVzKC4uLikgaXMgZGVwcmVjYXRlZCBpbiBwbGFpbiBKYXZhU2NyaXB0IFJlYWN0IGNsYXNzZXMuICVzXCIsXG4gICAgICAgICAgICBpbmZvWzBdLFxuICAgICAgICAgICAgaW5mb1sxXVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRJdGVyYXRvckZuKG1heWJlSXRlcmFibGUpIHtcbiAgICAgIGlmIChudWxsID09PSBtYXliZUl0ZXJhYmxlIHx8IFwib2JqZWN0XCIgIT09IHR5cGVvZiBtYXliZUl0ZXJhYmxlKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIG1heWJlSXRlcmFibGUgPVxuICAgICAgICAoTUFZQkVfSVRFUkFUT1JfU1lNQk9MICYmIG1heWJlSXRlcmFibGVbTUFZQkVfSVRFUkFUT1JfU1lNQk9MXSkgfHxcbiAgICAgICAgbWF5YmVJdGVyYWJsZVtcIkBAaXRlcmF0b3JcIl07XG4gICAgICByZXR1cm4gXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbWF5YmVJdGVyYWJsZSA/IG1heWJlSXRlcmFibGUgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3YXJuTm9vcChwdWJsaWNJbnN0YW5jZSwgY2FsbGVyTmFtZSkge1xuICAgICAgcHVibGljSW5zdGFuY2UgPVxuICAgICAgICAoKHB1YmxpY0luc3RhbmNlID0gcHVibGljSW5zdGFuY2UuY29uc3RydWN0b3IpICYmXG4gICAgICAgICAgKHB1YmxpY0luc3RhbmNlLmRpc3BsYXlOYW1lIHx8IHB1YmxpY0luc3RhbmNlLm5hbWUpKSB8fFxuICAgICAgICBcIlJlYWN0Q2xhc3NcIjtcbiAgICAgIHZhciB3YXJuaW5nS2V5ID0gcHVibGljSW5zdGFuY2UgKyBcIi5cIiArIGNhbGxlck5hbWU7XG4gICAgICBkaWRXYXJuU3RhdGVVcGRhdGVGb3JVbm1vdW50ZWRDb21wb25lbnRbd2FybmluZ0tleV0gfHxcbiAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJDYW4ndCBjYWxsICVzIG9uIGEgY29tcG9uZW50IHRoYXQgaXMgbm90IHlldCBtb3VudGVkLiBUaGlzIGlzIGEgbm8tb3AsIGJ1dCBpdCBtaWdodCBpbmRpY2F0ZSBhIGJ1ZyBpbiB5b3VyIGFwcGxpY2F0aW9uLiBJbnN0ZWFkLCBhc3NpZ24gdG8gYHRoaXMuc3RhdGVgIGRpcmVjdGx5IG9yIGRlZmluZSBhIGBzdGF0ZSA9IHt9O2AgY2xhc3MgcHJvcGVydHkgd2l0aCB0aGUgZGVzaXJlZCBzdGF0ZSBpbiB0aGUgJXMgY29tcG9uZW50LlwiLFxuICAgICAgICAgIGNhbGxlck5hbWUsXG4gICAgICAgICAgcHVibGljSW5zdGFuY2VcbiAgICAgICAgKSxcbiAgICAgICAgKGRpZFdhcm5TdGF0ZVVwZGF0ZUZvclVubW91bnRlZENvbXBvbmVudFt3YXJuaW5nS2V5XSA9ICEwKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIENvbXBvbmVudChwcm9wcywgY29udGV4dCwgdXBkYXRlcikge1xuICAgICAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgIHRoaXMucmVmcyA9IGVtcHR5T2JqZWN0O1xuICAgICAgdGhpcy51cGRhdGVyID0gdXBkYXRlciB8fCBSZWFjdE5vb3BVcGRhdGVRdWV1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gQ29tcG9uZW50RHVtbXkoKSB7fVxuICAgIGZ1bmN0aW9uIFB1cmVDb21wb25lbnQocHJvcHMsIGNvbnRleHQsIHVwZGF0ZXIpIHtcbiAgICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICB0aGlzLnJlZnMgPSBlbXB0eU9iamVjdDtcbiAgICAgIHRoaXMudXBkYXRlciA9IHVwZGF0ZXIgfHwgUmVhY3ROb29wVXBkYXRlUXVldWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5vb3AoKSB7fVxuICAgIGZ1bmN0aW9uIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIFwiXCIgKyB2YWx1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tLZXlTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9ICExO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMDtcbiAgICAgIH1cbiAgICAgIGlmIChKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQpIHtcbiAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gY29uc29sZTtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfdGVtcF9jb25zdCA9IEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdC5lcnJvcjtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCRqc2NvbXAkMCA9XG4gICAgICAgICAgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFN5bWJvbCAmJlxuICAgICAgICAgICAgU3ltYm9sLnRvU3RyaW5nVGFnICYmXG4gICAgICAgICAgICB2YWx1ZVtTeW1ib2wudG9TdHJpbmdUYWddKSB8fFxuICAgICAgICAgIHZhbHVlLmNvbnN0cnVjdG9yLm5hbWUgfHxcbiAgICAgICAgICBcIk9iamVjdFwiO1xuICAgICAgICBKU0NvbXBpbGVyX3RlbXBfY29uc3QuY2FsbChcbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQsXG4gICAgICAgICAgXCJUaGUgcHJvdmlkZWQga2V5IGlzIGFuIHVuc3VwcG9ydGVkIHR5cGUgJXMuIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSB1c2luZyBpdCBoZXJlLlwiLFxuICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCRqc2NvbXAkMFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpIHtcbiAgICAgIGlmIChudWxsID09IHR5cGUpIHJldHVybiBudWxsO1xuICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHR5cGUpXG4gICAgICAgIHJldHVybiB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9DTElFTlRfUkVGRVJFTkNFXG4gICAgICAgICAgPyBudWxsXG4gICAgICAgICAgOiB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCBudWxsO1xuICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiB0eXBlKSByZXR1cm4gdHlwZTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFJFQUNUX0ZSQUdNRU5UX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiRnJhZ21lbnRcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9QUk9GSUxFUl9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlByb2ZpbGVyXCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1RSSUNUX01PREVfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJTdHJpY3RNb2RlXCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJTdXNwZW5zZVwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJTdXNwZW5zZUxpc3RcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9BQ1RJVklUWV9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIkFjdGl2aXR5XCI7XG4gICAgICB9XG4gICAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIHR5cGUpXG4gICAgICAgIHN3aXRjaCAoXG4gICAgICAgICAgKFwibnVtYmVyXCIgPT09IHR5cGVvZiB0eXBlLnRhZyAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJSZWNlaXZlZCBhbiB1bmV4cGVjdGVkIG9iamVjdCBpbiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoKS4gVGhpcyBpcyBsaWtlbHkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgICApLFxuICAgICAgICAgIHR5cGUuJCR0eXBlb2YpXG4gICAgICAgICkge1xuICAgICAgICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gXCJQb3J0YWxcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0NPTlRFWFRfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiB0eXBlLmRpc3BsYXlOYW1lIHx8IFwiQ29udGV4dFwiO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfQ09OU1VNRVJfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAodHlwZS5fY29udGV4dC5kaXNwbGF5TmFtZSB8fCBcIkNvbnRleHRcIikgKyBcIi5Db25zdW1lclwiO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTpcbiAgICAgICAgICAgIHZhciBpbm5lclR5cGUgPSB0eXBlLnJlbmRlcjtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlLmRpc3BsYXlOYW1lO1xuICAgICAgICAgICAgdHlwZSB8fFxuICAgICAgICAgICAgICAoKHR5cGUgPSBpbm5lclR5cGUuZGlzcGxheU5hbWUgfHwgaW5uZXJUeXBlLm5hbWUgfHwgXCJcIiksXG4gICAgICAgICAgICAgICh0eXBlID0gXCJcIiAhPT0gdHlwZSA/IFwiRm9yd2FyZFJlZihcIiArIHR5cGUgKyBcIilcIiA6IFwiRm9yd2FyZFJlZlwiKSk7XG4gICAgICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgICAgICBjYXNlIFJFQUNUX01FTU9fVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIChpbm5lclR5cGUgPSB0eXBlLmRpc3BsYXlOYW1lIHx8IG51bGwpLFxuICAgICAgICAgICAgICBudWxsICE9PSBpbm5lclR5cGVcbiAgICAgICAgICAgICAgICA/IGlubmVyVHlwZVxuICAgICAgICAgICAgICAgIDogZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUudHlwZSkgfHwgXCJNZW1vXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgICAgICBpbm5lclR5cGUgPSB0eXBlLl9wYXlsb2FkO1xuICAgICAgICAgICAgdHlwZSA9IHR5cGUuX2luaXQ7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICByZXR1cm4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUoaW5uZXJUeXBlKSk7XG4gICAgICAgICAgICB9IGNhdGNoICh4KSB7fVxuICAgICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VGFza05hbWUodHlwZSkge1xuICAgICAgaWYgKHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUpIHJldHVybiBcIjw+XCI7XG4gICAgICBpZiAoXG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlICYmXG4gICAgICAgIG51bGwgIT09IHR5cGUgJiZcbiAgICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTEFaWV9UWVBFXG4gICAgICApXG4gICAgICAgIHJldHVybiBcIjwuLi4+XCI7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKTtcbiAgICAgICAgcmV0dXJuIG5hbWUgPyBcIjxcIiArIG5hbWUgKyBcIj5cIiA6IFwiPC4uLj5cIjtcbiAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgcmV0dXJuIFwiPC4uLj5cIjtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0T3duZXIoKSB7XG4gICAgICB2YXIgZGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkE7XG4gICAgICByZXR1cm4gbnVsbCA9PT0gZGlzcGF0Y2hlciA/IG51bGwgOiBkaXNwYXRjaGVyLmdldE93bmVyKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFVua25vd25Pd25lcigpIHtcbiAgICAgIHJldHVybiBFcnJvcihcInJlYWN0LXN0YWNrLXRvcC1mcmFtZVwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFzVmFsaWRLZXkoY29uZmlnKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIFwia2V5XCIpKSB7XG4gICAgICAgIHZhciBnZXR0ZXIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNvbmZpZywgXCJrZXlcIikuZ2V0O1xuICAgICAgICBpZiAoZ2V0dGVyICYmIGdldHRlci5pc1JlYWN0V2FybmluZykgcmV0dXJuICExO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gY29uZmlnLmtleTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gICAgICBmdW5jdGlvbiB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkoKSB7XG4gICAgICAgIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duIHx8XG4gICAgICAgICAgKChzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biA9ICEwKSxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlczogYGtleWAgaXMgbm90IGEgcHJvcC4gVHJ5aW5nIHRvIGFjY2VzcyBpdCB3aWxsIHJlc3VsdCBpbiBgdW5kZWZpbmVkYCBiZWluZyByZXR1cm5lZC4gSWYgeW91IG5lZWQgdG8gYWNjZXNzIHRoZSBzYW1lIHZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgcHJvcC4gKGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvc3BlY2lhbC1wcm9wcylcIixcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lXG4gICAgICAgICAgKSk7XG4gICAgICB9XG4gICAgICB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkuaXNSZWFjdFdhcm5pbmcgPSAhMDtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgXCJrZXlcIiwge1xuICAgICAgICBnZXQ6IHdhcm5BYm91dEFjY2Vzc2luZ0tleSxcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMFxuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVsZW1lbnRSZWZHZXR0ZXJXaXRoRGVwcmVjYXRpb25XYXJuaW5nKCkge1xuICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodGhpcy50eXBlKTtcbiAgICAgIGRpZFdhcm5BYm91dEVsZW1lbnRSZWZbY29tcG9uZW50TmFtZV0gfHxcbiAgICAgICAgKChkaWRXYXJuQWJvdXRFbGVtZW50UmVmW2NvbXBvbmVudE5hbWVdID0gITApLFxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiQWNjZXNzaW5nIGVsZW1lbnQucmVmIHdhcyByZW1vdmVkIGluIFJlYWN0IDE5LiByZWYgaXMgbm93IGEgcmVndWxhciBwcm9wLiBJdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgSlNYIEVsZW1lbnQgdHlwZSBpbiBhIGZ1dHVyZSByZWxlYXNlLlwiXG4gICAgICAgICkpO1xuICAgICAgY29tcG9uZW50TmFtZSA9IHRoaXMucHJvcHMucmVmO1xuICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gY29tcG9uZW50TmFtZSA/IGNvbXBvbmVudE5hbWUgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBSZWFjdEVsZW1lbnQodHlwZSwga2V5LCBwcm9wcywgb3duZXIsIGRlYnVnU3RhY2ssIGRlYnVnVGFzaykge1xuICAgICAgdmFyIHJlZlByb3AgPSBwcm9wcy5yZWY7XG4gICAgICB0eXBlID0ge1xuICAgICAgICAkJHR5cGVvZjogUkVBQ1RfRUxFTUVOVF9UWVBFLFxuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgICBfb3duZXI6IG93bmVyXG4gICAgICB9O1xuICAgICAgbnVsbCAhPT0gKHZvaWQgMCAhPT0gcmVmUHJvcCA/IHJlZlByb3AgOiBudWxsKVxuICAgICAgICA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcInJlZlwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgICAgIGdldDogZWxlbWVudFJlZkdldHRlcldpdGhEZXByZWNhdGlvbldhcm5pbmdcbiAgICAgICAgICB9KVxuICAgICAgICA6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcInJlZlwiLCB7IGVudW1lcmFibGU6ICExLCB2YWx1ZTogbnVsbCB9KTtcbiAgICAgIHR5cGUuX3N0b3JlID0ge307XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZS5fc3RvcmUsIFwidmFsaWRhdGVkXCIsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgICAgdmFsdWU6IDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwiX2RlYnVnSW5mb1wiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiBudWxsXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcIl9kZWJ1Z1N0YWNrXCIsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgICAgdmFsdWU6IGRlYnVnU3RhY2tcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwiX2RlYnVnVGFza1wiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiBkZWJ1Z1Rhc2tcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmZyZWV6ZSAmJiAoT2JqZWN0LmZyZWV6ZSh0eXBlLnByb3BzKSwgT2JqZWN0LmZyZWV6ZSh0eXBlKSk7XG4gICAgICByZXR1cm4gdHlwZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xvbmVBbmRSZXBsYWNlS2V5KG9sZEVsZW1lbnQsIG5ld0tleSkge1xuICAgICAgbmV3S2V5ID0gUmVhY3RFbGVtZW50KFxuICAgICAgICBvbGRFbGVtZW50LnR5cGUsXG4gICAgICAgIG5ld0tleSxcbiAgICAgICAgb2xkRWxlbWVudC5wcm9wcyxcbiAgICAgICAgb2xkRWxlbWVudC5fb3duZXIsXG4gICAgICAgIG9sZEVsZW1lbnQuX2RlYnVnU3RhY2ssXG4gICAgICAgIG9sZEVsZW1lbnQuX2RlYnVnVGFza1xuICAgICAgKTtcbiAgICAgIG9sZEVsZW1lbnQuX3N0b3JlICYmXG4gICAgICAgIChuZXdLZXkuX3N0b3JlLnZhbGlkYXRlZCA9IG9sZEVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCk7XG4gICAgICByZXR1cm4gbmV3S2V5O1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZUNoaWxkS2V5cyhub2RlKSB7XG4gICAgICBpc1ZhbGlkRWxlbWVudChub2RlKVxuICAgICAgICA/IG5vZGUuX3N0b3JlICYmIChub2RlLl9zdG9yZS52YWxpZGF0ZWQgPSAxKVxuICAgICAgICA6IFwib2JqZWN0XCIgPT09IHR5cGVvZiBub2RlICYmXG4gICAgICAgICAgbnVsbCAhPT0gbm9kZSAmJlxuICAgICAgICAgIG5vZGUuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRSAmJlxuICAgICAgICAgIChcImZ1bGZpbGxlZFwiID09PSBub2RlLl9wYXlsb2FkLnN0YXR1c1xuICAgICAgICAgICAgPyBpc1ZhbGlkRWxlbWVudChub2RlLl9wYXlsb2FkLnZhbHVlKSAmJlxuICAgICAgICAgICAgICBub2RlLl9wYXlsb2FkLnZhbHVlLl9zdG9yZSAmJlxuICAgICAgICAgICAgICAobm9kZS5fcGF5bG9hZC52YWx1ZS5fc3RvcmUudmFsaWRhdGVkID0gMSlcbiAgICAgICAgICAgIDogbm9kZS5fc3RvcmUgJiYgKG5vZGUuX3N0b3JlLnZhbGlkYXRlZCA9IDEpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnQob2JqZWN0KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2Ygb2JqZWN0ICYmXG4gICAgICAgIG51bGwgIT09IG9iamVjdCAmJlxuICAgICAgICBvYmplY3QuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRVxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZXNjYXBlKGtleSkge1xuICAgICAgdmFyIGVzY2FwZXJMb29rdXAgPSB7IFwiPVwiOiBcIj0wXCIsIFwiOlwiOiBcIj0yXCIgfTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIFwiJFwiICtcbiAgICAgICAga2V5LnJlcGxhY2UoL1s9Ol0vZywgZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgICAgICAgcmV0dXJuIGVzY2FwZXJMb29rdXBbbWF0Y2hdO1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RWxlbWVudEtleShlbGVtZW50LCBpbmRleCkge1xuICAgICAgcmV0dXJuIFwib2JqZWN0XCIgPT09IHR5cGVvZiBlbGVtZW50ICYmXG4gICAgICAgIG51bGwgIT09IGVsZW1lbnQgJiZcbiAgICAgICAgbnVsbCAhPSBlbGVtZW50LmtleVxuICAgICAgICA/IChjaGVja0tleVN0cmluZ0NvZXJjaW9uKGVsZW1lbnQua2V5KSwgZXNjYXBlKFwiXCIgKyBlbGVtZW50LmtleSkpXG4gICAgICAgIDogaW5kZXgudG9TdHJpbmcoMzYpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNvbHZlVGhlbmFibGUodGhlbmFibGUpIHtcbiAgICAgIHN3aXRjaCAodGhlbmFibGUuc3RhdHVzKSB7XG4gICAgICAgIGNhc2UgXCJmdWxmaWxsZWRcIjpcbiAgICAgICAgICByZXR1cm4gdGhlbmFibGUudmFsdWU7XG4gICAgICAgIGNhc2UgXCJyZWplY3RlZFwiOlxuICAgICAgICAgIHRocm93IHRoZW5hYmxlLnJlYXNvbjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBzd2l0Y2ggKFxuICAgICAgICAgICAgKFwic3RyaW5nXCIgPT09IHR5cGVvZiB0aGVuYWJsZS5zdGF0dXNcbiAgICAgICAgICAgICAgPyB0aGVuYWJsZS50aGVuKG5vb3AsIG5vb3ApXG4gICAgICAgICAgICAgIDogKCh0aGVuYWJsZS5zdGF0dXMgPSBcInBlbmRpbmdcIiksXG4gICAgICAgICAgICAgICAgdGhlbmFibGUudGhlbihcbiAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChmdWxmaWxsZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBcInBlbmRpbmdcIiA9PT0gdGhlbmFibGUuc3RhdHVzICYmXG4gICAgICAgICAgICAgICAgICAgICAgKCh0aGVuYWJsZS5zdGF0dXMgPSBcImZ1bGZpbGxlZFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAodGhlbmFibGUudmFsdWUgPSBmdWxmaWxsZWRWYWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBcInBlbmRpbmdcIiA9PT0gdGhlbmFibGUuc3RhdHVzICYmXG4gICAgICAgICAgICAgICAgICAgICAgKCh0aGVuYWJsZS5zdGF0dXMgPSBcInJlamVjdGVkXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICh0aGVuYWJsZS5yZWFzb24gPSBlcnJvcikpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgdGhlbmFibGUuc3RhdHVzKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY2FzZSBcImZ1bGZpbGxlZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gdGhlbmFibGUudmFsdWU7XG4gICAgICAgICAgICBjYXNlIFwicmVqZWN0ZWRcIjpcbiAgICAgICAgICAgICAgdGhyb3cgdGhlbmFibGUucmVhc29uO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRocm93IHRoZW5hYmxlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXBJbnRvQXJyYXkoY2hpbGRyZW4sIGFycmF5LCBlc2NhcGVkUHJlZml4LCBuYW1lU29GYXIsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiBjaGlsZHJlbjtcbiAgICAgIGlmIChcInVuZGVmaW5lZFwiID09PSB0eXBlIHx8IFwiYm9vbGVhblwiID09PSB0eXBlKSBjaGlsZHJlbiA9IG51bGw7XG4gICAgICB2YXIgaW52b2tlQ2FsbGJhY2sgPSAhMTtcbiAgICAgIGlmIChudWxsID09PSBjaGlsZHJlbikgaW52b2tlQ2FsbGJhY2sgPSAhMDtcbiAgICAgIGVsc2VcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICBpbnZva2VDYWxsYmFjayA9ICEwO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgc3dpdGNoIChjaGlsZHJlbi4kJHR5cGVvZikge1xuICAgICAgICAgICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRTpcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICAgICAgICBpbnZva2VDYWxsYmFjayA9ICEwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgKGludm9rZUNhbGxiYWNrID0gY2hpbGRyZW4uX2luaXQpLFxuICAgICAgICAgICAgICAgICAgbWFwSW50b0FycmF5KFxuICAgICAgICAgICAgICAgICAgICBpbnZva2VDYWxsYmFjayhjaGlsZHJlbi5fcGF5bG9hZCksXG4gICAgICAgICAgICAgICAgICAgIGFycmF5LFxuICAgICAgICAgICAgICAgICAgICBlc2NhcGVkUHJlZml4LFxuICAgICAgICAgICAgICAgICAgICBuYW1lU29GYXIsXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgaWYgKGludm9rZUNhbGxiYWNrKSB7XG4gICAgICAgIGludm9rZUNhbGxiYWNrID0gY2hpbGRyZW47XG4gICAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2soaW52b2tlQ2FsbGJhY2spO1xuICAgICAgICB2YXIgY2hpbGRLZXkgPVxuICAgICAgICAgIFwiXCIgPT09IG5hbWVTb0ZhciA/IFwiLlwiICsgZ2V0RWxlbWVudEtleShpbnZva2VDYWxsYmFjaywgMCkgOiBuYW1lU29GYXI7XG4gICAgICAgIGlzQXJyYXlJbXBsKGNhbGxiYWNrKVxuICAgICAgICAgID8gKChlc2NhcGVkUHJlZml4ID0gXCJcIiksXG4gICAgICAgICAgICBudWxsICE9IGNoaWxkS2V5ICYmXG4gICAgICAgICAgICAgIChlc2NhcGVkUHJlZml4ID1cbiAgICAgICAgICAgICAgICBjaGlsZEtleS5yZXBsYWNlKHVzZXJQcm92aWRlZEtleUVzY2FwZVJlZ2V4LCBcIiQmL1wiKSArIFwiL1wiKSxcbiAgICAgICAgICAgIG1hcEludG9BcnJheShjYWxsYmFjaywgYXJyYXksIGVzY2FwZWRQcmVmaXgsIFwiXCIsIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjO1xuICAgICAgICAgICAgfSkpXG4gICAgICAgICAgOiBudWxsICE9IGNhbGxiYWNrICYmXG4gICAgICAgICAgICAoaXNWYWxpZEVsZW1lbnQoY2FsbGJhY2spICYmXG4gICAgICAgICAgICAgIChudWxsICE9IGNhbGxiYWNrLmtleSAmJlxuICAgICAgICAgICAgICAgICgoaW52b2tlQ2FsbGJhY2sgJiYgaW52b2tlQ2FsbGJhY2sua2V5ID09PSBjYWxsYmFjay5rZXkpIHx8XG4gICAgICAgICAgICAgICAgICBjaGVja0tleVN0cmluZ0NvZXJjaW9uKGNhbGxiYWNrLmtleSkpLFxuICAgICAgICAgICAgICAoZXNjYXBlZFByZWZpeCA9IGNsb25lQW5kUmVwbGFjZUtleShcbiAgICAgICAgICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgICAgICAgICBlc2NhcGVkUHJlZml4ICtcbiAgICAgICAgICAgICAgICAgIChudWxsID09IGNhbGxiYWNrLmtleSB8fFxuICAgICAgICAgICAgICAgICAgKGludm9rZUNhbGxiYWNrICYmIGludm9rZUNhbGxiYWNrLmtleSA9PT0gY2FsbGJhY2sua2V5KVxuICAgICAgICAgICAgICAgICAgICA/IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgOiAoXCJcIiArIGNhbGxiYWNrLmtleSkucmVwbGFjZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJQcm92aWRlZEtleUVzY2FwZVJlZ2V4LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCIkJi9cIlxuICAgICAgICAgICAgICAgICAgICAgICkgKyBcIi9cIikgK1xuICAgICAgICAgICAgICAgICAgY2hpbGRLZXlcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIFwiXCIgIT09IG5hbWVTb0ZhciAmJlxuICAgICAgICAgICAgICAgIG51bGwgIT0gaW52b2tlQ2FsbGJhY2sgJiZcbiAgICAgICAgICAgICAgICBpc1ZhbGlkRWxlbWVudChpbnZva2VDYWxsYmFjaykgJiZcbiAgICAgICAgICAgICAgICBudWxsID09IGludm9rZUNhbGxiYWNrLmtleSAmJlxuICAgICAgICAgICAgICAgIGludm9rZUNhbGxiYWNrLl9zdG9yZSAmJlxuICAgICAgICAgICAgICAgICFpbnZva2VDYWxsYmFjay5fc3RvcmUudmFsaWRhdGVkICYmXG4gICAgICAgICAgICAgICAgKGVzY2FwZWRQcmVmaXguX3N0b3JlLnZhbGlkYXRlZCA9IDIpLFxuICAgICAgICAgICAgICAoY2FsbGJhY2sgPSBlc2NhcGVkUHJlZml4KSksXG4gICAgICAgICAgICBhcnJheS5wdXNoKGNhbGxiYWNrKSk7XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgfVxuICAgICAgaW52b2tlQ2FsbGJhY2sgPSAwO1xuICAgICAgY2hpbGRLZXkgPSBcIlwiID09PSBuYW1lU29GYXIgPyBcIi5cIiA6IG5hbWVTb0ZhciArIFwiOlwiO1xuICAgICAgaWYgKGlzQXJyYXlJbXBsKGNoaWxkcmVuKSlcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKylcbiAgICAgICAgICAobmFtZVNvRmFyID0gY2hpbGRyZW5baV0pLFxuICAgICAgICAgICAgKHR5cGUgPSBjaGlsZEtleSArIGdldEVsZW1lbnRLZXkobmFtZVNvRmFyLCBpKSksXG4gICAgICAgICAgICAoaW52b2tlQ2FsbGJhY2sgKz0gbWFwSW50b0FycmF5KFxuICAgICAgICAgICAgICBuYW1lU29GYXIsXG4gICAgICAgICAgICAgIGFycmF5LFxuICAgICAgICAgICAgICBlc2NhcGVkUHJlZml4LFxuICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICBjYWxsYmFja1xuICAgICAgICAgICAgKSk7XG4gICAgICBlbHNlIGlmICgoKGkgPSBnZXRJdGVyYXRvckZuKGNoaWxkcmVuKSksIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGkpKVxuICAgICAgICBmb3IgKFxuICAgICAgICAgIGkgPT09IGNoaWxkcmVuLmVudHJpZXMgJiZcbiAgICAgICAgICAgIChkaWRXYXJuQWJvdXRNYXBzIHx8XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgICBcIlVzaW5nIE1hcHMgYXMgY2hpbGRyZW4gaXMgbm90IHN1cHBvcnRlZC4gVXNlIGFuIGFycmF5IG9mIGtleWVkIFJlYWN0RWxlbWVudHMgaW5zdGVhZC5cIlxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKGRpZFdhcm5BYm91dE1hcHMgPSAhMCkpLFxuICAgICAgICAgICAgY2hpbGRyZW4gPSBpLmNhbGwoY2hpbGRyZW4pLFxuICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgIShuYW1lU29GYXIgPSBjaGlsZHJlbi5uZXh0KCkpLmRvbmU7XG5cbiAgICAgICAgKVxuICAgICAgICAgIChuYW1lU29GYXIgPSBuYW1lU29GYXIudmFsdWUpLFxuICAgICAgICAgICAgKHR5cGUgPSBjaGlsZEtleSArIGdldEVsZW1lbnRLZXkobmFtZVNvRmFyLCBpKyspKSxcbiAgICAgICAgICAgIChpbnZva2VDYWxsYmFjayArPSBtYXBJbnRvQXJyYXkoXG4gICAgICAgICAgICAgIG5hbWVTb0ZhcixcbiAgICAgICAgICAgICAgYXJyYXksXG4gICAgICAgICAgICAgIGVzY2FwZWRQcmVmaXgsXG4gICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgIGNhbGxiYWNrXG4gICAgICAgICAgICApKTtcbiAgICAgIGVsc2UgaWYgKFwib2JqZWN0XCIgPT09IHR5cGUpIHtcbiAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGNoaWxkcmVuLnRoZW4pXG4gICAgICAgICAgcmV0dXJuIG1hcEludG9BcnJheShcbiAgICAgICAgICAgIHJlc29sdmVUaGVuYWJsZShjaGlsZHJlbiksXG4gICAgICAgICAgICBhcnJheSxcbiAgICAgICAgICAgIGVzY2FwZWRQcmVmaXgsXG4gICAgICAgICAgICBuYW1lU29GYXIsXG4gICAgICAgICAgICBjYWxsYmFja1xuICAgICAgICAgICk7XG4gICAgICAgIGFycmF5ID0gU3RyaW5nKGNoaWxkcmVuKTtcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJPYmplY3RzIGFyZSBub3QgdmFsaWQgYXMgYSBSZWFjdCBjaGlsZCAoZm91bmQ6IFwiICtcbiAgICAgICAgICAgIChcIltvYmplY3QgT2JqZWN0XVwiID09PSBhcnJheVxuICAgICAgICAgICAgICA/IFwib2JqZWN0IHdpdGgga2V5cyB7XCIgKyBPYmplY3Qua2V5cyhjaGlsZHJlbikuam9pbihcIiwgXCIpICsgXCJ9XCJcbiAgICAgICAgICAgICAgOiBhcnJheSkgK1xuICAgICAgICAgICAgXCIpLiBJZiB5b3UgbWVhbnQgdG8gcmVuZGVyIGEgY29sbGVjdGlvbiBvZiBjaGlsZHJlbiwgdXNlIGFuIGFycmF5IGluc3RlYWQuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbnZva2VDYWxsYmFjaztcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFwQ2hpbGRyZW4oY2hpbGRyZW4sIGZ1bmMsIGNvbnRleHQpIHtcbiAgICAgIGlmIChudWxsID09IGNoaWxkcmVuKSByZXR1cm4gY2hpbGRyZW47XG4gICAgICB2YXIgcmVzdWx0ID0gW10sXG4gICAgICAgIGNvdW50ID0gMDtcbiAgICAgIG1hcEludG9BcnJheShjaGlsZHJlbiwgcmVzdWx0LCBcIlwiLCBcIlwiLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuY2FsbChjb250ZXh0LCBjaGlsZCwgY291bnQrKyk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxhenlJbml0aWFsaXplcihwYXlsb2FkKSB7XG4gICAgICBpZiAoLTEgPT09IHBheWxvYWQuX3N0YXR1cykge1xuICAgICAgICB2YXIgaW9JbmZvID0gcGF5bG9hZC5faW9JbmZvO1xuICAgICAgICBudWxsICE9IGlvSW5mbyAmJiAoaW9JbmZvLnN0YXJ0ID0gaW9JbmZvLmVuZCA9IHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICAgICAgaW9JbmZvID0gcGF5bG9hZC5fcmVzdWx0O1xuICAgICAgICB2YXIgdGhlbmFibGUgPSBpb0luZm8oKTtcbiAgICAgICAgdGhlbmFibGUudGhlbihcbiAgICAgICAgICBmdW5jdGlvbiAobW9kdWxlT2JqZWN0KSB7XG4gICAgICAgICAgICBpZiAoMCA9PT0gcGF5bG9hZC5fc3RhdHVzIHx8IC0xID09PSBwYXlsb2FkLl9zdGF0dXMpIHtcbiAgICAgICAgICAgICAgcGF5bG9hZC5fc3RhdHVzID0gMTtcbiAgICAgICAgICAgICAgcGF5bG9hZC5fcmVzdWx0ID0gbW9kdWxlT2JqZWN0O1xuICAgICAgICAgICAgICB2YXIgX2lvSW5mbyA9IHBheWxvYWQuX2lvSW5mbztcbiAgICAgICAgICAgICAgbnVsbCAhPSBfaW9JbmZvICYmIChfaW9JbmZvLmVuZCA9IHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICAgICAgICAgICAgdm9pZCAwID09PSB0aGVuYWJsZS5zdGF0dXMgJiZcbiAgICAgICAgICAgICAgICAoKHRoZW5hYmxlLnN0YXR1cyA9IFwiZnVsZmlsbGVkXCIpLFxuICAgICAgICAgICAgICAgICh0aGVuYWJsZS52YWx1ZSA9IG1vZHVsZU9iamVjdCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoMCA9PT0gcGF5bG9hZC5fc3RhdHVzIHx8IC0xID09PSBwYXlsb2FkLl9zdGF0dXMpIHtcbiAgICAgICAgICAgICAgcGF5bG9hZC5fc3RhdHVzID0gMjtcbiAgICAgICAgICAgICAgcGF5bG9hZC5fcmVzdWx0ID0gZXJyb3I7XG4gICAgICAgICAgICAgIHZhciBfaW9JbmZvMiA9IHBheWxvYWQuX2lvSW5mbztcbiAgICAgICAgICAgICAgbnVsbCAhPSBfaW9JbmZvMiAmJiAoX2lvSW5mbzIuZW5kID0gcGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAgICAgICAgICB2b2lkIDAgPT09IHRoZW5hYmxlLnN0YXR1cyAmJlxuICAgICAgICAgICAgICAgICgodGhlbmFibGUuc3RhdHVzID0gXCJyZWplY3RlZFwiKSwgKHRoZW5hYmxlLnJlYXNvbiA9IGVycm9yKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICBpb0luZm8gPSBwYXlsb2FkLl9pb0luZm87XG4gICAgICAgIGlmIChudWxsICE9IGlvSW5mbykge1xuICAgICAgICAgIGlvSW5mby52YWx1ZSA9IHRoZW5hYmxlO1xuICAgICAgICAgIHZhciBkaXNwbGF5TmFtZSA9IHRoZW5hYmxlLmRpc3BsYXlOYW1lO1xuICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBkaXNwbGF5TmFtZSAmJiAoaW9JbmZvLm5hbWUgPSBkaXNwbGF5TmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgLTEgPT09IHBheWxvYWQuX3N0YXR1cyAmJlxuICAgICAgICAgICgocGF5bG9hZC5fc3RhdHVzID0gMCksIChwYXlsb2FkLl9yZXN1bHQgPSB0aGVuYWJsZSkpO1xuICAgICAgfVxuICAgICAgaWYgKDEgPT09IHBheWxvYWQuX3N0YXR1cylcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAoaW9JbmZvID0gcGF5bG9hZC5fcmVzdWx0KSxcbiAgICAgICAgICB2b2lkIDAgPT09IGlvSW5mbyAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJsYXp5OiBFeHBlY3RlZCB0aGUgcmVzdWx0IG9mIGEgZHluYW1pYyBpbXBvcnQoKSBjYWxsLiBJbnN0ZWFkIHJlY2VpdmVkOiAlc1xcblxcbllvdXIgY29kZSBzaG91bGQgbG9vayBsaWtlOiBcXG4gIGNvbnN0IE15Q29tcG9uZW50ID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4vTXlDb21wb25lbnQnKSlcXG5cXG5EaWQgeW91IGFjY2lkZW50YWxseSBwdXQgY3VybHkgYnJhY2VzIGFyb3VuZCB0aGUgaW1wb3J0P1wiLFxuICAgICAgICAgICAgICBpb0luZm9cbiAgICAgICAgICAgICksXG4gICAgICAgICAgXCJkZWZhdWx0XCIgaW4gaW9JbmZvIHx8XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcImxhenk6IEV4cGVjdGVkIHRoZSByZXN1bHQgb2YgYSBkeW5hbWljIGltcG9ydCgpIGNhbGwuIEluc3RlYWQgcmVjZWl2ZWQ6ICVzXFxuXFxuWW91ciBjb2RlIHNob3VsZCBsb29rIGxpa2U6IFxcbiAgY29uc3QgTXlDb21wb25lbnQgPSBsYXp5KCgpID0+IGltcG9ydCgnLi9NeUNvbXBvbmVudCcpKVwiLFxuICAgICAgICAgICAgICBpb0luZm9cbiAgICAgICAgICAgICksXG4gICAgICAgICAgaW9JbmZvLmRlZmF1bHRcbiAgICAgICAgKTtcbiAgICAgIHRocm93IHBheWxvYWQuX3Jlc3VsdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzb2x2ZURpc3BhdGNoZXIoKSB7XG4gICAgICB2YXIgZGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICBudWxsID09PSBkaXNwYXRjaGVyICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJJbnZhbGlkIGhvb2sgY2FsbC4gSG9va3MgY2FuIG9ubHkgYmUgY2FsbGVkIGluc2lkZSBvZiB0aGUgYm9keSBvZiBhIGZ1bmN0aW9uIGNvbXBvbmVudC4gVGhpcyBjb3VsZCBoYXBwZW4gZm9yIG9uZSBvZiB0aGUgZm9sbG93aW5nIHJlYXNvbnM6XFxuMS4gWW91IG1pZ2h0IGhhdmUgbWlzbWF0Y2hpbmcgdmVyc2lvbnMgb2YgUmVhY3QgYW5kIHRoZSByZW5kZXJlciAoc3VjaCBhcyBSZWFjdCBET00pXFxuMi4gWW91IG1pZ2h0IGJlIGJyZWFraW5nIHRoZSBSdWxlcyBvZiBIb29rc1xcbjMuIFlvdSBtaWdodCBoYXZlIG1vcmUgdGhhbiBvbmUgY29weSBvZiBSZWFjdCBpbiB0aGUgc2FtZSBhcHBcXG5TZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9pbnZhbGlkLWhvb2stY2FsbCBmb3IgdGlwcyBhYm91dCBob3cgdG8gZGVidWcgYW5kIGZpeCB0aGlzIHByb2JsZW0uXCJcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiBkaXNwYXRjaGVyO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWxlYXNlQXN5bmNUcmFuc2l0aW9uKCkge1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuYXN5bmNUcmFuc2l0aW9ucy0tO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbnF1ZXVlVGFzayh0YXNrKSB7XG4gICAgICBpZiAobnVsbCA9PT0gZW5xdWV1ZVRhc2tJbXBsKVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciByZXF1aXJlU3RyaW5nID0gKFwicmVxdWlyZVwiICsgTWF0aC5yYW5kb20oKSkuc2xpY2UoMCwgNyk7XG4gICAgICAgICAgZW5xdWV1ZVRhc2tJbXBsID0gKG1vZHVsZSAmJiBtb2R1bGVbcmVxdWlyZVN0cmluZ10pLmNhbGwoXG4gICAgICAgICAgICBtb2R1bGUsXG4gICAgICAgICAgICBcInRpbWVyc1wiXG4gICAgICAgICAgKS5zZXRJbW1lZGlhdGU7XG4gICAgICAgIH0gY2F0Y2ggKF9lcnIpIHtcbiAgICAgICAgICBlbnF1ZXVlVGFza0ltcGwgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICExID09PSBkaWRXYXJuQWJvdXRNZXNzYWdlQ2hhbm5lbCAmJlxuICAgICAgICAgICAgICAoKGRpZFdhcm5BYm91dE1lc3NhZ2VDaGFubmVsID0gITApLFxuICAgICAgICAgICAgICBcInVuZGVmaW5lZFwiID09PSB0eXBlb2YgTWVzc2FnZUNoYW5uZWwgJiZcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgXCJUaGlzIGJyb3dzZXIgZG9lcyBub3QgaGF2ZSBhIE1lc3NhZ2VDaGFubmVsIGltcGxlbWVudGF0aW9uLCBzbyBlbnF1ZXVpbmcgdGFza3MgdmlhIGF3YWl0IGFjdChhc3luYyAoKSA9PiAuLi4pIHdpbGwgZmFpbC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUgYXQgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3VlcyBpZiB5b3UgZW5jb3VudGVyIHRoaXMgd2FybmluZy5cIlxuICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICAgICAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gY2FsbGJhY2s7XG4gICAgICAgICAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKHZvaWQgMCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgcmV0dXJuIGVucXVldWVUYXNrSW1wbCh0YXNrKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWdncmVnYXRlRXJyb3JzKGVycm9ycykge1xuICAgICAgcmV0dXJuIDEgPCBlcnJvcnMubGVuZ3RoICYmIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIEFnZ3JlZ2F0ZUVycm9yXG4gICAgICAgID8gbmV3IEFnZ3JlZ2F0ZUVycm9yKGVycm9ycylcbiAgICAgICAgOiBlcnJvcnNbMF07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBvcEFjdFNjb3BlKHByZXZBY3RRdWV1ZSwgcHJldkFjdFNjb3BlRGVwdGgpIHtcbiAgICAgIHByZXZBY3RTY29wZURlcHRoICE9PSBhY3RTY29wZURlcHRoIC0gMSAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiWW91IHNlZW0gdG8gaGF2ZSBvdmVybGFwcGluZyBhY3QoKSBjYWxscywgdGhpcyBpcyBub3Qgc3VwcG9ydGVkLiBCZSBzdXJlIHRvIGF3YWl0IHByZXZpb3VzIGFjdCgpIGNhbGxzIGJlZm9yZSBtYWtpbmcgYSBuZXcgb25lLiBcIlxuICAgICAgICApO1xuICAgICAgYWN0U2NvcGVEZXB0aCA9IHByZXZBY3RTY29wZURlcHRoO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWN1cnNpdmVseUZsdXNoQXN5bmNBY3RXb3JrKHJldHVyblZhbHVlLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBxdWV1ZSA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlO1xuICAgICAgaWYgKG51bGwgIT09IHF1ZXVlKVxuICAgICAgICBpZiAoMCAhPT0gcXVldWUubGVuZ3RoKVxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmbHVzaEFjdFF1ZXVlKHF1ZXVlKTtcbiAgICAgICAgICAgIGVucXVldWVUYXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlY3Vyc2l2ZWx5Rmx1c2hBc3luY0FjdFdvcmsocmV0dXJuVmFsdWUsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgZWxzZSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSA9IG51bGw7XG4gICAgICAwIDwgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aFxuICAgICAgICA/ICgocXVldWUgPSBhZ2dyZWdhdGVFcnJvcnMoUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzKSksXG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGggPSAwKSxcbiAgICAgICAgICByZWplY3QocXVldWUpKVxuICAgICAgICA6IHJlc29sdmUocmV0dXJuVmFsdWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmbHVzaEFjdFF1ZXVlKHF1ZXVlKSB7XG4gICAgICBpZiAoIWlzRmx1c2hpbmcpIHtcbiAgICAgICAgaXNGbHVzaGluZyA9ICEwO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yICg7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gcXVldWVbaV07XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLmRpZFVzZVByb21pc2UgPSAhMTtcbiAgICAgICAgICAgICAgdmFyIGNvbnRpbnVhdGlvbiA9IGNhbGxiYWNrKCExKTtcbiAgICAgICAgICAgICAgaWYgKG51bGwgIT09IGNvbnRpbnVhdGlvbikge1xuICAgICAgICAgICAgICAgIGlmIChSZWFjdFNoYXJlZEludGVybmFscy5kaWRVc2VQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICBxdWV1ZVtpXSA9IGNhbGxiYWNrO1xuICAgICAgICAgICAgICAgICAgcXVldWUuc3BsaWNlKDAsIGkpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYWxsYmFjayA9IGNvbnRpbnVhdGlvbjtcbiAgICAgICAgICAgICAgfSBlbHNlIGJyZWFrO1xuICAgICAgICAgICAgfSB3aGlsZSAoMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgcXVldWUuc3BsaWNlKDAsIGkgKyAxKSwgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlzRmx1c2hpbmcgPSAhMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0YXJ0ICYmXG4gICAgICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0YXJ0KEVycm9yKCkpO1xuICAgIHZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QudHJhbnNpdGlvbmFsLmVsZW1lbnRcIiksXG4gICAgICBSRUFDVF9QT1JUQUxfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5wb3J0YWxcIiksXG4gICAgICBSRUFDVF9GUkFHTUVOVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmZyYWdtZW50XCIpLFxuICAgICAgUkVBQ1RfU1RSSUNUX01PREVfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdHJpY3RfbW9kZVwiKSxcbiAgICAgIFJFQUNUX1BST0ZJTEVSX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QucHJvZmlsZXJcIiksXG4gICAgICBSRUFDVF9DT05TVU1FUl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmNvbnN1bWVyXCIpLFxuICAgICAgUkVBQ1RfQ09OVEVYVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmNvbnRleHRcIiksXG4gICAgICBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmZvcndhcmRfcmVmXCIpLFxuICAgICAgUkVBQ1RfU1VTUEVOU0VfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZVwiKSxcbiAgICAgIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZV9saXN0XCIpLFxuICAgICAgUkVBQ1RfTUVNT19UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9cIiksXG4gICAgICBSRUFDVF9MQVpZX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QubGF6eVwiKSxcbiAgICAgIFJFQUNUX0FDVElWSVRZX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuYWN0aXZpdHlcIiksXG4gICAgICBNQVlCRV9JVEVSQVRPUl9TWU1CT0wgPSBTeW1ib2wuaXRlcmF0b3IsXG4gICAgICBkaWRXYXJuU3RhdGVVcGRhdGVGb3JVbm1vdW50ZWRDb21wb25lbnQgPSB7fSxcbiAgICAgIFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlID0ge1xuICAgICAgICBpc01vdW50ZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIH0sXG4gICAgICAgIGVucXVldWVGb3JjZVVwZGF0ZTogZnVuY3Rpb24gKHB1YmxpY0luc3RhbmNlKSB7XG4gICAgICAgICAgd2Fybk5vb3AocHVibGljSW5zdGFuY2UsIFwiZm9yY2VVcGRhdGVcIik7XG4gICAgICAgIH0sXG4gICAgICAgIGVucXVldWVSZXBsYWNlU3RhdGU6IGZ1bmN0aW9uIChwdWJsaWNJbnN0YW5jZSkge1xuICAgICAgICAgIHdhcm5Ob29wKHB1YmxpY0luc3RhbmNlLCBcInJlcGxhY2VTdGF0ZVwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW5xdWV1ZVNldFN0YXRlOiBmdW5jdGlvbiAocHVibGljSW5zdGFuY2UpIHtcbiAgICAgICAgICB3YXJuTm9vcChwdWJsaWNJbnN0YW5jZSwgXCJzZXRTdGF0ZVwiKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFzc2lnbiA9IE9iamVjdC5hc3NpZ24sXG4gICAgICBlbXB0eU9iamVjdCA9IHt9O1xuICAgIE9iamVjdC5mcmVlemUoZW1wdHlPYmplY3QpO1xuICAgIENvbXBvbmVudC5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudCA9IHt9O1xuICAgIENvbXBvbmVudC5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAocGFydGlhbFN0YXRlLCBjYWxsYmFjaykge1xuICAgICAgaWYgKFxuICAgICAgICBcIm9iamVjdFwiICE9PSB0eXBlb2YgcGFydGlhbFN0YXRlICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHBhcnRpYWxTdGF0ZSAmJlxuICAgICAgICBudWxsICE9IHBhcnRpYWxTdGF0ZVxuICAgICAgKVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcInRha2VzIGFuIG9iamVjdCBvZiBzdGF0ZSB2YXJpYWJsZXMgdG8gdXBkYXRlIG9yIGEgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhbiBvYmplY3Qgb2Ygc3RhdGUgdmFyaWFibGVzLlwiXG4gICAgICAgICk7XG4gICAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZVNldFN0YXRlKHRoaXMsIHBhcnRpYWxTdGF0ZSwgY2FsbGJhY2ssIFwic2V0U3RhdGVcIik7XG4gICAgfTtcbiAgICBDb21wb25lbnQucHJvdG90eXBlLmZvcmNlVXBkYXRlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZUZvcmNlVXBkYXRlKHRoaXMsIGNhbGxiYWNrLCBcImZvcmNlVXBkYXRlXCIpO1xuICAgIH07XG4gICAgdmFyIGRlcHJlY2F0ZWRBUElzID0ge1xuICAgICAgaXNNb3VudGVkOiBbXG4gICAgICAgIFwiaXNNb3VudGVkXCIsXG4gICAgICAgIFwiSW5zdGVhZCwgbWFrZSBzdXJlIHRvIGNsZWFuIHVwIHN1YnNjcmlwdGlvbnMgYW5kIHBlbmRpbmcgcmVxdWVzdHMgaW4gY29tcG9uZW50V2lsbFVubW91bnQgdG8gcHJldmVudCBtZW1vcnkgbGVha3MuXCJcbiAgICAgIF0sXG4gICAgICByZXBsYWNlU3RhdGU6IFtcbiAgICAgICAgXCJyZXBsYWNlU3RhdGVcIixcbiAgICAgICAgXCJSZWZhY3RvciB5b3VyIGNvZGUgdG8gdXNlIHNldFN0YXRlIGluc3RlYWQgKHNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzMyMzYpLlwiXG4gICAgICBdXG4gICAgfTtcbiAgICBmb3IgKGZuTmFtZSBpbiBkZXByZWNhdGVkQVBJcylcbiAgICAgIGRlcHJlY2F0ZWRBUElzLmhhc093blByb3BlcnR5KGZuTmFtZSkgJiZcbiAgICAgICAgZGVmaW5lRGVwcmVjYXRpb25XYXJuaW5nKGZuTmFtZSwgZGVwcmVjYXRlZEFQSXNbZm5OYW1lXSk7XG4gICAgQ29tcG9uZW50RHVtbXkucHJvdG90eXBlID0gQ29tcG9uZW50LnByb3RvdHlwZTtcbiAgICBkZXByZWNhdGVkQVBJcyA9IFB1cmVDb21wb25lbnQucHJvdG90eXBlID0gbmV3IENvbXBvbmVudER1bW15KCk7XG4gICAgZGVwcmVjYXRlZEFQSXMuY29uc3RydWN0b3IgPSBQdXJlQ29tcG9uZW50O1xuICAgIGFzc2lnbihkZXByZWNhdGVkQVBJcywgQ29tcG9uZW50LnByb3RvdHlwZSk7XG4gICAgZGVwcmVjYXRlZEFQSXMuaXNQdXJlUmVhY3RDb21wb25lbnQgPSAhMDtcbiAgICB2YXIgaXNBcnJheUltcGwgPSBBcnJheS5pc0FycmF5LFxuICAgICAgUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jbGllbnQucmVmZXJlbmNlXCIpLFxuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMgPSB7XG4gICAgICAgIEg6IG51bGwsXG4gICAgICAgIEE6IG51bGwsXG4gICAgICAgIFQ6IG51bGwsXG4gICAgICAgIFM6IG51bGwsXG4gICAgICAgIGFjdFF1ZXVlOiBudWxsLFxuICAgICAgICBhc3luY1RyYW5zaXRpb25zOiAwLFxuICAgICAgICBpc0JhdGNoaW5nTGVnYWN5OiAhMSxcbiAgICAgICAgZGlkU2NoZWR1bGVMZWdhY3lVcGRhdGU6ICExLFxuICAgICAgICBkaWRVc2VQcm9taXNlOiAhMSxcbiAgICAgICAgdGhyb3duRXJyb3JzOiBbXSxcbiAgICAgICAgZ2V0Q3VycmVudFN0YWNrOiBudWxsLFxuICAgICAgICByZWNlbnRseUNyZWF0ZWRPd25lclN0YWNrczogMFxuICAgICAgfSxcbiAgICAgIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxcbiAgICAgIGNyZWF0ZVRhc2sgPSBjb25zb2xlLmNyZWF0ZVRhc2tcbiAgICAgICAgPyBjb25zb2xlLmNyZWF0ZVRhc2tcbiAgICAgICAgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9O1xuICAgIGRlcHJlY2F0ZWRBUElzID0ge1xuICAgICAgcmVhY3Rfc3RhY2tfYm90dG9tX2ZyYW1lOiBmdW5jdGlvbiAoY2FsbFN0YWNrRm9yRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxTdGFja0ZvckVycm9yKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24sIGRpZFdhcm5BYm91dE9sZEpTWFJ1bnRpbWU7XG4gICAgdmFyIGRpZFdhcm5BYm91dEVsZW1lbnRSZWYgPSB7fTtcbiAgICB2YXIgdW5rbm93bk93bmVyRGVidWdTdGFjayA9IGRlcHJlY2F0ZWRBUElzLnJlYWN0X3N0YWNrX2JvdHRvbV9mcmFtZS5iaW5kKFxuICAgICAgZGVwcmVjYXRlZEFQSXMsXG4gICAgICBVbmtub3duT3duZXJcbiAgICApKCk7XG4gICAgdmFyIHVua25vd25Pd25lckRlYnVnVGFzayA9IGNyZWF0ZVRhc2soZ2V0VGFza05hbWUoVW5rbm93bk93bmVyKSk7XG4gICAgdmFyIGRpZFdhcm5BYm91dE1hcHMgPSAhMSxcbiAgICAgIHVzZXJQcm92aWRlZEtleUVzY2FwZVJlZ2V4ID0gL1xcLysvZyxcbiAgICAgIHJlcG9ydEdsb2JhbEVycm9yID1cbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcmVwb3J0RXJyb3JcbiAgICAgICAgICA/IHJlcG9ydEVycm9yXG4gICAgICAgICAgOiBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiB3aW5kb3cgJiZcbiAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB3aW5kb3cuRXJyb3JFdmVudFxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBuZXcgd2luZG93LkVycm9yRXZlbnQoXCJlcnJvclwiLCB7XG4gICAgICAgICAgICAgICAgICBidWJibGVzOiAhMCxcbiAgICAgICAgICAgICAgICAgIGNhbmNlbGFibGU6ICEwLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZTpcbiAgICAgICAgICAgICAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIGVycm9yICYmXG4gICAgICAgICAgICAgICAgICAgIG51bGwgIT09IGVycm9yICYmXG4gICAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBlcnJvci5tZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgPyBTdHJpbmcoZXJyb3IubWVzc2FnZSlcbiAgICAgICAgICAgICAgICAgICAgICA6IFN0cmluZyhlcnJvciksXG4gICAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3JcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoIXdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KSkgcmV0dXJuO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBwcm9jZXNzICYmXG4gICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcHJvY2Vzcy5lbWl0XG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHByb2Nlc3MuZW1pdChcInVuY2F1Z2h0RXhjZXB0aW9uXCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9LFxuICAgICAgZGlkV2FybkFib3V0TWVzc2FnZUNoYW5uZWwgPSAhMSxcbiAgICAgIGVucXVldWVUYXNrSW1wbCA9IG51bGwsXG4gICAgICBhY3RTY29wZURlcHRoID0gMCxcbiAgICAgIGRpZFdhcm5Ob0F3YWl0QWN0ID0gITEsXG4gICAgICBpc0ZsdXNoaW5nID0gITEsXG4gICAgICBxdWV1ZVNldmVyYWxNaWNyb3Rhc2tzID1cbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcXVldWVNaWNyb3Rhc2tcbiAgICAgICAgICA/IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICBxdWV1ZU1pY3JvdGFzayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHF1ZXVlTWljcm90YXNrKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgOiBlbnF1ZXVlVGFzaztcbiAgICBkZXByZWNhdGVkQVBJcyA9IE9iamVjdC5mcmVlemUoe1xuICAgICAgX19wcm90b19fOiBudWxsLFxuICAgICAgYzogZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlTWVtb0NhY2hlKHNpemUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHZhciBmbk5hbWUgPSB7XG4gICAgICBtYXA6IG1hcENoaWxkcmVuLFxuICAgICAgZm9yRWFjaDogZnVuY3Rpb24gKGNoaWxkcmVuLCBmb3JFYWNoRnVuYywgZm9yRWFjaENvbnRleHQpIHtcbiAgICAgICAgbWFwQ2hpbGRyZW4oXG4gICAgICAgICAgY2hpbGRyZW4sXG4gICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZm9yRWFjaEZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZvckVhY2hDb250ZXh0XG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgY291bnQ6IGZ1bmN0aW9uIChjaGlsZHJlbikge1xuICAgICAgICB2YXIgbiA9IDA7XG4gICAgICAgIG1hcENoaWxkcmVuKGNoaWxkcmVuLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgbisrO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG47XG4gICAgICB9LFxuICAgICAgdG9BcnJheTogZnVuY3Rpb24gKGNoaWxkcmVuKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgbWFwQ2hpbGRyZW4oY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgICAgIH0pIHx8IFtdXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgb25seTogZnVuY3Rpb24gKGNoaWxkcmVuKSB7XG4gICAgICAgIGlmICghaXNWYWxpZEVsZW1lbnQoY2hpbGRyZW4pKVxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgXCJSZWFjdC5DaGlsZHJlbi5vbmx5IGV4cGVjdGVkIHRvIHJlY2VpdmUgYSBzaW5nbGUgUmVhY3QgZWxlbWVudCBjaGlsZC5cIlxuICAgICAgICAgICk7XG4gICAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICAgIH1cbiAgICB9O1xuICAgIGV4cG9ydHMuQWN0aXZpdHkgPSBSRUFDVF9BQ1RJVklUWV9UWVBFO1xuICAgIGV4cG9ydHMuQ2hpbGRyZW4gPSBmbk5hbWU7XG4gICAgZXhwb3J0cy5Db21wb25lbnQgPSBDb21wb25lbnQ7XG4gICAgZXhwb3J0cy5GcmFnbWVudCA9IFJFQUNUX0ZSQUdNRU5UX1RZUEU7XG4gICAgZXhwb3J0cy5Qcm9maWxlciA9IFJFQUNUX1BST0ZJTEVSX1RZUEU7XG4gICAgZXhwb3J0cy5QdXJlQ29tcG9uZW50ID0gUHVyZUNvbXBvbmVudDtcbiAgICBleHBvcnRzLlN0cmljdE1vZGUgPSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFO1xuICAgIGV4cG9ydHMuU3VzcGVuc2UgPSBSRUFDVF9TVVNQRU5TRV9UWVBFO1xuICAgIGV4cG9ydHMuX19DTElFTlRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfV0FSTl9VU0VSU19USEVZX0NBTk5PVF9VUEdSQURFID1cbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzO1xuICAgIGV4cG9ydHMuX19DT01QSUxFUl9SVU5USU1FID0gZGVwcmVjYXRlZEFQSXM7XG4gICAgZXhwb3J0cy5hY3QgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgIHZhciBwcmV2QWN0UXVldWUgPSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSxcbiAgICAgICAgcHJldkFjdFNjb3BlRGVwdGggPSBhY3RTY29wZURlcHRoO1xuICAgICAgYWN0U2NvcGVEZXB0aCsrO1xuICAgICAgdmFyIHF1ZXVlID0gKFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlID1cbiAgICAgICAgICBudWxsICE9PSBwcmV2QWN0UXVldWUgPyBwcmV2QWN0UXVldWUgOiBbXSksXG4gICAgICAgIGRpZEF3YWl0QWN0Q2FsbCA9ICExO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNhbGxiYWNrKCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMucHVzaChlcnJvcik7XG4gICAgICB9XG4gICAgICBpZiAoMCA8IFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGgpXG4gICAgICAgIHRocm93IChcbiAgICAgICAgICAocG9wQWN0U2NvcGUocHJldkFjdFF1ZXVlLCBwcmV2QWN0U2NvcGVEZXB0aCksXG4gICAgICAgICAgKGNhbGxiYWNrID0gYWdncmVnYXRlRXJyb3JzKFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycykpLFxuICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoID0gMCksXG4gICAgICAgICAgY2FsbGJhY2spXG4gICAgICAgICk7XG4gICAgICBpZiAoXG4gICAgICAgIG51bGwgIT09IHJlc3VsdCAmJlxuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgcmVzdWx0ICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHJlc3VsdC50aGVuXG4gICAgICApIHtcbiAgICAgICAgdmFyIHRoZW5hYmxlID0gcmVzdWx0O1xuICAgICAgICBxdWV1ZVNldmVyYWxNaWNyb3Rhc2tzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBkaWRBd2FpdEFjdENhbGwgfHxcbiAgICAgICAgICAgIGRpZFdhcm5Ob0F3YWl0QWN0IHx8XG4gICAgICAgICAgICAoKGRpZFdhcm5Ob0F3YWl0QWN0ID0gITApLFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJZb3UgY2FsbGVkIGFjdChhc3luYyAoKSA9PiAuLi4pIHdpdGhvdXQgYXdhaXQuIFRoaXMgY291bGQgbGVhZCB0byB1bmV4cGVjdGVkIHRlc3RpbmcgYmVoYXZpb3VyLCBpbnRlcmxlYXZpbmcgbXVsdGlwbGUgYWN0IGNhbGxzIGFuZCBtaXhpbmcgdGhlaXIgc2NvcGVzLiBZb3Ugc2hvdWxkIC0gYXdhaXQgYWN0KGFzeW5jICgpID0+IC4uLik7XCJcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0aGVuOiBmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBkaWRBd2FpdEFjdENhbGwgPSAhMDtcbiAgICAgICAgICAgIHRoZW5hYmxlLnRoZW4oXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIChyZXR1cm5WYWx1ZSkge1xuICAgICAgICAgICAgICAgIHBvcEFjdFNjb3BlKHByZXZBY3RRdWV1ZSwgcHJldkFjdFNjb3BlRGVwdGgpO1xuICAgICAgICAgICAgICAgIGlmICgwID09PSBwcmV2QWN0U2NvcGVEZXB0aCkge1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZmx1c2hBY3RRdWV1ZShxdWV1ZSksXG4gICAgICAgICAgICAgICAgICAgICAgZW5xdWV1ZVRhc2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlY3Vyc2l2ZWx5Rmx1c2hBc3luY0FjdFdvcmsoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvciQwKSB7XG4gICAgICAgICAgICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5wdXNoKGVycm9yJDApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKDAgPCBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhyb3duRXJyb3IgPSBhZ2dyZWdhdGVFcnJvcnMoXG4gICAgICAgICAgICAgICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoX3Rocm93bkVycm9yKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgcmVzb2x2ZShyZXR1cm5WYWx1ZSk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHBvcEFjdFNjb3BlKHByZXZBY3RRdWV1ZSwgcHJldkFjdFNjb3BlRGVwdGgpO1xuICAgICAgICAgICAgICAgIDAgPCBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoXG4gICAgICAgICAgICAgICAgICA/ICgoZXJyb3IgPSBhZ2dyZWdhdGVFcnJvcnMoXG4gICAgICAgICAgICAgICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzXG4gICAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aCA9IDApLFxuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpKVxuICAgICAgICAgICAgICAgICAgOiByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHZhciByZXR1cm5WYWx1ZSRqc2NvbXAkMCA9IHJlc3VsdDtcbiAgICAgIHBvcEFjdFNjb3BlKHByZXZBY3RRdWV1ZSwgcHJldkFjdFNjb3BlRGVwdGgpO1xuICAgICAgMCA9PT0gcHJldkFjdFNjb3BlRGVwdGggJiZcbiAgICAgICAgKGZsdXNoQWN0UXVldWUocXVldWUpLFxuICAgICAgICAwICE9PSBxdWV1ZS5sZW5ndGggJiZcbiAgICAgICAgICBxdWV1ZVNldmVyYWxNaWNyb3Rhc2tzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRpZEF3YWl0QWN0Q2FsbCB8fFxuICAgICAgICAgICAgICBkaWRXYXJuTm9Bd2FpdEFjdCB8fFxuICAgICAgICAgICAgICAoKGRpZFdhcm5Ob0F3YWl0QWN0ID0gITApLFxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiQSBjb21wb25lbnQgc3VzcGVuZGVkIGluc2lkZSBhbiBgYWN0YCBzY29wZSwgYnV0IHRoZSBgYWN0YCBjYWxsIHdhcyBub3QgYXdhaXRlZC4gV2hlbiB0ZXN0aW5nIFJlYWN0IGNvbXBvbmVudHMgdGhhdCBkZXBlbmQgb24gYXN5bmNocm9ub3VzIGRhdGEsIHlvdSBtdXN0IGF3YWl0IHRoZSByZXN1bHQ6XFxuXFxuYXdhaXQgYWN0KCgpID0+IC4uLilcIlxuICAgICAgICAgICAgICApKTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlID0gbnVsbCkpO1xuICAgICAgaWYgKDAgPCBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoKVxuICAgICAgICB0aHJvdyAoXG4gICAgICAgICAgKChjYWxsYmFjayA9IGFnZ3JlZ2F0ZUVycm9ycyhSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMpKSxcbiAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aCA9IDApLFxuICAgICAgICAgIGNhbGxiYWNrKVxuICAgICAgICApO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGhlbjogZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIGRpZEF3YWl0QWN0Q2FsbCA9ICEwO1xuICAgICAgICAgIDAgPT09IHByZXZBY3RTY29wZURlcHRoXG4gICAgICAgICAgICA/ICgoUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUgPSBxdWV1ZSksXG4gICAgICAgICAgICAgIGVucXVldWVUYXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjdXJzaXZlbHlGbHVzaEFzeW5jQWN0V29yayhcbiAgICAgICAgICAgICAgICAgIHJldHVyblZhbHVlJGpzY29tcCQwLFxuICAgICAgICAgICAgICAgICAgcmVzb2x2ZSxcbiAgICAgICAgICAgICAgICAgIHJlamVjdFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgOiByZXNvbHZlKHJldHVyblZhbHVlJGpzY29tcCQwKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9O1xuICAgIGV4cG9ydHMuY2FjaGUgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmbi5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9O1xuICAgIGV4cG9ydHMuY2FjaGVTaWduYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIGV4cG9ydHMuY2FwdHVyZU93bmVyU3RhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZ2V0Q3VycmVudFN0YWNrID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuZ2V0Q3VycmVudFN0YWNrO1xuICAgICAgcmV0dXJuIG51bGwgPT09IGdldEN1cnJlbnRTdGFjayA/IG51bGwgOiBnZXRDdXJyZW50U3RhY2soKTtcbiAgICB9O1xuICAgIGV4cG9ydHMuY2xvbmVFbGVtZW50ID0gZnVuY3Rpb24gKGVsZW1lbnQsIGNvbmZpZywgY2hpbGRyZW4pIHtcbiAgICAgIGlmIChudWxsID09PSBlbGVtZW50IHx8IHZvaWQgMCA9PT0gZWxlbWVudClcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJUaGUgYXJndW1lbnQgbXVzdCBiZSBhIFJlYWN0IGVsZW1lbnQsIGJ1dCB5b3UgcGFzc2VkIFwiICtcbiAgICAgICAgICAgIGVsZW1lbnQgK1xuICAgICAgICAgICAgXCIuXCJcbiAgICAgICAgKTtcbiAgICAgIHZhciBwcm9wcyA9IGFzc2lnbih7fSwgZWxlbWVudC5wcm9wcyksXG4gICAgICAgIGtleSA9IGVsZW1lbnQua2V5LFxuICAgICAgICBvd25lciA9IGVsZW1lbnQuX293bmVyO1xuICAgICAgaWYgKG51bGwgIT0gY29uZmlnKSB7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQ7XG4gICAgICAgIGE6IHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgXCJyZWZcIikgJiZcbiAgICAgICAgICAgIChKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFxuICAgICAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgICAgIFwicmVmXCJcbiAgICAgICAgICAgICkuZ2V0KSAmJlxuICAgICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0LmlzUmVhY3RXYXJuaW5nXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMTtcbiAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgfVxuICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9IHZvaWQgMCAhPT0gY29uZmlnLnJlZjtcbiAgICAgICAgfVxuICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgJiYgKG93bmVyID0gZ2V0T3duZXIoKSk7XG4gICAgICAgIGhhc1ZhbGlkS2V5KGNvbmZpZykgJiZcbiAgICAgICAgICAoY2hlY2tLZXlTdHJpbmdDb2VyY2lvbihjb25maWcua2V5KSwgKGtleSA9IFwiXCIgKyBjb25maWcua2V5KSk7XG4gICAgICAgIGZvciAocHJvcE5hbWUgaW4gY29uZmlnKVxuICAgICAgICAgICFoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgcHJvcE5hbWUpIHx8XG4gICAgICAgICAgICBcImtleVwiID09PSBwcm9wTmFtZSB8fFxuICAgICAgICAgICAgXCJfX3NlbGZcIiA9PT0gcHJvcE5hbWUgfHxcbiAgICAgICAgICAgIFwiX19zb3VyY2VcIiA9PT0gcHJvcE5hbWUgfHxcbiAgICAgICAgICAgIChcInJlZlwiID09PSBwcm9wTmFtZSAmJiB2b2lkIDAgPT09IGNvbmZpZy5yZWYpIHx8XG4gICAgICAgICAgICAocHJvcHNbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXSk7XG4gICAgICB9XG4gICAgICB2YXIgcHJvcE5hbWUgPSBhcmd1bWVudHMubGVuZ3RoIC0gMjtcbiAgICAgIGlmICgxID09PSBwcm9wTmFtZSkgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgIGVsc2UgaWYgKDEgPCBwcm9wTmFtZSkge1xuICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSBBcnJheShwcm9wTmFtZSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcE5hbWU7IGkrKylcbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHRbaV0gPSBhcmd1bWVudHNbaSArIDJdO1xuICAgICAgICBwcm9wcy5jaGlsZHJlbiA9IEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdDtcbiAgICAgIH1cbiAgICAgIHByb3BzID0gUmVhY3RFbGVtZW50KFxuICAgICAgICBlbGVtZW50LnR5cGUsXG4gICAgICAgIGtleSxcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIG93bmVyLFxuICAgICAgICBlbGVtZW50Ll9kZWJ1Z1N0YWNrLFxuICAgICAgICBlbGVtZW50Ll9kZWJ1Z1Rhc2tcbiAgICAgICk7XG4gICAgICBmb3IgKGtleSA9IDI7IGtleSA8IGFyZ3VtZW50cy5sZW5ndGg7IGtleSsrKVxuICAgICAgICB2YWxpZGF0ZUNoaWxkS2V5cyhhcmd1bWVudHNba2V5XSk7XG4gICAgICByZXR1cm4gcHJvcHM7XG4gICAgfTtcbiAgICBleHBvcnRzLmNyZWF0ZUNvbnRleHQgPSBmdW5jdGlvbiAoZGVmYXVsdFZhbHVlKSB7XG4gICAgICBkZWZhdWx0VmFsdWUgPSB7XG4gICAgICAgICQkdHlwZW9mOiBSRUFDVF9DT05URVhUX1RZUEUsXG4gICAgICAgIF9jdXJyZW50VmFsdWU6IGRlZmF1bHRWYWx1ZSxcbiAgICAgICAgX2N1cnJlbnRWYWx1ZTI6IGRlZmF1bHRWYWx1ZSxcbiAgICAgICAgX3RocmVhZENvdW50OiAwLFxuICAgICAgICBQcm92aWRlcjogbnVsbCxcbiAgICAgICAgQ29uc3VtZXI6IG51bGxcbiAgICAgIH07XG4gICAgICBkZWZhdWx0VmFsdWUuUHJvdmlkZXIgPSBkZWZhdWx0VmFsdWU7XG4gICAgICBkZWZhdWx0VmFsdWUuQ29uc3VtZXIgPSB7XG4gICAgICAgICQkdHlwZW9mOiBSRUFDVF9DT05TVU1FUl9UWVBFLFxuICAgICAgICBfY29udGV4dDogZGVmYXVsdFZhbHVlXG4gICAgICB9O1xuICAgICAgZGVmYXVsdFZhbHVlLl9jdXJyZW50UmVuZGVyZXIgPSBudWxsO1xuICAgICAgZGVmYXVsdFZhbHVlLl9jdXJyZW50UmVuZGVyZXIyID0gbnVsbDtcbiAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgfTtcbiAgICBleHBvcnRzLmNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiAodHlwZSwgY29uZmlnLCBjaGlsZHJlbikge1xuICAgICAgZm9yICh2YXIgaSA9IDI7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXG4gICAgICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGFyZ3VtZW50c1tpXSk7XG4gICAgICBpID0ge307XG4gICAgICB2YXIga2V5ID0gbnVsbDtcbiAgICAgIGlmIChudWxsICE9IGNvbmZpZylcbiAgICAgICAgZm9yIChwcm9wTmFtZSBpbiAoZGlkV2FybkFib3V0T2xkSlNYUnVudGltZSB8fFxuICAgICAgICAgICEoXCJfX3NlbGZcIiBpbiBjb25maWcpIHx8XG4gICAgICAgICAgXCJrZXlcIiBpbiBjb25maWcgfHxcbiAgICAgICAgICAoKGRpZFdhcm5BYm91dE9sZEpTWFJ1bnRpbWUgPSAhMCksXG4gICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgXCJZb3VyIGFwcCAob3Igb25lIG9mIGl0cyBkZXBlbmRlbmNpZXMpIGlzIHVzaW5nIGFuIG91dGRhdGVkIEpTWCB0cmFuc2Zvcm0uIFVwZGF0ZSB0byB0aGUgbW9kZXJuIEpTWCB0cmFuc2Zvcm0gZm9yIGZhc3RlciBwZXJmb3JtYW5jZTogaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9uZXctanN4LXRyYW5zZm9ybVwiXG4gICAgICAgICAgKSksXG4gICAgICAgIGhhc1ZhbGlkS2V5KGNvbmZpZykgJiZcbiAgICAgICAgICAoY2hlY2tLZXlTdHJpbmdDb2VyY2lvbihjb25maWcua2V5KSwgKGtleSA9IFwiXCIgKyBjb25maWcua2V5KSksXG4gICAgICAgIGNvbmZpZykpXG4gICAgICAgICAgaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIHByb3BOYW1lKSAmJlxuICAgICAgICAgICAgXCJrZXlcIiAhPT0gcHJvcE5hbWUgJiZcbiAgICAgICAgICAgIFwiX19zZWxmXCIgIT09IHByb3BOYW1lICYmXG4gICAgICAgICAgICBcIl9fc291cmNlXCIgIT09IHByb3BOYW1lICYmXG4gICAgICAgICAgICAoaVtwcm9wTmFtZV0gPSBjb25maWdbcHJvcE5hbWVdKTtcbiAgICAgIHZhciBjaGlsZHJlbkxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGggLSAyO1xuICAgICAgaWYgKDEgPT09IGNoaWxkcmVuTGVuZ3RoKSBpLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICBlbHNlIGlmICgxIDwgY2hpbGRyZW5MZW5ndGgpIHtcbiAgICAgICAgZm9yIChcbiAgICAgICAgICB2YXIgY2hpbGRBcnJheSA9IEFycmF5KGNoaWxkcmVuTGVuZ3RoKSwgX2kgPSAwO1xuICAgICAgICAgIF9pIDwgY2hpbGRyZW5MZW5ndGg7XG4gICAgICAgICAgX2krK1xuICAgICAgICApXG4gICAgICAgICAgY2hpbGRBcnJheVtfaV0gPSBhcmd1bWVudHNbX2kgKyAyXTtcbiAgICAgICAgT2JqZWN0LmZyZWV6ZSAmJiBPYmplY3QuZnJlZXplKGNoaWxkQXJyYXkpO1xuICAgICAgICBpLmNoaWxkcmVuID0gY2hpbGRBcnJheTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlICYmIHR5cGUuZGVmYXVsdFByb3BzKVxuICAgICAgICBmb3IgKHByb3BOYW1lIGluICgoY2hpbGRyZW5MZW5ndGggPSB0eXBlLmRlZmF1bHRQcm9wcyksIGNoaWxkcmVuTGVuZ3RoKSlcbiAgICAgICAgICB2b2lkIDAgPT09IGlbcHJvcE5hbWVdICYmIChpW3Byb3BOYW1lXSA9IGNoaWxkcmVuTGVuZ3RoW3Byb3BOYW1lXSk7XG4gICAgICBrZXkgJiZcbiAgICAgICAgZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIoXG4gICAgICAgICAgaSxcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlXG4gICAgICAgICAgICA/IHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lIHx8IFwiVW5rbm93blwiXG4gICAgICAgICAgICA6IHR5cGVcbiAgICAgICAgKTtcbiAgICAgIHZhciBwcm9wTmFtZSA9IDFlNCA+IFJlYWN0U2hhcmVkSW50ZXJuYWxzLnJlY2VudGx5Q3JlYXRlZE93bmVyU3RhY2tzKys7XG4gICAgICByZXR1cm4gUmVhY3RFbGVtZW50KFxuICAgICAgICB0eXBlLFxuICAgICAgICBrZXksXG4gICAgICAgIGksXG4gICAgICAgIGdldE93bmVyKCksXG4gICAgICAgIHByb3BOYW1lID8gRXJyb3IoXCJyZWFjdC1zdGFjay10b3AtZnJhbWVcIikgOiB1bmtub3duT3duZXJEZWJ1Z1N0YWNrLFxuICAgICAgICBwcm9wTmFtZSA/IGNyZWF0ZVRhc2soZ2V0VGFza05hbWUodHlwZSkpIDogdW5rbm93bk93bmVyRGVidWdUYXNrXG4gICAgICApO1xuICAgIH07XG4gICAgZXhwb3J0cy5jcmVhdGVSZWYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcmVmT2JqZWN0ID0geyBjdXJyZW50OiBudWxsIH07XG4gICAgICBPYmplY3Quc2VhbChyZWZPYmplY3QpO1xuICAgICAgcmV0dXJuIHJlZk9iamVjdDtcbiAgICB9O1xuICAgIGV4cG9ydHMuZm9yd2FyZFJlZiA9IGZ1bmN0aW9uIChyZW5kZXIpIHtcbiAgICAgIG51bGwgIT0gcmVuZGVyICYmIHJlbmRlci4kJHR5cGVvZiA9PT0gUkVBQ1RfTUVNT19UWVBFXG4gICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiZm9yd2FyZFJlZiByZXF1aXJlcyBhIHJlbmRlciBmdW5jdGlvbiBidXQgcmVjZWl2ZWQgYSBgbWVtb2AgY29tcG9uZW50LiBJbnN0ZWFkIG9mIGZvcndhcmRSZWYobWVtbyguLi4pKSwgdXNlIG1lbW8oZm9yd2FyZFJlZiguLi4pKS5cIlxuICAgICAgICAgIClcbiAgICAgICAgOiBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiByZW5kZXJcbiAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiZm9yd2FyZFJlZiByZXF1aXJlcyBhIHJlbmRlciBmdW5jdGlvbiBidXQgd2FzIGdpdmVuICVzLlwiLFxuICAgICAgICAgICAgICBudWxsID09PSByZW5kZXIgPyBcIm51bGxcIiA6IHR5cGVvZiByZW5kZXJcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IDAgIT09IHJlbmRlci5sZW5ndGggJiZcbiAgICAgICAgICAgIDIgIT09IHJlbmRlci5sZW5ndGggJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiZm9yd2FyZFJlZiByZW5kZXIgZnVuY3Rpb25zIGFjY2VwdCBleGFjdGx5IHR3byBwYXJhbWV0ZXJzOiBwcm9wcyBhbmQgcmVmLiAlc1wiLFxuICAgICAgICAgICAgICAxID09PSByZW5kZXIubGVuZ3RoXG4gICAgICAgICAgICAgICAgPyBcIkRpZCB5b3UgZm9yZ2V0IHRvIHVzZSB0aGUgcmVmIHBhcmFtZXRlcj9cIlxuICAgICAgICAgICAgICAgIDogXCJBbnkgYWRkaXRpb25hbCBwYXJhbWV0ZXIgd2lsbCBiZSB1bmRlZmluZWQuXCJcbiAgICAgICAgICAgICk7XG4gICAgICBudWxsICE9IHJlbmRlciAmJlxuICAgICAgICBudWxsICE9IHJlbmRlci5kZWZhdWx0UHJvcHMgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcImZvcndhcmRSZWYgcmVuZGVyIGZ1bmN0aW9ucyBkbyBub3Qgc3VwcG9ydCBkZWZhdWx0UHJvcHMuIERpZCB5b3UgYWNjaWRlbnRhbGx5IHBhc3MgYSBSZWFjdCBjb21wb25lbnQ/XCJcbiAgICAgICAgKTtcbiAgICAgIHZhciBlbGVtZW50VHlwZSA9IHsgJCR0eXBlb2Y6IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUsIHJlbmRlcjogcmVuZGVyIH0sXG4gICAgICAgIG93bk5hbWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudFR5cGUsIFwiZGlzcGxheU5hbWVcIiwge1xuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIG93bk5hbWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICBvd25OYW1lID0gbmFtZTtcbiAgICAgICAgICByZW5kZXIubmFtZSB8fFxuICAgICAgICAgICAgcmVuZGVyLmRpc3BsYXlOYW1lIHx8XG4gICAgICAgICAgICAoT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlbmRlciwgXCJuYW1lXCIsIHsgdmFsdWU6IG5hbWUgfSksXG4gICAgICAgICAgICAocmVuZGVyLmRpc3BsYXlOYW1lID0gbmFtZSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBlbGVtZW50VHlwZTtcbiAgICB9O1xuICAgIGV4cG9ydHMuaXNWYWxpZEVsZW1lbnQgPSBpc1ZhbGlkRWxlbWVudDtcbiAgICBleHBvcnRzLmxhenkgPSBmdW5jdGlvbiAoY3Rvcikge1xuICAgICAgY3RvciA9IHsgX3N0YXR1czogLTEsIF9yZXN1bHQ6IGN0b3IgfTtcbiAgICAgIHZhciBsYXp5VHlwZSA9IHtcbiAgICAgICAgICAkJHR5cGVvZjogUkVBQ1RfTEFaWV9UWVBFLFxuICAgICAgICAgIF9wYXlsb2FkOiBjdG9yLFxuICAgICAgICAgIF9pbml0OiBsYXp5SW5pdGlhbGl6ZXJcbiAgICAgICAgfSxcbiAgICAgICAgaW9JbmZvID0ge1xuICAgICAgICAgIG5hbWU6IFwibGF6eVwiLFxuICAgICAgICAgIHN0YXJ0OiAtMSxcbiAgICAgICAgICBlbmQ6IC0xLFxuICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgIG93bmVyOiBudWxsLFxuICAgICAgICAgIGRlYnVnU3RhY2s6IEVycm9yKFwicmVhY3Qtc3RhY2stdG9wLWZyYW1lXCIpLFxuICAgICAgICAgIGRlYnVnVGFzazogY29uc29sZS5jcmVhdGVUYXNrID8gY29uc29sZS5jcmVhdGVUYXNrKFwibGF6eSgpXCIpIDogbnVsbFxuICAgICAgICB9O1xuICAgICAgY3Rvci5faW9JbmZvID0gaW9JbmZvO1xuICAgICAgbGF6eVR5cGUuX2RlYnVnSW5mbyA9IFt7IGF3YWl0ZWQ6IGlvSW5mbyB9XTtcbiAgICAgIHJldHVybiBsYXp5VHlwZTtcbiAgICB9O1xuICAgIGV4cG9ydHMubWVtbyA9IGZ1bmN0aW9uICh0eXBlLCBjb21wYXJlKSB7XG4gICAgICBudWxsID09IHR5cGUgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIm1lbW86IFRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgY29tcG9uZW50LiBJbnN0ZWFkIHJlY2VpdmVkOiAlc1wiLFxuICAgICAgICAgIG51bGwgPT09IHR5cGUgPyBcIm51bGxcIiA6IHR5cGVvZiB0eXBlXG4gICAgICAgICk7XG4gICAgICBjb21wYXJlID0ge1xuICAgICAgICAkJHR5cGVvZjogUkVBQ1RfTUVNT19UWVBFLFxuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBjb21wYXJlOiB2b2lkIDAgPT09IGNvbXBhcmUgPyBudWxsIDogY29tcGFyZVxuICAgICAgfTtcbiAgICAgIHZhciBvd25OYW1lO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbXBhcmUsIFwiZGlzcGxheU5hbWVcIiwge1xuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIG93bk5hbWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICBvd25OYW1lID0gbmFtZTtcbiAgICAgICAgICB0eXBlLm5hbWUgfHxcbiAgICAgICAgICAgIHR5cGUuZGlzcGxheU5hbWUgfHxcbiAgICAgICAgICAgIChPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJuYW1lXCIsIHsgdmFsdWU6IG5hbWUgfSksXG4gICAgICAgICAgICAodHlwZS5kaXNwbGF5TmFtZSA9IG5hbWUpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gY29tcGFyZTtcbiAgICB9O1xuICAgIGV4cG9ydHMuc3RhcnRUcmFuc2l0aW9uID0gZnVuY3Rpb24gKHNjb3BlKSB7XG4gICAgICB2YXIgcHJldlRyYW5zaXRpb24gPSBSZWFjdFNoYXJlZEludGVybmFscy5ULFxuICAgICAgICBjdXJyZW50VHJhbnNpdGlvbiA9IHt9O1xuICAgICAgY3VycmVudFRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMgPSBuZXcgU2V0KCk7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5UID0gY3VycmVudFRyYW5zaXRpb247XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgcmV0dXJuVmFsdWUgPSBzY29wZSgpLFxuICAgICAgICAgIG9uU3RhcnRUcmFuc2l0aW9uRmluaXNoID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUztcbiAgICAgICAgbnVsbCAhPT0gb25TdGFydFRyYW5zaXRpb25GaW5pc2ggJiZcbiAgICAgICAgICBvblN0YXJ0VHJhbnNpdGlvbkZpbmlzaChjdXJyZW50VHJhbnNpdGlvbiwgcmV0dXJuVmFsdWUpO1xuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgcmV0dXJuVmFsdWUgJiZcbiAgICAgICAgICBudWxsICE9PSByZXR1cm5WYWx1ZSAmJlxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHJldHVyblZhbHVlLnRoZW4gJiZcbiAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuYXN5bmNUcmFuc2l0aW9ucysrLFxuICAgICAgICAgIHJldHVyblZhbHVlLnRoZW4ocmVsZWFzZUFzeW5jVHJhbnNpdGlvbiwgcmVsZWFzZUFzeW5jVHJhbnNpdGlvbiksXG4gICAgICAgICAgcmV0dXJuVmFsdWUudGhlbihub29wLCByZXBvcnRHbG9iYWxFcnJvcikpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVwb3J0R2xvYmFsRXJyb3IoZXJyb3IpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgbnVsbCA9PT0gcHJldlRyYW5zaXRpb24gJiZcbiAgICAgICAgICBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycyAmJlxuICAgICAgICAgICgoc2NvcGUgPSBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycy5zaXplKSxcbiAgICAgICAgICBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycy5jbGVhcigpLFxuICAgICAgICAgIDEwIDwgc2NvcGUgJiZcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgXCJEZXRlY3RlZCBhIGxhcmdlIG51bWJlciBvZiB1cGRhdGVzIGluc2lkZSBzdGFydFRyYW5zaXRpb24uIElmIHRoaXMgaXMgZHVlIHRvIGEgc3Vic2NyaXB0aW9uIHBsZWFzZSByZS13cml0ZSBpdCB0byB1c2UgUmVhY3QgcHJvdmlkZWQgaG9va3MuIE90aGVyd2lzZSBjb25jdXJyZW50IG1vZGUgZ3VhcmFudGVlcyBhcmUgb2ZmIHRoZSB0YWJsZS5cIlxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgbnVsbCAhPT0gcHJldlRyYW5zaXRpb24gJiZcbiAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnRUcmFuc2l0aW9uLnR5cGVzICYmXG4gICAgICAgICAgICAobnVsbCAhPT0gcHJldlRyYW5zaXRpb24udHlwZXMgJiZcbiAgICAgICAgICAgICAgcHJldlRyYW5zaXRpb24udHlwZXMgIT09IGN1cnJlbnRUcmFuc2l0aW9uLnR5cGVzICYmXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJXZSBleHBlY3RlZCBpbm5lciBUcmFuc2l0aW9ucyB0byBoYXZlIHRyYW5zZmVycmVkIHRoZSBvdXRlciB0eXBlcyBzZXQgYW5kIHRoYXQgeW91IGNhbm5vdCBhZGQgdG8gdGhlIG91dGVyIFRyYW5zaXRpb24gd2hpbGUgaW5zaWRlIHRoZSBpbm5lci5UaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAocHJldlRyYW5zaXRpb24udHlwZXMgPSBjdXJyZW50VHJhbnNpdGlvbi50eXBlcykpLFxuICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5UID0gcHJldlRyYW5zaXRpb24pO1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy51bnN0YWJsZV91c2VDYWNoZVJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VDYWNoZVJlZnJlc2goKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlID0gZnVuY3Rpb24gKHVzYWJsZSkge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlKHVzYWJsZSk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUFjdGlvblN0YXRlID0gZnVuY3Rpb24gKGFjdGlvbiwgaW5pdGlhbFN0YXRlLCBwZXJtYWxpbmspIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUFjdGlvblN0YXRlKFxuICAgICAgICBhY3Rpb24sXG4gICAgICAgIGluaXRpYWxTdGF0ZSxcbiAgICAgICAgcGVybWFsaW5rXG4gICAgICApO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VDYWxsYmFjayA9IGZ1bmN0aW9uIChjYWxsYmFjaywgZGVwcykge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlQ2FsbGJhY2soY2FsbGJhY2ssIGRlcHMpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VDb250ZXh0ID0gZnVuY3Rpb24gKENvbnRleHQpIHtcbiAgICAgIHZhciBkaXNwYXRjaGVyID0gcmVzb2x2ZURpc3BhdGNoZXIoKTtcbiAgICAgIENvbnRleHQuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlNVTUVSX1RZUEUgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkNhbGxpbmcgdXNlQ29udGV4dChDb250ZXh0LkNvbnN1bWVyKSBpcyBub3Qgc3VwcG9ydGVkIGFuZCB3aWxsIGNhdXNlIGJ1Z3MuIERpZCB5b3UgbWVhbiB0byBjYWxsIHVzZUNvbnRleHQoQ29udGV4dCkgaW5zdGVhZD9cIlxuICAgICAgICApO1xuICAgICAgcmV0dXJuIGRpc3BhdGNoZXIudXNlQ29udGV4dChDb250ZXh0KTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlRGVidWdWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSwgZm9ybWF0dGVyRm4pIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZURlYnVnVmFsdWUodmFsdWUsIGZvcm1hdHRlckZuKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlRGVmZXJyZWRWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSwgaW5pdGlhbFZhbHVlKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VEZWZlcnJlZFZhbHVlKHZhbHVlLCBpbml0aWFsVmFsdWUpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VFZmZlY3QgPSBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICBudWxsID09IGNyZWF0ZSAmJlxuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgXCJSZWFjdCBIb29rIHVzZUVmZmVjdCByZXF1aXJlcyBhbiBlZmZlY3QgY2FsbGJhY2suIERpZCB5b3UgZm9yZ2V0IHRvIHBhc3MgYSBjYWxsYmFjayB0byB0aGUgaG9vaz9cIlxuICAgICAgICApO1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlRWZmZWN0KGNyZWF0ZSwgZGVwcyk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUVmZmVjdEV2ZW50ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VFZmZlY3RFdmVudChjYWxsYmFjayk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUlkID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlSWQoKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlSW1wZXJhdGl2ZUhhbmRsZSA9IGZ1bmN0aW9uIChyZWYsIGNyZWF0ZSwgZGVwcykge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsIGNyZWF0ZSwgZGVwcyk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUluc2VydGlvbkVmZmVjdCA9IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgIG51bGwgPT0gY3JlYXRlICYmXG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBcIlJlYWN0IEhvb2sgdXNlSW5zZXJ0aW9uRWZmZWN0IHJlcXVpcmVzIGFuIGVmZmVjdCBjYWxsYmFjay4gRGlkIHlvdSBmb3JnZXQgdG8gcGFzcyBhIGNhbGxiYWNrIHRvIHRoZSBob29rP1wiXG4gICAgICAgICk7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VJbnNlcnRpb25FZmZlY3QoY3JlYXRlLCBkZXBzKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlTGF5b3V0RWZmZWN0ID0gZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgbnVsbCA9PSBjcmVhdGUgJiZcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIFwiUmVhY3QgSG9vayB1c2VMYXlvdXRFZmZlY3QgcmVxdWlyZXMgYW4gZWZmZWN0IGNhbGxiYWNrLiBEaWQgeW91IGZvcmdldCB0byBwYXNzIGEgY2FsbGJhY2sgdG8gdGhlIGhvb2s/XCJcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUxheW91dEVmZmVjdChjcmVhdGUsIGRlcHMpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VNZW1vID0gZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlTWVtbyhjcmVhdGUsIGRlcHMpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VPcHRpbWlzdGljID0gZnVuY3Rpb24gKHBhc3N0aHJvdWdoLCByZWR1Y2VyKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VPcHRpbWlzdGljKHBhc3N0aHJvdWdoLCByZWR1Y2VyKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlUmVkdWNlciA9IGZ1bmN0aW9uIChyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VSZWR1Y2VyKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VSZWYgPSBmdW5jdGlvbiAoaW5pdGlhbFZhbHVlKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VSZWYoaW5pdGlhbFZhbHVlKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlU3RhdGUgPSBmdW5jdGlvbiAoaW5pdGlhbFN0YXRlKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VTdGF0ZShpbml0aWFsU3RhdGUpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VTeW5jRXh0ZXJuYWxTdG9yZSA9IGZ1bmN0aW9uIChcbiAgICAgIHN1YnNjcmliZSxcbiAgICAgIGdldFNuYXBzaG90LFxuICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICApIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZVN5bmNFeHRlcm5hbFN0b3JlKFxuICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgIGdldFNuYXBzaG90LFxuICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICAgKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlVHJhbnNpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZVRyYW5zaXRpb24oKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudmVyc2lvbiA9IFwiMTkuMi4wXCI7XG4gICAgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdG9wICYmXG4gICAgICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0b3AoRXJyb3IoKSk7XG4gIH0pKCk7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC5wcm9kdWN0aW9uLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LmRldmVsb3BtZW50LmpzJyk7XG59XG4iLAogICAgIi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHJlYWN0LWRvbS5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiZcbiAgKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBub29wKCkge31cbiAgICBmdW5jdGlvbiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBcIlwiICsgdmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZVBvcnRhbCQxKGNoaWxkcmVuLCBjb250YWluZXJJbmZvLCBpbXBsZW1lbnRhdGlvbikge1xuICAgICAgdmFyIGtleSA9XG4gICAgICAgIDMgPCBhcmd1bWVudHMubGVuZ3RoICYmIHZvaWQgMCAhPT0gYXJndW1lbnRzWzNdID8gYXJndW1lbnRzWzNdIDogbnVsbDtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRlc3RTdHJpbmdDb2VyY2lvbihrZXkpO1xuICAgICAgICB2YXIgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gITE7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9ICEwO1xuICAgICAgfVxuICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ICYmXG4gICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiVGhlIHByb3ZpZGVkIGtleSBpcyBhbiB1bnN1cHBvcnRlZCB0eXBlICVzLiBUaGlzIHZhbHVlIG11c3QgYmUgY29lcmNlZCB0byBhIHN0cmluZyBiZWZvcmUgdXNpbmcgaXQgaGVyZS5cIixcbiAgICAgICAgICAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgU3ltYm9sICYmXG4gICAgICAgICAgICBTeW1ib2wudG9TdHJpbmdUYWcgJiZcbiAgICAgICAgICAgIGtleVtTeW1ib2wudG9TdHJpbmdUYWddKSB8fFxuICAgICAgICAgICAga2V5LmNvbnN0cnVjdG9yLm5hbWUgfHxcbiAgICAgICAgICAgIFwiT2JqZWN0XCJcbiAgICAgICAgKSxcbiAgICAgICAgdGVzdFN0cmluZ0NvZXJjaW9uKGtleSkpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX1BPUlRBTF9UWVBFLFxuICAgICAgICBrZXk6IG51bGwgPT0ga2V5ID8gbnVsbCA6IFwiXCIgKyBrZXksXG4gICAgICAgIGNoaWxkcmVuOiBjaGlsZHJlbixcbiAgICAgICAgY29udGFpbmVySW5mbzogY29udGFpbmVySW5mbyxcbiAgICAgICAgaW1wbGVtZW50YXRpb246IGltcGxlbWVudGF0aW9uXG4gICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRDcm9zc09yaWdpblN0cmluZ0FzKGFzLCBpbnB1dCkge1xuICAgICAgaWYgKFwiZm9udFwiID09PSBhcykgcmV0dXJuIFwiXCI7XG4gICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGlucHV0KVxuICAgICAgICByZXR1cm4gXCJ1c2UtY3JlZGVudGlhbHNcIiA9PT0gaW5wdXQgPyBpbnB1dCA6IFwiXCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ09iamVjdEZvcldhcm5pbmcodGhpbmcpIHtcbiAgICAgIHJldHVybiBudWxsID09PSB0aGluZ1xuICAgICAgICA/IFwiYG51bGxgXCJcbiAgICAgICAgOiB2b2lkIDAgPT09IHRoaW5nXG4gICAgICAgICAgPyBcImB1bmRlZmluZWRgXCJcbiAgICAgICAgICA6IFwiXCIgPT09IHRoaW5nXG4gICAgICAgICAgICA/IFwiYW4gZW1wdHkgc3RyaW5nXCJcbiAgICAgICAgICAgIDogJ3NvbWV0aGluZyB3aXRoIHR5cGUgXCInICsgdHlwZW9mIHRoaW5nICsgJ1wiJztcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nRW51bUZvcldhcm5pbmcodGhpbmcpIHtcbiAgICAgIHJldHVybiBudWxsID09PSB0aGluZ1xuICAgICAgICA/IFwiYG51bGxgXCJcbiAgICAgICAgOiB2b2lkIDAgPT09IHRoaW5nXG4gICAgICAgICAgPyBcImB1bmRlZmluZWRgXCJcbiAgICAgICAgICA6IFwiXCIgPT09IHRoaW5nXG4gICAgICAgICAgICA/IFwiYW4gZW1wdHkgc3RyaW5nXCJcbiAgICAgICAgICAgIDogXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHRoaW5nXG4gICAgICAgICAgICAgID8gSlNPTi5zdHJpbmdpZnkodGhpbmcpXG4gICAgICAgICAgICAgIDogXCJudW1iZXJcIiA9PT0gdHlwZW9mIHRoaW5nXG4gICAgICAgICAgICAgICAgPyBcImBcIiArIHRoaW5nICsgXCJgXCJcbiAgICAgICAgICAgICAgICA6ICdzb21ldGhpbmcgd2l0aCB0eXBlIFwiJyArIHR5cGVvZiB0aGluZyArICdcIic7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc29sdmVEaXNwYXRjaGVyKCkge1xuICAgICAgdmFyIGRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgbnVsbCA9PT0gZGlzcGF0Y2hlciAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiSW52YWxpZCBob29rIGNhbGwuIEhvb2tzIGNhbiBvbmx5IGJlIGNhbGxlZCBpbnNpZGUgb2YgdGhlIGJvZHkgb2YgYSBmdW5jdGlvbiBjb21wb25lbnQuIFRoaXMgY291bGQgaGFwcGVuIGZvciBvbmUgb2YgdGhlIGZvbGxvd2luZyByZWFzb25zOlxcbjEuIFlvdSBtaWdodCBoYXZlIG1pc21hdGNoaW5nIHZlcnNpb25zIG9mIFJlYWN0IGFuZCB0aGUgcmVuZGVyZXIgKHN1Y2ggYXMgUmVhY3QgRE9NKVxcbjIuIFlvdSBtaWdodCBiZSBicmVha2luZyB0aGUgUnVsZXMgb2YgSG9va3NcXG4zLiBZb3UgbWlnaHQgaGF2ZSBtb3JlIHRoYW4gb25lIGNvcHkgb2YgUmVhY3QgaW4gdGhlIHNhbWUgYXBwXFxuU2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvaW52YWxpZC1ob29rLWNhbGwgZm9yIHRpcHMgYWJvdXQgaG93IHRvIGRlYnVnIGFuZCBmaXggdGhpcyBwcm9ibGVtLlwiXG4gICAgICAgICk7XG4gICAgICByZXR1cm4gZGlzcGF0Y2hlcjtcbiAgICB9XG4gICAgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdGFydCAmJlxuICAgICAgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdGFydChFcnJvcigpKTtcbiAgICB2YXIgUmVhY3QgPSByZXF1aXJlKFwicmVhY3RcIiksXG4gICAgICBJbnRlcm5hbHMgPSB7XG4gICAgICAgIGQ6IHtcbiAgICAgICAgICBmOiBub29wLFxuICAgICAgICAgIHI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICBcIkludmFsaWQgZm9ybSBlbGVtZW50LiByZXF1ZXN0Rm9ybVJlc2V0IG11c3QgYmUgcGFzc2VkIGEgZm9ybSB0aGF0IHdhcyByZW5kZXJlZCBieSBSZWFjdC5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIEQ6IG5vb3AsXG4gICAgICAgICAgQzogbm9vcCxcbiAgICAgICAgICBMOiBub29wLFxuICAgICAgICAgIG06IG5vb3AsXG4gICAgICAgICAgWDogbm9vcCxcbiAgICAgICAgICBTOiBub29wLFxuICAgICAgICAgIE06IG5vb3BcbiAgICAgICAgfSxcbiAgICAgICAgcDogMCxcbiAgICAgICAgZmluZERPTU5vZGU6IG51bGxcbiAgICAgIH0sXG4gICAgICBSRUFDVF9QT1JUQUxfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5wb3J0YWxcIiksXG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscyA9XG4gICAgICAgIFJlYWN0Ll9fQ0xJRU5UX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1dBUk5fVVNFUlNfVEhFWV9DQU5OT1RfVVBHUkFERTtcbiAgICAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgTWFwICYmXG4gICAgICBudWxsICE9IE1hcC5wcm90b3R5cGUgJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIE1hcC5wcm90b3R5cGUuZm9yRWFjaCAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgU2V0ICYmXG4gICAgICBudWxsICE9IFNldC5wcm90b3R5cGUgJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFNldC5wcm90b3R5cGUuY2xlYXIgJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFNldC5wcm90b3R5cGUuZm9yRWFjaCkgfHxcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIFwiUmVhY3QgZGVwZW5kcyBvbiBNYXAgYW5kIFNldCBidWlsdC1pbiB0eXBlcy4gTWFrZSBzdXJlIHRoYXQgeW91IGxvYWQgYSBwb2x5ZmlsbCBpbiBvbGRlciBicm93c2Vycy4gaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3JlYWN0LXBvbHlmaWxsc1wiXG4gICAgICApO1xuICAgIGV4cG9ydHMuX19ET01fSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfV0FSTl9VU0VSU19USEVZX0NBTk5PVF9VUEdSQURFID1cbiAgICAgIEludGVybmFscztcbiAgICBleHBvcnRzLmNyZWF0ZVBvcnRhbCA9IGZ1bmN0aW9uIChjaGlsZHJlbiwgY29udGFpbmVyKSB7XG4gICAgICB2YXIga2V5ID1cbiAgICAgICAgMiA8IGFyZ3VtZW50cy5sZW5ndGggJiYgdm9pZCAwICE9PSBhcmd1bWVudHNbMl0gPyBhcmd1bWVudHNbMl0gOiBudWxsO1xuICAgICAgaWYgKFxuICAgICAgICAhY29udGFpbmVyIHx8XG4gICAgICAgICgxICE9PSBjb250YWluZXIubm9kZVR5cGUgJiZcbiAgICAgICAgICA5ICE9PSBjb250YWluZXIubm9kZVR5cGUgJiZcbiAgICAgICAgICAxMSAhPT0gY29udGFpbmVyLm5vZGVUeXBlKVxuICAgICAgKVxuICAgICAgICB0aHJvdyBFcnJvcihcIlRhcmdldCBjb250YWluZXIgaXMgbm90IGEgRE9NIGVsZW1lbnQuXCIpO1xuICAgICAgcmV0dXJuIGNyZWF0ZVBvcnRhbCQxKGNoaWxkcmVuLCBjb250YWluZXIsIG51bGwsIGtleSk7XG4gICAgfTtcbiAgICBleHBvcnRzLmZsdXNoU3luYyA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgdmFyIHByZXZpb3VzVHJhbnNpdGlvbiA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQsXG4gICAgICAgIHByZXZpb3VzVXBkYXRlUHJpb3JpdHkgPSBJbnRlcm5hbHMucDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICgoKFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgPSBudWxsKSwgKEludGVybmFscy5wID0gMiksIGZuKSlcbiAgICAgICAgICByZXR1cm4gZm4oKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5UID0gcHJldmlvdXNUcmFuc2l0aW9uKSxcbiAgICAgICAgICAoSW50ZXJuYWxzLnAgPSBwcmV2aW91c1VwZGF0ZVByaW9yaXR5KSxcbiAgICAgICAgICBJbnRlcm5hbHMuZC5mKCkgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiZmx1c2hTeW5jIHdhcyBjYWxsZWQgZnJvbSBpbnNpZGUgYSBsaWZlY3ljbGUgbWV0aG9kLiBSZWFjdCBjYW5ub3QgZmx1c2ggd2hlbiBSZWFjdCBpcyBhbHJlYWR5IHJlbmRlcmluZy4gQ29uc2lkZXIgbW92aW5nIHRoaXMgY2FsbCB0byBhIHNjaGVkdWxlciB0YXNrIG9yIG1pY3JvIHRhc2suXCJcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfTtcbiAgICBleHBvcnRzLnByZWNvbm5lY3QgPSBmdW5jdGlvbiAoaHJlZiwgb3B0aW9ucykge1xuICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGhyZWYgJiYgaHJlZlxuICAgICAgICA/IG51bGwgIT0gb3B0aW9ucyAmJiBcIm9iamVjdFwiICE9PSB0eXBlb2Ygb3B0aW9uc1xuICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJSZWFjdERPTS5wcmVjb25uZWN0KCk6IEV4cGVjdGVkIHRoZSBgb3B0aW9uc2AgYXJndW1lbnQgKHNlY29uZCkgdG8gYmUgYW4gb2JqZWN0IGJ1dCBlbmNvdW50ZXJlZCAlcyBpbnN0ZWFkLiBUaGUgb25seSBzdXBwb3J0ZWQgb3B0aW9uIGF0IHRoaXMgdGltZSBpcyBgY3Jvc3NPcmlnaW5gIHdoaWNoIGFjY2VwdHMgYSBzdHJpbmcuXCIsXG4gICAgICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ0VudW1Gb3JXYXJuaW5nKG9wdGlvbnMpXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBudWxsICE9IG9wdGlvbnMgJiZcbiAgICAgICAgICAgIFwic3RyaW5nXCIgIT09IHR5cGVvZiBvcHRpb25zLmNyb3NzT3JpZ2luICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlYWN0RE9NLnByZWNvbm5lY3QoKTogRXhwZWN0ZWQgdGhlIGBjcm9zc09yaWdpbmAgb3B0aW9uIChzZWNvbmQgYXJndW1lbnQpIHRvIGJlIGEgc3RyaW5nIGJ1dCBlbmNvdW50ZXJlZCAlcyBpbnN0ZWFkLiBUcnkgcmVtb3ZpbmcgdGhpcyBvcHRpb24gb3IgcGFzc2luZyBhIHN0cmluZyB2YWx1ZSBpbnN0ZWFkLlwiLFxuICAgICAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdPYmplY3RGb3JXYXJuaW5nKG9wdGlvbnMuY3Jvc3NPcmlnaW4pXG4gICAgICAgICAgICApXG4gICAgICAgIDogY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiUmVhY3RET00ucHJlY29ubmVjdCgpOiBFeHBlY3RlZCB0aGUgYGhyZWZgIGFyZ3VtZW50IChmaXJzdCkgdG8gYmUgYSBub24tZW1wdHkgc3RyaW5nIGJ1dCBlbmNvdW50ZXJlZCAlcyBpbnN0ZWFkLlwiLFxuICAgICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nT2JqZWN0Rm9yV2FybmluZyhocmVmKVxuICAgICAgICAgICk7XG4gICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgaHJlZiAmJlxuICAgICAgICAob3B0aW9uc1xuICAgICAgICAgID8gKChvcHRpb25zID0gb3B0aW9ucy5jcm9zc09yaWdpbiksXG4gICAgICAgICAgICAob3B0aW9ucyA9XG4gICAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zXG4gICAgICAgICAgICAgICAgPyBcInVzZS1jcmVkZW50aWFsc1wiID09PSBvcHRpb25zXG4gICAgICAgICAgICAgICAgICA/IG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgIDogXCJcIlxuICAgICAgICAgICAgICAgIDogdm9pZCAwKSlcbiAgICAgICAgICA6IChvcHRpb25zID0gbnVsbCksXG4gICAgICAgIEludGVybmFscy5kLkMoaHJlZiwgb3B0aW9ucykpO1xuICAgIH07XG4gICAgZXhwb3J0cy5wcmVmZXRjaEROUyA9IGZ1bmN0aW9uIChocmVmKSB7XG4gICAgICBpZiAoXCJzdHJpbmdcIiAhPT0gdHlwZW9mIGhyZWYgfHwgIWhyZWYpXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJSZWFjdERPTS5wcmVmZXRjaEROUygpOiBFeHBlY3RlZCB0aGUgYGhyZWZgIGFyZ3VtZW50IChmaXJzdCkgdG8gYmUgYSBub24tZW1wdHkgc3RyaW5nIGJ1dCBlbmNvdW50ZXJlZCAlcyBpbnN0ZWFkLlwiLFxuICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ09iamVjdEZvcldhcm5pbmcoaHJlZilcbiAgICAgICAgKTtcbiAgICAgIGVsc2UgaWYgKDEgPCBhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzWzFdO1xuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2Ygb3B0aW9ucyAmJiBvcHRpb25zLmhhc093blByb3BlcnR5KFwiY3Jvc3NPcmlnaW5cIilcbiAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVhY3RET00ucHJlZmV0Y2hETlMoKTogRXhwZWN0ZWQgb25seSBvbmUgYXJndW1lbnQsIGBocmVmYCwgYnV0IGVuY291bnRlcmVkICVzIGFzIGEgc2Vjb25kIGFyZ3VtZW50IGluc3RlYWQuIFRoaXMgYXJndW1lbnQgaXMgcmVzZXJ2ZWQgZm9yIGZ1dHVyZSBvcHRpb25zIGFuZCBpcyBjdXJyZW50bHkgZGlzYWxsb3dlZC4gSXQgbG9va3MgbGlrZSB0aGUgeW91IGFyZSBhdHRlbXB0aW5nIHRvIHNldCBhIGNyb3NzT3JpZ2luIHByb3BlcnR5IGZvciB0aGlzIEROUyBsb29rdXAgaGludC4gQnJvd3NlcnMgZG8gbm90IHBlcmZvcm0gRE5TIHF1ZXJpZXMgdXNpbmcgQ09SUyBhbmQgc2V0dGluZyB0aGlzIGF0dHJpYnV0ZSBvbiB0aGUgcmVzb3VyY2UgaGludCBoYXMgbm8gZWZmZWN0LiBUcnkgY2FsbGluZyBSZWFjdERPTS5wcmVmZXRjaEROUygpIHdpdGgganVzdCBhIHNpbmdsZSBzdHJpbmcgYXJndW1lbnQsIGBocmVmYC5cIixcbiAgICAgICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nRW51bUZvcldhcm5pbmcob3B0aW9ucylcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVhY3RET00ucHJlZmV0Y2hETlMoKTogRXhwZWN0ZWQgb25seSBvbmUgYXJndW1lbnQsIGBocmVmYCwgYnV0IGVuY291bnRlcmVkICVzIGFzIGEgc2Vjb25kIGFyZ3VtZW50IGluc3RlYWQuIFRoaXMgYXJndW1lbnQgaXMgcmVzZXJ2ZWQgZm9yIGZ1dHVyZSBvcHRpb25zIGFuZCBpcyBjdXJyZW50bHkgZGlzYWxsb3dlZC4gVHJ5IGNhbGxpbmcgUmVhY3RET00ucHJlZmV0Y2hETlMoKSB3aXRoIGp1c3QgYSBzaW5nbGUgc3RyaW5nIGFyZ3VtZW50LCBgaHJlZmAuXCIsXG4gICAgICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ0VudW1Gb3JXYXJuaW5nKG9wdGlvbnMpXG4gICAgICAgICAgICApO1xuICAgICAgfVxuICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGhyZWYgJiYgSW50ZXJuYWxzLmQuRChocmVmKTtcbiAgICB9O1xuICAgIGV4cG9ydHMucHJlaW5pdCA9IGZ1bmN0aW9uIChocmVmLCBvcHRpb25zKSB7XG4gICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgaHJlZiAmJiBocmVmXG4gICAgICAgID8gbnVsbCA9PSBvcHRpb25zIHx8IFwib2JqZWN0XCIgIT09IHR5cGVvZiBvcHRpb25zXG4gICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlYWN0RE9NLnByZWluaXQoKTogRXhwZWN0ZWQgdGhlIGBvcHRpb25zYCBhcmd1bWVudCAoc2Vjb25kKSB0byBiZSBhbiBvYmplY3Qgd2l0aCBhbiBgYXNgIHByb3BlcnR5IGRlc2NyaWJpbmcgdGhlIHR5cGUgb2YgcmVzb3VyY2UgdG8gYmUgcHJlaW5pdGlhbGl6ZWQgYnV0IGVuY291bnRlcmVkICVzIGluc3RlYWQuXCIsXG4gICAgICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ0VudW1Gb3JXYXJuaW5nKG9wdGlvbnMpXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBcInN0eWxlXCIgIT09IG9wdGlvbnMuYXMgJiZcbiAgICAgICAgICAgIFwic2NyaXB0XCIgIT09IG9wdGlvbnMuYXMgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICdSZWFjdERPTS5wcmVpbml0KCk6IEV4cGVjdGVkIHRoZSBgYXNgIHByb3BlcnR5IGluIHRoZSBgb3B0aW9uc2AgYXJndW1lbnQgKHNlY29uZCkgdG8gY29udGFpbiBhIHZhbGlkIHZhbHVlIGRlc2NyaWJpbmcgdGhlIHR5cGUgb2YgcmVzb3VyY2UgdG8gYmUgcHJlaW5pdGlhbGl6ZWQgYnV0IGVuY291bnRlcmVkICVzIGluc3RlYWQuIFZhbGlkIHZhbHVlcyBmb3IgYGFzYCBhcmUgXCJzdHlsZVwiIGFuZCBcInNjcmlwdFwiLicsXG4gICAgICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ0VudW1Gb3JXYXJuaW5nKG9wdGlvbnMuYXMpXG4gICAgICAgICAgICApXG4gICAgICAgIDogY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiUmVhY3RET00ucHJlaW5pdCgpOiBFeHBlY3RlZCB0aGUgYGhyZWZgIGFyZ3VtZW50IChmaXJzdCkgdG8gYmUgYSBub24tZW1wdHkgc3RyaW5nIGJ1dCBlbmNvdW50ZXJlZCAlcyBpbnN0ZWFkLlwiLFxuICAgICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nT2JqZWN0Rm9yV2FybmluZyhocmVmKVxuICAgICAgICAgICk7XG4gICAgICBpZiAoXG4gICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBocmVmICYmXG4gICAgICAgIG9wdGlvbnMgJiZcbiAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMuYXNcbiAgICAgICkge1xuICAgICAgICB2YXIgYXMgPSBvcHRpb25zLmFzLFxuICAgICAgICAgIGNyb3NzT3JpZ2luID0gZ2V0Q3Jvc3NPcmlnaW5TdHJpbmdBcyhhcywgb3B0aW9ucy5jcm9zc09yaWdpbiksXG4gICAgICAgICAgaW50ZWdyaXR5ID1cbiAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLmludGVncml0eSA/IG9wdGlvbnMuaW50ZWdyaXR5IDogdm9pZCAwLFxuICAgICAgICAgIGZldGNoUHJpb3JpdHkgPVxuICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMuZmV0Y2hQcmlvcml0eVxuICAgICAgICAgICAgICA/IG9wdGlvbnMuZmV0Y2hQcmlvcml0eVxuICAgICAgICAgICAgICA6IHZvaWQgMDtcbiAgICAgICAgXCJzdHlsZVwiID09PSBhc1xuICAgICAgICAgID8gSW50ZXJuYWxzLmQuUyhcbiAgICAgICAgICAgICAgaHJlZixcbiAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMucHJlY2VkZW5jZVxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5wcmVjZWRlbmNlXG4gICAgICAgICAgICAgICAgOiB2b2lkIDAsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjcm9zc09yaWdpbjogY3Jvc3NPcmlnaW4sXG4gICAgICAgICAgICAgICAgaW50ZWdyaXR5OiBpbnRlZ3JpdHksXG4gICAgICAgICAgICAgICAgZmV0Y2hQcmlvcml0eTogZmV0Y2hQcmlvcml0eVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBcInNjcmlwdFwiID09PSBhcyAmJlxuICAgICAgICAgICAgSW50ZXJuYWxzLmQuWChocmVmLCB7XG4gICAgICAgICAgICAgIGNyb3NzT3JpZ2luOiBjcm9zc09yaWdpbixcbiAgICAgICAgICAgICAgaW50ZWdyaXR5OiBpbnRlZ3JpdHksXG4gICAgICAgICAgICAgIGZldGNoUHJpb3JpdHk6IGZldGNoUHJpb3JpdHksXG4gICAgICAgICAgICAgIG5vbmNlOiBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5ub25jZSA/IG9wdGlvbnMubm9uY2UgOiB2b2lkIDBcbiAgICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy5wcmVpbml0TW9kdWxlID0gZnVuY3Rpb24gKGhyZWYsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBlbmNvdW50ZXJlZCA9IFwiXCI7XG4gICAgICAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGhyZWYgJiYgaHJlZikgfHxcbiAgICAgICAgKGVuY291bnRlcmVkICs9XG4gICAgICAgICAgXCIgVGhlIGBocmVmYCBhcmd1bWVudCBlbmNvdW50ZXJlZCB3YXMgXCIgK1xuICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ09iamVjdEZvcldhcm5pbmcoaHJlZikgK1xuICAgICAgICAgIFwiLlwiKTtcbiAgICAgIHZvaWQgMCAhPT0gb3B0aW9ucyAmJiBcIm9iamVjdFwiICE9PSB0eXBlb2Ygb3B0aW9uc1xuICAgICAgICA/IChlbmNvdW50ZXJlZCArPVxuICAgICAgICAgICAgXCIgVGhlIGBvcHRpb25zYCBhcmd1bWVudCBlbmNvdW50ZXJlZCB3YXMgXCIgK1xuICAgICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nT2JqZWN0Rm9yV2FybmluZyhvcHRpb25zKSArXG4gICAgICAgICAgICBcIi5cIilcbiAgICAgICAgOiBvcHRpb25zICYmXG4gICAgICAgICAgXCJhc1wiIGluIG9wdGlvbnMgJiZcbiAgICAgICAgICBcInNjcmlwdFwiICE9PSBvcHRpb25zLmFzICYmXG4gICAgICAgICAgKGVuY291bnRlcmVkICs9XG4gICAgICAgICAgICBcIiBUaGUgYGFzYCBvcHRpb24gZW5jb3VudGVyZWQgd2FzIFwiICtcbiAgICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ0VudW1Gb3JXYXJuaW5nKG9wdGlvbnMuYXMpICtcbiAgICAgICAgICAgIFwiLlwiKTtcbiAgICAgIGlmIChlbmNvdW50ZXJlZClcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlJlYWN0RE9NLnByZWluaXRNb2R1bGUoKTogRXhwZWN0ZWQgdXAgdG8gdHdvIGFyZ3VtZW50cywgYSBub24tZW1wdHkgYGhyZWZgIHN0cmluZyBhbmQsIG9wdGlvbmFsbHksIGFuIGBvcHRpb25zYCBvYmplY3Qgd2l0aCBhIHZhbGlkIGBhc2AgcHJvcGVydHkuJXNcIixcbiAgICAgICAgICBlbmNvdW50ZXJlZFxuICAgICAgICApO1xuICAgICAgZWxzZVxuICAgICAgICBzd2l0Y2ggKFxuICAgICAgICAgICgoZW5jb3VudGVyZWQgPVxuICAgICAgICAgICAgb3B0aW9ucyAmJiBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5hcyA/IG9wdGlvbnMuYXMgOiBcInNjcmlwdFwiKSxcbiAgICAgICAgICBlbmNvdW50ZXJlZClcbiAgICAgICAgKSB7XG4gICAgICAgICAgY2FzZSBcInNjcmlwdFwiOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIChlbmNvdW50ZXJlZCA9XG4gICAgICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ0VudW1Gb3JXYXJuaW5nKGVuY291bnRlcmVkKSksXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgJ1JlYWN0RE9NLnByZWluaXRNb2R1bGUoKTogQ3VycmVudGx5IHRoZSBvbmx5IHN1cHBvcnRlZCBcImFzXCIgdHlwZSBmb3IgdGhpcyBmdW5jdGlvbiBpcyBcInNjcmlwdFwiIGJ1dCByZWNlaXZlZCBcIiVzXCIgaW5zdGVhZC4gVGhpcyB3YXJuaW5nIHdhcyBnZW5lcmF0ZWQgZm9yIGBocmVmYCBcIiVzXCIuIEluIHRoZSBmdXR1cmUgb3RoZXIgbW9kdWxlIHR5cGVzIHdpbGwgYmUgc3VwcG9ydGVkLCBhbGlnbmluZyB3aXRoIHRoZSBpbXBvcnQtYXR0cmlidXRlcyBwcm9wb3NhbC4gTGVhcm4gbW9yZSBoZXJlOiAoaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtaW1wb3J0LWF0dHJpYnV0ZXMpJyxcbiAgICAgICAgICAgICAgICBlbmNvdW50ZXJlZCxcbiAgICAgICAgICAgICAgICBocmVmXG4gICAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgaHJlZilcbiAgICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiBvcHRpb25zICYmIG51bGwgIT09IG9wdGlvbnMpIHtcbiAgICAgICAgICBpZiAobnVsbCA9PSBvcHRpb25zLmFzIHx8IFwic2NyaXB0XCIgPT09IG9wdGlvbnMuYXMpXG4gICAgICAgICAgICAoZW5jb3VudGVyZWQgPSBnZXRDcm9zc09yaWdpblN0cmluZ0FzKFxuICAgICAgICAgICAgICBvcHRpb25zLmFzLFxuICAgICAgICAgICAgICBvcHRpb25zLmNyb3NzT3JpZ2luXG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgSW50ZXJuYWxzLmQuTShocmVmLCB7XG4gICAgICAgICAgICAgICAgY3Jvc3NPcmlnaW46IGVuY291bnRlcmVkLFxuICAgICAgICAgICAgICAgIGludGVncml0eTpcbiAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLmludGVncml0eVxuICAgICAgICAgICAgICAgICAgICA/IG9wdGlvbnMuaW50ZWdyaXR5XG4gICAgICAgICAgICAgICAgICAgIDogdm9pZCAwLFxuICAgICAgICAgICAgICAgIG5vbmNlOlxuICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMubm9uY2UgPyBvcHRpb25zLm5vbmNlIDogdm9pZCAwXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgbnVsbCA9PSBvcHRpb25zICYmIEludGVybmFscy5kLk0oaHJlZik7XG4gICAgfTtcbiAgICBleHBvcnRzLnByZWxvYWQgPSBmdW5jdGlvbiAoaHJlZiwgb3B0aW9ucykge1xuICAgICAgdmFyIGVuY291bnRlcmVkID0gXCJcIjtcbiAgICAgIChcInN0cmluZ1wiID09PSB0eXBlb2YgaHJlZiAmJiBocmVmKSB8fFxuICAgICAgICAoZW5jb3VudGVyZWQgKz1cbiAgICAgICAgICBcIiBUaGUgYGhyZWZgIGFyZ3VtZW50IGVuY291bnRlcmVkIHdhcyBcIiArXG4gICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nT2JqZWN0Rm9yV2FybmluZyhocmVmKSArXG4gICAgICAgICAgXCIuXCIpO1xuICAgICAgbnVsbCA9PSBvcHRpb25zIHx8IFwib2JqZWN0XCIgIT09IHR5cGVvZiBvcHRpb25zXG4gICAgICAgID8gKGVuY291bnRlcmVkICs9XG4gICAgICAgICAgICBcIiBUaGUgYG9wdGlvbnNgIGFyZ3VtZW50IGVuY291bnRlcmVkIHdhcyBcIiArXG4gICAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdPYmplY3RGb3JXYXJuaW5nKG9wdGlvbnMpICtcbiAgICAgICAgICAgIFwiLlwiKVxuICAgICAgICA6IChcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5hcyAmJiBvcHRpb25zLmFzKSB8fFxuICAgICAgICAgIChlbmNvdW50ZXJlZCArPVxuICAgICAgICAgICAgXCIgVGhlIGBhc2Agb3B0aW9uIGVuY291bnRlcmVkIHdhcyBcIiArXG4gICAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdPYmplY3RGb3JXYXJuaW5nKG9wdGlvbnMuYXMpICtcbiAgICAgICAgICAgIFwiLlwiKTtcbiAgICAgIGVuY291bnRlcmVkICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgJ1JlYWN0RE9NLnByZWxvYWQoKTogRXhwZWN0ZWQgdHdvIGFyZ3VtZW50cywgYSBub24tZW1wdHkgYGhyZWZgIHN0cmluZyBhbmQgYW4gYG9wdGlvbnNgIG9iamVjdCB3aXRoIGFuIGBhc2AgcHJvcGVydHkgdmFsaWQgZm9yIGEgYDxsaW5rIHJlbD1cInByZWxvYWRcIiBhcz1cIi4uLlwiIC8+YCB0YWcuJXMnLFxuICAgICAgICAgIGVuY291bnRlcmVkXG4gICAgICAgICk7XG4gICAgICBpZiAoXG4gICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBocmVmICYmXG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBvcHRpb25zICYmXG4gICAgICAgIG51bGwgIT09IG9wdGlvbnMgJiZcbiAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMuYXNcbiAgICAgICkge1xuICAgICAgICBlbmNvdW50ZXJlZCA9IG9wdGlvbnMuYXM7XG4gICAgICAgIHZhciBjcm9zc09yaWdpbiA9IGdldENyb3NzT3JpZ2luU3RyaW5nQXMoXG4gICAgICAgICAgZW5jb3VudGVyZWQsXG4gICAgICAgICAgb3B0aW9ucy5jcm9zc09yaWdpblxuICAgICAgICApO1xuICAgICAgICBJbnRlcm5hbHMuZC5MKGhyZWYsIGVuY291bnRlcmVkLCB7XG4gICAgICAgICAgY3Jvc3NPcmlnaW46IGNyb3NzT3JpZ2luLFxuICAgICAgICAgIGludGVncml0eTpcbiAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLmludGVncml0eSA/IG9wdGlvbnMuaW50ZWdyaXR5IDogdm9pZCAwLFxuICAgICAgICAgIG5vbmNlOiBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5ub25jZSA/IG9wdGlvbnMubm9uY2UgOiB2b2lkIDAsXG4gICAgICAgICAgdHlwZTogXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMudHlwZSA/IG9wdGlvbnMudHlwZSA6IHZvaWQgMCxcbiAgICAgICAgICBmZXRjaFByaW9yaXR5OlxuICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMuZmV0Y2hQcmlvcml0eVxuICAgICAgICAgICAgICA/IG9wdGlvbnMuZmV0Y2hQcmlvcml0eVxuICAgICAgICAgICAgICA6IHZvaWQgMCxcbiAgICAgICAgICByZWZlcnJlclBvbGljeTpcbiAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLnJlZmVycmVyUG9saWN5XG4gICAgICAgICAgICAgID8gb3B0aW9ucy5yZWZlcnJlclBvbGljeVxuICAgICAgICAgICAgICA6IHZvaWQgMCxcbiAgICAgICAgICBpbWFnZVNyY1NldDpcbiAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLmltYWdlU3JjU2V0XG4gICAgICAgICAgICAgID8gb3B0aW9ucy5pbWFnZVNyY1NldFxuICAgICAgICAgICAgICA6IHZvaWQgMCxcbiAgICAgICAgICBpbWFnZVNpemVzOlxuICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMuaW1hZ2VTaXplc1xuICAgICAgICAgICAgICA/IG9wdGlvbnMuaW1hZ2VTaXplc1xuICAgICAgICAgICAgICA6IHZvaWQgMCxcbiAgICAgICAgICBtZWRpYTogXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMubWVkaWEgPyBvcHRpb25zLm1lZGlhIDogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy5wcmVsb2FkTW9kdWxlID0gZnVuY3Rpb24gKGhyZWYsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBlbmNvdW50ZXJlZCA9IFwiXCI7XG4gICAgICAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGhyZWYgJiYgaHJlZikgfHxcbiAgICAgICAgKGVuY291bnRlcmVkICs9XG4gICAgICAgICAgXCIgVGhlIGBocmVmYCBhcmd1bWVudCBlbmNvdW50ZXJlZCB3YXMgXCIgK1xuICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ09iamVjdEZvcldhcm5pbmcoaHJlZikgK1xuICAgICAgICAgIFwiLlwiKTtcbiAgICAgIHZvaWQgMCAhPT0gb3B0aW9ucyAmJiBcIm9iamVjdFwiICE9PSB0eXBlb2Ygb3B0aW9uc1xuICAgICAgICA/IChlbmNvdW50ZXJlZCArPVxuICAgICAgICAgICAgXCIgVGhlIGBvcHRpb25zYCBhcmd1bWVudCBlbmNvdW50ZXJlZCB3YXMgXCIgK1xuICAgICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nT2JqZWN0Rm9yV2FybmluZyhvcHRpb25zKSArXG4gICAgICAgICAgICBcIi5cIilcbiAgICAgICAgOiBvcHRpb25zICYmXG4gICAgICAgICAgXCJhc1wiIGluIG9wdGlvbnMgJiZcbiAgICAgICAgICBcInN0cmluZ1wiICE9PSB0eXBlb2Ygb3B0aW9ucy5hcyAmJlxuICAgICAgICAgIChlbmNvdW50ZXJlZCArPVxuICAgICAgICAgICAgXCIgVGhlIGBhc2Agb3B0aW9uIGVuY291bnRlcmVkIHdhcyBcIiArXG4gICAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdPYmplY3RGb3JXYXJuaW5nKG9wdGlvbnMuYXMpICtcbiAgICAgICAgICAgIFwiLlwiKTtcbiAgICAgIGVuY291bnRlcmVkICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgJ1JlYWN0RE9NLnByZWxvYWRNb2R1bGUoKTogRXhwZWN0ZWQgdHdvIGFyZ3VtZW50cywgYSBub24tZW1wdHkgYGhyZWZgIHN0cmluZyBhbmQsIG9wdGlvbmFsbHksIGFuIGBvcHRpb25zYCBvYmplY3Qgd2l0aCBhbiBgYXNgIHByb3BlcnR5IHZhbGlkIGZvciBhIGA8bGluayByZWw9XCJtb2R1bGVwcmVsb2FkXCIgYXM9XCIuLi5cIiAvPmAgdGFnLiVzJyxcbiAgICAgICAgICBlbmNvdW50ZXJlZFxuICAgICAgICApO1xuICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGhyZWYgJiZcbiAgICAgICAgKG9wdGlvbnNcbiAgICAgICAgICA/ICgoZW5jb3VudGVyZWQgPSBnZXRDcm9zc09yaWdpblN0cmluZ0FzKFxuICAgICAgICAgICAgICBvcHRpb25zLmFzLFxuICAgICAgICAgICAgICBvcHRpb25zLmNyb3NzT3JpZ2luXG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgIEludGVybmFscy5kLm0oaHJlZiwge1xuICAgICAgICAgICAgICBhczpcbiAgICAgICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5hcyAmJiBcInNjcmlwdFwiICE9PSBvcHRpb25zLmFzXG4gICAgICAgICAgICAgICAgICA/IG9wdGlvbnMuYXNcbiAgICAgICAgICAgICAgICAgIDogdm9pZCAwLFxuICAgICAgICAgICAgICBjcm9zc09yaWdpbjogZW5jb3VudGVyZWQsXG4gICAgICAgICAgICAgIGludGVncml0eTpcbiAgICAgICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5pbnRlZ3JpdHlcbiAgICAgICAgICAgICAgICAgID8gb3B0aW9ucy5pbnRlZ3JpdHlcbiAgICAgICAgICAgICAgICAgIDogdm9pZCAwXG4gICAgICAgICAgICB9KSlcbiAgICAgICAgICA6IEludGVybmFscy5kLm0oaHJlZikpO1xuICAgIH07XG4gICAgZXhwb3J0cy5yZXF1ZXN0Rm9ybVJlc2V0ID0gZnVuY3Rpb24gKGZvcm0pIHtcbiAgICAgIEludGVybmFscy5kLnIoZm9ybSk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzID0gZnVuY3Rpb24gKGZuLCBhKSB7XG4gICAgICByZXR1cm4gZm4oYSk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUZvcm1TdGF0ZSA9IGZ1bmN0aW9uIChhY3Rpb24sIGluaXRpYWxTdGF0ZSwgcGVybWFsaW5rKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VGb3JtU3RhdGUoYWN0aW9uLCBpbml0aWFsU3RhdGUsIHBlcm1hbGluayk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUZvcm1TdGF0dXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VIb3N0VHJhbnNpdGlvblN0YXR1cygpO1xuICAgIH07XG4gICAgZXhwb3J0cy52ZXJzaW9uID0gXCIxOS4yLjBcIjtcbiAgICBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0b3AgJiZcbiAgICAgIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RvcChFcnJvcigpKTtcbiAgfSkoKTtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBjaGVja0RDRSgpIHtcbiAgLyogZ2xvYmFsIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAqL1xuICBpZiAoXG4gICAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLmNoZWNrRENFICE9PSAnZnVuY3Rpb24nXG4gICkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIC8vIFRoaXMgYnJhbmNoIGlzIHVucmVhY2hhYmxlIGJlY2F1c2UgdGhpcyBmdW5jdGlvbiBpcyBvbmx5IGNhbGxlZFxuICAgIC8vIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgY29uZGl0aW9uIGlzIHRydWUgb25seSBpbiBkZXZlbG9wbWVudC5cbiAgICAvLyBUaGVyZWZvcmUgaWYgdGhlIGJyYW5jaCBpcyBzdGlsbCBoZXJlLCBkZWFkIGNvZGUgZWxpbWluYXRpb24gd2Fzbid0XG4gICAgLy8gcHJvcGVybHkgYXBwbGllZC5cbiAgICAvLyBEb24ndCBjaGFuZ2UgdGhlIG1lc3NhZ2UuIFJlYWN0IERldlRvb2xzIHJlbGllcyBvbiBpdC4gQWxzbyBtYWtlIHN1cmVcbiAgICAvLyB0aGlzIG1lc3NhZ2UgZG9lc24ndCBvY2N1ciBlbHNld2hlcmUgaW4gdGhpcyBmdW5jdGlvbiwgb3IgaXQgd2lsbCBjYXVzZVxuICAgIC8vIGEgZmFsc2UgcG9zaXRpdmUuXG4gICAgdGhyb3cgbmV3IEVycm9yKCdeX14nKTtcbiAgfVxuICB0cnkge1xuICAgIC8vIFZlcmlmeSB0aGF0IHRoZSBjb2RlIGFib3ZlIGhhcyBiZWVuIGRlYWQgY29kZSBlbGltaW5hdGVkIChEQ0UnZCkuXG4gICAgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLmNoZWNrRENFKGNoZWNrRENFKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy8gRGV2VG9vbHMgc2hvdWxkbid0IGNyYXNoIFJlYWN0LCBubyBtYXR0ZXIgd2hhdC5cbiAgICAvLyBXZSBzaG91bGQgc3RpbGwgcmVwb3J0IGluIGNhc2Ugd2UgYnJlYWsgdGhpcyBjb2RlLlxuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgfVxufVxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBEQ0UgY2hlY2sgc2hvdWxkIGhhcHBlbiBiZWZvcmUgUmVhY3RET00gYnVuZGxlIGV4ZWN1dGVzIHNvIHRoYXRcbiAgLy8gRGV2VG9vbHMgY2FuIHJlcG9ydCBiYWQgbWluaWZpY2F0aW9uIGR1cmluZyBpbmplY3Rpb24uXG4gIGNoZWNrRENFKCk7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtZG9tLnByb2R1Y3Rpb24uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtZG9tLmRldmVsb3BtZW50LmpzJyk7XG59XG4iLAogICAgIi8qKiBAbGljZW5zZSBSZWFjdCB2MTYuMTMuMVxuICogcmVhY3QtaXMuZGV2ZWxvcG1lbnQuanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cblxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIChmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuLy8gVGhlIFN5bWJvbCB1c2VkIHRvIHRhZyB0aGUgUmVhY3RFbGVtZW50LWxpa2UgdHlwZXMuIElmIHRoZXJlIGlzIG5vIG5hdGl2ZSBTeW1ib2xcbi8vIG5vciBwb2x5ZmlsbCwgdGhlbiBhIHBsYWluIG51bWJlciBpcyB1c2VkIGZvciBwZXJmb3JtYW5jZS5cbnZhciBoYXNTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5mb3I7XG52YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpIDogMHhlYWM3O1xudmFyIFJFQUNUX1BPUlRBTF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QucG9ydGFsJykgOiAweGVhY2E7XG52YXIgUkVBQ1RfRlJBR01FTlRfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmZyYWdtZW50JykgOiAweGVhY2I7XG52YXIgUkVBQ1RfU1RSSUNUX01PREVfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnN0cmljdF9tb2RlJykgOiAweGVhY2M7XG52YXIgUkVBQ1RfUFJPRklMRVJfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnByb2ZpbGVyJykgOiAweGVhZDI7XG52YXIgUkVBQ1RfUFJPVklERVJfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnByb3ZpZGVyJykgOiAweGVhY2Q7XG52YXIgUkVBQ1RfQ09OVEVYVF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuY29udGV4dCcpIDogMHhlYWNlOyAvLyBUT0RPOiBXZSBkb24ndCB1c2UgQXN5bmNNb2RlIG9yIENvbmN1cnJlbnRNb2RlIGFueW1vcmUuIFRoZXkgd2VyZSB0ZW1wb3Jhcnlcbi8vICh1bnN0YWJsZSkgQVBJcyB0aGF0IGhhdmUgYmVlbiByZW1vdmVkLiBDYW4gd2UgcmVtb3ZlIHRoZSBzeW1ib2xzP1xuXG52YXIgUkVBQ1RfQVNZTkNfTU9ERV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuYXN5bmNfbW9kZScpIDogMHhlYWNmO1xudmFyIFJFQUNUX0NPTkNVUlJFTlRfTU9ERV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuY29uY3VycmVudF9tb2RlJykgOiAweGVhY2Y7XG52YXIgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmZvcndhcmRfcmVmJykgOiAweGVhZDA7XG52YXIgUkVBQ1RfU1VTUEVOU0VfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnN1c3BlbnNlJykgOiAweGVhZDE7XG52YXIgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3Quc3VzcGVuc2VfbGlzdCcpIDogMHhlYWQ4O1xudmFyIFJFQUNUX01FTU9fVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0Lm1lbW8nKSA6IDB4ZWFkMztcbnZhciBSRUFDVF9MQVpZX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5sYXp5JykgOiAweGVhZDQ7XG52YXIgUkVBQ1RfQkxPQ0tfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmJsb2NrJykgOiAweGVhZDk7XG52YXIgUkVBQ1RfRlVOREFNRU5UQUxfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmZ1bmRhbWVudGFsJykgOiAweGVhZDU7XG52YXIgUkVBQ1RfUkVTUE9OREVSX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5yZXNwb25kZXInKSA6IDB4ZWFkNjtcbnZhciBSRUFDVF9TQ09QRV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3Quc2NvcGUnKSA6IDB4ZWFkNztcblxuZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpIHtcbiAgcmV0dXJuIHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCAvLyBOb3RlOiBpdHMgdHlwZW9mIG1pZ2h0IGJlIG90aGVyIHRoYW4gJ3N5bWJvbCcgb3IgJ251bWJlcicgaWYgaXQncyBhIHBvbHlmaWxsLlxuICB0eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX0NPTkNVUlJFTlRfTU9ERV9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1BST0ZJTEVSX1RZUEUgfHwgdHlwZSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9TVVNQRU5TRV9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSB8fCB0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gbnVsbCAmJiAodHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTEFaWV9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX01FTU9fVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9QUk9WSURFUl9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlRFWFRfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0ZVTkRBTUVOVEFMX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfUkVTUE9OREVSX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfU0NPUEVfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9CTE9DS19UWVBFKTtcbn1cblxuZnVuY3Rpb24gdHlwZU9mKG9iamVjdCkge1xuICBpZiAodHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0ICE9PSBudWxsKSB7XG4gICAgdmFyICQkdHlwZW9mID0gb2JqZWN0LiQkdHlwZW9mO1xuXG4gICAgc3dpdGNoICgkJHR5cGVvZikge1xuICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6XG4gICAgICAgIHZhciB0eXBlID0gb2JqZWN0LnR5cGU7XG5cbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgY2FzZSBSRUFDVF9BU1lOQ19NT0RFX1RZUEU6XG4gICAgICAgICAgY2FzZSBSRUFDVF9DT05DVVJSRU5UX01PREVfVFlQRTpcbiAgICAgICAgICBjYXNlIFJFQUNUX0ZSQUdNRU5UX1RZUEU6XG4gICAgICAgICAgY2FzZSBSRUFDVF9QUk9GSUxFUl9UWVBFOlxuICAgICAgICAgIGNhc2UgUkVBQ1RfU1RSSUNUX01PREVfVFlQRTpcbiAgICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gdHlwZTtcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB2YXIgJCR0eXBlb2ZUeXBlID0gdHlwZSAmJiB0eXBlLiQkdHlwZW9mO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKCQkdHlwZW9mVHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIFJFQUNUX0NPTlRFWFRfVFlQRTpcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfUFJPVklERVJfVFlQRTpcbiAgICAgICAgICAgICAgICByZXR1cm4gJCR0eXBlb2ZUeXBlO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICQkdHlwZW9mO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgcmV0dXJuICQkdHlwZW9mO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB1bmRlZmluZWQ7XG59IC8vIEFzeW5jTW9kZSBpcyBkZXByZWNhdGVkIGFsb25nIHdpdGggaXNBc3luY01vZGVcblxudmFyIEFzeW5jTW9kZSA9IFJFQUNUX0FTWU5DX01PREVfVFlQRTtcbnZhciBDb25jdXJyZW50TW9kZSA9IFJFQUNUX0NPTkNVUlJFTlRfTU9ERV9UWVBFO1xudmFyIENvbnRleHRDb25zdW1lciA9IFJFQUNUX0NPTlRFWFRfVFlQRTtcbnZhciBDb250ZXh0UHJvdmlkZXIgPSBSRUFDVF9QUk9WSURFUl9UWVBFO1xudmFyIEVsZW1lbnQgPSBSRUFDVF9FTEVNRU5UX1RZUEU7XG52YXIgRm9yd2FyZFJlZiA9IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU7XG52YXIgRnJhZ21lbnQgPSBSRUFDVF9GUkFHTUVOVF9UWVBFO1xudmFyIExhenkgPSBSRUFDVF9MQVpZX1RZUEU7XG52YXIgTWVtbyA9IFJFQUNUX01FTU9fVFlQRTtcbnZhciBQb3J0YWwgPSBSRUFDVF9QT1JUQUxfVFlQRTtcbnZhciBQcm9maWxlciA9IFJFQUNUX1BST0ZJTEVSX1RZUEU7XG52YXIgU3RyaWN0TW9kZSA9IFJFQUNUX1NUUklDVF9NT0RFX1RZUEU7XG52YXIgU3VzcGVuc2UgPSBSRUFDVF9TVVNQRU5TRV9UWVBFO1xudmFyIGhhc1dhcm5lZEFib3V0RGVwcmVjYXRlZElzQXN5bmNNb2RlID0gZmFsc2U7IC8vIEFzeW5jTW9kZSBzaG91bGQgYmUgZGVwcmVjYXRlZFxuXG5mdW5jdGlvbiBpc0FzeW5jTW9kZShvYmplY3QpIHtcbiAge1xuICAgIGlmICghaGFzV2FybmVkQWJvdXREZXByZWNhdGVkSXNBc3luY01vZGUpIHtcbiAgICAgIGhhc1dhcm5lZEFib3V0RGVwcmVjYXRlZElzQXN5bmNNb2RlID0gdHJ1ZTsgLy8gVXNpbmcgY29uc29sZVsnd2FybiddIHRvIGV2YWRlIEJhYmVsIGFuZCBFU0xpbnRcblxuICAgICAgY29uc29sZVsnd2FybiddKCdUaGUgUmVhY3RJcy5pc0FzeW5jTW9kZSgpIGFsaWFzIGhhcyBiZWVuIGRlcHJlY2F0ZWQsICcgKyAnYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBSZWFjdCAxNysuIFVwZGF0ZSB5b3VyIGNvZGUgdG8gdXNlICcgKyAnUmVhY3RJcy5pc0NvbmN1cnJlbnRNb2RlKCkgaW5zdGVhZC4gSXQgaGFzIHRoZSBleGFjdCBzYW1lIEFQSS4nKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaXNDb25jdXJyZW50TW9kZShvYmplY3QpIHx8IHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9BU1lOQ19NT0RFX1RZUEU7XG59XG5mdW5jdGlvbiBpc0NvbmN1cnJlbnRNb2RlKG9iamVjdCkge1xuICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX0NPTkNVUlJFTlRfTU9ERV9UWVBFO1xufVxuZnVuY3Rpb24gaXNDb250ZXh0Q29uc3VtZXIob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFO1xufVxuZnVuY3Rpb24gaXNDb250ZXh0UHJvdmlkZXIob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfUFJPVklERVJfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzRWxlbWVudChvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmIG9iamVjdCAhPT0gbnVsbCAmJiBvYmplY3QuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzRm9yd2FyZFJlZihvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFO1xufVxuZnVuY3Rpb24gaXNGcmFnbWVudChvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFO1xufVxuZnVuY3Rpb24gaXNMYXp5KG9iamVjdCkge1xuICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX0xBWllfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzTWVtbyhvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9NRU1PX1RZUEU7XG59XG5mdW5jdGlvbiBpc1BvcnRhbChvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9QT1JUQUxfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzUHJvZmlsZXIob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfUFJPRklMRVJfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzU3RyaWN0TW9kZShvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFO1xufVxuZnVuY3Rpb24gaXNTdXNwZW5zZShvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9TVVNQRU5TRV9UWVBFO1xufVxuXG5leHBvcnRzLkFzeW5jTW9kZSA9IEFzeW5jTW9kZTtcbmV4cG9ydHMuQ29uY3VycmVudE1vZGUgPSBDb25jdXJyZW50TW9kZTtcbmV4cG9ydHMuQ29udGV4dENvbnN1bWVyID0gQ29udGV4dENvbnN1bWVyO1xuZXhwb3J0cy5Db250ZXh0UHJvdmlkZXIgPSBDb250ZXh0UHJvdmlkZXI7XG5leHBvcnRzLkVsZW1lbnQgPSBFbGVtZW50O1xuZXhwb3J0cy5Gb3J3YXJkUmVmID0gRm9yd2FyZFJlZjtcbmV4cG9ydHMuRnJhZ21lbnQgPSBGcmFnbWVudDtcbmV4cG9ydHMuTGF6eSA9IExhenk7XG5leHBvcnRzLk1lbW8gPSBNZW1vO1xuZXhwb3J0cy5Qb3J0YWwgPSBQb3J0YWw7XG5leHBvcnRzLlByb2ZpbGVyID0gUHJvZmlsZXI7XG5leHBvcnRzLlN0cmljdE1vZGUgPSBTdHJpY3RNb2RlO1xuZXhwb3J0cy5TdXNwZW5zZSA9IFN1c3BlbnNlO1xuZXhwb3J0cy5pc0FzeW5jTW9kZSA9IGlzQXN5bmNNb2RlO1xuZXhwb3J0cy5pc0NvbmN1cnJlbnRNb2RlID0gaXNDb25jdXJyZW50TW9kZTtcbmV4cG9ydHMuaXNDb250ZXh0Q29uc3VtZXIgPSBpc0NvbnRleHRDb25zdW1lcjtcbmV4cG9ydHMuaXNDb250ZXh0UHJvdmlkZXIgPSBpc0NvbnRleHRQcm92aWRlcjtcbmV4cG9ydHMuaXNFbGVtZW50ID0gaXNFbGVtZW50O1xuZXhwb3J0cy5pc0ZvcndhcmRSZWYgPSBpc0ZvcndhcmRSZWY7XG5leHBvcnRzLmlzRnJhZ21lbnQgPSBpc0ZyYWdtZW50O1xuZXhwb3J0cy5pc0xhenkgPSBpc0xhenk7XG5leHBvcnRzLmlzTWVtbyA9IGlzTWVtbztcbmV4cG9ydHMuaXNQb3J0YWwgPSBpc1BvcnRhbDtcbmV4cG9ydHMuaXNQcm9maWxlciA9IGlzUHJvZmlsZXI7XG5leHBvcnRzLmlzU3RyaWN0TW9kZSA9IGlzU3RyaWN0TW9kZTtcbmV4cG9ydHMuaXNTdXNwZW5zZSA9IGlzU3VzcGVuc2U7XG5leHBvcnRzLmlzVmFsaWRFbGVtZW50VHlwZSA9IGlzVmFsaWRFbGVtZW50VHlwZTtcbmV4cG9ydHMudHlwZU9mID0gdHlwZU9mO1xuICB9KSgpO1xufVxuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtaXMucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtaXMuZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiIsCiAgICAiLypcbm9iamVjdC1hc3NpZ25cbihjKSBTaW5kcmUgU29yaHVzXG5AbGljZW5zZSBNSVRcbiovXG5cbid1c2Ugc3RyaWN0Jztcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgcHJvcElzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KHZhbCkge1xuXHRpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWQnKTtcblx0fVxuXG5cdHJldHVybiBPYmplY3QodmFsKTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkVXNlTmF0aXZlKCkge1xuXHR0cnkge1xuXHRcdGlmICghT2JqZWN0LmFzc2lnbikge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIERldGVjdCBidWdneSBwcm9wZXJ0eSBlbnVtZXJhdGlvbiBvcmRlciBpbiBvbGRlciBWOCB2ZXJzaW9ucy5cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTQxMThcblx0XHR2YXIgdGVzdDEgPSBuZXcgU3RyaW5nKCdhYmMnKTsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3LXdyYXBwZXJzXG5cdFx0dGVzdDFbNV0gPSAnZGUnO1xuXHRcdGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MSlbMF0gPT09ICc1Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDIgPSB7fTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcblx0XHRcdHRlc3QyWydfJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoaSldID0gaTtcblx0XHR9XG5cdFx0dmFyIG9yZGVyMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QyKS5tYXAoZnVuY3Rpb24gKG4pIHtcblx0XHRcdHJldHVybiB0ZXN0MltuXTtcblx0XHR9KTtcblx0XHRpZiAob3JkZXIyLmpvaW4oJycpICE9PSAnMDEyMzQ1Njc4OScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QzID0ge307XG5cdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAobGV0dGVyKSB7XG5cdFx0XHR0ZXN0M1tsZXR0ZXJdID0gbGV0dGVyO1xuXHRcdH0pO1xuXHRcdGlmIChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCB0ZXN0MykpLmpvaW4oJycpICE9PVxuXHRcdFx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdC8vIFdlIGRvbid0IGV4cGVjdCBhbnkgb2YgdGhlIGFib3ZlIHRvIHRocm93LCBidXQgYmV0dGVyIHRvIGJlIHNhZmUuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hvdWxkVXNlTmF0aXZlKCkgPyBPYmplY3QuYXNzaWduIDogZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG5cdHZhciBmcm9tO1xuXHR2YXIgdG8gPSB0b09iamVjdCh0YXJnZXQpO1xuXHR2YXIgc3ltYm9scztcblxuXHRmb3IgKHZhciBzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuXHRcdGZyb20gPSBPYmplY3QoYXJndW1lbnRzW3NdKTtcblxuXHRcdGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG5cdFx0XHRcdHRvW2tleV0gPSBmcm9tW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuXHRcdFx0c3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9scyhmcm9tKTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9scy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG5cdFx0XHRcdFx0dG9bc3ltYm9sc1tpXV0gPSBmcm9tW3N5bWJvbHNbaV1dO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRvO1xufTtcbiIsCiAgICAiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9ICdTRUNSRVRfRE9fTk9UX1BBU1NfVEhJU19PUl9ZT1VfV0lMTF9CRV9GSVJFRCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RQcm9wVHlwZXNTZWNyZXQ7XG4iLAogICAgIm1vZHVsZS5leHBvcnRzID0gRnVuY3Rpb24uY2FsbC5iaW5kKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkpO1xuIiwKICAgICIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHByaW50V2FybmluZyA9IGZ1bmN0aW9uKCkge307XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IHJlcXVpcmUoJy4vbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0Jyk7XG4gIHZhciBsb2dnZWRUeXBlRmFpbHVyZXMgPSB7fTtcbiAgdmFyIGhhcyA9IHJlcXVpcmUoJy4vbGliL2hhcycpO1xuXG4gIHByaW50V2FybmluZyA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICsgdGV4dDtcbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgLy8gLS0tIFdlbGNvbWUgdG8gZGVidWdnaW5nIFJlYWN0IC0tLVxuICAgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXG4gICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cbiAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9IGNhdGNoICh4KSB7IC8qKi8gfVxuICB9O1xufVxuXG4vKipcbiAqIEFzc2VydCB0aGF0IHRoZSB2YWx1ZXMgbWF0Y2ggd2l0aCB0aGUgdHlwZSBzcGVjcy5cbiAqIEVycm9yIG1lc3NhZ2VzIGFyZSBtZW1vcml6ZWQgYW5kIHdpbGwgb25seSBiZSBzaG93biBvbmNlLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSB0eXBlU3BlY3MgTWFwIG9mIG5hbWUgdG8gYSBSZWFjdFByb3BUeXBlXG4gKiBAcGFyYW0ge29iamVjdH0gdmFsdWVzIFJ1bnRpbWUgdmFsdWVzIHRoYXQgbmVlZCB0byBiZSB0eXBlLWNoZWNrZWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhdGlvbiBlLmcuIFwicHJvcFwiLCBcImNvbnRleHRcIiwgXCJjaGlsZCBjb250ZXh0XCJcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb21wb25lbnROYW1lIE5hbWUgb2YgdGhlIGNvbXBvbmVudCBmb3IgZXJyb3IgbWVzc2FnZXMuXG4gKiBAcGFyYW0gez9GdW5jdGlvbn0gZ2V0U3RhY2sgUmV0dXJucyB0aGUgY29tcG9uZW50IHN0YWNrLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY2hlY2tQcm9wVHlwZXModHlwZVNwZWNzLCB2YWx1ZXMsIGxvY2F0aW9uLCBjb21wb25lbnROYW1lLCBnZXRTdGFjaykge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGZvciAodmFyIHR5cGVTcGVjTmFtZSBpbiB0eXBlU3BlY3MpIHtcbiAgICAgIGlmIChoYXModHlwZVNwZWNzLCB0eXBlU3BlY05hbWUpKSB7XG4gICAgICAgIHZhciBlcnJvcjtcbiAgICAgICAgLy8gUHJvcCB0eXBlIHZhbGlkYXRpb24gbWF5IHRocm93LiBJbiBjYXNlIHRoZXkgZG8sIHdlIGRvbid0IHdhbnQgdG9cbiAgICAgICAgLy8gZmFpbCB0aGUgcmVuZGVyIHBoYXNlIHdoZXJlIGl0IGRpZG4ndCBmYWlsIGJlZm9yZS4gU28gd2UgbG9nIGl0LlxuICAgICAgICAvLyBBZnRlciB0aGVzZSBoYXZlIGJlZW4gY2xlYW5lZCB1cCwgd2UnbGwgbGV0IHRoZW0gdGhyb3cuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyBpcyBpbnRlbnRpb25hbGx5IGFuIGludmFyaWFudCB0aGF0IGdldHMgY2F1Z2h0LiBJdCdzIHRoZSBzYW1lXG4gICAgICAgICAgLy8gYmVoYXZpb3IgYXMgd2l0aG91dCB0aGlzIHN0YXRlbWVudCBleGNlcHQgd2l0aCBhIGJldHRlciBtZXNzYWdlLlxuICAgICAgICAgIGlmICh0eXBlb2YgdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHZhciBlcnIgPSBFcnJvcihcbiAgICAgICAgICAgICAgKGNvbXBvbmVudE5hbWUgfHwgJ1JlYWN0IGNsYXNzJykgKyAnOiAnICsgbG9jYXRpb24gKyAnIHR5cGUgYCcgKyB0eXBlU3BlY05hbWUgKyAnYCBpcyBpbnZhbGlkOyAnICtcbiAgICAgICAgICAgICAgJ2l0IG11c3QgYmUgYSBmdW5jdGlvbiwgdXN1YWxseSBmcm9tIHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZSwgYnV0IHJlY2VpdmVkIGAnICsgdHlwZW9mIHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdICsgJ2AuJyArXG4gICAgICAgICAgICAgICdUaGlzIG9mdGVuIGhhcHBlbnMgYmVjYXVzZSBvZiB0eXBvcyBzdWNoIGFzIGBQcm9wVHlwZXMuZnVuY3Rpb25gIGluc3RlYWQgb2YgYFByb3BUeXBlcy5mdW5jYC4nXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZXJyLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVycm9yID0gdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0odmFsdWVzLCB0eXBlU3BlY05hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBudWxsLCBSZWFjdFByb3BUeXBlc1NlY3JldCk7XG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgZXJyb3IgPSBleDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3IgJiYgIShlcnJvciBpbnN0YW5jZW9mIEVycm9yKSkge1xuICAgICAgICAgIHByaW50V2FybmluZyhcbiAgICAgICAgICAgIChjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycpICsgJzogdHlwZSBzcGVjaWZpY2F0aW9uIG9mICcgK1xuICAgICAgICAgICAgbG9jYXRpb24gKyAnIGAnICsgdHlwZVNwZWNOYW1lICsgJ2AgaXMgaW52YWxpZDsgdGhlIHR5cGUgY2hlY2tlciAnICtcbiAgICAgICAgICAgICdmdW5jdGlvbiBtdXN0IHJldHVybiBgbnVsbGAgb3IgYW4gYEVycm9yYCBidXQgcmV0dXJuZWQgYSAnICsgdHlwZW9mIGVycm9yICsgJy4gJyArXG4gICAgICAgICAgICAnWW91IG1heSBoYXZlIGZvcmdvdHRlbiB0byBwYXNzIGFuIGFyZ3VtZW50IHRvIHRoZSB0eXBlIGNoZWNrZXIgJyArXG4gICAgICAgICAgICAnY3JlYXRvciAoYXJyYXlPZiwgaW5zdGFuY2VPZiwgb2JqZWN0T2YsIG9uZU9mLCBvbmVPZlR5cGUsIGFuZCAnICtcbiAgICAgICAgICAgICdzaGFwZSBhbGwgcmVxdWlyZSBhbiBhcmd1bWVudCkuJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgIShlcnJvci5tZXNzYWdlIGluIGxvZ2dlZFR5cGVGYWlsdXJlcykpIHtcbiAgICAgICAgICAvLyBPbmx5IG1vbml0b3IgdGhpcyBmYWlsdXJlIG9uY2UgYmVjYXVzZSB0aGVyZSB0ZW5kcyB0byBiZSBhIGxvdCBvZiB0aGVcbiAgICAgICAgICAvLyBzYW1lIGVycm9yLlxuICAgICAgICAgIGxvZ2dlZFR5cGVGYWlsdXJlc1tlcnJvci5tZXNzYWdlXSA9IHRydWU7XG5cbiAgICAgICAgICB2YXIgc3RhY2sgPSBnZXRTdGFjayA/IGdldFN0YWNrKCkgOiAnJztcblxuICAgICAgICAgIHByaW50V2FybmluZyhcbiAgICAgICAgICAgICdGYWlsZWQgJyArIGxvY2F0aW9uICsgJyB0eXBlOiAnICsgZXJyb3IubWVzc2FnZSArIChzdGFjayAhPSBudWxsID8gc3RhY2sgOiAnJylcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogUmVzZXRzIHdhcm5pbmcgY2FjaGUgd2hlbiB0ZXN0aW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmNoZWNrUHJvcFR5cGVzLnJlc2V0V2FybmluZ0NhY2hlID0gZnVuY3Rpb24oKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgbG9nZ2VkVHlwZUZhaWx1cmVzID0ge307XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjaGVja1Byb3BUeXBlcztcbiIsCiAgICAiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdElzID0gcmVxdWlyZSgncmVhY3QtaXMnKTtcbnZhciBhc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG5cbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IHJlcXVpcmUoJy4vbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0Jyk7XG52YXIgaGFzID0gcmVxdWlyZSgnLi9saWIvaGFzJyk7XG52YXIgY2hlY2tQcm9wVHlwZXMgPSByZXF1aXJlKCcuL2NoZWNrUHJvcFR5cGVzJyk7XG5cbnZhciBwcmludFdhcm5pbmcgPSBmdW5jdGlvbigpIHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBwcmludFdhcm5pbmcgPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArIHRleHQ7XG4gICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIC8vIC0tLSBXZWxjb21lIHRvIGRlYnVnZ2luZyBSZWFjdCAtLS1cbiAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgfSBjYXRjaCAoeCkge31cbiAgfTtcbn1cblxuZnVuY3Rpb24gZW1wdHlGdW5jdGlvblRoYXRSZXR1cm5zTnVsbCgpIHtcbiAgcmV0dXJuIG51bGw7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXNWYWxpZEVsZW1lbnQsIHRocm93T25EaXJlY3RBY2Nlc3MpIHtcbiAgLyogZ2xvYmFsIFN5bWJvbCAqL1xuICB2YXIgSVRFUkFUT1JfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuaXRlcmF0b3I7XG4gIHZhciBGQVVYX0lURVJBVE9SX1NZTUJPTCA9ICdAQGl0ZXJhdG9yJzsgLy8gQmVmb3JlIFN5bWJvbCBzcGVjLlxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBpdGVyYXRvciBtZXRob2QgZnVuY3Rpb24gY29udGFpbmVkIG9uIHRoZSBpdGVyYWJsZSBvYmplY3QuXG4gICAqXG4gICAqIEJlIHN1cmUgdG8gaW52b2tlIHRoZSBmdW5jdGlvbiB3aXRoIHRoZSBpdGVyYWJsZSBhcyBjb250ZXh0OlxuICAgKlxuICAgKiAgICAgdmFyIGl0ZXJhdG9yRm4gPSBnZXRJdGVyYXRvckZuKG15SXRlcmFibGUpO1xuICAgKiAgICAgaWYgKGl0ZXJhdG9yRm4pIHtcbiAgICogICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG15SXRlcmFibGUpO1xuICAgKiAgICAgICAuLi5cbiAgICogICAgIH1cbiAgICpcbiAgICogQHBhcmFtIHs/b2JqZWN0fSBtYXliZUl0ZXJhYmxlXG4gICAqIEByZXR1cm4gez9mdW5jdGlvbn1cbiAgICovXG4gIGZ1bmN0aW9uIGdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSkge1xuICAgIHZhciBpdGVyYXRvckZuID0gbWF5YmVJdGVyYWJsZSAmJiAoSVRFUkFUT1JfU1lNQk9MICYmIG1heWJlSXRlcmFibGVbSVRFUkFUT1JfU1lNQk9MXSB8fCBtYXliZUl0ZXJhYmxlW0ZBVVhfSVRFUkFUT1JfU1lNQk9MXSk7XG4gICAgaWYgKHR5cGVvZiBpdGVyYXRvckZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gaXRlcmF0b3JGbjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29sbGVjdGlvbiBvZiBtZXRob2RzIHRoYXQgYWxsb3cgZGVjbGFyYXRpb24gYW5kIHZhbGlkYXRpb24gb2YgcHJvcHMgdGhhdCBhcmVcbiAgICogc3VwcGxpZWQgdG8gUmVhY3QgY29tcG9uZW50cy4gRXhhbXBsZSB1c2FnZTpcbiAgICpcbiAgICogICB2YXIgUHJvcHMgPSByZXF1aXJlKCdSZWFjdFByb3BUeXBlcycpO1xuICAgKiAgIHZhciBNeUFydGljbGUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAqICAgICBwcm9wVHlwZXM6IHtcbiAgICogICAgICAgLy8gQW4gb3B0aW9uYWwgc3RyaW5nIHByb3AgbmFtZWQgXCJkZXNjcmlwdGlvblwiLlxuICAgKiAgICAgICBkZXNjcmlwdGlvbjogUHJvcHMuc3RyaW5nLFxuICAgKlxuICAgKiAgICAgICAvLyBBIHJlcXVpcmVkIGVudW0gcHJvcCBuYW1lZCBcImNhdGVnb3J5XCIuXG4gICAqICAgICAgIGNhdGVnb3J5OiBQcm9wcy5vbmVPZihbJ05ld3MnLCdQaG90b3MnXSkuaXNSZXF1aXJlZCxcbiAgICpcbiAgICogICAgICAgLy8gQSBwcm9wIG5hbWVkIFwiZGlhbG9nXCIgdGhhdCByZXF1aXJlcyBhbiBpbnN0YW5jZSBvZiBEaWFsb2cuXG4gICAqICAgICAgIGRpYWxvZzogUHJvcHMuaW5zdGFuY2VPZihEaWFsb2cpLmlzUmVxdWlyZWRcbiAgICogICAgIH0sXG4gICAqICAgICByZW5kZXI6IGZ1bmN0aW9uKCkgeyAuLi4gfVxuICAgKiAgIH0pO1xuICAgKlxuICAgKiBBIG1vcmUgZm9ybWFsIHNwZWNpZmljYXRpb24gb2YgaG93IHRoZXNlIG1ldGhvZHMgYXJlIHVzZWQ6XG4gICAqXG4gICAqICAgdHlwZSA6PSBhcnJheXxib29sfGZ1bmN8b2JqZWN0fG51bWJlcnxzdHJpbmd8b25lT2YoWy4uLl0pfGluc3RhbmNlT2YoLi4uKVxuICAgKiAgIGRlY2wgOj0gUmVhY3RQcm9wVHlwZXMue3R5cGV9KC5pc1JlcXVpcmVkKT9cbiAgICpcbiAgICogRWFjaCBhbmQgZXZlcnkgZGVjbGFyYXRpb24gcHJvZHVjZXMgYSBmdW5jdGlvbiB3aXRoIHRoZSBzYW1lIHNpZ25hdHVyZS4gVGhpc1xuICAgKiBhbGxvd3MgdGhlIGNyZWF0aW9uIG9mIGN1c3RvbSB2YWxpZGF0aW9uIGZ1bmN0aW9ucy4gRm9yIGV4YW1wbGU6XG4gICAqXG4gICAqICB2YXIgTXlMaW5rID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgKiAgICBwcm9wVHlwZXM6IHtcbiAgICogICAgICAvLyBBbiBvcHRpb25hbCBzdHJpbmcgb3IgVVJJIHByb3AgbmFtZWQgXCJocmVmXCIuXG4gICAqICAgICAgaHJlZjogZnVuY3Rpb24ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAqICAgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgKiAgICAgICAgaWYgKHByb3BWYWx1ZSAhPSBudWxsICYmIHR5cGVvZiBwcm9wVmFsdWUgIT09ICdzdHJpbmcnICYmXG4gICAqICAgICAgICAgICAgIShwcm9wVmFsdWUgaW5zdGFuY2VvZiBVUkkpKSB7XG4gICAqICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoXG4gICAqICAgICAgICAgICAgJ0V4cGVjdGVkIGEgc3RyaW5nIG9yIGFuIFVSSSBmb3IgJyArIHByb3BOYW1lICsgJyBpbiAnICtcbiAgICogICAgICAgICAgICBjb21wb25lbnROYW1lXG4gICAqICAgICAgICAgICk7XG4gICAqICAgICAgICB9XG4gICAqICAgICAgfVxuICAgKiAgICB9LFxuICAgKiAgICByZW5kZXI6IGZ1bmN0aW9uKCkgey4uLn1cbiAgICogIH0pO1xuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG5cbiAgdmFyIEFOT05ZTU9VUyA9ICc8PGFub255bW91cz4+JztcblxuICAvLyBJbXBvcnRhbnQhXG4gIC8vIEtlZXAgdGhpcyBsaXN0IGluIHN5bmMgd2l0aCBwcm9kdWN0aW9uIHZlcnNpb24gaW4gYC4vZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zLmpzYC5cbiAgdmFyIFJlYWN0UHJvcFR5cGVzID0ge1xuICAgIGFycmF5OiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignYXJyYXknKSxcbiAgICBiaWdpbnQ6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdiaWdpbnQnKSxcbiAgICBib29sOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignYm9vbGVhbicpLFxuICAgIGZ1bmM6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdmdW5jdGlvbicpLFxuICAgIG51bWJlcjogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ251bWJlcicpLFxuICAgIG9iamVjdDogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ29iamVjdCcpLFxuICAgIHN0cmluZzogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ3N0cmluZycpLFxuICAgIHN5bWJvbDogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ3N5bWJvbCcpLFxuXG4gICAgYW55OiBjcmVhdGVBbnlUeXBlQ2hlY2tlcigpLFxuICAgIGFycmF5T2Y6IGNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlcixcbiAgICBlbGVtZW50OiBjcmVhdGVFbGVtZW50VHlwZUNoZWNrZXIoKSxcbiAgICBlbGVtZW50VHlwZTogY3JlYXRlRWxlbWVudFR5cGVUeXBlQ2hlY2tlcigpLFxuICAgIGluc3RhbmNlT2Y6IGNyZWF0ZUluc3RhbmNlVHlwZUNoZWNrZXIsXG4gICAgbm9kZTogY3JlYXRlTm9kZUNoZWNrZXIoKSxcbiAgICBvYmplY3RPZjogY3JlYXRlT2JqZWN0T2ZUeXBlQ2hlY2tlcixcbiAgICBvbmVPZjogY3JlYXRlRW51bVR5cGVDaGVja2VyLFxuICAgIG9uZU9mVHlwZTogY3JlYXRlVW5pb25UeXBlQ2hlY2tlcixcbiAgICBzaGFwZTogY3JlYXRlU2hhcGVUeXBlQ2hlY2tlcixcbiAgICBleGFjdDogY3JlYXRlU3RyaWN0U2hhcGVUeXBlQ2hlY2tlcixcbiAgfTtcblxuICAvKipcbiAgICogaW5saW5lZCBPYmplY3QuaXMgcG9seWZpbGwgdG8gYXZvaWQgcmVxdWlyaW5nIGNvbnN1bWVycyBzaGlwIHRoZWlyIG93blxuICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaXNcbiAgICovXG4gIC8qZXNsaW50LWRpc2FibGUgbm8tc2VsZi1jb21wYXJlKi9cbiAgZnVuY3Rpb24gaXMoeCwgeSkge1xuICAgIC8vIFNhbWVWYWx1ZSBhbGdvcml0aG1cbiAgICBpZiAoeCA9PT0geSkge1xuICAgICAgLy8gU3RlcHMgMS01LCA3LTEwXG4gICAgICAvLyBTdGVwcyA2LmItNi5lOiArMCAhPSAtMFxuICAgICAgcmV0dXJuIHggIT09IDAgfHwgMSAvIHggPT09IDEgLyB5O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTdGVwIDYuYTogTmFOID09IE5hTlxuICAgICAgcmV0dXJuIHggIT09IHggJiYgeSAhPT0geTtcbiAgICB9XG4gIH1cbiAgLyplc2xpbnQtZW5hYmxlIG5vLXNlbGYtY29tcGFyZSovXG5cbiAgLyoqXG4gICAqIFdlIHVzZSBhbiBFcnJvci1saWtlIG9iamVjdCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSBhcyBwZW9wbGUgbWF5IGNhbGxcbiAgICogUHJvcFR5cGVzIGRpcmVjdGx5IGFuZCBpbnNwZWN0IHRoZWlyIG91dHB1dC4gSG93ZXZlciwgd2UgZG9uJ3QgdXNlIHJlYWxcbiAgICogRXJyb3JzIGFueW1vcmUuIFdlIGRvbid0IGluc3BlY3QgdGhlaXIgc3RhY2sgYW55d2F5LCBhbmQgY3JlYXRpbmcgdGhlbVxuICAgKiBpcyBwcm9oaWJpdGl2ZWx5IGV4cGVuc2l2ZSBpZiB0aGV5IGFyZSBjcmVhdGVkIHRvbyBvZnRlbiwgc3VjaCBhcyB3aGF0XG4gICAqIGhhcHBlbnMgaW4gb25lT2ZUeXBlKCkgZm9yIGFueSB0eXBlIGJlZm9yZSB0aGUgb25lIHRoYXQgbWF0Y2hlZC5cbiAgICovXG4gIGZ1bmN0aW9uIFByb3BUeXBlRXJyb3IobWVzc2FnZSwgZGF0YSkge1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgdGhpcy5kYXRhID0gZGF0YSAmJiB0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcgPyBkYXRhOiB7fTtcbiAgICB0aGlzLnN0YWNrID0gJyc7XG4gIH1cbiAgLy8gTWFrZSBgaW5zdGFuY2VvZiBFcnJvcmAgc3RpbGwgd29yayBmb3IgcmV0dXJuZWQgZXJyb3JzLlxuICBQcm9wVHlwZUVycm9yLnByb3RvdHlwZSA9IEVycm9yLnByb3RvdHlwZTtcblxuICBmdW5jdGlvbiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgbWFudWFsUHJvcFR5cGVDYWxsQ2FjaGUgPSB7fTtcbiAgICAgIHZhciBtYW51YWxQcm9wVHlwZVdhcm5pbmdDb3VudCA9IDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrVHlwZShpc1JlcXVpcmVkLCBwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuICAgICAgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudE5hbWUgfHwgQU5PTllNT1VTO1xuICAgICAgcHJvcEZ1bGxOYW1lID0gcHJvcEZ1bGxOYW1lIHx8IHByb3BOYW1lO1xuXG4gICAgICBpZiAoc2VjcmV0ICE9PSBSZWFjdFByb3BUeXBlc1NlY3JldCkge1xuICAgICAgICBpZiAodGhyb3dPbkRpcmVjdEFjY2Vzcykge1xuICAgICAgICAgIC8vIE5ldyBiZWhhdmlvciBvbmx5IGZvciB1c2VycyBvZiBgcHJvcC10eXBlc2AgcGFja2FnZVxuICAgICAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoXG4gICAgICAgICAgICAnQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG4gICAgICAgICAgICAnVXNlIGBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKWAgdG8gY2FsbCB0aGVtLiAnICtcbiAgICAgICAgICAgICdSZWFkIG1vcmUgYXQgaHR0cDovL2ZiLm1lL3VzZS1jaGVjay1wcm9wLXR5cGVzJ1xuICAgICAgICAgICk7XG4gICAgICAgICAgZXJyLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgLy8gT2xkIGJlaGF2aW9yIGZvciBwZW9wbGUgdXNpbmcgUmVhY3QuUHJvcFR5cGVzXG4gICAgICAgICAgdmFyIGNhY2hlS2V5ID0gY29tcG9uZW50TmFtZSArICc6JyArIHByb3BOYW1lO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICFtYW51YWxQcm9wVHlwZUNhbGxDYWNoZVtjYWNoZUtleV0gJiZcbiAgICAgICAgICAgIC8vIEF2b2lkIHNwYW1taW5nIHRoZSBjb25zb2xlIGJlY2F1c2UgdGhleSBhcmUgb2Z0ZW4gbm90IGFjdGlvbmFibGUgZXhjZXB0IGZvciBsaWIgYXV0aG9yc1xuICAgICAgICAgICAgbWFudWFsUHJvcFR5cGVXYXJuaW5nQ291bnQgPCAzXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBwcmludFdhcm5pbmcoXG4gICAgICAgICAgICAgICdZb3UgYXJlIG1hbnVhbGx5IGNhbGxpbmcgYSBSZWFjdC5Qcm9wVHlwZXMgdmFsaWRhdGlvbiAnICtcbiAgICAgICAgICAgICAgJ2Z1bmN0aW9uIGZvciB0aGUgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBwcm9wIG9uIGAnICsgY29tcG9uZW50TmFtZSArICdgLiBUaGlzIGlzIGRlcHJlY2F0ZWQgJyArXG4gICAgICAgICAgICAgICdhbmQgd2lsbCB0aHJvdyBpbiB0aGUgc3RhbmRhbG9uZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG4gICAgICAgICAgICAgICdZb3UgbWF5IGJlIHNlZWluZyB0aGlzIHdhcm5pbmcgZHVlIHRvIGEgdGhpcmQtcGFydHkgUHJvcFR5cGVzICcgK1xuICAgICAgICAgICAgICAnbGlicmFyeS4gU2VlIGh0dHBzOi8vZmIubWUvcmVhY3Qtd2FybmluZy1kb250LWNhbGwtcHJvcHR5cGVzICcgKyAnZm9yIGRldGFpbHMuJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIG1hbnVhbFByb3BUeXBlQ2FsbENhY2hlW2NhY2hlS2V5XSA9IHRydWU7XG4gICAgICAgICAgICBtYW51YWxQcm9wVHlwZVdhcm5pbmdDb3VudCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PSBudWxsKSB7XG4gICAgICAgIGlmIChpc1JlcXVpcmVkKSB7XG4gICAgICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdUaGUgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIGlzIG1hcmtlZCBhcyByZXF1aXJlZCAnICsgKCdpbiBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgYnV0IGl0cyB2YWx1ZSBpcyBgbnVsbGAuJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ1RoZSAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2AgaXMgbWFya2VkIGFzIHJlcXVpcmVkIGluICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLCBidXQgaXRzIHZhbHVlIGlzIGB1bmRlZmluZWRgLicpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBjaGFpbmVkQ2hlY2tUeXBlID0gY2hlY2tUeXBlLmJpbmQobnVsbCwgZmFsc2UpO1xuICAgIGNoYWluZWRDaGVja1R5cGUuaXNSZXF1aXJlZCA9IGNoZWNrVHlwZS5iaW5kKG51bGwsIHRydWUpO1xuXG4gICAgcmV0dXJuIGNoYWluZWRDaGVja1R5cGU7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcihleHBlY3RlZFR5cGUpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgICBpZiAocHJvcFR5cGUgIT09IGV4cGVjdGVkVHlwZSkge1xuICAgICAgICAvLyBgcHJvcFZhbHVlYCBiZWluZyBpbnN0YW5jZSBvZiwgc2F5LCBkYXRlL3JlZ2V4cCwgcGFzcyB0aGUgJ29iamVjdCdcbiAgICAgICAgLy8gY2hlY2ssIGJ1dCB3ZSBjYW4gb2ZmZXIgYSBtb3JlIHByZWNpc2UgZXJyb3IgbWVzc2FnZSBoZXJlIHJhdGhlciB0aGFuXG4gICAgICAgIC8vICdvZiB0eXBlIGBvYmplY3RgJy5cbiAgICAgICAgdmFyIHByZWNpc2VUeXBlID0gZ2V0UHJlY2lzZVR5cGUocHJvcFZhbHVlKTtcblxuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoXG4gICAgICAgICAgJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcmVjaXNlVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCAnKSArICgnYCcgKyBleHBlY3RlZFR5cGUgKyAnYC4nKSxcbiAgICAgICAgICB7ZXhwZWN0ZWRUeXBlOiBleHBlY3RlZFR5cGV9XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUFueVR5cGVDaGVja2VyKCkge1xuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcihlbXB0eUZ1bmN0aW9uVGhhdFJldHVybnNOdWxsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlcih0eXBlQ2hlY2tlcikge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgaWYgKHR5cGVvZiB0eXBlQ2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ1Byb3BlcnR5IGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgY29tcG9uZW50IGAnICsgY29tcG9uZW50TmFtZSArICdgIGhhcyBpbnZhbGlkIFByb3BUeXBlIG5vdGF0aW9uIGluc2lkZSBhcnJheU9mLicpO1xuICAgICAgfVxuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGFuIGFycmF5LicpKTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcFZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBlcnJvciA9IHR5cGVDaGVja2VyKHByb3BWYWx1ZSwgaSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICdbJyArIGkgKyAnXScsIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlRWxlbWVudFR5cGVDaGVja2VyKCkge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIGlmICghaXNWYWxpZEVsZW1lbnQocHJvcFZhbHVlKSkge1xuICAgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhIHNpbmdsZSBSZWFjdEVsZW1lbnQuJykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50VHlwZVR5cGVDaGVja2VyKCkge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIGlmICghUmVhY3RJcy5pc1ZhbGlkRWxlbWVudFR5cGUocHJvcFZhbHVlKSkge1xuICAgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhIHNpbmdsZSBSZWFjdEVsZW1lbnQgdHlwZS4nKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlVHlwZUNoZWNrZXIoZXhwZWN0ZWRDbGFzcykge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgaWYgKCEocHJvcHNbcHJvcE5hbWVdIGluc3RhbmNlb2YgZXhwZWN0ZWRDbGFzcykpIHtcbiAgICAgICAgdmFyIGV4cGVjdGVkQ2xhc3NOYW1lID0gZXhwZWN0ZWRDbGFzcy5uYW1lIHx8IEFOT05ZTU9VUztcbiAgICAgICAgdmFyIGFjdHVhbENsYXNzTmFtZSA9IGdldENsYXNzTmFtZShwcm9wc1twcm9wTmFtZV0pO1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBhY3R1YWxDbGFzc05hbWUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgJykgKyAoJ2luc3RhbmNlIG9mIGAnICsgZXhwZWN0ZWRDbGFzc05hbWUgKyAnYC4nKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUVudW1UeXBlQ2hlY2tlcihleHBlY3RlZFZhbHVlcykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShleHBlY3RlZFZhbHVlcykpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgIHByaW50V2FybmluZyhcbiAgICAgICAgICAgICdJbnZhbGlkIGFyZ3VtZW50cyBzdXBwbGllZCB0byBvbmVPZiwgZXhwZWN0ZWQgYW4gYXJyYXksIGdvdCAnICsgYXJndW1lbnRzLmxlbmd0aCArICcgYXJndW1lbnRzLiAnICtcbiAgICAgICAgICAgICdBIGNvbW1vbiBtaXN0YWtlIGlzIHRvIHdyaXRlIG9uZU9mKHgsIHksIHopIGluc3RlYWQgb2Ygb25lT2YoW3gsIHksIHpdKS4nXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcmludFdhcm5pbmcoJ0ludmFsaWQgYXJndW1lbnQgc3VwcGxpZWQgdG8gb25lT2YsIGV4cGVjdGVkIGFuIGFycmF5LicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZW1wdHlGdW5jdGlvblRoYXRSZXR1cm5zTnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4cGVjdGVkVmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpcyhwcm9wVmFsdWUsIGV4cGVjdGVkVmFsdWVzW2ldKSkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciB2YWx1ZXNTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShleHBlY3RlZFZhbHVlcywgZnVuY3Rpb24gcmVwbGFjZXIoa2V5LCB2YWx1ZSkge1xuICAgICAgICB2YXIgdHlwZSA9IGdldFByZWNpc2VUeXBlKHZhbHVlKTtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdzeW1ib2wnKSB7XG4gICAgICAgICAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHZhbHVlIGAnICsgU3RyaW5nKHByb3BWYWx1ZSkgKyAnYCAnICsgKCdzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgb25lIG9mICcgKyB2YWx1ZXNTdHJpbmcgKyAnLicpKTtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZU9iamVjdE9mVHlwZUNoZWNrZXIodHlwZUNoZWNrZXIpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdHlwZUNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdQcm9wZXJ0eSBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIGNvbXBvbmVudCBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCBoYXMgaW52YWxpZCBQcm9wVHlwZSBub3RhdGlvbiBpbnNpZGUgb2JqZWN0T2YuJyk7XG4gICAgICB9XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgIGlmIChwcm9wVHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJvcFR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYW4gb2JqZWN0LicpKTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGtleSBpbiBwcm9wVmFsdWUpIHtcbiAgICAgICAgaWYgKGhhcyhwcm9wVmFsdWUsIGtleSkpIHtcbiAgICAgICAgICB2YXIgZXJyb3IgPSB0eXBlQ2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVVuaW9uVHlwZUNoZWNrZXIoYXJyYXlPZlR5cGVDaGVja2Vycykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShhcnJheU9mVHlwZUNoZWNrZXJzKSkge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHByaW50V2FybmluZygnSW52YWxpZCBhcmd1bWVudCBzdXBwbGllZCB0byBvbmVPZlR5cGUsIGV4cGVjdGVkIGFuIGluc3RhbmNlIG9mIGFycmF5LicpIDogdm9pZCAwO1xuICAgICAgcmV0dXJuIGVtcHR5RnVuY3Rpb25UaGF0UmV0dXJuc051bGw7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheU9mVHlwZUNoZWNrZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgY2hlY2tlciA9IGFycmF5T2ZUeXBlQ2hlY2tlcnNbaV07XG4gICAgICBpZiAodHlwZW9mIGNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcHJpbnRXYXJuaW5nKFxuICAgICAgICAgICdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mVHlwZS4gRXhwZWN0ZWQgYW4gYXJyYXkgb2YgY2hlY2sgZnVuY3Rpb25zLCBidXQgJyArXG4gICAgICAgICAgJ3JlY2VpdmVkICcgKyBnZXRQb3N0Zml4Rm9yVHlwZVdhcm5pbmcoY2hlY2tlcikgKyAnIGF0IGluZGV4ICcgKyBpICsgJy4nXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBlbXB0eUZ1bmN0aW9uVGhhdFJldHVybnNOdWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgdmFyIGV4cGVjdGVkVHlwZXMgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlPZlR5cGVDaGVja2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY2hlY2tlciA9IGFycmF5T2ZUeXBlQ2hlY2tlcnNbaV07XG4gICAgICAgIHZhciBjaGVja2VyUmVzdWx0ID0gY2hlY2tlcihwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcbiAgICAgICAgaWYgKGNoZWNrZXJSZXN1bHQgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGVja2VyUmVzdWx0LmRhdGEgJiYgaGFzKGNoZWNrZXJSZXN1bHQuZGF0YSwgJ2V4cGVjdGVkVHlwZScpKSB7XG4gICAgICAgICAgZXhwZWN0ZWRUeXBlcy5wdXNoKGNoZWNrZXJSZXN1bHQuZGF0YS5leHBlY3RlZFR5cGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgZXhwZWN0ZWRUeXBlc01lc3NhZ2UgPSAoZXhwZWN0ZWRUeXBlcy5sZW5ndGggPiAwKSA/ICcsIGV4cGVjdGVkIG9uZSBvZiB0eXBlIFsnICsgZXhwZWN0ZWRUeXBlcy5qb2luKCcsICcpICsgJ10nOiAnJztcbiAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AnICsgZXhwZWN0ZWRUeXBlc01lc3NhZ2UgKyAnLicpKTtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZU5vZGVDaGVja2VyKCkge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgaWYgKCFpc05vZGUocHJvcHNbcHJvcE5hbWVdKSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIHN1cHBsaWVkIHRvICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhIFJlYWN0Tm9kZS4nKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGludmFsaWRWYWxpZGF0b3JFcnJvcihjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBrZXksIHR5cGUpIHtcbiAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoXG4gICAgICAoY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnKSArICc6ICcgKyBsb2NhdGlvbiArICcgdHlwZSBgJyArIHByb3BGdWxsTmFtZSArICcuJyArIGtleSArICdgIGlzIGludmFsaWQ7ICcgK1xuICAgICAgJ2l0IG11c3QgYmUgYSBmdW5jdGlvbiwgdXN1YWxseSBmcm9tIHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZSwgYnV0IHJlY2VpdmVkIGAnICsgdHlwZSArICdgLidcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlU2hhcGVUeXBlQ2hlY2tlcihzaGFwZVR5cGVzKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgIGlmIChwcm9wVHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlIGAnICsgcHJvcFR5cGUgKyAnYCAnICsgKCdzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYG9iamVjdGAuJykpO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHNoYXBlVHlwZXMpIHtcbiAgICAgICAgdmFyIGNoZWNrZXIgPSBzaGFwZVR5cGVzW2tleV07XG4gICAgICAgIGlmICh0eXBlb2YgY2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJldHVybiBpbnZhbGlkVmFsaWRhdG9yRXJyb3IoY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwga2V5LCBnZXRQcmVjaXNlVHlwZShjaGVja2VyKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVycm9yID0gY2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlU3RyaWN0U2hhcGVUeXBlQ2hlY2tlcihzaGFwZVR5cGVzKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgIGlmIChwcm9wVHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlIGAnICsgcHJvcFR5cGUgKyAnYCAnICsgKCdzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYG9iamVjdGAuJykpO1xuICAgICAgfVxuICAgICAgLy8gV2UgbmVlZCB0byBjaGVjayBhbGwga2V5cyBpbiBjYXNlIHNvbWUgYXJlIHJlcXVpcmVkIGJ1dCBtaXNzaW5nIGZyb20gcHJvcHMuXG4gICAgICB2YXIgYWxsS2V5cyA9IGFzc2lnbih7fSwgcHJvcHNbcHJvcE5hbWVdLCBzaGFwZVR5cGVzKTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBhbGxLZXlzKSB7XG4gICAgICAgIHZhciBjaGVja2VyID0gc2hhcGVUeXBlc1trZXldO1xuICAgICAgICBpZiAoaGFzKHNoYXBlVHlwZXMsIGtleSkgJiYgdHlwZW9mIGNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICByZXR1cm4gaW52YWxpZFZhbGlkYXRvckVycm9yKGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIGtleSwgZ2V0UHJlY2lzZVR5cGUoY2hlY2tlcikpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY2hlY2tlcikge1xuICAgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcihcbiAgICAgICAgICAgICdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBrZXkgYCcgKyBrZXkgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYC4nICtcbiAgICAgICAgICAgICdcXG5CYWQgb2JqZWN0OiAnICsgSlNPTi5zdHJpbmdpZnkocHJvcHNbcHJvcE5hbWVdLCBudWxsLCAnICAnKSArXG4gICAgICAgICAgICAnXFxuVmFsaWQga2V5czogJyArIEpTT04uc3RyaW5naWZ5KE9iamVjdC5rZXlzKHNoYXBlVHlwZXMpLCBudWxsLCAnICAnKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVycm9yID0gY2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBpc05vZGUocHJvcFZhbHVlKSB7XG4gICAgc3dpdGNoICh0eXBlb2YgcHJvcFZhbHVlKSB7XG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgIHJldHVybiAhcHJvcFZhbHVlO1xuICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBwcm9wVmFsdWUuZXZlcnkoaXNOb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcFZhbHVlID09PSBudWxsIHx8IGlzVmFsaWRFbGVtZW50KHByb3BWYWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihwcm9wVmFsdWUpO1xuICAgICAgICBpZiAoaXRlcmF0b3JGbikge1xuICAgICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChwcm9wVmFsdWUpO1xuICAgICAgICAgIHZhciBzdGVwO1xuICAgICAgICAgIGlmIChpdGVyYXRvckZuICE9PSBwcm9wVmFsdWUuZW50cmllcykge1xuICAgICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgICBpZiAoIWlzTm9kZShzdGVwLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJdGVyYXRvciB3aWxsIHByb3ZpZGUgZW50cnkgW2ssdl0gdHVwbGVzIHJhdGhlciB0aGFuIHZhbHVlcy5cbiAgICAgICAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcbiAgICAgICAgICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc05vZGUoZW50cnlbMV0pKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlzU3ltYm9sKHByb3BUeXBlLCBwcm9wVmFsdWUpIHtcbiAgICAvLyBOYXRpdmUgU3ltYm9sLlxuICAgIGlmIChwcm9wVHlwZSA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIGZhbHN5IHZhbHVlIGNhbid0IGJlIGEgU3ltYm9sXG4gICAgaWYgKCFwcm9wVmFsdWUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyAxOS40LjMuNSBTeW1ib2wucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddID09PSAnU3ltYm9sJ1xuICAgIGlmIChwcm9wVmFsdWVbJ0BAdG9TdHJpbmdUYWcnXSA9PT0gJ1N5bWJvbCcpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIEZhbGxiYWNrIGZvciBub24tc3BlYyBjb21wbGlhbnQgU3ltYm9scyB3aGljaCBhcmUgcG9seWZpbGxlZC5cbiAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBwcm9wVmFsdWUgaW5zdGFuY2VvZiBTeW1ib2wpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIEVxdWl2YWxlbnQgb2YgYHR5cGVvZmAgYnV0IHdpdGggc3BlY2lhbCBoYW5kbGluZyBmb3IgYXJyYXkgYW5kIHJlZ2V4cC5cbiAgZnVuY3Rpb24gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKSB7XG4gICAgdmFyIHByb3BUeXBlID0gdHlwZW9mIHByb3BWYWx1ZTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgICByZXR1cm4gJ2FycmF5JztcbiAgICB9XG4gICAgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgLy8gT2xkIHdlYmtpdHMgKGF0IGxlYXN0IHVudGlsIEFuZHJvaWQgNC4wKSByZXR1cm4gJ2Z1bmN0aW9uJyByYXRoZXIgdGhhblxuICAgICAgLy8gJ29iamVjdCcgZm9yIHR5cGVvZiBhIFJlZ0V4cC4gV2UnbGwgbm9ybWFsaXplIHRoaXMgaGVyZSBzbyB0aGF0IC9ibGEvXG4gICAgICAvLyBwYXNzZXMgUHJvcFR5cGVzLm9iamVjdC5cbiAgICAgIHJldHVybiAnb2JqZWN0JztcbiAgICB9XG4gICAgaWYgKGlzU3ltYm9sKHByb3BUeXBlLCBwcm9wVmFsdWUpKSB7XG4gICAgICByZXR1cm4gJ3N5bWJvbCc7XG4gICAgfVxuICAgIHJldHVybiBwcm9wVHlwZTtcbiAgfVxuXG4gIC8vIFRoaXMgaGFuZGxlcyBtb3JlIHR5cGVzIHRoYW4gYGdldFByb3BUeXBlYC4gT25seSB1c2VkIGZvciBlcnJvciBtZXNzYWdlcy5cbiAgLy8gU2VlIGBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcmAuXG4gIGZ1bmN0aW9uIGdldFByZWNpc2VUeXBlKHByb3BWYWx1ZSkge1xuICAgIGlmICh0eXBlb2YgcHJvcFZhbHVlID09PSAndW5kZWZpbmVkJyB8fCBwcm9wVmFsdWUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiAnJyArIHByb3BWYWx1ZTtcbiAgICB9XG4gICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICBpZiAocHJvcFR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICByZXR1cm4gJ2RhdGUnO1xuICAgICAgfSBlbHNlIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgICAgcmV0dXJuICdyZWdleHAnO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcHJvcFR5cGU7XG4gIH1cblxuICAvLyBSZXR1cm5zIGEgc3RyaW5nIHRoYXQgaXMgcG9zdGZpeGVkIHRvIGEgd2FybmluZyBhYm91dCBhbiBpbnZhbGlkIHR5cGUuXG4gIC8vIEZvciBleGFtcGxlLCBcInVuZGVmaW5lZFwiIG9yIFwib2YgdHlwZSBhcnJheVwiXG4gIGZ1bmN0aW9uIGdldFBvc3RmaXhGb3JUeXBlV2FybmluZyh2YWx1ZSkge1xuICAgIHZhciB0eXBlID0gZ2V0UHJlY2lzZVR5cGUodmFsdWUpO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnYXJyYXknOlxuICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgcmV0dXJuICdhbiAnICsgdHlwZTtcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICBjYXNlICdyZWdleHAnOlxuICAgICAgICByZXR1cm4gJ2EgJyArIHR5cGU7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdHlwZTtcbiAgICB9XG4gIH1cblxuICAvLyBSZXR1cm5zIGNsYXNzIG5hbWUgb2YgdGhlIG9iamVjdCwgaWYgYW55LlxuICBmdW5jdGlvbiBnZXRDbGFzc05hbWUocHJvcFZhbHVlKSB7XG4gICAgaWYgKCFwcm9wVmFsdWUuY29uc3RydWN0b3IgfHwgIXByb3BWYWx1ZS5jb25zdHJ1Y3Rvci5uYW1lKSB7XG4gICAgICByZXR1cm4gQU5PTllNT1VTO1xuICAgIH1cbiAgICByZXR1cm4gcHJvcFZhbHVlLmNvbnN0cnVjdG9yLm5hbWU7XG4gIH1cblxuICBSZWFjdFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcyA9IGNoZWNrUHJvcFR5cGVzO1xuICBSZWFjdFByb3BUeXBlcy5yZXNldFdhcm5pbmdDYWNoZSA9IGNoZWNrUHJvcFR5cGVzLnJlc2V0V2FybmluZ0NhY2hlO1xuICBSZWFjdFByb3BUeXBlcy5Qcm9wVHlwZXMgPSBSZWFjdFByb3BUeXBlcztcblxuICByZXR1cm4gUmVhY3RQcm9wVHlwZXM7XG59O1xuIiwKICAgICIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhciBSZWFjdElzID0gcmVxdWlyZSgncmVhY3QtaXMnKTtcblxuICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBkZXZlbG9wbWVudCBiZWhhdmlvci5cbiAgLy8gaHR0cDovL2ZiLm1lL3Byb3AtdHlwZXMtaW4tcHJvZFxuICB2YXIgdGhyb3dPbkRpcmVjdEFjY2VzcyA9IHRydWU7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9mYWN0b3J5V2l0aFR5cGVDaGVja2VycycpKFJlYWN0SXMuaXNFbGVtZW50LCB0aHJvd09uRGlyZWN0QWNjZXNzKTtcbn0gZWxzZSB7XG4gIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IHByb2R1Y3Rpb24gYmVoYXZpb3IuXG4gIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2RcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2ZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcycpKCk7XG59XG4iLAogICAgIi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHJlYWN0LWlzLmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJlxuICAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIHR5cGVPZihvYmplY3QpIHtcbiAgICAgIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2Ygb2JqZWN0ICYmIG51bGwgIT09IG9iamVjdCkge1xuICAgICAgICB2YXIgJCR0eXBlb2YgPSBvYmplY3QuJCR0eXBlb2Y7XG4gICAgICAgIHN3aXRjaCAoJCR0eXBlb2YpIHtcbiAgICAgICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRTpcbiAgICAgICAgICAgIHN3aXRjaCAoKChvYmplY3QgPSBvYmplY3QudHlwZSksIG9iamVjdCkpIHtcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgICAgICAgICBjYXNlIFJFQUNUX1BST0ZJTEVSX1RZUEU6XG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfU1RSSUNUX01PREVfVFlQRTpcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRTpcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9WSUVXX1RSQU5TSVRJT05fVFlQRTpcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHN3aXRjaCAoKChvYmplY3QgPSBvYmplY3QgJiYgb2JqZWN0LiQkdHlwZW9mKSwgb2JqZWN0KSkge1xuICAgICAgICAgICAgICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgICAgICAgICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgICAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICAgICAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgICAgY2FzZSBSRUFDVF9DT05TVU1FUl9UWVBFOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQkdHlwZW9mO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuICQkdHlwZW9mO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QudHJhbnNpdGlvbmFsLmVsZW1lbnRcIiksXG4gICAgICBSRUFDVF9QT1JUQUxfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5wb3J0YWxcIiksXG4gICAgICBSRUFDVF9GUkFHTUVOVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmZyYWdtZW50XCIpLFxuICAgICAgUkVBQ1RfU1RSSUNUX01PREVfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdHJpY3RfbW9kZVwiKSxcbiAgICAgIFJFQUNUX1BST0ZJTEVSX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QucHJvZmlsZXJcIiksXG4gICAgICBSRUFDVF9DT05TVU1FUl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmNvbnN1bWVyXCIpLFxuICAgICAgUkVBQ1RfQ09OVEVYVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmNvbnRleHRcIiksXG4gICAgICBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmZvcndhcmRfcmVmXCIpLFxuICAgICAgUkVBQ1RfU1VTUEVOU0VfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZVwiKSxcbiAgICAgIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZV9saXN0XCIpLFxuICAgICAgUkVBQ1RfTUVNT19UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9cIiksXG4gICAgICBSRUFDVF9MQVpZX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QubGF6eVwiKSxcbiAgICAgIFJFQUNUX1ZJRVdfVFJBTlNJVElPTl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnZpZXdfdHJhbnNpdGlvblwiKSxcbiAgICAgIFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UgPSBTeW1ib2wuZm9yKFwicmVhY3QuY2xpZW50LnJlZmVyZW5jZVwiKTtcbiAgICBleHBvcnRzLkNvbnRleHRDb25zdW1lciA9IFJFQUNUX0NPTlNVTUVSX1RZUEU7XG4gICAgZXhwb3J0cy5Db250ZXh0UHJvdmlkZXIgPSBSRUFDVF9DT05URVhUX1RZUEU7XG4gICAgZXhwb3J0cy5FbGVtZW50ID0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xuICAgIGV4cG9ydHMuRm9yd2FyZFJlZiA9IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU7XG4gICAgZXhwb3J0cy5GcmFnbWVudCA9IFJFQUNUX0ZSQUdNRU5UX1RZUEU7XG4gICAgZXhwb3J0cy5MYXp5ID0gUkVBQ1RfTEFaWV9UWVBFO1xuICAgIGV4cG9ydHMuTWVtbyA9IFJFQUNUX01FTU9fVFlQRTtcbiAgICBleHBvcnRzLlBvcnRhbCA9IFJFQUNUX1BPUlRBTF9UWVBFO1xuICAgIGV4cG9ydHMuUHJvZmlsZXIgPSBSRUFDVF9QUk9GSUxFUl9UWVBFO1xuICAgIGV4cG9ydHMuU3RyaWN0TW9kZSA9IFJFQUNUX1NUUklDVF9NT0RFX1RZUEU7XG4gICAgZXhwb3J0cy5TdXNwZW5zZSA9IFJFQUNUX1NVU1BFTlNFX1RZUEU7XG4gICAgZXhwb3J0cy5TdXNwZW5zZUxpc3QgPSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU7XG4gICAgZXhwb3J0cy5pc0NvbnRleHRDb25zdW1lciA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfQ09OU1VNRVJfVFlQRTtcbiAgICB9O1xuICAgIGV4cG9ydHMuaXNDb250ZXh0UHJvdmlkZXIgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX0NPTlRFWFRfVFlQRTtcbiAgICB9O1xuICAgIGV4cG9ydHMuaXNFbGVtZW50ID0gZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIG9iamVjdCAmJlxuICAgICAgICBudWxsICE9PSBvYmplY3QgJiZcbiAgICAgICAgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEVcbiAgICAgICk7XG4gICAgfTtcbiAgICBleHBvcnRzLmlzRm9yd2FyZFJlZiA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTtcbiAgICB9O1xuICAgIGV4cG9ydHMuaXNGcmFnbWVudCA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRTtcbiAgICB9O1xuICAgIGV4cG9ydHMuaXNMYXp5ID0gZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9MQVpZX1RZUEU7XG4gICAgfTtcbiAgICBleHBvcnRzLmlzTWVtbyA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfTUVNT19UWVBFO1xuICAgIH07XG4gICAgZXhwb3J0cy5pc1BvcnRhbCA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfUE9SVEFMX1RZUEU7XG4gICAgfTtcbiAgICBleHBvcnRzLmlzUHJvZmlsZXIgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX1BST0ZJTEVSX1RZUEU7XG4gICAgfTtcbiAgICBleHBvcnRzLmlzU3RyaWN0TW9kZSA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRTtcbiAgICB9O1xuICAgIGV4cG9ydHMuaXNTdXNwZW5zZSA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfU1VTUEVOU0VfVFlQRTtcbiAgICB9O1xuICAgIGV4cG9ydHMuaXNTdXNwZW5zZUxpc3QgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRTtcbiAgICB9O1xuICAgIGV4cG9ydHMuaXNWYWxpZEVsZW1lbnRUeXBlID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgIHJldHVybiBcInN0cmluZ1wiID09PSB0eXBlb2YgdHlwZSB8fFxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlIHx8XG4gICAgICAgIHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUgfHxcbiAgICAgICAgdHlwZSA9PT0gUkVBQ1RfUFJPRklMRVJfVFlQRSB8fFxuICAgICAgICB0eXBlID09PSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFIHx8XG4gICAgICAgIHR5cGUgPT09IFJFQUNUX1NVU1BFTlNFX1RZUEUgfHxcbiAgICAgICAgdHlwZSA9PT0gUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFIHx8XG4gICAgICAgIChcIm9iamVjdFwiID09PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgICAgIG51bGwgIT09IHR5cGUgJiZcbiAgICAgICAgICAodHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTEFaWV9UWVBFIHx8XG4gICAgICAgICAgICB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9NRU1PX1RZUEUgfHxcbiAgICAgICAgICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlRFWFRfVFlQRSB8fFxuICAgICAgICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OU1VNRVJfVFlQRSB8fFxuICAgICAgICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSB8fFxuICAgICAgICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSB8fFxuICAgICAgICAgICAgdm9pZCAwICE9PSB0eXBlLmdldE1vZHVsZUlkKSlcbiAgICAgICAgPyAhMFxuICAgICAgICA6ICExO1xuICAgIH07XG4gICAgZXhwb3J0cy50eXBlT2YgPSB0eXBlT2Y7XG4gIH0pKCk7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1pcy5wcm9kdWN0aW9uLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWlzLmRldmVsb3BtZW50LmpzJyk7XG59XG4iLAogICAgIi8qKiBAbGljZW5zZSBSZWFjdCB2MTYuMTMuMVxuICogcmVhY3QtaXMuZGV2ZWxvcG1lbnQuanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cblxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIChmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuLy8gVGhlIFN5bWJvbCB1c2VkIHRvIHRhZyB0aGUgUmVhY3RFbGVtZW50LWxpa2UgdHlwZXMuIElmIHRoZXJlIGlzIG5vIG5hdGl2ZSBTeW1ib2xcbi8vIG5vciBwb2x5ZmlsbCwgdGhlbiBhIHBsYWluIG51bWJlciBpcyB1c2VkIGZvciBwZXJmb3JtYW5jZS5cbnZhciBoYXNTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5mb3I7XG52YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpIDogMHhlYWM3O1xudmFyIFJFQUNUX1BPUlRBTF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QucG9ydGFsJykgOiAweGVhY2E7XG52YXIgUkVBQ1RfRlJBR01FTlRfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmZyYWdtZW50JykgOiAweGVhY2I7XG52YXIgUkVBQ1RfU1RSSUNUX01PREVfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnN0cmljdF9tb2RlJykgOiAweGVhY2M7XG52YXIgUkVBQ1RfUFJPRklMRVJfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnByb2ZpbGVyJykgOiAweGVhZDI7XG52YXIgUkVBQ1RfUFJPVklERVJfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnByb3ZpZGVyJykgOiAweGVhY2Q7XG52YXIgUkVBQ1RfQ09OVEVYVF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuY29udGV4dCcpIDogMHhlYWNlOyAvLyBUT0RPOiBXZSBkb24ndCB1c2UgQXN5bmNNb2RlIG9yIENvbmN1cnJlbnRNb2RlIGFueW1vcmUuIFRoZXkgd2VyZSB0ZW1wb3Jhcnlcbi8vICh1bnN0YWJsZSkgQVBJcyB0aGF0IGhhdmUgYmVlbiByZW1vdmVkLiBDYW4gd2UgcmVtb3ZlIHRoZSBzeW1ib2xzP1xuXG52YXIgUkVBQ1RfQVNZTkNfTU9ERV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuYXN5bmNfbW9kZScpIDogMHhlYWNmO1xudmFyIFJFQUNUX0NPTkNVUlJFTlRfTU9ERV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuY29uY3VycmVudF9tb2RlJykgOiAweGVhY2Y7XG52YXIgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmZvcndhcmRfcmVmJykgOiAweGVhZDA7XG52YXIgUkVBQ1RfU1VTUEVOU0VfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnN1c3BlbnNlJykgOiAweGVhZDE7XG52YXIgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3Quc3VzcGVuc2VfbGlzdCcpIDogMHhlYWQ4O1xudmFyIFJFQUNUX01FTU9fVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0Lm1lbW8nKSA6IDB4ZWFkMztcbnZhciBSRUFDVF9MQVpZX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5sYXp5JykgOiAweGVhZDQ7XG52YXIgUkVBQ1RfQkxPQ0tfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmJsb2NrJykgOiAweGVhZDk7XG52YXIgUkVBQ1RfRlVOREFNRU5UQUxfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmZ1bmRhbWVudGFsJykgOiAweGVhZDU7XG52YXIgUkVBQ1RfUkVTUE9OREVSX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5yZXNwb25kZXInKSA6IDB4ZWFkNjtcbnZhciBSRUFDVF9TQ09QRV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3Quc2NvcGUnKSA6IDB4ZWFkNztcblxuZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpIHtcbiAgcmV0dXJuIHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCAvLyBOb3RlOiBpdHMgdHlwZW9mIG1pZ2h0IGJlIG90aGVyIHRoYW4gJ3N5bWJvbCcgb3IgJ251bWJlcicgaWYgaXQncyBhIHBvbHlmaWxsLlxuICB0eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX0NPTkNVUlJFTlRfTU9ERV9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1BST0ZJTEVSX1RZUEUgfHwgdHlwZSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9TVVNQRU5TRV9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSB8fCB0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gbnVsbCAmJiAodHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTEFaWV9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX01FTU9fVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9QUk9WSURFUl9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlRFWFRfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0ZVTkRBTUVOVEFMX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfUkVTUE9OREVSX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfU0NPUEVfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9CTE9DS19UWVBFKTtcbn1cblxuZnVuY3Rpb24gdHlwZU9mKG9iamVjdCkge1xuICBpZiAodHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0ICE9PSBudWxsKSB7XG4gICAgdmFyICQkdHlwZW9mID0gb2JqZWN0LiQkdHlwZW9mO1xuXG4gICAgc3dpdGNoICgkJHR5cGVvZikge1xuICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6XG4gICAgICAgIHZhciB0eXBlID0gb2JqZWN0LnR5cGU7XG5cbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgY2FzZSBSRUFDVF9BU1lOQ19NT0RFX1RZUEU6XG4gICAgICAgICAgY2FzZSBSRUFDVF9DT05DVVJSRU5UX01PREVfVFlQRTpcbiAgICAgICAgICBjYXNlIFJFQUNUX0ZSQUdNRU5UX1RZUEU6XG4gICAgICAgICAgY2FzZSBSRUFDVF9QUk9GSUxFUl9UWVBFOlxuICAgICAgICAgIGNhc2UgUkVBQ1RfU1RSSUNUX01PREVfVFlQRTpcbiAgICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gdHlwZTtcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB2YXIgJCR0eXBlb2ZUeXBlID0gdHlwZSAmJiB0eXBlLiQkdHlwZW9mO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKCQkdHlwZW9mVHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIFJFQUNUX0NPTlRFWFRfVFlQRTpcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfUFJPVklERVJfVFlQRTpcbiAgICAgICAgICAgICAgICByZXR1cm4gJCR0eXBlb2ZUeXBlO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICQkdHlwZW9mO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgcmV0dXJuICQkdHlwZW9mO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB1bmRlZmluZWQ7XG59IC8vIEFzeW5jTW9kZSBpcyBkZXByZWNhdGVkIGFsb25nIHdpdGggaXNBc3luY01vZGVcblxudmFyIEFzeW5jTW9kZSA9IFJFQUNUX0FTWU5DX01PREVfVFlQRTtcbnZhciBDb25jdXJyZW50TW9kZSA9IFJFQUNUX0NPTkNVUlJFTlRfTU9ERV9UWVBFO1xudmFyIENvbnRleHRDb25zdW1lciA9IFJFQUNUX0NPTlRFWFRfVFlQRTtcbnZhciBDb250ZXh0UHJvdmlkZXIgPSBSRUFDVF9QUk9WSURFUl9UWVBFO1xudmFyIEVsZW1lbnQgPSBSRUFDVF9FTEVNRU5UX1RZUEU7XG52YXIgRm9yd2FyZFJlZiA9IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU7XG52YXIgRnJhZ21lbnQgPSBSRUFDVF9GUkFHTUVOVF9UWVBFO1xudmFyIExhenkgPSBSRUFDVF9MQVpZX1RZUEU7XG52YXIgTWVtbyA9IFJFQUNUX01FTU9fVFlQRTtcbnZhciBQb3J0YWwgPSBSRUFDVF9QT1JUQUxfVFlQRTtcbnZhciBQcm9maWxlciA9IFJFQUNUX1BST0ZJTEVSX1RZUEU7XG52YXIgU3RyaWN0TW9kZSA9IFJFQUNUX1NUUklDVF9NT0RFX1RZUEU7XG52YXIgU3VzcGVuc2UgPSBSRUFDVF9TVVNQRU5TRV9UWVBFO1xudmFyIGhhc1dhcm5lZEFib3V0RGVwcmVjYXRlZElzQXN5bmNNb2RlID0gZmFsc2U7IC8vIEFzeW5jTW9kZSBzaG91bGQgYmUgZGVwcmVjYXRlZFxuXG5mdW5jdGlvbiBpc0FzeW5jTW9kZShvYmplY3QpIHtcbiAge1xuICAgIGlmICghaGFzV2FybmVkQWJvdXREZXByZWNhdGVkSXNBc3luY01vZGUpIHtcbiAgICAgIGhhc1dhcm5lZEFib3V0RGVwcmVjYXRlZElzQXN5bmNNb2RlID0gdHJ1ZTsgLy8gVXNpbmcgY29uc29sZVsnd2FybiddIHRvIGV2YWRlIEJhYmVsIGFuZCBFU0xpbnRcblxuICAgICAgY29uc29sZVsnd2FybiddKCdUaGUgUmVhY3RJcy5pc0FzeW5jTW9kZSgpIGFsaWFzIGhhcyBiZWVuIGRlcHJlY2F0ZWQsICcgKyAnYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBSZWFjdCAxNysuIFVwZGF0ZSB5b3VyIGNvZGUgdG8gdXNlICcgKyAnUmVhY3RJcy5pc0NvbmN1cnJlbnRNb2RlKCkgaW5zdGVhZC4gSXQgaGFzIHRoZSBleGFjdCBzYW1lIEFQSS4nKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaXNDb25jdXJyZW50TW9kZShvYmplY3QpIHx8IHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9BU1lOQ19NT0RFX1RZUEU7XG59XG5mdW5jdGlvbiBpc0NvbmN1cnJlbnRNb2RlKG9iamVjdCkge1xuICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX0NPTkNVUlJFTlRfTU9ERV9UWVBFO1xufVxuZnVuY3Rpb24gaXNDb250ZXh0Q29uc3VtZXIob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFO1xufVxuZnVuY3Rpb24gaXNDb250ZXh0UHJvdmlkZXIob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfUFJPVklERVJfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzRWxlbWVudChvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmIG9iamVjdCAhPT0gbnVsbCAmJiBvYmplY3QuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzRm9yd2FyZFJlZihvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFO1xufVxuZnVuY3Rpb24gaXNGcmFnbWVudChvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFO1xufVxuZnVuY3Rpb24gaXNMYXp5KG9iamVjdCkge1xuICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX0xBWllfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzTWVtbyhvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9NRU1PX1RZUEU7XG59XG5mdW5jdGlvbiBpc1BvcnRhbChvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9QT1JUQUxfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzUHJvZmlsZXIob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfUFJPRklMRVJfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzU3RyaWN0TW9kZShvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFO1xufVxuZnVuY3Rpb24gaXNTdXNwZW5zZShvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9TVVNQRU5TRV9UWVBFO1xufVxuXG5leHBvcnRzLkFzeW5jTW9kZSA9IEFzeW5jTW9kZTtcbmV4cG9ydHMuQ29uY3VycmVudE1vZGUgPSBDb25jdXJyZW50TW9kZTtcbmV4cG9ydHMuQ29udGV4dENvbnN1bWVyID0gQ29udGV4dENvbnN1bWVyO1xuZXhwb3J0cy5Db250ZXh0UHJvdmlkZXIgPSBDb250ZXh0UHJvdmlkZXI7XG5leHBvcnRzLkVsZW1lbnQgPSBFbGVtZW50O1xuZXhwb3J0cy5Gb3J3YXJkUmVmID0gRm9yd2FyZFJlZjtcbmV4cG9ydHMuRnJhZ21lbnQgPSBGcmFnbWVudDtcbmV4cG9ydHMuTGF6eSA9IExhenk7XG5leHBvcnRzLk1lbW8gPSBNZW1vO1xuZXhwb3J0cy5Qb3J0YWwgPSBQb3J0YWw7XG5leHBvcnRzLlByb2ZpbGVyID0gUHJvZmlsZXI7XG5leHBvcnRzLlN0cmljdE1vZGUgPSBTdHJpY3RNb2RlO1xuZXhwb3J0cy5TdXNwZW5zZSA9IFN1c3BlbnNlO1xuZXhwb3J0cy5pc0FzeW5jTW9kZSA9IGlzQXN5bmNNb2RlO1xuZXhwb3J0cy5pc0NvbmN1cnJlbnRNb2RlID0gaXNDb25jdXJyZW50TW9kZTtcbmV4cG9ydHMuaXNDb250ZXh0Q29uc3VtZXIgPSBpc0NvbnRleHRDb25zdW1lcjtcbmV4cG9ydHMuaXNDb250ZXh0UHJvdmlkZXIgPSBpc0NvbnRleHRQcm92aWRlcjtcbmV4cG9ydHMuaXNFbGVtZW50ID0gaXNFbGVtZW50O1xuZXhwb3J0cy5pc0ZvcndhcmRSZWYgPSBpc0ZvcndhcmRSZWY7XG5leHBvcnRzLmlzRnJhZ21lbnQgPSBpc0ZyYWdtZW50O1xuZXhwb3J0cy5pc0xhenkgPSBpc0xhenk7XG5leHBvcnRzLmlzTWVtbyA9IGlzTWVtbztcbmV4cG9ydHMuaXNQb3J0YWwgPSBpc1BvcnRhbDtcbmV4cG9ydHMuaXNQcm9maWxlciA9IGlzUHJvZmlsZXI7XG5leHBvcnRzLmlzU3RyaWN0TW9kZSA9IGlzU3RyaWN0TW9kZTtcbmV4cG9ydHMuaXNTdXNwZW5zZSA9IGlzU3VzcGVuc2U7XG5leHBvcnRzLmlzVmFsaWRFbGVtZW50VHlwZSA9IGlzVmFsaWRFbGVtZW50VHlwZTtcbmV4cG9ydHMudHlwZU9mID0gdHlwZU9mO1xuICB9KSgpO1xufVxuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtaXMucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtaXMuZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgcmVhY3RJcyA9IHJlcXVpcmUoJ3JlYWN0LWlzJyk7XG5cbi8qKlxuICogQ29weXJpZ2h0IDIwMTUsIFlhaG9vISBJbmMuXG4gKiBDb3B5cmlnaHRzIGxpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIExpY2Vuc2UuIFNlZSB0aGUgYWNjb21wYW55aW5nIExJQ0VOU0UgZmlsZSBmb3IgdGVybXMuXG4gKi9cbnZhciBSRUFDVF9TVEFUSUNTID0ge1xuICBjaGlsZENvbnRleHRUeXBlczogdHJ1ZSxcbiAgY29udGV4dFR5cGU6IHRydWUsXG4gIGNvbnRleHRUeXBlczogdHJ1ZSxcbiAgZGVmYXVsdFByb3BzOiB0cnVlLFxuICBkaXNwbGF5TmFtZTogdHJ1ZSxcbiAgZ2V0RGVmYXVsdFByb3BzOiB0cnVlLFxuICBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3I6IHRydWUsXG4gIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wczogdHJ1ZSxcbiAgbWl4aW5zOiB0cnVlLFxuICBwcm9wVHlwZXM6IHRydWUsXG4gIHR5cGU6IHRydWVcbn07XG52YXIgS05PV05fU1RBVElDUyA9IHtcbiAgbmFtZTogdHJ1ZSxcbiAgbGVuZ3RoOiB0cnVlLFxuICBwcm90b3R5cGU6IHRydWUsXG4gIGNhbGxlcjogdHJ1ZSxcbiAgY2FsbGVlOiB0cnVlLFxuICBhcmd1bWVudHM6IHRydWUsXG4gIGFyaXR5OiB0cnVlXG59O1xudmFyIEZPUldBUkRfUkVGX1NUQVRJQ1MgPSB7XG4gICckJHR5cGVvZic6IHRydWUsXG4gIHJlbmRlcjogdHJ1ZSxcbiAgZGVmYXVsdFByb3BzOiB0cnVlLFxuICBkaXNwbGF5TmFtZTogdHJ1ZSxcbiAgcHJvcFR5cGVzOiB0cnVlXG59O1xudmFyIE1FTU9fU1RBVElDUyA9IHtcbiAgJyQkdHlwZW9mJzogdHJ1ZSxcbiAgY29tcGFyZTogdHJ1ZSxcbiAgZGVmYXVsdFByb3BzOiB0cnVlLFxuICBkaXNwbGF5TmFtZTogdHJ1ZSxcbiAgcHJvcFR5cGVzOiB0cnVlLFxuICB0eXBlOiB0cnVlXG59O1xudmFyIFRZUEVfU1RBVElDUyA9IHt9O1xuVFlQRV9TVEFUSUNTW3JlYWN0SXMuRm9yd2FyZFJlZl0gPSBGT1JXQVJEX1JFRl9TVEFUSUNTO1xuVFlQRV9TVEFUSUNTW3JlYWN0SXMuTWVtb10gPSBNRU1PX1NUQVRJQ1M7XG5cbmZ1bmN0aW9uIGdldFN0YXRpY3MoY29tcG9uZW50KSB7XG4gIC8vIFJlYWN0IHYxNi4xMSBhbmQgYmVsb3dcbiAgaWYgKHJlYWN0SXMuaXNNZW1vKGNvbXBvbmVudCkpIHtcbiAgICByZXR1cm4gTUVNT19TVEFUSUNTO1xuICB9IC8vIFJlYWN0IHYxNi4xMiBhbmQgYWJvdmVcblxuXG4gIHJldHVybiBUWVBFX1NUQVRJQ1NbY29tcG9uZW50WyckJHR5cGVvZiddXSB8fCBSRUFDVF9TVEFUSUNTO1xufVxuXG52YXIgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgZ2V0T3duUHJvcGVydHlOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO1xudmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBnZXRQcm90b3R5cGVPZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbnZhciBvYmplY3RQcm90b3R5cGUgPSBPYmplY3QucHJvdG90eXBlO1xuZnVuY3Rpb24gaG9pc3ROb25SZWFjdFN0YXRpY3ModGFyZ2V0Q29tcG9uZW50LCBzb3VyY2VDb21wb25lbnQsIGJsYWNrbGlzdCkge1xuICBpZiAodHlwZW9mIHNvdXJjZUNvbXBvbmVudCAhPT0gJ3N0cmluZycpIHtcbiAgICAvLyBkb24ndCBob2lzdCBvdmVyIHN0cmluZyAoaHRtbCkgY29tcG9uZW50c1xuICAgIGlmIChvYmplY3RQcm90b3R5cGUpIHtcbiAgICAgIHZhciBpbmhlcml0ZWRDb21wb25lbnQgPSBnZXRQcm90b3R5cGVPZihzb3VyY2VDb21wb25lbnQpO1xuXG4gICAgICBpZiAoaW5oZXJpdGVkQ29tcG9uZW50ICYmIGluaGVyaXRlZENvbXBvbmVudCAhPT0gb2JqZWN0UHJvdG90eXBlKSB7XG4gICAgICAgIGhvaXN0Tm9uUmVhY3RTdGF0aWNzKHRhcmdldENvbXBvbmVudCwgaW5oZXJpdGVkQ29tcG9uZW50LCBibGFja2xpc3QpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBrZXlzID0gZ2V0T3duUHJvcGVydHlOYW1lcyhzb3VyY2VDb21wb25lbnQpO1xuXG4gICAgaWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgICAga2V5cyA9IGtleXMuY29uY2F0KGdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2VDb21wb25lbnQpKTtcbiAgICB9XG5cbiAgICB2YXIgdGFyZ2V0U3RhdGljcyA9IGdldFN0YXRpY3ModGFyZ2V0Q29tcG9uZW50KTtcbiAgICB2YXIgc291cmNlU3RhdGljcyA9IGdldFN0YXRpY3Moc291cmNlQ29tcG9uZW50KTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG5cbiAgICAgIGlmICghS05PV05fU1RBVElDU1trZXldICYmICEoYmxhY2tsaXN0ICYmIGJsYWNrbGlzdFtrZXldKSAmJiAhKHNvdXJjZVN0YXRpY3MgJiYgc291cmNlU3RhdGljc1trZXldKSAmJiAhKHRhcmdldFN0YXRpY3MgJiYgdGFyZ2V0U3RhdGljc1trZXldKSkge1xuICAgICAgICB2YXIgZGVzY3JpcHRvciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2VDb21wb25lbnQsIGtleSk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBBdm9pZCBmYWlsdXJlcyBmcm9tIHJlYWQtb25seSBwcm9wZXJ0aWVzXG4gICAgICAgICAgZGVmaW5lUHJvcGVydHkodGFyZ2V0Q29tcG9uZW50LCBrZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXRDb21wb25lbnQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaG9pc3ROb25SZWFjdFN0YXRpY3M7XG4iLAogICAgIi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHJlYWN0LWpzeC1ydW50aW1lLmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJlxuICAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKSB7XG4gICAgICBpZiAobnVsbCA9PSB0eXBlKSByZXR1cm4gbnVsbDtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICByZXR1cm4gdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRVxuICAgICAgICAgID8gbnVsbFxuICAgICAgICAgIDogdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgbnVsbDtcbiAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdHlwZSkgcmV0dXJuIHR5cGU7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIkZyYWdtZW50XCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfUFJPRklMRVJfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJQcm9maWxlclwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3RyaWN0TW9kZVwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VMaXN0XCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfQUNUSVZJVFlfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJBY3Rpdml0eVwiO1xuICAgICAgfVxuICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICBzd2l0Y2ggKFxuICAgICAgICAgIChcIm51bWJlclwiID09PSB0eXBlb2YgdHlwZS50YWcgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVjZWl2ZWQgYW4gdW5leHBlY3RlZCBvYmplY3QgaW4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKCkuIFRoaXMgaXMgbGlrZWx5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICB0eXBlLiQkdHlwZW9mKVxuICAgICAgICApIHtcbiAgICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIFwiUG9ydGFsXCI7XG4gICAgICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gdHlwZS5kaXNwbGF5TmFtZSB8fCBcIkNvbnRleHRcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0NPTlNVTUVSX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKHR5cGUuX2NvbnRleHQuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCIpICsgXCIuQ29uc3VtZXJcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgICAgICB2YXIgaW5uZXJUeXBlID0gdHlwZS5yZW5kZXI7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5kaXNwbGF5TmFtZTtcbiAgICAgICAgICAgIHR5cGUgfHxcbiAgICAgICAgICAgICAgKCh0eXBlID0gaW5uZXJUeXBlLmRpc3BsYXlOYW1lIHx8IGlubmVyVHlwZS5uYW1lIHx8IFwiXCIpLFxuICAgICAgICAgICAgICAodHlwZSA9IFwiXCIgIT09IHR5cGUgPyBcIkZvcndhcmRSZWYoXCIgKyB0eXBlICsgXCIpXCIgOiBcIkZvcndhcmRSZWZcIikpO1xuICAgICAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAoaW5uZXJUeXBlID0gdHlwZS5kaXNwbGF5TmFtZSB8fCBudWxsKSxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gaW5uZXJUeXBlXG4gICAgICAgICAgICAgICAgPyBpbm5lclR5cGVcbiAgICAgICAgICAgICAgICA6IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8IFwiTWVtb1wiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgaW5uZXJUeXBlID0gdHlwZS5fcGF5bG9hZDtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlLl9pbml0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKGlubmVyVHlwZSkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoeCkge31cbiAgICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIFwiXCIgKyB2YWx1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tLZXlTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9ICExO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMDtcbiAgICAgIH1cbiAgICAgIGlmIChKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQpIHtcbiAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gY29uc29sZTtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfdGVtcF9jb25zdCA9IEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdC5lcnJvcjtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCRqc2NvbXAkMCA9XG4gICAgICAgICAgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFN5bWJvbCAmJlxuICAgICAgICAgICAgU3ltYm9sLnRvU3RyaW5nVGFnICYmXG4gICAgICAgICAgICB2YWx1ZVtTeW1ib2wudG9TdHJpbmdUYWddKSB8fFxuICAgICAgICAgIHZhbHVlLmNvbnN0cnVjdG9yLm5hbWUgfHxcbiAgICAgICAgICBcIk9iamVjdFwiO1xuICAgICAgICBKU0NvbXBpbGVyX3RlbXBfY29uc3QuY2FsbChcbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQsXG4gICAgICAgICAgXCJUaGUgcHJvdmlkZWQga2V5IGlzIGFuIHVuc3VwcG9ydGVkIHR5cGUgJXMuIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSB1c2luZyBpdCBoZXJlLlwiLFxuICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCRqc2NvbXAkMFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VGFza05hbWUodHlwZSkge1xuICAgICAgaWYgKHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUpIHJldHVybiBcIjw+XCI7XG4gICAgICBpZiAoXG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlICYmXG4gICAgICAgIG51bGwgIT09IHR5cGUgJiZcbiAgICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTEFaWV9UWVBFXG4gICAgICApXG4gICAgICAgIHJldHVybiBcIjwuLi4+XCI7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKTtcbiAgICAgICAgcmV0dXJuIG5hbWUgPyBcIjxcIiArIG5hbWUgKyBcIj5cIiA6IFwiPC4uLj5cIjtcbiAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgcmV0dXJuIFwiPC4uLj5cIjtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0T3duZXIoKSB7XG4gICAgICB2YXIgZGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkE7XG4gICAgICByZXR1cm4gbnVsbCA9PT0gZGlzcGF0Y2hlciA/IG51bGwgOiBkaXNwYXRjaGVyLmdldE93bmVyKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFVua25vd25Pd25lcigpIHtcbiAgICAgIHJldHVybiBFcnJvcihcInJlYWN0LXN0YWNrLXRvcC1mcmFtZVwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFzVmFsaWRLZXkoY29uZmlnKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIFwia2V5XCIpKSB7XG4gICAgICAgIHZhciBnZXR0ZXIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNvbmZpZywgXCJrZXlcIikuZ2V0O1xuICAgICAgICBpZiAoZ2V0dGVyICYmIGdldHRlci5pc1JlYWN0V2FybmluZykgcmV0dXJuICExO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gY29uZmlnLmtleTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gICAgICBmdW5jdGlvbiB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkoKSB7XG4gICAgICAgIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duIHx8XG4gICAgICAgICAgKChzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biA9ICEwKSxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlczogYGtleWAgaXMgbm90IGEgcHJvcC4gVHJ5aW5nIHRvIGFjY2VzcyBpdCB3aWxsIHJlc3VsdCBpbiBgdW5kZWZpbmVkYCBiZWluZyByZXR1cm5lZC4gSWYgeW91IG5lZWQgdG8gYWNjZXNzIHRoZSBzYW1lIHZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgcHJvcC4gKGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvc3BlY2lhbC1wcm9wcylcIixcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lXG4gICAgICAgICAgKSk7XG4gICAgICB9XG4gICAgICB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkuaXNSZWFjdFdhcm5pbmcgPSAhMDtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgXCJrZXlcIiwge1xuICAgICAgICBnZXQ6IHdhcm5BYm91dEFjY2Vzc2luZ0tleSxcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMFxuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVsZW1lbnRSZWZHZXR0ZXJXaXRoRGVwcmVjYXRpb25XYXJuaW5nKCkge1xuICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodGhpcy50eXBlKTtcbiAgICAgIGRpZFdhcm5BYm91dEVsZW1lbnRSZWZbY29tcG9uZW50TmFtZV0gfHxcbiAgICAgICAgKChkaWRXYXJuQWJvdXRFbGVtZW50UmVmW2NvbXBvbmVudE5hbWVdID0gITApLFxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiQWNjZXNzaW5nIGVsZW1lbnQucmVmIHdhcyByZW1vdmVkIGluIFJlYWN0IDE5LiByZWYgaXMgbm93IGEgcmVndWxhciBwcm9wLiBJdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgSlNYIEVsZW1lbnQgdHlwZSBpbiBhIGZ1dHVyZSByZWxlYXNlLlwiXG4gICAgICAgICkpO1xuICAgICAgY29tcG9uZW50TmFtZSA9IHRoaXMucHJvcHMucmVmO1xuICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gY29tcG9uZW50TmFtZSA/IGNvbXBvbmVudE5hbWUgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBSZWFjdEVsZW1lbnQodHlwZSwga2V5LCBwcm9wcywgb3duZXIsIGRlYnVnU3RhY2ssIGRlYnVnVGFzaykge1xuICAgICAgdmFyIHJlZlByb3AgPSBwcm9wcy5yZWY7XG4gICAgICB0eXBlID0ge1xuICAgICAgICAkJHR5cGVvZjogUkVBQ1RfRUxFTUVOVF9UWVBFLFxuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgICBfb3duZXI6IG93bmVyXG4gICAgICB9O1xuICAgICAgbnVsbCAhPT0gKHZvaWQgMCAhPT0gcmVmUHJvcCA/IHJlZlByb3AgOiBudWxsKVxuICAgICAgICA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcInJlZlwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgICAgIGdldDogZWxlbWVudFJlZkdldHRlcldpdGhEZXByZWNhdGlvbldhcm5pbmdcbiAgICAgICAgICB9KVxuICAgICAgICA6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcInJlZlwiLCB7IGVudW1lcmFibGU6ICExLCB2YWx1ZTogbnVsbCB9KTtcbiAgICAgIHR5cGUuX3N0b3JlID0ge307XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZS5fc3RvcmUsIFwidmFsaWRhdGVkXCIsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgICAgdmFsdWU6IDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwiX2RlYnVnSW5mb1wiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiBudWxsXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcIl9kZWJ1Z1N0YWNrXCIsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgICAgdmFsdWU6IGRlYnVnU3RhY2tcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwiX2RlYnVnVGFza1wiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiBkZWJ1Z1Rhc2tcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmZyZWV6ZSAmJiAoT2JqZWN0LmZyZWV6ZSh0eXBlLnByb3BzKSwgT2JqZWN0LmZyZWV6ZSh0eXBlKSk7XG4gICAgICByZXR1cm4gdHlwZTtcbiAgICB9XG4gICAgZnVuY3Rpb24ganN4REVWSW1wbChcbiAgICAgIHR5cGUsXG4gICAgICBjb25maWcsXG4gICAgICBtYXliZUtleSxcbiAgICAgIGlzU3RhdGljQ2hpbGRyZW4sXG4gICAgICBkZWJ1Z1N0YWNrLFxuICAgICAgZGVidWdUYXNrXG4gICAgKSB7XG4gICAgICB2YXIgY2hpbGRyZW4gPSBjb25maWcuY2hpbGRyZW47XG4gICAgICBpZiAodm9pZCAwICE9PSBjaGlsZHJlbilcbiAgICAgICAgaWYgKGlzU3RhdGljQ2hpbGRyZW4pXG4gICAgICAgICAgaWYgKGlzQXJyYXlJbXBsKGNoaWxkcmVuKSkge1xuICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgaXNTdGF0aWNDaGlsZHJlbiA9IDA7XG4gICAgICAgICAgICAgIGlzU3RhdGljQ2hpbGRyZW4gPCBjaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgICAgICAgIGlzU3RhdGljQ2hpbGRyZW4rK1xuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB2YWxpZGF0ZUNoaWxkS2V5cyhjaGlsZHJlbltpc1N0YXRpY0NoaWxkcmVuXSk7XG4gICAgICAgICAgICBPYmplY3QuZnJlZXplICYmIE9iamVjdC5mcmVlemUoY2hpbGRyZW4pO1xuICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJSZWFjdC5qc3g6IFN0YXRpYyBjaGlsZHJlbiBzaG91bGQgYWx3YXlzIGJlIGFuIGFycmF5LiBZb3UgYXJlIGxpa2VseSBleHBsaWNpdGx5IGNhbGxpbmcgUmVhY3QuanN4cyBvciBSZWFjdC5qc3hERVYuIFVzZSB0aGUgQmFiZWwgdHJhbnNmb3JtIGluc3RlYWQuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIGVsc2UgdmFsaWRhdGVDaGlsZEtleXMoY2hpbGRyZW4pO1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCBcImtleVwiKSkge1xuICAgICAgICBjaGlsZHJlbiA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKTtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhjb25maWcpLmZpbHRlcihmdW5jdGlvbiAoaykge1xuICAgICAgICAgIHJldHVybiBcImtleVwiICE9PSBrO1xuICAgICAgICB9KTtcbiAgICAgICAgaXNTdGF0aWNDaGlsZHJlbiA9XG4gICAgICAgICAgMCA8IGtleXMubGVuZ3RoXG4gICAgICAgICAgICA/IFwie2tleTogc29tZUtleSwgXCIgKyBrZXlzLmpvaW4oXCI6IC4uLiwgXCIpICsgXCI6IC4uLn1cIlxuICAgICAgICAgICAgOiBcIntrZXk6IHNvbWVLZXl9XCI7XG4gICAgICAgIGRpZFdhcm5BYm91dEtleVNwcmVhZFtjaGlsZHJlbiArIGlzU3RhdGljQ2hpbGRyZW5dIHx8XG4gICAgICAgICAgKChrZXlzID1cbiAgICAgICAgICAgIDAgPCBrZXlzLmxlbmd0aCA/IFwie1wiICsga2V5cy5qb2luKFwiOiAuLi4sIFwiKSArIFwiOiAuLi59XCIgOiBcInt9XCIpLFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAnQSBwcm9wcyBvYmplY3QgY29udGFpbmluZyBhIFwia2V5XCIgcHJvcCBpcyBiZWluZyBzcHJlYWQgaW50byBKU1g6XFxuICBsZXQgcHJvcHMgPSAlcztcXG4gIDwlcyB7Li4ucHJvcHN9IC8+XFxuUmVhY3Qga2V5cyBtdXN0IGJlIHBhc3NlZCBkaXJlY3RseSB0byBKU1ggd2l0aG91dCB1c2luZyBzcHJlYWQ6XFxuICBsZXQgcHJvcHMgPSAlcztcXG4gIDwlcyBrZXk9e3NvbWVLZXl9IHsuLi5wcm9wc30gLz4nLFxuICAgICAgICAgICAgaXNTdGF0aWNDaGlsZHJlbixcbiAgICAgICAgICAgIGNoaWxkcmVuLFxuICAgICAgICAgICAga2V5cyxcbiAgICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgICAgKSxcbiAgICAgICAgICAoZGlkV2FybkFib3V0S2V5U3ByZWFkW2NoaWxkcmVuICsgaXNTdGF0aWNDaGlsZHJlbl0gPSAhMCkpO1xuICAgICAgfVxuICAgICAgY2hpbGRyZW4gPSBudWxsO1xuICAgICAgdm9pZCAwICE9PSBtYXliZUtleSAmJlxuICAgICAgICAoY2hlY2tLZXlTdHJpbmdDb2VyY2lvbihtYXliZUtleSksIChjaGlsZHJlbiA9IFwiXCIgKyBtYXliZUtleSkpO1xuICAgICAgaGFzVmFsaWRLZXkoY29uZmlnKSAmJlxuICAgICAgICAoY2hlY2tLZXlTdHJpbmdDb2VyY2lvbihjb25maWcua2V5KSwgKGNoaWxkcmVuID0gXCJcIiArIGNvbmZpZy5rZXkpKTtcbiAgICAgIGlmIChcImtleVwiIGluIGNvbmZpZykge1xuICAgICAgICBtYXliZUtleSA9IHt9O1xuICAgICAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBjb25maWcpXG4gICAgICAgICAgXCJrZXlcIiAhPT0gcHJvcE5hbWUgJiYgKG1heWJlS2V5W3Byb3BOYW1lXSA9IGNvbmZpZ1twcm9wTmFtZV0pO1xuICAgICAgfSBlbHNlIG1heWJlS2V5ID0gY29uZmlnO1xuICAgICAgY2hpbGRyZW4gJiZcbiAgICAgICAgZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIoXG4gICAgICAgICAgbWF5YmVLZXksXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdHlwZVxuICAgICAgICAgICAgPyB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCBcIlVua25vd25cIlxuICAgICAgICAgICAgOiB0eXBlXG4gICAgICAgICk7XG4gICAgICByZXR1cm4gUmVhY3RFbGVtZW50KFxuICAgICAgICB0eXBlLFxuICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgbWF5YmVLZXksXG4gICAgICAgIGdldE93bmVyKCksXG4gICAgICAgIGRlYnVnU3RhY2ssXG4gICAgICAgIGRlYnVnVGFza1xuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVDaGlsZEtleXMobm9kZSkge1xuICAgICAgaXNWYWxpZEVsZW1lbnQobm9kZSlcbiAgICAgICAgPyBub2RlLl9zdG9yZSAmJiAobm9kZS5fc3RvcmUudmFsaWRhdGVkID0gMSlcbiAgICAgICAgOiBcIm9iamVjdFwiID09PSB0eXBlb2Ygbm9kZSAmJlxuICAgICAgICAgIG51bGwgIT09IG5vZGUgJiZcbiAgICAgICAgICBub2RlLiQkdHlwZW9mID09PSBSRUFDVF9MQVpZX1RZUEUgJiZcbiAgICAgICAgICAoXCJmdWxmaWxsZWRcIiA9PT0gbm9kZS5fcGF5bG9hZC5zdGF0dXNcbiAgICAgICAgICAgID8gaXNWYWxpZEVsZW1lbnQobm9kZS5fcGF5bG9hZC52YWx1ZSkgJiZcbiAgICAgICAgICAgICAgbm9kZS5fcGF5bG9hZC52YWx1ZS5fc3RvcmUgJiZcbiAgICAgICAgICAgICAgKG5vZGUuX3BheWxvYWQudmFsdWUuX3N0b3JlLnZhbGlkYXRlZCA9IDEpXG4gICAgICAgICAgICA6IG5vZGUuX3N0b3JlICYmIChub2RlLl9zdG9yZS52YWxpZGF0ZWQgPSAxKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzVmFsaWRFbGVtZW50KG9iamVjdCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIG9iamVjdCAmJlxuICAgICAgICBudWxsICE9PSBvYmplY3QgJiZcbiAgICAgICAgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEVcbiAgICAgICk7XG4gICAgfVxuICAgIHZhciBSZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKSxcbiAgICAgIFJFQUNUX0VMRU1FTlRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC50cmFuc2l0aW9uYWwuZWxlbWVudFwiKSxcbiAgICAgIFJFQUNUX1BPUlRBTF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnBvcnRhbFwiKSxcbiAgICAgIFJFQUNUX0ZSQUdNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuZnJhZ21lbnRcIiksXG4gICAgICBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnN0cmljdF9tb2RlXCIpLFxuICAgICAgUkVBQ1RfUFJPRklMRVJfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5wcm9maWxlclwiKSxcbiAgICAgIFJFQUNUX0NPTlNVTUVSX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuY29uc3VtZXJcIiksXG4gICAgICBSRUFDVF9DT05URVhUX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuY29udGV4dFwiKSxcbiAgICAgIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuZm9yd2FyZF9yZWZcIiksXG4gICAgICBSRUFDVF9TVVNQRU5TRV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlXCIpLFxuICAgICAgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlX2xpc3RcIiksXG4gICAgICBSRUFDVF9NRU1PX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb1wiKSxcbiAgICAgIFJFQUNUX0xBWllfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5sYXp5XCIpLFxuICAgICAgUkVBQ1RfQUNUSVZJVFlfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5hY3Rpdml0eVwiKSxcbiAgICAgIFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UgPSBTeW1ib2wuZm9yKFwicmVhY3QuY2xpZW50LnJlZmVyZW5jZVwiKSxcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzID1cbiAgICAgICAgUmVhY3QuX19DTElFTlRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfV0FSTl9VU0VSU19USEVZX0NBTk5PVF9VUEdSQURFLFxuICAgICAgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFxuICAgICAgaXNBcnJheUltcGwgPSBBcnJheS5pc0FycmF5LFxuICAgICAgY3JlYXRlVGFzayA9IGNvbnNvbGUuY3JlYXRlVGFza1xuICAgICAgICA/IGNvbnNvbGUuY3JlYXRlVGFza1xuICAgICAgICA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH07XG4gICAgUmVhY3QgPSB7XG4gICAgICByZWFjdF9zdGFja19ib3R0b21fZnJhbWU6IGZ1bmN0aW9uIChjYWxsU3RhY2tGb3JFcnJvcikge1xuICAgICAgICByZXR1cm4gY2FsbFN0YWNrRm9yRXJyb3IoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93bjtcbiAgICB2YXIgZGlkV2FybkFib3V0RWxlbWVudFJlZiA9IHt9O1xuICAgIHZhciB1bmtub3duT3duZXJEZWJ1Z1N0YWNrID0gUmVhY3QucmVhY3Rfc3RhY2tfYm90dG9tX2ZyYW1lLmJpbmQoXG4gICAgICBSZWFjdCxcbiAgICAgIFVua25vd25Pd25lclxuICAgICkoKTtcbiAgICB2YXIgdW5rbm93bk93bmVyRGVidWdUYXNrID0gY3JlYXRlVGFzayhnZXRUYXNrTmFtZShVbmtub3duT3duZXIpKTtcbiAgICB2YXIgZGlkV2FybkFib3V0S2V5U3ByZWFkID0ge307XG4gICAgZXhwb3J0cy5GcmFnbWVudCA9IFJFQUNUX0ZSQUdNRU5UX1RZUEU7XG4gICAgZXhwb3J0cy5qc3ggPSBmdW5jdGlvbiAodHlwZSwgY29uZmlnLCBtYXliZUtleSkge1xuICAgICAgdmFyIHRyYWNrQWN0dWFsT3duZXIgPVxuICAgICAgICAxZTQgPiBSZWFjdFNoYXJlZEludGVybmFscy5yZWNlbnRseUNyZWF0ZWRPd25lclN0YWNrcysrO1xuICAgICAgcmV0dXJuIGpzeERFVkltcGwoXG4gICAgICAgIHR5cGUsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgbWF5YmVLZXksXG4gICAgICAgICExLFxuICAgICAgICB0cmFja0FjdHVhbE93bmVyXG4gICAgICAgICAgPyBFcnJvcihcInJlYWN0LXN0YWNrLXRvcC1mcmFtZVwiKVxuICAgICAgICAgIDogdW5rbm93bk93bmVyRGVidWdTdGFjayxcbiAgICAgICAgdHJhY2tBY3R1YWxPd25lciA/IGNyZWF0ZVRhc2soZ2V0VGFza05hbWUodHlwZSkpIDogdW5rbm93bk93bmVyRGVidWdUYXNrXG4gICAgICApO1xuICAgIH07XG4gICAgZXhwb3J0cy5qc3hzID0gZnVuY3Rpb24gKHR5cGUsIGNvbmZpZywgbWF5YmVLZXkpIHtcbiAgICAgIHZhciB0cmFja0FjdHVhbE93bmVyID1cbiAgICAgICAgMWU0ID4gUmVhY3RTaGFyZWRJbnRlcm5hbHMucmVjZW50bHlDcmVhdGVkT3duZXJTdGFja3MrKztcbiAgICAgIHJldHVybiBqc3hERVZJbXBsKFxuICAgICAgICB0eXBlLFxuICAgICAgICBjb25maWcsXG4gICAgICAgIG1heWJlS2V5LFxuICAgICAgICAhMCxcbiAgICAgICAgdHJhY2tBY3R1YWxPd25lclxuICAgICAgICAgID8gRXJyb3IoXCJyZWFjdC1zdGFjay10b3AtZnJhbWVcIilcbiAgICAgICAgICA6IHVua25vd25Pd25lckRlYnVnU3RhY2ssXG4gICAgICAgIHRyYWNrQWN0dWFsT3duZXIgPyBjcmVhdGVUYXNrKGdldFRhc2tOYW1lKHR5cGUpKSA6IHVua25vd25Pd25lckRlYnVnVGFza1xuICAgICAgKTtcbiAgICB9O1xuICB9KSgpO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LXJ1bnRpbWUucHJvZHVjdGlvbi5qcycpO1xufSBlbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1qc3gtcnVudGltZS5kZXZlbG9wbWVudC5qcycpO1xufVxuIiwKICAgICIvKipcbiAqIEBsaWNlbnNlIFJlYWN0XG4gKiByZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cblwidXNlIHN0cmljdFwiO1xuXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmXG4gIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpIHtcbiAgICAgIGlmIChudWxsID09IHR5cGUpIHJldHVybiBudWxsO1xuICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHR5cGUpXG4gICAgICAgIHJldHVybiB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9DTElFTlRfUkVGRVJFTkNFXG4gICAgICAgICAgPyBudWxsXG4gICAgICAgICAgOiB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCBudWxsO1xuICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiB0eXBlKSByZXR1cm4gdHlwZTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFJFQUNUX0ZSQUdNRU5UX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiRnJhZ21lbnRcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9QUk9GSUxFUl9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlByb2ZpbGVyXCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1RSSUNUX01PREVfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJTdHJpY3RNb2RlXCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJTdXNwZW5zZVwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJTdXNwZW5zZUxpc3RcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9BQ1RJVklUWV9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIkFjdGl2aXR5XCI7XG4gICAgICB9XG4gICAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIHR5cGUpXG4gICAgICAgIHN3aXRjaCAoXG4gICAgICAgICAgKFwibnVtYmVyXCIgPT09IHR5cGVvZiB0eXBlLnRhZyAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJSZWNlaXZlZCBhbiB1bmV4cGVjdGVkIG9iamVjdCBpbiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoKS4gVGhpcyBpcyBsaWtlbHkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgICApLFxuICAgICAgICAgIHR5cGUuJCR0eXBlb2YpXG4gICAgICAgICkge1xuICAgICAgICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gXCJQb3J0YWxcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0NPTlRFWFRfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiB0eXBlLmRpc3BsYXlOYW1lIHx8IFwiQ29udGV4dFwiO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfQ09OU1VNRVJfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAodHlwZS5fY29udGV4dC5kaXNwbGF5TmFtZSB8fCBcIkNvbnRleHRcIikgKyBcIi5Db25zdW1lclwiO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTpcbiAgICAgICAgICAgIHZhciBpbm5lclR5cGUgPSB0eXBlLnJlbmRlcjtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlLmRpc3BsYXlOYW1lO1xuICAgICAgICAgICAgdHlwZSB8fFxuICAgICAgICAgICAgICAoKHR5cGUgPSBpbm5lclR5cGUuZGlzcGxheU5hbWUgfHwgaW5uZXJUeXBlLm5hbWUgfHwgXCJcIiksXG4gICAgICAgICAgICAgICh0eXBlID0gXCJcIiAhPT0gdHlwZSA/IFwiRm9yd2FyZFJlZihcIiArIHR5cGUgKyBcIilcIiA6IFwiRm9yd2FyZFJlZlwiKSk7XG4gICAgICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgICAgICBjYXNlIFJFQUNUX01FTU9fVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIChpbm5lclR5cGUgPSB0eXBlLmRpc3BsYXlOYW1lIHx8IG51bGwpLFxuICAgICAgICAgICAgICBudWxsICE9PSBpbm5lclR5cGVcbiAgICAgICAgICAgICAgICA/IGlubmVyVHlwZVxuICAgICAgICAgICAgICAgIDogZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUudHlwZSkgfHwgXCJNZW1vXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgICAgICBpbm5lclR5cGUgPSB0eXBlLl9wYXlsb2FkO1xuICAgICAgICAgICAgdHlwZSA9IHR5cGUuX2luaXQ7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICByZXR1cm4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUoaW5uZXJUeXBlKSk7XG4gICAgICAgICAgICB9IGNhdGNoICh4KSB7fVxuICAgICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gXCJcIiArIHZhbHVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja0tleVN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpO1xuICAgICAgICB2YXIgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gITE7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9ICEwO1xuICAgICAgfVxuICAgICAgaWYgKEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCkge1xuICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSBjb25zb2xlO1xuICAgICAgICB2YXIgSlNDb21waWxlcl90ZW1wX2NvbnN0ID0gSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0LmVycm9yO1xuICAgICAgICB2YXIgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0JGpzY29tcCQwID1cbiAgICAgICAgICAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgU3ltYm9sICYmXG4gICAgICAgICAgICBTeW1ib2wudG9TdHJpbmdUYWcgJiZcbiAgICAgICAgICAgIHZhbHVlW1N5bWJvbC50b1N0cmluZ1RhZ10pIHx8XG4gICAgICAgICAgdmFsdWUuY29uc3RydWN0b3IubmFtZSB8fFxuICAgICAgICAgIFwiT2JqZWN0XCI7XG4gICAgICAgIEpTQ29tcGlsZXJfdGVtcF9jb25zdC5jYWxsKFxuICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCxcbiAgICAgICAgICBcIlRoZSBwcm92aWRlZCBrZXkgaXMgYW4gdW5zdXBwb3J0ZWQgdHlwZSAlcy4gVGhpcyB2YWx1ZSBtdXN0IGJlIGNvZXJjZWQgdG8gYSBzdHJpbmcgYmVmb3JlIHVzaW5nIGl0IGhlcmUuXCIsXG4gICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0JGpzY29tcCQwXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRUYXNrTmFtZSh0eXBlKSB7XG4gICAgICBpZiAodHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSkgcmV0dXJuIFwiPD5cIjtcbiAgICAgIGlmIChcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHR5cGUgJiZcbiAgICAgICAgbnVsbCAhPT0gdHlwZSAmJlxuICAgICAgICB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9MQVpZX1RZUEVcbiAgICAgIClcbiAgICAgICAgcmV0dXJuIFwiPC4uLj5cIjtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpO1xuICAgICAgICByZXR1cm4gbmFtZSA/IFwiPFwiICsgbmFtZSArIFwiPlwiIDogXCI8Li4uPlwiO1xuICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICByZXR1cm4gXCI8Li4uPlwiO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRPd25lcigpIHtcbiAgICAgIHZhciBkaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuQTtcbiAgICAgIHJldHVybiBudWxsID09PSBkaXNwYXRjaGVyID8gbnVsbCA6IGRpc3BhdGNoZXIuZ2V0T3duZXIoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gVW5rbm93bk93bmVyKCkge1xuICAgICAgcmV0dXJuIEVycm9yKFwicmVhY3Qtc3RhY2stdG9wLWZyYW1lXCIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYXNWYWxpZEtleShjb25maWcpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgXCJrZXlcIikpIHtcbiAgICAgICAgdmFyIGdldHRlciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoY29uZmlnLCBcImtleVwiKS5nZXQ7XG4gICAgICAgIGlmIChnZXR0ZXIgJiYgZ2V0dGVyLmlzUmVhY3RXYXJuaW5nKSByZXR1cm4gITE7XG4gICAgICB9XG4gICAgICByZXR1cm4gdm9pZCAwICE9PSBjb25maWcua2V5O1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihwcm9wcywgZGlzcGxheU5hbWUpIHtcbiAgICAgIGZ1bmN0aW9uIHdhcm5BYm91dEFjY2Vzc2luZ0tleSgpIHtcbiAgICAgICAgc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24gfHxcbiAgICAgICAgICAoKHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duID0gITApLFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzOiBga2V5YCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0IGluIGB1bmRlZmluZWRgIGJlaW5nIHJldHVybmVkLiBJZiB5b3UgbmVlZCB0byBhY2Nlc3MgdGhlIHNhbWUgdmFsdWUgd2l0aGluIHRoZSBjaGlsZCBjb21wb25lbnQsIHlvdSBzaG91bGQgcGFzcyBpdCBhcyBhIGRpZmZlcmVudCBwcm9wLiAoaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9zcGVjaWFsLXByb3BzKVwiLFxuICAgICAgICAgICAgZGlzcGxheU5hbWVcbiAgICAgICAgICApKTtcbiAgICAgIH1cbiAgICAgIHdhcm5BYm91dEFjY2Vzc2luZ0tleS5pc1JlYWN0V2FybmluZyA9ICEwO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCBcImtleVwiLCB7XG4gICAgICAgIGdldDogd2FybkFib3V0QWNjZXNzaW5nS2V5LFxuICAgICAgICBjb25maWd1cmFibGU6ICEwXG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZWxlbWVudFJlZkdldHRlcldpdGhEZXByZWNhdGlvbldhcm5pbmcoKSB7XG4gICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0aGlzLnR5cGUpO1xuICAgICAgZGlkV2FybkFib3V0RWxlbWVudFJlZltjb21wb25lbnROYW1lXSB8fFxuICAgICAgICAoKGRpZFdhcm5BYm91dEVsZW1lbnRSZWZbY29tcG9uZW50TmFtZV0gPSAhMCksXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJBY2Nlc3NpbmcgZWxlbWVudC5yZWYgd2FzIHJlbW92ZWQgaW4gUmVhY3QgMTkuIHJlZiBpcyBub3cgYSByZWd1bGFyIHByb3AuIEl0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBKU1ggRWxlbWVudCB0eXBlIGluIGEgZnV0dXJlIHJlbGVhc2UuXCJcbiAgICAgICAgKSk7XG4gICAgICBjb21wb25lbnROYW1lID0gdGhpcy5wcm9wcy5yZWY7XG4gICAgICByZXR1cm4gdm9pZCAwICE9PSBjb21wb25lbnROYW1lID8gY29tcG9uZW50TmFtZSA6IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFJlYWN0RWxlbWVudCh0eXBlLCBrZXksIHByb3BzLCBvd25lciwgZGVidWdTdGFjaywgZGVidWdUYXNrKSB7XG4gICAgICB2YXIgcmVmUHJvcCA9IHByb3BzLnJlZjtcbiAgICAgIHR5cGUgPSB7XG4gICAgICAgICQkdHlwZW9mOiBSRUFDVF9FTEVNRU5UX1RZUEUsXG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIGtleToga2V5LFxuICAgICAgICBwcm9wczogcHJvcHMsXG4gICAgICAgIF9vd25lcjogb3duZXJcbiAgICAgIH07XG4gICAgICBudWxsICE9PSAodm9pZCAwICE9PSByZWZQcm9wID8gcmVmUHJvcCA6IG51bGwpXG4gICAgICAgID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwicmVmXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICAgICAgZ2V0OiBlbGVtZW50UmVmR2V0dGVyV2l0aERlcHJlY2F0aW9uV2FybmluZ1xuICAgICAgICAgIH0pXG4gICAgICAgIDogT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwicmVmXCIsIHsgZW51bWVyYWJsZTogITEsIHZhbHVlOiBudWxsIH0pO1xuICAgICAgdHlwZS5fc3RvcmUgPSB7fTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLl9zdG9yZSwgXCJ2YWxpZGF0ZWRcIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJfZGVidWdJbmZvXCIsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgICAgdmFsdWU6IG51bGxcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwiX2RlYnVnU3RhY2tcIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogZGVidWdTdGFja1xuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJfZGVidWdUYXNrXCIsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgICAgdmFsdWU6IGRlYnVnVGFza1xuICAgICAgfSk7XG4gICAgICBPYmplY3QuZnJlZXplICYmIChPYmplY3QuZnJlZXplKHR5cGUucHJvcHMpLCBPYmplY3QuZnJlZXplKHR5cGUpKTtcbiAgICAgIHJldHVybiB0eXBlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBqc3hERVZJbXBsKFxuICAgICAgdHlwZSxcbiAgICAgIGNvbmZpZyxcbiAgICAgIG1heWJlS2V5LFxuICAgICAgaXNTdGF0aWNDaGlsZHJlbixcbiAgICAgIGRlYnVnU3RhY2ssXG4gICAgICBkZWJ1Z1Rhc2tcbiAgICApIHtcbiAgICAgIHZhciBjaGlsZHJlbiA9IGNvbmZpZy5jaGlsZHJlbjtcbiAgICAgIGlmICh2b2lkIDAgIT09IGNoaWxkcmVuKVxuICAgICAgICBpZiAoaXNTdGF0aWNDaGlsZHJlbilcbiAgICAgICAgICBpZiAoaXNBcnJheUltcGwoY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICBpc1N0YXRpY0NoaWxkcmVuID0gMDtcbiAgICAgICAgICAgICAgaXNTdGF0aWNDaGlsZHJlbiA8IGNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgICAgICAgaXNTdGF0aWNDaGlsZHJlbisrXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGNoaWxkcmVuW2lzU3RhdGljQ2hpbGRyZW5dKTtcbiAgICAgICAgICAgIE9iamVjdC5mcmVlemUgJiYgT2JqZWN0LmZyZWV6ZShjaGlsZHJlbik7XG4gICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlYWN0LmpzeDogU3RhdGljIGNoaWxkcmVuIHNob3VsZCBhbHdheXMgYmUgYW4gYXJyYXkuIFlvdSBhcmUgbGlrZWx5IGV4cGxpY2l0bHkgY2FsbGluZyBSZWFjdC5qc3hzIG9yIFJlYWN0LmpzeERFVi4gVXNlIHRoZSBCYWJlbCB0cmFuc2Zvcm0gaW5zdGVhZC5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgZWxzZSB2YWxpZGF0ZUNoaWxkS2V5cyhjaGlsZHJlbik7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIFwia2V5XCIpKSB7XG4gICAgICAgIGNoaWxkcmVuID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpO1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGNvbmZpZykuZmlsdGVyKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgcmV0dXJuIFwia2V5XCIgIT09IGs7XG4gICAgICAgIH0pO1xuICAgICAgICBpc1N0YXRpY0NoaWxkcmVuID1cbiAgICAgICAgICAwIDwga2V5cy5sZW5ndGhcbiAgICAgICAgICAgID8gXCJ7a2V5OiBzb21lS2V5LCBcIiArIGtleXMuam9pbihcIjogLi4uLCBcIikgKyBcIjogLi4ufVwiXG4gICAgICAgICAgICA6IFwie2tleTogc29tZUtleX1cIjtcbiAgICAgICAgZGlkV2FybkFib3V0S2V5U3ByZWFkW2NoaWxkcmVuICsgaXNTdGF0aWNDaGlsZHJlbl0gfHxcbiAgICAgICAgICAoKGtleXMgPVxuICAgICAgICAgICAgMCA8IGtleXMubGVuZ3RoID8gXCJ7XCIgKyBrZXlzLmpvaW4oXCI6IC4uLiwgXCIpICsgXCI6IC4uLn1cIiA6IFwie31cIiksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICdBIHByb3BzIG9iamVjdCBjb250YWluaW5nIGEgXCJrZXlcIiBwcm9wIGlzIGJlaW5nIHNwcmVhZCBpbnRvIEpTWDpcXG4gIGxldCBwcm9wcyA9ICVzO1xcbiAgPCVzIHsuLi5wcm9wc30gLz5cXG5SZWFjdCBrZXlzIG11c3QgYmUgcGFzc2VkIGRpcmVjdGx5IHRvIEpTWCB3aXRob3V0IHVzaW5nIHNwcmVhZDpcXG4gIGxldCBwcm9wcyA9ICVzO1xcbiAgPCVzIGtleT17c29tZUtleX0gey4uLnByb3BzfSAvPicsXG4gICAgICAgICAgICBpc1N0YXRpY0NoaWxkcmVuLFxuICAgICAgICAgICAgY2hpbGRyZW4sXG4gICAgICAgICAgICBrZXlzLFxuICAgICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgICApLFxuICAgICAgICAgIChkaWRXYXJuQWJvdXRLZXlTcHJlYWRbY2hpbGRyZW4gKyBpc1N0YXRpY0NoaWxkcmVuXSA9ICEwKSk7XG4gICAgICB9XG4gICAgICBjaGlsZHJlbiA9IG51bGw7XG4gICAgICB2b2lkIDAgIT09IG1heWJlS2V5ICYmXG4gICAgICAgIChjaGVja0tleVN0cmluZ0NvZXJjaW9uKG1heWJlS2V5KSwgKGNoaWxkcmVuID0gXCJcIiArIG1heWJlS2V5KSk7XG4gICAgICBoYXNWYWxpZEtleShjb25maWcpICYmXG4gICAgICAgIChjaGVja0tleVN0cmluZ0NvZXJjaW9uKGNvbmZpZy5rZXkpLCAoY2hpbGRyZW4gPSBcIlwiICsgY29uZmlnLmtleSkpO1xuICAgICAgaWYgKFwia2V5XCIgaW4gY29uZmlnKSB7XG4gICAgICAgIG1heWJlS2V5ID0ge307XG4gICAgICAgIGZvciAodmFyIHByb3BOYW1lIGluIGNvbmZpZylcbiAgICAgICAgICBcImtleVwiICE9PSBwcm9wTmFtZSAmJiAobWF5YmVLZXlbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXSk7XG4gICAgICB9IGVsc2UgbWF5YmVLZXkgPSBjb25maWc7XG4gICAgICBjaGlsZHJlbiAmJlxuICAgICAgICBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihcbiAgICAgICAgICBtYXliZUtleSxcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlXG4gICAgICAgICAgICA/IHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lIHx8IFwiVW5rbm93blwiXG4gICAgICAgICAgICA6IHR5cGVcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiBSZWFjdEVsZW1lbnQoXG4gICAgICAgIHR5cGUsXG4gICAgICAgIGNoaWxkcmVuLFxuICAgICAgICBtYXliZUtleSxcbiAgICAgICAgZ2V0T3duZXIoKSxcbiAgICAgICAgZGVidWdTdGFjayxcbiAgICAgICAgZGVidWdUYXNrXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZUNoaWxkS2V5cyhub2RlKSB7XG4gICAgICBpc1ZhbGlkRWxlbWVudChub2RlKVxuICAgICAgICA/IG5vZGUuX3N0b3JlICYmIChub2RlLl9zdG9yZS52YWxpZGF0ZWQgPSAxKVxuICAgICAgICA6IFwib2JqZWN0XCIgPT09IHR5cGVvZiBub2RlICYmXG4gICAgICAgICAgbnVsbCAhPT0gbm9kZSAmJlxuICAgICAgICAgIG5vZGUuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRSAmJlxuICAgICAgICAgIChcImZ1bGZpbGxlZFwiID09PSBub2RlLl9wYXlsb2FkLnN0YXR1c1xuICAgICAgICAgICAgPyBpc1ZhbGlkRWxlbWVudChub2RlLl9wYXlsb2FkLnZhbHVlKSAmJlxuICAgICAgICAgICAgICBub2RlLl9wYXlsb2FkLnZhbHVlLl9zdG9yZSAmJlxuICAgICAgICAgICAgICAobm9kZS5fcGF5bG9hZC52YWx1ZS5fc3RvcmUudmFsaWRhdGVkID0gMSlcbiAgICAgICAgICAgIDogbm9kZS5fc3RvcmUgJiYgKG5vZGUuX3N0b3JlLnZhbGlkYXRlZCA9IDEpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnQob2JqZWN0KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2Ygb2JqZWN0ICYmXG4gICAgICAgIG51bGwgIT09IG9iamVjdCAmJlxuICAgICAgICBvYmplY3QuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRVxuICAgICAgKTtcbiAgICB9XG4gICAgdmFyIFJlYWN0ID0gcmVxdWlyZShcInJlYWN0XCIpLFxuICAgICAgUkVBQ1RfRUxFTUVOVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnRyYW5zaXRpb25hbC5lbGVtZW50XCIpLFxuICAgICAgUkVBQ1RfUE9SVEFMX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QucG9ydGFsXCIpLFxuICAgICAgUkVBQ1RfRlJBR01FTlRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKSxcbiAgICAgIFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3RyaWN0X21vZGVcIiksXG4gICAgICBSRUFDVF9QUk9GSUxFUl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnByb2ZpbGVyXCIpLFxuICAgICAgUkVBQ1RfQ09OU1VNRVJfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jb25zdW1lclwiKSxcbiAgICAgIFJFQUNUX0NPTlRFWFRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jb250ZXh0XCIpLFxuICAgICAgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5mb3J3YXJkX3JlZlwiKSxcbiAgICAgIFJFQUNUX1NVU1BFTlNFX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VcIiksXG4gICAgICBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VfbGlzdFwiKSxcbiAgICAgIFJFQUNUX01FTU9fVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vXCIpLFxuICAgICAgUkVBQ1RfTEFaWV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmxhenlcIiksXG4gICAgICBSRUFDVF9BQ1RJVklUWV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmFjdGl2aXR5XCIpLFxuICAgICAgUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jbGllbnQucmVmZXJlbmNlXCIpLFxuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMgPVxuICAgICAgICBSZWFjdC5fX0NMSUVOVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9XQVJOX1VTRVJTX1RIRVlfQ0FOTk9UX1VQR1JBREUsXG4gICAgICBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksXG4gICAgICBpc0FycmF5SW1wbCA9IEFycmF5LmlzQXJyYXksXG4gICAgICBjcmVhdGVUYXNrID0gY29uc29sZS5jcmVhdGVUYXNrXG4gICAgICAgID8gY29uc29sZS5jcmVhdGVUYXNrXG4gICAgICAgIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfTtcbiAgICBSZWFjdCA9IHtcbiAgICAgIHJlYWN0X3N0YWNrX2JvdHRvbV9mcmFtZTogZnVuY3Rpb24gKGNhbGxTdGFja0ZvckVycm9yKSB7XG4gICAgICAgIHJldHVybiBjYWxsU3RhY2tGb3JFcnJvcigpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duO1xuICAgIHZhciBkaWRXYXJuQWJvdXRFbGVtZW50UmVmID0ge307XG4gICAgdmFyIHVua25vd25Pd25lckRlYnVnU3RhY2sgPSBSZWFjdC5yZWFjdF9zdGFja19ib3R0b21fZnJhbWUuYmluZChcbiAgICAgIFJlYWN0LFxuICAgICAgVW5rbm93bk93bmVyXG4gICAgKSgpO1xuICAgIHZhciB1bmtub3duT3duZXJEZWJ1Z1Rhc2sgPSBjcmVhdGVUYXNrKGdldFRhc2tOYW1lKFVua25vd25Pd25lcikpO1xuICAgIHZhciBkaWRXYXJuQWJvdXRLZXlTcHJlYWQgPSB7fTtcbiAgICBleHBvcnRzLkZyYWdtZW50ID0gUkVBQ1RfRlJBR01FTlRfVFlQRTtcbiAgICBleHBvcnRzLmpzeERFViA9IGZ1bmN0aW9uICh0eXBlLCBjb25maWcsIG1heWJlS2V5LCBpc1N0YXRpY0NoaWxkcmVuKSB7XG4gICAgICB2YXIgdHJhY2tBY3R1YWxPd25lciA9XG4gICAgICAgIDFlNCA+IFJlYWN0U2hhcmVkSW50ZXJuYWxzLnJlY2VudGx5Q3JlYXRlZE93bmVyU3RhY2tzKys7XG4gICAgICByZXR1cm4ganN4REVWSW1wbChcbiAgICAgICAgdHlwZSxcbiAgICAgICAgY29uZmlnLFxuICAgICAgICBtYXliZUtleSxcbiAgICAgICAgaXNTdGF0aWNDaGlsZHJlbixcbiAgICAgICAgdHJhY2tBY3R1YWxPd25lclxuICAgICAgICAgID8gRXJyb3IoXCJyZWFjdC1zdGFjay10b3AtZnJhbWVcIilcbiAgICAgICAgICA6IHVua25vd25Pd25lckRlYnVnU3RhY2ssXG4gICAgICAgIHRyYWNrQWN0dWFsT3duZXIgPyBjcmVhdGVUYXNrKGdldFRhc2tOYW1lKHR5cGUpKSA6IHVua25vd25Pd25lckRlYnVnVGFza1xuICAgICAgKTtcbiAgICB9O1xuICB9KSgpO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LWRldi1ydW50aW1lLnByb2R1Y3Rpb24uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LWRldi1ydW50aW1lLmRldmVsb3BtZW50LmpzJyk7XG59XG4iLAogICAgIi8qIGdsb2JhbCBNYXA6cmVhZG9ubHksIFNldDpyZWFkb25seSwgQXJyYXlCdWZmZXI6cmVhZG9ubHkgKi9cblxudmFyIGhhc0VsZW1lbnRUeXBlID0gdHlwZW9mIEVsZW1lbnQgIT09ICd1bmRlZmluZWQnO1xudmFyIGhhc01hcCA9IHR5cGVvZiBNYXAgPT09ICdmdW5jdGlvbic7XG52YXIgaGFzU2V0ID0gdHlwZW9mIFNldCA9PT0gJ2Z1bmN0aW9uJztcbnZhciBoYXNBcnJheUJ1ZmZlciA9IHR5cGVvZiBBcnJheUJ1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJiAhIUFycmF5QnVmZmVyLmlzVmlldztcblxuLy8gTm90ZTogV2UgKipkb24ndCoqIG5lZWQgYGVudkhhc0JpZ0ludDY0QXJyYXlgIGluIGZkZSBlczYvaW5kZXguanNcblxuZnVuY3Rpb24gZXF1YWwoYSwgYikge1xuICAvLyBTVEFSVDogZmFzdC1kZWVwLWVxdWFsIGVzNi9pbmRleC5qcyAzLjEuM1xuICBpZiAoYSA9PT0gYikgcmV0dXJuIHRydWU7XG5cbiAgaWYgKGEgJiYgYiAmJiB0eXBlb2YgYSA9PSAnb2JqZWN0JyAmJiB0eXBlb2YgYiA9PSAnb2JqZWN0Jykge1xuICAgIGlmIChhLmNvbnN0cnVjdG9yICE9PSBiLmNvbnN0cnVjdG9yKSByZXR1cm4gZmFsc2U7XG5cbiAgICB2YXIgbGVuZ3RoLCBpLCBrZXlzO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGEpKSB7XG4gICAgICBsZW5ndGggPSBhLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggIT0gYi5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tICE9PSAwOylcbiAgICAgICAgaWYgKCFlcXVhbChhW2ldLCBiW2ldKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gU1RBUlQ6IE1vZGlmaWNhdGlvbnM6XG4gICAgLy8gMS4gRXh0cmEgYGhhczxUeXBlPiAmJmAgaGVscGVycyBpbiBpbml0aWFsIGNvbmRpdGlvbiBhbGxvdyBlczYgY29kZVxuICAgIC8vICAgIHRvIGNvLWV4aXN0IHdpdGggZXM1LlxuICAgIC8vIDIuIFJlcGxhY2UgYGZvciBvZmAgd2l0aCBlczUgY29tcGxpYW50IGl0ZXJhdGlvbiB1c2luZyBgZm9yYC5cbiAgICAvLyAgICBCYXNpY2FsbHksIHRha2U6XG4gICAgLy9cbiAgICAvLyAgICBgYGBqc1xuICAgIC8vICAgIGZvciAoaSBvZiBhLmVudHJpZXMoKSlcbiAgICAvLyAgICAgIGlmICghYi5oYXMoaVswXSkpIHJldHVybiBmYWxzZTtcbiAgICAvLyAgICBgYGBcbiAgICAvL1xuICAgIC8vICAgIC4uLiBhbmQgY29udmVydCB0bzpcbiAgICAvL1xuICAgIC8vICAgIGBgYGpzXG4gICAgLy8gICAgaXQgPSBhLmVudHJpZXMoKTtcbiAgICAvLyAgICB3aGlsZSAoIShpID0gaXQubmV4dCgpKS5kb25lKVxuICAgIC8vICAgICAgaWYgKCFiLmhhcyhpLnZhbHVlWzBdKSkgcmV0dXJuIGZhbHNlO1xuICAgIC8vICAgIGBgYFxuICAgIC8vXG4gICAgLy8gICAgKipOb3RlKio6IGBpYCBhY2Nlc3Mgc3dpdGNoZXMgdG8gYGkudmFsdWVgLlxuICAgIHZhciBpdDtcbiAgICBpZiAoaGFzTWFwICYmIChhIGluc3RhbmNlb2YgTWFwKSAmJiAoYiBpbnN0YW5jZW9mIE1hcCkpIHtcbiAgICAgIGlmIChhLnNpemUgIT09IGIuc2l6ZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgaXQgPSBhLmVudHJpZXMoKTtcbiAgICAgIHdoaWxlICghKGkgPSBpdC5uZXh0KCkpLmRvbmUpXG4gICAgICAgIGlmICghYi5oYXMoaS52YWx1ZVswXSkpIHJldHVybiBmYWxzZTtcbiAgICAgIGl0ID0gYS5lbnRyaWVzKCk7XG4gICAgICB3aGlsZSAoIShpID0gaXQubmV4dCgpKS5kb25lKVxuICAgICAgICBpZiAoIWVxdWFsKGkudmFsdWVbMV0sIGIuZ2V0KGkudmFsdWVbMF0pKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKGhhc1NldCAmJiAoYSBpbnN0YW5jZW9mIFNldCkgJiYgKGIgaW5zdGFuY2VvZiBTZXQpKSB7XG4gICAgICBpZiAoYS5zaXplICE9PSBiLnNpemUpIHJldHVybiBmYWxzZTtcbiAgICAgIGl0ID0gYS5lbnRyaWVzKCk7XG4gICAgICB3aGlsZSAoIShpID0gaXQubmV4dCgpKS5kb25lKVxuICAgICAgICBpZiAoIWIuaGFzKGkudmFsdWVbMF0pKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gRU5EOiBNb2RpZmljYXRpb25zXG5cbiAgICBpZiAoaGFzQXJyYXlCdWZmZXIgJiYgQXJyYXlCdWZmZXIuaXNWaWV3KGEpICYmIEFycmF5QnVmZmVyLmlzVmlldyhiKSkge1xuICAgICAgbGVuZ3RoID0gYS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoICE9IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspXG4gICAgICAgIGlmIChhW2ldICE9PSBiW2ldKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoYS5jb25zdHJ1Y3RvciA9PT0gUmVnRXhwKSByZXR1cm4gYS5zb3VyY2UgPT09IGIuc291cmNlICYmIGEuZmxhZ3MgPT09IGIuZmxhZ3M7XG4gICAgLy8gU1RBUlQ6IE1vZGlmaWNhdGlvbnM6XG4gICAgLy8gQXBwbHkgZ3VhcmRzIGZvciBgT2JqZWN0LmNyZWF0ZShudWxsKWAgaGFuZGxpbmcuIFNlZTpcbiAgICAvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9Gb3JtaWRhYmxlTGFicy9yZWFjdC1mYXN0LWNvbXBhcmUvaXNzdWVzLzY0XG4gICAgLy8gLSBodHRwczovL2dpdGh1Yi5jb20vZXBvYmVyZXpraW4vZmFzdC1kZWVwLWVxdWFsL2lzc3Vlcy80OVxuICAgIGlmIChhLnZhbHVlT2YgIT09IE9iamVjdC5wcm90b3R5cGUudmFsdWVPZiAmJiB0eXBlb2YgYS52YWx1ZU9mID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBiLnZhbHVlT2YgPT09ICdmdW5jdGlvbicpIHJldHVybiBhLnZhbHVlT2YoKSA9PT0gYi52YWx1ZU9mKCk7XG4gICAgaWYgKGEudG9TdHJpbmcgIT09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcgJiYgdHlwZW9mIGEudG9TdHJpbmcgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGIudG9TdHJpbmcgPT09ICdmdW5jdGlvbicpIHJldHVybiBhLnRvU3RyaW5nKCkgPT09IGIudG9TdHJpbmcoKTtcbiAgICAvLyBFTkQ6IE1vZGlmaWNhdGlvbnNcblxuICAgIGtleXMgPSBPYmplY3Qua2V5cyhhKTtcbiAgICBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICBpZiAobGVuZ3RoICE9PSBPYmplY3Qua2V5cyhiKS5sZW5ndGgpIHJldHVybiBmYWxzZTtcblxuICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tICE9PSAwOylcbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIGtleXNbaV0pKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gRU5EOiBmYXN0LWRlZXAtZXF1YWxcblxuICAgIC8vIFNUQVJUOiByZWFjdC1mYXN0LWNvbXBhcmVcbiAgICAvLyBjdXN0b20gaGFuZGxpbmcgZm9yIERPTSBlbGVtZW50c1xuICAgIGlmIChoYXNFbGVtZW50VHlwZSAmJiBhIGluc3RhbmNlb2YgRWxlbWVudCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgLy8gY3VzdG9tIGhhbmRsaW5nIGZvciBSZWFjdC9QcmVhY3RcbiAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspIHtcbiAgICAgIGlmICgoa2V5c1tpXSA9PT0gJ19vd25lcicgfHwga2V5c1tpXSA9PT0gJ19fdicgfHwga2V5c1tpXSA9PT0gJ19fbycpICYmIGEuJCR0eXBlb2YpIHtcbiAgICAgICAgLy8gUmVhY3Qtc3BlY2lmaWM6IGF2b2lkIHRyYXZlcnNpbmcgUmVhY3QgZWxlbWVudHMnIF9vd25lclxuICAgICAgICAvLyBQcmVhY3Qtc3BlY2lmaWM6IGF2b2lkIHRyYXZlcnNpbmcgUHJlYWN0IGVsZW1lbnRzJyBfX3YgYW5kIF9fb1xuICAgICAgICAvLyAgICBfX3YgPSAkX29yaWdpbmFsIC8gJF92bm9kZVxuICAgICAgICAvLyAgICBfX28gPSAkX293bmVyXG4gICAgICAgIC8vIFRoZXNlIHByb3BlcnRpZXMgY29udGFpbiBjaXJjdWxhciByZWZlcmVuY2VzIGFuZCBhcmUgbm90IG5lZWRlZCB3aGVuXG4gICAgICAgIC8vIGNvbXBhcmluZyB0aGUgYWN0dWFsIGVsZW1lbnRzIChhbmQgbm90IHRoZWlyIG93bmVycylcbiAgICAgICAgLy8gLiQkdHlwZW9mIGFuZCAuX3N0b3JlIG9uIGp1c3QgcmVhc29uYWJsZSBtYXJrZXJzIG9mIGVsZW1lbnRzXG5cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIGFsbCBvdGhlciBwcm9wZXJ0aWVzIHNob3VsZCBiZSB0cmF2ZXJzZWQgYXMgdXN1YWxcbiAgICAgIGlmICghZXF1YWwoYVtrZXlzW2ldXSwgYltrZXlzW2ldXSkpIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gRU5EOiByZWFjdC1mYXN0LWNvbXBhcmVcblxuICAgIC8vIFNUQVJUOiBmYXN0LWRlZXAtZXF1YWxcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBhICE9PSBhICYmIGIgIT09IGI7XG59XG4vLyBlbmQgZmFzdC1kZWVwLWVxdWFsXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNFcXVhbChhLCBiKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGVxdWFsKGEsIGIpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmICgoKGVycm9yLm1lc3NhZ2UgfHwgJycpLm1hdGNoKC9zdGFja3xyZWN1cnNpb24vaSkpKSB7XG4gICAgICAvLyB3YXJuIG9uIGNpcmN1bGFyIHJlZmVyZW5jZXMsIGRvbid0IGNyYXNoXG4gICAgICAvLyBicm93c2VycyBnaXZlIHRoaXMgZGlmZmVyZW50IGVycm9ycyBuYW1lIGFuZCBtZXNzYWdlczpcbiAgICAgIC8vIGNocm9tZS9zYWZhcmk6IFwiUmFuZ2VFcnJvclwiLCBcIk1heGltdW0gY2FsbCBzdGFjayBzaXplIGV4Y2VlZGVkXCJcbiAgICAgIC8vIGZpcmVmb3g6IFwiSW50ZXJuYWxFcnJvclwiLCB0b28gbXVjaCByZWN1cnNpb25cIlxuICAgICAgLy8gZWRnZTogXCJFcnJvclwiLCBcIk91dCBvZiBzdGFjayBzcGFjZVwiXG4gICAgICBjb25zb2xlLndhcm4oJ3JlYWN0LWZhc3QtY29tcGFyZSBjYW5ub3QgaGFuZGxlIGNpcmN1bGFyIHJlZnMnKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gc29tZSBvdGhlciBlcnJvci4gd2Ugc2hvdWxkIGRlZmluaXRlbHkga25vdyBhYm91dCB0aGVzZVxuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuIiwKICAgICIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG4gKlxuICogUHJvdmlkZSBzcHJpbnRmLXN0eWxlIGZvcm1hdCAob25seSAlcyBpcyBzdXBwb3J0ZWQpIGFuZCBhcmd1bWVudHNcbiAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuICogZXhwZWN0aW5nLlxuICpcbiAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG4gKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG4gKi9cblxudmFyIGludmFyaWFudCA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFjb25kaXRpb24pIHtcbiAgICB2YXIgZXJyb3I7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgK1xuICAgICAgICAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJnc1thcmdJbmRleCsrXTsgfSlcbiAgICAgICk7XG4gICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgIH1cblxuICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7XG4iLAogICAgIi8vXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2hhbGxvd0VxdWFsKG9iakEsIG9iakIsIGNvbXBhcmUsIGNvbXBhcmVDb250ZXh0KSB7XG4gIHZhciByZXQgPSBjb21wYXJlID8gY29tcGFyZS5jYWxsKGNvbXBhcmVDb250ZXh0LCBvYmpBLCBvYmpCKSA6IHZvaWQgMDtcblxuICBpZiAocmV0ICE9PSB2b2lkIDApIHtcbiAgICByZXR1cm4gISFyZXQ7XG4gIH1cblxuICBpZiAob2JqQSA9PT0gb2JqQikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmpBICE9PSBcIm9iamVjdFwiIHx8ICFvYmpBIHx8IHR5cGVvZiBvYmpCICE9PSBcIm9iamVjdFwiIHx8ICFvYmpCKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGtleXNBID0gT2JqZWN0LmtleXMob2JqQSk7XG4gIHZhciBrZXlzQiA9IE9iamVjdC5rZXlzKG9iakIpO1xuXG4gIGlmIChrZXlzQS5sZW5ndGggIT09IGtleXNCLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBiSGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmJpbmQob2JqQik7XG5cbiAgLy8gVGVzdCBmb3IgQSdzIGtleXMgZGlmZmVyZW50IGZyb20gQi5cbiAgZm9yICh2YXIgaWR4ID0gMDsgaWR4IDwga2V5c0EubGVuZ3RoOyBpZHgrKykge1xuICAgIHZhciBrZXkgPSBrZXlzQVtpZHhdO1xuXG4gICAgaWYgKCFiSGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciB2YWx1ZUEgPSBvYmpBW2tleV07XG4gICAgdmFyIHZhbHVlQiA9IG9iakJba2V5XTtcblxuICAgIHJldCA9IGNvbXBhcmUgPyBjb21wYXJlLmNhbGwoY29tcGFyZUNvbnRleHQsIHZhbHVlQSwgdmFsdWVCLCBrZXkpIDogdm9pZCAwO1xuXG4gICAgaWYgKHJldCA9PT0gZmFsc2UgfHwgKHJldCA9PT0gdm9pZCAwICYmIHZhbHVlQSAhPT0gdmFsdWVCKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcbiIsCiAgICAiLyoqXG4gKiByZWFjdC1yb3V0ZXIgdjcuOS41XG4gKlxuICogQ29weXJpZ2h0IChjKSBSZW1peCBTb2Z0d2FyZSBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFLm1kIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGxpY2Vuc2UgTUlUXG4gKi9cbnZhciBfX3R5cGVFcnJvciA9IChtc2cpID0+IHtcbiAgdGhyb3cgVHlwZUVycm9yKG1zZyk7XG59O1xudmFyIF9fYWNjZXNzQ2hlY2sgPSAob2JqLCBtZW1iZXIsIG1zZykgPT4gbWVtYmVyLmhhcyhvYmopIHx8IF9fdHlwZUVycm9yKFwiQ2Fubm90IFwiICsgbXNnKTtcbnZhciBfX3ByaXZhdGVHZXQgPSAob2JqLCBtZW1iZXIsIGdldHRlcikgPT4gKF9fYWNjZXNzQ2hlY2sob2JqLCBtZW1iZXIsIFwicmVhZCBmcm9tIHByaXZhdGUgZmllbGRcIiksIGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiBtZW1iZXIuZ2V0KG9iaikpO1xudmFyIF9fcHJpdmF0ZUFkZCA9IChvYmosIG1lbWJlciwgdmFsdWUpID0+IG1lbWJlci5oYXMob2JqKSA/IF9fdHlwZUVycm9yKFwiQ2Fubm90IGFkZCB0aGUgc2FtZSBwcml2YXRlIG1lbWJlciBtb3JlIHRoYW4gb25jZVwiKSA6IG1lbWJlciBpbnN0YW5jZW9mIFdlYWtTZXQgPyBtZW1iZXIuYWRkKG9iaikgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xuXG4vLyBsaWIvcm91dGVyL2hpc3RvcnkudHNcbnZhciBBY3Rpb24gPSAvKiBAX19QVVJFX18gKi8gKChBY3Rpb24yKSA9PiB7XG4gIEFjdGlvbjJbXCJQb3BcIl0gPSBcIlBPUFwiO1xuICBBY3Rpb24yW1wiUHVzaFwiXSA9IFwiUFVTSFwiO1xuICBBY3Rpb24yW1wiUmVwbGFjZVwiXSA9IFwiUkVQTEFDRVwiO1xuICByZXR1cm4gQWN0aW9uMjtcbn0pKEFjdGlvbiB8fCB7fSk7XG52YXIgUG9wU3RhdGVFdmVudFR5cGUgPSBcInBvcHN0YXRlXCI7XG5mdW5jdGlvbiBjcmVhdGVNZW1vcnlIaXN0b3J5KG9wdGlvbnMgPSB7fSkge1xuICBsZXQgeyBpbml0aWFsRW50cmllcyA9IFtcIi9cIl0sIGluaXRpYWxJbmRleCwgdjVDb21wYXQgPSBmYWxzZSB9ID0gb3B0aW9ucztcbiAgbGV0IGVudHJpZXM7XG4gIGVudHJpZXMgPSBpbml0aWFsRW50cmllcy5tYXAoXG4gICAgKGVudHJ5LCBpbmRleDIpID0+IGNyZWF0ZU1lbW9yeUxvY2F0aW9uKFxuICAgICAgZW50cnksXG4gICAgICB0eXBlb2YgZW50cnkgPT09IFwic3RyaW5nXCIgPyBudWxsIDogZW50cnkuc3RhdGUsXG4gICAgICBpbmRleDIgPT09IDAgPyBcImRlZmF1bHRcIiA6IHZvaWQgMFxuICAgIClcbiAgKTtcbiAgbGV0IGluZGV4ID0gY2xhbXBJbmRleChcbiAgICBpbml0aWFsSW5kZXggPT0gbnVsbCA/IGVudHJpZXMubGVuZ3RoIC0gMSA6IGluaXRpYWxJbmRleFxuICApO1xuICBsZXQgYWN0aW9uID0gXCJQT1BcIiAvKiBQb3AgKi87XG4gIGxldCBsaXN0ZW5lciA9IG51bGw7XG4gIGZ1bmN0aW9uIGNsYW1wSW5kZXgobikge1xuICAgIHJldHVybiBNYXRoLm1pbihNYXRoLm1heChuLCAwKSwgZW50cmllcy5sZW5ndGggLSAxKTtcbiAgfVxuICBmdW5jdGlvbiBnZXRDdXJyZW50TG9jYXRpb24oKSB7XG4gICAgcmV0dXJuIGVudHJpZXNbaW5kZXhdO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZU1lbW9yeUxvY2F0aW9uKHRvLCBzdGF0ZSA9IG51bGwsIGtleSkge1xuICAgIGxldCBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKFxuICAgICAgZW50cmllcyA/IGdldEN1cnJlbnRMb2NhdGlvbigpLnBhdGhuYW1lIDogXCIvXCIsXG4gICAgICB0byxcbiAgICAgIHN0YXRlLFxuICAgICAga2V5XG4gICAgKTtcbiAgICB3YXJuaW5nKFxuICAgICAgbG9jYXRpb24ucGF0aG5hbWUuY2hhckF0KDApID09PSBcIi9cIixcbiAgICAgIGByZWxhdGl2ZSBwYXRobmFtZXMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gbWVtb3J5IGhpc3Rvcnk6ICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgIHRvXG4gICAgICApfWBcbiAgICApO1xuICAgIHJldHVybiBsb2NhdGlvbjtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVIcmVmMih0bykge1xuICAgIHJldHVybiB0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgPyB0byA6IGNyZWF0ZVBhdGgodG8pO1xuICB9XG4gIGxldCBoaXN0b3J5ID0ge1xuICAgIGdldCBpbmRleCgpIHtcbiAgICAgIHJldHVybiBpbmRleDtcbiAgICB9LFxuICAgIGdldCBhY3Rpb24oKSB7XG4gICAgICByZXR1cm4gYWN0aW9uO1xuICAgIH0sXG4gICAgZ2V0IGxvY2F0aW9uKCkge1xuICAgICAgcmV0dXJuIGdldEN1cnJlbnRMb2NhdGlvbigpO1xuICAgIH0sXG4gICAgY3JlYXRlSHJlZjogY3JlYXRlSHJlZjIsXG4gICAgY3JlYXRlVVJMKHRvKSB7XG4gICAgICByZXR1cm4gbmV3IFVSTChjcmVhdGVIcmVmMih0byksIFwiaHR0cDovL2xvY2FsaG9zdFwiKTtcbiAgICB9LFxuICAgIGVuY29kZUxvY2F0aW9uKHRvKSB7XG4gICAgICBsZXQgcGF0aCA9IHR5cGVvZiB0byA9PT0gXCJzdHJpbmdcIiA/IHBhcnNlUGF0aCh0bykgOiB0bztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBhdGhuYW1lOiBwYXRoLnBhdGhuYW1lIHx8IFwiXCIsXG4gICAgICAgIHNlYXJjaDogcGF0aC5zZWFyY2ggfHwgXCJcIixcbiAgICAgICAgaGFzaDogcGF0aC5oYXNoIHx8IFwiXCJcbiAgICAgIH07XG4gICAgfSxcbiAgICBwdXNoKHRvLCBzdGF0ZSkge1xuICAgICAgYWN0aW9uID0gXCJQVVNIXCIgLyogUHVzaCAqLztcbiAgICAgIGxldCBuZXh0TG9jYXRpb24gPSBjcmVhdGVNZW1vcnlMb2NhdGlvbih0bywgc3RhdGUpO1xuICAgICAgaW5kZXggKz0gMTtcbiAgICAgIGVudHJpZXMuc3BsaWNlKGluZGV4LCBlbnRyaWVzLmxlbmd0aCwgbmV4dExvY2F0aW9uKTtcbiAgICAgIGlmICh2NUNvbXBhdCAmJiBsaXN0ZW5lcikge1xuICAgICAgICBsaXN0ZW5lcih7IGFjdGlvbiwgbG9jYXRpb246IG5leHRMb2NhdGlvbiwgZGVsdGE6IDEgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICByZXBsYWNlKHRvLCBzdGF0ZSkge1xuICAgICAgYWN0aW9uID0gXCJSRVBMQUNFXCIgLyogUmVwbGFjZSAqLztcbiAgICAgIGxldCBuZXh0TG9jYXRpb24gPSBjcmVhdGVNZW1vcnlMb2NhdGlvbih0bywgc3RhdGUpO1xuICAgICAgZW50cmllc1tpbmRleF0gPSBuZXh0TG9jYXRpb247XG4gICAgICBpZiAodjVDb21wYXQgJiYgbGlzdGVuZXIpIHtcbiAgICAgICAgbGlzdGVuZXIoeyBhY3Rpb24sIGxvY2F0aW9uOiBuZXh0TG9jYXRpb24sIGRlbHRhOiAwIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ28oZGVsdGEpIHtcbiAgICAgIGFjdGlvbiA9IFwiUE9QXCIgLyogUG9wICovO1xuICAgICAgbGV0IG5leHRJbmRleCA9IGNsYW1wSW5kZXgoaW5kZXggKyBkZWx0YSk7XG4gICAgICBsZXQgbmV4dExvY2F0aW9uID0gZW50cmllc1tuZXh0SW5kZXhdO1xuICAgICAgaW5kZXggPSBuZXh0SW5kZXg7XG4gICAgICBpZiAobGlzdGVuZXIpIHtcbiAgICAgICAgbGlzdGVuZXIoeyBhY3Rpb24sIGxvY2F0aW9uOiBuZXh0TG9jYXRpb24sIGRlbHRhIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgbGlzdGVuKGZuKSB7XG4gICAgICBsaXN0ZW5lciA9IGZuO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgbGlzdGVuZXIgPSBudWxsO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBoaXN0b3J5O1xufVxuZnVuY3Rpb24gY3JlYXRlQnJvd3Nlckhpc3Rvcnkob3B0aW9ucyA9IHt9KSB7XG4gIGZ1bmN0aW9uIGNyZWF0ZUJyb3dzZXJMb2NhdGlvbih3aW5kb3cyLCBnbG9iYWxIaXN0b3J5KSB7XG4gICAgbGV0IHsgcGF0aG5hbWUsIHNlYXJjaCwgaGFzaCB9ID0gd2luZG93Mi5sb2NhdGlvbjtcbiAgICByZXR1cm4gY3JlYXRlTG9jYXRpb24oXG4gICAgICBcIlwiLFxuICAgICAgeyBwYXRobmFtZSwgc2VhcmNoLCBoYXNoIH0sXG4gICAgICAvLyBzdGF0ZSBkZWZhdWx0cyB0byBgbnVsbGAgYmVjYXVzZSBgd2luZG93Lmhpc3Rvcnkuc3RhdGVgIGRvZXNcbiAgICAgIGdsb2JhbEhpc3Rvcnkuc3RhdGUgJiYgZ2xvYmFsSGlzdG9yeS5zdGF0ZS51c3IgfHwgbnVsbCxcbiAgICAgIGdsb2JhbEhpc3Rvcnkuc3RhdGUgJiYgZ2xvYmFsSGlzdG9yeS5zdGF0ZS5rZXkgfHwgXCJkZWZhdWx0XCJcbiAgICApO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZUJyb3dzZXJIcmVmKHdpbmRvdzIsIHRvKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0byA9PT0gXCJzdHJpbmdcIiA/IHRvIDogY3JlYXRlUGF0aCh0byk7XG4gIH1cbiAgcmV0dXJuIGdldFVybEJhc2VkSGlzdG9yeShcbiAgICBjcmVhdGVCcm93c2VyTG9jYXRpb24sXG4gICAgY3JlYXRlQnJvd3NlckhyZWYsXG4gICAgbnVsbCxcbiAgICBvcHRpb25zXG4gICk7XG59XG5mdW5jdGlvbiBjcmVhdGVIYXNoSGlzdG9yeShvcHRpb25zID0ge30pIHtcbiAgZnVuY3Rpb24gY3JlYXRlSGFzaExvY2F0aW9uKHdpbmRvdzIsIGdsb2JhbEhpc3RvcnkpIHtcbiAgICBsZXQge1xuICAgICAgcGF0aG5hbWUgPSBcIi9cIixcbiAgICAgIHNlYXJjaCA9IFwiXCIsXG4gICAgICBoYXNoID0gXCJcIlxuICAgIH0gPSBwYXJzZVBhdGgod2luZG93Mi5sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKSk7XG4gICAgaWYgKCFwYXRobmFtZS5zdGFydHNXaXRoKFwiL1wiKSAmJiAhcGF0aG5hbWUuc3RhcnRzV2l0aChcIi5cIikpIHtcbiAgICAgIHBhdGhuYW1lID0gXCIvXCIgKyBwYXRobmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUxvY2F0aW9uKFxuICAgICAgXCJcIixcbiAgICAgIHsgcGF0aG5hbWUsIHNlYXJjaCwgaGFzaCB9LFxuICAgICAgLy8gc3RhdGUgZGVmYXVsdHMgdG8gYG51bGxgIGJlY2F1c2UgYHdpbmRvdy5oaXN0b3J5LnN0YXRlYCBkb2VzXG4gICAgICBnbG9iYWxIaXN0b3J5LnN0YXRlICYmIGdsb2JhbEhpc3Rvcnkuc3RhdGUudXNyIHx8IG51bGwsXG4gICAgICBnbG9iYWxIaXN0b3J5LnN0YXRlICYmIGdsb2JhbEhpc3Rvcnkuc3RhdGUua2V5IHx8IFwiZGVmYXVsdFwiXG4gICAgKTtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVIYXNoSHJlZih3aW5kb3cyLCB0bykge1xuICAgIGxldCBiYXNlID0gd2luZG93Mi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYmFzZVwiKTtcbiAgICBsZXQgaHJlZiA9IFwiXCI7XG4gICAgaWYgKGJhc2UgJiYgYmFzZS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpKSB7XG4gICAgICBsZXQgdXJsID0gd2luZG93Mi5sb2NhdGlvbi5ocmVmO1xuICAgICAgbGV0IGhhc2hJbmRleCA9IHVybC5pbmRleE9mKFwiI1wiKTtcbiAgICAgIGhyZWYgPSBoYXNoSW5kZXggPT09IC0xID8gdXJsIDogdXJsLnNsaWNlKDAsIGhhc2hJbmRleCk7XG4gICAgfVxuICAgIHJldHVybiBocmVmICsgXCIjXCIgKyAodHlwZW9mIHRvID09PSBcInN0cmluZ1wiID8gdG8gOiBjcmVhdGVQYXRoKHRvKSk7XG4gIH1cbiAgZnVuY3Rpb24gdmFsaWRhdGVIYXNoTG9jYXRpb24obG9jYXRpb24sIHRvKSB7XG4gICAgd2FybmluZyhcbiAgICAgIGxvY2F0aW9uLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gXCIvXCIsXG4gICAgICBgcmVsYXRpdmUgcGF0aG5hbWVzIGFyZSBub3Qgc3VwcG9ydGVkIGluIGhhc2ggaGlzdG9yeS5wdXNoKCR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgIHRvXG4gICAgICApfSlgXG4gICAgKTtcbiAgfVxuICByZXR1cm4gZ2V0VXJsQmFzZWRIaXN0b3J5KFxuICAgIGNyZWF0ZUhhc2hMb2NhdGlvbixcbiAgICBjcmVhdGVIYXNoSHJlZixcbiAgICB2YWxpZGF0ZUhhc2hMb2NhdGlvbixcbiAgICBvcHRpb25zXG4gICk7XG59XG5mdW5jdGlvbiBpbnZhcmlhbnQodmFsdWUsIG1lc3NhZ2UpIHtcbiAgaWYgKHZhbHVlID09PSBmYWxzZSB8fCB2YWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHdhcm5pbmcoY29uZCwgbWVzc2FnZSkge1xuICBpZiAoIWNvbmQpIHtcbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIpIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbiAgICB0cnkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZUtleSgpIHtcbiAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxMCk7XG59XG5mdW5jdGlvbiBnZXRIaXN0b3J5U3RhdGUobG9jYXRpb24sIGluZGV4KSB7XG4gIHJldHVybiB7XG4gICAgdXNyOiBsb2NhdGlvbi5zdGF0ZSxcbiAgICBrZXk6IGxvY2F0aW9uLmtleSxcbiAgICBpZHg6IGluZGV4XG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVMb2NhdGlvbihjdXJyZW50LCB0bywgc3RhdGUgPSBudWxsLCBrZXkpIHtcbiAgbGV0IGxvY2F0aW9uID0ge1xuICAgIHBhdGhuYW1lOiB0eXBlb2YgY3VycmVudCA9PT0gXCJzdHJpbmdcIiA/IGN1cnJlbnQgOiBjdXJyZW50LnBhdGhuYW1lLFxuICAgIHNlYXJjaDogXCJcIixcbiAgICBoYXNoOiBcIlwiLFxuICAgIC4uLnR5cGVvZiB0byA9PT0gXCJzdHJpbmdcIiA/IHBhcnNlUGF0aCh0bykgOiB0byxcbiAgICBzdGF0ZSxcbiAgICAvLyBUT0RPOiBUaGlzIGNvdWxkIGJlIGNsZWFuZWQgdXAuICBwdXNoL3JlcGxhY2Ugc2hvdWxkIHByb2JhYmx5IGp1c3QgdGFrZVxuICAgIC8vIGZ1bGwgTG9jYXRpb25zIG5vdyBhbmQgYXZvaWQgdGhlIG5lZWQgdG8gcnVuIHRocm91Z2ggdGhpcyBmbG93IGF0IGFsbFxuICAgIC8vIEJ1dCB0aGF0J3MgYSBwcmV0dHkgYmlnIHJlZmFjdG9yIHRvIHRoZSBjdXJyZW50IHRlc3Qgc3VpdGUgc28gZ29pbmcgdG9cbiAgICAvLyBrZWVwIGFzIGlzIGZvciB0aGUgdGltZSBiZWluZyBhbmQganVzdCBsZXQgYW55IGluY29taW5nIGtleXMgdGFrZSBwcmVjZWRlbmNlXG4gICAga2V5OiB0byAmJiB0by5rZXkgfHwga2V5IHx8IGNyZWF0ZUtleSgpXG4gIH07XG4gIHJldHVybiBsb2NhdGlvbjtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVBhdGgoe1xuICBwYXRobmFtZSA9IFwiL1wiLFxuICBzZWFyY2ggPSBcIlwiLFxuICBoYXNoID0gXCJcIlxufSkge1xuICBpZiAoc2VhcmNoICYmIHNlYXJjaCAhPT0gXCI/XCIpXG4gICAgcGF0aG5hbWUgKz0gc2VhcmNoLmNoYXJBdCgwKSA9PT0gXCI/XCIgPyBzZWFyY2ggOiBcIj9cIiArIHNlYXJjaDtcbiAgaWYgKGhhc2ggJiYgaGFzaCAhPT0gXCIjXCIpXG4gICAgcGF0aG5hbWUgKz0gaGFzaC5jaGFyQXQoMCkgPT09IFwiI1wiID8gaGFzaCA6IFwiI1wiICsgaGFzaDtcbiAgcmV0dXJuIHBhdGhuYW1lO1xufVxuZnVuY3Rpb24gcGFyc2VQYXRoKHBhdGgpIHtcbiAgbGV0IHBhcnNlZFBhdGggPSB7fTtcbiAgaWYgKHBhdGgpIHtcbiAgICBsZXQgaGFzaEluZGV4ID0gcGF0aC5pbmRleE9mKFwiI1wiKTtcbiAgICBpZiAoaGFzaEluZGV4ID49IDApIHtcbiAgICAgIHBhcnNlZFBhdGguaGFzaCA9IHBhdGguc3Vic3RyaW5nKGhhc2hJbmRleCk7XG4gICAgICBwYXRoID0gcGF0aC5zdWJzdHJpbmcoMCwgaGFzaEluZGV4KTtcbiAgICB9XG4gICAgbGV0IHNlYXJjaEluZGV4ID0gcGF0aC5pbmRleE9mKFwiP1wiKTtcbiAgICBpZiAoc2VhcmNoSW5kZXggPj0gMCkge1xuICAgICAgcGFyc2VkUGF0aC5zZWFyY2ggPSBwYXRoLnN1YnN0cmluZyhzZWFyY2hJbmRleCk7XG4gICAgICBwYXRoID0gcGF0aC5zdWJzdHJpbmcoMCwgc2VhcmNoSW5kZXgpO1xuICAgIH1cbiAgICBpZiAocGF0aCkge1xuICAgICAgcGFyc2VkUGF0aC5wYXRobmFtZSA9IHBhdGg7XG4gICAgfVxuICB9XG4gIHJldHVybiBwYXJzZWRQYXRoO1xufVxuZnVuY3Rpb24gZ2V0VXJsQmFzZWRIaXN0b3J5KGdldExvY2F0aW9uLCBjcmVhdGVIcmVmMiwgdmFsaWRhdGVMb2NhdGlvbiwgb3B0aW9ucyA9IHt9KSB7XG4gIGxldCB7IHdpbmRvdzogd2luZG93MiA9IGRvY3VtZW50LmRlZmF1bHRWaWV3LCB2NUNvbXBhdCA9IGZhbHNlIH0gPSBvcHRpb25zO1xuICBsZXQgZ2xvYmFsSGlzdG9yeSA9IHdpbmRvdzIuaGlzdG9yeTtcbiAgbGV0IGFjdGlvbiA9IFwiUE9QXCIgLyogUG9wICovO1xuICBsZXQgbGlzdGVuZXIgPSBudWxsO1xuICBsZXQgaW5kZXggPSBnZXRJbmRleCgpO1xuICBpZiAoaW5kZXggPT0gbnVsbCkge1xuICAgIGluZGV4ID0gMDtcbiAgICBnbG9iYWxIaXN0b3J5LnJlcGxhY2VTdGF0ZSh7IC4uLmdsb2JhbEhpc3Rvcnkuc3RhdGUsIGlkeDogaW5kZXggfSwgXCJcIik7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0SW5kZXgoKSB7XG4gICAgbGV0IHN0YXRlID0gZ2xvYmFsSGlzdG9yeS5zdGF0ZSB8fCB7IGlkeDogbnVsbCB9O1xuICAgIHJldHVybiBzdGF0ZS5pZHg7XG4gIH1cbiAgZnVuY3Rpb24gaGFuZGxlUG9wKCkge1xuICAgIGFjdGlvbiA9IFwiUE9QXCIgLyogUG9wICovO1xuICAgIGxldCBuZXh0SW5kZXggPSBnZXRJbmRleCgpO1xuICAgIGxldCBkZWx0YSA9IG5leHRJbmRleCA9PSBudWxsID8gbnVsbCA6IG5leHRJbmRleCAtIGluZGV4O1xuICAgIGluZGV4ID0gbmV4dEluZGV4O1xuICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgbGlzdGVuZXIoeyBhY3Rpb24sIGxvY2F0aW9uOiBoaXN0b3J5LmxvY2F0aW9uLCBkZWx0YSB9KTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcHVzaCh0bywgc3RhdGUpIHtcbiAgICBhY3Rpb24gPSBcIlBVU0hcIiAvKiBQdXNoICovO1xuICAgIGxldCBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKGhpc3RvcnkubG9jYXRpb24sIHRvLCBzdGF0ZSk7XG4gICAgaWYgKHZhbGlkYXRlTG9jYXRpb24pIHZhbGlkYXRlTG9jYXRpb24obG9jYXRpb24sIHRvKTtcbiAgICBpbmRleCA9IGdldEluZGV4KCkgKyAxO1xuICAgIGxldCBoaXN0b3J5U3RhdGUgPSBnZXRIaXN0b3J5U3RhdGUobG9jYXRpb24sIGluZGV4KTtcbiAgICBsZXQgdXJsID0gaGlzdG9yeS5jcmVhdGVIcmVmKGxvY2F0aW9uKTtcbiAgICB0cnkge1xuICAgICAgZ2xvYmFsSGlzdG9yeS5wdXNoU3RhdGUoaGlzdG9yeVN0YXRlLCBcIlwiLCB1cmwpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBET01FeGNlcHRpb24gJiYgZXJyb3IubmFtZSA9PT0gXCJEYXRhQ2xvbmVFcnJvclwiKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgICAgd2luZG93Mi5sb2NhdGlvbi5hc3NpZ24odXJsKTtcbiAgICB9XG4gICAgaWYgKHY1Q29tcGF0ICYmIGxpc3RlbmVyKSB7XG4gICAgICBsaXN0ZW5lcih7IGFjdGlvbiwgbG9jYXRpb246IGhpc3RvcnkubG9jYXRpb24sIGRlbHRhOiAxIH0pO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiByZXBsYWNlMih0bywgc3RhdGUpIHtcbiAgICBhY3Rpb24gPSBcIlJFUExBQ0VcIiAvKiBSZXBsYWNlICovO1xuICAgIGxldCBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKGhpc3RvcnkubG9jYXRpb24sIHRvLCBzdGF0ZSk7XG4gICAgaWYgKHZhbGlkYXRlTG9jYXRpb24pIHZhbGlkYXRlTG9jYXRpb24obG9jYXRpb24sIHRvKTtcbiAgICBpbmRleCA9IGdldEluZGV4KCk7XG4gICAgbGV0IGhpc3RvcnlTdGF0ZSA9IGdldEhpc3RvcnlTdGF0ZShsb2NhdGlvbiwgaW5kZXgpO1xuICAgIGxldCB1cmwgPSBoaXN0b3J5LmNyZWF0ZUhyZWYobG9jYXRpb24pO1xuICAgIGdsb2JhbEhpc3RvcnkucmVwbGFjZVN0YXRlKGhpc3RvcnlTdGF0ZSwgXCJcIiwgdXJsKTtcbiAgICBpZiAodjVDb21wYXQgJiYgbGlzdGVuZXIpIHtcbiAgICAgIGxpc3RlbmVyKHsgYWN0aW9uLCBsb2NhdGlvbjogaGlzdG9yeS5sb2NhdGlvbiwgZGVsdGE6IDAgfSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZVVSTCh0bykge1xuICAgIHJldHVybiBjcmVhdGVCcm93c2VyVVJMSW1wbCh0byk7XG4gIH1cbiAgbGV0IGhpc3RvcnkgPSB7XG4gICAgZ2V0IGFjdGlvbigpIHtcbiAgICAgIHJldHVybiBhY3Rpb247XG4gICAgfSxcbiAgICBnZXQgbG9jYXRpb24oKSB7XG4gICAgICByZXR1cm4gZ2V0TG9jYXRpb24od2luZG93MiwgZ2xvYmFsSGlzdG9yeSk7XG4gICAgfSxcbiAgICBsaXN0ZW4oZm4pIHtcbiAgICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBIGhpc3Rvcnkgb25seSBhY2NlcHRzIG9uZSBhY3RpdmUgbGlzdGVuZXJcIik7XG4gICAgICB9XG4gICAgICB3aW5kb3cyLmFkZEV2ZW50TGlzdGVuZXIoUG9wU3RhdGVFdmVudFR5cGUsIGhhbmRsZVBvcCk7XG4gICAgICBsaXN0ZW5lciA9IGZuO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgd2luZG93Mi5yZW1vdmVFdmVudExpc3RlbmVyKFBvcFN0YXRlRXZlbnRUeXBlLCBoYW5kbGVQb3ApO1xuICAgICAgICBsaXN0ZW5lciA9IG51bGw7XG4gICAgICB9O1xuICAgIH0sXG4gICAgY3JlYXRlSHJlZih0bykge1xuICAgICAgcmV0dXJuIGNyZWF0ZUhyZWYyKHdpbmRvdzIsIHRvKTtcbiAgICB9LFxuICAgIGNyZWF0ZVVSTCxcbiAgICBlbmNvZGVMb2NhdGlvbih0bykge1xuICAgICAgbGV0IHVybCA9IGNyZWF0ZVVSTCh0byk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwYXRobmFtZTogdXJsLnBhdGhuYW1lLFxuICAgICAgICBzZWFyY2g6IHVybC5zZWFyY2gsXG4gICAgICAgIGhhc2g6IHVybC5oYXNoXG4gICAgICB9O1xuICAgIH0sXG4gICAgcHVzaCxcbiAgICByZXBsYWNlOiByZXBsYWNlMixcbiAgICBnbyhuKSB7XG4gICAgICByZXR1cm4gZ2xvYmFsSGlzdG9yeS5nbyhuKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBoaXN0b3J5O1xufVxuZnVuY3Rpb24gY3JlYXRlQnJvd3NlclVSTEltcGwodG8sIGlzQWJzb2x1dGUgPSBmYWxzZSkge1xuICBsZXQgYmFzZSA9IFwiaHR0cDovL2xvY2FsaG9zdFwiO1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGJhc2UgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICE9PSBcIm51bGxcIiA/IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gOiB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgfVxuICBpbnZhcmlhbnQoYmFzZSwgXCJObyB3aW5kb3cubG9jYXRpb24uKG9yaWdpbnxocmVmKSBhdmFpbGFibGUgdG8gY3JlYXRlIFVSTFwiKTtcbiAgbGV0IGhyZWYgPSB0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgPyB0byA6IGNyZWF0ZVBhdGgodG8pO1xuICBocmVmID0gaHJlZi5yZXBsYWNlKC8gJC8sIFwiJTIwXCIpO1xuICBpZiAoIWlzQWJzb2x1dGUgJiYgaHJlZi5zdGFydHNXaXRoKFwiLy9cIikpIHtcbiAgICBocmVmID0gYmFzZSArIGhyZWY7XG4gIH1cbiAgcmV0dXJuIG5ldyBVUkwoaHJlZiwgYmFzZSk7XG59XG5cbi8vIGxpYi9yb3V0ZXIvdXRpbHMudHNcbmZ1bmN0aW9uIGNyZWF0ZUNvbnRleHQoZGVmYXVsdFZhbHVlKSB7XG4gIHJldHVybiB7IGRlZmF1bHRWYWx1ZSB9O1xufVxudmFyIF9tYXA7XG52YXIgUm91dGVyQ29udGV4dFByb3ZpZGVyID0gY2xhc3Mge1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGBSb3V0ZXJDb250ZXh0UHJvdmlkZXJgIGluc3RhbmNlXG4gICAqIEBwYXJhbSBpbml0IEFuIG9wdGlvbmFsIGluaXRpYWwgY29udGV4dCBtYXAgdG8gcG9wdWxhdGUgdGhlIHByb3ZpZGVyIHdpdGhcbiAgICovXG4gIGNvbnN0cnVjdG9yKGluaXQpIHtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX21hcCwgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSk7XG4gICAgaWYgKGluaXQpIHtcbiAgICAgIGZvciAobGV0IFtjb250ZXh0LCB2YWx1ZV0gb2YgaW5pdCkge1xuICAgICAgICB0aGlzLnNldChjb250ZXh0LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBBY2Nlc3MgYSB2YWx1ZSBmcm9tIHRoZSBjb250ZXh0LiBJZiBubyB2YWx1ZSBoYXMgYmVlbiBzZXQgZm9yIHRoZSBjb250ZXh0LFxuICAgKiBpdCB3aWxsIHJldHVybiB0aGUgY29udGV4dCdzIGBkZWZhdWx0VmFsdWVgIGlmIHByb3ZpZGVkLCBvciB0aHJvdyBhbiBlcnJvclxuICAgKiBpZiBubyBgZGVmYXVsdFZhbHVlYCB3YXMgc2V0LlxuICAgKiBAcGFyYW0gY29udGV4dCBUaGUgY29udGV4dCB0byBnZXQgdGhlIHZhbHVlIGZvclxuICAgKiBAcmV0dXJucyBUaGUgdmFsdWUgZm9yIHRoZSBjb250ZXh0LCBvciB0aGUgY29udGV4dCdzIGBkZWZhdWx0VmFsdWVgIGlmIG5vXG4gICAqIHZhbHVlIHdhcyBzZXRcbiAgICovXG4gIGdldChjb250ZXh0KSB7XG4gICAgaWYgKF9fcHJpdmF0ZUdldCh0aGlzLCBfbWFwKS5oYXMoY29udGV4dCkpIHtcbiAgICAgIHJldHVybiBfX3ByaXZhdGVHZXQodGhpcywgX21hcCkuZ2V0KGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAoY29udGV4dC5kZWZhdWx0VmFsdWUgIT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIGNvbnRleHQuZGVmYXVsdFZhbHVlO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyB2YWx1ZSBmb3VuZCBmb3IgY29udGV4dFwiKTtcbiAgfVxuICAvKipcbiAgICogU2V0IGEgdmFsdWUgZm9yIHRoZSBjb250ZXh0LiBJZiB0aGUgY29udGV4dCBhbHJlYWR5IGhhcyBhIHZhbHVlIHNldCwgdGhpc1xuICAgKiB3aWxsIG92ZXJ3cml0ZSBpdC5cbiAgICpcbiAgICogQHBhcmFtIGNvbnRleHQgVGhlIGNvbnRleHQgdG8gc2V0IHRoZSB2YWx1ZSBmb3JcbiAgICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQgZm9yIHRoZSBjb250ZXh0XG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgc2V0KGNvbnRleHQsIHZhbHVlKSB7XG4gICAgX19wcml2YXRlR2V0KHRoaXMsIF9tYXApLnNldChjb250ZXh0LCB2YWx1ZSk7XG4gIH1cbn07XG5fbWFwID0gbmV3IFdlYWtNYXAoKTtcbnZhciB1bnN1cHBvcnRlZExhenlSb3V0ZU9iamVjdEtleXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbXG4gIFwibGF6eVwiLFxuICBcImNhc2VTZW5zaXRpdmVcIixcbiAgXCJwYXRoXCIsXG4gIFwiaWRcIixcbiAgXCJpbmRleFwiLFxuICBcImNoaWxkcmVuXCJcbl0pO1xuZnVuY3Rpb24gaXNVbnN1cHBvcnRlZExhenlSb3V0ZU9iamVjdEtleShrZXkpIHtcbiAgcmV0dXJuIHVuc3VwcG9ydGVkTGF6eVJvdXRlT2JqZWN0S2V5cy5oYXMoXG4gICAga2V5XG4gICk7XG59XG52YXIgdW5zdXBwb3J0ZWRMYXp5Um91dGVGdW5jdGlvbktleXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbXG4gIFwibGF6eVwiLFxuICBcImNhc2VTZW5zaXRpdmVcIixcbiAgXCJwYXRoXCIsXG4gIFwiaWRcIixcbiAgXCJpbmRleFwiLFxuICBcIm1pZGRsZXdhcmVcIixcbiAgXCJjaGlsZHJlblwiXG5dKTtcbmZ1bmN0aW9uIGlzVW5zdXBwb3J0ZWRMYXp5Um91dGVGdW5jdGlvbktleShrZXkpIHtcbiAgcmV0dXJuIHVuc3VwcG9ydGVkTGF6eVJvdXRlRnVuY3Rpb25LZXlzLmhhcyhcbiAgICBrZXlcbiAgKTtcbn1cbmZ1bmN0aW9uIGlzSW5kZXhSb3V0ZShyb3V0ZSkge1xuICByZXR1cm4gcm91dGUuaW5kZXggPT09IHRydWU7XG59XG5mdW5jdGlvbiBjb252ZXJ0Um91dGVzVG9EYXRhUm91dGVzKHJvdXRlcywgbWFwUm91dGVQcm9wZXJ0aWVzMiwgcGFyZW50UGF0aCA9IFtdLCBtYW5pZmVzdCA9IHt9LCBhbGxvd0luUGxhY2VNdXRhdGlvbnMgPSBmYWxzZSkge1xuICByZXR1cm4gcm91dGVzLm1hcCgocm91dGUsIGluZGV4KSA9PiB7XG4gICAgbGV0IHRyZWVQYXRoID0gWy4uLnBhcmVudFBhdGgsIFN0cmluZyhpbmRleCldO1xuICAgIGxldCBpZCA9IHR5cGVvZiByb3V0ZS5pZCA9PT0gXCJzdHJpbmdcIiA/IHJvdXRlLmlkIDogdHJlZVBhdGguam9pbihcIi1cIik7XG4gICAgaW52YXJpYW50KFxuICAgICAgcm91dGUuaW5kZXggIT09IHRydWUgfHwgIXJvdXRlLmNoaWxkcmVuLFxuICAgICAgYENhbm5vdCBzcGVjaWZ5IGNoaWxkcmVuIG9uIGFuIGluZGV4IHJvdXRlYFxuICAgICk7XG4gICAgaW52YXJpYW50KFxuICAgICAgYWxsb3dJblBsYWNlTXV0YXRpb25zIHx8ICFtYW5pZmVzdFtpZF0sXG4gICAgICBgRm91bmQgYSByb3V0ZSBpZCBjb2xsaXNpb24gb24gaWQgXCIke2lkfVwiLiAgUm91dGUgaWQncyBtdXN0IGJlIGdsb2JhbGx5IHVuaXF1ZSB3aXRoaW4gRGF0YSBSb3V0ZXIgdXNhZ2VzYFxuICAgICk7XG4gICAgaWYgKGlzSW5kZXhSb3V0ZShyb3V0ZSkpIHtcbiAgICAgIGxldCBpbmRleFJvdXRlID0ge1xuICAgICAgICAuLi5yb3V0ZSxcbiAgICAgICAgaWRcbiAgICAgIH07XG4gICAgICBtYW5pZmVzdFtpZF0gPSBtZXJnZVJvdXRlVXBkYXRlcyhcbiAgICAgICAgaW5kZXhSb3V0ZSxcbiAgICAgICAgbWFwUm91dGVQcm9wZXJ0aWVzMihpbmRleFJvdXRlKVxuICAgICAgKTtcbiAgICAgIHJldHVybiBpbmRleFJvdXRlO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgcGF0aE9yTGF5b3V0Um91dGUgPSB7XG4gICAgICAgIC4uLnJvdXRlLFxuICAgICAgICBpZCxcbiAgICAgICAgY2hpbGRyZW46IHZvaWQgMFxuICAgICAgfTtcbiAgICAgIG1hbmlmZXN0W2lkXSA9IG1lcmdlUm91dGVVcGRhdGVzKFxuICAgICAgICBwYXRoT3JMYXlvdXRSb3V0ZSxcbiAgICAgICAgbWFwUm91dGVQcm9wZXJ0aWVzMihwYXRoT3JMYXlvdXRSb3V0ZSlcbiAgICAgICk7XG4gICAgICBpZiAocm91dGUuY2hpbGRyZW4pIHtcbiAgICAgICAgcGF0aE9yTGF5b3V0Um91dGUuY2hpbGRyZW4gPSBjb252ZXJ0Um91dGVzVG9EYXRhUm91dGVzKFxuICAgICAgICAgIHJvdXRlLmNoaWxkcmVuLFxuICAgICAgICAgIG1hcFJvdXRlUHJvcGVydGllczIsXG4gICAgICAgICAgdHJlZVBhdGgsXG4gICAgICAgICAgbWFuaWZlc3QsXG4gICAgICAgICAgYWxsb3dJblBsYWNlTXV0YXRpb25zXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcGF0aE9yTGF5b3V0Um91dGU7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIG1lcmdlUm91dGVVcGRhdGVzKHJvdXRlLCB1cGRhdGVzKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHJvdXRlLCB7XG4gICAgLi4udXBkYXRlcyxcbiAgICAuLi50eXBlb2YgdXBkYXRlcy5sYXp5ID09PSBcIm9iamVjdFwiICYmIHVwZGF0ZXMubGF6eSAhPSBudWxsID8ge1xuICAgICAgbGF6eToge1xuICAgICAgICAuLi5yb3V0ZS5sYXp5LFxuICAgICAgICAuLi51cGRhdGVzLmxhenlcbiAgICAgIH1cbiAgICB9IDoge31cbiAgfSk7XG59XG5mdW5jdGlvbiBtYXRjaFJvdXRlcyhyb3V0ZXMsIGxvY2F0aW9uQXJnLCBiYXNlbmFtZSA9IFwiL1wiKSB7XG4gIHJldHVybiBtYXRjaFJvdXRlc0ltcGwocm91dGVzLCBsb2NhdGlvbkFyZywgYmFzZW5hbWUsIGZhbHNlKTtcbn1cbmZ1bmN0aW9uIG1hdGNoUm91dGVzSW1wbChyb3V0ZXMsIGxvY2F0aW9uQXJnLCBiYXNlbmFtZSwgYWxsb3dQYXJ0aWFsKSB7XG4gIGxldCBsb2NhdGlvbiA9IHR5cGVvZiBsb2NhdGlvbkFyZyA9PT0gXCJzdHJpbmdcIiA/IHBhcnNlUGF0aChsb2NhdGlvbkFyZykgOiBsb2NhdGlvbkFyZztcbiAgbGV0IHBhdGhuYW1lID0gc3RyaXBCYXNlbmFtZShsb2NhdGlvbi5wYXRobmFtZSB8fCBcIi9cIiwgYmFzZW5hbWUpO1xuICBpZiAocGF0aG5hbWUgPT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGxldCBicmFuY2hlcyA9IGZsYXR0ZW5Sb3V0ZXMocm91dGVzKTtcbiAgcmFua1JvdXRlQnJhbmNoZXMoYnJhbmNoZXMpO1xuICBsZXQgbWF0Y2hlcyA9IG51bGw7XG4gIGZvciAobGV0IGkgPSAwOyBtYXRjaGVzID09IG51bGwgJiYgaSA8IGJyYW5jaGVzLmxlbmd0aDsgKytpKSB7XG4gICAgbGV0IGRlY29kZWQgPSBkZWNvZGVQYXRoKHBhdGhuYW1lKTtcbiAgICBtYXRjaGVzID0gbWF0Y2hSb3V0ZUJyYW5jaChcbiAgICAgIGJyYW5jaGVzW2ldLFxuICAgICAgZGVjb2RlZCxcbiAgICAgIGFsbG93UGFydGlhbFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIG1hdGNoZXM7XG59XG5mdW5jdGlvbiBjb252ZXJ0Um91dGVNYXRjaFRvVWlNYXRjaChtYXRjaCwgbG9hZGVyRGF0YSkge1xuICBsZXQgeyByb3V0ZSwgcGF0aG5hbWUsIHBhcmFtcyB9ID0gbWF0Y2g7XG4gIHJldHVybiB7XG4gICAgaWQ6IHJvdXRlLmlkLFxuICAgIHBhdGhuYW1lLFxuICAgIHBhcmFtcyxcbiAgICBkYXRhOiBsb2FkZXJEYXRhW3JvdXRlLmlkXSxcbiAgICBsb2FkZXJEYXRhOiBsb2FkZXJEYXRhW3JvdXRlLmlkXSxcbiAgICBoYW5kbGU6IHJvdXRlLmhhbmRsZVxuICB9O1xufVxuZnVuY3Rpb24gZmxhdHRlblJvdXRlcyhyb3V0ZXMsIGJyYW5jaGVzID0gW10sIHBhcmVudHNNZXRhID0gW10sIHBhcmVudFBhdGggPSBcIlwiLCBfaGFzUGFyZW50T3B0aW9uYWxTZWdtZW50cyA9IGZhbHNlKSB7XG4gIGxldCBmbGF0dGVuUm91dGUgPSAocm91dGUsIGluZGV4LCBoYXNQYXJlbnRPcHRpb25hbFNlZ21lbnRzID0gX2hhc1BhcmVudE9wdGlvbmFsU2VnbWVudHMsIHJlbGF0aXZlUGF0aCkgPT4ge1xuICAgIGxldCBtZXRhID0ge1xuICAgICAgcmVsYXRpdmVQYXRoOiByZWxhdGl2ZVBhdGggPT09IHZvaWQgMCA/IHJvdXRlLnBhdGggfHwgXCJcIiA6IHJlbGF0aXZlUGF0aCxcbiAgICAgIGNhc2VTZW5zaXRpdmU6IHJvdXRlLmNhc2VTZW5zaXRpdmUgPT09IHRydWUsXG4gICAgICBjaGlsZHJlbkluZGV4OiBpbmRleCxcbiAgICAgIHJvdXRlXG4gICAgfTtcbiAgICBpZiAobWV0YS5yZWxhdGl2ZVBhdGguc3RhcnRzV2l0aChcIi9cIikpIHtcbiAgICAgIGlmICghbWV0YS5yZWxhdGl2ZVBhdGguc3RhcnRzV2l0aChwYXJlbnRQYXRoKSAmJiBoYXNQYXJlbnRPcHRpb25hbFNlZ21lbnRzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGludmFyaWFudChcbiAgICAgICAgbWV0YS5yZWxhdGl2ZVBhdGguc3RhcnRzV2l0aChwYXJlbnRQYXRoKSxcbiAgICAgICAgYEFic29sdXRlIHJvdXRlIHBhdGggXCIke21ldGEucmVsYXRpdmVQYXRofVwiIG5lc3RlZCB1bmRlciBwYXRoIFwiJHtwYXJlbnRQYXRofVwiIGlzIG5vdCB2YWxpZC4gQW4gYWJzb2x1dGUgY2hpbGQgcm91dGUgcGF0aCBtdXN0IHN0YXJ0IHdpdGggdGhlIGNvbWJpbmVkIHBhdGggb2YgYWxsIGl0cyBwYXJlbnQgcm91dGVzLmBcbiAgICAgICk7XG4gICAgICBtZXRhLnJlbGF0aXZlUGF0aCA9IG1ldGEucmVsYXRpdmVQYXRoLnNsaWNlKHBhcmVudFBhdGgubGVuZ3RoKTtcbiAgICB9XG4gICAgbGV0IHBhdGggPSBqb2luUGF0aHMoW3BhcmVudFBhdGgsIG1ldGEucmVsYXRpdmVQYXRoXSk7XG4gICAgbGV0IHJvdXRlc01ldGEgPSBwYXJlbnRzTWV0YS5jb25jYXQobWV0YSk7XG4gICAgaWYgKHJvdXRlLmNoaWxkcmVuICYmIHJvdXRlLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgLy8gT3VyIHR5cGVzIGtub3cgYmV0dGVyLCBidXQgcnVudGltZSBKUyBtYXkgbm90IVxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgIHJvdXRlLmluZGV4ICE9PSB0cnVlLFxuICAgICAgICBgSW5kZXggcm91dGVzIG11c3Qgbm90IGhhdmUgY2hpbGQgcm91dGVzLiBQbGVhc2UgcmVtb3ZlIGFsbCBjaGlsZCByb3V0ZXMgZnJvbSByb3V0ZSBwYXRoIFwiJHtwYXRofVwiLmBcbiAgICAgICk7XG4gICAgICBmbGF0dGVuUm91dGVzKFxuICAgICAgICByb3V0ZS5jaGlsZHJlbixcbiAgICAgICAgYnJhbmNoZXMsXG4gICAgICAgIHJvdXRlc01ldGEsXG4gICAgICAgIHBhdGgsXG4gICAgICAgIGhhc1BhcmVudE9wdGlvbmFsU2VnbWVudHNcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChyb3V0ZS5wYXRoID09IG51bGwgJiYgIXJvdXRlLmluZGV4KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGJyYW5jaGVzLnB1c2goe1xuICAgICAgcGF0aCxcbiAgICAgIHNjb3JlOiBjb21wdXRlU2NvcmUocGF0aCwgcm91dGUuaW5kZXgpLFxuICAgICAgcm91dGVzTWV0YVxuICAgIH0pO1xuICB9O1xuICByb3V0ZXMuZm9yRWFjaCgocm91dGUsIGluZGV4KSA9PiB7XG4gICAgaWYgKHJvdXRlLnBhdGggPT09IFwiXCIgfHwgIXJvdXRlLnBhdGg/LmluY2x1ZGVzKFwiP1wiKSkge1xuICAgICAgZmxhdHRlblJvdXRlKHJvdXRlLCBpbmRleCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobGV0IGV4cGxvZGVkIG9mIGV4cGxvZGVPcHRpb25hbFNlZ21lbnRzKHJvdXRlLnBhdGgpKSB7XG4gICAgICAgIGZsYXR0ZW5Sb3V0ZShyb3V0ZSwgaW5kZXgsIHRydWUsIGV4cGxvZGVkKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gYnJhbmNoZXM7XG59XG5mdW5jdGlvbiBleHBsb2RlT3B0aW9uYWxTZWdtZW50cyhwYXRoKSB7XG4gIGxldCBzZWdtZW50cyA9IHBhdGguc3BsaXQoXCIvXCIpO1xuICBpZiAoc2VnbWVudHMubGVuZ3RoID09PSAwKSByZXR1cm4gW107XG4gIGxldCBbZmlyc3QsIC4uLnJlc3RdID0gc2VnbWVudHM7XG4gIGxldCBpc09wdGlvbmFsID0gZmlyc3QuZW5kc1dpdGgoXCI/XCIpO1xuICBsZXQgcmVxdWlyZWQgPSBmaXJzdC5yZXBsYWNlKC9cXD8kLywgXCJcIik7XG4gIGlmIChyZXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBpc09wdGlvbmFsID8gW3JlcXVpcmVkLCBcIlwiXSA6IFtyZXF1aXJlZF07XG4gIH1cbiAgbGV0IHJlc3RFeHBsb2RlZCA9IGV4cGxvZGVPcHRpb25hbFNlZ21lbnRzKHJlc3Quam9pbihcIi9cIikpO1xuICBsZXQgcmVzdWx0ID0gW107XG4gIHJlc3VsdC5wdXNoKFxuICAgIC4uLnJlc3RFeHBsb2RlZC5tYXAoXG4gICAgICAoc3VicGF0aCkgPT4gc3VicGF0aCA9PT0gXCJcIiA/IHJlcXVpcmVkIDogW3JlcXVpcmVkLCBzdWJwYXRoXS5qb2luKFwiL1wiKVxuICAgIClcbiAgKTtcbiAgaWYgKGlzT3B0aW9uYWwpIHtcbiAgICByZXN1bHQucHVzaCguLi5yZXN0RXhwbG9kZWQpO1xuICB9XG4gIHJldHVybiByZXN1bHQubWFwKFxuICAgIChleHBsb2RlZCkgPT4gcGF0aC5zdGFydHNXaXRoKFwiL1wiKSAmJiBleHBsb2RlZCA9PT0gXCJcIiA/IFwiL1wiIDogZXhwbG9kZWRcbiAgKTtcbn1cbmZ1bmN0aW9uIHJhbmtSb3V0ZUJyYW5jaGVzKGJyYW5jaGVzKSB7XG4gIGJyYW5jaGVzLnNvcnQoXG4gICAgKGEsIGIpID0+IGEuc2NvcmUgIT09IGIuc2NvcmUgPyBiLnNjb3JlIC0gYS5zY29yZSA6IGNvbXBhcmVJbmRleGVzKFxuICAgICAgYS5yb3V0ZXNNZXRhLm1hcCgobWV0YSkgPT4gbWV0YS5jaGlsZHJlbkluZGV4KSxcbiAgICAgIGIucm91dGVzTWV0YS5tYXAoKG1ldGEpID0+IG1ldGEuY2hpbGRyZW5JbmRleClcbiAgICApXG4gICk7XG59XG52YXIgcGFyYW1SZSA9IC9eOltcXHctXSskLztcbnZhciBkeW5hbWljU2VnbWVudFZhbHVlID0gMztcbnZhciBpbmRleFJvdXRlVmFsdWUgPSAyO1xudmFyIGVtcHR5U2VnbWVudFZhbHVlID0gMTtcbnZhciBzdGF0aWNTZWdtZW50VmFsdWUgPSAxMDtcbnZhciBzcGxhdFBlbmFsdHkgPSAtMjtcbnZhciBpc1NwbGF0ID0gKHMpID0+IHMgPT09IFwiKlwiO1xuZnVuY3Rpb24gY29tcHV0ZVNjb3JlKHBhdGgsIGluZGV4KSB7XG4gIGxldCBzZWdtZW50cyA9IHBhdGguc3BsaXQoXCIvXCIpO1xuICBsZXQgaW5pdGlhbFNjb3JlID0gc2VnbWVudHMubGVuZ3RoO1xuICBpZiAoc2VnbWVudHMuc29tZShpc1NwbGF0KSkge1xuICAgIGluaXRpYWxTY29yZSArPSBzcGxhdFBlbmFsdHk7XG4gIH1cbiAgaWYgKGluZGV4KSB7XG4gICAgaW5pdGlhbFNjb3JlICs9IGluZGV4Um91dGVWYWx1ZTtcbiAgfVxuICByZXR1cm4gc2VnbWVudHMuZmlsdGVyKChzKSA9PiAhaXNTcGxhdChzKSkucmVkdWNlKFxuICAgIChzY29yZSwgc2VnbWVudCkgPT4gc2NvcmUgKyAocGFyYW1SZS50ZXN0KHNlZ21lbnQpID8gZHluYW1pY1NlZ21lbnRWYWx1ZSA6IHNlZ21lbnQgPT09IFwiXCIgPyBlbXB0eVNlZ21lbnRWYWx1ZSA6IHN0YXRpY1NlZ21lbnRWYWx1ZSksXG4gICAgaW5pdGlhbFNjb3JlXG4gICk7XG59XG5mdW5jdGlvbiBjb21wYXJlSW5kZXhlcyhhLCBiKSB7XG4gIGxldCBzaWJsaW5ncyA9IGEubGVuZ3RoID09PSBiLmxlbmd0aCAmJiBhLnNsaWNlKDAsIC0xKS5ldmVyeSgobiwgaSkgPT4gbiA9PT0gYltpXSk7XG4gIHJldHVybiBzaWJsaW5ncyA/IChcbiAgICAvLyBJZiB0d28gcm91dGVzIGFyZSBzaWJsaW5ncywgd2Ugc2hvdWxkIHRyeSB0byBtYXRjaCB0aGUgZWFybGllciBzaWJsaW5nXG4gICAgLy8gZmlyc3QuIFRoaXMgYWxsb3dzIHBlb3BsZSB0byBoYXZlIGZpbmUtZ3JhaW5lZCBjb250cm9sIG92ZXIgdGhlIG1hdGNoaW5nXG4gICAgLy8gYmVoYXZpb3IgYnkgc2ltcGx5IHB1dHRpbmcgcm91dGVzIHdpdGggaWRlbnRpY2FsIHBhdGhzIGluIHRoZSBvcmRlciB0aGV5XG4gICAgLy8gd2FudCB0aGVtIHRyaWVkLlxuICAgIGFbYS5sZW5ndGggLSAxXSAtIGJbYi5sZW5ndGggLSAxXVxuICApIDogKFxuICAgIC8vIE90aGVyd2lzZSwgaXQgZG9lc24ndCByZWFsbHkgbWFrZSBzZW5zZSB0byByYW5rIG5vbi1zaWJsaW5ncyBieSBpbmRleCxcbiAgICAvLyBzbyB0aGV5IHNvcnQgZXF1YWxseS5cbiAgICAwXG4gICk7XG59XG5mdW5jdGlvbiBtYXRjaFJvdXRlQnJhbmNoKGJyYW5jaCwgcGF0aG5hbWUsIGFsbG93UGFydGlhbCA9IGZhbHNlKSB7XG4gIGxldCB7IHJvdXRlc01ldGEgfSA9IGJyYW5jaDtcbiAgbGV0IG1hdGNoZWRQYXJhbXMgPSB7fTtcbiAgbGV0IG1hdGNoZWRQYXRobmFtZSA9IFwiL1wiO1xuICBsZXQgbWF0Y2hlcyA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHJvdXRlc01ldGEubGVuZ3RoOyArK2kpIHtcbiAgICBsZXQgbWV0YSA9IHJvdXRlc01ldGFbaV07XG4gICAgbGV0IGVuZCA9IGkgPT09IHJvdXRlc01ldGEubGVuZ3RoIC0gMTtcbiAgICBsZXQgcmVtYWluaW5nUGF0aG5hbWUgPSBtYXRjaGVkUGF0aG5hbWUgPT09IFwiL1wiID8gcGF0aG5hbWUgOiBwYXRobmFtZS5zbGljZShtYXRjaGVkUGF0aG5hbWUubGVuZ3RoKSB8fCBcIi9cIjtcbiAgICBsZXQgbWF0Y2ggPSBtYXRjaFBhdGgoXG4gICAgICB7IHBhdGg6IG1ldGEucmVsYXRpdmVQYXRoLCBjYXNlU2Vuc2l0aXZlOiBtZXRhLmNhc2VTZW5zaXRpdmUsIGVuZCB9LFxuICAgICAgcmVtYWluaW5nUGF0aG5hbWVcbiAgICApO1xuICAgIGxldCByb3V0ZSA9IG1ldGEucm91dGU7XG4gICAgaWYgKCFtYXRjaCAmJiBlbmQgJiYgYWxsb3dQYXJ0aWFsICYmICFyb3V0ZXNNZXRhW3JvdXRlc01ldGEubGVuZ3RoIC0gMV0ucm91dGUuaW5kZXgpIHtcbiAgICAgIG1hdGNoID0gbWF0Y2hQYXRoKFxuICAgICAgICB7XG4gICAgICAgICAgcGF0aDogbWV0YS5yZWxhdGl2ZVBhdGgsXG4gICAgICAgICAgY2FzZVNlbnNpdGl2ZTogbWV0YS5jYXNlU2Vuc2l0aXZlLFxuICAgICAgICAgIGVuZDogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgcmVtYWluaW5nUGF0aG5hbWVcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghbWF0Y2gpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBPYmplY3QuYXNzaWduKG1hdGNoZWRQYXJhbXMsIG1hdGNoLnBhcmFtcyk7XG4gICAgbWF0Y2hlcy5wdXNoKHtcbiAgICAgIC8vIFRPRE86IENhbiB0aGlzIGFzIGJlIGF2b2lkZWQ/XG4gICAgICBwYXJhbXM6IG1hdGNoZWRQYXJhbXMsXG4gICAgICBwYXRobmFtZTogam9pblBhdGhzKFttYXRjaGVkUGF0aG5hbWUsIG1hdGNoLnBhdGhuYW1lXSksXG4gICAgICBwYXRobmFtZUJhc2U6IG5vcm1hbGl6ZVBhdGhuYW1lKFxuICAgICAgICBqb2luUGF0aHMoW21hdGNoZWRQYXRobmFtZSwgbWF0Y2gucGF0aG5hbWVCYXNlXSlcbiAgICAgICksXG4gICAgICByb3V0ZVxuICAgIH0pO1xuICAgIGlmIChtYXRjaC5wYXRobmFtZUJhc2UgIT09IFwiL1wiKSB7XG4gICAgICBtYXRjaGVkUGF0aG5hbWUgPSBqb2luUGF0aHMoW21hdGNoZWRQYXRobmFtZSwgbWF0Y2gucGF0aG5hbWVCYXNlXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXRjaGVzO1xufVxuZnVuY3Rpb24gZ2VuZXJhdGVQYXRoKG9yaWdpbmFsUGF0aCwgcGFyYW1zID0ge30pIHtcbiAgbGV0IHBhdGggPSBvcmlnaW5hbFBhdGg7XG4gIGlmIChwYXRoLmVuZHNXaXRoKFwiKlwiKSAmJiBwYXRoICE9PSBcIipcIiAmJiAhcGF0aC5lbmRzV2l0aChcIi8qXCIpKSB7XG4gICAgd2FybmluZyhcbiAgICAgIGZhbHNlLFxuICAgICAgYFJvdXRlIHBhdGggXCIke3BhdGh9XCIgd2lsbCBiZSB0cmVhdGVkIGFzIGlmIGl0IHdlcmUgXCIke3BhdGgucmVwbGFjZSgvXFwqJC8sIFwiLypcIil9XCIgYmVjYXVzZSB0aGUgXFxgKlxcYCBjaGFyYWN0ZXIgbXVzdCBhbHdheXMgZm9sbG93IGEgXFxgL1xcYCBpbiB0aGUgcGF0dGVybi4gVG8gZ2V0IHJpZCBvZiB0aGlzIHdhcm5pbmcsIHBsZWFzZSBjaGFuZ2UgdGhlIHJvdXRlIHBhdGggdG8gXCIke3BhdGgucmVwbGFjZSgvXFwqJC8sIFwiLypcIil9XCIuYFxuICAgICk7XG4gICAgcGF0aCA9IHBhdGgucmVwbGFjZSgvXFwqJC8sIFwiLypcIik7XG4gIH1cbiAgY29uc3QgcHJlZml4ID0gcGF0aC5zdGFydHNXaXRoKFwiL1wiKSA/IFwiL1wiIDogXCJcIjtcbiAgY29uc3Qgc3RyaW5naWZ5MiA9IChwKSA9PiBwID09IG51bGwgPyBcIlwiIDogdHlwZW9mIHAgPT09IFwic3RyaW5nXCIgPyBwIDogU3RyaW5nKHApO1xuICBjb25zdCBzZWdtZW50cyA9IHBhdGguc3BsaXQoL1xcLysvKS5tYXAoKHNlZ21lbnQsIGluZGV4LCBhcnJheSkgPT4ge1xuICAgIGNvbnN0IGlzTGFzdFNlZ21lbnQgPSBpbmRleCA9PT0gYXJyYXkubGVuZ3RoIC0gMTtcbiAgICBpZiAoaXNMYXN0U2VnbWVudCAmJiBzZWdtZW50ID09PSBcIipcIikge1xuICAgICAgY29uc3Qgc3RhciA9IFwiKlwiO1xuICAgICAgcmV0dXJuIHN0cmluZ2lmeTIocGFyYW1zW3N0YXJdKTtcbiAgICB9XG4gICAgY29uc3Qga2V5TWF0Y2ggPSBzZWdtZW50Lm1hdGNoKC9eOihbXFx3LV0rKShcXD8/KSQvKTtcbiAgICBpZiAoa2V5TWF0Y2gpIHtcbiAgICAgIGNvbnN0IFssIGtleSwgb3B0aW9uYWxdID0ga2V5TWF0Y2g7XG4gICAgICBsZXQgcGFyYW0gPSBwYXJhbXNba2V5XTtcbiAgICAgIGludmFyaWFudChvcHRpb25hbCA9PT0gXCI/XCIgfHwgcGFyYW0gIT0gbnVsbCwgYE1pc3NpbmcgXCI6JHtrZXl9XCIgcGFyYW1gKTtcbiAgICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5MihwYXJhbSkpO1xuICAgIH1cbiAgICByZXR1cm4gc2VnbWVudC5yZXBsYWNlKC9cXD8kL2csIFwiXCIpO1xuICB9KS5maWx0ZXIoKHNlZ21lbnQpID0+ICEhc2VnbWVudCk7XG4gIHJldHVybiBwcmVmaXggKyBzZWdtZW50cy5qb2luKFwiL1wiKTtcbn1cbmZ1bmN0aW9uIG1hdGNoUGF0aChwYXR0ZXJuLCBwYXRobmFtZSkge1xuICBpZiAodHlwZW9mIHBhdHRlcm4gPT09IFwic3RyaW5nXCIpIHtcbiAgICBwYXR0ZXJuID0geyBwYXRoOiBwYXR0ZXJuLCBjYXNlU2Vuc2l0aXZlOiBmYWxzZSwgZW5kOiB0cnVlIH07XG4gIH1cbiAgbGV0IFttYXRjaGVyLCBjb21waWxlZFBhcmFtc10gPSBjb21waWxlUGF0aChcbiAgICBwYXR0ZXJuLnBhdGgsXG4gICAgcGF0dGVybi5jYXNlU2Vuc2l0aXZlLFxuICAgIHBhdHRlcm4uZW5kXG4gICk7XG4gIGxldCBtYXRjaCA9IHBhdGhuYW1lLm1hdGNoKG1hdGNoZXIpO1xuICBpZiAoIW1hdGNoKSByZXR1cm4gbnVsbDtcbiAgbGV0IG1hdGNoZWRQYXRobmFtZSA9IG1hdGNoWzBdO1xuICBsZXQgcGF0aG5hbWVCYXNlID0gbWF0Y2hlZFBhdGhuYW1lLnJlcGxhY2UoLyguKVxcLyskLywgXCIkMVwiKTtcbiAgbGV0IGNhcHR1cmVHcm91cHMgPSBtYXRjaC5zbGljZSgxKTtcbiAgbGV0IHBhcmFtcyA9IGNvbXBpbGVkUGFyYW1zLnJlZHVjZShcbiAgICAobWVtbzIsIHsgcGFyYW1OYW1lLCBpc09wdGlvbmFsIH0sIGluZGV4KSA9PiB7XG4gICAgICBpZiAocGFyYW1OYW1lID09PSBcIipcIikge1xuICAgICAgICBsZXQgc3BsYXRWYWx1ZSA9IGNhcHR1cmVHcm91cHNbaW5kZXhdIHx8IFwiXCI7XG4gICAgICAgIHBhdGhuYW1lQmFzZSA9IG1hdGNoZWRQYXRobmFtZS5zbGljZSgwLCBtYXRjaGVkUGF0aG5hbWUubGVuZ3RoIC0gc3BsYXRWYWx1ZS5sZW5ndGgpLnJlcGxhY2UoLyguKVxcLyskLywgXCIkMVwiKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlID0gY2FwdHVyZUdyb3Vwc1tpbmRleF07XG4gICAgICBpZiAoaXNPcHRpb25hbCAmJiAhdmFsdWUpIHtcbiAgICAgICAgbWVtbzJbcGFyYW1OYW1lXSA9IHZvaWQgMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1lbW8yW3BhcmFtTmFtZV0gPSAodmFsdWUgfHwgXCJcIikucmVwbGFjZSgvJTJGL2csIFwiL1wiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtZW1vMjtcbiAgICB9LFxuICAgIHt9XG4gICk7XG4gIHJldHVybiB7XG4gICAgcGFyYW1zLFxuICAgIHBhdGhuYW1lOiBtYXRjaGVkUGF0aG5hbWUsXG4gICAgcGF0aG5hbWVCYXNlLFxuICAgIHBhdHRlcm5cbiAgfTtcbn1cbmZ1bmN0aW9uIGNvbXBpbGVQYXRoKHBhdGgsIGNhc2VTZW5zaXRpdmUgPSBmYWxzZSwgZW5kID0gdHJ1ZSkge1xuICB3YXJuaW5nKFxuICAgIHBhdGggPT09IFwiKlwiIHx8ICFwYXRoLmVuZHNXaXRoKFwiKlwiKSB8fCBwYXRoLmVuZHNXaXRoKFwiLypcIiksXG4gICAgYFJvdXRlIHBhdGggXCIke3BhdGh9XCIgd2lsbCBiZSB0cmVhdGVkIGFzIGlmIGl0IHdlcmUgXCIke3BhdGgucmVwbGFjZSgvXFwqJC8sIFwiLypcIil9XCIgYmVjYXVzZSB0aGUgXFxgKlxcYCBjaGFyYWN0ZXIgbXVzdCBhbHdheXMgZm9sbG93IGEgXFxgL1xcYCBpbiB0aGUgcGF0dGVybi4gVG8gZ2V0IHJpZCBvZiB0aGlzIHdhcm5pbmcsIHBsZWFzZSBjaGFuZ2UgdGhlIHJvdXRlIHBhdGggdG8gXCIke3BhdGgucmVwbGFjZSgvXFwqJC8sIFwiLypcIil9XCIuYFxuICApO1xuICBsZXQgcGFyYW1zID0gW107XG4gIGxldCByZWdleHBTb3VyY2UgPSBcIl5cIiArIHBhdGgucmVwbGFjZSgvXFwvKlxcKj8kLywgXCJcIikucmVwbGFjZSgvXlxcLyovLCBcIi9cIikucmVwbGFjZSgvW1xcXFwuKiteJHt9fCgpW1xcXV0vZywgXCJcXFxcJCZcIikucmVwbGFjZShcbiAgICAvXFwvOihbXFx3LV0rKShcXD8pPy9nLFxuICAgIChfLCBwYXJhbU5hbWUsIGlzT3B0aW9uYWwpID0+IHtcbiAgICAgIHBhcmFtcy5wdXNoKHsgcGFyYW1OYW1lLCBpc09wdGlvbmFsOiBpc09wdGlvbmFsICE9IG51bGwgfSk7XG4gICAgICByZXR1cm4gaXNPcHRpb25hbCA/IFwiLz8oW15cXFxcL10rKT9cIiA6IFwiLyhbXlxcXFwvXSspXCI7XG4gICAgfVxuICApLnJlcGxhY2UoL1xcLyhbXFx3LV0rKVxcPyhcXC98JCkvZywgXCIoLyQxKT8kMlwiKTtcbiAgaWYgKHBhdGguZW5kc1dpdGgoXCIqXCIpKSB7XG4gICAgcGFyYW1zLnB1c2goeyBwYXJhbU5hbWU6IFwiKlwiIH0pO1xuICAgIHJlZ2V4cFNvdXJjZSArPSBwYXRoID09PSBcIipcIiB8fCBwYXRoID09PSBcIi8qXCIgPyBcIiguKikkXCIgOiBcIig/OlxcXFwvKC4rKXxcXFxcLyopJFwiO1xuICB9IGVsc2UgaWYgKGVuZCkge1xuICAgIHJlZ2V4cFNvdXJjZSArPSBcIlxcXFwvKiRcIjtcbiAgfSBlbHNlIGlmIChwYXRoICE9PSBcIlwiICYmIHBhdGggIT09IFwiL1wiKSB7XG4gICAgcmVnZXhwU291cmNlICs9IFwiKD86KD89XFxcXC98JCkpXCI7XG4gIH0gZWxzZSB7XG4gIH1cbiAgbGV0IG1hdGNoZXIgPSBuZXcgUmVnRXhwKHJlZ2V4cFNvdXJjZSwgY2FzZVNlbnNpdGl2ZSA/IHZvaWQgMCA6IFwiaVwiKTtcbiAgcmV0dXJuIFttYXRjaGVyLCBwYXJhbXNdO1xufVxuZnVuY3Rpb24gZGVjb2RlUGF0aCh2YWx1ZSkge1xuICB0cnkge1xuICAgIHJldHVybiB2YWx1ZS5zcGxpdChcIi9cIikubWFwKCh2KSA9PiBkZWNvZGVVUklDb21wb25lbnQodikucmVwbGFjZSgvXFwvL2csIFwiJTJGXCIpKS5qb2luKFwiL1wiKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB3YXJuaW5nKFxuICAgICAgZmFsc2UsXG4gICAgICBgVGhlIFVSTCBwYXRoIFwiJHt2YWx1ZX1cIiBjb3VsZCBub3QgYmUgZGVjb2RlZCBiZWNhdXNlIGl0IGlzIGEgbWFsZm9ybWVkIFVSTCBzZWdtZW50LiBUaGlzIGlzIHByb2JhYmx5IGR1ZSB0byBhIGJhZCBwZXJjZW50IGVuY29kaW5nICgke2Vycm9yfSkuYFxuICAgICk7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59XG5mdW5jdGlvbiBzdHJpcEJhc2VuYW1lKHBhdGhuYW1lLCBiYXNlbmFtZSkge1xuICBpZiAoYmFzZW5hbWUgPT09IFwiL1wiKSByZXR1cm4gcGF0aG5hbWU7XG4gIGlmICghcGF0aG5hbWUudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKGJhc2VuYW1lLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgbGV0IHN0YXJ0SW5kZXggPSBiYXNlbmFtZS5lbmRzV2l0aChcIi9cIikgPyBiYXNlbmFtZS5sZW5ndGggLSAxIDogYmFzZW5hbWUubGVuZ3RoO1xuICBsZXQgbmV4dENoYXIgPSBwYXRobmFtZS5jaGFyQXQoc3RhcnRJbmRleCk7XG4gIGlmIChuZXh0Q2hhciAmJiBuZXh0Q2hhciAhPT0gXCIvXCIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gcGF0aG5hbWUuc2xpY2Uoc3RhcnRJbmRleCkgfHwgXCIvXCI7XG59XG5mdW5jdGlvbiBwcmVwZW5kQmFzZW5hbWUoe1xuICBiYXNlbmFtZSxcbiAgcGF0aG5hbWVcbn0pIHtcbiAgcmV0dXJuIHBhdGhuYW1lID09PSBcIi9cIiA/IGJhc2VuYW1lIDogam9pblBhdGhzKFtiYXNlbmFtZSwgcGF0aG5hbWVdKTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVQYXRoKHRvLCBmcm9tUGF0aG5hbWUgPSBcIi9cIikge1xuICBsZXQge1xuICAgIHBhdGhuYW1lOiB0b1BhdGhuYW1lLFxuICAgIHNlYXJjaCA9IFwiXCIsXG4gICAgaGFzaCA9IFwiXCJcbiAgfSA9IHR5cGVvZiB0byA9PT0gXCJzdHJpbmdcIiA/IHBhcnNlUGF0aCh0bykgOiB0bztcbiAgbGV0IHBhdGhuYW1lID0gdG9QYXRobmFtZSA/IHRvUGF0aG5hbWUuc3RhcnRzV2l0aChcIi9cIikgPyB0b1BhdGhuYW1lIDogcmVzb2x2ZVBhdGhuYW1lKHRvUGF0aG5hbWUsIGZyb21QYXRobmFtZSkgOiBmcm9tUGF0aG5hbWU7XG4gIHJldHVybiB7XG4gICAgcGF0aG5hbWUsXG4gICAgc2VhcmNoOiBub3JtYWxpemVTZWFyY2goc2VhcmNoKSxcbiAgICBoYXNoOiBub3JtYWxpemVIYXNoKGhhc2gpXG4gIH07XG59XG5mdW5jdGlvbiByZXNvbHZlUGF0aG5hbWUocmVsYXRpdmVQYXRoLCBmcm9tUGF0aG5hbWUpIHtcbiAgbGV0IHNlZ21lbnRzID0gZnJvbVBhdGhuYW1lLnJlcGxhY2UoL1xcLyskLywgXCJcIikuc3BsaXQoXCIvXCIpO1xuICBsZXQgcmVsYXRpdmVTZWdtZW50cyA9IHJlbGF0aXZlUGF0aC5zcGxpdChcIi9cIik7XG4gIHJlbGF0aXZlU2VnbWVudHMuZm9yRWFjaCgoc2VnbWVudCkgPT4ge1xuICAgIGlmIChzZWdtZW50ID09PSBcIi4uXCIpIHtcbiAgICAgIGlmIChzZWdtZW50cy5sZW5ndGggPiAxKSBzZWdtZW50cy5wb3AoKTtcbiAgICB9IGVsc2UgaWYgKHNlZ21lbnQgIT09IFwiLlwiKSB7XG4gICAgICBzZWdtZW50cy5wdXNoKHNlZ21lbnQpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBzZWdtZW50cy5sZW5ndGggPiAxID8gc2VnbWVudHMuam9pbihcIi9cIikgOiBcIi9cIjtcbn1cbmZ1bmN0aW9uIGdldEludmFsaWRQYXRoRXJyb3IoY2hhciwgZmllbGQsIGRlc3QsIHBhdGgpIHtcbiAgcmV0dXJuIGBDYW5ub3QgaW5jbHVkZSBhICcke2NoYXJ9JyBjaGFyYWN0ZXIgaW4gYSBtYW51YWxseSBzcGVjaWZpZWQgXFxgdG8uJHtmaWVsZH1cXGAgZmllbGQgWyR7SlNPTi5zdHJpbmdpZnkoXG4gICAgcGF0aFxuICApfV0uICBQbGVhc2Ugc2VwYXJhdGUgaXQgb3V0IHRvIHRoZSBcXGB0by4ke2Rlc3R9XFxgIGZpZWxkLiBBbHRlcm5hdGl2ZWx5IHlvdSBtYXkgcHJvdmlkZSB0aGUgZnVsbCBwYXRoIGFzIGEgc3RyaW5nIGluIDxMaW5rIHRvPVwiLi4uXCI+IGFuZCB0aGUgcm91dGVyIHdpbGwgcGFyc2UgaXQgZm9yIHlvdS5gO1xufVxuZnVuY3Rpb24gZ2V0UGF0aENvbnRyaWJ1dGluZ01hdGNoZXMobWF0Y2hlcykge1xuICByZXR1cm4gbWF0Y2hlcy5maWx0ZXIoXG4gICAgKG1hdGNoLCBpbmRleCkgPT4gaW5kZXggPT09IDAgfHwgbWF0Y2gucm91dGUucGF0aCAmJiBtYXRjaC5yb3V0ZS5wYXRoLmxlbmd0aCA+IDBcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldFJlc29sdmVUb01hdGNoZXMobWF0Y2hlcykge1xuICBsZXQgcGF0aE1hdGNoZXMgPSBnZXRQYXRoQ29udHJpYnV0aW5nTWF0Y2hlcyhtYXRjaGVzKTtcbiAgcmV0dXJuIHBhdGhNYXRjaGVzLm1hcChcbiAgICAobWF0Y2gsIGlkeCkgPT4gaWR4ID09PSBwYXRoTWF0Y2hlcy5sZW5ndGggLSAxID8gbWF0Y2gucGF0aG5hbWUgOiBtYXRjaC5wYXRobmFtZUJhc2VcbiAgKTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVUbyh0b0FyZywgcm91dGVQYXRobmFtZXMsIGxvY2F0aW9uUGF0aG5hbWUsIGlzUGF0aFJlbGF0aXZlID0gZmFsc2UpIHtcbiAgbGV0IHRvO1xuICBpZiAodHlwZW9mIHRvQXJnID09PSBcInN0cmluZ1wiKSB7XG4gICAgdG8gPSBwYXJzZVBhdGgodG9BcmcpO1xuICB9IGVsc2Uge1xuICAgIHRvID0geyAuLi50b0FyZyB9O1xuICAgIGludmFyaWFudChcbiAgICAgICF0by5wYXRobmFtZSB8fCAhdG8ucGF0aG5hbWUuaW5jbHVkZXMoXCI/XCIpLFxuICAgICAgZ2V0SW52YWxpZFBhdGhFcnJvcihcIj9cIiwgXCJwYXRobmFtZVwiLCBcInNlYXJjaFwiLCB0bylcbiAgICApO1xuICAgIGludmFyaWFudChcbiAgICAgICF0by5wYXRobmFtZSB8fCAhdG8ucGF0aG5hbWUuaW5jbHVkZXMoXCIjXCIpLFxuICAgICAgZ2V0SW52YWxpZFBhdGhFcnJvcihcIiNcIiwgXCJwYXRobmFtZVwiLCBcImhhc2hcIiwgdG8pXG4gICAgKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICAhdG8uc2VhcmNoIHx8ICF0by5zZWFyY2guaW5jbHVkZXMoXCIjXCIpLFxuICAgICAgZ2V0SW52YWxpZFBhdGhFcnJvcihcIiNcIiwgXCJzZWFyY2hcIiwgXCJoYXNoXCIsIHRvKVxuICAgICk7XG4gIH1cbiAgbGV0IGlzRW1wdHlQYXRoID0gdG9BcmcgPT09IFwiXCIgfHwgdG8ucGF0aG5hbWUgPT09IFwiXCI7XG4gIGxldCB0b1BhdGhuYW1lID0gaXNFbXB0eVBhdGggPyBcIi9cIiA6IHRvLnBhdGhuYW1lO1xuICBsZXQgZnJvbTtcbiAgaWYgKHRvUGF0aG5hbWUgPT0gbnVsbCkge1xuICAgIGZyb20gPSBsb2NhdGlvblBhdGhuYW1lO1xuICB9IGVsc2Uge1xuICAgIGxldCByb3V0ZVBhdGhuYW1lSW5kZXggPSByb3V0ZVBhdGhuYW1lcy5sZW5ndGggLSAxO1xuICAgIGlmICghaXNQYXRoUmVsYXRpdmUgJiYgdG9QYXRobmFtZS5zdGFydHNXaXRoKFwiLi5cIikpIHtcbiAgICAgIGxldCB0b1NlZ21lbnRzID0gdG9QYXRobmFtZS5zcGxpdChcIi9cIik7XG4gICAgICB3aGlsZSAodG9TZWdtZW50c1swXSA9PT0gXCIuLlwiKSB7XG4gICAgICAgIHRvU2VnbWVudHMuc2hpZnQoKTtcbiAgICAgICAgcm91dGVQYXRobmFtZUluZGV4IC09IDE7XG4gICAgICB9XG4gICAgICB0by5wYXRobmFtZSA9IHRvU2VnbWVudHMuam9pbihcIi9cIik7XG4gICAgfVxuICAgIGZyb20gPSByb3V0ZVBhdGhuYW1lSW5kZXggPj0gMCA/IHJvdXRlUGF0aG5hbWVzW3JvdXRlUGF0aG5hbWVJbmRleF0gOiBcIi9cIjtcbiAgfVxuICBsZXQgcGF0aCA9IHJlc29sdmVQYXRoKHRvLCBmcm9tKTtcbiAgbGV0IGhhc0V4cGxpY2l0VHJhaWxpbmdTbGFzaCA9IHRvUGF0aG5hbWUgJiYgdG9QYXRobmFtZSAhPT0gXCIvXCIgJiYgdG9QYXRobmFtZS5lbmRzV2l0aChcIi9cIik7XG4gIGxldCBoYXNDdXJyZW50VHJhaWxpbmdTbGFzaCA9IChpc0VtcHR5UGF0aCB8fCB0b1BhdGhuYW1lID09PSBcIi5cIikgJiYgbG9jYXRpb25QYXRobmFtZS5lbmRzV2l0aChcIi9cIik7XG4gIGlmICghcGF0aC5wYXRobmFtZS5lbmRzV2l0aChcIi9cIikgJiYgKGhhc0V4cGxpY2l0VHJhaWxpbmdTbGFzaCB8fCBoYXNDdXJyZW50VHJhaWxpbmdTbGFzaCkpIHtcbiAgICBwYXRoLnBhdGhuYW1lICs9IFwiL1wiO1xuICB9XG4gIHJldHVybiBwYXRoO1xufVxudmFyIGpvaW5QYXRocyA9IChwYXRocykgPT4gcGF0aHMuam9pbihcIi9cIikucmVwbGFjZSgvXFwvXFwvKy9nLCBcIi9cIik7XG52YXIgbm9ybWFsaXplUGF0aG5hbWUgPSAocGF0aG5hbWUpID0+IHBhdGhuYW1lLnJlcGxhY2UoL1xcLyskLywgXCJcIikucmVwbGFjZSgvXlxcLyovLCBcIi9cIik7XG52YXIgbm9ybWFsaXplU2VhcmNoID0gKHNlYXJjaCkgPT4gIXNlYXJjaCB8fCBzZWFyY2ggPT09IFwiP1wiID8gXCJcIiA6IHNlYXJjaC5zdGFydHNXaXRoKFwiP1wiKSA/IHNlYXJjaCA6IFwiP1wiICsgc2VhcmNoO1xudmFyIG5vcm1hbGl6ZUhhc2ggPSAoaGFzaCkgPT4gIWhhc2ggfHwgaGFzaCA9PT0gXCIjXCIgPyBcIlwiIDogaGFzaC5zdGFydHNXaXRoKFwiI1wiKSA/IGhhc2ggOiBcIiNcIiArIGhhc2g7XG52YXIgRGF0YVdpdGhSZXNwb25zZUluaXQgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGRhdGEyLCBpbml0KSB7XG4gICAgdGhpcy50eXBlID0gXCJEYXRhV2l0aFJlc3BvbnNlSW5pdFwiO1xuICAgIHRoaXMuZGF0YSA9IGRhdGEyO1xuICAgIHRoaXMuaW5pdCA9IGluaXQgfHwgbnVsbDtcbiAgfVxufTtcbmZ1bmN0aW9uIGRhdGEoZGF0YTIsIGluaXQpIHtcbiAgcmV0dXJuIG5ldyBEYXRhV2l0aFJlc3BvbnNlSW5pdChcbiAgICBkYXRhMixcbiAgICB0eXBlb2YgaW5pdCA9PT0gXCJudW1iZXJcIiA/IHsgc3RhdHVzOiBpbml0IH0gOiBpbml0XG4gICk7XG59XG52YXIgcmVkaXJlY3QgPSAodXJsLCBpbml0ID0gMzAyKSA9PiB7XG4gIGxldCByZXNwb25zZUluaXQgPSBpbml0O1xuICBpZiAodHlwZW9mIHJlc3BvbnNlSW5pdCA9PT0gXCJudW1iZXJcIikge1xuICAgIHJlc3BvbnNlSW5pdCA9IHsgc3RhdHVzOiByZXNwb25zZUluaXQgfTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgcmVzcG9uc2VJbml0LnN0YXR1cyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJlc3BvbnNlSW5pdC5zdGF0dXMgPSAzMDI7XG4gIH1cbiAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyhyZXNwb25zZUluaXQuaGVhZGVycyk7XG4gIGhlYWRlcnMuc2V0KFwiTG9jYXRpb25cIiwgdXJsKTtcbiAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7IC4uLnJlc3BvbnNlSW5pdCwgaGVhZGVycyB9KTtcbn07XG52YXIgcmVkaXJlY3REb2N1bWVudCA9ICh1cmwsIGluaXQpID0+IHtcbiAgbGV0IHJlc3BvbnNlID0gcmVkaXJlY3QodXJsLCBpbml0KTtcbiAgcmVzcG9uc2UuaGVhZGVycy5zZXQoXCJYLVJlbWl4LVJlbG9hZC1Eb2N1bWVudFwiLCBcInRydWVcIik7XG4gIHJldHVybiByZXNwb25zZTtcbn07XG52YXIgcmVwbGFjZSA9ICh1cmwsIGluaXQpID0+IHtcbiAgbGV0IHJlc3BvbnNlID0gcmVkaXJlY3QodXJsLCBpbml0KTtcbiAgcmVzcG9uc2UuaGVhZGVycy5zZXQoXCJYLVJlbWl4LVJlcGxhY2VcIiwgXCJ0cnVlXCIpO1xuICByZXR1cm4gcmVzcG9uc2U7XG59O1xudmFyIEVycm9yUmVzcG9uc2VJbXBsID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihzdGF0dXMsIHN0YXR1c1RleHQsIGRhdGEyLCBpbnRlcm5hbCA9IGZhbHNlKSB7XG4gICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgdGhpcy5zdGF0dXNUZXh0ID0gc3RhdHVzVGV4dCB8fCBcIlwiO1xuICAgIHRoaXMuaW50ZXJuYWwgPSBpbnRlcm5hbDtcbiAgICBpZiAoZGF0YTIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgdGhpcy5kYXRhID0gZGF0YTIudG9TdHJpbmcoKTtcbiAgICAgIHRoaXMuZXJyb3IgPSBkYXRhMjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kYXRhID0gZGF0YTI7XG4gICAgfVxuICB9XG59O1xuZnVuY3Rpb24gaXNSb3V0ZUVycm9yUmVzcG9uc2UoZXJyb3IpIHtcbiAgcmV0dXJuIGVycm9yICE9IG51bGwgJiYgdHlwZW9mIGVycm9yLnN0YXR1cyA9PT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgZXJyb3Iuc3RhdHVzVGV4dCA9PT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgZXJyb3IuaW50ZXJuYWwgPT09IFwiYm9vbGVhblwiICYmIFwiZGF0YVwiIGluIGVycm9yO1xufVxuZnVuY3Rpb24gZ2V0Um91dGVQYXR0ZXJuKHBhdGhzKSB7XG4gIHJldHVybiBwYXRocy5maWx0ZXIoQm9vbGVhbikuam9pbihcIi9cIikucmVwbGFjZSgvXFwvXFwvKi9nLCBcIi9cIikgfHwgXCIvXCI7XG59XG5cbi8vIGxpYi9yb3V0ZXIvaW5zdHJ1bWVudGF0aW9uLnRzXG52YXIgVW5pbnN0cnVtZW50ZWRTeW1ib2wgPSBTeW1ib2woXCJVbmluc3RydW1lbnRlZFwiKTtcbmZ1bmN0aW9uIGdldFJvdXRlSW5zdHJ1bWVudGF0aW9uVXBkYXRlcyhmbnMsIHJvdXRlKSB7XG4gIGxldCBhZ2dyZWdhdGVkID0ge1xuICAgIGxhenk6IFtdLFxuICAgIFwibGF6eS5sb2FkZXJcIjogW10sXG4gICAgXCJsYXp5LmFjdGlvblwiOiBbXSxcbiAgICBcImxhenkubWlkZGxld2FyZVwiOiBbXSxcbiAgICBtaWRkbGV3YXJlOiBbXSxcbiAgICBsb2FkZXI6IFtdLFxuICAgIGFjdGlvbjogW11cbiAgfTtcbiAgZm5zLmZvckVhY2goXG4gICAgKGZuKSA9PiBmbih7XG4gICAgICBpZDogcm91dGUuaWQsXG4gICAgICBpbmRleDogcm91dGUuaW5kZXgsXG4gICAgICBwYXRoOiByb3V0ZS5wYXRoLFxuICAgICAgaW5zdHJ1bWVudChpKSB7XG4gICAgICAgIGxldCBrZXlzID0gT2JqZWN0LmtleXMoYWdncmVnYXRlZCk7XG4gICAgICAgIGZvciAobGV0IGtleSBvZiBrZXlzKSB7XG4gICAgICAgICAgaWYgKGlba2V5XSkge1xuICAgICAgICAgICAgYWdncmVnYXRlZFtrZXldLnB1c2goaVtrZXldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICApO1xuICBsZXQgdXBkYXRlcyA9IHt9O1xuICBpZiAodHlwZW9mIHJvdXRlLmxhenkgPT09IFwiZnVuY3Rpb25cIiAmJiBhZ2dyZWdhdGVkLmxhenkubGVuZ3RoID4gMCkge1xuICAgIGxldCBpbnN0cnVtZW50ZWQgPSB3cmFwSW1wbChhZ2dyZWdhdGVkLmxhenksIHJvdXRlLmxhenksICgpID0+IHZvaWQgMCk7XG4gICAgaWYgKGluc3RydW1lbnRlZCkge1xuICAgICAgdXBkYXRlcy5sYXp5ID0gaW5zdHJ1bWVudGVkO1xuICAgIH1cbiAgfVxuICBpZiAodHlwZW9mIHJvdXRlLmxhenkgPT09IFwib2JqZWN0XCIpIHtcbiAgICBsZXQgbGF6eU9iamVjdCA9IHJvdXRlLmxhenk7XG4gICAgW1wibWlkZGxld2FyZVwiLCBcImxvYWRlclwiLCBcImFjdGlvblwiXS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGxldCBsYXp5Rm4gPSBsYXp5T2JqZWN0W2tleV07XG4gICAgICBsZXQgaW5zdHJ1bWVudGF0aW9ucyA9IGFnZ3JlZ2F0ZWRbYGxhenkuJHtrZXl9YF07XG4gICAgICBpZiAodHlwZW9mIGxhenlGbiA9PT0gXCJmdW5jdGlvblwiICYmIGluc3RydW1lbnRhdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICBsZXQgaW5zdHJ1bWVudGVkID0gd3JhcEltcGwoaW5zdHJ1bWVudGF0aW9ucywgbGF6eUZuLCAoKSA9PiB2b2lkIDApO1xuICAgICAgICBpZiAoaW5zdHJ1bWVudGVkKSB7XG4gICAgICAgICAgdXBkYXRlcy5sYXp5ID0gT2JqZWN0LmFzc2lnbih1cGRhdGVzLmxhenkgfHwge30sIHtcbiAgICAgICAgICAgIFtrZXldOiBpbnN0cnVtZW50ZWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIFtcImxvYWRlclwiLCBcImFjdGlvblwiXS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBsZXQgaGFuZGxlciA9IHJvdXRlW2tleV07XG4gICAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSBcImZ1bmN0aW9uXCIgJiYgYWdncmVnYXRlZFtrZXldLmxlbmd0aCA+IDApIHtcbiAgICAgIGxldCBvcmlnaW5hbCA9IGhhbmRsZXJbVW5pbnN0cnVtZW50ZWRTeW1ib2xdID8/IGhhbmRsZXI7XG4gICAgICBsZXQgaW5zdHJ1bWVudGVkID0gd3JhcEltcGwoXG4gICAgICAgIGFnZ3JlZ2F0ZWRba2V5XSxcbiAgICAgICAgb3JpZ2luYWwsXG4gICAgICAgICguLi5hcmdzKSA9PiBnZXRIYW5kbGVySW5mbyhhcmdzWzBdKVxuICAgICAgKTtcbiAgICAgIGlmIChpbnN0cnVtZW50ZWQpIHtcbiAgICAgICAgaW5zdHJ1bWVudGVkW1VuaW5zdHJ1bWVudGVkU3ltYm9sXSA9IG9yaWdpbmFsO1xuICAgICAgICB1cGRhdGVzW2tleV0gPSBpbnN0cnVtZW50ZWQ7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgaWYgKHJvdXRlLm1pZGRsZXdhcmUgJiYgcm91dGUubWlkZGxld2FyZS5sZW5ndGggPiAwICYmIGFnZ3JlZ2F0ZWQubWlkZGxld2FyZS5sZW5ndGggPiAwKSB7XG4gICAgdXBkYXRlcy5taWRkbGV3YXJlID0gcm91dGUubWlkZGxld2FyZS5tYXAoKG1pZGRsZXdhcmUpID0+IHtcbiAgICAgIGxldCBvcmlnaW5hbCA9IG1pZGRsZXdhcmVbVW5pbnN0cnVtZW50ZWRTeW1ib2xdID8/IG1pZGRsZXdhcmU7XG4gICAgICBsZXQgaW5zdHJ1bWVudGVkID0gd3JhcEltcGwoXG4gICAgICAgIGFnZ3JlZ2F0ZWQubWlkZGxld2FyZSxcbiAgICAgICAgb3JpZ2luYWwsXG4gICAgICAgICguLi5hcmdzKSA9PiBnZXRIYW5kbGVySW5mbyhhcmdzWzBdKVxuICAgICAgKTtcbiAgICAgIGlmIChpbnN0cnVtZW50ZWQpIHtcbiAgICAgICAgaW5zdHJ1bWVudGVkW1VuaW5zdHJ1bWVudGVkU3ltYm9sXSA9IG9yaWdpbmFsO1xuICAgICAgICByZXR1cm4gaW5zdHJ1bWVudGVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1pZGRsZXdhcmU7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHVwZGF0ZXM7XG59XG5mdW5jdGlvbiBpbnN0cnVtZW50Q2xpZW50U2lkZVJvdXRlcihyb3V0ZXIsIGZucykge1xuICBsZXQgYWdncmVnYXRlZCA9IHtcbiAgICBuYXZpZ2F0ZTogW10sXG4gICAgZmV0Y2g6IFtdXG4gIH07XG4gIGZucy5mb3JFYWNoKFxuICAgIChmbikgPT4gZm4oe1xuICAgICAgaW5zdHJ1bWVudChpKSB7XG4gICAgICAgIGxldCBrZXlzID0gT2JqZWN0LmtleXMoaSk7XG4gICAgICAgIGZvciAobGV0IGtleSBvZiBrZXlzKSB7XG4gICAgICAgICAgaWYgKGlba2V5XSkge1xuICAgICAgICAgICAgYWdncmVnYXRlZFtrZXldLnB1c2goaVtrZXldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICApO1xuICBpZiAoYWdncmVnYXRlZC5uYXZpZ2F0ZS5sZW5ndGggPiAwKSB7XG4gICAgbGV0IG5hdmlnYXRlID0gcm91dGVyLm5hdmlnYXRlW1VuaW5zdHJ1bWVudGVkU3ltYm9sXSA/PyByb3V0ZXIubmF2aWdhdGU7XG4gICAgbGV0IGluc3RydW1lbnRlZE5hdmlnYXRlID0gd3JhcEltcGwoXG4gICAgICBhZ2dyZWdhdGVkLm5hdmlnYXRlLFxuICAgICAgbmF2aWdhdGUsXG4gICAgICAoLi4uYXJncykgPT4ge1xuICAgICAgICBsZXQgW3RvLCBvcHRzXSA9IGFyZ3M7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdG86IHR5cGVvZiB0byA9PT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgPyB0byA6IHRvID8gY3JlYXRlUGF0aCh0bykgOiBcIi5cIixcbiAgICAgICAgICAuLi5nZXRSb3V0ZXJJbmZvKHJvdXRlciwgb3B0cyA/PyB7fSlcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICApO1xuICAgIGlmIChpbnN0cnVtZW50ZWROYXZpZ2F0ZSkge1xuICAgICAgaW5zdHJ1bWVudGVkTmF2aWdhdGVbVW5pbnN0cnVtZW50ZWRTeW1ib2xdID0gbmF2aWdhdGU7XG4gICAgICByb3V0ZXIubmF2aWdhdGUgPSBpbnN0cnVtZW50ZWROYXZpZ2F0ZTtcbiAgICB9XG4gIH1cbiAgaWYgKGFnZ3JlZ2F0ZWQuZmV0Y2gubGVuZ3RoID4gMCkge1xuICAgIGxldCBmZXRjaDIgPSByb3V0ZXIuZmV0Y2hbVW5pbnN0cnVtZW50ZWRTeW1ib2xdID8/IHJvdXRlci5mZXRjaDtcbiAgICBsZXQgaW5zdHJ1bWVudGVkRmV0Y2ggPSB3cmFwSW1wbChhZ2dyZWdhdGVkLmZldGNoLCBmZXRjaDIsICguLi5hcmdzKSA9PiB7XG4gICAgICBsZXQgW2tleSwgLCBocmVmLCBvcHRzXSA9IGFyZ3M7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBocmVmOiBocmVmID8/IFwiLlwiLFxuICAgICAgICBmZXRjaGVyS2V5OiBrZXksXG4gICAgICAgIC4uLmdldFJvdXRlckluZm8ocm91dGVyLCBvcHRzID8/IHt9KVxuICAgICAgfTtcbiAgICB9KTtcbiAgICBpZiAoaW5zdHJ1bWVudGVkRmV0Y2gpIHtcbiAgICAgIGluc3RydW1lbnRlZEZldGNoW1VuaW5zdHJ1bWVudGVkU3ltYm9sXSA9IGZldGNoMjtcbiAgICAgIHJvdXRlci5mZXRjaCA9IGluc3RydW1lbnRlZEZldGNoO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcm91dGVyO1xufVxuZnVuY3Rpb24gaW5zdHJ1bWVudEhhbmRsZXIoaGFuZGxlciwgZm5zKSB7XG4gIGxldCBhZ2dyZWdhdGVkID0ge1xuICAgIHJlcXVlc3Q6IFtdXG4gIH07XG4gIGZucy5mb3JFYWNoKFxuICAgIChmbikgPT4gZm4oe1xuICAgICAgaW5zdHJ1bWVudChpKSB7XG4gICAgICAgIGxldCBrZXlzID0gT2JqZWN0LmtleXMoaSk7XG4gICAgICAgIGZvciAobGV0IGtleSBvZiBrZXlzKSB7XG4gICAgICAgICAgaWYgKGlba2V5XSkge1xuICAgICAgICAgICAgYWdncmVnYXRlZFtrZXldLnB1c2goaVtrZXldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICApO1xuICBsZXQgaW5zdHJ1bWVudGVkSGFuZGxlciA9IGhhbmRsZXI7XG4gIGlmIChhZ2dyZWdhdGVkLnJlcXVlc3QubGVuZ3RoID4gMCkge1xuICAgIGluc3RydW1lbnRlZEhhbmRsZXIgPSB3cmFwSW1wbChhZ2dyZWdhdGVkLnJlcXVlc3QsIGhhbmRsZXIsICguLi5hcmdzKSA9PiB7XG4gICAgICBsZXQgW3JlcXVlc3QsIGNvbnRleHRdID0gYXJncztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlcXVlc3Q6IGdldFJlYWRvbmx5UmVxdWVzdChyZXF1ZXN0KSxcbiAgICAgICAgY29udGV4dDogY29udGV4dCAhPSBudWxsID8gZ2V0UmVhZG9ubHlDb250ZXh0KGNvbnRleHQpIDogY29udGV4dFxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gaW5zdHJ1bWVudGVkSGFuZGxlcjtcbn1cbmZ1bmN0aW9uIHdyYXBJbXBsKGltcGxzLCBoYW5kbGVyLCBnZXRJbmZvKSB7XG4gIGlmIChpbXBscy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gYXN5bmMgKC4uLmFyZ3MpID0+IHtcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgcmVjdXJzZVJpZ2h0KFxuICAgICAgaW1wbHMsXG4gICAgICBnZXRJbmZvKC4uLmFyZ3MpLFxuICAgICAgKCkgPT4gaGFuZGxlciguLi5hcmdzKSxcbiAgICAgIGltcGxzLmxlbmd0aCAtIDFcbiAgICApO1xuICAgIGlmIChyZXN1bHQudHlwZSA9PT0gXCJlcnJvclwiKSB7XG4gICAgICB0aHJvdyByZXN1bHQudmFsdWU7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQudmFsdWU7XG4gIH07XG59XG5hc3luYyBmdW5jdGlvbiByZWN1cnNlUmlnaHQoaW1wbHMsIGluZm8sIGhhbmRsZXIsIGluZGV4KSB7XG4gIGxldCBpbXBsID0gaW1wbHNbaW5kZXhdO1xuICBsZXQgcmVzdWx0O1xuICBpZiAoIWltcGwpIHtcbiAgICB0cnkge1xuICAgICAgbGV0IHZhbHVlID0gYXdhaXQgaGFuZGxlcigpO1xuICAgICAgcmVzdWx0ID0geyB0eXBlOiBcInN1Y2Nlc3NcIiwgdmFsdWUgfTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXN1bHQgPSB7IHR5cGU6IFwiZXJyb3JcIiwgdmFsdWU6IGUgfTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbGV0IGhhbmRsZXJQcm9taXNlID0gdm9pZCAwO1xuICAgIGxldCBjYWxsSGFuZGxlciA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmIChoYW5kbGVyUHJvbWlzZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiWW91IGNhbm5vdCBjYWxsIGluc3RydW1lbnRlZCBoYW5kbGVycyBtb3JlIHRoYW4gb25jZVwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhhbmRsZXJQcm9taXNlID0gcmVjdXJzZVJpZ2h0KGltcGxzLCBpbmZvLCBoYW5kbGVyLCBpbmRleCAtIDEpO1xuICAgICAgfVxuICAgICAgcmVzdWx0ID0gYXdhaXQgaGFuZGxlclByb21pc2U7XG4gICAgICBpbnZhcmlhbnQocmVzdWx0LCBcIkV4cGVjdGVkIGEgcmVzdWx0XCIpO1xuICAgICAgaWYgKHJlc3VsdC50eXBlID09PSBcImVycm9yXCIgJiYgcmVzdWx0LnZhbHVlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBcImVycm9yXCIsIGVycm9yOiByZXN1bHQudmFsdWUgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7IHN0YXR1czogXCJzdWNjZXNzXCIsIGVycm9yOiB2b2lkIDAgfTtcbiAgICB9O1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBpbXBsKGNhbGxIYW5kbGVyLCBpbmZvKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiQW4gaW5zdHJ1bWVudGF0aW9uIGZ1bmN0aW9uIHRocmV3IGFuIGVycm9yOlwiLCBlKTtcbiAgICB9XG4gICAgaWYgKCFoYW5kbGVyUHJvbWlzZSkge1xuICAgICAgYXdhaXQgY2FsbEhhbmRsZXIoKTtcbiAgICB9XG4gICAgYXdhaXQgaGFuZGxlclByb21pc2U7XG4gIH1cbiAgaWYgKHJlc3VsdCkge1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcImVycm9yXCIsXG4gICAgdmFsdWU6IG5ldyBFcnJvcihcIk5vIHJlc3VsdCBhc3NpZ25lZCBpbiBpbnN0cnVtZW50YXRpb24gY2hhaW4uXCIpXG4gIH07XG59XG5mdW5jdGlvbiBnZXRIYW5kbGVySW5mbyhhcmdzKSB7XG4gIGxldCB7IHJlcXVlc3QsIGNvbnRleHQsIHBhcmFtcywgdW5zdGFibGVfcGF0dGVybiB9ID0gYXJncztcbiAgcmV0dXJuIHtcbiAgICByZXF1ZXN0OiBnZXRSZWFkb25seVJlcXVlc3QocmVxdWVzdCksXG4gICAgcGFyYW1zOiB7IC4uLnBhcmFtcyB9LFxuICAgIHVuc3RhYmxlX3BhdHRlcm4sXG4gICAgY29udGV4dDogZ2V0UmVhZG9ubHlDb250ZXh0KGNvbnRleHQpXG4gIH07XG59XG5mdW5jdGlvbiBnZXRSb3V0ZXJJbmZvKHJvdXRlciwgb3B0cykge1xuICByZXR1cm4ge1xuICAgIGN1cnJlbnRVcmw6IGNyZWF0ZVBhdGgocm91dGVyLnN0YXRlLmxvY2F0aW9uKSxcbiAgICAuLi5cImZvcm1NZXRob2RcIiBpbiBvcHRzID8geyBmb3JtTWV0aG9kOiBvcHRzLmZvcm1NZXRob2QgfSA6IHt9LFxuICAgIC4uLlwiZm9ybUVuY1R5cGVcIiBpbiBvcHRzID8geyBmb3JtRW5jVHlwZTogb3B0cy5mb3JtRW5jVHlwZSB9IDoge30sXG4gICAgLi4uXCJmb3JtRGF0YVwiIGluIG9wdHMgPyB7IGZvcm1EYXRhOiBvcHRzLmZvcm1EYXRhIH0gOiB7fSxcbiAgICAuLi5cImJvZHlcIiBpbiBvcHRzID8geyBib2R5OiBvcHRzLmJvZHkgfSA6IHt9XG4gIH07XG59XG5mdW5jdGlvbiBnZXRSZWFkb25seVJlcXVlc3QocmVxdWVzdCkge1xuICByZXR1cm4ge1xuICAgIG1ldGhvZDogcmVxdWVzdC5tZXRob2QsXG4gICAgdXJsOiByZXF1ZXN0LnVybCxcbiAgICBoZWFkZXJzOiB7XG4gICAgICBnZXQ6ICguLi5hcmdzKSA9PiByZXF1ZXN0LmhlYWRlcnMuZ2V0KC4uLmFyZ3MpXG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0UmVhZG9ubHlDb250ZXh0KGNvbnRleHQpIHtcbiAgaWYgKGlzUGxhaW5PYmplY3QoY29udGV4dCkpIHtcbiAgICBsZXQgZnJvemVuID0geyAuLi5jb250ZXh0IH07XG4gICAgT2JqZWN0LmZyZWV6ZShmcm96ZW4pO1xuICAgIHJldHVybiBmcm96ZW47XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldDogKGN0eCkgPT4gY29udGV4dC5nZXQoY3R4KVxuICAgIH07XG4gIH1cbn1cbnZhciBvYmplY3RQcm90b05hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoT2JqZWN0LnByb3RvdHlwZSkuc29ydCgpLmpvaW4oXCJcXDBcIik7XG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KHRoaW5nKSB7XG4gIGlmICh0aGluZyA9PT0gbnVsbCB8fCB0eXBlb2YgdGhpbmcgIT09IFwib2JqZWN0XCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpbmcpO1xuICByZXR1cm4gcHJvdG8gPT09IE9iamVjdC5wcm90b3R5cGUgfHwgcHJvdG8gPT09IG51bGwgfHwgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocHJvdG8pLnNvcnQoKS5qb2luKFwiXFwwXCIpID09PSBvYmplY3RQcm90b05hbWVzO1xufVxuXG4vLyBsaWIvcm91dGVyL3JvdXRlci50c1xudmFyIHZhbGlkTXV0YXRpb25NZXRob2RzQXJyID0gW1xuICBcIlBPU1RcIixcbiAgXCJQVVRcIixcbiAgXCJQQVRDSFwiLFxuICBcIkRFTEVURVwiXG5dO1xudmFyIHZhbGlkTXV0YXRpb25NZXRob2RzID0gbmV3IFNldChcbiAgdmFsaWRNdXRhdGlvbk1ldGhvZHNBcnJcbik7XG52YXIgdmFsaWRSZXF1ZXN0TWV0aG9kc0FyciA9IFtcbiAgXCJHRVRcIixcbiAgLi4udmFsaWRNdXRhdGlvbk1ldGhvZHNBcnJcbl07XG52YXIgdmFsaWRSZXF1ZXN0TWV0aG9kcyA9IG5ldyBTZXQodmFsaWRSZXF1ZXN0TWV0aG9kc0Fycik7XG52YXIgcmVkaXJlY3RTdGF0dXNDb2RlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFszMDEsIDMwMiwgMzAzLCAzMDcsIDMwOF0pO1xudmFyIHJlZGlyZWN0UHJlc2VydmVNZXRob2RTdGF0dXNDb2RlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFszMDcsIDMwOF0pO1xudmFyIElETEVfTkFWSUdBVElPTiA9IHtcbiAgc3RhdGU6IFwiaWRsZVwiLFxuICBsb2NhdGlvbjogdm9pZCAwLFxuICBmb3JtTWV0aG9kOiB2b2lkIDAsXG4gIGZvcm1BY3Rpb246IHZvaWQgMCxcbiAgZm9ybUVuY1R5cGU6IHZvaWQgMCxcbiAgZm9ybURhdGE6IHZvaWQgMCxcbiAganNvbjogdm9pZCAwLFxuICB0ZXh0OiB2b2lkIDBcbn07XG52YXIgSURMRV9GRVRDSEVSID0ge1xuICBzdGF0ZTogXCJpZGxlXCIsXG4gIGRhdGE6IHZvaWQgMCxcbiAgZm9ybU1ldGhvZDogdm9pZCAwLFxuICBmb3JtQWN0aW9uOiB2b2lkIDAsXG4gIGZvcm1FbmNUeXBlOiB2b2lkIDAsXG4gIGZvcm1EYXRhOiB2b2lkIDAsXG4gIGpzb246IHZvaWQgMCxcbiAgdGV4dDogdm9pZCAwXG59O1xudmFyIElETEVfQkxPQ0tFUiA9IHtcbiAgc3RhdGU6IFwidW5ibG9ja2VkXCIsXG4gIHByb2NlZWQ6IHZvaWQgMCxcbiAgcmVzZXQ6IHZvaWQgMCxcbiAgbG9jYXRpb246IHZvaWQgMFxufTtcbnZhciBBQlNPTFVURV9VUkxfUkVHRVggPSAvXig/OlthLXpdW2EtejAtOSsuLV0qOnxcXC9cXC8pL2k7XG52YXIgaXNBYnNvbHV0ZVVybCA9ICh1cmwpID0+IEFCU09MVVRFX1VSTF9SRUdFWC50ZXN0KHVybCk7XG52YXIgZGVmYXVsdE1hcFJvdXRlUHJvcGVydGllcyA9IChyb3V0ZSkgPT4gKHtcbiAgaGFzRXJyb3JCb3VuZGFyeTogQm9vbGVhbihyb3V0ZS5oYXNFcnJvckJvdW5kYXJ5KVxufSk7XG52YXIgVFJBTlNJVElPTlNfU1RPUkFHRV9LRVkgPSBcInJlbWl4LXJvdXRlci10cmFuc2l0aW9uc1wiO1xudmFyIFJlc2V0TG9hZGVyRGF0YVN5bWJvbCA9IFN5bWJvbChcIlJlc2V0TG9hZGVyRGF0YVwiKTtcbmZ1bmN0aW9uIGNyZWF0ZVJvdXRlcihpbml0KSB7XG4gIGNvbnN0IHJvdXRlcldpbmRvdyA9IGluaXQud2luZG93ID8gaW5pdC53aW5kb3cgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDogdm9pZCAwO1xuICBjb25zdCBpc0Jyb3dzZXIyID0gdHlwZW9mIHJvdXRlcldpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2Ygcm91dGVyV2luZG93LmRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiByb3V0ZXJXaW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgaW52YXJpYW50KFxuICAgIGluaXQucm91dGVzLmxlbmd0aCA+IDAsXG4gICAgXCJZb3UgbXVzdCBwcm92aWRlIGEgbm9uLWVtcHR5IHJvdXRlcyBhcnJheSB0byBjcmVhdGVSb3V0ZXJcIlxuICApO1xuICBsZXQgaHlkcmF0aW9uUm91dGVQcm9wZXJ0aWVzMiA9IGluaXQuaHlkcmF0aW9uUm91dGVQcm9wZXJ0aWVzIHx8IFtdO1xuICBsZXQgX21hcFJvdXRlUHJvcGVydGllcyA9IGluaXQubWFwUm91dGVQcm9wZXJ0aWVzIHx8IGRlZmF1bHRNYXBSb3V0ZVByb3BlcnRpZXM7XG4gIGxldCBtYXBSb3V0ZVByb3BlcnRpZXMyID0gX21hcFJvdXRlUHJvcGVydGllcztcbiAgaWYgKGluaXQudW5zdGFibGVfaW5zdHJ1bWVudGF0aW9ucykge1xuICAgIGxldCBpbnN0cnVtZW50YXRpb25zID0gaW5pdC51bnN0YWJsZV9pbnN0cnVtZW50YXRpb25zO1xuICAgIG1hcFJvdXRlUHJvcGVydGllczIgPSAocm91dGUpID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLl9tYXBSb3V0ZVByb3BlcnRpZXMocm91dGUpLFxuICAgICAgICAuLi5nZXRSb3V0ZUluc3RydW1lbnRhdGlvblVwZGF0ZXMoXG4gICAgICAgICAgaW5zdHJ1bWVudGF0aW9ucy5tYXAoKGkpID0+IGkucm91dGUpLmZpbHRlcihCb29sZWFuKSxcbiAgICAgICAgICByb3V0ZVxuICAgICAgICApXG4gICAgICB9O1xuICAgIH07XG4gIH1cbiAgbGV0IG1hbmlmZXN0ID0ge307XG4gIGxldCBkYXRhUm91dGVzID0gY29udmVydFJvdXRlc1RvRGF0YVJvdXRlcyhcbiAgICBpbml0LnJvdXRlcyxcbiAgICBtYXBSb3V0ZVByb3BlcnRpZXMyLFxuICAgIHZvaWQgMCxcbiAgICBtYW5pZmVzdFxuICApO1xuICBsZXQgaW5GbGlnaHREYXRhUm91dGVzO1xuICBsZXQgYmFzZW5hbWUgPSBpbml0LmJhc2VuYW1lIHx8IFwiL1wiO1xuICBpZiAoIWJhc2VuYW1lLnN0YXJ0c1dpdGgoXCIvXCIpKSB7XG4gICAgYmFzZW5hbWUgPSBgLyR7YmFzZW5hbWV9YDtcbiAgfVxuICBsZXQgZGF0YVN0cmF0ZWd5SW1wbCA9IGluaXQuZGF0YVN0cmF0ZWd5IHx8IGRlZmF1bHREYXRhU3RyYXRlZ3lXaXRoTWlkZGxld2FyZTtcbiAgbGV0IGZ1dHVyZSA9IHtcbiAgICAuLi5pbml0LmZ1dHVyZVxuICB9O1xuICBsZXQgdW5saXN0ZW5IaXN0b3J5ID0gbnVsbDtcbiAgbGV0IHN1YnNjcmliZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgbGV0IHNhdmVkU2Nyb2xsUG9zaXRpb25zMiA9IG51bGw7XG4gIGxldCBnZXRTY3JvbGxSZXN0b3JhdGlvbktleTIgPSBudWxsO1xuICBsZXQgZ2V0U2Nyb2xsUG9zaXRpb24gPSBudWxsO1xuICBsZXQgaW5pdGlhbFNjcm9sbFJlc3RvcmVkID0gaW5pdC5oeWRyYXRpb25EYXRhICE9IG51bGw7XG4gIGxldCBpbml0aWFsTWF0Y2hlcyA9IG1hdGNoUm91dGVzKGRhdGFSb3V0ZXMsIGluaXQuaGlzdG9yeS5sb2NhdGlvbiwgYmFzZW5hbWUpO1xuICBsZXQgaW5pdGlhbE1hdGNoZXNJc0ZPVyA9IGZhbHNlO1xuICBsZXQgaW5pdGlhbEVycm9ycyA9IG51bGw7XG4gIGxldCBpbml0aWFsaXplZDtcbiAgaWYgKGluaXRpYWxNYXRjaGVzID09IG51bGwgJiYgIWluaXQucGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb24pIHtcbiAgICBsZXQgZXJyb3IgPSBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNCwge1xuICAgICAgcGF0aG5hbWU6IGluaXQuaGlzdG9yeS5sb2NhdGlvbi5wYXRobmFtZVxuICAgIH0pO1xuICAgIGxldCB7IG1hdGNoZXMsIHJvdXRlIH0gPSBnZXRTaG9ydENpcmN1aXRNYXRjaGVzKGRhdGFSb3V0ZXMpO1xuICAgIGluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICBpbml0aWFsTWF0Y2hlcyA9IG1hdGNoZXM7XG4gICAgaW5pdGlhbEVycm9ycyA9IHsgW3JvdXRlLmlkXTogZXJyb3IgfTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoaW5pdGlhbE1hdGNoZXMgJiYgIWluaXQuaHlkcmF0aW9uRGF0YSkge1xuICAgICAgbGV0IGZvZ09mV2FyID0gY2hlY2tGb2dPZldhcihcbiAgICAgICAgaW5pdGlhbE1hdGNoZXMsXG4gICAgICAgIGRhdGFSb3V0ZXMsXG4gICAgICAgIGluaXQuaGlzdG9yeS5sb2NhdGlvbi5wYXRobmFtZVxuICAgICAgKTtcbiAgICAgIGlmIChmb2dPZldhci5hY3RpdmUpIHtcbiAgICAgICAgaW5pdGlhbE1hdGNoZXMgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWluaXRpYWxNYXRjaGVzKSB7XG4gICAgICBpbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgaW5pdGlhbE1hdGNoZXMgPSBbXTtcbiAgICAgIGxldCBmb2dPZldhciA9IGNoZWNrRm9nT2ZXYXIoXG4gICAgICAgIG51bGwsXG4gICAgICAgIGRhdGFSb3V0ZXMsXG4gICAgICAgIGluaXQuaGlzdG9yeS5sb2NhdGlvbi5wYXRobmFtZVxuICAgICAgKTtcbiAgICAgIGlmIChmb2dPZldhci5hY3RpdmUgJiYgZm9nT2ZXYXIubWF0Y2hlcykge1xuICAgICAgICBpbml0aWFsTWF0Y2hlc0lzRk9XID0gdHJ1ZTtcbiAgICAgICAgaW5pdGlhbE1hdGNoZXMgPSBmb2dPZldhci5tYXRjaGVzO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaW5pdGlhbE1hdGNoZXMuc29tZSgobSkgPT4gbS5yb3V0ZS5sYXp5KSkge1xuICAgICAgaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKCFpbml0aWFsTWF0Y2hlcy5zb21lKChtKSA9PiByb3V0ZUhhc0xvYWRlck9yTWlkZGxld2FyZShtLnJvdXRlKSkpIHtcbiAgICAgIGluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGxvYWRlckRhdGEgPSBpbml0Lmh5ZHJhdGlvbkRhdGEgPyBpbml0Lmh5ZHJhdGlvbkRhdGEubG9hZGVyRGF0YSA6IG51bGw7XG4gICAgICBsZXQgZXJyb3JzID0gaW5pdC5oeWRyYXRpb25EYXRhID8gaW5pdC5oeWRyYXRpb25EYXRhLmVycm9ycyA6IG51bGw7XG4gICAgICBpZiAoZXJyb3JzKSB7XG4gICAgICAgIGxldCBpZHggPSBpbml0aWFsTWF0Y2hlcy5maW5kSW5kZXgoXG4gICAgICAgICAgKG0pID0+IGVycm9yc1ttLnJvdXRlLmlkXSAhPT0gdm9pZCAwXG4gICAgICAgICk7XG4gICAgICAgIGluaXRpYWxpemVkID0gaW5pdGlhbE1hdGNoZXMuc2xpY2UoMCwgaWR4ICsgMSkuZXZlcnkoXG4gICAgICAgICAgKG0pID0+ICFzaG91bGRMb2FkUm91dGVPbkh5ZHJhdGlvbihtLnJvdXRlLCBsb2FkZXJEYXRhLCBlcnJvcnMpXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbml0aWFsaXplZCA9IGluaXRpYWxNYXRjaGVzLmV2ZXJ5KFxuICAgICAgICAgIChtKSA9PiAhc2hvdWxkTG9hZFJvdXRlT25IeWRyYXRpb24obS5yb3V0ZSwgbG9hZGVyRGF0YSwgZXJyb3JzKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBsZXQgcm91dGVyO1xuICBsZXQgc3RhdGUgPSB7XG4gICAgaGlzdG9yeUFjdGlvbjogaW5pdC5oaXN0b3J5LmFjdGlvbixcbiAgICBsb2NhdGlvbjogaW5pdC5oaXN0b3J5LmxvY2F0aW9uLFxuICAgIG1hdGNoZXM6IGluaXRpYWxNYXRjaGVzLFxuICAgIGluaXRpYWxpemVkLFxuICAgIG5hdmlnYXRpb246IElETEVfTkFWSUdBVElPTixcbiAgICAvLyBEb24ndCByZXN0b3JlIG9uIGluaXRpYWwgdXBkYXRlU3RhdGUoKSBpZiB3ZSB3ZXJlIFNTUidkXG4gICAgcmVzdG9yZVNjcm9sbFBvc2l0aW9uOiBpbml0Lmh5ZHJhdGlvbkRhdGEgIT0gbnVsbCA/IGZhbHNlIDogbnVsbCxcbiAgICBwcmV2ZW50U2Nyb2xsUmVzZXQ6IGZhbHNlLFxuICAgIHJldmFsaWRhdGlvbjogXCJpZGxlXCIsXG4gICAgbG9hZGVyRGF0YTogaW5pdC5oeWRyYXRpb25EYXRhICYmIGluaXQuaHlkcmF0aW9uRGF0YS5sb2FkZXJEYXRhIHx8IHt9LFxuICAgIGFjdGlvbkRhdGE6IGluaXQuaHlkcmF0aW9uRGF0YSAmJiBpbml0Lmh5ZHJhdGlvbkRhdGEuYWN0aW9uRGF0YSB8fCBudWxsLFxuICAgIGVycm9yczogaW5pdC5oeWRyYXRpb25EYXRhICYmIGluaXQuaHlkcmF0aW9uRGF0YS5lcnJvcnMgfHwgaW5pdGlhbEVycm9ycyxcbiAgICBmZXRjaGVyczogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSxcbiAgICBibG9ja2VyczogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKVxuICB9O1xuICBsZXQgcGVuZGluZ0FjdGlvbiA9IFwiUE9QXCIgLyogUG9wICovO1xuICBsZXQgcGVuZGluZ1ByZXZlbnRTY3JvbGxSZXNldCA9IGZhbHNlO1xuICBsZXQgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyO1xuICBsZXQgcGVuZGluZ1ZpZXdUcmFuc2l0aW9uRW5hYmxlZCA9IGZhbHNlO1xuICBsZXQgYXBwbGllZFZpZXdUcmFuc2l0aW9ucyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGxldCByZW1vdmVQYWdlSGlkZUV2ZW50TGlzdGVuZXIgPSBudWxsO1xuICBsZXQgaXNVbmludGVycnVwdGVkUmV2YWxpZGF0aW9uID0gZmFsc2U7XG4gIGxldCBpc1JldmFsaWRhdGlvblJlcXVpcmVkID0gZmFsc2U7XG4gIGxldCBjYW5jZWxsZWRGZXRjaGVyTG9hZHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBsZXQgZmV0Y2hDb250cm9sbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGxldCBpbmNyZW1lbnRpbmdMb2FkSWQgPSAwO1xuICBsZXQgcGVuZGluZ05hdmlnYXRpb25Mb2FkSWQgPSAtMTtcbiAgbGV0IGZldGNoUmVsb2FkSWRzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgbGV0IGZldGNoUmVkaXJlY3RJZHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBsZXQgZmV0Y2hMb2FkTWF0Y2hlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGxldCBhY3RpdmVGZXRjaGVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGxldCBmZXRjaGVyc1F1ZXVlZEZvckRlbGV0aW9uID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgbGV0IGJsb2NrZXJGdW5jdGlvbnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBsZXQgdW5ibG9ja0Jsb2NrZXJIaXN0b3J5VXBkYXRlID0gdm9pZCAwO1xuICBsZXQgcGVuZGluZ1JldmFsaWRhdGlvbkRmZCA9IG51bGw7XG4gIGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG4gICAgdW5saXN0ZW5IaXN0b3J5ID0gaW5pdC5oaXN0b3J5Lmxpc3RlbihcbiAgICAgICh7IGFjdGlvbjogaGlzdG9yeUFjdGlvbiwgbG9jYXRpb24sIGRlbHRhIH0pID0+IHtcbiAgICAgICAgaWYgKHVuYmxvY2tCbG9ja2VySGlzdG9yeVVwZGF0ZSkge1xuICAgICAgICAgIHVuYmxvY2tCbG9ja2VySGlzdG9yeVVwZGF0ZSgpO1xuICAgICAgICAgIHVuYmxvY2tCbG9ja2VySGlzdG9yeVVwZGF0ZSA9IHZvaWQgMDtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd2FybmluZyhcbiAgICAgICAgICBibG9ja2VyRnVuY3Rpb25zLnNpemUgPT09IDAgfHwgZGVsdGEgIT0gbnVsbCxcbiAgICAgICAgICBcIllvdSBhcmUgdHJ5aW5nIHRvIHVzZSBhIGJsb2NrZXIgb24gYSBQT1AgbmF2aWdhdGlvbiB0byBhIGxvY2F0aW9uIHRoYXQgd2FzIG5vdCBjcmVhdGVkIGJ5IEByZW1peC1ydW4vcm91dGVyLiBUaGlzIHdpbGwgZmFpbCBzaWxlbnRseSBpbiBwcm9kdWN0aW9uLiBUaGlzIGNhbiBoYXBwZW4gaWYgeW91IGFyZSBuYXZpZ2F0aW5nIG91dHNpZGUgdGhlIHJvdXRlciB2aWEgYHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZWAvYHdpbmRvdy5sb2NhdGlvbi5oYXNoYCBpbnN0ZWFkIG9mIHVzaW5nIHJvdXRlciBuYXZpZ2F0aW9uIEFQSXMuICBUaGlzIGNhbiBhbHNvIGhhcHBlbiBpZiB5b3UgYXJlIHVzaW5nIGNyZWF0ZUhhc2hSb3V0ZXIgYW5kIHRoZSB1c2VyIG1hbnVhbGx5IGNoYW5nZXMgdGhlIFVSTC5cIlxuICAgICAgICApO1xuICAgICAgICBsZXQgYmxvY2tlcktleSA9IHNob3VsZEJsb2NrTmF2aWdhdGlvbih7XG4gICAgICAgICAgY3VycmVudExvY2F0aW9uOiBzdGF0ZS5sb2NhdGlvbixcbiAgICAgICAgICBuZXh0TG9jYXRpb246IGxvY2F0aW9uLFxuICAgICAgICAgIGhpc3RvcnlBY3Rpb25cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChibG9ja2VyS2V5ICYmIGRlbHRhICE9IG51bGwpIHtcbiAgICAgICAgICBsZXQgbmV4dEhpc3RvcnlVcGRhdGVQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHVuYmxvY2tCbG9ja2VySGlzdG9yeVVwZGF0ZSA9IHJlc29sdmU7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaW5pdC5oaXN0b3J5LmdvKGRlbHRhICogLTEpO1xuICAgICAgICAgIHVwZGF0ZUJsb2NrZXIoYmxvY2tlcktleSwge1xuICAgICAgICAgICAgc3RhdGU6IFwiYmxvY2tlZFwiLFxuICAgICAgICAgICAgbG9jYXRpb24sXG4gICAgICAgICAgICBwcm9jZWVkKCkge1xuICAgICAgICAgICAgICB1cGRhdGVCbG9ja2VyKGJsb2NrZXJLZXksIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogXCJwcm9jZWVkaW5nXCIsXG4gICAgICAgICAgICAgICAgcHJvY2VlZDogdm9pZCAwLFxuICAgICAgICAgICAgICAgIHJlc2V0OiB2b2lkIDAsXG4gICAgICAgICAgICAgICAgbG9jYXRpb25cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIG5leHRIaXN0b3J5VXBkYXRlUHJvbWlzZS50aGVuKCgpID0+IGluaXQuaGlzdG9yeS5nbyhkZWx0YSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlc2V0KCkge1xuICAgICAgICAgICAgICBsZXQgYmxvY2tlcnMgPSBuZXcgTWFwKHN0YXRlLmJsb2NrZXJzKTtcbiAgICAgICAgICAgICAgYmxvY2tlcnMuc2V0KGJsb2NrZXJLZXksIElETEVfQkxPQ0tFUik7XG4gICAgICAgICAgICAgIHVwZGF0ZVN0YXRlKHsgYmxvY2tlcnMgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGFydE5hdmlnYXRpb24oaGlzdG9yeUFjdGlvbiwgbG9jYXRpb24pO1xuICAgICAgfVxuICAgICk7XG4gICAgaWYgKGlzQnJvd3NlcjIpIHtcbiAgICAgIHJlc3RvcmVBcHBsaWVkVHJhbnNpdGlvbnMocm91dGVyV2luZG93LCBhcHBsaWVkVmlld1RyYW5zaXRpb25zKTtcbiAgICAgIGxldCBfc2F2ZUFwcGxpZWRUcmFuc2l0aW9ucyA9ICgpID0+IHBlcnNpc3RBcHBsaWVkVHJhbnNpdGlvbnMocm91dGVyV2luZG93LCBhcHBsaWVkVmlld1RyYW5zaXRpb25zKTtcbiAgICAgIHJvdXRlcldpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicGFnZWhpZGVcIiwgX3NhdmVBcHBsaWVkVHJhbnNpdGlvbnMpO1xuICAgICAgcmVtb3ZlUGFnZUhpZGVFdmVudExpc3RlbmVyID0gKCkgPT4gcm91dGVyV2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwYWdlaGlkZVwiLCBfc2F2ZUFwcGxpZWRUcmFuc2l0aW9ucyk7XG4gICAgfVxuICAgIGlmICghc3RhdGUuaW5pdGlhbGl6ZWQpIHtcbiAgICAgIHN0YXJ0TmF2aWdhdGlvbihcIlBPUFwiIC8qIFBvcCAqLywgc3RhdGUubG9jYXRpb24sIHtcbiAgICAgICAgaW5pdGlhbEh5ZHJhdGlvbjogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByb3V0ZXI7XG4gIH1cbiAgZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICBpZiAodW5saXN0ZW5IaXN0b3J5KSB7XG4gICAgICB1bmxpc3Rlbkhpc3RvcnkoKTtcbiAgICB9XG4gICAgaWYgKHJlbW92ZVBhZ2VIaWRlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgcmVtb3ZlUGFnZUhpZGVFdmVudExpc3RlbmVyKCk7XG4gICAgfVxuICAgIHN1YnNjcmliZXJzLmNsZWFyKCk7XG4gICAgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyICYmIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlci5hYm9ydCgpO1xuICAgIHN0YXRlLmZldGNoZXJzLmZvckVhY2goKF8sIGtleSkgPT4gZGVsZXRlRmV0Y2hlcihrZXkpKTtcbiAgICBzdGF0ZS5ibG9ja2Vycy5mb3JFYWNoKChfLCBrZXkpID0+IGRlbGV0ZUJsb2NrZXIoa2V5KSk7XG4gIH1cbiAgZnVuY3Rpb24gc3Vic2NyaWJlKGZuKSB7XG4gICAgc3Vic2NyaWJlcnMuYWRkKGZuKTtcbiAgICByZXR1cm4gKCkgPT4gc3Vic2NyaWJlcnMuZGVsZXRlKGZuKTtcbiAgfVxuICBmdW5jdGlvbiB1cGRhdGVTdGF0ZShuZXdTdGF0ZSwgb3B0cyA9IHt9KSB7XG4gICAgaWYgKG5ld1N0YXRlLm1hdGNoZXMpIHtcbiAgICAgIG5ld1N0YXRlLm1hdGNoZXMgPSBuZXdTdGF0ZS5tYXRjaGVzLm1hcCgobSkgPT4ge1xuICAgICAgICBsZXQgcm91dGUgPSBtYW5pZmVzdFttLnJvdXRlLmlkXTtcbiAgICAgICAgbGV0IG1hdGNoUm91dGUgPSBtLnJvdXRlO1xuICAgICAgICBpZiAobWF0Y2hSb3V0ZS5lbGVtZW50ICE9PSByb3V0ZS5lbGVtZW50IHx8IG1hdGNoUm91dGUuZXJyb3JFbGVtZW50ICE9PSByb3V0ZS5lcnJvckVsZW1lbnQgfHwgbWF0Y2hSb3V0ZS5oeWRyYXRlRmFsbGJhY2tFbGVtZW50ICE9PSByb3V0ZS5oeWRyYXRlRmFsbGJhY2tFbGVtZW50KSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLm0sXG4gICAgICAgICAgICByb3V0ZVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG07XG4gICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGUgPSB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIC4uLm5ld1N0YXRlXG4gICAgfTtcbiAgICBsZXQgdW5tb3VudGVkRmV0Y2hlcnMgPSBbXTtcbiAgICBsZXQgbW91bnRlZEZldGNoZXJzID0gW107XG4gICAgc3RhdGUuZmV0Y2hlcnMuZm9yRWFjaCgoZmV0Y2hlciwga2V5KSA9PiB7XG4gICAgICBpZiAoZmV0Y2hlci5zdGF0ZSA9PT0gXCJpZGxlXCIpIHtcbiAgICAgICAgaWYgKGZldGNoZXJzUXVldWVkRm9yRGVsZXRpb24uaGFzKGtleSkpIHtcbiAgICAgICAgICB1bm1vdW50ZWRGZXRjaGVycy5wdXNoKGtleSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbW91bnRlZEZldGNoZXJzLnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGZldGNoZXJzUXVldWVkRm9yRGVsZXRpb24uZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBpZiAoIXN0YXRlLmZldGNoZXJzLmhhcyhrZXkpICYmICFmZXRjaENvbnRyb2xsZXJzLmhhcyhrZXkpKSB7XG4gICAgICAgIHVubW91bnRlZEZldGNoZXJzLnB1c2goa2V5KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBbLi4uc3Vic2NyaWJlcnNdLmZvckVhY2goXG4gICAgICAoc3Vic2NyaWJlcikgPT4gc3Vic2NyaWJlcihzdGF0ZSwge1xuICAgICAgICBkZWxldGVkRmV0Y2hlcnM6IHVubW91bnRlZEZldGNoZXJzLFxuICAgICAgICB2aWV3VHJhbnNpdGlvbk9wdHM6IG9wdHMudmlld1RyYW5zaXRpb25PcHRzLFxuICAgICAgICBmbHVzaFN5bmM6IG9wdHMuZmx1c2hTeW5jID09PSB0cnVlXG4gICAgICB9KVxuICAgICk7XG4gICAgdW5tb3VudGVkRmV0Y2hlcnMuZm9yRWFjaCgoa2V5KSA9PiBkZWxldGVGZXRjaGVyKGtleSkpO1xuICAgIG1vdW50ZWRGZXRjaGVycy5mb3JFYWNoKChrZXkpID0+IHN0YXRlLmZldGNoZXJzLmRlbGV0ZShrZXkpKTtcbiAgfVxuICBmdW5jdGlvbiBjb21wbGV0ZU5hdmlnYXRpb24obG9jYXRpb24sIG5ld1N0YXRlLCB7IGZsdXNoU3luYyB9ID0ge30pIHtcbiAgICBsZXQgaXNBY3Rpb25SZWxvYWQgPSBzdGF0ZS5hY3Rpb25EYXRhICE9IG51bGwgJiYgc3RhdGUubmF2aWdhdGlvbi5mb3JtTWV0aG9kICE9IG51bGwgJiYgaXNNdXRhdGlvbk1ldGhvZChzdGF0ZS5uYXZpZ2F0aW9uLmZvcm1NZXRob2QpICYmIHN0YXRlLm5hdmlnYXRpb24uc3RhdGUgPT09IFwibG9hZGluZ1wiICYmIGxvY2F0aW9uLnN0YXRlPy5faXNSZWRpcmVjdCAhPT0gdHJ1ZTtcbiAgICBsZXQgYWN0aW9uRGF0YTtcbiAgICBpZiAobmV3U3RhdGUuYWN0aW9uRGF0YSkge1xuICAgICAgaWYgKE9iamVjdC5rZXlzKG5ld1N0YXRlLmFjdGlvbkRhdGEpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgYWN0aW9uRGF0YSA9IG5ld1N0YXRlLmFjdGlvbkRhdGE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY3Rpb25EYXRhID0gbnVsbDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzQWN0aW9uUmVsb2FkKSB7XG4gICAgICBhY3Rpb25EYXRhID0gc3RhdGUuYWN0aW9uRGF0YTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWN0aW9uRGF0YSA9IG51bGw7XG4gICAgfVxuICAgIGxldCBsb2FkZXJEYXRhID0gbmV3U3RhdGUubG9hZGVyRGF0YSA/IG1lcmdlTG9hZGVyRGF0YShcbiAgICAgIHN0YXRlLmxvYWRlckRhdGEsXG4gICAgICBuZXdTdGF0ZS5sb2FkZXJEYXRhLFxuICAgICAgbmV3U3RhdGUubWF0Y2hlcyB8fCBbXSxcbiAgICAgIG5ld1N0YXRlLmVycm9yc1xuICAgICkgOiBzdGF0ZS5sb2FkZXJEYXRhO1xuICAgIGxldCBibG9ja2VycyA9IHN0YXRlLmJsb2NrZXJzO1xuICAgIGlmIChibG9ja2Vycy5zaXplID4gMCkge1xuICAgICAgYmxvY2tlcnMgPSBuZXcgTWFwKGJsb2NrZXJzKTtcbiAgICAgIGJsb2NrZXJzLmZvckVhY2goKF8sIGspID0+IGJsb2NrZXJzLnNldChrLCBJRExFX0JMT0NLRVIpKTtcbiAgICB9XG4gICAgbGV0IHJlc3RvcmVTY3JvbGxQb3NpdGlvbiA9IGlzVW5pbnRlcnJ1cHRlZFJldmFsaWRhdGlvbiA/IGZhbHNlIDogZ2V0U2F2ZWRTY3JvbGxQb3NpdGlvbihsb2NhdGlvbiwgbmV3U3RhdGUubWF0Y2hlcyB8fCBzdGF0ZS5tYXRjaGVzKTtcbiAgICBsZXQgcHJldmVudFNjcm9sbFJlc2V0ID0gcGVuZGluZ1ByZXZlbnRTY3JvbGxSZXNldCA9PT0gdHJ1ZSB8fCBzdGF0ZS5uYXZpZ2F0aW9uLmZvcm1NZXRob2QgIT0gbnVsbCAmJiBpc011dGF0aW9uTWV0aG9kKHN0YXRlLm5hdmlnYXRpb24uZm9ybU1ldGhvZCkgJiYgbG9jYXRpb24uc3RhdGU/Ll9pc1JlZGlyZWN0ICE9PSB0cnVlO1xuICAgIGlmIChpbkZsaWdodERhdGFSb3V0ZXMpIHtcbiAgICAgIGRhdGFSb3V0ZXMgPSBpbkZsaWdodERhdGFSb3V0ZXM7XG4gICAgICBpbkZsaWdodERhdGFSb3V0ZXMgPSB2b2lkIDA7XG4gICAgfVxuICAgIGlmIChpc1VuaW50ZXJydXB0ZWRSZXZhbGlkYXRpb24pIHtcbiAgICB9IGVsc2UgaWYgKHBlbmRpbmdBY3Rpb24gPT09IFwiUE9QXCIgLyogUG9wICovKSB7XG4gICAgfSBlbHNlIGlmIChwZW5kaW5nQWN0aW9uID09PSBcIlBVU0hcIiAvKiBQdXNoICovKSB7XG4gICAgICBpbml0Lmhpc3RvcnkucHVzaChsb2NhdGlvbiwgbG9jYXRpb24uc3RhdGUpO1xuICAgIH0gZWxzZSBpZiAocGVuZGluZ0FjdGlvbiA9PT0gXCJSRVBMQUNFXCIgLyogUmVwbGFjZSAqLykge1xuICAgICAgaW5pdC5oaXN0b3J5LnJlcGxhY2UobG9jYXRpb24sIGxvY2F0aW9uLnN0YXRlKTtcbiAgICB9XG4gICAgbGV0IHZpZXdUcmFuc2l0aW9uT3B0cztcbiAgICBpZiAocGVuZGluZ0FjdGlvbiA9PT0gXCJQT1BcIiAvKiBQb3AgKi8pIHtcbiAgICAgIGxldCBwcmlvclBhdGhzID0gYXBwbGllZFZpZXdUcmFuc2l0aW9ucy5nZXQoc3RhdGUubG9jYXRpb24ucGF0aG5hbWUpO1xuICAgICAgaWYgKHByaW9yUGF0aHMgJiYgcHJpb3JQYXRocy5oYXMobG9jYXRpb24ucGF0aG5hbWUpKSB7XG4gICAgICAgIHZpZXdUcmFuc2l0aW9uT3B0cyA9IHtcbiAgICAgICAgICBjdXJyZW50TG9jYXRpb246IHN0YXRlLmxvY2F0aW9uLFxuICAgICAgICAgIG5leHRMb2NhdGlvbjogbG9jYXRpb25cbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSBpZiAoYXBwbGllZFZpZXdUcmFuc2l0aW9ucy5oYXMobG9jYXRpb24ucGF0aG5hbWUpKSB7XG4gICAgICAgIHZpZXdUcmFuc2l0aW9uT3B0cyA9IHtcbiAgICAgICAgICBjdXJyZW50TG9jYXRpb246IGxvY2F0aW9uLFxuICAgICAgICAgIG5leHRMb2NhdGlvbjogc3RhdGUubG9jYXRpb25cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHBlbmRpbmdWaWV3VHJhbnNpdGlvbkVuYWJsZWQpIHtcbiAgICAgIGxldCB0b1BhdGhzID0gYXBwbGllZFZpZXdUcmFuc2l0aW9ucy5nZXQoc3RhdGUubG9jYXRpb24ucGF0aG5hbWUpO1xuICAgICAgaWYgKHRvUGF0aHMpIHtcbiAgICAgICAgdG9QYXRocy5hZGQobG9jYXRpb24ucGF0aG5hbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9QYXRocyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFtsb2NhdGlvbi5wYXRobmFtZV0pO1xuICAgICAgICBhcHBsaWVkVmlld1RyYW5zaXRpb25zLnNldChzdGF0ZS5sb2NhdGlvbi5wYXRobmFtZSwgdG9QYXRocyk7XG4gICAgICB9XG4gICAgICB2aWV3VHJhbnNpdGlvbk9wdHMgPSB7XG4gICAgICAgIGN1cnJlbnRMb2NhdGlvbjogc3RhdGUubG9jYXRpb24sXG4gICAgICAgIG5leHRMb2NhdGlvbjogbG9jYXRpb25cbiAgICAgIH07XG4gICAgfVxuICAgIHVwZGF0ZVN0YXRlKFxuICAgICAge1xuICAgICAgICAuLi5uZXdTdGF0ZSxcbiAgICAgICAgLy8gbWF0Y2hlcywgZXJyb3JzLCBmZXRjaGVycyBnbyB0aHJvdWdoIGFzLWlzXG4gICAgICAgIGFjdGlvbkRhdGEsXG4gICAgICAgIGxvYWRlckRhdGEsXG4gICAgICAgIGhpc3RvcnlBY3Rpb246IHBlbmRpbmdBY3Rpb24sXG4gICAgICAgIGxvY2F0aW9uLFxuICAgICAgICBpbml0aWFsaXplZDogdHJ1ZSxcbiAgICAgICAgbmF2aWdhdGlvbjogSURMRV9OQVZJR0FUSU9OLFxuICAgICAgICByZXZhbGlkYXRpb246IFwiaWRsZVwiLFxuICAgICAgICByZXN0b3JlU2Nyb2xsUG9zaXRpb24sXG4gICAgICAgIHByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgICAgYmxvY2tlcnNcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZpZXdUcmFuc2l0aW9uT3B0cyxcbiAgICAgICAgZmx1c2hTeW5jOiBmbHVzaFN5bmMgPT09IHRydWVcbiAgICAgIH1cbiAgICApO1xuICAgIHBlbmRpbmdBY3Rpb24gPSBcIlBPUFwiIC8qIFBvcCAqLztcbiAgICBwZW5kaW5nUHJldmVudFNjcm9sbFJlc2V0ID0gZmFsc2U7XG4gICAgcGVuZGluZ1ZpZXdUcmFuc2l0aW9uRW5hYmxlZCA9IGZhbHNlO1xuICAgIGlzVW5pbnRlcnJ1cHRlZFJldmFsaWRhdGlvbiA9IGZhbHNlO1xuICAgIGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQgPSBmYWxzZTtcbiAgICBwZW5kaW5nUmV2YWxpZGF0aW9uRGZkPy5yZXNvbHZlKCk7XG4gICAgcGVuZGluZ1JldmFsaWRhdGlvbkRmZCA9IG51bGw7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gbmF2aWdhdGUodG8sIG9wdHMpIHtcbiAgICBpZiAodHlwZW9mIHRvID09PSBcIm51bWJlclwiKSB7XG4gICAgICBpbml0Lmhpc3RvcnkuZ28odG8pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgbm9ybWFsaXplZFBhdGggPSBub3JtYWxpemVUbyhcbiAgICAgIHN0YXRlLmxvY2F0aW9uLFxuICAgICAgc3RhdGUubWF0Y2hlcyxcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgdG8sXG4gICAgICBvcHRzPy5mcm9tUm91dGVJZCxcbiAgICAgIG9wdHM/LnJlbGF0aXZlXG4gICAgKTtcbiAgICBsZXQgeyBwYXRoLCBzdWJtaXNzaW9uLCBlcnJvciB9ID0gbm9ybWFsaXplTmF2aWdhdGVPcHRpb25zKFxuICAgICAgZmFsc2UsXG4gICAgICBub3JtYWxpemVkUGF0aCxcbiAgICAgIG9wdHNcbiAgICApO1xuICAgIGxldCBjdXJyZW50TG9jYXRpb24gPSBzdGF0ZS5sb2NhdGlvbjtcbiAgICBsZXQgbmV4dExvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24oc3RhdGUubG9jYXRpb24sIHBhdGgsIG9wdHMgJiYgb3B0cy5zdGF0ZSk7XG4gICAgbmV4dExvY2F0aW9uID0ge1xuICAgICAgLi4ubmV4dExvY2F0aW9uLFxuICAgICAgLi4uaW5pdC5oaXN0b3J5LmVuY29kZUxvY2F0aW9uKG5leHRMb2NhdGlvbilcbiAgICB9O1xuICAgIGxldCB1c2VyUmVwbGFjZSA9IG9wdHMgJiYgb3B0cy5yZXBsYWNlICE9IG51bGwgPyBvcHRzLnJlcGxhY2UgOiB2b2lkIDA7XG4gICAgbGV0IGhpc3RvcnlBY3Rpb24gPSBcIlBVU0hcIiAvKiBQdXNoICovO1xuICAgIGlmICh1c2VyUmVwbGFjZSA9PT0gdHJ1ZSkge1xuICAgICAgaGlzdG9yeUFjdGlvbiA9IFwiUkVQTEFDRVwiIC8qIFJlcGxhY2UgKi87XG4gICAgfSBlbHNlIGlmICh1c2VyUmVwbGFjZSA9PT0gZmFsc2UpIHtcbiAgICB9IGVsc2UgaWYgKHN1Ym1pc3Npb24gIT0gbnVsbCAmJiBpc011dGF0aW9uTWV0aG9kKHN1Ym1pc3Npb24uZm9ybU1ldGhvZCkgJiYgc3VibWlzc2lvbi5mb3JtQWN0aW9uID09PSBzdGF0ZS5sb2NhdGlvbi5wYXRobmFtZSArIHN0YXRlLmxvY2F0aW9uLnNlYXJjaCkge1xuICAgICAgaGlzdG9yeUFjdGlvbiA9IFwiUkVQTEFDRVwiIC8qIFJlcGxhY2UgKi87XG4gICAgfVxuICAgIGxldCBwcmV2ZW50U2Nyb2xsUmVzZXQgPSBvcHRzICYmIFwicHJldmVudFNjcm9sbFJlc2V0XCIgaW4gb3B0cyA/IG9wdHMucHJldmVudFNjcm9sbFJlc2V0ID09PSB0cnVlIDogdm9pZCAwO1xuICAgIGxldCBmbHVzaFN5bmMgPSAob3B0cyAmJiBvcHRzLmZsdXNoU3luYykgPT09IHRydWU7XG4gICAgbGV0IGJsb2NrZXJLZXkgPSBzaG91bGRCbG9ja05hdmlnYXRpb24oe1xuICAgICAgY3VycmVudExvY2F0aW9uLFxuICAgICAgbmV4dExvY2F0aW9uLFxuICAgICAgaGlzdG9yeUFjdGlvblxuICAgIH0pO1xuICAgIGlmIChibG9ja2VyS2V5KSB7XG4gICAgICB1cGRhdGVCbG9ja2VyKGJsb2NrZXJLZXksIHtcbiAgICAgICAgc3RhdGU6IFwiYmxvY2tlZFwiLFxuICAgICAgICBsb2NhdGlvbjogbmV4dExvY2F0aW9uLFxuICAgICAgICBwcm9jZWVkKCkge1xuICAgICAgICAgIHVwZGF0ZUJsb2NrZXIoYmxvY2tlcktleSwge1xuICAgICAgICAgICAgc3RhdGU6IFwicHJvY2VlZGluZ1wiLFxuICAgICAgICAgICAgcHJvY2VlZDogdm9pZCAwLFxuICAgICAgICAgICAgcmVzZXQ6IHZvaWQgMCxcbiAgICAgICAgICAgIGxvY2F0aW9uOiBuZXh0TG9jYXRpb25cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBuYXZpZ2F0ZSh0bywgb3B0cyk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlc2V0KCkge1xuICAgICAgICAgIGxldCBibG9ja2VycyA9IG5ldyBNYXAoc3RhdGUuYmxvY2tlcnMpO1xuICAgICAgICAgIGJsb2NrZXJzLnNldChibG9ja2VyS2V5LCBJRExFX0JMT0NLRVIpO1xuICAgICAgICAgIHVwZGF0ZVN0YXRlKHsgYmxvY2tlcnMgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhd2FpdCBzdGFydE5hdmlnYXRpb24oaGlzdG9yeUFjdGlvbiwgbmV4dExvY2F0aW9uLCB7XG4gICAgICBzdWJtaXNzaW9uLFxuICAgICAgLy8gU2VuZCB0aHJvdWdoIHRoZSBmb3JtRGF0YSBzZXJpYWxpemF0aW9uIGVycm9yIGlmIHdlIGhhdmUgb25lIHNvIHdlIGNhblxuICAgICAgLy8gcmVuZGVyIGF0IHRoZSByaWdodCBlcnJvciBib3VuZGFyeSBhZnRlciB3ZSBtYXRjaCByb3V0ZXNcbiAgICAgIHBlbmRpbmdFcnJvcjogZXJyb3IsXG4gICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICByZXBsYWNlOiBvcHRzICYmIG9wdHMucmVwbGFjZSxcbiAgICAgIGVuYWJsZVZpZXdUcmFuc2l0aW9uOiBvcHRzICYmIG9wdHMudmlld1RyYW5zaXRpb24sXG4gICAgICBmbHVzaFN5bmNcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiByZXZhbGlkYXRlKCkge1xuICAgIGlmICghcGVuZGluZ1JldmFsaWRhdGlvbkRmZCkge1xuICAgICAgcGVuZGluZ1JldmFsaWRhdGlvbkRmZCA9IGNyZWF0ZURlZmVycmVkKCk7XG4gICAgfVxuICAgIGludGVycnVwdEFjdGl2ZUxvYWRzKCk7XG4gICAgdXBkYXRlU3RhdGUoeyByZXZhbGlkYXRpb246IFwibG9hZGluZ1wiIH0pO1xuICAgIGxldCBwcm9taXNlID0gcGVuZGluZ1JldmFsaWRhdGlvbkRmZC5wcm9taXNlO1xuICAgIGlmIChzdGF0ZS5uYXZpZ2F0aW9uLnN0YXRlID09PSBcInN1Ym1pdHRpbmdcIikge1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICAgIGlmIChzdGF0ZS5uYXZpZ2F0aW9uLnN0YXRlID09PSBcImlkbGVcIikge1xuICAgICAgc3RhcnROYXZpZ2F0aW9uKHN0YXRlLmhpc3RvcnlBY3Rpb24sIHN0YXRlLmxvY2F0aW9uLCB7XG4gICAgICAgIHN0YXJ0VW5pbnRlcnJ1cHRlZFJldmFsaWRhdGlvbjogdHJ1ZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gICAgc3RhcnROYXZpZ2F0aW9uKFxuICAgICAgcGVuZGluZ0FjdGlvbiB8fCBzdGF0ZS5oaXN0b3J5QWN0aW9uLFxuICAgICAgc3RhdGUubmF2aWdhdGlvbi5sb2NhdGlvbixcbiAgICAgIHtcbiAgICAgICAgb3ZlcnJpZGVOYXZpZ2F0aW9uOiBzdGF0ZS5uYXZpZ2F0aW9uLFxuICAgICAgICAvLyBQcm94eSB0aHJvdWdoIGFueSByZW5kaW5nIHZpZXcgdHJhbnNpdGlvblxuICAgICAgICBlbmFibGVWaWV3VHJhbnNpdGlvbjogcGVuZGluZ1ZpZXdUcmFuc2l0aW9uRW5hYmxlZCA9PT0gdHJ1ZVxuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gc3RhcnROYXZpZ2F0aW9uKGhpc3RvcnlBY3Rpb24sIGxvY2F0aW9uLCBvcHRzKSB7XG4gICAgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyICYmIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlci5hYm9ydCgpO1xuICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlciA9IG51bGw7XG4gICAgcGVuZGluZ0FjdGlvbiA9IGhpc3RvcnlBY3Rpb247XG4gICAgaXNVbmludGVycnVwdGVkUmV2YWxpZGF0aW9uID0gKG9wdHMgJiYgb3B0cy5zdGFydFVuaW50ZXJydXB0ZWRSZXZhbGlkYXRpb24pID09PSB0cnVlO1xuICAgIHNhdmVTY3JvbGxQb3NpdGlvbihzdGF0ZS5sb2NhdGlvbiwgc3RhdGUubWF0Y2hlcyk7XG4gICAgcGVuZGluZ1ByZXZlbnRTY3JvbGxSZXNldCA9IChvcHRzICYmIG9wdHMucHJldmVudFNjcm9sbFJlc2V0KSA9PT0gdHJ1ZTtcbiAgICBwZW5kaW5nVmlld1RyYW5zaXRpb25FbmFibGVkID0gKG9wdHMgJiYgb3B0cy5lbmFibGVWaWV3VHJhbnNpdGlvbikgPT09IHRydWU7XG4gICAgbGV0IHJvdXRlc1RvVXNlID0gaW5GbGlnaHREYXRhUm91dGVzIHx8IGRhdGFSb3V0ZXM7XG4gICAgbGV0IGxvYWRpbmdOYXZpZ2F0aW9uID0gb3B0cyAmJiBvcHRzLm92ZXJyaWRlTmF2aWdhdGlvbjtcbiAgICBsZXQgbWF0Y2hlcyA9IG9wdHM/LmluaXRpYWxIeWRyYXRpb24gJiYgc3RhdGUubWF0Y2hlcyAmJiBzdGF0ZS5tYXRjaGVzLmxlbmd0aCA+IDAgJiYgIWluaXRpYWxNYXRjaGVzSXNGT1cgPyAoXG4gICAgICAvLyBgbWF0Y2hSb3V0ZXMoKWAgaGFzIGFscmVhZHkgYmVlbiBjYWxsZWQgaWYgd2UncmUgaW4gaGVyZSB2aWEgYHJvdXRlci5pbml0aWFsaXplKClgXG4gICAgICBzdGF0ZS5tYXRjaGVzXG4gICAgKSA6IG1hdGNoUm91dGVzKHJvdXRlc1RvVXNlLCBsb2NhdGlvbiwgYmFzZW5hbWUpO1xuICAgIGxldCBmbHVzaFN5bmMgPSAob3B0cyAmJiBvcHRzLmZsdXNoU3luYykgPT09IHRydWU7XG4gICAgaWYgKG1hdGNoZXMgJiYgc3RhdGUuaW5pdGlhbGl6ZWQgJiYgIWlzUmV2YWxpZGF0aW9uUmVxdWlyZWQgJiYgaXNIYXNoQ2hhbmdlT25seShzdGF0ZS5sb2NhdGlvbiwgbG9jYXRpb24pICYmICEob3B0cyAmJiBvcHRzLnN1Ym1pc3Npb24gJiYgaXNNdXRhdGlvbk1ldGhvZChvcHRzLnN1Ym1pc3Npb24uZm9ybU1ldGhvZCkpKSB7XG4gICAgICBjb21wbGV0ZU5hdmlnYXRpb24obG9jYXRpb24sIHsgbWF0Y2hlcyB9LCB7IGZsdXNoU3luYyB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGZvZ09mV2FyID0gY2hlY2tGb2dPZldhcihtYXRjaGVzLCByb3V0ZXNUb1VzZSwgbG9jYXRpb24ucGF0aG5hbWUpO1xuICAgIGlmIChmb2dPZldhci5hY3RpdmUgJiYgZm9nT2ZXYXIubWF0Y2hlcykge1xuICAgICAgbWF0Y2hlcyA9IGZvZ09mV2FyLm1hdGNoZXM7XG4gICAgfVxuICAgIGlmICghbWF0Y2hlcykge1xuICAgICAgbGV0IHsgZXJyb3IsIG5vdEZvdW5kTWF0Y2hlcywgcm91dGUgfSA9IGhhbmRsZU5hdmlnYXRpb25hbDQwNChcbiAgICAgICAgbG9jYXRpb24ucGF0aG5hbWVcbiAgICAgICk7XG4gICAgICBjb21wbGV0ZU5hdmlnYXRpb24oXG4gICAgICAgIGxvY2F0aW9uLFxuICAgICAgICB7XG4gICAgICAgICAgbWF0Y2hlczogbm90Rm91bmRNYXRjaGVzLFxuICAgICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICAgIGVycm9yczoge1xuICAgICAgICAgICAgW3JvdXRlLmlkXTogZXJyb3JcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHsgZmx1c2hTeW5jIH1cbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICBsZXQgcmVxdWVzdCA9IGNyZWF0ZUNsaWVudFNpZGVSZXF1ZXN0KFxuICAgICAgaW5pdC5oaXN0b3J5LFxuICAgICAgbG9jYXRpb24sXG4gICAgICBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgb3B0cyAmJiBvcHRzLnN1Ym1pc3Npb25cbiAgICApO1xuICAgIGxldCBzY29wZWRDb250ZXh0ID0gaW5pdC5nZXRDb250ZXh0ID8gYXdhaXQgaW5pdC5nZXRDb250ZXh0KCkgOiBuZXcgUm91dGVyQ29udGV4dFByb3ZpZGVyKCk7XG4gICAgbGV0IHBlbmRpbmdBY3Rpb25SZXN1bHQ7XG4gICAgaWYgKG9wdHMgJiYgb3B0cy5wZW5kaW5nRXJyb3IpIHtcbiAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHQgPSBbXG4gICAgICAgIGZpbmROZWFyZXN0Qm91bmRhcnkobWF0Y2hlcykucm91dGUuaWQsXG4gICAgICAgIHsgdHlwZTogXCJlcnJvclwiIC8qIGVycm9yICovLCBlcnJvcjogb3B0cy5wZW5kaW5nRXJyb3IgfVxuICAgICAgXTtcbiAgICB9IGVsc2UgaWYgKG9wdHMgJiYgb3B0cy5zdWJtaXNzaW9uICYmIGlzTXV0YXRpb25NZXRob2Qob3B0cy5zdWJtaXNzaW9uLmZvcm1NZXRob2QpKSB7XG4gICAgICBsZXQgYWN0aW9uUmVzdWx0ID0gYXdhaXQgaGFuZGxlQWN0aW9uKFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgb3B0cy5zdWJtaXNzaW9uLFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBzY29wZWRDb250ZXh0LFxuICAgICAgICBmb2dPZldhci5hY3RpdmUsXG4gICAgICAgIG9wdHMgJiYgb3B0cy5pbml0aWFsSHlkcmF0aW9uID09PSB0cnVlLFxuICAgICAgICB7IHJlcGxhY2U6IG9wdHMucmVwbGFjZSwgZmx1c2hTeW5jIH1cbiAgICAgICk7XG4gICAgICBpZiAoYWN0aW9uUmVzdWx0LnNob3J0Q2lyY3VpdGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChhY3Rpb25SZXN1bHQucGVuZGluZ0FjdGlvblJlc3VsdCkge1xuICAgICAgICBsZXQgW3JvdXRlSWQsIHJlc3VsdF0gPSBhY3Rpb25SZXN1bHQucGVuZGluZ0FjdGlvblJlc3VsdDtcbiAgICAgICAgaWYgKGlzRXJyb3JSZXN1bHQocmVzdWx0KSAmJiBpc1JvdXRlRXJyb3JSZXNwb25zZShyZXN1bHQuZXJyb3IpICYmIHJlc3VsdC5lcnJvci5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlciA9IG51bGw7XG4gICAgICAgICAgY29tcGxldGVOYXZpZ2F0aW9uKGxvY2F0aW9uLCB7XG4gICAgICAgICAgICBtYXRjaGVzOiBhY3Rpb25SZXN1bHQubWF0Y2hlcyxcbiAgICAgICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICAgICAgZXJyb3JzOiB7XG4gICAgICAgICAgICAgIFtyb3V0ZUlkXTogcmVzdWx0LmVycm9yXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBtYXRjaGVzID0gYWN0aW9uUmVzdWx0Lm1hdGNoZXMgfHwgbWF0Y2hlcztcbiAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHQgPSBhY3Rpb25SZXN1bHQucGVuZGluZ0FjdGlvblJlc3VsdDtcbiAgICAgIGxvYWRpbmdOYXZpZ2F0aW9uID0gZ2V0TG9hZGluZ05hdmlnYXRpb24obG9jYXRpb24sIG9wdHMuc3VibWlzc2lvbik7XG4gICAgICBmbHVzaFN5bmMgPSBmYWxzZTtcbiAgICAgIGZvZ09mV2FyLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgcmVxdWVzdCA9IGNyZWF0ZUNsaWVudFNpZGVSZXF1ZXN0KFxuICAgICAgICBpbml0Lmhpc3RvcnksXG4gICAgICAgIHJlcXVlc3QudXJsLFxuICAgICAgICByZXF1ZXN0LnNpZ25hbFxuICAgICAgKTtcbiAgICB9XG4gICAgbGV0IHtcbiAgICAgIHNob3J0Q2lyY3VpdGVkLFxuICAgICAgbWF0Y2hlczogdXBkYXRlZE1hdGNoZXMsXG4gICAgICBsb2FkZXJEYXRhLFxuICAgICAgZXJyb3JzXG4gICAgfSA9IGF3YWl0IGhhbmRsZUxvYWRlcnMoXG4gICAgICByZXF1ZXN0LFxuICAgICAgbG9jYXRpb24sXG4gICAgICBtYXRjaGVzLFxuICAgICAgc2NvcGVkQ29udGV4dCxcbiAgICAgIGZvZ09mV2FyLmFjdGl2ZSxcbiAgICAgIGxvYWRpbmdOYXZpZ2F0aW9uLFxuICAgICAgb3B0cyAmJiBvcHRzLnN1Ym1pc3Npb24sXG4gICAgICBvcHRzICYmIG9wdHMuZmV0Y2hlclN1Ym1pc3Npb24sXG4gICAgICBvcHRzICYmIG9wdHMucmVwbGFjZSxcbiAgICAgIG9wdHMgJiYgb3B0cy5pbml0aWFsSHlkcmF0aW9uID09PSB0cnVlLFxuICAgICAgZmx1c2hTeW5jLFxuICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdFxuICAgICk7XG4gICAgaWYgKHNob3J0Q2lyY3VpdGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlciA9IG51bGw7XG4gICAgY29tcGxldGVOYXZpZ2F0aW9uKGxvY2F0aW9uLCB7XG4gICAgICBtYXRjaGVzOiB1cGRhdGVkTWF0Y2hlcyB8fCBtYXRjaGVzLFxuICAgICAgLi4uZ2V0QWN0aW9uRGF0YUZvckNvbW1pdChwZW5kaW5nQWN0aW9uUmVzdWx0KSxcbiAgICAgIGxvYWRlckRhdGEsXG4gICAgICBlcnJvcnNcbiAgICB9KTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVBY3Rpb24ocmVxdWVzdCwgbG9jYXRpb24sIHN1Ym1pc3Npb24sIG1hdGNoZXMsIHNjb3BlZENvbnRleHQsIGlzRm9nT2ZXYXIsIGluaXRpYWxIeWRyYXRpb24sIG9wdHMgPSB7fSkge1xuICAgIGludGVycnVwdEFjdGl2ZUxvYWRzKCk7XG4gICAgbGV0IG5hdmlnYXRpb24gPSBnZXRTdWJtaXR0aW5nTmF2aWdhdGlvbihsb2NhdGlvbiwgc3VibWlzc2lvbik7XG4gICAgdXBkYXRlU3RhdGUoeyBuYXZpZ2F0aW9uIH0sIHsgZmx1c2hTeW5jOiBvcHRzLmZsdXNoU3luYyA9PT0gdHJ1ZSB9KTtcbiAgICBpZiAoaXNGb2dPZldhcikge1xuICAgICAgbGV0IGRpc2NvdmVyUmVzdWx0ID0gYXdhaXQgZGlzY292ZXJSb3V0ZXMoXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgICByZXF1ZXN0LnNpZ25hbFxuICAgICAgKTtcbiAgICAgIGlmIChkaXNjb3ZlclJlc3VsdC50eXBlID09PSBcImFib3J0ZWRcIikge1xuICAgICAgICByZXR1cm4geyBzaG9ydENpcmN1aXRlZDogdHJ1ZSB9O1xuICAgICAgfSBlbHNlIGlmIChkaXNjb3ZlclJlc3VsdC50eXBlID09PSBcImVycm9yXCIpIHtcbiAgICAgICAgaWYgKGRpc2NvdmVyUmVzdWx0LnBhcnRpYWxNYXRjaGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGxldCB7IG1hdGNoZXM6IG1hdGNoZXMyLCByb3V0ZSB9ID0gZ2V0U2hvcnRDaXJjdWl0TWF0Y2hlcyhkYXRhUm91dGVzKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWF0Y2hlczogbWF0Y2hlczIsXG4gICAgICAgICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0OiBbXG4gICAgICAgICAgICAgIHJvdXRlLmlkLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJlcnJvclwiIC8qIGVycm9yICovLFxuICAgICAgICAgICAgICAgIGVycm9yOiBkaXNjb3ZlclJlc3VsdC5lcnJvclxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYm91bmRhcnlJZCA9IGZpbmROZWFyZXN0Qm91bmRhcnkoZGlzY292ZXJSZXN1bHQucGFydGlhbE1hdGNoZXMpLnJvdXRlLmlkO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG1hdGNoZXM6IGRpc2NvdmVyUmVzdWx0LnBhcnRpYWxNYXRjaGVzLFxuICAgICAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHQ6IFtcbiAgICAgICAgICAgIGJvdW5kYXJ5SWQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHR5cGU6IFwiZXJyb3JcIiAvKiBlcnJvciAqLyxcbiAgICAgICAgICAgICAgZXJyb3I6IGRpc2NvdmVyUmVzdWx0LmVycm9yXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmICghZGlzY292ZXJSZXN1bHQubWF0Y2hlcykge1xuICAgICAgICBsZXQgeyBub3RGb3VuZE1hdGNoZXMsIGVycm9yLCByb3V0ZSB9ID0gaGFuZGxlTmF2aWdhdGlvbmFsNDA0KFxuICAgICAgICAgIGxvY2F0aW9uLnBhdGhuYW1lXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbWF0Y2hlczogbm90Rm91bmRNYXRjaGVzLFxuICAgICAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHQ6IFtcbiAgICAgICAgICAgIHJvdXRlLmlkLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0eXBlOiBcImVycm9yXCIgLyogZXJyb3IgKi8sXG4gICAgICAgICAgICAgIGVycm9yXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWF0Y2hlcyA9IGRpc2NvdmVyUmVzdWx0Lm1hdGNoZXM7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCByZXN1bHQ7XG4gICAgbGV0IGFjdGlvbk1hdGNoID0gZ2V0VGFyZ2V0TWF0Y2gobWF0Y2hlcywgbG9jYXRpb24pO1xuICAgIGlmICghYWN0aW9uTWF0Y2gucm91dGUuYWN0aW9uICYmICFhY3Rpb25NYXRjaC5yb3V0ZS5sYXp5KSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIHR5cGU6IFwiZXJyb3JcIiAvKiBlcnJvciAqLyxcbiAgICAgICAgZXJyb3I6IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA1LCB7XG4gICAgICAgICAgbWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcbiAgICAgICAgICBwYXRobmFtZTogbG9jYXRpb24ucGF0aG5hbWUsXG4gICAgICAgICAgcm91dGVJZDogYWN0aW9uTWF0Y2gucm91dGUuaWRcbiAgICAgICAgfSlcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBkc01hdGNoZXMgPSBnZXRUYXJnZXRlZERhdGFTdHJhdGVneU1hdGNoZXMoXG4gICAgICAgIG1hcFJvdXRlUHJvcGVydGllczIsXG4gICAgICAgIG1hbmlmZXN0LFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBhY3Rpb25NYXRjaCxcbiAgICAgICAgaW5pdGlhbEh5ZHJhdGlvbiA/IFtdIDogaHlkcmF0aW9uUm91dGVQcm9wZXJ0aWVzMixcbiAgICAgICAgc2NvcGVkQ29udGV4dFxuICAgICAgKTtcbiAgICAgIGxldCByZXN1bHRzID0gYXdhaXQgY2FsbERhdGFTdHJhdGVneShcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgZHNNYXRjaGVzLFxuICAgICAgICBzY29wZWRDb250ZXh0LFxuICAgICAgICBudWxsXG4gICAgICApO1xuICAgICAgcmVzdWx0ID0gcmVzdWx0c1thY3Rpb25NYXRjaC5yb3V0ZS5pZF07XG4gICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICBmb3IgKGxldCBtYXRjaCBvZiBtYXRjaGVzKSB7XG4gICAgICAgICAgaWYgKHJlc3VsdHNbbWF0Y2gucm91dGUuaWRdKSB7XG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHRzW21hdGNoLnJvdXRlLmlkXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHJlcXVlc3Quc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHsgc2hvcnRDaXJjdWl0ZWQ6IHRydWUgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzUmVkaXJlY3RSZXN1bHQocmVzdWx0KSkge1xuICAgICAgbGV0IHJlcGxhY2UyO1xuICAgICAgaWYgKG9wdHMgJiYgb3B0cy5yZXBsYWNlICE9IG51bGwpIHtcbiAgICAgICAgcmVwbGFjZTIgPSBvcHRzLnJlcGxhY2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgbG9jYXRpb24yID0gbm9ybWFsaXplUmVkaXJlY3RMb2NhdGlvbihcbiAgICAgICAgICByZXN1bHQucmVzcG9uc2UuaGVhZGVycy5nZXQoXCJMb2NhdGlvblwiKSxcbiAgICAgICAgICBuZXcgVVJMKHJlcXVlc3QudXJsKSxcbiAgICAgICAgICBiYXNlbmFtZVxuICAgICAgICApO1xuICAgICAgICByZXBsYWNlMiA9IGxvY2F0aW9uMiA9PT0gc3RhdGUubG9jYXRpb24ucGF0aG5hbWUgKyBzdGF0ZS5sb2NhdGlvbi5zZWFyY2g7XG4gICAgICB9XG4gICAgICBhd2FpdCBzdGFydFJlZGlyZWN0TmF2aWdhdGlvbihyZXF1ZXN0LCByZXN1bHQsIHRydWUsIHtcbiAgICAgICAgc3VibWlzc2lvbixcbiAgICAgICAgcmVwbGFjZTogcmVwbGFjZTJcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHsgc2hvcnRDaXJjdWl0ZWQ6IHRydWUgfTtcbiAgICB9XG4gICAgaWYgKGlzRXJyb3JSZXN1bHQocmVzdWx0KSkge1xuICAgICAgbGV0IGJvdW5kYXJ5TWF0Y2ggPSBmaW5kTmVhcmVzdEJvdW5kYXJ5KG1hdGNoZXMsIGFjdGlvbk1hdGNoLnJvdXRlLmlkKTtcbiAgICAgIGlmICgob3B0cyAmJiBvcHRzLnJlcGxhY2UpICE9PSB0cnVlKSB7XG4gICAgICAgIHBlbmRpbmdBY3Rpb24gPSBcIlBVU0hcIiAvKiBQdXNoICovO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdDogW1xuICAgICAgICAgIGJvdW5kYXJ5TWF0Y2gucm91dGUuaWQsXG4gICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgIGFjdGlvbk1hdGNoLnJvdXRlLmlkXG4gICAgICAgIF1cbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBtYXRjaGVzLFxuICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdDogW2FjdGlvbk1hdGNoLnJvdXRlLmlkLCByZXN1bHRdXG4gICAgfTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVMb2FkZXJzKHJlcXVlc3QsIGxvY2F0aW9uLCBtYXRjaGVzLCBzY29wZWRDb250ZXh0LCBpc0ZvZ09mV2FyLCBvdmVycmlkZU5hdmlnYXRpb24sIHN1Ym1pc3Npb24sIGZldGNoZXJTdWJtaXNzaW9uLCByZXBsYWNlMiwgaW5pdGlhbEh5ZHJhdGlvbiwgZmx1c2hTeW5jLCBwZW5kaW5nQWN0aW9uUmVzdWx0KSB7XG4gICAgbGV0IGxvYWRpbmdOYXZpZ2F0aW9uID0gb3ZlcnJpZGVOYXZpZ2F0aW9uIHx8IGdldExvYWRpbmdOYXZpZ2F0aW9uKGxvY2F0aW9uLCBzdWJtaXNzaW9uKTtcbiAgICBsZXQgYWN0aXZlU3VibWlzc2lvbiA9IHN1Ym1pc3Npb24gfHwgZmV0Y2hlclN1Ym1pc3Npb24gfHwgZ2V0U3VibWlzc2lvbkZyb21OYXZpZ2F0aW9uKGxvYWRpbmdOYXZpZ2F0aW9uKTtcbiAgICBsZXQgc2hvdWxkVXBkYXRlTmF2aWdhdGlvblN0YXRlID0gIWlzVW5pbnRlcnJ1cHRlZFJldmFsaWRhdGlvbiAmJiAhaW5pdGlhbEh5ZHJhdGlvbjtcbiAgICBpZiAoaXNGb2dPZldhcikge1xuICAgICAgaWYgKHNob3VsZFVwZGF0ZU5hdmlnYXRpb25TdGF0ZSkge1xuICAgICAgICBsZXQgYWN0aW9uRGF0YSA9IGdldFVwZGF0ZWRBY3Rpb25EYXRhKHBlbmRpbmdBY3Rpb25SZXN1bHQpO1xuICAgICAgICB1cGRhdGVTdGF0ZShcbiAgICAgICAgICB7XG4gICAgICAgICAgICBuYXZpZ2F0aW9uOiBsb2FkaW5nTmF2aWdhdGlvbixcbiAgICAgICAgICAgIC4uLmFjdGlvbkRhdGEgIT09IHZvaWQgMCA/IHsgYWN0aW9uRGF0YSB9IDoge31cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGZsdXNoU3luY1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGxldCBkaXNjb3ZlclJlc3VsdCA9IGF3YWl0IGRpc2NvdmVyUm91dGVzKFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBsb2NhdGlvbi5wYXRobmFtZSxcbiAgICAgICAgcmVxdWVzdC5zaWduYWxcbiAgICAgICk7XG4gICAgICBpZiAoZGlzY292ZXJSZXN1bHQudHlwZSA9PT0gXCJhYm9ydGVkXCIpIHtcbiAgICAgICAgcmV0dXJuIHsgc2hvcnRDaXJjdWl0ZWQ6IHRydWUgfTtcbiAgICAgIH0gZWxzZSBpZiAoZGlzY292ZXJSZXN1bHQudHlwZSA9PT0gXCJlcnJvclwiKSB7XG4gICAgICAgIGlmIChkaXNjb3ZlclJlc3VsdC5wYXJ0aWFsTWF0Y2hlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBsZXQgeyBtYXRjaGVzOiBtYXRjaGVzMiwgcm91dGUgfSA9IGdldFNob3J0Q2lyY3VpdE1hdGNoZXMoZGF0YVJvdXRlcyk7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1hdGNoZXM6IG1hdGNoZXMyLFxuICAgICAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgICAgICBlcnJvcnM6IHtcbiAgICAgICAgICAgICAgW3JvdXRlLmlkXTogZGlzY292ZXJSZXN1bHQuZXJyb3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGxldCBib3VuZGFyeUlkID0gZmluZE5lYXJlc3RCb3VuZGFyeShkaXNjb3ZlclJlc3VsdC5wYXJ0aWFsTWF0Y2hlcykucm91dGUuaWQ7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbWF0Y2hlczogZGlzY292ZXJSZXN1bHQucGFydGlhbE1hdGNoZXMsXG4gICAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgICAgZXJyb3JzOiB7XG4gICAgICAgICAgICBbYm91bmRhcnlJZF06IGRpc2NvdmVyUmVzdWx0LmVycm9yXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmICghZGlzY292ZXJSZXN1bHQubWF0Y2hlcykge1xuICAgICAgICBsZXQgeyBlcnJvciwgbm90Rm91bmRNYXRjaGVzLCByb3V0ZSB9ID0gaGFuZGxlTmF2aWdhdGlvbmFsNDA0KFxuICAgICAgICAgIGxvY2F0aW9uLnBhdGhuYW1lXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbWF0Y2hlczogbm90Rm91bmRNYXRjaGVzLFxuICAgICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICAgIGVycm9yczoge1xuICAgICAgICAgICAgW3JvdXRlLmlkXTogZXJyb3JcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXRjaGVzID0gZGlzY292ZXJSZXN1bHQubWF0Y2hlcztcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHJvdXRlc1RvVXNlID0gaW5GbGlnaHREYXRhUm91dGVzIHx8IGRhdGFSb3V0ZXM7XG4gICAgbGV0IHsgZHNNYXRjaGVzLCByZXZhbGlkYXRpbmdGZXRjaGVycyB9ID0gZ2V0TWF0Y2hlc1RvTG9hZChcbiAgICAgIHJlcXVlc3QsXG4gICAgICBzY29wZWRDb250ZXh0LFxuICAgICAgbWFwUm91dGVQcm9wZXJ0aWVzMixcbiAgICAgIG1hbmlmZXN0LFxuICAgICAgaW5pdC5oaXN0b3J5LFxuICAgICAgc3RhdGUsXG4gICAgICBtYXRjaGVzLFxuICAgICAgYWN0aXZlU3VibWlzc2lvbixcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgaW5pdGlhbEh5ZHJhdGlvbiA/IFtdIDogaHlkcmF0aW9uUm91dGVQcm9wZXJ0aWVzMixcbiAgICAgIGluaXRpYWxIeWRyYXRpb24gPT09IHRydWUsXG4gICAgICBpc1JldmFsaWRhdGlvblJlcXVpcmVkLFxuICAgICAgY2FuY2VsbGVkRmV0Y2hlckxvYWRzLFxuICAgICAgZmV0Y2hlcnNRdWV1ZWRGb3JEZWxldGlvbixcbiAgICAgIGZldGNoTG9hZE1hdGNoZXMsXG4gICAgICBmZXRjaFJlZGlyZWN0SWRzLFxuICAgICAgcm91dGVzVG9Vc2UsXG4gICAgICBiYXNlbmFtZSxcbiAgICAgIGluaXQucGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb24gIT0gbnVsbCxcbiAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHRcbiAgICApO1xuICAgIHBlbmRpbmdOYXZpZ2F0aW9uTG9hZElkID0gKytpbmNyZW1lbnRpbmdMb2FkSWQ7XG4gICAgaWYgKCFpbml0LmRhdGFTdHJhdGVneSAmJiAhZHNNYXRjaGVzLnNvbWUoKG0pID0+IG0uc2hvdWxkTG9hZCkgJiYgIWRzTWF0Y2hlcy5zb21lKFxuICAgICAgKG0pID0+IG0ucm91dGUubWlkZGxld2FyZSAmJiBtLnJvdXRlLm1pZGRsZXdhcmUubGVuZ3RoID4gMFxuICAgICkgJiYgcmV2YWxpZGF0aW5nRmV0Y2hlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICBsZXQgdXBkYXRlZEZldGNoZXJzMiA9IG1hcmtGZXRjaFJlZGlyZWN0c0RvbmUoKTtcbiAgICAgIGNvbXBsZXRlTmF2aWdhdGlvbihcbiAgICAgICAgbG9jYXRpb24sXG4gICAgICAgIHtcbiAgICAgICAgICBtYXRjaGVzLFxuICAgICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICAgIC8vIENvbW1pdCBwZW5kaW5nIGVycm9yIGlmIHdlJ3JlIHNob3J0IGNpcmN1aXRpbmdcbiAgICAgICAgICBlcnJvcnM6IHBlbmRpbmdBY3Rpb25SZXN1bHQgJiYgaXNFcnJvclJlc3VsdChwZW5kaW5nQWN0aW9uUmVzdWx0WzFdKSA/IHsgW3BlbmRpbmdBY3Rpb25SZXN1bHRbMF1dOiBwZW5kaW5nQWN0aW9uUmVzdWx0WzFdLmVycm9yIH0gOiBudWxsLFxuICAgICAgICAgIC4uLmdldEFjdGlvbkRhdGFGb3JDb21taXQocGVuZGluZ0FjdGlvblJlc3VsdCksXG4gICAgICAgICAgLi4udXBkYXRlZEZldGNoZXJzMiA/IHsgZmV0Y2hlcnM6IG5ldyBNYXAoc3RhdGUuZmV0Y2hlcnMpIH0gOiB7fVxuICAgICAgICB9LFxuICAgICAgICB7IGZsdXNoU3luYyB9XG4gICAgICApO1xuICAgICAgcmV0dXJuIHsgc2hvcnRDaXJjdWl0ZWQ6IHRydWUgfTtcbiAgICB9XG4gICAgaWYgKHNob3VsZFVwZGF0ZU5hdmlnYXRpb25TdGF0ZSkge1xuICAgICAgbGV0IHVwZGF0ZXMgPSB7fTtcbiAgICAgIGlmICghaXNGb2dPZldhcikge1xuICAgICAgICB1cGRhdGVzLm5hdmlnYXRpb24gPSBsb2FkaW5nTmF2aWdhdGlvbjtcbiAgICAgICAgbGV0IGFjdGlvbkRhdGEgPSBnZXRVcGRhdGVkQWN0aW9uRGF0YShwZW5kaW5nQWN0aW9uUmVzdWx0KTtcbiAgICAgICAgaWYgKGFjdGlvbkRhdGEgIT09IHZvaWQgMCkge1xuICAgICAgICAgIHVwZGF0ZXMuYWN0aW9uRGF0YSA9IGFjdGlvbkRhdGE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChyZXZhbGlkYXRpbmdGZXRjaGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHVwZGF0ZXMuZmV0Y2hlcnMgPSBnZXRVcGRhdGVkUmV2YWxpZGF0aW5nRmV0Y2hlcnMocmV2YWxpZGF0aW5nRmV0Y2hlcnMpO1xuICAgICAgfVxuICAgICAgdXBkYXRlU3RhdGUodXBkYXRlcywgeyBmbHVzaFN5bmMgfSk7XG4gICAgfVxuICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLmZvckVhY2goKHJmKSA9PiB7XG4gICAgICBhYm9ydEZldGNoZXIocmYua2V5KTtcbiAgICAgIGlmIChyZi5jb250cm9sbGVyKSB7XG4gICAgICAgIGZldGNoQ29udHJvbGxlcnMuc2V0KHJmLmtleSwgcmYuY29udHJvbGxlcik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbGV0IGFib3J0UGVuZGluZ0ZldGNoUmV2YWxpZGF0aW9ucyA9ICgpID0+IHJldmFsaWRhdGluZ0ZldGNoZXJzLmZvckVhY2goKGYpID0+IGFib3J0RmV0Y2hlcihmLmtleSkpO1xuICAgIGlmIChwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIpIHtcbiAgICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlci5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJhYm9ydFwiLFxuICAgICAgICBhYm9ydFBlbmRpbmdGZXRjaFJldmFsaWRhdGlvbnNcbiAgICAgICk7XG4gICAgfVxuICAgIGxldCB7IGxvYWRlclJlc3VsdHMsIGZldGNoZXJSZXN1bHRzIH0gPSBhd2FpdCBjYWxsTG9hZGVyc0FuZE1heWJlUmVzb2x2ZURhdGEoXG4gICAgICBkc01hdGNoZXMsXG4gICAgICByZXZhbGlkYXRpbmdGZXRjaGVycyxcbiAgICAgIHJlcXVlc3QsXG4gICAgICBzY29wZWRDb250ZXh0XG4gICAgKTtcbiAgICBpZiAocmVxdWVzdC5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgcmV0dXJuIHsgc2hvcnRDaXJjdWl0ZWQ6IHRydWUgfTtcbiAgICB9XG4gICAgaWYgKHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlcikge1xuICAgICAgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyLnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICBcImFib3J0XCIsXG4gICAgICAgIGFib3J0UGVuZGluZ0ZldGNoUmV2YWxpZGF0aW9uc1xuICAgICAgKTtcbiAgICB9XG4gICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMuZm9yRWFjaCgocmYpID0+IGZldGNoQ29udHJvbGxlcnMuZGVsZXRlKHJmLmtleSkpO1xuICAgIGxldCByZWRpcmVjdDIgPSBmaW5kUmVkaXJlY3QobG9hZGVyUmVzdWx0cyk7XG4gICAgaWYgKHJlZGlyZWN0Mikge1xuICAgICAgYXdhaXQgc3RhcnRSZWRpcmVjdE5hdmlnYXRpb24ocmVxdWVzdCwgcmVkaXJlY3QyLnJlc3VsdCwgdHJ1ZSwge1xuICAgICAgICByZXBsYWNlOiByZXBsYWNlMlxuICAgICAgfSk7XG4gICAgICByZXR1cm4geyBzaG9ydENpcmN1aXRlZDogdHJ1ZSB9O1xuICAgIH1cbiAgICByZWRpcmVjdDIgPSBmaW5kUmVkaXJlY3QoZmV0Y2hlclJlc3VsdHMpO1xuICAgIGlmIChyZWRpcmVjdDIpIHtcbiAgICAgIGZldGNoUmVkaXJlY3RJZHMuYWRkKHJlZGlyZWN0Mi5rZXkpO1xuICAgICAgYXdhaXQgc3RhcnRSZWRpcmVjdE5hdmlnYXRpb24ocmVxdWVzdCwgcmVkaXJlY3QyLnJlc3VsdCwgdHJ1ZSwge1xuICAgICAgICByZXBsYWNlOiByZXBsYWNlMlxuICAgICAgfSk7XG4gICAgICByZXR1cm4geyBzaG9ydENpcmN1aXRlZDogdHJ1ZSB9O1xuICAgIH1cbiAgICBsZXQgeyBsb2FkZXJEYXRhLCBlcnJvcnMgfSA9IHByb2Nlc3NMb2FkZXJEYXRhKFxuICAgICAgc3RhdGUsXG4gICAgICBtYXRjaGVzLFxuICAgICAgbG9hZGVyUmVzdWx0cyxcbiAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHQsXG4gICAgICByZXZhbGlkYXRpbmdGZXRjaGVycyxcbiAgICAgIGZldGNoZXJSZXN1bHRzXG4gICAgKTtcbiAgICBpZiAoaW5pdGlhbEh5ZHJhdGlvbiAmJiBzdGF0ZS5lcnJvcnMpIHtcbiAgICAgIGVycm9ycyA9IHsgLi4uc3RhdGUuZXJyb3JzLCAuLi5lcnJvcnMgfTtcbiAgICB9XG4gICAgbGV0IHVwZGF0ZWRGZXRjaGVycyA9IG1hcmtGZXRjaFJlZGlyZWN0c0RvbmUoKTtcbiAgICBsZXQgZGlkQWJvcnRGZXRjaExvYWRzID0gYWJvcnRTdGFsZUZldGNoTG9hZHMocGVuZGluZ05hdmlnYXRpb25Mb2FkSWQpO1xuICAgIGxldCBzaG91bGRVcGRhdGVGZXRjaGVycyA9IHVwZGF0ZWRGZXRjaGVycyB8fCBkaWRBYm9ydEZldGNoTG9hZHMgfHwgcmV2YWxpZGF0aW5nRmV0Y2hlcnMubGVuZ3RoID4gMDtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0Y2hlcyxcbiAgICAgIGxvYWRlckRhdGEsXG4gICAgICBlcnJvcnMsXG4gICAgICAuLi5zaG91bGRVcGRhdGVGZXRjaGVycyA/IHsgZmV0Y2hlcnM6IG5ldyBNYXAoc3RhdGUuZmV0Y2hlcnMpIH0gOiB7fVxuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gZ2V0VXBkYXRlZEFjdGlvbkRhdGEocGVuZGluZ0FjdGlvblJlc3VsdCkge1xuICAgIGlmIChwZW5kaW5nQWN0aW9uUmVzdWx0ICYmICFpc0Vycm9yUmVzdWx0KHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0pKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBbcGVuZGluZ0FjdGlvblJlc3VsdFswXV06IHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0uZGF0YVxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKHN0YXRlLmFjdGlvbkRhdGEpIHtcbiAgICAgIGlmIChPYmplY3Qua2V5cyhzdGF0ZS5hY3Rpb25EYXRhKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc3RhdGUuYWN0aW9uRGF0YTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZ2V0VXBkYXRlZFJldmFsaWRhdGluZ0ZldGNoZXJzKHJldmFsaWRhdGluZ0ZldGNoZXJzKSB7XG4gICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMuZm9yRWFjaCgocmYpID0+IHtcbiAgICAgIGxldCBmZXRjaGVyID0gc3RhdGUuZmV0Y2hlcnMuZ2V0KHJmLmtleSk7XG4gICAgICBsZXQgcmV2YWxpZGF0aW5nRmV0Y2hlciA9IGdldExvYWRpbmdGZXRjaGVyKFxuICAgICAgICB2b2lkIDAsXG4gICAgICAgIGZldGNoZXIgPyBmZXRjaGVyLmRhdGEgOiB2b2lkIDBcbiAgICAgICk7XG4gICAgICBzdGF0ZS5mZXRjaGVycy5zZXQocmYua2V5LCByZXZhbGlkYXRpbmdGZXRjaGVyKTtcbiAgICB9KTtcbiAgICByZXR1cm4gbmV3IE1hcChzdGF0ZS5mZXRjaGVycyk7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gZmV0Y2gyKGtleSwgcm91dGVJZCwgaHJlZiwgb3B0cykge1xuICAgIGFib3J0RmV0Y2hlcihrZXkpO1xuICAgIGxldCBmbHVzaFN5bmMgPSAob3B0cyAmJiBvcHRzLmZsdXNoU3luYykgPT09IHRydWU7XG4gICAgbGV0IHJvdXRlc1RvVXNlID0gaW5GbGlnaHREYXRhUm91dGVzIHx8IGRhdGFSb3V0ZXM7XG4gICAgbGV0IG5vcm1hbGl6ZWRQYXRoID0gbm9ybWFsaXplVG8oXG4gICAgICBzdGF0ZS5sb2NhdGlvbixcbiAgICAgIHN0YXRlLm1hdGNoZXMsXG4gICAgICBiYXNlbmFtZSxcbiAgICAgIGhyZWYsXG4gICAgICByb3V0ZUlkLFxuICAgICAgb3B0cz8ucmVsYXRpdmVcbiAgICApO1xuICAgIGxldCBtYXRjaGVzID0gbWF0Y2hSb3V0ZXMocm91dGVzVG9Vc2UsIG5vcm1hbGl6ZWRQYXRoLCBiYXNlbmFtZSk7XG4gICAgbGV0IGZvZ09mV2FyID0gY2hlY2tGb2dPZldhcihtYXRjaGVzLCByb3V0ZXNUb1VzZSwgbm9ybWFsaXplZFBhdGgpO1xuICAgIGlmIChmb2dPZldhci5hY3RpdmUgJiYgZm9nT2ZXYXIubWF0Y2hlcykge1xuICAgICAgbWF0Y2hlcyA9IGZvZ09mV2FyLm1hdGNoZXM7XG4gICAgfVxuICAgIGlmICghbWF0Y2hlcykge1xuICAgICAgc2V0RmV0Y2hlckVycm9yKFxuICAgICAgICBrZXksXG4gICAgICAgIHJvdXRlSWQsXG4gICAgICAgIGdldEludGVybmFsUm91dGVyRXJyb3IoNDA0LCB7IHBhdGhuYW1lOiBub3JtYWxpemVkUGF0aCB9KSxcbiAgICAgICAgeyBmbHVzaFN5bmMgfVxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IHsgcGF0aCwgc3VibWlzc2lvbiwgZXJyb3IgfSA9IG5vcm1hbGl6ZU5hdmlnYXRlT3B0aW9ucyhcbiAgICAgIHRydWUsXG4gICAgICBub3JtYWxpemVkUGF0aCxcbiAgICAgIG9wdHNcbiAgICApO1xuICAgIGlmIChlcnJvcikge1xuICAgICAgc2V0RmV0Y2hlckVycm9yKGtleSwgcm91dGVJZCwgZXJyb3IsIHsgZmx1c2hTeW5jIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgc2NvcGVkQ29udGV4dCA9IGluaXQuZ2V0Q29udGV4dCA/IGF3YWl0IGluaXQuZ2V0Q29udGV4dCgpIDogbmV3IFJvdXRlckNvbnRleHRQcm92aWRlcigpO1xuICAgIGxldCBwcmV2ZW50U2Nyb2xsUmVzZXQgPSAob3B0cyAmJiBvcHRzLnByZXZlbnRTY3JvbGxSZXNldCkgPT09IHRydWU7XG4gICAgaWYgKHN1Ym1pc3Npb24gJiYgaXNNdXRhdGlvbk1ldGhvZChzdWJtaXNzaW9uLmZvcm1NZXRob2QpKSB7XG4gICAgICBhd2FpdCBoYW5kbGVGZXRjaGVyQWN0aW9uKFxuICAgICAgICBrZXksXG4gICAgICAgIHJvdXRlSWQsXG4gICAgICAgIHBhdGgsXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIHNjb3BlZENvbnRleHQsXG4gICAgICAgIGZvZ09mV2FyLmFjdGl2ZSxcbiAgICAgICAgZmx1c2hTeW5jLFxuICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICAgIHN1Ym1pc3Npb25cbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZldGNoTG9hZE1hdGNoZXMuc2V0KGtleSwgeyByb3V0ZUlkLCBwYXRoIH0pO1xuICAgIGF3YWl0IGhhbmRsZUZldGNoZXJMb2FkZXIoXG4gICAgICBrZXksXG4gICAgICByb3V0ZUlkLFxuICAgICAgcGF0aCxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBzY29wZWRDb250ZXh0LFxuICAgICAgZm9nT2ZXYXIuYWN0aXZlLFxuICAgICAgZmx1c2hTeW5jLFxuICAgICAgcHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgc3VibWlzc2lvblxuICAgICk7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlRmV0Y2hlckFjdGlvbihrZXksIHJvdXRlSWQsIHBhdGgsIHJlcXVlc3RNYXRjaGVzLCBzY29wZWRDb250ZXh0LCBpc0ZvZ09mV2FyLCBmbHVzaFN5bmMsIHByZXZlbnRTY3JvbGxSZXNldCwgc3VibWlzc2lvbikge1xuICAgIGludGVycnVwdEFjdGl2ZUxvYWRzKCk7XG4gICAgZmV0Y2hMb2FkTWF0Y2hlcy5kZWxldGUoa2V5KTtcbiAgICBsZXQgZXhpc3RpbmdGZXRjaGVyID0gc3RhdGUuZmV0Y2hlcnMuZ2V0KGtleSk7XG4gICAgdXBkYXRlRmV0Y2hlclN0YXRlKGtleSwgZ2V0U3VibWl0dGluZ0ZldGNoZXIoc3VibWlzc2lvbiwgZXhpc3RpbmdGZXRjaGVyKSwge1xuICAgICAgZmx1c2hTeW5jXG4gICAgfSk7XG4gICAgbGV0IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICBsZXQgZmV0Y2hSZXF1ZXN0ID0gY3JlYXRlQ2xpZW50U2lkZVJlcXVlc3QoXG4gICAgICBpbml0Lmhpc3RvcnksXG4gICAgICBwYXRoLFxuICAgICAgYWJvcnRDb250cm9sbGVyLnNpZ25hbCxcbiAgICAgIHN1Ym1pc3Npb25cbiAgICApO1xuICAgIGlmIChpc0ZvZ09mV2FyKSB7XG4gICAgICBsZXQgZGlzY292ZXJSZXN1bHQgPSBhd2FpdCBkaXNjb3ZlclJvdXRlcyhcbiAgICAgICAgcmVxdWVzdE1hdGNoZXMsXG4gICAgICAgIG5ldyBVUkwoZmV0Y2hSZXF1ZXN0LnVybCkucGF0aG5hbWUsXG4gICAgICAgIGZldGNoUmVxdWVzdC5zaWduYWwsXG4gICAgICAgIGtleVxuICAgICAgKTtcbiAgICAgIGlmIChkaXNjb3ZlclJlc3VsdC50eXBlID09PSBcImFib3J0ZWRcIikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKGRpc2NvdmVyUmVzdWx0LnR5cGUgPT09IFwiZXJyb3JcIikge1xuICAgICAgICBzZXRGZXRjaGVyRXJyb3Ioa2V5LCByb3V0ZUlkLCBkaXNjb3ZlclJlc3VsdC5lcnJvciwgeyBmbHVzaFN5bmMgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAoIWRpc2NvdmVyUmVzdWx0Lm1hdGNoZXMpIHtcbiAgICAgICAgc2V0RmV0Y2hlckVycm9yKFxuICAgICAgICAgIGtleSxcbiAgICAgICAgICByb3V0ZUlkLFxuICAgICAgICAgIGdldEludGVybmFsUm91dGVyRXJyb3IoNDA0LCB7IHBhdGhuYW1lOiBwYXRoIH0pLFxuICAgICAgICAgIHsgZmx1c2hTeW5jIH1cbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVxdWVzdE1hdGNoZXMgPSBkaXNjb3ZlclJlc3VsdC5tYXRjaGVzO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgbWF0Y2ggPSBnZXRUYXJnZXRNYXRjaChyZXF1ZXN0TWF0Y2hlcywgcGF0aCk7XG4gICAgaWYgKCFtYXRjaC5yb3V0ZS5hY3Rpb24gJiYgIW1hdGNoLnJvdXRlLmxhenkpIHtcbiAgICAgIGxldCBlcnJvciA9IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA1LCB7XG4gICAgICAgIG1ldGhvZDogc3VibWlzc2lvbi5mb3JtTWV0aG9kLFxuICAgICAgICBwYXRobmFtZTogcGF0aCxcbiAgICAgICAgcm91dGVJZFxuICAgICAgfSk7XG4gICAgICBzZXRGZXRjaGVyRXJyb3Ioa2V5LCByb3V0ZUlkLCBlcnJvciwgeyBmbHVzaFN5bmMgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZldGNoQ29udHJvbGxlcnMuc2V0KGtleSwgYWJvcnRDb250cm9sbGVyKTtcbiAgICBsZXQgb3JpZ2luYXRpbmdMb2FkSWQgPSBpbmNyZW1lbnRpbmdMb2FkSWQ7XG4gICAgbGV0IGZldGNoTWF0Y2hlcyA9IGdldFRhcmdldGVkRGF0YVN0cmF0ZWd5TWF0Y2hlcyhcbiAgICAgIG1hcFJvdXRlUHJvcGVydGllczIsXG4gICAgICBtYW5pZmVzdCxcbiAgICAgIGZldGNoUmVxdWVzdCxcbiAgICAgIHJlcXVlc3RNYXRjaGVzLFxuICAgICAgbWF0Y2gsXG4gICAgICBoeWRyYXRpb25Sb3V0ZVByb3BlcnRpZXMyLFxuICAgICAgc2NvcGVkQ29udGV4dFxuICAgICk7XG4gICAgbGV0IGFjdGlvblJlc3VsdHMgPSBhd2FpdCBjYWxsRGF0YVN0cmF0ZWd5KFxuICAgICAgZmV0Y2hSZXF1ZXN0LFxuICAgICAgZmV0Y2hNYXRjaGVzLFxuICAgICAgc2NvcGVkQ29udGV4dCxcbiAgICAgIGtleVxuICAgICk7XG4gICAgbGV0IGFjdGlvblJlc3VsdCA9IGFjdGlvblJlc3VsdHNbbWF0Y2gucm91dGUuaWRdO1xuICAgIGlmIChmZXRjaFJlcXVlc3Quc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgIGlmIChmZXRjaENvbnRyb2xsZXJzLmdldChrZXkpID09PSBhYm9ydENvbnRyb2xsZXIpIHtcbiAgICAgICAgZmV0Y2hDb250cm9sbGVycy5kZWxldGUoa2V5KTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGZldGNoZXJzUXVldWVkRm9yRGVsZXRpb24uaGFzKGtleSkpIHtcbiAgICAgIGlmIChpc1JlZGlyZWN0UmVzdWx0KGFjdGlvblJlc3VsdCkgfHwgaXNFcnJvclJlc3VsdChhY3Rpb25SZXN1bHQpKSB7XG4gICAgICAgIHVwZGF0ZUZldGNoZXJTdGF0ZShrZXksIGdldERvbmVGZXRjaGVyKHZvaWQgMCkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpc1JlZGlyZWN0UmVzdWx0KGFjdGlvblJlc3VsdCkpIHtcbiAgICAgICAgZmV0Y2hDb250cm9sbGVycy5kZWxldGUoa2V5KTtcbiAgICAgICAgaWYgKHBlbmRpbmdOYXZpZ2F0aW9uTG9hZElkID4gb3JpZ2luYXRpbmdMb2FkSWQpIHtcbiAgICAgICAgICB1cGRhdGVGZXRjaGVyU3RhdGUoa2V5LCBnZXREb25lRmV0Y2hlcih2b2lkIDApKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmV0Y2hSZWRpcmVjdElkcy5hZGQoa2V5KTtcbiAgICAgICAgICB1cGRhdGVGZXRjaGVyU3RhdGUoa2V5LCBnZXRMb2FkaW5nRmV0Y2hlcihzdWJtaXNzaW9uKSk7XG4gICAgICAgICAgcmV0dXJuIHN0YXJ0UmVkaXJlY3ROYXZpZ2F0aW9uKGZldGNoUmVxdWVzdCwgYWN0aW9uUmVzdWx0LCBmYWxzZSwge1xuICAgICAgICAgICAgZmV0Y2hlclN1Ym1pc3Npb246IHN1Ym1pc3Npb24sXG4gICAgICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGlzRXJyb3JSZXN1bHQoYWN0aW9uUmVzdWx0KSkge1xuICAgICAgICBzZXRGZXRjaGVyRXJyb3Ioa2V5LCByb3V0ZUlkLCBhY3Rpb25SZXN1bHQuZXJyb3IpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBuZXh0TG9jYXRpb24gPSBzdGF0ZS5uYXZpZ2F0aW9uLmxvY2F0aW9uIHx8IHN0YXRlLmxvY2F0aW9uO1xuICAgIGxldCByZXZhbGlkYXRpb25SZXF1ZXN0ID0gY3JlYXRlQ2xpZW50U2lkZVJlcXVlc3QoXG4gICAgICBpbml0Lmhpc3RvcnksXG4gICAgICBuZXh0TG9jYXRpb24sXG4gICAgICBhYm9ydENvbnRyb2xsZXIuc2lnbmFsXG4gICAgKTtcbiAgICBsZXQgcm91dGVzVG9Vc2UgPSBpbkZsaWdodERhdGFSb3V0ZXMgfHwgZGF0YVJvdXRlcztcbiAgICBsZXQgbWF0Y2hlcyA9IHN0YXRlLm5hdmlnYXRpb24uc3RhdGUgIT09IFwiaWRsZVwiID8gbWF0Y2hSb3V0ZXMocm91dGVzVG9Vc2UsIHN0YXRlLm5hdmlnYXRpb24ubG9jYXRpb24sIGJhc2VuYW1lKSA6IHN0YXRlLm1hdGNoZXM7XG4gICAgaW52YXJpYW50KG1hdGNoZXMsIFwiRGlkbid0IGZpbmQgYW55IG1hdGNoZXMgYWZ0ZXIgZmV0Y2hlciBhY3Rpb25cIik7XG4gICAgbGV0IGxvYWRJZCA9ICsraW5jcmVtZW50aW5nTG9hZElkO1xuICAgIGZldGNoUmVsb2FkSWRzLnNldChrZXksIGxvYWRJZCk7XG4gICAgbGV0IGxvYWRGZXRjaGVyID0gZ2V0TG9hZGluZ0ZldGNoZXIoc3VibWlzc2lvbiwgYWN0aW9uUmVzdWx0LmRhdGEpO1xuICAgIHN0YXRlLmZldGNoZXJzLnNldChrZXksIGxvYWRGZXRjaGVyKTtcbiAgICBsZXQgeyBkc01hdGNoZXMsIHJldmFsaWRhdGluZ0ZldGNoZXJzIH0gPSBnZXRNYXRjaGVzVG9Mb2FkKFxuICAgICAgcmV2YWxpZGF0aW9uUmVxdWVzdCxcbiAgICAgIHNjb3BlZENvbnRleHQsXG4gICAgICBtYXBSb3V0ZVByb3BlcnRpZXMyLFxuICAgICAgbWFuaWZlc3QsXG4gICAgICBpbml0Lmhpc3RvcnksXG4gICAgICBzdGF0ZSxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBzdWJtaXNzaW9uLFxuICAgICAgbmV4dExvY2F0aW9uLFxuICAgICAgaHlkcmF0aW9uUm91dGVQcm9wZXJ0aWVzMixcbiAgICAgIGZhbHNlLFxuICAgICAgaXNSZXZhbGlkYXRpb25SZXF1aXJlZCxcbiAgICAgIGNhbmNlbGxlZEZldGNoZXJMb2FkcyxcbiAgICAgIGZldGNoZXJzUXVldWVkRm9yRGVsZXRpb24sXG4gICAgICBmZXRjaExvYWRNYXRjaGVzLFxuICAgICAgZmV0Y2hSZWRpcmVjdElkcyxcbiAgICAgIHJvdXRlc1RvVXNlLFxuICAgICAgYmFzZW5hbWUsXG4gICAgICBpbml0LnBhdGNoUm91dGVzT25OYXZpZ2F0aW9uICE9IG51bGwsXG4gICAgICBbbWF0Y2gucm91dGUuaWQsIGFjdGlvblJlc3VsdF1cbiAgICApO1xuICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLmZpbHRlcigocmYpID0+IHJmLmtleSAhPT0ga2V5KS5mb3JFYWNoKChyZikgPT4ge1xuICAgICAgbGV0IHN0YWxlS2V5ID0gcmYua2V5O1xuICAgICAgbGV0IGV4aXN0aW5nRmV0Y2hlcjIgPSBzdGF0ZS5mZXRjaGVycy5nZXQoc3RhbGVLZXkpO1xuICAgICAgbGV0IHJldmFsaWRhdGluZ0ZldGNoZXIgPSBnZXRMb2FkaW5nRmV0Y2hlcihcbiAgICAgICAgdm9pZCAwLFxuICAgICAgICBleGlzdGluZ0ZldGNoZXIyID8gZXhpc3RpbmdGZXRjaGVyMi5kYXRhIDogdm9pZCAwXG4gICAgICApO1xuICAgICAgc3RhdGUuZmV0Y2hlcnMuc2V0KHN0YWxlS2V5LCByZXZhbGlkYXRpbmdGZXRjaGVyKTtcbiAgICAgIGFib3J0RmV0Y2hlcihzdGFsZUtleSk7XG4gICAgICBpZiAocmYuY29udHJvbGxlcikge1xuICAgICAgICBmZXRjaENvbnRyb2xsZXJzLnNldChzdGFsZUtleSwgcmYuY29udHJvbGxlcik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdXBkYXRlU3RhdGUoeyBmZXRjaGVyczogbmV3IE1hcChzdGF0ZS5mZXRjaGVycykgfSk7XG4gICAgbGV0IGFib3J0UGVuZGluZ0ZldGNoUmV2YWxpZGF0aW9ucyA9ICgpID0+IHJldmFsaWRhdGluZ0ZldGNoZXJzLmZvckVhY2goKHJmKSA9PiBhYm9ydEZldGNoZXIocmYua2V5KSk7XG4gICAgYWJvcnRDb250cm9sbGVyLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJhYm9ydFwiLFxuICAgICAgYWJvcnRQZW5kaW5nRmV0Y2hSZXZhbGlkYXRpb25zXG4gICAgKTtcbiAgICBsZXQgeyBsb2FkZXJSZXN1bHRzLCBmZXRjaGVyUmVzdWx0cyB9ID0gYXdhaXQgY2FsbExvYWRlcnNBbmRNYXliZVJlc29sdmVEYXRhKFxuICAgICAgZHNNYXRjaGVzLFxuICAgICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMsXG4gICAgICByZXZhbGlkYXRpb25SZXF1ZXN0LFxuICAgICAgc2NvcGVkQ29udGV4dFxuICAgICk7XG4gICAgaWYgKGFib3J0Q29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhYm9ydENvbnRyb2xsZXIuc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICBcImFib3J0XCIsXG4gICAgICBhYm9ydFBlbmRpbmdGZXRjaFJldmFsaWRhdGlvbnNcbiAgICApO1xuICAgIGZldGNoUmVsb2FkSWRzLmRlbGV0ZShrZXkpO1xuICAgIGZldGNoQ29udHJvbGxlcnMuZGVsZXRlKGtleSk7XG4gICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMuZm9yRWFjaCgocikgPT4gZmV0Y2hDb250cm9sbGVycy5kZWxldGUoci5rZXkpKTtcbiAgICBpZiAoc3RhdGUuZmV0Y2hlcnMuaGFzKGtleSkpIHtcbiAgICAgIGxldCBkb25lRmV0Y2hlciA9IGdldERvbmVGZXRjaGVyKGFjdGlvblJlc3VsdC5kYXRhKTtcbiAgICAgIHN0YXRlLmZldGNoZXJzLnNldChrZXksIGRvbmVGZXRjaGVyKTtcbiAgICB9XG4gICAgbGV0IHJlZGlyZWN0MiA9IGZpbmRSZWRpcmVjdChsb2FkZXJSZXN1bHRzKTtcbiAgICBpZiAocmVkaXJlY3QyKSB7XG4gICAgICByZXR1cm4gc3RhcnRSZWRpcmVjdE5hdmlnYXRpb24oXG4gICAgICAgIHJldmFsaWRhdGlvblJlcXVlc3QsXG4gICAgICAgIHJlZGlyZWN0Mi5yZXN1bHQsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICB7IHByZXZlbnRTY3JvbGxSZXNldCB9XG4gICAgICApO1xuICAgIH1cbiAgICByZWRpcmVjdDIgPSBmaW5kUmVkaXJlY3QoZmV0Y2hlclJlc3VsdHMpO1xuICAgIGlmIChyZWRpcmVjdDIpIHtcbiAgICAgIGZldGNoUmVkaXJlY3RJZHMuYWRkKHJlZGlyZWN0Mi5rZXkpO1xuICAgICAgcmV0dXJuIHN0YXJ0UmVkaXJlY3ROYXZpZ2F0aW9uKFxuICAgICAgICByZXZhbGlkYXRpb25SZXF1ZXN0LFxuICAgICAgICByZWRpcmVjdDIucmVzdWx0LFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgeyBwcmV2ZW50U2Nyb2xsUmVzZXQgfVxuICAgICAgKTtcbiAgICB9XG4gICAgbGV0IHsgbG9hZGVyRGF0YSwgZXJyb3JzIH0gPSBwcm9jZXNzTG9hZGVyRGF0YShcbiAgICAgIHN0YXRlLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIGxvYWRlclJlc3VsdHMsXG4gICAgICB2b2lkIDAsXG4gICAgICByZXZhbGlkYXRpbmdGZXRjaGVycyxcbiAgICAgIGZldGNoZXJSZXN1bHRzXG4gICAgKTtcbiAgICBhYm9ydFN0YWxlRmV0Y2hMb2Fkcyhsb2FkSWQpO1xuICAgIGlmIChzdGF0ZS5uYXZpZ2F0aW9uLnN0YXRlID09PSBcImxvYWRpbmdcIiAmJiBsb2FkSWQgPiBwZW5kaW5nTmF2aWdhdGlvbkxvYWRJZCkge1xuICAgICAgaW52YXJpYW50KHBlbmRpbmdBY3Rpb24sIFwiRXhwZWN0ZWQgcGVuZGluZyBhY3Rpb25cIik7XG4gICAgICBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIgJiYgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyLmFib3J0KCk7XG4gICAgICBjb21wbGV0ZU5hdmlnYXRpb24oc3RhdGUubmF2aWdhdGlvbi5sb2NhdGlvbiwge1xuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBsb2FkZXJEYXRhLFxuICAgICAgICBlcnJvcnMsXG4gICAgICAgIGZldGNoZXJzOiBuZXcgTWFwKHN0YXRlLmZldGNoZXJzKVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVwZGF0ZVN0YXRlKHtcbiAgICAgICAgZXJyb3JzLFxuICAgICAgICBsb2FkZXJEYXRhOiBtZXJnZUxvYWRlckRhdGEoXG4gICAgICAgICAgc3RhdGUubG9hZGVyRGF0YSxcbiAgICAgICAgICBsb2FkZXJEYXRhLFxuICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgZXJyb3JzXG4gICAgICAgICksXG4gICAgICAgIGZldGNoZXJzOiBuZXcgTWFwKHN0YXRlLmZldGNoZXJzKVxuICAgICAgfSk7XG4gICAgICBpc1JldmFsaWRhdGlvblJlcXVpcmVkID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUZldGNoZXJMb2FkZXIoa2V5LCByb3V0ZUlkLCBwYXRoLCBtYXRjaGVzLCBzY29wZWRDb250ZXh0LCBpc0ZvZ09mV2FyLCBmbHVzaFN5bmMsIHByZXZlbnRTY3JvbGxSZXNldCwgc3VibWlzc2lvbikge1xuICAgIGxldCBleGlzdGluZ0ZldGNoZXIgPSBzdGF0ZS5mZXRjaGVycy5nZXQoa2V5KTtcbiAgICB1cGRhdGVGZXRjaGVyU3RhdGUoXG4gICAgICBrZXksXG4gICAgICBnZXRMb2FkaW5nRmV0Y2hlcihcbiAgICAgICAgc3VibWlzc2lvbixcbiAgICAgICAgZXhpc3RpbmdGZXRjaGVyID8gZXhpc3RpbmdGZXRjaGVyLmRhdGEgOiB2b2lkIDBcbiAgICAgICksXG4gICAgICB7IGZsdXNoU3luYyB9XG4gICAgKTtcbiAgICBsZXQgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGxldCBmZXRjaFJlcXVlc3QgPSBjcmVhdGVDbGllbnRTaWRlUmVxdWVzdChcbiAgICAgIGluaXQuaGlzdG9yeSxcbiAgICAgIHBhdGgsXG4gICAgICBhYm9ydENvbnRyb2xsZXIuc2lnbmFsXG4gICAgKTtcbiAgICBpZiAoaXNGb2dPZldhcikge1xuICAgICAgbGV0IGRpc2NvdmVyUmVzdWx0ID0gYXdhaXQgZGlzY292ZXJSb3V0ZXMoXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIG5ldyBVUkwoZmV0Y2hSZXF1ZXN0LnVybCkucGF0aG5hbWUsXG4gICAgICAgIGZldGNoUmVxdWVzdC5zaWduYWwsXG4gICAgICAgIGtleVxuICAgICAgKTtcbiAgICAgIGlmIChkaXNjb3ZlclJlc3VsdC50eXBlID09PSBcImFib3J0ZWRcIikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKGRpc2NvdmVyUmVzdWx0LnR5cGUgPT09IFwiZXJyb3JcIikge1xuICAgICAgICBzZXRGZXRjaGVyRXJyb3Ioa2V5LCByb3V0ZUlkLCBkaXNjb3ZlclJlc3VsdC5lcnJvciwgeyBmbHVzaFN5bmMgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAoIWRpc2NvdmVyUmVzdWx0Lm1hdGNoZXMpIHtcbiAgICAgICAgc2V0RmV0Y2hlckVycm9yKFxuICAgICAgICAgIGtleSxcbiAgICAgICAgICByb3V0ZUlkLFxuICAgICAgICAgIGdldEludGVybmFsUm91dGVyRXJyb3IoNDA0LCB7IHBhdGhuYW1lOiBwYXRoIH0pLFxuICAgICAgICAgIHsgZmx1c2hTeW5jIH1cbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWF0Y2hlcyA9IGRpc2NvdmVyUmVzdWx0Lm1hdGNoZXM7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBtYXRjaCA9IGdldFRhcmdldE1hdGNoKG1hdGNoZXMsIHBhdGgpO1xuICAgIGZldGNoQ29udHJvbGxlcnMuc2V0KGtleSwgYWJvcnRDb250cm9sbGVyKTtcbiAgICBsZXQgb3JpZ2luYXRpbmdMb2FkSWQgPSBpbmNyZW1lbnRpbmdMb2FkSWQ7XG4gICAgbGV0IGRzTWF0Y2hlcyA9IGdldFRhcmdldGVkRGF0YVN0cmF0ZWd5TWF0Y2hlcyhcbiAgICAgIG1hcFJvdXRlUHJvcGVydGllczIsXG4gICAgICBtYW5pZmVzdCxcbiAgICAgIGZldGNoUmVxdWVzdCxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBtYXRjaCxcbiAgICAgIGh5ZHJhdGlvblJvdXRlUHJvcGVydGllczIsXG4gICAgICBzY29wZWRDb250ZXh0XG4gICAgKTtcbiAgICBsZXQgcmVzdWx0cyA9IGF3YWl0IGNhbGxEYXRhU3RyYXRlZ3koXG4gICAgICBmZXRjaFJlcXVlc3QsXG4gICAgICBkc01hdGNoZXMsXG4gICAgICBzY29wZWRDb250ZXh0LFxuICAgICAga2V5XG4gICAgKTtcbiAgICBsZXQgcmVzdWx0ID0gcmVzdWx0c1ttYXRjaC5yb3V0ZS5pZF07XG4gICAgaWYgKGZldGNoQ29udHJvbGxlcnMuZ2V0KGtleSkgPT09IGFib3J0Q29udHJvbGxlcikge1xuICAgICAgZmV0Y2hDb250cm9sbGVycy5kZWxldGUoa2V5KTtcbiAgICB9XG4gICAgaWYgKGZldGNoUmVxdWVzdC5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZmV0Y2hlcnNRdWV1ZWRGb3JEZWxldGlvbi5oYXMoa2V5KSkge1xuICAgICAgdXBkYXRlRmV0Y2hlclN0YXRlKGtleSwgZ2V0RG9uZUZldGNoZXIodm9pZCAwKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc1JlZGlyZWN0UmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIGlmIChwZW5kaW5nTmF2aWdhdGlvbkxvYWRJZCA+IG9yaWdpbmF0aW5nTG9hZElkKSB7XG4gICAgICAgIHVwZGF0ZUZldGNoZXJTdGF0ZShrZXksIGdldERvbmVGZXRjaGVyKHZvaWQgMCkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmZXRjaFJlZGlyZWN0SWRzLmFkZChrZXkpO1xuICAgICAgICBhd2FpdCBzdGFydFJlZGlyZWN0TmF2aWdhdGlvbihmZXRjaFJlcXVlc3QsIHJlc3VsdCwgZmFsc2UsIHtcbiAgICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzRXJyb3JSZXN1bHQocmVzdWx0KSkge1xuICAgICAgc2V0RmV0Y2hlckVycm9yKGtleSwgcm91dGVJZCwgcmVzdWx0LmVycm9yKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdXBkYXRlRmV0Y2hlclN0YXRlKGtleSwgZ2V0RG9uZUZldGNoZXIocmVzdWx0LmRhdGEpKTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBzdGFydFJlZGlyZWN0TmF2aWdhdGlvbihyZXF1ZXN0LCByZWRpcmVjdDIsIGlzTmF2aWdhdGlvbiwge1xuICAgIHN1Ym1pc3Npb24sXG4gICAgZmV0Y2hlclN1Ym1pc3Npb24sXG4gICAgcHJldmVudFNjcm9sbFJlc2V0LFxuICAgIHJlcGxhY2U6IHJlcGxhY2UyXG4gIH0gPSB7fSkge1xuICAgIGlmIChyZWRpcmVjdDIucmVzcG9uc2UuaGVhZGVycy5oYXMoXCJYLVJlbWl4LVJldmFsaWRhdGVcIikpIHtcbiAgICAgIGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQgPSB0cnVlO1xuICAgIH1cbiAgICBsZXQgbG9jYXRpb24gPSByZWRpcmVjdDIucmVzcG9uc2UuaGVhZGVycy5nZXQoXCJMb2NhdGlvblwiKTtcbiAgICBpbnZhcmlhbnQobG9jYXRpb24sIFwiRXhwZWN0ZWQgYSBMb2NhdGlvbiBoZWFkZXIgb24gdGhlIHJlZGlyZWN0IFJlc3BvbnNlXCIpO1xuICAgIGxvY2F0aW9uID0gbm9ybWFsaXplUmVkaXJlY3RMb2NhdGlvbihcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgbmV3IFVSTChyZXF1ZXN0LnVybCksXG4gICAgICBiYXNlbmFtZVxuICAgICk7XG4gICAgbGV0IHJlZGlyZWN0TG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihzdGF0ZS5sb2NhdGlvbiwgbG9jYXRpb24sIHtcbiAgICAgIF9pc1JlZGlyZWN0OiB0cnVlXG4gICAgfSk7XG4gICAgaWYgKGlzQnJvd3NlcjIpIHtcbiAgICAgIGxldCBpc0RvY3VtZW50UmVsb2FkID0gZmFsc2U7XG4gICAgICBpZiAocmVkaXJlY3QyLnJlc3BvbnNlLmhlYWRlcnMuaGFzKFwiWC1SZW1peC1SZWxvYWQtRG9jdW1lbnRcIikpIHtcbiAgICAgICAgaXNEb2N1bWVudFJlbG9hZCA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKGlzQWJzb2x1dGVVcmwobG9jYXRpb24pKSB7XG4gICAgICAgIGNvbnN0IHVybCA9IGNyZWF0ZUJyb3dzZXJVUkxJbXBsKGxvY2F0aW9uLCB0cnVlKTtcbiAgICAgICAgaXNEb2N1bWVudFJlbG9hZCA9IC8vIEhhcmQgcmVsb2FkIGlmIGl0J3MgYW4gYWJzb2x1dGUgVVJMIHRvIGEgbmV3IG9yaWdpblxuICAgICAgICB1cmwub3JpZ2luICE9PSByb3V0ZXJXaW5kb3cubG9jYXRpb24ub3JpZ2luIHx8IC8vIEhhcmQgcmVsb2FkIGlmIGl0J3MgYW4gYWJzb2x1dGUgVVJMIHRoYXQgZG9lcyBub3QgbWF0Y2ggb3VyIGJhc2VuYW1lXG4gICAgICAgIHN0cmlwQmFzZW5hbWUodXJsLnBhdGhuYW1lLCBiYXNlbmFtZSkgPT0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChpc0RvY3VtZW50UmVsb2FkKSB7XG4gICAgICAgIGlmIChyZXBsYWNlMikge1xuICAgICAgICAgIHJvdXRlcldpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKGxvY2F0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByb3V0ZXJXaW5kb3cubG9jYXRpb24uYXNzaWduKGxvY2F0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlciA9IG51bGw7XG4gICAgbGV0IHJlZGlyZWN0TmF2aWdhdGlvblR5cGUgPSByZXBsYWNlMiA9PT0gdHJ1ZSB8fCByZWRpcmVjdDIucmVzcG9uc2UuaGVhZGVycy5oYXMoXCJYLVJlbWl4LVJlcGxhY2VcIikgPyBcIlJFUExBQ0VcIiAvKiBSZXBsYWNlICovIDogXCJQVVNIXCIgLyogUHVzaCAqLztcbiAgICBsZXQgeyBmb3JtTWV0aG9kLCBmb3JtQWN0aW9uLCBmb3JtRW5jVHlwZSB9ID0gc3RhdGUubmF2aWdhdGlvbjtcbiAgICBpZiAoIXN1Ym1pc3Npb24gJiYgIWZldGNoZXJTdWJtaXNzaW9uICYmIGZvcm1NZXRob2QgJiYgZm9ybUFjdGlvbiAmJiBmb3JtRW5jVHlwZSkge1xuICAgICAgc3VibWlzc2lvbiA9IGdldFN1Ym1pc3Npb25Gcm9tTmF2aWdhdGlvbihzdGF0ZS5uYXZpZ2F0aW9uKTtcbiAgICB9XG4gICAgbGV0IGFjdGl2ZVN1Ym1pc3Npb24gPSBzdWJtaXNzaW9uIHx8IGZldGNoZXJTdWJtaXNzaW9uO1xuICAgIGlmIChyZWRpcmVjdFByZXNlcnZlTWV0aG9kU3RhdHVzQ29kZXMuaGFzKHJlZGlyZWN0Mi5yZXNwb25zZS5zdGF0dXMpICYmIGFjdGl2ZVN1Ym1pc3Npb24gJiYgaXNNdXRhdGlvbk1ldGhvZChhY3RpdmVTdWJtaXNzaW9uLmZvcm1NZXRob2QpKSB7XG4gICAgICBhd2FpdCBzdGFydE5hdmlnYXRpb24ocmVkaXJlY3ROYXZpZ2F0aW9uVHlwZSwgcmVkaXJlY3RMb2NhdGlvbiwge1xuICAgICAgICBzdWJtaXNzaW9uOiB7XG4gICAgICAgICAgLi4uYWN0aXZlU3VibWlzc2lvbixcbiAgICAgICAgICBmb3JtQWN0aW9uOiBsb2NhdGlvblxuICAgICAgICB9LFxuICAgICAgICAvLyBQcmVzZXJ2ZSB0aGVzZSBmbGFncyBhY3Jvc3MgcmVkaXJlY3RzXG4gICAgICAgIHByZXZlbnRTY3JvbGxSZXNldDogcHJldmVudFNjcm9sbFJlc2V0IHx8IHBlbmRpbmdQcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICAgIGVuYWJsZVZpZXdUcmFuc2l0aW9uOiBpc05hdmlnYXRpb24gPyBwZW5kaW5nVmlld1RyYW5zaXRpb25FbmFibGVkIDogdm9pZCAwXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IG92ZXJyaWRlTmF2aWdhdGlvbiA9IGdldExvYWRpbmdOYXZpZ2F0aW9uKFxuICAgICAgICByZWRpcmVjdExvY2F0aW9uLFxuICAgICAgICBzdWJtaXNzaW9uXG4gICAgICApO1xuICAgICAgYXdhaXQgc3RhcnROYXZpZ2F0aW9uKHJlZGlyZWN0TmF2aWdhdGlvblR5cGUsIHJlZGlyZWN0TG9jYXRpb24sIHtcbiAgICAgICAgb3ZlcnJpZGVOYXZpZ2F0aW9uLFxuICAgICAgICAvLyBTZW5kIGZldGNoZXIgc3VibWlzc2lvbnMgdGhyb3VnaCBmb3Igc2hvdWxkUmV2YWxpZGF0ZVxuICAgICAgICBmZXRjaGVyU3VibWlzc2lvbixcbiAgICAgICAgLy8gUHJlc2VydmUgdGhlc2UgZmxhZ3MgYWNyb3NzIHJlZGlyZWN0c1xuICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQ6IHByZXZlbnRTY3JvbGxSZXNldCB8fCBwZW5kaW5nUHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgICBlbmFibGVWaWV3VHJhbnNpdGlvbjogaXNOYXZpZ2F0aW9uID8gcGVuZGluZ1ZpZXdUcmFuc2l0aW9uRW5hYmxlZCA6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIGNhbGxEYXRhU3RyYXRlZ3kocmVxdWVzdCwgbWF0Y2hlcywgc2NvcGVkQ29udGV4dCwgZmV0Y2hlcktleSkge1xuICAgIGxldCByZXN1bHRzO1xuICAgIGxldCBkYXRhUmVzdWx0cyA9IHt9O1xuICAgIHRyeSB7XG4gICAgICByZXN1bHRzID0gYXdhaXQgY2FsbERhdGFTdHJhdGVneUltcGwoXG4gICAgICAgIGRhdGFTdHJhdGVneUltcGwsXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIGZldGNoZXJLZXksXG4gICAgICAgIHNjb3BlZENvbnRleHQsXG4gICAgICAgIGZhbHNlXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIG1hdGNoZXMuZmlsdGVyKChtKSA9PiBtLnNob3VsZExvYWQpLmZvckVhY2goKG0pID0+IHtcbiAgICAgICAgZGF0YVJlc3VsdHNbbS5yb3V0ZS5pZF0gPSB7XG4gICAgICAgICAgdHlwZTogXCJlcnJvclwiIC8qIGVycm9yICovLFxuICAgICAgICAgIGVycm9yOiBlXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBkYXRhUmVzdWx0cztcbiAgICB9XG4gICAgaWYgKHJlcXVlc3Quc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgIHJldHVybiBkYXRhUmVzdWx0cztcbiAgICB9XG4gICAgZm9yIChsZXQgW3JvdXRlSWQsIHJlc3VsdF0gb2YgT2JqZWN0LmVudHJpZXMocmVzdWx0cykpIHtcbiAgICAgIGlmIChpc1JlZGlyZWN0RGF0YVN0cmF0ZWd5UmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgICAgbGV0IHJlc3BvbnNlID0gcmVzdWx0LnJlc3VsdDtcbiAgICAgICAgZGF0YVJlc3VsdHNbcm91dGVJZF0gPSB7XG4gICAgICAgICAgdHlwZTogXCJyZWRpcmVjdFwiIC8qIHJlZGlyZWN0ICovLFxuICAgICAgICAgIHJlc3BvbnNlOiBub3JtYWxpemVSZWxhdGl2ZVJvdXRpbmdSZWRpcmVjdFJlc3BvbnNlKFxuICAgICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgICAgcm91dGVJZCxcbiAgICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgICBiYXNlbmFtZVxuICAgICAgICAgIClcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGFSZXN1bHRzW3JvdXRlSWRdID0gYXdhaXQgY29udmVydERhdGFTdHJhdGVneVJlc3VsdFRvRGF0YVJlc3VsdChyZXN1bHQpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGF0YVJlc3VsdHM7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gY2FsbExvYWRlcnNBbmRNYXliZVJlc29sdmVEYXRhKG1hdGNoZXMsIGZldGNoZXJzVG9Mb2FkLCByZXF1ZXN0LCBzY29wZWRDb250ZXh0KSB7XG4gICAgbGV0IGxvYWRlclJlc3VsdHNQcm9taXNlID0gY2FsbERhdGFTdHJhdGVneShcbiAgICAgIHJlcXVlc3QsXG4gICAgICBtYXRjaGVzLFxuICAgICAgc2NvcGVkQ29udGV4dCxcbiAgICAgIG51bGxcbiAgICApO1xuICAgIGxldCBmZXRjaGVyUmVzdWx0c1Byb21pc2UgPSBQcm9taXNlLmFsbChcbiAgICAgIGZldGNoZXJzVG9Mb2FkLm1hcChhc3luYyAoZikgPT4ge1xuICAgICAgICBpZiAoZi5tYXRjaGVzICYmIGYubWF0Y2ggJiYgZi5yZXF1ZXN0ICYmIGYuY29udHJvbGxlcikge1xuICAgICAgICAgIGxldCByZXN1bHRzID0gYXdhaXQgY2FsbERhdGFTdHJhdGVneShcbiAgICAgICAgICAgIGYucmVxdWVzdCxcbiAgICAgICAgICAgIGYubWF0Y2hlcyxcbiAgICAgICAgICAgIHNjb3BlZENvbnRleHQsXG4gICAgICAgICAgICBmLmtleVxuICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IHJlc3VsdCA9IHJlc3VsdHNbZi5tYXRjaC5yb3V0ZS5pZF07XG4gICAgICAgICAgcmV0dXJuIHsgW2Yua2V5XTogcmVzdWx0IH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICBbZi5rZXldOiB7XG4gICAgICAgICAgICAgIHR5cGU6IFwiZXJyb3JcIiAvKiBlcnJvciAqLyxcbiAgICAgICAgICAgICAgZXJyb3I6IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA0LCB7XG4gICAgICAgICAgICAgICAgcGF0aG5hbWU6IGYucGF0aFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICk7XG4gICAgbGV0IGxvYWRlclJlc3VsdHMgPSBhd2FpdCBsb2FkZXJSZXN1bHRzUHJvbWlzZTtcbiAgICBsZXQgZmV0Y2hlclJlc3VsdHMgPSAoYXdhaXQgZmV0Y2hlclJlc3VsdHNQcm9taXNlKS5yZWR1Y2UoXG4gICAgICAoYWNjLCByKSA9PiBPYmplY3QuYXNzaWduKGFjYywgciksXG4gICAgICB7fVxuICAgICk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxvYWRlclJlc3VsdHMsXG4gICAgICBmZXRjaGVyUmVzdWx0c1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gaW50ZXJydXB0QWN0aXZlTG9hZHMoKSB7XG4gICAgaXNSZXZhbGlkYXRpb25SZXF1aXJlZCA9IHRydWU7XG4gICAgZmV0Y2hMb2FkTWF0Y2hlcy5mb3JFYWNoKChfLCBrZXkpID0+IHtcbiAgICAgIGlmIChmZXRjaENvbnRyb2xsZXJzLmhhcyhrZXkpKSB7XG4gICAgICAgIGNhbmNlbGxlZEZldGNoZXJMb2Fkcy5hZGQoa2V5KTtcbiAgICAgIH1cbiAgICAgIGFib3J0RmV0Y2hlcihrZXkpO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHVwZGF0ZUZldGNoZXJTdGF0ZShrZXksIGZldGNoZXIsIG9wdHMgPSB7fSkge1xuICAgIHN0YXRlLmZldGNoZXJzLnNldChrZXksIGZldGNoZXIpO1xuICAgIHVwZGF0ZVN0YXRlKFxuICAgICAgeyBmZXRjaGVyczogbmV3IE1hcChzdGF0ZS5mZXRjaGVycykgfSxcbiAgICAgIHsgZmx1c2hTeW5jOiAob3B0cyAmJiBvcHRzLmZsdXNoU3luYykgPT09IHRydWUgfVxuICAgICk7XG4gIH1cbiAgZnVuY3Rpb24gc2V0RmV0Y2hlckVycm9yKGtleSwgcm91dGVJZCwgZXJyb3IsIG9wdHMgPSB7fSkge1xuICAgIGxldCBib3VuZGFyeU1hdGNoID0gZmluZE5lYXJlc3RCb3VuZGFyeShzdGF0ZS5tYXRjaGVzLCByb3V0ZUlkKTtcbiAgICBkZWxldGVGZXRjaGVyKGtleSk7XG4gICAgdXBkYXRlU3RhdGUoXG4gICAgICB7XG4gICAgICAgIGVycm9yczoge1xuICAgICAgICAgIFtib3VuZGFyeU1hdGNoLnJvdXRlLmlkXTogZXJyb3JcbiAgICAgICAgfSxcbiAgICAgICAgZmV0Y2hlcnM6IG5ldyBNYXAoc3RhdGUuZmV0Y2hlcnMpXG4gICAgICB9LFxuICAgICAgeyBmbHVzaFN5bmM6IChvcHRzICYmIG9wdHMuZmx1c2hTeW5jKSA9PT0gdHJ1ZSB9XG4gICAgKTtcbiAgfVxuICBmdW5jdGlvbiBnZXRGZXRjaGVyKGtleSkge1xuICAgIGFjdGl2ZUZldGNoZXJzLnNldChrZXksIChhY3RpdmVGZXRjaGVycy5nZXQoa2V5KSB8fCAwKSArIDEpO1xuICAgIGlmIChmZXRjaGVyc1F1ZXVlZEZvckRlbGV0aW9uLmhhcyhrZXkpKSB7XG4gICAgICBmZXRjaGVyc1F1ZXVlZEZvckRlbGV0aW9uLmRlbGV0ZShrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGUuZmV0Y2hlcnMuZ2V0KGtleSkgfHwgSURMRV9GRVRDSEVSO1xuICB9XG4gIGZ1bmN0aW9uIHJlc2V0RmV0Y2hlcihrZXksIG9wdHMpIHtcbiAgICBhYm9ydEZldGNoZXIoa2V5LCBvcHRzPy5yZWFzb24pO1xuICAgIHVwZGF0ZUZldGNoZXJTdGF0ZShrZXksIGdldERvbmVGZXRjaGVyKG51bGwpKTtcbiAgfVxuICBmdW5jdGlvbiBkZWxldGVGZXRjaGVyKGtleSkge1xuICAgIGxldCBmZXRjaGVyID0gc3RhdGUuZmV0Y2hlcnMuZ2V0KGtleSk7XG4gICAgaWYgKGZldGNoQ29udHJvbGxlcnMuaGFzKGtleSkgJiYgIShmZXRjaGVyICYmIGZldGNoZXIuc3RhdGUgPT09IFwibG9hZGluZ1wiICYmIGZldGNoUmVsb2FkSWRzLmhhcyhrZXkpKSkge1xuICAgICAgYWJvcnRGZXRjaGVyKGtleSk7XG4gICAgfVxuICAgIGZldGNoTG9hZE1hdGNoZXMuZGVsZXRlKGtleSk7XG4gICAgZmV0Y2hSZWxvYWRJZHMuZGVsZXRlKGtleSk7XG4gICAgZmV0Y2hSZWRpcmVjdElkcy5kZWxldGUoa2V5KTtcbiAgICBmZXRjaGVyc1F1ZXVlZEZvckRlbGV0aW9uLmRlbGV0ZShrZXkpO1xuICAgIGNhbmNlbGxlZEZldGNoZXJMb2Fkcy5kZWxldGUoa2V5KTtcbiAgICBzdGF0ZS5mZXRjaGVycy5kZWxldGUoa2V5KTtcbiAgfVxuICBmdW5jdGlvbiBxdWV1ZUZldGNoZXJGb3JEZWxldGlvbihrZXkpIHtcbiAgICBsZXQgY291bnQgPSAoYWN0aXZlRmV0Y2hlcnMuZ2V0KGtleSkgfHwgMCkgLSAxO1xuICAgIGlmIChjb3VudCA8PSAwKSB7XG4gICAgICBhY3RpdmVGZXRjaGVycy5kZWxldGUoa2V5KTtcbiAgICAgIGZldGNoZXJzUXVldWVkRm9yRGVsZXRpb24uYWRkKGtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjdGl2ZUZldGNoZXJzLnNldChrZXksIGNvdW50KTtcbiAgICB9XG4gICAgdXBkYXRlU3RhdGUoeyBmZXRjaGVyczogbmV3IE1hcChzdGF0ZS5mZXRjaGVycykgfSk7XG4gIH1cbiAgZnVuY3Rpb24gYWJvcnRGZXRjaGVyKGtleSwgcmVhc29uKSB7XG4gICAgbGV0IGNvbnRyb2xsZXIgPSBmZXRjaENvbnRyb2xsZXJzLmdldChrZXkpO1xuICAgIGlmIChjb250cm9sbGVyKSB7XG4gICAgICBjb250cm9sbGVyLmFib3J0KHJlYXNvbik7XG4gICAgICBmZXRjaENvbnRyb2xsZXJzLmRlbGV0ZShrZXkpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBtYXJrRmV0Y2hlcnNEb25lKGtleXMpIHtcbiAgICBmb3IgKGxldCBrZXkgb2Yga2V5cykge1xuICAgICAgbGV0IGZldGNoZXIgPSBnZXRGZXRjaGVyKGtleSk7XG4gICAgICBsZXQgZG9uZUZldGNoZXIgPSBnZXREb25lRmV0Y2hlcihmZXRjaGVyLmRhdGEpO1xuICAgICAgc3RhdGUuZmV0Y2hlcnMuc2V0KGtleSwgZG9uZUZldGNoZXIpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBtYXJrRmV0Y2hSZWRpcmVjdHNEb25lKCkge1xuICAgIGxldCBkb25lS2V5cyA9IFtdO1xuICAgIGxldCB1cGRhdGVkRmV0Y2hlcnMgPSBmYWxzZTtcbiAgICBmb3IgKGxldCBrZXkgb2YgZmV0Y2hSZWRpcmVjdElkcykge1xuICAgICAgbGV0IGZldGNoZXIgPSBzdGF0ZS5mZXRjaGVycy5nZXQoa2V5KTtcbiAgICAgIGludmFyaWFudChmZXRjaGVyLCBgRXhwZWN0ZWQgZmV0Y2hlcjogJHtrZXl9YCk7XG4gICAgICBpZiAoZmV0Y2hlci5zdGF0ZSA9PT0gXCJsb2FkaW5nXCIpIHtcbiAgICAgICAgZmV0Y2hSZWRpcmVjdElkcy5kZWxldGUoa2V5KTtcbiAgICAgICAgZG9uZUtleXMucHVzaChrZXkpO1xuICAgICAgICB1cGRhdGVkRmV0Y2hlcnMgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBtYXJrRmV0Y2hlcnNEb25lKGRvbmVLZXlzKTtcbiAgICByZXR1cm4gdXBkYXRlZEZldGNoZXJzO1xuICB9XG4gIGZ1bmN0aW9uIGFib3J0U3RhbGVGZXRjaExvYWRzKGxhbmRlZElkKSB7XG4gICAgbGV0IHllZXRlZEtleXMgPSBbXTtcbiAgICBmb3IgKGxldCBba2V5LCBpZF0gb2YgZmV0Y2hSZWxvYWRJZHMpIHtcbiAgICAgIGlmIChpZCA8IGxhbmRlZElkKSB7XG4gICAgICAgIGxldCBmZXRjaGVyID0gc3RhdGUuZmV0Y2hlcnMuZ2V0KGtleSk7XG4gICAgICAgIGludmFyaWFudChmZXRjaGVyLCBgRXhwZWN0ZWQgZmV0Y2hlcjogJHtrZXl9YCk7XG4gICAgICAgIGlmIChmZXRjaGVyLnN0YXRlID09PSBcImxvYWRpbmdcIikge1xuICAgICAgICAgIGFib3J0RmV0Y2hlcihrZXkpO1xuICAgICAgICAgIGZldGNoUmVsb2FkSWRzLmRlbGV0ZShrZXkpO1xuICAgICAgICAgIHllZXRlZEtleXMucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIG1hcmtGZXRjaGVyc0RvbmUoeWVldGVkS2V5cyk7XG4gICAgcmV0dXJuIHllZXRlZEtleXMubGVuZ3RoID4gMDtcbiAgfVxuICBmdW5jdGlvbiBnZXRCbG9ja2VyKGtleSwgZm4pIHtcbiAgICBsZXQgYmxvY2tlciA9IHN0YXRlLmJsb2NrZXJzLmdldChrZXkpIHx8IElETEVfQkxPQ0tFUjtcbiAgICBpZiAoYmxvY2tlckZ1bmN0aW9ucy5nZXQoa2V5KSAhPT0gZm4pIHtcbiAgICAgIGJsb2NrZXJGdW5jdGlvbnMuc2V0KGtleSwgZm4pO1xuICAgIH1cbiAgICByZXR1cm4gYmxvY2tlcjtcbiAgfVxuICBmdW5jdGlvbiBkZWxldGVCbG9ja2VyKGtleSkge1xuICAgIHN0YXRlLmJsb2NrZXJzLmRlbGV0ZShrZXkpO1xuICAgIGJsb2NrZXJGdW5jdGlvbnMuZGVsZXRlKGtleSk7XG4gIH1cbiAgZnVuY3Rpb24gdXBkYXRlQmxvY2tlcihrZXksIG5ld0Jsb2NrZXIpIHtcbiAgICBsZXQgYmxvY2tlciA9IHN0YXRlLmJsb2NrZXJzLmdldChrZXkpIHx8IElETEVfQkxPQ0tFUjtcbiAgICBpbnZhcmlhbnQoXG4gICAgICBibG9ja2VyLnN0YXRlID09PSBcInVuYmxvY2tlZFwiICYmIG5ld0Jsb2NrZXIuc3RhdGUgPT09IFwiYmxvY2tlZFwiIHx8IGJsb2NrZXIuc3RhdGUgPT09IFwiYmxvY2tlZFwiICYmIG5ld0Jsb2NrZXIuc3RhdGUgPT09IFwiYmxvY2tlZFwiIHx8IGJsb2NrZXIuc3RhdGUgPT09IFwiYmxvY2tlZFwiICYmIG5ld0Jsb2NrZXIuc3RhdGUgPT09IFwicHJvY2VlZGluZ1wiIHx8IGJsb2NrZXIuc3RhdGUgPT09IFwiYmxvY2tlZFwiICYmIG5ld0Jsb2NrZXIuc3RhdGUgPT09IFwidW5ibG9ja2VkXCIgfHwgYmxvY2tlci5zdGF0ZSA9PT0gXCJwcm9jZWVkaW5nXCIgJiYgbmV3QmxvY2tlci5zdGF0ZSA9PT0gXCJ1bmJsb2NrZWRcIixcbiAgICAgIGBJbnZhbGlkIGJsb2NrZXIgc3RhdGUgdHJhbnNpdGlvbjogJHtibG9ja2VyLnN0YXRlfSAtPiAke25ld0Jsb2NrZXIuc3RhdGV9YFxuICAgICk7XG4gICAgbGV0IGJsb2NrZXJzID0gbmV3IE1hcChzdGF0ZS5ibG9ja2Vycyk7XG4gICAgYmxvY2tlcnMuc2V0KGtleSwgbmV3QmxvY2tlcik7XG4gICAgdXBkYXRlU3RhdGUoeyBibG9ja2VycyB9KTtcbiAgfVxuICBmdW5jdGlvbiBzaG91bGRCbG9ja05hdmlnYXRpb24oe1xuICAgIGN1cnJlbnRMb2NhdGlvbixcbiAgICBuZXh0TG9jYXRpb24sXG4gICAgaGlzdG9yeUFjdGlvblxuICB9KSB7XG4gICAgaWYgKGJsb2NrZXJGdW5jdGlvbnMuc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoYmxvY2tlckZ1bmN0aW9ucy5zaXplID4gMSkge1xuICAgICAgd2FybmluZyhmYWxzZSwgXCJBIHJvdXRlciBvbmx5IHN1cHBvcnRzIG9uZSBibG9ja2VyIGF0IGEgdGltZVwiKTtcbiAgICB9XG4gICAgbGV0IGVudHJpZXMgPSBBcnJheS5mcm9tKGJsb2NrZXJGdW5jdGlvbnMuZW50cmllcygpKTtcbiAgICBsZXQgW2Jsb2NrZXJLZXksIGJsb2NrZXJGdW5jdGlvbl0gPSBlbnRyaWVzW2VudHJpZXMubGVuZ3RoIC0gMV07XG4gICAgbGV0IGJsb2NrZXIgPSBzdGF0ZS5ibG9ja2Vycy5nZXQoYmxvY2tlcktleSk7XG4gICAgaWYgKGJsb2NrZXIgJiYgYmxvY2tlci5zdGF0ZSA9PT0gXCJwcm9jZWVkaW5nXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGJsb2NrZXJGdW5jdGlvbih7IGN1cnJlbnRMb2NhdGlvbiwgbmV4dExvY2F0aW9uLCBoaXN0b3J5QWN0aW9uIH0pKSB7XG4gICAgICByZXR1cm4gYmxvY2tlcktleTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gaGFuZGxlTmF2aWdhdGlvbmFsNDA0KHBhdGhuYW1lKSB7XG4gICAgbGV0IGVycm9yID0gZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDQsIHsgcGF0aG5hbWUgfSk7XG4gICAgbGV0IHJvdXRlc1RvVXNlID0gaW5GbGlnaHREYXRhUm91dGVzIHx8IGRhdGFSb3V0ZXM7XG4gICAgbGV0IHsgbWF0Y2hlcywgcm91dGUgfSA9IGdldFNob3J0Q2lyY3VpdE1hdGNoZXMocm91dGVzVG9Vc2UpO1xuICAgIHJldHVybiB7IG5vdEZvdW5kTWF0Y2hlczogbWF0Y2hlcywgcm91dGUsIGVycm9yIH07XG4gIH1cbiAgZnVuY3Rpb24gZW5hYmxlU2Nyb2xsUmVzdG9yYXRpb24ocG9zaXRpb25zLCBnZXRQb3NpdGlvbiwgZ2V0S2V5KSB7XG4gICAgc2F2ZWRTY3JvbGxQb3NpdGlvbnMyID0gcG9zaXRpb25zO1xuICAgIGdldFNjcm9sbFBvc2l0aW9uID0gZ2V0UG9zaXRpb247XG4gICAgZ2V0U2Nyb2xsUmVzdG9yYXRpb25LZXkyID0gZ2V0S2V5IHx8IG51bGw7XG4gICAgaWYgKCFpbml0aWFsU2Nyb2xsUmVzdG9yZWQgJiYgc3RhdGUubmF2aWdhdGlvbiA9PT0gSURMRV9OQVZJR0FUSU9OKSB7XG4gICAgICBpbml0aWFsU2Nyb2xsUmVzdG9yZWQgPSB0cnVlO1xuICAgICAgbGV0IHkgPSBnZXRTYXZlZFNjcm9sbFBvc2l0aW9uKHN0YXRlLmxvY2F0aW9uLCBzdGF0ZS5tYXRjaGVzKTtcbiAgICAgIGlmICh5ICE9IG51bGwpIHtcbiAgICAgICAgdXBkYXRlU3RhdGUoeyByZXN0b3JlU2Nyb2xsUG9zaXRpb246IHkgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBzYXZlZFNjcm9sbFBvc2l0aW9uczIgPSBudWxsO1xuICAgICAgZ2V0U2Nyb2xsUG9zaXRpb24gPSBudWxsO1xuICAgICAgZ2V0U2Nyb2xsUmVzdG9yYXRpb25LZXkyID0gbnVsbDtcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIGdldFNjcm9sbEtleShsb2NhdGlvbiwgbWF0Y2hlcykge1xuICAgIGlmIChnZXRTY3JvbGxSZXN0b3JhdGlvbktleTIpIHtcbiAgICAgIGxldCBrZXkgPSBnZXRTY3JvbGxSZXN0b3JhdGlvbktleTIoXG4gICAgICAgIGxvY2F0aW9uLFxuICAgICAgICBtYXRjaGVzLm1hcCgobSkgPT4gY29udmVydFJvdXRlTWF0Y2hUb1VpTWF0Y2gobSwgc3RhdGUubG9hZGVyRGF0YSkpXG4gICAgICApO1xuICAgICAgcmV0dXJuIGtleSB8fCBsb2NhdGlvbi5rZXk7XG4gICAgfVxuICAgIHJldHVybiBsb2NhdGlvbi5rZXk7XG4gIH1cbiAgZnVuY3Rpb24gc2F2ZVNjcm9sbFBvc2l0aW9uKGxvY2F0aW9uLCBtYXRjaGVzKSB7XG4gICAgaWYgKHNhdmVkU2Nyb2xsUG9zaXRpb25zMiAmJiBnZXRTY3JvbGxQb3NpdGlvbikge1xuICAgICAgbGV0IGtleSA9IGdldFNjcm9sbEtleShsb2NhdGlvbiwgbWF0Y2hlcyk7XG4gICAgICBzYXZlZFNjcm9sbFBvc2l0aW9uczJba2V5XSA9IGdldFNjcm9sbFBvc2l0aW9uKCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGdldFNhdmVkU2Nyb2xsUG9zaXRpb24obG9jYXRpb24sIG1hdGNoZXMpIHtcbiAgICBpZiAoc2F2ZWRTY3JvbGxQb3NpdGlvbnMyKSB7XG4gICAgICBsZXQga2V5ID0gZ2V0U2Nyb2xsS2V5KGxvY2F0aW9uLCBtYXRjaGVzKTtcbiAgICAgIGxldCB5ID0gc2F2ZWRTY3JvbGxQb3NpdGlvbnMyW2tleV07XG4gICAgICBpZiAodHlwZW9mIHkgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgcmV0dXJuIHk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGZ1bmN0aW9uIGNoZWNrRm9nT2ZXYXIobWF0Y2hlcywgcm91dGVzVG9Vc2UsIHBhdGhuYW1lKSB7XG4gICAgaWYgKGluaXQucGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb24pIHtcbiAgICAgIGlmICghbWF0Y2hlcykge1xuICAgICAgICBsZXQgZm9nTWF0Y2hlcyA9IG1hdGNoUm91dGVzSW1wbChcbiAgICAgICAgICByb3V0ZXNUb1VzZSxcbiAgICAgICAgICBwYXRobmFtZSxcbiAgICAgICAgICBiYXNlbmFtZSxcbiAgICAgICAgICB0cnVlXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB7IGFjdGl2ZTogdHJ1ZSwgbWF0Y2hlczogZm9nTWF0Y2hlcyB8fCBbXSB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKG1hdGNoZXNbMF0ucGFyYW1zKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgbGV0IHBhcnRpYWxNYXRjaGVzID0gbWF0Y2hSb3V0ZXNJbXBsKFxuICAgICAgICAgICAgcm91dGVzVG9Vc2UsXG4gICAgICAgICAgICBwYXRobmFtZSxcbiAgICAgICAgICAgIGJhc2VuYW1lLFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIHsgYWN0aXZlOiB0cnVlLCBtYXRjaGVzOiBwYXJ0aWFsTWF0Y2hlcyB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IGFjdGl2ZTogZmFsc2UsIG1hdGNoZXM6IG51bGwgfTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBkaXNjb3ZlclJvdXRlcyhtYXRjaGVzLCBwYXRobmFtZSwgc2lnbmFsLCBmZXRjaGVyS2V5KSB7XG4gICAgaWYgKCFpbml0LnBhdGNoUm91dGVzT25OYXZpZ2F0aW9uKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcInN1Y2Nlc3NcIiwgbWF0Y2hlcyB9O1xuICAgIH1cbiAgICBsZXQgcGFydGlhbE1hdGNoZXMgPSBtYXRjaGVzO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBsZXQgaXNOb25ITVIgPSBpbkZsaWdodERhdGFSb3V0ZXMgPT0gbnVsbDtcbiAgICAgIGxldCByb3V0ZXNUb1VzZSA9IGluRmxpZ2h0RGF0YVJvdXRlcyB8fCBkYXRhUm91dGVzO1xuICAgICAgbGV0IGxvY2FsTWFuaWZlc3QgPSBtYW5pZmVzdDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGluaXQucGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb24oe1xuICAgICAgICAgIHNpZ25hbCxcbiAgICAgICAgICBwYXRoOiBwYXRobmFtZSxcbiAgICAgICAgICBtYXRjaGVzOiBwYXJ0aWFsTWF0Y2hlcyxcbiAgICAgICAgICBmZXRjaGVyS2V5LFxuICAgICAgICAgIHBhdGNoOiAocm91dGVJZCwgY2hpbGRyZW4pID0+IHtcbiAgICAgICAgICAgIGlmIChzaWduYWwuYWJvcnRlZCkgcmV0dXJuO1xuICAgICAgICAgICAgcGF0Y2hSb3V0ZXNJbXBsKFxuICAgICAgICAgICAgICByb3V0ZUlkLFxuICAgICAgICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgICAgICAgcm91dGVzVG9Vc2UsXG4gICAgICAgICAgICAgIGxvY2FsTWFuaWZlc3QsXG4gICAgICAgICAgICAgIG1hcFJvdXRlUHJvcGVydGllczIsXG4gICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwiZXJyb3JcIiwgZXJyb3I6IGUsIHBhcnRpYWxNYXRjaGVzIH07XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoaXNOb25ITVIgJiYgIXNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgZGF0YVJvdXRlcyA9IFsuLi5kYXRhUm91dGVzXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwiYWJvcnRlZFwiIH07XG4gICAgICB9XG4gICAgICBsZXQgbmV3TWF0Y2hlcyA9IG1hdGNoUm91dGVzKHJvdXRlc1RvVXNlLCBwYXRobmFtZSwgYmFzZW5hbWUpO1xuICAgICAgaWYgKG5ld01hdGNoZXMpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJzdWNjZXNzXCIsIG1hdGNoZXM6IG5ld01hdGNoZXMgfTtcbiAgICAgIH1cbiAgICAgIGxldCBuZXdQYXJ0aWFsTWF0Y2hlcyA9IG1hdGNoUm91dGVzSW1wbChcbiAgICAgICAgcm91dGVzVG9Vc2UsXG4gICAgICAgIHBhdGhuYW1lLFxuICAgICAgICBiYXNlbmFtZSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcbiAgICAgIGlmICghbmV3UGFydGlhbE1hdGNoZXMgfHwgcGFydGlhbE1hdGNoZXMubGVuZ3RoID09PSBuZXdQYXJ0aWFsTWF0Y2hlcy5sZW5ndGggJiYgcGFydGlhbE1hdGNoZXMuZXZlcnkoXG4gICAgICAgIChtLCBpKSA9PiBtLnJvdXRlLmlkID09PSBuZXdQYXJ0aWFsTWF0Y2hlc1tpXS5yb3V0ZS5pZFxuICAgICAgKSkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcInN1Y2Nlc3NcIiwgbWF0Y2hlczogbnVsbCB9O1xuICAgICAgfVxuICAgICAgcGFydGlhbE1hdGNoZXMgPSBuZXdQYXJ0aWFsTWF0Y2hlcztcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gX2ludGVybmFsU2V0Um91dGVzKG5ld1JvdXRlcykge1xuICAgIG1hbmlmZXN0ID0ge307XG4gICAgaW5GbGlnaHREYXRhUm91dGVzID0gY29udmVydFJvdXRlc1RvRGF0YVJvdXRlcyhcbiAgICAgIG5ld1JvdXRlcyxcbiAgICAgIG1hcFJvdXRlUHJvcGVydGllczIsXG4gICAgICB2b2lkIDAsXG4gICAgICBtYW5pZmVzdFxuICAgICk7XG4gIH1cbiAgZnVuY3Rpb24gcGF0Y2hSb3V0ZXMocm91dGVJZCwgY2hpbGRyZW4sIHVuc3RhYmxlX2FsbG93RWxlbWVudE11dGF0aW9ucyA9IGZhbHNlKSB7XG4gICAgbGV0IGlzTm9uSE1SID0gaW5GbGlnaHREYXRhUm91dGVzID09IG51bGw7XG4gICAgbGV0IHJvdXRlc1RvVXNlID0gaW5GbGlnaHREYXRhUm91dGVzIHx8IGRhdGFSb3V0ZXM7XG4gICAgcGF0Y2hSb3V0ZXNJbXBsKFxuICAgICAgcm91dGVJZCxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgcm91dGVzVG9Vc2UsXG4gICAgICBtYW5pZmVzdCxcbiAgICAgIG1hcFJvdXRlUHJvcGVydGllczIsXG4gICAgICB1bnN0YWJsZV9hbGxvd0VsZW1lbnRNdXRhdGlvbnNcbiAgICApO1xuICAgIGlmIChpc05vbkhNUikge1xuICAgICAgZGF0YVJvdXRlcyA9IFsuLi5kYXRhUm91dGVzXTtcbiAgICAgIHVwZGF0ZVN0YXRlKHt9KTtcbiAgICB9XG4gIH1cbiAgcm91dGVyID0ge1xuICAgIGdldCBiYXNlbmFtZSgpIHtcbiAgICAgIHJldHVybiBiYXNlbmFtZTtcbiAgICB9LFxuICAgIGdldCBmdXR1cmUoKSB7XG4gICAgICByZXR1cm4gZnV0dXJlO1xuICAgIH0sXG4gICAgZ2V0IHN0YXRlKCkge1xuICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH0sXG4gICAgZ2V0IHJvdXRlcygpIHtcbiAgICAgIHJldHVybiBkYXRhUm91dGVzO1xuICAgIH0sXG4gICAgZ2V0IHdpbmRvdygpIHtcbiAgICAgIHJldHVybiByb3V0ZXJXaW5kb3c7XG4gICAgfSxcbiAgICBpbml0aWFsaXplLFxuICAgIHN1YnNjcmliZSxcbiAgICBlbmFibGVTY3JvbGxSZXN0b3JhdGlvbixcbiAgICBuYXZpZ2F0ZSxcbiAgICBmZXRjaDogZmV0Y2gyLFxuICAgIHJldmFsaWRhdGUsXG4gICAgLy8gUGFzc3Rocm91Z2ggdG8gaGlzdG9yeS1hd2FyZSBjcmVhdGVIcmVmIHVzZWQgYnkgdXNlSHJlZiBzbyB3ZSBnZXQgcHJvcGVyXG4gICAgLy8gaGFzaC1hd2FyZSBVUkxzIGluIERPTSBwYXRoc1xuICAgIGNyZWF0ZUhyZWY6ICh0bykgPT4gaW5pdC5oaXN0b3J5LmNyZWF0ZUhyZWYodG8pLFxuICAgIGVuY29kZUxvY2F0aW9uOiAodG8pID0+IGluaXQuaGlzdG9yeS5lbmNvZGVMb2NhdGlvbih0byksXG4gICAgZ2V0RmV0Y2hlcixcbiAgICByZXNldEZldGNoZXIsXG4gICAgZGVsZXRlRmV0Y2hlcjogcXVldWVGZXRjaGVyRm9yRGVsZXRpb24sXG4gICAgZGlzcG9zZSxcbiAgICBnZXRCbG9ja2VyLFxuICAgIGRlbGV0ZUJsb2NrZXIsXG4gICAgcGF0Y2hSb3V0ZXMsXG4gICAgX2ludGVybmFsRmV0Y2hDb250cm9sbGVyczogZmV0Y2hDb250cm9sbGVycyxcbiAgICAvLyBUT0RPOiBSZW1vdmUgc2V0Um91dGVzLCBpdCdzIHRlbXBvcmFyeSB0byBhdm9pZCBkZWFsaW5nIHdpdGhcbiAgICAvLyB1cGRhdGluZyB0aGUgdHJlZSB3aGlsZSB2YWxpZGF0aW5nIHRoZSB1cGRhdGUgYWxnb3JpdGhtLlxuICAgIF9pbnRlcm5hbFNldFJvdXRlcyxcbiAgICBfaW50ZXJuYWxTZXRTdGF0ZURvTm90VXNlT3JZb3VXaWxsQnJlYWtZb3VyQXBwKG5ld1N0YXRlKSB7XG4gICAgICB1cGRhdGVTdGF0ZShuZXdTdGF0ZSk7XG4gICAgfVxuICB9O1xuICBpZiAoaW5pdC51bnN0YWJsZV9pbnN0cnVtZW50YXRpb25zKSB7XG4gICAgcm91dGVyID0gaW5zdHJ1bWVudENsaWVudFNpZGVSb3V0ZXIoXG4gICAgICByb3V0ZXIsXG4gICAgICBpbml0LnVuc3RhYmxlX2luc3RydW1lbnRhdGlvbnMubWFwKChpKSA9PiBpLnJvdXRlcikuZmlsdGVyKEJvb2xlYW4pXG4gICAgKTtcbiAgfVxuICByZXR1cm4gcm91dGVyO1xufVxuZnVuY3Rpb24gY3JlYXRlU3RhdGljSGFuZGxlcihyb3V0ZXMsIG9wdHMpIHtcbiAgaW52YXJpYW50KFxuICAgIHJvdXRlcy5sZW5ndGggPiAwLFxuICAgIFwiWW91IG11c3QgcHJvdmlkZSBhIG5vbi1lbXB0eSByb3V0ZXMgYXJyYXkgdG8gY3JlYXRlU3RhdGljSGFuZGxlclwiXG4gICk7XG4gIGxldCBtYW5pZmVzdCA9IHt9O1xuICBsZXQgYmFzZW5hbWUgPSAob3B0cyA/IG9wdHMuYmFzZW5hbWUgOiBudWxsKSB8fCBcIi9cIjtcbiAgbGV0IF9tYXBSb3V0ZVByb3BlcnRpZXMgPSBvcHRzPy5tYXBSb3V0ZVByb3BlcnRpZXMgfHwgZGVmYXVsdE1hcFJvdXRlUHJvcGVydGllcztcbiAgbGV0IG1hcFJvdXRlUHJvcGVydGllczIgPSBfbWFwUm91dGVQcm9wZXJ0aWVzO1xuICBpZiAob3B0cz8udW5zdGFibGVfaW5zdHJ1bWVudGF0aW9ucykge1xuICAgIGxldCBpbnN0cnVtZW50YXRpb25zID0gb3B0cy51bnN0YWJsZV9pbnN0cnVtZW50YXRpb25zO1xuICAgIG1hcFJvdXRlUHJvcGVydGllczIgPSAocm91dGUpID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLl9tYXBSb3V0ZVByb3BlcnRpZXMocm91dGUpLFxuICAgICAgICAuLi5nZXRSb3V0ZUluc3RydW1lbnRhdGlvblVwZGF0ZXMoXG4gICAgICAgICAgaW5zdHJ1bWVudGF0aW9ucy5tYXAoKGkpID0+IGkucm91dGUpLmZpbHRlcihCb29sZWFuKSxcbiAgICAgICAgICByb3V0ZVxuICAgICAgICApXG4gICAgICB9O1xuICAgIH07XG4gIH1cbiAgbGV0IGRhdGFSb3V0ZXMgPSBjb252ZXJ0Um91dGVzVG9EYXRhUm91dGVzKFxuICAgIHJvdXRlcyxcbiAgICBtYXBSb3V0ZVByb3BlcnRpZXMyLFxuICAgIHZvaWQgMCxcbiAgICBtYW5pZmVzdFxuICApO1xuICBhc3luYyBmdW5jdGlvbiBxdWVyeShyZXF1ZXN0LCB7XG4gICAgcmVxdWVzdENvbnRleHQsXG4gICAgZmlsdGVyTWF0Y2hlc1RvTG9hZCxcbiAgICBza2lwTG9hZGVyRXJyb3JCdWJibGluZyxcbiAgICBza2lwUmV2YWxpZGF0aW9uLFxuICAgIGRhdGFTdHJhdGVneSxcbiAgICBnZW5lcmF0ZU1pZGRsZXdhcmVSZXNwb25zZVxuICB9ID0ge30pIHtcbiAgICBsZXQgdXJsID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgbGV0IG1ldGhvZCA9IHJlcXVlc3QubWV0aG9kO1xuICAgIGxldCBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKFwiXCIsIGNyZWF0ZVBhdGgodXJsKSwgbnVsbCwgXCJkZWZhdWx0XCIpO1xuICAgIGxldCBtYXRjaGVzID0gbWF0Y2hSb3V0ZXMoZGF0YVJvdXRlcywgbG9jYXRpb24sIGJhc2VuYW1lKTtcbiAgICByZXF1ZXN0Q29udGV4dCA9IHJlcXVlc3RDb250ZXh0ICE9IG51bGwgPyByZXF1ZXN0Q29udGV4dCA6IG5ldyBSb3V0ZXJDb250ZXh0UHJvdmlkZXIoKTtcbiAgICBpZiAoIWlzVmFsaWRNZXRob2QobWV0aG9kKSAmJiBtZXRob2QgIT09IFwiSEVBRFwiKSB7XG4gICAgICBsZXQgZXJyb3IgPSBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNSwgeyBtZXRob2QgfSk7XG4gICAgICBsZXQgeyBtYXRjaGVzOiBtZXRob2ROb3RBbGxvd2VkTWF0Y2hlcywgcm91dGUgfSA9IGdldFNob3J0Q2lyY3VpdE1hdGNoZXMoZGF0YVJvdXRlcyk7XG4gICAgICBsZXQgc3RhdGljQ29udGV4dCA9IHtcbiAgICAgICAgYmFzZW5hbWUsXG4gICAgICAgIGxvY2F0aW9uLFxuICAgICAgICBtYXRjaGVzOiBtZXRob2ROb3RBbGxvd2VkTWF0Y2hlcyxcbiAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgIGFjdGlvbkRhdGE6IG51bGwsXG4gICAgICAgIGVycm9yczoge1xuICAgICAgICAgIFtyb3V0ZS5pZF06IGVycm9yXG4gICAgICAgIH0sXG4gICAgICAgIHN0YXR1c0NvZGU6IGVycm9yLnN0YXR1cyxcbiAgICAgICAgbG9hZGVySGVhZGVyczoge30sXG4gICAgICAgIGFjdGlvbkhlYWRlcnM6IHt9XG4gICAgICB9O1xuICAgICAgcmV0dXJuIGdlbmVyYXRlTWlkZGxld2FyZVJlc3BvbnNlID8gZ2VuZXJhdGVNaWRkbGV3YXJlUmVzcG9uc2UoKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHN0YXRpY0NvbnRleHQpKSA6IHN0YXRpY0NvbnRleHQ7XG4gICAgfSBlbHNlIGlmICghbWF0Y2hlcykge1xuICAgICAgbGV0IGVycm9yID0gZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDQsIHsgcGF0aG5hbWU6IGxvY2F0aW9uLnBhdGhuYW1lIH0pO1xuICAgICAgbGV0IHsgbWF0Y2hlczogbm90Rm91bmRNYXRjaGVzLCByb3V0ZSB9ID0gZ2V0U2hvcnRDaXJjdWl0TWF0Y2hlcyhkYXRhUm91dGVzKTtcbiAgICAgIGxldCBzdGF0aWNDb250ZXh0ID0ge1xuICAgICAgICBiYXNlbmFtZSxcbiAgICAgICAgbG9jYXRpb24sXG4gICAgICAgIG1hdGNoZXM6IG5vdEZvdW5kTWF0Y2hlcyxcbiAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgIGFjdGlvbkRhdGE6IG51bGwsXG4gICAgICAgIGVycm9yczoge1xuICAgICAgICAgIFtyb3V0ZS5pZF06IGVycm9yXG4gICAgICAgIH0sXG4gICAgICAgIHN0YXR1c0NvZGU6IGVycm9yLnN0YXR1cyxcbiAgICAgICAgbG9hZGVySGVhZGVyczoge30sXG4gICAgICAgIGFjdGlvbkhlYWRlcnM6IHt9XG4gICAgICB9O1xuICAgICAgcmV0dXJuIGdlbmVyYXRlTWlkZGxld2FyZVJlc3BvbnNlID8gZ2VuZXJhdGVNaWRkbGV3YXJlUmVzcG9uc2UoKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHN0YXRpY0NvbnRleHQpKSA6IHN0YXRpY0NvbnRleHQ7XG4gICAgfVxuICAgIGlmIChnZW5lcmF0ZU1pZGRsZXdhcmVSZXNwb25zZSkge1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICByZXF1ZXN0Q29udGV4dCBpbnN0YW5jZW9mIFJvdXRlckNvbnRleHRQcm92aWRlcixcbiAgICAgICAgXCJXaGVuIHVzaW5nIG1pZGRsZXdhcmUgaW4gYHN0YXRpY0hhbmRsZXIucXVlcnkoKWAsIGFueSBwcm92aWRlZCBgcmVxdWVzdENvbnRleHRgIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgYFJvdXRlckNvbnRleHRQcm92aWRlcmBcIlxuICAgICAgKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGxvYWRMYXp5TWlkZGxld2FyZUZvck1hdGNoZXMoXG4gICAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgICBtYW5pZmVzdCxcbiAgICAgICAgICBtYXBSb3V0ZVByb3BlcnRpZXMyXG4gICAgICAgICk7XG4gICAgICAgIGxldCByZW5kZXJlZFN0YXRpY0NvbnRleHQ7XG4gICAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IHJ1blNlcnZlck1pZGRsZXdhcmVQaXBlbGluZShcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgICAgdW5zdGFibGVfcGF0dGVybjogZ2V0Um91dGVQYXR0ZXJuKG1hdGNoZXMubWFwKChtKSA9PiBtLnJvdXRlLnBhdGgpKSxcbiAgICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgICBwYXJhbXM6IG1hdGNoZXNbMF0ucGFyYW1zLFxuICAgICAgICAgICAgLy8gSWYgd2UncmUgY2FsbGluZyBtaWRkbGV3YXJlIHRoZW4gaXQgbXVzdCBiZSBlbmFibGVkIHNvIHdlIGNhbiBjYXN0XG4gICAgICAgICAgICAvLyB0aGlzIHRvIHRoZSBwcm9wZXIgdHlwZSBrbm93aW5nIGl0J3Mgbm90IGFuIGBBcHBMb2FkQ29udGV4dGBcbiAgICAgICAgICAgIGNvbnRleHQ6IHJlcXVlc3RDb250ZXh0XG4gICAgICAgICAgfSxcbiAgICAgICAgICBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgcmVzID0gYXdhaXQgZ2VuZXJhdGVNaWRkbGV3YXJlUmVzcG9uc2UoXG4gICAgICAgICAgICAgIGFzeW5jIChyZXZhbGlkYXRpb25SZXF1ZXN0LCBvcHRzMiA9IHt9KSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHJlc3VsdDIgPSBhd2FpdCBxdWVyeUltcGwoXG4gICAgICAgICAgICAgICAgICByZXZhbGlkYXRpb25SZXF1ZXN0LFxuICAgICAgICAgICAgICAgICAgbG9jYXRpb24sXG4gICAgICAgICAgICAgICAgICBtYXRjaGVzLFxuICAgICAgICAgICAgICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICAgICAgICAgICAgICBkYXRhU3RyYXRlZ3kgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nID09PSB0cnVlLFxuICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgIFwiZmlsdGVyTWF0Y2hlc1RvTG9hZFwiIGluIG9wdHMyID8gb3B0czIuZmlsdGVyTWF0Y2hlc1RvTG9hZCA/PyBudWxsIDogZmlsdGVyTWF0Y2hlc1RvTG9hZCA/PyBudWxsLFxuICAgICAgICAgICAgICAgICAgc2tpcFJldmFsaWRhdGlvbiA9PT0gdHJ1ZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgaWYgKGlzUmVzcG9uc2UocmVzdWx0MikpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZW5kZXJlZFN0YXRpY0NvbnRleHQgPSB7IGxvY2F0aW9uLCBiYXNlbmFtZSwgLi4ucmVzdWx0MiB9O1xuICAgICAgICAgICAgICAgIHJldHVybiByZW5kZXJlZFN0YXRpY0NvbnRleHQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgYXN5bmMgKGVycm9yLCByb3V0ZUlkKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNSZWRpcmVjdFJlc3BvbnNlKGVycm9yKSkge1xuICAgICAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNSZXNwb25zZShlcnJvcikpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBlcnJvciA9IG5ldyBFcnJvclJlc3BvbnNlSW1wbChcbiAgICAgICAgICAgICAgICAgIGVycm9yLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgIGVycm9yLnN0YXR1c1RleHQsXG4gICAgICAgICAgICAgICAgICBhd2FpdCBwYXJzZVJlc3BvbnNlQm9keShlcnJvcilcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgZXJyb3IgPSBlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNEYXRhV2l0aFJlc3BvbnNlSW5pdChlcnJvcikpIHtcbiAgICAgICAgICAgICAgZXJyb3IgPSBkYXRhV2l0aFJlc3BvbnNlSW5pdFRvRXJyb3JSZXNwb25zZShlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVuZGVyZWRTdGF0aWNDb250ZXh0KSB7XG4gICAgICAgICAgICAgIGlmIChyb3V0ZUlkIGluIHJlbmRlcmVkU3RhdGljQ29udGV4dC5sb2FkZXJEYXRhKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZWRTdGF0aWNDb250ZXh0LmxvYWRlckRhdGFbcm91dGVJZF0gPSB2b2lkIDA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbGV0IHN0YXRpY0NvbnRleHQgPSBnZXRTdGF0aWNDb250ZXh0RnJvbUVycm9yKFxuICAgICAgICAgICAgICAgIGRhdGFSb3V0ZXMsXG4gICAgICAgICAgICAgICAgcmVuZGVyZWRTdGF0aWNDb250ZXh0LFxuICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nID8gcm91dGVJZCA6IGZpbmROZWFyZXN0Qm91bmRhcnkobWF0Y2hlcywgcm91dGVJZCkucm91dGUuaWRcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlTWlkZGxld2FyZVJlc3BvbnNlKFxuICAgICAgICAgICAgICAgICgpID0+IFByb21pc2UucmVzb2x2ZShzdGF0aWNDb250ZXh0KVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbGV0IGJvdW5kYXJ5Um91dGVJZCA9IHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nID8gcm91dGVJZCA6IGZpbmROZWFyZXN0Qm91bmRhcnkoXG4gICAgICAgICAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgICAgICAgICBtYXRjaGVzLmZpbmQoXG4gICAgICAgICAgICAgICAgICAobSkgPT4gbS5yb3V0ZS5pZCA9PT0gcm91dGVJZCB8fCBtLnJvdXRlLmxvYWRlclxuICAgICAgICAgICAgICAgICk/LnJvdXRlLmlkIHx8IHJvdXRlSWRcbiAgICAgICAgICAgICAgKS5yb3V0ZS5pZDtcbiAgICAgICAgICAgICAgbGV0IHN0YXRpY0NvbnRleHQgPSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgICAgICAgICBiYXNlbmFtZSxcbiAgICAgICAgICAgICAgICBsb2FkZXJEYXRhOiB7fSxcbiAgICAgICAgICAgICAgICBhY3Rpb25EYXRhOiBudWxsLFxuICAgICAgICAgICAgICAgIGVycm9yczoge1xuICAgICAgICAgICAgICAgICAgW2JvdW5kYXJ5Um91dGVJZF06IGVycm9yXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiBpc1JvdXRlRXJyb3JSZXNwb25zZShlcnJvcikgPyBlcnJvci5zdGF0dXMgOiA1MDAsXG4gICAgICAgICAgICAgICAgYWN0aW9uSGVhZGVyczoge30sXG4gICAgICAgICAgICAgICAgbG9hZGVySGVhZGVyczoge31cbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlTWlkZGxld2FyZVJlc3BvbnNlKFxuICAgICAgICAgICAgICAgICgpID0+IFByb21pc2UucmVzb2x2ZShzdGF0aWNDb250ZXh0KVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgICAgaW52YXJpYW50KGlzUmVzcG9uc2UocmVzcG9uc2UpLCBcIkV4cGVjdGVkIGEgcmVzcG9uc2UgaW4gcXVlcnkoKVwiKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoaXNSZXNwb25zZShlKSkge1xuICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCByZXN1bHQgPSBhd2FpdCBxdWVyeUltcGwoXG4gICAgICByZXF1ZXN0LFxuICAgICAgbG9jYXRpb24sXG4gICAgICBtYXRjaGVzLFxuICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICBkYXRhU3RyYXRlZ3kgfHwgbnVsbCxcbiAgICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nID09PSB0cnVlLFxuICAgICAgbnVsbCxcbiAgICAgIGZpbHRlck1hdGNoZXNUb0xvYWQgfHwgbnVsbCxcbiAgICAgIHNraXBSZXZhbGlkYXRpb24gPT09IHRydWVcbiAgICApO1xuICAgIGlmIChpc1Jlc3BvbnNlKHJlc3VsdCkpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiB7IGxvY2F0aW9uLCBiYXNlbmFtZSwgLi4ucmVzdWx0IH07XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gcXVlcnlSb3V0ZShyZXF1ZXN0LCB7XG4gICAgcm91dGVJZCxcbiAgICByZXF1ZXN0Q29udGV4dCxcbiAgICBkYXRhU3RyYXRlZ3ksXG4gICAgZ2VuZXJhdGVNaWRkbGV3YXJlUmVzcG9uc2VcbiAgfSA9IHt9KSB7XG4gICAgbGV0IHVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgIGxldCBtZXRob2QgPSByZXF1ZXN0Lm1ldGhvZDtcbiAgICBsZXQgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihcIlwiLCBjcmVhdGVQYXRoKHVybCksIG51bGwsIFwiZGVmYXVsdFwiKTtcbiAgICBsZXQgbWF0Y2hlcyA9IG1hdGNoUm91dGVzKGRhdGFSb3V0ZXMsIGxvY2F0aW9uLCBiYXNlbmFtZSk7XG4gICAgcmVxdWVzdENvbnRleHQgPSByZXF1ZXN0Q29udGV4dCAhPSBudWxsID8gcmVxdWVzdENvbnRleHQgOiBuZXcgUm91dGVyQ29udGV4dFByb3ZpZGVyKCk7XG4gICAgaWYgKCFpc1ZhbGlkTWV0aG9kKG1ldGhvZCkgJiYgbWV0aG9kICE9PSBcIkhFQURcIiAmJiBtZXRob2QgIT09IFwiT1BUSU9OU1wiKSB7XG4gICAgICB0aHJvdyBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNSwgeyBtZXRob2QgfSk7XG4gICAgfSBlbHNlIGlmICghbWF0Y2hlcykge1xuICAgICAgdGhyb3cgZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDQsIHsgcGF0aG5hbWU6IGxvY2F0aW9uLnBhdGhuYW1lIH0pO1xuICAgIH1cbiAgICBsZXQgbWF0Y2ggPSByb3V0ZUlkID8gbWF0Y2hlcy5maW5kKChtKSA9PiBtLnJvdXRlLmlkID09PSByb3V0ZUlkKSA6IGdldFRhcmdldE1hdGNoKG1hdGNoZXMsIGxvY2F0aW9uKTtcbiAgICBpZiAocm91dGVJZCAmJiAhbWF0Y2gpIHtcbiAgICAgIHRocm93IGdldEludGVybmFsUm91dGVyRXJyb3IoNDAzLCB7XG4gICAgICAgIHBhdGhuYW1lOiBsb2NhdGlvbi5wYXRobmFtZSxcbiAgICAgICAgcm91dGVJZFxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICghbWF0Y2gpIHtcbiAgICAgIHRocm93IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA0LCB7IHBhdGhuYW1lOiBsb2NhdGlvbi5wYXRobmFtZSB9KTtcbiAgICB9XG4gICAgaWYgKGdlbmVyYXRlTWlkZGxld2FyZVJlc3BvbnNlKSB7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIHJlcXVlc3RDb250ZXh0IGluc3RhbmNlb2YgUm91dGVyQ29udGV4dFByb3ZpZGVyLFxuICAgICAgICBcIldoZW4gdXNpbmcgbWlkZGxld2FyZSBpbiBgc3RhdGljSGFuZGxlci5xdWVyeVJvdXRlKClgLCBhbnkgcHJvdmlkZWQgYHJlcXVlc3RDb250ZXh0YCBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIGBSb3V0ZXJDb250ZXh0UHJvdmlkZXJgXCJcbiAgICAgICk7XG4gICAgICBhd2FpdCBsb2FkTGF6eU1pZGRsZXdhcmVGb3JNYXRjaGVzKG1hdGNoZXMsIG1hbmlmZXN0LCBtYXBSb3V0ZVByb3BlcnRpZXMyKTtcbiAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IHJ1blNlcnZlck1pZGRsZXdhcmVQaXBlbGluZShcbiAgICAgICAge1xuICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgdW5zdGFibGVfcGF0dGVybjogZ2V0Um91dGVQYXR0ZXJuKG1hdGNoZXMubWFwKChtKSA9PiBtLnJvdXRlLnBhdGgpKSxcbiAgICAgICAgICBtYXRjaGVzLFxuICAgICAgICAgIHBhcmFtczogbWF0Y2hlc1swXS5wYXJhbXMsXG4gICAgICAgICAgLy8gSWYgd2UncmUgY2FsbGluZyBtaWRkbGV3YXJlIHRoZW4gaXQgbXVzdCBiZSBlbmFibGVkIHNvIHdlIGNhbiBjYXN0XG4gICAgICAgICAgLy8gdGhpcyB0byB0aGUgcHJvcGVyIHR5cGUga25vd2luZyBpdCdzIG5vdCBhbiBgQXBwTG9hZENvbnRleHRgXG4gICAgICAgICAgY29udGV4dDogcmVxdWVzdENvbnRleHRcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGxldCByZXMgPSBhd2FpdCBnZW5lcmF0ZU1pZGRsZXdhcmVSZXNwb25zZShcbiAgICAgICAgICAgIGFzeW5jIChpbm5lclJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgICAgbGV0IHJlc3VsdDIgPSBhd2FpdCBxdWVyeUltcGwoXG4gICAgICAgICAgICAgICAgaW5uZXJSZXF1ZXN0LFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uLFxuICAgICAgICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICAgICAgICAgICAgZGF0YVN0cmF0ZWd5IHx8IG51bGwsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgbWF0Y2gsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBsZXQgcHJvY2Vzc2VkID0gaGFuZGxlUXVlcnlSZXN1bHQocmVzdWx0Mik7XG4gICAgICAgICAgICAgIHJldHVybiBpc1Jlc3BvbnNlKHByb2Nlc3NlZCkgPyBwcm9jZXNzZWQgOiB0eXBlb2YgcHJvY2Vzc2VkID09PSBcInN0cmluZ1wiID8gbmV3IFJlc3BvbnNlKHByb2Nlc3NlZCkgOiBSZXNwb25zZS5qc29uKHByb2Nlc3NlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9LFxuICAgICAgICAoZXJyb3IpID0+IHtcbiAgICAgICAgICBpZiAoaXNEYXRhV2l0aFJlc3BvbnNlSW5pdChlcnJvcikpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZGF0YVdpdGhSZXNwb25zZUluaXRUb1Jlc3BvbnNlKGVycm9yKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc1Jlc3BvbnNlKGVycm9yKSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICApO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH1cbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgcXVlcnlJbXBsKFxuICAgICAgcmVxdWVzdCxcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIHJlcXVlc3RDb250ZXh0LFxuICAgICAgZGF0YVN0cmF0ZWd5IHx8IG51bGwsXG4gICAgICBmYWxzZSxcbiAgICAgIG1hdGNoLFxuICAgICAgbnVsbCxcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgICByZXR1cm4gaGFuZGxlUXVlcnlSZXN1bHQocmVzdWx0KTtcbiAgICBmdW5jdGlvbiBoYW5kbGVRdWVyeVJlc3VsdChyZXN1bHQyKSB7XG4gICAgICBpZiAoaXNSZXNwb25zZShyZXN1bHQyKSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0MjtcbiAgICAgIH1cbiAgICAgIGxldCBlcnJvciA9IHJlc3VsdDIuZXJyb3JzID8gT2JqZWN0LnZhbHVlcyhyZXN1bHQyLmVycm9ycylbMF0gOiB2b2lkIDA7XG4gICAgICBpZiAoZXJyb3IgIT09IHZvaWQgMCkge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQyLmFjdGlvbkRhdGEpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXMocmVzdWx0Mi5hY3Rpb25EYXRhKVswXTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQyLmxvYWRlckRhdGEpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXMocmVzdWx0Mi5sb2FkZXJEYXRhKVswXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIHF1ZXJ5SW1wbChyZXF1ZXN0LCBsb2NhdGlvbiwgbWF0Y2hlcywgcmVxdWVzdENvbnRleHQsIGRhdGFTdHJhdGVneSwgc2tpcExvYWRlckVycm9yQnViYmxpbmcsIHJvdXRlTWF0Y2gsIGZpbHRlck1hdGNoZXNUb0xvYWQsIHNraXBSZXZhbGlkYXRpb24pIHtcbiAgICBpbnZhcmlhbnQoXG4gICAgICByZXF1ZXN0LnNpZ25hbCxcbiAgICAgIFwicXVlcnkoKS9xdWVyeVJvdXRlKCkgcmVxdWVzdHMgbXVzdCBjb250YWluIGFuIEFib3J0Q29udHJvbGxlciBzaWduYWxcIlxuICAgICk7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChpc011dGF0aW9uTWV0aG9kKHJlcXVlc3QubWV0aG9kKSkge1xuICAgICAgICBsZXQgcmVzdWx0MiA9IGF3YWl0IHN1Ym1pdChcbiAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgcm91dGVNYXRjaCB8fCBnZXRUYXJnZXRNYXRjaChtYXRjaGVzLCBsb2NhdGlvbiksXG4gICAgICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICAgICAgZGF0YVN0cmF0ZWd5LFxuICAgICAgICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nLFxuICAgICAgICAgIHJvdXRlTWF0Y2ggIT0gbnVsbCxcbiAgICAgICAgICBmaWx0ZXJNYXRjaGVzVG9Mb2FkLFxuICAgICAgICAgIHNraXBSZXZhbGlkYXRpb25cbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDI7XG4gICAgICB9XG4gICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgbG9hZFJvdXRlRGF0YShcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICAgIGRhdGFTdHJhdGVneSxcbiAgICAgICAgc2tpcExvYWRlckVycm9yQnViYmxpbmcsXG4gICAgICAgIHJvdXRlTWF0Y2gsXG4gICAgICAgIGZpbHRlck1hdGNoZXNUb0xvYWRcbiAgICAgICk7XG4gICAgICByZXR1cm4gaXNSZXNwb25zZShyZXN1bHQpID8gcmVzdWx0IDoge1xuICAgICAgICAuLi5yZXN1bHQsXG4gICAgICAgIGFjdGlvbkRhdGE6IG51bGwsXG4gICAgICAgIGFjdGlvbkhlYWRlcnM6IHt9XG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmIChpc0RhdGFTdHJhdGVneVJlc3VsdChlKSAmJiBpc1Jlc3BvbnNlKGUucmVzdWx0KSkge1xuICAgICAgICBpZiAoZS50eXBlID09PSBcImVycm9yXCIgLyogZXJyb3IgKi8pIHtcbiAgICAgICAgICB0aHJvdyBlLnJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZS5yZXN1bHQ7XG4gICAgICB9XG4gICAgICBpZiAoaXNSZWRpcmVjdFJlc3BvbnNlKGUpKSB7XG4gICAgICAgIHJldHVybiBlO1xuICAgICAgfVxuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gc3VibWl0KHJlcXVlc3QsIG1hdGNoZXMsIGFjdGlvbk1hdGNoLCByZXF1ZXN0Q29udGV4dCwgZGF0YVN0cmF0ZWd5LCBza2lwTG9hZGVyRXJyb3JCdWJibGluZywgaXNSb3V0ZVJlcXVlc3QsIGZpbHRlck1hdGNoZXNUb0xvYWQsIHNraXBSZXZhbGlkYXRpb24pIHtcbiAgICBsZXQgcmVzdWx0O1xuICAgIGlmICghYWN0aW9uTWF0Y2gucm91dGUuYWN0aW9uICYmICFhY3Rpb25NYXRjaC5yb3V0ZS5sYXp5KSB7XG4gICAgICBsZXQgZXJyb3IgPSBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNSwge1xuICAgICAgICBtZXRob2Q6IHJlcXVlc3QubWV0aG9kLFxuICAgICAgICBwYXRobmFtZTogbmV3IFVSTChyZXF1ZXN0LnVybCkucGF0aG5hbWUsXG4gICAgICAgIHJvdXRlSWQ6IGFjdGlvbk1hdGNoLnJvdXRlLmlkXG4gICAgICB9KTtcbiAgICAgIGlmIChpc1JvdXRlUmVxdWVzdCkge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgdHlwZTogXCJlcnJvclwiIC8qIGVycm9yICovLFxuICAgICAgICBlcnJvclxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGRzTWF0Y2hlcyA9IGdldFRhcmdldGVkRGF0YVN0cmF0ZWd5TWF0Y2hlcyhcbiAgICAgICAgbWFwUm91dGVQcm9wZXJ0aWVzMixcbiAgICAgICAgbWFuaWZlc3QsXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIGFjdGlvbk1hdGNoLFxuICAgICAgICBbXSxcbiAgICAgICAgcmVxdWVzdENvbnRleHRcbiAgICAgICk7XG4gICAgICBsZXQgcmVzdWx0cyA9IGF3YWl0IGNhbGxEYXRhU3RyYXRlZ3koXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIGRzTWF0Y2hlcyxcbiAgICAgICAgaXNSb3V0ZVJlcXVlc3QsXG4gICAgICAgIHJlcXVlc3RDb250ZXh0LFxuICAgICAgICBkYXRhU3RyYXRlZ3lcbiAgICAgICk7XG4gICAgICByZXN1bHQgPSByZXN1bHRzW2FjdGlvbk1hdGNoLnJvdXRlLmlkXTtcbiAgICAgIGlmIChyZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgIHRocm93U3RhdGljSGFuZGxlckFib3J0ZWRFcnJvcihyZXF1ZXN0LCBpc1JvdXRlUmVxdWVzdCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpc1JlZGlyZWN0UmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIHRocm93IG5ldyBSZXNwb25zZShudWxsLCB7XG4gICAgICAgIHN0YXR1czogcmVzdWx0LnJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIExvY2F0aW9uOiByZXN1bHQucmVzcG9uc2UuaGVhZGVycy5nZXQoXCJMb2NhdGlvblwiKVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlzUm91dGVSZXF1ZXN0KSB7XG4gICAgICBpZiAoaXNFcnJvclJlc3VsdChyZXN1bHQpKSB7XG4gICAgICAgIHRocm93IHJlc3VsdC5lcnJvcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1hdGNoZXM6IFthY3Rpb25NYXRjaF0sXG4gICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICBhY3Rpb25EYXRhOiB7IFthY3Rpb25NYXRjaC5yb3V0ZS5pZF06IHJlc3VsdC5kYXRhIH0sXG4gICAgICAgIGVycm9yczogbnVsbCxcbiAgICAgICAgLy8gTm90ZTogc3RhdHVzQ29kZSArIGhlYWRlcnMgYXJlIHVudXNlZCBoZXJlIHNpbmNlIHF1ZXJ5Um91dGUgd2lsbFxuICAgICAgICAvLyByZXR1cm4gdGhlIHJhdyBSZXNwb25zZSBvciB2YWx1ZVxuICAgICAgICBzdGF0dXNDb2RlOiAyMDAsXG4gICAgICAgIGxvYWRlckhlYWRlcnM6IHt9LFxuICAgICAgICBhY3Rpb25IZWFkZXJzOiB7fVxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHNraXBSZXZhbGlkYXRpb24pIHtcbiAgICAgIGlmIChpc0Vycm9yUmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgICAgbGV0IGJvdW5kYXJ5TWF0Y2ggPSBza2lwTG9hZGVyRXJyb3JCdWJibGluZyA/IGFjdGlvbk1hdGNoIDogZmluZE5lYXJlc3RCb3VuZGFyeShtYXRjaGVzLCBhY3Rpb25NYXRjaC5yb3V0ZS5pZCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3RhdHVzQ29kZTogaXNSb3V0ZUVycm9yUmVzcG9uc2UocmVzdWx0LmVycm9yKSA/IHJlc3VsdC5lcnJvci5zdGF0dXMgOiByZXN1bHQuc3RhdHVzQ29kZSAhPSBudWxsID8gcmVzdWx0LnN0YXR1c0NvZGUgOiA1MDAsXG4gICAgICAgICAgYWN0aW9uRGF0YTogbnVsbCxcbiAgICAgICAgICBhY3Rpb25IZWFkZXJzOiB7XG4gICAgICAgICAgICAuLi5yZXN1bHQuaGVhZGVycyA/IHsgW2FjdGlvbk1hdGNoLnJvdXRlLmlkXTogcmVzdWx0LmhlYWRlcnMgfSA6IHt9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBtYXRjaGVzLFxuICAgICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICAgIGVycm9yczoge1xuICAgICAgICAgICAgW2JvdW5kYXJ5TWF0Y2gucm91dGUuaWRdOiByZXN1bHQuZXJyb3JcbiAgICAgICAgICB9LFxuICAgICAgICAgIGxvYWRlckhlYWRlcnM6IHt9XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFjdGlvbkRhdGE6IHtcbiAgICAgICAgICAgIFthY3Rpb25NYXRjaC5yb3V0ZS5pZF06IHJlc3VsdC5kYXRhXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhY3Rpb25IZWFkZXJzOiByZXN1bHQuaGVhZGVycyA/IHsgW2FjdGlvbk1hdGNoLnJvdXRlLmlkXTogcmVzdWx0LmhlYWRlcnMgfSA6IHt9LFxuICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgICAgZXJyb3JzOiBudWxsLFxuICAgICAgICAgIHN0YXR1c0NvZGU6IHJlc3VsdC5zdGF0dXNDb2RlIHx8IDIwMCxcbiAgICAgICAgICBsb2FkZXJIZWFkZXJzOiB7fVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgbG9hZGVyUmVxdWVzdCA9IG5ldyBSZXF1ZXN0KHJlcXVlc3QudXJsLCB7XG4gICAgICBoZWFkZXJzOiByZXF1ZXN0LmhlYWRlcnMsXG4gICAgICByZWRpcmVjdDogcmVxdWVzdC5yZWRpcmVjdCxcbiAgICAgIHNpZ25hbDogcmVxdWVzdC5zaWduYWxcbiAgICB9KTtcbiAgICBpZiAoaXNFcnJvclJlc3VsdChyZXN1bHQpKSB7XG4gICAgICBsZXQgYm91bmRhcnlNYXRjaCA9IHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nID8gYWN0aW9uTWF0Y2ggOiBmaW5kTmVhcmVzdEJvdW5kYXJ5KG1hdGNoZXMsIGFjdGlvbk1hdGNoLnJvdXRlLmlkKTtcbiAgICAgIGxldCBoYW5kbGVyQ29udGV4dDIgPSBhd2FpdCBsb2FkUm91dGVEYXRhKFxuICAgICAgICBsb2FkZXJSZXF1ZXN0LFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICByZXF1ZXN0Q29udGV4dCxcbiAgICAgICAgZGF0YVN0cmF0ZWd5LFxuICAgICAgICBza2lwTG9hZGVyRXJyb3JCdWJibGluZyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgZmlsdGVyTWF0Y2hlc1RvTG9hZCxcbiAgICAgICAgW2JvdW5kYXJ5TWF0Y2gucm91dGUuaWQsIHJlc3VsdF1cbiAgICAgICk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5oYW5kbGVyQ29udGV4dDIsXG4gICAgICAgIHN0YXR1c0NvZGU6IGlzUm91dGVFcnJvclJlc3BvbnNlKHJlc3VsdC5lcnJvcikgPyByZXN1bHQuZXJyb3Iuc3RhdHVzIDogcmVzdWx0LnN0YXR1c0NvZGUgIT0gbnVsbCA/IHJlc3VsdC5zdGF0dXNDb2RlIDogNTAwLFxuICAgICAgICBhY3Rpb25EYXRhOiBudWxsLFxuICAgICAgICBhY3Rpb25IZWFkZXJzOiB7XG4gICAgICAgICAgLi4ucmVzdWx0LmhlYWRlcnMgPyB7IFthY3Rpb25NYXRjaC5yb3V0ZS5pZF06IHJlc3VsdC5oZWFkZXJzIH0gOiB7fVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICBsZXQgaGFuZGxlckNvbnRleHQgPSBhd2FpdCBsb2FkUm91dGVEYXRhKFxuICAgICAgbG9hZGVyUmVxdWVzdCxcbiAgICAgIG1hdGNoZXMsXG4gICAgICByZXF1ZXN0Q29udGV4dCxcbiAgICAgIGRhdGFTdHJhdGVneSxcbiAgICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nLFxuICAgICAgbnVsbCxcbiAgICAgIGZpbHRlck1hdGNoZXNUb0xvYWRcbiAgICApO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5oYW5kbGVyQ29udGV4dCxcbiAgICAgIGFjdGlvbkRhdGE6IHtcbiAgICAgICAgW2FjdGlvbk1hdGNoLnJvdXRlLmlkXTogcmVzdWx0LmRhdGFcbiAgICAgIH0sXG4gICAgICAvLyBhY3Rpb24gc3RhdHVzIGNvZGVzIHRha2UgcHJlY2VkZW5jZSBvdmVyIGxvYWRlciBzdGF0dXMgY29kZXNcbiAgICAgIC4uLnJlc3VsdC5zdGF0dXNDb2RlID8geyBzdGF0dXNDb2RlOiByZXN1bHQuc3RhdHVzQ29kZSB9IDoge30sXG4gICAgICBhY3Rpb25IZWFkZXJzOiByZXN1bHQuaGVhZGVycyA/IHsgW2FjdGlvbk1hdGNoLnJvdXRlLmlkXTogcmVzdWx0LmhlYWRlcnMgfSA6IHt9XG4gICAgfTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBsb2FkUm91dGVEYXRhKHJlcXVlc3QsIG1hdGNoZXMsIHJlcXVlc3RDb250ZXh0LCBkYXRhU3RyYXRlZ3ksIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nLCByb3V0ZU1hdGNoLCBmaWx0ZXJNYXRjaGVzVG9Mb2FkLCBwZW5kaW5nQWN0aW9uUmVzdWx0KSB7XG4gICAgbGV0IGlzUm91dGVSZXF1ZXN0ID0gcm91dGVNYXRjaCAhPSBudWxsO1xuICAgIGlmIChpc1JvdXRlUmVxdWVzdCAmJiAhcm91dGVNYXRjaD8ucm91dGUubG9hZGVyICYmICFyb3V0ZU1hdGNoPy5yb3V0ZS5sYXp5KSB7XG4gICAgICB0aHJvdyBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwMCwge1xuICAgICAgICBtZXRob2Q6IHJlcXVlc3QubWV0aG9kLFxuICAgICAgICBwYXRobmFtZTogbmV3IFVSTChyZXF1ZXN0LnVybCkucGF0aG5hbWUsXG4gICAgICAgIHJvdXRlSWQ6IHJvdXRlTWF0Y2g/LnJvdXRlLmlkXG4gICAgICB9KTtcbiAgICB9XG4gICAgbGV0IGRzTWF0Y2hlcztcbiAgICBpZiAocm91dGVNYXRjaCkge1xuICAgICAgZHNNYXRjaGVzID0gZ2V0VGFyZ2V0ZWREYXRhU3RyYXRlZ3lNYXRjaGVzKFxuICAgICAgICBtYXBSb3V0ZVByb3BlcnRpZXMyLFxuICAgICAgICBtYW5pZmVzdCxcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgcm91dGVNYXRjaCxcbiAgICAgICAgW10sXG4gICAgICAgIHJlcXVlc3RDb250ZXh0XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgbWF4SWR4ID0gcGVuZGluZ0FjdGlvblJlc3VsdCAmJiBpc0Vycm9yUmVzdWx0KHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0pID8gKFxuICAgICAgICAvLyBVcCB0byBidXQgbm90IGluY2x1ZGluZyB0aGUgYm91bmRhcnlcbiAgICAgICAgbWF0Y2hlcy5maW5kSW5kZXgoKG0pID0+IG0ucm91dGUuaWQgPT09IHBlbmRpbmdBY3Rpb25SZXN1bHRbMF0pIC0gMVxuICAgICAgKSA6IHZvaWQgMDtcbiAgICAgIGxldCBwYXR0ZXJuID0gZ2V0Um91dGVQYXR0ZXJuKG1hdGNoZXMubWFwKChtKSA9PiBtLnJvdXRlLnBhdGgpKTtcbiAgICAgIGRzTWF0Y2hlcyA9IG1hdGNoZXMubWFwKChtYXRjaCwgaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKG1heElkeCAhPSBudWxsICYmIGluZGV4ID4gbWF4SWR4KSB7XG4gICAgICAgICAgcmV0dXJuIGdldERhdGFTdHJhdGVneU1hdGNoKFxuICAgICAgICAgICAgbWFwUm91dGVQcm9wZXJ0aWVzMixcbiAgICAgICAgICAgIG1hbmlmZXN0LFxuICAgICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICAgIHBhdHRlcm4sXG4gICAgICAgICAgICBtYXRjaCxcbiAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdldERhdGFTdHJhdGVneU1hdGNoKFxuICAgICAgICAgIG1hcFJvdXRlUHJvcGVydGllczIsXG4gICAgICAgICAgbWFuaWZlc3QsXG4gICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICBwYXR0ZXJuLFxuICAgICAgICAgIG1hdGNoLFxuICAgICAgICAgIFtdLFxuICAgICAgICAgIHJlcXVlc3RDb250ZXh0LFxuICAgICAgICAgIChtYXRjaC5yb3V0ZS5sb2FkZXIgfHwgbWF0Y2gucm91dGUubGF6eSkgIT0gbnVsbCAmJiAoIWZpbHRlck1hdGNoZXNUb0xvYWQgfHwgZmlsdGVyTWF0Y2hlc1RvTG9hZChtYXRjaCkpXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKCFkYXRhU3RyYXRlZ3kgJiYgIWRzTWF0Y2hlcy5zb21lKChtKSA9PiBtLnNob3VsZExvYWQpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBsb2FkZXJEYXRhOiB7fSxcbiAgICAgICAgZXJyb3JzOiBwZW5kaW5nQWN0aW9uUmVzdWx0ICYmIGlzRXJyb3JSZXN1bHQocGVuZGluZ0FjdGlvblJlc3VsdFsxXSkgPyB7XG4gICAgICAgICAgW3BlbmRpbmdBY3Rpb25SZXN1bHRbMF1dOiBwZW5kaW5nQWN0aW9uUmVzdWx0WzFdLmVycm9yXG4gICAgICAgIH0gOiBudWxsLFxuICAgICAgICBzdGF0dXNDb2RlOiAyMDAsXG4gICAgICAgIGxvYWRlckhlYWRlcnM6IHt9XG4gICAgICB9O1xuICAgIH1cbiAgICBsZXQgcmVzdWx0cyA9IGF3YWl0IGNhbGxEYXRhU3RyYXRlZ3koXG4gICAgICByZXF1ZXN0LFxuICAgICAgZHNNYXRjaGVzLFxuICAgICAgaXNSb3V0ZVJlcXVlc3QsXG4gICAgICByZXF1ZXN0Q29udGV4dCxcbiAgICAgIGRhdGFTdHJhdGVneVxuICAgICk7XG4gICAgaWYgKHJlcXVlc3Quc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgIHRocm93U3RhdGljSGFuZGxlckFib3J0ZWRFcnJvcihyZXF1ZXN0LCBpc1JvdXRlUmVxdWVzdCk7XG4gICAgfVxuICAgIGxldCBoYW5kbGVyQ29udGV4dCA9IHByb2Nlc3NSb3V0ZUxvYWRlckRhdGEoXG4gICAgICBtYXRjaGVzLFxuICAgICAgcmVzdWx0cyxcbiAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHQsXG4gICAgICB0cnVlLFxuICAgICAgc2tpcExvYWRlckVycm9yQnViYmxpbmdcbiAgICApO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5oYW5kbGVyQ29udGV4dCxcbiAgICAgIG1hdGNoZXNcbiAgICB9O1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIGNhbGxEYXRhU3RyYXRlZ3kocmVxdWVzdCwgbWF0Y2hlcywgaXNSb3V0ZVJlcXVlc3QsIHJlcXVlc3RDb250ZXh0LCBkYXRhU3RyYXRlZ3kpIHtcbiAgICBsZXQgcmVzdWx0cyA9IGF3YWl0IGNhbGxEYXRhU3RyYXRlZ3lJbXBsKFxuICAgICAgZGF0YVN0cmF0ZWd5IHx8IGRlZmF1bHREYXRhU3RyYXRlZ3ksXG4gICAgICByZXF1ZXN0LFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIG51bGwsXG4gICAgICByZXF1ZXN0Q29udGV4dCxcbiAgICAgIHRydWVcbiAgICApO1xuICAgIGxldCBkYXRhUmVzdWx0cyA9IHt9O1xuICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgbWF0Y2hlcy5tYXAoYXN5bmMgKG1hdGNoKSA9PiB7XG4gICAgICAgIGlmICghKG1hdGNoLnJvdXRlLmlkIGluIHJlc3VsdHMpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCByZXN1bHQgPSByZXN1bHRzW21hdGNoLnJvdXRlLmlkXTtcbiAgICAgICAgaWYgKGlzUmVkaXJlY3REYXRhU3RyYXRlZ3lSZXN1bHQocmVzdWx0KSkge1xuICAgICAgICAgIGxldCByZXNwb25zZSA9IHJlc3VsdC5yZXN1bHQ7XG4gICAgICAgICAgdGhyb3cgbm9ybWFsaXplUmVsYXRpdmVSb3V0aW5nUmVkaXJlY3RSZXNwb25zZShcbiAgICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICAgIG1hdGNoLnJvdXRlLmlkLFxuICAgICAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgICAgIGJhc2VuYW1lXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNSb3V0ZVJlcXVlc3QpIHtcbiAgICAgICAgICBpZiAoaXNSZXNwb25zZShyZXN1bHQucmVzdWx0KSkge1xuICAgICAgICAgICAgdGhyb3cgcmVzdWx0O1xuICAgICAgICAgIH0gZWxzZSBpZiAoaXNEYXRhV2l0aFJlc3BvbnNlSW5pdChyZXN1bHQucmVzdWx0KSkge1xuICAgICAgICAgICAgdGhyb3cgZGF0YVdpdGhSZXNwb25zZUluaXRUb1Jlc3BvbnNlKHJlc3VsdC5yZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkYXRhUmVzdWx0c1ttYXRjaC5yb3V0ZS5pZF0gPSBhd2FpdCBjb252ZXJ0RGF0YVN0cmF0ZWd5UmVzdWx0VG9EYXRhUmVzdWx0KHJlc3VsdCk7XG4gICAgICB9KVxuICAgICk7XG4gICAgcmV0dXJuIGRhdGFSZXN1bHRzO1xuICB9XG4gIHJldHVybiB7XG4gICAgZGF0YVJvdXRlcyxcbiAgICBxdWVyeSxcbiAgICBxdWVyeVJvdXRlXG4gIH07XG59XG5mdW5jdGlvbiBnZXRTdGF0aWNDb250ZXh0RnJvbUVycm9yKHJvdXRlcywgaGFuZGxlckNvbnRleHQsIGVycm9yLCBib3VuZGFyeUlkKSB7XG4gIGxldCBlcnJvckJvdW5kYXJ5SWQgPSBib3VuZGFyeUlkIHx8IGhhbmRsZXJDb250ZXh0Ll9kZWVwZXN0UmVuZGVyZWRCb3VuZGFyeUlkIHx8IHJvdXRlc1swXS5pZDtcbiAgcmV0dXJuIHtcbiAgICAuLi5oYW5kbGVyQ29udGV4dCxcbiAgICBzdGF0dXNDb2RlOiBpc1JvdXRlRXJyb3JSZXNwb25zZShlcnJvcikgPyBlcnJvci5zdGF0dXMgOiA1MDAsXG4gICAgZXJyb3JzOiB7XG4gICAgICBbZXJyb3JCb3VuZGFyeUlkXTogZXJyb3JcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiB0aHJvd1N0YXRpY0hhbmRsZXJBYm9ydGVkRXJyb3IocmVxdWVzdCwgaXNSb3V0ZVJlcXVlc3QpIHtcbiAgaWYgKHJlcXVlc3Quc2lnbmFsLnJlYXNvbiAhPT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgcmVxdWVzdC5zaWduYWwucmVhc29uO1xuICB9XG4gIGxldCBtZXRob2QgPSBpc1JvdXRlUmVxdWVzdCA/IFwicXVlcnlSb3V0ZVwiIDogXCJxdWVyeVwiO1xuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgYCR7bWV0aG9kfSgpIGNhbGwgYWJvcnRlZCB3aXRob3V0IGFuIFxcYEFib3J0U2lnbmFsLnJlYXNvblxcYDogJHtyZXF1ZXN0Lm1ldGhvZH0gJHtyZXF1ZXN0LnVybH1gXG4gICk7XG59XG5mdW5jdGlvbiBpc1N1Ym1pc3Npb25OYXZpZ2F0aW9uKG9wdHMpIHtcbiAgcmV0dXJuIG9wdHMgIT0gbnVsbCAmJiAoXCJmb3JtRGF0YVwiIGluIG9wdHMgJiYgb3B0cy5mb3JtRGF0YSAhPSBudWxsIHx8IFwiYm9keVwiIGluIG9wdHMgJiYgb3B0cy5ib2R5ICE9PSB2b2lkIDApO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplVG8obG9jYXRpb24sIG1hdGNoZXMsIGJhc2VuYW1lLCB0bywgZnJvbVJvdXRlSWQsIHJlbGF0aXZlKSB7XG4gIGxldCBjb250ZXh0dWFsTWF0Y2hlcztcbiAgbGV0IGFjdGl2ZVJvdXRlTWF0Y2g7XG4gIGlmIChmcm9tUm91dGVJZCkge1xuICAgIGNvbnRleHR1YWxNYXRjaGVzID0gW107XG4gICAgZm9yIChsZXQgbWF0Y2ggb2YgbWF0Y2hlcykge1xuICAgICAgY29udGV4dHVhbE1hdGNoZXMucHVzaChtYXRjaCk7XG4gICAgICBpZiAobWF0Y2gucm91dGUuaWQgPT09IGZyb21Sb3V0ZUlkKSB7XG4gICAgICAgIGFjdGl2ZVJvdXRlTWF0Y2ggPSBtYXRjaDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvbnRleHR1YWxNYXRjaGVzID0gbWF0Y2hlcztcbiAgICBhY3RpdmVSb3V0ZU1hdGNoID0gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdO1xuICB9XG4gIGxldCBwYXRoID0gcmVzb2x2ZVRvKFxuICAgIHRvID8gdG8gOiBcIi5cIixcbiAgICBnZXRSZXNvbHZlVG9NYXRjaGVzKGNvbnRleHR1YWxNYXRjaGVzKSxcbiAgICBzdHJpcEJhc2VuYW1lKGxvY2F0aW9uLnBhdGhuYW1lLCBiYXNlbmFtZSkgfHwgbG9jYXRpb24ucGF0aG5hbWUsXG4gICAgcmVsYXRpdmUgPT09IFwicGF0aFwiXG4gICk7XG4gIGlmICh0byA9PSBudWxsKSB7XG4gICAgcGF0aC5zZWFyY2ggPSBsb2NhdGlvbi5zZWFyY2g7XG4gICAgcGF0aC5oYXNoID0gbG9jYXRpb24uaGFzaDtcbiAgfVxuICBpZiAoKHRvID09IG51bGwgfHwgdG8gPT09IFwiXCIgfHwgdG8gPT09IFwiLlwiKSAmJiBhY3RpdmVSb3V0ZU1hdGNoKSB7XG4gICAgbGV0IG5ha2VkSW5kZXggPSBoYXNOYWtlZEluZGV4UXVlcnkocGF0aC5zZWFyY2gpO1xuICAgIGlmIChhY3RpdmVSb3V0ZU1hdGNoLnJvdXRlLmluZGV4ICYmICFuYWtlZEluZGV4KSB7XG4gICAgICBwYXRoLnNlYXJjaCA9IHBhdGguc2VhcmNoID8gcGF0aC5zZWFyY2gucmVwbGFjZSgvXlxcPy8sIFwiP2luZGV4JlwiKSA6IFwiP2luZGV4XCI7XG4gICAgfSBlbHNlIGlmICghYWN0aXZlUm91dGVNYXRjaC5yb3V0ZS5pbmRleCAmJiBuYWtlZEluZGV4KSB7XG4gICAgICBsZXQgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhwYXRoLnNlYXJjaCk7XG4gICAgICBsZXQgaW5kZXhWYWx1ZXMgPSBwYXJhbXMuZ2V0QWxsKFwiaW5kZXhcIik7XG4gICAgICBwYXJhbXMuZGVsZXRlKFwiaW5kZXhcIik7XG4gICAgICBpbmRleFZhbHVlcy5maWx0ZXIoKHYpID0+IHYpLmZvckVhY2goKHYpID0+IHBhcmFtcy5hcHBlbmQoXCJpbmRleFwiLCB2KSk7XG4gICAgICBsZXQgcXMgPSBwYXJhbXMudG9TdHJpbmcoKTtcbiAgICAgIHBhdGguc2VhcmNoID0gcXMgPyBgPyR7cXN9YCA6IFwiXCI7XG4gICAgfVxuICB9XG4gIGlmIChiYXNlbmFtZSAhPT0gXCIvXCIpIHtcbiAgICBwYXRoLnBhdGhuYW1lID0gcHJlcGVuZEJhc2VuYW1lKHsgYmFzZW5hbWUsIHBhdGhuYW1lOiBwYXRoLnBhdGhuYW1lIH0pO1xuICB9XG4gIHJldHVybiBjcmVhdGVQYXRoKHBhdGgpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplTmF2aWdhdGVPcHRpb25zKGlzRmV0Y2hlciwgcGF0aCwgb3B0cykge1xuICBpZiAoIW9wdHMgfHwgIWlzU3VibWlzc2lvbk5hdmlnYXRpb24ob3B0cykpIHtcbiAgICByZXR1cm4geyBwYXRoIH07XG4gIH1cbiAgaWYgKG9wdHMuZm9ybU1ldGhvZCAmJiAhaXNWYWxpZE1ldGhvZChvcHRzLmZvcm1NZXRob2QpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhdGgsXG4gICAgICBlcnJvcjogZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDUsIHsgbWV0aG9kOiBvcHRzLmZvcm1NZXRob2QgfSlcbiAgICB9O1xuICB9XG4gIGxldCBnZXRJbnZhbGlkQm9keUVycm9yID0gKCkgPT4gKHtcbiAgICBwYXRoLFxuICAgIGVycm9yOiBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwMCwgeyB0eXBlOiBcImludmFsaWQtYm9keVwiIH0pXG4gIH0pO1xuICBsZXQgcmF3Rm9ybU1ldGhvZCA9IG9wdHMuZm9ybU1ldGhvZCB8fCBcImdldFwiO1xuICBsZXQgZm9ybU1ldGhvZCA9IHJhd0Zvcm1NZXRob2QudG9VcHBlckNhc2UoKTtcbiAgbGV0IGZvcm1BY3Rpb24gPSBzdHJpcEhhc2hGcm9tUGF0aChwYXRoKTtcbiAgaWYgKG9wdHMuYm9keSAhPT0gdm9pZCAwKSB7XG4gICAgaWYgKG9wdHMuZm9ybUVuY1R5cGUgPT09IFwidGV4dC9wbGFpblwiKSB7XG4gICAgICBpZiAoIWlzTXV0YXRpb25NZXRob2QoZm9ybU1ldGhvZCkpIHtcbiAgICAgICAgcmV0dXJuIGdldEludmFsaWRCb2R5RXJyb3IoKTtcbiAgICAgIH1cbiAgICAgIGxldCB0ZXh0ID0gdHlwZW9mIG9wdHMuYm9keSA9PT0gXCJzdHJpbmdcIiA/IG9wdHMuYm9keSA6IG9wdHMuYm9keSBpbnN0YW5jZW9mIEZvcm1EYXRhIHx8IG9wdHMuYm9keSBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtcyA/IChcbiAgICAgICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybS1jb250cm9sLWluZnJhc3RydWN0dXJlLmh0bWwjcGxhaW4tdGV4dC1mb3JtLWRhdGFcbiAgICAgICAgQXJyYXkuZnJvbShvcHRzLmJvZHkuZW50cmllcygpKS5yZWR1Y2UoXG4gICAgICAgICAgKGFjYywgW25hbWUsIHZhbHVlXSkgPT4gYCR7YWNjfSR7bmFtZX09JHt2YWx1ZX1cbmAsXG4gICAgICAgICAgXCJcIlxuICAgICAgICApXG4gICAgICApIDogU3RyaW5nKG9wdHMuYm9keSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwYXRoLFxuICAgICAgICBzdWJtaXNzaW9uOiB7XG4gICAgICAgICAgZm9ybU1ldGhvZCxcbiAgICAgICAgICBmb3JtQWN0aW9uLFxuICAgICAgICAgIGZvcm1FbmNUeXBlOiBvcHRzLmZvcm1FbmNUeXBlLFxuICAgICAgICAgIGZvcm1EYXRhOiB2b2lkIDAsXG4gICAgICAgICAganNvbjogdm9pZCAwLFxuICAgICAgICAgIHRleHRcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKG9wdHMuZm9ybUVuY1R5cGUgPT09IFwiYXBwbGljYXRpb24vanNvblwiKSB7XG4gICAgICBpZiAoIWlzTXV0YXRpb25NZXRob2QoZm9ybU1ldGhvZCkpIHtcbiAgICAgICAgcmV0dXJuIGdldEludmFsaWRCb2R5RXJyb3IoKTtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCBqc29uID0gdHlwZW9mIG9wdHMuYm9keSA9PT0gXCJzdHJpbmdcIiA/IEpTT04ucGFyc2Uob3B0cy5ib2R5KSA6IG9wdHMuYm9keTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBwYXRoLFxuICAgICAgICAgIHN1Ym1pc3Npb246IHtcbiAgICAgICAgICAgIGZvcm1NZXRob2QsXG4gICAgICAgICAgICBmb3JtQWN0aW9uLFxuICAgICAgICAgICAgZm9ybUVuY1R5cGU6IG9wdHMuZm9ybUVuY1R5cGUsXG4gICAgICAgICAgICBmb3JtRGF0YTogdm9pZCAwLFxuICAgICAgICAgICAganNvbixcbiAgICAgICAgICAgIHRleHQ6IHZvaWQgMFxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGdldEludmFsaWRCb2R5RXJyb3IoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaW52YXJpYW50KFxuICAgIHR5cGVvZiBGb3JtRGF0YSA9PT0gXCJmdW5jdGlvblwiLFxuICAgIFwiRm9ybURhdGEgaXMgbm90IGF2YWlsYWJsZSBpbiB0aGlzIGVudmlyb25tZW50XCJcbiAgKTtcbiAgbGV0IHNlYXJjaFBhcmFtcztcbiAgbGV0IGZvcm1EYXRhO1xuICBpZiAob3B0cy5mb3JtRGF0YSkge1xuICAgIHNlYXJjaFBhcmFtcyA9IGNvbnZlcnRGb3JtRGF0YVRvU2VhcmNoUGFyYW1zKG9wdHMuZm9ybURhdGEpO1xuICAgIGZvcm1EYXRhID0gb3B0cy5mb3JtRGF0YTtcbiAgfSBlbHNlIGlmIChvcHRzLmJvZHkgaW5zdGFuY2VvZiBGb3JtRGF0YSkge1xuICAgIHNlYXJjaFBhcmFtcyA9IGNvbnZlcnRGb3JtRGF0YVRvU2VhcmNoUGFyYW1zKG9wdHMuYm9keSk7XG4gICAgZm9ybURhdGEgPSBvcHRzLmJvZHk7XG4gIH0gZWxzZSBpZiAob3B0cy5ib2R5IGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zKSB7XG4gICAgc2VhcmNoUGFyYW1zID0gb3B0cy5ib2R5O1xuICAgIGZvcm1EYXRhID0gY29udmVydFNlYXJjaFBhcmFtc1RvRm9ybURhdGEoc2VhcmNoUGFyYW1zKTtcbiAgfSBlbHNlIGlmIChvcHRzLmJvZHkgPT0gbnVsbCkge1xuICAgIHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKG9wdHMuYm9keSk7XG4gICAgICBmb3JtRGF0YSA9IGNvbnZlcnRTZWFyY2hQYXJhbXNUb0Zvcm1EYXRhKHNlYXJjaFBhcmFtcyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGdldEludmFsaWRCb2R5RXJyb3IoKTtcbiAgICB9XG4gIH1cbiAgbGV0IHN1Ym1pc3Npb24gPSB7XG4gICAgZm9ybU1ldGhvZCxcbiAgICBmb3JtQWN0aW9uLFxuICAgIGZvcm1FbmNUeXBlOiBvcHRzICYmIG9wdHMuZm9ybUVuY1R5cGUgfHwgXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIixcbiAgICBmb3JtRGF0YSxcbiAgICBqc29uOiB2b2lkIDAsXG4gICAgdGV4dDogdm9pZCAwXG4gIH07XG4gIGlmIChpc011dGF0aW9uTWV0aG9kKHN1Ym1pc3Npb24uZm9ybU1ldGhvZCkpIHtcbiAgICByZXR1cm4geyBwYXRoLCBzdWJtaXNzaW9uIH07XG4gIH1cbiAgbGV0IHBhcnNlZFBhdGggPSBwYXJzZVBhdGgocGF0aCk7XG4gIGlmIChpc0ZldGNoZXIgJiYgcGFyc2VkUGF0aC5zZWFyY2ggJiYgaGFzTmFrZWRJbmRleFF1ZXJ5KHBhcnNlZFBhdGguc2VhcmNoKSkge1xuICAgIHNlYXJjaFBhcmFtcy5hcHBlbmQoXCJpbmRleFwiLCBcIlwiKTtcbiAgfVxuICBwYXJzZWRQYXRoLnNlYXJjaCA9IGA/JHtzZWFyY2hQYXJhbXN9YDtcbiAgcmV0dXJuIHsgcGF0aDogY3JlYXRlUGF0aChwYXJzZWRQYXRoKSwgc3VibWlzc2lvbiB9O1xufVxuZnVuY3Rpb24gZ2V0TWF0Y2hlc1RvTG9hZChyZXF1ZXN0LCBzY29wZWRDb250ZXh0LCBtYXBSb3V0ZVByb3BlcnRpZXMyLCBtYW5pZmVzdCwgaGlzdG9yeSwgc3RhdGUsIG1hdGNoZXMsIHN1Ym1pc3Npb24sIGxvY2F0aW9uLCBsYXp5Um91dGVQcm9wZXJ0aWVzVG9Ta2lwLCBpbml0aWFsSHlkcmF0aW9uLCBpc1JldmFsaWRhdGlvblJlcXVpcmVkLCBjYW5jZWxsZWRGZXRjaGVyTG9hZHMsIGZldGNoZXJzUXVldWVkRm9yRGVsZXRpb24sIGZldGNoTG9hZE1hdGNoZXMsIGZldGNoUmVkaXJlY3RJZHMsIHJvdXRlc1RvVXNlLCBiYXNlbmFtZSwgaGFzUGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb24sIHBlbmRpbmdBY3Rpb25SZXN1bHQpIHtcbiAgbGV0IGFjdGlvblJlc3VsdCA9IHBlbmRpbmdBY3Rpb25SZXN1bHQgPyBpc0Vycm9yUmVzdWx0KHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0pID8gcGVuZGluZ0FjdGlvblJlc3VsdFsxXS5lcnJvciA6IHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0uZGF0YSA6IHZvaWQgMDtcbiAgbGV0IGN1cnJlbnRVcmwgPSBoaXN0b3J5LmNyZWF0ZVVSTChzdGF0ZS5sb2NhdGlvbik7XG4gIGxldCBuZXh0VXJsID0gaGlzdG9yeS5jcmVhdGVVUkwobG9jYXRpb24pO1xuICBsZXQgbWF4SWR4O1xuICBpZiAoaW5pdGlhbEh5ZHJhdGlvbiAmJiBzdGF0ZS5lcnJvcnMpIHtcbiAgICBsZXQgYm91bmRhcnlJZCA9IE9iamVjdC5rZXlzKHN0YXRlLmVycm9ycylbMF07XG4gICAgbWF4SWR4ID0gbWF0Y2hlcy5maW5kSW5kZXgoKG0pID0+IG0ucm91dGUuaWQgPT09IGJvdW5kYXJ5SWQpO1xuICB9IGVsc2UgaWYgKHBlbmRpbmdBY3Rpb25SZXN1bHQgJiYgaXNFcnJvclJlc3VsdChwZW5kaW5nQWN0aW9uUmVzdWx0WzFdKSkge1xuICAgIGxldCBib3VuZGFyeUlkID0gcGVuZGluZ0FjdGlvblJlc3VsdFswXTtcbiAgICBtYXhJZHggPSBtYXRjaGVzLmZpbmRJbmRleCgobSkgPT4gbS5yb3V0ZS5pZCA9PT0gYm91bmRhcnlJZCkgLSAxO1xuICB9XG4gIGxldCBhY3Rpb25TdGF0dXMgPSBwZW5kaW5nQWN0aW9uUmVzdWx0ID8gcGVuZGluZ0FjdGlvblJlc3VsdFsxXS5zdGF0dXNDb2RlIDogdm9pZCAwO1xuICBsZXQgc2hvdWxkU2tpcFJldmFsaWRhdGlvbiA9IGFjdGlvblN0YXR1cyAmJiBhY3Rpb25TdGF0dXMgPj0gNDAwO1xuICBsZXQgYmFzZVNob3VsZFJldmFsaWRhdGVBcmdzID0ge1xuICAgIGN1cnJlbnRVcmwsXG4gICAgY3VycmVudFBhcmFtczogc3RhdGUubWF0Y2hlc1swXT8ucGFyYW1zIHx8IHt9LFxuICAgIG5leHRVcmwsXG4gICAgbmV4dFBhcmFtczogbWF0Y2hlc1swXS5wYXJhbXMsXG4gICAgLi4uc3VibWlzc2lvbixcbiAgICBhY3Rpb25SZXN1bHQsXG4gICAgYWN0aW9uU3RhdHVzXG4gIH07XG4gIGxldCBwYXR0ZXJuID0gZ2V0Um91dGVQYXR0ZXJuKG1hdGNoZXMubWFwKChtKSA9PiBtLnJvdXRlLnBhdGgpKTtcbiAgbGV0IGRzTWF0Y2hlcyA9IG1hdGNoZXMubWFwKChtYXRjaCwgaW5kZXgpID0+IHtcbiAgICBsZXQgeyByb3V0ZSB9ID0gbWF0Y2g7XG4gICAgbGV0IGZvcmNlU2hvdWxkTG9hZCA9IG51bGw7XG4gICAgaWYgKG1heElkeCAhPSBudWxsICYmIGluZGV4ID4gbWF4SWR4KSB7XG4gICAgICBmb3JjZVNob3VsZExvYWQgPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKHJvdXRlLmxhenkpIHtcbiAgICAgIGZvcmNlU2hvdWxkTG9hZCA9IHRydWU7XG4gICAgfSBlbHNlIGlmICghcm91dGVIYXNMb2FkZXJPck1pZGRsZXdhcmUocm91dGUpKSB7XG4gICAgICBmb3JjZVNob3VsZExvYWQgPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKGluaXRpYWxIeWRyYXRpb24pIHtcbiAgICAgIGZvcmNlU2hvdWxkTG9hZCA9IHNob3VsZExvYWRSb3V0ZU9uSHlkcmF0aW9uKFxuICAgICAgICByb3V0ZSxcbiAgICAgICAgc3RhdGUubG9hZGVyRGF0YSxcbiAgICAgICAgc3RhdGUuZXJyb3JzXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoaXNOZXdMb2FkZXIoc3RhdGUubG9hZGVyRGF0YSwgc3RhdGUubWF0Y2hlc1tpbmRleF0sIG1hdGNoKSkge1xuICAgICAgZm9yY2VTaG91bGRMb2FkID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGZvcmNlU2hvdWxkTG9hZCAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGdldERhdGFTdHJhdGVneU1hdGNoKFxuICAgICAgICBtYXBSb3V0ZVByb3BlcnRpZXMyLFxuICAgICAgICBtYW5pZmVzdCxcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgcGF0dGVybixcbiAgICAgICAgbWF0Y2gsXG4gICAgICAgIGxhenlSb3V0ZVByb3BlcnRpZXNUb1NraXAsXG4gICAgICAgIHNjb3BlZENvbnRleHQsXG4gICAgICAgIGZvcmNlU2hvdWxkTG9hZFxuICAgICAgKTtcbiAgICB9XG4gICAgbGV0IGRlZmF1bHRTaG91bGRSZXZhbGlkYXRlID0gc2hvdWxkU2tpcFJldmFsaWRhdGlvbiA/IGZhbHNlIDogKFxuICAgICAgLy8gRm9yY2VkIHJldmFsaWRhdGlvbiBkdWUgdG8gc3VibWlzc2lvbiwgdXNlUmV2YWxpZGF0b3IsIG9yIFgtUmVtaXgtUmV2YWxpZGF0ZVxuICAgICAgaXNSZXZhbGlkYXRpb25SZXF1aXJlZCB8fCBjdXJyZW50VXJsLnBhdGhuYW1lICsgY3VycmVudFVybC5zZWFyY2ggPT09IG5leHRVcmwucGF0aG5hbWUgKyBuZXh0VXJsLnNlYXJjaCB8fCAvLyBTZWFyY2ggcGFyYW1zIGFmZmVjdCBhbGwgbG9hZGVyc1xuICAgICAgY3VycmVudFVybC5zZWFyY2ggIT09IG5leHRVcmwuc2VhcmNoIHx8IGlzTmV3Um91dGVJbnN0YW5jZShzdGF0ZS5tYXRjaGVzW2luZGV4XSwgbWF0Y2gpXG4gICAgKTtcbiAgICBsZXQgc2hvdWxkUmV2YWxpZGF0ZUFyZ3MgPSB7XG4gICAgICAuLi5iYXNlU2hvdWxkUmV2YWxpZGF0ZUFyZ3MsXG4gICAgICBkZWZhdWx0U2hvdWxkUmV2YWxpZGF0ZVxuICAgIH07XG4gICAgbGV0IHNob3VsZExvYWQgPSBzaG91bGRSZXZhbGlkYXRlTG9hZGVyKG1hdGNoLCBzaG91bGRSZXZhbGlkYXRlQXJncyk7XG4gICAgcmV0dXJuIGdldERhdGFTdHJhdGVneU1hdGNoKFxuICAgICAgbWFwUm91dGVQcm9wZXJ0aWVzMixcbiAgICAgIG1hbmlmZXN0LFxuICAgICAgcmVxdWVzdCxcbiAgICAgIHBhdHRlcm4sXG4gICAgICBtYXRjaCxcbiAgICAgIGxhenlSb3V0ZVByb3BlcnRpZXNUb1NraXAsXG4gICAgICBzY29wZWRDb250ZXh0LFxuICAgICAgc2hvdWxkTG9hZCxcbiAgICAgIHNob3VsZFJldmFsaWRhdGVBcmdzXG4gICAgKTtcbiAgfSk7XG4gIGxldCByZXZhbGlkYXRpbmdGZXRjaGVycyA9IFtdO1xuICBmZXRjaExvYWRNYXRjaGVzLmZvckVhY2goKGYsIGtleSkgPT4ge1xuICAgIGlmIChpbml0aWFsSHlkcmF0aW9uIHx8ICFtYXRjaGVzLnNvbWUoKG0pID0+IG0ucm91dGUuaWQgPT09IGYucm91dGVJZCkgfHwgZmV0Y2hlcnNRdWV1ZWRGb3JEZWxldGlvbi5oYXMoa2V5KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgZmV0Y2hlciA9IHN0YXRlLmZldGNoZXJzLmdldChrZXkpO1xuICAgIGxldCBpc01pZEluaXRpYWxMb2FkID0gZmV0Y2hlciAmJiBmZXRjaGVyLnN0YXRlICE9PSBcImlkbGVcIiAmJiBmZXRjaGVyLmRhdGEgPT09IHZvaWQgMDtcbiAgICBsZXQgZmV0Y2hlck1hdGNoZXMgPSBtYXRjaFJvdXRlcyhyb3V0ZXNUb1VzZSwgZi5wYXRoLCBiYXNlbmFtZSk7XG4gICAgaWYgKCFmZXRjaGVyTWF0Y2hlcykge1xuICAgICAgaWYgKGhhc1BhdGNoUm91dGVzT25OYXZpZ2F0aW9uICYmIGlzTWlkSW5pdGlhbExvYWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMucHVzaCh7XG4gICAgICAgIGtleSxcbiAgICAgICAgcm91dGVJZDogZi5yb3V0ZUlkLFxuICAgICAgICBwYXRoOiBmLnBhdGgsXG4gICAgICAgIG1hdGNoZXM6IG51bGwsXG4gICAgICAgIG1hdGNoOiBudWxsLFxuICAgICAgICByZXF1ZXN0OiBudWxsLFxuICAgICAgICBjb250cm9sbGVyOiBudWxsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGZldGNoUmVkaXJlY3RJZHMuaGFzKGtleSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGZldGNoZXJNYXRjaCA9IGdldFRhcmdldE1hdGNoKGZldGNoZXJNYXRjaGVzLCBmLnBhdGgpO1xuICAgIGxldCBmZXRjaENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgbGV0IGZldGNoUmVxdWVzdCA9IGNyZWF0ZUNsaWVudFNpZGVSZXF1ZXN0KFxuICAgICAgaGlzdG9yeSxcbiAgICAgIGYucGF0aCxcbiAgICAgIGZldGNoQ29udHJvbGxlci5zaWduYWxcbiAgICApO1xuICAgIGxldCBmZXRjaGVyRHNNYXRjaGVzID0gbnVsbDtcbiAgICBpZiAoY2FuY2VsbGVkRmV0Y2hlckxvYWRzLmhhcyhrZXkpKSB7XG4gICAgICBjYW5jZWxsZWRGZXRjaGVyTG9hZHMuZGVsZXRlKGtleSk7XG4gICAgICBmZXRjaGVyRHNNYXRjaGVzID0gZ2V0VGFyZ2V0ZWREYXRhU3RyYXRlZ3lNYXRjaGVzKFxuICAgICAgICBtYXBSb3V0ZVByb3BlcnRpZXMyLFxuICAgICAgICBtYW5pZmVzdCxcbiAgICAgICAgZmV0Y2hSZXF1ZXN0LFxuICAgICAgICBmZXRjaGVyTWF0Y2hlcyxcbiAgICAgICAgZmV0Y2hlck1hdGNoLFxuICAgICAgICBsYXp5Um91dGVQcm9wZXJ0aWVzVG9Ta2lwLFxuICAgICAgICBzY29wZWRDb250ZXh0XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoaXNNaWRJbml0aWFsTG9hZCkge1xuICAgICAgaWYgKGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQpIHtcbiAgICAgICAgZmV0Y2hlckRzTWF0Y2hlcyA9IGdldFRhcmdldGVkRGF0YVN0cmF0ZWd5TWF0Y2hlcyhcbiAgICAgICAgICBtYXBSb3V0ZVByb3BlcnRpZXMyLFxuICAgICAgICAgIG1hbmlmZXN0LFxuICAgICAgICAgIGZldGNoUmVxdWVzdCxcbiAgICAgICAgICBmZXRjaGVyTWF0Y2hlcyxcbiAgICAgICAgICBmZXRjaGVyTWF0Y2gsXG4gICAgICAgICAgbGF6eVJvdXRlUHJvcGVydGllc1RvU2tpcCxcbiAgICAgICAgICBzY29wZWRDb250ZXh0XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBzaG91bGRSZXZhbGlkYXRlQXJncyA9IHtcbiAgICAgICAgLi4uYmFzZVNob3VsZFJldmFsaWRhdGVBcmdzLFxuICAgICAgICBkZWZhdWx0U2hvdWxkUmV2YWxpZGF0ZTogc2hvdWxkU2tpcFJldmFsaWRhdGlvbiA/IGZhbHNlIDogaXNSZXZhbGlkYXRpb25SZXF1aXJlZFxuICAgICAgfTtcbiAgICAgIGlmIChzaG91bGRSZXZhbGlkYXRlTG9hZGVyKGZldGNoZXJNYXRjaCwgc2hvdWxkUmV2YWxpZGF0ZUFyZ3MpKSB7XG4gICAgICAgIGZldGNoZXJEc01hdGNoZXMgPSBnZXRUYXJnZXRlZERhdGFTdHJhdGVneU1hdGNoZXMoXG4gICAgICAgICAgbWFwUm91dGVQcm9wZXJ0aWVzMixcbiAgICAgICAgICBtYW5pZmVzdCxcbiAgICAgICAgICBmZXRjaFJlcXVlc3QsXG4gICAgICAgICAgZmV0Y2hlck1hdGNoZXMsXG4gICAgICAgICAgZmV0Y2hlck1hdGNoLFxuICAgICAgICAgIGxhenlSb3V0ZVByb3BlcnRpZXNUb1NraXAsXG4gICAgICAgICAgc2NvcGVkQ29udGV4dCxcbiAgICAgICAgICBzaG91bGRSZXZhbGlkYXRlQXJnc1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZmV0Y2hlckRzTWF0Y2hlcykge1xuICAgICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMucHVzaCh7XG4gICAgICAgIGtleSxcbiAgICAgICAgcm91dGVJZDogZi5yb3V0ZUlkLFxuICAgICAgICBwYXRoOiBmLnBhdGgsXG4gICAgICAgIG1hdGNoZXM6IGZldGNoZXJEc01hdGNoZXMsXG4gICAgICAgIG1hdGNoOiBmZXRjaGVyTWF0Y2gsXG4gICAgICAgIHJlcXVlc3Q6IGZldGNoUmVxdWVzdCxcbiAgICAgICAgY29udHJvbGxlcjogZmV0Y2hDb250cm9sbGVyXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4geyBkc01hdGNoZXMsIHJldmFsaWRhdGluZ0ZldGNoZXJzIH07XG59XG5mdW5jdGlvbiByb3V0ZUhhc0xvYWRlck9yTWlkZGxld2FyZShyb3V0ZSkge1xuICByZXR1cm4gcm91dGUubG9hZGVyICE9IG51bGwgfHwgcm91dGUubWlkZGxld2FyZSAhPSBudWxsICYmIHJvdXRlLm1pZGRsZXdhcmUubGVuZ3RoID4gMDtcbn1cbmZ1bmN0aW9uIHNob3VsZExvYWRSb3V0ZU9uSHlkcmF0aW9uKHJvdXRlLCBsb2FkZXJEYXRhLCBlcnJvcnMpIHtcbiAgaWYgKHJvdXRlLmxhenkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoIXJvdXRlSGFzTG9hZGVyT3JNaWRkbGV3YXJlKHJvdXRlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBsZXQgaGFzRGF0YSA9IGxvYWRlckRhdGEgIT0gbnVsbCAmJiByb3V0ZS5pZCBpbiBsb2FkZXJEYXRhO1xuICBsZXQgaGFzRXJyb3IgPSBlcnJvcnMgIT0gbnVsbCAmJiBlcnJvcnNbcm91dGUuaWRdICE9PSB2b2lkIDA7XG4gIGlmICghaGFzRGF0YSAmJiBoYXNFcnJvcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAodHlwZW9mIHJvdXRlLmxvYWRlciA9PT0gXCJmdW5jdGlvblwiICYmIHJvdXRlLmxvYWRlci5oeWRyYXRlID09PSB0cnVlKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuICFoYXNEYXRhICYmICFoYXNFcnJvcjtcbn1cbmZ1bmN0aW9uIGlzTmV3TG9hZGVyKGN1cnJlbnRMb2FkZXJEYXRhLCBjdXJyZW50TWF0Y2gsIG1hdGNoKSB7XG4gIGxldCBpc05ldyA9IChcbiAgICAvLyBbYV0gLT4gW2EsIGJdXG4gICAgIWN1cnJlbnRNYXRjaCB8fCAvLyBbYSwgYl0gLT4gW2EsIGNdXG4gICAgbWF0Y2gucm91dGUuaWQgIT09IGN1cnJlbnRNYXRjaC5yb3V0ZS5pZFxuICApO1xuICBsZXQgaXNNaXNzaW5nRGF0YSA9ICFjdXJyZW50TG9hZGVyRGF0YS5oYXNPd25Qcm9wZXJ0eShtYXRjaC5yb3V0ZS5pZCk7XG4gIHJldHVybiBpc05ldyB8fCBpc01pc3NpbmdEYXRhO1xufVxuZnVuY3Rpb24gaXNOZXdSb3V0ZUluc3RhbmNlKGN1cnJlbnRNYXRjaCwgbWF0Y2gpIHtcbiAgbGV0IGN1cnJlbnRQYXRoID0gY3VycmVudE1hdGNoLnJvdXRlLnBhdGg7XG4gIHJldHVybiAoXG4gICAgLy8gcGFyYW0gY2hhbmdlIGZvciB0aGlzIG1hdGNoLCAvdXNlcnMvMTIzIC0+IC91c2Vycy80NTZcbiAgICBjdXJyZW50TWF0Y2gucGF0aG5hbWUgIT09IG1hdGNoLnBhdGhuYW1lIHx8IC8vIHNwbGF0IHBhcmFtIGNoYW5nZWQsIHdoaWNoIGlzIG5vdCBwcmVzZW50IGluIG1hdGNoLnBhdGhcbiAgICAvLyBlLmcuIC9maWxlcy9pbWFnZXMvYXZhdGFyLmpwZyAtPiBmaWxlcy9maW5hbmNlcy54bHNcbiAgICBjdXJyZW50UGF0aCAhPSBudWxsICYmIGN1cnJlbnRQYXRoLmVuZHNXaXRoKFwiKlwiKSAmJiBjdXJyZW50TWF0Y2gucGFyYW1zW1wiKlwiXSAhPT0gbWF0Y2gucGFyYW1zW1wiKlwiXVxuICApO1xufVxuZnVuY3Rpb24gc2hvdWxkUmV2YWxpZGF0ZUxvYWRlcihsb2FkZXJNYXRjaCwgYXJnKSB7XG4gIGlmIChsb2FkZXJNYXRjaC5yb3V0ZS5zaG91bGRSZXZhbGlkYXRlKSB7XG4gICAgbGV0IHJvdXRlQ2hvaWNlID0gbG9hZGVyTWF0Y2gucm91dGUuc2hvdWxkUmV2YWxpZGF0ZShhcmcpO1xuICAgIGlmICh0eXBlb2Ygcm91dGVDaG9pY2UgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICByZXR1cm4gcm91dGVDaG9pY2U7XG4gICAgfVxuICB9XG4gIHJldHVybiBhcmcuZGVmYXVsdFNob3VsZFJldmFsaWRhdGU7XG59XG5mdW5jdGlvbiBwYXRjaFJvdXRlc0ltcGwocm91dGVJZCwgY2hpbGRyZW4sIHJvdXRlc1RvVXNlLCBtYW5pZmVzdCwgbWFwUm91dGVQcm9wZXJ0aWVzMiwgYWxsb3dFbGVtZW50TXV0YXRpb25zKSB7XG4gIGxldCBjaGlsZHJlblRvUGF0Y2g7XG4gIGlmIChyb3V0ZUlkKSB7XG4gICAgbGV0IHJvdXRlID0gbWFuaWZlc3Rbcm91dGVJZF07XG4gICAgaW52YXJpYW50KFxuICAgICAgcm91dGUsXG4gICAgICBgTm8gcm91dGUgZm91bmQgdG8gcGF0Y2ggY2hpbGRyZW4gaW50bzogcm91dGVJZCA9ICR7cm91dGVJZH1gXG4gICAgKTtcbiAgICBpZiAoIXJvdXRlLmNoaWxkcmVuKSB7XG4gICAgICByb3V0ZS5jaGlsZHJlbiA9IFtdO1xuICAgIH1cbiAgICBjaGlsZHJlblRvUGF0Y2ggPSByb3V0ZS5jaGlsZHJlbjtcbiAgfSBlbHNlIHtcbiAgICBjaGlsZHJlblRvUGF0Y2ggPSByb3V0ZXNUb1VzZTtcbiAgfVxuICBsZXQgdW5pcXVlQ2hpbGRyZW4gPSBbXTtcbiAgbGV0IGV4aXN0aW5nQ2hpbGRyZW4gPSBbXTtcbiAgY2hpbGRyZW4uZm9yRWFjaCgobmV3Um91dGUpID0+IHtcbiAgICBsZXQgZXhpc3RpbmdSb3V0ZSA9IGNoaWxkcmVuVG9QYXRjaC5maW5kKFxuICAgICAgKGV4aXN0aW5nUm91dGUyKSA9PiBpc1NhbWVSb3V0ZShuZXdSb3V0ZSwgZXhpc3RpbmdSb3V0ZTIpXG4gICAgKTtcbiAgICBpZiAoZXhpc3RpbmdSb3V0ZSkge1xuICAgICAgZXhpc3RpbmdDaGlsZHJlbi5wdXNoKHsgZXhpc3RpbmdSb3V0ZSwgbmV3Um91dGUgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVuaXF1ZUNoaWxkcmVuLnB1c2gobmV3Um91dGUpO1xuICAgIH1cbiAgfSk7XG4gIGlmICh1bmlxdWVDaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgbGV0IG5ld1JvdXRlcyA9IGNvbnZlcnRSb3V0ZXNUb0RhdGFSb3V0ZXMoXG4gICAgICB1bmlxdWVDaGlsZHJlbixcbiAgICAgIG1hcFJvdXRlUHJvcGVydGllczIsXG4gICAgICBbcm91dGVJZCB8fCBcIl9cIiwgXCJwYXRjaFwiLCBTdHJpbmcoY2hpbGRyZW5Ub1BhdGNoPy5sZW5ndGggfHwgXCIwXCIpXSxcbiAgICAgIG1hbmlmZXN0XG4gICAgKTtcbiAgICBjaGlsZHJlblRvUGF0Y2gucHVzaCguLi5uZXdSb3V0ZXMpO1xuICB9XG4gIGlmIChhbGxvd0VsZW1lbnRNdXRhdGlvbnMgJiYgZXhpc3RpbmdDaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBleGlzdGluZ0NoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgeyBleGlzdGluZ1JvdXRlLCBuZXdSb3V0ZSB9ID0gZXhpc3RpbmdDaGlsZHJlbltpXTtcbiAgICAgIGxldCBleGlzdGluZ1JvdXRlVHlwZWQgPSBleGlzdGluZ1JvdXRlO1xuICAgICAgbGV0IFtuZXdSb3V0ZVR5cGVkXSA9IGNvbnZlcnRSb3V0ZXNUb0RhdGFSb3V0ZXMoXG4gICAgICAgIFtuZXdSb3V0ZV0sXG4gICAgICAgIG1hcFJvdXRlUHJvcGVydGllczIsXG4gICAgICAgIFtdLFxuICAgICAgICAvLyBEb2Vzbid0IG1hdHRlciBmb3IgbXV0YXRlZCByb3V0ZXMgc2luY2UgdGhleSBhbHJlYWR5IGhhdmUgYW4gaWRcbiAgICAgICAge30sXG4gICAgICAgIC8vIERvbid0IHRvdWNoIHRoZSBtYW5pZmVzdCBoZXJlIHNpbmNlIHdlJ3JlIHVwZGF0aW5nIGluIHBsYWNlXG4gICAgICAgIHRydWVcbiAgICAgICk7XG4gICAgICBPYmplY3QuYXNzaWduKGV4aXN0aW5nUm91dGVUeXBlZCwge1xuICAgICAgICBlbGVtZW50OiBuZXdSb3V0ZVR5cGVkLmVsZW1lbnQgPyBuZXdSb3V0ZVR5cGVkLmVsZW1lbnQgOiBleGlzdGluZ1JvdXRlVHlwZWQuZWxlbWVudCxcbiAgICAgICAgZXJyb3JFbGVtZW50OiBuZXdSb3V0ZVR5cGVkLmVycm9yRWxlbWVudCA/IG5ld1JvdXRlVHlwZWQuZXJyb3JFbGVtZW50IDogZXhpc3RpbmdSb3V0ZVR5cGVkLmVycm9yRWxlbWVudCxcbiAgICAgICAgaHlkcmF0ZUZhbGxiYWNrRWxlbWVudDogbmV3Um91dGVUeXBlZC5oeWRyYXRlRmFsbGJhY2tFbGVtZW50ID8gbmV3Um91dGVUeXBlZC5oeWRyYXRlRmFsbGJhY2tFbGVtZW50IDogZXhpc3RpbmdSb3V0ZVR5cGVkLmh5ZHJhdGVGYWxsYmFja0VsZW1lbnRcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gaXNTYW1lUm91dGUobmV3Um91dGUsIGV4aXN0aW5nUm91dGUpIHtcbiAgaWYgKFwiaWRcIiBpbiBuZXdSb3V0ZSAmJiBcImlkXCIgaW4gZXhpc3RpbmdSb3V0ZSAmJiBuZXdSb3V0ZS5pZCA9PT0gZXhpc3RpbmdSb3V0ZS5pZCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICghKG5ld1JvdXRlLmluZGV4ID09PSBleGlzdGluZ1JvdXRlLmluZGV4ICYmIG5ld1JvdXRlLnBhdGggPT09IGV4aXN0aW5nUm91dGUucGF0aCAmJiBuZXdSb3V0ZS5jYXNlU2Vuc2l0aXZlID09PSBleGlzdGluZ1JvdXRlLmNhc2VTZW5zaXRpdmUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICgoIW5ld1JvdXRlLmNoaWxkcmVuIHx8IG5ld1JvdXRlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkgJiYgKCFleGlzdGluZ1JvdXRlLmNoaWxkcmVuIHx8IGV4aXN0aW5nUm91dGUuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBuZXdSb3V0ZS5jaGlsZHJlbi5ldmVyeShcbiAgICAoYUNoaWxkLCBpKSA9PiBleGlzdGluZ1JvdXRlLmNoaWxkcmVuPy5zb21lKChiQ2hpbGQpID0+IGlzU2FtZVJvdXRlKGFDaGlsZCwgYkNoaWxkKSlcbiAgKTtcbn1cbnZhciBsYXp5Um91dGVQcm9wZXJ0eUNhY2hlID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG52YXIgbG9hZExhenlSb3V0ZVByb3BlcnR5ID0gKHtcbiAga2V5LFxuICByb3V0ZSxcbiAgbWFuaWZlc3QsXG4gIG1hcFJvdXRlUHJvcGVydGllczogbWFwUm91dGVQcm9wZXJ0aWVzMlxufSkgPT4ge1xuICBsZXQgcm91dGVUb1VwZGF0ZSA9IG1hbmlmZXN0W3JvdXRlLmlkXTtcbiAgaW52YXJpYW50KHJvdXRlVG9VcGRhdGUsIFwiTm8gcm91dGUgZm91bmQgaW4gbWFuaWZlc3RcIik7XG4gIGlmICghcm91dGVUb1VwZGF0ZS5sYXp5IHx8IHR5cGVvZiByb3V0ZVRvVXBkYXRlLmxhenkgIT09IFwib2JqZWN0XCIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IGxhenlGbiA9IHJvdXRlVG9VcGRhdGUubGF6eVtrZXldO1xuICBpZiAoIWxhenlGbikge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgY2FjaGUgPSBsYXp5Um91dGVQcm9wZXJ0eUNhY2hlLmdldChyb3V0ZVRvVXBkYXRlKTtcbiAgaWYgKCFjYWNoZSkge1xuICAgIGNhY2hlID0ge307XG4gICAgbGF6eVJvdXRlUHJvcGVydHlDYWNoZS5zZXQocm91dGVUb1VwZGF0ZSwgY2FjaGUpO1xuICB9XG4gIGxldCBjYWNoZWRQcm9taXNlID0gY2FjaGVba2V5XTtcbiAgaWYgKGNhY2hlZFByb21pc2UpIHtcbiAgICByZXR1cm4gY2FjaGVkUHJvbWlzZTtcbiAgfVxuICBsZXQgcHJvcGVydHlQcm9taXNlID0gKGFzeW5jICgpID0+IHtcbiAgICBsZXQgaXNVbnN1cHBvcnRlZCA9IGlzVW5zdXBwb3J0ZWRMYXp5Um91dGVPYmplY3RLZXkoa2V5KTtcbiAgICBsZXQgc3RhdGljUm91dGVWYWx1ZSA9IHJvdXRlVG9VcGRhdGVba2V5XTtcbiAgICBsZXQgaXNTdGF0aWNhbGx5RGVmaW5lZCA9IHN0YXRpY1JvdXRlVmFsdWUgIT09IHZvaWQgMCAmJiBrZXkgIT09IFwiaGFzRXJyb3JCb3VuZGFyeVwiO1xuICAgIGlmIChpc1Vuc3VwcG9ydGVkKSB7XG4gICAgICB3YXJuaW5nKFxuICAgICAgICAhaXNVbnN1cHBvcnRlZCxcbiAgICAgICAgXCJSb3V0ZSBwcm9wZXJ0eSBcIiArIGtleSArIFwiIGlzIG5vdCBhIHN1cHBvcnRlZCBsYXp5IHJvdXRlIHByb3BlcnR5LiBUaGlzIHByb3BlcnR5IHdpbGwgYmUgaWdub3JlZC5cIlxuICAgICAgKTtcbiAgICAgIGNhY2hlW2tleV0gPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9IGVsc2UgaWYgKGlzU3RhdGljYWxseURlZmluZWQpIHtcbiAgICAgIHdhcm5pbmcoXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBgUm91dGUgXCIke3JvdXRlVG9VcGRhdGUuaWR9XCIgaGFzIGEgc3RhdGljIHByb3BlcnR5IFwiJHtrZXl9XCIgZGVmaW5lZC4gVGhlIGxhenkgcHJvcGVydHkgd2lsbCBiZSBpZ25vcmVkLmBcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCB2YWx1ZSA9IGF3YWl0IGxhenlGbigpO1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihyb3V0ZVRvVXBkYXRlLCB7IFtrZXldOiB2YWx1ZSB9KTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihyb3V0ZVRvVXBkYXRlLCBtYXBSb3V0ZVByb3BlcnRpZXMyKHJvdXRlVG9VcGRhdGUpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiByb3V0ZVRvVXBkYXRlLmxhenkgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIHJvdXRlVG9VcGRhdGUubGF6eVtrZXldID0gdm9pZCAwO1xuICAgICAgaWYgKE9iamVjdC52YWx1ZXMocm91dGVUb1VwZGF0ZS5sYXp5KS5ldmVyeSgodmFsdWUpID0+IHZhbHVlID09PSB2b2lkIDApKSB7XG4gICAgICAgIHJvdXRlVG9VcGRhdGUubGF6eSA9IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gIH0pKCk7XG4gIGNhY2hlW2tleV0gPSBwcm9wZXJ0eVByb21pc2U7XG4gIHJldHVybiBwcm9wZXJ0eVByb21pc2U7XG59O1xudmFyIGxhenlSb3V0ZUZ1bmN0aW9uQ2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIGxvYWRMYXp5Um91dGUocm91dGUsIHR5cGUsIG1hbmlmZXN0LCBtYXBSb3V0ZVByb3BlcnRpZXMyLCBsYXp5Um91dGVQcm9wZXJ0aWVzVG9Ta2lwKSB7XG4gIGxldCByb3V0ZVRvVXBkYXRlID0gbWFuaWZlc3Rbcm91dGUuaWRdO1xuICBpbnZhcmlhbnQocm91dGVUb1VwZGF0ZSwgXCJObyByb3V0ZSBmb3VuZCBpbiBtYW5pZmVzdFwiKTtcbiAgaWYgKCFyb3V0ZS5sYXp5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhenlSb3V0ZVByb21pc2U6IHZvaWQgMCxcbiAgICAgIGxhenlIYW5kbGVyUHJvbWlzZTogdm9pZCAwXG4gICAgfTtcbiAgfVxuICBpZiAodHlwZW9mIHJvdXRlLmxhenkgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGxldCBjYWNoZWRQcm9taXNlID0gbGF6eVJvdXRlRnVuY3Rpb25DYWNoZS5nZXQocm91dGVUb1VwZGF0ZSk7XG4gICAgaWYgKGNhY2hlZFByb21pc2UpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxhenlSb3V0ZVByb21pc2U6IGNhY2hlZFByb21pc2UsXG4gICAgICAgIGxhenlIYW5kbGVyUHJvbWlzZTogY2FjaGVkUHJvbWlzZVxuICAgICAgfTtcbiAgICB9XG4gICAgbGV0IGxhenlSb3V0ZVByb21pc2UyID0gKGFzeW5jICgpID0+IHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgdHlwZW9mIHJvdXRlLmxhenkgPT09IFwiZnVuY3Rpb25cIixcbiAgICAgICAgXCJObyBsYXp5IHJvdXRlIGZ1bmN0aW9uIGZvdW5kXCJcbiAgICAgICk7XG4gICAgICBsZXQgbGF6eVJvdXRlID0gYXdhaXQgcm91dGUubGF6eSgpO1xuICAgICAgbGV0IHJvdXRlVXBkYXRlcyA9IHt9O1xuICAgICAgZm9yIChsZXQgbGF6eVJvdXRlUHJvcGVydHkgaW4gbGF6eVJvdXRlKSB7XG4gICAgICAgIGxldCBsYXp5VmFsdWUgPSBsYXp5Um91dGVbbGF6eVJvdXRlUHJvcGVydHldO1xuICAgICAgICBpZiAobGF6eVZhbHVlID09PSB2b2lkIDApIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaXNVbnN1cHBvcnRlZCA9IGlzVW5zdXBwb3J0ZWRMYXp5Um91dGVGdW5jdGlvbktleShsYXp5Um91dGVQcm9wZXJ0eSk7XG4gICAgICAgIGxldCBzdGF0aWNSb3V0ZVZhbHVlID0gcm91dGVUb1VwZGF0ZVtsYXp5Um91dGVQcm9wZXJ0eV07XG4gICAgICAgIGxldCBpc1N0YXRpY2FsbHlEZWZpbmVkID0gc3RhdGljUm91dGVWYWx1ZSAhPT0gdm9pZCAwICYmIC8vIFRoaXMgcHJvcGVydHkgaXNuJ3Qgc3RhdGljIHNpbmNlIGl0IHNob3VsZCBhbHdheXMgYmUgdXBkYXRlZCBiYXNlZFxuICAgICAgICAvLyBvbiB0aGUgcm91dGUgdXBkYXRlc1xuICAgICAgICBsYXp5Um91dGVQcm9wZXJ0eSAhPT0gXCJoYXNFcnJvckJvdW5kYXJ5XCI7XG4gICAgICAgIGlmIChpc1Vuc3VwcG9ydGVkKSB7XG4gICAgICAgICAgd2FybmluZyhcbiAgICAgICAgICAgICFpc1Vuc3VwcG9ydGVkLFxuICAgICAgICAgICAgXCJSb3V0ZSBwcm9wZXJ0eSBcIiArIGxhenlSb3V0ZVByb3BlcnR5ICsgXCIgaXMgbm90IGEgc3VwcG9ydGVkIHByb3BlcnR5IHRvIGJlIHJldHVybmVkIGZyb20gYSBsYXp5IHJvdXRlIGZ1bmN0aW9uLiBUaGlzIHByb3BlcnR5IHdpbGwgYmUgaWdub3JlZC5cIlxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNTdGF0aWNhbGx5RGVmaW5lZCkge1xuICAgICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgICAhaXNTdGF0aWNhbGx5RGVmaW5lZCxcbiAgICAgICAgICAgIGBSb3V0ZSBcIiR7cm91dGVUb1VwZGF0ZS5pZH1cIiBoYXMgYSBzdGF0aWMgcHJvcGVydHkgXCIke2xhenlSb3V0ZVByb3BlcnR5fVwiIGRlZmluZWQgYnV0IGl0cyBsYXp5IGZ1bmN0aW9uIGlzIGFsc28gcmV0dXJuaW5nIGEgdmFsdWUgZm9yIHRoaXMgcHJvcGVydHkuIFRoZSBsYXp5IHJvdXRlIHByb3BlcnR5IFwiJHtsYXp5Um91dGVQcm9wZXJ0eX1cIiB3aWxsIGJlIGlnbm9yZWQuYFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcm91dGVVcGRhdGVzW2xhenlSb3V0ZVByb3BlcnR5XSA9IGxhenlWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgT2JqZWN0LmFzc2lnbihyb3V0ZVRvVXBkYXRlLCByb3V0ZVVwZGF0ZXMpO1xuICAgICAgT2JqZWN0LmFzc2lnbihyb3V0ZVRvVXBkYXRlLCB7XG4gICAgICAgIC8vIFRvIGtlZXAgdGhpbmdzIGZyYW1ld29yayBhZ25vc3RpYywgd2UgdXNlIHRoZSBwcm92aWRlZCBgbWFwUm91dGVQcm9wZXJ0aWVzYFxuICAgICAgICAvLyBmdW5jdGlvbiB0byBzZXQgdGhlIGZyYW1ld29yay1hd2FyZSBwcm9wZXJ0aWVzIChgZWxlbWVudGAvYGhhc0Vycm9yQm91bmRhcnlgKVxuICAgICAgICAvLyBzaW5jZSB0aGUgbG9naWMgd2lsbCBkaWZmZXIgYmV0d2VlbiBmcmFtZXdvcmtzLlxuICAgICAgICAuLi5tYXBSb3V0ZVByb3BlcnRpZXMyKHJvdXRlVG9VcGRhdGUpLFxuICAgICAgICBsYXp5OiB2b2lkIDBcbiAgICAgIH0pO1xuICAgIH0pKCk7XG4gICAgbGF6eVJvdXRlRnVuY3Rpb25DYWNoZS5zZXQocm91dGVUb1VwZGF0ZSwgbGF6eVJvdXRlUHJvbWlzZTIpO1xuICAgIGxhenlSb3V0ZVByb21pc2UyLmNhdGNoKCgpID0+IHtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgbGF6eVJvdXRlUHJvbWlzZTogbGF6eVJvdXRlUHJvbWlzZTIsXG4gICAgICBsYXp5SGFuZGxlclByb21pc2U6IGxhenlSb3V0ZVByb21pc2UyXG4gICAgfTtcbiAgfVxuICBsZXQgbGF6eUtleXMgPSBPYmplY3Qua2V5cyhyb3V0ZS5sYXp5KTtcbiAgbGV0IGxhenlQcm9wZXJ0eVByb21pc2VzID0gW107XG4gIGxldCBsYXp5SGFuZGxlclByb21pc2UgPSB2b2lkIDA7XG4gIGZvciAobGV0IGtleSBvZiBsYXp5S2V5cykge1xuICAgIGlmIChsYXp5Um91dGVQcm9wZXJ0aWVzVG9Ta2lwICYmIGxhenlSb3V0ZVByb3BlcnRpZXNUb1NraXAuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGxldCBwcm9taXNlID0gbG9hZExhenlSb3V0ZVByb3BlcnR5KHtcbiAgICAgIGtleSxcbiAgICAgIHJvdXRlLFxuICAgICAgbWFuaWZlc3QsXG4gICAgICBtYXBSb3V0ZVByb3BlcnRpZXM6IG1hcFJvdXRlUHJvcGVydGllczJcbiAgICB9KTtcbiAgICBpZiAocHJvbWlzZSkge1xuICAgICAgbGF6eVByb3BlcnR5UHJvbWlzZXMucHVzaChwcm9taXNlKTtcbiAgICAgIGlmIChrZXkgPT09IHR5cGUpIHtcbiAgICAgICAgbGF6eUhhbmRsZXJQcm9taXNlID0gcHJvbWlzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbGV0IGxhenlSb3V0ZVByb21pc2UgPSBsYXp5UHJvcGVydHlQcm9taXNlcy5sZW5ndGggPiAwID8gUHJvbWlzZS5hbGwobGF6eVByb3BlcnR5UHJvbWlzZXMpLnRoZW4oKCkgPT4ge1xuICB9KSA6IHZvaWQgMDtcbiAgbGF6eVJvdXRlUHJvbWlzZT8uY2F0Y2goKCkgPT4ge1xuICB9KTtcbiAgbGF6eUhhbmRsZXJQcm9taXNlPy5jYXRjaCgoKSA9PiB7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIGxhenlSb3V0ZVByb21pc2UsXG4gICAgbGF6eUhhbmRsZXJQcm9taXNlXG4gIH07XG59XG5mdW5jdGlvbiBpc05vbk51bGxhYmxlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gdm9pZCAwO1xufVxuZnVuY3Rpb24gbG9hZExhenlNaWRkbGV3YXJlRm9yTWF0Y2hlcyhtYXRjaGVzLCBtYW5pZmVzdCwgbWFwUm91dGVQcm9wZXJ0aWVzMikge1xuICBsZXQgcHJvbWlzZXMgPSBtYXRjaGVzLm1hcCgoeyByb3V0ZSB9KSA9PiB7XG4gICAgaWYgKHR5cGVvZiByb3V0ZS5sYXp5ICE9PSBcIm9iamVjdFwiIHx8ICFyb3V0ZS5sYXp5Lm1pZGRsZXdhcmUpIHtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIHJldHVybiBsb2FkTGF6eVJvdXRlUHJvcGVydHkoe1xuICAgICAga2V5OiBcIm1pZGRsZXdhcmVcIixcbiAgICAgIHJvdXRlLFxuICAgICAgbWFuaWZlc3QsXG4gICAgICBtYXBSb3V0ZVByb3BlcnRpZXM6IG1hcFJvdXRlUHJvcGVydGllczJcbiAgICB9KTtcbiAgfSkuZmlsdGVyKGlzTm9uTnVsbGFibGUpO1xuICByZXR1cm4gcHJvbWlzZXMubGVuZ3RoID4gMCA/IFByb21pc2UuYWxsKHByb21pc2VzKSA6IHZvaWQgMDtcbn1cbmFzeW5jIGZ1bmN0aW9uIGRlZmF1bHREYXRhU3RyYXRlZ3koYXJncykge1xuICBsZXQgbWF0Y2hlc1RvTG9hZCA9IGFyZ3MubWF0Y2hlcy5maWx0ZXIoKG0pID0+IG0uc2hvdWxkTG9hZCk7XG4gIGxldCBrZXllZFJlc3VsdHMgPSB7fTtcbiAgbGV0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChtYXRjaGVzVG9Mb2FkLm1hcCgobSkgPT4gbS5yZXNvbHZlKCkpKTtcbiAgcmVzdWx0cy5mb3JFYWNoKChyZXN1bHQsIGkpID0+IHtcbiAgICBrZXllZFJlc3VsdHNbbWF0Y2hlc1RvTG9hZFtpXS5yb3V0ZS5pZF0gPSByZXN1bHQ7XG4gIH0pO1xuICByZXR1cm4ga2V5ZWRSZXN1bHRzO1xufVxuYXN5bmMgZnVuY3Rpb24gZGVmYXVsdERhdGFTdHJhdGVneVdpdGhNaWRkbGV3YXJlKGFyZ3MpIHtcbiAgaWYgKCFhcmdzLm1hdGNoZXMuc29tZSgobSkgPT4gbS5yb3V0ZS5taWRkbGV3YXJlKSkge1xuICAgIHJldHVybiBkZWZhdWx0RGF0YVN0cmF0ZWd5KGFyZ3MpO1xuICB9XG4gIHJldHVybiBydW5DbGllbnRNaWRkbGV3YXJlUGlwZWxpbmUoYXJncywgKCkgPT4gZGVmYXVsdERhdGFTdHJhdGVneShhcmdzKSk7XG59XG5mdW5jdGlvbiBydW5TZXJ2ZXJNaWRkbGV3YXJlUGlwZWxpbmUoYXJncywgaGFuZGxlciwgZXJyb3JIYW5kbGVyKSB7XG4gIHJldHVybiBydW5NaWRkbGV3YXJlUGlwZWxpbmUoXG4gICAgYXJncyxcbiAgICBoYW5kbGVyLFxuICAgIHByb2Nlc3NSZXN1bHQsXG4gICAgaXNSZXNwb25zZSxcbiAgICBlcnJvckhhbmRsZXJcbiAgKTtcbiAgZnVuY3Rpb24gcHJvY2Vzc1Jlc3VsdChyZXN1bHQpIHtcbiAgICByZXR1cm4gaXNEYXRhV2l0aFJlc3BvbnNlSW5pdChyZXN1bHQpID8gZGF0YVdpdGhSZXNwb25zZUluaXRUb1Jlc3BvbnNlKHJlc3VsdCkgOiByZXN1bHQ7XG4gIH1cbn1cbmZ1bmN0aW9uIHJ1bkNsaWVudE1pZGRsZXdhcmVQaXBlbGluZShhcmdzLCBoYW5kbGVyKSB7XG4gIHJldHVybiBydW5NaWRkbGV3YXJlUGlwZWxpbmUoXG4gICAgYXJncyxcbiAgICBoYW5kbGVyLFxuICAgIChyKSA9PiByLFxuICAgIC8vIE5vIHBvc3QtcHJvY2Vzc2luZyBuZWVkZWQgb24gdGhlIGNsaWVudFxuICAgIGlzRGF0YVN0cmF0ZWd5UmVzdWx0cyxcbiAgICBlcnJvckhhbmRsZXJcbiAgKTtcbiAgZnVuY3Rpb24gZXJyb3JIYW5kbGVyKGVycm9yLCByb3V0ZUlkLCBuZXh0UmVzdWx0KSB7XG4gICAgaWYgKG5leHRSZXN1bHQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoXG4gICAgICAgIE9iamVjdC5hc3NpZ24obmV4dFJlc3VsdC52YWx1ZSwge1xuICAgICAgICAgIFtyb3V0ZUlkXTogeyB0eXBlOiBcImVycm9yXCIsIHJlc3VsdDogZXJyb3IgfVxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHsgbWF0Y2hlcyB9ID0gYXJncztcbiAgICAgIGxldCBtYXhCb3VuZGFyeUlkeCA9IE1hdGgubWluKFxuICAgICAgICAvLyBUaHJvd2luZyByb3V0ZVxuICAgICAgICBNYXRoLm1heChcbiAgICAgICAgICBtYXRjaGVzLmZpbmRJbmRleCgobSkgPT4gbS5yb3V0ZS5pZCA9PT0gcm91dGVJZCksXG4gICAgICAgICAgMFxuICAgICAgICApLFxuICAgICAgICAvLyBvciB0aGUgc2hhbGxvd2VzdCByb3V0ZSB0aGF0IG5lZWRzIHRvIGxvYWQgZGF0YVxuICAgICAgICBNYXRoLm1heChcbiAgICAgICAgICBtYXRjaGVzLmZpbmRJbmRleCgobSkgPT4gbS51bnN0YWJsZV9zaG91bGRDYWxsSGFuZGxlcigpKSxcbiAgICAgICAgICAwXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICBsZXQgYm91bmRhcnlSb3V0ZUlkID0gZmluZE5lYXJlc3RCb3VuZGFyeShcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgbWF0Y2hlc1ttYXhCb3VuZGFyeUlkeF0ucm91dGUuaWRcbiAgICAgICkucm91dGUuaWQ7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgW2JvdW5kYXJ5Um91dGVJZF06IHsgdHlwZTogXCJlcnJvclwiLCByZXN1bHQ6IGVycm9yIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuYXN5bmMgZnVuY3Rpb24gcnVuTWlkZGxld2FyZVBpcGVsaW5lKGFyZ3MsIGhhbmRsZXIsIHByb2Nlc3NSZXN1bHQsIGlzUmVzdWx0LCBlcnJvckhhbmRsZXIpIHtcbiAgbGV0IHsgbWF0Y2hlcywgcmVxdWVzdCwgcGFyYW1zLCBjb250ZXh0LCB1bnN0YWJsZV9wYXR0ZXJuIH0gPSBhcmdzO1xuICBsZXQgdHVwbGVzID0gbWF0Y2hlcy5mbGF0TWFwKFxuICAgIChtKSA9PiBtLnJvdXRlLm1pZGRsZXdhcmUgPyBtLnJvdXRlLm1pZGRsZXdhcmUubWFwKChmbikgPT4gW20ucm91dGUuaWQsIGZuXSkgOiBbXVxuICApO1xuICBsZXQgcmVzdWx0ID0gYXdhaXQgY2FsbFJvdXRlTWlkZGxld2FyZShcbiAgICB7XG4gICAgICByZXF1ZXN0LFxuICAgICAgcGFyYW1zLFxuICAgICAgY29udGV4dCxcbiAgICAgIHVuc3RhYmxlX3BhdHRlcm5cbiAgICB9LFxuICAgIHR1cGxlcyxcbiAgICBoYW5kbGVyLFxuICAgIHByb2Nlc3NSZXN1bHQsXG4gICAgaXNSZXN1bHQsXG4gICAgZXJyb3JIYW5kbGVyXG4gICk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5hc3luYyBmdW5jdGlvbiBjYWxsUm91dGVNaWRkbGV3YXJlKGFyZ3MsIG1pZGRsZXdhcmVzLCBoYW5kbGVyLCBwcm9jZXNzUmVzdWx0LCBpc1Jlc3VsdCwgZXJyb3JIYW5kbGVyLCBpZHggPSAwKSB7XG4gIGxldCB7IHJlcXVlc3QgfSA9IGFyZ3M7XG4gIGlmIChyZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgdGhyb3cgcmVxdWVzdC5zaWduYWwucmVhc29uID8/IG5ldyBFcnJvcihgUmVxdWVzdCBhYm9ydGVkOiAke3JlcXVlc3QubWV0aG9kfSAke3JlcXVlc3QudXJsfWApO1xuICB9XG4gIGxldCB0dXBsZSA9IG1pZGRsZXdhcmVzW2lkeF07XG4gIGlmICghdHVwbGUpIHtcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgaGFuZGxlcigpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgbGV0IFtyb3V0ZUlkLCBtaWRkbGV3YXJlXSA9IHR1cGxlO1xuICBsZXQgbmV4dFJlc3VsdDtcbiAgbGV0IG5leHQgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKG5leHRSZXN1bHQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBtYXkgb25seSBjYWxsIGBuZXh0KClgIG9uY2UgcGVyIG1pZGRsZXdhcmVcIik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgY2FsbFJvdXRlTWlkZGxld2FyZShcbiAgICAgICAgYXJncyxcbiAgICAgICAgbWlkZGxld2FyZXMsXG4gICAgICAgIGhhbmRsZXIsXG4gICAgICAgIHByb2Nlc3NSZXN1bHQsXG4gICAgICAgIGlzUmVzdWx0LFxuICAgICAgICBlcnJvckhhbmRsZXIsXG4gICAgICAgIGlkeCArIDFcbiAgICAgICk7XG4gICAgICBuZXh0UmVzdWx0ID0geyB2YWx1ZTogcmVzdWx0IH07XG4gICAgICByZXR1cm4gbmV4dFJlc3VsdC52YWx1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbmV4dFJlc3VsdCA9IHsgdmFsdWU6IGF3YWl0IGVycm9ySGFuZGxlcihlcnJvciwgcm91dGVJZCwgbmV4dFJlc3VsdCkgfTtcbiAgICAgIHJldHVybiBuZXh0UmVzdWx0LnZhbHVlO1xuICAgIH1cbiAgfTtcbiAgdHJ5IHtcbiAgICBsZXQgdmFsdWUgPSBhd2FpdCBtaWRkbGV3YXJlKGFyZ3MsIG5leHQpO1xuICAgIGxldCByZXN1bHQgPSB2YWx1ZSAhPSBudWxsID8gcHJvY2Vzc1Jlc3VsdCh2YWx1ZSkgOiB2b2lkIDA7XG4gICAgaWYgKGlzUmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBlbHNlIGlmIChuZXh0UmVzdWx0KSB7XG4gICAgICByZXR1cm4gcmVzdWx0ID8/IG5leHRSZXN1bHQudmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5leHRSZXN1bHQgPSB7IHZhbHVlOiBhd2FpdCBuZXh0KCkgfTtcbiAgICAgIHJldHVybiBuZXh0UmVzdWx0LnZhbHVlO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBlcnJvckhhbmRsZXIoZXJyb3IsIHJvdXRlSWQsIG5leHRSZXN1bHQpO1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0RGF0YVN0cmF0ZWd5TWF0Y2hMYXp5UHJvbWlzZXMobWFwUm91dGVQcm9wZXJ0aWVzMiwgbWFuaWZlc3QsIHJlcXVlc3QsIG1hdGNoLCBsYXp5Um91dGVQcm9wZXJ0aWVzVG9Ta2lwKSB7XG4gIGxldCBsYXp5TWlkZGxld2FyZVByb21pc2UgPSBsb2FkTGF6eVJvdXRlUHJvcGVydHkoe1xuICAgIGtleTogXCJtaWRkbGV3YXJlXCIsXG4gICAgcm91dGU6IG1hdGNoLnJvdXRlLFxuICAgIG1hbmlmZXN0LFxuICAgIG1hcFJvdXRlUHJvcGVydGllczogbWFwUm91dGVQcm9wZXJ0aWVzMlxuICB9KTtcbiAgbGV0IGxhenlSb3V0ZVByb21pc2VzID0gbG9hZExhenlSb3V0ZShcbiAgICBtYXRjaC5yb3V0ZSxcbiAgICBpc011dGF0aW9uTWV0aG9kKHJlcXVlc3QubWV0aG9kKSA/IFwiYWN0aW9uXCIgOiBcImxvYWRlclwiLFxuICAgIG1hbmlmZXN0LFxuICAgIG1hcFJvdXRlUHJvcGVydGllczIsXG4gICAgbGF6eVJvdXRlUHJvcGVydGllc1RvU2tpcFxuICApO1xuICByZXR1cm4ge1xuICAgIG1pZGRsZXdhcmU6IGxhenlNaWRkbGV3YXJlUHJvbWlzZSxcbiAgICByb3V0ZTogbGF6eVJvdXRlUHJvbWlzZXMubGF6eVJvdXRlUHJvbWlzZSxcbiAgICBoYW5kbGVyOiBsYXp5Um91dGVQcm9taXNlcy5sYXp5SGFuZGxlclByb21pc2VcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldERhdGFTdHJhdGVneU1hdGNoKG1hcFJvdXRlUHJvcGVydGllczIsIG1hbmlmZXN0LCByZXF1ZXN0LCB1bnN0YWJsZV9wYXR0ZXJuLCBtYXRjaCwgbGF6eVJvdXRlUHJvcGVydGllc1RvU2tpcCwgc2NvcGVkQ29udGV4dCwgc2hvdWxkTG9hZCwgdW5zdGFibGVfc2hvdWxkUmV2YWxpZGF0ZUFyZ3MgPSBudWxsKSB7XG4gIGxldCBpc1VzaW5nTmV3QXBpID0gZmFsc2U7XG4gIGxldCBfbGF6eVByb21pc2VzID0gZ2V0RGF0YVN0cmF0ZWd5TWF0Y2hMYXp5UHJvbWlzZXMoXG4gICAgbWFwUm91dGVQcm9wZXJ0aWVzMixcbiAgICBtYW5pZmVzdCxcbiAgICByZXF1ZXN0LFxuICAgIG1hdGNoLFxuICAgIGxhenlSb3V0ZVByb3BlcnRpZXNUb1NraXBcbiAgKTtcbiAgcmV0dXJuIHtcbiAgICAuLi5tYXRjaCxcbiAgICBfbGF6eVByb21pc2VzLFxuICAgIHNob3VsZExvYWQsXG4gICAgdW5zdGFibGVfc2hvdWxkUmV2YWxpZGF0ZUFyZ3MsXG4gICAgdW5zdGFibGVfc2hvdWxkQ2FsbEhhbmRsZXIoZGVmYXVsdFNob3VsZFJldmFsaWRhdGUpIHtcbiAgICAgIGlzVXNpbmdOZXdBcGkgPSB0cnVlO1xuICAgICAgaWYgKCF1bnN0YWJsZV9zaG91bGRSZXZhbGlkYXRlQXJncykge1xuICAgICAgICByZXR1cm4gc2hvdWxkTG9hZDtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgZGVmYXVsdFNob3VsZFJldmFsaWRhdGUgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgIHJldHVybiBzaG91bGRSZXZhbGlkYXRlTG9hZGVyKG1hdGNoLCB7XG4gICAgICAgICAgLi4udW5zdGFibGVfc2hvdWxkUmV2YWxpZGF0ZUFyZ3MsXG4gICAgICAgICAgZGVmYXVsdFNob3VsZFJldmFsaWRhdGVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2hvdWxkUmV2YWxpZGF0ZUxvYWRlcihtYXRjaCwgdW5zdGFibGVfc2hvdWxkUmV2YWxpZGF0ZUFyZ3MpO1xuICAgIH0sXG4gICAgcmVzb2x2ZShoYW5kbGVyT3ZlcnJpZGUpIHtcbiAgICAgIGxldCB7IGxhenksIGxvYWRlciwgbWlkZGxld2FyZSB9ID0gbWF0Y2gucm91dGU7XG4gICAgICBsZXQgY2FsbEhhbmRsZXIgPSBpc1VzaW5nTmV3QXBpIHx8IHNob3VsZExvYWQgfHwgaGFuZGxlck92ZXJyaWRlICYmICFpc011dGF0aW9uTWV0aG9kKHJlcXVlc3QubWV0aG9kKSAmJiAobGF6eSB8fCBsb2FkZXIpO1xuICAgICAgbGV0IGlzTWlkZGxld2FyZU9ubHlSb3V0ZSA9IG1pZGRsZXdhcmUgJiYgbWlkZGxld2FyZS5sZW5ndGggPiAwICYmICFsb2FkZXIgJiYgIWxhenk7XG4gICAgICBpZiAoY2FsbEhhbmRsZXIgJiYgKGlzTXV0YXRpb25NZXRob2QocmVxdWVzdC5tZXRob2QpIHx8ICFpc01pZGRsZXdhcmVPbmx5Um91dGUpKSB7XG4gICAgICAgIHJldHVybiBjYWxsTG9hZGVyT3JBY3Rpb24oe1xuICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgdW5zdGFibGVfcGF0dGVybixcbiAgICAgICAgICBtYXRjaCxcbiAgICAgICAgICBsYXp5SGFuZGxlclByb21pc2U6IF9sYXp5UHJvbWlzZXM/LmhhbmRsZXIsXG4gICAgICAgICAgbGF6eVJvdXRlUHJvbWlzZTogX2xhenlQcm9taXNlcz8ucm91dGUsXG4gICAgICAgICAgaGFuZGxlck92ZXJyaWRlLFxuICAgICAgICAgIHNjb3BlZENvbnRleHRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHsgdHlwZTogXCJkYXRhXCIgLyogZGF0YSAqLywgcmVzdWx0OiB2b2lkIDAgfSk7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0VGFyZ2V0ZWREYXRhU3RyYXRlZ3lNYXRjaGVzKG1hcFJvdXRlUHJvcGVydGllczIsIG1hbmlmZXN0LCByZXF1ZXN0LCBtYXRjaGVzLCB0YXJnZXRNYXRjaCwgbGF6eVJvdXRlUHJvcGVydGllc1RvU2tpcCwgc2NvcGVkQ29udGV4dCwgc2hvdWxkUmV2YWxpZGF0ZUFyZ3MgPSBudWxsKSB7XG4gIHJldHVybiBtYXRjaGVzLm1hcCgobWF0Y2gpID0+IHtcbiAgICBpZiAobWF0Y2gucm91dGUuaWQgIT09IHRhcmdldE1hdGNoLnJvdXRlLmlkKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5tYXRjaCxcbiAgICAgICAgc2hvdWxkTG9hZDogZmFsc2UsXG4gICAgICAgIHVuc3RhYmxlX3Nob3VsZFJldmFsaWRhdGVBcmdzOiBzaG91bGRSZXZhbGlkYXRlQXJncyxcbiAgICAgICAgdW5zdGFibGVfc2hvdWxkQ2FsbEhhbmRsZXI6ICgpID0+IGZhbHNlLFxuICAgICAgICBfbGF6eVByb21pc2VzOiBnZXREYXRhU3RyYXRlZ3lNYXRjaExhenlQcm9taXNlcyhcbiAgICAgICAgICBtYXBSb3V0ZVByb3BlcnRpZXMyLFxuICAgICAgICAgIG1hbmlmZXN0LFxuICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgbWF0Y2gsXG4gICAgICAgICAgbGF6eVJvdXRlUHJvcGVydGllc1RvU2tpcFxuICAgICAgICApLFxuICAgICAgICByZXNvbHZlOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoeyB0eXBlOiBcImRhdGFcIiwgcmVzdWx0OiB2b2lkIDAgfSlcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBnZXREYXRhU3RyYXRlZ3lNYXRjaChcbiAgICAgIG1hcFJvdXRlUHJvcGVydGllczIsXG4gICAgICBtYW5pZmVzdCxcbiAgICAgIHJlcXVlc3QsXG4gICAgICBnZXRSb3V0ZVBhdHRlcm4obWF0Y2hlcy5tYXAoKG0pID0+IG0ucm91dGUucGF0aCkpLFxuICAgICAgbWF0Y2gsXG4gICAgICBsYXp5Um91dGVQcm9wZXJ0aWVzVG9Ta2lwLFxuICAgICAgc2NvcGVkQ29udGV4dCxcbiAgICAgIHRydWUsXG4gICAgICBzaG91bGRSZXZhbGlkYXRlQXJnc1xuICAgICk7XG4gIH0pO1xufVxuYXN5bmMgZnVuY3Rpb24gY2FsbERhdGFTdHJhdGVneUltcGwoZGF0YVN0cmF0ZWd5SW1wbCwgcmVxdWVzdCwgbWF0Y2hlcywgZmV0Y2hlcktleSwgc2NvcGVkQ29udGV4dCwgaXNTdGF0aWNIYW5kbGVyKSB7XG4gIGlmIChtYXRjaGVzLnNvbWUoKG0pID0+IG0uX2xhenlQcm9taXNlcz8ubWlkZGxld2FyZSkpIHtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChtYXRjaGVzLm1hcCgobSkgPT4gbS5fbGF6eVByb21pc2VzPy5taWRkbGV3YXJlKSk7XG4gIH1cbiAgbGV0IGRhdGFTdHJhdGVneUFyZ3MgPSB7XG4gICAgcmVxdWVzdCxcbiAgICB1bnN0YWJsZV9wYXR0ZXJuOiBnZXRSb3V0ZVBhdHRlcm4obWF0Y2hlcy5tYXAoKG0pID0+IG0ucm91dGUucGF0aCkpLFxuICAgIHBhcmFtczogbWF0Y2hlc1swXS5wYXJhbXMsXG4gICAgY29udGV4dDogc2NvcGVkQ29udGV4dCxcbiAgICBtYXRjaGVzXG4gIH07XG4gIGxldCBydW5DbGllbnRNaWRkbGV3YXJlID0gaXNTdGF0aWNIYW5kbGVyID8gKCkgPT4ge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiWW91IGNhbm5vdCBjYWxsIGBydW5DbGllbnRNaWRkbGV3YXJlKClgIGZyb20gYSBzdGF0aWMgaGFuZGxlciBgZGF0YVN0cmF0ZWd5YC4gTWlkZGxld2FyZSBpcyBydW4gb3V0c2lkZSBvZiBgZGF0YVN0cmF0ZWd5YCBkdXJpbmcgU1NSIGluIG9yZGVyIHRvIGJ1YmJsZSB1cCB0aGUgUmVzcG9uc2UuICBZb3UgY2FuIGVuYWJsZSBtaWRkbGV3YXJlIHZpYSB0aGUgYHJlc3BvbmRgIEFQSSBpbiBgcXVlcnlgL2BxdWVyeVJvdXRlYFwiXG4gICAgKTtcbiAgfSA6IChjYikgPT4ge1xuICAgIGxldCB0eXBlZERhdGFTdHJhdGVneUFyZ3MgPSBkYXRhU3RyYXRlZ3lBcmdzO1xuICAgIHJldHVybiBydW5DbGllbnRNaWRkbGV3YXJlUGlwZWxpbmUodHlwZWREYXRhU3RyYXRlZ3lBcmdzLCAoKSA9PiB7XG4gICAgICByZXR1cm4gY2Ioe1xuICAgICAgICAuLi50eXBlZERhdGFTdHJhdGVneUFyZ3MsXG4gICAgICAgIGZldGNoZXJLZXksXG4gICAgICAgIHJ1bkNsaWVudE1pZGRsZXdhcmU6ICgpID0+IHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBcIkNhbm5vdCBjYWxsIGBydW5DbGllbnRNaWRkbGV3YXJlKClgIGZyb20gd2l0aGluIGFuIGBydW5DbGllbnRNaWRkbGV3YXJlYCBoYW5kbGVyXCJcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcbiAgbGV0IHJlc3VsdHMgPSBhd2FpdCBkYXRhU3RyYXRlZ3lJbXBsKHtcbiAgICAuLi5kYXRhU3RyYXRlZ3lBcmdzLFxuICAgIGZldGNoZXJLZXksXG4gICAgcnVuQ2xpZW50TWlkZGxld2FyZVxuICB9KTtcbiAgdHJ5IHtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIG1hdGNoZXMuZmxhdE1hcCgobSkgPT4gW1xuICAgICAgICBtLl9sYXp5UHJvbWlzZXM/LmhhbmRsZXIsXG4gICAgICAgIG0uX2xhenlQcm9taXNlcz8ucm91dGVcbiAgICAgIF0pXG4gICAgKTtcbiAgfSBjYXRjaCAoZSkge1xuICB9XG4gIHJldHVybiByZXN1bHRzO1xufVxuYXN5bmMgZnVuY3Rpb24gY2FsbExvYWRlck9yQWN0aW9uKHtcbiAgcmVxdWVzdCxcbiAgdW5zdGFibGVfcGF0dGVybixcbiAgbWF0Y2gsXG4gIGxhenlIYW5kbGVyUHJvbWlzZSxcbiAgbGF6eVJvdXRlUHJvbWlzZSxcbiAgaGFuZGxlck92ZXJyaWRlLFxuICBzY29wZWRDb250ZXh0XG59KSB7XG4gIGxldCByZXN1bHQ7XG4gIGxldCBvblJlamVjdDtcbiAgbGV0IGlzQWN0aW9uID0gaXNNdXRhdGlvbk1ldGhvZChyZXF1ZXN0Lm1ldGhvZCk7XG4gIGxldCB0eXBlID0gaXNBY3Rpb24gPyBcImFjdGlvblwiIDogXCJsb2FkZXJcIjtcbiAgbGV0IHJ1bkhhbmRsZXIgPSAoaGFuZGxlcikgPT4ge1xuICAgIGxldCByZWplY3Q7XG4gICAgbGV0IGFib3J0UHJvbWlzZSA9IG5ldyBQcm9taXNlKChfLCByKSA9PiByZWplY3QgPSByKTtcbiAgICBvblJlamVjdCA9ICgpID0+IHJlamVjdCgpO1xuICAgIHJlcXVlc3Quc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBvblJlamVjdCk7XG4gICAgbGV0IGFjdHVhbEhhbmRsZXIgPSAoY3R4KSA9PiB7XG4gICAgICBpZiAodHlwZW9mIGhhbmRsZXIgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICAgICAgbmV3IEVycm9yKFxuICAgICAgICAgICAgYFlvdSBjYW5ub3QgY2FsbCB0aGUgaGFuZGxlciBmb3IgYSByb3V0ZSB3aGljaCBkZWZpbmVzIGEgYm9vbGVhbiBcIiR7dHlwZX1cIiBbcm91dGVJZDogJHttYXRjaC5yb3V0ZS5pZH1dYFxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoYW5kbGVyKFxuICAgICAgICB7XG4gICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICB1bnN0YWJsZV9wYXR0ZXJuLFxuICAgICAgICAgIHBhcmFtczogbWF0Y2gucGFyYW1zLFxuICAgICAgICAgIGNvbnRleHQ6IHNjb3BlZENvbnRleHRcbiAgICAgICAgfSxcbiAgICAgICAgLi4uY3R4ICE9PSB2b2lkIDAgPyBbY3R4XSA6IFtdXG4gICAgICApO1xuICAgIH07XG4gICAgbGV0IGhhbmRsZXJQcm9taXNlID0gKGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCB2YWwgPSBhd2FpdCAoaGFuZGxlck92ZXJyaWRlID8gaGFuZGxlck92ZXJyaWRlKChjdHgpID0+IGFjdHVhbEhhbmRsZXIoY3R4KSkgOiBhY3R1YWxIYW5kbGVyKCkpO1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcImRhdGFcIiwgcmVzdWx0OiB2YWwgfTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJlcnJvclwiLCByZXN1bHQ6IGUgfTtcbiAgICAgIH1cbiAgICB9KSgpO1xuICAgIHJldHVybiBQcm9taXNlLnJhY2UoW2hhbmRsZXJQcm9taXNlLCBhYm9ydFByb21pc2VdKTtcbiAgfTtcbiAgdHJ5IHtcbiAgICBsZXQgaGFuZGxlciA9IGlzQWN0aW9uID8gbWF0Y2gucm91dGUuYWN0aW9uIDogbWF0Y2gucm91dGUubG9hZGVyO1xuICAgIGlmIChsYXp5SGFuZGxlclByb21pc2UgfHwgbGF6eVJvdXRlUHJvbWlzZSkge1xuICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgbGV0IGhhbmRsZXJFcnJvcjtcbiAgICAgICAgbGV0IFt2YWx1ZV0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgLy8gSWYgdGhlIGhhbmRsZXIgdGhyb3dzLCBkb24ndCBsZXQgaXQgaW1tZWRpYXRlbHkgYnViYmxlIG91dCxcbiAgICAgICAgICAvLyBzaW5jZSB3ZSBuZWVkIHRvIGxldCB0aGUgbGF6eSgpIGV4ZWN1dGlvbiBmaW5pc2ggc28gd2Uga25vdyBpZiB0aGlzXG4gICAgICAgICAgLy8gcm91dGUgaGFzIGEgYm91bmRhcnkgdGhhdCBjYW4gaGFuZGxlIHRoZSBlcnJvclxuICAgICAgICAgIHJ1bkhhbmRsZXIoaGFuZGxlcikuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgIGhhbmRsZXJFcnJvciA9IGU7XG4gICAgICAgICAgfSksXG4gICAgICAgICAgLy8gRW5zdXJlIGFsbCBsYXp5IHJvdXRlIHByb21pc2VzIGFyZSByZXNvbHZlZCBiZWZvcmUgY29udGludWluZ1xuICAgICAgICAgIGxhenlIYW5kbGVyUHJvbWlzZSxcbiAgICAgICAgICBsYXp5Um91dGVQcm9taXNlXG4gICAgICAgIF0pO1xuICAgICAgICBpZiAoaGFuZGxlckVycm9yICE9PSB2b2lkIDApIHtcbiAgICAgICAgICB0aHJvdyBoYW5kbGVyRXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCBsYXp5SGFuZGxlclByb21pc2U7XG4gICAgICAgIGxldCBoYW5kbGVyMiA9IGlzQWN0aW9uID8gbWF0Y2gucm91dGUuYWN0aW9uIDogbWF0Y2gucm91dGUubG9hZGVyO1xuICAgICAgICBpZiAoaGFuZGxlcjIpIHtcbiAgICAgICAgICBbcmVzdWx0XSA9IGF3YWl0IFByb21pc2UuYWxsKFtydW5IYW5kbGVyKGhhbmRsZXIyKSwgbGF6eVJvdXRlUHJvbWlzZV0pO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwiYWN0aW9uXCIpIHtcbiAgICAgICAgICBsZXQgdXJsID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgICAgICAgbGV0IHBhdGhuYW1lID0gdXJsLnBhdGhuYW1lICsgdXJsLnNlYXJjaDtcbiAgICAgICAgICB0aHJvdyBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNSwge1xuICAgICAgICAgICAgbWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcbiAgICAgICAgICAgIHBhdGhuYW1lLFxuICAgICAgICAgICAgcm91dGVJZDogbWF0Y2gucm91dGUuaWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4geyB0eXBlOiBcImRhdGFcIiAvKiBkYXRhICovLCByZXN1bHQ6IHZvaWQgMCB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghaGFuZGxlcikge1xuICAgICAgbGV0IHVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgICAgbGV0IHBhdGhuYW1lID0gdXJsLnBhdGhuYW1lICsgdXJsLnNlYXJjaDtcbiAgICAgIHRocm93IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA0LCB7XG4gICAgICAgIHBhdGhuYW1lXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gYXdhaXQgcnVuSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4geyB0eXBlOiBcImVycm9yXCIgLyogZXJyb3IgKi8sIHJlc3VsdDogZSB9O1xuICB9IGZpbmFsbHkge1xuICAgIGlmIChvblJlamVjdCkge1xuICAgICAgcmVxdWVzdC5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIG9uUmVqZWN0KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmFzeW5jIGZ1bmN0aW9uIHBhcnNlUmVzcG9uc2VCb2R5KHJlc3BvbnNlKSB7XG4gIGxldCBjb250ZW50VHlwZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwiQ29udGVudC1UeXBlXCIpO1xuICBpZiAoY29udGVudFR5cGUgJiYgL1xcYmFwcGxpY2F0aW9uXFwvanNvblxcYi8udGVzdChjb250ZW50VHlwZSkpIHtcbiAgICByZXR1cm4gcmVzcG9uc2UuYm9keSA9PSBudWxsID8gbnVsbCA6IHJlc3BvbnNlLmpzb24oKTtcbiAgfVxuICByZXR1cm4gcmVzcG9uc2UudGV4dCgpO1xufVxuYXN5bmMgZnVuY3Rpb24gY29udmVydERhdGFTdHJhdGVneVJlc3VsdFRvRGF0YVJlc3VsdChkYXRhU3RyYXRlZ3lSZXN1bHQpIHtcbiAgbGV0IHsgcmVzdWx0LCB0eXBlIH0gPSBkYXRhU3RyYXRlZ3lSZXN1bHQ7XG4gIGlmIChpc1Jlc3BvbnNlKHJlc3VsdCkpIHtcbiAgICBsZXQgZGF0YTI7XG4gICAgdHJ5IHtcbiAgICAgIGRhdGEyID0gYXdhaXQgcGFyc2VSZXNwb25zZUJvZHkocmVzdWx0KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcImVycm9yXCIgLyogZXJyb3IgKi8sIGVycm9yOiBlIH07XG4gICAgfVxuICAgIGlmICh0eXBlID09PSBcImVycm9yXCIgLyogZXJyb3IgKi8pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwiZXJyb3JcIiAvKiBlcnJvciAqLyxcbiAgICAgICAgZXJyb3I6IG5ldyBFcnJvclJlc3BvbnNlSW1wbChyZXN1bHQuc3RhdHVzLCByZXN1bHQuc3RhdHVzVGV4dCwgZGF0YTIpLFxuICAgICAgICBzdGF0dXNDb2RlOiByZXN1bHQuc3RhdHVzLFxuICAgICAgICBoZWFkZXJzOiByZXN1bHQuaGVhZGVyc1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwiZGF0YVwiIC8qIGRhdGEgKi8sXG4gICAgICBkYXRhOiBkYXRhMixcbiAgICAgIHN0YXR1c0NvZGU6IHJlc3VsdC5zdGF0dXMsXG4gICAgICBoZWFkZXJzOiByZXN1bHQuaGVhZGVyc1xuICAgIH07XG4gIH1cbiAgaWYgKHR5cGUgPT09IFwiZXJyb3JcIiAvKiBlcnJvciAqLykge1xuICAgIGlmIChpc0RhdGFXaXRoUmVzcG9uc2VJbml0KHJlc3VsdCkpIHtcbiAgICAgIGlmIChyZXN1bHQuZGF0YSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogXCJlcnJvclwiIC8qIGVycm9yICovLFxuICAgICAgICAgIGVycm9yOiByZXN1bHQuZGF0YSxcbiAgICAgICAgICBzdGF0dXNDb2RlOiByZXN1bHQuaW5pdD8uc3RhdHVzLFxuICAgICAgICAgIGhlYWRlcnM6IHJlc3VsdC5pbml0Py5oZWFkZXJzID8gbmV3IEhlYWRlcnMocmVzdWx0LmluaXQuaGVhZGVycykgOiB2b2lkIDBcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwiZXJyb3JcIiAvKiBlcnJvciAqLyxcbiAgICAgICAgZXJyb3I6IG5ldyBFcnJvclJlc3BvbnNlSW1wbChcbiAgICAgICAgICByZXN1bHQuaW5pdD8uc3RhdHVzIHx8IDUwMCxcbiAgICAgICAgICB2b2lkIDAsXG4gICAgICAgICAgcmVzdWx0LmRhdGFcbiAgICAgICAgKSxcbiAgICAgICAgc3RhdHVzQ29kZTogaXNSb3V0ZUVycm9yUmVzcG9uc2UocmVzdWx0KSA/IHJlc3VsdC5zdGF0dXMgOiB2b2lkIDAsXG4gICAgICAgIGhlYWRlcnM6IHJlc3VsdC5pbml0Py5oZWFkZXJzID8gbmV3IEhlYWRlcnMocmVzdWx0LmluaXQuaGVhZGVycykgOiB2b2lkIDBcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcImVycm9yXCIgLyogZXJyb3IgKi8sXG4gICAgICBlcnJvcjogcmVzdWx0LFxuICAgICAgc3RhdHVzQ29kZTogaXNSb3V0ZUVycm9yUmVzcG9uc2UocmVzdWx0KSA/IHJlc3VsdC5zdGF0dXMgOiB2b2lkIDBcbiAgICB9O1xuICB9XG4gIGlmIChpc0RhdGFXaXRoUmVzcG9uc2VJbml0KHJlc3VsdCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJkYXRhXCIgLyogZGF0YSAqLyxcbiAgICAgIGRhdGE6IHJlc3VsdC5kYXRhLFxuICAgICAgc3RhdHVzQ29kZTogcmVzdWx0LmluaXQ/LnN0YXR1cyxcbiAgICAgIGhlYWRlcnM6IHJlc3VsdC5pbml0Py5oZWFkZXJzID8gbmV3IEhlYWRlcnMocmVzdWx0LmluaXQuaGVhZGVycykgOiB2b2lkIDBcbiAgICB9O1xuICB9XG4gIHJldHVybiB7IHR5cGU6IFwiZGF0YVwiIC8qIGRhdGEgKi8sIGRhdGE6IHJlc3VsdCB9O1xufVxuZnVuY3Rpb24gbm9ybWFsaXplUmVsYXRpdmVSb3V0aW5nUmVkaXJlY3RSZXNwb25zZShyZXNwb25zZSwgcmVxdWVzdCwgcm91dGVJZCwgbWF0Y2hlcywgYmFzZW5hbWUpIHtcbiAgbGV0IGxvY2F0aW9uID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoXCJMb2NhdGlvblwiKTtcbiAgaW52YXJpYW50KFxuICAgIGxvY2F0aW9uLFxuICAgIFwiUmVkaXJlY3RzIHJldHVybmVkL3Rocm93biBmcm9tIGxvYWRlcnMvYWN0aW9ucyBtdXN0IGhhdmUgYSBMb2NhdGlvbiBoZWFkZXJcIlxuICApO1xuICBpZiAoIWlzQWJzb2x1dGVVcmwobG9jYXRpb24pKSB7XG4gICAgbGV0IHRyaW1tZWRNYXRjaGVzID0gbWF0Y2hlcy5zbGljZShcbiAgICAgIDAsXG4gICAgICBtYXRjaGVzLmZpbmRJbmRleCgobSkgPT4gbS5yb3V0ZS5pZCA9PT0gcm91dGVJZCkgKyAxXG4gICAgKTtcbiAgICBsb2NhdGlvbiA9IG5vcm1hbGl6ZVRvKFxuICAgICAgbmV3IFVSTChyZXF1ZXN0LnVybCksXG4gICAgICB0cmltbWVkTWF0Y2hlcyxcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgbG9jYXRpb25cbiAgICApO1xuICAgIHJlc3BvbnNlLmhlYWRlcnMuc2V0KFwiTG9jYXRpb25cIiwgbG9jYXRpb24pO1xuICB9XG4gIHJldHVybiByZXNwb25zZTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVJlZGlyZWN0TG9jYXRpb24obG9jYXRpb24sIGN1cnJlbnRVcmwsIGJhc2VuYW1lKSB7XG4gIGlmIChpc0Fic29sdXRlVXJsKGxvY2F0aW9uKSkge1xuICAgIGxldCBub3JtYWxpemVkTG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICBsZXQgdXJsID0gbm9ybWFsaXplZExvY2F0aW9uLnN0YXJ0c1dpdGgoXCIvL1wiKSA/IG5ldyBVUkwoY3VycmVudFVybC5wcm90b2NvbCArIG5vcm1hbGl6ZWRMb2NhdGlvbikgOiBuZXcgVVJMKG5vcm1hbGl6ZWRMb2NhdGlvbik7XG4gICAgbGV0IGlzU2FtZUJhc2VuYW1lID0gc3RyaXBCYXNlbmFtZSh1cmwucGF0aG5hbWUsIGJhc2VuYW1lKSAhPSBudWxsO1xuICAgIGlmICh1cmwub3JpZ2luID09PSBjdXJyZW50VXJsLm9yaWdpbiAmJiBpc1NhbWVCYXNlbmFtZSkge1xuICAgICAgcmV0dXJuIHVybC5wYXRobmFtZSArIHVybC5zZWFyY2ggKyB1cmwuaGFzaDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGxvY2F0aW9uO1xufVxuZnVuY3Rpb24gY3JlYXRlQ2xpZW50U2lkZVJlcXVlc3QoaGlzdG9yeSwgbG9jYXRpb24sIHNpZ25hbCwgc3VibWlzc2lvbikge1xuICBsZXQgdXJsID0gaGlzdG9yeS5jcmVhdGVVUkwoc3RyaXBIYXNoRnJvbVBhdGgobG9jYXRpb24pKS50b1N0cmluZygpO1xuICBsZXQgaW5pdCA9IHsgc2lnbmFsIH07XG4gIGlmIChzdWJtaXNzaW9uICYmIGlzTXV0YXRpb25NZXRob2Qoc3VibWlzc2lvbi5mb3JtTWV0aG9kKSkge1xuICAgIGxldCB7IGZvcm1NZXRob2QsIGZvcm1FbmNUeXBlIH0gPSBzdWJtaXNzaW9uO1xuICAgIGluaXQubWV0aG9kID0gZm9ybU1ldGhvZC50b1VwcGVyQ2FzZSgpO1xuICAgIGlmIChmb3JtRW5jVHlwZSA9PT0gXCJhcHBsaWNhdGlvbi9qc29uXCIpIHtcbiAgICAgIGluaXQuaGVhZGVycyA9IG5ldyBIZWFkZXJzKHsgXCJDb250ZW50LVR5cGVcIjogZm9ybUVuY1R5cGUgfSk7XG4gICAgICBpbml0LmJvZHkgPSBKU09OLnN0cmluZ2lmeShzdWJtaXNzaW9uLmpzb24pO1xuICAgIH0gZWxzZSBpZiAoZm9ybUVuY1R5cGUgPT09IFwidGV4dC9wbGFpblwiKSB7XG4gICAgICBpbml0LmJvZHkgPSBzdWJtaXNzaW9uLnRleHQ7XG4gICAgfSBlbHNlIGlmIChmb3JtRW5jVHlwZSA9PT0gXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIiAmJiBzdWJtaXNzaW9uLmZvcm1EYXRhKSB7XG4gICAgICBpbml0LmJvZHkgPSBjb252ZXJ0Rm9ybURhdGFUb1NlYXJjaFBhcmFtcyhzdWJtaXNzaW9uLmZvcm1EYXRhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5pdC5ib2R5ID0gc3VibWlzc2lvbi5mb3JtRGF0YTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ldyBSZXF1ZXN0KHVybCwgaW5pdCk7XG59XG5mdW5jdGlvbiBjb252ZXJ0Rm9ybURhdGFUb1NlYXJjaFBhcmFtcyhmb3JtRGF0YSkge1xuICBsZXQgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgZm9ybURhdGEuZW50cmllcygpKSB7XG4gICAgc2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlIDogdmFsdWUubmFtZSk7XG4gIH1cbiAgcmV0dXJuIHNlYXJjaFBhcmFtcztcbn1cbmZ1bmN0aW9uIGNvbnZlcnRTZWFyY2hQYXJhbXNUb0Zvcm1EYXRhKHNlYXJjaFBhcmFtcykge1xuICBsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIHNlYXJjaFBhcmFtcy5lbnRyaWVzKCkpIHtcbiAgICBmb3JtRGF0YS5hcHBlbmQoa2V5LCB2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIGZvcm1EYXRhO1xufVxuZnVuY3Rpb24gcHJvY2Vzc1JvdXRlTG9hZGVyRGF0YShtYXRjaGVzLCByZXN1bHRzLCBwZW5kaW5nQWN0aW9uUmVzdWx0LCBpc1N0YXRpY0hhbmRsZXIgPSBmYWxzZSwgc2tpcExvYWRlckVycm9yQnViYmxpbmcgPSBmYWxzZSkge1xuICBsZXQgbG9hZGVyRGF0YSA9IHt9O1xuICBsZXQgZXJyb3JzID0gbnVsbDtcbiAgbGV0IHN0YXR1c0NvZGU7XG4gIGxldCBmb3VuZEVycm9yID0gZmFsc2U7XG4gIGxldCBsb2FkZXJIZWFkZXJzID0ge307XG4gIGxldCBwZW5kaW5nRXJyb3IgPSBwZW5kaW5nQWN0aW9uUmVzdWx0ICYmIGlzRXJyb3JSZXN1bHQocGVuZGluZ0FjdGlvblJlc3VsdFsxXSkgPyBwZW5kaW5nQWN0aW9uUmVzdWx0WzFdLmVycm9yIDogdm9pZCAwO1xuICBtYXRjaGVzLmZvckVhY2goKG1hdGNoKSA9PiB7XG4gICAgaWYgKCEobWF0Y2gucm91dGUuaWQgaW4gcmVzdWx0cykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGlkID0gbWF0Y2gucm91dGUuaWQ7XG4gICAgbGV0IHJlc3VsdCA9IHJlc3VsdHNbaWRdO1xuICAgIGludmFyaWFudChcbiAgICAgICFpc1JlZGlyZWN0UmVzdWx0KHJlc3VsdCksXG4gICAgICBcIkNhbm5vdCBoYW5kbGUgcmVkaXJlY3QgcmVzdWx0cyBpbiBwcm9jZXNzTG9hZGVyRGF0YVwiXG4gICAgKTtcbiAgICBpZiAoaXNFcnJvclJlc3VsdChyZXN1bHQpKSB7XG4gICAgICBsZXQgZXJyb3IgPSByZXN1bHQuZXJyb3I7XG4gICAgICBpZiAocGVuZGluZ0Vycm9yICE9PSB2b2lkIDApIHtcbiAgICAgICAgZXJyb3IgPSBwZW5kaW5nRXJyb3I7XG4gICAgICAgIHBlbmRpbmdFcnJvciA9IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIGVycm9ycyA9IGVycm9ycyB8fCB7fTtcbiAgICAgIGlmIChza2lwTG9hZGVyRXJyb3JCdWJibGluZykge1xuICAgICAgICBlcnJvcnNbaWRdID0gZXJyb3I7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgYm91bmRhcnlNYXRjaCA9IGZpbmROZWFyZXN0Qm91bmRhcnkobWF0Y2hlcywgaWQpO1xuICAgICAgICBpZiAoZXJyb3JzW2JvdW5kYXJ5TWF0Y2gucm91dGUuaWRdID09IG51bGwpIHtcbiAgICAgICAgICBlcnJvcnNbYm91bmRhcnlNYXRjaC5yb3V0ZS5pZF0gPSBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFpc1N0YXRpY0hhbmRsZXIpIHtcbiAgICAgICAgbG9hZGVyRGF0YVtpZF0gPSBSZXNldExvYWRlckRhdGFTeW1ib2w7XG4gICAgICB9XG4gICAgICBpZiAoIWZvdW5kRXJyb3IpIHtcbiAgICAgICAgZm91bmRFcnJvciA9IHRydWU7XG4gICAgICAgIHN0YXR1c0NvZGUgPSBpc1JvdXRlRXJyb3JSZXNwb25zZShyZXN1bHQuZXJyb3IpID8gcmVzdWx0LmVycm9yLnN0YXR1cyA6IDUwMDtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQuaGVhZGVycykge1xuICAgICAgICBsb2FkZXJIZWFkZXJzW2lkXSA9IHJlc3VsdC5oZWFkZXJzO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsb2FkZXJEYXRhW2lkXSA9IHJlc3VsdC5kYXRhO1xuICAgICAgaWYgKHJlc3VsdC5zdGF0dXNDb2RlICYmIHJlc3VsdC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgIWZvdW5kRXJyb3IpIHtcbiAgICAgICAgc3RhdHVzQ29kZSA9IHJlc3VsdC5zdGF0dXNDb2RlO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdC5oZWFkZXJzKSB7XG4gICAgICAgIGxvYWRlckhlYWRlcnNbaWRdID0gcmVzdWx0LmhlYWRlcnM7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgaWYgKHBlbmRpbmdFcnJvciAhPT0gdm9pZCAwICYmIHBlbmRpbmdBY3Rpb25SZXN1bHQpIHtcbiAgICBlcnJvcnMgPSB7IFtwZW5kaW5nQWN0aW9uUmVzdWx0WzBdXTogcGVuZGluZ0Vycm9yIH07XG4gICAgaWYgKHBlbmRpbmdBY3Rpb25SZXN1bHRbMl0pIHtcbiAgICAgIGxvYWRlckRhdGFbcGVuZGluZ0FjdGlvblJlc3VsdFsyXV0gPSB2b2lkIDA7XG4gICAgfVxuICB9XG4gIHJldHVybiB7XG4gICAgbG9hZGVyRGF0YSxcbiAgICBlcnJvcnMsXG4gICAgc3RhdHVzQ29kZTogc3RhdHVzQ29kZSB8fCAyMDAsXG4gICAgbG9hZGVySGVhZGVyc1xuICB9O1xufVxuZnVuY3Rpb24gcHJvY2Vzc0xvYWRlckRhdGEoc3RhdGUsIG1hdGNoZXMsIHJlc3VsdHMsIHBlbmRpbmdBY3Rpb25SZXN1bHQsIHJldmFsaWRhdGluZ0ZldGNoZXJzLCBmZXRjaGVyUmVzdWx0cykge1xuICBsZXQgeyBsb2FkZXJEYXRhLCBlcnJvcnMgfSA9IHByb2Nlc3NSb3V0ZUxvYWRlckRhdGEoXG4gICAgbWF0Y2hlcyxcbiAgICByZXN1bHRzLFxuICAgIHBlbmRpbmdBY3Rpb25SZXN1bHRcbiAgKTtcbiAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMuZmlsdGVyKChmKSA9PiAhZi5tYXRjaGVzIHx8IGYubWF0Y2hlcy5zb21lKChtKSA9PiBtLnNob3VsZExvYWQpKS5mb3JFYWNoKChyZikgPT4ge1xuICAgIGxldCB7IGtleSwgbWF0Y2gsIGNvbnRyb2xsZXIgfSA9IHJmO1xuICAgIGlmIChjb250cm9sbGVyICYmIGNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IHJlc3VsdCA9IGZldGNoZXJSZXN1bHRzW2tleV07XG4gICAgaW52YXJpYW50KHJlc3VsdCwgXCJEaWQgbm90IGZpbmQgY29ycmVzcG9uZGluZyBmZXRjaGVyIHJlc3VsdFwiKTtcbiAgICBpZiAoaXNFcnJvclJlc3VsdChyZXN1bHQpKSB7XG4gICAgICBsZXQgYm91bmRhcnlNYXRjaCA9IGZpbmROZWFyZXN0Qm91bmRhcnkoc3RhdGUubWF0Y2hlcywgbWF0Y2g/LnJvdXRlLmlkKTtcbiAgICAgIGlmICghKGVycm9ycyAmJiBlcnJvcnNbYm91bmRhcnlNYXRjaC5yb3V0ZS5pZF0pKSB7XG4gICAgICAgIGVycm9ycyA9IHtcbiAgICAgICAgICAuLi5lcnJvcnMsXG4gICAgICAgICAgW2JvdW5kYXJ5TWF0Y2gucm91dGUuaWRdOiByZXN1bHQuZXJyb3JcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHN0YXRlLmZldGNoZXJzLmRlbGV0ZShrZXkpO1xuICAgIH0gZWxzZSBpZiAoaXNSZWRpcmVjdFJlc3VsdChyZXN1bHQpKSB7XG4gICAgICBpbnZhcmlhbnQoZmFsc2UsIFwiVW5oYW5kbGVkIGZldGNoZXIgcmV2YWxpZGF0aW9uIHJlZGlyZWN0XCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgZG9uZUZldGNoZXIgPSBnZXREb25lRmV0Y2hlcihyZXN1bHQuZGF0YSk7XG4gICAgICBzdGF0ZS5mZXRjaGVycy5zZXQoa2V5LCBkb25lRmV0Y2hlcik7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHsgbG9hZGVyRGF0YSwgZXJyb3JzIH07XG59XG5mdW5jdGlvbiBtZXJnZUxvYWRlckRhdGEobG9hZGVyRGF0YSwgbmV3TG9hZGVyRGF0YSwgbWF0Y2hlcywgZXJyb3JzKSB7XG4gIGxldCBtZXJnZWRMb2FkZXJEYXRhID0gT2JqZWN0LmVudHJpZXMobmV3TG9hZGVyRGF0YSkuZmlsdGVyKChbLCB2XSkgPT4gdiAhPT0gUmVzZXRMb2FkZXJEYXRhU3ltYm9sKS5yZWR1Y2UoKG1lcmdlZCwgW2ssIHZdKSA9PiB7XG4gICAgbWVyZ2VkW2tdID0gdjtcbiAgICByZXR1cm4gbWVyZ2VkO1xuICB9LCB7fSk7XG4gIGZvciAobGV0IG1hdGNoIG9mIG1hdGNoZXMpIHtcbiAgICBsZXQgaWQgPSBtYXRjaC5yb3V0ZS5pZDtcbiAgICBpZiAoIW5ld0xvYWRlckRhdGEuaGFzT3duUHJvcGVydHkoaWQpICYmIGxvYWRlckRhdGEuaGFzT3duUHJvcGVydHkoaWQpICYmIG1hdGNoLnJvdXRlLmxvYWRlcikge1xuICAgICAgbWVyZ2VkTG9hZGVyRGF0YVtpZF0gPSBsb2FkZXJEYXRhW2lkXTtcbiAgICB9XG4gICAgaWYgKGVycm9ycyAmJiBlcnJvcnMuaGFzT3duUHJvcGVydHkoaWQpKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1lcmdlZExvYWRlckRhdGE7XG59XG5mdW5jdGlvbiBnZXRBY3Rpb25EYXRhRm9yQ29tbWl0KHBlbmRpbmdBY3Rpb25SZXN1bHQpIHtcbiAgaWYgKCFwZW5kaW5nQWN0aW9uUmVzdWx0KSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG4gIHJldHVybiBpc0Vycm9yUmVzdWx0KHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0pID8ge1xuICAgIC8vIENsZWFyIG91dCBwcmlvciBhY3Rpb25EYXRhIG9uIGVycm9yc1xuICAgIGFjdGlvbkRhdGE6IHt9XG4gIH0gOiB7XG4gICAgYWN0aW9uRGF0YToge1xuICAgICAgW3BlbmRpbmdBY3Rpb25SZXN1bHRbMF1dOiBwZW5kaW5nQWN0aW9uUmVzdWx0WzFdLmRhdGFcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBmaW5kTmVhcmVzdEJvdW5kYXJ5KG1hdGNoZXMsIHJvdXRlSWQpIHtcbiAgbGV0IGVsaWdpYmxlTWF0Y2hlcyA9IHJvdXRlSWQgPyBtYXRjaGVzLnNsaWNlKDAsIG1hdGNoZXMuZmluZEluZGV4KChtKSA9PiBtLnJvdXRlLmlkID09PSByb3V0ZUlkKSArIDEpIDogWy4uLm1hdGNoZXNdO1xuICByZXR1cm4gZWxpZ2libGVNYXRjaGVzLnJldmVyc2UoKS5maW5kKChtKSA9PiBtLnJvdXRlLmhhc0Vycm9yQm91bmRhcnkgPT09IHRydWUpIHx8IG1hdGNoZXNbMF07XG59XG5mdW5jdGlvbiBnZXRTaG9ydENpcmN1aXRNYXRjaGVzKHJvdXRlcykge1xuICBsZXQgcm91dGUgPSByb3V0ZXMubGVuZ3RoID09PSAxID8gcm91dGVzWzBdIDogcm91dGVzLmZpbmQoKHIpID0+IHIuaW5kZXggfHwgIXIucGF0aCB8fCByLnBhdGggPT09IFwiL1wiKSB8fCB7XG4gICAgaWQ6IGBfX3NoaW0tZXJyb3Itcm91dGVfX2BcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBtYXRjaGVzOiBbXG4gICAgICB7XG4gICAgICAgIHBhcmFtczoge30sXG4gICAgICAgIHBhdGhuYW1lOiBcIlwiLFxuICAgICAgICBwYXRobmFtZUJhc2U6IFwiXCIsXG4gICAgICAgIHJvdXRlXG4gICAgICB9XG4gICAgXSxcbiAgICByb3V0ZVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcihzdGF0dXMsIHtcbiAgcGF0aG5hbWUsXG4gIHJvdXRlSWQsXG4gIG1ldGhvZCxcbiAgdHlwZSxcbiAgbWVzc2FnZVxufSA9IHt9KSB7XG4gIGxldCBzdGF0dXNUZXh0ID0gXCJVbmtub3duIFNlcnZlciBFcnJvclwiO1xuICBsZXQgZXJyb3JNZXNzYWdlID0gXCJVbmtub3duIEByZW1peC1ydW4vcm91dGVyIGVycm9yXCI7XG4gIGlmIChzdGF0dXMgPT09IDQwMCkge1xuICAgIHN0YXR1c1RleHQgPSBcIkJhZCBSZXF1ZXN0XCI7XG4gICAgaWYgKG1ldGhvZCAmJiBwYXRobmFtZSAmJiByb3V0ZUlkKSB7XG4gICAgICBlcnJvck1lc3NhZ2UgPSBgWW91IG1hZGUgYSAke21ldGhvZH0gcmVxdWVzdCB0byBcIiR7cGF0aG5hbWV9XCIgYnV0IGRpZCBub3QgcHJvdmlkZSBhIFxcYGxvYWRlclxcYCBmb3Igcm91dGUgXCIke3JvdXRlSWR9XCIsIHNvIHRoZXJlIGlzIG5vIHdheSB0byBoYW5kbGUgdGhlIHJlcXVlc3QuYDtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwiaW52YWxpZC1ib2R5XCIpIHtcbiAgICAgIGVycm9yTWVzc2FnZSA9IFwiVW5hYmxlIHRvIGVuY29kZSBzdWJtaXNzaW9uIGJvZHlcIjtcbiAgICB9XG4gIH0gZWxzZSBpZiAoc3RhdHVzID09PSA0MDMpIHtcbiAgICBzdGF0dXNUZXh0ID0gXCJGb3JiaWRkZW5cIjtcbiAgICBlcnJvck1lc3NhZ2UgPSBgUm91dGUgXCIke3JvdXRlSWR9XCIgZG9lcyBub3QgbWF0Y2ggVVJMIFwiJHtwYXRobmFtZX1cImA7XG4gIH0gZWxzZSBpZiAoc3RhdHVzID09PSA0MDQpIHtcbiAgICBzdGF0dXNUZXh0ID0gXCJOb3QgRm91bmRcIjtcbiAgICBlcnJvck1lc3NhZ2UgPSBgTm8gcm91dGUgbWF0Y2hlcyBVUkwgXCIke3BhdGhuYW1lfVwiYDtcbiAgfSBlbHNlIGlmIChzdGF0dXMgPT09IDQwNSkge1xuICAgIHN0YXR1c1RleHQgPSBcIk1ldGhvZCBOb3QgQWxsb3dlZFwiO1xuICAgIGlmIChtZXRob2QgJiYgcGF0aG5hbWUgJiYgcm91dGVJZCkge1xuICAgICAgZXJyb3JNZXNzYWdlID0gYFlvdSBtYWRlIGEgJHttZXRob2QudG9VcHBlckNhc2UoKX0gcmVxdWVzdCB0byBcIiR7cGF0aG5hbWV9XCIgYnV0IGRpZCBub3QgcHJvdmlkZSBhbiBcXGBhY3Rpb25cXGAgZm9yIHJvdXRlIFwiJHtyb3V0ZUlkfVwiLCBzbyB0aGVyZSBpcyBubyB3YXkgdG8gaGFuZGxlIHRoZSByZXF1ZXN0LmA7XG4gICAgfSBlbHNlIGlmIChtZXRob2QpIHtcbiAgICAgIGVycm9yTWVzc2FnZSA9IGBJbnZhbGlkIHJlcXVlc3QgbWV0aG9kIFwiJHttZXRob2QudG9VcHBlckNhc2UoKX1cImA7XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXcgRXJyb3JSZXNwb25zZUltcGwoXG4gICAgc3RhdHVzIHx8IDUwMCxcbiAgICBzdGF0dXNUZXh0LFxuICAgIG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpLFxuICAgIHRydWVcbiAgKTtcbn1cbmZ1bmN0aW9uIGZpbmRSZWRpcmVjdChyZXN1bHRzKSB7XG4gIGxldCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMocmVzdWx0cyk7XG4gIGZvciAobGV0IGkgPSBlbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgbGV0IFtrZXksIHJlc3VsdF0gPSBlbnRyaWVzW2ldO1xuICAgIGlmIChpc1JlZGlyZWN0UmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIHJldHVybiB7IGtleSwgcmVzdWx0IH07XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBzdHJpcEhhc2hGcm9tUGF0aChwYXRoKSB7XG4gIGxldCBwYXJzZWRQYXRoID0gdHlwZW9mIHBhdGggPT09IFwic3RyaW5nXCIgPyBwYXJzZVBhdGgocGF0aCkgOiBwYXRoO1xuICByZXR1cm4gY3JlYXRlUGF0aCh7IC4uLnBhcnNlZFBhdGgsIGhhc2g6IFwiXCIgfSk7XG59XG5mdW5jdGlvbiBpc0hhc2hDaGFuZ2VPbmx5KGEsIGIpIHtcbiAgaWYgKGEucGF0aG5hbWUgIT09IGIucGF0aG5hbWUgfHwgYS5zZWFyY2ggIT09IGIuc2VhcmNoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChhLmhhc2ggPT09IFwiXCIpIHtcbiAgICByZXR1cm4gYi5oYXNoICE9PSBcIlwiO1xuICB9IGVsc2UgaWYgKGEuaGFzaCA9PT0gYi5oYXNoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAoYi5oYXNoICE9PSBcIlwiKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gZGF0YVdpdGhSZXNwb25zZUluaXRUb1Jlc3BvbnNlKGRhdGEyKSB7XG4gIHJldHVybiBSZXNwb25zZS5qc29uKGRhdGEyLmRhdGEsIGRhdGEyLmluaXQgPz8gdm9pZCAwKTtcbn1cbmZ1bmN0aW9uIGRhdGFXaXRoUmVzcG9uc2VJbml0VG9FcnJvclJlc3BvbnNlKGRhdGEyKSB7XG4gIHJldHVybiBuZXcgRXJyb3JSZXNwb25zZUltcGwoXG4gICAgZGF0YTIuaW5pdD8uc3RhdHVzID8/IDUwMCxcbiAgICBkYXRhMi5pbml0Py5zdGF0dXNUZXh0ID8/IFwiSW50ZXJuYWwgU2VydmVyIEVycm9yXCIsXG4gICAgZGF0YTIuZGF0YVxuICApO1xufVxuZnVuY3Rpb24gaXNEYXRhU3RyYXRlZ3lSZXN1bHRzKHJlc3VsdCkge1xuICByZXR1cm4gcmVzdWx0ICE9IG51bGwgJiYgdHlwZW9mIHJlc3VsdCA9PT0gXCJvYmplY3RcIiAmJiBPYmplY3QuZW50cmllcyhyZXN1bHQpLmV2ZXJ5KFxuICAgIChba2V5LCB2YWx1ZV0pID0+IHR5cGVvZiBrZXkgPT09IFwic3RyaW5nXCIgJiYgaXNEYXRhU3RyYXRlZ3lSZXN1bHQodmFsdWUpXG4gICk7XG59XG5mdW5jdGlvbiBpc0RhdGFTdHJhdGVneVJlc3VsdChyZXN1bHQpIHtcbiAgcmV0dXJuIHJlc3VsdCAhPSBudWxsICYmIHR5cGVvZiByZXN1bHQgPT09IFwib2JqZWN0XCIgJiYgXCJ0eXBlXCIgaW4gcmVzdWx0ICYmIFwicmVzdWx0XCIgaW4gcmVzdWx0ICYmIChyZXN1bHQudHlwZSA9PT0gXCJkYXRhXCIgLyogZGF0YSAqLyB8fCByZXN1bHQudHlwZSA9PT0gXCJlcnJvclwiIC8qIGVycm9yICovKTtcbn1cbmZ1bmN0aW9uIGlzUmVkaXJlY3REYXRhU3RyYXRlZ3lSZXN1bHQocmVzdWx0KSB7XG4gIHJldHVybiBpc1Jlc3BvbnNlKHJlc3VsdC5yZXN1bHQpICYmIHJlZGlyZWN0U3RhdHVzQ29kZXMuaGFzKHJlc3VsdC5yZXN1bHQuc3RhdHVzKTtcbn1cbmZ1bmN0aW9uIGlzRXJyb3JSZXN1bHQocmVzdWx0KSB7XG4gIHJldHVybiByZXN1bHQudHlwZSA9PT0gXCJlcnJvclwiIC8qIGVycm9yICovO1xufVxuZnVuY3Rpb24gaXNSZWRpcmVjdFJlc3VsdChyZXN1bHQpIHtcbiAgcmV0dXJuIChyZXN1bHQgJiYgcmVzdWx0LnR5cGUpID09PSBcInJlZGlyZWN0XCIgLyogcmVkaXJlY3QgKi87XG59XG5mdW5jdGlvbiBpc0RhdGFXaXRoUmVzcG9uc2VJbml0KHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT0gbnVsbCAmJiBcInR5cGVcIiBpbiB2YWx1ZSAmJiBcImRhdGFcIiBpbiB2YWx1ZSAmJiBcImluaXRcIiBpbiB2YWx1ZSAmJiB2YWx1ZS50eXBlID09PSBcIkRhdGFXaXRoUmVzcG9uc2VJbml0XCI7XG59XG5mdW5jdGlvbiBpc1Jlc3BvbnNlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZS5zdGF0dXMgPT09IFwibnVtYmVyXCIgJiYgdHlwZW9mIHZhbHVlLnN0YXR1c1RleHQgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIHZhbHVlLmhlYWRlcnMgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHZhbHVlLmJvZHkgIT09IFwidW5kZWZpbmVkXCI7XG59XG5mdW5jdGlvbiBpc1JlZGlyZWN0U3RhdHVzQ29kZShzdGF0dXNDb2RlKSB7XG4gIHJldHVybiByZWRpcmVjdFN0YXR1c0NvZGVzLmhhcyhzdGF0dXNDb2RlKTtcbn1cbmZ1bmN0aW9uIGlzUmVkaXJlY3RSZXNwb25zZShyZXN1bHQpIHtcbiAgcmV0dXJuIGlzUmVzcG9uc2UocmVzdWx0KSAmJiBpc1JlZGlyZWN0U3RhdHVzQ29kZShyZXN1bHQuc3RhdHVzKSAmJiByZXN1bHQuaGVhZGVycy5oYXMoXCJMb2NhdGlvblwiKTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRNZXRob2QobWV0aG9kKSB7XG4gIHJldHVybiB2YWxpZFJlcXVlc3RNZXRob2RzLmhhcyhtZXRob2QudG9VcHBlckNhc2UoKSk7XG59XG5mdW5jdGlvbiBpc011dGF0aW9uTWV0aG9kKG1ldGhvZCkge1xuICByZXR1cm4gdmFsaWRNdXRhdGlvbk1ldGhvZHMuaGFzKG1ldGhvZC50b1VwcGVyQ2FzZSgpKTtcbn1cbmZ1bmN0aW9uIGhhc05ha2VkSW5kZXhRdWVyeShzZWFyY2gpIHtcbiAgcmV0dXJuIG5ldyBVUkxTZWFyY2hQYXJhbXMoc2VhcmNoKS5nZXRBbGwoXCJpbmRleFwiKS5zb21lKCh2KSA9PiB2ID09PSBcIlwiKTtcbn1cbmZ1bmN0aW9uIGdldFRhcmdldE1hdGNoKG1hdGNoZXMsIGxvY2F0aW9uKSB7XG4gIGxldCBzZWFyY2ggPSB0eXBlb2YgbG9jYXRpb24gPT09IFwic3RyaW5nXCIgPyBwYXJzZVBhdGgobG9jYXRpb24pLnNlYXJjaCA6IGxvY2F0aW9uLnNlYXJjaDtcbiAgaWYgKG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXS5yb3V0ZS5pbmRleCAmJiBoYXNOYWtlZEluZGV4UXVlcnkoc2VhcmNoIHx8IFwiXCIpKSB7XG4gICAgcmV0dXJuIG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXTtcbiAgfVxuICBsZXQgcGF0aE1hdGNoZXMgPSBnZXRQYXRoQ29udHJpYnV0aW5nTWF0Y2hlcyhtYXRjaGVzKTtcbiAgcmV0dXJuIHBhdGhNYXRjaGVzW3BhdGhNYXRjaGVzLmxlbmd0aCAtIDFdO1xufVxuZnVuY3Rpb24gZ2V0U3VibWlzc2lvbkZyb21OYXZpZ2F0aW9uKG5hdmlnYXRpb24pIHtcbiAgbGV0IHsgZm9ybU1ldGhvZCwgZm9ybUFjdGlvbiwgZm9ybUVuY1R5cGUsIHRleHQsIGZvcm1EYXRhLCBqc29uIH0gPSBuYXZpZ2F0aW9uO1xuICBpZiAoIWZvcm1NZXRob2QgfHwgIWZvcm1BY3Rpb24gfHwgIWZvcm1FbmNUeXBlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICh0ZXh0ICE9IG51bGwpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZm9ybU1ldGhvZCxcbiAgICAgIGZvcm1BY3Rpb24sXG4gICAgICBmb3JtRW5jVHlwZSxcbiAgICAgIGZvcm1EYXRhOiB2b2lkIDAsXG4gICAgICBqc29uOiB2b2lkIDAsXG4gICAgICB0ZXh0XG4gICAgfTtcbiAgfSBlbHNlIGlmIChmb3JtRGF0YSAhPSBudWxsKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZvcm1NZXRob2QsXG4gICAgICBmb3JtQWN0aW9uLFxuICAgICAgZm9ybUVuY1R5cGUsXG4gICAgICBmb3JtRGF0YSxcbiAgICAgIGpzb246IHZvaWQgMCxcbiAgICAgIHRleHQ6IHZvaWQgMFxuICAgIH07XG4gIH0gZWxzZSBpZiAoanNvbiAhPT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZvcm1NZXRob2QsXG4gICAgICBmb3JtQWN0aW9uLFxuICAgICAgZm9ybUVuY1R5cGUsXG4gICAgICBmb3JtRGF0YTogdm9pZCAwLFxuICAgICAganNvbixcbiAgICAgIHRleHQ6IHZvaWQgMFxuICAgIH07XG4gIH1cbn1cbmZ1bmN0aW9uIGdldExvYWRpbmdOYXZpZ2F0aW9uKGxvY2F0aW9uLCBzdWJtaXNzaW9uKSB7XG4gIGlmIChzdWJtaXNzaW9uKSB7XG4gICAgbGV0IG5hdmlnYXRpb24gPSB7XG4gICAgICBzdGF0ZTogXCJsb2FkaW5nXCIsXG4gICAgICBsb2NhdGlvbixcbiAgICAgIGZvcm1NZXRob2Q6IHN1Ym1pc3Npb24uZm9ybU1ldGhvZCxcbiAgICAgIGZvcm1BY3Rpb246IHN1Ym1pc3Npb24uZm9ybUFjdGlvbixcbiAgICAgIGZvcm1FbmNUeXBlOiBzdWJtaXNzaW9uLmZvcm1FbmNUeXBlLFxuICAgICAgZm9ybURhdGE6IHN1Ym1pc3Npb24uZm9ybURhdGEsXG4gICAgICBqc29uOiBzdWJtaXNzaW9uLmpzb24sXG4gICAgICB0ZXh0OiBzdWJtaXNzaW9uLnRleHRcbiAgICB9O1xuICAgIHJldHVybiBuYXZpZ2F0aW9uO1xuICB9IGVsc2Uge1xuICAgIGxldCBuYXZpZ2F0aW9uID0ge1xuICAgICAgc3RhdGU6IFwibG9hZGluZ1wiLFxuICAgICAgbG9jYXRpb24sXG4gICAgICBmb3JtTWV0aG9kOiB2b2lkIDAsXG4gICAgICBmb3JtQWN0aW9uOiB2b2lkIDAsXG4gICAgICBmb3JtRW5jVHlwZTogdm9pZCAwLFxuICAgICAgZm9ybURhdGE6IHZvaWQgMCxcbiAgICAgIGpzb246IHZvaWQgMCxcbiAgICAgIHRleHQ6IHZvaWQgMFxuICAgIH07XG4gICAgcmV0dXJuIG5hdmlnYXRpb247XG4gIH1cbn1cbmZ1bmN0aW9uIGdldFN1Ym1pdHRpbmdOYXZpZ2F0aW9uKGxvY2F0aW9uLCBzdWJtaXNzaW9uKSB7XG4gIGxldCBuYXZpZ2F0aW9uID0ge1xuICAgIHN0YXRlOiBcInN1Ym1pdHRpbmdcIixcbiAgICBsb2NhdGlvbixcbiAgICBmb3JtTWV0aG9kOiBzdWJtaXNzaW9uLmZvcm1NZXRob2QsXG4gICAgZm9ybUFjdGlvbjogc3VibWlzc2lvbi5mb3JtQWN0aW9uLFxuICAgIGZvcm1FbmNUeXBlOiBzdWJtaXNzaW9uLmZvcm1FbmNUeXBlLFxuICAgIGZvcm1EYXRhOiBzdWJtaXNzaW9uLmZvcm1EYXRhLFxuICAgIGpzb246IHN1Ym1pc3Npb24uanNvbixcbiAgICB0ZXh0OiBzdWJtaXNzaW9uLnRleHRcbiAgfTtcbiAgcmV0dXJuIG5hdmlnYXRpb247XG59XG5mdW5jdGlvbiBnZXRMb2FkaW5nRmV0Y2hlcihzdWJtaXNzaW9uLCBkYXRhMikge1xuICBpZiAoc3VibWlzc2lvbikge1xuICAgIGxldCBmZXRjaGVyID0ge1xuICAgICAgc3RhdGU6IFwibG9hZGluZ1wiLFxuICAgICAgZm9ybU1ldGhvZDogc3VibWlzc2lvbi5mb3JtTWV0aG9kLFxuICAgICAgZm9ybUFjdGlvbjogc3VibWlzc2lvbi5mb3JtQWN0aW9uLFxuICAgICAgZm9ybUVuY1R5cGU6IHN1Ym1pc3Npb24uZm9ybUVuY1R5cGUsXG4gICAgICBmb3JtRGF0YTogc3VibWlzc2lvbi5mb3JtRGF0YSxcbiAgICAgIGpzb246IHN1Ym1pc3Npb24uanNvbixcbiAgICAgIHRleHQ6IHN1Ym1pc3Npb24udGV4dCxcbiAgICAgIGRhdGE6IGRhdGEyXG4gICAgfTtcbiAgICByZXR1cm4gZmV0Y2hlcjtcbiAgfSBlbHNlIHtcbiAgICBsZXQgZmV0Y2hlciA9IHtcbiAgICAgIHN0YXRlOiBcImxvYWRpbmdcIixcbiAgICAgIGZvcm1NZXRob2Q6IHZvaWQgMCxcbiAgICAgIGZvcm1BY3Rpb246IHZvaWQgMCxcbiAgICAgIGZvcm1FbmNUeXBlOiB2b2lkIDAsXG4gICAgICBmb3JtRGF0YTogdm9pZCAwLFxuICAgICAganNvbjogdm9pZCAwLFxuICAgICAgdGV4dDogdm9pZCAwLFxuICAgICAgZGF0YTogZGF0YTJcbiAgICB9O1xuICAgIHJldHVybiBmZXRjaGVyO1xuICB9XG59XG5mdW5jdGlvbiBnZXRTdWJtaXR0aW5nRmV0Y2hlcihzdWJtaXNzaW9uLCBleGlzdGluZ0ZldGNoZXIpIHtcbiAgbGV0IGZldGNoZXIgPSB7XG4gICAgc3RhdGU6IFwic3VibWl0dGluZ1wiLFxuICAgIGZvcm1NZXRob2Q6IHN1Ym1pc3Npb24uZm9ybU1ldGhvZCxcbiAgICBmb3JtQWN0aW9uOiBzdWJtaXNzaW9uLmZvcm1BY3Rpb24sXG4gICAgZm9ybUVuY1R5cGU6IHN1Ym1pc3Npb24uZm9ybUVuY1R5cGUsXG4gICAgZm9ybURhdGE6IHN1Ym1pc3Npb24uZm9ybURhdGEsXG4gICAganNvbjogc3VibWlzc2lvbi5qc29uLFxuICAgIHRleHQ6IHN1Ym1pc3Npb24udGV4dCxcbiAgICBkYXRhOiBleGlzdGluZ0ZldGNoZXIgPyBleGlzdGluZ0ZldGNoZXIuZGF0YSA6IHZvaWQgMFxuICB9O1xuICByZXR1cm4gZmV0Y2hlcjtcbn1cbmZ1bmN0aW9uIGdldERvbmVGZXRjaGVyKGRhdGEyKSB7XG4gIGxldCBmZXRjaGVyID0ge1xuICAgIHN0YXRlOiBcImlkbGVcIixcbiAgICBmb3JtTWV0aG9kOiB2b2lkIDAsXG4gICAgZm9ybUFjdGlvbjogdm9pZCAwLFxuICAgIGZvcm1FbmNUeXBlOiB2b2lkIDAsXG4gICAgZm9ybURhdGE6IHZvaWQgMCxcbiAgICBqc29uOiB2b2lkIDAsXG4gICAgdGV4dDogdm9pZCAwLFxuICAgIGRhdGE6IGRhdGEyXG4gIH07XG4gIHJldHVybiBmZXRjaGVyO1xufVxuZnVuY3Rpb24gcmVzdG9yZUFwcGxpZWRUcmFuc2l0aW9ucyhfd2luZG93LCB0cmFuc2l0aW9ucykge1xuICB0cnkge1xuICAgIGxldCBzZXNzaW9uUG9zaXRpb25zID0gX3dpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFxuICAgICAgVFJBTlNJVElPTlNfU1RPUkFHRV9LRVlcbiAgICApO1xuICAgIGlmIChzZXNzaW9uUG9zaXRpb25zKSB7XG4gICAgICBsZXQganNvbiA9IEpTT04ucGFyc2Uoc2Vzc2lvblBvc2l0aW9ucyk7XG4gICAgICBmb3IgKGxldCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoanNvbiB8fCB7fSkpIHtcbiAgICAgICAgaWYgKHYgJiYgQXJyYXkuaXNBcnJheSh2KSkge1xuICAgICAgICAgIHRyYW5zaXRpb25zLnNldChrLCBuZXcgU2V0KHYgfHwgW10pKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICB9XG59XG5mdW5jdGlvbiBwZXJzaXN0QXBwbGllZFRyYW5zaXRpb25zKF93aW5kb3csIHRyYW5zaXRpb25zKSB7XG4gIGlmICh0cmFuc2l0aW9ucy5zaXplID4gMCkge1xuICAgIGxldCBqc29uID0ge307XG4gICAgZm9yIChsZXQgW2ssIHZdIG9mIHRyYW5zaXRpb25zKSB7XG4gICAgICBqc29uW2tdID0gWy4uLnZdO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgX3dpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFxuICAgICAgICBUUkFOU0lUSU9OU19TVE9SQUdFX0tFWSxcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkoanNvbilcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHdhcm5pbmcoXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBgRmFpbGVkIHRvIHNhdmUgYXBwbGllZCB2aWV3IHRyYW5zaXRpb25zIGluIHNlc3Npb25TdG9yYWdlICgke2Vycm9yfSkuYFxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZURlZmVycmVkKCkge1xuICBsZXQgcmVzb2x2ZTtcbiAgbGV0IHJlamVjdDtcbiAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICByZXNvbHZlID0gYXN5bmMgKHZhbCkgPT4ge1xuICAgICAgcmVzKHZhbCk7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBwcm9taXNlO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgfVxuICAgIH07XG4gICAgcmVqZWN0ID0gYXN5bmMgKGVycm9yKSA9PiB7XG4gICAgICByZWooZXJyb3IpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgcHJvbWlzZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBwcm9taXNlLFxuICAgIC8vQHRzLWlnbm9yZVxuICAgIHJlc29sdmUsXG4gICAgLy9AdHMtaWdub3JlXG4gICAgcmVqZWN0XG4gIH07XG59XG5cbi8vIGxpYi9jb250ZXh0LnRzXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbnZhciBEYXRhUm91dGVyQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5EYXRhUm91dGVyQ29udGV4dC5kaXNwbGF5TmFtZSA9IFwiRGF0YVJvdXRlclwiO1xudmFyIERhdGFSb3V0ZXJTdGF0ZUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuRGF0YVJvdXRlclN0YXRlQ29udGV4dC5kaXNwbGF5TmFtZSA9IFwiRGF0YVJvdXRlclN0YXRlXCI7XG52YXIgUlNDUm91dGVyQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQoZmFsc2UpO1xuZnVuY3Rpb24gdXNlSXNSU0NSb3V0ZXJDb250ZXh0KCkge1xuICByZXR1cm4gUmVhY3QudXNlQ29udGV4dChSU0NSb3V0ZXJDb250ZXh0KTtcbn1cbnZhciBWaWV3VHJhbnNpdGlvbkNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KHtcbiAgaXNUcmFuc2l0aW9uaW5nOiBmYWxzZVxufSk7XG5WaWV3VHJhbnNpdGlvbkNvbnRleHQuZGlzcGxheU5hbWUgPSBcIlZpZXdUcmFuc2l0aW9uXCI7XG52YXIgRmV0Y2hlcnNDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChcbiAgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKVxuKTtcbkZldGNoZXJzQ29udGV4dC5kaXNwbGF5TmFtZSA9IFwiRmV0Y2hlcnNcIjtcbnZhciBBd2FpdENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuQXdhaXRDb250ZXh0LmRpc3BsYXlOYW1lID0gXCJBd2FpdFwiO1xudmFyIEF3YWl0Q29udGV4dFByb3ZpZGVyID0gKHByb3BzKSA9PiBSZWFjdC5jcmVhdGVFbGVtZW50KEF3YWl0Q29udGV4dC5Qcm92aWRlciwgcHJvcHMpO1xudmFyIE5hdmlnYXRpb25Db250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChcbiAgbnVsbFxuKTtcbk5hdmlnYXRpb25Db250ZXh0LmRpc3BsYXlOYW1lID0gXCJOYXZpZ2F0aW9uXCI7XG52YXIgTG9jYXRpb25Db250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChcbiAgbnVsbFxuKTtcbkxvY2F0aW9uQ29udGV4dC5kaXNwbGF5TmFtZSA9IFwiTG9jYXRpb25cIjtcbnZhciBSb3V0ZUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KHtcbiAgb3V0bGV0OiBudWxsLFxuICBtYXRjaGVzOiBbXSxcbiAgaXNEYXRhUm91dGU6IGZhbHNlXG59KTtcblJvdXRlQ29udGV4dC5kaXNwbGF5TmFtZSA9IFwiUm91dGVcIjtcbnZhciBSb3V0ZUVycm9yQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5Sb3V0ZUVycm9yQ29udGV4dC5kaXNwbGF5TmFtZSA9IFwiUm91dGVFcnJvclwiO1xudmFyIEVOQUJMRV9ERVZfV0FSTklOR1MgPSB0cnVlO1xuXG4vLyBsaWIvaG9va3MudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDIgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiB1c2VIcmVmKHRvLCB7IHJlbGF0aXZlIH0gPSB7fSkge1xuICBpbnZhcmlhbnQoXG4gICAgdXNlSW5Sb3V0ZXJDb250ZXh0KCksXG4gICAgLy8gVE9ETzogVGhpcyBlcnJvciBpcyBwcm9iYWJseSBiZWNhdXNlIHRoZXkgc29tZWhvdyBoYXZlIDIgdmVyc2lvbnMgb2YgdGhlXG4gICAgLy8gcm91dGVyIGxvYWRlZC4gV2UgY2FuIGhlbHAgdGhlbSB1bmRlcnN0YW5kIGhvdyB0byBhdm9pZCB0aGF0LlxuICAgIGB1c2VIcmVmKCkgbWF5IGJlIHVzZWQgb25seSBpbiB0aGUgY29udGV4dCBvZiBhIDxSb3V0ZXI+IGNvbXBvbmVudC5gXG4gICk7XG4gIGxldCB7IGJhc2VuYW1lLCBuYXZpZ2F0b3IgfSA9IFJlYWN0Mi51c2VDb250ZXh0KE5hdmlnYXRpb25Db250ZXh0KTtcbiAgbGV0IHsgaGFzaCwgcGF0aG5hbWUsIHNlYXJjaCB9ID0gdXNlUmVzb2x2ZWRQYXRoKHRvLCB7IHJlbGF0aXZlIH0pO1xuICBsZXQgam9pbmVkUGF0aG5hbWUgPSBwYXRobmFtZTtcbiAgaWYgKGJhc2VuYW1lICE9PSBcIi9cIikge1xuICAgIGpvaW5lZFBhdGhuYW1lID0gcGF0aG5hbWUgPT09IFwiL1wiID8gYmFzZW5hbWUgOiBqb2luUGF0aHMoW2Jhc2VuYW1lLCBwYXRobmFtZV0pO1xuICB9XG4gIHJldHVybiBuYXZpZ2F0b3IuY3JlYXRlSHJlZih7IHBhdGhuYW1lOiBqb2luZWRQYXRobmFtZSwgc2VhcmNoLCBoYXNoIH0pO1xufVxuZnVuY3Rpb24gdXNlSW5Sb3V0ZXJDb250ZXh0KCkge1xuICByZXR1cm4gUmVhY3QyLnVzZUNvbnRleHQoTG9jYXRpb25Db250ZXh0KSAhPSBudWxsO1xufVxuZnVuY3Rpb24gdXNlTG9jYXRpb24oKSB7XG4gIGludmFyaWFudChcbiAgICB1c2VJblJvdXRlckNvbnRleHQoKSxcbiAgICAvLyBUT0RPOiBUaGlzIGVycm9yIGlzIHByb2JhYmx5IGJlY2F1c2UgdGhleSBzb21laG93IGhhdmUgMiB2ZXJzaW9ucyBvZiB0aGVcbiAgICAvLyByb3V0ZXIgbG9hZGVkLiBXZSBjYW4gaGVscCB0aGVtIHVuZGVyc3RhbmQgaG93IHRvIGF2b2lkIHRoYXQuXG4gICAgYHVzZUxvY2F0aW9uKCkgbWF5IGJlIHVzZWQgb25seSBpbiB0aGUgY29udGV4dCBvZiBhIDxSb3V0ZXI+IGNvbXBvbmVudC5gXG4gICk7XG4gIHJldHVybiBSZWFjdDIudXNlQ29udGV4dChMb2NhdGlvbkNvbnRleHQpLmxvY2F0aW9uO1xufVxuZnVuY3Rpb24gdXNlTmF2aWdhdGlvblR5cGUoKSB7XG4gIHJldHVybiBSZWFjdDIudXNlQ29udGV4dChMb2NhdGlvbkNvbnRleHQpLm5hdmlnYXRpb25UeXBlO1xufVxuZnVuY3Rpb24gdXNlTWF0Y2gocGF0dGVybikge1xuICBpbnZhcmlhbnQoXG4gICAgdXNlSW5Sb3V0ZXJDb250ZXh0KCksXG4gICAgLy8gVE9ETzogVGhpcyBlcnJvciBpcyBwcm9iYWJseSBiZWNhdXNlIHRoZXkgc29tZWhvdyBoYXZlIDIgdmVyc2lvbnMgb2YgdGhlXG4gICAgLy8gcm91dGVyIGxvYWRlZC4gV2UgY2FuIGhlbHAgdGhlbSB1bmRlcnN0YW5kIGhvdyB0byBhdm9pZCB0aGF0LlxuICAgIGB1c2VNYXRjaCgpIG1heSBiZSB1c2VkIG9ubHkgaW4gdGhlIGNvbnRleHQgb2YgYSA8Um91dGVyPiBjb21wb25lbnQuYFxuICApO1xuICBsZXQgeyBwYXRobmFtZSB9ID0gdXNlTG9jYXRpb24oKTtcbiAgcmV0dXJuIFJlYWN0Mi51c2VNZW1vKFxuICAgICgpID0+IG1hdGNoUGF0aChwYXR0ZXJuLCBkZWNvZGVQYXRoKHBhdGhuYW1lKSksXG4gICAgW3BhdGhuYW1lLCBwYXR0ZXJuXVxuICApO1xufVxudmFyIG5hdmlnYXRlRWZmZWN0V2FybmluZyA9IGBZb3Ugc2hvdWxkIGNhbGwgbmF2aWdhdGUoKSBpbiBhIFJlYWN0LnVzZUVmZmVjdCgpLCBub3Qgd2hlbiB5b3VyIGNvbXBvbmVudCBpcyBmaXJzdCByZW5kZXJlZC5gO1xuZnVuY3Rpb24gdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChjYikge1xuICBsZXQgaXNTdGF0aWMgPSBSZWFjdDIudXNlQ29udGV4dChOYXZpZ2F0aW9uQ29udGV4dCkuc3RhdGljO1xuICBpZiAoIWlzU3RhdGljKSB7XG4gICAgUmVhY3QyLnVzZUxheW91dEVmZmVjdChjYik7XG4gIH1cbn1cbmZ1bmN0aW9uIHVzZU5hdmlnYXRlKCkge1xuICBsZXQgeyBpc0RhdGFSb3V0ZSB9ID0gUmVhY3QyLnVzZUNvbnRleHQoUm91dGVDb250ZXh0KTtcbiAgcmV0dXJuIGlzRGF0YVJvdXRlID8gdXNlTmF2aWdhdGVTdGFibGUoKSA6IHVzZU5hdmlnYXRlVW5zdGFibGUoKTtcbn1cbmZ1bmN0aW9uIHVzZU5hdmlnYXRlVW5zdGFibGUoKSB7XG4gIGludmFyaWFudChcbiAgICB1c2VJblJvdXRlckNvbnRleHQoKSxcbiAgICAvLyBUT0RPOiBUaGlzIGVycm9yIGlzIHByb2JhYmx5IGJlY2F1c2UgdGhleSBzb21laG93IGhhdmUgMiB2ZXJzaW9ucyBvZiB0aGVcbiAgICAvLyByb3V0ZXIgbG9hZGVkLiBXZSBjYW4gaGVscCB0aGVtIHVuZGVyc3RhbmQgaG93IHRvIGF2b2lkIHRoYXQuXG4gICAgYHVzZU5hdmlnYXRlKCkgbWF5IGJlIHVzZWQgb25seSBpbiB0aGUgY29udGV4dCBvZiBhIDxSb3V0ZXI+IGNvbXBvbmVudC5gXG4gICk7XG4gIGxldCBkYXRhUm91dGVyQ29udGV4dCA9IFJlYWN0Mi51c2VDb250ZXh0KERhdGFSb3V0ZXJDb250ZXh0KTtcbiAgbGV0IHsgYmFzZW5hbWUsIG5hdmlnYXRvciB9ID0gUmVhY3QyLnVzZUNvbnRleHQoTmF2aWdhdGlvbkNvbnRleHQpO1xuICBsZXQgeyBtYXRjaGVzIH0gPSBSZWFjdDIudXNlQ29udGV4dChSb3V0ZUNvbnRleHQpO1xuICBsZXQgeyBwYXRobmFtZTogbG9jYXRpb25QYXRobmFtZSB9ID0gdXNlTG9jYXRpb24oKTtcbiAgbGV0IHJvdXRlUGF0aG5hbWVzSnNvbiA9IEpTT04uc3RyaW5naWZ5KGdldFJlc29sdmVUb01hdGNoZXMobWF0Y2hlcykpO1xuICBsZXQgYWN0aXZlUmVmID0gUmVhY3QyLnVzZVJlZihmYWxzZSk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGFjdGl2ZVJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgfSk7XG4gIGxldCBuYXZpZ2F0ZSA9IFJlYWN0Mi51c2VDYWxsYmFjayhcbiAgICAodG8sIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgICAgd2FybmluZyhhY3RpdmVSZWYuY3VycmVudCwgbmF2aWdhdGVFZmZlY3RXYXJuaW5nKTtcbiAgICAgIGlmICghYWN0aXZlUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICAgIGlmICh0eXBlb2YgdG8gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgbmF2aWdhdG9yLmdvKHRvKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbGV0IHBhdGggPSByZXNvbHZlVG8oXG4gICAgICAgIHRvLFxuICAgICAgICBKU09OLnBhcnNlKHJvdXRlUGF0aG5hbWVzSnNvbiksXG4gICAgICAgIGxvY2F0aW9uUGF0aG5hbWUsXG4gICAgICAgIG9wdGlvbnMucmVsYXRpdmUgPT09IFwicGF0aFwiXG4gICAgICApO1xuICAgICAgaWYgKGRhdGFSb3V0ZXJDb250ZXh0ID09IG51bGwgJiYgYmFzZW5hbWUgIT09IFwiL1wiKSB7XG4gICAgICAgIHBhdGgucGF0aG5hbWUgPSBwYXRoLnBhdGhuYW1lID09PSBcIi9cIiA/IGJhc2VuYW1lIDogam9pblBhdGhzKFtiYXNlbmFtZSwgcGF0aC5wYXRobmFtZV0pO1xuICAgICAgfVxuICAgICAgKCEhb3B0aW9ucy5yZXBsYWNlID8gbmF2aWdhdG9yLnJlcGxhY2UgOiBuYXZpZ2F0b3IucHVzaCkoXG4gICAgICAgIHBhdGgsXG4gICAgICAgIG9wdGlvbnMuc3RhdGUsXG4gICAgICAgIG9wdGlvbnNcbiAgICAgICk7XG4gICAgfSxcbiAgICBbXG4gICAgICBiYXNlbmFtZSxcbiAgICAgIG5hdmlnYXRvcixcbiAgICAgIHJvdXRlUGF0aG5hbWVzSnNvbixcbiAgICAgIGxvY2F0aW9uUGF0aG5hbWUsXG4gICAgICBkYXRhUm91dGVyQ29udGV4dFxuICAgIF1cbiAgKTtcbiAgcmV0dXJuIG5hdmlnYXRlO1xufVxudmFyIE91dGxldENvbnRleHQgPSBSZWFjdDIuY3JlYXRlQ29udGV4dChudWxsKTtcbmZ1bmN0aW9uIHVzZU91dGxldENvbnRleHQoKSB7XG4gIHJldHVybiBSZWFjdDIudXNlQ29udGV4dChPdXRsZXRDb250ZXh0KTtcbn1cbmZ1bmN0aW9uIHVzZU91dGxldChjb250ZXh0KSB7XG4gIGxldCBvdXRsZXQgPSBSZWFjdDIudXNlQ29udGV4dChSb3V0ZUNvbnRleHQpLm91dGxldDtcbiAgcmV0dXJuIFJlYWN0Mi51c2VNZW1vKFxuICAgICgpID0+IG91dGxldCAmJiAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoT3V0bGV0Q29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogY29udGV4dCB9LCBvdXRsZXQpLFxuICAgIFtvdXRsZXQsIGNvbnRleHRdXG4gICk7XG59XG5mdW5jdGlvbiB1c2VQYXJhbXMoKSB7XG4gIGxldCB7IG1hdGNoZXMgfSA9IFJlYWN0Mi51c2VDb250ZXh0KFJvdXRlQ29udGV4dCk7XG4gIGxldCByb3V0ZU1hdGNoID0gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdO1xuICByZXR1cm4gcm91dGVNYXRjaCA/IHJvdXRlTWF0Y2gucGFyYW1zIDoge307XG59XG5mdW5jdGlvbiB1c2VSZXNvbHZlZFBhdGgodG8sIHsgcmVsYXRpdmUgfSA9IHt9KSB7XG4gIGxldCB7IG1hdGNoZXMgfSA9IFJlYWN0Mi51c2VDb250ZXh0KFJvdXRlQ29udGV4dCk7XG4gIGxldCB7IHBhdGhuYW1lOiBsb2NhdGlvblBhdGhuYW1lIH0gPSB1c2VMb2NhdGlvbigpO1xuICBsZXQgcm91dGVQYXRobmFtZXNKc29uID0gSlNPTi5zdHJpbmdpZnkoZ2V0UmVzb2x2ZVRvTWF0Y2hlcyhtYXRjaGVzKSk7XG4gIHJldHVybiBSZWFjdDIudXNlTWVtbyhcbiAgICAoKSA9PiByZXNvbHZlVG8oXG4gICAgICB0byxcbiAgICAgIEpTT04ucGFyc2Uocm91dGVQYXRobmFtZXNKc29uKSxcbiAgICAgIGxvY2F0aW9uUGF0aG5hbWUsXG4gICAgICByZWxhdGl2ZSA9PT0gXCJwYXRoXCJcbiAgICApLFxuICAgIFt0bywgcm91dGVQYXRobmFtZXNKc29uLCBsb2NhdGlvblBhdGhuYW1lLCByZWxhdGl2ZV1cbiAgKTtcbn1cbmZ1bmN0aW9uIHVzZVJvdXRlcyhyb3V0ZXMsIGxvY2F0aW9uQXJnKSB7XG4gIHJldHVybiB1c2VSb3V0ZXNJbXBsKHJvdXRlcywgbG9jYXRpb25BcmcpO1xufVxuZnVuY3Rpb24gdXNlUm91dGVzSW1wbChyb3V0ZXMsIGxvY2F0aW9uQXJnLCBkYXRhUm91dGVyU3RhdGUsIHVuc3RhYmxlX29uRXJyb3IsIGZ1dHVyZSkge1xuICBpbnZhcmlhbnQoXG4gICAgdXNlSW5Sb3V0ZXJDb250ZXh0KCksXG4gICAgLy8gVE9ETzogVGhpcyBlcnJvciBpcyBwcm9iYWJseSBiZWNhdXNlIHRoZXkgc29tZWhvdyBoYXZlIDIgdmVyc2lvbnMgb2YgdGhlXG4gICAgLy8gcm91dGVyIGxvYWRlZC4gV2UgY2FuIGhlbHAgdGhlbSB1bmRlcnN0YW5kIGhvdyB0byBhdm9pZCB0aGF0LlxuICAgIGB1c2VSb3V0ZXMoKSBtYXkgYmUgdXNlZCBvbmx5IGluIHRoZSBjb250ZXh0IG9mIGEgPFJvdXRlcj4gY29tcG9uZW50LmBcbiAgKTtcbiAgbGV0IHsgbmF2aWdhdG9yIH0gPSBSZWFjdDIudXNlQ29udGV4dChOYXZpZ2F0aW9uQ29udGV4dCk7XG4gIGxldCB7IG1hdGNoZXM6IHBhcmVudE1hdGNoZXMgfSA9IFJlYWN0Mi51c2VDb250ZXh0KFJvdXRlQ29udGV4dCk7XG4gIGxldCByb3V0ZU1hdGNoID0gcGFyZW50TWF0Y2hlc1twYXJlbnRNYXRjaGVzLmxlbmd0aCAtIDFdO1xuICBsZXQgcGFyZW50UGFyYW1zID0gcm91dGVNYXRjaCA/IHJvdXRlTWF0Y2gucGFyYW1zIDoge307XG4gIGxldCBwYXJlbnRQYXRobmFtZSA9IHJvdXRlTWF0Y2ggPyByb3V0ZU1hdGNoLnBhdGhuYW1lIDogXCIvXCI7XG4gIGxldCBwYXJlbnRQYXRobmFtZUJhc2UgPSByb3V0ZU1hdGNoID8gcm91dGVNYXRjaC5wYXRobmFtZUJhc2UgOiBcIi9cIjtcbiAgbGV0IHBhcmVudFJvdXRlID0gcm91dGVNYXRjaCAmJiByb3V0ZU1hdGNoLnJvdXRlO1xuICBpZiAoRU5BQkxFX0RFVl9XQVJOSU5HUykge1xuICAgIGxldCBwYXJlbnRQYXRoID0gcGFyZW50Um91dGUgJiYgcGFyZW50Um91dGUucGF0aCB8fCBcIlwiO1xuICAgIHdhcm5pbmdPbmNlKFxuICAgICAgcGFyZW50UGF0aG5hbWUsXG4gICAgICAhcGFyZW50Um91dGUgfHwgcGFyZW50UGF0aC5lbmRzV2l0aChcIipcIikgfHwgcGFyZW50UGF0aC5lbmRzV2l0aChcIio/XCIpLFxuICAgICAgYFlvdSByZW5kZXJlZCBkZXNjZW5kYW50IDxSb3V0ZXM+IChvciBjYWxsZWQgXFxgdXNlUm91dGVzKClcXGApIGF0IFwiJHtwYXJlbnRQYXRobmFtZX1cIiAodW5kZXIgPFJvdXRlIHBhdGg9XCIke3BhcmVudFBhdGh9XCI+KSBidXQgdGhlIHBhcmVudCByb3V0ZSBwYXRoIGhhcyBubyB0cmFpbGluZyBcIipcIi4gVGhpcyBtZWFucyBpZiB5b3UgbmF2aWdhdGUgZGVlcGVyLCB0aGUgcGFyZW50IHdvbid0IG1hdGNoIGFueW1vcmUgYW5kIHRoZXJlZm9yZSB0aGUgY2hpbGQgcm91dGVzIHdpbGwgbmV2ZXIgcmVuZGVyLlxuXG5QbGVhc2UgY2hhbmdlIHRoZSBwYXJlbnQgPFJvdXRlIHBhdGg9XCIke3BhcmVudFBhdGh9XCI+IHRvIDxSb3V0ZSBwYXRoPVwiJHtwYXJlbnRQYXRoID09PSBcIi9cIiA/IFwiKlwiIDogYCR7cGFyZW50UGF0aH0vKmB9XCI+LmBcbiAgICApO1xuICB9XG4gIGxldCBsb2NhdGlvbkZyb21Db250ZXh0ID0gdXNlTG9jYXRpb24oKTtcbiAgbGV0IGxvY2F0aW9uO1xuICBpZiAobG9jYXRpb25BcmcpIHtcbiAgICBsZXQgcGFyc2VkTG9jYXRpb25BcmcgPSB0eXBlb2YgbG9jYXRpb25BcmcgPT09IFwic3RyaW5nXCIgPyBwYXJzZVBhdGgobG9jYXRpb25BcmcpIDogbG9jYXRpb25Bcmc7XG4gICAgaW52YXJpYW50KFxuICAgICAgcGFyZW50UGF0aG5hbWVCYXNlID09PSBcIi9cIiB8fCBwYXJzZWRMb2NhdGlvbkFyZy5wYXRobmFtZT8uc3RhcnRzV2l0aChwYXJlbnRQYXRobmFtZUJhc2UpLFxuICAgICAgYFdoZW4gb3ZlcnJpZGluZyB0aGUgbG9jYXRpb24gdXNpbmcgXFxgPFJvdXRlcyBsb2NhdGlvbj5cXGAgb3IgXFxgdXNlUm91dGVzKHJvdXRlcywgbG9jYXRpb24pXFxgLCB0aGUgbG9jYXRpb24gcGF0aG5hbWUgbXVzdCBiZWdpbiB3aXRoIHRoZSBwb3J0aW9uIG9mIHRoZSBVUkwgcGF0aG5hbWUgdGhhdCB3YXMgbWF0Y2hlZCBieSBhbGwgcGFyZW50IHJvdXRlcy4gVGhlIGN1cnJlbnQgcGF0aG5hbWUgYmFzZSBpcyBcIiR7cGFyZW50UGF0aG5hbWVCYXNlfVwiIGJ1dCBwYXRobmFtZSBcIiR7cGFyc2VkTG9jYXRpb25BcmcucGF0aG5hbWV9XCIgd2FzIGdpdmVuIGluIHRoZSBcXGBsb2NhdGlvblxcYCBwcm9wLmBcbiAgICApO1xuICAgIGxvY2F0aW9uID0gcGFyc2VkTG9jYXRpb25Bcmc7XG4gIH0gZWxzZSB7XG4gICAgbG9jYXRpb24gPSBsb2NhdGlvbkZyb21Db250ZXh0O1xuICB9XG4gIGxldCBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lIHx8IFwiL1wiO1xuICBsZXQgcmVtYWluaW5nUGF0aG5hbWUgPSBwYXRobmFtZTtcbiAgaWYgKHBhcmVudFBhdGhuYW1lQmFzZSAhPT0gXCIvXCIpIHtcbiAgICBsZXQgcGFyZW50U2VnbWVudHMgPSBwYXJlbnRQYXRobmFtZUJhc2UucmVwbGFjZSgvXlxcLy8sIFwiXCIpLnNwbGl0KFwiL1wiKTtcbiAgICBsZXQgc2VnbWVudHMgPSBwYXRobmFtZS5yZXBsYWNlKC9eXFwvLywgXCJcIikuc3BsaXQoXCIvXCIpO1xuICAgIHJlbWFpbmluZ1BhdGhuYW1lID0gXCIvXCIgKyBzZWdtZW50cy5zbGljZShwYXJlbnRTZWdtZW50cy5sZW5ndGgpLmpvaW4oXCIvXCIpO1xuICB9XG4gIGxldCBtYXRjaGVzID0gbWF0Y2hSb3V0ZXMocm91dGVzLCB7IHBhdGhuYW1lOiByZW1haW5pbmdQYXRobmFtZSB9KTtcbiAgaWYgKEVOQUJMRV9ERVZfV0FSTklOR1MpIHtcbiAgICB3YXJuaW5nKFxuICAgICAgcGFyZW50Um91dGUgfHwgbWF0Y2hlcyAhPSBudWxsLFxuICAgICAgYE5vIHJvdXRlcyBtYXRjaGVkIGxvY2F0aW9uIFwiJHtsb2NhdGlvbi5wYXRobmFtZX0ke2xvY2F0aW9uLnNlYXJjaH0ke2xvY2F0aW9uLmhhc2h9XCIgYFxuICAgICk7XG4gICAgd2FybmluZyhcbiAgICAgIG1hdGNoZXMgPT0gbnVsbCB8fCBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0ucm91dGUuZWxlbWVudCAhPT0gdm9pZCAwIHx8IG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXS5yb3V0ZS5Db21wb25lbnQgIT09IHZvaWQgMCB8fCBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0ucm91dGUubGF6eSAhPT0gdm9pZCAwLFxuICAgICAgYE1hdGNoZWQgbGVhZiByb3V0ZSBhdCBsb2NhdGlvbiBcIiR7bG9jYXRpb24ucGF0aG5hbWV9JHtsb2NhdGlvbi5zZWFyY2h9JHtsb2NhdGlvbi5oYXNofVwiIGRvZXMgbm90IGhhdmUgYW4gZWxlbWVudCBvciBDb21wb25lbnQuIFRoaXMgbWVhbnMgaXQgd2lsbCByZW5kZXIgYW4gPE91dGxldCAvPiB3aXRoIGEgbnVsbCB2YWx1ZSBieSBkZWZhdWx0IHJlc3VsdGluZyBpbiBhbiBcImVtcHR5XCIgcGFnZS5gXG4gICAgKTtcbiAgfVxuICBsZXQgcmVuZGVyZWRNYXRjaGVzID0gX3JlbmRlck1hdGNoZXMoXG4gICAgbWF0Y2hlcyAmJiBtYXRjaGVzLm1hcChcbiAgICAgIChtYXRjaCkgPT4gT2JqZWN0LmFzc2lnbih7fSwgbWF0Y2gsIHtcbiAgICAgICAgcGFyYW1zOiBPYmplY3QuYXNzaWduKHt9LCBwYXJlbnRQYXJhbXMsIG1hdGNoLnBhcmFtcyksXG4gICAgICAgIHBhdGhuYW1lOiBqb2luUGF0aHMoW1xuICAgICAgICAgIHBhcmVudFBhdGhuYW1lQmFzZSxcbiAgICAgICAgICAvLyBSZS1lbmNvZGUgcGF0aG5hbWVzIHRoYXQgd2VyZSBkZWNvZGVkIGluc2lkZSBtYXRjaFJvdXRlcy5cbiAgICAgICAgICAvLyBQcmUtZW5jb2RlIGA/YCBhbmQgYCNgIGFoZWFkIG9mIGBlbmNvZGVMb2NhdGlvbmAgYmVjYXVzZSBpdCB1c2VzXG4gICAgICAgICAgLy8gYG5ldyBVUkwoKWAgaW50ZXJuYWxseSBhbmQgd2UgbmVlZCB0byBwcmV2ZW50IGl0IGZyb20gdHJlYXRpbmdcbiAgICAgICAgICAvLyB0aGVtIGFzIHNlcGFyYXRvcnNcbiAgICAgICAgICBuYXZpZ2F0b3IuZW5jb2RlTG9jYXRpb24gPyBuYXZpZ2F0b3IuZW5jb2RlTG9jYXRpb24oXG4gICAgICAgICAgICBtYXRjaC5wYXRobmFtZS5yZXBsYWNlKC9cXD8vZywgXCIlM0ZcIikucmVwbGFjZSgvIy9nLCBcIiUyM1wiKVxuICAgICAgICAgICkucGF0aG5hbWUgOiBtYXRjaC5wYXRobmFtZVxuICAgICAgICBdKSxcbiAgICAgICAgcGF0aG5hbWVCYXNlOiBtYXRjaC5wYXRobmFtZUJhc2UgPT09IFwiL1wiID8gcGFyZW50UGF0aG5hbWVCYXNlIDogam9pblBhdGhzKFtcbiAgICAgICAgICBwYXJlbnRQYXRobmFtZUJhc2UsXG4gICAgICAgICAgLy8gUmUtZW5jb2RlIHBhdGhuYW1lcyB0aGF0IHdlcmUgZGVjb2RlZCBpbnNpZGUgbWF0Y2hSb3V0ZXNcbiAgICAgICAgICAvLyBQcmUtZW5jb2RlIGA/YCBhbmQgYCNgIGFoZWFkIG9mIGBlbmNvZGVMb2NhdGlvbmAgYmVjYXVzZSBpdCB1c2VzXG4gICAgICAgICAgLy8gYG5ldyBVUkwoKWAgaW50ZXJuYWxseSBhbmQgd2UgbmVlZCB0byBwcmV2ZW50IGl0IGZyb20gdHJlYXRpbmdcbiAgICAgICAgICAvLyB0aGVtIGFzIHNlcGFyYXRvcnNcbiAgICAgICAgICBuYXZpZ2F0b3IuZW5jb2RlTG9jYXRpb24gPyBuYXZpZ2F0b3IuZW5jb2RlTG9jYXRpb24oXG4gICAgICAgICAgICBtYXRjaC5wYXRobmFtZUJhc2UucmVwbGFjZSgvXFw/L2csIFwiJTNGXCIpLnJlcGxhY2UoLyMvZywgXCIlMjNcIilcbiAgICAgICAgICApLnBhdGhuYW1lIDogbWF0Y2gucGF0aG5hbWVCYXNlXG4gICAgICAgIF0pXG4gICAgICB9KVxuICAgICksXG4gICAgcGFyZW50TWF0Y2hlcyxcbiAgICBkYXRhUm91dGVyU3RhdGUsXG4gICAgdW5zdGFibGVfb25FcnJvcixcbiAgICBmdXR1cmVcbiAgKTtcbiAgaWYgKGxvY2F0aW9uQXJnICYmIHJlbmRlcmVkTWF0Y2hlcykge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoXG4gICAgICBMb2NhdGlvbkNvbnRleHQuUHJvdmlkZXIsXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgICAgIHBhdGhuYW1lOiBcIi9cIixcbiAgICAgICAgICAgIHNlYXJjaDogXCJcIixcbiAgICAgICAgICAgIGhhc2g6IFwiXCIsXG4gICAgICAgICAgICBzdGF0ZTogbnVsbCxcbiAgICAgICAgICAgIGtleTogXCJkZWZhdWx0XCIsXG4gICAgICAgICAgICAuLi5sb2NhdGlvblxuICAgICAgICAgIH0sXG4gICAgICAgICAgbmF2aWdhdGlvblR5cGU6IFwiUE9QXCIgLyogUG9wICovXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICByZW5kZXJlZE1hdGNoZXNcbiAgICApO1xuICB9XG4gIHJldHVybiByZW5kZXJlZE1hdGNoZXM7XG59XG5mdW5jdGlvbiBEZWZhdWx0RXJyb3JDb21wb25lbnQoKSB7XG4gIGxldCBlcnJvciA9IHVzZVJvdXRlRXJyb3IoKTtcbiAgbGV0IG1lc3NhZ2UgPSBpc1JvdXRlRXJyb3JSZXNwb25zZShlcnJvcikgPyBgJHtlcnJvci5zdGF0dXN9ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gIDogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBKU09OLnN0cmluZ2lmeShlcnJvcik7XG4gIGxldCBzdGFjayA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5zdGFjayA6IG51bGw7XG4gIGxldCBsaWdodGdyZXkgPSBcInJnYmEoMjAwLDIwMCwyMDAsIDAuNSlcIjtcbiAgbGV0IHByZVN0eWxlcyA9IHsgcGFkZGluZzogXCIwLjVyZW1cIiwgYmFja2dyb3VuZENvbG9yOiBsaWdodGdyZXkgfTtcbiAgbGV0IGNvZGVTdHlsZXMgPSB7IHBhZGRpbmc6IFwiMnB4IDRweFwiLCBiYWNrZ3JvdW5kQ29sb3I6IGxpZ2h0Z3JleSB9O1xuICBsZXQgZGV2SW5mbyA9IG51bGw7XG4gIGlmIChFTkFCTEVfREVWX1dBUk5JTkdTKSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIFwiRXJyb3IgaGFuZGxlZCBieSBSZWFjdCBSb3V0ZXIgZGVmYXVsdCBFcnJvckJvdW5kYXJ5OlwiLFxuICAgICAgZXJyb3JcbiAgICApO1xuICAgIGRldkluZm8gPSAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoUmVhY3QyLkZyYWdtZW50LCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoXCJwXCIsIG51bGwsIFwiXFx1ezFGNEJGfSBIZXkgZGV2ZWxvcGVyIFxcdXsxRjQ0Qn1cIiksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChcInBcIiwgbnVsbCwgXCJZb3UgY2FuIHByb3ZpZGUgYSB3YXkgYmV0dGVyIFVYIHRoYW4gdGhpcyB3aGVuIHlvdXIgYXBwIHRocm93cyBlcnJvcnMgYnkgcHJvdmlkaW5nIHlvdXIgb3duIFwiLCAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoXCJjb2RlXCIsIHsgc3R5bGU6IGNvZGVTdHlsZXMgfSwgXCJFcnJvckJvdW5kYXJ5XCIpLCBcIiBvclwiLCBcIiBcIiwgLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFwiY29kZVwiLCB7IHN0eWxlOiBjb2RlU3R5bGVzIH0sIFwiZXJyb3JFbGVtZW50XCIpLCBcIiBwcm9wIG9uIHlvdXIgcm91dGUuXCIpKTtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFJlYWN0Mi5GcmFnbWVudCwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFwiaDJcIiwgbnVsbCwgXCJVbmV4cGVjdGVkIEFwcGxpY2F0aW9uIEVycm9yIVwiKSwgLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFwiaDNcIiwgeyBzdHlsZTogeyBmb250U3R5bGU6IFwiaXRhbGljXCIgfSB9LCBtZXNzYWdlKSwgc3RhY2sgPyAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoXCJwcmVcIiwgeyBzdHlsZTogcHJlU3R5bGVzIH0sIHN0YWNrKSA6IG51bGwsIGRldkluZm8pO1xufVxudmFyIGRlZmF1bHRFcnJvckVsZW1lbnQgPSAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoRGVmYXVsdEVycm9yQ29tcG9uZW50LCBudWxsKTtcbnZhciBSZW5kZXJFcnJvckJvdW5kYXJ5ID0gY2xhc3MgZXh0ZW5kcyBSZWFjdDIuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGxvY2F0aW9uOiBwcm9wcy5sb2NhdGlvbixcbiAgICAgIHJldmFsaWRhdGlvbjogcHJvcHMucmV2YWxpZGF0aW9uLFxuICAgICAgZXJyb3I6IHByb3BzLmVycm9yXG4gICAgfTtcbiAgfVxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKGVycm9yKSB7XG4gICAgcmV0dXJuIHsgZXJyb3IgfTtcbiAgfVxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHByb3BzLCBzdGF0ZSkge1xuICAgIGlmIChzdGF0ZS5sb2NhdGlvbiAhPT0gcHJvcHMubG9jYXRpb24gfHwgc3RhdGUucmV2YWxpZGF0aW9uICE9PSBcImlkbGVcIiAmJiBwcm9wcy5yZXZhbGlkYXRpb24gPT09IFwiaWRsZVwiKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBlcnJvcjogcHJvcHMuZXJyb3IsXG4gICAgICAgIGxvY2F0aW9uOiBwcm9wcy5sb2NhdGlvbixcbiAgICAgICAgcmV2YWxpZGF0aW9uOiBwcm9wcy5yZXZhbGlkYXRpb25cbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBlcnJvcjogcHJvcHMuZXJyb3IgIT09IHZvaWQgMCA/IHByb3BzLmVycm9yIDogc3RhdGUuZXJyb3IsXG4gICAgICBsb2NhdGlvbjogc3RhdGUubG9jYXRpb24sXG4gICAgICByZXZhbGlkYXRpb246IHByb3BzLnJldmFsaWRhdGlvbiB8fCBzdGF0ZS5yZXZhbGlkYXRpb25cbiAgICB9O1xuICB9XG4gIGNvbXBvbmVudERpZENhdGNoKGVycm9yLCBlcnJvckluZm8pIHtcbiAgICBpZiAodGhpcy5wcm9wcy51bnN0YWJsZV9vbkVycm9yKSB7XG4gICAgICB0aGlzLnByb3BzLnVuc3RhYmxlX29uRXJyb3IoZXJyb3IsIGVycm9ySW5mbyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIFwiUmVhY3QgUm91dGVyIGNhdWdodCB0aGUgZm9sbG93aW5nIGVycm9yIGR1cmluZyByZW5kZXJcIixcbiAgICAgICAgZXJyb3JcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5lcnJvciAhPT0gdm9pZCAwID8gLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFJvdXRlQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogdGhpcy5wcm9wcy5yb3V0ZUNvbnRleHQgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFxuICAgICAgUm91dGVFcnJvckNvbnRleHQuUHJvdmlkZXIsXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLmVycm9yLFxuICAgICAgICBjaGlsZHJlbjogdGhpcy5wcm9wcy5jb21wb25lbnRcbiAgICAgIH1cbiAgICApKSA6IHRoaXMucHJvcHMuY2hpbGRyZW47XG4gIH1cbn07XG5mdW5jdGlvbiBSZW5kZXJlZFJvdXRlKHsgcm91dGVDb250ZXh0LCBtYXRjaCwgY2hpbGRyZW4gfSkge1xuICBsZXQgZGF0YVJvdXRlckNvbnRleHQgPSBSZWFjdDIudXNlQ29udGV4dChEYXRhUm91dGVyQ29udGV4dCk7XG4gIGlmIChkYXRhUm91dGVyQ29udGV4dCAmJiBkYXRhUm91dGVyQ29udGV4dC5zdGF0aWMgJiYgZGF0YVJvdXRlckNvbnRleHQuc3RhdGljQ29udGV4dCAmJiAobWF0Y2gucm91dGUuZXJyb3JFbGVtZW50IHx8IG1hdGNoLnJvdXRlLkVycm9yQm91bmRhcnkpKSB7XG4gICAgZGF0YVJvdXRlckNvbnRleHQuc3RhdGljQ29udGV4dC5fZGVlcGVzdFJlbmRlcmVkQm91bmRhcnlJZCA9IG1hdGNoLnJvdXRlLmlkO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoUm91dGVDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiByb3V0ZUNvbnRleHQgfSwgY2hpbGRyZW4pO1xufVxuZnVuY3Rpb24gX3JlbmRlck1hdGNoZXMobWF0Y2hlcywgcGFyZW50TWF0Y2hlcyA9IFtdLCBkYXRhUm91dGVyU3RhdGUgPSBudWxsLCB1bnN0YWJsZV9vbkVycm9yID0gbnVsbCwgZnV0dXJlID0gbnVsbCkge1xuICBpZiAobWF0Y2hlcyA9PSBudWxsKSB7XG4gICAgaWYgKCFkYXRhUm91dGVyU3RhdGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoZGF0YVJvdXRlclN0YXRlLmVycm9ycykge1xuICAgICAgbWF0Y2hlcyA9IGRhdGFSb3V0ZXJTdGF0ZS5tYXRjaGVzO1xuICAgIH0gZWxzZSBpZiAocGFyZW50TWF0Y2hlcy5sZW5ndGggPT09IDAgJiYgIWRhdGFSb3V0ZXJTdGF0ZS5pbml0aWFsaXplZCAmJiBkYXRhUm91dGVyU3RhdGUubWF0Y2hlcy5sZW5ndGggPiAwKSB7XG4gICAgICBtYXRjaGVzID0gZGF0YVJvdXRlclN0YXRlLm1hdGNoZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuICBsZXQgcmVuZGVyZWRNYXRjaGVzID0gbWF0Y2hlcztcbiAgbGV0IGVycm9ycyA9IGRhdGFSb3V0ZXJTdGF0ZT8uZXJyb3JzO1xuICBpZiAoZXJyb3JzICE9IG51bGwpIHtcbiAgICBsZXQgZXJyb3JJbmRleCA9IHJlbmRlcmVkTWF0Y2hlcy5maW5kSW5kZXgoXG4gICAgICAobSkgPT4gbS5yb3V0ZS5pZCAmJiBlcnJvcnM/LlttLnJvdXRlLmlkXSAhPT0gdm9pZCAwXG4gICAgKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICBlcnJvckluZGV4ID49IDAsXG4gICAgICBgQ291bGQgbm90IGZpbmQgYSBtYXRjaGluZyByb3V0ZSBmb3IgZXJyb3JzIG9uIHJvdXRlIElEczogJHtPYmplY3Qua2V5cyhcbiAgICAgICAgZXJyb3JzXG4gICAgICApLmpvaW4oXCIsXCIpfWBcbiAgICApO1xuICAgIHJlbmRlcmVkTWF0Y2hlcyA9IHJlbmRlcmVkTWF0Y2hlcy5zbGljZShcbiAgICAgIDAsXG4gICAgICBNYXRoLm1pbihyZW5kZXJlZE1hdGNoZXMubGVuZ3RoLCBlcnJvckluZGV4ICsgMSlcbiAgICApO1xuICB9XG4gIGxldCByZW5kZXJGYWxsYmFjayA9IGZhbHNlO1xuICBsZXQgZmFsbGJhY2tJbmRleCA9IC0xO1xuICBpZiAoZGF0YVJvdXRlclN0YXRlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZW5kZXJlZE1hdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBtYXRjaCA9IHJlbmRlcmVkTWF0Y2hlc1tpXTtcbiAgICAgIGlmIChtYXRjaC5yb3V0ZS5IeWRyYXRlRmFsbGJhY2sgfHwgbWF0Y2gucm91dGUuaHlkcmF0ZUZhbGxiYWNrRWxlbWVudCkge1xuICAgICAgICBmYWxsYmFja0luZGV4ID0gaTtcbiAgICAgIH1cbiAgICAgIGlmIChtYXRjaC5yb3V0ZS5pZCkge1xuICAgICAgICBsZXQgeyBsb2FkZXJEYXRhLCBlcnJvcnM6IGVycm9yczIgfSA9IGRhdGFSb3V0ZXJTdGF0ZTtcbiAgICAgICAgbGV0IG5lZWRzVG9SdW5Mb2FkZXIgPSBtYXRjaC5yb3V0ZS5sb2FkZXIgJiYgIWxvYWRlckRhdGEuaGFzT3duUHJvcGVydHkobWF0Y2gucm91dGUuaWQpICYmICghZXJyb3JzMiB8fCBlcnJvcnMyW21hdGNoLnJvdXRlLmlkXSA9PT0gdm9pZCAwKTtcbiAgICAgICAgaWYgKG1hdGNoLnJvdXRlLmxhenkgfHwgbmVlZHNUb1J1bkxvYWRlcikge1xuICAgICAgICAgIHJlbmRlckZhbGxiYWNrID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoZmFsbGJhY2tJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICByZW5kZXJlZE1hdGNoZXMgPSByZW5kZXJlZE1hdGNoZXMuc2xpY2UoMCwgZmFsbGJhY2tJbmRleCArIDEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZW5kZXJlZE1hdGNoZXMgPSBbcmVuZGVyZWRNYXRjaGVzWzBdXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlbmRlcmVkTWF0Y2hlcy5yZWR1Y2VSaWdodChcbiAgICAob3V0bGV0LCBtYXRjaCwgaW5kZXgpID0+IHtcbiAgICAgIGxldCBlcnJvcjtcbiAgICAgIGxldCBzaG91bGRSZW5kZXJIeWRyYXRlRmFsbGJhY2sgPSBmYWxzZTtcbiAgICAgIGxldCBlcnJvckVsZW1lbnQgPSBudWxsO1xuICAgICAgbGV0IGh5ZHJhdGVGYWxsYmFja0VsZW1lbnQgPSBudWxsO1xuICAgICAgaWYgKGRhdGFSb3V0ZXJTdGF0ZSkge1xuICAgICAgICBlcnJvciA9IGVycm9ycyAmJiBtYXRjaC5yb3V0ZS5pZCA/IGVycm9yc1ttYXRjaC5yb3V0ZS5pZF0gOiB2b2lkIDA7XG4gICAgICAgIGVycm9yRWxlbWVudCA9IG1hdGNoLnJvdXRlLmVycm9yRWxlbWVudCB8fCBkZWZhdWx0RXJyb3JFbGVtZW50O1xuICAgICAgICBpZiAocmVuZGVyRmFsbGJhY2spIHtcbiAgICAgICAgICBpZiAoZmFsbGJhY2tJbmRleCA8IDAgJiYgaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIHdhcm5pbmdPbmNlKFxuICAgICAgICAgICAgICBcInJvdXRlLWZhbGxiYWNrXCIsXG4gICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICBcIk5vIGBIeWRyYXRlRmFsbGJhY2tgIGVsZW1lbnQgcHJvdmlkZWQgdG8gcmVuZGVyIGR1cmluZyBpbml0aWFsIGh5ZHJhdGlvblwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgc2hvdWxkUmVuZGVySHlkcmF0ZUZhbGxiYWNrID0gdHJ1ZTtcbiAgICAgICAgICAgIGh5ZHJhdGVGYWxsYmFja0VsZW1lbnQgPSBudWxsO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZmFsbGJhY2tJbmRleCA9PT0gaW5kZXgpIHtcbiAgICAgICAgICAgIHNob3VsZFJlbmRlckh5ZHJhdGVGYWxsYmFjayA9IHRydWU7XG4gICAgICAgICAgICBoeWRyYXRlRmFsbGJhY2tFbGVtZW50ID0gbWF0Y2gucm91dGUuaHlkcmF0ZUZhbGxiYWNrRWxlbWVudCB8fCBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGV0IG1hdGNoZXMyID0gcGFyZW50TWF0Y2hlcy5jb25jYXQocmVuZGVyZWRNYXRjaGVzLnNsaWNlKDAsIGluZGV4ICsgMSkpO1xuICAgICAgbGV0IGdldENoaWxkcmVuID0gKCkgPT4ge1xuICAgICAgICBsZXQgY2hpbGRyZW47XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIGNoaWxkcmVuID0gZXJyb3JFbGVtZW50O1xuICAgICAgICB9IGVsc2UgaWYgKHNob3VsZFJlbmRlckh5ZHJhdGVGYWxsYmFjaykge1xuICAgICAgICAgIGNoaWxkcmVuID0gaHlkcmF0ZUZhbGxiYWNrRWxlbWVudDtcbiAgICAgICAgfSBlbHNlIGlmIChtYXRjaC5yb3V0ZS5Db21wb25lbnQpIHtcbiAgICAgICAgICBjaGlsZHJlbiA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChtYXRjaC5yb3V0ZS5Db21wb25lbnQsIG51bGwpO1xuICAgICAgICB9IGVsc2UgaWYgKG1hdGNoLnJvdXRlLmVsZW1lbnQpIHtcbiAgICAgICAgICBjaGlsZHJlbiA9IG1hdGNoLnJvdXRlLmVsZW1lbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hpbGRyZW4gPSBvdXRsZXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBSZW5kZXJlZFJvdXRlLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG1hdGNoLFxuICAgICAgICAgICAgcm91dGVDb250ZXh0OiB7XG4gICAgICAgICAgICAgIG91dGxldCxcbiAgICAgICAgICAgICAgbWF0Y2hlczogbWF0Y2hlczIsXG4gICAgICAgICAgICAgIGlzRGF0YVJvdXRlOiBkYXRhUm91dGVyU3RhdGUgIT0gbnVsbFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBkYXRhUm91dGVyU3RhdGUgJiYgKG1hdGNoLnJvdXRlLkVycm9yQm91bmRhcnkgfHwgbWF0Y2gucm91dGUuZXJyb3JFbGVtZW50IHx8IGluZGV4ID09PSAwKSA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChcbiAgICAgICAgUmVuZGVyRXJyb3JCb3VuZGFyeSxcbiAgICAgICAge1xuICAgICAgICAgIGxvY2F0aW9uOiBkYXRhUm91dGVyU3RhdGUubG9jYXRpb24sXG4gICAgICAgICAgcmV2YWxpZGF0aW9uOiBkYXRhUm91dGVyU3RhdGUucmV2YWxpZGF0aW9uLFxuICAgICAgICAgIGNvbXBvbmVudDogZXJyb3JFbGVtZW50LFxuICAgICAgICAgIGVycm9yLFxuICAgICAgICAgIGNoaWxkcmVuOiBnZXRDaGlsZHJlbigpLFxuICAgICAgICAgIHJvdXRlQ29udGV4dDogeyBvdXRsZXQ6IG51bGwsIG1hdGNoZXM6IG1hdGNoZXMyLCBpc0RhdGFSb3V0ZTogdHJ1ZSB9LFxuICAgICAgICAgIHVuc3RhYmxlX29uRXJyb3JcbiAgICAgICAgfVxuICAgICAgKSA6IGdldENoaWxkcmVuKCk7XG4gICAgfSxcbiAgICBudWxsXG4gICk7XG59XG5mdW5jdGlvbiBnZXREYXRhUm91dGVyQ29uc29sZUVycm9yKGhvb2tOYW1lKSB7XG4gIHJldHVybiBgJHtob29rTmFtZX0gbXVzdCBiZSB1c2VkIHdpdGhpbiBhIGRhdGEgcm91dGVyLiAgU2VlIGh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL2VuL21haW4vcm91dGVycy9waWNraW5nLWEtcm91dGVyLmA7XG59XG5mdW5jdGlvbiB1c2VEYXRhUm91dGVyQ29udGV4dChob29rTmFtZSkge1xuICBsZXQgY3R4ID0gUmVhY3QyLnVzZUNvbnRleHQoRGF0YVJvdXRlckNvbnRleHQpO1xuICBpbnZhcmlhbnQoY3R4LCBnZXREYXRhUm91dGVyQ29uc29sZUVycm9yKGhvb2tOYW1lKSk7XG4gIHJldHVybiBjdHg7XG59XG5mdW5jdGlvbiB1c2VEYXRhUm91dGVyU3RhdGUoaG9va05hbWUpIHtcbiAgbGV0IHN0YXRlID0gUmVhY3QyLnVzZUNvbnRleHQoRGF0YVJvdXRlclN0YXRlQ29udGV4dCk7XG4gIGludmFyaWFudChzdGF0ZSwgZ2V0RGF0YVJvdXRlckNvbnNvbGVFcnJvcihob29rTmFtZSkpO1xuICByZXR1cm4gc3RhdGU7XG59XG5mdW5jdGlvbiB1c2VSb3V0ZUNvbnRleHQoaG9va05hbWUpIHtcbiAgbGV0IHJvdXRlID0gUmVhY3QyLnVzZUNvbnRleHQoUm91dGVDb250ZXh0KTtcbiAgaW52YXJpYW50KHJvdXRlLCBnZXREYXRhUm91dGVyQ29uc29sZUVycm9yKGhvb2tOYW1lKSk7XG4gIHJldHVybiByb3V0ZTtcbn1cbmZ1bmN0aW9uIHVzZUN1cnJlbnRSb3V0ZUlkKGhvb2tOYW1lKSB7XG4gIGxldCByb3V0ZSA9IHVzZVJvdXRlQ29udGV4dChob29rTmFtZSk7XG4gIGxldCB0aGlzUm91dGUgPSByb3V0ZS5tYXRjaGVzW3JvdXRlLm1hdGNoZXMubGVuZ3RoIC0gMV07XG4gIGludmFyaWFudChcbiAgICB0aGlzUm91dGUucm91dGUuaWQsXG4gICAgYCR7aG9va05hbWV9IGNhbiBvbmx5IGJlIHVzZWQgb24gcm91dGVzIHRoYXQgY29udGFpbiBhIHVuaXF1ZSBcImlkXCJgXG4gICk7XG4gIHJldHVybiB0aGlzUm91dGUucm91dGUuaWQ7XG59XG5mdW5jdGlvbiB1c2VSb3V0ZUlkKCkge1xuICByZXR1cm4gdXNlQ3VycmVudFJvdXRlSWQoXCJ1c2VSb3V0ZUlkXCIgLyogVXNlUm91dGVJZCAqLyk7XG59XG5mdW5jdGlvbiB1c2VOYXZpZ2F0aW9uKCkge1xuICBsZXQgc3RhdGUgPSB1c2VEYXRhUm91dGVyU3RhdGUoXCJ1c2VOYXZpZ2F0aW9uXCIgLyogVXNlTmF2aWdhdGlvbiAqLyk7XG4gIHJldHVybiBzdGF0ZS5uYXZpZ2F0aW9uO1xufVxuZnVuY3Rpb24gdXNlUmV2YWxpZGF0b3IoKSB7XG4gIGxldCBkYXRhUm91dGVyQ29udGV4dCA9IHVzZURhdGFSb3V0ZXJDb250ZXh0KFwidXNlUmV2YWxpZGF0b3JcIiAvKiBVc2VSZXZhbGlkYXRvciAqLyk7XG4gIGxldCBzdGF0ZSA9IHVzZURhdGFSb3V0ZXJTdGF0ZShcInVzZVJldmFsaWRhdG9yXCIgLyogVXNlUmV2YWxpZGF0b3IgKi8pO1xuICBsZXQgcmV2YWxpZGF0ZSA9IFJlYWN0Mi51c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgZGF0YVJvdXRlckNvbnRleHQucm91dGVyLnJldmFsaWRhdGUoKTtcbiAgfSwgW2RhdGFSb3V0ZXJDb250ZXh0LnJvdXRlcl0pO1xuICByZXR1cm4gUmVhY3QyLnVzZU1lbW8oXG4gICAgKCkgPT4gKHsgcmV2YWxpZGF0ZSwgc3RhdGU6IHN0YXRlLnJldmFsaWRhdGlvbiB9KSxcbiAgICBbcmV2YWxpZGF0ZSwgc3RhdGUucmV2YWxpZGF0aW9uXVxuICApO1xufVxuZnVuY3Rpb24gdXNlTWF0Y2hlcygpIHtcbiAgbGV0IHsgbWF0Y2hlcywgbG9hZGVyRGF0YSB9ID0gdXNlRGF0YVJvdXRlclN0YXRlKFxuICAgIFwidXNlTWF0Y2hlc1wiIC8qIFVzZU1hdGNoZXMgKi9cbiAgKTtcbiAgcmV0dXJuIFJlYWN0Mi51c2VNZW1vKFxuICAgICgpID0+IG1hdGNoZXMubWFwKChtKSA9PiBjb252ZXJ0Um91dGVNYXRjaFRvVWlNYXRjaChtLCBsb2FkZXJEYXRhKSksXG4gICAgW21hdGNoZXMsIGxvYWRlckRhdGFdXG4gICk7XG59XG5mdW5jdGlvbiB1c2VMb2FkZXJEYXRhKCkge1xuICBsZXQgc3RhdGUgPSB1c2VEYXRhUm91dGVyU3RhdGUoXCJ1c2VMb2FkZXJEYXRhXCIgLyogVXNlTG9hZGVyRGF0YSAqLyk7XG4gIGxldCByb3V0ZUlkID0gdXNlQ3VycmVudFJvdXRlSWQoXCJ1c2VMb2FkZXJEYXRhXCIgLyogVXNlTG9hZGVyRGF0YSAqLyk7XG4gIHJldHVybiBzdGF0ZS5sb2FkZXJEYXRhW3JvdXRlSWRdO1xufVxuZnVuY3Rpb24gdXNlUm91dGVMb2FkZXJEYXRhKHJvdXRlSWQpIHtcbiAgbGV0IHN0YXRlID0gdXNlRGF0YVJvdXRlclN0YXRlKFwidXNlUm91dGVMb2FkZXJEYXRhXCIgLyogVXNlUm91dGVMb2FkZXJEYXRhICovKTtcbiAgcmV0dXJuIHN0YXRlLmxvYWRlckRhdGFbcm91dGVJZF07XG59XG5mdW5jdGlvbiB1c2VBY3Rpb25EYXRhKCkge1xuICBsZXQgc3RhdGUgPSB1c2VEYXRhUm91dGVyU3RhdGUoXCJ1c2VBY3Rpb25EYXRhXCIgLyogVXNlQWN0aW9uRGF0YSAqLyk7XG4gIGxldCByb3V0ZUlkID0gdXNlQ3VycmVudFJvdXRlSWQoXCJ1c2VMb2FkZXJEYXRhXCIgLyogVXNlTG9hZGVyRGF0YSAqLyk7XG4gIHJldHVybiBzdGF0ZS5hY3Rpb25EYXRhID8gc3RhdGUuYWN0aW9uRGF0YVtyb3V0ZUlkXSA6IHZvaWQgMDtcbn1cbmZ1bmN0aW9uIHVzZVJvdXRlRXJyb3IoKSB7XG4gIGxldCBlcnJvciA9IFJlYWN0Mi51c2VDb250ZXh0KFJvdXRlRXJyb3JDb250ZXh0KTtcbiAgbGV0IHN0YXRlID0gdXNlRGF0YVJvdXRlclN0YXRlKFwidXNlUm91dGVFcnJvclwiIC8qIFVzZVJvdXRlRXJyb3IgKi8pO1xuICBsZXQgcm91dGVJZCA9IHVzZUN1cnJlbnRSb3V0ZUlkKFwidXNlUm91dGVFcnJvclwiIC8qIFVzZVJvdXRlRXJyb3IgKi8pO1xuICBpZiAoZXJyb3IgIT09IHZvaWQgMCkge1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxuICByZXR1cm4gc3RhdGUuZXJyb3JzPy5bcm91dGVJZF07XG59XG5mdW5jdGlvbiB1c2VBc3luY1ZhbHVlKCkge1xuICBsZXQgdmFsdWUgPSBSZWFjdDIudXNlQ29udGV4dChBd2FpdENvbnRleHQpO1xuICByZXR1cm4gdmFsdWU/Ll9kYXRhO1xufVxuZnVuY3Rpb24gdXNlQXN5bmNFcnJvcigpIHtcbiAgbGV0IHZhbHVlID0gUmVhY3QyLnVzZUNvbnRleHQoQXdhaXRDb250ZXh0KTtcbiAgcmV0dXJuIHZhbHVlPy5fZXJyb3I7XG59XG52YXIgYmxvY2tlcklkID0gMDtcbmZ1bmN0aW9uIHVzZUJsb2NrZXIoc2hvdWxkQmxvY2spIHtcbiAgbGV0IHsgcm91dGVyLCBiYXNlbmFtZSB9ID0gdXNlRGF0YVJvdXRlckNvbnRleHQoXCJ1c2VCbG9ja2VyXCIgLyogVXNlQmxvY2tlciAqLyk7XG4gIGxldCBzdGF0ZSA9IHVzZURhdGFSb3V0ZXJTdGF0ZShcInVzZUJsb2NrZXJcIiAvKiBVc2VCbG9ja2VyICovKTtcbiAgbGV0IFtibG9ja2VyS2V5LCBzZXRCbG9ja2VyS2V5XSA9IFJlYWN0Mi51c2VTdGF0ZShcIlwiKTtcbiAgbGV0IGJsb2NrZXJGdW5jdGlvbiA9IFJlYWN0Mi51c2VDYWxsYmFjayhcbiAgICAoYXJnKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHNob3VsZEJsb2NrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuICEhc2hvdWxkQmxvY2s7XG4gICAgICB9XG4gICAgICBpZiAoYmFzZW5hbWUgPT09IFwiL1wiKSB7XG4gICAgICAgIHJldHVybiBzaG91bGRCbG9jayhhcmcpO1xuICAgICAgfVxuICAgICAgbGV0IHsgY3VycmVudExvY2F0aW9uLCBuZXh0TG9jYXRpb24sIGhpc3RvcnlBY3Rpb24gfSA9IGFyZztcbiAgICAgIHJldHVybiBzaG91bGRCbG9jayh7XG4gICAgICAgIGN1cnJlbnRMb2NhdGlvbjoge1xuICAgICAgICAgIC4uLmN1cnJlbnRMb2NhdGlvbixcbiAgICAgICAgICBwYXRobmFtZTogc3RyaXBCYXNlbmFtZShjdXJyZW50TG9jYXRpb24ucGF0aG5hbWUsIGJhc2VuYW1lKSB8fCBjdXJyZW50TG9jYXRpb24ucGF0aG5hbWVcbiAgICAgICAgfSxcbiAgICAgICAgbmV4dExvY2F0aW9uOiB7XG4gICAgICAgICAgLi4ubmV4dExvY2F0aW9uLFxuICAgICAgICAgIHBhdGhuYW1lOiBzdHJpcEJhc2VuYW1lKG5leHRMb2NhdGlvbi5wYXRobmFtZSwgYmFzZW5hbWUpIHx8IG5leHRMb2NhdGlvbi5wYXRobmFtZVxuICAgICAgICB9LFxuICAgICAgICBoaXN0b3J5QWN0aW9uXG4gICAgICB9KTtcbiAgICB9LFxuICAgIFtiYXNlbmFtZSwgc2hvdWxkQmxvY2tdXG4gICk7XG4gIFJlYWN0Mi51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBrZXkgPSBTdHJpbmcoKytibG9ja2VySWQpO1xuICAgIHNldEJsb2NrZXJLZXkoa2V5KTtcbiAgICByZXR1cm4gKCkgPT4gcm91dGVyLmRlbGV0ZUJsb2NrZXIoa2V5KTtcbiAgfSwgW3JvdXRlcl0pO1xuICBSZWFjdDIudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYmxvY2tlcktleSAhPT0gXCJcIikge1xuICAgICAgcm91dGVyLmdldEJsb2NrZXIoYmxvY2tlcktleSwgYmxvY2tlckZ1bmN0aW9uKTtcbiAgICB9XG4gIH0sIFtyb3V0ZXIsIGJsb2NrZXJLZXksIGJsb2NrZXJGdW5jdGlvbl0pO1xuICByZXR1cm4gYmxvY2tlcktleSAmJiBzdGF0ZS5ibG9ja2Vycy5oYXMoYmxvY2tlcktleSkgPyBzdGF0ZS5ibG9ja2Vycy5nZXQoYmxvY2tlcktleSkgOiBJRExFX0JMT0NLRVI7XG59XG5mdW5jdGlvbiB1c2VOYXZpZ2F0ZVN0YWJsZSgpIHtcbiAgbGV0IHsgcm91dGVyIH0gPSB1c2VEYXRhUm91dGVyQ29udGV4dChcInVzZU5hdmlnYXRlXCIgLyogVXNlTmF2aWdhdGVTdGFibGUgKi8pO1xuICBsZXQgaWQgPSB1c2VDdXJyZW50Um91dGVJZChcInVzZU5hdmlnYXRlXCIgLyogVXNlTmF2aWdhdGVTdGFibGUgKi8pO1xuICBsZXQgYWN0aXZlUmVmID0gUmVhY3QyLnVzZVJlZihmYWxzZSk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGFjdGl2ZVJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgfSk7XG4gIGxldCBuYXZpZ2F0ZSA9IFJlYWN0Mi51c2VDYWxsYmFjayhcbiAgICBhc3luYyAodG8sIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgICAgd2FybmluZyhhY3RpdmVSZWYuY3VycmVudCwgbmF2aWdhdGVFZmZlY3RXYXJuaW5nKTtcbiAgICAgIGlmICghYWN0aXZlUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICAgIGlmICh0eXBlb2YgdG8gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgcm91dGVyLm5hdmlnYXRlKHRvKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF3YWl0IHJvdXRlci5uYXZpZ2F0ZSh0bywgeyBmcm9tUm91dGVJZDogaWQsIC4uLm9wdGlvbnMgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbcm91dGVyLCBpZF1cbiAgKTtcbiAgcmV0dXJuIG5hdmlnYXRlO1xufVxudmFyIGFscmVhZHlXYXJuZWQgPSB7fTtcbmZ1bmN0aW9uIHdhcm5pbmdPbmNlKGtleSwgY29uZCwgbWVzc2FnZSkge1xuICBpZiAoIWNvbmQgJiYgIWFscmVhZHlXYXJuZWRba2V5XSkge1xuICAgIGFscmVhZHlXYXJuZWRba2V5XSA9IHRydWU7XG4gICAgd2FybmluZyhmYWxzZSwgbWVzc2FnZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHVzZVJvdXRlKC4uLmFyZ3MpIHtcbiAgY29uc3QgY3VycmVudFJvdXRlSWQgPSB1c2VDdXJyZW50Um91dGVJZChcbiAgICBcInVzZVJvdXRlXCIgLyogVXNlUm91dGUgKi9cbiAgKTtcbiAgY29uc3QgaWQgPSBhcmdzWzBdID8/IGN1cnJlbnRSb3V0ZUlkO1xuICBjb25zdCBzdGF0ZSA9IHVzZURhdGFSb3V0ZXJTdGF0ZShcInVzZVJvdXRlXCIgLyogVXNlUm91dGUgKi8pO1xuICBjb25zdCByb3V0ZSA9IHN0YXRlLm1hdGNoZXMuZmluZCgoeyByb3V0ZTogcm91dGUyIH0pID0+IHJvdXRlMi5pZCA9PT0gaWQpO1xuICBpZiAocm91dGUgPT09IHZvaWQgMCkgcmV0dXJuIHZvaWQgMDtcbiAgcmV0dXJuIHtcbiAgICBoYW5kbGU6IHJvdXRlLnJvdXRlLmhhbmRsZSxcbiAgICBsb2FkZXJEYXRhOiBzdGF0ZS5sb2FkZXJEYXRhW2lkXSxcbiAgICBhY3Rpb25EYXRhOiBzdGF0ZS5hY3Rpb25EYXRhPy5baWRdXG4gIH07XG59XG5cbi8vIGxpYi9jb21wb25lbnRzLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QzIGZyb20gXCJyZWFjdFwiO1xuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvd2FybmluZ3MudHNcbnZhciBhbHJlYWR5V2FybmVkMiA9IHt9O1xuZnVuY3Rpb24gd2Fybk9uY2UoY29uZGl0aW9uLCBtZXNzYWdlKSB7XG4gIGlmICghY29uZGl0aW9uICYmICFhbHJlYWR5V2FybmVkMlttZXNzYWdlXSkge1xuICAgIGFscmVhZHlXYXJuZWQyW21lc3NhZ2VdID0gdHJ1ZTtcbiAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gIH1cbn1cblxuLy8gbGliL2NvbXBvbmVudHMudHN4XG5mdW5jdGlvbiBtYXBSb3V0ZVByb3BlcnRpZXMocm91dGUpIHtcbiAgbGV0IHVwZGF0ZXMgPSB7XG4gICAgLy8gTm90ZTogdGhpcyBjaGVjayBhbHNvIG9jY3VycyBpbiBjcmVhdGVSb3V0ZXNGcm9tQ2hpbGRyZW4gc28gdXBkYXRlXG4gICAgLy8gdGhlcmUgaWYgeW91IGNoYW5nZSB0aGlzIC0tIHBsZWFzZSBhbmQgdGhhbmsgeW91IVxuICAgIGhhc0Vycm9yQm91bmRhcnk6IHJvdXRlLmhhc0Vycm9yQm91bmRhcnkgfHwgcm91dGUuRXJyb3JCb3VuZGFyeSAhPSBudWxsIHx8IHJvdXRlLmVycm9yRWxlbWVudCAhPSBudWxsXG4gIH07XG4gIGlmIChyb3V0ZS5Db21wb25lbnQpIHtcbiAgICBpZiAoRU5BQkxFX0RFVl9XQVJOSU5HUykge1xuICAgICAgaWYgKHJvdXRlLmVsZW1lbnQpIHtcbiAgICAgICAgd2FybmluZyhcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBcIllvdSBzaG91bGQgbm90IGluY2x1ZGUgYm90aCBgQ29tcG9uZW50YCBhbmQgYGVsZW1lbnRgIG9uIHlvdXIgcm91dGUgLSBgQ29tcG9uZW50YCB3aWxsIGJlIHVzZWQuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgT2JqZWN0LmFzc2lnbih1cGRhdGVzLCB7XG4gICAgICBlbGVtZW50OiBSZWFjdDMuY3JlYXRlRWxlbWVudChyb3V0ZS5Db21wb25lbnQpLFxuICAgICAgQ29tcG9uZW50OiB2b2lkIDBcbiAgICB9KTtcbiAgfVxuICBpZiAocm91dGUuSHlkcmF0ZUZhbGxiYWNrKSB7XG4gICAgaWYgKEVOQUJMRV9ERVZfV0FSTklOR1MpIHtcbiAgICAgIGlmIChyb3V0ZS5oeWRyYXRlRmFsbGJhY2tFbGVtZW50KSB7XG4gICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgXCJZb3Ugc2hvdWxkIG5vdCBpbmNsdWRlIGJvdGggYEh5ZHJhdGVGYWxsYmFja2AgYW5kIGBoeWRyYXRlRmFsbGJhY2tFbGVtZW50YCBvbiB5b3VyIHJvdXRlIC0gYEh5ZHJhdGVGYWxsYmFja2Agd2lsbCBiZSB1c2VkLlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIE9iamVjdC5hc3NpZ24odXBkYXRlcywge1xuICAgICAgaHlkcmF0ZUZhbGxiYWNrRWxlbWVudDogUmVhY3QzLmNyZWF0ZUVsZW1lbnQocm91dGUuSHlkcmF0ZUZhbGxiYWNrKSxcbiAgICAgIEh5ZHJhdGVGYWxsYmFjazogdm9pZCAwXG4gICAgfSk7XG4gIH1cbiAgaWYgKHJvdXRlLkVycm9yQm91bmRhcnkpIHtcbiAgICBpZiAoRU5BQkxFX0RFVl9XQVJOSU5HUykge1xuICAgICAgaWYgKHJvdXRlLmVycm9yRWxlbWVudCkge1xuICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIFwiWW91IHNob3VsZCBub3QgaW5jbHVkZSBib3RoIGBFcnJvckJvdW5kYXJ5YCBhbmQgYGVycm9yRWxlbWVudGAgb24geW91ciByb3V0ZSAtIGBFcnJvckJvdW5kYXJ5YCB3aWxsIGJlIHVzZWQuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgT2JqZWN0LmFzc2lnbih1cGRhdGVzLCB7XG4gICAgICBlcnJvckVsZW1lbnQ6IFJlYWN0My5jcmVhdGVFbGVtZW50KHJvdXRlLkVycm9yQm91bmRhcnkpLFxuICAgICAgRXJyb3JCb3VuZGFyeTogdm9pZCAwXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHVwZGF0ZXM7XG59XG52YXIgaHlkcmF0aW9uUm91dGVQcm9wZXJ0aWVzID0gW1xuICBcIkh5ZHJhdGVGYWxsYmFja1wiLFxuICBcImh5ZHJhdGVGYWxsYmFja0VsZW1lbnRcIlxuXTtcbmZ1bmN0aW9uIGNyZWF0ZU1lbW9yeVJvdXRlcihyb3V0ZXMsIG9wdHMpIHtcbiAgcmV0dXJuIGNyZWF0ZVJvdXRlcih7XG4gICAgYmFzZW5hbWU6IG9wdHM/LmJhc2VuYW1lLFxuICAgIGdldENvbnRleHQ6IG9wdHM/LmdldENvbnRleHQsXG4gICAgZnV0dXJlOiBvcHRzPy5mdXR1cmUsXG4gICAgaGlzdG9yeTogY3JlYXRlTWVtb3J5SGlzdG9yeSh7XG4gICAgICBpbml0aWFsRW50cmllczogb3B0cz8uaW5pdGlhbEVudHJpZXMsXG4gICAgICBpbml0aWFsSW5kZXg6IG9wdHM/LmluaXRpYWxJbmRleFxuICAgIH0pLFxuICAgIGh5ZHJhdGlvbkRhdGE6IG9wdHM/Lmh5ZHJhdGlvbkRhdGEsXG4gICAgcm91dGVzLFxuICAgIGh5ZHJhdGlvblJvdXRlUHJvcGVydGllcyxcbiAgICBtYXBSb3V0ZVByb3BlcnRpZXMsXG4gICAgZGF0YVN0cmF0ZWd5OiBvcHRzPy5kYXRhU3RyYXRlZ3ksXG4gICAgcGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb246IG9wdHM/LnBhdGNoUm91dGVzT25OYXZpZ2F0aW9uLFxuICAgIHVuc3RhYmxlX2luc3RydW1lbnRhdGlvbnM6IG9wdHM/LnVuc3RhYmxlX2luc3RydW1lbnRhdGlvbnNcbiAgfSkuaW5pdGlhbGl6ZSgpO1xufVxudmFyIERlZmVycmVkID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnN0YXR1cyA9IFwicGVuZGluZ1wiO1xuICAgIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMucmVzb2x2ZSA9ICh2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IFwicGVuZGluZ1wiKSB7XG4gICAgICAgICAgdGhpcy5zdGF0dXMgPSBcInJlc29sdmVkXCI7XG4gICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB0aGlzLnJlamVjdCA9IChyZWFzb24pID0+IHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBcInBlbmRpbmdcIikge1xuICAgICAgICAgIHRoaXMuc3RhdHVzID0gXCJyZWplY3RlZFwiO1xuICAgICAgICAgIHJlamVjdChyZWFzb24pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG59O1xuZnVuY3Rpb24gc2hhbGxvd0RpZmYoYSwgYikge1xuICBpZiAoYSA9PT0gYikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBsZXQgYUtleXMgPSBPYmplY3Qua2V5cyhhKTtcbiAgbGV0IGJLZXlzID0gT2JqZWN0LmtleXMoYik7XG4gIGlmIChhS2V5cy5sZW5ndGggIT09IGJLZXlzLmxlbmd0aCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGZvciAobGV0IGtleSBvZiBhS2V5cykge1xuICAgIGlmIChhW2tleV0gIT09IGJba2V5XSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIFVOU1RBQkxFX1RyYW5zaXRpb25FbmFibGVkUm91dGVyUHJvdmlkZXIoe1xuICByb3V0ZXIsXG4gIGZsdXNoU3luYzogcmVhY3REb21GbHVzaFN5bmNJbXBsLFxuICB1bnN0YWJsZV9vbkVycm9yXG59KSB7XG4gIGxldCBmZXRjaGVyRGF0YSA9IFJlYWN0My51c2VSZWYoLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSk7XG4gIGxldCBbcmV2YWxpZGF0aW5nLCBzdGFydFJldmFsaWRhdGlvbl0gPSBSZWFjdDMudXNlVHJhbnNpdGlvbigpO1xuICBsZXQgW3N0YXRlLCBzZXRTdGF0ZV0gPSBSZWFjdDMudXNlU3RhdGUocm91dGVyLnN0YXRlKTtcbiAgcm91dGVyLl9fc2V0UGVuZGluZ1JlcmVuZGVyID0gKHByb21pc2UpID0+IHN0YXJ0UmV2YWxpZGF0aW9uKFxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBuZWVkIHJlYWN0IDE5IHR5cGVzIGZvciB0aGlzIHRvIGJlIGFzeW5jXG4gICAgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVyZW5kZXIgPSBhd2FpdCBwcm9taXNlO1xuICAgICAgc3RhcnRSZXZhbGlkYXRpb24oKCkgPT4ge1xuICAgICAgICByZXJlbmRlcigpO1xuICAgICAgfSk7XG4gICAgfVxuICApO1xuICBsZXQgbmF2aWdhdG9yID0gUmVhY3QzLnVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBjcmVhdGVIcmVmOiByb3V0ZXIuY3JlYXRlSHJlZixcbiAgICAgIGVuY29kZUxvY2F0aW9uOiByb3V0ZXIuZW5jb2RlTG9jYXRpb24sXG4gICAgICBnbzogKG4pID0+IHJvdXRlci5uYXZpZ2F0ZShuKSxcbiAgICAgIHB1c2g6ICh0bywgc3RhdGUyLCBvcHRzKSA9PiByb3V0ZXIubmF2aWdhdGUodG8sIHtcbiAgICAgICAgc3RhdGU6IHN0YXRlMixcbiAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0OiBvcHRzPy5wcmV2ZW50U2Nyb2xsUmVzZXRcbiAgICAgIH0pLFxuICAgICAgcmVwbGFjZTogKHRvLCBzdGF0ZTIsIG9wdHMpID0+IHJvdXRlci5uYXZpZ2F0ZSh0bywge1xuICAgICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgICBzdGF0ZTogc3RhdGUyLFxuICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQ6IG9wdHM/LnByZXZlbnRTY3JvbGxSZXNldFxuICAgICAgfSlcbiAgICB9O1xuICB9LCBbcm91dGVyXSk7XG4gIGxldCBiYXNlbmFtZSA9IHJvdXRlci5iYXNlbmFtZSB8fCBcIi9cIjtcbiAgbGV0IGRhdGFSb3V0ZXJDb250ZXh0ID0gUmVhY3QzLnVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIHJvdXRlcixcbiAgICAgIG5hdmlnYXRvcixcbiAgICAgIHN0YXRpYzogZmFsc2UsXG4gICAgICBiYXNlbmFtZSxcbiAgICAgIHVuc3RhYmxlX29uRXJyb3JcbiAgICB9KSxcbiAgICBbcm91dGVyLCBuYXZpZ2F0b3IsIGJhc2VuYW1lLCB1bnN0YWJsZV9vbkVycm9yXVxuICApO1xuICBSZWFjdDMudXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gcm91dGVyLnN1YnNjcmliZShcbiAgICAgIChuZXdTdGF0ZSwgeyBkZWxldGVkRmV0Y2hlcnMsIGZsdXNoU3luYywgdmlld1RyYW5zaXRpb25PcHRzIH0pID0+IHtcbiAgICAgICAgbmV3U3RhdGUuZmV0Y2hlcnMuZm9yRWFjaCgoZmV0Y2hlciwga2V5KSA9PiB7XG4gICAgICAgICAgaWYgKGZldGNoZXIuZGF0YSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBmZXRjaGVyRGF0YS5jdXJyZW50LnNldChrZXksIGZldGNoZXIuZGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZGVsZXRlZEZldGNoZXJzLmZvckVhY2goKGtleSkgPT4gZmV0Y2hlckRhdGEuY3VycmVudC5kZWxldGUoa2V5KSk7XG4gICAgICAgIGNvbnN0IGRpZmYgPSBzaGFsbG93RGlmZihzdGF0ZSwgbmV3U3RhdGUpO1xuICAgICAgICBpZiAoIWRpZmYpIHJldHVybjtcbiAgICAgICAgaWYgKGZsdXNoU3luYykge1xuICAgICAgICAgIGlmIChyZWFjdERvbUZsdXNoU3luY0ltcGwpIHtcbiAgICAgICAgICAgIHJlYWN0RG9tRmx1c2hTeW5jSW1wbCgoKSA9PiBzZXRTdGF0ZShuZXdTdGF0ZSkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRTdGF0ZShuZXdTdGF0ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIFJlYWN0My5zdGFydFRyYW5zaXRpb24oKCkgPT4ge1xuICAgICAgICAgICAgc2V0U3RhdGUobmV3U3RhdGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgfSwgW3JvdXRlciwgcmVhY3REb21GbHVzaFN5bmNJbXBsLCBzdGF0ZV0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KFJlYWN0My5GcmFnbWVudCwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KERhdGFSb3V0ZXJDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBkYXRhUm91dGVyQ29udGV4dCB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoXG4gICAgRGF0YVJvdXRlclN0YXRlQ29udGV4dC5Qcm92aWRlcixcbiAgICB7XG4gICAgICB2YWx1ZToge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgcmV2YWxpZGF0aW9uOiByZXZhbGlkYXRpbmcgPyBcImxvYWRpbmdcIiA6IHN0YXRlLnJldmFsaWRhdGlvblxuICAgICAgfVxuICAgIH0sXG4gICAgLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KEZldGNoZXJzQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogZmV0Y2hlckRhdGEuY3VycmVudCB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoXG4gICAgICBSb3V0ZXIsXG4gICAgICB7XG4gICAgICAgIGJhc2VuYW1lLFxuICAgICAgICBsb2NhdGlvbjogc3RhdGUubG9jYXRpb24sXG4gICAgICAgIG5hdmlnYXRpb25UeXBlOiBzdGF0ZS5oaXN0b3J5QWN0aW9uLFxuICAgICAgICBuYXZpZ2F0b3JcbiAgICAgIH0sXG4gICAgICAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIE1lbW9pemVkRGF0YVJvdXRlcyxcbiAgICAgICAge1xuICAgICAgICAgIHJvdXRlczogcm91dGVyLnJvdXRlcyxcbiAgICAgICAgICBmdXR1cmU6IHJvdXRlci5mdXR1cmUsXG4gICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgdW5zdGFibGVfb25FcnJvclxuICAgICAgICB9XG4gICAgICApXG4gICAgKSlcbiAgKSksIG51bGwpO1xufVxuZnVuY3Rpb24gUm91dGVyUHJvdmlkZXIoe1xuICByb3V0ZXIsXG4gIGZsdXNoU3luYzogcmVhY3REb21GbHVzaFN5bmNJbXBsLFxuICB1bnN0YWJsZV9vbkVycm9yXG59KSB7XG4gIGxldCBbc3RhdGUsIHNldFN0YXRlSW1wbF0gPSBSZWFjdDMudXNlU3RhdGUocm91dGVyLnN0YXRlKTtcbiAgbGV0IFtwZW5kaW5nU3RhdGUsIHNldFBlbmRpbmdTdGF0ZV0gPSBSZWFjdDMudXNlU3RhdGUoKTtcbiAgbGV0IFt2dENvbnRleHQsIHNldFZ0Q29udGV4dF0gPSBSZWFjdDMudXNlU3RhdGUoe1xuICAgIGlzVHJhbnNpdGlvbmluZzogZmFsc2VcbiAgfSk7XG4gIGxldCBbcmVuZGVyRGZkLCBzZXRSZW5kZXJEZmRdID0gUmVhY3QzLnVzZVN0YXRlKCk7XG4gIGxldCBbdHJhbnNpdGlvbiwgc2V0VHJhbnNpdGlvbl0gPSBSZWFjdDMudXNlU3RhdGUoKTtcbiAgbGV0IFtpbnRlcnJ1cHRpb24sIHNldEludGVycnVwdGlvbl0gPSBSZWFjdDMudXNlU3RhdGUoKTtcbiAgbGV0IGZldGNoZXJEYXRhID0gUmVhY3QzLnVzZVJlZigvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpKTtcbiAgbGV0IGxvZ0Vycm9yc0FuZFNldFN0YXRlID0gUmVhY3QzLnVzZUNhbGxiYWNrKFxuICAgIChuZXdTdGF0ZSkgPT4ge1xuICAgICAgc2V0U3RhdGVJbXBsKChwcmV2U3RhdGUpID0+IHtcbiAgICAgICAgaWYgKG5ld1N0YXRlLmVycm9ycyAmJiB1bnN0YWJsZV9vbkVycm9yKSB7XG4gICAgICAgICAgT2JqZWN0LmVudHJpZXMobmV3U3RhdGUuZXJyb3JzKS5mb3JFYWNoKChbcm91dGVJZCwgZXJyb3JdKSA9PiB7XG4gICAgICAgICAgICBpZiAocHJldlN0YXRlLmVycm9ycz8uW3JvdXRlSWRdICE9PSBlcnJvcikge1xuICAgICAgICAgICAgICB1bnN0YWJsZV9vbkVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIFt1bnN0YWJsZV9vbkVycm9yXVxuICApO1xuICBsZXQgc2V0U3RhdGUgPSBSZWFjdDMudXNlQ2FsbGJhY2soXG4gICAgKG5ld1N0YXRlLCB7IGRlbGV0ZWRGZXRjaGVycywgZmx1c2hTeW5jLCB2aWV3VHJhbnNpdGlvbk9wdHMgfSkgPT4ge1xuICAgICAgbmV3U3RhdGUuZmV0Y2hlcnMuZm9yRWFjaCgoZmV0Y2hlciwga2V5KSA9PiB7XG4gICAgICAgIGlmIChmZXRjaGVyLmRhdGEgIT09IHZvaWQgMCkge1xuICAgICAgICAgIGZldGNoZXJEYXRhLmN1cnJlbnQuc2V0KGtleSwgZmV0Y2hlci5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBkZWxldGVkRmV0Y2hlcnMuZm9yRWFjaCgoa2V5KSA9PiBmZXRjaGVyRGF0YS5jdXJyZW50LmRlbGV0ZShrZXkpKTtcbiAgICAgIHdhcm5PbmNlKFxuICAgICAgICBmbHVzaFN5bmMgPT09IGZhbHNlIHx8IHJlYWN0RG9tRmx1c2hTeW5jSW1wbCAhPSBudWxsLFxuICAgICAgICAnWW91IHByb3ZpZGVkIHRoZSBgZmx1c2hTeW5jYCBvcHRpb24gdG8gYSByb3V0ZXIgdXBkYXRlLCBidXQgeW91IGFyZSBub3QgdXNpbmcgdGhlIGA8Um91dGVyUHJvdmlkZXI+YCBmcm9tIGByZWFjdC1yb3V0ZXIvZG9tYCBzbyBgUmVhY3RET00uZmx1c2hTeW5jKClgIGlzIHVuYXZhaWxhYmxlLiAgUGxlYXNlIHVwZGF0ZSB5b3VyIGFwcCB0byBgaW1wb3J0IHsgUm91dGVyUHJvdmlkZXIgfSBmcm9tIFwicmVhY3Qtcm91dGVyL2RvbVwiYCBhbmQgZW5zdXJlIHlvdSBoYXZlIGByZWFjdC1kb21gIGluc3RhbGxlZCBhcyBhIGRlcGVuZGVuY3kgdG8gdXNlIHRoZSBgZmx1c2hTeW5jYCBvcHRpb24uJ1xuICAgICAgKTtcbiAgICAgIGxldCBpc1ZpZXdUcmFuc2l0aW9uQXZhaWxhYmxlID0gcm91dGVyLndpbmRvdyAhPSBudWxsICYmIHJvdXRlci53aW5kb3cuZG9jdW1lbnQgIT0gbnVsbCAmJiB0eXBlb2Ygcm91dGVyLndpbmRvdy5kb2N1bWVudC5zdGFydFZpZXdUcmFuc2l0aW9uID09PSBcImZ1bmN0aW9uXCI7XG4gICAgICB3YXJuT25jZShcbiAgICAgICAgdmlld1RyYW5zaXRpb25PcHRzID09IG51bGwgfHwgaXNWaWV3VHJhbnNpdGlvbkF2YWlsYWJsZSxcbiAgICAgICAgXCJZb3UgcHJvdmlkZWQgdGhlIGB2aWV3VHJhbnNpdGlvbmAgb3B0aW9uIHRvIGEgcm91dGVyIHVwZGF0ZSwgYnV0IHlvdSBkbyBub3QgYXBwZWFyIHRvIGJlIHJ1bm5pbmcgaW4gYSBET00gZW52aXJvbm1lbnQgYXMgYHdpbmRvdy5zdGFydFZpZXdUcmFuc2l0aW9uYCBpcyBub3QgYXZhaWxhYmxlLlwiXG4gICAgICApO1xuICAgICAgaWYgKCF2aWV3VHJhbnNpdGlvbk9wdHMgfHwgIWlzVmlld1RyYW5zaXRpb25BdmFpbGFibGUpIHtcbiAgICAgICAgaWYgKHJlYWN0RG9tRmx1c2hTeW5jSW1wbCAmJiBmbHVzaFN5bmMpIHtcbiAgICAgICAgICByZWFjdERvbUZsdXNoU3luY0ltcGwoKCkgPT4gbG9nRXJyb3JzQW5kU2V0U3RhdGUobmV3U3RhdGUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBSZWFjdDMuc3RhcnRUcmFuc2l0aW9uKCgpID0+IGxvZ0Vycm9yc0FuZFNldFN0YXRlKG5ld1N0YXRlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHJlYWN0RG9tRmx1c2hTeW5jSW1wbCAmJiBmbHVzaFN5bmMpIHtcbiAgICAgICAgcmVhY3REb21GbHVzaFN5bmNJbXBsKCgpID0+IHtcbiAgICAgICAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgICAgICAgcmVuZGVyRGZkICYmIHJlbmRlckRmZC5yZXNvbHZlKCk7XG4gICAgICAgICAgICB0cmFuc2l0aW9uLnNraXBUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldFZ0Q29udGV4dCh7XG4gICAgICAgICAgICBpc1RyYW5zaXRpb25pbmc6IHRydWUsXG4gICAgICAgICAgICBmbHVzaFN5bmM6IHRydWUsXG4gICAgICAgICAgICBjdXJyZW50TG9jYXRpb246IHZpZXdUcmFuc2l0aW9uT3B0cy5jdXJyZW50TG9jYXRpb24sXG4gICAgICAgICAgICBuZXh0TG9jYXRpb246IHZpZXdUcmFuc2l0aW9uT3B0cy5uZXh0TG9jYXRpb25cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCB0ID0gcm91dGVyLndpbmRvdy5kb2N1bWVudC5zdGFydFZpZXdUcmFuc2l0aW9uKCgpID0+IHtcbiAgICAgICAgICByZWFjdERvbUZsdXNoU3luY0ltcGwoKCkgPT4gbG9nRXJyb3JzQW5kU2V0U3RhdGUobmV3U3RhdGUpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHQuZmluaXNoZWQuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgcmVhY3REb21GbHVzaFN5bmNJbXBsKCgpID0+IHtcbiAgICAgICAgICAgIHNldFJlbmRlckRmZCh2b2lkIDApO1xuICAgICAgICAgICAgc2V0VHJhbnNpdGlvbih2b2lkIDApO1xuICAgICAgICAgICAgc2V0UGVuZGluZ1N0YXRlKHZvaWQgMCk7XG4gICAgICAgICAgICBzZXRWdENvbnRleHQoeyBpc1RyYW5zaXRpb25pbmc6IGZhbHNlIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmVhY3REb21GbHVzaFN5bmNJbXBsKCgpID0+IHNldFRyYW5zaXRpb24odCkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgICByZW5kZXJEZmQgJiYgcmVuZGVyRGZkLnJlc29sdmUoKTtcbiAgICAgICAgdHJhbnNpdGlvbi5za2lwVHJhbnNpdGlvbigpO1xuICAgICAgICBzZXRJbnRlcnJ1cHRpb24oe1xuICAgICAgICAgIHN0YXRlOiBuZXdTdGF0ZSxcbiAgICAgICAgICBjdXJyZW50TG9jYXRpb246IHZpZXdUcmFuc2l0aW9uT3B0cy5jdXJyZW50TG9jYXRpb24sXG4gICAgICAgICAgbmV4dExvY2F0aW9uOiB2aWV3VHJhbnNpdGlvbk9wdHMubmV4dExvY2F0aW9uXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0UGVuZGluZ1N0YXRlKG5ld1N0YXRlKTtcbiAgICAgICAgc2V0VnRDb250ZXh0KHtcbiAgICAgICAgICBpc1RyYW5zaXRpb25pbmc6IHRydWUsXG4gICAgICAgICAgZmx1c2hTeW5jOiBmYWxzZSxcbiAgICAgICAgICBjdXJyZW50TG9jYXRpb246IHZpZXdUcmFuc2l0aW9uT3B0cy5jdXJyZW50TG9jYXRpb24sXG4gICAgICAgICAgbmV4dExvY2F0aW9uOiB2aWV3VHJhbnNpdGlvbk9wdHMubmV4dExvY2F0aW9uXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgW1xuICAgICAgcm91dGVyLndpbmRvdyxcbiAgICAgIHJlYWN0RG9tRmx1c2hTeW5jSW1wbCxcbiAgICAgIHRyYW5zaXRpb24sXG4gICAgICByZW5kZXJEZmQsXG4gICAgICBsb2dFcnJvcnNBbmRTZXRTdGF0ZVxuICAgIF1cbiAgKTtcbiAgUmVhY3QzLnVzZUxheW91dEVmZmVjdCgoKSA9PiByb3V0ZXIuc3Vic2NyaWJlKHNldFN0YXRlKSwgW3JvdXRlciwgc2V0U3RhdGVdKTtcbiAgUmVhY3QzLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHZ0Q29udGV4dC5pc1RyYW5zaXRpb25pbmcgJiYgIXZ0Q29udGV4dC5mbHVzaFN5bmMpIHtcbiAgICAgIHNldFJlbmRlckRmZChuZXcgRGVmZXJyZWQoKSk7XG4gICAgfVxuICB9LCBbdnRDb250ZXh0XSk7XG4gIFJlYWN0My51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChyZW5kZXJEZmQgJiYgcGVuZGluZ1N0YXRlICYmIHJvdXRlci53aW5kb3cpIHtcbiAgICAgIGxldCBuZXdTdGF0ZSA9IHBlbmRpbmdTdGF0ZTtcbiAgICAgIGxldCByZW5kZXJQcm9taXNlID0gcmVuZGVyRGZkLnByb21pc2U7XG4gICAgICBsZXQgdHJhbnNpdGlvbjIgPSByb3V0ZXIud2luZG93LmRvY3VtZW50LnN0YXJ0Vmlld1RyYW5zaXRpb24oYXN5bmMgKCkgPT4ge1xuICAgICAgICBSZWFjdDMuc3RhcnRUcmFuc2l0aW9uKCgpID0+IGxvZ0Vycm9yc0FuZFNldFN0YXRlKG5ld1N0YXRlKSk7XG4gICAgICAgIGF3YWl0IHJlbmRlclByb21pc2U7XG4gICAgICB9KTtcbiAgICAgIHRyYW5zaXRpb24yLmZpbmlzaGVkLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBzZXRSZW5kZXJEZmQodm9pZCAwKTtcbiAgICAgICAgc2V0VHJhbnNpdGlvbih2b2lkIDApO1xuICAgICAgICBzZXRQZW5kaW5nU3RhdGUodm9pZCAwKTtcbiAgICAgICAgc2V0VnRDb250ZXh0KHsgaXNUcmFuc2l0aW9uaW5nOiBmYWxzZSB9KTtcbiAgICAgIH0pO1xuICAgICAgc2V0VHJhbnNpdGlvbih0cmFuc2l0aW9uMik7XG4gICAgfVxuICB9LCBbcGVuZGluZ1N0YXRlLCByZW5kZXJEZmQsIHJvdXRlci53aW5kb3csIGxvZ0Vycm9yc0FuZFNldFN0YXRlXSk7XG4gIFJlYWN0My51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChyZW5kZXJEZmQgJiYgcGVuZGluZ1N0YXRlICYmIHN0YXRlLmxvY2F0aW9uLmtleSA9PT0gcGVuZGluZ1N0YXRlLmxvY2F0aW9uLmtleSkge1xuICAgICAgcmVuZGVyRGZkLnJlc29sdmUoKTtcbiAgICB9XG4gIH0sIFtyZW5kZXJEZmQsIHRyYW5zaXRpb24sIHN0YXRlLmxvY2F0aW9uLCBwZW5kaW5nU3RhdGVdKTtcbiAgUmVhY3QzLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCF2dENvbnRleHQuaXNUcmFuc2l0aW9uaW5nICYmIGludGVycnVwdGlvbikge1xuICAgICAgc2V0UGVuZGluZ1N0YXRlKGludGVycnVwdGlvbi5zdGF0ZSk7XG4gICAgICBzZXRWdENvbnRleHQoe1xuICAgICAgICBpc1RyYW5zaXRpb25pbmc6IHRydWUsXG4gICAgICAgIGZsdXNoU3luYzogZmFsc2UsXG4gICAgICAgIGN1cnJlbnRMb2NhdGlvbjogaW50ZXJydXB0aW9uLmN1cnJlbnRMb2NhdGlvbixcbiAgICAgICAgbmV4dExvY2F0aW9uOiBpbnRlcnJ1cHRpb24ubmV4dExvY2F0aW9uXG4gICAgICB9KTtcbiAgICAgIHNldEludGVycnVwdGlvbih2b2lkIDApO1xuICAgIH1cbiAgfSwgW3Z0Q29udGV4dC5pc1RyYW5zaXRpb25pbmcsIGludGVycnVwdGlvbl0pO1xuICBsZXQgbmF2aWdhdG9yID0gUmVhY3QzLnVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBjcmVhdGVIcmVmOiByb3V0ZXIuY3JlYXRlSHJlZixcbiAgICAgIGVuY29kZUxvY2F0aW9uOiByb3V0ZXIuZW5jb2RlTG9jYXRpb24sXG4gICAgICBnbzogKG4pID0+IHJvdXRlci5uYXZpZ2F0ZShuKSxcbiAgICAgIHB1c2g6ICh0bywgc3RhdGUyLCBvcHRzKSA9PiByb3V0ZXIubmF2aWdhdGUodG8sIHtcbiAgICAgICAgc3RhdGU6IHN0YXRlMixcbiAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0OiBvcHRzPy5wcmV2ZW50U2Nyb2xsUmVzZXRcbiAgICAgIH0pLFxuICAgICAgcmVwbGFjZTogKHRvLCBzdGF0ZTIsIG9wdHMpID0+IHJvdXRlci5uYXZpZ2F0ZSh0bywge1xuICAgICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgICBzdGF0ZTogc3RhdGUyLFxuICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQ6IG9wdHM/LnByZXZlbnRTY3JvbGxSZXNldFxuICAgICAgfSlcbiAgICB9O1xuICB9LCBbcm91dGVyXSk7XG4gIGxldCBiYXNlbmFtZSA9IHJvdXRlci5iYXNlbmFtZSB8fCBcIi9cIjtcbiAgbGV0IGRhdGFSb3V0ZXJDb250ZXh0ID0gUmVhY3QzLnVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIHJvdXRlcixcbiAgICAgIG5hdmlnYXRvcixcbiAgICAgIHN0YXRpYzogZmFsc2UsXG4gICAgICBiYXNlbmFtZSxcbiAgICAgIHVuc3RhYmxlX29uRXJyb3JcbiAgICB9KSxcbiAgICBbcm91dGVyLCBuYXZpZ2F0b3IsIGJhc2VuYW1lLCB1bnN0YWJsZV9vbkVycm9yXVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KFJlYWN0My5GcmFnbWVudCwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KERhdGFSb3V0ZXJDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBkYXRhUm91dGVyQ29udGV4dCB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoRGF0YVJvdXRlclN0YXRlQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogc3RhdGUgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KEZldGNoZXJzQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogZmV0Y2hlckRhdGEuY3VycmVudCB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoVmlld1RyYW5zaXRpb25Db250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB2dENvbnRleHQgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KFxuICAgIFJvdXRlcixcbiAgICB7XG4gICAgICBiYXNlbmFtZSxcbiAgICAgIGxvY2F0aW9uOiBzdGF0ZS5sb2NhdGlvbixcbiAgICAgIG5hdmlnYXRpb25UeXBlOiBzdGF0ZS5oaXN0b3J5QWN0aW9uLFxuICAgICAgbmF2aWdhdG9yXG4gICAgfSxcbiAgICAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoXG4gICAgICBNZW1vaXplZERhdGFSb3V0ZXMsXG4gICAgICB7XG4gICAgICAgIHJvdXRlczogcm91dGVyLnJvdXRlcyxcbiAgICAgICAgZnV0dXJlOiByb3V0ZXIuZnV0dXJlLFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAgdW5zdGFibGVfb25FcnJvclxuICAgICAgfVxuICAgIClcbiAgKSkpKSksIG51bGwpO1xufVxudmFyIE1lbW9pemVkRGF0YVJvdXRlcyA9IFJlYWN0My5tZW1vKERhdGFSb3V0ZXMpO1xuZnVuY3Rpb24gRGF0YVJvdXRlcyh7XG4gIHJvdXRlcyxcbiAgZnV0dXJlLFxuICBzdGF0ZSxcbiAgdW5zdGFibGVfb25FcnJvclxufSkge1xuICByZXR1cm4gdXNlUm91dGVzSW1wbChyb3V0ZXMsIHZvaWQgMCwgc3RhdGUsIHVuc3RhYmxlX29uRXJyb3IsIGZ1dHVyZSk7XG59XG5mdW5jdGlvbiBNZW1vcnlSb3V0ZXIoe1xuICBiYXNlbmFtZSxcbiAgY2hpbGRyZW4sXG4gIGluaXRpYWxFbnRyaWVzLFxuICBpbml0aWFsSW5kZXhcbn0pIHtcbiAgbGV0IGhpc3RvcnlSZWYgPSBSZWFjdDMudXNlUmVmKCk7XG4gIGlmIChoaXN0b3J5UmVmLmN1cnJlbnQgPT0gbnVsbCkge1xuICAgIGhpc3RvcnlSZWYuY3VycmVudCA9IGNyZWF0ZU1lbW9yeUhpc3Rvcnkoe1xuICAgICAgaW5pdGlhbEVudHJpZXMsXG4gICAgICBpbml0aWFsSW5kZXgsXG4gICAgICB2NUNvbXBhdDogdHJ1ZVxuICAgIH0pO1xuICB9XG4gIGxldCBoaXN0b3J5ID0gaGlzdG9yeVJlZi5jdXJyZW50O1xuICBsZXQgW3N0YXRlLCBzZXRTdGF0ZUltcGxdID0gUmVhY3QzLnVzZVN0YXRlKHtcbiAgICBhY3Rpb246IGhpc3RvcnkuYWN0aW9uLFxuICAgIGxvY2F0aW9uOiBoaXN0b3J5LmxvY2F0aW9uXG4gIH0pO1xuICBsZXQgc2V0U3RhdGUgPSBSZWFjdDMudXNlQ2FsbGJhY2soXG4gICAgKG5ld1N0YXRlKSA9PiB7XG4gICAgICBSZWFjdDMuc3RhcnRUcmFuc2l0aW9uKCgpID0+IHNldFN0YXRlSW1wbChuZXdTdGF0ZSkpO1xuICAgIH0sXG4gICAgW3NldFN0YXRlSW1wbF1cbiAgKTtcbiAgUmVhY3QzLnVzZUxheW91dEVmZmVjdCgoKSA9PiBoaXN0b3J5Lmxpc3RlbihzZXRTdGF0ZSksIFtoaXN0b3J5LCBzZXRTdGF0ZV0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KFxuICAgIFJvdXRlcixcbiAgICB7XG4gICAgICBiYXNlbmFtZSxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgbG9jYXRpb246IHN0YXRlLmxvY2F0aW9uLFxuICAgICAgbmF2aWdhdGlvblR5cGU6IHN0YXRlLmFjdGlvbixcbiAgICAgIG5hdmlnYXRvcjogaGlzdG9yeVxuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIE5hdmlnYXRlKHtcbiAgdG8sXG4gIHJlcGxhY2U6IHJlcGxhY2UyLFxuICBzdGF0ZSxcbiAgcmVsYXRpdmVcbn0pIHtcbiAgaW52YXJpYW50KFxuICAgIHVzZUluUm91dGVyQ29udGV4dCgpLFxuICAgIC8vIFRPRE86IFRoaXMgZXJyb3IgaXMgcHJvYmFibHkgYmVjYXVzZSB0aGV5IHNvbWVob3cgaGF2ZSAyIHZlcnNpb25zIG9mXG4gICAgLy8gdGhlIHJvdXRlciBsb2FkZWQuIFdlIGNhbiBoZWxwIHRoZW0gdW5kZXJzdGFuZCBob3cgdG8gYXZvaWQgdGhhdC5cbiAgICBgPE5hdmlnYXRlPiBtYXkgYmUgdXNlZCBvbmx5IGluIHRoZSBjb250ZXh0IG9mIGEgPFJvdXRlcj4gY29tcG9uZW50LmBcbiAgKTtcbiAgbGV0IHsgc3RhdGljOiBpc1N0YXRpYyB9ID0gUmVhY3QzLnVzZUNvbnRleHQoTmF2aWdhdGlvbkNvbnRleHQpO1xuICB3YXJuaW5nKFxuICAgICFpc1N0YXRpYyxcbiAgICBgPE5hdmlnYXRlPiBtdXN0IG5vdCBiZSB1c2VkIG9uIHRoZSBpbml0aWFsIHJlbmRlciBpbiBhIDxTdGF0aWNSb3V0ZXI+LiBUaGlzIGlzIGEgbm8tb3AsIGJ1dCB5b3Ugc2hvdWxkIG1vZGlmeSB5b3VyIGNvZGUgc28gdGhlIDxOYXZpZ2F0ZT4gaXMgb25seSBldmVyIHJlbmRlcmVkIGluIHJlc3BvbnNlIHRvIHNvbWUgdXNlciBpbnRlcmFjdGlvbiBvciBzdGF0ZSBjaGFuZ2UuYFxuICApO1xuICBsZXQgeyBtYXRjaGVzIH0gPSBSZWFjdDMudXNlQ29udGV4dChSb3V0ZUNvbnRleHQpO1xuICBsZXQgeyBwYXRobmFtZTogbG9jYXRpb25QYXRobmFtZSB9ID0gdXNlTG9jYXRpb24oKTtcbiAgbGV0IG5hdmlnYXRlID0gdXNlTmF2aWdhdGUoKTtcbiAgbGV0IHBhdGggPSByZXNvbHZlVG8oXG4gICAgdG8sXG4gICAgZ2V0UmVzb2x2ZVRvTWF0Y2hlcyhtYXRjaGVzKSxcbiAgICBsb2NhdGlvblBhdGhuYW1lLFxuICAgIHJlbGF0aXZlID09PSBcInBhdGhcIlxuICApO1xuICBsZXQganNvblBhdGggPSBKU09OLnN0cmluZ2lmeShwYXRoKTtcbiAgUmVhY3QzLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbmF2aWdhdGUoSlNPTi5wYXJzZShqc29uUGF0aCksIHsgcmVwbGFjZTogcmVwbGFjZTIsIHN0YXRlLCByZWxhdGl2ZSB9KTtcbiAgfSwgW25hdmlnYXRlLCBqc29uUGF0aCwgcmVsYXRpdmUsIHJlcGxhY2UyLCBzdGF0ZV0pO1xuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIE91dGxldChwcm9wcykge1xuICByZXR1cm4gdXNlT3V0bGV0KHByb3BzLmNvbnRleHQpO1xufVxuZnVuY3Rpb24gUm91dGUocHJvcHMpIHtcbiAgaW52YXJpYW50KFxuICAgIGZhbHNlLFxuICAgIGBBIDxSb3V0ZT4gaXMgb25seSBldmVyIHRvIGJlIHVzZWQgYXMgdGhlIGNoaWxkIG9mIDxSb3V0ZXM+IGVsZW1lbnQsIG5ldmVyIHJlbmRlcmVkIGRpcmVjdGx5LiBQbGVhc2Ugd3JhcCB5b3VyIDxSb3V0ZT4gaW4gYSA8Um91dGVzPi5gXG4gICk7XG59XG5mdW5jdGlvbiBSb3V0ZXIoe1xuICBiYXNlbmFtZTogYmFzZW5hbWVQcm9wID0gXCIvXCIsXG4gIGNoaWxkcmVuID0gbnVsbCxcbiAgbG9jYXRpb246IGxvY2F0aW9uUHJvcCxcbiAgbmF2aWdhdGlvblR5cGUgPSBcIlBPUFwiIC8qIFBvcCAqLyxcbiAgbmF2aWdhdG9yLFxuICBzdGF0aWM6IHN0YXRpY1Byb3AgPSBmYWxzZVxufSkge1xuICBpbnZhcmlhbnQoXG4gICAgIXVzZUluUm91dGVyQ29udGV4dCgpLFxuICAgIGBZb3UgY2Fubm90IHJlbmRlciBhIDxSb3V0ZXI+IGluc2lkZSBhbm90aGVyIDxSb3V0ZXI+LiBZb3Ugc2hvdWxkIG5ldmVyIGhhdmUgbW9yZSB0aGFuIG9uZSBpbiB5b3VyIGFwcC5gXG4gICk7XG4gIGxldCBiYXNlbmFtZSA9IGJhc2VuYW1lUHJvcC5yZXBsYWNlKC9eXFwvKi8sIFwiL1wiKTtcbiAgbGV0IG5hdmlnYXRpb25Db250ZXh0ID0gUmVhY3QzLnVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgbmF2aWdhdG9yLFxuICAgICAgc3RhdGljOiBzdGF0aWNQcm9wLFxuICAgICAgZnV0dXJlOiB7fVxuICAgIH0pLFxuICAgIFtiYXNlbmFtZSwgbmF2aWdhdG9yLCBzdGF0aWNQcm9wXVxuICApO1xuICBpZiAodHlwZW9mIGxvY2F0aW9uUHJvcCA9PT0gXCJzdHJpbmdcIikge1xuICAgIGxvY2F0aW9uUHJvcCA9IHBhcnNlUGF0aChsb2NhdGlvblByb3ApO1xuICB9XG4gIGxldCB7XG4gICAgcGF0aG5hbWUgPSBcIi9cIixcbiAgICBzZWFyY2ggPSBcIlwiLFxuICAgIGhhc2ggPSBcIlwiLFxuICAgIHN0YXRlID0gbnVsbCxcbiAgICBrZXkgPSBcImRlZmF1bHRcIlxuICB9ID0gbG9jYXRpb25Qcm9wO1xuICBsZXQgbG9jYXRpb25Db250ZXh0ID0gUmVhY3QzLnVzZU1lbW8oKCkgPT4ge1xuICAgIGxldCB0cmFpbGluZ1BhdGhuYW1lID0gc3RyaXBCYXNlbmFtZShwYXRobmFtZSwgYmFzZW5hbWUpO1xuICAgIGlmICh0cmFpbGluZ1BhdGhuYW1lID09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgcGF0aG5hbWU6IHRyYWlsaW5nUGF0aG5hbWUsXG4gICAgICAgIHNlYXJjaCxcbiAgICAgICAgaGFzaCxcbiAgICAgICAgc3RhdGUsXG4gICAgICAgIGtleVxuICAgICAgfSxcbiAgICAgIG5hdmlnYXRpb25UeXBlXG4gICAgfTtcbiAgfSwgW2Jhc2VuYW1lLCBwYXRobmFtZSwgc2VhcmNoLCBoYXNoLCBzdGF0ZSwga2V5LCBuYXZpZ2F0aW9uVHlwZV0pO1xuICB3YXJuaW5nKFxuICAgIGxvY2F0aW9uQ29udGV4dCAhPSBudWxsLFxuICAgIGA8Um91dGVyIGJhc2VuYW1lPVwiJHtiYXNlbmFtZX1cIj4gaXMgbm90IGFibGUgdG8gbWF0Y2ggdGhlIFVSTCBcIiR7cGF0aG5hbWV9JHtzZWFyY2h9JHtoYXNofVwiIGJlY2F1c2UgaXQgZG9lcyBub3Qgc3RhcnQgd2l0aCB0aGUgYmFzZW5hbWUsIHNvIHRoZSA8Um91dGVyPiB3b24ndCByZW5kZXIgYW55dGhpbmcuYFxuICApO1xuICBpZiAobG9jYXRpb25Db250ZXh0ID09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KE5hdmlnYXRpb25Db250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBuYXZpZ2F0aW9uQ29udGV4dCB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoTG9jYXRpb25Db250ZXh0LlByb3ZpZGVyLCB7IGNoaWxkcmVuLCB2YWx1ZTogbG9jYXRpb25Db250ZXh0IH0pKTtcbn1cbmZ1bmN0aW9uIFJvdXRlcyh7XG4gIGNoaWxkcmVuLFxuICBsb2NhdGlvblxufSkge1xuICByZXR1cm4gdXNlUm91dGVzKGNyZWF0ZVJvdXRlc0Zyb21DaGlsZHJlbihjaGlsZHJlbiksIGxvY2F0aW9uKTtcbn1cbmZ1bmN0aW9uIEF3YWl0KHtcbiAgY2hpbGRyZW4sXG4gIGVycm9yRWxlbWVudCxcbiAgcmVzb2x2ZVxufSkge1xuICBsZXQgZGF0YVJvdXRlckNvbnRleHQgPSBSZWFjdDMudXNlQ29udGV4dChEYXRhUm91dGVyQ29udGV4dCk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoXG4gICAgQXdhaXRFcnJvckJvdW5kYXJ5LFxuICAgIHtcbiAgICAgIHJlc29sdmUsXG4gICAgICBlcnJvckVsZW1lbnQsXG4gICAgICB1bnN0YWJsZV9vbkVycm9yOiBkYXRhUm91dGVyQ29udGV4dD8udW5zdGFibGVfb25FcnJvclxuICAgIH0sXG4gICAgLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KFJlc29sdmVBd2FpdCwgbnVsbCwgY2hpbGRyZW4pXG4gICk7XG59XG52YXIgQXdhaXRFcnJvckJvdW5kYXJ5ID0gY2xhc3MgZXh0ZW5kcyBSZWFjdDMuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHsgZXJyb3I6IG51bGwgfTtcbiAgfVxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKGVycm9yKSB7XG4gICAgcmV0dXJuIHsgZXJyb3IgfTtcbiAgfVxuICBjb21wb25lbnREaWRDYXRjaChlcnJvciwgZXJyb3JJbmZvKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudW5zdGFibGVfb25FcnJvcikge1xuICAgICAgdGhpcy5wcm9wcy51bnN0YWJsZV9vbkVycm9yKGVycm9yLCBlcnJvckluZm8pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBcIjxBd2FpdD4gY2F1Z2h0IHRoZSBmb2xsb3dpbmcgZXJyb3IgZHVyaW5nIHJlbmRlclwiLFxuICAgICAgICBlcnJvcixcbiAgICAgICAgZXJyb3JJbmZvXG4gICAgICApO1xuICAgIH1cbiAgfVxuICByZW5kZXIoKSB7XG4gICAgbGV0IHsgY2hpbGRyZW4sIGVycm9yRWxlbWVudCwgcmVzb2x2ZSB9ID0gdGhpcy5wcm9wcztcbiAgICBsZXQgcHJvbWlzZSA9IG51bGw7XG4gICAgbGV0IHN0YXR1cyA9IDAgLyogcGVuZGluZyAqLztcbiAgICBpZiAoIShyZXNvbHZlIGluc3RhbmNlb2YgUHJvbWlzZSkpIHtcbiAgICAgIHN0YXR1cyA9IDEgLyogc3VjY2VzcyAqLztcbiAgICAgIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9taXNlLCBcIl90cmFja2VkXCIsIHsgZ2V0OiAoKSA9PiB0cnVlIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb21pc2UsIFwiX2RhdGFcIiwgeyBnZXQ6ICgpID0+IHJlc29sdmUgfSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICBzdGF0dXMgPSAyIC8qIGVycm9yICovO1xuICAgICAgbGV0IHJlbmRlckVycm9yID0gdGhpcy5zdGF0ZS5lcnJvcjtcbiAgICAgIHByb21pc2UgPSBQcm9taXNlLnJlamVjdCgpLmNhdGNoKCgpID0+IHtcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb21pc2UsIFwiX3RyYWNrZWRcIiwgeyBnZXQ6ICgpID0+IHRydWUgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvbWlzZSwgXCJfZXJyb3JcIiwgeyBnZXQ6ICgpID0+IHJlbmRlckVycm9yIH0pO1xuICAgIH0gZWxzZSBpZiAocmVzb2x2ZS5fdHJhY2tlZCkge1xuICAgICAgcHJvbWlzZSA9IHJlc29sdmU7XG4gICAgICBzdGF0dXMgPSBcIl9lcnJvclwiIGluIHByb21pc2UgPyAyIC8qIGVycm9yICovIDogXCJfZGF0YVwiIGluIHByb21pc2UgPyAxIC8qIHN1Y2Nlc3MgKi8gOiAwIC8qIHBlbmRpbmcgKi87XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXR1cyA9IDAgLyogcGVuZGluZyAqLztcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXNvbHZlLCBcIl90cmFja2VkXCIsIHsgZ2V0OiAoKSA9PiB0cnVlIH0pO1xuICAgICAgcHJvbWlzZSA9IHJlc29sdmUudGhlbihcbiAgICAgICAgKGRhdGEyKSA9PiBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVzb2x2ZSwgXCJfZGF0YVwiLCB7IGdldDogKCkgPT4gZGF0YTIgfSksXG4gICAgICAgIChlcnJvcikgPT4ge1xuICAgICAgICAgIHRoaXMucHJvcHMudW5zdGFibGVfb25FcnJvcj8uKGVycm9yKTtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVzb2x2ZSwgXCJfZXJyb3JcIiwgeyBnZXQ6ICgpID0+IGVycm9yIH0pO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoc3RhdHVzID09PSAyIC8qIGVycm9yICovICYmICFlcnJvckVsZW1lbnQpIHtcbiAgICAgIHRocm93IHByb21pc2UuX2Vycm9yO1xuICAgIH1cbiAgICBpZiAoc3RhdHVzID09PSAyIC8qIGVycm9yICovKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KEF3YWl0Q29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogcHJvbWlzZSwgY2hpbGRyZW46IGVycm9yRWxlbWVudCB9KTtcbiAgICB9XG4gICAgaWYgKHN0YXR1cyA9PT0gMSAvKiBzdWNjZXNzICovKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KEF3YWl0Q29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogcHJvbWlzZSwgY2hpbGRyZW4gfSk7XG4gICAgfVxuICAgIHRocm93IHByb21pc2U7XG4gIH1cbn07XG5mdW5jdGlvbiBSZXNvbHZlQXdhaXQoe1xuICBjaGlsZHJlblxufSkge1xuICBsZXQgZGF0YTIgPSB1c2VBc3luY1ZhbHVlKCk7XG4gIGxldCB0b1JlbmRlciA9IHR5cGVvZiBjaGlsZHJlbiA9PT0gXCJmdW5jdGlvblwiID8gY2hpbGRyZW4oZGF0YTIpIDogY2hpbGRyZW47XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoUmVhY3QzLkZyYWdtZW50LCBudWxsLCB0b1JlbmRlcik7XG59XG5mdW5jdGlvbiBjcmVhdGVSb3V0ZXNGcm9tQ2hpbGRyZW4oY2hpbGRyZW4sIHBhcmVudFBhdGggPSBbXSkge1xuICBsZXQgcm91dGVzID0gW107XG4gIFJlYWN0My5DaGlsZHJlbi5mb3JFYWNoKGNoaWxkcmVuLCAoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICBpZiAoIVJlYWN0My5pc1ZhbGlkRWxlbWVudChlbGVtZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgdHJlZVBhdGggPSBbLi4ucGFyZW50UGF0aCwgaW5kZXhdO1xuICAgIGlmIChlbGVtZW50LnR5cGUgPT09IFJlYWN0My5GcmFnbWVudCkge1xuICAgICAgcm91dGVzLnB1c2guYXBwbHkoXG4gICAgICAgIHJvdXRlcyxcbiAgICAgICAgY3JlYXRlUm91dGVzRnJvbUNoaWxkcmVuKGVsZW1lbnQucHJvcHMuY2hpbGRyZW4sIHRyZWVQYXRoKVxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW52YXJpYW50KFxuICAgICAgZWxlbWVudC50eXBlID09PSBSb3V0ZSxcbiAgICAgIGBbJHt0eXBlb2YgZWxlbWVudC50eXBlID09PSBcInN0cmluZ1wiID8gZWxlbWVudC50eXBlIDogZWxlbWVudC50eXBlLm5hbWV9XSBpcyBub3QgYSA8Um91dGU+IGNvbXBvbmVudC4gQWxsIGNvbXBvbmVudCBjaGlsZHJlbiBvZiA8Um91dGVzPiBtdXN0IGJlIGEgPFJvdXRlPiBvciA8UmVhY3QuRnJhZ21lbnQ+YFxuICAgICk7XG4gICAgaW52YXJpYW50KFxuICAgICAgIWVsZW1lbnQucHJvcHMuaW5kZXggfHwgIWVsZW1lbnQucHJvcHMuY2hpbGRyZW4sXG4gICAgICBcIkFuIGluZGV4IHJvdXRlIGNhbm5vdCBoYXZlIGNoaWxkIHJvdXRlcy5cIlxuICAgICk7XG4gICAgbGV0IHJvdXRlID0ge1xuICAgICAgaWQ6IGVsZW1lbnQucHJvcHMuaWQgfHwgdHJlZVBhdGguam9pbihcIi1cIiksXG4gICAgICBjYXNlU2Vuc2l0aXZlOiBlbGVtZW50LnByb3BzLmNhc2VTZW5zaXRpdmUsXG4gICAgICBlbGVtZW50OiBlbGVtZW50LnByb3BzLmVsZW1lbnQsXG4gICAgICBDb21wb25lbnQ6IGVsZW1lbnQucHJvcHMuQ29tcG9uZW50LFxuICAgICAgaW5kZXg6IGVsZW1lbnQucHJvcHMuaW5kZXgsXG4gICAgICBwYXRoOiBlbGVtZW50LnByb3BzLnBhdGgsXG4gICAgICBtaWRkbGV3YXJlOiBlbGVtZW50LnByb3BzLm1pZGRsZXdhcmUsXG4gICAgICBsb2FkZXI6IGVsZW1lbnQucHJvcHMubG9hZGVyLFxuICAgICAgYWN0aW9uOiBlbGVtZW50LnByb3BzLmFjdGlvbixcbiAgICAgIGh5ZHJhdGVGYWxsYmFja0VsZW1lbnQ6IGVsZW1lbnQucHJvcHMuaHlkcmF0ZUZhbGxiYWNrRWxlbWVudCxcbiAgICAgIEh5ZHJhdGVGYWxsYmFjazogZWxlbWVudC5wcm9wcy5IeWRyYXRlRmFsbGJhY2ssXG4gICAgICBlcnJvckVsZW1lbnQ6IGVsZW1lbnQucHJvcHMuZXJyb3JFbGVtZW50LFxuICAgICAgRXJyb3JCb3VuZGFyeTogZWxlbWVudC5wcm9wcy5FcnJvckJvdW5kYXJ5LFxuICAgICAgaGFzRXJyb3JCb3VuZGFyeTogZWxlbWVudC5wcm9wcy5oYXNFcnJvckJvdW5kYXJ5ID09PSB0cnVlIHx8IGVsZW1lbnQucHJvcHMuRXJyb3JCb3VuZGFyeSAhPSBudWxsIHx8IGVsZW1lbnQucHJvcHMuZXJyb3JFbGVtZW50ICE9IG51bGwsXG4gICAgICBzaG91bGRSZXZhbGlkYXRlOiBlbGVtZW50LnByb3BzLnNob3VsZFJldmFsaWRhdGUsXG4gICAgICBoYW5kbGU6IGVsZW1lbnQucHJvcHMuaGFuZGxlLFxuICAgICAgbGF6eTogZWxlbWVudC5wcm9wcy5sYXp5XG4gICAgfTtcbiAgICBpZiAoZWxlbWVudC5wcm9wcy5jaGlsZHJlbikge1xuICAgICAgcm91dGUuY2hpbGRyZW4gPSBjcmVhdGVSb3V0ZXNGcm9tQ2hpbGRyZW4oXG4gICAgICAgIGVsZW1lbnQucHJvcHMuY2hpbGRyZW4sXG4gICAgICAgIHRyZWVQYXRoXG4gICAgICApO1xuICAgIH1cbiAgICByb3V0ZXMucHVzaChyb3V0ZSk7XG4gIH0pO1xuICByZXR1cm4gcm91dGVzO1xufVxudmFyIGNyZWF0ZVJvdXRlc0Zyb21FbGVtZW50cyA9IGNyZWF0ZVJvdXRlc0Zyb21DaGlsZHJlbjtcbmZ1bmN0aW9uIHJlbmRlck1hdGNoZXMobWF0Y2hlcykge1xuICByZXR1cm4gX3JlbmRlck1hdGNoZXMobWF0Y2hlcyk7XG59XG5mdW5jdGlvbiB1c2VSb3V0ZUNvbXBvbmVudFByb3BzKCkge1xuICByZXR1cm4ge1xuICAgIHBhcmFtczogdXNlUGFyYW1zKCksXG4gICAgbG9hZGVyRGF0YTogdXNlTG9hZGVyRGF0YSgpLFxuICAgIGFjdGlvbkRhdGE6IHVzZUFjdGlvbkRhdGEoKSxcbiAgICBtYXRjaGVzOiB1c2VNYXRjaGVzKClcbiAgfTtcbn1cbmZ1bmN0aW9uIFdpdGhDb21wb25lbnRQcm9wcyh7XG4gIGNoaWxkcmVuXG59KSB7XG4gIGNvbnN0IHByb3BzID0gdXNlUm91dGVDb21wb25lbnRQcm9wcygpO1xuICByZXR1cm4gUmVhY3QzLmNsb25lRWxlbWVudChjaGlsZHJlbiwgcHJvcHMpO1xufVxuZnVuY3Rpb24gd2l0aENvbXBvbmVudFByb3BzKENvbXBvbmVudDQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIFdpdGhDb21wb25lbnRQcm9wczIoKSB7XG4gICAgY29uc3QgcHJvcHMgPSB1c2VSb3V0ZUNvbXBvbmVudFByb3BzKCk7XG4gICAgcmV0dXJuIFJlYWN0My5jcmVhdGVFbGVtZW50KENvbXBvbmVudDQsIHByb3BzKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIHVzZUh5ZHJhdGVGYWxsYmFja1Byb3BzKCkge1xuICByZXR1cm4ge1xuICAgIHBhcmFtczogdXNlUGFyYW1zKCksXG4gICAgbG9hZGVyRGF0YTogdXNlTG9hZGVyRGF0YSgpLFxuICAgIGFjdGlvbkRhdGE6IHVzZUFjdGlvbkRhdGEoKVxuICB9O1xufVxuZnVuY3Rpb24gV2l0aEh5ZHJhdGVGYWxsYmFja1Byb3BzKHtcbiAgY2hpbGRyZW5cbn0pIHtcbiAgY29uc3QgcHJvcHMgPSB1c2VIeWRyYXRlRmFsbGJhY2tQcm9wcygpO1xuICByZXR1cm4gUmVhY3QzLmNsb25lRWxlbWVudChjaGlsZHJlbiwgcHJvcHMpO1xufVxuZnVuY3Rpb24gd2l0aEh5ZHJhdGVGYWxsYmFja1Byb3BzKEh5ZHJhdGVGYWxsYmFjaykge1xuICByZXR1cm4gZnVuY3Rpb24gV2l0aEh5ZHJhdGVGYWxsYmFja1Byb3BzMigpIHtcbiAgICBjb25zdCBwcm9wcyA9IHVzZUh5ZHJhdGVGYWxsYmFja1Byb3BzKCk7XG4gICAgcmV0dXJuIFJlYWN0My5jcmVhdGVFbGVtZW50KEh5ZHJhdGVGYWxsYmFjaywgcHJvcHMpO1xuICB9O1xufVxuZnVuY3Rpb24gdXNlRXJyb3JCb3VuZGFyeVByb3BzKCkge1xuICByZXR1cm4ge1xuICAgIHBhcmFtczogdXNlUGFyYW1zKCksXG4gICAgbG9hZGVyRGF0YTogdXNlTG9hZGVyRGF0YSgpLFxuICAgIGFjdGlvbkRhdGE6IHVzZUFjdGlvbkRhdGEoKSxcbiAgICBlcnJvcjogdXNlUm91dGVFcnJvcigpXG4gIH07XG59XG5mdW5jdGlvbiBXaXRoRXJyb3JCb3VuZGFyeVByb3BzKHtcbiAgY2hpbGRyZW5cbn0pIHtcbiAgY29uc3QgcHJvcHMgPSB1c2VFcnJvckJvdW5kYXJ5UHJvcHMoKTtcbiAgcmV0dXJuIFJlYWN0My5jbG9uZUVsZW1lbnQoY2hpbGRyZW4sIHByb3BzKTtcbn1cbmZ1bmN0aW9uIHdpdGhFcnJvckJvdW5kYXJ5UHJvcHMoRXJyb3JCb3VuZGFyeSkge1xuICByZXR1cm4gZnVuY3Rpb24gV2l0aEVycm9yQm91bmRhcnlQcm9wczIoKSB7XG4gICAgY29uc3QgcHJvcHMgPSB1c2VFcnJvckJvdW5kYXJ5UHJvcHMoKTtcbiAgICByZXR1cm4gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoRXJyb3JCb3VuZGFyeSwgcHJvcHMpO1xuICB9O1xufVxuXG4vLyBsaWIvZG9tL2RvbS50c1xudmFyIGRlZmF1bHRNZXRob2QgPSBcImdldFwiO1xudmFyIGRlZmF1bHRFbmNUeXBlID0gXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIjtcbmZ1bmN0aW9uIGlzSHRtbEVsZW1lbnQob2JqZWN0KSB7XG4gIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiB0eXBlb2Ygb2JqZWN0LnRhZ05hbWUgPT09IFwic3RyaW5nXCI7XG59XG5mdW5jdGlvbiBpc0J1dHRvbkVsZW1lbnQob2JqZWN0KSB7XG4gIHJldHVybiBpc0h0bWxFbGVtZW50KG9iamVjdCkgJiYgb2JqZWN0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJidXR0b25cIjtcbn1cbmZ1bmN0aW9uIGlzRm9ybUVsZW1lbnQob2JqZWN0KSB7XG4gIHJldHVybiBpc0h0bWxFbGVtZW50KG9iamVjdCkgJiYgb2JqZWN0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJmb3JtXCI7XG59XG5mdW5jdGlvbiBpc0lucHV0RWxlbWVudChvYmplY3QpIHtcbiAgcmV0dXJuIGlzSHRtbEVsZW1lbnQob2JqZWN0KSAmJiBvYmplY3QudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImlucHV0XCI7XG59XG5mdW5jdGlvbiBpc01vZGlmaWVkRXZlbnQoZXZlbnQpIHtcbiAgcmV0dXJuICEhKGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuYWx0S2V5IHx8IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQuc2hpZnRLZXkpO1xufVxuZnVuY3Rpb24gc2hvdWxkUHJvY2Vzc0xpbmtDbGljayhldmVudCwgdGFyZ2V0KSB7XG4gIHJldHVybiBldmVudC5idXR0b24gPT09IDAgJiYgLy8gSWdub3JlIGV2ZXJ5dGhpbmcgYnV0IGxlZnQgY2xpY2tzXG4gICghdGFyZ2V0IHx8IHRhcmdldCA9PT0gXCJfc2VsZlwiKSAmJiAvLyBMZXQgYnJvd3NlciBoYW5kbGUgXCJ0YXJnZXQ9X2JsYW5rXCIgZXRjLlxuICAhaXNNb2RpZmllZEV2ZW50KGV2ZW50KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVNlYXJjaFBhcmFtcyhpbml0ID0gXCJcIikge1xuICByZXR1cm4gbmV3IFVSTFNlYXJjaFBhcmFtcyhcbiAgICB0eXBlb2YgaW5pdCA9PT0gXCJzdHJpbmdcIiB8fCBBcnJheS5pc0FycmF5KGluaXQpIHx8IGluaXQgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXMgPyBpbml0IDogT2JqZWN0LmtleXMoaW5pdCkucmVkdWNlKChtZW1vMiwga2V5KSA9PiB7XG4gICAgICBsZXQgdmFsdWUgPSBpbml0W2tleV07XG4gICAgICByZXR1cm4gbWVtbzIuY29uY2F0KFxuICAgICAgICBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlLm1hcCgodikgPT4gW2tleSwgdl0pIDogW1trZXksIHZhbHVlXV1cbiAgICAgICk7XG4gICAgfSwgW10pXG4gICk7XG59XG5mdW5jdGlvbiBnZXRTZWFyY2hQYXJhbXNGb3JMb2NhdGlvbihsb2NhdGlvblNlYXJjaCwgZGVmYXVsdFNlYXJjaFBhcmFtcykge1xuICBsZXQgc2VhcmNoUGFyYW1zID0gY3JlYXRlU2VhcmNoUGFyYW1zKGxvY2F0aW9uU2VhcmNoKTtcbiAgaWYgKGRlZmF1bHRTZWFyY2hQYXJhbXMpIHtcbiAgICBkZWZhdWx0U2VhcmNoUGFyYW1zLmZvckVhY2goKF8sIGtleSkgPT4ge1xuICAgICAgaWYgKCFzZWFyY2hQYXJhbXMuaGFzKGtleSkpIHtcbiAgICAgICAgZGVmYXVsdFNlYXJjaFBhcmFtcy5nZXRBbGwoa2V5KS5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgIHNlYXJjaFBhcmFtcy5hcHBlbmQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBzZWFyY2hQYXJhbXM7XG59XG52YXIgX2Zvcm1EYXRhU3VwcG9ydHNTdWJtaXR0ZXIgPSBudWxsO1xuZnVuY3Rpb24gaXNGb3JtRGF0YVN1Ym1pdHRlclN1cHBvcnRlZCgpIHtcbiAgaWYgKF9mb3JtRGF0YVN1cHBvcnRzU3VibWl0dGVyID09PSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIG5ldyBGb3JtRGF0YShcbiAgICAgICAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIiksXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgaWYgRm9ybURhdGEgc3VwcG9ydHMgdGhlIHN1Ym1pdHRlciBwYXJhbWV0ZXIsIHRoaXMgd2lsbCB0aHJvd1xuICAgICAgICAwXG4gICAgICApO1xuICAgICAgX2Zvcm1EYXRhU3VwcG9ydHNTdWJtaXR0ZXIgPSBmYWxzZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBfZm9ybURhdGFTdXBwb3J0c1N1Ym1pdHRlciA9IHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBfZm9ybURhdGFTdXBwb3J0c1N1Ym1pdHRlcjtcbn1cbnZhciBzdXBwb3J0ZWRGb3JtRW5jVHlwZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbXG4gIFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIsXG4gIFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiLFxuICBcInRleHQvcGxhaW5cIlxuXSk7XG5mdW5jdGlvbiBnZXRGb3JtRW5jVHlwZShlbmNUeXBlKSB7XG4gIGlmIChlbmNUeXBlICE9IG51bGwgJiYgIXN1cHBvcnRlZEZvcm1FbmNUeXBlcy5oYXMoZW5jVHlwZSkpIHtcbiAgICB3YXJuaW5nKFxuICAgICAgZmFsc2UsXG4gICAgICBgXCIke2VuY1R5cGV9XCIgaXMgbm90IGEgdmFsaWQgXFxgZW5jVHlwZVxcYCBmb3IgXFxgPEZvcm0+XFxgL1xcYDxmZXRjaGVyLkZvcm0+XFxgIGFuZCB3aWxsIGRlZmF1bHQgdG8gXCIke2RlZmF1bHRFbmNUeXBlfVwiYFxuICAgICk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIGVuY1R5cGU7XG59XG5mdW5jdGlvbiBnZXRGb3JtU3VibWlzc2lvbkluZm8odGFyZ2V0LCBiYXNlbmFtZSkge1xuICBsZXQgbWV0aG9kO1xuICBsZXQgYWN0aW9uO1xuICBsZXQgZW5jVHlwZTtcbiAgbGV0IGZvcm1EYXRhO1xuICBsZXQgYm9keTtcbiAgaWYgKGlzRm9ybUVsZW1lbnQodGFyZ2V0KSkge1xuICAgIGxldCBhdHRyID0gdGFyZ2V0LmdldEF0dHJpYnV0ZShcImFjdGlvblwiKTtcbiAgICBhY3Rpb24gPSBhdHRyID8gc3RyaXBCYXNlbmFtZShhdHRyLCBiYXNlbmFtZSkgOiBudWxsO1xuICAgIG1ldGhvZCA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJtZXRob2RcIikgfHwgZGVmYXVsdE1ldGhvZDtcbiAgICBlbmNUeXBlID0gZ2V0Rm9ybUVuY1R5cGUodGFyZ2V0LmdldEF0dHJpYnV0ZShcImVuY3R5cGVcIikpIHx8IGRlZmF1bHRFbmNUeXBlO1xuICAgIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKHRhcmdldCk7XG4gIH0gZWxzZSBpZiAoaXNCdXR0b25FbGVtZW50KHRhcmdldCkgfHwgaXNJbnB1dEVsZW1lbnQodGFyZ2V0KSAmJiAodGFyZ2V0LnR5cGUgPT09IFwic3VibWl0XCIgfHwgdGFyZ2V0LnR5cGUgPT09IFwiaW1hZ2VcIikpIHtcbiAgICBsZXQgZm9ybSA9IHRhcmdldC5mb3JtO1xuICAgIGlmIChmb3JtID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYENhbm5vdCBzdWJtaXQgYSA8YnV0dG9uPiBvciA8aW5wdXQgdHlwZT1cInN1Ym1pdFwiPiB3aXRob3V0IGEgPGZvcm0+YFxuICAgICAgKTtcbiAgICB9XG4gICAgbGV0IGF0dHIgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKFwiZm9ybWFjdGlvblwiKSB8fCBmb3JtLmdldEF0dHJpYnV0ZShcImFjdGlvblwiKTtcbiAgICBhY3Rpb24gPSBhdHRyID8gc3RyaXBCYXNlbmFtZShhdHRyLCBiYXNlbmFtZSkgOiBudWxsO1xuICAgIG1ldGhvZCA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJmb3JtbWV0aG9kXCIpIHx8IGZvcm0uZ2V0QXR0cmlidXRlKFwibWV0aG9kXCIpIHx8IGRlZmF1bHRNZXRob2Q7XG4gICAgZW5jVHlwZSA9IGdldEZvcm1FbmNUeXBlKHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJmb3JtZW5jdHlwZVwiKSkgfHwgZ2V0Rm9ybUVuY1R5cGUoZm9ybS5nZXRBdHRyaWJ1dGUoXCJlbmN0eXBlXCIpKSB8fCBkZWZhdWx0RW5jVHlwZTtcbiAgICBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtLCB0YXJnZXQpO1xuICAgIGlmICghaXNGb3JtRGF0YVN1Ym1pdHRlclN1cHBvcnRlZCgpKSB7XG4gICAgICBsZXQgeyBuYW1lLCB0eXBlLCB2YWx1ZSB9ID0gdGFyZ2V0O1xuICAgICAgaWYgKHR5cGUgPT09IFwiaW1hZ2VcIikge1xuICAgICAgICBsZXQgcHJlZml4ID0gbmFtZSA/IGAke25hbWV9LmAgOiBcIlwiO1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoYCR7cHJlZml4fXhgLCBcIjBcIik7XG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZChgJHtwcmVmaXh9eWAsIFwiMFwiKTtcbiAgICAgIH0gZWxzZSBpZiAobmFtZSkge1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQobmFtZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChpc0h0bWxFbGVtZW50KHRhcmdldCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgQ2Fubm90IHN1Ym1pdCBlbGVtZW50IHRoYXQgaXMgbm90IDxmb3JtPiwgPGJ1dHRvbj4sIG9yIDxpbnB1dCB0eXBlPVwic3VibWl0fGltYWdlXCI+YFxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgbWV0aG9kID0gZGVmYXVsdE1ldGhvZDtcbiAgICBhY3Rpb24gPSBudWxsO1xuICAgIGVuY1R5cGUgPSBkZWZhdWx0RW5jVHlwZTtcbiAgICBib2R5ID0gdGFyZ2V0O1xuICB9XG4gIGlmIChmb3JtRGF0YSAmJiBlbmNUeXBlID09PSBcInRleHQvcGxhaW5cIikge1xuICAgIGJvZHkgPSBmb3JtRGF0YTtcbiAgICBmb3JtRGF0YSA9IHZvaWQgMDtcbiAgfVxuICByZXR1cm4geyBhY3Rpb24sIG1ldGhvZDogbWV0aG9kLnRvTG93ZXJDYXNlKCksIGVuY1R5cGUsIGZvcm1EYXRhLCBib2R5IH07XG59XG5cbi8vIGxpYi9kb20vc3NyL3NpbmdsZS1mZXRjaC50c3hcbmltcG9ydCAqIGFzIFJlYWN0NCBmcm9tIFwicmVhY3RcIjtcblxuLy8gdmVuZG9yL3R1cmJvLXN0cmVhbS12Mi91dGlscy50c1xudmFyIEhPTEUgPSAtMTtcbnZhciBOQU4gPSAtMjtcbnZhciBORUdBVElWRV9JTkZJTklUWSA9IC0zO1xudmFyIE5FR0FUSVZFX1pFUk8gPSAtNDtcbnZhciBOVUxMID0gLTU7XG52YXIgUE9TSVRJVkVfSU5GSU5JVFkgPSAtNjtcbnZhciBVTkRFRklORUQgPSAtNztcbnZhciBUWVBFX0JJR0lOVCA9IFwiQlwiO1xudmFyIFRZUEVfREFURSA9IFwiRFwiO1xudmFyIFRZUEVfRVJST1IgPSBcIkVcIjtcbnZhciBUWVBFX01BUCA9IFwiTVwiO1xudmFyIFRZUEVfTlVMTF9PQkpFQ1QgPSBcIk5cIjtcbnZhciBUWVBFX1BST01JU0UgPSBcIlBcIjtcbnZhciBUWVBFX1JFR0VYUCA9IFwiUlwiO1xudmFyIFRZUEVfU0VUID0gXCJTXCI7XG52YXIgVFlQRV9TWU1CT0wgPSBcIllcIjtcbnZhciBUWVBFX1VSTCA9IFwiVVwiO1xudmFyIFRZUEVfUFJFVklPVVNfUkVTT0xWRUQgPSBcIlpcIjtcbnZhciBEZWZlcnJlZDIgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMucmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICB0aGlzLnJlamVjdCA9IHJlamVjdDtcbiAgICB9KTtcbiAgfVxufTtcbmZ1bmN0aW9uIGNyZWF0ZUxpbmVTcGxpdHRpbmdUcmFuc2Zvcm0oKSB7XG4gIGNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoKTtcbiAgbGV0IGxlZnRvdmVyID0gXCJcIjtcbiAgcmV0dXJuIG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgY29uc3Qgc3RyID0gZGVjb2Rlci5kZWNvZGUoY2h1bmssIHsgc3RyZWFtOiB0cnVlIH0pO1xuICAgICAgY29uc3QgcGFydHMgPSAobGVmdG92ZXIgKyBzdHIpLnNwbGl0KFwiXFxuXCIpO1xuICAgICAgbGVmdG92ZXIgPSBwYXJ0cy5wb3AoKSB8fCBcIlwiO1xuICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIHBhcnRzKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShwYXJ0KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGZsdXNoKGNvbnRyb2xsZXIpIHtcbiAgICAgIGlmIChsZWZ0b3Zlcikge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUobGVmdG92ZXIpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbi8vIHZlbmRvci90dXJiby1zdHJlYW0tdjIvZmxhdHRlbi50c1xuZnVuY3Rpb24gZmxhdHRlbihpbnB1dCkge1xuICBjb25zdCB7IGluZGljZXMgfSA9IHRoaXM7XG4gIGNvbnN0IGV4aXN0aW5nID0gaW5kaWNlcy5nZXQoaW5wdXQpO1xuICBpZiAoZXhpc3RpbmcpIHJldHVybiBbZXhpc3RpbmddO1xuICBpZiAoaW5wdXQgPT09IHZvaWQgMCkgcmV0dXJuIFVOREVGSU5FRDtcbiAgaWYgKGlucHV0ID09PSBudWxsKSByZXR1cm4gTlVMTDtcbiAgaWYgKE51bWJlci5pc05hTihpbnB1dCkpIHJldHVybiBOQU47XG4gIGlmIChpbnB1dCA9PT0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSByZXR1cm4gUE9TSVRJVkVfSU5GSU5JVFk7XG4gIGlmIChpbnB1dCA9PT0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKSByZXR1cm4gTkVHQVRJVkVfSU5GSU5JVFk7XG4gIGlmIChpbnB1dCA9PT0gMCAmJiAxIC8gaW5wdXQgPCAwKSByZXR1cm4gTkVHQVRJVkVfWkVSTztcbiAgY29uc3QgaW5kZXggPSB0aGlzLmluZGV4Kys7XG4gIGluZGljZXMuc2V0KGlucHV0LCBpbmRleCk7XG4gIHN0cmluZ2lmeS5jYWxsKHRoaXMsIGlucHV0LCBpbmRleCk7XG4gIHJldHVybiBpbmRleDtcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeShpbnB1dCwgaW5kZXgpIHtcbiAgY29uc3QgeyBkZWZlcnJlZCwgcGx1Z2lucywgcG9zdFBsdWdpbnMgfSA9IHRoaXM7XG4gIGNvbnN0IHN0ciA9IHRoaXMuc3RyaW5naWZpZWQ7XG4gIGNvbnN0IHN0YWNrID0gW1tpbnB1dCwgaW5kZXhdXTtcbiAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCBbaW5wdXQyLCBpbmRleDJdID0gc3RhY2sucG9wKCk7XG4gICAgY29uc3QgcGFydHNGb3JPYmogPSAob2JqKSA9PiBPYmplY3Qua2V5cyhvYmopLm1hcCgoaykgPT4gYFwiXyR7ZmxhdHRlbi5jYWxsKHRoaXMsIGspfVwiOiR7ZmxhdHRlbi5jYWxsKHRoaXMsIG9ialtrXSl9YCkuam9pbihcIixcIik7XG4gICAgbGV0IGVycm9yID0gbnVsbDtcbiAgICBzd2l0Y2ggKHR5cGVvZiBpbnB1dDIpIHtcbiAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgIHN0cltpbmRleDJdID0gSlNPTi5zdHJpbmdpZnkoaW5wdXQyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgIHN0cltpbmRleDJdID0gYFtcIiR7VFlQRV9CSUdJTlR9XCIsXCIke2lucHV0Mn1cIl1gO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJzeW1ib2xcIjoge1xuICAgICAgICBjb25zdCBrZXlGb3IgPSBTeW1ib2wua2V5Rm9yKGlucHV0Mik7XG4gICAgICAgIGlmICgha2V5Rm9yKSB7XG4gICAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgICAgICBcIkNhbm5vdCBlbmNvZGUgc3ltYm9sIHVubGVzcyBjcmVhdGVkIHdpdGggU3ltYm9sLmZvcigpXCJcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0cltpbmRleDJdID0gYFtcIiR7VFlQRV9TWU1CT0x9XCIsJHtKU09OLnN0cmluZ2lmeShrZXlGb3IpfV1gO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgIGlmICghaW5wdXQyKSB7XG4gICAgICAgICAgc3RyW2luZGV4Ml0gPSBgJHtOVUxMfWA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkoaW5wdXQyKTtcbiAgICAgICAgbGV0IHBsdWdpbkhhbmRsZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKCFpc0FycmF5ICYmIHBsdWdpbnMpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHBsdWdpbiBvZiBwbHVnaW5zKSB7XG4gICAgICAgICAgICBjb25zdCBwbHVnaW5SZXN1bHQgPSBwbHVnaW4oaW5wdXQyKTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBsdWdpblJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgcGx1Z2luSGFuZGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgIGNvbnN0IFtwbHVnaW5JZGVudGlmaWVyLCAuLi5yZXN0XSA9IHBsdWdpblJlc3VsdDtcbiAgICAgICAgICAgICAgc3RyW2luZGV4Ml0gPSBgWyR7SlNPTi5zdHJpbmdpZnkocGx1Z2luSWRlbnRpZmllcil9YDtcbiAgICAgICAgICAgICAgaWYgKHJlc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHN0cltpbmRleDJdICs9IGAsJHtyZXN0Lm1hcCgodikgPT4gZmxhdHRlbi5jYWxsKHRoaXMsIHYpKS5qb2luKFwiLFwiKX1gO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHN0cltpbmRleDJdICs9IFwiXVwiO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwbHVnaW5IYW5kbGVkKSB7XG4gICAgICAgICAgbGV0IHJlc3VsdCA9IGlzQXJyYXkgPyBcIltcIiA6IFwie1wiO1xuICAgICAgICAgIGlmIChpc0FycmF5KSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Mi5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgcmVzdWx0ICs9IChpID8gXCIsXCIgOiBcIlwiKSArIChpIGluIGlucHV0MiA/IGZsYXR0ZW4uY2FsbCh0aGlzLCBpbnB1dDJbaV0pIDogSE9MRSk7XG4gICAgICAgICAgICBzdHJbaW5kZXgyXSA9IGAke3Jlc3VsdH1dYDtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0MiBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGVUaW1lID0gaW5wdXQyLmdldFRpbWUoKTtcbiAgICAgICAgICAgIHN0cltpbmRleDJdID0gYFtcIiR7VFlQRV9EQVRFfVwiLCR7TnVtYmVyLmlzTmFOKGRhdGVUaW1lKSA/IEpTT04uc3RyaW5naWZ5KFwiaW52YWxpZFwiKSA6IGRhdGVUaW1lfV1gO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQyIGluc3RhbmNlb2YgVVJMKSB7XG4gICAgICAgICAgICBzdHJbaW5kZXgyXSA9IGBbXCIke1RZUEVfVVJMfVwiLCR7SlNPTi5zdHJpbmdpZnkoaW5wdXQyLmhyZWYpfV1gO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQyIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgICAgICBzdHJbaW5kZXgyXSA9IGBbXCIke1RZUEVfUkVHRVhQfVwiLCR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICAgIGlucHV0Mi5zb3VyY2VcbiAgICAgICAgICAgICl9LCR7SlNPTi5zdHJpbmdpZnkoaW5wdXQyLmZsYWdzKX1dYDtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0MiBpbnN0YW5jZW9mIFNldCkge1xuICAgICAgICAgICAgaWYgKGlucHV0Mi5zaXplID4gMCkge1xuICAgICAgICAgICAgICBzdHJbaW5kZXgyXSA9IGBbXCIke1RZUEVfU0VUfVwiLCR7Wy4uLmlucHV0Ml0ubWFwKCh2YWwpID0+IGZsYXR0ZW4uY2FsbCh0aGlzLCB2YWwpKS5qb2luKFwiLFwiKX1dYDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHN0cltpbmRleDJdID0gYFtcIiR7VFlQRV9TRVR9XCJdYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0MiBpbnN0YW5jZW9mIE1hcCkge1xuICAgICAgICAgICAgaWYgKGlucHV0Mi5zaXplID4gMCkge1xuICAgICAgICAgICAgICBzdHJbaW5kZXgyXSA9IGBbXCIke1RZUEVfTUFQfVwiLCR7Wy4uLmlucHV0Ml0uZmxhdE1hcCgoW2ssIHZdKSA9PiBbXG4gICAgICAgICAgICAgICAgZmxhdHRlbi5jYWxsKHRoaXMsIGspLFxuICAgICAgICAgICAgICAgIGZsYXR0ZW4uY2FsbCh0aGlzLCB2KVxuICAgICAgICAgICAgICBdKS5qb2luKFwiLFwiKX1dYDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHN0cltpbmRleDJdID0gYFtcIiR7VFlQRV9NQVB9XCJdYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0MiBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHN0cltpbmRleDJdID0gYFtcIiR7VFlQRV9QUk9NSVNFfVwiLCR7aW5kZXgyfV1gO1xuICAgICAgICAgICAgZGVmZXJyZWRbaW5kZXgyXSA9IGlucHV0MjtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0MiBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICBzdHJbaW5kZXgyXSA9IGBbXCIke1RZUEVfRVJST1J9XCIsJHtKU09OLnN0cmluZ2lmeShpbnB1dDIubWVzc2FnZSl9YDtcbiAgICAgICAgICAgIGlmIChpbnB1dDIubmFtZSAhPT0gXCJFcnJvclwiKSB7XG4gICAgICAgICAgICAgIHN0cltpbmRleDJdICs9IGAsJHtKU09OLnN0cmluZ2lmeShpbnB1dDIubmFtZSl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0cltpbmRleDJdICs9IFwiXVwiO1xuICAgICAgICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGlucHV0MikgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHN0cltpbmRleDJdID0gYFtcIiR7VFlQRV9OVUxMX09CSkVDVH1cIix7JHtwYXJ0c0Zvck9iaihpbnB1dDIpfX1dYDtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3QyKGlucHV0MikpIHtcbiAgICAgICAgICAgIHN0cltpbmRleDJdID0gYHske3BhcnRzRm9yT2JqKGlucHV0Mil9fWA7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVycm9yID0gbmV3IEVycm9yKFwiQ2Fubm90IGVuY29kZSBvYmplY3Qgd2l0aCBwcm90b3R5cGVcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBjb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheShpbnB1dDIpO1xuICAgICAgICBsZXQgcGx1Z2luSGFuZGxlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoIWlzQXJyYXkgJiYgcGx1Z2lucykge1xuICAgICAgICAgIGZvciAoY29uc3QgcGx1Z2luIG9mIHBsdWdpbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHBsdWdpblJlc3VsdCA9IHBsdWdpbihpbnB1dDIpO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGx1Z2luUmVzdWx0KSkge1xuICAgICAgICAgICAgICBwbHVnaW5IYW5kbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgY29uc3QgW3BsdWdpbklkZW50aWZpZXIsIC4uLnJlc3RdID0gcGx1Z2luUmVzdWx0O1xuICAgICAgICAgICAgICBzdHJbaW5kZXgyXSA9IGBbJHtKU09OLnN0cmluZ2lmeShwbHVnaW5JZGVudGlmaWVyKX1gO1xuICAgICAgICAgICAgICBpZiAocmVzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgc3RyW2luZGV4Ml0gKz0gYCwke3Jlc3QubWFwKCh2KSA9PiBmbGF0dGVuLmNhbGwodGhpcywgdikpLmpvaW4oXCIsXCIpfWA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc3RyW2luZGV4Ml0gKz0gXCJdXCI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXBsdWdpbkhhbmRsZWQpIHtcbiAgICAgICAgICBlcnJvciA9IG5ldyBFcnJvcihcIkNhbm5vdCBlbmNvZGUgZnVuY3Rpb24gb3IgdW5leHBlY3RlZCB0eXBlXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlcnJvcikge1xuICAgICAgbGV0IHBsdWdpbkhhbmRsZWQgPSBmYWxzZTtcbiAgICAgIGlmIChwb3N0UGx1Z2lucykge1xuICAgICAgICBmb3IgKGNvbnN0IHBsdWdpbiBvZiBwb3N0UGx1Z2lucykge1xuICAgICAgICAgIGNvbnN0IHBsdWdpblJlc3VsdCA9IHBsdWdpbihpbnB1dDIpO1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBsdWdpblJlc3VsdCkpIHtcbiAgICAgICAgICAgIHBsdWdpbkhhbmRsZWQgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgW3BsdWdpbklkZW50aWZpZXIsIC4uLnJlc3RdID0gcGx1Z2luUmVzdWx0O1xuICAgICAgICAgICAgc3RyW2luZGV4Ml0gPSBgWyR7SlNPTi5zdHJpbmdpZnkocGx1Z2luSWRlbnRpZmllcil9YDtcbiAgICAgICAgICAgIGlmIChyZXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgc3RyW2luZGV4Ml0gKz0gYCwke3Jlc3QubWFwKCh2KSA9PiBmbGF0dGVuLmNhbGwodGhpcywgdikpLmpvaW4oXCIsXCIpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHJbaW5kZXgyXSArPSBcIl1cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFwbHVnaW5IYW5kbGVkKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxudmFyIG9iamVjdFByb3RvTmFtZXMyID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoT2JqZWN0LnByb3RvdHlwZSkuc29ydCgpLmpvaW4oXCJcXDBcIik7XG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0Mih0aGluZykge1xuICBjb25zdCBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGluZyk7XG4gIHJldHVybiBwcm90byA9PT0gT2JqZWN0LnByb3RvdHlwZSB8fCBwcm90byA9PT0gbnVsbCB8fCBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhwcm90bykuc29ydCgpLmpvaW4oXCJcXDBcIikgPT09IG9iamVjdFByb3RvTmFtZXMyO1xufVxuXG4vLyB2ZW5kb3IvdHVyYm8tc3RyZWFtLXYyL3VuZmxhdHRlbi50c1xudmFyIGdsb2JhbE9iaiA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFRoaXMgOiB2b2lkIDA7XG5mdW5jdGlvbiB1bmZsYXR0ZW4ocGFyc2VkKSB7XG4gIGNvbnN0IHsgaHlkcmF0ZWQsIHZhbHVlcyB9ID0gdGhpcztcbiAgaWYgKHR5cGVvZiBwYXJzZWQgPT09IFwibnVtYmVyXCIpIHJldHVybiBoeWRyYXRlLmNhbGwodGhpcywgcGFyc2VkKTtcbiAgaWYgKCFBcnJheS5pc0FycmF5KHBhcnNlZCkgfHwgIXBhcnNlZC5sZW5ndGgpIHRocm93IG5ldyBTeW50YXhFcnJvcigpO1xuICBjb25zdCBzdGFydEluZGV4ID0gdmFsdWVzLmxlbmd0aDtcbiAgZm9yIChjb25zdCB2YWx1ZSBvZiBwYXJzZWQpIHtcbiAgICB2YWx1ZXMucHVzaCh2YWx1ZSk7XG4gIH1cbiAgaHlkcmF0ZWQubGVuZ3RoID0gdmFsdWVzLmxlbmd0aDtcbiAgcmV0dXJuIGh5ZHJhdGUuY2FsbCh0aGlzLCBzdGFydEluZGV4KTtcbn1cbmZ1bmN0aW9uIGh5ZHJhdGUoaW5kZXgpIHtcbiAgY29uc3QgeyBoeWRyYXRlZCwgdmFsdWVzLCBkZWZlcnJlZCwgcGx1Z2lucyB9ID0gdGhpcztcbiAgbGV0IHJlc3VsdDtcbiAgY29uc3Qgc3RhY2sgPSBbXG4gICAgW1xuICAgICAgaW5kZXgsXG4gICAgICAodikgPT4ge1xuICAgICAgICByZXN1bHQgPSB2O1xuICAgICAgfVxuICAgIF1cbiAgXTtcbiAgbGV0IHBvc3RSdW4gPSBbXTtcbiAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCBbaW5kZXgyLCBzZXRdID0gc3RhY2sucG9wKCk7XG4gICAgc3dpdGNoIChpbmRleDIpIHtcbiAgICAgIGNhc2UgVU5ERUZJTkVEOlxuICAgICAgICBzZXQodm9pZCAwKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICBjYXNlIE5VTEw6XG4gICAgICAgIHNldChudWxsKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICBjYXNlIE5BTjpcbiAgICAgICAgc2V0KE5hTik7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgY2FzZSBQT1NJVElWRV9JTkZJTklUWTpcbiAgICAgICAgc2V0KEluZmluaXR5KTtcbiAgICAgICAgY29udGludWU7XG4gICAgICBjYXNlIE5FR0FUSVZFX0lORklOSVRZOlxuICAgICAgICBzZXQoLUluZmluaXR5KTtcbiAgICAgICAgY29udGludWU7XG4gICAgICBjYXNlIE5FR0FUSVZFX1pFUk86XG4gICAgICAgIHNldCgtMCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoaHlkcmF0ZWRbaW5kZXgyXSkge1xuICAgICAgc2V0KGh5ZHJhdGVkW2luZGV4Ml0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNvbnN0IHZhbHVlID0gdmFsdWVzW2luZGV4Ml07XG4gICAgaWYgKCF2YWx1ZSB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGh5ZHJhdGVkW2luZGV4Ml0gPSB2YWx1ZTtcbiAgICAgIHNldCh2YWx1ZSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlWzBdID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGNvbnN0IFt0eXBlLCBiLCBjXSA9IHZhbHVlO1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICBjYXNlIFRZUEVfREFURTpcbiAgICAgICAgICAgIHNldChoeWRyYXRlZFtpbmRleDJdID0gbmV3IERhdGUoYikpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgY2FzZSBUWVBFX1VSTDpcbiAgICAgICAgICAgIHNldChoeWRyYXRlZFtpbmRleDJdID0gbmV3IFVSTChiKSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICBjYXNlIFRZUEVfQklHSU5UOlxuICAgICAgICAgICAgc2V0KGh5ZHJhdGVkW2luZGV4Ml0gPSBCaWdJbnQoYikpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgY2FzZSBUWVBFX1JFR0VYUDpcbiAgICAgICAgICAgIHNldChoeWRyYXRlZFtpbmRleDJdID0gbmV3IFJlZ0V4cChiLCBjKSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICBjYXNlIFRZUEVfU1lNQk9MOlxuICAgICAgICAgICAgc2V0KGh5ZHJhdGVkW2luZGV4Ml0gPSBTeW1ib2wuZm9yKGIpKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIGNhc2UgVFlQRV9TRVQ6XG4gICAgICAgICAgICBjb25zdCBuZXdTZXQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgICAgICAgICAgaHlkcmF0ZWRbaW5kZXgyXSA9IG5ld1NldDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSB2YWx1ZS5sZW5ndGggLSAxOyBpID4gMDsgaS0tKVxuICAgICAgICAgICAgICBzdGFjay5wdXNoKFtcbiAgICAgICAgICAgICAgICB2YWx1ZVtpXSxcbiAgICAgICAgICAgICAgICAodikgPT4ge1xuICAgICAgICAgICAgICAgICAgbmV3U2V0LmFkZCh2KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgc2V0KG5ld1NldCk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICBjYXNlIFRZUEVfTUFQOlxuICAgICAgICAgICAgY29uc3QgbWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICAgICAgICAgIGh5ZHJhdGVkW2luZGV4Ml0gPSBtYXA7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gdmFsdWUubGVuZ3RoIC0gMjsgaSA+IDA7IGkgLT0gMikge1xuICAgICAgICAgICAgICBjb25zdCByID0gW107XG4gICAgICAgICAgICAgIHN0YWNrLnB1c2goW1xuICAgICAgICAgICAgICAgIHZhbHVlW2kgKyAxXSxcbiAgICAgICAgICAgICAgICAodikgPT4ge1xuICAgICAgICAgICAgICAgICAgclsxXSA9IHY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgc3RhY2sucHVzaChbXG4gICAgICAgICAgICAgICAgdmFsdWVbaV0sXG4gICAgICAgICAgICAgICAgKGspID0+IHtcbiAgICAgICAgICAgICAgICAgIHJbMF0gPSBrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgIHBvc3RSdW4ucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgbWFwLnNldChyWzBdLCByWzFdKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXQobWFwKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIGNhc2UgVFlQRV9OVUxMX09CSkVDVDpcbiAgICAgICAgICAgIGNvbnN0IG9iaiA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgICAgaHlkcmF0ZWRbaW5kZXgyXSA9IG9iajtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGIpLnJldmVyc2UoKSkge1xuICAgICAgICAgICAgICBjb25zdCByID0gW107XG4gICAgICAgICAgICAgIHN0YWNrLnB1c2goW1xuICAgICAgICAgICAgICAgIGJba2V5XSxcbiAgICAgICAgICAgICAgICAodikgPT4ge1xuICAgICAgICAgICAgICAgICAgclsxXSA9IHY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgc3RhY2sucHVzaChbXG4gICAgICAgICAgICAgICAgTnVtYmVyKGtleS5zbGljZSgxKSksXG4gICAgICAgICAgICAgICAgKGspID0+IHtcbiAgICAgICAgICAgICAgICAgIHJbMF0gPSBrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgIHBvc3RSdW4ucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgb2JqW3JbMF1dID0gclsxXTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXQob2JqKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIGNhc2UgVFlQRV9QUk9NSVNFOlxuICAgICAgICAgICAgaWYgKGh5ZHJhdGVkW2JdKSB7XG4gICAgICAgICAgICAgIHNldChoeWRyYXRlZFtpbmRleDJdID0gaHlkcmF0ZWRbYl0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc3QgZCA9IG5ldyBEZWZlcnJlZDIoKTtcbiAgICAgICAgICAgICAgZGVmZXJyZWRbYl0gPSBkO1xuICAgICAgICAgICAgICBzZXQoaHlkcmF0ZWRbaW5kZXgyXSA9IGQucHJvbWlzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICBjYXNlIFRZUEVfRVJST1I6XG4gICAgICAgICAgICBjb25zdCBbLCBtZXNzYWdlLCBlcnJvclR5cGVdID0gdmFsdWU7XG4gICAgICAgICAgICBsZXQgZXJyb3IgPSBlcnJvclR5cGUgJiYgZ2xvYmFsT2JqICYmIGdsb2JhbE9ialtlcnJvclR5cGVdID8gbmV3IGdsb2JhbE9ialtlcnJvclR5cGVdKG1lc3NhZ2UpIDogbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgICAgICAgaHlkcmF0ZWRbaW5kZXgyXSA9IGVycm9yO1xuICAgICAgICAgICAgc2V0KGVycm9yKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIGNhc2UgVFlQRV9QUkVWSU9VU19SRVNPTFZFRDpcbiAgICAgICAgICAgIHNldChoeWRyYXRlZFtpbmRleDJdID0gaHlkcmF0ZWRbYl0pO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBsdWdpbnMpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHIgPSBbXTtcbiAgICAgICAgICAgICAgY29uc3QgdmFscyA9IHZhbHVlLnNsaWNlKDEpO1xuICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2ID0gdmFsc1tpXTtcbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKFtcbiAgICAgICAgICAgICAgICAgIHYsXG4gICAgICAgICAgICAgICAgICAodjIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcltpXSA9IHYyO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHBvc3RSdW4ucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwbHVnaW4gb2YgcGx1Z2lucykge1xuICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0MiA9IHBsdWdpbih2YWx1ZVswXSwgLi4ucik7XG4gICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Mikge1xuICAgICAgICAgICAgICAgICAgICBzZXQoaHlkcmF0ZWRbaW5kZXgyXSA9IHJlc3VsdDIudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcigpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgYXJyYXkgPSBbXTtcbiAgICAgICAgaHlkcmF0ZWRbaW5kZXgyXSA9IGFycmF5O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgbiA9IHZhbHVlW2ldO1xuICAgICAgICAgIGlmIChuICE9PSBIT0xFKSB7XG4gICAgICAgICAgICBzdGFjay5wdXNoKFtcbiAgICAgICAgICAgICAgbixcbiAgICAgICAgICAgICAgKHYpID0+IHtcbiAgICAgICAgICAgICAgICBhcnJheVtpXSA9IHY7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXQoYXJyYXkpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgb2JqZWN0ID0ge307XG4gICAgICBoeWRyYXRlZFtpbmRleDJdID0gb2JqZWN0O1xuICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXModmFsdWUpLnJldmVyc2UoKSkge1xuICAgICAgICBjb25zdCByID0gW107XG4gICAgICAgIHN0YWNrLnB1c2goW1xuICAgICAgICAgIHZhbHVlW2tleV0sXG4gICAgICAgICAgKHYpID0+IHtcbiAgICAgICAgICAgIHJbMV0gPSB2O1xuICAgICAgICAgIH1cbiAgICAgICAgXSk7XG4gICAgICAgIHN0YWNrLnB1c2goW1xuICAgICAgICAgIE51bWJlcihrZXkuc2xpY2UoMSkpLFxuICAgICAgICAgIChrKSA9PiB7XG4gICAgICAgICAgICByWzBdID0gaztcbiAgICAgICAgICB9XG4gICAgICAgIF0pO1xuICAgICAgICBwb3N0UnVuLnB1c2goKCkgPT4ge1xuICAgICAgICAgIG9iamVjdFtyWzBdXSA9IHJbMV07XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgc2V0KG9iamVjdCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gIH1cbiAgd2hpbGUgKHBvc3RSdW4ubGVuZ3RoID4gMCkge1xuICAgIHBvc3RSdW4ucG9wKCkoKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vLyB2ZW5kb3IvdHVyYm8tc3RyZWFtLXYyL3R1cmJvLXN0cmVhbS50c1xuYXN5bmMgZnVuY3Rpb24gZGVjb2RlKHJlYWRhYmxlLCBvcHRpb25zKSB7XG4gIGNvbnN0IHsgcGx1Z2lucyB9ID0gb3B0aW9ucyA/PyB7fTtcbiAgY29uc3QgZG9uZSA9IG5ldyBEZWZlcnJlZDIoKTtcbiAgY29uc3QgcmVhZGVyID0gcmVhZGFibGUucGlwZVRocm91Z2goY3JlYXRlTGluZVNwbGl0dGluZ1RyYW5zZm9ybSgpKS5nZXRSZWFkZXIoKTtcbiAgY29uc3QgZGVjb2RlciA9IHtcbiAgICB2YWx1ZXM6IFtdLFxuICAgIGh5ZHJhdGVkOiBbXSxcbiAgICBkZWZlcnJlZDoge30sXG4gICAgcGx1Z2luc1xuICB9O1xuICBjb25zdCBkZWNvZGVkID0gYXdhaXQgZGVjb2RlSW5pdGlhbC5jYWxsKGRlY29kZXIsIHJlYWRlcik7XG4gIGxldCBkb25lUHJvbWlzZSA9IGRvbmUucHJvbWlzZTtcbiAgaWYgKGRlY29kZWQuZG9uZSkge1xuICAgIGRvbmUucmVzb2x2ZSgpO1xuICB9IGVsc2Uge1xuICAgIGRvbmVQcm9taXNlID0gZGVjb2RlRGVmZXJyZWQuY2FsbChkZWNvZGVyLCByZWFkZXIpLnRoZW4oZG9uZS5yZXNvbHZlKS5jYXRjaCgocmVhc29uKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IGRlZmVycmVkIG9mIE9iamVjdC52YWx1ZXMoZGVjb2Rlci5kZWZlcnJlZCkpIHtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KHJlYXNvbik7XG4gICAgICB9XG4gICAgICBkb25lLnJlamVjdChyZWFzb24pO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiB7XG4gICAgZG9uZTogZG9uZVByb21pc2UudGhlbigoKSA9PiByZWFkZXIuY2xvc2VkKSxcbiAgICB2YWx1ZTogZGVjb2RlZC52YWx1ZVxuICB9O1xufVxuYXN5bmMgZnVuY3Rpb24gZGVjb2RlSW5pdGlhbChyZWFkZXIpIHtcbiAgY29uc3QgcmVhZCA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gIGlmICghcmVhZC52YWx1ZSkge1xuICAgIHRocm93IG5ldyBTeW50YXhFcnJvcigpO1xuICB9XG4gIGxldCBsaW5lO1xuICB0cnkge1xuICAgIGxpbmUgPSBKU09OLnBhcnNlKHJlYWQudmFsdWUpO1xuICB9IGNhdGNoIChyZWFzb24pIHtcbiAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGRvbmU6IHJlYWQuZG9uZSxcbiAgICB2YWx1ZTogdW5mbGF0dGVuLmNhbGwodGhpcywgbGluZSlcbiAgfTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGRlY29kZURlZmVycmVkKHJlYWRlcikge1xuICBsZXQgcmVhZCA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gIHdoaWxlICghcmVhZC5kb25lKSB7XG4gICAgaWYgKCFyZWFkLnZhbHVlKSBjb250aW51ZTtcbiAgICBjb25zdCBsaW5lID0gcmVhZC52YWx1ZTtcbiAgICBzd2l0Y2ggKGxpbmVbMF0pIHtcbiAgICAgIGNhc2UgVFlQRV9QUk9NSVNFOiB7XG4gICAgICAgIGNvbnN0IGNvbG9uSW5kZXggPSBsaW5lLmluZGV4T2YoXCI6XCIpO1xuICAgICAgICBjb25zdCBkZWZlcnJlZElkID0gTnVtYmVyKGxpbmUuc2xpY2UoMSwgY29sb25JbmRleCkpO1xuICAgICAgICBjb25zdCBkZWZlcnJlZCA9IHRoaXMuZGVmZXJyZWRbZGVmZXJyZWRJZF07XG4gICAgICAgIGlmICghZGVmZXJyZWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYERlZmVycmVkIElEICR7ZGVmZXJyZWRJZH0gbm90IGZvdW5kIGluIHN0cmVhbWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxpbmVEYXRhID0gbGluZS5zbGljZShjb2xvbkluZGV4ICsgMSk7XG4gICAgICAgIGxldCBqc29uTGluZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBqc29uTGluZSA9IEpTT04ucGFyc2UobGluZURhdGEpO1xuICAgICAgICB9IGNhdGNoIChyZWFzb24pIHtcbiAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9IHVuZmxhdHRlbi5jYWxsKHRoaXMsIGpzb25MaW5lKTtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBUWVBFX0VSUk9SOiB7XG4gICAgICAgIGNvbnN0IGNvbG9uSW5kZXggPSBsaW5lLmluZGV4T2YoXCI6XCIpO1xuICAgICAgICBjb25zdCBkZWZlcnJlZElkID0gTnVtYmVyKGxpbmUuc2xpY2UoMSwgY29sb25JbmRleCkpO1xuICAgICAgICBjb25zdCBkZWZlcnJlZCA9IHRoaXMuZGVmZXJyZWRbZGVmZXJyZWRJZF07XG4gICAgICAgIGlmICghZGVmZXJyZWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYERlZmVycmVkIElEICR7ZGVmZXJyZWRJZH0gbm90IGZvdW5kIGluIHN0cmVhbWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxpbmVEYXRhID0gbGluZS5zbGljZShjb2xvbkluZGV4ICsgMSk7XG4gICAgICAgIGxldCBqc29uTGluZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBqc29uTGluZSA9IEpTT04ucGFyc2UobGluZURhdGEpO1xuICAgICAgICB9IGNhdGNoIChyZWFzb24pIHtcbiAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9IHVuZmxhdHRlbi5jYWxsKHRoaXMsIGpzb25MaW5lKTtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KHZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoKTtcbiAgICB9XG4gICAgcmVhZCA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGVuY29kZShpbnB1dCwgb3B0aW9ucykge1xuICBjb25zdCB7IHBsdWdpbnMsIHBvc3RQbHVnaW5zLCBzaWduYWwgfSA9IG9wdGlvbnMgPz8ge307XG4gIGNvbnN0IGVuY29kZXIgPSB7XG4gICAgZGVmZXJyZWQ6IHt9LFxuICAgIGluZGV4OiAwLFxuICAgIGluZGljZXM6IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksXG4gICAgc3RyaW5naWZpZWQ6IFtdLFxuICAgIHBsdWdpbnMsXG4gICAgcG9zdFBsdWdpbnMsXG4gICAgc2lnbmFsXG4gIH07XG4gIGNvbnN0IHRleHRFbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG4gIGxldCBsYXN0U2VudEluZGV4ID0gMDtcbiAgY29uc3QgcmVhZGFibGUgPSBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgIGFzeW5jIHN0YXJ0KGNvbnRyb2xsZXIpIHtcbiAgICAgIGNvbnN0IGlkID0gZmxhdHRlbi5jYWxsKGVuY29kZXIsIGlucHV0KTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGlkKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIHNob3VsZCBuZXZlciBoYXBwZW5cIik7XG4gICAgICB9XG4gICAgICBpZiAoaWQgPCAwKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh0ZXh0RW5jb2Rlci5lbmNvZGUoYCR7aWR9XG5gKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoXG4gICAgICAgICAgdGV4dEVuY29kZXIuZW5jb2RlKGBbJHtlbmNvZGVyLnN0cmluZ2lmaWVkLmpvaW4oXCIsXCIpfV1cbmApXG4gICAgICAgICk7XG4gICAgICAgIGxhc3RTZW50SW5kZXggPSBlbmNvZGVyLnN0cmluZ2lmaWVkLmxlbmd0aCAtIDE7XG4gICAgICB9XG4gICAgICBjb25zdCBzZWVuUHJvbWlzZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtTZXQoKTtcbiAgICAgIGlmIChPYmplY3Qua2V5cyhlbmNvZGVyLmRlZmVycmVkKS5sZW5ndGgpIHtcbiAgICAgICAgbGV0IHJhY2VEb25lO1xuICAgICAgICBjb25zdCByYWNlUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICByYWNlRG9uZSA9IHJlc29sdmU7XG4gICAgICAgICAgaWYgKHNpZ25hbCkge1xuICAgICAgICAgICAgY29uc3QgcmVqZWN0UHJvbWlzZSA9ICgpID0+IHJlamVjdChzaWduYWwucmVhc29uIHx8IG5ldyBFcnJvcihcIlNpZ25hbCB3YXMgYWJvcnRlZC5cIikpO1xuICAgICAgICAgICAgaWYgKHNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgIHJlamVjdFByb21pc2UoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0UHJvbWlzZSgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB3aGlsZSAoT2JqZWN0LmtleXMoZW5jb2Rlci5kZWZlcnJlZCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGZvciAoY29uc3QgW2RlZmVycmVkSWQsIGRlZmVycmVkXSBvZiBPYmplY3QuZW50cmllcyhcbiAgICAgICAgICAgIGVuY29kZXIuZGVmZXJyZWRcbiAgICAgICAgICApKSB7XG4gICAgICAgICAgICBpZiAoc2VlblByb21pc2VzLmhhcyhkZWZlcnJlZCkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgc2VlblByb21pc2VzLmFkZChcbiAgICAgICAgICAgICAgLy8gYmlvbWUtaWdub3JlIGxpbnQvc3VzcGljaW91cy9ub0Fzc2lnbkluRXhwcmVzc2lvbnM6IDxleHBsYW5hdGlvbj5cbiAgICAgICAgICAgICAgZW5jb2Rlci5kZWZlcnJlZFtOdW1iZXIoZGVmZXJyZWRJZCldID0gUHJvbWlzZS5yYWNlKFtcbiAgICAgICAgICAgICAgICByYWNlUHJvbWlzZSxcbiAgICAgICAgICAgICAgICBkZWZlcnJlZFxuICAgICAgICAgICAgICBdKS50aGVuKFxuICAgICAgICAgICAgICAgIChyZXNvbHZlZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgaWQyID0gZmxhdHRlbi5jYWxsKGVuY29kZXIsIHJlc29sdmVkKTtcbiAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGlkMikpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKFxuICAgICAgICAgICAgICAgICAgICAgIHRleHRFbmNvZGVyLmVuY29kZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGAke1RZUEVfUFJPTUlTRX0ke2RlZmVycmVkSWR9OltbXCIke1RZUEVfUFJFVklPVVNfUkVTT0xWRUR9XCIsJHtpZDJbMF19XV1cbmBcbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGVuY29kZXIuaW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgbGFzdFNlbnRJbmRleCsrO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpZDIgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShcbiAgICAgICAgICAgICAgICAgICAgICB0ZXh0RW5jb2Rlci5lbmNvZGUoXG4gICAgICAgICAgICAgICAgICAgICAgICBgJHtUWVBFX1BST01JU0V9JHtkZWZlcnJlZElkfToke2lkMn1cbmBcbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBlbmNvZGVyLnN0cmluZ2lmaWVkLnNsaWNlKGxhc3RTZW50SW5kZXggKyAxKS5qb2luKFwiLFwiKTtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKFxuICAgICAgICAgICAgICAgICAgICAgIHRleHRFbmNvZGVyLmVuY29kZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGAke1RZUEVfUFJPTUlTRX0ke2RlZmVycmVkSWR9Olske3ZhbHVlc31dXG5gXG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBsYXN0U2VudEluZGV4ID0gZW5jb2Rlci5zdHJpbmdpZmllZC5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKHJlYXNvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKCFyZWFzb24gfHwgdHlwZW9mIHJlYXNvbiAhPT0gXCJvYmplY3RcIiB8fCAhKHJlYXNvbiBpbnN0YW5jZW9mIEVycm9yKSkge1xuICAgICAgICAgICAgICAgICAgICByZWFzb24gPSBuZXcgRXJyb3IoXCJBbiB1bmtub3duIGVycm9yIG9jY3VycmVkXCIpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgY29uc3QgaWQyID0gZmxhdHRlbi5jYWxsKGVuY29kZXIsIHJlYXNvbik7XG4gICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpZDIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShcbiAgICAgICAgICAgICAgICAgICAgICB0ZXh0RW5jb2Rlci5lbmNvZGUoXG4gICAgICAgICAgICAgICAgICAgICAgICBgJHtUWVBFX0VSUk9SfSR7ZGVmZXJyZWRJZH06W1tcIiR7VFlQRV9QUkVWSU9VU19SRVNPTFZFRH1cIiwke2lkMlswXX1dXVxuYFxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgZW5jb2Rlci5pbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICBsYXN0U2VudEluZGV4Kys7XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlkMiA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKFxuICAgICAgICAgICAgICAgICAgICAgIHRleHRFbmNvZGVyLmVuY29kZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGAke1RZUEVfRVJST1J9JHtkZWZlcnJlZElkfToke2lkMn1cbmBcbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBlbmNvZGVyLnN0cmluZ2lmaWVkLnNsaWNlKGxhc3RTZW50SW5kZXggKyAxKS5qb2luKFwiLFwiKTtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKFxuICAgICAgICAgICAgICAgICAgICAgIHRleHRFbmNvZGVyLmVuY29kZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGAke1RZUEVfRVJST1J9JHtkZWZlcnJlZElkfTpbJHt2YWx1ZXN9XVxuYFxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFNlbnRJbmRleCA9IGVuY29kZXIuc3RyaW5naWZpZWQubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGVuY29kZXIuZGVmZXJyZWRbTnVtYmVyKGRlZmVycmVkSWQpXTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGF3YWl0IFByb21pc2UucmFjZShPYmplY3QudmFsdWVzKGVuY29kZXIuZGVmZXJyZWQpKTtcbiAgICAgICAgfVxuICAgICAgICByYWNlRG9uZSgpO1xuICAgICAgfVxuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoT2JqZWN0LnZhbHVlcyhlbmNvZGVyLmRlZmVycmVkKSk7XG4gICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlYWRhYmxlO1xufVxuXG4vLyBsaWIvZG9tL3Nzci9kYXRhLnRzXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVSZXF1ZXN0SW5pdChyZXF1ZXN0KSB7XG4gIGxldCBpbml0ID0geyBzaWduYWw6IHJlcXVlc3Quc2lnbmFsIH07XG4gIGlmIChyZXF1ZXN0Lm1ldGhvZCAhPT0gXCJHRVRcIikge1xuICAgIGluaXQubWV0aG9kID0gcmVxdWVzdC5tZXRob2Q7XG4gICAgbGV0IGNvbnRlbnRUeXBlID0gcmVxdWVzdC5oZWFkZXJzLmdldChcIkNvbnRlbnQtVHlwZVwiKTtcbiAgICBpZiAoY29udGVudFR5cGUgJiYgL1xcYmFwcGxpY2F0aW9uXFwvanNvblxcYi8udGVzdChjb250ZW50VHlwZSkpIHtcbiAgICAgIGluaXQuaGVhZGVycyA9IHsgXCJDb250ZW50LVR5cGVcIjogY29udGVudFR5cGUgfTtcbiAgICAgIGluaXQuYm9keSA9IEpTT04uc3RyaW5naWZ5KGF3YWl0IHJlcXVlc3QuanNvbigpKTtcbiAgICB9IGVsc2UgaWYgKGNvbnRlbnRUeXBlICYmIC9cXGJ0ZXh0XFwvcGxhaW5cXGIvLnRlc3QoY29udGVudFR5cGUpKSB7XG4gICAgICBpbml0LmhlYWRlcnMgPSB7IFwiQ29udGVudC1UeXBlXCI6IGNvbnRlbnRUeXBlIH07XG4gICAgICBpbml0LmJvZHkgPSBhd2FpdCByZXF1ZXN0LnRleHQoKTtcbiAgICB9IGVsc2UgaWYgKGNvbnRlbnRUeXBlICYmIC9cXGJhcHBsaWNhdGlvblxcL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFxcYi8udGVzdChjb250ZW50VHlwZSkpIHtcbiAgICAgIGluaXQuYm9keSA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoYXdhaXQgcmVxdWVzdC50ZXh0KCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbml0LmJvZHkgPSBhd2FpdCByZXF1ZXN0LmZvcm1EYXRhKCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBpbml0O1xufVxuXG4vLyBsaWIvZG9tL3Nzci9tYXJrdXAudHNcbnZhciBFU0NBUEVfTE9PS1VQID0ge1xuICBcIiZcIjogXCJcXFxcdTAwMjZcIixcbiAgXCI+XCI6IFwiXFxcXHUwMDNlXCIsXG4gIFwiPFwiOiBcIlxcXFx1MDAzY1wiLFxuICBcIlxcdTIwMjhcIjogXCJcXFxcdTIwMjhcIixcbiAgXCJcXHUyMDI5XCI6IFwiXFxcXHUyMDI5XCJcbn07XG52YXIgRVNDQVBFX1JFR0VYID0gL1smPjxcXHUyMDI4XFx1MjAyOV0vZztcbmZ1bmN0aW9uIGVzY2FwZUh0bWwoaHRtbCkge1xuICByZXR1cm4gaHRtbC5yZXBsYWNlKEVTQ0FQRV9SRUdFWCwgKG1hdGNoKSA9PiBFU0NBUEVfTE9PS1VQW21hdGNoXSk7XG59XG5cbi8vIGxpYi9kb20vc3NyL2ludmFyaWFudC50c1xuZnVuY3Rpb24gaW52YXJpYW50Mih2YWx1ZSwgbWVzc2FnZSkge1xuICBpZiAodmFsdWUgPT09IGZhbHNlIHx8IHZhbHVlID09PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgfVxufVxuXG4vLyBsaWIvZG9tL3Nzci9zaW5nbGUtZmV0Y2gudHN4XG52YXIgU2luZ2xlRmV0Y2hSZWRpcmVjdFN5bWJvbCA9IFN5bWJvbChcIlNpbmdsZUZldGNoUmVkaXJlY3RcIik7XG52YXIgU2luZ2xlRmV0Y2hOb1Jlc3VsdEVycm9yID0gY2xhc3MgZXh0ZW5kcyBFcnJvciB7XG59O1xudmFyIFNJTkdMRV9GRVRDSF9SRURJUkVDVF9TVEFUVVMgPSAyMDI7XG52YXIgTk9fQk9EWV9TVEFUVVNfQ09ERVMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbMTAwLCAxMDEsIDIwNCwgMjA1XSk7XG5mdW5jdGlvbiBTdHJlYW1UcmFuc2Zlcih7XG4gIGNvbnRleHQsXG4gIGlkZW50aWZpZXIsXG4gIHJlYWRlcixcbiAgdGV4dERlY29kZXIsXG4gIG5vbmNlXG59KSB7XG4gIGlmICghY29udGV4dC5yZW5kZXJNZXRhIHx8ICFjb250ZXh0LnJlbmRlck1ldGEuZGlkUmVuZGVyU2NyaXB0cykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmICghY29udGV4dC5yZW5kZXJNZXRhLnN0cmVhbUNhY2hlKSB7XG4gICAgY29udGV4dC5yZW5kZXJNZXRhLnN0cmVhbUNhY2hlID0ge307XG4gIH1cbiAgbGV0IHsgc3RyZWFtQ2FjaGUgfSA9IGNvbnRleHQucmVuZGVyTWV0YTtcbiAgbGV0IHByb21pc2UgPSBzdHJlYW1DYWNoZVtpZGVudGlmaWVyXTtcbiAgaWYgKCFwcm9taXNlKSB7XG4gICAgcHJvbWlzZSA9IHN0cmVhbUNhY2hlW2lkZW50aWZpZXJdID0gcmVhZGVyLnJlYWQoKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIHN0cmVhbUNhY2hlW2lkZW50aWZpZXJdLnJlc3VsdCA9IHtcbiAgICAgICAgZG9uZTogcmVzdWx0LmRvbmUsXG4gICAgICAgIHZhbHVlOiB0ZXh0RGVjb2Rlci5kZWNvZGUocmVzdWx0LnZhbHVlLCB7IHN0cmVhbTogdHJ1ZSB9KVxuICAgICAgfTtcbiAgICB9KS5jYXRjaCgoZSkgPT4ge1xuICAgICAgc3RyZWFtQ2FjaGVbaWRlbnRpZmllcl0uZXJyb3IgPSBlO1xuICAgIH0pO1xuICB9XG4gIGlmIChwcm9taXNlLmVycm9yKSB7XG4gICAgdGhyb3cgcHJvbWlzZS5lcnJvcjtcbiAgfVxuICBpZiAocHJvbWlzZS5yZXN1bHQgPT09IHZvaWQgMCkge1xuICAgIHRocm93IHByb21pc2U7XG4gIH1cbiAgbGV0IHsgZG9uZSwgdmFsdWUgfSA9IHByb21pc2UucmVzdWx0O1xuICBsZXQgc2NyaXB0VGFnID0gdmFsdWUgPyAvKiBAX19QVVJFX18gKi8gUmVhY3Q0LmNyZWF0ZUVsZW1lbnQoXG4gICAgXCJzY3JpcHRcIixcbiAgICB7XG4gICAgICBub25jZSxcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7XG4gICAgICAgIF9faHRtbDogYHdpbmRvdy5fX3JlYWN0Um91dGVyQ29udGV4dC5zdHJlYW1Db250cm9sbGVyLmVucXVldWUoJHtlc2NhcGVIdG1sKFxuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHZhbHVlKVxuICAgICAgICApfSk7YFxuICAgICAgfVxuICAgIH1cbiAgKSA6IG51bGw7XG4gIGlmIChkb25lKSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQuY3JlYXRlRWxlbWVudChSZWFjdDQuRnJhZ21lbnQsIG51bGwsIHNjcmlwdFRhZywgLyogQF9fUFVSRV9fICovIFJlYWN0NC5jcmVhdGVFbGVtZW50KFxuICAgICAgXCJzY3JpcHRcIixcbiAgICAgIHtcbiAgICAgICAgbm9uY2UsXG4gICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7XG4gICAgICAgICAgX19odG1sOiBgd2luZG93Ll9fcmVhY3RSb3V0ZXJDb250ZXh0LnN0cmVhbUNvbnRyb2xsZXIuY2xvc2UoKTtgXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NC5jcmVhdGVFbGVtZW50KFJlYWN0NC5GcmFnbWVudCwgbnVsbCwgc2NyaXB0VGFnLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q0LmNyZWF0ZUVsZW1lbnQoUmVhY3Q0LlN1c3BlbnNlLCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBTdHJlYW1UcmFuc2ZlcixcbiAgICAgIHtcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllciArIDEsXG4gICAgICAgIHJlYWRlcixcbiAgICAgICAgdGV4dERlY29kZXIsXG4gICAgICAgIG5vbmNlXG4gICAgICB9XG4gICAgKSkpO1xuICB9XG59XG5mdW5jdGlvbiBnZXRUdXJib1N0cmVhbVNpbmdsZUZldGNoRGF0YVN0cmF0ZWd5KGdldFJvdXRlciwgbWFuaWZlc3QsIHJvdXRlTW9kdWxlcywgc3NyLCBiYXNlbmFtZSkge1xuICBsZXQgZGF0YVN0cmF0ZWd5ID0gZ2V0U2luZ2xlRmV0Y2hEYXRhU3RyYXRlZ3lJbXBsKFxuICAgIGdldFJvdXRlcixcbiAgICAobWF0Y2gpID0+IHtcbiAgICAgIGxldCBtYW5pZmVzdFJvdXRlID0gbWFuaWZlc3Qucm91dGVzW21hdGNoLnJvdXRlLmlkXTtcbiAgICAgIGludmFyaWFudDIobWFuaWZlc3RSb3V0ZSwgXCJSb3V0ZSBub3QgZm91bmQgaW4gbWFuaWZlc3RcIik7XG4gICAgICBsZXQgcm91dGVNb2R1bGUgPSByb3V0ZU1vZHVsZXNbbWF0Y2gucm91dGUuaWRdO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaGFzTG9hZGVyOiBtYW5pZmVzdFJvdXRlLmhhc0xvYWRlcixcbiAgICAgICAgaGFzQ2xpZW50TG9hZGVyOiBtYW5pZmVzdFJvdXRlLmhhc0NsaWVudExvYWRlcixcbiAgICAgICAgaGFzU2hvdWxkUmV2YWxpZGF0ZTogQm9vbGVhbihyb3V0ZU1vZHVsZT8uc2hvdWxkUmV2YWxpZGF0ZSlcbiAgICAgIH07XG4gICAgfSxcbiAgICBmZXRjaEFuZERlY29kZVZpYVR1cmJvU3RyZWFtLFxuICAgIHNzcixcbiAgICBiYXNlbmFtZVxuICApO1xuICByZXR1cm4gYXN5bmMgKGFyZ3MpID0+IGFyZ3MucnVuQ2xpZW50TWlkZGxld2FyZShkYXRhU3RyYXRlZ3kpO1xufVxuZnVuY3Rpb24gZ2V0U2luZ2xlRmV0Y2hEYXRhU3RyYXRlZ3lJbXBsKGdldFJvdXRlciwgZ2V0Um91dGVJbmZvLCBmZXRjaEFuZERlY29kZSwgc3NyLCBiYXNlbmFtZSwgc2hvdWxkQWxsb3dPcHRPdXQgPSAoKSA9PiB0cnVlKSB7XG4gIHJldHVybiBhc3luYyAoYXJncykgPT4ge1xuICAgIGxldCB7IHJlcXVlc3QsIG1hdGNoZXMsIGZldGNoZXJLZXkgfSA9IGFyZ3M7XG4gICAgbGV0IHJvdXRlciA9IGdldFJvdXRlcigpO1xuICAgIGlmIChyZXF1ZXN0Lm1ldGhvZCAhPT0gXCJHRVRcIikge1xuICAgICAgcmV0dXJuIHNpbmdsZUZldGNoQWN0aW9uU3RyYXRlZ3koYXJncywgZmV0Y2hBbmREZWNvZGUsIGJhc2VuYW1lKTtcbiAgICB9XG4gICAgbGV0IGZvdW5kUmV2YWxpZGF0aW5nU2VydmVyTG9hZGVyID0gbWF0Y2hlcy5zb21lKChtKSA9PiB7XG4gICAgICBsZXQgeyBoYXNMb2FkZXIsIGhhc0NsaWVudExvYWRlciB9ID0gZ2V0Um91dGVJbmZvKG0pO1xuICAgICAgcmV0dXJuIG0udW5zdGFibGVfc2hvdWxkQ2FsbEhhbmRsZXIoKSAmJiBoYXNMb2FkZXIgJiYgIWhhc0NsaWVudExvYWRlcjtcbiAgICB9KTtcbiAgICBpZiAoIXNzciAmJiAhZm91bmRSZXZhbGlkYXRpbmdTZXJ2ZXJMb2FkZXIpIHtcbiAgICAgIHJldHVybiBub25Tc3JTdHJhdGVneShhcmdzLCBnZXRSb3V0ZUluZm8sIGZldGNoQW5kRGVjb2RlLCBiYXNlbmFtZSk7XG4gICAgfVxuICAgIGlmIChmZXRjaGVyS2V5KSB7XG4gICAgICByZXR1cm4gc2luZ2xlRmV0Y2hMb2FkZXJGZXRjaGVyU3RyYXRlZ3koYXJncywgZmV0Y2hBbmREZWNvZGUsIGJhc2VuYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIHNpbmdsZUZldGNoTG9hZGVyTmF2aWdhdGlvblN0cmF0ZWd5KFxuICAgICAgYXJncyxcbiAgICAgIHJvdXRlcixcbiAgICAgIGdldFJvdXRlSW5mbyxcbiAgICAgIGZldGNoQW5kRGVjb2RlLFxuICAgICAgc3NyLFxuICAgICAgYmFzZW5hbWUsXG4gICAgICBzaG91bGRBbGxvd09wdE91dFxuICAgICk7XG4gIH07XG59XG5hc3luYyBmdW5jdGlvbiBzaW5nbGVGZXRjaEFjdGlvblN0cmF0ZWd5KGFyZ3MsIGZldGNoQW5kRGVjb2RlLCBiYXNlbmFtZSkge1xuICBsZXQgYWN0aW9uTWF0Y2ggPSBhcmdzLm1hdGNoZXMuZmluZCgobSkgPT4gbS51bnN0YWJsZV9zaG91bGRDYWxsSGFuZGxlcigpKTtcbiAgaW52YXJpYW50MihhY3Rpb25NYXRjaCwgXCJObyBhY3Rpb24gbWF0Y2ggZm91bmRcIik7XG4gIGxldCBhY3Rpb25TdGF0dXMgPSB2b2lkIDA7XG4gIGxldCByZXN1bHQgPSBhd2FpdCBhY3Rpb25NYXRjaC5yZXNvbHZlKGFzeW5jIChoYW5kbGVyKSA9PiB7XG4gICAgbGV0IHJlc3VsdDIgPSBhd2FpdCBoYW5kbGVyKGFzeW5jICgpID0+IHtcbiAgICAgIGxldCB7IGRhdGE6IGRhdGEyLCBzdGF0dXMgfSA9IGF3YWl0IGZldGNoQW5kRGVjb2RlKGFyZ3MsIGJhc2VuYW1lLCBbXG4gICAgICAgIGFjdGlvbk1hdGNoLnJvdXRlLmlkXG4gICAgICBdKTtcbiAgICAgIGFjdGlvblN0YXR1cyA9IHN0YXR1cztcbiAgICAgIHJldHVybiB1bndyYXBTaW5nbGVGZXRjaFJlc3VsdChkYXRhMiwgYWN0aW9uTWF0Y2gucm91dGUuaWQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQyO1xuICB9KTtcbiAgaWYgKGlzUmVzcG9uc2UocmVzdWx0LnJlc3VsdCkgfHwgaXNSb3V0ZUVycm9yUmVzcG9uc2UocmVzdWx0LnJlc3VsdCkgfHwgaXNEYXRhV2l0aFJlc3BvbnNlSW5pdChyZXN1bHQucmVzdWx0KSkge1xuICAgIHJldHVybiB7IFthY3Rpb25NYXRjaC5yb3V0ZS5pZF06IHJlc3VsdCB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgW2FjdGlvbk1hdGNoLnJvdXRlLmlkXToge1xuICAgICAgdHlwZTogcmVzdWx0LnR5cGUsXG4gICAgICByZXN1bHQ6IGRhdGEocmVzdWx0LnJlc3VsdCwgYWN0aW9uU3RhdHVzKVxuICAgIH1cbiAgfTtcbn1cbmFzeW5jIGZ1bmN0aW9uIG5vblNzclN0cmF0ZWd5KGFyZ3MsIGdldFJvdXRlSW5mbywgZmV0Y2hBbmREZWNvZGUsIGJhc2VuYW1lKSB7XG4gIGxldCBtYXRjaGVzVG9Mb2FkID0gYXJncy5tYXRjaGVzLmZpbHRlcihcbiAgICAobSkgPT4gbS51bnN0YWJsZV9zaG91bGRDYWxsSGFuZGxlcigpXG4gICk7XG4gIGxldCByZXN1bHRzID0ge307XG4gIGF3YWl0IFByb21pc2UuYWxsKFxuICAgIG1hdGNoZXNUb0xvYWQubWFwKFxuICAgICAgKG0pID0+IG0ucmVzb2x2ZShhc3luYyAoaGFuZGxlcikgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGxldCB7IGhhc0NsaWVudExvYWRlciB9ID0gZ2V0Um91dGVJbmZvKG0pO1xuICAgICAgICAgIGxldCByb3V0ZUlkID0gbS5yb3V0ZS5pZDtcbiAgICAgICAgICBsZXQgcmVzdWx0ID0gaGFzQ2xpZW50TG9hZGVyID8gYXdhaXQgaGFuZGxlcihhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgeyBkYXRhOiBkYXRhMiB9ID0gYXdhaXQgZmV0Y2hBbmREZWNvZGUoYXJncywgYmFzZW5hbWUsIFtyb3V0ZUlkXSk7XG4gICAgICAgICAgICByZXR1cm4gdW53cmFwU2luZ2xlRmV0Y2hSZXN1bHQoZGF0YTIsIHJvdXRlSWQpO1xuICAgICAgICAgIH0pIDogYXdhaXQgaGFuZGxlcigpO1xuICAgICAgICAgIHJlc3VsdHNbbS5yb3V0ZS5pZF0gPSB7IHR5cGU6IFwiZGF0YVwiLCByZXN1bHQgfTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHJlc3VsdHNbbS5yb3V0ZS5pZF0gPSB7IHR5cGU6IFwiZXJyb3JcIiwgcmVzdWx0OiBlIH07XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKVxuICApO1xuICByZXR1cm4gcmVzdWx0cztcbn1cbmFzeW5jIGZ1bmN0aW9uIHNpbmdsZUZldGNoTG9hZGVyTmF2aWdhdGlvblN0cmF0ZWd5KGFyZ3MsIHJvdXRlciwgZ2V0Um91dGVJbmZvLCBmZXRjaEFuZERlY29kZSwgc3NyLCBiYXNlbmFtZSwgc2hvdWxkQWxsb3dPcHRPdXQgPSAoKSA9PiB0cnVlKSB7XG4gIGxldCByb3V0ZXNQYXJhbXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBsZXQgZm91bmRPcHRPdXRSb3V0ZSA9IGZhbHNlO1xuICBsZXQgcm91dGVEZmRzID0gYXJncy5tYXRjaGVzLm1hcCgoKSA9PiBjcmVhdGVEZWZlcnJlZDIoKSk7XG4gIGxldCBzaW5nbGVGZXRjaERmZCA9IGNyZWF0ZURlZmVycmVkMigpO1xuICBsZXQgcmVzdWx0cyA9IHt9O1xuICBsZXQgcmVzb2x2ZVByb21pc2UgPSBQcm9taXNlLmFsbChcbiAgICBhcmdzLm1hdGNoZXMubWFwKFxuICAgICAgYXN5bmMgKG0sIGkpID0+IG0ucmVzb2x2ZShhc3luYyAoaGFuZGxlcikgPT4ge1xuICAgICAgICByb3V0ZURmZHNbaV0ucmVzb2x2ZSgpO1xuICAgICAgICBsZXQgcm91dGVJZCA9IG0ucm91dGUuaWQ7XG4gICAgICAgIGxldCB7IGhhc0xvYWRlciwgaGFzQ2xpZW50TG9hZGVyLCBoYXNTaG91bGRSZXZhbGlkYXRlIH0gPSBnZXRSb3V0ZUluZm8obSk7XG4gICAgICAgIGxldCBkZWZhdWx0U2hvdWxkUmV2YWxpZGF0ZSA9ICFtLnVuc3RhYmxlX3Nob3VsZFJldmFsaWRhdGVBcmdzIHx8IG0udW5zdGFibGVfc2hvdWxkUmV2YWxpZGF0ZUFyZ3MuYWN0aW9uU3RhdHVzID09IG51bGwgfHwgbS51bnN0YWJsZV9zaG91bGRSZXZhbGlkYXRlQXJncy5hY3Rpb25TdGF0dXMgPCA0MDA7XG4gICAgICAgIGxldCBzaG91bGRDYWxsID0gbS51bnN0YWJsZV9zaG91bGRDYWxsSGFuZGxlcihkZWZhdWx0U2hvdWxkUmV2YWxpZGF0ZSk7XG4gICAgICAgIGlmICghc2hvdWxkQ2FsbCkge1xuICAgICAgICAgIGZvdW5kT3B0T3V0Um91dGUgfHwgKGZvdW5kT3B0T3V0Um91dGUgPSBtLnVuc3RhYmxlX3Nob3VsZFJldmFsaWRhdGVBcmdzICE9IG51bGwgJiYgLy8gVGhpcyBpcyBhIHJldmFsaWRhdGlvbixcbiAgICAgICAgICBoYXNMb2FkZXIgJiYgLy8gZm9yIGEgcm91dGUgd2l0aCBhIHNlcnZlciBsb2FkZXIsXG4gICAgICAgICAgaGFzU2hvdWxkUmV2YWxpZGF0ZSA9PT0gdHJ1ZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaG91bGRBbGxvd09wdE91dChtKSAmJiBoYXNDbGllbnRMb2FkZXIpIHtcbiAgICAgICAgICBpZiAoaGFzTG9hZGVyKSB7XG4gICAgICAgICAgICBmb3VuZE9wdE91dFJvdXRlID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBoYW5kbGVyKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgbGV0IHsgZGF0YTogZGF0YTIgfSA9IGF3YWl0IGZldGNoQW5kRGVjb2RlKGFyZ3MsIGJhc2VuYW1lLCBbcm91dGVJZF0pO1xuICAgICAgICAgICAgICByZXR1cm4gdW53cmFwU2luZ2xlRmV0Y2hSZXN1bHQoZGF0YTIsIHJvdXRlSWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXN1bHRzW3JvdXRlSWRdID0geyB0eXBlOiBcImRhdGFcIiwgcmVzdWx0IH07XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmVzdWx0c1tyb3V0ZUlkXSA9IHsgdHlwZTogXCJlcnJvclwiLCByZXN1bHQ6IGUgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYXNMb2FkZXIpIHtcbiAgICAgICAgICByb3V0ZXNQYXJhbXMuYWRkKHJvdXRlSWQpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGhhbmRsZXIoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgbGV0IGRhdGEyID0gYXdhaXQgc2luZ2xlRmV0Y2hEZmQucHJvbWlzZTtcbiAgICAgICAgICAgIHJldHVybiB1bndyYXBTaW5nbGVGZXRjaFJlc3VsdChkYXRhMiwgcm91dGVJZCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmVzdWx0c1tyb3V0ZUlkXSA9IHsgdHlwZTogXCJkYXRhXCIsIHJlc3VsdCB9O1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmVzdWx0c1tyb3V0ZUlkXSA9IHsgdHlwZTogXCJlcnJvclwiLCByZXN1bHQ6IGUgfTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApXG4gICk7XG4gIGF3YWl0IFByb21pc2UuYWxsKHJvdXRlRGZkcy5tYXAoKGQpID0+IGQucHJvbWlzZSkpO1xuICBsZXQgaXNJbml0aWFsTG9hZCA9ICFyb3V0ZXIuc3RhdGUuaW5pdGlhbGl6ZWQgJiYgcm91dGVyLnN0YXRlLm5hdmlnYXRpb24uc3RhdGUgPT09IFwiaWRsZVwiO1xuICBpZiAoKGlzSW5pdGlhbExvYWQgfHwgcm91dGVzUGFyYW1zLnNpemUgPT09IDApICYmICF3aW5kb3cuX19yZWFjdFJvdXRlckhkckFjdGl2ZSkge1xuICAgIHNpbmdsZUZldGNoRGZkLnJlc29sdmUoeyByb3V0ZXM6IHt9IH0pO1xuICB9IGVsc2Uge1xuICAgIGxldCB0YXJnZXRSb3V0ZXMgPSBzc3IgJiYgZm91bmRPcHRPdXRSb3V0ZSAmJiByb3V0ZXNQYXJhbXMuc2l6ZSA+IDAgPyBbLi4ucm91dGVzUGFyYW1zLmtleXMoKV0gOiB2b2lkIDA7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBkYXRhMiA9IGF3YWl0IGZldGNoQW5kRGVjb2RlKGFyZ3MsIGJhc2VuYW1lLCB0YXJnZXRSb3V0ZXMpO1xuICAgICAgc2luZ2xlRmV0Y2hEZmQucmVzb2x2ZShkYXRhMi5kYXRhKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBzaW5nbGVGZXRjaERmZC5yZWplY3QoZSk7XG4gICAgfVxuICB9XG4gIGF3YWl0IHJlc29sdmVQcm9taXNlO1xuICBhd2FpdCBidWJibGVNaWRkbGV3YXJlRXJyb3JzKFxuICAgIHNpbmdsZUZldGNoRGZkLnByb21pc2UsXG4gICAgYXJncy5tYXRjaGVzLFxuICAgIHJvdXRlc1BhcmFtcyxcbiAgICByZXN1bHRzXG4gICk7XG4gIHJldHVybiByZXN1bHRzO1xufVxuYXN5bmMgZnVuY3Rpb24gYnViYmxlTWlkZGxld2FyZUVycm9ycyhzaW5nbGVGZXRjaFByb21pc2UsIG1hdGNoZXMsIHJvdXRlc1BhcmFtcywgcmVzdWx0cykge1xuICB0cnkge1xuICAgIGxldCBtaWRkbGV3YXJlRXJyb3I7XG4gICAgbGV0IGZldGNoZWREYXRhID0gYXdhaXQgc2luZ2xlRmV0Y2hQcm9taXNlO1xuICAgIGlmIChcInJvdXRlc1wiIGluIGZldGNoZWREYXRhKSB7XG4gICAgICBmb3IgKGxldCBtYXRjaCBvZiBtYXRjaGVzKSB7XG4gICAgICAgIGlmIChtYXRjaC5yb3V0ZS5pZCBpbiBmZXRjaGVkRGF0YS5yb3V0ZXMpIHtcbiAgICAgICAgICBsZXQgcm91dGVSZXN1bHQgPSBmZXRjaGVkRGF0YS5yb3V0ZXNbbWF0Y2gucm91dGUuaWRdO1xuICAgICAgICAgIGlmIChcImVycm9yXCIgaW4gcm91dGVSZXN1bHQpIHtcbiAgICAgICAgICAgIG1pZGRsZXdhcmVFcnJvciA9IHJvdXRlUmVzdWx0LmVycm9yO1xuICAgICAgICAgICAgaWYgKHJlc3VsdHNbbWF0Y2gucm91dGUuaWRdPy5yZXN1bHQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICByZXN1bHRzW21hdGNoLnJvdXRlLmlkXSA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImVycm9yXCIsXG4gICAgICAgICAgICAgICAgcmVzdWx0OiBtaWRkbGV3YXJlRXJyb3JcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAobWlkZGxld2FyZUVycm9yICE9PSB2b2lkIDApIHtcbiAgICAgIEFycmF5LmZyb20ocm91dGVzUGFyYW1zLnZhbHVlcygpKS5mb3JFYWNoKChyb3V0ZUlkKSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHRzW3JvdXRlSWRdLnJlc3VsdCBpbnN0YW5jZW9mIFNpbmdsZUZldGNoTm9SZXN1bHRFcnJvcikge1xuICAgICAgICAgIHJlc3VsdHNbcm91dGVJZF0ucmVzdWx0ID0gbWlkZGxld2FyZUVycm9yO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgfVxufVxuYXN5bmMgZnVuY3Rpb24gc2luZ2xlRmV0Y2hMb2FkZXJGZXRjaGVyU3RyYXRlZ3koYXJncywgZmV0Y2hBbmREZWNvZGUsIGJhc2VuYW1lKSB7XG4gIGxldCBmZXRjaGVyTWF0Y2ggPSBhcmdzLm1hdGNoZXMuZmluZCgobSkgPT4gbS51bnN0YWJsZV9zaG91bGRDYWxsSGFuZGxlcigpKTtcbiAgaW52YXJpYW50MihmZXRjaGVyTWF0Y2gsIFwiTm8gZmV0Y2hlciBtYXRjaCBmb3VuZFwiKTtcbiAgbGV0IHJvdXRlSWQgPSBmZXRjaGVyTWF0Y2gucm91dGUuaWQ7XG4gIGxldCByZXN1bHQgPSBhd2FpdCBmZXRjaGVyTWF0Y2gucmVzb2x2ZShcbiAgICBhc3luYyAoaGFuZGxlcikgPT4gaGFuZGxlcihhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgeyBkYXRhOiBkYXRhMiB9ID0gYXdhaXQgZmV0Y2hBbmREZWNvZGUoYXJncywgYmFzZW5hbWUsIFtyb3V0ZUlkXSk7XG4gICAgICByZXR1cm4gdW53cmFwU2luZ2xlRmV0Y2hSZXN1bHQoZGF0YTIsIHJvdXRlSWQpO1xuICAgIH0pXG4gICk7XG4gIHJldHVybiB7IFtmZXRjaGVyTWF0Y2gucm91dGUuaWRdOiByZXN1bHQgfTtcbn1cbmZ1bmN0aW9uIHN0cmlwSW5kZXhQYXJhbSh1cmwpIHtcbiAgbGV0IGluZGV4VmFsdWVzID0gdXJsLnNlYXJjaFBhcmFtcy5nZXRBbGwoXCJpbmRleFwiKTtcbiAgdXJsLnNlYXJjaFBhcmFtcy5kZWxldGUoXCJpbmRleFwiKTtcbiAgbGV0IGluZGV4VmFsdWVzVG9LZWVwID0gW107XG4gIGZvciAobGV0IGluZGV4VmFsdWUgb2YgaW5kZXhWYWx1ZXMpIHtcbiAgICBpZiAoaW5kZXhWYWx1ZSkge1xuICAgICAgaW5kZXhWYWx1ZXNUb0tlZXAucHVzaChpbmRleFZhbHVlKTtcbiAgICB9XG4gIH1cbiAgZm9yIChsZXQgdG9LZWVwIG9mIGluZGV4VmFsdWVzVG9LZWVwKSB7XG4gICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJpbmRleFwiLCB0b0tlZXApO1xuICB9XG4gIHJldHVybiB1cmw7XG59XG5mdW5jdGlvbiBzaW5nbGVGZXRjaFVybChyZXFVcmwsIGJhc2VuYW1lLCBleHRlbnNpb24pIHtcbiAgbGV0IHVybCA9IHR5cGVvZiByZXFVcmwgPT09IFwic3RyaW5nXCIgPyBuZXcgVVJMKFxuICAgIHJlcVVybCxcbiAgICAvLyBUaGlzIGNhbiBiZSBjYWxsZWQgZHVyaW5nIHRoZSBTU1IgZmxvdyB2aWEgUHJlZmV0Y2hQYWdlTGlua3NJbXBsIHNvXG4gICAgLy8gZG9uJ3QgYXNzdW1lIHdpbmRvdyBpcyBhdmFpbGFibGVcbiAgICB0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiID8gXCJzZXJ2ZXI6Ly9zaW5nbGVmZXRjaC9cIiA6IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW5cbiAgKSA6IHJlcVVybDtcbiAgaWYgKHVybC5wYXRobmFtZSA9PT0gXCIvXCIpIHtcbiAgICB1cmwucGF0aG5hbWUgPSBgX3Jvb3QuJHtleHRlbnNpb259YDtcbiAgfSBlbHNlIGlmIChiYXNlbmFtZSAmJiBzdHJpcEJhc2VuYW1lKHVybC5wYXRobmFtZSwgYmFzZW5hbWUpID09PSBcIi9cIikge1xuICAgIHVybC5wYXRobmFtZSA9IGAke2Jhc2VuYW1lLnJlcGxhY2UoL1xcLyQvLCBcIlwiKX0vX3Jvb3QuJHtleHRlbnNpb259YDtcbiAgfSBlbHNlIHtcbiAgICB1cmwucGF0aG5hbWUgPSBgJHt1cmwucGF0aG5hbWUucmVwbGFjZSgvXFwvJC8sIFwiXCIpfS4ke2V4dGVuc2lvbn1gO1xuICB9XG4gIHJldHVybiB1cmw7XG59XG5hc3luYyBmdW5jdGlvbiBmZXRjaEFuZERlY29kZVZpYVR1cmJvU3RyZWFtKGFyZ3MsIGJhc2VuYW1lLCB0YXJnZXRSb3V0ZXMpIHtcbiAgbGV0IHsgcmVxdWVzdCB9ID0gYXJncztcbiAgbGV0IHVybCA9IHNpbmdsZUZldGNoVXJsKHJlcXVlc3QudXJsLCBiYXNlbmFtZSwgXCJkYXRhXCIpO1xuICBpZiAocmVxdWVzdC5tZXRob2QgPT09IFwiR0VUXCIpIHtcbiAgICB1cmwgPSBzdHJpcEluZGV4UGFyYW0odXJsKTtcbiAgICBpZiAodGFyZ2V0Um91dGVzKSB7XG4gICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldChcIl9yb3V0ZXNcIiwgdGFyZ2V0Um91dGVzLmpvaW4oXCIsXCIpKTtcbiAgICB9XG4gIH1cbiAgbGV0IHJlcyA9IGF3YWl0IGZldGNoKHVybCwgYXdhaXQgY3JlYXRlUmVxdWVzdEluaXQocmVxdWVzdCkpO1xuICBpZiAocmVzLnN0YXR1cyA+PSA0MDAgJiYgIXJlcy5oZWFkZXJzLmhhcyhcIlgtUmVtaXgtUmVzcG9uc2VcIikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3JSZXNwb25zZUltcGwocmVzLnN0YXR1cywgcmVzLnN0YXR1c1RleHQsIGF3YWl0IHJlcy50ZXh0KCkpO1xuICB9XG4gIGlmIChyZXMuc3RhdHVzID09PSAyMDQgJiYgcmVzLmhlYWRlcnMuaGFzKFwiWC1SZW1peC1SZWRpcmVjdFwiKSkge1xuICAgIHJldHVybiB7XG4gICAgICBzdGF0dXM6IFNJTkdMRV9GRVRDSF9SRURJUkVDVF9TVEFUVVMsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHJlZGlyZWN0OiB7XG4gICAgICAgICAgcmVkaXJlY3Q6IHJlcy5oZWFkZXJzLmdldChcIlgtUmVtaXgtUmVkaXJlY3RcIiksXG4gICAgICAgICAgc3RhdHVzOiBOdW1iZXIocmVzLmhlYWRlcnMuZ2V0KFwiWC1SZW1peC1TdGF0dXNcIikgfHwgXCIzMDJcIiksXG4gICAgICAgICAgcmV2YWxpZGF0ZTogcmVzLmhlYWRlcnMuZ2V0KFwiWC1SZW1peC1SZXZhbGlkYXRlXCIpID09PSBcInRydWVcIixcbiAgICAgICAgICByZWxvYWQ6IHJlcy5oZWFkZXJzLmdldChcIlgtUmVtaXgtUmVsb2FkLURvY3VtZW50XCIpID09PSBcInRydWVcIixcbiAgICAgICAgICByZXBsYWNlOiByZXMuaGVhZGVycy5nZXQoXCJYLVJlbWl4LVJlcGxhY2VcIikgPT09IFwidHJ1ZVwiXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGlmIChOT19CT0RZX1NUQVRVU19DT0RFUy5oYXMocmVzLnN0YXR1cykpIHtcbiAgICBsZXQgcm91dGVzID0ge307XG4gICAgaWYgKHRhcmdldFJvdXRlcyAmJiByZXF1ZXN0Lm1ldGhvZCAhPT0gXCJHRVRcIikge1xuICAgICAgcm91dGVzW3RhcmdldFJvdXRlc1swXV0gPSB7IGRhdGE6IHZvaWQgMCB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgc3RhdHVzOiByZXMuc3RhdHVzLFxuICAgICAgZGF0YTogeyByb3V0ZXMgfVxuICAgIH07XG4gIH1cbiAgaW52YXJpYW50MihyZXMuYm9keSwgXCJObyByZXNwb25zZSBib2R5IHRvIGRlY29kZVwiKTtcbiAgdHJ5IHtcbiAgICBsZXQgZGVjb2RlZCA9IGF3YWl0IGRlY29kZVZpYVR1cmJvU3RyZWFtKHJlcy5ib2R5LCB3aW5kb3cpO1xuICAgIGxldCBkYXRhMjtcbiAgICBpZiAocmVxdWVzdC5tZXRob2QgPT09IFwiR0VUXCIpIHtcbiAgICAgIGxldCB0eXBlZCA9IGRlY29kZWQudmFsdWU7XG4gICAgICBpZiAoU2luZ2xlRmV0Y2hSZWRpcmVjdFN5bWJvbCBpbiB0eXBlZCkge1xuICAgICAgICBkYXRhMiA9IHsgcmVkaXJlY3Q6IHR5cGVkW1NpbmdsZUZldGNoUmVkaXJlY3RTeW1ib2xdIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhMiA9IHsgcm91dGVzOiB0eXBlZCB9O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgdHlwZWQgPSBkZWNvZGVkLnZhbHVlO1xuICAgICAgbGV0IHJvdXRlSWQgPSB0YXJnZXRSb3V0ZXM/LlswXTtcbiAgICAgIGludmFyaWFudDIocm91dGVJZCwgXCJObyByb3V0ZUlkIGZvdW5kIGZvciBzaW5nbGUgZmV0Y2ggY2FsbCBkZWNvZGluZ1wiKTtcbiAgICAgIGlmIChcInJlZGlyZWN0XCIgaW4gdHlwZWQpIHtcbiAgICAgICAgZGF0YTIgPSB7IHJlZGlyZWN0OiB0eXBlZCB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0YTIgPSB7IHJvdXRlczogeyBbcm91dGVJZF06IHR5cGVkIH0gfTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgc3RhdHVzOiByZXMuc3RhdHVzLCBkYXRhOiBkYXRhMiB9O1xuICB9IGNhdGNoIChlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGRlY29kZSB0dXJiby1zdHJlYW0gcmVzcG9uc2VcIik7XG4gIH1cbn1cbmZ1bmN0aW9uIGRlY29kZVZpYVR1cmJvU3RyZWFtKGJvZHksIGdsb2JhbCkge1xuICByZXR1cm4gZGVjb2RlKGJvZHksIHtcbiAgICBwbHVnaW5zOiBbXG4gICAgICAodHlwZSwgLi4ucmVzdCkgPT4ge1xuICAgICAgICBpZiAodHlwZSA9PT0gXCJTYW5pdGl6ZWRFcnJvclwiKSB7XG4gICAgICAgICAgbGV0IFtuYW1lLCBtZXNzYWdlLCBzdGFja10gPSByZXN0O1xuICAgICAgICAgIGxldCBDb25zdHJ1Y3RvciA9IEVycm9yO1xuICAgICAgICAgIGlmIChuYW1lICYmIG5hbWUgaW4gZ2xvYmFsICYmIHR5cGVvZiBnbG9iYWxbbmFtZV0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgQ29uc3RydWN0b3IgPSBnbG9iYWxbbmFtZV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBlcnJvciA9IG5ldyBDb25zdHJ1Y3RvcihtZXNzYWdlKTtcbiAgICAgICAgICBlcnJvci5zdGFjayA9IHN0YWNrO1xuICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBlcnJvciB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSBcIkVycm9yUmVzcG9uc2VcIikge1xuICAgICAgICAgIGxldCBbZGF0YTIsIHN0YXR1cywgc3RhdHVzVGV4dF0gPSByZXN0O1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogbmV3IEVycm9yUmVzcG9uc2VJbXBsKHN0YXR1cywgc3RhdHVzVGV4dCwgZGF0YTIpXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gXCJTaW5nbGVGZXRjaFJlZGlyZWN0XCIpIHtcbiAgICAgICAgICByZXR1cm4geyB2YWx1ZTogeyBbU2luZ2xlRmV0Y2hSZWRpcmVjdFN5bWJvbF06IHJlc3RbMF0gfSB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSBcIlNpbmdsZUZldGNoQ2xhc3NJbnN0YW5jZVwiKSB7XG4gICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHJlc3RbMF0gfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gXCJTaW5nbGVGZXRjaEZhbGxiYWNrXCIpIHtcbiAgICAgICAgICByZXR1cm4geyB2YWx1ZTogdm9pZCAwIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdXG4gIH0pO1xufVxuZnVuY3Rpb24gdW53cmFwU2luZ2xlRmV0Y2hSZXN1bHQocmVzdWx0LCByb3V0ZUlkKSB7XG4gIGlmIChcInJlZGlyZWN0XCIgaW4gcmVzdWx0KSB7XG4gICAgbGV0IHtcbiAgICAgIHJlZGlyZWN0OiBsb2NhdGlvbixcbiAgICAgIHJldmFsaWRhdGUsXG4gICAgICByZWxvYWQsXG4gICAgICByZXBsYWNlOiByZXBsYWNlMixcbiAgICAgIHN0YXR1c1xuICAgIH0gPSByZXN1bHQucmVkaXJlY3Q7XG4gICAgdGhyb3cgcmVkaXJlY3QobG9jYXRpb24sIHtcbiAgICAgIHN0YXR1cyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgLy8gVGhyZWUgUidzIG9mIHJlZGlyZWN0aW5nIChsb2wgVmVlcClcbiAgICAgICAgLi4ucmV2YWxpZGF0ZSA/IHsgXCJYLVJlbWl4LVJldmFsaWRhdGVcIjogXCJ5ZXNcIiB9IDogbnVsbCxcbiAgICAgICAgLi4ucmVsb2FkID8geyBcIlgtUmVtaXgtUmVsb2FkLURvY3VtZW50XCI6IFwieWVzXCIgfSA6IG51bGwsXG4gICAgICAgIC4uLnJlcGxhY2UyID8geyBcIlgtUmVtaXgtUmVwbGFjZVwiOiBcInllc1wiIH0gOiBudWxsXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgbGV0IHJvdXRlUmVzdWx0ID0gcmVzdWx0LnJvdXRlc1tyb3V0ZUlkXTtcbiAgaWYgKHJvdXRlUmVzdWx0ID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgU2luZ2xlRmV0Y2hOb1Jlc3VsdEVycm9yKFxuICAgICAgYE5vIHJlc3VsdCBmb3VuZCBmb3Igcm91dGVJZCBcIiR7cm91dGVJZH1cImBcbiAgICApO1xuICB9IGVsc2UgaWYgKFwiZXJyb3JcIiBpbiByb3V0ZVJlc3VsdCkge1xuICAgIHRocm93IHJvdXRlUmVzdWx0LmVycm9yO1xuICB9IGVsc2UgaWYgKFwiZGF0YVwiIGluIHJvdXRlUmVzdWx0KSB7XG4gICAgcmV0dXJuIHJvdXRlUmVzdWx0LmRhdGE7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHJlc3BvbnNlIGZvdW5kIGZvciByb3V0ZUlkIFwiJHtyb3V0ZUlkfVwiYCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZURlZmVycmVkMigpIHtcbiAgbGV0IHJlc29sdmU7XG4gIGxldCByZWplY3Q7XG4gIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XG4gICAgcmVzb2x2ZSA9IGFzeW5jICh2YWwpID0+IHtcbiAgICAgIHJlcyh2YWwpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgcHJvbWlzZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJlamVjdCA9IGFzeW5jIChlcnJvcikgPT4ge1xuICAgICAgcmVqKGVycm9yKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHByb21pc2U7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgcHJvbWlzZSxcbiAgICAvL0B0cy1pZ25vcmVcbiAgICByZXNvbHZlLFxuICAgIC8vQHRzLWlnbm9yZVxuICAgIHJlamVjdFxuICB9O1xufVxuXG4vLyBsaWIvZG9tL3Nzci9lcnJvckJvdW5kYXJpZXMudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDkgZnJvbSBcInJlYWN0XCI7XG5cbi8vIGxpYi9kb20vc3NyL2NvbXBvbmVudHMudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDggZnJvbSBcInJlYWN0XCI7XG5cbi8vIGxpYi9kb20vc3NyL3JvdXRlTW9kdWxlcy50c1xuYXN5bmMgZnVuY3Rpb24gbG9hZFJvdXRlTW9kdWxlKHJvdXRlLCByb3V0ZU1vZHVsZXNDYWNoZSkge1xuICBpZiAocm91dGUuaWQgaW4gcm91dGVNb2R1bGVzQ2FjaGUpIHtcbiAgICByZXR1cm4gcm91dGVNb2R1bGVzQ2FjaGVbcm91dGUuaWRdO1xuICB9XG4gIHRyeSB7XG4gICAgbGV0IHJvdXRlTW9kdWxlID0gYXdhaXQgaW1wb3J0KFxuICAgICAgLyogQHZpdGUtaWdub3JlICovXG4gICAgICAvKiB3ZWJwYWNrSWdub3JlOiB0cnVlICovXG4gICAgICByb3V0ZS5tb2R1bGVcbiAgICApO1xuICAgIHJvdXRlTW9kdWxlc0NhY2hlW3JvdXRlLmlkXSA9IHJvdXRlTW9kdWxlO1xuICAgIHJldHVybiByb3V0ZU1vZHVsZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgYEVycm9yIGxvYWRpbmcgcm91dGUgbW9kdWxlIFxcYCR7cm91dGUubW9kdWxlfVxcYCwgcmVsb2FkaW5nIHBhZ2UuLi5gXG4gICAgKTtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICBpZiAod2luZG93Ll9fcmVhY3RSb3V0ZXJDb250ZXh0ICYmIHdpbmRvdy5fX3JlYWN0Um91dGVyQ29udGV4dC5pc1NwYU1vZGUgJiYgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgIGltcG9ydC5tZXRhLmhvdCkge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKCkgPT4ge1xuICAgIH0pO1xuICB9XG59XG5cbi8vIGxpYi9kb20vc3NyL2xpbmtzLnRzXG5mdW5jdGlvbiBnZXRLZXllZExpbmtzRm9yTWF0Y2hlcyhtYXRjaGVzLCByb3V0ZU1vZHVsZXMsIG1hbmlmZXN0KSB7XG4gIGxldCBkZXNjcmlwdG9ycyA9IG1hdGNoZXMubWFwKChtYXRjaCkgPT4ge1xuICAgIGxldCBtb2R1bGUgPSByb3V0ZU1vZHVsZXNbbWF0Y2gucm91dGUuaWRdO1xuICAgIGxldCByb3V0ZSA9IG1hbmlmZXN0LnJvdXRlc1ttYXRjaC5yb3V0ZS5pZF07XG4gICAgcmV0dXJuIFtcbiAgICAgIHJvdXRlICYmIHJvdXRlLmNzcyA/IHJvdXRlLmNzcy5tYXAoKGhyZWYpID0+ICh7IHJlbDogXCJzdHlsZXNoZWV0XCIsIGhyZWYgfSkpIDogW10sXG4gICAgICBtb2R1bGU/LmxpbmtzPy4oKSB8fCBbXVxuICAgIF07XG4gIH0pLmZsYXQoMik7XG4gIGxldCBwcmVsb2FkcyA9IGdldE1vZHVsZUxpbmtIcmVmcyhtYXRjaGVzLCBtYW5pZmVzdCk7XG4gIHJldHVybiBkZWR1cGVMaW5rRGVzY3JpcHRvcnMoZGVzY3JpcHRvcnMsIHByZWxvYWRzKTtcbn1cbmZ1bmN0aW9uIGdldFJvdXRlQ3NzRGVzY3JpcHRvcnMocm91dGUpIHtcbiAgaWYgKCFyb3V0ZS5jc3MpIHJldHVybiBbXTtcbiAgcmV0dXJuIHJvdXRlLmNzcy5tYXAoKGhyZWYpID0+ICh7IHJlbDogXCJzdHlsZXNoZWV0XCIsIGhyZWYgfSkpO1xufVxuYXN5bmMgZnVuY3Rpb24gcHJlZmV0Y2hSb3V0ZUNzcyhyb3V0ZSkge1xuICBpZiAoIXJvdXRlLmNzcykgcmV0dXJuO1xuICBsZXQgZGVzY3JpcHRvcnMgPSBnZXRSb3V0ZUNzc0Rlc2NyaXB0b3JzKHJvdXRlKTtcbiAgYXdhaXQgUHJvbWlzZS5hbGwoZGVzY3JpcHRvcnMubWFwKHByZWZldGNoU3R5bGVMaW5rKSk7XG59XG5hc3luYyBmdW5jdGlvbiBwcmVmZXRjaFN0eWxlTGlua3Mocm91dGUsIHJvdXRlTW9kdWxlKSB7XG4gIGlmICghcm91dGUuY3NzICYmICFyb3V0ZU1vZHVsZS5saW5rcyB8fCAhaXNQcmVsb2FkU3VwcG9ydGVkKCkpIHJldHVybjtcbiAgbGV0IGRlc2NyaXB0b3JzID0gW107XG4gIGlmIChyb3V0ZS5jc3MpIHtcbiAgICBkZXNjcmlwdG9ycy5wdXNoKC4uLmdldFJvdXRlQ3NzRGVzY3JpcHRvcnMocm91dGUpKTtcbiAgfVxuICBpZiAocm91dGVNb2R1bGUubGlua3MpIHtcbiAgICBkZXNjcmlwdG9ycy5wdXNoKC4uLnJvdXRlTW9kdWxlLmxpbmtzKCkpO1xuICB9XG4gIGlmIChkZXNjcmlwdG9ycy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgbGV0IHN0eWxlTGlua3MgPSBbXTtcbiAgZm9yIChsZXQgZGVzY3JpcHRvciBvZiBkZXNjcmlwdG9ycykge1xuICAgIGlmICghaXNQYWdlTGlua0Rlc2NyaXB0b3IoZGVzY3JpcHRvcikgJiYgZGVzY3JpcHRvci5yZWwgPT09IFwic3R5bGVzaGVldFwiKSB7XG4gICAgICBzdHlsZUxpbmtzLnB1c2goe1xuICAgICAgICAuLi5kZXNjcmlwdG9yLFxuICAgICAgICByZWw6IFwicHJlbG9hZFwiLFxuICAgICAgICBhczogXCJzdHlsZVwiXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgYXdhaXQgUHJvbWlzZS5hbGwoc3R5bGVMaW5rcy5tYXAocHJlZmV0Y2hTdHlsZUxpbmspKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHByZWZldGNoU3R5bGVMaW5rKGRlc2NyaXB0b3IpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgaWYgKGRlc2NyaXB0b3IubWVkaWEgJiYgIXdpbmRvdy5tYXRjaE1lZGlhKGRlc2NyaXB0b3IubWVkaWEpLm1hdGNoZXMgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGBsaW5rW3JlbD1cInN0eWxlc2hlZXRcIl1baHJlZj1cIiR7ZGVzY3JpcHRvci5ocmVmfVwiXWBcbiAgICApKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZSgpO1xuICAgIH1cbiAgICBsZXQgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuICAgIE9iamVjdC5hc3NpZ24obGluaywgZGVzY3JpcHRvcik7XG4gICAgZnVuY3Rpb24gcmVtb3ZlTGluaygpIHtcbiAgICAgIGlmIChkb2N1bWVudC5oZWFkLmNvbnRhaW5zKGxpbmspKSB7XG4gICAgICAgIGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQobGluayk7XG4gICAgICB9XG4gICAgfVxuICAgIGxpbmsub25sb2FkID0gKCkgPT4ge1xuICAgICAgcmVtb3ZlTGluaygpO1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH07XG4gICAgbGluay5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgcmVtb3ZlTGluaygpO1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH07XG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChsaW5rKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBpc1BhZ2VMaW5rRGVzY3JpcHRvcihvYmplY3QpIHtcbiAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIHR5cGVvZiBvYmplY3QucGFnZSA9PT0gXCJzdHJpbmdcIjtcbn1cbmZ1bmN0aW9uIGlzSHRtbExpbmtEZXNjcmlwdG9yKG9iamVjdCkge1xuICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKG9iamVjdC5ocmVmID09IG51bGwpIHtcbiAgICByZXR1cm4gb2JqZWN0LnJlbCA9PT0gXCJwcmVsb2FkXCIgJiYgdHlwZW9mIG9iamVjdC5pbWFnZVNyY1NldCA9PT0gXCJzdHJpbmdcIiAmJiB0eXBlb2Ygb2JqZWN0LmltYWdlU2l6ZXMgPT09IFwic3RyaW5nXCI7XG4gIH1cbiAgcmV0dXJuIHR5cGVvZiBvYmplY3QucmVsID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiBvYmplY3QuaHJlZiA9PT0gXCJzdHJpbmdcIjtcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldEtleWVkUHJlZmV0Y2hMaW5rcyhtYXRjaGVzLCBtYW5pZmVzdCwgcm91dGVNb2R1bGVzKSB7XG4gIGxldCBsaW5rcyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgIG1hdGNoZXMubWFwKGFzeW5jIChtYXRjaCkgPT4ge1xuICAgICAgbGV0IHJvdXRlID0gbWFuaWZlc3Qucm91dGVzW21hdGNoLnJvdXRlLmlkXTtcbiAgICAgIGlmIChyb3V0ZSkge1xuICAgICAgICBsZXQgbW9kID0gYXdhaXQgbG9hZFJvdXRlTW9kdWxlKHJvdXRlLCByb3V0ZU1vZHVsZXMpO1xuICAgICAgICByZXR1cm4gbW9kLmxpbmtzID8gbW9kLmxpbmtzKCkgOiBbXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbXTtcbiAgICB9KVxuICApO1xuICByZXR1cm4gZGVkdXBlTGlua0Rlc2NyaXB0b3JzKFxuICAgIGxpbmtzLmZsYXQoMSkuZmlsdGVyKGlzSHRtbExpbmtEZXNjcmlwdG9yKS5maWx0ZXIoKGxpbmspID0+IGxpbmsucmVsID09PSBcInN0eWxlc2hlZXRcIiB8fCBsaW5rLnJlbCA9PT0gXCJwcmVsb2FkXCIpLm1hcChcbiAgICAgIChsaW5rKSA9PiBsaW5rLnJlbCA9PT0gXCJzdHlsZXNoZWV0XCIgPyB7IC4uLmxpbmssIHJlbDogXCJwcmVmZXRjaFwiLCBhczogXCJzdHlsZVwiIH0gOiB7IC4uLmxpbmssIHJlbDogXCJwcmVmZXRjaFwiIH1cbiAgICApXG4gICk7XG59XG5mdW5jdGlvbiBnZXROZXdNYXRjaGVzRm9yTGlua3MocGFnZSwgbmV4dE1hdGNoZXMsIGN1cnJlbnRNYXRjaGVzLCBtYW5pZmVzdCwgbG9jYXRpb24sIG1vZGUpIHtcbiAgbGV0IGlzTmV3ID0gKG1hdGNoLCBpbmRleCkgPT4ge1xuICAgIGlmICghY3VycmVudE1hdGNoZXNbaW5kZXhdKSByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gbWF0Y2gucm91dGUuaWQgIT09IGN1cnJlbnRNYXRjaGVzW2luZGV4XS5yb3V0ZS5pZDtcbiAgfTtcbiAgbGV0IG1hdGNoUGF0aENoYW5nZWQgPSAobWF0Y2gsIGluZGV4KSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIC8vIHBhcmFtIGNoYW5nZSwgL3VzZXJzLzEyMyAtPiAvdXNlcnMvNDU2XG4gICAgICBjdXJyZW50TWF0Y2hlc1tpbmRleF0ucGF0aG5hbWUgIT09IG1hdGNoLnBhdGhuYW1lIHx8IC8vIHNwbGF0IHBhcmFtIGNoYW5nZWQsIHdoaWNoIGlzIG5vdCBwcmVzZW50IGluIG1hdGNoLnBhdGhcbiAgICAgIC8vIGUuZy4gL2ZpbGVzL2ltYWdlcy9hdmF0YXIuanBnIC0+IGZpbGVzL2ZpbmFuY2VzLnhsc1xuICAgICAgY3VycmVudE1hdGNoZXNbaW5kZXhdLnJvdXRlLnBhdGg/LmVuZHNXaXRoKFwiKlwiKSAmJiBjdXJyZW50TWF0Y2hlc1tpbmRleF0ucGFyYW1zW1wiKlwiXSAhPT0gbWF0Y2gucGFyYW1zW1wiKlwiXVxuICAgICk7XG4gIH07XG4gIGlmIChtb2RlID09PSBcImFzc2V0c1wiKSB7XG4gICAgcmV0dXJuIG5leHRNYXRjaGVzLmZpbHRlcihcbiAgICAgIChtYXRjaCwgaW5kZXgpID0+IGlzTmV3KG1hdGNoLCBpbmRleCkgfHwgbWF0Y2hQYXRoQ2hhbmdlZChtYXRjaCwgaW5kZXgpXG4gICAgKTtcbiAgfVxuICBpZiAobW9kZSA9PT0gXCJkYXRhXCIpIHtcbiAgICByZXR1cm4gbmV4dE1hdGNoZXMuZmlsdGVyKChtYXRjaCwgaW5kZXgpID0+IHtcbiAgICAgIGxldCBtYW5pZmVzdFJvdXRlID0gbWFuaWZlc3Qucm91dGVzW21hdGNoLnJvdXRlLmlkXTtcbiAgICAgIGlmICghbWFuaWZlc3RSb3V0ZSB8fCAhbWFuaWZlc3RSb3V0ZS5oYXNMb2FkZXIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGlzTmV3KG1hdGNoLCBpbmRleCkgfHwgbWF0Y2hQYXRoQ2hhbmdlZChtYXRjaCwgaW5kZXgpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKG1hdGNoLnJvdXRlLnNob3VsZFJldmFsaWRhdGUpIHtcbiAgICAgICAgbGV0IHJvdXRlQ2hvaWNlID0gbWF0Y2gucm91dGUuc2hvdWxkUmV2YWxpZGF0ZSh7XG4gICAgICAgICAgY3VycmVudFVybDogbmV3IFVSTChcbiAgICAgICAgICAgIGxvY2F0aW9uLnBhdGhuYW1lICsgbG9jYXRpb24uc2VhcmNoICsgbG9jYXRpb24uaGFzaCxcbiAgICAgICAgICAgIHdpbmRvdy5vcmlnaW5cbiAgICAgICAgICApLFxuICAgICAgICAgIGN1cnJlbnRQYXJhbXM6IGN1cnJlbnRNYXRjaGVzWzBdPy5wYXJhbXMgfHwge30sXG4gICAgICAgICAgbmV4dFVybDogbmV3IFVSTChwYWdlLCB3aW5kb3cub3JpZ2luKSxcbiAgICAgICAgICBuZXh0UGFyYW1zOiBtYXRjaC5wYXJhbXMsXG4gICAgICAgICAgZGVmYXVsdFNob3VsZFJldmFsaWRhdGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0eXBlb2Ygcm91dGVDaG9pY2UgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgcmV0dXJuIHJvdXRlQ2hvaWNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gW107XG59XG5mdW5jdGlvbiBnZXRNb2R1bGVMaW5rSHJlZnMobWF0Y2hlcywgbWFuaWZlc3QsIHsgaW5jbHVkZUh5ZHJhdGVGYWxsYmFjayB9ID0ge30pIHtcbiAgcmV0dXJuIGRlZHVwZUhyZWZzKFxuICAgIG1hdGNoZXMubWFwKChtYXRjaCkgPT4ge1xuICAgICAgbGV0IHJvdXRlID0gbWFuaWZlc3Qucm91dGVzW21hdGNoLnJvdXRlLmlkXTtcbiAgICAgIGlmICghcm91dGUpIHJldHVybiBbXTtcbiAgICAgIGxldCBocmVmcyA9IFtyb3V0ZS5tb2R1bGVdO1xuICAgICAgaWYgKHJvdXRlLmNsaWVudEFjdGlvbk1vZHVsZSkge1xuICAgICAgICBocmVmcyA9IGhyZWZzLmNvbmNhdChyb3V0ZS5jbGllbnRBY3Rpb25Nb2R1bGUpO1xuICAgICAgfVxuICAgICAgaWYgKHJvdXRlLmNsaWVudExvYWRlck1vZHVsZSkge1xuICAgICAgICBocmVmcyA9IGhyZWZzLmNvbmNhdChyb3V0ZS5jbGllbnRMb2FkZXJNb2R1bGUpO1xuICAgICAgfVxuICAgICAgaWYgKGluY2x1ZGVIeWRyYXRlRmFsbGJhY2sgJiYgcm91dGUuaHlkcmF0ZUZhbGxiYWNrTW9kdWxlKSB7XG4gICAgICAgIGhyZWZzID0gaHJlZnMuY29uY2F0KHJvdXRlLmh5ZHJhdGVGYWxsYmFja01vZHVsZSk7XG4gICAgICB9XG4gICAgICBpZiAocm91dGUuaW1wb3J0cykge1xuICAgICAgICBocmVmcyA9IGhyZWZzLmNvbmNhdChyb3V0ZS5pbXBvcnRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBocmVmcztcbiAgICB9KS5mbGF0KDEpXG4gICk7XG59XG5mdW5jdGlvbiBkZWR1cGVIcmVmcyhocmVmcykge1xuICByZXR1cm4gWy4uLm5ldyBTZXQoaHJlZnMpXTtcbn1cbmZ1bmN0aW9uIHNvcnRLZXlzKG9iaikge1xuICBsZXQgc29ydGVkID0ge307XG4gIGxldCBrZXlzID0gT2JqZWN0LmtleXMob2JqKS5zb3J0KCk7XG4gIGZvciAobGV0IGtleSBvZiBrZXlzKSB7XG4gICAgc29ydGVkW2tleV0gPSBvYmpba2V5XTtcbiAgfVxuICByZXR1cm4gc29ydGVkO1xufVxuZnVuY3Rpb24gZGVkdXBlTGlua0Rlc2NyaXB0b3JzKGRlc2NyaXB0b3JzLCBwcmVsb2Fkcykge1xuICBsZXQgc2V0ID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgbGV0IHByZWxvYWRzU2V0ID0gbmV3IFNldChwcmVsb2Fkcyk7XG4gIHJldHVybiBkZXNjcmlwdG9ycy5yZWR1Y2UoKGRlZHVwZWQsIGRlc2NyaXB0b3IpID0+IHtcbiAgICBsZXQgYWxyZWFkeU1vZHVsZVByZWxvYWQgPSBwcmVsb2FkcyAmJiAhaXNQYWdlTGlua0Rlc2NyaXB0b3IoZGVzY3JpcHRvcikgJiYgZGVzY3JpcHRvci5hcyA9PT0gXCJzY3JpcHRcIiAmJiBkZXNjcmlwdG9yLmhyZWYgJiYgcHJlbG9hZHNTZXQuaGFzKGRlc2NyaXB0b3IuaHJlZik7XG4gICAgaWYgKGFscmVhZHlNb2R1bGVQcmVsb2FkKSB7XG4gICAgICByZXR1cm4gZGVkdXBlZDtcbiAgICB9XG4gICAgbGV0IGtleSA9IEpTT04uc3RyaW5naWZ5KHNvcnRLZXlzKGRlc2NyaXB0b3IpKTtcbiAgICBpZiAoIXNldC5oYXMoa2V5KSkge1xuICAgICAgc2V0LmFkZChrZXkpO1xuICAgICAgZGVkdXBlZC5wdXNoKHsga2V5LCBsaW5rOiBkZXNjcmlwdG9yIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZGVkdXBlZDtcbiAgfSwgW10pO1xufVxudmFyIF9pc1ByZWxvYWRTdXBwb3J0ZWQ7XG5mdW5jdGlvbiBpc1ByZWxvYWRTdXBwb3J0ZWQoKSB7XG4gIGlmIChfaXNQcmVsb2FkU3VwcG9ydGVkICE9PSB2b2lkIDApIHtcbiAgICByZXR1cm4gX2lzUHJlbG9hZFN1cHBvcnRlZDtcbiAgfVxuICBsZXQgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcbiAgX2lzUHJlbG9hZFN1cHBvcnRlZCA9IGVsLnJlbExpc3Quc3VwcG9ydHMoXCJwcmVsb2FkXCIpO1xuICBlbCA9IG51bGw7XG4gIHJldHVybiBfaXNQcmVsb2FkU3VwcG9ydGVkO1xufVxuXG4vLyBsaWIvZG9tL3Nzci9mb2ctb2Ytd2FyLnRzXG5pbXBvcnQgKiBhcyBSZWFjdDcgZnJvbSBcInJlYWN0XCI7XG5cbi8vIGxpYi9kb20vc3NyL3JvdXRlcy50c3hcbmltcG9ydCAqIGFzIFJlYWN0NiBmcm9tIFwicmVhY3RcIjtcblxuLy8gbGliL2RvbS9zc3IvZmFsbGJhY2sudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDUgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBSZW1peFJvb3REZWZhdWx0SHlkcmF0ZUZhbGxiYWNrKCkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KEJvdW5kYXJ5U2hlbGwsIHsgdGl0bGU6IFwiTG9hZGluZy4uLlwiLCByZW5kZXJTY3JpcHRzOiB0cnVlIH0sIEVOQUJMRV9ERVZfV0FSTklOR1MgPyAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoXG4gICAgXCJzY3JpcHRcIixcbiAgICB7XG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDoge1xuICAgICAgICBfX2h0bWw6IGBcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgXCJcXHV7MUY0QkZ9IEhleSBkZXZlbG9wZXIgXFx1ezFGNDRCfS4gWW91IGNhbiBwcm92aWRlIGEgd2F5IGJldHRlciBVWCB0aGFuIHRoaXMgXCIgK1xuICAgICAgICAgICAgICAgIFwid2hlbiB5b3VyIGFwcCBpcyBsb2FkaW5nIEpTIG1vZHVsZXMgYW5kL29yIHJ1bm5pbmcgXFxgY2xpZW50TG9hZGVyXFxgIFwiICtcbiAgICAgICAgICAgICAgICBcImZ1bmN0aW9ucy4gQ2hlY2sgb3V0IGh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL3N0YXJ0L2ZyYW1ld29yay9yb3V0ZS1tb2R1bGUjaHlkcmF0ZWZhbGxiYWNrIFwiICtcbiAgICAgICAgICAgICAgICBcImZvciBtb3JlIGluZm9ybWF0aW9uLlwiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBgXG4gICAgICB9XG4gICAgfVxuICApIDogbnVsbCk7XG59XG5cbi8vIGxpYi9kb20vc3NyL3JvdXRlcy50c3hcbmZ1bmN0aW9uIGdyb3VwUm91dGVzQnlQYXJlbnRJZChtYW5pZmVzdCkge1xuICBsZXQgcm91dGVzID0ge307XG4gIE9iamVjdC52YWx1ZXMobWFuaWZlc3QpLmZvckVhY2goKHJvdXRlKSA9PiB7XG4gICAgaWYgKHJvdXRlKSB7XG4gICAgICBsZXQgcGFyZW50SWQgPSByb3V0ZS5wYXJlbnRJZCB8fCBcIlwiO1xuICAgICAgaWYgKCFyb3V0ZXNbcGFyZW50SWRdKSB7XG4gICAgICAgIHJvdXRlc1twYXJlbnRJZF0gPSBbXTtcbiAgICAgIH1cbiAgICAgIHJvdXRlc1twYXJlbnRJZF0ucHVzaChyb3V0ZSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJvdXRlcztcbn1cbmZ1bmN0aW9uIGdldFJvdXRlQ29tcG9uZW50cyhyb3V0ZSwgcm91dGVNb2R1bGUsIGlzU3BhTW9kZSkge1xuICBsZXQgQ29tcG9uZW50NCA9IGdldFJvdXRlTW9kdWxlQ29tcG9uZW50KHJvdXRlTW9kdWxlKTtcbiAgbGV0IEh5ZHJhdGVGYWxsYmFjayA9IHJvdXRlTW9kdWxlLkh5ZHJhdGVGYWxsYmFjayAmJiAoIWlzU3BhTW9kZSB8fCByb3V0ZS5pZCA9PT0gXCJyb290XCIpID8gcm91dGVNb2R1bGUuSHlkcmF0ZUZhbGxiYWNrIDogcm91dGUuaWQgPT09IFwicm9vdFwiID8gUmVtaXhSb290RGVmYXVsdEh5ZHJhdGVGYWxsYmFjayA6IHZvaWQgMDtcbiAgbGV0IEVycm9yQm91bmRhcnkgPSByb3V0ZU1vZHVsZS5FcnJvckJvdW5kYXJ5ID8gcm91dGVNb2R1bGUuRXJyb3JCb3VuZGFyeSA6IHJvdXRlLmlkID09PSBcInJvb3RcIiA/ICgpID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDYuY3JlYXRlRWxlbWVudChSZW1peFJvb3REZWZhdWx0RXJyb3JCb3VuZGFyeSwgeyBlcnJvcjogdXNlUm91dGVFcnJvcigpIH0pIDogdm9pZCAwO1xuICBpZiAocm91dGUuaWQgPT09IFwicm9vdFwiICYmIHJvdXRlTW9kdWxlLkxheW91dCkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5Db21wb25lbnQ0ID8ge1xuICAgICAgICBlbGVtZW50OiAvKiBAX19QVVJFX18gKi8gUmVhY3Q2LmNyZWF0ZUVsZW1lbnQocm91dGVNb2R1bGUuTGF5b3V0LCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q2LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50NCwgbnVsbCkpXG4gICAgICB9IDogeyBDb21wb25lbnQ6IENvbXBvbmVudDQgfSxcbiAgICAgIC4uLkVycm9yQm91bmRhcnkgPyB7XG4gICAgICAgIGVycm9yRWxlbWVudDogLyogQF9fUFVSRV9fICovIFJlYWN0Ni5jcmVhdGVFbGVtZW50KHJvdXRlTW9kdWxlLkxheW91dCwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0Ni5jcmVhdGVFbGVtZW50KEVycm9yQm91bmRhcnksIG51bGwpKVxuICAgICAgfSA6IHsgRXJyb3JCb3VuZGFyeSB9LFxuICAgICAgLi4uSHlkcmF0ZUZhbGxiYWNrID8ge1xuICAgICAgICBoeWRyYXRlRmFsbGJhY2tFbGVtZW50OiAvKiBAX19QVVJFX18gKi8gUmVhY3Q2LmNyZWF0ZUVsZW1lbnQocm91dGVNb2R1bGUuTGF5b3V0LCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q2LmNyZWF0ZUVsZW1lbnQoSHlkcmF0ZUZhbGxiYWNrLCBudWxsKSlcbiAgICAgIH0gOiB7IEh5ZHJhdGVGYWxsYmFjayB9XG4gICAgfTtcbiAgfVxuICByZXR1cm4geyBDb21wb25lbnQ6IENvbXBvbmVudDQsIEVycm9yQm91bmRhcnksIEh5ZHJhdGVGYWxsYmFjayB9O1xufVxuZnVuY3Rpb24gY3JlYXRlU2VydmVyUm91dGVzKG1hbmlmZXN0LCByb3V0ZU1vZHVsZXMsIGZ1dHVyZSwgaXNTcGFNb2RlLCBwYXJlbnRJZCA9IFwiXCIsIHJvdXRlc0J5UGFyZW50SWQgPSBncm91cFJvdXRlc0J5UGFyZW50SWQobWFuaWZlc3QpLCBzcGFNb2RlTGF6eVByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoeyBDb21wb25lbnQ6ICgpID0+IG51bGwgfSkpIHtcbiAgcmV0dXJuIChyb3V0ZXNCeVBhcmVudElkW3BhcmVudElkXSB8fCBbXSkubWFwKChyb3V0ZSkgPT4ge1xuICAgIGxldCByb3V0ZU1vZHVsZSA9IHJvdXRlTW9kdWxlc1tyb3V0ZS5pZF07XG4gICAgaW52YXJpYW50MihcbiAgICAgIHJvdXRlTW9kdWxlLFxuICAgICAgXCJObyBgcm91dGVNb2R1bGVgIGF2YWlsYWJsZSB0byBjcmVhdGUgc2VydmVyIHJvdXRlc1wiXG4gICAgKTtcbiAgICBsZXQgZGF0YVJvdXRlID0ge1xuICAgICAgLi4uZ2V0Um91dGVDb21wb25lbnRzKHJvdXRlLCByb3V0ZU1vZHVsZSwgaXNTcGFNb2RlKSxcbiAgICAgIGNhc2VTZW5zaXRpdmU6IHJvdXRlLmNhc2VTZW5zaXRpdmUsXG4gICAgICBpZDogcm91dGUuaWQsXG4gICAgICBpbmRleDogcm91dGUuaW5kZXgsXG4gICAgICBwYXRoOiByb3V0ZS5wYXRoLFxuICAgICAgaGFuZGxlOiByb3V0ZU1vZHVsZS5oYW5kbGUsXG4gICAgICAvLyBGb3IgU1BBIE1vZGUsIGFsbCByb3V0ZXMgYXJlIGxhenkgZXhjZXB0IHJvb3QuICBIb3dldmVyIHdlIHRlbGwgdGhlXG4gICAgICAvLyByb3V0ZXIgcm9vdCBpcyBhbHNvIGxhenkgaGVyZSB0b28gc2luY2Ugd2UgZG9uJ3QgbmVlZCBhIGZ1bGxcbiAgICAgIC8vIGltcGxlbWVudGF0aW9uIC0gd2UganVzdCBuZWVkIGEgYGxhenlgIHByb3AgdG8gdGVsbCB0aGUgUlIgcmVuZGVyaW5nXG4gICAgICAvLyB3aGVyZSB0byBzdG9wIHdoaWNoIGlzIGFsd2F5cyBhdCB0aGUgcm9vdCByb3V0ZSBpbiBTUEEgbW9kZVxuICAgICAgbGF6eTogaXNTcGFNb2RlID8gKCkgPT4gc3BhTW9kZUxhenlQcm9taXNlIDogdm9pZCAwLFxuICAgICAgLy8gRm9yIHBhcnRpYWwgaHlkcmF0aW9uIHJlbmRlcmluZywgd2UgbmVlZCB0byBpbmRpY2F0ZSB3aGVuIHRoZSByb3V0ZVxuICAgICAgLy8gaGFzIGEgbG9hZGVyL2NsaWVudExvYWRlciwgYnV0IGl0IHdvbid0IGV2ZXIgYmUgY2FsbGVkIGR1cmluZyB0aGUgc3RhdGljXG4gICAgICAvLyByZW5kZXIsIHNvIGp1c3QgZ2l2ZSBpdCBhIG5vLW9wIGZ1bmN0aW9uIHNvIHdlIGNhbiByZW5kZXIgZG93biB0byB0aGVcbiAgICAgIC8vIHByb3BlciBmYWxsYmFja1xuICAgICAgbG9hZGVyOiByb3V0ZS5oYXNMb2FkZXIgfHwgcm91dGUuaGFzQ2xpZW50TG9hZGVyID8gKCkgPT4gbnVsbCA6IHZvaWQgMFxuICAgICAgLy8gV2UgZG9uJ3QgbmVlZCBtaWRkbGV3YXJlL2FjdGlvbi9zaG91bGRSZXZhbGlkYXRlIG9uIHRoZXNlIHJvdXRlcyBzaW5jZVxuICAgICAgLy8gdGhleSdyZSBmb3IgYSBzdGF0aWMgcmVuZGVyXG4gICAgfTtcbiAgICBsZXQgY2hpbGRyZW4gPSBjcmVhdGVTZXJ2ZXJSb3V0ZXMoXG4gICAgICBtYW5pZmVzdCxcbiAgICAgIHJvdXRlTW9kdWxlcyxcbiAgICAgIGZ1dHVyZSxcbiAgICAgIGlzU3BhTW9kZSxcbiAgICAgIHJvdXRlLmlkLFxuICAgICAgcm91dGVzQnlQYXJlbnRJZCxcbiAgICAgIHNwYU1vZGVMYXp5UHJvbWlzZVxuICAgICk7XG4gICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDApIGRhdGFSb3V0ZS5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgIHJldHVybiBkYXRhUm91dGU7XG4gIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlQ2xpZW50Um91dGVzV2l0aEhNUlJldmFsaWRhdGlvbk9wdE91dChuZWVkc1JldmFsaWRhdGlvbiwgbWFuaWZlc3QsIHJvdXRlTW9kdWxlc0NhY2hlLCBpbml0aWFsU3RhdGUsIHNzciwgaXNTcGFNb2RlKSB7XG4gIHJldHVybiBjcmVhdGVDbGllbnRSb3V0ZXMoXG4gICAgbWFuaWZlc3QsXG4gICAgcm91dGVNb2R1bGVzQ2FjaGUsXG4gICAgaW5pdGlhbFN0YXRlLFxuICAgIHNzcixcbiAgICBpc1NwYU1vZGUsXG4gICAgXCJcIixcbiAgICBncm91cFJvdXRlc0J5UGFyZW50SWQobWFuaWZlc3QpLFxuICAgIG5lZWRzUmV2YWxpZGF0aW9uXG4gICk7XG59XG5mdW5jdGlvbiBwcmV2ZW50SW52YWxpZFNlcnZlckhhbmRsZXJDYWxsKHR5cGUsIHJvdXRlKSB7XG4gIGlmICh0eXBlID09PSBcImxvYWRlclwiICYmICFyb3V0ZS5oYXNMb2FkZXIgfHwgdHlwZSA9PT0gXCJhY3Rpb25cIiAmJiAhcm91dGUuaGFzQWN0aW9uKSB7XG4gICAgbGV0IGZuID0gdHlwZSA9PT0gXCJhY3Rpb25cIiA/IFwic2VydmVyQWN0aW9uKClcIiA6IFwic2VydmVyTG9hZGVyKClcIjtcbiAgICBsZXQgbXNnID0gYFlvdSBhcmUgdHJ5aW5nIHRvIGNhbGwgJHtmbn0gb24gYSByb3V0ZSB0aGF0IGRvZXMgbm90IGhhdmUgYSBzZXJ2ZXIgJHt0eXBlfSAocm91dGVJZDogXCIke3JvdXRlLmlkfVwiKWA7XG4gICAgY29uc29sZS5lcnJvcihtc2cpO1xuICAgIHRocm93IG5ldyBFcnJvclJlc3BvbnNlSW1wbCg0MDAsIFwiQmFkIFJlcXVlc3RcIiwgbmV3IEVycm9yKG1zZyksIHRydWUpO1xuICB9XG59XG5mdW5jdGlvbiBub0FjdGlvbkRlZmluZWRFcnJvcih0eXBlLCByb3V0ZUlkKSB7XG4gIGxldCBhcnRpY2xlID0gdHlwZSA9PT0gXCJjbGllbnRBY3Rpb25cIiA/IFwiYVwiIDogXCJhblwiO1xuICBsZXQgbXNnID0gYFJvdXRlIFwiJHtyb3V0ZUlkfVwiIGRvZXMgbm90IGhhdmUgJHthcnRpY2xlfSAke3R5cGV9LCBidXQgeW91IGFyZSB0cnlpbmcgdG8gc3VibWl0IHRvIGl0LiBUbyBmaXggdGhpcywgcGxlYXNlIGFkZCAke2FydGljbGV9IFxcYCR7dHlwZX1cXGAgZnVuY3Rpb24gdG8gdGhlIHJvdXRlYDtcbiAgY29uc29sZS5lcnJvcihtc2cpO1xuICB0aHJvdyBuZXcgRXJyb3JSZXNwb25zZUltcGwoNDA1LCBcIk1ldGhvZCBOb3QgQWxsb3dlZFwiLCBuZXcgRXJyb3IobXNnKSwgdHJ1ZSk7XG59XG5mdW5jdGlvbiBjcmVhdGVDbGllbnRSb3V0ZXMobWFuaWZlc3QsIHJvdXRlTW9kdWxlc0NhY2hlLCBpbml0aWFsU3RhdGUsIHNzciwgaXNTcGFNb2RlLCBwYXJlbnRJZCA9IFwiXCIsIHJvdXRlc0J5UGFyZW50SWQgPSBncm91cFJvdXRlc0J5UGFyZW50SWQobWFuaWZlc3QpLCBuZWVkc1JldmFsaWRhdGlvbikge1xuICByZXR1cm4gKHJvdXRlc0J5UGFyZW50SWRbcGFyZW50SWRdIHx8IFtdKS5tYXAoKHJvdXRlKSA9PiB7XG4gICAgbGV0IHJvdXRlTW9kdWxlID0gcm91dGVNb2R1bGVzQ2FjaGVbcm91dGUuaWRdO1xuICAgIGZ1bmN0aW9uIGZldGNoU2VydmVySGFuZGxlcihzaW5nbGVGZXRjaCkge1xuICAgICAgaW52YXJpYW50MihcbiAgICAgICAgdHlwZW9mIHNpbmdsZUZldGNoID09PSBcImZ1bmN0aW9uXCIsXG4gICAgICAgIFwiTm8gc2luZ2xlIGZldGNoIGZ1bmN0aW9uIGF2YWlsYWJsZSBmb3Igcm91dGUgaGFuZGxlclwiXG4gICAgICApO1xuICAgICAgcmV0dXJuIHNpbmdsZUZldGNoKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZldGNoU2VydmVyTG9hZGVyKHNpbmdsZUZldGNoKSB7XG4gICAgICBpZiAoIXJvdXRlLmhhc0xvYWRlcikgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICAgIHJldHVybiBmZXRjaFNlcnZlckhhbmRsZXIoc2luZ2xlRmV0Y2gpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmZXRjaFNlcnZlckFjdGlvbihzaW5nbGVGZXRjaCkge1xuICAgICAgaWYgKCFyb3V0ZS5oYXNBY3Rpb24pIHtcbiAgICAgICAgdGhyb3cgbm9BY3Rpb25EZWZpbmVkRXJyb3IoXCJhY3Rpb25cIiwgcm91dGUuaWQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZldGNoU2VydmVySGFuZGxlcihzaW5nbGVGZXRjaCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByZWZldGNoTW9kdWxlKG1vZHVsZVBhdGgpIHtcbiAgICAgIGltcG9ydChcbiAgICAgICAgLyogQHZpdGUtaWdub3JlICovXG4gICAgICAgIC8qIHdlYnBhY2tJZ25vcmU6IHRydWUgKi9cbiAgICAgICAgbW9kdWxlUGF0aFxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJlZmV0Y2hSb3V0ZU1vZHVsZUNodW5rcyhyb3V0ZTIpIHtcbiAgICAgIGlmIChyb3V0ZTIuY2xpZW50QWN0aW9uTW9kdWxlKSB7XG4gICAgICAgIHByZWZldGNoTW9kdWxlKHJvdXRlMi5jbGllbnRBY3Rpb25Nb2R1bGUpO1xuICAgICAgfVxuICAgICAgaWYgKHJvdXRlMi5jbGllbnRMb2FkZXJNb2R1bGUpIHtcbiAgICAgICAgcHJlZmV0Y2hNb2R1bGUocm91dGUyLmNsaWVudExvYWRlck1vZHVsZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGZ1bmN0aW9uIHByZWZldGNoU3R5bGVzQW5kQ2FsbEhhbmRsZXIoaGFuZGxlcikge1xuICAgICAgbGV0IGNhY2hlZE1vZHVsZSA9IHJvdXRlTW9kdWxlc0NhY2hlW3JvdXRlLmlkXTtcbiAgICAgIGxldCBsaW5rUHJlZmV0Y2hQcm9taXNlID0gY2FjaGVkTW9kdWxlID8gcHJlZmV0Y2hTdHlsZUxpbmtzKHJvdXRlLCBjYWNoZWRNb2R1bGUpIDogUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gaGFuZGxlcigpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgYXdhaXQgbGlua1ByZWZldGNoUHJvbWlzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGRhdGFSb3V0ZSA9IHtcbiAgICAgIGlkOiByb3V0ZS5pZCxcbiAgICAgIGluZGV4OiByb3V0ZS5pbmRleCxcbiAgICAgIHBhdGg6IHJvdXRlLnBhdGhcbiAgICB9O1xuICAgIGlmIChyb3V0ZU1vZHVsZSkge1xuICAgICAgT2JqZWN0LmFzc2lnbihkYXRhUm91dGUsIHtcbiAgICAgICAgLi4uZGF0YVJvdXRlLFxuICAgICAgICAuLi5nZXRSb3V0ZUNvbXBvbmVudHMocm91dGUsIHJvdXRlTW9kdWxlLCBpc1NwYU1vZGUpLFxuICAgICAgICBtaWRkbGV3YXJlOiByb3V0ZU1vZHVsZS5jbGllbnRNaWRkbGV3YXJlLFxuICAgICAgICBoYW5kbGU6IHJvdXRlTW9kdWxlLmhhbmRsZSxcbiAgICAgICAgc2hvdWxkUmV2YWxpZGF0ZTogZ2V0U2hvdWxkUmV2YWxpZGF0ZUZ1bmN0aW9uKFxuICAgICAgICAgIGRhdGFSb3V0ZS5wYXRoLFxuICAgICAgICAgIHJvdXRlTW9kdWxlLFxuICAgICAgICAgIHJvdXRlLFxuICAgICAgICAgIHNzcixcbiAgICAgICAgICBuZWVkc1JldmFsaWRhdGlvblxuICAgICAgICApXG4gICAgICB9KTtcbiAgICAgIGxldCBoYXNJbml0aWFsRGF0YSA9IGluaXRpYWxTdGF0ZSAmJiBpbml0aWFsU3RhdGUubG9hZGVyRGF0YSAmJiByb3V0ZS5pZCBpbiBpbml0aWFsU3RhdGUubG9hZGVyRGF0YTtcbiAgICAgIGxldCBpbml0aWFsRGF0YSA9IGhhc0luaXRpYWxEYXRhID8gaW5pdGlhbFN0YXRlPy5sb2FkZXJEYXRhPy5bcm91dGUuaWRdIDogdm9pZCAwO1xuICAgICAgbGV0IGhhc0luaXRpYWxFcnJvciA9IGluaXRpYWxTdGF0ZSAmJiBpbml0aWFsU3RhdGUuZXJyb3JzICYmIHJvdXRlLmlkIGluIGluaXRpYWxTdGF0ZS5lcnJvcnM7XG4gICAgICBsZXQgaW5pdGlhbEVycm9yID0gaGFzSW5pdGlhbEVycm9yID8gaW5pdGlhbFN0YXRlPy5lcnJvcnM/Lltyb3V0ZS5pZF0gOiB2b2lkIDA7XG4gICAgICBsZXQgaXNIeWRyYXRpb25SZXF1ZXN0ID0gbmVlZHNSZXZhbGlkYXRpb24gPT0gbnVsbCAmJiAocm91dGVNb2R1bGUuY2xpZW50TG9hZGVyPy5oeWRyYXRlID09PSB0cnVlIHx8ICFyb3V0ZS5oYXNMb2FkZXIpO1xuICAgICAgZGF0YVJvdXRlLmxvYWRlciA9IGFzeW5jICh7IHJlcXVlc3QsIHBhcmFtcywgY29udGV4dCwgdW5zdGFibGVfcGF0dGVybiB9LCBzaW5nbGVGZXRjaCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBwcmVmZXRjaFN0eWxlc0FuZENhbGxIYW5kbGVyKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGludmFyaWFudDIoXG4gICAgICAgICAgICAgIHJvdXRlTW9kdWxlLFxuICAgICAgICAgICAgICBcIk5vIGByb3V0ZU1vZHVsZWAgYXZhaWxhYmxlIGZvciBjcml0aWNhbC1yb3V0ZSBsb2FkZXJcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmICghcm91dGVNb2R1bGUuY2xpZW50TG9hZGVyKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmZXRjaFNlcnZlckxvYWRlcihzaW5nbGVGZXRjaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcm91dGVNb2R1bGUuY2xpZW50TG9hZGVyKHtcbiAgICAgICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICB1bnN0YWJsZV9wYXR0ZXJuLFxuICAgICAgICAgICAgICBhc3luYyBzZXJ2ZXJMb2FkZXIoKSB7XG4gICAgICAgICAgICAgICAgcHJldmVudEludmFsaWRTZXJ2ZXJIYW5kbGVyQ2FsbChcImxvYWRlclwiLCByb3V0ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzSHlkcmF0aW9uUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgaWYgKGhhc0luaXRpYWxEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbml0aWFsRGF0YTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmIChoYXNJbml0aWFsRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgaW5pdGlhbEVycm9yO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2hTZXJ2ZXJMb2FkZXIoc2luZ2xlRmV0Y2gpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlzSHlkcmF0aW9uUmVxdWVzdCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgZGF0YVJvdXRlLmxvYWRlci5oeWRyYXRlID0gc2hvdWxkSHlkcmF0ZVJvdXRlTG9hZGVyKFxuICAgICAgICByb3V0ZS5pZCxcbiAgICAgICAgcm91dGVNb2R1bGUuY2xpZW50TG9hZGVyLFxuICAgICAgICByb3V0ZS5oYXNMb2FkZXIsXG4gICAgICAgIGlzU3BhTW9kZVxuICAgICAgKTtcbiAgICAgIGRhdGFSb3V0ZS5hY3Rpb24gPSAoeyByZXF1ZXN0LCBwYXJhbXMsIGNvbnRleHQsIHVuc3RhYmxlX3BhdHRlcm4gfSwgc2luZ2xlRmV0Y2gpID0+IHtcbiAgICAgICAgcmV0dXJuIHByZWZldGNoU3R5bGVzQW5kQ2FsbEhhbmRsZXIoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGludmFyaWFudDIoXG4gICAgICAgICAgICByb3V0ZU1vZHVsZSxcbiAgICAgICAgICAgIFwiTm8gYHJvdXRlTW9kdWxlYCBhdmFpbGFibGUgZm9yIGNyaXRpY2FsLXJvdXRlIGFjdGlvblwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoIXJvdXRlTW9kdWxlLmNsaWVudEFjdGlvbikge1xuICAgICAgICAgICAgaWYgKGlzU3BhTW9kZSkge1xuICAgICAgICAgICAgICB0aHJvdyBub0FjdGlvbkRlZmluZWRFcnJvcihcImNsaWVudEFjdGlvblwiLCByb3V0ZS5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmV0Y2hTZXJ2ZXJBY3Rpb24oc2luZ2xlRmV0Y2gpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcm91dGVNb2R1bGUuY2xpZW50QWN0aW9uKHtcbiAgICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgdW5zdGFibGVfcGF0dGVybixcbiAgICAgICAgICAgIGFzeW5jIHNlcnZlckFjdGlvbigpIHtcbiAgICAgICAgICAgICAgcHJldmVudEludmFsaWRTZXJ2ZXJIYW5kbGVyQ2FsbChcImFjdGlvblwiLCByb3V0ZSk7XG4gICAgICAgICAgICAgIHJldHVybiBmZXRjaFNlcnZlckFjdGlvbihzaW5nbGVGZXRjaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFyb3V0ZS5oYXNDbGllbnRMb2FkZXIpIHtcbiAgICAgICAgZGF0YVJvdXRlLmxvYWRlciA9IChfLCBzaW5nbGVGZXRjaCkgPT4gcHJlZmV0Y2hTdHlsZXNBbmRDYWxsSGFuZGxlcigoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGZldGNoU2VydmVyTG9hZGVyKHNpbmdsZUZldGNoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoIXJvdXRlLmhhc0NsaWVudEFjdGlvbikge1xuICAgICAgICBkYXRhUm91dGUuYWN0aW9uID0gKF8sIHNpbmdsZUZldGNoKSA9PiBwcmVmZXRjaFN0eWxlc0FuZENhbGxIYW5kbGVyKCgpID0+IHtcbiAgICAgICAgICBpZiAoaXNTcGFNb2RlKSB7XG4gICAgICAgICAgICB0aHJvdyBub0FjdGlvbkRlZmluZWRFcnJvcihcImNsaWVudEFjdGlvblwiLCByb3V0ZS5pZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmZXRjaFNlcnZlckFjdGlvbihzaW5nbGVGZXRjaCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgbGV0IGxhenlSb3V0ZVByb21pc2U7XG4gICAgICBhc3luYyBmdW5jdGlvbiBnZXRMYXp5Um91dGUoKSB7XG4gICAgICAgIGlmIChsYXp5Um91dGVQcm9taXNlKSB7XG4gICAgICAgICAgcmV0dXJuIGF3YWl0IGxhenlSb3V0ZVByb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgbGF6eVJvdXRlUHJvbWlzZSA9IChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgaWYgKHJvdXRlLmNsaWVudExvYWRlck1vZHVsZSB8fCByb3V0ZS5jbGllbnRBY3Rpb25Nb2R1bGUpIHtcbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDApKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IHJvdXRlTW9kdWxlUHJvbWlzZSA9IGxvYWRSb3V0ZU1vZHVsZVdpdGhCbG9ja2luZ0xpbmtzKFxuICAgICAgICAgICAgcm91dGUsXG4gICAgICAgICAgICByb3V0ZU1vZHVsZXNDYWNoZVxuICAgICAgICAgICk7XG4gICAgICAgICAgcHJlZmV0Y2hSb3V0ZU1vZHVsZUNodW5rcyhyb3V0ZSk7XG4gICAgICAgICAgcmV0dXJuIGF3YWl0IHJvdXRlTW9kdWxlUHJvbWlzZTtcbiAgICAgICAgfSkoKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGxhenlSb3V0ZVByb21pc2U7XG4gICAgICB9XG4gICAgICBkYXRhUm91dGUubGF6eSA9IHtcbiAgICAgICAgbG9hZGVyOiByb3V0ZS5oYXNDbGllbnRMb2FkZXIgPyBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgbGV0IHsgY2xpZW50TG9hZGVyIH0gPSByb3V0ZS5jbGllbnRMb2FkZXJNb2R1bGUgPyBhd2FpdCBpbXBvcnQoXG4gICAgICAgICAgICAvKiBAdml0ZS1pZ25vcmUgKi9cbiAgICAgICAgICAgIC8qIHdlYnBhY2tJZ25vcmU6IHRydWUgKi9cbiAgICAgICAgICAgIHJvdXRlLmNsaWVudExvYWRlck1vZHVsZVxuICAgICAgICAgICkgOiBhd2FpdCBnZXRMYXp5Um91dGUoKTtcbiAgICAgICAgICBpbnZhcmlhbnQyKGNsaWVudExvYWRlciwgXCJObyBgY2xpZW50TG9hZGVyYCBleHBvcnQgZm91bmRcIik7XG4gICAgICAgICAgcmV0dXJuIChhcmdzLCBzaW5nbGVGZXRjaCkgPT4gY2xpZW50TG9hZGVyKHtcbiAgICAgICAgICAgIC4uLmFyZ3MsXG4gICAgICAgICAgICBhc3luYyBzZXJ2ZXJMb2FkZXIoKSB7XG4gICAgICAgICAgICAgIHByZXZlbnRJbnZhbGlkU2VydmVySGFuZGxlckNhbGwoXCJsb2FkZXJcIiwgcm91dGUpO1xuICAgICAgICAgICAgICByZXR1cm4gZmV0Y2hTZXJ2ZXJMb2FkZXIoc2luZ2xlRmV0Y2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IDogdm9pZCAwLFxuICAgICAgICBhY3Rpb246IHJvdXRlLmhhc0NsaWVudEFjdGlvbiA/IGFzeW5jICgpID0+IHtcbiAgICAgICAgICBsZXQgY2xpZW50QWN0aW9uUHJvbWlzZSA9IHJvdXRlLmNsaWVudEFjdGlvbk1vZHVsZSA/IGltcG9ydChcbiAgICAgICAgICAgIC8qIEB2aXRlLWlnbm9yZSAqL1xuICAgICAgICAgICAgLyogd2VicGFja0lnbm9yZTogdHJ1ZSAqL1xuICAgICAgICAgICAgcm91dGUuY2xpZW50QWN0aW9uTW9kdWxlXG4gICAgICAgICAgKSA6IGdldExhenlSb3V0ZSgpO1xuICAgICAgICAgIHByZWZldGNoUm91dGVNb2R1bGVDaHVua3Mocm91dGUpO1xuICAgICAgICAgIGxldCB7IGNsaWVudEFjdGlvbiB9ID0gYXdhaXQgY2xpZW50QWN0aW9uUHJvbWlzZTtcbiAgICAgICAgICBpbnZhcmlhbnQyKGNsaWVudEFjdGlvbiwgXCJObyBgY2xpZW50QWN0aW9uYCBleHBvcnQgZm91bmRcIik7XG4gICAgICAgICAgcmV0dXJuIChhcmdzLCBzaW5nbGVGZXRjaCkgPT4gY2xpZW50QWN0aW9uKHtcbiAgICAgICAgICAgIC4uLmFyZ3MsXG4gICAgICAgICAgICBhc3luYyBzZXJ2ZXJBY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHByZXZlbnRJbnZhbGlkU2VydmVySGFuZGxlckNhbGwoXCJhY3Rpb25cIiwgcm91dGUpO1xuICAgICAgICAgICAgICByZXR1cm4gZmV0Y2hTZXJ2ZXJBY3Rpb24oc2luZ2xlRmV0Y2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IDogdm9pZCAwLFxuICAgICAgICBtaWRkbGV3YXJlOiByb3V0ZS5oYXNDbGllbnRNaWRkbGV3YXJlID8gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGxldCB7IGNsaWVudE1pZGRsZXdhcmUgfSA9IHJvdXRlLmNsaWVudE1pZGRsZXdhcmVNb2R1bGUgPyBhd2FpdCBpbXBvcnQoXG4gICAgICAgICAgICAvKiBAdml0ZS1pZ25vcmUgKi9cbiAgICAgICAgICAgIC8qIHdlYnBhY2tJZ25vcmU6IHRydWUgKi9cbiAgICAgICAgICAgIHJvdXRlLmNsaWVudE1pZGRsZXdhcmVNb2R1bGVcbiAgICAgICAgICApIDogYXdhaXQgZ2V0TGF6eVJvdXRlKCk7XG4gICAgICAgICAgaW52YXJpYW50MihjbGllbnRNaWRkbGV3YXJlLCBcIk5vIGBjbGllbnRNaWRkbGV3YXJlYCBleHBvcnQgZm91bmRcIik7XG4gICAgICAgICAgcmV0dXJuIGNsaWVudE1pZGRsZXdhcmU7XG4gICAgICAgIH0gOiB2b2lkIDAsXG4gICAgICAgIHNob3VsZFJldmFsaWRhdGU6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICBsZXQgbGF6eVJvdXRlID0gYXdhaXQgZ2V0TGF6eVJvdXRlKCk7XG4gICAgICAgICAgcmV0dXJuIGdldFNob3VsZFJldmFsaWRhdGVGdW5jdGlvbihcbiAgICAgICAgICAgIGRhdGFSb3V0ZS5wYXRoLFxuICAgICAgICAgICAgbGF6eVJvdXRlLFxuICAgICAgICAgICAgcm91dGUsXG4gICAgICAgICAgICBzc3IsXG4gICAgICAgICAgICBuZWVkc1JldmFsaWRhdGlvblxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICAgIGhhbmRsZTogYXN5bmMgKCkgPT4gKGF3YWl0IGdldExhenlSb3V0ZSgpKS5oYW5kbGUsXG4gICAgICAgIC8vIE5vIG5lZWQgdG8gd3JhcCB0aGVzZSBpbiBsYXlvdXQgc2luY2UgdGhlIHJvb3Qgcm91dGUgaXMgbmV2ZXJcbiAgICAgICAgLy8gbG9hZGVkIHZpYSByb3V0ZS5sYXp5KClcbiAgICAgICAgQ29tcG9uZW50OiBhc3luYyAoKSA9PiAoYXdhaXQgZ2V0TGF6eVJvdXRlKCkpLkNvbXBvbmVudCxcbiAgICAgICAgRXJyb3JCb3VuZGFyeTogcm91dGUuaGFzRXJyb3JCb3VuZGFyeSA/IGFzeW5jICgpID0+IChhd2FpdCBnZXRMYXp5Um91dGUoKSkuRXJyb3JCb3VuZGFyeSA6IHZvaWQgMFxuICAgICAgfTtcbiAgICB9XG4gICAgbGV0IGNoaWxkcmVuID0gY3JlYXRlQ2xpZW50Um91dGVzKFxuICAgICAgbWFuaWZlc3QsXG4gICAgICByb3V0ZU1vZHVsZXNDYWNoZSxcbiAgICAgIGluaXRpYWxTdGF0ZSxcbiAgICAgIHNzcixcbiAgICAgIGlzU3BhTW9kZSxcbiAgICAgIHJvdXRlLmlkLFxuICAgICAgcm91dGVzQnlQYXJlbnRJZCxcbiAgICAgIG5lZWRzUmV2YWxpZGF0aW9uXG4gICAgKTtcbiAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMCkgZGF0YVJvdXRlLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgcmV0dXJuIGRhdGFSb3V0ZTtcbiAgfSk7XG59XG5mdW5jdGlvbiBnZXRTaG91bGRSZXZhbGlkYXRlRnVuY3Rpb24ocGF0aCwgcm91dGUsIG1hbmlmZXN0Um91dGUsIHNzciwgbmVlZHNSZXZhbGlkYXRpb24pIHtcbiAgaWYgKG5lZWRzUmV2YWxpZGF0aW9uKSB7XG4gICAgcmV0dXJuIHdyYXBTaG91bGRSZXZhbGlkYXRlRm9ySGRyKFxuICAgICAgbWFuaWZlc3RSb3V0ZS5pZCxcbiAgICAgIHJvdXRlLnNob3VsZFJldmFsaWRhdGUsXG4gICAgICBuZWVkc1JldmFsaWRhdGlvblxuICAgICk7XG4gIH1cbiAgaWYgKCFzc3IgJiYgbWFuaWZlc3RSb3V0ZS5oYXNMb2FkZXIgJiYgIW1hbmlmZXN0Um91dGUuaGFzQ2xpZW50TG9hZGVyKSB7XG4gICAgbGV0IG15UGFyYW1zID0gcGF0aCA/IGNvbXBpbGVQYXRoKHBhdGgpWzFdLm1hcCgocCkgPT4gcC5wYXJhbU5hbWUpIDogW107XG4gICAgY29uc3QgZGlkUGFyYW1zQ2hhbmdlID0gKG9wdHMpID0+IG15UGFyYW1zLnNvbWUoKHApID0+IG9wdHMuY3VycmVudFBhcmFtc1twXSAhPT0gb3B0cy5uZXh0UGFyYW1zW3BdKTtcbiAgICBpZiAocm91dGUuc2hvdWxkUmV2YWxpZGF0ZSkge1xuICAgICAgbGV0IGZuID0gcm91dGUuc2hvdWxkUmV2YWxpZGF0ZTtcbiAgICAgIHJldHVybiAob3B0cykgPT4gZm4oe1xuICAgICAgICAuLi5vcHRzLFxuICAgICAgICBkZWZhdWx0U2hvdWxkUmV2YWxpZGF0ZTogZGlkUGFyYW1zQ2hhbmdlKG9wdHMpXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChvcHRzKSA9PiBkaWRQYXJhbXNDaGFuZ2Uob3B0cyk7XG4gICAgfVxuICB9XG4gIGlmIChzc3IgJiYgcm91dGUuc2hvdWxkUmV2YWxpZGF0ZSkge1xuICAgIGxldCBmbiA9IHJvdXRlLnNob3VsZFJldmFsaWRhdGU7XG4gICAgcmV0dXJuIChvcHRzKSA9PiBmbih7IC4uLm9wdHMsIGRlZmF1bHRTaG91bGRSZXZhbGlkYXRlOiB0cnVlIH0pO1xuICB9XG4gIHJldHVybiByb3V0ZS5zaG91bGRSZXZhbGlkYXRlO1xufVxuZnVuY3Rpb24gd3JhcFNob3VsZFJldmFsaWRhdGVGb3JIZHIocm91dGVJZCwgcm91dGVTaG91bGRSZXZhbGlkYXRlLCBuZWVkc1JldmFsaWRhdGlvbikge1xuICBsZXQgaGFuZGxlZFJldmFsaWRhdGlvbiA9IGZhbHNlO1xuICByZXR1cm4gKGFyZykgPT4ge1xuICAgIGlmICghaGFuZGxlZFJldmFsaWRhdGlvbikge1xuICAgICAgaGFuZGxlZFJldmFsaWRhdGlvbiA9IHRydWU7XG4gICAgICByZXR1cm4gbmVlZHNSZXZhbGlkYXRpb24uaGFzKHJvdXRlSWQpO1xuICAgIH1cbiAgICByZXR1cm4gcm91dGVTaG91bGRSZXZhbGlkYXRlID8gcm91dGVTaG91bGRSZXZhbGlkYXRlKGFyZykgOiBhcmcuZGVmYXVsdFNob3VsZFJldmFsaWRhdGU7XG4gIH07XG59XG5hc3luYyBmdW5jdGlvbiBsb2FkUm91dGVNb2R1bGVXaXRoQmxvY2tpbmdMaW5rcyhyb3V0ZSwgcm91dGVNb2R1bGVzKSB7XG4gIGxldCByb3V0ZU1vZHVsZVByb21pc2UgPSBsb2FkUm91dGVNb2R1bGUocm91dGUsIHJvdXRlTW9kdWxlcyk7XG4gIGxldCBwcmVmZXRjaFJvdXRlQ3NzUHJvbWlzZSA9IHByZWZldGNoUm91dGVDc3Mocm91dGUpO1xuICBsZXQgcm91dGVNb2R1bGUgPSBhd2FpdCByb3V0ZU1vZHVsZVByb21pc2U7XG4gIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICBwcmVmZXRjaFJvdXRlQ3NzUHJvbWlzZSxcbiAgICBwcmVmZXRjaFN0eWxlTGlua3Mocm91dGUsIHJvdXRlTW9kdWxlKVxuICBdKTtcbiAgcmV0dXJuIHtcbiAgICBDb21wb25lbnQ6IGdldFJvdXRlTW9kdWxlQ29tcG9uZW50KHJvdXRlTW9kdWxlKSxcbiAgICBFcnJvckJvdW5kYXJ5OiByb3V0ZU1vZHVsZS5FcnJvckJvdW5kYXJ5LFxuICAgIGNsaWVudE1pZGRsZXdhcmU6IHJvdXRlTW9kdWxlLmNsaWVudE1pZGRsZXdhcmUsXG4gICAgY2xpZW50QWN0aW9uOiByb3V0ZU1vZHVsZS5jbGllbnRBY3Rpb24sXG4gICAgY2xpZW50TG9hZGVyOiByb3V0ZU1vZHVsZS5jbGllbnRMb2FkZXIsXG4gICAgaGFuZGxlOiByb3V0ZU1vZHVsZS5oYW5kbGUsXG4gICAgbGlua3M6IHJvdXRlTW9kdWxlLmxpbmtzLFxuICAgIG1ldGE6IHJvdXRlTW9kdWxlLm1ldGEsXG4gICAgc2hvdWxkUmV2YWxpZGF0ZTogcm91dGVNb2R1bGUuc2hvdWxkUmV2YWxpZGF0ZVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0Um91dGVNb2R1bGVDb21wb25lbnQocm91dGVNb2R1bGUpIHtcbiAgaWYgKHJvdXRlTW9kdWxlLmRlZmF1bHQgPT0gbnVsbCkgcmV0dXJuIHZvaWQgMDtcbiAgbGV0IGlzRW1wdHlPYmplY3QgPSB0eXBlb2Ygcm91dGVNb2R1bGUuZGVmYXVsdCA9PT0gXCJvYmplY3RcIiAmJiBPYmplY3Qua2V5cyhyb3V0ZU1vZHVsZS5kZWZhdWx0KS5sZW5ndGggPT09IDA7XG4gIGlmICghaXNFbXB0eU9iamVjdCkge1xuICAgIHJldHVybiByb3V0ZU1vZHVsZS5kZWZhdWx0O1xuICB9XG59XG5mdW5jdGlvbiBzaG91bGRIeWRyYXRlUm91dGVMb2FkZXIocm91dGVJZCwgY2xpZW50TG9hZGVyLCBoYXNMb2FkZXIsIGlzU3BhTW9kZSkge1xuICByZXR1cm4gaXNTcGFNb2RlICYmIHJvdXRlSWQgIT09IFwicm9vdFwiIHx8IGNsaWVudExvYWRlciAhPSBudWxsICYmIChjbGllbnRMb2FkZXIuaHlkcmF0ZSA9PT0gdHJ1ZSB8fCBoYXNMb2FkZXIgIT09IHRydWUpO1xufVxuXG4vLyBsaWIvZG9tL3Nzci9mb2ctb2Ytd2FyLnRzXG52YXIgbmV4dFBhdGhzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbnZhciBkaXNjb3ZlcmVkUGF0aHNNYXhTaXplID0gMWUzO1xudmFyIGRpc2NvdmVyZWRQYXRocyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG52YXIgVVJMX0xJTUlUID0gNzY4MDtcbmZ1bmN0aW9uIGlzRm9nT2ZXYXJFbmFibGVkKHJvdXRlRGlzY292ZXJ5LCBzc3IpIHtcbiAgcmV0dXJuIHJvdXRlRGlzY292ZXJ5Lm1vZGUgPT09IFwibGF6eVwiICYmIHNzciA9PT0gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGdldFBhcnRpYWxNYW5pZmVzdCh7IHNyaSwgLi4ubWFuaWZlc3QgfSwgcm91dGVyKSB7XG4gIGxldCByb3V0ZUlkcyA9IG5ldyBTZXQocm91dGVyLnN0YXRlLm1hdGNoZXMubWFwKChtKSA9PiBtLnJvdXRlLmlkKSk7XG4gIGxldCBzZWdtZW50cyA9IHJvdXRlci5zdGF0ZS5sb2NhdGlvbi5wYXRobmFtZS5zcGxpdChcIi9cIikuZmlsdGVyKEJvb2xlYW4pO1xuICBsZXQgcGF0aHMgPSBbXCIvXCJdO1xuICBzZWdtZW50cy5wb3AoKTtcbiAgd2hpbGUgKHNlZ21lbnRzLmxlbmd0aCA+IDApIHtcbiAgICBwYXRocy5wdXNoKGAvJHtzZWdtZW50cy5qb2luKFwiL1wiKX1gKTtcbiAgICBzZWdtZW50cy5wb3AoKTtcbiAgfVxuICBwYXRocy5mb3JFYWNoKChwYXRoKSA9PiB7XG4gICAgbGV0IG1hdGNoZXMgPSBtYXRjaFJvdXRlcyhyb3V0ZXIucm91dGVzLCBwYXRoLCByb3V0ZXIuYmFzZW5hbWUpO1xuICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICBtYXRjaGVzLmZvckVhY2goKG0pID0+IHJvdXRlSWRzLmFkZChtLnJvdXRlLmlkKSk7XG4gICAgfVxuICB9KTtcbiAgbGV0IGluaXRpYWxSb3V0ZXMgPSBbLi4ucm91dGVJZHNdLnJlZHVjZShcbiAgICAoYWNjLCBpZCkgPT4gT2JqZWN0LmFzc2lnbihhY2MsIHsgW2lkXTogbWFuaWZlc3Qucm91dGVzW2lkXSB9KSxcbiAgICB7fVxuICApO1xuICByZXR1cm4ge1xuICAgIC4uLm1hbmlmZXN0LFxuICAgIHJvdXRlczogaW5pdGlhbFJvdXRlcyxcbiAgICBzcmk6IHNyaSA/IHRydWUgOiB2b2lkIDBcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldFBhdGNoUm91dGVzT25OYXZpZ2F0aW9uRnVuY3Rpb24obWFuaWZlc3QsIHJvdXRlTW9kdWxlcywgc3NyLCByb3V0ZURpc2NvdmVyeSwgaXNTcGFNb2RlLCBiYXNlbmFtZSkge1xuICBpZiAoIWlzRm9nT2ZXYXJFbmFibGVkKHJvdXRlRGlzY292ZXJ5LCBzc3IpKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICByZXR1cm4gYXN5bmMgKHsgcGF0aCwgcGF0Y2gsIHNpZ25hbCwgZmV0Y2hlcktleSB9KSA9PiB7XG4gICAgaWYgKGRpc2NvdmVyZWRQYXRocy5oYXMocGF0aCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYXdhaXQgZmV0Y2hBbmRBcHBseU1hbmlmZXN0UGF0Y2hlcyhcbiAgICAgIFtwYXRoXSxcbiAgICAgIGZldGNoZXJLZXkgPyB3aW5kb3cubG9jYXRpb24uaHJlZiA6IHBhdGgsXG4gICAgICBtYW5pZmVzdCxcbiAgICAgIHJvdXRlTW9kdWxlcyxcbiAgICAgIHNzcixcbiAgICAgIGlzU3BhTW9kZSxcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgcm91dGVEaXNjb3ZlcnkubWFuaWZlc3RQYXRoLFxuICAgICAgcGF0Y2gsXG4gICAgICBzaWduYWxcbiAgICApO1xuICB9O1xufVxuZnVuY3Rpb24gdXNlRm9nT0ZXYXJEaXNjb3Zlcnkocm91dGVyLCBtYW5pZmVzdCwgcm91dGVNb2R1bGVzLCBzc3IsIHJvdXRlRGlzY292ZXJ5LCBpc1NwYU1vZGUpIHtcbiAgUmVhY3Q3LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc0ZvZ09mV2FyRW5hYmxlZChyb3V0ZURpc2NvdmVyeSwgc3NyKSB8fCAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMgZG9lc24ndCBrbm93IGFib3V0IHRoaXMgeWV0XG4gICAgd2luZG93Lm5hdmlnYXRvcj8uY29ubmVjdGlvbj8uc2F2ZURhdGEgPT09IHRydWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVnaXN0ZXJFbGVtZW50KGVsKSB7XG4gICAgICBsZXQgcGF0aCA9IGVsLnRhZ05hbWUgPT09IFwiRk9STVwiID8gZWwuZ2V0QXR0cmlidXRlKFwiYWN0aW9uXCIpIDogZWwuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKTtcbiAgICAgIGlmICghcGF0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsZXQgcGF0aG5hbWUgPSBlbC50YWdOYW1lID09PSBcIkFcIiA/IGVsLnBhdGhuYW1lIDogbmV3IFVSTChwYXRoLCB3aW5kb3cubG9jYXRpb24ub3JpZ2luKS5wYXRobmFtZTtcbiAgICAgIGlmICghZGlzY292ZXJlZFBhdGhzLmhhcyhwYXRobmFtZSkpIHtcbiAgICAgICAgbmV4dFBhdGhzLmFkZChwYXRobmFtZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGZ1bmN0aW9uIGZldGNoUGF0Y2hlcygpIHtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJhW2RhdGEtZGlzY292ZXJdLCBmb3JtW2RhdGEtZGlzY292ZXJdXCIpLmZvckVhY2gocmVnaXN0ZXJFbGVtZW50KTtcbiAgICAgIGxldCBsYXp5UGF0aHMgPSBBcnJheS5mcm9tKG5leHRQYXRocy5rZXlzKCkpLmZpbHRlcigocGF0aCkgPT4ge1xuICAgICAgICBpZiAoZGlzY292ZXJlZFBhdGhzLmhhcyhwYXRoKSkge1xuICAgICAgICAgIG5leHRQYXRocy5kZWxldGUocGF0aCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSk7XG4gICAgICBpZiAobGF6eVBhdGhzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBmZXRjaEFuZEFwcGx5TWFuaWZlc3RQYXRjaGVzKFxuICAgICAgICAgIGxhenlQYXRocyxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIG1hbmlmZXN0LFxuICAgICAgICAgIHJvdXRlTW9kdWxlcyxcbiAgICAgICAgICBzc3IsXG4gICAgICAgICAgaXNTcGFNb2RlLFxuICAgICAgICAgIHJvdXRlci5iYXNlbmFtZSxcbiAgICAgICAgICByb3V0ZURpc2NvdmVyeS5tYW5pZmVzdFBhdGgsXG4gICAgICAgICAgcm91dGVyLnBhdGNoUm91dGVzXG4gICAgICAgICk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggbWFuaWZlc3QgcGF0Y2hlc1wiLCBlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGRlYm91bmNlZEZldGNoUGF0Y2hlcyA9IGRlYm91bmNlKGZldGNoUGF0Y2hlcywgMTAwKTtcbiAgICBmZXRjaFBhdGNoZXMoKTtcbiAgICBsZXQgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoKSA9PiBkZWJvdW5jZWRGZXRjaFBhdGNoZXMoKSk7XG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHtcbiAgICAgIHN1YnRyZWU6IHRydWUsXG4gICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICBhdHRyaWJ1dGVzOiB0cnVlLFxuICAgICAgYXR0cmlidXRlRmlsdGVyOiBbXCJkYXRhLWRpc2NvdmVyXCIsIFwiaHJlZlwiLCBcImFjdGlvblwiXVxuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gIH0sIFtzc3IsIGlzU3BhTW9kZSwgbWFuaWZlc3QsIHJvdXRlTW9kdWxlcywgcm91dGVyLCByb3V0ZURpc2NvdmVyeV0pO1xufVxuZnVuY3Rpb24gZ2V0TWFuaWZlc3RQYXRoKF9tYW5pZmVzdFBhdGgsIGJhc2VuYW1lKSB7XG4gIGxldCBtYW5pZmVzdFBhdGggPSBfbWFuaWZlc3RQYXRoIHx8IFwiL19fbWFuaWZlc3RcIjtcbiAgaWYgKGJhc2VuYW1lID09IG51bGwpIHtcbiAgICByZXR1cm4gbWFuaWZlc3RQYXRoO1xuICB9XG4gIHJldHVybiBgJHtiYXNlbmFtZX0ke21hbmlmZXN0UGF0aH1gLnJlcGxhY2UoL1xcLysvZywgXCIvXCIpO1xufVxudmFyIE1BTklGRVNUX1ZFUlNJT05fU1RPUkFHRV9LRVkgPSBcInJlYWN0LXJvdXRlci1tYW5pZmVzdC12ZXJzaW9uXCI7XG5hc3luYyBmdW5jdGlvbiBmZXRjaEFuZEFwcGx5TWFuaWZlc3RQYXRjaGVzKHBhdGhzLCBlcnJvclJlbG9hZFBhdGgsIG1hbmlmZXN0LCByb3V0ZU1vZHVsZXMsIHNzciwgaXNTcGFNb2RlLCBiYXNlbmFtZSwgbWFuaWZlc3RQYXRoLCBwYXRjaFJvdXRlcywgc2lnbmFsKSB7XG4gIGNvbnN0IHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgc2VhcmNoUGFyYW1zLnNldChcInBhdGhzXCIsIHBhdGhzLnNvcnQoKS5qb2luKFwiLFwiKSk7XG4gIHNlYXJjaFBhcmFtcy5zZXQoXCJ2ZXJzaW9uXCIsIG1hbmlmZXN0LnZlcnNpb24pO1xuICBsZXQgdXJsID0gbmV3IFVSTChcbiAgICBnZXRNYW5pZmVzdFBhdGgobWFuaWZlc3RQYXRoLCBiYXNlbmFtZSksXG4gICAgd2luZG93LmxvY2F0aW9uLm9yaWdpblxuICApO1xuICB1cmwuc2VhcmNoID0gc2VhcmNoUGFyYW1zLnRvU3RyaW5nKCk7XG4gIGlmICh1cmwudG9TdHJpbmcoKS5sZW5ndGggPiBVUkxfTElNSVQpIHtcbiAgICBuZXh0UGF0aHMuY2xlYXIoKTtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IHNlcnZlclBhdGNoZXM7XG4gIHRyeSB7XG4gICAgbGV0IHJlcyA9IGF3YWl0IGZldGNoKHVybCwgeyBzaWduYWwgfSk7XG4gICAgaWYgKCFyZXMub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgJHtyZXMuc3RhdHVzfSAke3Jlcy5zdGF0dXNUZXh0fWApO1xuICAgIH0gZWxzZSBpZiAocmVzLnN0YXR1cyA9PT0gMjA0ICYmIHJlcy5oZWFkZXJzLmhhcyhcIlgtUmVtaXgtUmVsb2FkLURvY3VtZW50XCIpKSB7XG4gICAgICBpZiAoIWVycm9yUmVsb2FkUGF0aCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgXCJEZXRlY3RlZCBhIG1hbmlmZXN0IHZlcnNpb24gbWlzbWF0Y2ggZHVyaW5nIGVhZ2VyIHJvdXRlIGRpc2NvdmVyeS4gVGhlIG5leHQgbmF2aWdhdGlvbi9mZXRjaCB0byBhbiB1bmRpc2NvdmVyZWQgcm91dGUgd2lsbCByZXN1bHQgaW4gYSBuZXcgZG9jdW1lbnQgbmF2aWdhdGlvbiB0byBzeW5jIHVwIHdpdGggdGhlIGxhdGVzdCBtYW5pZmVzdC5cIlxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShNQU5JRkVTVF9WRVJTSU9OX1NUT1JBR0VfS0VZKSA9PT0gbWFuaWZlc3QudmVyc2lvbikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIlVuYWJsZSB0byBkaXNjb3ZlciByb3V0ZXMgZHVlIHRvIG1hbmlmZXN0IHZlcnNpb24gbWlzbWF0Y2guXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKE1BTklGRVNUX1ZFUlNJT05fU1RPUkFHRV9LRVksIG1hbmlmZXN0LnZlcnNpb24pO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICB9XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGVycm9yUmVsb2FkUGF0aDtcbiAgICAgIGNvbnNvbGUud2FybihcIkRldGVjdGVkIG1hbmlmZXN0IHZlcnNpb24gbWlzbWF0Y2gsIHJlbG9hZGluZy4uLlwiKTtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKCgpID0+IHtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocmVzLnN0YXR1cyA+PSA0MDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihhd2FpdCByZXMudGV4dCgpKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oTUFOSUZFU1RfVkVSU0lPTl9TVE9SQUdFX0tFWSk7XG4gICAgfSBjYXRjaCB7XG4gICAgfVxuICAgIHNlcnZlclBhdGNoZXMgPSBhd2FpdCByZXMuanNvbigpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKHNpZ25hbD8uYWJvcnRlZCkgcmV0dXJuO1xuICAgIHRocm93IGU7XG4gIH1cbiAgbGV0IGtub3duUm91dGVzID0gbmV3IFNldChPYmplY3Qua2V5cyhtYW5pZmVzdC5yb3V0ZXMpKTtcbiAgbGV0IHBhdGNoZXMgPSBPYmplY3QudmFsdWVzKHNlcnZlclBhdGNoZXMpLnJlZHVjZSgoYWNjLCByb3V0ZSkgPT4ge1xuICAgIGlmIChyb3V0ZSAmJiAha25vd25Sb3V0ZXMuaGFzKHJvdXRlLmlkKSkge1xuICAgICAgYWNjW3JvdXRlLmlkXSA9IHJvdXRlO1xuICAgIH1cbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG4gIE9iamVjdC5hc3NpZ24obWFuaWZlc3Qucm91dGVzLCBwYXRjaGVzKTtcbiAgcGF0aHMuZm9yRWFjaCgocCkgPT4gYWRkVG9GaWZvUXVldWUocCwgZGlzY292ZXJlZFBhdGhzKSk7XG4gIGxldCBwYXJlbnRJZHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBPYmplY3QudmFsdWVzKHBhdGNoZXMpLmZvckVhY2goKHBhdGNoKSA9PiB7XG4gICAgaWYgKHBhdGNoICYmICghcGF0Y2gucGFyZW50SWQgfHwgIXBhdGNoZXNbcGF0Y2gucGFyZW50SWRdKSkge1xuICAgICAgcGFyZW50SWRzLmFkZChwYXRjaC5wYXJlbnRJZCk7XG4gICAgfVxuICB9KTtcbiAgcGFyZW50SWRzLmZvckVhY2goXG4gICAgKHBhcmVudElkKSA9PiBwYXRjaFJvdXRlcyhcbiAgICAgIHBhcmVudElkIHx8IG51bGwsXG4gICAgICBjcmVhdGVDbGllbnRSb3V0ZXMocGF0Y2hlcywgcm91dGVNb2R1bGVzLCBudWxsLCBzc3IsIGlzU3BhTW9kZSwgcGFyZW50SWQpXG4gICAgKVxuICApO1xufVxuZnVuY3Rpb24gYWRkVG9GaWZvUXVldWUocGF0aCwgcXVldWUpIHtcbiAgaWYgKHF1ZXVlLnNpemUgPj0gZGlzY292ZXJlZFBhdGhzTWF4U2l6ZSkge1xuICAgIGxldCBmaXJzdCA9IHF1ZXVlLnZhbHVlcygpLm5leHQoKS52YWx1ZTtcbiAgICBxdWV1ZS5kZWxldGUoZmlyc3QpO1xuICB9XG4gIHF1ZXVlLmFkZChwYXRoKTtcbn1cbmZ1bmN0aW9uIGRlYm91bmNlKGNhbGxiYWNrLCB3YWl0KSB7XG4gIGxldCB0aW1lb3V0SWQ7XG4gIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICB0aW1lb3V0SWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiBjYWxsYmFjayguLi5hcmdzKSwgd2FpdCk7XG4gIH07XG59XG5cbi8vIGxpYi9kb20vc3NyL2NvbXBvbmVudHMudHN4XG5mdW5jdGlvbiB1c2VEYXRhUm91dGVyQ29udGV4dDIoKSB7XG4gIGxldCBjb250ZXh0ID0gUmVhY3Q4LnVzZUNvbnRleHQoRGF0YVJvdXRlckNvbnRleHQpO1xuICBpbnZhcmlhbnQyKFxuICAgIGNvbnRleHQsXG4gICAgXCJZb3UgbXVzdCByZW5kZXIgdGhpcyBlbGVtZW50IGluc2lkZSBhIDxEYXRhUm91dGVyQ29udGV4dC5Qcm92aWRlcj4gZWxlbWVudFwiXG4gICk7XG4gIHJldHVybiBjb250ZXh0O1xufVxuZnVuY3Rpb24gdXNlRGF0YVJvdXRlclN0YXRlQ29udGV4dCgpIHtcbiAgbGV0IGNvbnRleHQgPSBSZWFjdDgudXNlQ29udGV4dChEYXRhUm91dGVyU3RhdGVDb250ZXh0KTtcbiAgaW52YXJpYW50MihcbiAgICBjb250ZXh0LFxuICAgIFwiWW91IG11c3QgcmVuZGVyIHRoaXMgZWxlbWVudCBpbnNpZGUgYSA8RGF0YVJvdXRlclN0YXRlQ29udGV4dC5Qcm92aWRlcj4gZWxlbWVudFwiXG4gICk7XG4gIHJldHVybiBjb250ZXh0O1xufVxudmFyIEZyYW1ld29ya0NvbnRleHQgPSBSZWFjdDguY3JlYXRlQ29udGV4dCh2b2lkIDApO1xuRnJhbWV3b3JrQ29udGV4dC5kaXNwbGF5TmFtZSA9IFwiRnJhbWV3b3JrQ29udGV4dFwiO1xuZnVuY3Rpb24gdXNlRnJhbWV3b3JrQ29udGV4dCgpIHtcbiAgbGV0IGNvbnRleHQgPSBSZWFjdDgudXNlQ29udGV4dChGcmFtZXdvcmtDb250ZXh0KTtcbiAgaW52YXJpYW50MihcbiAgICBjb250ZXh0LFxuICAgIFwiWW91IG11c3QgcmVuZGVyIHRoaXMgZWxlbWVudCBpbnNpZGUgYSA8SHlkcmF0ZWRSb3V0ZXI+IGVsZW1lbnRcIlxuICApO1xuICByZXR1cm4gY29udGV4dDtcbn1cbmZ1bmN0aW9uIHVzZVByZWZldGNoQmVoYXZpb3IocHJlZmV0Y2gsIHRoZWlyRWxlbWVudFByb3BzKSB7XG4gIGxldCBmcmFtZXdvcmtDb250ZXh0ID0gUmVhY3Q4LnVzZUNvbnRleHQoRnJhbWV3b3JrQ29udGV4dCk7XG4gIGxldCBbbWF5YmVQcmVmZXRjaCwgc2V0TWF5YmVQcmVmZXRjaF0gPSBSZWFjdDgudXNlU3RhdGUoZmFsc2UpO1xuICBsZXQgW3Nob3VsZFByZWZldGNoLCBzZXRTaG91bGRQcmVmZXRjaF0gPSBSZWFjdDgudXNlU3RhdGUoZmFsc2UpO1xuICBsZXQgeyBvbkZvY3VzLCBvbkJsdXIsIG9uTW91c2VFbnRlciwgb25Nb3VzZUxlYXZlLCBvblRvdWNoU3RhcnQgfSA9IHRoZWlyRWxlbWVudFByb3BzO1xuICBsZXQgcmVmID0gUmVhY3Q4LnVzZVJlZihudWxsKTtcbiAgUmVhY3Q4LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHByZWZldGNoID09PSBcInJlbmRlclwiKSB7XG4gICAgICBzZXRTaG91bGRQcmVmZXRjaCh0cnVlKTtcbiAgICB9XG4gICAgaWYgKHByZWZldGNoID09PSBcInZpZXdwb3J0XCIpIHtcbiAgICAgIGxldCBjYWxsYmFjayA9IChlbnRyaWVzKSA9PiB7XG4gICAgICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgICBzZXRTaG91bGRQcmVmZXRjaChlbnRyeS5pc0ludGVyc2VjdGluZyk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIGxldCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihjYWxsYmFjaywgeyB0aHJlc2hvbGQ6IDAuNSB9KTtcbiAgICAgIGlmIChyZWYuY3VycmVudCkgb2JzZXJ2ZXIub2JzZXJ2ZShyZWYuY3VycmVudCk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICB9O1xuICAgIH1cbiAgfSwgW3ByZWZldGNoXSk7XG4gIFJlYWN0OC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChtYXliZVByZWZldGNoKSB7XG4gICAgICBsZXQgaWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc2V0U2hvdWxkUHJlZmV0Y2godHJ1ZSk7XG4gICAgICB9LCAxMDApO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KGlkKTtcbiAgICAgIH07XG4gICAgfVxuICB9LCBbbWF5YmVQcmVmZXRjaF0pO1xuICBsZXQgc2V0SW50ZW50ID0gKCkgPT4ge1xuICAgIHNldE1heWJlUHJlZmV0Y2godHJ1ZSk7XG4gIH07XG4gIGxldCBjYW5jZWxJbnRlbnQgPSAoKSA9PiB7XG4gICAgc2V0TWF5YmVQcmVmZXRjaChmYWxzZSk7XG4gICAgc2V0U2hvdWxkUHJlZmV0Y2goZmFsc2UpO1xuICB9O1xuICBpZiAoIWZyYW1ld29ya0NvbnRleHQpIHtcbiAgICByZXR1cm4gW2ZhbHNlLCByZWYsIHt9XTtcbiAgfVxuICBpZiAocHJlZmV0Y2ggIT09IFwiaW50ZW50XCIpIHtcbiAgICByZXR1cm4gW3Nob3VsZFByZWZldGNoLCByZWYsIHt9XTtcbiAgfVxuICByZXR1cm4gW1xuICAgIHNob3VsZFByZWZldGNoLFxuICAgIHJlZixcbiAgICB7XG4gICAgICBvbkZvY3VzOiBjb21wb3NlRXZlbnRIYW5kbGVycyhvbkZvY3VzLCBzZXRJbnRlbnQpLFxuICAgICAgb25CbHVyOiBjb21wb3NlRXZlbnRIYW5kbGVycyhvbkJsdXIsIGNhbmNlbEludGVudCksXG4gICAgICBvbk1vdXNlRW50ZXI6IGNvbXBvc2VFdmVudEhhbmRsZXJzKG9uTW91c2VFbnRlciwgc2V0SW50ZW50KSxcbiAgICAgIG9uTW91c2VMZWF2ZTogY29tcG9zZUV2ZW50SGFuZGxlcnMob25Nb3VzZUxlYXZlLCBjYW5jZWxJbnRlbnQpLFxuICAgICAgb25Ub3VjaFN0YXJ0OiBjb21wb3NlRXZlbnRIYW5kbGVycyhvblRvdWNoU3RhcnQsIHNldEludGVudClcbiAgICB9XG4gIF07XG59XG5mdW5jdGlvbiBjb21wb3NlRXZlbnRIYW5kbGVycyh0aGVpckhhbmRsZXIsIG91ckhhbmRsZXIpIHtcbiAgcmV0dXJuIChldmVudCkgPT4ge1xuICAgIHRoZWlySGFuZGxlciAmJiB0aGVpckhhbmRsZXIoZXZlbnQpO1xuICAgIGlmICghZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgb3VySGFuZGxlcihldmVudCk7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0QWN0aXZlTWF0Y2hlcyhtYXRjaGVzLCBlcnJvcnMsIGlzU3BhTW9kZSkge1xuICBpZiAoaXNTcGFNb2RlICYmICFpc0h5ZHJhdGVkKSB7XG4gICAgcmV0dXJuIFttYXRjaGVzWzBdXTtcbiAgfVxuICBpZiAoZXJyb3JzKSB7XG4gICAgbGV0IGVycm9ySWR4ID0gbWF0Y2hlcy5maW5kSW5kZXgoKG0pID0+IGVycm9yc1ttLnJvdXRlLmlkXSAhPT0gdm9pZCAwKTtcbiAgICByZXR1cm4gbWF0Y2hlcy5zbGljZSgwLCBlcnJvcklkeCArIDEpO1xuICB9XG4gIHJldHVybiBtYXRjaGVzO1xufVxudmFyIENSSVRJQ0FMX0NTU19EQVRBX0FUVFJJQlVURSA9IFwiZGF0YS1yZWFjdC1yb3V0ZXItY3JpdGljYWwtY3NzXCI7XG5mdW5jdGlvbiBMaW5rcyh7IG5vbmNlIH0pIHtcbiAgbGV0IHsgaXNTcGFNb2RlLCBtYW5pZmVzdCwgcm91dGVNb2R1bGVzLCBjcml0aWNhbENzcyB9ID0gdXNlRnJhbWV3b3JrQ29udGV4dCgpO1xuICBsZXQgeyBlcnJvcnMsIG1hdGNoZXM6IHJvdXRlck1hdGNoZXMgfSA9IHVzZURhdGFSb3V0ZXJTdGF0ZUNvbnRleHQoKTtcbiAgbGV0IG1hdGNoZXMgPSBnZXRBY3RpdmVNYXRjaGVzKHJvdXRlck1hdGNoZXMsIGVycm9ycywgaXNTcGFNb2RlKTtcbiAgbGV0IGtleWVkTGlua3MgPSBSZWFjdDgudXNlTWVtbyhcbiAgICAoKSA9PiBnZXRLZXllZExpbmtzRm9yTWF0Y2hlcyhtYXRjaGVzLCByb3V0ZU1vZHVsZXMsIG1hbmlmZXN0KSxcbiAgICBbbWF0Y2hlcywgcm91dGVNb2R1bGVzLCBtYW5pZmVzdF1cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDguY3JlYXRlRWxlbWVudChSZWFjdDguRnJhZ21lbnQsIG51bGwsIHR5cGVvZiBjcml0aWNhbENzcyA9PT0gXCJzdHJpbmdcIiA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDguY3JlYXRlRWxlbWVudChcbiAgICBcInN0eWxlXCIsXG4gICAge1xuICAgICAgLi4ueyBbQ1JJVElDQUxfQ1NTX0RBVEFfQVRUUklCVVRFXTogXCJcIiB9LFxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHsgX19odG1sOiBjcml0aWNhbENzcyB9XG4gICAgfVxuICApIDogbnVsbCwgdHlwZW9mIGNyaXRpY2FsQ3NzID09PSBcIm9iamVjdFwiID8gLyogQF9fUFVSRV9fICovIFJlYWN0OC5jcmVhdGVFbGVtZW50KFxuICAgIFwibGlua1wiLFxuICAgIHtcbiAgICAgIC4uLnsgW0NSSVRJQ0FMX0NTU19EQVRBX0FUVFJJQlVURV06IFwiXCIgfSxcbiAgICAgIHJlbDogXCJzdHlsZXNoZWV0XCIsXG4gICAgICBocmVmOiBjcml0aWNhbENzcy5ocmVmLFxuICAgICAgbm9uY2VcbiAgICB9XG4gICkgOiBudWxsLCBrZXllZExpbmtzLm1hcChcbiAgICAoeyBrZXksIGxpbmsgfSkgPT4gaXNQYWdlTGlua0Rlc2NyaXB0b3IobGluaykgPyAvKiBAX19QVVJFX18gKi8gUmVhY3Q4LmNyZWF0ZUVsZW1lbnQoUHJlZmV0Y2hQYWdlTGlua3MsIHsga2V5LCBub25jZSwgLi4ubGluayB9KSA6IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDguY3JlYXRlRWxlbWVudChcImxpbmtcIiwgeyBrZXksIG5vbmNlLCAuLi5saW5rIH0pXG4gICkpO1xufVxuZnVuY3Rpb24gUHJlZmV0Y2hQYWdlTGlua3MoeyBwYWdlLCAuLi5saW5rUHJvcHMgfSkge1xuICBsZXQgeyByb3V0ZXIgfSA9IHVzZURhdGFSb3V0ZXJDb250ZXh0MigpO1xuICBsZXQgbWF0Y2hlcyA9IFJlYWN0OC51c2VNZW1vKFxuICAgICgpID0+IG1hdGNoUm91dGVzKHJvdXRlci5yb3V0ZXMsIHBhZ2UsIHJvdXRlci5iYXNlbmFtZSksXG4gICAgW3JvdXRlci5yb3V0ZXMsIHBhZ2UsIHJvdXRlci5iYXNlbmFtZV1cbiAgKTtcbiAgaWYgKCFtYXRjaGVzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDguY3JlYXRlRWxlbWVudChQcmVmZXRjaFBhZ2VMaW5rc0ltcGwsIHsgcGFnZSwgbWF0Y2hlcywgLi4ubGlua1Byb3BzIH0pO1xufVxuZnVuY3Rpb24gdXNlS2V5ZWRQcmVmZXRjaExpbmtzKG1hdGNoZXMpIHtcbiAgbGV0IHsgbWFuaWZlc3QsIHJvdXRlTW9kdWxlcyB9ID0gdXNlRnJhbWV3b3JrQ29udGV4dCgpO1xuICBsZXQgW2tleWVkUHJlZmV0Y2hMaW5rcywgc2V0S2V5ZWRQcmVmZXRjaExpbmtzXSA9IFJlYWN0OC51c2VTdGF0ZShbXSk7XG4gIFJlYWN0OC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBpbnRlcnJ1cHRlZCA9IGZhbHNlO1xuICAgIHZvaWQgZ2V0S2V5ZWRQcmVmZXRjaExpbmtzKG1hdGNoZXMsIG1hbmlmZXN0LCByb3V0ZU1vZHVsZXMpLnRoZW4oXG4gICAgICAobGlua3MpID0+IHtcbiAgICAgICAgaWYgKCFpbnRlcnJ1cHRlZCkge1xuICAgICAgICAgIHNldEtleWVkUHJlZmV0Y2hMaW5rcyhsaW5rcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpbnRlcnJ1cHRlZCA9IHRydWU7XG4gICAgfTtcbiAgfSwgW21hdGNoZXMsIG1hbmlmZXN0LCByb3V0ZU1vZHVsZXNdKTtcbiAgcmV0dXJuIGtleWVkUHJlZmV0Y2hMaW5rcztcbn1cbmZ1bmN0aW9uIFByZWZldGNoUGFnZUxpbmtzSW1wbCh7XG4gIHBhZ2UsXG4gIG1hdGNoZXM6IG5leHRNYXRjaGVzLFxuICAuLi5saW5rUHJvcHNcbn0pIHtcbiAgbGV0IGxvY2F0aW9uID0gdXNlTG9jYXRpb24oKTtcbiAgbGV0IHsgbWFuaWZlc3QsIHJvdXRlTW9kdWxlcyB9ID0gdXNlRnJhbWV3b3JrQ29udGV4dCgpO1xuICBsZXQgeyBiYXNlbmFtZSB9ID0gdXNlRGF0YVJvdXRlckNvbnRleHQyKCk7XG4gIGxldCB7IGxvYWRlckRhdGEsIG1hdGNoZXMgfSA9IHVzZURhdGFSb3V0ZXJTdGF0ZUNvbnRleHQoKTtcbiAgbGV0IG5ld01hdGNoZXNGb3JEYXRhID0gUmVhY3Q4LnVzZU1lbW8oXG4gICAgKCkgPT4gZ2V0TmV3TWF0Y2hlc0ZvckxpbmtzKFxuICAgICAgcGFnZSxcbiAgICAgIG5leHRNYXRjaGVzLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIG1hbmlmZXN0LFxuICAgICAgbG9jYXRpb24sXG4gICAgICBcImRhdGFcIlxuICAgICksXG4gICAgW3BhZ2UsIG5leHRNYXRjaGVzLCBtYXRjaGVzLCBtYW5pZmVzdCwgbG9jYXRpb25dXG4gICk7XG4gIGxldCBuZXdNYXRjaGVzRm9yQXNzZXRzID0gUmVhY3Q4LnVzZU1lbW8oXG4gICAgKCkgPT4gZ2V0TmV3TWF0Y2hlc0ZvckxpbmtzKFxuICAgICAgcGFnZSxcbiAgICAgIG5leHRNYXRjaGVzLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIG1hbmlmZXN0LFxuICAgICAgbG9jYXRpb24sXG4gICAgICBcImFzc2V0c1wiXG4gICAgKSxcbiAgICBbcGFnZSwgbmV4dE1hdGNoZXMsIG1hdGNoZXMsIG1hbmlmZXN0LCBsb2NhdGlvbl1cbiAgKTtcbiAgbGV0IGRhdGFIcmVmcyA9IFJlYWN0OC51c2VNZW1vKCgpID0+IHtcbiAgICBpZiAocGFnZSA9PT0gbG9jYXRpb24ucGF0aG5hbWUgKyBsb2NhdGlvbi5zZWFyY2ggKyBsb2NhdGlvbi5oYXNoKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGxldCByb3V0ZXNQYXJhbXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIGxldCBmb3VuZE9wdE91dFJvdXRlID0gZmFsc2U7XG4gICAgbmV4dE1hdGNoZXMuZm9yRWFjaCgobSkgPT4ge1xuICAgICAgbGV0IG1hbmlmZXN0Um91dGUgPSBtYW5pZmVzdC5yb3V0ZXNbbS5yb3V0ZS5pZF07XG4gICAgICBpZiAoIW1hbmlmZXN0Um91dGUgfHwgIW1hbmlmZXN0Um91dGUuaGFzTG9hZGVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghbmV3TWF0Y2hlc0ZvckRhdGEuc29tZSgobTIpID0+IG0yLnJvdXRlLmlkID09PSBtLnJvdXRlLmlkKSAmJiBtLnJvdXRlLmlkIGluIGxvYWRlckRhdGEgJiYgcm91dGVNb2R1bGVzW20ucm91dGUuaWRdPy5zaG91bGRSZXZhbGlkYXRlKSB7XG4gICAgICAgIGZvdW5kT3B0T3V0Um91dGUgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChtYW5pZmVzdFJvdXRlLmhhc0NsaWVudExvYWRlcikge1xuICAgICAgICBmb3VuZE9wdE91dFJvdXRlID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJvdXRlc1BhcmFtcy5hZGQobS5yb3V0ZS5pZCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHJvdXRlc1BhcmFtcy5zaXplID09PSAwKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGxldCB1cmwgPSBzaW5nbGVGZXRjaFVybChwYWdlLCBiYXNlbmFtZSwgXCJkYXRhXCIpO1xuICAgIGlmIChmb3VuZE9wdE91dFJvdXRlICYmIHJvdXRlc1BhcmFtcy5zaXplID4gMCkge1xuICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoXG4gICAgICAgIFwiX3JvdXRlc1wiLFxuICAgICAgICBuZXh0TWF0Y2hlcy5maWx0ZXIoKG0pID0+IHJvdXRlc1BhcmFtcy5oYXMobS5yb3V0ZS5pZCkpLm1hcCgobSkgPT4gbS5yb3V0ZS5pZCkuam9pbihcIixcIilcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBbdXJsLnBhdGhuYW1lICsgdXJsLnNlYXJjaF07XG4gIH0sIFtcbiAgICBiYXNlbmFtZSxcbiAgICBsb2FkZXJEYXRhLFxuICAgIGxvY2F0aW9uLFxuICAgIG1hbmlmZXN0LFxuICAgIG5ld01hdGNoZXNGb3JEYXRhLFxuICAgIG5leHRNYXRjaGVzLFxuICAgIHBhZ2UsXG4gICAgcm91dGVNb2R1bGVzXG4gIF0pO1xuICBsZXQgbW9kdWxlSHJlZnMgPSBSZWFjdDgudXNlTWVtbyhcbiAgICAoKSA9PiBnZXRNb2R1bGVMaW5rSHJlZnMobmV3TWF0Y2hlc0ZvckFzc2V0cywgbWFuaWZlc3QpLFxuICAgIFtuZXdNYXRjaGVzRm9yQXNzZXRzLCBtYW5pZmVzdF1cbiAgKTtcbiAgbGV0IGtleWVkUHJlZmV0Y2hMaW5rcyA9IHVzZUtleWVkUHJlZmV0Y2hMaW5rcyhuZXdNYXRjaGVzRm9yQXNzZXRzKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDguY3JlYXRlRWxlbWVudChSZWFjdDguRnJhZ21lbnQsIG51bGwsIGRhdGFIcmVmcy5tYXAoKGhyZWYpID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDguY3JlYXRlRWxlbWVudChcImxpbmtcIiwgeyBrZXk6IGhyZWYsIHJlbDogXCJwcmVmZXRjaFwiLCBhczogXCJmZXRjaFwiLCBocmVmLCAuLi5saW5rUHJvcHMgfSkpLCBtb2R1bGVIcmVmcy5tYXAoKGhyZWYpID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDguY3JlYXRlRWxlbWVudChcImxpbmtcIiwgeyBrZXk6IGhyZWYsIHJlbDogXCJtb2R1bGVwcmVsb2FkXCIsIGhyZWYsIC4uLmxpbmtQcm9wcyB9KSksIGtleWVkUHJlZmV0Y2hMaW5rcy5tYXAoKHsga2V5LCBsaW5rIH0pID0+IChcbiAgICAvLyB0aGVzZSBkb24ndCBzcHJlYWQgYGxpbmtQcm9wc2AgYmVjYXVzZSB0aGV5IGFyZSBmdWxsIGxpbmsgZGVzY3JpcHRvcnNcbiAgICAvLyBhbHJlYWR5IHdpdGggdGhlaXIgb3duIHByb3BzXG4gICAgLyogQF9fUFVSRV9fICovIFJlYWN0OC5jcmVhdGVFbGVtZW50KFwibGlua1wiLCB7IGtleSwgbm9uY2U6IGxpbmtQcm9wcy5ub25jZSwgLi4ubGluayB9KVxuICApKSk7XG59XG5mdW5jdGlvbiBNZXRhKCkge1xuICBsZXQgeyBpc1NwYU1vZGUsIHJvdXRlTW9kdWxlcyB9ID0gdXNlRnJhbWV3b3JrQ29udGV4dCgpO1xuICBsZXQge1xuICAgIGVycm9ycyxcbiAgICBtYXRjaGVzOiByb3V0ZXJNYXRjaGVzLFxuICAgIGxvYWRlckRhdGFcbiAgfSA9IHVzZURhdGFSb3V0ZXJTdGF0ZUNvbnRleHQoKTtcbiAgbGV0IGxvY2F0aW9uID0gdXNlTG9jYXRpb24oKTtcbiAgbGV0IF9tYXRjaGVzID0gZ2V0QWN0aXZlTWF0Y2hlcyhyb3V0ZXJNYXRjaGVzLCBlcnJvcnMsIGlzU3BhTW9kZSk7XG4gIGxldCBlcnJvciA9IG51bGw7XG4gIGlmIChlcnJvcnMpIHtcbiAgICBlcnJvciA9IGVycm9yc1tfbWF0Y2hlc1tfbWF0Y2hlcy5sZW5ndGggLSAxXS5yb3V0ZS5pZF07XG4gIH1cbiAgbGV0IG1ldGEgPSBbXTtcbiAgbGV0IGxlYWZNZXRhID0gbnVsbDtcbiAgbGV0IG1hdGNoZXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBfbWF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgIGxldCBfbWF0Y2ggPSBfbWF0Y2hlc1tpXTtcbiAgICBsZXQgcm91dGVJZCA9IF9tYXRjaC5yb3V0ZS5pZDtcbiAgICBsZXQgZGF0YTIgPSBsb2FkZXJEYXRhW3JvdXRlSWRdO1xuICAgIGxldCBwYXJhbXMgPSBfbWF0Y2gucGFyYW1zO1xuICAgIGxldCByb3V0ZU1vZHVsZSA9IHJvdXRlTW9kdWxlc1tyb3V0ZUlkXTtcbiAgICBsZXQgcm91dGVNZXRhID0gW107XG4gICAgbGV0IG1hdGNoID0ge1xuICAgICAgaWQ6IHJvdXRlSWQsXG4gICAgICBkYXRhOiBkYXRhMixcbiAgICAgIGxvYWRlckRhdGE6IGRhdGEyLFxuICAgICAgbWV0YTogW10sXG4gICAgICBwYXJhbXM6IF9tYXRjaC5wYXJhbXMsXG4gICAgICBwYXRobmFtZTogX21hdGNoLnBhdGhuYW1lLFxuICAgICAgaGFuZGxlOiBfbWF0Y2gucm91dGUuaGFuZGxlLFxuICAgICAgZXJyb3JcbiAgICB9O1xuICAgIG1hdGNoZXNbaV0gPSBtYXRjaDtcbiAgICBpZiAocm91dGVNb2R1bGU/Lm1ldGEpIHtcbiAgICAgIHJvdXRlTWV0YSA9IHR5cGVvZiByb3V0ZU1vZHVsZS5tZXRhID09PSBcImZ1bmN0aW9uXCIgPyByb3V0ZU1vZHVsZS5tZXRhKHtcbiAgICAgICAgZGF0YTogZGF0YTIsXG4gICAgICAgIGxvYWRlckRhdGE6IGRhdGEyLFxuICAgICAgICBwYXJhbXMsXG4gICAgICAgIGxvY2F0aW9uLFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBlcnJvclxuICAgICAgfSkgOiBBcnJheS5pc0FycmF5KHJvdXRlTW9kdWxlLm1ldGEpID8gWy4uLnJvdXRlTW9kdWxlLm1ldGFdIDogcm91dGVNb2R1bGUubWV0YTtcbiAgICB9IGVsc2UgaWYgKGxlYWZNZXRhKSB7XG4gICAgICByb3V0ZU1ldGEgPSBbLi4ubGVhZk1ldGFdO1xuICAgIH1cbiAgICByb3V0ZU1ldGEgPSByb3V0ZU1ldGEgfHwgW107XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHJvdXRlTWV0YSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJUaGUgcm91dGUgYXQgXCIgKyBfbWF0Y2gucm91dGUucGF0aCArIFwiIHJldHVybnMgYW4gaW52YWxpZCB2YWx1ZS4gQWxsIHJvdXRlIG1ldGEgZnVuY3Rpb25zIG11c3QgcmV0dXJuIGFuIGFycmF5IG9mIG1ldGEgb2JqZWN0cy5cXG5cXG5UbyByZWZlcmVuY2UgdGhlIG1ldGEgZnVuY3Rpb24gQVBJLCBzZWUgaHR0cHM6Ly9yZW1peC5ydW4vcm91dGUvbWV0YVwiXG4gICAgICApO1xuICAgIH1cbiAgICBtYXRjaC5tZXRhID0gcm91dGVNZXRhO1xuICAgIG1hdGNoZXNbaV0gPSBtYXRjaDtcbiAgICBtZXRhID0gWy4uLnJvdXRlTWV0YV07XG4gICAgbGVhZk1ldGEgPSBtZXRhO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q4LmNyZWF0ZUVsZW1lbnQoUmVhY3Q4LkZyYWdtZW50LCBudWxsLCBtZXRhLmZsYXQoKS5tYXAoKG1ldGFQcm9wcykgPT4ge1xuICAgIGlmICghbWV0YVByb3BzKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKFwidGFnTmFtZVwiIGluIG1ldGFQcm9wcykge1xuICAgICAgbGV0IHsgdGFnTmFtZSwgLi4ucmVzdCB9ID0gbWV0YVByb3BzO1xuICAgICAgaWYgKCFpc1ZhbGlkTWV0YVRhZyh0YWdOYW1lKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgYEEgbWV0YSBvYmplY3QgdXNlcyBhbiBpbnZhbGlkIHRhZ05hbWU6ICR7dGFnTmFtZX0uIEV4cGVjdGVkIGVpdGhlciAnbGluaycgb3IgJ21ldGEnYFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGxldCBDb21wID0gdGFnTmFtZTtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q4LmNyZWF0ZUVsZW1lbnQoQ29tcCwgeyBrZXk6IEpTT04uc3RyaW5naWZ5KHJlc3QpLCAuLi5yZXN0IH0pO1xuICAgIH1cbiAgICBpZiAoXCJ0aXRsZVwiIGluIG1ldGFQcm9wcykge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDguY3JlYXRlRWxlbWVudChcInRpdGxlXCIsIHsga2V5OiBcInRpdGxlXCIgfSwgU3RyaW5nKG1ldGFQcm9wcy50aXRsZSkpO1xuICAgIH1cbiAgICBpZiAoXCJjaGFyc2V0XCIgaW4gbWV0YVByb3BzKSB7XG4gICAgICBtZXRhUHJvcHMuY2hhclNldCA/PyAobWV0YVByb3BzLmNoYXJTZXQgPSBtZXRhUHJvcHMuY2hhcnNldCk7XG4gICAgICBkZWxldGUgbWV0YVByb3BzLmNoYXJzZXQ7XG4gICAgfVxuICAgIGlmIChcImNoYXJTZXRcIiBpbiBtZXRhUHJvcHMgJiYgbWV0YVByb3BzLmNoYXJTZXQgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBtZXRhUHJvcHMuY2hhclNldCA9PT0gXCJzdHJpbmdcIiA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDguY3JlYXRlRWxlbWVudChcIm1ldGFcIiwgeyBrZXk6IFwiY2hhclNldFwiLCBjaGFyU2V0OiBtZXRhUHJvcHMuY2hhclNldCB9KSA6IG51bGw7XG4gICAgfVxuICAgIGlmIChcInNjcmlwdDpsZCtqc29uXCIgaW4gbWV0YVByb3BzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBsZXQganNvbiA9IEpTT04uc3RyaW5naWZ5KG1ldGFQcm9wc1tcInNjcmlwdDpsZCtqc29uXCJdKTtcbiAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDguY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBcInNjcmlwdFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGtleTogYHNjcmlwdDpsZCtqc29uOiR7anNvbn1gLFxuICAgICAgICAgICAgdHlwZTogXCJhcHBsaWNhdGlvbi9sZCtqc29uXCIsXG4gICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDogeyBfX2h0bWw6IGVzY2FwZUh0bWwoanNvbikgfVxuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDguY3JlYXRlRWxlbWVudChcIm1ldGFcIiwgeyBrZXk6IEpTT04uc3RyaW5naWZ5KG1ldGFQcm9wcyksIC4uLm1ldGFQcm9wcyB9KTtcbiAgfSkpO1xufVxuZnVuY3Rpb24gaXNWYWxpZE1ldGFUYWcodGFnTmFtZSkge1xuICByZXR1cm4gdHlwZW9mIHRhZ05hbWUgPT09IFwic3RyaW5nXCIgJiYgL14obWV0YXxsaW5rKSQvLnRlc3QodGFnTmFtZSk7XG59XG52YXIgaXNIeWRyYXRlZCA9IGZhbHNlO1xuZnVuY3Rpb24gc2V0SXNIeWRyYXRlZCgpIHtcbiAgaXNIeWRyYXRlZCA9IHRydWU7XG59XG5mdW5jdGlvbiBTY3JpcHRzKHNjcmlwdFByb3BzKSB7XG4gIGxldCB7XG4gICAgbWFuaWZlc3QsXG4gICAgc2VydmVySGFuZG9mZlN0cmluZyxcbiAgICBpc1NwYU1vZGUsXG4gICAgcmVuZGVyTWV0YSxcbiAgICByb3V0ZURpc2NvdmVyeSxcbiAgICBzc3JcbiAgfSA9IHVzZUZyYW1ld29ya0NvbnRleHQoKTtcbiAgbGV0IHsgcm91dGVyLCBzdGF0aWM6IGlzU3RhdGljLCBzdGF0aWNDb250ZXh0IH0gPSB1c2VEYXRhUm91dGVyQ29udGV4dDIoKTtcbiAgbGV0IHsgbWF0Y2hlczogcm91dGVyTWF0Y2hlcyB9ID0gdXNlRGF0YVJvdXRlclN0YXRlQ29udGV4dCgpO1xuICBsZXQgaXNSU0NSb3V0ZXJDb250ZXh0ID0gdXNlSXNSU0NSb3V0ZXJDb250ZXh0KCk7XG4gIGxldCBlbmFibGVGb2dPZldhciA9IGlzRm9nT2ZXYXJFbmFibGVkKHJvdXRlRGlzY292ZXJ5LCBzc3IpO1xuICBpZiAocmVuZGVyTWV0YSkge1xuICAgIHJlbmRlck1ldGEuZGlkUmVuZGVyU2NyaXB0cyA9IHRydWU7XG4gIH1cbiAgbGV0IG1hdGNoZXMgPSBnZXRBY3RpdmVNYXRjaGVzKHJvdXRlck1hdGNoZXMsIG51bGwsIGlzU3BhTW9kZSk7XG4gIFJlYWN0OC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldElzSHlkcmF0ZWQoKTtcbiAgfSwgW10pO1xuICBsZXQgaW5pdGlhbFNjcmlwdHMgPSBSZWFjdDgudXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKGlzUlNDUm91dGVyQ29udGV4dCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGxldCBzdHJlYW1TY3JpcHQgPSBcIndpbmRvdy5fX3JlYWN0Um91dGVyQ29udGV4dC5zdHJlYW0gPSBuZXcgUmVhZGFibGVTdHJlYW0oe3N0YXJ0KGNvbnRyb2xsZXIpe3dpbmRvdy5fX3JlYWN0Um91dGVyQ29udGV4dC5zdHJlYW1Db250cm9sbGVyID0gY29udHJvbGxlcjt9fSkucGlwZVRocm91Z2gobmV3IFRleHRFbmNvZGVyU3RyZWFtKCkpO1wiO1xuICAgIGxldCBjb250ZXh0U2NyaXB0ID0gc3RhdGljQ29udGV4dCA/IGB3aW5kb3cuX19yZWFjdFJvdXRlckNvbnRleHQgPSAke3NlcnZlckhhbmRvZmZTdHJpbmd9OyR7c3RyZWFtU2NyaXB0fWAgOiBcIiBcIjtcbiAgICBsZXQgcm91dGVNb2R1bGVzU2NyaXB0ID0gIWlzU3RhdGljID8gXCIgXCIgOiBgJHttYW5pZmVzdC5obXI/LnJ1bnRpbWUgPyBgaW1wb3J0ICR7SlNPTi5zdHJpbmdpZnkobWFuaWZlc3QuaG1yLnJ1bnRpbWUpfTtgIDogXCJcIn0keyFlbmFibGVGb2dPZldhciA/IGBpbXBvcnQgJHtKU09OLnN0cmluZ2lmeShtYW5pZmVzdC51cmwpfWAgOiBcIlwifTtcbiR7bWF0Y2hlcy5tYXAoKG1hdGNoLCByb3V0ZUluZGV4KSA9PiB7XG4gICAgICBsZXQgcm91dGVWYXJOYW1lID0gYHJvdXRlJHtyb3V0ZUluZGV4fWA7XG4gICAgICBsZXQgbWFuaWZlc3RFbnRyeSA9IG1hbmlmZXN0LnJvdXRlc1ttYXRjaC5yb3V0ZS5pZF07XG4gICAgICBpbnZhcmlhbnQyKG1hbmlmZXN0RW50cnksIGBSb3V0ZSAke21hdGNoLnJvdXRlLmlkfSBub3QgZm91bmQgaW4gbWFuaWZlc3RgKTtcbiAgICAgIGxldCB7XG4gICAgICAgIGNsaWVudEFjdGlvbk1vZHVsZSxcbiAgICAgICAgY2xpZW50TG9hZGVyTW9kdWxlLFxuICAgICAgICBjbGllbnRNaWRkbGV3YXJlTW9kdWxlLFxuICAgICAgICBoeWRyYXRlRmFsbGJhY2tNb2R1bGUsXG4gICAgICAgIG1vZHVsZVxuICAgICAgfSA9IG1hbmlmZXN0RW50cnk7XG4gICAgICBsZXQgY2h1bmtzID0gW1xuICAgICAgICAuLi5jbGllbnRBY3Rpb25Nb2R1bGUgPyBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgbW9kdWxlOiBjbGllbnRBY3Rpb25Nb2R1bGUsXG4gICAgICAgICAgICB2YXJOYW1lOiBgJHtyb3V0ZVZhck5hbWV9X2NsaWVudEFjdGlvbmBcbiAgICAgICAgICB9XG4gICAgICAgIF0gOiBbXSxcbiAgICAgICAgLi4uY2xpZW50TG9hZGVyTW9kdWxlID8gW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIG1vZHVsZTogY2xpZW50TG9hZGVyTW9kdWxlLFxuICAgICAgICAgICAgdmFyTmFtZTogYCR7cm91dGVWYXJOYW1lfV9jbGllbnRMb2FkZXJgXG4gICAgICAgICAgfVxuICAgICAgICBdIDogW10sXG4gICAgICAgIC4uLmNsaWVudE1pZGRsZXdhcmVNb2R1bGUgPyBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgbW9kdWxlOiBjbGllbnRNaWRkbGV3YXJlTW9kdWxlLFxuICAgICAgICAgICAgdmFyTmFtZTogYCR7cm91dGVWYXJOYW1lfV9jbGllbnRNaWRkbGV3YXJlYFxuICAgICAgICAgIH1cbiAgICAgICAgXSA6IFtdLFxuICAgICAgICAuLi5oeWRyYXRlRmFsbGJhY2tNb2R1bGUgPyBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgbW9kdWxlOiBoeWRyYXRlRmFsbGJhY2tNb2R1bGUsXG4gICAgICAgICAgICB2YXJOYW1lOiBgJHtyb3V0ZVZhck5hbWV9X0h5ZHJhdGVGYWxsYmFja2BcbiAgICAgICAgICB9XG4gICAgICAgIF0gOiBbXSxcbiAgICAgICAgeyBtb2R1bGUsIHZhck5hbWU6IGAke3JvdXRlVmFyTmFtZX1fbWFpbmAgfVxuICAgICAgXTtcbiAgICAgIGlmIChjaHVua3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBgaW1wb3J0ICogYXMgJHtyb3V0ZVZhck5hbWV9IGZyb20gJHtKU09OLnN0cmluZ2lmeShtb2R1bGUpfTtgO1xuICAgICAgfVxuICAgICAgbGV0IGNodW5rSW1wb3J0c1NuaXBwZXQgPSBjaHVua3MubWFwKChjaHVuaykgPT4gYGltcG9ydCAqIGFzICR7Y2h1bmsudmFyTmFtZX0gZnJvbSBcIiR7Y2h1bmsubW9kdWxlfVwiO2ApLmpvaW4oXCJcXG5cIik7XG4gICAgICBsZXQgbWVyZ2VkQ2h1bmtzU25pcHBldCA9IGBjb25zdCAke3JvdXRlVmFyTmFtZX0gPSB7JHtjaHVua3MubWFwKChjaHVuaykgPT4gYC4uLiR7Y2h1bmsudmFyTmFtZX1gKS5qb2luKFwiLFwiKX19O2A7XG4gICAgICByZXR1cm4gW2NodW5rSW1wb3J0c1NuaXBwZXQsIG1lcmdlZENodW5rc1NuaXBwZXRdLmpvaW4oXCJcXG5cIik7XG4gICAgfSkuam9pbihcIlxcblwiKX1cbiAgJHtlbmFibGVGb2dPZldhciA/IChcbiAgICAgIC8vIElubGluZSBhIG1pbmltYWwgbWFuaWZlc3Qgd2l0aCB0aGUgU1NSIG1hdGNoZXNcbiAgICAgIGB3aW5kb3cuX19yZWFjdFJvdXRlck1hbmlmZXN0ID0gJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgZ2V0UGFydGlhbE1hbmlmZXN0KG1hbmlmZXN0LCByb3V0ZXIpLFxuICAgICAgICBudWxsLFxuICAgICAgICAyXG4gICAgICApfTtgXG4gICAgKSA6IFwiXCJ9XG4gIHdpbmRvdy5fX3JlYWN0Um91dGVyUm91dGVNb2R1bGVzID0geyR7bWF0Y2hlcy5tYXAoKG1hdGNoLCBpbmRleCkgPT4gYCR7SlNPTi5zdHJpbmdpZnkobWF0Y2gucm91dGUuaWQpfTpyb3V0ZSR7aW5kZXh9YCkuam9pbihcIixcIil9fTtcblxuaW1wb3J0KCR7SlNPTi5zdHJpbmdpZnkobWFuaWZlc3QuZW50cnkubW9kdWxlKX0pO2A7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDguY3JlYXRlRWxlbWVudChSZWFjdDguRnJhZ21lbnQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDguY3JlYXRlRWxlbWVudChcbiAgICAgIFwic2NyaXB0XCIsXG4gICAgICB7XG4gICAgICAgIC4uLnNjcmlwdFByb3BzLFxuICAgICAgICBzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmc6IHRydWUsXG4gICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7IF9faHRtbDogY29udGV4dFNjcmlwdCB9LFxuICAgICAgICB0eXBlOiB2b2lkIDBcbiAgICAgIH1cbiAgICApLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q4LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBcInNjcmlwdFwiLFxuICAgICAge1xuICAgICAgICAuLi5zY3JpcHRQcm9wcyxcbiAgICAgICAgc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nOiB0cnVlLFxuICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDogeyBfX2h0bWw6IHJvdXRlTW9kdWxlc1NjcmlwdCB9LFxuICAgICAgICB0eXBlOiBcIm1vZHVsZVwiLFxuICAgICAgICBhc3luYzogdHJ1ZVxuICAgICAgfVxuICAgICkpO1xuICB9LCBbXSk7XG4gIGxldCBwcmVsb2FkcyA9IGlzSHlkcmF0ZWQgfHwgaXNSU0NSb3V0ZXJDb250ZXh0ID8gW10gOiBkZWR1cGUoXG4gICAgbWFuaWZlc3QuZW50cnkuaW1wb3J0cy5jb25jYXQoXG4gICAgICBnZXRNb2R1bGVMaW5rSHJlZnMobWF0Y2hlcywgbWFuaWZlc3QsIHtcbiAgICAgICAgaW5jbHVkZUh5ZHJhdGVGYWxsYmFjazogdHJ1ZVxuICAgICAgfSlcbiAgICApXG4gICk7XG4gIGxldCBzcmkgPSB0eXBlb2YgbWFuaWZlc3Quc3JpID09PSBcIm9iamVjdFwiID8gbWFuaWZlc3Quc3JpIDoge307XG4gIHdhcm5PbmNlKFxuICAgICFpc1JTQ1JvdXRlckNvbnRleHQsXG4gICAgXCJUaGUgPFNjcmlwdHMgLz4gZWxlbWVudCBpcyBhIG5vLW9wIHdoZW4gdXNpbmcgUlNDIGFuZCBjYW4gYmUgc2FmZWx5IHJlbW92ZWQuXCJcbiAgKTtcbiAgcmV0dXJuIGlzSHlkcmF0ZWQgfHwgaXNSU0NSb3V0ZXJDb250ZXh0ID8gbnVsbCA6IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDguY3JlYXRlRWxlbWVudChSZWFjdDguRnJhZ21lbnQsIG51bGwsIHR5cGVvZiBtYW5pZmVzdC5zcmkgPT09IFwib2JqZWN0XCIgPyAvKiBAX19QVVJFX18gKi8gUmVhY3Q4LmNyZWF0ZUVsZW1lbnQoXG4gICAgXCJzY3JpcHRcIixcbiAgICB7XG4gICAgICBcInJyLWltcG9ydG1hcFwiOiBcIlwiLFxuICAgICAgdHlwZTogXCJpbXBvcnRtYXBcIixcbiAgICAgIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZzogdHJ1ZSxcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7XG4gICAgICAgIF9faHRtbDogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGludGVncml0eTogc3JpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICApIDogbnVsbCwgIWVuYWJsZUZvZ09mV2FyID8gLyogQF9fUFVSRV9fICovIFJlYWN0OC5jcmVhdGVFbGVtZW50KFxuICAgIFwibGlua1wiLFxuICAgIHtcbiAgICAgIHJlbDogXCJtb2R1bGVwcmVsb2FkXCIsXG4gICAgICBocmVmOiBtYW5pZmVzdC51cmwsXG4gICAgICBjcm9zc09yaWdpbjogc2NyaXB0UHJvcHMuY3Jvc3NPcmlnaW4sXG4gICAgICBpbnRlZ3JpdHk6IHNyaVttYW5pZmVzdC51cmxdLFxuICAgICAgc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nOiB0cnVlXG4gICAgfVxuICApIDogbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0OC5jcmVhdGVFbGVtZW50KFxuICAgIFwibGlua1wiLFxuICAgIHtcbiAgICAgIHJlbDogXCJtb2R1bGVwcmVsb2FkXCIsXG4gICAgICBocmVmOiBtYW5pZmVzdC5lbnRyeS5tb2R1bGUsXG4gICAgICBjcm9zc09yaWdpbjogc2NyaXB0UHJvcHMuY3Jvc3NPcmlnaW4sXG4gICAgICBpbnRlZ3JpdHk6IHNyaVttYW5pZmVzdC5lbnRyeS5tb2R1bGVdLFxuICAgICAgc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nOiB0cnVlXG4gICAgfVxuICApLCBwcmVsb2Fkcy5tYXAoKHBhdGgpID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDguY3JlYXRlRWxlbWVudChcbiAgICBcImxpbmtcIixcbiAgICB7XG4gICAgICBrZXk6IHBhdGgsXG4gICAgICByZWw6IFwibW9kdWxlcHJlbG9hZFwiLFxuICAgICAgaHJlZjogcGF0aCxcbiAgICAgIGNyb3NzT3JpZ2luOiBzY3JpcHRQcm9wcy5jcm9zc09yaWdpbixcbiAgICAgIGludGVncml0eTogc3JpW3BhdGhdLFxuICAgICAgc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nOiB0cnVlXG4gICAgfVxuICApKSwgaW5pdGlhbFNjcmlwdHMpO1xufVxuZnVuY3Rpb24gZGVkdXBlKGFycmF5KSB7XG4gIHJldHVybiBbLi4ubmV3IFNldChhcnJheSldO1xufVxuZnVuY3Rpb24gbWVyZ2VSZWZzKC4uLnJlZnMpIHtcbiAgcmV0dXJuICh2YWx1ZSkgPT4ge1xuICAgIHJlZnMuZm9yRWFjaCgocmVmKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHJlZiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJlZih2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHJlZiAhPSBudWxsKSB7XG4gICAgICAgIHJlZi5jdXJyZW50ID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59XG5cbi8vIGxpYi9kb20vc3NyL2Vycm9yQm91bmRhcmllcy50c3hcbnZhciBSZW1peEVycm9yQm91bmRhcnkgPSBjbGFzcyBleHRlbmRzIFJlYWN0OS5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0geyBlcnJvcjogcHJvcHMuZXJyb3IgfHwgbnVsbCwgbG9jYXRpb246IHByb3BzLmxvY2F0aW9uIH07XG4gIH1cbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvcihlcnJvcikge1xuICAgIHJldHVybiB7IGVycm9yIH07XG4gIH1cbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhwcm9wcywgc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUubG9jYXRpb24gIT09IHByb3BzLmxvY2F0aW9uKSB7XG4gICAgICByZXR1cm4geyBlcnJvcjogcHJvcHMuZXJyb3IgfHwgbnVsbCwgbG9jYXRpb246IHByb3BzLmxvY2F0aW9uIH07XG4gICAgfVxuICAgIHJldHVybiB7IGVycm9yOiBwcm9wcy5lcnJvciB8fCBzdGF0ZS5lcnJvciwgbG9jYXRpb246IHN0YXRlLmxvY2F0aW9uIH07XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFxuICAgICAgICBSZW1peFJvb3REZWZhdWx0RXJyb3JCb3VuZGFyeSxcbiAgICAgICAge1xuICAgICAgICAgIGVycm9yOiB0aGlzLnN0YXRlLmVycm9yLFxuICAgICAgICAgIGlzT3V0c2lkZVJlbWl4QXBwOiB0cnVlXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICAgIH1cbiAgfVxufTtcbmZ1bmN0aW9uIFJlbWl4Um9vdERlZmF1bHRFcnJvckJvdW5kYXJ5KHtcbiAgZXJyb3IsXG4gIGlzT3V0c2lkZVJlbWl4QXBwXG59KSB7XG4gIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICBsZXQgaGV5RGV2ZWxvcGVyID0gLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFxuICAgIFwic2NyaXB0XCIsXG4gICAge1xuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHtcbiAgICAgICAgX19odG1sOiBgXG4gICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgIFwiXFx1ezFGNEJGfSBIZXkgZGV2ZWxvcGVyIFxcdXsxRjQ0Qn0uIFlvdSBjYW4gcHJvdmlkZSBhIHdheSBiZXR0ZXIgVVggdGhhbiB0aGlzIHdoZW4geW91ciBhcHAgdGhyb3dzIGVycm9ycy4gQ2hlY2sgb3V0IGh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL2hvdy10by9lcnJvci1ib3VuZGFyeSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cIlxuICAgICAgICApO1xuICAgICAgYFxuICAgICAgfVxuICAgIH1cbiAgKTtcbiAgaWYgKGlzUm91dGVFcnJvclJlc3BvbnNlKGVycm9yKSkge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoQm91bmRhcnlTaGVsbCwgeyB0aXRsZTogXCJVbmhhbmRsZWQgVGhyb3duIFJlc3BvbnNlIVwiIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcImgxXCIsIHsgc3R5bGU6IHsgZm9udFNpemU6IFwiMjRweFwiIH0gfSwgZXJyb3Iuc3RhdHVzLCBcIiBcIiwgZXJyb3Iuc3RhdHVzVGV4dCksIEVOQUJMRV9ERVZfV0FSTklOR1MgPyBoZXlEZXZlbG9wZXIgOiBudWxsKTtcbiAgfVxuICBsZXQgZXJyb3JJbnN0YW5jZTtcbiAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICBlcnJvckluc3RhbmNlID0gZXJyb3I7XG4gIH0gZWxzZSB7XG4gICAgbGV0IGVycm9yU3RyaW5nID0gZXJyb3IgPT0gbnVsbCA/IFwiVW5rbm93biBFcnJvclwiIDogdHlwZW9mIGVycm9yID09PSBcIm9iamVjdFwiICYmIFwidG9TdHJpbmdcIiBpbiBlcnJvciA/IGVycm9yLnRvU3RyaW5nKCkgOiBKU09OLnN0cmluZ2lmeShlcnJvcik7XG4gICAgZXJyb3JJbnN0YW5jZSA9IG5ldyBFcnJvcihlcnJvclN0cmluZyk7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcbiAgICBCb3VuZGFyeVNoZWxsLFxuICAgIHtcbiAgICAgIHRpdGxlOiBcIkFwcGxpY2F0aW9uIEVycm9yIVwiLFxuICAgICAgaXNPdXRzaWRlUmVtaXhBcHBcbiAgICB9LFxuICAgIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcImgxXCIsIHsgc3R5bGU6IHsgZm9udFNpemU6IFwiMjRweFwiIH0gfSwgXCJBcHBsaWNhdGlvbiBFcnJvclwiKSxcbiAgICAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBcInByZVwiLFxuICAgICAge1xuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIHBhZGRpbmc6IFwiMnJlbVwiLFxuICAgICAgICAgIGJhY2tncm91bmQ6IFwiaHNsYSgxMCwgNTAlLCA1MCUsIDAuMSlcIixcbiAgICAgICAgICBjb2xvcjogXCJyZWRcIixcbiAgICAgICAgICBvdmVyZmxvdzogXCJhdXRvXCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGVycm9ySW5zdGFuY2Uuc3RhY2tcbiAgICApLFxuICAgIGhleURldmVsb3BlclxuICApO1xufVxuZnVuY3Rpb24gQm91bmRhcnlTaGVsbCh7XG4gIHRpdGxlLFxuICByZW5kZXJTY3JpcHRzLFxuICBpc091dHNpZGVSZW1peEFwcCxcbiAgY2hpbGRyZW5cbn0pIHtcbiAgbGV0IHsgcm91dGVNb2R1bGVzIH0gPSB1c2VGcmFtZXdvcmtDb250ZXh0KCk7XG4gIGlmIChyb3V0ZU1vZHVsZXMucm9vdD8uTGF5b3V0ICYmICFpc091dHNpZGVSZW1peEFwcCkge1xuICAgIHJldHVybiBjaGlsZHJlbjtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFwiaHRtbFwiLCB7IGxhbmc6IFwiZW5cIiB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXCJoZWFkXCIsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcIm1ldGFcIiwgeyBjaGFyU2V0OiBcInV0Zi04XCIgfSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcbiAgICBcIm1ldGFcIixcbiAgICB7XG4gICAgICBuYW1lOiBcInZpZXdwb3J0XCIsXG4gICAgICBjb250ZW50OiBcIndpZHRoPWRldmljZS13aWR0aCxpbml0aWFsLXNjYWxlPTEsdmlld3BvcnQtZml0PWNvdmVyXCJcbiAgICB9XG4gICksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcInRpdGxlXCIsIG51bGwsIHRpdGxlKSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcImJvZHlcIiwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFwibWFpblwiLCB7IHN0eWxlOiB7IGZvbnRGYW1pbHk6IFwic3lzdGVtLXVpLCBzYW5zLXNlcmlmXCIsIHBhZGRpbmc6IFwiMnJlbVwiIH0gfSwgY2hpbGRyZW4sIHJlbmRlclNjcmlwdHMgPyAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoU2NyaXB0cywgbnVsbCkgOiBudWxsKSkpO1xufVxuXG4vLyBsaWIvZG9tL2xpYi50c3hcbmltcG9ydCAqIGFzIFJlYWN0MTAgZnJvbSBcInJlYWN0XCI7XG52YXIgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCAhPT0gXCJ1bmRlZmluZWRcIjtcbnRyeSB7XG4gIGlmIChpc0Jyb3dzZXIpIHtcbiAgICB3aW5kb3cuX19yZWFjdFJvdXRlclZlcnNpb24gPSAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgXCI3LjkuNVwiO1xuICB9XG59IGNhdGNoIChlKSB7XG59XG5mdW5jdGlvbiBjcmVhdGVCcm93c2VyUm91dGVyKHJvdXRlcywgb3B0cykge1xuICByZXR1cm4gY3JlYXRlUm91dGVyKHtcbiAgICBiYXNlbmFtZTogb3B0cz8uYmFzZW5hbWUsXG4gICAgZ2V0Q29udGV4dDogb3B0cz8uZ2V0Q29udGV4dCxcbiAgICBmdXR1cmU6IG9wdHM/LmZ1dHVyZSxcbiAgICBoaXN0b3J5OiBjcmVhdGVCcm93c2VySGlzdG9yeSh7IHdpbmRvdzogb3B0cz8ud2luZG93IH0pLFxuICAgIGh5ZHJhdGlvbkRhdGE6IG9wdHM/Lmh5ZHJhdGlvbkRhdGEgfHwgcGFyc2VIeWRyYXRpb25EYXRhKCksXG4gICAgcm91dGVzLFxuICAgIG1hcFJvdXRlUHJvcGVydGllcyxcbiAgICBoeWRyYXRpb25Sb3V0ZVByb3BlcnRpZXMsXG4gICAgZGF0YVN0cmF0ZWd5OiBvcHRzPy5kYXRhU3RyYXRlZ3ksXG4gICAgcGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb246IG9wdHM/LnBhdGNoUm91dGVzT25OYXZpZ2F0aW9uLFxuICAgIHdpbmRvdzogb3B0cz8ud2luZG93LFxuICAgIHVuc3RhYmxlX2luc3RydW1lbnRhdGlvbnM6IG9wdHM/LnVuc3RhYmxlX2luc3RydW1lbnRhdGlvbnNcbiAgfSkuaW5pdGlhbGl6ZSgpO1xufVxuZnVuY3Rpb24gY3JlYXRlSGFzaFJvdXRlcihyb3V0ZXMsIG9wdHMpIHtcbiAgcmV0dXJuIGNyZWF0ZVJvdXRlcih7XG4gICAgYmFzZW5hbWU6IG9wdHM/LmJhc2VuYW1lLFxuICAgIGdldENvbnRleHQ6IG9wdHM/LmdldENvbnRleHQsXG4gICAgZnV0dXJlOiBvcHRzPy5mdXR1cmUsXG4gICAgaGlzdG9yeTogY3JlYXRlSGFzaEhpc3RvcnkoeyB3aW5kb3c6IG9wdHM/LndpbmRvdyB9KSxcbiAgICBoeWRyYXRpb25EYXRhOiBvcHRzPy5oeWRyYXRpb25EYXRhIHx8IHBhcnNlSHlkcmF0aW9uRGF0YSgpLFxuICAgIHJvdXRlcyxcbiAgICBtYXBSb3V0ZVByb3BlcnRpZXMsXG4gICAgaHlkcmF0aW9uUm91dGVQcm9wZXJ0aWVzLFxuICAgIGRhdGFTdHJhdGVneTogb3B0cz8uZGF0YVN0cmF0ZWd5LFxuICAgIHBhdGNoUm91dGVzT25OYXZpZ2F0aW9uOiBvcHRzPy5wYXRjaFJvdXRlc09uTmF2aWdhdGlvbixcbiAgICB3aW5kb3c6IG9wdHM/LndpbmRvdyxcbiAgICB1bnN0YWJsZV9pbnN0cnVtZW50YXRpb25zOiBvcHRzPy51bnN0YWJsZV9pbnN0cnVtZW50YXRpb25zXG4gIH0pLmluaXRpYWxpemUoKTtcbn1cbmZ1bmN0aW9uIHBhcnNlSHlkcmF0aW9uRGF0YSgpIHtcbiAgbGV0IHN0YXRlID0gd2luZG93Py5fX3N0YXRpY1JvdXRlckh5ZHJhdGlvbkRhdGE7XG4gIGlmIChzdGF0ZSAmJiBzdGF0ZS5lcnJvcnMpIHtcbiAgICBzdGF0ZSA9IHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgZXJyb3JzOiBkZXNlcmlhbGl6ZUVycm9ycyhzdGF0ZS5lcnJvcnMpXG4gICAgfTtcbiAgfVxuICByZXR1cm4gc3RhdGU7XG59XG5mdW5jdGlvbiBkZXNlcmlhbGl6ZUVycm9ycyhlcnJvcnMpIHtcbiAgaWYgKCFlcnJvcnMpIHJldHVybiBudWxsO1xuICBsZXQgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKGVycm9ycyk7XG4gIGxldCBzZXJpYWxpemVkID0ge307XG4gIGZvciAobGV0IFtrZXksIHZhbF0gb2YgZW50cmllcykge1xuICAgIGlmICh2YWwgJiYgdmFsLl9fdHlwZSA9PT0gXCJSb3V0ZUVycm9yUmVzcG9uc2VcIikge1xuICAgICAgc2VyaWFsaXplZFtrZXldID0gbmV3IEVycm9yUmVzcG9uc2VJbXBsKFxuICAgICAgICB2YWwuc3RhdHVzLFxuICAgICAgICB2YWwuc3RhdHVzVGV4dCxcbiAgICAgICAgdmFsLmRhdGEsXG4gICAgICAgIHZhbC5pbnRlcm5hbCA9PT0gdHJ1ZVxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHZhbCAmJiB2YWwuX190eXBlID09PSBcIkVycm9yXCIpIHtcbiAgICAgIGlmICh2YWwuX19zdWJUeXBlKSB7XG4gICAgICAgIGxldCBFcnJvckNvbnN0cnVjdG9yID0gd2luZG93W3ZhbC5fX3N1YlR5cGVdO1xuICAgICAgICBpZiAodHlwZW9mIEVycm9yQ29uc3RydWN0b3IgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgZXJyb3IgPSBuZXcgRXJyb3JDb25zdHJ1Y3Rvcih2YWwubWVzc2FnZSk7XG4gICAgICAgICAgICBlcnJvci5zdGFjayA9IFwiXCI7XG4gICAgICAgICAgICBzZXJpYWxpemVkW2tleV0gPSBlcnJvcjtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc2VyaWFsaXplZFtrZXldID09IG51bGwpIHtcbiAgICAgICAgbGV0IGVycm9yID0gbmV3IEVycm9yKHZhbC5tZXNzYWdlKTtcbiAgICAgICAgZXJyb3Iuc3RhY2sgPSBcIlwiO1xuICAgICAgICBzZXJpYWxpemVkW2tleV0gPSBlcnJvcjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2VyaWFsaXplZFtrZXldID0gdmFsO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc2VyaWFsaXplZDtcbn1cbmZ1bmN0aW9uIEJyb3dzZXJSb3V0ZXIoe1xuICBiYXNlbmFtZSxcbiAgY2hpbGRyZW4sXG4gIHdpbmRvdzogd2luZG93MlxufSkge1xuICBsZXQgaGlzdG9yeVJlZiA9IFJlYWN0MTAudXNlUmVmKCk7XG4gIGlmIChoaXN0b3J5UmVmLmN1cnJlbnQgPT0gbnVsbCkge1xuICAgIGhpc3RvcnlSZWYuY3VycmVudCA9IGNyZWF0ZUJyb3dzZXJIaXN0b3J5KHsgd2luZG93OiB3aW5kb3cyLCB2NUNvbXBhdDogdHJ1ZSB9KTtcbiAgfVxuICBsZXQgaGlzdG9yeSA9IGhpc3RvcnlSZWYuY3VycmVudDtcbiAgbGV0IFtzdGF0ZSwgc2V0U3RhdGVJbXBsXSA9IFJlYWN0MTAudXNlU3RhdGUoe1xuICAgIGFjdGlvbjogaGlzdG9yeS5hY3Rpb24sXG4gICAgbG9jYXRpb246IGhpc3RvcnkubG9jYXRpb25cbiAgfSk7XG4gIGxldCBzZXRTdGF0ZSA9IFJlYWN0MTAudXNlQ2FsbGJhY2soXG4gICAgKG5ld1N0YXRlKSA9PiB7XG4gICAgICBSZWFjdDEwLnN0YXJ0VHJhbnNpdGlvbigoKSA9PiBzZXRTdGF0ZUltcGwobmV3U3RhdGUpKTtcbiAgICB9LFxuICAgIFtzZXRTdGF0ZUltcGxdXG4gICk7XG4gIFJlYWN0MTAudXNlTGF5b3V0RWZmZWN0KCgpID0+IGhpc3RvcnkubGlzdGVuKHNldFN0YXRlKSwgW2hpc3RvcnksIHNldFN0YXRlXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMC5jcmVhdGVFbGVtZW50KFxuICAgIFJvdXRlcixcbiAgICB7XG4gICAgICBiYXNlbmFtZSxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgbG9jYXRpb246IHN0YXRlLmxvY2F0aW9uLFxuICAgICAgbmF2aWdhdGlvblR5cGU6IHN0YXRlLmFjdGlvbixcbiAgICAgIG5hdmlnYXRvcjogaGlzdG9yeVxuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIEhhc2hSb3V0ZXIoeyBiYXNlbmFtZSwgY2hpbGRyZW4sIHdpbmRvdzogd2luZG93MiB9KSB7XG4gIGxldCBoaXN0b3J5UmVmID0gUmVhY3QxMC51c2VSZWYoKTtcbiAgaWYgKGhpc3RvcnlSZWYuY3VycmVudCA9PSBudWxsKSB7XG4gICAgaGlzdG9yeVJlZi5jdXJyZW50ID0gY3JlYXRlSGFzaEhpc3RvcnkoeyB3aW5kb3c6IHdpbmRvdzIsIHY1Q29tcGF0OiB0cnVlIH0pO1xuICB9XG4gIGxldCBoaXN0b3J5ID0gaGlzdG9yeVJlZi5jdXJyZW50O1xuICBsZXQgW3N0YXRlLCBzZXRTdGF0ZUltcGxdID0gUmVhY3QxMC51c2VTdGF0ZSh7XG4gICAgYWN0aW9uOiBoaXN0b3J5LmFjdGlvbixcbiAgICBsb2NhdGlvbjogaGlzdG9yeS5sb2NhdGlvblxuICB9KTtcbiAgbGV0IHNldFN0YXRlID0gUmVhY3QxMC51c2VDYWxsYmFjayhcbiAgICAobmV3U3RhdGUpID0+IHtcbiAgICAgIFJlYWN0MTAuc3RhcnRUcmFuc2l0aW9uKCgpID0+IHNldFN0YXRlSW1wbChuZXdTdGF0ZSkpO1xuICAgIH0sXG4gICAgW3NldFN0YXRlSW1wbF1cbiAgKTtcbiAgUmVhY3QxMC51c2VMYXlvdXRFZmZlY3QoKCkgPT4gaGlzdG9yeS5saXN0ZW4oc2V0U3RhdGUpLCBbaGlzdG9yeSwgc2V0U3RhdGVdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwLmNyZWF0ZUVsZW1lbnQoXG4gICAgUm91dGVyLFxuICAgIHtcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBsb2NhdGlvbjogc3RhdGUubG9jYXRpb24sXG4gICAgICBuYXZpZ2F0aW9uVHlwZTogc3RhdGUuYWN0aW9uLFxuICAgICAgbmF2aWdhdG9yOiBoaXN0b3J5XG4gICAgfVxuICApO1xufVxuZnVuY3Rpb24gSGlzdG9yeVJvdXRlcih7XG4gIGJhc2VuYW1lLFxuICBjaGlsZHJlbixcbiAgaGlzdG9yeVxufSkge1xuICBsZXQgW3N0YXRlLCBzZXRTdGF0ZUltcGxdID0gUmVhY3QxMC51c2VTdGF0ZSh7XG4gICAgYWN0aW9uOiBoaXN0b3J5LmFjdGlvbixcbiAgICBsb2NhdGlvbjogaGlzdG9yeS5sb2NhdGlvblxuICB9KTtcbiAgbGV0IHNldFN0YXRlID0gUmVhY3QxMC51c2VDYWxsYmFjayhcbiAgICAobmV3U3RhdGUpID0+IHtcbiAgICAgIFJlYWN0MTAuc3RhcnRUcmFuc2l0aW9uKCgpID0+IHNldFN0YXRlSW1wbChuZXdTdGF0ZSkpO1xuICAgIH0sXG4gICAgW3NldFN0YXRlSW1wbF1cbiAgKTtcbiAgUmVhY3QxMC51c2VMYXlvdXRFZmZlY3QoKCkgPT4gaGlzdG9yeS5saXN0ZW4oc2V0U3RhdGUpLCBbaGlzdG9yeSwgc2V0U3RhdGVdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwLmNyZWF0ZUVsZW1lbnQoXG4gICAgUm91dGVyLFxuICAgIHtcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBsb2NhdGlvbjogc3RhdGUubG9jYXRpb24sXG4gICAgICBuYXZpZ2F0aW9uVHlwZTogc3RhdGUuYWN0aW9uLFxuICAgICAgbmF2aWdhdG9yOiBoaXN0b3J5XG4gICAgfVxuICApO1xufVxuSGlzdG9yeVJvdXRlci5kaXNwbGF5TmFtZSA9IFwidW5zdGFibGVfSGlzdG9yeVJvdXRlclwiO1xudmFyIEFCU09MVVRFX1VSTF9SRUdFWDIgPSAvXig/OlthLXpdW2EtejAtOSsuLV0qOnxcXC9cXC8pL2k7XG52YXIgTGluayA9IFJlYWN0MTAuZm9yd2FyZFJlZihcbiAgZnVuY3Rpb24gTGlua1dpdGhSZWYoe1xuICAgIG9uQ2xpY2ssXG4gICAgZGlzY292ZXIgPSBcInJlbmRlclwiLFxuICAgIHByZWZldGNoID0gXCJub25lXCIsXG4gICAgcmVsYXRpdmUsXG4gICAgcmVsb2FkRG9jdW1lbnQsXG4gICAgcmVwbGFjZTogcmVwbGFjZTIsXG4gICAgc3RhdGUsXG4gICAgdGFyZ2V0LFxuICAgIHRvLFxuICAgIHByZXZlbnRTY3JvbGxSZXNldCxcbiAgICB2aWV3VHJhbnNpdGlvbixcbiAgICAuLi5yZXN0XG4gIH0sIGZvcndhcmRlZFJlZikge1xuICAgIGxldCB7IGJhc2VuYW1lIH0gPSBSZWFjdDEwLnVzZUNvbnRleHQoTmF2aWdhdGlvbkNvbnRleHQpO1xuICAgIGxldCBpc0Fic29sdXRlID0gdHlwZW9mIHRvID09PSBcInN0cmluZ1wiICYmIEFCU09MVVRFX1VSTF9SRUdFWDIudGVzdCh0byk7XG4gICAgbGV0IGFic29sdXRlSHJlZjtcbiAgICBsZXQgaXNFeHRlcm5hbCA9IGZhbHNlO1xuICAgIGlmICh0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgJiYgaXNBYnNvbHV0ZSkge1xuICAgICAgYWJzb2x1dGVIcmVmID0gdG87XG4gICAgICBpZiAoaXNCcm93c2VyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbGV0IGN1cnJlbnRVcmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcbiAgICAgICAgICBsZXQgdGFyZ2V0VXJsID0gdG8uc3RhcnRzV2l0aChcIi8vXCIpID8gbmV3IFVSTChjdXJyZW50VXJsLnByb3RvY29sICsgdG8pIDogbmV3IFVSTCh0byk7XG4gICAgICAgICAgbGV0IHBhdGggPSBzdHJpcEJhc2VuYW1lKHRhcmdldFVybC5wYXRobmFtZSwgYmFzZW5hbWUpO1xuICAgICAgICAgIGlmICh0YXJnZXRVcmwub3JpZ2luID09PSBjdXJyZW50VXJsLm9yaWdpbiAmJiBwYXRoICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRvID0gcGF0aCArIHRhcmdldFVybC5zZWFyY2ggKyB0YXJnZXRVcmwuaGFzaDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaXNFeHRlcm5hbCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgd2FybmluZyhcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgYDxMaW5rIHRvPVwiJHt0b31cIj4gY29udGFpbnMgYW4gaW52YWxpZCBVUkwgd2hpY2ggd2lsbCBwcm9iYWJseSBicmVhayB3aGVuIGNsaWNrZWQgLSBwbGVhc2UgdXBkYXRlIHRvIGEgdmFsaWQgVVJMIHBhdGguYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGhyZWYgPSB1c2VIcmVmKHRvLCB7IHJlbGF0aXZlIH0pO1xuICAgIGxldCBbc2hvdWxkUHJlZmV0Y2gsIHByZWZldGNoUmVmLCBwcmVmZXRjaEhhbmRsZXJzXSA9IHVzZVByZWZldGNoQmVoYXZpb3IoXG4gICAgICBwcmVmZXRjaCxcbiAgICAgIHJlc3RcbiAgICApO1xuICAgIGxldCBpbnRlcm5hbE9uQ2xpY2sgPSB1c2VMaW5rQ2xpY2tIYW5kbGVyKHRvLCB7XG4gICAgICByZXBsYWNlOiByZXBsYWNlMixcbiAgICAgIHN0YXRlLFxuICAgICAgdGFyZ2V0LFxuICAgICAgcHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgcmVsYXRpdmUsXG4gICAgICB2aWV3VHJhbnNpdGlvblxuICAgIH0pO1xuICAgIGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGV2ZW50KSB7XG4gICAgICBpZiAob25DbGljaykgb25DbGljayhldmVudCk7XG4gICAgICBpZiAoIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgaW50ZXJuYWxPbkNsaWNrKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGxpbmsgPSAoXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUganN4LWExMXkvYW5jaG9yLWhhcy1jb250ZW50XG4gICAgICAvKiBAX19QVVJFX18gKi8gUmVhY3QxMC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBcImFcIixcbiAgICAgICAge1xuICAgICAgICAgIC4uLnJlc3QsXG4gICAgICAgICAgLi4ucHJlZmV0Y2hIYW5kbGVycyxcbiAgICAgICAgICBocmVmOiBhYnNvbHV0ZUhyZWYgfHwgaHJlZixcbiAgICAgICAgICBvbkNsaWNrOiBpc0V4dGVybmFsIHx8IHJlbG9hZERvY3VtZW50ID8gb25DbGljayA6IGhhbmRsZUNsaWNrLFxuICAgICAgICAgIHJlZjogbWVyZ2VSZWZzKGZvcndhcmRlZFJlZiwgcHJlZmV0Y2hSZWYpLFxuICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICBcImRhdGEtZGlzY292ZXJcIjogIWlzQWJzb2x1dGUgJiYgZGlzY292ZXIgPT09IFwicmVuZGVyXCIgPyBcInRydWVcIiA6IHZvaWQgMFxuICAgICAgICB9XG4gICAgICApXG4gICAgKTtcbiAgICByZXR1cm4gc2hvdWxkUHJlZmV0Y2ggJiYgIWlzQWJzb2x1dGUgPyAvKiBAX19QVVJFX18gKi8gUmVhY3QxMC5jcmVhdGVFbGVtZW50KFJlYWN0MTAuRnJhZ21lbnQsIG51bGwsIGxpbmssIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwLmNyZWF0ZUVsZW1lbnQoUHJlZmV0Y2hQYWdlTGlua3MsIHsgcGFnZTogaHJlZiB9KSkgOiBsaW5rO1xuICB9XG4pO1xuTGluay5kaXNwbGF5TmFtZSA9IFwiTGlua1wiO1xudmFyIE5hdkxpbmsgPSBSZWFjdDEwLmZvcndhcmRSZWYoXG4gIGZ1bmN0aW9uIE5hdkxpbmtXaXRoUmVmKHtcbiAgICBcImFyaWEtY3VycmVudFwiOiBhcmlhQ3VycmVudFByb3AgPSBcInBhZ2VcIixcbiAgICBjYXNlU2Vuc2l0aXZlID0gZmFsc2UsXG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVQcm9wID0gXCJcIixcbiAgICBlbmQgPSBmYWxzZSxcbiAgICBzdHlsZTogc3R5bGVQcm9wLFxuICAgIHRvLFxuICAgIHZpZXdUcmFuc2l0aW9uLFxuICAgIGNoaWxkcmVuLFxuICAgIC4uLnJlc3RcbiAgfSwgcmVmKSB7XG4gICAgbGV0IHBhdGggPSB1c2VSZXNvbHZlZFBhdGgodG8sIHsgcmVsYXRpdmU6IHJlc3QucmVsYXRpdmUgfSk7XG4gICAgbGV0IGxvY2F0aW9uID0gdXNlTG9jYXRpb24oKTtcbiAgICBsZXQgcm91dGVyU3RhdGUgPSBSZWFjdDEwLnVzZUNvbnRleHQoRGF0YVJvdXRlclN0YXRlQ29udGV4dCk7XG4gICAgbGV0IHsgbmF2aWdhdG9yLCBiYXNlbmFtZSB9ID0gUmVhY3QxMC51c2VDb250ZXh0KE5hdmlnYXRpb25Db250ZXh0KTtcbiAgICBsZXQgaXNUcmFuc2l0aW9uaW5nID0gcm91dGVyU3RhdGUgIT0gbnVsbCAmJiAvLyBDb25kaXRpb25hbCB1c2FnZSBpcyBPSyBoZXJlIGJlY2F1c2UgdGhlIHVzYWdlIG9mIGEgZGF0YSByb3V0ZXIgaXMgc3RhdGljXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL3J1bGVzLW9mLWhvb2tzXG4gICAgdXNlVmlld1RyYW5zaXRpb25TdGF0ZShwYXRoKSAmJiB2aWV3VHJhbnNpdGlvbiA9PT0gdHJ1ZTtcbiAgICBsZXQgdG9QYXRobmFtZSA9IG5hdmlnYXRvci5lbmNvZGVMb2NhdGlvbiA/IG5hdmlnYXRvci5lbmNvZGVMb2NhdGlvbihwYXRoKS5wYXRobmFtZSA6IHBhdGgucGF0aG5hbWU7XG4gICAgbGV0IGxvY2F0aW9uUGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZTtcbiAgICBsZXQgbmV4dExvY2F0aW9uUGF0aG5hbWUgPSByb3V0ZXJTdGF0ZSAmJiByb3V0ZXJTdGF0ZS5uYXZpZ2F0aW9uICYmIHJvdXRlclN0YXRlLm5hdmlnYXRpb24ubG9jYXRpb24gPyByb3V0ZXJTdGF0ZS5uYXZpZ2F0aW9uLmxvY2F0aW9uLnBhdGhuYW1lIDogbnVsbDtcbiAgICBpZiAoIWNhc2VTZW5zaXRpdmUpIHtcbiAgICAgIGxvY2F0aW9uUGF0aG5hbWUgPSBsb2NhdGlvblBhdGhuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICBuZXh0TG9jYXRpb25QYXRobmFtZSA9IG5leHRMb2NhdGlvblBhdGhuYW1lID8gbmV4dExvY2F0aW9uUGF0aG5hbWUudG9Mb3dlckNhc2UoKSA6IG51bGw7XG4gICAgICB0b1BhdGhuYW1lID0gdG9QYXRobmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgICBpZiAobmV4dExvY2F0aW9uUGF0aG5hbWUgJiYgYmFzZW5hbWUpIHtcbiAgICAgIG5leHRMb2NhdGlvblBhdGhuYW1lID0gc3RyaXBCYXNlbmFtZShuZXh0TG9jYXRpb25QYXRobmFtZSwgYmFzZW5hbWUpIHx8IG5leHRMb2NhdGlvblBhdGhuYW1lO1xuICAgIH1cbiAgICBjb25zdCBlbmRTbGFzaFBvc2l0aW9uID0gdG9QYXRobmFtZSAhPT0gXCIvXCIgJiYgdG9QYXRobmFtZS5lbmRzV2l0aChcIi9cIikgPyB0b1BhdGhuYW1lLmxlbmd0aCAtIDEgOiB0b1BhdGhuYW1lLmxlbmd0aDtcbiAgICBsZXQgaXNBY3RpdmUgPSBsb2NhdGlvblBhdGhuYW1lID09PSB0b1BhdGhuYW1lIHx8ICFlbmQgJiYgbG9jYXRpb25QYXRobmFtZS5zdGFydHNXaXRoKHRvUGF0aG5hbWUpICYmIGxvY2F0aW9uUGF0aG5hbWUuY2hhckF0KGVuZFNsYXNoUG9zaXRpb24pID09PSBcIi9cIjtcbiAgICBsZXQgaXNQZW5kaW5nID0gbmV4dExvY2F0aW9uUGF0aG5hbWUgIT0gbnVsbCAmJiAobmV4dExvY2F0aW9uUGF0aG5hbWUgPT09IHRvUGF0aG5hbWUgfHwgIWVuZCAmJiBuZXh0TG9jYXRpb25QYXRobmFtZS5zdGFydHNXaXRoKHRvUGF0aG5hbWUpICYmIG5leHRMb2NhdGlvblBhdGhuYW1lLmNoYXJBdCh0b1BhdGhuYW1lLmxlbmd0aCkgPT09IFwiL1wiKTtcbiAgICBsZXQgcmVuZGVyUHJvcHMgPSB7XG4gICAgICBpc0FjdGl2ZSxcbiAgICAgIGlzUGVuZGluZyxcbiAgICAgIGlzVHJhbnNpdGlvbmluZ1xuICAgIH07XG4gICAgbGV0IGFyaWFDdXJyZW50ID0gaXNBY3RpdmUgPyBhcmlhQ3VycmVudFByb3AgOiB2b2lkIDA7XG4gICAgbGV0IGNsYXNzTmFtZTtcbiAgICBpZiAodHlwZW9mIGNsYXNzTmFtZVByb3AgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lUHJvcChyZW5kZXJQcm9wcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNsYXNzTmFtZSA9IFtcbiAgICAgICAgY2xhc3NOYW1lUHJvcCxcbiAgICAgICAgaXNBY3RpdmUgPyBcImFjdGl2ZVwiIDogbnVsbCxcbiAgICAgICAgaXNQZW5kaW5nID8gXCJwZW5kaW5nXCIgOiBudWxsLFxuICAgICAgICBpc1RyYW5zaXRpb25pbmcgPyBcInRyYW5zaXRpb25pbmdcIiA6IG51bGxcbiAgICAgIF0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIgXCIpO1xuICAgIH1cbiAgICBsZXQgc3R5bGUgPSB0eXBlb2Ygc3R5bGVQcm9wID09PSBcImZ1bmN0aW9uXCIgPyBzdHlsZVByb3AocmVuZGVyUHJvcHMpIDogc3R5bGVQcm9wO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMC5jcmVhdGVFbGVtZW50KFxuICAgICAgTGluayxcbiAgICAgIHtcbiAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgXCJhcmlhLWN1cnJlbnRcIjogYXJpYUN1cnJlbnQsXG4gICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICAgcmVmLFxuICAgICAgICBzdHlsZSxcbiAgICAgICAgdG8sXG4gICAgICAgIHZpZXdUcmFuc2l0aW9uXG4gICAgICB9LFxuICAgICAgdHlwZW9mIGNoaWxkcmVuID09PSBcImZ1bmN0aW9uXCIgPyBjaGlsZHJlbihyZW5kZXJQcm9wcykgOiBjaGlsZHJlblxuICAgICk7XG4gIH1cbik7XG5OYXZMaW5rLmRpc3BsYXlOYW1lID0gXCJOYXZMaW5rXCI7XG52YXIgRm9ybSA9IFJlYWN0MTAuZm9yd2FyZFJlZihcbiAgKHtcbiAgICBkaXNjb3ZlciA9IFwicmVuZGVyXCIsXG4gICAgZmV0Y2hlcktleSxcbiAgICBuYXZpZ2F0ZSxcbiAgICByZWxvYWREb2N1bWVudCxcbiAgICByZXBsYWNlOiByZXBsYWNlMixcbiAgICBzdGF0ZSxcbiAgICBtZXRob2QgPSBkZWZhdWx0TWV0aG9kLFxuICAgIGFjdGlvbixcbiAgICBvblN1Ym1pdCxcbiAgICByZWxhdGl2ZSxcbiAgICBwcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgdmlld1RyYW5zaXRpb24sXG4gICAgLi4ucHJvcHNcbiAgfSwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgbGV0IHN1Ym1pdCA9IHVzZVN1Ym1pdCgpO1xuICAgIGxldCBmb3JtQWN0aW9uID0gdXNlRm9ybUFjdGlvbihhY3Rpb24sIHsgcmVsYXRpdmUgfSk7XG4gICAgbGV0IGZvcm1NZXRob2QgPSBtZXRob2QudG9Mb3dlckNhc2UoKSA9PT0gXCJnZXRcIiA/IFwiZ2V0XCIgOiBcInBvc3RcIjtcbiAgICBsZXQgaXNBYnNvbHV0ZSA9IHR5cGVvZiBhY3Rpb24gPT09IFwic3RyaW5nXCIgJiYgQUJTT0xVVEVfVVJMX1JFR0VYMi50ZXN0KGFjdGlvbik7XG4gICAgbGV0IHN1Ym1pdEhhbmRsZXIgPSAoZXZlbnQpID0+IHtcbiAgICAgIG9uU3VibWl0ICYmIG9uU3VibWl0KGV2ZW50KTtcbiAgICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSByZXR1cm47XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgbGV0IHN1Ym1pdHRlciA9IGV2ZW50Lm5hdGl2ZUV2ZW50LnN1Ym1pdHRlcjtcbiAgICAgIGxldCBzdWJtaXRNZXRob2QgPSBzdWJtaXR0ZXI/LmdldEF0dHJpYnV0ZShcImZvcm1tZXRob2RcIikgfHwgbWV0aG9kO1xuICAgICAgc3VibWl0KHN1Ym1pdHRlciB8fCBldmVudC5jdXJyZW50VGFyZ2V0LCB7XG4gICAgICAgIGZldGNoZXJLZXksXG4gICAgICAgIG1ldGhvZDogc3VibWl0TWV0aG9kLFxuICAgICAgICBuYXZpZ2F0ZSxcbiAgICAgICAgcmVwbGFjZTogcmVwbGFjZTIsXG4gICAgICAgIHN0YXRlLFxuICAgICAgICByZWxhdGl2ZSxcbiAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgICB2aWV3VHJhbnNpdGlvblxuICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTAuY3JlYXRlRWxlbWVudChcbiAgICAgIFwiZm9ybVwiLFxuICAgICAge1xuICAgICAgICByZWY6IGZvcndhcmRlZFJlZixcbiAgICAgICAgbWV0aG9kOiBmb3JtTWV0aG9kLFxuICAgICAgICBhY3Rpb246IGZvcm1BY3Rpb24sXG4gICAgICAgIG9uU3VibWl0OiByZWxvYWREb2N1bWVudCA/IG9uU3VibWl0IDogc3VibWl0SGFuZGxlcixcbiAgICAgICAgLi4ucHJvcHMsXG4gICAgICAgIFwiZGF0YS1kaXNjb3ZlclwiOiAhaXNBYnNvbHV0ZSAmJiBkaXNjb3ZlciA9PT0gXCJyZW5kZXJcIiA/IFwidHJ1ZVwiIDogdm9pZCAwXG4gICAgICB9XG4gICAgKTtcbiAgfVxuKTtcbkZvcm0uZGlzcGxheU5hbWUgPSBcIkZvcm1cIjtcbmZ1bmN0aW9uIFNjcm9sbFJlc3RvcmF0aW9uKHtcbiAgZ2V0S2V5LFxuICBzdG9yYWdlS2V5LFxuICAuLi5wcm9wc1xufSkge1xuICBsZXQgcmVtaXhDb250ZXh0ID0gUmVhY3QxMC51c2VDb250ZXh0KEZyYW1ld29ya0NvbnRleHQpO1xuICBsZXQgeyBiYXNlbmFtZSB9ID0gUmVhY3QxMC51c2VDb250ZXh0KE5hdmlnYXRpb25Db250ZXh0KTtcbiAgbGV0IGxvY2F0aW9uID0gdXNlTG9jYXRpb24oKTtcbiAgbGV0IG1hdGNoZXMgPSB1c2VNYXRjaGVzKCk7XG4gIHVzZVNjcm9sbFJlc3RvcmF0aW9uKHsgZ2V0S2V5LCBzdG9yYWdlS2V5IH0pO1xuICBsZXQgc3NyS2V5ID0gUmVhY3QxMC51c2VNZW1vKFxuICAgICgpID0+IHtcbiAgICAgIGlmICghcmVtaXhDb250ZXh0IHx8ICFnZXRLZXkpIHJldHVybiBudWxsO1xuICAgICAgbGV0IHVzZXJLZXkgPSBnZXRTY3JvbGxSZXN0b3JhdGlvbktleShcbiAgICAgICAgbG9jYXRpb24sXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIGJhc2VuYW1lLFxuICAgICAgICBnZXRLZXlcbiAgICAgICk7XG4gICAgICByZXR1cm4gdXNlcktleSAhPT0gbG9jYXRpb24ua2V5ID8gdXNlcktleSA6IG51bGw7XG4gICAgfSxcbiAgICAvLyBOYWgsIHdlIG9ubHkgbmVlZCB0aGlzIHRoZSBmaXJzdCB0aW1lIGZvciB0aGUgU1NSIHJlbmRlclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICBbXVxuICApO1xuICBpZiAoIXJlbWl4Q29udGV4dCB8fCByZW1peENvbnRleHQuaXNTcGFNb2RlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgbGV0IHJlc3RvcmVTY3JvbGwgPSAoKHN0b3JhZ2VLZXkyLCByZXN0b3JlS2V5KSA9PiB7XG4gICAgaWYgKCF3aW5kb3cuaGlzdG9yeS5zdGF0ZSB8fCAhd2luZG93Lmhpc3Rvcnkuc3RhdGUua2V5KSB7XG4gICAgICBsZXQga2V5ID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzMikuc2xpY2UoMik7XG4gICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoeyBrZXkgfSwgXCJcIik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBsZXQgcG9zaXRpb25zID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXkyKSB8fCBcInt9XCIpO1xuICAgICAgbGV0IHN0b3JlZFkgPSBwb3NpdGlvbnNbcmVzdG9yZUtleSB8fCB3aW5kb3cuaGlzdG9yeS5zdGF0ZS5rZXldO1xuICAgICAgaWYgKHR5cGVvZiBzdG9yZWRZID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCBzdG9yZWRZKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKHN0b3JhZ2VLZXkyKTtcbiAgICB9XG4gIH0pLnRvU3RyaW5nKCk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMC5jcmVhdGVFbGVtZW50KFxuICAgIFwic2NyaXB0XCIsXG4gICAge1xuICAgICAgLi4ucHJvcHMsXG4gICAgICBzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmc6IHRydWUsXG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDoge1xuICAgICAgICBfX2h0bWw6IGAoJHtyZXN0b3JlU2Nyb2xsfSkoJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICBzdG9yYWdlS2V5IHx8IFNDUk9MTF9SRVNUT1JBVElPTl9TVE9SQUdFX0tFWVxuICAgICAgICApfSwgJHtKU09OLnN0cmluZ2lmeShzc3JLZXkpfSlgXG4gICAgICB9XG4gICAgfVxuICApO1xufVxuU2Nyb2xsUmVzdG9yYXRpb24uZGlzcGxheU5hbWUgPSBcIlNjcm9sbFJlc3RvcmF0aW9uXCI7XG5mdW5jdGlvbiBnZXREYXRhUm91dGVyQ29uc29sZUVycm9yMihob29rTmFtZSkge1xuICByZXR1cm4gYCR7aG9va05hbWV9IG11c3QgYmUgdXNlZCB3aXRoaW4gYSBkYXRhIHJvdXRlci4gIFNlZSBodHRwczovL3JlYWN0cm91dGVyLmNvbS9lbi9tYWluL3JvdXRlcnMvcGlja2luZy1hLXJvdXRlci5gO1xufVxuZnVuY3Rpb24gdXNlRGF0YVJvdXRlckNvbnRleHQzKGhvb2tOYW1lKSB7XG4gIGxldCBjdHggPSBSZWFjdDEwLnVzZUNvbnRleHQoRGF0YVJvdXRlckNvbnRleHQpO1xuICBpbnZhcmlhbnQoY3R4LCBnZXREYXRhUm91dGVyQ29uc29sZUVycm9yMihob29rTmFtZSkpO1xuICByZXR1cm4gY3R4O1xufVxuZnVuY3Rpb24gdXNlRGF0YVJvdXRlclN0YXRlMihob29rTmFtZSkge1xuICBsZXQgc3RhdGUgPSBSZWFjdDEwLnVzZUNvbnRleHQoRGF0YVJvdXRlclN0YXRlQ29udGV4dCk7XG4gIGludmFyaWFudChzdGF0ZSwgZ2V0RGF0YVJvdXRlckNvbnNvbGVFcnJvcjIoaG9va05hbWUpKTtcbiAgcmV0dXJuIHN0YXRlO1xufVxuZnVuY3Rpb24gdXNlTGlua0NsaWNrSGFuZGxlcih0bywge1xuICB0YXJnZXQsXG4gIHJlcGxhY2U6IHJlcGxhY2VQcm9wLFxuICBzdGF0ZSxcbiAgcHJldmVudFNjcm9sbFJlc2V0LFxuICByZWxhdGl2ZSxcbiAgdmlld1RyYW5zaXRpb25cbn0gPSB7fSkge1xuICBsZXQgbmF2aWdhdGUgPSB1c2VOYXZpZ2F0ZSgpO1xuICBsZXQgbG9jYXRpb24gPSB1c2VMb2NhdGlvbigpO1xuICBsZXQgcGF0aCA9IHVzZVJlc29sdmVkUGF0aCh0bywgeyByZWxhdGl2ZSB9KTtcbiAgcmV0dXJuIFJlYWN0MTAudXNlQ2FsbGJhY2soXG4gICAgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoc2hvdWxkUHJvY2Vzc0xpbmtDbGljayhldmVudCwgdGFyZ2V0KSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBsZXQgcmVwbGFjZTIgPSByZXBsYWNlUHJvcCAhPT0gdm9pZCAwID8gcmVwbGFjZVByb3AgOiBjcmVhdGVQYXRoKGxvY2F0aW9uKSA9PT0gY3JlYXRlUGF0aChwYXRoKTtcbiAgICAgICAgbmF2aWdhdGUodG8sIHtcbiAgICAgICAgICByZXBsYWNlOiByZXBsYWNlMixcbiAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICAgICAgcmVsYXRpdmUsXG4gICAgICAgICAgdmlld1RyYW5zaXRpb25cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbXG4gICAgICBsb2NhdGlvbixcbiAgICAgIG5hdmlnYXRlLFxuICAgICAgcGF0aCxcbiAgICAgIHJlcGxhY2VQcm9wLFxuICAgICAgc3RhdGUsXG4gICAgICB0YXJnZXQsXG4gICAgICB0byxcbiAgICAgIHByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgIHJlbGF0aXZlLFxuICAgICAgdmlld1RyYW5zaXRpb25cbiAgICBdXG4gICk7XG59XG5mdW5jdGlvbiB1c2VTZWFyY2hQYXJhbXMoZGVmYXVsdEluaXQpIHtcbiAgd2FybmluZyhcbiAgICB0eXBlb2YgVVJMU2VhcmNoUGFyYW1zICE9PSBcInVuZGVmaW5lZFwiLFxuICAgIGBZb3UgY2Fubm90IHVzZSB0aGUgXFxgdXNlU2VhcmNoUGFyYW1zXFxgIGhvb2sgaW4gYSBicm93c2VyIHRoYXQgZG9lcyBub3Qgc3VwcG9ydCB0aGUgVVJMU2VhcmNoUGFyYW1zIEFQSS4gSWYgeW91IG5lZWQgdG8gc3VwcG9ydCBJbnRlcm5ldCBFeHBsb3JlciAxMSwgd2UgcmVjb21tZW5kIHlvdSBsb2FkIGEgcG9seWZpbGwgc3VjaCBhcyBodHRwczovL2dpdGh1Yi5jb20vdW5nYXAvdXJsLXNlYXJjaC1wYXJhbXMuYFxuICApO1xuICBsZXQgZGVmYXVsdFNlYXJjaFBhcmFtc1JlZiA9IFJlYWN0MTAudXNlUmVmKGNyZWF0ZVNlYXJjaFBhcmFtcyhkZWZhdWx0SW5pdCkpO1xuICBsZXQgaGFzU2V0U2VhcmNoUGFyYW1zUmVmID0gUmVhY3QxMC51c2VSZWYoZmFsc2UpO1xuICBsZXQgbG9jYXRpb24gPSB1c2VMb2NhdGlvbigpO1xuICBsZXQgc2VhcmNoUGFyYW1zID0gUmVhY3QxMC51c2VNZW1vKFxuICAgICgpID0+IChcbiAgICAgIC8vIE9ubHkgbWVyZ2UgaW4gdGhlIGRlZmF1bHRzIGlmIHdlIGhhdmVuJ3QgeWV0IGNhbGxlZCBzZXRTZWFyY2hQYXJhbXMuXG4gICAgICAvLyBPbmNlIHdlIGNhbGwgdGhhdCB3ZSB3YW50IHRob3NlIHRvIHRha2UgcHJlY2VkZW5jZSwgb3RoZXJ3aXNlIHlvdSBjYW4ndFxuICAgICAgLy8gcmVtb3ZlIGEgcGFyYW0gd2l0aCBzZXRTZWFyY2hQYXJhbXMoe30pIGlmIGl0IGhhcyBhbiBpbml0aWFsIHZhbHVlXG4gICAgICBnZXRTZWFyY2hQYXJhbXNGb3JMb2NhdGlvbihcbiAgICAgICAgbG9jYXRpb24uc2VhcmNoLFxuICAgICAgICBoYXNTZXRTZWFyY2hQYXJhbXNSZWYuY3VycmVudCA/IG51bGwgOiBkZWZhdWx0U2VhcmNoUGFyYW1zUmVmLmN1cnJlbnRcbiAgICAgIClcbiAgICApLFxuICAgIFtsb2NhdGlvbi5zZWFyY2hdXG4gICk7XG4gIGxldCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKCk7XG4gIGxldCBzZXRTZWFyY2hQYXJhbXMgPSBSZWFjdDEwLnVzZUNhbGxiYWNrKFxuICAgIChuZXh0SW5pdCwgbmF2aWdhdGVPcHRpb25zKSA9PiB7XG4gICAgICBjb25zdCBuZXdTZWFyY2hQYXJhbXMgPSBjcmVhdGVTZWFyY2hQYXJhbXMoXG4gICAgICAgIHR5cGVvZiBuZXh0SW5pdCA9PT0gXCJmdW5jdGlvblwiID8gbmV4dEluaXQobmV3IFVSTFNlYXJjaFBhcmFtcyhzZWFyY2hQYXJhbXMpKSA6IG5leHRJbml0XG4gICAgICApO1xuICAgICAgaGFzU2V0U2VhcmNoUGFyYW1zUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgbmF2aWdhdGUoXCI/XCIgKyBuZXdTZWFyY2hQYXJhbXMsIG5hdmlnYXRlT3B0aW9ucyk7XG4gICAgfSxcbiAgICBbbmF2aWdhdGUsIHNlYXJjaFBhcmFtc11cbiAgKTtcbiAgcmV0dXJuIFtzZWFyY2hQYXJhbXMsIHNldFNlYXJjaFBhcmFtc107XG59XG52YXIgZmV0Y2hlcklkID0gMDtcbnZhciBnZXRVbmlxdWVGZXRjaGVySWQgPSAoKSA9PiBgX18ke1N0cmluZygrK2ZldGNoZXJJZCl9X19gO1xuZnVuY3Rpb24gdXNlU3VibWl0KCkge1xuICBsZXQgeyByb3V0ZXIgfSA9IHVzZURhdGFSb3V0ZXJDb250ZXh0MyhcInVzZVN1Ym1pdFwiIC8qIFVzZVN1Ym1pdCAqLyk7XG4gIGxldCB7IGJhc2VuYW1lIH0gPSBSZWFjdDEwLnVzZUNvbnRleHQoTmF2aWdhdGlvbkNvbnRleHQpO1xuICBsZXQgY3VycmVudFJvdXRlSWQgPSB1c2VSb3V0ZUlkKCk7XG4gIHJldHVybiBSZWFjdDEwLnVzZUNhbGxiYWNrKFxuICAgIGFzeW5jICh0YXJnZXQsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgICAgbGV0IHsgYWN0aW9uLCBtZXRob2QsIGVuY1R5cGUsIGZvcm1EYXRhLCBib2R5IH0gPSBnZXRGb3JtU3VibWlzc2lvbkluZm8oXG4gICAgICAgIHRhcmdldCxcbiAgICAgICAgYmFzZW5hbWVcbiAgICAgICk7XG4gICAgICBpZiAob3B0aW9ucy5uYXZpZ2F0ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgbGV0IGtleSA9IG9wdGlvbnMuZmV0Y2hlcktleSB8fCBnZXRVbmlxdWVGZXRjaGVySWQoKTtcbiAgICAgICAgYXdhaXQgcm91dGVyLmZldGNoKGtleSwgY3VycmVudFJvdXRlSWQsIG9wdGlvbnMuYWN0aW9uIHx8IGFjdGlvbiwge1xuICAgICAgICAgIHByZXZlbnRTY3JvbGxSZXNldDogb3B0aW9ucy5wcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICAgICAgZm9ybURhdGEsXG4gICAgICAgICAgYm9keSxcbiAgICAgICAgICBmb3JtTWV0aG9kOiBvcHRpb25zLm1ldGhvZCB8fCBtZXRob2QsXG4gICAgICAgICAgZm9ybUVuY1R5cGU6IG9wdGlvbnMuZW5jVHlwZSB8fCBlbmNUeXBlLFxuICAgICAgICAgIGZsdXNoU3luYzogb3B0aW9ucy5mbHVzaFN5bmNcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCByb3V0ZXIubmF2aWdhdGUob3B0aW9ucy5hY3Rpb24gfHwgYWN0aW9uLCB7XG4gICAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0OiBvcHRpb25zLnByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgICAgICBmb3JtRGF0YSxcbiAgICAgICAgICBib2R5LFxuICAgICAgICAgIGZvcm1NZXRob2Q6IG9wdGlvbnMubWV0aG9kIHx8IG1ldGhvZCxcbiAgICAgICAgICBmb3JtRW5jVHlwZTogb3B0aW9ucy5lbmNUeXBlIHx8IGVuY1R5cGUsXG4gICAgICAgICAgcmVwbGFjZTogb3B0aW9ucy5yZXBsYWNlLFxuICAgICAgICAgIHN0YXRlOiBvcHRpb25zLnN0YXRlLFxuICAgICAgICAgIGZyb21Sb3V0ZUlkOiBjdXJyZW50Um91dGVJZCxcbiAgICAgICAgICBmbHVzaFN5bmM6IG9wdGlvbnMuZmx1c2hTeW5jLFxuICAgICAgICAgIHZpZXdUcmFuc2l0aW9uOiBvcHRpb25zLnZpZXdUcmFuc2l0aW9uXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgW3JvdXRlciwgYmFzZW5hbWUsIGN1cnJlbnRSb3V0ZUlkXVxuICApO1xufVxuZnVuY3Rpb24gdXNlRm9ybUFjdGlvbihhY3Rpb24sIHsgcmVsYXRpdmUgfSA9IHt9KSB7XG4gIGxldCB7IGJhc2VuYW1lIH0gPSBSZWFjdDEwLnVzZUNvbnRleHQoTmF2aWdhdGlvbkNvbnRleHQpO1xuICBsZXQgcm91dGVDb250ZXh0ID0gUmVhY3QxMC51c2VDb250ZXh0KFJvdXRlQ29udGV4dCk7XG4gIGludmFyaWFudChyb3V0ZUNvbnRleHQsIFwidXNlRm9ybUFjdGlvbiBtdXN0IGJlIHVzZWQgaW5zaWRlIGEgUm91dGVDb250ZXh0XCIpO1xuICBsZXQgW21hdGNoXSA9IHJvdXRlQ29udGV4dC5tYXRjaGVzLnNsaWNlKC0xKTtcbiAgbGV0IHBhdGggPSB7IC4uLnVzZVJlc29sdmVkUGF0aChhY3Rpb24gPyBhY3Rpb24gOiBcIi5cIiwgeyByZWxhdGl2ZSB9KSB9O1xuICBsZXQgbG9jYXRpb24gPSB1c2VMb2NhdGlvbigpO1xuICBpZiAoYWN0aW9uID09IG51bGwpIHtcbiAgICBwYXRoLnNlYXJjaCA9IGxvY2F0aW9uLnNlYXJjaDtcbiAgICBsZXQgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhwYXRoLnNlYXJjaCk7XG4gICAgbGV0IGluZGV4VmFsdWVzID0gcGFyYW1zLmdldEFsbChcImluZGV4XCIpO1xuICAgIGxldCBoYXNOYWtlZEluZGV4UGFyYW0gPSBpbmRleFZhbHVlcy5zb21lKCh2KSA9PiB2ID09PSBcIlwiKTtcbiAgICBpZiAoaGFzTmFrZWRJbmRleFBhcmFtKSB7XG4gICAgICBwYXJhbXMuZGVsZXRlKFwiaW5kZXhcIik7XG4gICAgICBpbmRleFZhbHVlcy5maWx0ZXIoKHYpID0+IHYpLmZvckVhY2goKHYpID0+IHBhcmFtcy5hcHBlbmQoXCJpbmRleFwiLCB2KSk7XG4gICAgICBsZXQgcXMgPSBwYXJhbXMudG9TdHJpbmcoKTtcbiAgICAgIHBhdGguc2VhcmNoID0gcXMgPyBgPyR7cXN9YCA6IFwiXCI7XG4gICAgfVxuICB9XG4gIGlmICgoIWFjdGlvbiB8fCBhY3Rpb24gPT09IFwiLlwiKSAmJiBtYXRjaC5yb3V0ZS5pbmRleCkge1xuICAgIHBhdGguc2VhcmNoID0gcGF0aC5zZWFyY2ggPyBwYXRoLnNlYXJjaC5yZXBsYWNlKC9eXFw/LywgXCI/aW5kZXgmXCIpIDogXCI/aW5kZXhcIjtcbiAgfVxuICBpZiAoYmFzZW5hbWUgIT09IFwiL1wiKSB7XG4gICAgcGF0aC5wYXRobmFtZSA9IHBhdGgucGF0aG5hbWUgPT09IFwiL1wiID8gYmFzZW5hbWUgOiBqb2luUGF0aHMoW2Jhc2VuYW1lLCBwYXRoLnBhdGhuYW1lXSk7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZVBhdGgocGF0aCk7XG59XG5mdW5jdGlvbiB1c2VGZXRjaGVyKHtcbiAga2V5XG59ID0ge30pIHtcbiAgbGV0IHsgcm91dGVyIH0gPSB1c2VEYXRhUm91dGVyQ29udGV4dDMoXCJ1c2VGZXRjaGVyXCIgLyogVXNlRmV0Y2hlciAqLyk7XG4gIGxldCBzdGF0ZSA9IHVzZURhdGFSb3V0ZXJTdGF0ZTIoXCJ1c2VGZXRjaGVyXCIgLyogVXNlRmV0Y2hlciAqLyk7XG4gIGxldCBmZXRjaGVyRGF0YSA9IFJlYWN0MTAudXNlQ29udGV4dChGZXRjaGVyc0NvbnRleHQpO1xuICBsZXQgcm91dGUgPSBSZWFjdDEwLnVzZUNvbnRleHQoUm91dGVDb250ZXh0KTtcbiAgbGV0IHJvdXRlSWQgPSByb3V0ZS5tYXRjaGVzW3JvdXRlLm1hdGNoZXMubGVuZ3RoIC0gMV0/LnJvdXRlLmlkO1xuICBpbnZhcmlhbnQoZmV0Y2hlckRhdGEsIGB1c2VGZXRjaGVyIG11c3QgYmUgdXNlZCBpbnNpZGUgYSBGZXRjaGVyc0NvbnRleHRgKTtcbiAgaW52YXJpYW50KHJvdXRlLCBgdXNlRmV0Y2hlciBtdXN0IGJlIHVzZWQgaW5zaWRlIGEgUm91dGVDb250ZXh0YCk7XG4gIGludmFyaWFudChcbiAgICByb3V0ZUlkICE9IG51bGwsXG4gICAgYHVzZUZldGNoZXIgY2FuIG9ubHkgYmUgdXNlZCBvbiByb3V0ZXMgdGhhdCBjb250YWluIGEgdW5pcXVlIFwiaWRcImBcbiAgKTtcbiAgbGV0IGRlZmF1bHRLZXkgPSBSZWFjdDEwLnVzZUlkKCk7XG4gIGxldCBbZmV0Y2hlcktleSwgc2V0RmV0Y2hlcktleV0gPSBSZWFjdDEwLnVzZVN0YXRlKGtleSB8fCBkZWZhdWx0S2V5KTtcbiAgaWYgKGtleSAmJiBrZXkgIT09IGZldGNoZXJLZXkpIHtcbiAgICBzZXRGZXRjaGVyS2V5KGtleSk7XG4gIH1cbiAgUmVhY3QxMC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJvdXRlci5nZXRGZXRjaGVyKGZldGNoZXJLZXkpO1xuICAgIHJldHVybiAoKSA9PiByb3V0ZXIuZGVsZXRlRmV0Y2hlcihmZXRjaGVyS2V5KTtcbiAgfSwgW3JvdXRlciwgZmV0Y2hlcktleV0pO1xuICBsZXQgbG9hZCA9IFJlYWN0MTAudXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKGhyZWYsIG9wdHMpID0+IHtcbiAgICAgIGludmFyaWFudChyb3V0ZUlkLCBcIk5vIHJvdXRlSWQgYXZhaWxhYmxlIGZvciBmZXRjaGVyLmxvYWQoKVwiKTtcbiAgICAgIGF3YWl0IHJvdXRlci5mZXRjaChmZXRjaGVyS2V5LCByb3V0ZUlkLCBocmVmLCBvcHRzKTtcbiAgICB9LFxuICAgIFtmZXRjaGVyS2V5LCByb3V0ZUlkLCByb3V0ZXJdXG4gICk7XG4gIGxldCBzdWJtaXRJbXBsID0gdXNlU3VibWl0KCk7XG4gIGxldCBzdWJtaXQgPSBSZWFjdDEwLnVzZUNhbGxiYWNrKFxuICAgIGFzeW5jICh0YXJnZXQsIG9wdHMpID0+IHtcbiAgICAgIGF3YWl0IHN1Ym1pdEltcGwodGFyZ2V0LCB7XG4gICAgICAgIC4uLm9wdHMsXG4gICAgICAgIG5hdmlnYXRlOiBmYWxzZSxcbiAgICAgICAgZmV0Y2hlcktleVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBbZmV0Y2hlcktleSwgc3VibWl0SW1wbF1cbiAgKTtcbiAgbGV0IHVuc3RhYmxlX3Jlc2V0ID0gUmVhY3QxMC51c2VDYWxsYmFjaygob3B0cykgPT4gcm91dGVyLnJlc2V0RmV0Y2hlcihmZXRjaGVyS2V5LCBvcHRzKSwgW3JvdXRlciwgZmV0Y2hlcktleV0pO1xuICBsZXQgRmV0Y2hlckZvcm0gPSBSZWFjdDEwLnVzZU1lbW8oKCkgPT4ge1xuICAgIGxldCBGZXRjaGVyRm9ybTIgPSBSZWFjdDEwLmZvcndhcmRSZWYoXG4gICAgICAocHJvcHMsIHJlZikgPT4ge1xuICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTAuY3JlYXRlRWxlbWVudChGb3JtLCB7IC4uLnByb3BzLCBuYXZpZ2F0ZTogZmFsc2UsIGZldGNoZXJLZXksIHJlZiB9KTtcbiAgICAgIH1cbiAgICApO1xuICAgIEZldGNoZXJGb3JtMi5kaXNwbGF5TmFtZSA9IFwiZmV0Y2hlci5Gb3JtXCI7XG4gICAgcmV0dXJuIEZldGNoZXJGb3JtMjtcbiAgfSwgW2ZldGNoZXJLZXldKTtcbiAgbGV0IGZldGNoZXIgPSBzdGF0ZS5mZXRjaGVycy5nZXQoZmV0Y2hlcktleSkgfHwgSURMRV9GRVRDSEVSO1xuICBsZXQgZGF0YTIgPSBmZXRjaGVyRGF0YS5nZXQoZmV0Y2hlcktleSk7XG4gIGxldCBmZXRjaGVyV2l0aENvbXBvbmVudHMgPSBSZWFjdDEwLnVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIEZvcm06IEZldGNoZXJGb3JtLFxuICAgICAgc3VibWl0LFxuICAgICAgbG9hZCxcbiAgICAgIHVuc3RhYmxlX3Jlc2V0LFxuICAgICAgLi4uZmV0Y2hlcixcbiAgICAgIGRhdGE6IGRhdGEyXG4gICAgfSksXG4gICAgW0ZldGNoZXJGb3JtLCBzdWJtaXQsIGxvYWQsIHVuc3RhYmxlX3Jlc2V0LCBmZXRjaGVyLCBkYXRhMl1cbiAgKTtcbiAgcmV0dXJuIGZldGNoZXJXaXRoQ29tcG9uZW50cztcbn1cbmZ1bmN0aW9uIHVzZUZldGNoZXJzKCkge1xuICBsZXQgc3RhdGUgPSB1c2VEYXRhUm91dGVyU3RhdGUyKFwidXNlRmV0Y2hlcnNcIiAvKiBVc2VGZXRjaGVycyAqLyk7XG4gIHJldHVybiBBcnJheS5mcm9tKHN0YXRlLmZldGNoZXJzLmVudHJpZXMoKSkubWFwKChba2V5LCBmZXRjaGVyXSkgPT4gKHtcbiAgICAuLi5mZXRjaGVyLFxuICAgIGtleVxuICB9KSk7XG59XG52YXIgU0NST0xMX1JFU1RPUkFUSU9OX1NUT1JBR0VfS0VZID0gXCJyZWFjdC1yb3V0ZXItc2Nyb2xsLXBvc2l0aW9uc1wiO1xudmFyIHNhdmVkU2Nyb2xsUG9zaXRpb25zID0ge307XG5mdW5jdGlvbiBnZXRTY3JvbGxSZXN0b3JhdGlvbktleShsb2NhdGlvbiwgbWF0Y2hlcywgYmFzZW5hbWUsIGdldEtleSkge1xuICBsZXQga2V5ID0gbnVsbDtcbiAgaWYgKGdldEtleSkge1xuICAgIGlmIChiYXNlbmFtZSAhPT0gXCIvXCIpIHtcbiAgICAgIGtleSA9IGdldEtleShcbiAgICAgICAge1xuICAgICAgICAgIC4uLmxvY2F0aW9uLFxuICAgICAgICAgIHBhdGhuYW1lOiBzdHJpcEJhc2VuYW1lKGxvY2F0aW9uLnBhdGhuYW1lLCBiYXNlbmFtZSkgfHwgbG9jYXRpb24ucGF0aG5hbWVcbiAgICAgICAgfSxcbiAgICAgICAgbWF0Y2hlc1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAga2V5ID0gZ2V0S2V5KGxvY2F0aW9uLCBtYXRjaGVzKTtcbiAgICB9XG4gIH1cbiAgaWYgKGtleSA9PSBudWxsKSB7XG4gICAga2V5ID0gbG9jYXRpb24ua2V5O1xuICB9XG4gIHJldHVybiBrZXk7XG59XG5mdW5jdGlvbiB1c2VTY3JvbGxSZXN0b3JhdGlvbih7XG4gIGdldEtleSxcbiAgc3RvcmFnZUtleVxufSA9IHt9KSB7XG4gIGxldCB7IHJvdXRlciB9ID0gdXNlRGF0YVJvdXRlckNvbnRleHQzKFwidXNlU2Nyb2xsUmVzdG9yYXRpb25cIiAvKiBVc2VTY3JvbGxSZXN0b3JhdGlvbiAqLyk7XG4gIGxldCB7IHJlc3RvcmVTY3JvbGxQb3NpdGlvbiwgcHJldmVudFNjcm9sbFJlc2V0IH0gPSB1c2VEYXRhUm91dGVyU3RhdGUyKFxuICAgIFwidXNlU2Nyb2xsUmVzdG9yYXRpb25cIiAvKiBVc2VTY3JvbGxSZXN0b3JhdGlvbiAqL1xuICApO1xuICBsZXQgeyBiYXNlbmFtZSB9ID0gUmVhY3QxMC51c2VDb250ZXh0KE5hdmlnYXRpb25Db250ZXh0KTtcbiAgbGV0IGxvY2F0aW9uID0gdXNlTG9jYXRpb24oKTtcbiAgbGV0IG1hdGNoZXMgPSB1c2VNYXRjaGVzKCk7XG4gIGxldCBuYXZpZ2F0aW9uID0gdXNlTmF2aWdhdGlvbigpO1xuICBSZWFjdDEwLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgd2luZG93Lmhpc3Rvcnkuc2Nyb2xsUmVzdG9yYXRpb24gPSBcIm1hbnVhbFwiO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cuaGlzdG9yeS5zY3JvbGxSZXN0b3JhdGlvbiA9IFwiYXV0b1wiO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgdXNlUGFnZUhpZGUoXG4gICAgUmVhY3QxMC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICBpZiAobmF2aWdhdGlvbi5zdGF0ZSA9PT0gXCJpZGxlXCIpIHtcbiAgICAgICAgbGV0IGtleSA9IGdldFNjcm9sbFJlc3RvcmF0aW9uS2V5KGxvY2F0aW9uLCBtYXRjaGVzLCBiYXNlbmFtZSwgZ2V0S2V5KTtcbiAgICAgICAgc2F2ZWRTY3JvbGxQb3NpdGlvbnNba2V5XSA9IHdpbmRvdy5zY3JvbGxZO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcbiAgICAgICAgICBzdG9yYWdlS2V5IHx8IFNDUk9MTF9SRVNUT1JBVElPTl9TVE9SQUdFX0tFWSxcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeShzYXZlZFNjcm9sbFBvc2l0aW9ucylcbiAgICAgICAgKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgYEZhaWxlZCB0byBzYXZlIHNjcm9sbCBwb3NpdGlvbnMgaW4gc2Vzc2lvblN0b3JhZ2UsIDxTY3JvbGxSZXN0b3JhdGlvbiAvPiB3aWxsIG5vdCB3b3JrIHByb3Blcmx5ICgke2Vycm9yfSkuYFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgd2luZG93Lmhpc3Rvcnkuc2Nyb2xsUmVzdG9yYXRpb24gPSBcImF1dG9cIjtcbiAgICB9LCBbbmF2aWdhdGlvbi5zdGF0ZSwgZ2V0S2V5LCBiYXNlbmFtZSwgbG9jYXRpb24sIG1hdGNoZXMsIHN0b3JhZ2VLZXldKVxuICApO1xuICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgUmVhY3QxMC51c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbGV0IHNlc3Npb25Qb3NpdGlvbnMgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFxuICAgICAgICAgIHN0b3JhZ2VLZXkgfHwgU0NST0xMX1JFU1RPUkFUSU9OX1NUT1JBR0VfS0VZXG4gICAgICAgICk7XG4gICAgICAgIGlmIChzZXNzaW9uUG9zaXRpb25zKSB7XG4gICAgICAgICAgc2F2ZWRTY3JvbGxQb3NpdGlvbnMgPSBKU09OLnBhcnNlKHNlc3Npb25Qb3NpdGlvbnMpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICB9XG4gICAgfSwgW3N0b3JhZ2VLZXldKTtcbiAgICBSZWFjdDEwLnVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICBsZXQgZGlzYWJsZVNjcm9sbFJlc3RvcmF0aW9uID0gcm91dGVyPy5lbmFibGVTY3JvbGxSZXN0b3JhdGlvbihcbiAgICAgICAgc2F2ZWRTY3JvbGxQb3NpdGlvbnMsXG4gICAgICAgICgpID0+IHdpbmRvdy5zY3JvbGxZLFxuICAgICAgICBnZXRLZXkgPyAobG9jYXRpb24yLCBtYXRjaGVzMikgPT4gZ2V0U2Nyb2xsUmVzdG9yYXRpb25LZXkobG9jYXRpb24yLCBtYXRjaGVzMiwgYmFzZW5hbWUsIGdldEtleSkgOiB2b2lkIDBcbiAgICAgICk7XG4gICAgICByZXR1cm4gKCkgPT4gZGlzYWJsZVNjcm9sbFJlc3RvcmF0aW9uICYmIGRpc2FibGVTY3JvbGxSZXN0b3JhdGlvbigpO1xuICAgIH0sIFtyb3V0ZXIsIGJhc2VuYW1lLCBnZXRLZXldKTtcbiAgICBSZWFjdDEwLnVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICBpZiAocmVzdG9yZVNjcm9sbFBvc2l0aW9uID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHJlc3RvcmVTY3JvbGxQb3NpdGlvbiA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgcmVzdG9yZVNjcm9sbFBvc2l0aW9uKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGxvY2F0aW9uLmhhc2gpIHtcbiAgICAgICAgICBsZXQgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICAgIGRlY29kZVVSSUNvbXBvbmVudChsb2NhdGlvbi5oYXNoLnNsaWNlKDEpKVxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKGVsKSB7XG4gICAgICAgICAgICBlbC5zY3JvbGxJbnRvVmlldygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgYFwiJHtsb2NhdGlvbi5oYXNoLnNsaWNlKFxuICAgICAgICAgICAgMVxuICAgICAgICAgICl9XCIgaXMgbm90IGEgZGVjb2RhYmxlIGVsZW1lbnQgSUQuIFRoZSB2aWV3IHdpbGwgbm90IHNjcm9sbCB0byBpdC5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAocHJldmVudFNjcm9sbFJlc2V0ID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcbiAgICB9LCBbbG9jYXRpb24sIHJlc3RvcmVTY3JvbGxQb3NpdGlvbiwgcHJldmVudFNjcm9sbFJlc2V0XSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHVzZUJlZm9yZVVubG9hZChjYWxsYmFjaywgb3B0aW9ucykge1xuICBsZXQgeyBjYXB0dXJlIH0gPSBvcHRpb25zIHx8IHt9O1xuICBSZWFjdDEwLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IG9wdHMgPSBjYXB0dXJlICE9IG51bGwgPyB7IGNhcHR1cmUgfSA6IHZvaWQgMDtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCBjYWxsYmFjaywgb3B0cyk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsIGNhbGxiYWNrLCBvcHRzKTtcbiAgICB9O1xuICB9LCBbY2FsbGJhY2ssIGNhcHR1cmVdKTtcbn1cbmZ1bmN0aW9uIHVzZVBhZ2VIaWRlKGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gIGxldCB7IGNhcHR1cmUgfSA9IG9wdGlvbnMgfHwge307XG4gIFJlYWN0MTAudXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgb3B0cyA9IGNhcHR1cmUgIT0gbnVsbCA/IHsgY2FwdHVyZSB9IDogdm9pZCAwO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicGFnZWhpZGVcIiwgY2FsbGJhY2ssIG9wdHMpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBhZ2VoaWRlXCIsIGNhbGxiYWNrLCBvcHRzKTtcbiAgICB9O1xuICB9LCBbY2FsbGJhY2ssIGNhcHR1cmVdKTtcbn1cbmZ1bmN0aW9uIHVzZVByb21wdCh7XG4gIHdoZW4sXG4gIG1lc3NhZ2Vcbn0pIHtcbiAgbGV0IGJsb2NrZXIgPSB1c2VCbG9ja2VyKHdoZW4pO1xuICBSZWFjdDEwLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGJsb2NrZXIuc3RhdGUgPT09IFwiYmxvY2tlZFwiKSB7XG4gICAgICBsZXQgcHJvY2VlZCA9IHdpbmRvdy5jb25maXJtKG1lc3NhZ2UpO1xuICAgICAgaWYgKHByb2NlZWQpIHtcbiAgICAgICAgc2V0VGltZW91dChibG9ja2VyLnByb2NlZWQsIDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmxvY2tlci5yZXNldCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW2Jsb2NrZXIsIG1lc3NhZ2VdKTtcbiAgUmVhY3QxMC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChibG9ja2VyLnN0YXRlID09PSBcImJsb2NrZWRcIiAmJiAhd2hlbikge1xuICAgICAgYmxvY2tlci5yZXNldCgpO1xuICAgIH1cbiAgfSwgW2Jsb2NrZXIsIHdoZW5dKTtcbn1cbmZ1bmN0aW9uIHVzZVZpZXdUcmFuc2l0aW9uU3RhdGUodG8sIHsgcmVsYXRpdmUgfSA9IHt9KSB7XG4gIGxldCB2dENvbnRleHQgPSBSZWFjdDEwLnVzZUNvbnRleHQoVmlld1RyYW5zaXRpb25Db250ZXh0KTtcbiAgaW52YXJpYW50KFxuICAgIHZ0Q29udGV4dCAhPSBudWxsLFxuICAgIFwiYHVzZVZpZXdUcmFuc2l0aW9uU3RhdGVgIG11c3QgYmUgdXNlZCB3aXRoaW4gYHJlYWN0LXJvdXRlci1kb21gJ3MgYFJvdXRlclByb3ZpZGVyYC4gIERpZCB5b3UgYWNjaWRlbnRhbGx5IGltcG9ydCBgUm91dGVyUHJvdmlkZXJgIGZyb20gYHJlYWN0LXJvdXRlcmA/XCJcbiAgKTtcbiAgbGV0IHsgYmFzZW5hbWUgfSA9IHVzZURhdGFSb3V0ZXJDb250ZXh0MyhcbiAgICBcInVzZVZpZXdUcmFuc2l0aW9uU3RhdGVcIiAvKiB1c2VWaWV3VHJhbnNpdGlvblN0YXRlICovXG4gICk7XG4gIGxldCBwYXRoID0gdXNlUmVzb2x2ZWRQYXRoKHRvLCB7IHJlbGF0aXZlIH0pO1xuICBpZiAoIXZ0Q29udGV4dC5pc1RyYW5zaXRpb25pbmcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgbGV0IGN1cnJlbnRQYXRoID0gc3RyaXBCYXNlbmFtZSh2dENvbnRleHQuY3VycmVudExvY2F0aW9uLnBhdGhuYW1lLCBiYXNlbmFtZSkgfHwgdnRDb250ZXh0LmN1cnJlbnRMb2NhdGlvbi5wYXRobmFtZTtcbiAgbGV0IG5leHRQYXRoID0gc3RyaXBCYXNlbmFtZSh2dENvbnRleHQubmV4dExvY2F0aW9uLnBhdGhuYW1lLCBiYXNlbmFtZSkgfHwgdnRDb250ZXh0Lm5leHRMb2NhdGlvbi5wYXRobmFtZTtcbiAgcmV0dXJuIG1hdGNoUGF0aChwYXRoLnBhdGhuYW1lLCBuZXh0UGF0aCkgIT0gbnVsbCB8fCBtYXRjaFBhdGgocGF0aC5wYXRobmFtZSwgY3VycmVudFBhdGgpICE9IG51bGw7XG59XG5cbi8vIGxpYi9kb20vc2VydmVyLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QxMSBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIFN0YXRpY1JvdXRlcih7XG4gIGJhc2VuYW1lLFxuICBjaGlsZHJlbixcbiAgbG9jYXRpb246IGxvY2F0aW9uUHJvcCA9IFwiL1wiXG59KSB7XG4gIGlmICh0eXBlb2YgbG9jYXRpb25Qcm9wID09PSBcInN0cmluZ1wiKSB7XG4gICAgbG9jYXRpb25Qcm9wID0gcGFyc2VQYXRoKGxvY2F0aW9uUHJvcCk7XG4gIH1cbiAgbGV0IGFjdGlvbiA9IFwiUE9QXCIgLyogUG9wICovO1xuICBsZXQgbG9jYXRpb24gPSB7XG4gICAgcGF0aG5hbWU6IGxvY2F0aW9uUHJvcC5wYXRobmFtZSB8fCBcIi9cIixcbiAgICBzZWFyY2g6IGxvY2F0aW9uUHJvcC5zZWFyY2ggfHwgXCJcIixcbiAgICBoYXNoOiBsb2NhdGlvblByb3AuaGFzaCB8fCBcIlwiLFxuICAgIHN0YXRlOiBsb2NhdGlvblByb3Auc3RhdGUgIT0gbnVsbCA/IGxvY2F0aW9uUHJvcC5zdGF0ZSA6IG51bGwsXG4gICAga2V5OiBsb2NhdGlvblByb3Aua2V5IHx8IFwiZGVmYXVsdFwiXG4gIH07XG4gIGxldCBzdGF0aWNOYXZpZ2F0b3IgPSBnZXRTdGF0ZWxlc3NOYXZpZ2F0b3IoKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDExLmNyZWF0ZUVsZW1lbnQoXG4gICAgUm91dGVyLFxuICAgIHtcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBsb2NhdGlvbixcbiAgICAgIG5hdmlnYXRpb25UeXBlOiBhY3Rpb24sXG4gICAgICBuYXZpZ2F0b3I6IHN0YXRpY05hdmlnYXRvcixcbiAgICAgIHN0YXRpYzogdHJ1ZVxuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIFN0YXRpY1JvdXRlclByb3ZpZGVyKHtcbiAgY29udGV4dCxcbiAgcm91dGVyLFxuICBoeWRyYXRlOiBoeWRyYXRlMiA9IHRydWUsXG4gIG5vbmNlXG59KSB7XG4gIGludmFyaWFudChcbiAgICByb3V0ZXIgJiYgY29udGV4dCxcbiAgICBcIllvdSBtdXN0IHByb3ZpZGUgYHJvdXRlcmAgYW5kIGBjb250ZXh0YCB0byA8U3RhdGljUm91dGVyUHJvdmlkZXI+XCJcbiAgKTtcbiAgbGV0IGRhdGFSb3V0ZXJDb250ZXh0ID0ge1xuICAgIHJvdXRlcixcbiAgICBuYXZpZ2F0b3I6IGdldFN0YXRlbGVzc05hdmlnYXRvcigpLFxuICAgIHN0YXRpYzogdHJ1ZSxcbiAgICBzdGF0aWNDb250ZXh0OiBjb250ZXh0LFxuICAgIGJhc2VuYW1lOiBjb250ZXh0LmJhc2VuYW1lIHx8IFwiL1wiXG4gIH07XG4gIGxldCBmZXRjaGVyc0NvbnRleHQgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBsZXQgaHlkcmF0ZVNjcmlwdCA9IFwiXCI7XG4gIGlmIChoeWRyYXRlMiAhPT0gZmFsc2UpIHtcbiAgICBsZXQgZGF0YTIgPSB7XG4gICAgICBsb2FkZXJEYXRhOiBjb250ZXh0LmxvYWRlckRhdGEsXG4gICAgICBhY3Rpb25EYXRhOiBjb250ZXh0LmFjdGlvbkRhdGEsXG4gICAgICBlcnJvcnM6IHNlcmlhbGl6ZUVycm9ycyhjb250ZXh0LmVycm9ycylcbiAgICB9O1xuICAgIGxldCBqc29uID0gaHRtbEVzY2FwZShKU09OLnN0cmluZ2lmeShKU09OLnN0cmluZ2lmeShkYXRhMikpKTtcbiAgICBoeWRyYXRlU2NyaXB0ID0gYHdpbmRvdy5fX3N0YXRpY1JvdXRlckh5ZHJhdGlvbkRhdGEgPSBKU09OLnBhcnNlKCR7anNvbn0pO2A7XG4gIH1cbiAgbGV0IHsgc3RhdGUgfSA9IGRhdGFSb3V0ZXJDb250ZXh0LnJvdXRlcjtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDExLmNyZWF0ZUVsZW1lbnQoUmVhY3QxMS5GcmFnbWVudCwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0MTEuY3JlYXRlRWxlbWVudChEYXRhUm91dGVyQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogZGF0YVJvdXRlckNvbnRleHQgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTEuY3JlYXRlRWxlbWVudChEYXRhUm91dGVyU3RhdGVDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBzdGF0ZSB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMS5jcmVhdGVFbGVtZW50KEZldGNoZXJzQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogZmV0Y2hlcnNDb250ZXh0IH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDExLmNyZWF0ZUVsZW1lbnQoVmlld1RyYW5zaXRpb25Db250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB7IGlzVHJhbnNpdGlvbmluZzogZmFsc2UgfSB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMS5jcmVhdGVFbGVtZW50KFxuICAgIFJvdXRlcixcbiAgICB7XG4gICAgICBiYXNlbmFtZTogZGF0YVJvdXRlckNvbnRleHQuYmFzZW5hbWUsXG4gICAgICBsb2NhdGlvbjogc3RhdGUubG9jYXRpb24sXG4gICAgICBuYXZpZ2F0aW9uVHlwZTogc3RhdGUuaGlzdG9yeUFjdGlvbixcbiAgICAgIG5hdmlnYXRvcjogZGF0YVJvdXRlckNvbnRleHQubmF2aWdhdG9yLFxuICAgICAgc3RhdGljOiBkYXRhUm91dGVyQ29udGV4dC5zdGF0aWNcbiAgICB9LFxuICAgIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDExLmNyZWF0ZUVsZW1lbnQoXG4gICAgICBEYXRhUm91dGVzMixcbiAgICAgIHtcbiAgICAgICAgcm91dGVzOiByb3V0ZXIucm91dGVzLFxuICAgICAgICBmdXR1cmU6IHJvdXRlci5mdXR1cmUsXG4gICAgICAgIHN0YXRlXG4gICAgICB9XG4gICAgKVxuICApKSkpKSwgaHlkcmF0ZVNjcmlwdCA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDExLmNyZWF0ZUVsZW1lbnQoXG4gICAgXCJzY3JpcHRcIixcbiAgICB7XG4gICAgICBzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmc6IHRydWUsXG4gICAgICBub25jZSxcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7IF9faHRtbDogaHlkcmF0ZVNjcmlwdCB9XG4gICAgfVxuICApIDogbnVsbCk7XG59XG5mdW5jdGlvbiBEYXRhUm91dGVzMih7XG4gIHJvdXRlcyxcbiAgZnV0dXJlLFxuICBzdGF0ZVxufSkge1xuICByZXR1cm4gdXNlUm91dGVzSW1wbChyb3V0ZXMsIHZvaWQgMCwgc3RhdGUsIHZvaWQgMCwgZnV0dXJlKTtcbn1cbmZ1bmN0aW9uIHNlcmlhbGl6ZUVycm9ycyhlcnJvcnMpIHtcbiAgaWYgKCFlcnJvcnMpIHJldHVybiBudWxsO1xuICBsZXQgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKGVycm9ycyk7XG4gIGxldCBzZXJpYWxpemVkID0ge307XG4gIGZvciAobGV0IFtrZXksIHZhbF0gb2YgZW50cmllcykge1xuICAgIGlmIChpc1JvdXRlRXJyb3JSZXNwb25zZSh2YWwpKSB7XG4gICAgICBzZXJpYWxpemVkW2tleV0gPSB7IC4uLnZhbCwgX190eXBlOiBcIlJvdXRlRXJyb3JSZXNwb25zZVwiIH07XG4gICAgfSBlbHNlIGlmICh2YWwgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgc2VyaWFsaXplZFtrZXldID0ge1xuICAgICAgICBtZXNzYWdlOiB2YWwubWVzc2FnZSxcbiAgICAgICAgX190eXBlOiBcIkVycm9yXCIsXG4gICAgICAgIC8vIElmIHRoaXMgaXMgYSBzdWJjbGFzcyAoaS5lLiwgUmVmZXJlbmNlRXJyb3IpLCBzZW5kIHVwIHRoZSB0eXBlIHNvIHdlXG4gICAgICAgIC8vIGNhbiByZS1jcmVhdGUgdGhlIHNhbWUgdHlwZSBkdXJpbmcgaHlkcmF0aW9uLlxuICAgICAgICAuLi52YWwubmFtZSAhPT0gXCJFcnJvclwiID8ge1xuICAgICAgICAgIF9fc3ViVHlwZTogdmFsLm5hbWVcbiAgICAgICAgfSA6IHt9XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXJpYWxpemVkW2tleV0gPSB2YWw7XG4gICAgfVxuICB9XG4gIHJldHVybiBzZXJpYWxpemVkO1xufVxuZnVuY3Rpb24gZ2V0U3RhdGVsZXNzTmF2aWdhdG9yKCkge1xuICByZXR1cm4ge1xuICAgIGNyZWF0ZUhyZWYsXG4gICAgZW5jb2RlTG9jYXRpb24sXG4gICAgcHVzaCh0bykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgWW91IGNhbm5vdCB1c2UgbmF2aWdhdG9yLnB1c2goKSBvbiB0aGUgc2VydmVyIGJlY2F1c2UgaXQgaXMgYSBzdGF0ZWxlc3MgZW52aXJvbm1lbnQuIFRoaXMgZXJyb3Igd2FzIHByb2JhYmx5IHRyaWdnZXJlZCB3aGVuIHlvdSBkaWQgYSBcXGBuYXZpZ2F0ZSgke0pTT04uc3RyaW5naWZ5KHRvKX0pXFxgIHNvbWV3aGVyZSBpbiB5b3VyIGFwcC5gXG4gICAgICApO1xuICAgIH0sXG4gICAgcmVwbGFjZSh0bykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgWW91IGNhbm5vdCB1c2UgbmF2aWdhdG9yLnJlcGxhY2UoKSBvbiB0aGUgc2VydmVyIGJlY2F1c2UgaXQgaXMgYSBzdGF0ZWxlc3MgZW52aXJvbm1lbnQuIFRoaXMgZXJyb3Igd2FzIHByb2JhYmx5IHRyaWdnZXJlZCB3aGVuIHlvdSBkaWQgYSBcXGBuYXZpZ2F0ZSgke0pTT04uc3RyaW5naWZ5KHRvKX0sIHsgcmVwbGFjZTogdHJ1ZSB9KVxcYCBzb21ld2hlcmUgaW4geW91ciBhcHAuYFxuICAgICAgKTtcbiAgICB9LFxuICAgIGdvKGRlbHRhKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBZb3UgY2Fubm90IHVzZSBuYXZpZ2F0b3IuZ28oKSBvbiB0aGUgc2VydmVyIGJlY2F1c2UgaXQgaXMgYSBzdGF0ZWxlc3MgZW52aXJvbm1lbnQuIFRoaXMgZXJyb3Igd2FzIHByb2JhYmx5IHRyaWdnZXJlZCB3aGVuIHlvdSBkaWQgYSBcXGBuYXZpZ2F0ZSgke2RlbHRhfSlcXGAgc29tZXdoZXJlIGluIHlvdXIgYXBwLmBcbiAgICAgICk7XG4gICAgfSxcbiAgICBiYWNrKCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgWW91IGNhbm5vdCB1c2UgbmF2aWdhdG9yLmJhY2soKSBvbiB0aGUgc2VydmVyIGJlY2F1c2UgaXQgaXMgYSBzdGF0ZWxlc3MgZW52aXJvbm1lbnQuYFxuICAgICAgKTtcbiAgICB9LFxuICAgIGZvcndhcmQoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBZb3UgY2Fubm90IHVzZSBuYXZpZ2F0b3IuZm9yd2FyZCgpIG9uIHRoZSBzZXJ2ZXIgYmVjYXVzZSBpdCBpcyBhIHN0YXRlbGVzcyBlbnZpcm9ubWVudC5gXG4gICAgICApO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVN0YXRpY0hhbmRsZXIyKHJvdXRlcywgb3B0cykge1xuICByZXR1cm4gY3JlYXRlU3RhdGljSGFuZGxlcihyb3V0ZXMsIHtcbiAgICAuLi5vcHRzLFxuICAgIG1hcFJvdXRlUHJvcGVydGllc1xuICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVN0YXRpY1JvdXRlcihyb3V0ZXMsIGNvbnRleHQsIG9wdHMgPSB7fSkge1xuICBsZXQgbWFuaWZlc3QgPSB7fTtcbiAgbGV0IGRhdGFSb3V0ZXMgPSBjb252ZXJ0Um91dGVzVG9EYXRhUm91dGVzKFxuICAgIHJvdXRlcyxcbiAgICBtYXBSb3V0ZVByb3BlcnRpZXMsXG4gICAgdm9pZCAwLFxuICAgIG1hbmlmZXN0XG4gICk7XG4gIGxldCBtYXRjaGVzID0gY29udGV4dC5tYXRjaGVzLm1hcCgobWF0Y2gpID0+IHtcbiAgICBsZXQgcm91dGUgPSBtYW5pZmVzdFttYXRjaC5yb3V0ZS5pZF0gfHwgbWF0Y2gucm91dGU7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLm1hdGNoLFxuICAgICAgcm91dGVcbiAgICB9O1xuICB9KTtcbiAgbGV0IG1zZyA9IChtZXRob2QpID0+IGBZb3UgY2Fubm90IHVzZSByb3V0ZXIuJHttZXRob2R9KCkgb24gdGhlIHNlcnZlciBiZWNhdXNlIGl0IGlzIGEgc3RhdGVsZXNzIGVudmlyb25tZW50YDtcbiAgcmV0dXJuIHtcbiAgICBnZXQgYmFzZW5hbWUoKSB7XG4gICAgICByZXR1cm4gY29udGV4dC5iYXNlbmFtZTtcbiAgICB9LFxuICAgIGdldCBmdXR1cmUoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2OF9taWRkbGV3YXJlOiBmYWxzZSxcbiAgICAgICAgLi4ub3B0cz8uZnV0dXJlXG4gICAgICB9O1xuICAgIH0sXG4gICAgZ2V0IHN0YXRlKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaGlzdG9yeUFjdGlvbjogXCJQT1BcIiAvKiBQb3AgKi8sXG4gICAgICAgIGxvY2F0aW9uOiBjb250ZXh0LmxvY2F0aW9uLFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBsb2FkZXJEYXRhOiBjb250ZXh0LmxvYWRlckRhdGEsXG4gICAgICAgIGFjdGlvbkRhdGE6IGNvbnRleHQuYWN0aW9uRGF0YSxcbiAgICAgICAgZXJyb3JzOiBjb250ZXh0LmVycm9ycyxcbiAgICAgICAgaW5pdGlhbGl6ZWQ6IHRydWUsXG4gICAgICAgIG5hdmlnYXRpb246IElETEVfTkFWSUdBVElPTixcbiAgICAgICAgcmVzdG9yZVNjcm9sbFBvc2l0aW9uOiBudWxsLFxuICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQ6IGZhbHNlLFxuICAgICAgICByZXZhbGlkYXRpb246IFwiaWRsZVwiLFxuICAgICAgICBmZXRjaGVyczogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSxcbiAgICAgICAgYmxvY2tlcnM6IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKClcbiAgICAgIH07XG4gICAgfSxcbiAgICBnZXQgcm91dGVzKCkge1xuICAgICAgcmV0dXJuIGRhdGFSb3V0ZXM7XG4gICAgfSxcbiAgICBnZXQgd2luZG93KCkge1xuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9LFxuICAgIGluaXRpYWxpemUoKSB7XG4gICAgICB0aHJvdyBtc2coXCJpbml0aWFsaXplXCIpO1xuICAgIH0sXG4gICAgc3Vic2NyaWJlKCkge1xuICAgICAgdGhyb3cgbXNnKFwic3Vic2NyaWJlXCIpO1xuICAgIH0sXG4gICAgZW5hYmxlU2Nyb2xsUmVzdG9yYXRpb24oKSB7XG4gICAgICB0aHJvdyBtc2coXCJlbmFibGVTY3JvbGxSZXN0b3JhdGlvblwiKTtcbiAgICB9LFxuICAgIG5hdmlnYXRlKCkge1xuICAgICAgdGhyb3cgbXNnKFwibmF2aWdhdGVcIik7XG4gICAgfSxcbiAgICBmZXRjaCgpIHtcbiAgICAgIHRocm93IG1zZyhcImZldGNoXCIpO1xuICAgIH0sXG4gICAgcmV2YWxpZGF0ZSgpIHtcbiAgICAgIHRocm93IG1zZyhcInJldmFsaWRhdGVcIik7XG4gICAgfSxcbiAgICBjcmVhdGVIcmVmLFxuICAgIGVuY29kZUxvY2F0aW9uLFxuICAgIGdldEZldGNoZXIoKSB7XG4gICAgICByZXR1cm4gSURMRV9GRVRDSEVSO1xuICAgIH0sXG4gICAgZGVsZXRlRmV0Y2hlcigpIHtcbiAgICAgIHRocm93IG1zZyhcImRlbGV0ZUZldGNoZXJcIik7XG4gICAgfSxcbiAgICByZXNldEZldGNoZXIoKSB7XG4gICAgICB0aHJvdyBtc2coXCJyZXNldEZldGNoZXJcIik7XG4gICAgfSxcbiAgICBkaXNwb3NlKCkge1xuICAgICAgdGhyb3cgbXNnKFwiZGlzcG9zZVwiKTtcbiAgICB9LFxuICAgIGdldEJsb2NrZXIoKSB7XG4gICAgICByZXR1cm4gSURMRV9CTE9DS0VSO1xuICAgIH0sXG4gICAgZGVsZXRlQmxvY2tlcigpIHtcbiAgICAgIHRocm93IG1zZyhcImRlbGV0ZUJsb2NrZXJcIik7XG4gICAgfSxcbiAgICBwYXRjaFJvdXRlcygpIHtcbiAgICAgIHRocm93IG1zZyhcInBhdGNoUm91dGVzXCIpO1xuICAgIH0sXG4gICAgX2ludGVybmFsRmV0Y2hDb250cm9sbGVyczogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSxcbiAgICBfaW50ZXJuYWxTZXRSb3V0ZXMoKSB7XG4gICAgICB0aHJvdyBtc2coXCJfaW50ZXJuYWxTZXRSb3V0ZXNcIik7XG4gICAgfSxcbiAgICBfaW50ZXJuYWxTZXRTdGF0ZURvTm90VXNlT3JZb3VXaWxsQnJlYWtZb3VyQXBwKCkge1xuICAgICAgdGhyb3cgbXNnKFwiX2ludGVybmFsU2V0U3RhdGVEb05vdFVzZU9yWW91V2lsbEJyZWFrWW91ckFwcFwiKTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVIcmVmKHRvKSB7XG4gIHJldHVybiB0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgPyB0byA6IGNyZWF0ZVBhdGgodG8pO1xufVxuZnVuY3Rpb24gZW5jb2RlTG9jYXRpb24odG8pIHtcbiAgbGV0IGhyZWYgPSB0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgPyB0byA6IGNyZWF0ZVBhdGgodG8pO1xuICBocmVmID0gaHJlZi5yZXBsYWNlKC8gJC8sIFwiJTIwXCIpO1xuICBsZXQgZW5jb2RlZCA9IEFCU09MVVRFX1VSTF9SRUdFWDMudGVzdChocmVmKSA/IG5ldyBVUkwoaHJlZikgOiBuZXcgVVJMKGhyZWYsIFwiaHR0cDovL2xvY2FsaG9zdFwiKTtcbiAgcmV0dXJuIHtcbiAgICBwYXRobmFtZTogZW5jb2RlZC5wYXRobmFtZSxcbiAgICBzZWFyY2g6IGVuY29kZWQuc2VhcmNoLFxuICAgIGhhc2g6IGVuY29kZWQuaGFzaFxuICB9O1xufVxudmFyIEFCU09MVVRFX1VSTF9SRUdFWDMgPSAvXig/OlthLXpdW2EtejAtOSsuLV0qOnxcXC9cXC8pL2k7XG52YXIgRVNDQVBFX0xPT0tVUDIgPSB7XG4gIFwiJlwiOiBcIlxcXFx1MDAyNlwiLFxuICBcIj5cIjogXCJcXFxcdTAwM2VcIixcbiAgXCI8XCI6IFwiXFxcXHUwMDNjXCIsXG4gIFwiXFx1MjAyOFwiOiBcIlxcXFx1MjAyOFwiLFxuICBcIlxcdTIwMjlcIjogXCJcXFxcdTIwMjlcIlxufTtcbnZhciBFU0NBUEVfUkVHRVgyID0gL1smPjxcXHUyMDI4XFx1MjAyOV0vZztcbmZ1bmN0aW9uIGh0bWxFc2NhcGUoc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZShFU0NBUEVfUkVHRVgyLCAobWF0Y2gpID0+IEVTQ0FQRV9MT09LVVAyW21hdGNoXSk7XG59XG5cbmV4cG9ydCB7XG4gIEFjdGlvbixcbiAgY3JlYXRlQnJvd3Nlckhpc3RvcnksXG4gIGludmFyaWFudCxcbiAgY3JlYXRlUGF0aCxcbiAgcGFyc2VQYXRoLFxuICBjcmVhdGVDb250ZXh0LFxuICBSb3V0ZXJDb250ZXh0UHJvdmlkZXIsXG4gIGNvbnZlcnRSb3V0ZXNUb0RhdGFSb3V0ZXMsXG4gIG1hdGNoUm91dGVzLFxuICBnZW5lcmF0ZVBhdGgsXG4gIG1hdGNoUGF0aCxcbiAgc3RyaXBCYXNlbmFtZSxcbiAgcmVzb2x2ZVBhdGgsXG4gIGRhdGEsXG4gIHJlZGlyZWN0LFxuICByZWRpcmVjdERvY3VtZW50LFxuICByZXBsYWNlLFxuICBFcnJvclJlc3BvbnNlSW1wbCxcbiAgaXNSb3V0ZUVycm9yUmVzcG9uc2UsXG4gIGluc3RydW1lbnRIYW5kbGVyLFxuICBJRExFX05BVklHQVRJT04sXG4gIElETEVfRkVUQ0hFUixcbiAgSURMRV9CTE9DS0VSLFxuICBjcmVhdGVSb3V0ZXIsXG4gIGNyZWF0ZVN0YXRpY0hhbmRsZXIsXG4gIGdldFN0YXRpY0NvbnRleHRGcm9tRXJyb3IsXG4gIGlzRGF0YVdpdGhSZXNwb25zZUluaXQsXG4gIGlzUmVzcG9uc2UsXG4gIGlzUmVkaXJlY3RTdGF0dXNDb2RlLFxuICBpc1JlZGlyZWN0UmVzcG9uc2UsXG4gIGlzTXV0YXRpb25NZXRob2QsXG4gIERhdGFSb3V0ZXJDb250ZXh0LFxuICBEYXRhUm91dGVyU3RhdGVDb250ZXh0LFxuICBSU0NSb3V0ZXJDb250ZXh0LFxuICBWaWV3VHJhbnNpdGlvbkNvbnRleHQsXG4gIEZldGNoZXJzQ29udGV4dCxcbiAgQXdhaXRDb250ZXh0UHJvdmlkZXIsXG4gIE5hdmlnYXRpb25Db250ZXh0LFxuICBMb2NhdGlvbkNvbnRleHQsXG4gIFJvdXRlQ29udGV4dCxcbiAgRU5BQkxFX0RFVl9XQVJOSU5HUyxcbiAgdXNlSHJlZixcbiAgdXNlSW5Sb3V0ZXJDb250ZXh0LFxuICB1c2VMb2NhdGlvbixcbiAgdXNlTmF2aWdhdGlvblR5cGUsXG4gIHVzZU1hdGNoLFxuICB1c2VOYXZpZ2F0ZSxcbiAgdXNlT3V0bGV0Q29udGV4dCxcbiAgdXNlT3V0bGV0LFxuICB1c2VQYXJhbXMsXG4gIHVzZVJlc29sdmVkUGF0aCxcbiAgdXNlUm91dGVzLFxuICB1c2VOYXZpZ2F0aW9uLFxuICB1c2VSZXZhbGlkYXRvcixcbiAgdXNlTWF0Y2hlcyxcbiAgdXNlTG9hZGVyRGF0YSxcbiAgdXNlUm91dGVMb2FkZXJEYXRhLFxuICB1c2VBY3Rpb25EYXRhLFxuICB1c2VSb3V0ZUVycm9yLFxuICB1c2VBc3luY1ZhbHVlLFxuICB1c2VBc3luY0Vycm9yLFxuICB1c2VCbG9ja2VyLFxuICB1c2VSb3V0ZSxcbiAgd2Fybk9uY2UsXG4gIG1hcFJvdXRlUHJvcGVydGllcyxcbiAgaHlkcmF0aW9uUm91dGVQcm9wZXJ0aWVzLFxuICBjcmVhdGVNZW1vcnlSb3V0ZXIsXG4gIFVOU1RBQkxFX1RyYW5zaXRpb25FbmFibGVkUm91dGVyUHJvdmlkZXIsXG4gIFJvdXRlclByb3ZpZGVyLFxuICBNZW1vcnlSb3V0ZXIsXG4gIE5hdmlnYXRlLFxuICBPdXRsZXQsXG4gIFJvdXRlLFxuICBSb3V0ZXIsXG4gIFJvdXRlcyxcbiAgQXdhaXQsXG4gIGNyZWF0ZVJvdXRlc0Zyb21DaGlsZHJlbixcbiAgY3JlYXRlUm91dGVzRnJvbUVsZW1lbnRzLFxuICByZW5kZXJNYXRjaGVzLFxuICBXaXRoQ29tcG9uZW50UHJvcHMsXG4gIHdpdGhDb21wb25lbnRQcm9wcyxcbiAgV2l0aEh5ZHJhdGVGYWxsYmFja1Byb3BzLFxuICB3aXRoSHlkcmF0ZUZhbGxiYWNrUHJvcHMsXG4gIFdpdGhFcnJvckJvdW5kYXJ5UHJvcHMsXG4gIHdpdGhFcnJvckJvdW5kYXJ5UHJvcHMsXG4gIGNyZWF0ZVNlYXJjaFBhcmFtcyxcbiAgZXNjYXBlSHRtbCxcbiAgZW5jb2RlLFxuICBjcmVhdGVSZXF1ZXN0SW5pdCxcbiAgU2luZ2xlRmV0Y2hSZWRpcmVjdFN5bWJvbCxcbiAgU0lOR0xFX0ZFVENIX1JFRElSRUNUX1NUQVRVUyxcbiAgTk9fQk9EWV9TVEFUVVNfQ09ERVMsXG4gIFN0cmVhbVRyYW5zZmVyLFxuICBnZXRUdXJib1N0cmVhbVNpbmdsZUZldGNoRGF0YVN0cmF0ZWd5LFxuICBnZXRTaW5nbGVGZXRjaERhdGFTdHJhdGVneUltcGwsXG4gIHN0cmlwSW5kZXhQYXJhbSxcbiAgc2luZ2xlRmV0Y2hVcmwsXG4gIGRlY29kZVZpYVR1cmJvU3RyZWFtLFxuICBSZW1peEVycm9yQm91bmRhcnksXG4gIGNyZWF0ZVNlcnZlclJvdXRlcyxcbiAgY3JlYXRlQ2xpZW50Um91dGVzV2l0aEhNUlJldmFsaWRhdGlvbk9wdE91dCxcbiAgbm9BY3Rpb25EZWZpbmVkRXJyb3IsXG4gIGNyZWF0ZUNsaWVudFJvdXRlcyxcbiAgc2hvdWxkSHlkcmF0ZVJvdXRlTG9hZGVyLFxuICBnZXRQYXRjaFJvdXRlc09uTmF2aWdhdGlvbkZ1bmN0aW9uLFxuICB1c2VGb2dPRldhckRpc2NvdmVyeSxcbiAgZ2V0TWFuaWZlc3RQYXRoLFxuICBGcmFtZXdvcmtDb250ZXh0LFxuICBDUklUSUNBTF9DU1NfREFUQV9BVFRSSUJVVEUsXG4gIExpbmtzLFxuICBQcmVmZXRjaFBhZ2VMaW5rcyxcbiAgTWV0YSxcbiAgc2V0SXNIeWRyYXRlZCxcbiAgU2NyaXB0cyxcbiAgY3JlYXRlQnJvd3NlclJvdXRlcixcbiAgY3JlYXRlSGFzaFJvdXRlcixcbiAgQnJvd3NlclJvdXRlcixcbiAgSGFzaFJvdXRlcixcbiAgSGlzdG9yeVJvdXRlcixcbiAgTGluayxcbiAgTmF2TGluayxcbiAgRm9ybSxcbiAgU2Nyb2xsUmVzdG9yYXRpb24sXG4gIHVzZUxpbmtDbGlja0hhbmRsZXIsXG4gIHVzZVNlYXJjaFBhcmFtcyxcbiAgdXNlU3VibWl0LFxuICB1c2VGb3JtQWN0aW9uLFxuICB1c2VGZXRjaGVyLFxuICB1c2VGZXRjaGVycyxcbiAgdXNlU2Nyb2xsUmVzdG9yYXRpb24sXG4gIHVzZUJlZm9yZVVubG9hZCxcbiAgdXNlUHJvbXB0LFxuICB1c2VWaWV3VHJhbnNpdGlvblN0YXRlLFxuICBTdGF0aWNSb3V0ZXIsXG4gIFN0YXRpY1JvdXRlclByb3ZpZGVyLFxuICBjcmVhdGVTdGF0aWNIYW5kbGVyMixcbiAgY3JlYXRlU3RhdGljUm91dGVyXG59O1xuIiwKICAgICIvKipcbiAqIHJlYWN0LXJvdXRlciB2Ny45LjVcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIFJlbWl4IFNvZnR3YXJlIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UubWQgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuXCJ1c2UgY2xpZW50XCI7XG5pbXBvcnQge1xuICBSU0NEZWZhdWx0Um9vdEVycm9yQm91bmRhcnksXG4gIFJTQ1N0YXRpY1JvdXRlcixcbiAgU2VydmVyTW9kZSxcbiAgU2VydmVyUm91dGVyLFxuICBjcmVhdGVDb29raWUsXG4gIGNyZWF0ZUNvb2tpZVNlc3Npb25TdG9yYWdlLFxuICBjcmVhdGVNZW1vcnlTZXNzaW9uU3RvcmFnZSxcbiAgY3JlYXRlUmVxdWVzdEhhbmRsZXIsXG4gIGNyZWF0ZVJvdXRlc1N0dWIsXG4gIGNyZWF0ZVNlc3Npb24sXG4gIGNyZWF0ZVNlc3Npb25TdG9yYWdlLFxuICBkZXNlcmlhbGl6ZUVycm9ycyxcbiAgZ2V0SHlkcmF0aW9uRGF0YSxcbiAgaHJlZixcbiAgaXNDb29raWUsXG4gIGlzU2Vzc2lvbixcbiAgcm91dGVSU0NTZXJ2ZXJSZXF1ZXN0LFxuICBzZXREZXZTZXJ2ZXJIb29rc1xufSBmcm9tIFwiLi9jaHVuay1KRzNYTkQ1QS5tanNcIjtcbmltcG9ydCB7XG4gIEFjdGlvbixcbiAgQXdhaXQsXG4gIEF3YWl0Q29udGV4dFByb3ZpZGVyLFxuICBCcm93c2VyUm91dGVyLFxuICBEYXRhUm91dGVyQ29udGV4dCxcbiAgRGF0YVJvdXRlclN0YXRlQ29udGV4dCxcbiAgRXJyb3JSZXNwb25zZUltcGwsXG4gIEZldGNoZXJzQ29udGV4dCxcbiAgRm9ybSxcbiAgRnJhbWV3b3JrQ29udGV4dCxcbiAgSGFzaFJvdXRlcixcbiAgSGlzdG9yeVJvdXRlcixcbiAgSURMRV9CTE9DS0VSLFxuICBJRExFX0ZFVENIRVIsXG4gIElETEVfTkFWSUdBVElPTixcbiAgTGluayxcbiAgTGlua3MsXG4gIExvY2F0aW9uQ29udGV4dCxcbiAgTWVtb3J5Um91dGVyLFxuICBNZXRhLFxuICBOYXZMaW5rLFxuICBOYXZpZ2F0ZSxcbiAgTmF2aWdhdGlvbkNvbnRleHQsXG4gIE91dGxldCxcbiAgUHJlZmV0Y2hQYWdlTGlua3MsXG4gIFJlbWl4RXJyb3JCb3VuZGFyeSxcbiAgUm91dGUsXG4gIFJvdXRlQ29udGV4dCxcbiAgUm91dGVyLFxuICBSb3V0ZXJDb250ZXh0UHJvdmlkZXIsXG4gIFJvdXRlclByb3ZpZGVyLFxuICBSb3V0ZXMsXG4gIFNjcmlwdHMsXG4gIFNjcm9sbFJlc3RvcmF0aW9uLFxuICBTaW5nbGVGZXRjaFJlZGlyZWN0U3ltYm9sLFxuICBTdGF0aWNSb3V0ZXIsXG4gIFN0YXRpY1JvdXRlclByb3ZpZGVyLFxuICBWaWV3VHJhbnNpdGlvbkNvbnRleHQsXG4gIFdpdGhDb21wb25lbnRQcm9wcyxcbiAgV2l0aEVycm9yQm91bmRhcnlQcm9wcyxcbiAgV2l0aEh5ZHJhdGVGYWxsYmFja1Byb3BzLFxuICBjcmVhdGVCcm93c2VySGlzdG9yeSxcbiAgY3JlYXRlQnJvd3NlclJvdXRlcixcbiAgY3JlYXRlQ2xpZW50Um91dGVzLFxuICBjcmVhdGVDbGllbnRSb3V0ZXNXaXRoSE1SUmV2YWxpZGF0aW9uT3B0T3V0LFxuICBjcmVhdGVDb250ZXh0LFxuICBjcmVhdGVIYXNoUm91dGVyLFxuICBjcmVhdGVNZW1vcnlSb3V0ZXIsXG4gIGNyZWF0ZVBhdGgsXG4gIGNyZWF0ZVJvdXRlcixcbiAgY3JlYXRlUm91dGVzRnJvbUNoaWxkcmVuLFxuICBjcmVhdGVSb3V0ZXNGcm9tRWxlbWVudHMsXG4gIGNyZWF0ZVNlYXJjaFBhcmFtcyxcbiAgY3JlYXRlU3RhdGljSGFuZGxlcjIgYXMgY3JlYXRlU3RhdGljSGFuZGxlcixcbiAgY3JlYXRlU3RhdGljUm91dGVyLFxuICBkYXRhLFxuICBkZWNvZGVWaWFUdXJib1N0cmVhbSxcbiAgZ2VuZXJhdGVQYXRoLFxuICBnZXRQYXRjaFJvdXRlc09uTmF2aWdhdGlvbkZ1bmN0aW9uLFxuICBnZXRUdXJib1N0cmVhbVNpbmdsZUZldGNoRGF0YVN0cmF0ZWd5LFxuICBoeWRyYXRpb25Sb3V0ZVByb3BlcnRpZXMsXG4gIGludmFyaWFudCxcbiAgaXNSb3V0ZUVycm9yUmVzcG9uc2UsXG4gIG1hcFJvdXRlUHJvcGVydGllcyxcbiAgbWF0Y2hQYXRoLFxuICBtYXRjaFJvdXRlcyxcbiAgcGFyc2VQYXRoLFxuICByZWRpcmVjdCxcbiAgcmVkaXJlY3REb2N1bWVudCxcbiAgcmVuZGVyTWF0Y2hlcyxcbiAgcmVwbGFjZSxcbiAgcmVzb2x2ZVBhdGgsXG4gIHNob3VsZEh5ZHJhdGVSb3V0ZUxvYWRlcixcbiAgdXNlQWN0aW9uRGF0YSxcbiAgdXNlQXN5bmNFcnJvcixcbiAgdXNlQXN5bmNWYWx1ZSxcbiAgdXNlQmVmb3JlVW5sb2FkLFxuICB1c2VCbG9ja2VyLFxuICB1c2VGZXRjaGVyLFxuICB1c2VGZXRjaGVycyxcbiAgdXNlRm9nT0ZXYXJEaXNjb3ZlcnksXG4gIHVzZUZvcm1BY3Rpb24sXG4gIHVzZUhyZWYsXG4gIHVzZUluUm91dGVyQ29udGV4dCxcbiAgdXNlTGlua0NsaWNrSGFuZGxlcixcbiAgdXNlTG9hZGVyRGF0YSxcbiAgdXNlTG9jYXRpb24sXG4gIHVzZU1hdGNoLFxuICB1c2VNYXRjaGVzLFxuICB1c2VOYXZpZ2F0ZSxcbiAgdXNlTmF2aWdhdGlvbixcbiAgdXNlTmF2aWdhdGlvblR5cGUsXG4gIHVzZU91dGxldCxcbiAgdXNlT3V0bGV0Q29udGV4dCxcbiAgdXNlUGFyYW1zLFxuICB1c2VQcm9tcHQsXG4gIHVzZVJlc29sdmVkUGF0aCxcbiAgdXNlUmV2YWxpZGF0b3IsXG4gIHVzZVJvdXRlLFxuICB1c2VSb3V0ZUVycm9yLFxuICB1c2VSb3V0ZUxvYWRlckRhdGEsXG4gIHVzZVJvdXRlcyxcbiAgdXNlU2Nyb2xsUmVzdG9yYXRpb24sXG4gIHVzZVNlYXJjaFBhcmFtcyxcbiAgdXNlU3VibWl0LFxuICB1c2VWaWV3VHJhbnNpdGlvblN0YXRlLFxuICB3aXRoQ29tcG9uZW50UHJvcHMsXG4gIHdpdGhFcnJvckJvdW5kYXJ5UHJvcHMsXG4gIHdpdGhIeWRyYXRlRmFsbGJhY2tQcm9wc1xufSBmcm9tIFwiLi9jaHVuay1VSUdEU1dQSC5tanNcIjtcbmV4cG9ydCB7XG4gIEF3YWl0LFxuICBCcm93c2VyUm91dGVyLFxuICBGb3JtLFxuICBIYXNoUm91dGVyLFxuICBJRExFX0JMT0NLRVIsXG4gIElETEVfRkVUQ0hFUixcbiAgSURMRV9OQVZJR0FUSU9OLFxuICBMaW5rLFxuICBMaW5rcyxcbiAgTWVtb3J5Um91dGVyLFxuICBNZXRhLFxuICBOYXZMaW5rLFxuICBOYXZpZ2F0ZSxcbiAgQWN0aW9uIGFzIE5hdmlnYXRpb25UeXBlLFxuICBPdXRsZXQsXG4gIFByZWZldGNoUGFnZUxpbmtzLFxuICBSb3V0ZSxcbiAgUm91dGVyLFxuICBSb3V0ZXJDb250ZXh0UHJvdmlkZXIsXG4gIFJvdXRlclByb3ZpZGVyLFxuICBSb3V0ZXMsXG4gIFNjcmlwdHMsXG4gIFNjcm9sbFJlc3RvcmF0aW9uLFxuICBTZXJ2ZXJSb3V0ZXIsXG4gIFN0YXRpY1JvdXRlcixcbiAgU3RhdGljUm91dGVyUHJvdmlkZXIsXG4gIEF3YWl0Q29udGV4dFByb3ZpZGVyIGFzIFVOU0FGRV9Bd2FpdENvbnRleHRQcm92aWRlcixcbiAgRGF0YVJvdXRlckNvbnRleHQgYXMgVU5TQUZFX0RhdGFSb3V0ZXJDb250ZXh0LFxuICBEYXRhUm91dGVyU3RhdGVDb250ZXh0IGFzIFVOU0FGRV9EYXRhUm91dGVyU3RhdGVDb250ZXh0LFxuICBFcnJvclJlc3BvbnNlSW1wbCBhcyBVTlNBRkVfRXJyb3JSZXNwb25zZUltcGwsXG4gIEZldGNoZXJzQ29udGV4dCBhcyBVTlNBRkVfRmV0Y2hlcnNDb250ZXh0LFxuICBGcmFtZXdvcmtDb250ZXh0IGFzIFVOU0FGRV9GcmFtZXdvcmtDb250ZXh0LFxuICBMb2NhdGlvbkNvbnRleHQgYXMgVU5TQUZFX0xvY2F0aW9uQ29udGV4dCxcbiAgTmF2aWdhdGlvbkNvbnRleHQgYXMgVU5TQUZFX05hdmlnYXRpb25Db250ZXh0LFxuICBSU0NEZWZhdWx0Um9vdEVycm9yQm91bmRhcnkgYXMgVU5TQUZFX1JTQ0RlZmF1bHRSb290RXJyb3JCb3VuZGFyeSxcbiAgUmVtaXhFcnJvckJvdW5kYXJ5IGFzIFVOU0FGRV9SZW1peEVycm9yQm91bmRhcnksXG4gIFJvdXRlQ29udGV4dCBhcyBVTlNBRkVfUm91dGVDb250ZXh0LFxuICBTZXJ2ZXJNb2RlIGFzIFVOU0FGRV9TZXJ2ZXJNb2RlLFxuICBTaW5nbGVGZXRjaFJlZGlyZWN0U3ltYm9sIGFzIFVOU0FGRV9TaW5nbGVGZXRjaFJlZGlyZWN0U3ltYm9sLFxuICBWaWV3VHJhbnNpdGlvbkNvbnRleHQgYXMgVU5TQUZFX1ZpZXdUcmFuc2l0aW9uQ29udGV4dCxcbiAgV2l0aENvbXBvbmVudFByb3BzIGFzIFVOU0FGRV9XaXRoQ29tcG9uZW50UHJvcHMsXG4gIFdpdGhFcnJvckJvdW5kYXJ5UHJvcHMgYXMgVU5TQUZFX1dpdGhFcnJvckJvdW5kYXJ5UHJvcHMsXG4gIFdpdGhIeWRyYXRlRmFsbGJhY2tQcm9wcyBhcyBVTlNBRkVfV2l0aEh5ZHJhdGVGYWxsYmFja1Byb3BzLFxuICBjcmVhdGVCcm93c2VySGlzdG9yeSBhcyBVTlNBRkVfY3JlYXRlQnJvd3Nlckhpc3RvcnksXG4gIGNyZWF0ZUNsaWVudFJvdXRlcyBhcyBVTlNBRkVfY3JlYXRlQ2xpZW50Um91dGVzLFxuICBjcmVhdGVDbGllbnRSb3V0ZXNXaXRoSE1SUmV2YWxpZGF0aW9uT3B0T3V0IGFzIFVOU0FGRV9jcmVhdGVDbGllbnRSb3V0ZXNXaXRoSE1SUmV2YWxpZGF0aW9uT3B0T3V0LFxuICBjcmVhdGVSb3V0ZXIgYXMgVU5TQUZFX2NyZWF0ZVJvdXRlcixcbiAgZGVjb2RlVmlhVHVyYm9TdHJlYW0gYXMgVU5TQUZFX2RlY29kZVZpYVR1cmJvU3RyZWFtLFxuICBkZXNlcmlhbGl6ZUVycm9ycyBhcyBVTlNBRkVfZGVzZXJpYWxpemVFcnJvcnMsXG4gIGdldEh5ZHJhdGlvbkRhdGEgYXMgVU5TQUZFX2dldEh5ZHJhdGlvbkRhdGEsXG4gIGdldFBhdGNoUm91dGVzT25OYXZpZ2F0aW9uRnVuY3Rpb24gYXMgVU5TQUZFX2dldFBhdGNoUm91dGVzT25OYXZpZ2F0aW9uRnVuY3Rpb24sXG4gIGdldFR1cmJvU3RyZWFtU2luZ2xlRmV0Y2hEYXRhU3RyYXRlZ3kgYXMgVU5TQUZFX2dldFR1cmJvU3RyZWFtU2luZ2xlRmV0Y2hEYXRhU3RyYXRlZ3ksXG4gIGh5ZHJhdGlvblJvdXRlUHJvcGVydGllcyBhcyBVTlNBRkVfaHlkcmF0aW9uUm91dGVQcm9wZXJ0aWVzLFxuICBpbnZhcmlhbnQgYXMgVU5TQUZFX2ludmFyaWFudCxcbiAgbWFwUm91dGVQcm9wZXJ0aWVzIGFzIFVOU0FGRV9tYXBSb3V0ZVByb3BlcnRpZXMsXG4gIHNob3VsZEh5ZHJhdGVSb3V0ZUxvYWRlciBhcyBVTlNBRkVfc2hvdWxkSHlkcmF0ZVJvdXRlTG9hZGVyLFxuICB1c2VGb2dPRldhckRpc2NvdmVyeSBhcyBVTlNBRkVfdXNlRm9nT0ZXYXJEaXNjb3ZlcnksXG4gIHVzZVNjcm9sbFJlc3RvcmF0aW9uIGFzIFVOU0FGRV91c2VTY3JvbGxSZXN0b3JhdGlvbixcbiAgd2l0aENvbXBvbmVudFByb3BzIGFzIFVOU0FGRV93aXRoQ29tcG9uZW50UHJvcHMsXG4gIHdpdGhFcnJvckJvdW5kYXJ5UHJvcHMgYXMgVU5TQUZFX3dpdGhFcnJvckJvdW5kYXJ5UHJvcHMsXG4gIHdpdGhIeWRyYXRlRmFsbGJhY2tQcm9wcyBhcyBVTlNBRkVfd2l0aEh5ZHJhdGVGYWxsYmFja1Byb3BzLFxuICBjcmVhdGVCcm93c2VyUm91dGVyLFxuICBjcmVhdGVDb250ZXh0LFxuICBjcmVhdGVDb29raWUsXG4gIGNyZWF0ZUNvb2tpZVNlc3Npb25TdG9yYWdlLFxuICBjcmVhdGVIYXNoUm91dGVyLFxuICBjcmVhdGVNZW1vcnlSb3V0ZXIsXG4gIGNyZWF0ZU1lbW9yeVNlc3Npb25TdG9yYWdlLFxuICBjcmVhdGVQYXRoLFxuICBjcmVhdGVSZXF1ZXN0SGFuZGxlcixcbiAgY3JlYXRlUm91dGVzRnJvbUNoaWxkcmVuLFxuICBjcmVhdGVSb3V0ZXNGcm9tRWxlbWVudHMsXG4gIGNyZWF0ZVJvdXRlc1N0dWIsXG4gIGNyZWF0ZVNlYXJjaFBhcmFtcyxcbiAgY3JlYXRlU2Vzc2lvbixcbiAgY3JlYXRlU2Vzc2lvblN0b3JhZ2UsXG4gIGNyZWF0ZVN0YXRpY0hhbmRsZXIsXG4gIGNyZWF0ZVN0YXRpY1JvdXRlcixcbiAgZGF0YSxcbiAgZ2VuZXJhdGVQYXRoLFxuICBocmVmLFxuICBpc0Nvb2tpZSxcbiAgaXNSb3V0ZUVycm9yUmVzcG9uc2UsXG4gIGlzU2Vzc2lvbixcbiAgbWF0Y2hQYXRoLFxuICBtYXRjaFJvdXRlcyxcbiAgcGFyc2VQYXRoLFxuICByZWRpcmVjdCxcbiAgcmVkaXJlY3REb2N1bWVudCxcbiAgcmVuZGVyTWF0Y2hlcyxcbiAgcmVwbGFjZSxcbiAgcmVzb2x2ZVBhdGgsXG4gIEhpc3RvcnlSb3V0ZXIgYXMgdW5zdGFibGVfSGlzdG9yeVJvdXRlcixcbiAgUlNDU3RhdGljUm91dGVyIGFzIHVuc3RhYmxlX1JTQ1N0YXRpY1JvdXRlcixcbiAgcm91dGVSU0NTZXJ2ZXJSZXF1ZXN0IGFzIHVuc3RhYmxlX3JvdXRlUlNDU2VydmVyUmVxdWVzdCxcbiAgc2V0RGV2U2VydmVySG9va3MgYXMgdW5zdGFibGVfc2V0RGV2U2VydmVySG9va3MsXG4gIHVzZVByb21wdCBhcyB1bnN0YWJsZV91c2VQcm9tcHQsXG4gIHVzZVJvdXRlIGFzIHVuc3RhYmxlX3VzZVJvdXRlLFxuICB1c2VBY3Rpb25EYXRhLFxuICB1c2VBc3luY0Vycm9yLFxuICB1c2VBc3luY1ZhbHVlLFxuICB1c2VCZWZvcmVVbmxvYWQsXG4gIHVzZUJsb2NrZXIsXG4gIHVzZUZldGNoZXIsXG4gIHVzZUZldGNoZXJzLFxuICB1c2VGb3JtQWN0aW9uLFxuICB1c2VIcmVmLFxuICB1c2VJblJvdXRlckNvbnRleHQsXG4gIHVzZUxpbmtDbGlja0hhbmRsZXIsXG4gIHVzZUxvYWRlckRhdGEsXG4gIHVzZUxvY2F0aW9uLFxuICB1c2VNYXRjaCxcbiAgdXNlTWF0Y2hlcyxcbiAgdXNlTmF2aWdhdGUsXG4gIHVzZU5hdmlnYXRpb24sXG4gIHVzZU5hdmlnYXRpb25UeXBlLFxuICB1c2VPdXRsZXQsXG4gIHVzZU91dGxldENvbnRleHQsXG4gIHVzZVBhcmFtcyxcbiAgdXNlUmVzb2x2ZWRQYXRoLFxuICB1c2VSZXZhbGlkYXRvcixcbiAgdXNlUm91dGVFcnJvcixcbiAgdXNlUm91dGVMb2FkZXJEYXRhLFxuICB1c2VSb3V0ZXMsXG4gIHVzZVNlYXJjaFBhcmFtcyxcbiAgdXNlU3VibWl0LFxuICB1c2VWaWV3VHJhbnNpdGlvblN0YXRlXG59O1xuIiwKICAgICIvKipcbiAqIHJlYWN0LXJvdXRlciB2Ny45LjVcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIFJlbWl4IFNvZnR3YXJlIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UubWQgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuXCJ1c2UgY2xpZW50XCI7XG5pbXBvcnQge1xuICBSU0NSb3V0ZXJHbG9iYWxFcnJvckJvdW5kYXJ5LFxuICBkZXNlcmlhbGl6ZUVycm9ycyxcbiAgZ2V0SHlkcmF0aW9uRGF0YSxcbiAgcG9wdWxhdGVSU0NSb3V0ZU1vZHVsZXNcbn0gZnJvbSBcIi4vY2h1bmstSkczWE5ENUEubWpzXCI7XG5pbXBvcnQge1xuICBDUklUSUNBTF9DU1NfREFUQV9BVFRSSUJVVEUsXG4gIEVycm9yUmVzcG9uc2VJbXBsLFxuICBGcmFtZXdvcmtDb250ZXh0LFxuICBSU0NSb3V0ZXJDb250ZXh0LFxuICBSZW1peEVycm9yQm91bmRhcnksXG4gIFJvdXRlclByb3ZpZGVyLFxuICBVTlNUQUJMRV9UcmFuc2l0aW9uRW5hYmxlZFJvdXRlclByb3ZpZGVyLFxuICBjcmVhdGVCcm93c2VySGlzdG9yeSxcbiAgY3JlYXRlQ2xpZW50Um91dGVzLFxuICBjcmVhdGVDbGllbnRSb3V0ZXNXaXRoSE1SUmV2YWxpZGF0aW9uT3B0T3V0LFxuICBjcmVhdGVDb250ZXh0LFxuICBjcmVhdGVSZXF1ZXN0SW5pdCxcbiAgY3JlYXRlUm91dGVyLFxuICBkZWNvZGVWaWFUdXJib1N0cmVhbSxcbiAgZ2V0UGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb25GdW5jdGlvbixcbiAgZ2V0U2luZ2xlRmV0Y2hEYXRhU3RyYXRlZ3lJbXBsLFxuICBnZXRUdXJib1N0cmVhbVNpbmdsZUZldGNoRGF0YVN0cmF0ZWd5LFxuICBoeWRyYXRpb25Sb3V0ZVByb3BlcnRpZXMsXG4gIGludmFyaWFudCxcbiAgaXNNdXRhdGlvbk1ldGhvZCxcbiAgbWFwUm91dGVQcm9wZXJ0aWVzLFxuICBub0FjdGlvbkRlZmluZWRFcnJvcixcbiAgc2V0SXNIeWRyYXRlZCxcbiAgc2hvdWxkSHlkcmF0ZVJvdXRlTG9hZGVyLFxuICBzaW5nbGVGZXRjaFVybCxcbiAgc3RyaXBJbmRleFBhcmFtLFxuICB1c2VGb2dPRldhckRpc2NvdmVyeVxufSBmcm9tIFwiLi9jaHVuay1VSUdEU1dQSC5tanNcIjtcblxuLy8gbGliL2RvbS1leHBvcnQvZG9tLXJvdXRlci1wcm92aWRlci50c3hcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0ICogYXMgUmVhY3RET00gZnJvbSBcInJlYWN0LWRvbVwiO1xuZnVuY3Rpb24gUm91dGVyUHJvdmlkZXIyKHByb3BzKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZXJQcm92aWRlciwgeyBmbHVzaFN5bmM6IFJlYWN0RE9NLmZsdXNoU3luYywgLi4ucHJvcHMgfSk7XG59XG5cbi8vIGxpYi9kb20tZXhwb3J0L2h5ZHJhdGVkLXJvdXRlci50c3hcbmltcG9ydCAqIGFzIFJlYWN0MiBmcm9tIFwicmVhY3RcIjtcbnZhciBzc3JJbmZvID0gbnVsbDtcbnZhciByb3V0ZXIgPSBudWxsO1xuZnVuY3Rpb24gaW5pdFNzckluZm8oKSB7XG4gIGlmICghc3NySW5mbyAmJiB3aW5kb3cuX19yZWFjdFJvdXRlckNvbnRleHQgJiYgd2luZG93Ll9fcmVhY3RSb3V0ZXJNYW5pZmVzdCAmJiB3aW5kb3cuX19yZWFjdFJvdXRlclJvdXRlTW9kdWxlcykge1xuICAgIGlmICh3aW5kb3cuX19yZWFjdFJvdXRlck1hbmlmZXN0LnNyaSA9PT0gdHJ1ZSkge1xuICAgICAgY29uc3QgaW1wb3J0TWFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcInNjcmlwdFtyci1pbXBvcnRtYXBdXCIpO1xuICAgICAgaWYgKGltcG9ydE1hcD8udGV4dENvbnRlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB3aW5kb3cuX19yZWFjdFJvdXRlck1hbmlmZXN0LnNyaSA9IEpTT04ucGFyc2UoXG4gICAgICAgICAgICBpbXBvcnRNYXAudGV4dENvbnRlbnRcbiAgICAgICAgICApLmludGVncml0eTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBwYXJzZSBpbXBvcnQgbWFwXCIsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgc3NySW5mbyA9IHtcbiAgICAgIGNvbnRleHQ6IHdpbmRvdy5fX3JlYWN0Um91dGVyQ29udGV4dCxcbiAgICAgIG1hbmlmZXN0OiB3aW5kb3cuX19yZWFjdFJvdXRlck1hbmlmZXN0LFxuICAgICAgcm91dGVNb2R1bGVzOiB3aW5kb3cuX19yZWFjdFJvdXRlclJvdXRlTW9kdWxlcyxcbiAgICAgIHN0YXRlRGVjb2RpbmdQcm9taXNlOiB2b2lkIDAsXG4gICAgICByb3V0ZXI6IHZvaWQgMCxcbiAgICAgIHJvdXRlckluaXRpYWxpemVkOiBmYWxzZVxuICAgIH07XG4gIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZUh5ZHJhdGVkUm91dGVyKHtcbiAgZ2V0Q29udGV4dCxcbiAgdW5zdGFibGVfaW5zdHJ1bWVudGF0aW9uc1xufSkge1xuICBpbml0U3NySW5mbygpO1xuICBpZiAoIXNzckluZm8pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIllvdSBtdXN0IGJlIHVzaW5nIHRoZSBTU1IgZmVhdHVyZXMgb2YgUmVhY3QgUm91dGVyIGluIG9yZGVyIHRvIHNraXAgcGFzc2luZyBhIGByb3V0ZXJgIHByb3AgdG8gYDxSb3V0ZXJQcm92aWRlcj5gXCJcbiAgICApO1xuICB9XG4gIGxldCBsb2NhbFNzckluZm8gPSBzc3JJbmZvO1xuICBpZiAoIXNzckluZm8uc3RhdGVEZWNvZGluZ1Byb21pc2UpIHtcbiAgICBsZXQgc3RyZWFtID0gc3NySW5mby5jb250ZXh0LnN0cmVhbTtcbiAgICBpbnZhcmlhbnQoc3RyZWFtLCBcIk5vIHN0cmVhbSBmb3VuZCBmb3Igc2luZ2xlIGZldGNoIGRlY29kaW5nXCIpO1xuICAgIHNzckluZm8uY29udGV4dC5zdHJlYW0gPSB2b2lkIDA7XG4gICAgc3NySW5mby5zdGF0ZURlY29kaW5nUHJvbWlzZSA9IGRlY29kZVZpYVR1cmJvU3RyZWFtKHN0cmVhbSwgd2luZG93KS50aGVuKCh2YWx1ZSkgPT4ge1xuICAgICAgc3NySW5mby5jb250ZXh0LnN0YXRlID0gdmFsdWUudmFsdWU7XG4gICAgICBsb2NhbFNzckluZm8uc3RhdGVEZWNvZGluZ1Byb21pc2UudmFsdWUgPSB0cnVlO1xuICAgIH0pLmNhdGNoKChlKSA9PiB7XG4gICAgICBsb2NhbFNzckluZm8uc3RhdGVEZWNvZGluZ1Byb21pc2UuZXJyb3IgPSBlO1xuICAgIH0pO1xuICB9XG4gIGlmIChzc3JJbmZvLnN0YXRlRGVjb2RpbmdQcm9taXNlLmVycm9yKSB7XG4gICAgdGhyb3cgc3NySW5mby5zdGF0ZURlY29kaW5nUHJvbWlzZS5lcnJvcjtcbiAgfVxuICBpZiAoIXNzckluZm8uc3RhdGVEZWNvZGluZ1Byb21pc2UudmFsdWUpIHtcbiAgICB0aHJvdyBzc3JJbmZvLnN0YXRlRGVjb2RpbmdQcm9taXNlO1xuICB9XG4gIGxldCByb3V0ZXMgPSBjcmVhdGVDbGllbnRSb3V0ZXMoXG4gICAgc3NySW5mby5tYW5pZmVzdC5yb3V0ZXMsXG4gICAgc3NySW5mby5yb3V0ZU1vZHVsZXMsXG4gICAgc3NySW5mby5jb250ZXh0LnN0YXRlLFxuICAgIHNzckluZm8uY29udGV4dC5zc3IsXG4gICAgc3NySW5mby5jb250ZXh0LmlzU3BhTW9kZVxuICApO1xuICBsZXQgaHlkcmF0aW9uRGF0YSA9IHZvaWQgMDtcbiAgaWYgKHNzckluZm8uY29udGV4dC5pc1NwYU1vZGUpIHtcbiAgICBsZXQgeyBsb2FkZXJEYXRhIH0gPSBzc3JJbmZvLmNvbnRleHQuc3RhdGU7XG4gICAgaWYgKHNzckluZm8ubWFuaWZlc3Qucm91dGVzLnJvb3Q/Lmhhc0xvYWRlciAmJiBsb2FkZXJEYXRhICYmIFwicm9vdFwiIGluIGxvYWRlckRhdGEpIHtcbiAgICAgIGh5ZHJhdGlvbkRhdGEgPSB7XG4gICAgICAgIGxvYWRlckRhdGE6IHtcbiAgICAgICAgICByb290OiBsb2FkZXJEYXRhLnJvb3RcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaHlkcmF0aW9uRGF0YSA9IGdldEh5ZHJhdGlvbkRhdGEoe1xuICAgICAgc3RhdGU6IHNzckluZm8uY29udGV4dC5zdGF0ZSxcbiAgICAgIHJvdXRlcyxcbiAgICAgIGdldFJvdXRlSW5mbzogKHJvdXRlSWQpID0+ICh7XG4gICAgICAgIGNsaWVudExvYWRlcjogc3NySW5mby5yb3V0ZU1vZHVsZXNbcm91dGVJZF0/LmNsaWVudExvYWRlcixcbiAgICAgICAgaGFzTG9hZGVyOiBzc3JJbmZvLm1hbmlmZXN0LnJvdXRlc1tyb3V0ZUlkXT8uaGFzTG9hZGVyID09PSB0cnVlLFxuICAgICAgICBoYXNIeWRyYXRlRmFsbGJhY2s6IHNzckluZm8ucm91dGVNb2R1bGVzW3JvdXRlSWRdPy5IeWRyYXRlRmFsbGJhY2sgIT0gbnVsbFxuICAgICAgfSksXG4gICAgICBsb2NhdGlvbjogd2luZG93LmxvY2F0aW9uLFxuICAgICAgYmFzZW5hbWU6IHdpbmRvdy5fX3JlYWN0Um91dGVyQ29udGV4dD8uYmFzZW5hbWUsXG4gICAgICBpc1NwYU1vZGU6IHNzckluZm8uY29udGV4dC5pc1NwYU1vZGVcbiAgICB9KTtcbiAgICBpZiAoaHlkcmF0aW9uRGF0YSAmJiBoeWRyYXRpb25EYXRhLmVycm9ycykge1xuICAgICAgaHlkcmF0aW9uRGF0YS5lcnJvcnMgPSBkZXNlcmlhbGl6ZUVycm9ycyhoeWRyYXRpb25EYXRhLmVycm9ycyk7XG4gICAgfVxuICB9XG4gIGxldCByb3V0ZXIyID0gY3JlYXRlUm91dGVyKHtcbiAgICByb3V0ZXMsXG4gICAgaGlzdG9yeTogY3JlYXRlQnJvd3Nlckhpc3RvcnkoKSxcbiAgICBiYXNlbmFtZTogc3NySW5mby5jb250ZXh0LmJhc2VuYW1lLFxuICAgIGdldENvbnRleHQsXG4gICAgaHlkcmF0aW9uRGF0YSxcbiAgICBoeWRyYXRpb25Sb3V0ZVByb3BlcnRpZXMsXG4gICAgdW5zdGFibGVfaW5zdHJ1bWVudGF0aW9ucyxcbiAgICBtYXBSb3V0ZVByb3BlcnRpZXMsXG4gICAgZnV0dXJlOiB7XG4gICAgICBtaWRkbGV3YXJlOiBzc3JJbmZvLmNvbnRleHQuZnV0dXJlLnY4X21pZGRsZXdhcmVcbiAgICB9LFxuICAgIGRhdGFTdHJhdGVneTogZ2V0VHVyYm9TdHJlYW1TaW5nbGVGZXRjaERhdGFTdHJhdGVneShcbiAgICAgICgpID0+IHJvdXRlcjIsXG4gICAgICBzc3JJbmZvLm1hbmlmZXN0LFxuICAgICAgc3NySW5mby5yb3V0ZU1vZHVsZXMsXG4gICAgICBzc3JJbmZvLmNvbnRleHQuc3NyLFxuICAgICAgc3NySW5mby5jb250ZXh0LmJhc2VuYW1lXG4gICAgKSxcbiAgICBwYXRjaFJvdXRlc09uTmF2aWdhdGlvbjogZ2V0UGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb25GdW5jdGlvbihcbiAgICAgIHNzckluZm8ubWFuaWZlc3QsXG4gICAgICBzc3JJbmZvLnJvdXRlTW9kdWxlcyxcbiAgICAgIHNzckluZm8uY29udGV4dC5zc3IsXG4gICAgICBzc3JJbmZvLmNvbnRleHQucm91dGVEaXNjb3ZlcnksXG4gICAgICBzc3JJbmZvLmNvbnRleHQuaXNTcGFNb2RlLFxuICAgICAgc3NySW5mby5jb250ZXh0LmJhc2VuYW1lXG4gICAgKVxuICB9KTtcbiAgc3NySW5mby5yb3V0ZXIgPSByb3V0ZXIyO1xuICBpZiAocm91dGVyMi5zdGF0ZS5pbml0aWFsaXplZCkge1xuICAgIHNzckluZm8ucm91dGVySW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIHJvdXRlcjIuaW5pdGlhbGl6ZSgpO1xuICB9XG4gIHJvdXRlcjIuY3JlYXRlUm91dGVzRm9ySE1SID0gLyogc3BhY2VyIHNvIHRzLWlnbm9yZSBkb2VzIG5vdCBhZmZlY3QgdGhlIHJpZ2h0IGhhbmQgb2YgdGhlIGFzc2lnbm1lbnQgKi9cbiAgY3JlYXRlQ2xpZW50Um91dGVzV2l0aEhNUlJldmFsaWRhdGlvbk9wdE91dDtcbiAgd2luZG93Ll9fcmVhY3RSb3V0ZXJEYXRhUm91dGVyID0gcm91dGVyMjtcbiAgcmV0dXJuIHJvdXRlcjI7XG59XG5mdW5jdGlvbiBIeWRyYXRlZFJvdXRlcihwcm9wcykge1xuICBpZiAoIXJvdXRlcikge1xuICAgIHJvdXRlciA9IGNyZWF0ZUh5ZHJhdGVkUm91dGVyKHtcbiAgICAgIGdldENvbnRleHQ6IHByb3BzLmdldENvbnRleHQsXG4gICAgICB1bnN0YWJsZV9pbnN0cnVtZW50YXRpb25zOiBwcm9wcy51bnN0YWJsZV9pbnN0cnVtZW50YXRpb25zXG4gICAgfSk7XG4gIH1cbiAgbGV0IFtjcml0aWNhbENzcywgc2V0Q3JpdGljYWxDc3NdID0gUmVhY3QyLnVzZVN0YXRlKFxuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcImRldmVsb3BtZW50XCIgPyBzc3JJbmZvPy5jb250ZXh0LmNyaXRpY2FsQ3NzIDogdm9pZCAwXG4gICk7XG4gIFJlYWN0Mi51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJkZXZlbG9wbWVudFwiKSB7XG4gICAgICBzZXRDcml0aWNhbENzcyh2b2lkIDApO1xuICAgIH1cbiAgfSwgW10pO1xuICBSZWFjdDIudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwiZGV2ZWxvcG1lbnRcIiAmJiBjcml0aWNhbENzcyA9PT0gdm9pZCAwKSB7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbJHtDUklUSUNBTF9DU1NfREFUQV9BVFRSSUJVVEV9XWApLmZvckVhY2goKGVsZW1lbnQpID0+IGVsZW1lbnQucmVtb3ZlKCkpO1xuICAgIH1cbiAgfSwgW2NyaXRpY2FsQ3NzXSk7XG4gIGxldCBbbG9jYXRpb24yLCBzZXRMb2NhdGlvbl0gPSBSZWFjdDIudXNlU3RhdGUocm91dGVyLnN0YXRlLmxvY2F0aW9uKTtcbiAgUmVhY3QyLnVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNzckluZm8gJiYgc3NySW5mby5yb3V0ZXIgJiYgIXNzckluZm8ucm91dGVySW5pdGlhbGl6ZWQpIHtcbiAgICAgIHNzckluZm8ucm91dGVySW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgc3NySW5mby5yb3V0ZXIuaW5pdGlhbGl6ZSgpO1xuICAgIH1cbiAgfSwgW10pO1xuICBSZWFjdDIudXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc3NySW5mbyAmJiBzc3JJbmZvLnJvdXRlcikge1xuICAgICAgcmV0dXJuIHNzckluZm8ucm91dGVyLnN1YnNjcmliZSgobmV3U3RhdGUpID0+IHtcbiAgICAgICAgaWYgKG5ld1N0YXRlLmxvY2F0aW9uICE9PSBsb2NhdGlvbjIpIHtcbiAgICAgICAgICBzZXRMb2NhdGlvbihuZXdTdGF0ZS5sb2NhdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2xvY2F0aW9uMl0pO1xuICBpbnZhcmlhbnQoc3NySW5mbywgXCJzc3JJbmZvIHVuYXZhaWxhYmxlIGZvciBIeWRyYXRlZFJvdXRlclwiKTtcbiAgdXNlRm9nT0ZXYXJEaXNjb3ZlcnkoXG4gICAgcm91dGVyLFxuICAgIHNzckluZm8ubWFuaWZlc3QsXG4gICAgc3NySW5mby5yb3V0ZU1vZHVsZXMsXG4gICAgc3NySW5mby5jb250ZXh0LnNzcixcbiAgICBzc3JJbmZvLmNvbnRleHQucm91dGVEaXNjb3ZlcnksXG4gICAgc3NySW5mby5jb250ZXh0LmlzU3BhTW9kZVxuICApO1xuICByZXR1cm4gKFxuICAgIC8vIFRoaXMgZnJhZ21lbnQgaXMgaW1wb3J0YW50IHRvIGVuc3VyZSB3ZSBtYXRjaCB0aGUgPFNlcnZlclJvdXRlcj4gSlNYXG4gICAgLy8gc3RydWN0dXJlIHNvIHRoYXQgdXNlSWQgdmFsdWVzIGh5ZHJhdGUgY29ycmVjdGx5XG4gICAgLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFJlYWN0Mi5GcmFnbWVudCwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFxuICAgICAgRnJhbWV3b3JrQ29udGV4dC5Qcm92aWRlcixcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICBtYW5pZmVzdDogc3NySW5mby5tYW5pZmVzdCxcbiAgICAgICAgICByb3V0ZU1vZHVsZXM6IHNzckluZm8ucm91dGVNb2R1bGVzLFxuICAgICAgICAgIGZ1dHVyZTogc3NySW5mby5jb250ZXh0LmZ1dHVyZSxcbiAgICAgICAgICBjcml0aWNhbENzcyxcbiAgICAgICAgICBzc3I6IHNzckluZm8uY29udGV4dC5zc3IsXG4gICAgICAgICAgaXNTcGFNb2RlOiBzc3JJbmZvLmNvbnRleHQuaXNTcGFNb2RlLFxuICAgICAgICAgIHJvdXRlRGlzY292ZXJ5OiBzc3JJbmZvLmNvbnRleHQucm91dGVEaXNjb3ZlcnlcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChSZW1peEVycm9yQm91bmRhcnksIHsgbG9jYXRpb246IGxvY2F0aW9uMiB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIFJvdXRlclByb3ZpZGVyMixcbiAgICAgICAge1xuICAgICAgICAgIHJvdXRlcixcbiAgICAgICAgICB1bnN0YWJsZV9vbkVycm9yOiBwcm9wcy51bnN0YWJsZV9vbkVycm9yXG4gICAgICAgIH1cbiAgICAgICkpXG4gICAgKSwgLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFJlYWN0Mi5GcmFnbWVudCwgbnVsbCkpXG4gICk7XG59XG5cbi8vIGxpYi9yc2MvYnJvd3Nlci50c3hcbmltcG9ydCAqIGFzIFJlYWN0MyBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCAqIGFzIFJlYWN0RE9NMiBmcm9tIFwicmVhY3QtZG9tXCI7XG5mdW5jdGlvbiBjcmVhdGVDYWxsU2VydmVyKHtcbiAgY3JlYXRlRnJvbVJlYWRhYmxlU3RyZWFtLFxuICBjcmVhdGVUZW1wb3JhcnlSZWZlcmVuY2VTZXQsXG4gIGVuY29kZVJlcGx5LFxuICBmZXRjaDogZmV0Y2hJbXBsZW1lbnRhdGlvbiA9IGZldGNoXG59KSB7XG4gIGNvbnN0IGdsb2JhbFZhciA9IHdpbmRvdztcbiAgbGV0IGxhbmRlZEFjdGlvbklkID0gMDtcbiAgcmV0dXJuIGFzeW5jIChpZCwgYXJncykgPT4ge1xuICAgIGxldCBhY3Rpb25JZCA9IGdsb2JhbFZhci5fX3JvdXRlckFjdGlvbklEID0gKGdsb2JhbFZhci5fX3JvdXRlckFjdGlvbklEID8/IChnbG9iYWxWYXIuX19yb3V0ZXJBY3Rpb25JRCA9IDApKSArIDE7XG4gICAgY29uc3QgdGVtcG9yYXJ5UmVmZXJlbmNlcyA9IGNyZWF0ZVRlbXBvcmFyeVJlZmVyZW5jZVNldCgpO1xuICAgIGNvbnN0IHBheWxvYWRQcm9taXNlID0gZmV0Y2hJbXBsZW1lbnRhdGlvbihcbiAgICAgIG5ldyBSZXF1ZXN0KGxvY2F0aW9uLmhyZWYsIHtcbiAgICAgICAgYm9keTogYXdhaXQgZW5jb2RlUmVwbHkoYXJncywgeyB0ZW1wb3JhcnlSZWZlcmVuY2VzIH0pLFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgQWNjZXB0OiBcInRleHQveC1jb21wb25lbnRcIixcbiAgICAgICAgICBcInJzYy1hY3Rpb24taWRcIjogaWRcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICBpZiAoIXJlc3BvbnNlLmJvZHkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gcmVzcG9uc2UgYm9keVwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjcmVhdGVGcm9tUmVhZGFibGVTdHJlYW0ocmVzcG9uc2UuYm9keSwge1xuICAgICAgICB0ZW1wb3JhcnlSZWZlcmVuY2VzXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBnbG9iYWxWYXIuX19yZWFjdFJvdXRlckRhdGFSb3V0ZXIuX19zZXRQZW5kaW5nUmVyZW5kZXIoXG4gICAgICBQcm9taXNlLnJlc29sdmUocGF5bG9hZFByb21pc2UpLnRoZW4oYXN5bmMgKHBheWxvYWQpID0+IHtcbiAgICAgICAgaWYgKHBheWxvYWQudHlwZSA9PT0gXCJyZWRpcmVjdFwiKSB7XG4gICAgICAgICAgaWYgKHBheWxvYWQucmVsb2FkIHx8IGlzRXh0ZXJuYWxMb2NhdGlvbihwYXlsb2FkLmxvY2F0aW9uKSkge1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBwYXlsb2FkLmxvY2F0aW9uO1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBnbG9iYWxWYXIuX19yZWFjdFJvdXRlckRhdGFSb3V0ZXIubmF2aWdhdGUocGF5bG9hZC5sb2NhdGlvbiwge1xuICAgICAgICAgICAgICByZXBsYWNlOiBwYXlsb2FkLnJlcGxhY2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBheWxvYWQudHlwZSAhPT0gXCJhY3Rpb25cIikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgcGF5bG9hZCB0eXBlXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlcmVuZGVyID0gYXdhaXQgcGF5bG9hZC5yZXJlbmRlcjtcbiAgICAgICAgaWYgKHJlcmVuZGVyICYmIGxhbmRlZEFjdGlvbklkIDwgYWN0aW9uSWQgJiYgZ2xvYmFsVmFyLl9fcm91dGVyQWN0aW9uSUQgPD0gYWN0aW9uSWQpIHtcbiAgICAgICAgICBpZiAocmVyZW5kZXIudHlwZSA9PT0gXCJyZWRpcmVjdFwiKSB7XG4gICAgICAgICAgICBpZiAocmVyZW5kZXIucmVsb2FkIHx8IGlzRXh0ZXJuYWxMb2NhdGlvbihyZXJlbmRlci5sb2NhdGlvbikpIHtcbiAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSByZXJlbmRlci5sb2NhdGlvbjtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgZ2xvYmFsVmFyLl9fcmVhY3RSb3V0ZXJEYXRhUm91dGVyLm5hdmlnYXRlKHJlcmVuZGVyLmxvY2F0aW9uLCB7XG4gICAgICAgICAgICAgICAgcmVwbGFjZTogcmVyZW5kZXIucmVwbGFjZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgbGFzdE1hdGNoO1xuICAgICAgICAgICAgZm9yIChjb25zdCBtYXRjaCBvZiByZXJlbmRlci5tYXRjaGVzKSB7XG4gICAgICAgICAgICAgIGdsb2JhbFZhci5fX3JlYWN0Um91dGVyRGF0YVJvdXRlci5wYXRjaFJvdXRlcyhcbiAgICAgICAgICAgICAgICBsYXN0TWF0Y2g/LmlkID8/IG51bGwsXG4gICAgICAgICAgICAgICAgW2NyZWF0ZVJvdXRlRnJvbVNlcnZlck1hbmlmZXN0KG1hdGNoKV0sXG4gICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBsYXN0TWF0Y2ggPSBtYXRjaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdpbmRvdy5fX3JlYWN0Um91dGVyRGF0YVJvdXRlci5faW50ZXJuYWxTZXRTdGF0ZURvTm90VXNlT3JZb3VXaWxsQnJlYWtZb3VyQXBwKFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbG9hZGVyRGF0YTogT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgICAgICAgIHt9LFxuICAgICAgICAgICAgICAgICAgZ2xvYmFsVmFyLl9fcmVhY3RSb3V0ZXJEYXRhUm91dGVyLnN0YXRlLmxvYWRlckRhdGEsXG4gICAgICAgICAgICAgICAgICByZXJlbmRlci5sb2FkZXJEYXRhXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBlcnJvcnM6IHJlcmVuZGVyLmVycm9ycyA/IE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAgICAgICAgICB7fSxcbiAgICAgICAgICAgICAgICAgIGdsb2JhbFZhci5fX3JlYWN0Um91dGVyRGF0YVJvdXRlci5zdGF0ZS5lcnJvcnMsXG4gICAgICAgICAgICAgICAgICByZXJlbmRlci5lcnJvcnNcbiAgICAgICAgICAgICAgICApIDogbnVsbFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgfTtcbiAgICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgIH0pXG4gICAgKTtcbiAgICByZXR1cm4gcGF5bG9hZFByb21pc2UudGhlbigocGF5bG9hZCkgPT4ge1xuICAgICAgaWYgKHBheWxvYWQudHlwZSAhPT0gXCJhY3Rpb25cIiAmJiBwYXlsb2FkLnR5cGUgIT09IFwicmVkaXJlY3RcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIHBheWxvYWQgdHlwZVwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXlsb2FkLmFjdGlvblJlc3VsdDtcbiAgICB9KTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJvdXRlckZyb21QYXlsb2FkKHtcbiAgZmV0Y2hJbXBsZW1lbnRhdGlvbixcbiAgY3JlYXRlRnJvbVJlYWRhYmxlU3RyZWFtLFxuICBnZXRDb250ZXh0LFxuICBwYXlsb2FkXG59KSB7XG4gIGNvbnN0IGdsb2JhbFZhciA9IHdpbmRvdztcbiAgaWYgKGdsb2JhbFZhci5fX3JlYWN0Um91dGVyRGF0YVJvdXRlciAmJiBnbG9iYWxWYXIuX19yZWFjdFJvdXRlclJvdXRlTW9kdWxlcylcbiAgICByZXR1cm4ge1xuICAgICAgcm91dGVyOiBnbG9iYWxWYXIuX19yZWFjdFJvdXRlckRhdGFSb3V0ZXIsXG4gICAgICByb3V0ZU1vZHVsZXM6IGdsb2JhbFZhci5fX3JlYWN0Um91dGVyUm91dGVNb2R1bGVzXG4gICAgfTtcbiAgaWYgKHBheWxvYWQudHlwZSAhPT0gXCJyZW5kZXJcIikgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwYXlsb2FkIHR5cGVcIik7XG4gIGdsb2JhbFZhci5fX3JlYWN0Um91dGVyUm91dGVNb2R1bGVzID0gZ2xvYmFsVmFyLl9fcmVhY3RSb3V0ZXJSb3V0ZU1vZHVsZXMgPz8ge307XG4gIHBvcHVsYXRlUlNDUm91dGVNb2R1bGVzKGdsb2JhbFZhci5fX3JlYWN0Um91dGVyUm91dGVNb2R1bGVzLCBwYXlsb2FkLm1hdGNoZXMpO1xuICBsZXQgcGF0Y2hlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIHBheWxvYWQucGF0Y2hlcz8uZm9yRWFjaCgocGF0Y2gpID0+IHtcbiAgICBpbnZhcmlhbnQocGF0Y2gucGFyZW50SWQsIFwiSW52YWxpZCBwYXRjaCBwYXJlbnRJZFwiKTtcbiAgICBpZiAoIXBhdGNoZXMuaGFzKHBhdGNoLnBhcmVudElkKSkge1xuICAgICAgcGF0Y2hlcy5zZXQocGF0Y2gucGFyZW50SWQsIFtdKTtcbiAgICB9XG4gICAgcGF0Y2hlcy5nZXQocGF0Y2gucGFyZW50SWQpPy5wdXNoKHBhdGNoKTtcbiAgfSk7XG4gIGxldCByb3V0ZXMgPSBwYXlsb2FkLm1hdGNoZXMucmVkdWNlUmlnaHQoKHByZXZpb3VzLCBtYXRjaCkgPT4ge1xuICAgIGNvbnN0IHJvdXRlID0gY3JlYXRlUm91dGVGcm9tU2VydmVyTWFuaWZlc3QoXG4gICAgICBtYXRjaCxcbiAgICAgIHBheWxvYWRcbiAgICApO1xuICAgIGlmIChwcmV2aW91cy5sZW5ndGggPiAwKSB7XG4gICAgICByb3V0ZS5jaGlsZHJlbiA9IHByZXZpb3VzO1xuICAgICAgbGV0IGNoaWxkcmVuVG9QYXRjaCA9IHBhdGNoZXMuZ2V0KG1hdGNoLmlkKTtcbiAgICAgIGlmIChjaGlsZHJlblRvUGF0Y2gpIHtcbiAgICAgICAgcm91dGUuY2hpbGRyZW4ucHVzaChcbiAgICAgICAgICAuLi5jaGlsZHJlblRvUGF0Y2gubWFwKChyKSA9PiBjcmVhdGVSb3V0ZUZyb21TZXJ2ZXJNYW5pZmVzdChyKSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFtyb3V0ZV07XG4gIH0sIFtdKTtcbiAgZ2xvYmFsVmFyLl9fcmVhY3RSb3V0ZXJEYXRhUm91dGVyID0gY3JlYXRlUm91dGVyKHtcbiAgICByb3V0ZXMsXG4gICAgZ2V0Q29udGV4dCxcbiAgICBiYXNlbmFtZTogcGF5bG9hZC5iYXNlbmFtZSxcbiAgICBoaXN0b3J5OiBjcmVhdGVCcm93c2VySGlzdG9yeSgpLFxuICAgIGh5ZHJhdGlvbkRhdGE6IGdldEh5ZHJhdGlvbkRhdGEoe1xuICAgICAgc3RhdGU6IHtcbiAgICAgICAgbG9hZGVyRGF0YTogcGF5bG9hZC5sb2FkZXJEYXRhLFxuICAgICAgICBhY3Rpb25EYXRhOiBwYXlsb2FkLmFjdGlvbkRhdGEsXG4gICAgICAgIGVycm9yczogcGF5bG9hZC5lcnJvcnNcbiAgICAgIH0sXG4gICAgICByb3V0ZXMsXG4gICAgICBnZXRSb3V0ZUluZm86IChyb3V0ZUlkKSA9PiB7XG4gICAgICAgIGxldCBtYXRjaCA9IHBheWxvYWQubWF0Y2hlcy5maW5kKChtKSA9PiBtLmlkID09PSByb3V0ZUlkKTtcbiAgICAgICAgaW52YXJpYW50KG1hdGNoLCBcIlJvdXRlIG5vdCBmb3VuZCBpbiBwYXlsb2FkXCIpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGNsaWVudExvYWRlcjogbWF0Y2guY2xpZW50TG9hZGVyLFxuICAgICAgICAgIGhhc0xvYWRlcjogbWF0Y2guaGFzTG9hZGVyLFxuICAgICAgICAgIGhhc0h5ZHJhdGVGYWxsYmFjazogbWF0Y2guaHlkcmF0ZUZhbGxiYWNrRWxlbWVudCAhPSBudWxsXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgbG9jYXRpb246IHBheWxvYWQubG9jYXRpb24sXG4gICAgICBiYXNlbmFtZTogcGF5bG9hZC5iYXNlbmFtZSxcbiAgICAgIGlzU3BhTW9kZTogZmFsc2VcbiAgICB9KSxcbiAgICBhc3luYyBwYXRjaFJvdXRlc09uTmF2aWdhdGlvbih7IHBhdGgsIHNpZ25hbCB9KSB7XG4gICAgICBpZiAoZGlzY292ZXJlZFBhdGhzLmhhcyhwYXRoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhd2FpdCBmZXRjaEFuZEFwcGx5TWFuaWZlc3RQYXRjaGVzKFxuICAgICAgICBbcGF0aF0sXG4gICAgICAgIGNyZWF0ZUZyb21SZWFkYWJsZVN0cmVhbSxcbiAgICAgICAgZmV0Y2hJbXBsZW1lbnRhdGlvbixcbiAgICAgICAgc2lnbmFsXG4gICAgICApO1xuICAgIH0sXG4gICAgLy8gRklYTUU6IFBhc3MgYGJ1aWxkLnNzcmAgaW50byB0aGlzIGZ1bmN0aW9uXG4gICAgZGF0YVN0cmF0ZWd5OiBnZXRSU0NTaW5nbGVGZXRjaERhdGFTdHJhdGVneShcbiAgICAgICgpID0+IGdsb2JhbFZhci5fX3JlYWN0Um91dGVyRGF0YVJvdXRlcixcbiAgICAgIHRydWUsXG4gICAgICBwYXlsb2FkLmJhc2VuYW1lLFxuICAgICAgY3JlYXRlRnJvbVJlYWRhYmxlU3RyZWFtLFxuICAgICAgZmV0Y2hJbXBsZW1lbnRhdGlvblxuICAgIClcbiAgfSk7XG4gIGlmIChnbG9iYWxWYXIuX19yZWFjdFJvdXRlckRhdGFSb3V0ZXIuc3RhdGUuaW5pdGlhbGl6ZWQpIHtcbiAgICBnbG9iYWxWYXIuX19yb3V0ZXJJbml0aWFsaXplZCA9IHRydWU7XG4gICAgZ2xvYmFsVmFyLl9fcmVhY3RSb3V0ZXJEYXRhUm91dGVyLmluaXRpYWxpemUoKTtcbiAgfSBlbHNlIHtcbiAgICBnbG9iYWxWYXIuX19yb3V0ZXJJbml0aWFsaXplZCA9IGZhbHNlO1xuICB9XG4gIGxldCBsYXN0TG9hZGVyRGF0YSA9IHZvaWQgMDtcbiAgZ2xvYmFsVmFyLl9fcmVhY3RSb3V0ZXJEYXRhUm91dGVyLnN1YnNjcmliZSgoeyBsb2FkZXJEYXRhLCBhY3Rpb25EYXRhIH0pID0+IHtcbiAgICBpZiAobGFzdExvYWRlckRhdGEgIT09IGxvYWRlckRhdGEpIHtcbiAgICAgIGdsb2JhbFZhci5fX3JvdXRlckFjdGlvbklEID0gKGdsb2JhbFZhci5fX3JvdXRlckFjdGlvbklEID8/IChnbG9iYWxWYXIuX19yb3V0ZXJBY3Rpb25JRCA9IDApKSArIDE7XG4gICAgfVxuICB9KTtcbiAgZ2xvYmFsVmFyLl9fcmVhY3RSb3V0ZXJEYXRhUm91dGVyLl91cGRhdGVSb3V0ZXNGb3JITVIgPSAocm91dGVVcGRhdGVCeVJvdXRlSWQpID0+IHtcbiAgICBjb25zdCBvbGRSb3V0ZXMgPSB3aW5kb3cuX19yZWFjdFJvdXRlckRhdGFSb3V0ZXIucm91dGVzO1xuICAgIGNvbnN0IG5ld1JvdXRlcyA9IFtdO1xuICAgIGZ1bmN0aW9uIHdhbGtSb3V0ZXMocm91dGVzMiwgcGFyZW50SWQpIHtcbiAgICAgIHJldHVybiByb3V0ZXMyLm1hcCgocm91dGUpID0+IHtcbiAgICAgICAgY29uc3Qgcm91dGVVcGRhdGUgPSByb3V0ZVVwZGF0ZUJ5Um91dGVJZC5nZXQocm91dGUuaWQpO1xuICAgICAgICBpZiAocm91dGVVcGRhdGUpIHtcbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICByb3V0ZU1vZHVsZSxcbiAgICAgICAgICAgIGhhc0FjdGlvbixcbiAgICAgICAgICAgIGhhc0NvbXBvbmVudCxcbiAgICAgICAgICAgIGhhc0Vycm9yQm91bmRhcnksXG4gICAgICAgICAgICBoYXNMb2FkZXJcbiAgICAgICAgICB9ID0gcm91dGVVcGRhdGU7XG4gICAgICAgICAgY29uc3QgbmV3Um91dGUgPSBjcmVhdGVSb3V0ZUZyb21TZXJ2ZXJNYW5pZmVzdCh7XG4gICAgICAgICAgICBjbGllbnRBY3Rpb246IHJvdXRlTW9kdWxlLmNsaWVudEFjdGlvbixcbiAgICAgICAgICAgIGNsaWVudExvYWRlcjogcm91dGVNb2R1bGUuY2xpZW50TG9hZGVyLFxuICAgICAgICAgICAgZWxlbWVudDogcm91dGUuZWxlbWVudCxcbiAgICAgICAgICAgIGVycm9yRWxlbWVudDogcm91dGUuZXJyb3JFbGVtZW50LFxuICAgICAgICAgICAgaGFuZGxlOiByb3V0ZS5oYW5kbGUsXG4gICAgICAgICAgICBoYXNBY3Rpb24sXG4gICAgICAgICAgICBoYXNDb21wb25lbnQsXG4gICAgICAgICAgICBoYXNFcnJvckJvdW5kYXJ5LFxuICAgICAgICAgICAgaGFzTG9hZGVyLFxuICAgICAgICAgICAgaHlkcmF0ZUZhbGxiYWNrRWxlbWVudDogcm91dGUuaHlkcmF0ZUZhbGxiYWNrRWxlbWVudCxcbiAgICAgICAgICAgIGlkOiByb3V0ZS5pZCxcbiAgICAgICAgICAgIGluZGV4OiByb3V0ZS5pbmRleCxcbiAgICAgICAgICAgIGxpbmtzOiByb3V0ZU1vZHVsZS5saW5rcyxcbiAgICAgICAgICAgIG1ldGE6IHJvdXRlTW9kdWxlLm1ldGEsXG4gICAgICAgICAgICBwYXJlbnRJZCxcbiAgICAgICAgICAgIHBhdGg6IHJvdXRlLnBhdGgsXG4gICAgICAgICAgICBzaG91bGRSZXZhbGlkYXRlOiByb3V0ZU1vZHVsZS5zaG91bGRSZXZhbGlkYXRlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKHJvdXRlLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBuZXdSb3V0ZS5jaGlsZHJlbiA9IHdhbGtSb3V0ZXMocm91dGUuY2hpbGRyZW4sIHJvdXRlLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5ld1JvdXRlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRSb3V0ZSA9IHsgLi4ucm91dGUgfTtcbiAgICAgICAgaWYgKHJvdXRlLmNoaWxkcmVuKSB7XG4gICAgICAgICAgdXBkYXRlZFJvdXRlLmNoaWxkcmVuID0gd2Fsa1JvdXRlcyhyb3V0ZS5jaGlsZHJlbiwgcm91dGUuaWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cGRhdGVkUm91dGU7XG4gICAgICB9KTtcbiAgICB9XG4gICAgbmV3Um91dGVzLnB1c2goXG4gICAgICAuLi53YWxrUm91dGVzKG9sZFJvdXRlcywgdm9pZCAwKVxuICAgICk7XG4gICAgd2luZG93Ll9fcmVhY3RSb3V0ZXJEYXRhUm91dGVyLl9pbnRlcm5hbFNldFJvdXRlcyhuZXdSb3V0ZXMpO1xuICB9O1xuICByZXR1cm4ge1xuICAgIHJvdXRlcjogZ2xvYmFsVmFyLl9fcmVhY3RSb3V0ZXJEYXRhUm91dGVyLFxuICAgIHJvdXRlTW9kdWxlczogZ2xvYmFsVmFyLl9fcmVhY3RSb3V0ZXJSb3V0ZU1vZHVsZXNcbiAgfTtcbn1cbnZhciByZW5kZXJlZFJvdXRlc0NvbnRleHQgPSBjcmVhdGVDb250ZXh0KCk7XG5mdW5jdGlvbiBnZXRSU0NTaW5nbGVGZXRjaERhdGFTdHJhdGVneShnZXRSb3V0ZXIsIHNzciwgYmFzZW5hbWUsIGNyZWF0ZUZyb21SZWFkYWJsZVN0cmVhbSwgZmV0Y2hJbXBsZW1lbnRhdGlvbikge1xuICBsZXQgZGF0YVN0cmF0ZWd5ID0gZ2V0U2luZ2xlRmV0Y2hEYXRhU3RyYXRlZ3lJbXBsKFxuICAgIGdldFJvdXRlcixcbiAgICAobWF0Y2gpID0+IHtcbiAgICAgIGxldCBNID0gbWF0Y2g7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBoYXNMb2FkZXI6IE0ucm91dGUuaGFzTG9hZGVyLFxuICAgICAgICBoYXNDbGllbnRMb2FkZXI6IE0ucm91dGUuaGFzQ2xpZW50TG9hZGVyLFxuICAgICAgICBoYXNDb21wb25lbnQ6IE0ucm91dGUuaGFzQ29tcG9uZW50LFxuICAgICAgICBoYXNBY3Rpb246IE0ucm91dGUuaGFzQWN0aW9uLFxuICAgICAgICBoYXNDbGllbnRBY3Rpb246IE0ucm91dGUuaGFzQ2xpZW50QWN0aW9uLFxuICAgICAgICBoYXNTaG91bGRSZXZhbGlkYXRlOiBNLnJvdXRlLmhhc1Nob3VsZFJldmFsaWRhdGVcbiAgICAgIH07XG4gICAgfSxcbiAgICAvLyBwYXNzIG1hcCBpbnRvIGZldGNoQW5kRGVjb2RlIHNvIGl0IGNhbiBhZGQgcGF5bG9hZHNcbiAgICBnZXRGZXRjaEFuZERlY29kZVZpYVJTQyhjcmVhdGVGcm9tUmVhZGFibGVTdHJlYW0sIGZldGNoSW1wbGVtZW50YXRpb24pLFxuICAgIHNzcixcbiAgICBiYXNlbmFtZSxcbiAgICAvLyBJZiB0aGUgcm91dGUgaGFzIGEgY29tcG9uZW50IGJ1dCB3ZSBkb24ndCBoYXZlIGFuIGVsZW1lbnQsIHdlIG5lZWQgdG8gaGl0XG4gICAgLy8gdGhlIHNlcnZlciBsb2FkZXIgZmxvdyByZWdhcmRsZXNzIG9mIHdoZXRoZXIgdGhlIGNsaWVudCBsb2FkZXIgY2FsbHNcbiAgICAvLyBgc2VydmVyTG9hZGVyYCBvciBub3QsIG90aGVyd2lzZSB3ZSdsbCBoYXZlIG5vdGhpbmcgdG8gcmVuZGVyLlxuICAgIChtYXRjaCkgPT4ge1xuICAgICAgbGV0IE0gPSBtYXRjaDtcbiAgICAgIHJldHVybiBNLnJvdXRlLmhhc0NvbXBvbmVudCAmJiAhTS5yb3V0ZS5lbGVtZW50O1xuICAgIH1cbiAgKTtcbiAgcmV0dXJuIGFzeW5jIChhcmdzKSA9PiBhcmdzLnJ1bkNsaWVudE1pZGRsZXdhcmUoYXN5bmMgKCkgPT4ge1xuICAgIGxldCBjb250ZXh0ID0gYXJncy5jb250ZXh0O1xuICAgIGNvbnRleHQuc2V0KHJlbmRlcmVkUm91dGVzQ29udGV4dCwgW10pO1xuICAgIGxldCByZXN1bHRzID0gYXdhaXQgZGF0YVN0cmF0ZWd5KGFyZ3MpO1xuICAgIGNvbnN0IHJlbmRlcmVkUm91dGVzQnlJZCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgZm9yIChjb25zdCByb3V0ZSBvZiBjb250ZXh0LmdldChyZW5kZXJlZFJvdXRlc0NvbnRleHQpKSB7XG4gICAgICBpZiAoIXJlbmRlcmVkUm91dGVzQnlJZC5oYXMocm91dGUuaWQpKSB7XG4gICAgICAgIHJlbmRlcmVkUm91dGVzQnlJZC5zZXQocm91dGUuaWQsIFtdKTtcbiAgICAgIH1cbiAgICAgIHJlbmRlcmVkUm91dGVzQnlJZC5nZXQocm91dGUuaWQpLnB1c2gocm91dGUpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IG1hdGNoIG9mIGFyZ3MubWF0Y2hlcykge1xuICAgICAgY29uc3QgcmVuZGVyZWRSb3V0ZXMgPSByZW5kZXJlZFJvdXRlc0J5SWQuZ2V0KG1hdGNoLnJvdXRlLmlkKTtcbiAgICAgIGlmIChyZW5kZXJlZFJvdXRlcykge1xuICAgICAgICBmb3IgKGNvbnN0IHJlbmRlcmVkIG9mIHJlbmRlcmVkUm91dGVzKSB7XG4gICAgICAgICAgd2luZG93Ll9fcmVhY3RSb3V0ZXJEYXRhUm91dGVyLnBhdGNoUm91dGVzKFxuICAgICAgICAgICAgcmVuZGVyZWQucGFyZW50SWQgPz8gbnVsbCxcbiAgICAgICAgICAgIFtjcmVhdGVSb3V0ZUZyb21TZXJ2ZXJNYW5pZmVzdChyZW5kZXJlZCldLFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH0pO1xufVxuZnVuY3Rpb24gZ2V0RmV0Y2hBbmREZWNvZGVWaWFSU0MoY3JlYXRlRnJvbVJlYWRhYmxlU3RyZWFtLCBmZXRjaEltcGxlbWVudGF0aW9uKSB7XG4gIHJldHVybiBhc3luYyAoYXJncywgYmFzZW5hbWUsIHRhcmdldFJvdXRlcykgPT4ge1xuICAgIGxldCB7IHJlcXVlc3QsIGNvbnRleHQgfSA9IGFyZ3M7XG4gICAgbGV0IHVybCA9IHNpbmdsZUZldGNoVXJsKHJlcXVlc3QudXJsLCBiYXNlbmFtZSwgXCJyc2NcIik7XG4gICAgaWYgKHJlcXVlc3QubWV0aG9kID09PSBcIkdFVFwiKSB7XG4gICAgICB1cmwgPSBzdHJpcEluZGV4UGFyYW0odXJsKTtcbiAgICAgIGlmICh0YXJnZXRSb3V0ZXMpIHtcbiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJfcm91dGVzXCIsIHRhcmdldFJvdXRlcy5qb2luKFwiLFwiKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCByZXMgPSBhd2FpdCBmZXRjaEltcGxlbWVudGF0aW9uKFxuICAgICAgbmV3IFJlcXVlc3QodXJsLCBhd2FpdCBjcmVhdGVSZXF1ZXN0SW5pdChyZXF1ZXN0KSlcbiAgICApO1xuICAgIGlmIChyZXMuc3RhdHVzID49IDQwMCAmJiAhcmVzLmhlYWRlcnMuaGFzKFwiWC1SZW1peC1SZXNwb25zZVwiKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yUmVzcG9uc2VJbXBsKHJlcy5zdGF0dXMsIHJlcy5zdGF0dXNUZXh0LCBhd2FpdCByZXMudGV4dCgpKTtcbiAgICB9XG4gICAgaW52YXJpYW50KHJlcy5ib2R5LCBcIk5vIHJlc3BvbnNlIGJvZHkgdG8gZGVjb2RlXCIpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgY3JlYXRlRnJvbVJlYWRhYmxlU3RyZWFtKHJlcy5ib2R5LCB7XG4gICAgICAgIHRlbXBvcmFyeVJlZmVyZW5jZXM6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBpZiAocGF5bG9hZC50eXBlID09PSBcInJlZGlyZWN0XCIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdGF0dXM6IHJlcy5zdGF0dXMsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgcmVkaXJlY3Q6IHtcbiAgICAgICAgICAgICAgcmVkaXJlY3Q6IHBheWxvYWQubG9jYXRpb24sXG4gICAgICAgICAgICAgIHJlbG9hZDogcGF5bG9hZC5yZWxvYWQsXG4gICAgICAgICAgICAgIHJlcGxhY2U6IHBheWxvYWQucmVwbGFjZSxcbiAgICAgICAgICAgICAgcmV2YWxpZGF0ZTogZmFsc2UsXG4gICAgICAgICAgICAgIHN0YXR1czogcGF5bG9hZC5zdGF0dXNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAocGF5bG9hZC50eXBlICE9PSBcInJlbmRlclwiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgcGF5bG9hZCB0eXBlXCIpO1xuICAgICAgfVxuICAgICAgY29udGV4dC5nZXQocmVuZGVyZWRSb3V0ZXNDb250ZXh0KS5wdXNoKC4uLnBheWxvYWQubWF0Y2hlcyk7XG4gICAgICBsZXQgcmVzdWx0cyA9IHsgcm91dGVzOiB7fSB9O1xuICAgICAgY29uc3QgZGF0YUtleSA9IGlzTXV0YXRpb25NZXRob2QocmVxdWVzdC5tZXRob2QpID8gXCJhY3Rpb25EYXRhXCIgOiBcImxvYWRlckRhdGFcIjtcbiAgICAgIGZvciAobGV0IFtyb3V0ZUlkLCBkYXRhXSBvZiBPYmplY3QuZW50cmllcyhwYXlsb2FkW2RhdGFLZXldIHx8IHt9KSkge1xuICAgICAgICByZXN1bHRzLnJvdXRlc1tyb3V0ZUlkXSA9IHsgZGF0YSB9O1xuICAgICAgfVxuICAgICAgaWYgKHBheWxvYWQuZXJyb3JzKSB7XG4gICAgICAgIGZvciAobGV0IFtyb3V0ZUlkLCBlcnJvcl0gb2YgT2JqZWN0LmVudHJpZXMocGF5bG9hZC5lcnJvcnMpKSB7XG4gICAgICAgICAgcmVzdWx0cy5yb3V0ZXNbcm91dGVJZF0gPSB7IGVycm9yIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB7IHN0YXR1czogcmVzLnN0YXR1cywgZGF0YTogcmVzdWx0cyB9O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBkZWNvZGUgUlNDIHJlc3BvbnNlXCIpO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIFJTQ0h5ZHJhdGVkUm91dGVyKHtcbiAgY3JlYXRlRnJvbVJlYWRhYmxlU3RyZWFtLFxuICBmZXRjaDogZmV0Y2hJbXBsZW1lbnRhdGlvbiA9IGZldGNoLFxuICBwYXlsb2FkLFxuICByb3V0ZURpc2NvdmVyeSA9IFwiZWFnZXJcIixcbiAgZ2V0Q29udGV4dFxufSkge1xuICBpZiAocGF5bG9hZC50eXBlICE9PSBcInJlbmRlclwiKSB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHBheWxvYWQgdHlwZVwiKTtcbiAgbGV0IHsgcm91dGVyOiByb3V0ZXIyLCByb3V0ZU1vZHVsZXMgfSA9IFJlYWN0My51c2VNZW1vKFxuICAgICgpID0+IGNyZWF0ZVJvdXRlckZyb21QYXlsb2FkKHtcbiAgICAgIHBheWxvYWQsXG4gICAgICBmZXRjaEltcGxlbWVudGF0aW9uLFxuICAgICAgZ2V0Q29udGV4dCxcbiAgICAgIGNyZWF0ZUZyb21SZWFkYWJsZVN0cmVhbVxuICAgIH0pLFxuICAgIFtjcmVhdGVGcm9tUmVhZGFibGVTdHJlYW0sIHBheWxvYWQsIGZldGNoSW1wbGVtZW50YXRpb24sIGdldENvbnRleHRdXG4gICk7XG4gIFJlYWN0My51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldElzSHlkcmF0ZWQoKTtcbiAgfSwgW10pO1xuICBSZWFjdDMudXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBnbG9iYWxWYXIgPSB3aW5kb3c7XG4gICAgaWYgKCFnbG9iYWxWYXIuX19yb3V0ZXJJbml0aWFsaXplZCkge1xuICAgICAgZ2xvYmFsVmFyLl9fcm91dGVySW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgZ2xvYmFsVmFyLl9fcmVhY3RSb3V0ZXJEYXRhUm91dGVyLmluaXRpYWxpemUoKTtcbiAgICB9XG4gIH0sIFtdKTtcbiAgbGV0IFtsb2NhdGlvbjIsIHNldExvY2F0aW9uXSA9IFJlYWN0My51c2VTdGF0ZShyb3V0ZXIyLnN0YXRlLmxvY2F0aW9uKTtcbiAgUmVhY3QzLnVzZUxheW91dEVmZmVjdChcbiAgICAoKSA9PiByb3V0ZXIyLnN1YnNjcmliZSgobmV3U3RhdGUpID0+IHtcbiAgICAgIGlmIChuZXdTdGF0ZS5sb2NhdGlvbiAhPT0gbG9jYXRpb24yKSB7XG4gICAgICAgIHNldExvY2F0aW9uKG5ld1N0YXRlLmxvY2F0aW9uKTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBbcm91dGVyMiwgbG9jYXRpb24yXVxuICApO1xuICBSZWFjdDMudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocm91dGVEaXNjb3ZlcnkgPT09IFwibGF6eVwiIHx8IC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUyBkb2Vzbid0IGtub3cgYWJvdXQgdGhpcyB5ZXRcbiAgICB3aW5kb3cubmF2aWdhdG9yPy5jb25uZWN0aW9uPy5zYXZlRGF0YSA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWdpc3RlckVsZW1lbnQoZWwpIHtcbiAgICAgIGxldCBwYXRoID0gZWwudGFnTmFtZSA9PT0gXCJGT1JNXCIgPyBlbC5nZXRBdHRyaWJ1dGUoXCJhY3Rpb25cIikgOiBlbC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO1xuICAgICAgaWYgKCFwYXRoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxldCBwYXRobmFtZSA9IGVsLnRhZ05hbWUgPT09IFwiQVwiID8gZWwucGF0aG5hbWUgOiBuZXcgVVJMKHBhdGgsIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pLnBhdGhuYW1lO1xuICAgICAgaWYgKCFkaXNjb3ZlcmVkUGF0aHMuaGFzKHBhdGhuYW1lKSkge1xuICAgICAgICBuZXh0UGF0aHMuYWRkKHBhdGhuYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hQYXRjaGVzKCkge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImFbZGF0YS1kaXNjb3Zlcl0sIGZvcm1bZGF0YS1kaXNjb3Zlcl1cIikuZm9yRWFjaChyZWdpc3RlckVsZW1lbnQpO1xuICAgICAgbGV0IHBhdGhzID0gQXJyYXkuZnJvbShuZXh0UGF0aHMua2V5cygpKS5maWx0ZXIoKHBhdGgpID0+IHtcbiAgICAgICAgaWYgKGRpc2NvdmVyZWRQYXRocy5oYXMocGF0aCkpIHtcbiAgICAgICAgICBuZXh0UGF0aHMuZGVsZXRlKHBhdGgpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHBhdGhzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBmZXRjaEFuZEFwcGx5TWFuaWZlc3RQYXRjaGVzKFxuICAgICAgICAgIHBhdGhzLFxuICAgICAgICAgIGNyZWF0ZUZyb21SZWFkYWJsZVN0cmVhbSxcbiAgICAgICAgICBmZXRjaEltcGxlbWVudGF0aW9uXG4gICAgICAgICk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggbWFuaWZlc3QgcGF0Y2hlc1wiLCBlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGRlYm91bmNlZEZldGNoUGF0Y2hlcyA9IGRlYm91bmNlKGZldGNoUGF0Y2hlcywgMTAwKTtcbiAgICBmZXRjaFBhdGNoZXMoKTtcbiAgICBsZXQgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoKSA9PiBkZWJvdW5jZWRGZXRjaFBhdGNoZXMoKSk7XG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHtcbiAgICAgIHN1YnRyZWU6IHRydWUsXG4gICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICBhdHRyaWJ1dGVzOiB0cnVlLFxuICAgICAgYXR0cmlidXRlRmlsdGVyOiBbXCJkYXRhLWRpc2NvdmVyXCIsIFwiaHJlZlwiLCBcImFjdGlvblwiXVxuICAgIH0pO1xuICB9LCBbcm91dGVEaXNjb3ZlcnksIGNyZWF0ZUZyb21SZWFkYWJsZVN0cmVhbSwgZmV0Y2hJbXBsZW1lbnRhdGlvbl0pO1xuICBjb25zdCBmcmFtZXdvcmtDb250ZXh0ID0ge1xuICAgIGZ1dHVyZToge1xuICAgICAgLy8gVGhlc2UgZmxhZ3MgaGF2ZSBubyBydW50aW1lIGltcGFjdCBzbyBjYW4gYWx3YXlzIGJlIGZhbHNlLiAgSWYgd2UgYWRkXG4gICAgICAvLyBmbGFncyB0aGF0IGRyaXZlIHJ1bnRpbWUgYmVoYXZpb3IgdGhleSdsbCBuZWVkIHRvIGJlIHByb3hpZWQgdGhyb3VnaC5cbiAgICAgIHY4X21pZGRsZXdhcmU6IGZhbHNlLFxuICAgICAgdW5zdGFibGVfc3ViUmVzb3VyY2VJbnRlZ3JpdHk6IGZhbHNlXG4gICAgfSxcbiAgICBpc1NwYU1vZGU6IGZhbHNlLFxuICAgIHNzcjogdHJ1ZSxcbiAgICBjcml0aWNhbENzczogXCJcIixcbiAgICBtYW5pZmVzdDoge1xuICAgICAgcm91dGVzOiB7fSxcbiAgICAgIHZlcnNpb246IFwiMVwiLFxuICAgICAgdXJsOiBcIlwiLFxuICAgICAgZW50cnk6IHtcbiAgICAgICAgbW9kdWxlOiBcIlwiLFxuICAgICAgICBpbXBvcnRzOiBbXVxuICAgICAgfVxuICAgIH0sXG4gICAgcm91dGVEaXNjb3Zlcnk6IHsgbW9kZTogXCJsYXp5XCIsIG1hbmlmZXN0UGF0aDogXCIvX19tYW5pZmVzdFwiIH0sXG4gICAgcm91dGVNb2R1bGVzXG4gIH07XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoUlNDUm91dGVyQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogdHJ1ZSB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoUlNDUm91dGVyR2xvYmFsRXJyb3JCb3VuZGFyeSwgeyBsb2NhdGlvbjogbG9jYXRpb24yIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChGcmFtZXdvcmtDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBmcmFtZXdvcmtDb250ZXh0IH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChVTlNUQUJMRV9UcmFuc2l0aW9uRW5hYmxlZFJvdXRlclByb3ZpZGVyLCB7IHJvdXRlcjogcm91dGVyMiwgZmx1c2hTeW5jOiBSZWFjdERPTTIuZmx1c2hTeW5jIH0pKSkpO1xufVxuZnVuY3Rpb24gY3JlYXRlUm91dGVGcm9tU2VydmVyTWFuaWZlc3QobWF0Y2gsIHBheWxvYWQpIHtcbiAgbGV0IGhhc0luaXRpYWxEYXRhID0gcGF5bG9hZCAmJiBtYXRjaC5pZCBpbiBwYXlsb2FkLmxvYWRlckRhdGE7XG4gIGxldCBpbml0aWFsRGF0YSA9IHBheWxvYWQ/LmxvYWRlckRhdGFbbWF0Y2guaWRdO1xuICBsZXQgaGFzSW5pdGlhbEVycm9yID0gcGF5bG9hZD8uZXJyb3JzICYmIG1hdGNoLmlkIGluIHBheWxvYWQuZXJyb3JzO1xuICBsZXQgaW5pdGlhbEVycm9yID0gcGF5bG9hZD8uZXJyb3JzPy5bbWF0Y2guaWRdO1xuICBsZXQgaXNIeWRyYXRpb25SZXF1ZXN0ID0gbWF0Y2guY2xpZW50TG9hZGVyPy5oeWRyYXRlID09PSB0cnVlIHx8ICFtYXRjaC5oYXNMb2FkZXIgfHwgLy8gSWYgdGhlIHJvdXRlIGhhcyBhIGNvbXBvbmVudCBidXQgd2UgZG9uJ3QgaGF2ZSBhbiBlbGVtZW50LCB3ZSBuZWVkIHRvIGhpdFxuICAvLyB0aGUgc2VydmVyIGxvYWRlciBmbG93IHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGUgY2xpZW50IGxvYWRlciBjYWxsc1xuICAvLyBgc2VydmVyTG9hZGVyYCBvciBub3QsIG90aGVyd2lzZSB3ZSdsbCBoYXZlIG5vdGhpbmcgdG8gcmVuZGVyLlxuICBtYXRjaC5oYXNDb21wb25lbnQgJiYgIW1hdGNoLmVsZW1lbnQ7XG4gIGludmFyaWFudCh3aW5kb3cuX19yZWFjdFJvdXRlclJvdXRlTW9kdWxlcyk7XG4gIHBvcHVsYXRlUlNDUm91dGVNb2R1bGVzKHdpbmRvdy5fX3JlYWN0Um91dGVyUm91dGVNb2R1bGVzLCBtYXRjaCk7XG4gIGxldCBkYXRhUm91dGUgPSB7XG4gICAgaWQ6IG1hdGNoLmlkLFxuICAgIGVsZW1lbnQ6IG1hdGNoLmVsZW1lbnQsXG4gICAgZXJyb3JFbGVtZW50OiBtYXRjaC5lcnJvckVsZW1lbnQsXG4gICAgaGFuZGxlOiBtYXRjaC5oYW5kbGUsXG4gICAgaGFzRXJyb3JCb3VuZGFyeTogbWF0Y2guaGFzRXJyb3JCb3VuZGFyeSxcbiAgICBoeWRyYXRlRmFsbGJhY2tFbGVtZW50OiBtYXRjaC5oeWRyYXRlRmFsbGJhY2tFbGVtZW50LFxuICAgIGluZGV4OiBtYXRjaC5pbmRleCxcbiAgICBsb2FkZXI6IG1hdGNoLmNsaWVudExvYWRlciA/IGFzeW5jIChhcmdzLCBzaW5nbGVGZXRjaCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IG1hdGNoLmNsaWVudExvYWRlcih7XG4gICAgICAgICAgLi4uYXJncyxcbiAgICAgICAgICBzZXJ2ZXJMb2FkZXI6ICgpID0+IHtcbiAgICAgICAgICAgIHByZXZlbnRJbnZhbGlkU2VydmVySGFuZGxlckNhbGwoXG4gICAgICAgICAgICAgIFwibG9hZGVyXCIsXG4gICAgICAgICAgICAgIG1hdGNoLmlkLFxuICAgICAgICAgICAgICBtYXRjaC5oYXNMb2FkZXJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoaXNIeWRyYXRpb25SZXF1ZXN0KSB7XG4gICAgICAgICAgICAgIGlmIChoYXNJbml0aWFsRGF0YSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbml0aWFsRGF0YTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoaGFzSW5pdGlhbEVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgaW5pdGlhbEVycm9yO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2FsbFNpbmdsZUZldGNoKHNpbmdsZUZldGNoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaXNIeWRyYXRpb25SZXF1ZXN0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSA6IChcbiAgICAgIC8vIFdlIGFsd2F5cyBtYWtlIHRoZSBjYWxsIGluIHRoaXMgUlNDIHdvcmxkIHNpbmNlIGV2ZW4gaWYgd2UgZG9uJ3RcbiAgICAgIC8vIGhhdmUgYSBgbG9hZGVyYCB3ZSBtYXkgbmVlZCB0byBnZXQgdGhlIGBlbGVtZW50YCBpbXBsZW1lbnRhdGlvblxuICAgICAgKF8sIHNpbmdsZUZldGNoKSA9PiBjYWxsU2luZ2xlRmV0Y2goc2luZ2xlRmV0Y2gpXG4gICAgKSxcbiAgICBhY3Rpb246IG1hdGNoLmNsaWVudEFjdGlvbiA/IChhcmdzLCBzaW5nbGVGZXRjaCkgPT4gbWF0Y2guY2xpZW50QWN0aW9uKHtcbiAgICAgIC4uLmFyZ3MsXG4gICAgICBzZXJ2ZXJBY3Rpb246IGFzeW5jICgpID0+IHtcbiAgICAgICAgcHJldmVudEludmFsaWRTZXJ2ZXJIYW5kbGVyQ2FsbChcbiAgICAgICAgICBcImFjdGlvblwiLFxuICAgICAgICAgIG1hdGNoLmlkLFxuICAgICAgICAgIG1hdGNoLmhhc0xvYWRlclxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gYXdhaXQgY2FsbFNpbmdsZUZldGNoKHNpbmdsZUZldGNoKTtcbiAgICAgIH1cbiAgICB9KSA6IG1hdGNoLmhhc0FjdGlvbiA/IChfLCBzaW5nbGVGZXRjaCkgPT4gY2FsbFNpbmdsZUZldGNoKHNpbmdsZUZldGNoKSA6ICgpID0+IHtcbiAgICAgIHRocm93IG5vQWN0aW9uRGVmaW5lZEVycm9yKFwiYWN0aW9uXCIsIG1hdGNoLmlkKTtcbiAgICB9LFxuICAgIHBhdGg6IG1hdGNoLnBhdGgsXG4gICAgc2hvdWxkUmV2YWxpZGF0ZTogbWF0Y2guc2hvdWxkUmV2YWxpZGF0ZSxcbiAgICAvLyBXZSBhbHdheXMgaGF2ZSBhIFwibG9hZGVyXCIgaW4gdGhpcyBSU0Mgd29ybGQgc2luY2UgZXZlbiBpZiB3ZSBkb24ndFxuICAgIC8vIGhhdmUgYSBgbG9hZGVyYCB3ZSBtYXkgbmVlZCB0byBnZXQgdGhlIGBlbGVtZW50YCBpbXBsZW1lbnRhdGlvblxuICAgIGhhc0xvYWRlcjogdHJ1ZSxcbiAgICBoYXNDbGllbnRMb2FkZXI6IG1hdGNoLmNsaWVudExvYWRlciAhPSBudWxsLFxuICAgIGhhc0FjdGlvbjogbWF0Y2guaGFzQWN0aW9uLFxuICAgIGhhc0NsaWVudEFjdGlvbjogbWF0Y2guY2xpZW50QWN0aW9uICE9IG51bGwsXG4gICAgaGFzU2hvdWxkUmV2YWxpZGF0ZTogbWF0Y2guc2hvdWxkUmV2YWxpZGF0ZSAhPSBudWxsXG4gIH07XG4gIGlmICh0eXBlb2YgZGF0YVJvdXRlLmxvYWRlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgZGF0YVJvdXRlLmxvYWRlci5oeWRyYXRlID0gc2hvdWxkSHlkcmF0ZVJvdXRlTG9hZGVyKFxuICAgICAgbWF0Y2guaWQsXG4gICAgICBtYXRjaC5jbGllbnRMb2FkZXIsXG4gICAgICBtYXRjaC5oYXNMb2FkZXIsXG4gICAgICBmYWxzZVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGRhdGFSb3V0ZTtcbn1cbmZ1bmN0aW9uIGNhbGxTaW5nbGVGZXRjaChzaW5nbGVGZXRjaCkge1xuICBpbnZhcmlhbnQodHlwZW9mIHNpbmdsZUZldGNoID09PSBcImZ1bmN0aW9uXCIsIFwiSW52YWxpZCBzaW5nbGVGZXRjaCBwYXJhbWV0ZXJcIik7XG4gIHJldHVybiBzaW5nbGVGZXRjaCgpO1xufVxuZnVuY3Rpb24gcHJldmVudEludmFsaWRTZXJ2ZXJIYW5kbGVyQ2FsbCh0eXBlLCByb3V0ZUlkLCBoYXNIYW5kbGVyKSB7XG4gIGlmICghaGFzSGFuZGxlcikge1xuICAgIGxldCBmbiA9IHR5cGUgPT09IFwiYWN0aW9uXCIgPyBcInNlcnZlckFjdGlvbigpXCIgOiBcInNlcnZlckxvYWRlcigpXCI7XG4gICAgbGV0IG1zZyA9IGBZb3UgYXJlIHRyeWluZyB0byBjYWxsICR7Zm59IG9uIGEgcm91dGUgdGhhdCBkb2VzIG5vdCBoYXZlIGEgc2VydmVyICR7dHlwZX0gKHJvdXRlSWQ6IFwiJHtyb3V0ZUlkfVwiKWA7XG4gICAgY29uc29sZS5lcnJvcihtc2cpO1xuICAgIHRocm93IG5ldyBFcnJvclJlc3BvbnNlSW1wbCg0MDAsIFwiQmFkIFJlcXVlc3RcIiwgbmV3IEVycm9yKG1zZyksIHRydWUpO1xuICB9XG59XG52YXIgbmV4dFBhdGhzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbnZhciBkaXNjb3ZlcmVkUGF0aHNNYXhTaXplID0gMWUzO1xudmFyIGRpc2NvdmVyZWRQYXRocyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG52YXIgVVJMX0xJTUlUID0gNzY4MDtcbmZ1bmN0aW9uIGdldE1hbmlmZXN0VXJsKHBhdGhzKSB7XG4gIGlmIChwYXRocy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAocGF0aHMubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIG5ldyBVUkwoYCR7cGF0aHNbMF19Lm1hbmlmZXN0YCwgd2luZG93LmxvY2F0aW9uLm9yaWdpbik7XG4gIH1cbiAgY29uc3QgZ2xvYmFsVmFyID0gd2luZG93O1xuICBsZXQgYmFzZW5hbWUgPSAoZ2xvYmFsVmFyLl9fcmVhY3RSb3V0ZXJEYXRhUm91dGVyLmJhc2VuYW1lID8/IFwiXCIpLnJlcGxhY2UoXG4gICAgL15cXC98XFwvJC9nLFxuICAgIFwiXCJcbiAgKTtcbiAgbGV0IHVybCA9IG5ldyBVUkwoYCR7YmFzZW5hbWV9Ly5tYW5pZmVzdGAsIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pO1xuICB1cmwuc2VhcmNoUGFyYW1zLnNldChcInBhdGhzXCIsIHBhdGhzLnNvcnQoKS5qb2luKFwiLFwiKSk7XG4gIHJldHVybiB1cmw7XG59XG5hc3luYyBmdW5jdGlvbiBmZXRjaEFuZEFwcGx5TWFuaWZlc3RQYXRjaGVzKHBhdGhzLCBjcmVhdGVGcm9tUmVhZGFibGVTdHJlYW0sIGZldGNoSW1wbGVtZW50YXRpb24sIHNpZ25hbCkge1xuICBsZXQgdXJsID0gZ2V0TWFuaWZlc3RVcmwocGF0aHMpO1xuICBpZiAodXJsID09IG51bGwpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHVybC50b1N0cmluZygpLmxlbmd0aCA+IFVSTF9MSU1JVCkge1xuICAgIG5leHRQYXRocy5jbGVhcigpO1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaEltcGxlbWVudGF0aW9uKG5ldyBSZXF1ZXN0KHVybCwgeyBzaWduYWwgfSkpO1xuICBpZiAoIXJlc3BvbnNlLmJvZHkgfHwgcmVzcG9uc2Uuc3RhdHVzIDwgMjAwIHx8IHJlc3BvbnNlLnN0YXR1cyA+PSAzMDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZmV0Y2ggbmV3IHJvdXRlIG1hdGNoZXMgZnJvbSB0aGUgc2VydmVyXCIpO1xuICB9XG4gIGxldCBwYXlsb2FkID0gYXdhaXQgY3JlYXRlRnJvbVJlYWRhYmxlU3RyZWFtKHJlc3BvbnNlLmJvZHksIHtcbiAgICB0ZW1wb3JhcnlSZWZlcmVuY2VzOiB2b2lkIDBcbiAgfSk7XG4gIGlmIChwYXlsb2FkLnR5cGUgIT09IFwibWFuaWZlc3RcIikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBwYXRjaCByb3V0ZXNcIik7XG4gIH1cbiAgcGF0aHMuZm9yRWFjaCgocCkgPT4gYWRkVG9GaWZvUXVldWUocCwgZGlzY292ZXJlZFBhdGhzKSk7XG4gIHBheWxvYWQucGF0Y2hlcy5mb3JFYWNoKChwKSA9PiB7XG4gICAgd2luZG93Ll9fcmVhY3RSb3V0ZXJEYXRhUm91dGVyLnBhdGNoUm91dGVzKFxuICAgICAgcC5wYXJlbnRJZCA/PyBudWxsLFxuICAgICAgW2NyZWF0ZVJvdXRlRnJvbVNlcnZlck1hbmlmZXN0KHApXVxuICAgICk7XG4gIH0pO1xufVxuZnVuY3Rpb24gYWRkVG9GaWZvUXVldWUocGF0aCwgcXVldWUpIHtcbiAgaWYgKHF1ZXVlLnNpemUgPj0gZGlzY292ZXJlZFBhdGhzTWF4U2l6ZSkge1xuICAgIGxldCBmaXJzdCA9IHF1ZXVlLnZhbHVlcygpLm5leHQoKS52YWx1ZTtcbiAgICBxdWV1ZS5kZWxldGUoZmlyc3QpO1xuICB9XG4gIHF1ZXVlLmFkZChwYXRoKTtcbn1cbmZ1bmN0aW9uIGRlYm91bmNlKGNhbGxiYWNrLCB3YWl0KSB7XG4gIGxldCB0aW1lb3V0SWQ7XG4gIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICB0aW1lb3V0SWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiBjYWxsYmFjayguLi5hcmdzKSwgd2FpdCk7XG4gIH07XG59XG5mdW5jdGlvbiBpc0V4dGVybmFsTG9jYXRpb24obG9jYXRpb24yKSB7XG4gIGNvbnN0IG5ld0xvY2F0aW9uID0gbmV3IFVSTChsb2NhdGlvbjIsIHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcbiAgcmV0dXJuIG5ld0xvY2F0aW9uLm9yaWdpbiAhPT0gd2luZG93LmxvY2F0aW9uLm9yaWdpbjtcbn1cblxuLy8gbGliL3JzYy9odG1sLXN0cmVhbS9icm93c2VyLnRzXG5mdW5jdGlvbiBnZXRSU0NTdHJlYW0oKSB7XG4gIGxldCBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG4gIGxldCBzdHJlYW1Db250cm9sbGVyID0gbnVsbDtcbiAgbGV0IHJzY1N0cmVhbSA9IG5ldyBSZWFkYWJsZVN0cmVhbSh7XG4gICAgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbGV0IGhhbmRsZUNodW5rID0gKGNodW5rKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgY2h1bmsgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoZW5jb2Rlci5lbmNvZGUoY2h1bmspKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgd2luZG93Ll9fRkxJR0hUX0RBVEEgfHwgKHdpbmRvdy5fX0ZMSUdIVF9EQVRBID0gW10pO1xuICAgICAgd2luZG93Ll9fRkxJR0hUX0RBVEEuZm9yRWFjaChoYW5kbGVDaHVuayk7XG4gICAgICB3aW5kb3cuX19GTElHSFRfREFUQS5wdXNoID0gKGNodW5rKSA9PiB7XG4gICAgICAgIGhhbmRsZUNodW5rKGNodW5rKTtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9O1xuICAgICAgc3RyZWFtQ29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgfVxuICB9KTtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImxvYWRpbmdcIikge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcbiAgICAgIHN0cmVhbUNvbnRyb2xsZXI/LmNsb3NlKCk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgc3RyZWFtQ29udHJvbGxlcj8uY2xvc2UoKTtcbiAgfVxuICByZXR1cm4gcnNjU3RyZWFtO1xufVxuZXhwb3J0IHtcbiAgSHlkcmF0ZWRSb3V0ZXIsXG4gIFJvdXRlclByb3ZpZGVyMiBhcyBSb3V0ZXJQcm92aWRlcixcbiAgUlNDSHlkcmF0ZWRSb3V0ZXIgYXMgdW5zdGFibGVfUlNDSHlkcmF0ZWRSb3V0ZXIsXG4gIGNyZWF0ZUNhbGxTZXJ2ZXIgYXMgdW5zdGFibGVfY3JlYXRlQ2FsbFNlcnZlcixcbiAgZ2V0UlNDU3RyZWFtIGFzIHVuc3RhYmxlX2dldFJTQ1N0cmVhbVxufTtcbiIsCiAgICAiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgY29tcG9zZUNsYXNzZXMgZnJvbSAnQG11aS91dGlscy9jb21wb3NlQ2xhc3Nlcyc7XG5pbXBvcnQgeyBzdHlsZWQsIGludGVybmFsX2NyZWF0ZUV4dGVuZFN4UHJvcCB9IGZyb20gXCIuLi96ZXJvLXN0eWxlZC9pbmRleC5qc1wiO1xuaW1wb3J0IG1lbW9UaGVtZSBmcm9tIFwiLi4vdXRpbHMvbWVtb1RoZW1lLmpzXCI7XG5pbXBvcnQgeyB1c2VEZWZhdWx0UHJvcHMgfSBmcm9tIFwiLi4vRGVmYXVsdFByb3BzUHJvdmlkZXIvaW5kZXguanNcIjtcbmltcG9ydCBjYXBpdGFsaXplIGZyb20gXCIuLi91dGlscy9jYXBpdGFsaXplLmpzXCI7XG5pbXBvcnQgY3JlYXRlU2ltcGxlUGFsZXR0ZVZhbHVlRmlsdGVyIGZyb20gXCIuLi91dGlscy9jcmVhdGVTaW1wbGVQYWxldHRlVmFsdWVGaWx0ZXIuanNcIjtcbmltcG9ydCB7IGdldFR5cG9ncmFwaHlVdGlsaXR5Q2xhc3MgfSBmcm9tIFwiLi90eXBvZ3JhcGh5Q2xhc3Nlcy5qc1wiO1xuaW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmNvbnN0IHY2Q29sb3JzID0ge1xuICBwcmltYXJ5OiB0cnVlLFxuICBzZWNvbmRhcnk6IHRydWUsXG4gIGVycm9yOiB0cnVlLFxuICBpbmZvOiB0cnVlLFxuICBzdWNjZXNzOiB0cnVlLFxuICB3YXJuaW5nOiB0cnVlLFxuICB0ZXh0UHJpbWFyeTogdHJ1ZSxcbiAgdGV4dFNlY29uZGFyeTogdHJ1ZSxcbiAgdGV4dERpc2FibGVkOiB0cnVlXG59O1xuY29uc3QgZXh0ZW5kU3hQcm9wID0gaW50ZXJuYWxfY3JlYXRlRXh0ZW5kU3hQcm9wKCk7XG5jb25zdCB1c2VVdGlsaXR5Q2xhc3NlcyA9IG93bmVyU3RhdGUgPT4ge1xuICBjb25zdCB7XG4gICAgYWxpZ24sXG4gICAgZ3V0dGVyQm90dG9tLFxuICAgIG5vV3JhcCxcbiAgICBwYXJhZ3JhcGgsXG4gICAgdmFyaWFudCxcbiAgICBjbGFzc2VzXG4gIH0gPSBvd25lclN0YXRlO1xuICBjb25zdCBzbG90cyA9IHtcbiAgICByb290OiBbJ3Jvb3QnLCB2YXJpYW50LCBvd25lclN0YXRlLmFsaWduICE9PSAnaW5oZXJpdCcgJiYgYGFsaWduJHtjYXBpdGFsaXplKGFsaWduKX1gLCBndXR0ZXJCb3R0b20gJiYgJ2d1dHRlckJvdHRvbScsIG5vV3JhcCAmJiAnbm9XcmFwJywgcGFyYWdyYXBoICYmICdwYXJhZ3JhcGgnXVxuICB9O1xuICByZXR1cm4gY29tcG9zZUNsYXNzZXMoc2xvdHMsIGdldFR5cG9ncmFwaHlVdGlsaXR5Q2xhc3MsIGNsYXNzZXMpO1xufTtcbmV4cG9ydCBjb25zdCBUeXBvZ3JhcGh5Um9vdCA9IHN0eWxlZCgnc3BhbicsIHtcbiAgbmFtZTogJ011aVR5cG9ncmFwaHknLFxuICBzbG90OiAnUm9vdCcsXG4gIG92ZXJyaWRlc1Jlc29sdmVyOiAocHJvcHMsIHN0eWxlcykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIG93bmVyU3RhdGVcbiAgICB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIFtzdHlsZXMucm9vdCwgb3duZXJTdGF0ZS52YXJpYW50ICYmIHN0eWxlc1tvd25lclN0YXRlLnZhcmlhbnRdLCBvd25lclN0YXRlLmFsaWduICE9PSAnaW5oZXJpdCcgJiYgc3R5bGVzW2BhbGlnbiR7Y2FwaXRhbGl6ZShvd25lclN0YXRlLmFsaWduKX1gXSwgb3duZXJTdGF0ZS5ub1dyYXAgJiYgc3R5bGVzLm5vV3JhcCwgb3duZXJTdGF0ZS5ndXR0ZXJCb3R0b20gJiYgc3R5bGVzLmd1dHRlckJvdHRvbSwgb3duZXJTdGF0ZS5wYXJhZ3JhcGggJiYgc3R5bGVzLnBhcmFncmFwaF07XG4gIH1cbn0pKG1lbW9UaGVtZSgoe1xuICB0aGVtZVxufSkgPT4gKHtcbiAgbWFyZ2luOiAwLFxuICB2YXJpYW50czogW3tcbiAgICBwcm9wczoge1xuICAgICAgdmFyaWFudDogJ2luaGVyaXQnXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgLy8gU29tZSBlbGVtZW50cywgbGlrZSA8YnV0dG9uPiBvbiBDaHJvbWUgaGF2ZSBkZWZhdWx0IGZvbnQgdGhhdCBkb2Vzbid0IGluaGVyaXQsIHJlc2V0IHRoaXMuXG4gICAgICBmb250OiAnaW5oZXJpdCcsXG4gICAgICBsaW5lSGVpZ2h0OiAnaW5oZXJpdCcsXG4gICAgICBsZXR0ZXJTcGFjaW5nOiAnaW5oZXJpdCdcbiAgICB9XG4gIH0sIC4uLk9iamVjdC5lbnRyaWVzKHRoZW1lLnR5cG9ncmFwaHkpLmZpbHRlcigoW3ZhcmlhbnQsIHZhbHVlXSkgPT4gdmFyaWFudCAhPT0gJ2luaGVyaXQnICYmIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpLm1hcCgoW3ZhcmlhbnQsIHZhbHVlXSkgPT4gKHtcbiAgICBwcm9wczoge1xuICAgICAgdmFyaWFudFxuICAgIH0sXG4gICAgc3R5bGU6IHZhbHVlXG4gIH0pKSwgLi4uT2JqZWN0LmVudHJpZXModGhlbWUucGFsZXR0ZSkuZmlsdGVyKGNyZWF0ZVNpbXBsZVBhbGV0dGVWYWx1ZUZpbHRlcigpKS5tYXAoKFtjb2xvcl0pID0+ICh7XG4gICAgcHJvcHM6IHtcbiAgICAgIGNvbG9yXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgY29sb3I6ICh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlW2NvbG9yXS5tYWluXG4gICAgfVxuICB9KSksIC4uLk9iamVjdC5lbnRyaWVzKHRoZW1lLnBhbGV0dGU/LnRleHQgfHwge30pLmZpbHRlcigoWywgdmFsdWVdKSA9PiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKS5tYXAoKFtjb2xvcl0pID0+ICh7XG4gICAgcHJvcHM6IHtcbiAgICAgIGNvbG9yOiBgdGV4dCR7Y2FwaXRhbGl6ZShjb2xvcil9YFxuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIGNvbG9yOiAodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZS50ZXh0W2NvbG9yXVxuICAgIH1cbiAgfSkpLCB7XG4gICAgcHJvcHM6ICh7XG4gICAgICBvd25lclN0YXRlXG4gICAgfSkgPT4gb3duZXJTdGF0ZS5hbGlnbiAhPT0gJ2luaGVyaXQnLFxuICAgIHN0eWxlOiB7XG4gICAgICB0ZXh0QWxpZ246ICd2YXIoLS1UeXBvZ3JhcGh5LXRleHRBbGlnbiknXG4gICAgfVxuICB9LCB7XG4gICAgcHJvcHM6ICh7XG4gICAgICBvd25lclN0YXRlXG4gICAgfSkgPT4gb3duZXJTdGF0ZS5ub1dyYXAsXG4gICAgc3R5bGU6IHtcbiAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgIHRleHRPdmVyZmxvdzogJ2VsbGlwc2lzJyxcbiAgICAgIHdoaXRlU3BhY2U6ICdub3dyYXAnXG4gICAgfVxuICB9LCB7XG4gICAgcHJvcHM6ICh7XG4gICAgICBvd25lclN0YXRlXG4gICAgfSkgPT4gb3duZXJTdGF0ZS5ndXR0ZXJCb3R0b20sXG4gICAgc3R5bGU6IHtcbiAgICAgIG1hcmdpbkJvdHRvbTogJzAuMzVlbSdcbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczogKHtcbiAgICAgIG93bmVyU3RhdGVcbiAgICB9KSA9PiBvd25lclN0YXRlLnBhcmFncmFwaCxcbiAgICBzdHlsZToge1xuICAgICAgbWFyZ2luQm90dG9tOiAxNlxuICAgIH1cbiAgfV1cbn0pKSk7XG5jb25zdCBkZWZhdWx0VmFyaWFudE1hcHBpbmcgPSB7XG4gIGgxOiAnaDEnLFxuICBoMjogJ2gyJyxcbiAgaDM6ICdoMycsXG4gIGg0OiAnaDQnLFxuICBoNTogJ2g1JyxcbiAgaDY6ICdoNicsXG4gIHN1YnRpdGxlMTogJ2g2JyxcbiAgc3VidGl0bGUyOiAnaDYnLFxuICBib2R5MTogJ3AnLFxuICBib2R5MjogJ3AnLFxuICBpbmhlcml0OiAncCdcbn07XG5jb25zdCBUeXBvZ3JhcGh5ID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gVHlwb2dyYXBoeShpblByb3BzLCByZWYpIHtcbiAgY29uc3Qge1xuICAgIGNvbG9yLFxuICAgIC4uLnRoZW1lUHJvcHNcbiAgfSA9IHVzZURlZmF1bHRQcm9wcyh7XG4gICAgcHJvcHM6IGluUHJvcHMsXG4gICAgbmFtZTogJ011aVR5cG9ncmFwaHknXG4gIH0pO1xuICBjb25zdCBpc1N4Q29sb3IgPSAhdjZDb2xvcnNbY29sb3JdO1xuICAvLyBUT0RPOiBSZW1vdmUgYGV4dGVuZFN4UHJvcGAgaW4gdjdcbiAgY29uc3QgcHJvcHMgPSBleHRlbmRTeFByb3Aoe1xuICAgIC4uLnRoZW1lUHJvcHMsXG4gICAgLi4uKGlzU3hDb2xvciAmJiB7XG4gICAgICBjb2xvclxuICAgIH0pXG4gIH0pO1xuICBjb25zdCB7XG4gICAgYWxpZ24gPSAnaW5oZXJpdCcsXG4gICAgY2xhc3NOYW1lLFxuICAgIGNvbXBvbmVudCxcbiAgICBndXR0ZXJCb3R0b20gPSBmYWxzZSxcbiAgICBub1dyYXAgPSBmYWxzZSxcbiAgICBwYXJhZ3JhcGggPSBmYWxzZSxcbiAgICB2YXJpYW50ID0gJ2JvZHkxJyxcbiAgICB2YXJpYW50TWFwcGluZyA9IGRlZmF1bHRWYXJpYW50TWFwcGluZyxcbiAgICAuLi5vdGhlclxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IG93bmVyU3RhdGUgPSB7XG4gICAgLi4ucHJvcHMsXG4gICAgYWxpZ24sXG4gICAgY29sb3IsXG4gICAgY2xhc3NOYW1lLFxuICAgIGNvbXBvbmVudCxcbiAgICBndXR0ZXJCb3R0b20sXG4gICAgbm9XcmFwLFxuICAgIHBhcmFncmFwaCxcbiAgICB2YXJpYW50LFxuICAgIHZhcmlhbnRNYXBwaW5nXG4gIH07XG4gIGNvbnN0IENvbXBvbmVudCA9IGNvbXBvbmVudCB8fCAocGFyYWdyYXBoID8gJ3AnIDogdmFyaWFudE1hcHBpbmdbdmFyaWFudF0gfHwgZGVmYXVsdFZhcmlhbnRNYXBwaW5nW3ZhcmlhbnRdKSB8fCAnc3Bhbic7XG4gIGNvbnN0IGNsYXNzZXMgPSB1c2VVdGlsaXR5Q2xhc3Nlcyhvd25lclN0YXRlKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KFR5cG9ncmFwaHlSb290LCB7XG4gICAgYXM6IENvbXBvbmVudCxcbiAgICByZWY6IHJlZixcbiAgICBjbGFzc05hbWU6IGNsc3goY2xhc3Nlcy5yb290LCBjbGFzc05hbWUpLFxuICAgIC4uLm90aGVyLFxuICAgIG93bmVyU3RhdGU6IG93bmVyU3RhdGUsXG4gICAgc3R5bGU6IHtcbiAgICAgIC4uLihhbGlnbiAhPT0gJ2luaGVyaXQnICYmIHtcbiAgICAgICAgJy0tVHlwb2dyYXBoeS10ZXh0QWxpZ24nOiBhbGlnblxuICAgICAgfSksXG4gICAgICAuLi5vdGhlci5zdHlsZVxuICAgIH1cbiAgfSk7XG59KTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFR5cG9ncmFwaHkucHJvcFR5cGVzIC8qIHJlbW92ZS1wcm9wdHlwZXMgKi8gPSB7XG4gIC8vIOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBXYXJuaW5nIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuICAvLyDilIIgVGhlc2UgUHJvcFR5cGVzIGFyZSBnZW5lcmF0ZWQgZnJvbSB0aGUgVHlwZVNjcmlwdCB0eXBlIGRlZmluaXRpb25zLiDilIJcbiAgLy8g4pSCICAgIFRvIHVwZGF0ZSB0aGVtLCBlZGl0IHRoZSBkLnRzIGZpbGUgYW5kIHJ1biBgcG5wbSBwcm9wdHlwZXNgLiAgICAg4pSCXG4gIC8vIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmFxuICAvKipcbiAgICogU2V0IHRoZSB0ZXh0LWFsaWduIG9uIHRoZSBjb21wb25lbnQuXG4gICAqIEBkZWZhdWx0ICdpbmhlcml0J1xuICAgKi9cbiAgYWxpZ246IFByb3BUeXBlcy5vbmVPZihbJ2NlbnRlcicsICdpbmhlcml0JywgJ2p1c3RpZnknLCAnbGVmdCcsICdyaWdodCddKSxcbiAgLyoqXG4gICAqIFRoZSBjb250ZW50IG9mIHRoZSBjb21wb25lbnQuXG4gICAqL1xuICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUsXG4gIC8qKlxuICAgKiBPdmVycmlkZSBvciBleHRlbmQgdGhlIHN0eWxlcyBhcHBsaWVkIHRvIHRoZSBjb21wb25lbnQuXG4gICAqL1xuICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAvKipcbiAgICogVGhlIGNvbG9yIG9mIHRoZSBjb21wb25lbnQuXG4gICAqIEl0IHN1cHBvcnRzIGJvdGggZGVmYXVsdCBhbmQgY3VzdG9tIHRoZW1lIGNvbG9ycywgd2hpY2ggY2FuIGJlIGFkZGVkIGFzIHNob3duIGluIHRoZVxuICAgKiBbcGFsZXR0ZSBjdXN0b21pemF0aW9uIGd1aWRlXShodHRwczovL211aS5jb20vbWF0ZXJpYWwtdWkvY3VzdG9taXphdGlvbi9wYWxldHRlLyNjdXN0b20tY29sb3JzKS5cbiAgICovXG4gIGNvbG9yOiBQcm9wVHlwZXMgLyogQHR5cGVzY3JpcHQtdG8tcHJvcHR5cGVzLWlnbm9yZSAqLy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ3ByaW1hcnknLCAnc2Vjb25kYXJ5JywgJ3N1Y2Nlc3MnLCAnZXJyb3InLCAnaW5mbycsICd3YXJuaW5nJywgJ3RleHRQcmltYXJ5JywgJ3RleHRTZWNvbmRhcnknLCAndGV4dERpc2FibGVkJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gIC8qKlxuICAgKiBUaGUgY29tcG9uZW50IHVzZWQgZm9yIHRoZSByb290IG5vZGUuXG4gICAqIEVpdGhlciBhIHN0cmluZyB0byB1c2UgYSBIVE1MIGVsZW1lbnQgb3IgYSBjb21wb25lbnQuXG4gICAqL1xuICBjb21wb25lbnQ6IFByb3BUeXBlcy5lbGVtZW50VHlwZSxcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIHRleHQgd2lsbCBoYXZlIGEgYm90dG9tIG1hcmdpbi5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGd1dHRlckJvdHRvbTogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSB0ZXh0IHdpbGwgbm90IHdyYXAsIGJ1dCBpbnN0ZWFkIHdpbGwgdHJ1bmNhdGUgd2l0aCBhIHRleHQgb3ZlcmZsb3cgZWxsaXBzaXMuXG4gICAqXG4gICAqIE5vdGUgdGhhdCB0ZXh0IG92ZXJmbG93IGNhbiBvbmx5IGhhcHBlbiB3aXRoIGJsb2NrIG9yIGlubGluZS1ibG9jayBsZXZlbCBlbGVtZW50c1xuICAgKiAodGhlIGVsZW1lbnQgbmVlZHMgdG8gaGF2ZSBhIHdpZHRoIGluIG9yZGVyIHRvIG92ZXJmbG93KS5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIG5vV3JhcDogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBlbGVtZW50IHdpbGwgYmUgYSBwYXJhZ3JhcGggZWxlbWVudC5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBgY29tcG9uZW50YCBwcm9wIGluc3RlYWQuIFRoaXMgcHJvcCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgbWFqb3IgcmVsZWFzZS4gU2VlIFtNaWdyYXRpbmcgZnJvbSBkZXByZWNhdGVkIEFQSXNdKGh0dHBzOi8vbXVpLmNvbS9tYXRlcmlhbC11aS9taWdyYXRpb24vbWlncmF0aW5nLWZyb20tZGVwcmVjYXRlZC1hcGlzLykgZm9yIG1vcmUgZGV0YWlscy5cbiAgICovXG4gIHBhcmFncmFwaDogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBzdHlsZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgLyoqXG4gICAqIFRoZSBzeXN0ZW0gcHJvcCB0aGF0IGFsbG93cyBkZWZpbmluZyBzeXN0ZW0gb3ZlcnJpZGVzIGFzIHdlbGwgYXMgYWRkaXRpb25hbCBDU1Mgc3R5bGVzLlxuICAgKi9cbiAgc3g6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0LCBQcm9wVHlwZXMuYm9vbF0pKSwgUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3RdKSxcbiAgLyoqXG4gICAqIEFwcGxpZXMgdGhlIHRoZW1lIHR5cG9ncmFwaHkgc3R5bGVzLlxuICAgKiBAZGVmYXVsdCAnYm9keTEnXG4gICAqL1xuICB2YXJpYW50OiBQcm9wVHlwZXMgLyogQHR5cGVzY3JpcHQtdG8tcHJvcHR5cGVzLWlnbm9yZSAqLy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ2JvZHkxJywgJ2JvZHkyJywgJ2J1dHRvbicsICdjYXB0aW9uJywgJ2gxJywgJ2gyJywgJ2gzJywgJ2g0JywgJ2g1JywgJ2g2JywgJ2luaGVyaXQnLCAnb3ZlcmxpbmUnLCAnc3VidGl0bGUxJywgJ3N1YnRpdGxlMiddKSwgUHJvcFR5cGVzLnN0cmluZ10pLFxuICAvKipcbiAgICogVGhlIGNvbXBvbmVudCBtYXBzIHRoZSB2YXJpYW50IHByb3AgdG8gYSByYW5nZSBvZiBkaWZmZXJlbnQgSFRNTCBlbGVtZW50IHR5cGVzLlxuICAgKiBGb3IgaW5zdGFuY2UsIHN1YnRpdGxlMSB0byBgPGg2PmAuXG4gICAqIElmIHlvdSB3aXNoIHRvIGNoYW5nZSB0aGF0IG1hcHBpbmcsIHlvdSBjYW4gcHJvdmlkZSB5b3VyIG93bi5cbiAgICogQWx0ZXJuYXRpdmVseSwgeW91IGNhbiB1c2UgdGhlIGBjb21wb25lbnRgIHByb3AuXG4gICAqIEBkZWZhdWx0IHtcbiAgICogICBoMTogJ2gxJyxcbiAgICogICBoMjogJ2gyJyxcbiAgICogICBoMzogJ2gzJyxcbiAgICogICBoNDogJ2g0JyxcbiAgICogICBoNTogJ2g1JyxcbiAgICogICBoNjogJ2g2JyxcbiAgICogICBzdWJ0aXRsZTE6ICdoNicsXG4gICAqICAgc3VidGl0bGUyOiAnaDYnLFxuICAgKiAgIGJvZHkxOiAncCcsXG4gICAqICAgYm9keTI6ICdwJyxcbiAgICogICBpbmhlcml0OiAncCcsXG4gICAqIH1cbiAgICovXG4gIHZhcmlhbnRNYXBwaW5nOiBQcm9wVHlwZXMgLyogQHR5cGVzY3JpcHQtdG8tcHJvcHR5cGVzLWlnbm9yZSAqLy5vYmplY3Rcbn0gOiB2b2lkIDA7XG5leHBvcnQgZGVmYXVsdCBUeXBvZ3JhcGh5OyIsCiAgICAiZnVuY3Rpb24gcihlKXt2YXIgdCxmLG49XCJcIjtpZihcInN0cmluZ1wiPT10eXBlb2YgZXx8XCJudW1iZXJcIj09dHlwZW9mIGUpbis9ZTtlbHNlIGlmKFwib2JqZWN0XCI9PXR5cGVvZiBlKWlmKEFycmF5LmlzQXJyYXkoZSkpe3ZhciBvPWUubGVuZ3RoO2Zvcih0PTA7dDxvO3QrKyllW3RdJiYoZj1yKGVbdF0pKSYmKG4mJihuKz1cIiBcIiksbis9Zil9ZWxzZSBmb3IoZiBpbiBlKWVbZl0mJihuJiYobis9XCIgXCIpLG4rPWYpO3JldHVybiBufWV4cG9ydCBmdW5jdGlvbiBjbHN4KCl7Zm9yKHZhciBlLHQsZj0wLG49XCJcIixvPWFyZ3VtZW50cy5sZW5ndGg7ZjxvO2YrKykoZT1hcmd1bWVudHNbZl0pJiYodD1yKGUpKSYmKG4mJihuKz1cIiBcIiksbis9dCk7cmV0dXJuIG59ZXhwb3J0IGRlZmF1bHQgY2xzeDsiLAogICAgIi8qIGVzbGludCBuby1yZXN0cmljdGVkLXN5bnRheDogMCwgcHJlZmVyLXRlbXBsYXRlOiAwLCBndWFyZC1mb3ItaW46IDBcbiAgIC0tLVxuICAgVGhlc2UgcnVsZXMgYXJlIHByZXZlbnRpbmcgdGhlIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbnMgYmVsb3cuXG4gKi9cblxuLyoqXG4gKiBDb21wb3NlIGNsYXNzZXMgZnJvbSBtdWx0aXBsZSBzb3VyY2VzLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0c3hcbiAqIGNvbnN0IHNsb3RzID0ge1xuICogIHJvb3Q6IFsncm9vdCcsICdwcmltYXJ5J10sXG4gKiAgbGFiZWw6IFsnbGFiZWwnXSxcbiAqIH07XG4gKlxuICogY29uc3QgZ2V0VXRpbGl0eUNsYXNzID0gKHNsb3QpID0+IGBNdWlCdXR0b24tJHtzbG90fWA7XG4gKlxuICogY29uc3QgY2xhc3NlcyA9IHtcbiAqICAgcm9vdDogJ215LXJvb3QtY2xhc3MnLFxuICogfTtcbiAqXG4gKiBjb25zdCBvdXRwdXQgPSBjb21wb3NlQ2xhc3NlcyhzbG90cywgZ2V0VXRpbGl0eUNsYXNzLCBjbGFzc2VzKTtcbiAqIC8vIHtcbiAqIC8vICAgcm9vdDogJ011aUJ1dHRvbi1yb290IE11aUJ1dHRvbi1wcmltYXJ5IG15LXJvb3QtY2xhc3MnLFxuICogLy8gICBsYWJlbDogJ011aUJ1dHRvbi1sYWJlbCcsXG4gKiAvLyB9XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc2xvdHMgYSBsaXN0IG9mIGNsYXNzZXMgZm9yIGVhY2ggcG9zc2libGUgc2xvdFxuICogQHBhcmFtIGdldFV0aWxpdHlDbGFzcyBhIGZ1bmN0aW9uIHRvIHJlc29sdmUgdGhlIGNsYXNzIGJhc2VkIG9uIHRoZSBzbG90IG5hbWVcbiAqIEBwYXJhbSBjbGFzc2VzIHRoZSBpbnB1dCBjbGFzc2VzIGZyb20gcHJvcHNcbiAqIEByZXR1cm5zIHRoZSByZXNvbHZlZCBjbGFzc2VzIGZvciBhbGwgc2xvdHNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29tcG9zZUNsYXNzZXMoc2xvdHMsIGdldFV0aWxpdHlDbGFzcywgY2xhc3NlcyA9IHVuZGVmaW5lZCkge1xuICBjb25zdCBvdXRwdXQgPSB7fTtcbiAgZm9yIChjb25zdCBzbG90TmFtZSBpbiBzbG90cykge1xuICAgIGNvbnN0IHNsb3QgPSBzbG90c1tzbG90TmFtZV07XG4gICAgbGV0IGJ1ZmZlciA9ICcnO1xuICAgIGxldCBzdGFydCA9IHRydWU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbG90Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHNsb3RbaV07XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgYnVmZmVyICs9IChzdGFydCA9PT0gdHJ1ZSA/ICcnIDogJyAnKSArIGdldFV0aWxpdHlDbGFzcyh2YWx1ZSk7XG4gICAgICAgIHN0YXJ0ID0gZmFsc2U7XG4gICAgICAgIGlmIChjbGFzc2VzICYmIGNsYXNzZXNbdmFsdWVdKSB7XG4gICAgICAgICAgYnVmZmVyICs9ICcgJyArIGNsYXNzZXNbdmFsdWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIG91dHB1dFtzbG90TmFtZV0gPSBidWZmZXI7XG4gIH1cbiAgcmV0dXJuIG91dHB1dDtcbn0iLAogICAgImltcG9ydCBfZm9ybWF0RXJyb3JNZXNzYWdlIGZyb20gXCJAbXVpL3V0aWxzL2Zvcm1hdE11aUVycm9yTWVzc2FnZVwiO1xuLy8gSXQgc2hvdWxkIHRvIGJlIG5vdGVkIHRoYXQgdGhpcyBmdW5jdGlvbiBpc24ndCBlcXVpdmFsZW50IHRvIGB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZWAuXG4vL1xuLy8gQSBzdHJpY3QgY2FwaXRhbGl6YXRpb24gc2hvdWxkIHVwcGVyY2FzZSB0aGUgZmlyc3QgbGV0dGVyIG9mIGVhY2ggd29yZCBpbiB0aGUgc2VudGVuY2UuXG4vLyBXZSBvbmx5IGhhbmRsZSB0aGUgZmlyc3Qgd29yZC5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNhcGl0YWxpemUoc3RyaW5nKSB7XG4gIGlmICh0eXBlb2Ygc3RyaW5nICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyAnTVVJOiBgY2FwaXRhbGl6ZShzdHJpbmcpYCBleHBlY3RzIGEgc3RyaW5nIGFyZ3VtZW50LicgOiBfZm9ybWF0RXJyb3JNZXNzYWdlKDcpKTtcbiAgfVxuICByZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xufSIsCiAgICAiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgaXNWYWxpZEVsZW1lbnRUeXBlIH0gZnJvbSAncmVhY3QtaXMnO1xuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL2lzLXBsYWluLW9iai9ibG9iL21haW4vaW5kZXguanNcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KGl0ZW0pIHtcbiAgaWYgKHR5cGVvZiBpdGVtICE9PSAnb2JqZWN0JyB8fCBpdGVtID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IHByb3RvdHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihpdGVtKTtcbiAgcmV0dXJuIChwcm90b3R5cGUgPT09IG51bGwgfHwgcHJvdG90eXBlID09PSBPYmplY3QucHJvdG90eXBlIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90b3R5cGUpID09PSBudWxsKSAmJiAhKFN5bWJvbC50b1N0cmluZ1RhZyBpbiBpdGVtKSAmJiAhKFN5bWJvbC5pdGVyYXRvciBpbiBpdGVtKTtcbn1cbmZ1bmN0aW9uIGRlZXBDbG9uZShzb3VyY2UpIHtcbiAgaWYgKC8qI19fUFVSRV9fKi9SZWFjdC5pc1ZhbGlkRWxlbWVudChzb3VyY2UpIHx8IGlzVmFsaWRFbGVtZW50VHlwZShzb3VyY2UpIHx8ICFpc1BsYWluT2JqZWN0KHNvdXJjZSkpIHtcbiAgICByZXR1cm4gc291cmNlO1xuICB9XG4gIGNvbnN0IG91dHB1dCA9IHt9O1xuICBPYmplY3Qua2V5cyhzb3VyY2UpLmZvckVhY2goa2V5ID0+IHtcbiAgICBvdXRwdXRba2V5XSA9IGRlZXBDbG9uZShzb3VyY2Vba2V5XSk7XG4gIH0pO1xuICByZXR1cm4gb3V0cHV0O1xufVxuXG4vKipcbiAqIE1lcmdlIG9iamVjdHMgZGVlcGx5LlxuICogSXQgd2lsbCBzaGFsbG93IGNvcHkgUmVhY3QgZWxlbWVudHMuXG4gKlxuICogSWYgYG9wdGlvbnMuY2xvbmVgIGlzIHNldCB0byBgZmFsc2VgIHRoZSBzb3VyY2Ugb2JqZWN0IHdpbGwgYmUgbWVyZ2VkIGRpcmVjdGx5IGludG8gdGhlIHRhcmdldCBvYmplY3QuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzXG4gKiBkZWVwbWVyZ2UoeyBhOiB7IGI6IDEgfSwgZDogMiB9LCB7IGE6IHsgYzogMiB9LCBkOiA0IH0pO1xuICogLy8gPT4geyBhOiB7IGI6IDEsIGM6IDIgfSwgZDogNCB9XG4gKiBgYGBgXG4gKlxuICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IG9iamVjdC5cbiAqIEBwYXJhbSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gKiBAcGFyYW0gb3B0aW9ucyBUaGUgbWVyZ2Ugb3B0aW9ucy5cbiAqIEBwYXJhbSBvcHRpb25zLmNsb25lIFNldCB0byBgZmFsc2VgIHRvIG1lcmdlIHRoZSBzb3VyY2Ugb2JqZWN0IGRpcmVjdGx5IGludG8gdGhlIHRhcmdldCBvYmplY3QuXG4gKiBAcmV0dXJucyBUaGUgbWVyZ2VkIG9iamVjdC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGVlcG1lcmdlKHRhcmdldCwgc291cmNlLCBvcHRpb25zID0ge1xuICBjbG9uZTogdHJ1ZVxufSkge1xuICBjb25zdCBvdXRwdXQgPSBvcHRpb25zLmNsb25lID8ge1xuICAgIC4uLnRhcmdldFxuICB9IDogdGFyZ2V0O1xuICBpZiAoaXNQbGFpbk9iamVjdCh0YXJnZXQpICYmIGlzUGxhaW5PYmplY3Qoc291cmNlKSkge1xuICAgIE9iamVjdC5rZXlzKHNvdXJjZSkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgaWYgKC8qI19fUFVSRV9fKi9SZWFjdC5pc1ZhbGlkRWxlbWVudChzb3VyY2Vba2V5XSkgfHwgaXNWYWxpZEVsZW1lbnRUeXBlKHNvdXJjZVtrZXldKSkge1xuICAgICAgICBvdXRwdXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgfSBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHNvdXJjZVtrZXldKSAmJlxuICAgICAgLy8gQXZvaWQgcHJvdG90eXBlIHBvbGx1dGlvblxuICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldCwga2V5KSAmJiBpc1BsYWluT2JqZWN0KHRhcmdldFtrZXldKSkge1xuICAgICAgICAvLyBTaW5jZSBgb3V0cHV0YCBpcyBhIGNsb25lIG9mIGB0YXJnZXRgIGFuZCB3ZSBoYXZlIG5hcnJvd2VkIGB0YXJnZXRgIGluIHRoaXMgYmxvY2sgd2UgY2FuIGNhc3QgdG8gdGhlIHNhbWUgdHlwZS5cbiAgICAgICAgb3V0cHV0W2tleV0gPSBkZWVwbWVyZ2UodGFyZ2V0W2tleV0sIHNvdXJjZVtrZXldLCBvcHRpb25zKTtcbiAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5jbG9uZSkge1xuICAgICAgICBvdXRwdXRba2V5XSA9IGlzUGxhaW5PYmplY3Qoc291cmNlW2tleV0pID8gZGVlcENsb25lKHNvdXJjZVtrZXldKSA6IHNvdXJjZVtrZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0cHV0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufSIsCiAgICAiaW1wb3J0IGRlZXBtZXJnZSBmcm9tICdAbXVpL3V0aWxzL2RlZXBtZXJnZSc7XG5mdW5jdGlvbiBtZXJnZShhY2MsIGl0ZW0pIHtcbiAgaWYgKCFpdGVtKSB7XG4gICAgcmV0dXJuIGFjYztcbiAgfVxuICByZXR1cm4gZGVlcG1lcmdlKGFjYywgaXRlbSwge1xuICAgIGNsb25lOiBmYWxzZSAvLyBObyBuZWVkIHRvIGNsb25lIGRlZXAsIGl0J3Mgd2F5IGZhc3Rlci5cbiAgfSk7XG59XG5leHBvcnQgZGVmYXVsdCBtZXJnZTsiLAogICAgImltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5jb25zdCByZXNwb25zaXZlUHJvcFR5cGUgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm9iamVjdCwgUHJvcFR5cGVzLmFycmF5XSkgOiB7fTtcbmV4cG9ydCBkZWZhdWx0IHJlc3BvbnNpdmVQcm9wVHlwZTsiLAogICAgImltcG9ydCBfZm9ybWF0RXJyb3JNZXNzYWdlIGZyb20gXCJAbXVpL3V0aWxzL2Zvcm1hdE11aUVycm9yTWVzc2FnZVwiO1xuLyoqXG4gKiBGb3IgdXNpbmcgaW4gYHN4YCBwcm9wIHRvIHNvcnQgdGhlIGJyZWFrcG9pbnQgZnJvbSBsb3cgdG8gaGlnaC5cbiAqIE5vdGU6IHRoaXMgZnVuY3Rpb24gZG9lcyBub3Qgd29yayBhbmQgd2lsbCBub3Qgc3VwcG9ydCBtdWx0aXBsZSB1bml0cy5cbiAqICAgICAgIGUuZy4gaW5wdXQ6IHsgJ0Bjb250YWluZXIgKG1pbi13aWR0aDozMDBweCknOiAnMXJlbScsICdAY29udGFpbmVyIChtaW4td2lkdGg6NDByZW0pJzogJzJyZW0nIH1cbiAqICAgICAgICAgICAgb3V0cHV0OiB7ICdAY29udGFpbmVyIChtaW4td2lkdGg6NDByZW0pJzogJzJyZW0nLCAnQGNvbnRhaW5lciAobWluLXdpZHRoOjMwMHB4KSc6ICcxcmVtJyB9IC8vIHNpbmNlIDQwIDwgMzAwIGV2ZW4gdGhvdWdoIDQwcmVtID4gMzAwcHhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNvcnRDb250YWluZXJRdWVyaWVzKHRoZW1lLCBjc3MpIHtcbiAgaWYgKCF0aGVtZS5jb250YWluZXJRdWVyaWVzKSB7XG4gICAgcmV0dXJuIGNzcztcbiAgfVxuICBjb25zdCBzb3J0ZWQgPSBPYmplY3Qua2V5cyhjc3MpLmZpbHRlcihrZXkgPT4ga2V5LnN0YXJ0c1dpdGgoJ0Bjb250YWluZXInKSkuc29ydCgoYSwgYikgPT4ge1xuICAgIGNvbnN0IHJlZ2V4ID0gL21pbi13aWR0aDpcXHMqKFswLTkuXSspLztcbiAgICByZXR1cm4gKyhhLm1hdGNoKHJlZ2V4KT8uWzFdIHx8IDApIC0gKyhiLm1hdGNoKHJlZ2V4KT8uWzFdIHx8IDApO1xuICB9KTtcbiAgaWYgKCFzb3J0ZWQubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGNzcztcbiAgfVxuICByZXR1cm4gc29ydGVkLnJlZHVjZSgoYWNjLCBrZXkpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGNzc1trZXldO1xuICAgIGRlbGV0ZSBhY2Nba2V5XTtcbiAgICBhY2Nba2V5XSA9IHZhbHVlO1xuICAgIHJldHVybiBhY2M7XG4gIH0sIHtcbiAgICAuLi5jc3NcbiAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDcVNob3J0aGFuZChicmVha3BvaW50S2V5cywgdmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09PSAnQCcgfHwgdmFsdWUuc3RhcnRzV2l0aCgnQCcpICYmIChicmVha3BvaW50S2V5cy5zb21lKGtleSA9PiB2YWx1ZS5zdGFydHNXaXRoKGBAJHtrZXl9YCkpIHx8ICEhdmFsdWUubWF0Y2goL15AXFxkLykpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbnRhaW5lclF1ZXJ5KHRoZW1lLCBzaG9ydGhhbmQpIHtcbiAgY29uc3QgbWF0Y2hlcyA9IHNob3J0aGFuZC5tYXRjaCgvXkAoW14vXSspP1xcLz8oLispPyQvKTtcbiAgaWYgKCFtYXRjaGVzKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBgTVVJOiBUaGUgcHJvdmlkZWQgc2hvcnRoYW5kICR7YCgke3Nob3J0aGFuZH0pYH0gaXMgaW52YWxpZC4gVGhlIGZvcm1hdCBzaG91bGQgYmUgXFxgQDxicmVha3BvaW50IHwgbnVtYmVyPlxcYCBvciBcXGBAPGJyZWFrcG9pbnQgfCBudW1iZXI+Lzxjb250YWluZXI+XFxgLlxcbmAgKyAnRm9yIGV4YW1wbGUsIGBAc21gIG9yIGBANjAwYCBvciBgQDQwcmVtL3NpZGViYXJgLicgOiBfZm9ybWF0RXJyb3JNZXNzYWdlKDE4LCBgKCR7c2hvcnRoYW5kfSlgKSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IFssIGNvbnRhaW5lclF1ZXJ5LCBjb250YWluZXJOYW1lXSA9IG1hdGNoZXM7XG4gIGNvbnN0IHZhbHVlID0gTnVtYmVyLmlzTmFOKCtjb250YWluZXJRdWVyeSkgPyBjb250YWluZXJRdWVyeSB8fCAwIDogK2NvbnRhaW5lclF1ZXJ5O1xuICByZXR1cm4gdGhlbWUuY29udGFpbmVyUXVlcmllcyhjb250YWluZXJOYW1lKS51cCh2YWx1ZSk7XG59XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjc3NDb250YWluZXJRdWVyaWVzKHRoZW1lSW5wdXQpIHtcbiAgY29uc3QgdG9Db250YWluZXJRdWVyeSA9IChtZWRpYVF1ZXJ5LCBuYW1lKSA9PiBtZWRpYVF1ZXJ5LnJlcGxhY2UoJ0BtZWRpYScsIG5hbWUgPyBgQGNvbnRhaW5lciAke25hbWV9YCA6ICdAY29udGFpbmVyJyk7XG4gIGZ1bmN0aW9uIGF0dGFjaENxKG5vZGUsIG5hbWUpIHtcbiAgICBub2RlLnVwID0gKC4uLmFyZ3MpID0+IHRvQ29udGFpbmVyUXVlcnkodGhlbWVJbnB1dC5icmVha3BvaW50cy51cCguLi5hcmdzKSwgbmFtZSk7XG4gICAgbm9kZS5kb3duID0gKC4uLmFyZ3MpID0+IHRvQ29udGFpbmVyUXVlcnkodGhlbWVJbnB1dC5icmVha3BvaW50cy5kb3duKC4uLmFyZ3MpLCBuYW1lKTtcbiAgICBub2RlLmJldHdlZW4gPSAoLi4uYXJncykgPT4gdG9Db250YWluZXJRdWVyeSh0aGVtZUlucHV0LmJyZWFrcG9pbnRzLmJldHdlZW4oLi4uYXJncyksIG5hbWUpO1xuICAgIG5vZGUub25seSA9ICguLi5hcmdzKSA9PiB0b0NvbnRhaW5lclF1ZXJ5KHRoZW1lSW5wdXQuYnJlYWtwb2ludHMub25seSguLi5hcmdzKSwgbmFtZSk7XG4gICAgbm9kZS5ub3QgPSAoLi4uYXJncykgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gdG9Db250YWluZXJRdWVyeSh0aGVtZUlucHV0LmJyZWFrcG9pbnRzLm5vdCguLi5hcmdzKSwgbmFtZSk7XG4gICAgICBpZiAocmVzdWx0LmluY2x1ZGVzKCdub3QgYWxsIGFuZCcpKSB7XG4gICAgICAgIC8vIGBAY29udGFpbmVyYCBkb2VzIG5vdCB3b3JrIHdpdGggYG5vdCBhbGwgYW5kYCwgc28gbmVlZCB0byBpbnZlcnQgdGhlIGxvZ2ljXG4gICAgICAgIHJldHVybiByZXN1bHQucmVwbGFjZSgnbm90IGFsbCBhbmQgJywgJycpLnJlcGxhY2UoJ21pbi13aWR0aDonLCAnd2lkdGg8JykucmVwbGFjZSgnbWF4LXdpZHRoOicsICd3aWR0aD4nKS5yZXBsYWNlKCdhbmQnLCAnb3InKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgfVxuICBjb25zdCBub2RlID0ge307XG4gIGNvbnN0IGNvbnRhaW5lclF1ZXJpZXMgPSBuYW1lID0+IHtcbiAgICBhdHRhY2hDcShub2RlLCBuYW1lKTtcbiAgICByZXR1cm4gbm9kZTtcbiAgfTtcbiAgYXR0YWNoQ3EoY29udGFpbmVyUXVlcmllcyk7XG4gIHJldHVybiB7XG4gICAgLi4udGhlbWVJbnB1dCxcbiAgICBjb250YWluZXJRdWVyaWVzXG4gIH07XG59IiwKICAgICJpbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGRlZXBtZXJnZSBmcm9tICdAbXVpL3V0aWxzL2RlZXBtZXJnZSc7XG5pbXBvcnQgbWVyZ2UgZnJvbSBcIi4uL21lcmdlL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBpc0NxU2hvcnRoYW5kLCBnZXRDb250YWluZXJRdWVyeSB9IGZyb20gXCIuLi9jc3NDb250YWluZXJRdWVyaWVzL2luZGV4LmpzXCI7XG5cbi8vIFRoZSBicmVha3BvaW50ICoqc3RhcnQqKiBhdCB0aGlzIHZhbHVlLlxuLy8gRm9yIGluc3RhbmNlIHdpdGggdGhlIGZpcnN0IGJyZWFrcG9pbnQgeHM6IFt4cywgc21bLlxuZXhwb3J0IGNvbnN0IHZhbHVlcyA9IHtcbiAgeHM6IDAsXG4gIC8vIHBob25lXG4gIHNtOiA2MDAsXG4gIC8vIHRhYmxldFxuICBtZDogOTAwLFxuICAvLyBzbWFsbCBsYXB0b3BcbiAgbGc6IDEyMDAsXG4gIC8vIGRlc2t0b3BcbiAgeGw6IDE1MzYgLy8gbGFyZ2Ugc2NyZWVuXG59O1xuY29uc3QgZGVmYXVsdEJyZWFrcG9pbnRzID0ge1xuICAvLyBTb3J0ZWQgQVNDIGJ5IHNpemUuIFRoYXQncyBpbXBvcnRhbnQuXG4gIC8vIEl0IGNhbid0IGJlIGNvbmZpZ3VyZWQgYXMgaXQncyB1c2VkIHN0YXRpY2FsbHkgZm9yIHByb3BUeXBlcy5cbiAga2V5czogWyd4cycsICdzbScsICdtZCcsICdsZycsICd4bCddLFxuICB1cDoga2V5ID0+IGBAbWVkaWEgKG1pbi13aWR0aDoke3ZhbHVlc1trZXldfXB4KWBcbn07XG5jb25zdCBkZWZhdWx0Q29udGFpbmVyUXVlcmllcyA9IHtcbiAgY29udGFpbmVyUXVlcmllczogY29udGFpbmVyTmFtZSA9PiAoe1xuICAgIHVwOiBrZXkgPT4ge1xuICAgICAgbGV0IHJlc3VsdCA9IHR5cGVvZiBrZXkgPT09ICdudW1iZXInID8ga2V5IDogdmFsdWVzW2tleV0gfHwga2V5O1xuICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJlc3VsdCA9IGAke3Jlc3VsdH1weGA7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGFpbmVyTmFtZSA/IGBAY29udGFpbmVyICR7Y29udGFpbmVyTmFtZX0gKG1pbi13aWR0aDoke3Jlc3VsdH0pYCA6IGBAY29udGFpbmVyIChtaW4td2lkdGg6JHtyZXN1bHR9KWA7XG4gICAgfVxuICB9KVxufTtcbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVCcmVha3BvaW50cyhwcm9wcywgcHJvcFZhbHVlLCBzdHlsZUZyb21Qcm9wVmFsdWUpIHtcbiAgY29uc3QgdGhlbWUgPSBwcm9wcy50aGVtZSB8fCB7fTtcbiAgaWYgKEFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuICAgIGNvbnN0IHRoZW1lQnJlYWtwb2ludHMgPSB0aGVtZS5icmVha3BvaW50cyB8fCBkZWZhdWx0QnJlYWtwb2ludHM7XG4gICAgcmV0dXJuIHByb3BWYWx1ZS5yZWR1Y2UoKGFjYywgaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgIGFjY1t0aGVtZUJyZWFrcG9pbnRzLnVwKHRoZW1lQnJlYWtwb2ludHMua2V5c1tpbmRleF0pXSA9IHN0eWxlRnJvbVByb3BWYWx1ZShwcm9wVmFsdWVbaW5kZXhdKTtcbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xuICB9XG4gIGlmICh0eXBlb2YgcHJvcFZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IHRoZW1lQnJlYWtwb2ludHMgPSB0aGVtZS5icmVha3BvaW50cyB8fCBkZWZhdWx0QnJlYWtwb2ludHM7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHByb3BWYWx1ZSkucmVkdWNlKChhY2MsIGJyZWFrcG9pbnQpID0+IHtcbiAgICAgIGlmIChpc0NxU2hvcnRoYW5kKHRoZW1lQnJlYWtwb2ludHMua2V5cywgYnJlYWtwb2ludCkpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyS2V5ID0gZ2V0Q29udGFpbmVyUXVlcnkodGhlbWUuY29udGFpbmVyUXVlcmllcyA/IHRoZW1lIDogZGVmYXVsdENvbnRhaW5lclF1ZXJpZXMsIGJyZWFrcG9pbnQpO1xuICAgICAgICBpZiAoY29udGFpbmVyS2V5KSB7XG4gICAgICAgICAgYWNjW2NvbnRhaW5lcktleV0gPSBzdHlsZUZyb21Qcm9wVmFsdWUocHJvcFZhbHVlW2JyZWFrcG9pbnRdLCBicmVha3BvaW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8ga2V5IGlzIGJyZWFrcG9pbnRcbiAgICAgIGVsc2UgaWYgKE9iamVjdC5rZXlzKHRoZW1lQnJlYWtwb2ludHMudmFsdWVzIHx8IHZhbHVlcykuaW5jbHVkZXMoYnJlYWtwb2ludCkpIHtcbiAgICAgICAgY29uc3QgbWVkaWFLZXkgPSB0aGVtZUJyZWFrcG9pbnRzLnVwKGJyZWFrcG9pbnQpO1xuICAgICAgICBhY2NbbWVkaWFLZXldID0gc3R5bGVGcm9tUHJvcFZhbHVlKHByb3BWYWx1ZVticmVha3BvaW50XSwgYnJlYWtwb2ludCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBjc3NLZXkgPSBicmVha3BvaW50O1xuICAgICAgICBhY2NbY3NzS2V5XSA9IHByb3BWYWx1ZVtjc3NLZXldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG4gIH1cbiAgY29uc3Qgb3V0cHV0ID0gc3R5bGVGcm9tUHJvcFZhbHVlKHByb3BWYWx1ZSk7XG4gIHJldHVybiBvdXRwdXQ7XG59XG5mdW5jdGlvbiBicmVha3BvaW50cyhzdHlsZUZ1bmN0aW9uKSB7XG4gIC8vIGZhbHNlIHBvc2l0aXZlXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9mdW5jdGlvbi1jb21wb25lbnQtZGVmaW5pdGlvblxuICBjb25zdCBuZXdTdHlsZUZ1bmN0aW9uID0gcHJvcHMgPT4ge1xuICAgIGNvbnN0IHRoZW1lID0gcHJvcHMudGhlbWUgfHwge307XG4gICAgY29uc3QgYmFzZSA9IHN0eWxlRnVuY3Rpb24ocHJvcHMpO1xuICAgIGNvbnN0IHRoZW1lQnJlYWtwb2ludHMgPSB0aGVtZS5icmVha3BvaW50cyB8fCBkZWZhdWx0QnJlYWtwb2ludHM7XG4gICAgY29uc3QgZXh0ZW5kZWQgPSB0aGVtZUJyZWFrcG9pbnRzLmtleXMucmVkdWNlKChhY2MsIGtleSkgPT4ge1xuICAgICAgaWYgKHByb3BzW2tleV0pIHtcbiAgICAgICAgYWNjID0gYWNjIHx8IHt9O1xuICAgICAgICBhY2NbdGhlbWVCcmVha3BvaW50cy51cChrZXkpXSA9IHN0eWxlRnVuY3Rpb24oe1xuICAgICAgICAgIHRoZW1lLFxuICAgICAgICAgIC4uLnByb3BzW2tleV1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIG51bGwpO1xuICAgIHJldHVybiBtZXJnZShiYXNlLCBleHRlbmRlZCk7XG4gIH07XG4gIG5ld1N0eWxlRnVuY3Rpb24ucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHtcbiAgICAuLi5zdHlsZUZ1bmN0aW9uLnByb3BUeXBlcyxcbiAgICB4czogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBzbTogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBtZDogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBsZzogUHJvcFR5cGVzLm9iamVjdCxcbiAgICB4bDogUHJvcFR5cGVzLm9iamVjdFxuICB9IDoge307XG4gIG5ld1N0eWxlRnVuY3Rpb24uZmlsdGVyUHJvcHMgPSBbJ3hzJywgJ3NtJywgJ21kJywgJ2xnJywgJ3hsJywgLi4uc3R5bGVGdW5jdGlvbi5maWx0ZXJQcm9wc107XG4gIHJldHVybiBuZXdTdHlsZUZ1bmN0aW9uO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVtcHR5QnJlYWtwb2ludE9iamVjdChicmVha3BvaW50c0lucHV0ID0ge30pIHtcbiAgY29uc3QgYnJlYWtwb2ludHNJbk9yZGVyID0gYnJlYWtwb2ludHNJbnB1dC5rZXlzPy5yZWR1Y2UoKGFjYywga2V5KSA9PiB7XG4gICAgY29uc3QgYnJlYWtwb2ludFN0eWxlS2V5ID0gYnJlYWtwb2ludHNJbnB1dC51cChrZXkpO1xuICAgIGFjY1ticmVha3BvaW50U3R5bGVLZXldID0ge307XG4gICAgcmV0dXJuIGFjYztcbiAgfSwge30pO1xuICByZXR1cm4gYnJlYWtwb2ludHNJbk9yZGVyIHx8IHt9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVVudXNlZEJyZWFrcG9pbnRzKGJyZWFrcG9pbnRLZXlzLCBzdHlsZSkge1xuICByZXR1cm4gYnJlYWtwb2ludEtleXMucmVkdWNlKChhY2MsIGtleSkgPT4ge1xuICAgIGNvbnN0IGJyZWFrcG9pbnRPdXRwdXQgPSBhY2Nba2V5XTtcbiAgICBjb25zdCBpc0JyZWFrcG9pbnRVbnVzZWQgPSAhYnJlYWtwb2ludE91dHB1dCB8fCBPYmplY3Qua2V5cyhicmVha3BvaW50T3V0cHV0KS5sZW5ndGggPT09IDA7XG4gICAgaWYgKGlzQnJlYWtwb2ludFVudXNlZCkge1xuICAgICAgZGVsZXRlIGFjY1trZXldO1xuICAgIH1cbiAgICByZXR1cm4gYWNjO1xuICB9LCBzdHlsZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VCcmVha3BvaW50c0luT3JkZXIoYnJlYWtwb2ludHNJbnB1dCwgLi4uc3R5bGVzKSB7XG4gIGNvbnN0IGVtcHR5QnJlYWtwb2ludHMgPSBjcmVhdGVFbXB0eUJyZWFrcG9pbnRPYmplY3QoYnJlYWtwb2ludHNJbnB1dCk7XG4gIGNvbnN0IG1lcmdlZE91dHB1dCA9IFtlbXB0eUJyZWFrcG9pbnRzLCAuLi5zdHlsZXNdLnJlZHVjZSgocHJldiwgbmV4dCkgPT4gZGVlcG1lcmdlKHByZXYsIG5leHQpLCB7fSk7XG4gIHJldHVybiByZW1vdmVVbnVzZWRCcmVha3BvaW50cyhPYmplY3Qua2V5cyhlbXB0eUJyZWFrcG9pbnRzKSwgbWVyZ2VkT3V0cHV0KTtcbn1cblxuLy8gY29tcHV0ZSBiYXNlIGZvciByZXNwb25zaXZlIHZhbHVlczsgZS5nLixcbi8vIFsxLDIsM10gPT4ge3hzOiB0cnVlLCBzbTogdHJ1ZSwgbWQ6IHRydWV9XG4vLyB7eHM6IDEsIHNtOiAyLCBtZDogM30gPT4ge3hzOiB0cnVlLCBzbTogdHJ1ZSwgbWQ6IHRydWV9XG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZUJyZWFrcG9pbnRzQmFzZShicmVha3BvaW50VmFsdWVzLCB0aGVtZUJyZWFrcG9pbnRzKSB7XG4gIC8vIGZpeGVkIHZhbHVlXG4gIGlmICh0eXBlb2YgYnJlYWtwb2ludFZhbHVlcyAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbiAgY29uc3QgYmFzZSA9IHt9O1xuICBjb25zdCBicmVha3BvaW50c0tleXMgPSBPYmplY3Qua2V5cyh0aGVtZUJyZWFrcG9pbnRzKTtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYnJlYWtwb2ludFZhbHVlcykpIHtcbiAgICBicmVha3BvaW50c0tleXMuZm9yRWFjaCgoYnJlYWtwb2ludCwgaSkgPT4ge1xuICAgICAgaWYgKGkgPCBicmVha3BvaW50VmFsdWVzLmxlbmd0aCkge1xuICAgICAgICBiYXNlW2JyZWFrcG9pbnRdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBicmVha3BvaW50c0tleXMuZm9yRWFjaChicmVha3BvaW50ID0+IHtcbiAgICAgIGlmIChicmVha3BvaW50VmFsdWVzW2JyZWFrcG9pbnRdICE9IG51bGwpIHtcbiAgICAgICAgYmFzZVticmVha3BvaW50XSA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGJhc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUJyZWFrcG9pbnRWYWx1ZXMoe1xuICB2YWx1ZXM6IGJyZWFrcG9pbnRWYWx1ZXMsXG4gIGJyZWFrcG9pbnRzOiB0aGVtZUJyZWFrcG9pbnRzLFxuICBiYXNlOiBjdXN0b21CYXNlXG59KSB7XG4gIGNvbnN0IGJhc2UgPSBjdXN0b21CYXNlIHx8IGNvbXB1dGVCcmVha3BvaW50c0Jhc2UoYnJlYWtwb2ludFZhbHVlcywgdGhlbWVCcmVha3BvaW50cyk7XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhiYXNlKTtcbiAgaWYgKGtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGJyZWFrcG9pbnRWYWx1ZXM7XG4gIH1cbiAgbGV0IHByZXZpb3VzO1xuICByZXR1cm4ga2V5cy5yZWR1Y2UoKGFjYywgYnJlYWtwb2ludCwgaSkgPT4ge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGJyZWFrcG9pbnRWYWx1ZXMpKSB7XG4gICAgICBhY2NbYnJlYWtwb2ludF0gPSBicmVha3BvaW50VmFsdWVzW2ldICE9IG51bGwgPyBicmVha3BvaW50VmFsdWVzW2ldIDogYnJlYWtwb2ludFZhbHVlc1twcmV2aW91c107XG4gICAgICBwcmV2aW91cyA9IGk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgYnJlYWtwb2ludFZhbHVlcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGFjY1ticmVha3BvaW50XSA9IGJyZWFrcG9pbnRWYWx1ZXNbYnJlYWtwb2ludF0gIT0gbnVsbCA/IGJyZWFrcG9pbnRWYWx1ZXNbYnJlYWtwb2ludF0gOiBicmVha3BvaW50VmFsdWVzW3ByZXZpb3VzXTtcbiAgICAgIHByZXZpb3VzID0gYnJlYWtwb2ludDtcbiAgICB9IGVsc2Uge1xuICAgICAgYWNjW2JyZWFrcG9pbnRdID0gYnJlYWtwb2ludFZhbHVlcztcbiAgICB9XG4gICAgcmV0dXJuIGFjYztcbiAgfSwge30pO1xufVxuZXhwb3J0IGRlZmF1bHQgYnJlYWtwb2ludHM7IiwKICAgICJpbXBvcnQgY2FwaXRhbGl6ZSBmcm9tICdAbXVpL3V0aWxzL2NhcGl0YWxpemUnO1xuaW1wb3J0IHJlc3BvbnNpdmVQcm9wVHlwZSBmcm9tIFwiLi4vcmVzcG9uc2l2ZVByb3BUeXBlL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBoYW5kbGVCcmVha3BvaW50cyB9IGZyb20gXCIuLi9icmVha3BvaW50cy9pbmRleC5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIGdldFBhdGgob2JqLCBwYXRoLCBjaGVja1ZhcnMgPSB0cnVlKSB7XG4gIGlmICghcGF0aCB8fCB0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIENoZWNrIGlmIENTUyB2YXJpYWJsZXMgYXJlIHVzZWRcbiAgaWYgKG9iaiAmJiBvYmoudmFycyAmJiBjaGVja1ZhcnMpIHtcbiAgICBjb25zdCB2YWwgPSBgdmFycy4ke3BhdGh9YC5zcGxpdCgnLicpLnJlZHVjZSgoYWNjLCBpdGVtKSA9PiBhY2MgJiYgYWNjW2l0ZW1dID8gYWNjW2l0ZW1dIDogbnVsbCwgb2JqKTtcbiAgICBpZiAodmFsICE9IG51bGwpIHtcbiAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICB9XG4gIHJldHVybiBwYXRoLnNwbGl0KCcuJykucmVkdWNlKChhY2MsIGl0ZW0pID0+IHtcbiAgICBpZiAoYWNjICYmIGFjY1tpdGVtXSAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gYWNjW2l0ZW1dO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSwgb2JqKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdHlsZVZhbHVlKHRoZW1lTWFwcGluZywgdHJhbnNmb3JtLCBwcm9wVmFsdWVGaW5hbCwgdXNlclZhbHVlID0gcHJvcFZhbHVlRmluYWwpIHtcbiAgbGV0IHZhbHVlO1xuICBpZiAodHlwZW9mIHRoZW1lTWFwcGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhbHVlID0gdGhlbWVNYXBwaW5nKHByb3BWYWx1ZUZpbmFsKTtcbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRoZW1lTWFwcGluZykpIHtcbiAgICB2YWx1ZSA9IHRoZW1lTWFwcGluZ1twcm9wVmFsdWVGaW5hbF0gfHwgdXNlclZhbHVlO1xuICB9IGVsc2Uge1xuICAgIHZhbHVlID0gZ2V0UGF0aCh0aGVtZU1hcHBpbmcsIHByb3BWYWx1ZUZpbmFsKSB8fCB1c2VyVmFsdWU7XG4gIH1cbiAgaWYgKHRyYW5zZm9ybSkge1xuICAgIHZhbHVlID0gdHJhbnNmb3JtKHZhbHVlLCB1c2VyVmFsdWUsIHRoZW1lTWFwcGluZyk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gc3R5bGUob3B0aW9ucykge1xuICBjb25zdCB7XG4gICAgcHJvcCxcbiAgICBjc3NQcm9wZXJ0eSA9IG9wdGlvbnMucHJvcCxcbiAgICB0aGVtZUtleSxcbiAgICB0cmFuc2Zvcm1cbiAgfSA9IG9wdGlvbnM7XG5cbiAgLy8gZmFsc2UgcG9zaXRpdmVcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L2Z1bmN0aW9uLWNvbXBvbmVudC1kZWZpbml0aW9uXG4gIGNvbnN0IGZuID0gcHJvcHMgPT4ge1xuICAgIGlmIChwcm9wc1twcm9wXSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcHJvcFZhbHVlID0gcHJvcHNbcHJvcF07XG4gICAgY29uc3QgdGhlbWUgPSBwcm9wcy50aGVtZTtcbiAgICBjb25zdCB0aGVtZU1hcHBpbmcgPSBnZXRQYXRoKHRoZW1lLCB0aGVtZUtleSkgfHwge307XG4gICAgY29uc3Qgc3R5bGVGcm9tUHJvcFZhbHVlID0gcHJvcFZhbHVlRmluYWwgPT4ge1xuICAgICAgbGV0IHZhbHVlID0gZ2V0U3R5bGVWYWx1ZSh0aGVtZU1hcHBpbmcsIHRyYW5zZm9ybSwgcHJvcFZhbHVlRmluYWwpO1xuICAgICAgaWYgKHByb3BWYWx1ZUZpbmFsID09PSB2YWx1ZSAmJiB0eXBlb2YgcHJvcFZhbHVlRmluYWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIEhhdmVuJ3QgZm91bmQgdmFsdWVcbiAgICAgICAgdmFsdWUgPSBnZXRTdHlsZVZhbHVlKHRoZW1lTWFwcGluZywgdHJhbnNmb3JtLCBgJHtwcm9wfSR7cHJvcFZhbHVlRmluYWwgPT09ICdkZWZhdWx0JyA/ICcnIDogY2FwaXRhbGl6ZShwcm9wVmFsdWVGaW5hbCl9YCwgcHJvcFZhbHVlRmluYWwpO1xuICAgICAgfVxuICAgICAgaWYgKGNzc1Byb3BlcnR5ID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBbY3NzUHJvcGVydHldOiB2YWx1ZVxuICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiBoYW5kbGVCcmVha3BvaW50cyhwcm9wcywgcHJvcFZhbHVlLCBzdHlsZUZyb21Qcm9wVmFsdWUpO1xuICB9O1xuICBmbi5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8ge1xuICAgIFtwcm9wXTogcmVzcG9uc2l2ZVByb3BUeXBlXG4gIH0gOiB7fTtcbiAgZm4uZmlsdGVyUHJvcHMgPSBbcHJvcF07XG4gIHJldHVybiBmbjtcbn1cbmV4cG9ydCBkZWZhdWx0IHN0eWxlOyIsCiAgICAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWVtb2l6ZShmbikge1xuICBjb25zdCBjYWNoZSA9IHt9O1xuICByZXR1cm4gYXJnID0+IHtcbiAgICBpZiAoY2FjaGVbYXJnXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjYWNoZVthcmddID0gZm4oYXJnKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlW2FyZ107XG4gIH07XG59IiwKICAgICJpbXBvcnQgcmVzcG9uc2l2ZVByb3BUeXBlIGZyb20gXCIuLi9yZXNwb25zaXZlUHJvcFR5cGUvaW5kZXguanNcIjtcbmltcG9ydCB7IGhhbmRsZUJyZWFrcG9pbnRzIH0gZnJvbSBcIi4uL2JyZWFrcG9pbnRzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBnZXRQYXRoIH0gZnJvbSBcIi4uL3N0eWxlL2luZGV4LmpzXCI7XG5pbXBvcnQgbWVyZ2UgZnJvbSBcIi4uL21lcmdlL2luZGV4LmpzXCI7XG5pbXBvcnQgbWVtb2l6ZSBmcm9tIFwiLi4vbWVtb2l6ZS9pbmRleC5qc1wiO1xuY29uc3QgcHJvcGVydGllcyA9IHtcbiAgbTogJ21hcmdpbicsXG4gIHA6ICdwYWRkaW5nJ1xufTtcbmNvbnN0IGRpcmVjdGlvbnMgPSB7XG4gIHQ6ICdUb3AnLFxuICByOiAnUmlnaHQnLFxuICBiOiAnQm90dG9tJyxcbiAgbDogJ0xlZnQnLFxuICB4OiBbJ0xlZnQnLCAnUmlnaHQnXSxcbiAgeTogWydUb3AnLCAnQm90dG9tJ11cbn07XG5jb25zdCBhbGlhc2VzID0ge1xuICBtYXJnaW5YOiAnbXgnLFxuICBtYXJnaW5ZOiAnbXknLFxuICBwYWRkaW5nWDogJ3B4JyxcbiAgcGFkZGluZ1k6ICdweSdcbn07XG5cbi8vIG1lbW9pemUoKSBpbXBhY3Q6XG4vLyBGcm9tIDMwMCwwMDAgb3BzL3NlY1xuLy8gVG8gMzUwLDAwMCBvcHMvc2VjXG5jb25zdCBnZXRDc3NQcm9wZXJ0aWVzID0gbWVtb2l6ZShwcm9wID0+IHtcbiAgLy8gSXQncyBub3QgYSBzaG9ydGhhbmQgbm90YXRpb24uXG4gIGlmIChwcm9wLmxlbmd0aCA+IDIpIHtcbiAgICBpZiAoYWxpYXNlc1twcm9wXSkge1xuICAgICAgcHJvcCA9IGFsaWFzZXNbcHJvcF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBbcHJvcF07XG4gICAgfVxuICB9XG4gIGNvbnN0IFthLCBiXSA9IHByb3Auc3BsaXQoJycpO1xuICBjb25zdCBwcm9wZXJ0eSA9IHByb3BlcnRpZXNbYV07XG4gIGNvbnN0IGRpcmVjdGlvbiA9IGRpcmVjdGlvbnNbYl0gfHwgJyc7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGRpcmVjdGlvbikgPyBkaXJlY3Rpb24ubWFwKGRpciA9PiBwcm9wZXJ0eSArIGRpcikgOiBbcHJvcGVydHkgKyBkaXJlY3Rpb25dO1xufSk7XG5leHBvcnQgY29uc3QgbWFyZ2luS2V5cyA9IFsnbScsICdtdCcsICdtcicsICdtYicsICdtbCcsICdteCcsICdteScsICdtYXJnaW4nLCAnbWFyZ2luVG9wJywgJ21hcmdpblJpZ2h0JywgJ21hcmdpbkJvdHRvbScsICdtYXJnaW5MZWZ0JywgJ21hcmdpblgnLCAnbWFyZ2luWScsICdtYXJnaW5JbmxpbmUnLCAnbWFyZ2luSW5saW5lU3RhcnQnLCAnbWFyZ2luSW5saW5lRW5kJywgJ21hcmdpbkJsb2NrJywgJ21hcmdpbkJsb2NrU3RhcnQnLCAnbWFyZ2luQmxvY2tFbmQnXTtcbmV4cG9ydCBjb25zdCBwYWRkaW5nS2V5cyA9IFsncCcsICdwdCcsICdwcicsICdwYicsICdwbCcsICdweCcsICdweScsICdwYWRkaW5nJywgJ3BhZGRpbmdUb3AnLCAncGFkZGluZ1JpZ2h0JywgJ3BhZGRpbmdCb3R0b20nLCAncGFkZGluZ0xlZnQnLCAncGFkZGluZ1gnLCAncGFkZGluZ1knLCAncGFkZGluZ0lubGluZScsICdwYWRkaW5nSW5saW5lU3RhcnQnLCAncGFkZGluZ0lubGluZUVuZCcsICdwYWRkaW5nQmxvY2snLCAncGFkZGluZ0Jsb2NrU3RhcnQnLCAncGFkZGluZ0Jsb2NrRW5kJ107XG5jb25zdCBzcGFjaW5nS2V5cyA9IFsuLi5tYXJnaW5LZXlzLCAuLi5wYWRkaW5nS2V5c107XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVW5hcnlVbml0KHRoZW1lLCB0aGVtZUtleSwgZGVmYXVsdFZhbHVlLCBwcm9wTmFtZSkge1xuICBjb25zdCB0aGVtZVNwYWNpbmcgPSBnZXRQYXRoKHRoZW1lLCB0aGVtZUtleSwgdHJ1ZSkgPz8gZGVmYXVsdFZhbHVlO1xuICBpZiAodHlwZW9mIHRoZW1lU3BhY2luZyA9PT0gJ251bWJlcicgfHwgdHlwZW9mIHRoZW1lU3BhY2luZyA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsID0+IHtcbiAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgfVxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWwgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihgTVVJOiBFeHBlY3RlZCAke3Byb3BOYW1lfSBhcmd1bWVudCB0byBiZSBhIG51bWJlciBvciBhIHN0cmluZywgZ290ICR7dmFsfS5gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB0aGVtZVNwYWNpbmcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICh0aGVtZVNwYWNpbmcuc3RhcnRzV2l0aCgndmFyKCcpICYmIHZhbCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGVtZVNwYWNpbmcuc3RhcnRzV2l0aCgndmFyKCcpICYmIHZhbCA9PT0gMSkge1xuICAgICAgICAgIHJldHVybiB0aGVtZVNwYWNpbmc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGBjYWxjKCR7dmFsfSAqICR7dGhlbWVTcGFjaW5nfSlgO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoZW1lU3BhY2luZyAqIHZhbDtcbiAgICB9O1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KHRoZW1lU3BhY2luZykpIHtcbiAgICByZXR1cm4gdmFsID0+IHtcbiAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgfVxuICAgICAgY29uc3QgYWJzID0gTWF0aC5hYnModmFsKTtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihhYnMpKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihbYE1VSTogVGhlIFxcYHRoZW1lLiR7dGhlbWVLZXl9XFxgIGFycmF5IHR5cGUgY2Fubm90IGJlIGNvbWJpbmVkIHdpdGggbm9uIGludGVnZXIgdmFsdWVzLmAgKyBgWW91IHNob3VsZCBlaXRoZXIgdXNlIGFuIGludGVnZXIgdmFsdWUgdGhhdCBjYW4gYmUgdXNlZCBhcyBpbmRleCwgb3IgZGVmaW5lIHRoZSBcXGB0aGVtZS4ke3RoZW1lS2V5fVxcYCBhcyBhIG51bWJlci5gXS5qb2luKCdcXG4nKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoYWJzID4gdGhlbWVTcGFjaW5nLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFtgTVVJOiBUaGUgdmFsdWUgcHJvdmlkZWQgKCR7YWJzfSkgb3ZlcmZsb3dzLmAsIGBUaGUgc3VwcG9ydGVkIHZhbHVlcyBhcmU6ICR7SlNPTi5zdHJpbmdpZnkodGhlbWVTcGFjaW5nKX0uYCwgYCR7YWJzfSA+ICR7dGhlbWVTcGFjaW5nLmxlbmd0aCAtIDF9LCB5b3UgbmVlZCB0byBhZGQgdGhlIG1pc3NpbmcgdmFsdWVzLmBdLmpvaW4oJ1xcbicpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgdHJhbnNmb3JtZWQgPSB0aGVtZVNwYWNpbmdbYWJzXTtcbiAgICAgIGlmICh2YWwgPj0gMCkge1xuICAgICAgICByZXR1cm4gdHJhbnNmb3JtZWQ7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHRyYW5zZm9ybWVkID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gLXRyYW5zZm9ybWVkO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB0cmFuc2Zvcm1lZCA9PT0gJ3N0cmluZycgJiYgdHJhbnNmb3JtZWQuc3RhcnRzV2l0aCgndmFyKCcpKSB7XG4gICAgICAgIHJldHVybiBgY2FsYygtMSAqICR7dHJhbnNmb3JtZWR9KWA7XG4gICAgICB9XG4gICAgICByZXR1cm4gYC0ke3RyYW5zZm9ybWVkfWA7XG4gICAgfTtcbiAgfVxuICBpZiAodHlwZW9mIHRoZW1lU3BhY2luZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB0aGVtZVNwYWNpbmc7XG4gIH1cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBjb25zb2xlLmVycm9yKFtgTVVJOiBUaGUgXFxgdGhlbWUuJHt0aGVtZUtleX1cXGAgdmFsdWUgKCR7dGhlbWVTcGFjaW5nfSkgaXMgaW52YWxpZC5gLCAnSXQgc2hvdWxkIGJlIGEgbnVtYmVyLCBhbiBhcnJheSBvciBhIGZ1bmN0aW9uLiddLmpvaW4oJ1xcbicpKTtcbiAgfVxuICByZXR1cm4gKCkgPT4gdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVVuYXJ5U3BhY2luZyh0aGVtZSkge1xuICByZXR1cm4gY3JlYXRlVW5hcnlVbml0KHRoZW1lLCAnc3BhY2luZycsIDgsICdzcGFjaW5nJyk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0VmFsdWUodHJhbnNmb3JtZXIsIHByb3BWYWx1ZSkge1xuICBpZiAodHlwZW9mIHByb3BWYWx1ZSA9PT0gJ3N0cmluZycgfHwgcHJvcFZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gcHJvcFZhbHVlO1xuICB9XG4gIHJldHVybiB0cmFuc2Zvcm1lcihwcm9wVmFsdWUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0eWxlRnJvbVByb3BWYWx1ZShjc3NQcm9wZXJ0aWVzLCB0cmFuc2Zvcm1lcikge1xuICByZXR1cm4gcHJvcFZhbHVlID0+IGNzc1Byb3BlcnRpZXMucmVkdWNlKChhY2MsIGNzc1Byb3BlcnR5KSA9PiB7XG4gICAgYWNjW2Nzc1Byb3BlcnR5XSA9IGdldFZhbHVlKHRyYW5zZm9ybWVyLCBwcm9wVmFsdWUpO1xuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9KTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVDc3NQcm9wZXJ0eShwcm9wcywga2V5cywgcHJvcCwgdHJhbnNmb3JtZXIpIHtcbiAgLy8gVXNpbmcgYSBoYXNoIGNvbXB1dGF0aW9uIG92ZXIgYW4gYXJyYXkgaXRlcmF0aW9uIGNvdWxkIGJlIGZhc3RlciwgYnV0IHdpdGggb25seSAyOCBpdGVtcyxcbiAgLy8gaXQncyBkb2Vzbid0IHdvcnRoIHRoZSBidW5kbGUgc2l6ZS5cbiAgaWYgKCFrZXlzLmluY2x1ZGVzKHByb3ApKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgY3NzUHJvcGVydGllcyA9IGdldENzc1Byb3BlcnRpZXMocHJvcCk7XG4gIGNvbnN0IHN0eWxlRnJvbVByb3BWYWx1ZSA9IGdldFN0eWxlRnJvbVByb3BWYWx1ZShjc3NQcm9wZXJ0aWVzLCB0cmFuc2Zvcm1lcik7XG4gIGNvbnN0IHByb3BWYWx1ZSA9IHByb3BzW3Byb3BdO1xuICByZXR1cm4gaGFuZGxlQnJlYWtwb2ludHMocHJvcHMsIHByb3BWYWx1ZSwgc3R5bGVGcm9tUHJvcFZhbHVlKTtcbn1cbmZ1bmN0aW9uIHN0eWxlKHByb3BzLCBrZXlzKSB7XG4gIGNvbnN0IHRyYW5zZm9ybWVyID0gY3JlYXRlVW5hcnlTcGFjaW5nKHByb3BzLnRoZW1lKTtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHByb3BzKS5tYXAocHJvcCA9PiByZXNvbHZlQ3NzUHJvcGVydHkocHJvcHMsIGtleXMsIHByb3AsIHRyYW5zZm9ybWVyKSkucmVkdWNlKG1lcmdlLCB7fSk7XG59XG5leHBvcnQgZnVuY3Rpb24gbWFyZ2luKHByb3BzKSB7XG4gIHJldHVybiBzdHlsZShwcm9wcywgbWFyZ2luS2V5cyk7XG59XG5tYXJnaW4ucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IG1hcmdpbktleXMucmVkdWNlKChvYmosIGtleSkgPT4ge1xuICBvYmpba2V5XSA9IHJlc3BvbnNpdmVQcm9wVHlwZTtcbiAgcmV0dXJuIG9iajtcbn0sIHt9KSA6IHt9O1xubWFyZ2luLmZpbHRlclByb3BzID0gbWFyZ2luS2V5cztcbmV4cG9ydCBmdW5jdGlvbiBwYWRkaW5nKHByb3BzKSB7XG4gIHJldHVybiBzdHlsZShwcm9wcywgcGFkZGluZ0tleXMpO1xufVxucGFkZGluZy5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gcGFkZGluZ0tleXMucmVkdWNlKChvYmosIGtleSkgPT4ge1xuICBvYmpba2V5XSA9IHJlc3BvbnNpdmVQcm9wVHlwZTtcbiAgcmV0dXJuIG9iajtcbn0sIHt9KSA6IHt9O1xucGFkZGluZy5maWx0ZXJQcm9wcyA9IHBhZGRpbmdLZXlzO1xuZnVuY3Rpb24gc3BhY2luZyhwcm9wcykge1xuICByZXR1cm4gc3R5bGUocHJvcHMsIHNwYWNpbmdLZXlzKTtcbn1cbnNwYWNpbmcucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHNwYWNpbmdLZXlzLnJlZHVjZSgob2JqLCBrZXkpID0+IHtcbiAgb2JqW2tleV0gPSByZXNwb25zaXZlUHJvcFR5cGU7XG4gIHJldHVybiBvYmo7XG59LCB7fSkgOiB7fTtcbnNwYWNpbmcuZmlsdGVyUHJvcHMgPSBzcGFjaW5nS2V5cztcbmV4cG9ydCBkZWZhdWx0IHNwYWNpbmc7IiwKICAgICJpbXBvcnQgbWVyZ2UgZnJvbSBcIi4uL21lcmdlL2luZGV4LmpzXCI7XG5mdW5jdGlvbiBjb21wb3NlKC4uLnN0eWxlcykge1xuICBjb25zdCBoYW5kbGVycyA9IHN0eWxlcy5yZWR1Y2UoKGFjYywgc3R5bGUpID0+IHtcbiAgICBzdHlsZS5maWx0ZXJQcm9wcy5mb3JFYWNoKHByb3AgPT4ge1xuICAgICAgYWNjW3Byb3BdID0gc3R5bGU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGFjYztcbiAgfSwge30pO1xuXG4gIC8vIGZhbHNlIHBvc2l0aXZlXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9mdW5jdGlvbi1jb21wb25lbnQtZGVmaW5pdGlvblxuICBjb25zdCBmbiA9IHByb3BzID0+IHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMocHJvcHMpLnJlZHVjZSgoYWNjLCBwcm9wKSA9PiB7XG4gICAgICBpZiAoaGFuZGxlcnNbcHJvcF0pIHtcbiAgICAgICAgcmV0dXJuIG1lcmdlKGFjYywgaGFuZGxlcnNbcHJvcF0ocHJvcHMpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xuICB9O1xuICBmbi5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gc3R5bGVzLnJlZHVjZSgoYWNjLCBzdHlsZSkgPT4gT2JqZWN0LmFzc2lnbihhY2MsIHN0eWxlLnByb3BUeXBlcyksIHt9KSA6IHt9O1xuICBmbi5maWx0ZXJQcm9wcyA9IHN0eWxlcy5yZWR1Y2UoKGFjYywgc3R5bGUpID0+IGFjYy5jb25jYXQoc3R5bGUuZmlsdGVyUHJvcHMpLCBbXSk7XG4gIHJldHVybiBmbjtcbn1cbmV4cG9ydCBkZWZhdWx0IGNvbXBvc2U7IiwKICAgICJpbXBvcnQgcmVzcG9uc2l2ZVByb3BUeXBlIGZyb20gXCIuLi9yZXNwb25zaXZlUHJvcFR5cGUvaW5kZXguanNcIjtcbmltcG9ydCBzdHlsZSBmcm9tIFwiLi4vc3R5bGUvaW5kZXguanNcIjtcbmltcG9ydCBjb21wb3NlIGZyb20gXCIuLi9jb21wb3NlL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVVbmFyeVVuaXQsIGdldFZhbHVlIH0gZnJvbSBcIi4uL3NwYWNpbmcvaW5kZXguanNcIjtcbmltcG9ydCB7IGhhbmRsZUJyZWFrcG9pbnRzIH0gZnJvbSBcIi4uL2JyZWFrcG9pbnRzL2luZGV4LmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gYm9yZGVyVHJhbnNmb3JtKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHJldHVybiBgJHt2YWx1ZX1weCBzb2xpZGA7XG59XG5mdW5jdGlvbiBjcmVhdGVCb3JkZXJTdHlsZShwcm9wLCB0cmFuc2Zvcm0pIHtcbiAgcmV0dXJuIHN0eWxlKHtcbiAgICBwcm9wLFxuICAgIHRoZW1lS2V5OiAnYm9yZGVycycsXG4gICAgdHJhbnNmb3JtXG4gIH0pO1xufVxuZXhwb3J0IGNvbnN0IGJvcmRlciA9IGNyZWF0ZUJvcmRlclN0eWxlKCdib3JkZXInLCBib3JkZXJUcmFuc2Zvcm0pO1xuZXhwb3J0IGNvbnN0IGJvcmRlclRvcCA9IGNyZWF0ZUJvcmRlclN0eWxlKCdib3JkZXJUb3AnLCBib3JkZXJUcmFuc2Zvcm0pO1xuZXhwb3J0IGNvbnN0IGJvcmRlclJpZ2h0ID0gY3JlYXRlQm9yZGVyU3R5bGUoJ2JvcmRlclJpZ2h0JywgYm9yZGVyVHJhbnNmb3JtKTtcbmV4cG9ydCBjb25zdCBib3JkZXJCb3R0b20gPSBjcmVhdGVCb3JkZXJTdHlsZSgnYm9yZGVyQm90dG9tJywgYm9yZGVyVHJhbnNmb3JtKTtcbmV4cG9ydCBjb25zdCBib3JkZXJMZWZ0ID0gY3JlYXRlQm9yZGVyU3R5bGUoJ2JvcmRlckxlZnQnLCBib3JkZXJUcmFuc2Zvcm0pO1xuZXhwb3J0IGNvbnN0IGJvcmRlckNvbG9yID0gY3JlYXRlQm9yZGVyU3R5bGUoJ2JvcmRlckNvbG9yJyk7XG5leHBvcnQgY29uc3QgYm9yZGVyVG9wQ29sb3IgPSBjcmVhdGVCb3JkZXJTdHlsZSgnYm9yZGVyVG9wQ29sb3InKTtcbmV4cG9ydCBjb25zdCBib3JkZXJSaWdodENvbG9yID0gY3JlYXRlQm9yZGVyU3R5bGUoJ2JvcmRlclJpZ2h0Q29sb3InKTtcbmV4cG9ydCBjb25zdCBib3JkZXJCb3R0b21Db2xvciA9IGNyZWF0ZUJvcmRlclN0eWxlKCdib3JkZXJCb3R0b21Db2xvcicpO1xuZXhwb3J0IGNvbnN0IGJvcmRlckxlZnRDb2xvciA9IGNyZWF0ZUJvcmRlclN0eWxlKCdib3JkZXJMZWZ0Q29sb3InKTtcbmV4cG9ydCBjb25zdCBvdXRsaW5lID0gY3JlYXRlQm9yZGVyU3R5bGUoJ291dGxpbmUnLCBib3JkZXJUcmFuc2Zvcm0pO1xuZXhwb3J0IGNvbnN0IG91dGxpbmVDb2xvciA9IGNyZWF0ZUJvcmRlclN0eWxlKCdvdXRsaW5lQ29sb3InKTtcblxuLy8gZmFsc2UgcG9zaXRpdmVcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9mdW5jdGlvbi1jb21wb25lbnQtZGVmaW5pdGlvblxuZXhwb3J0IGNvbnN0IGJvcmRlclJhZGl1cyA9IHByb3BzID0+IHtcbiAgaWYgKHByb3BzLmJvcmRlclJhZGl1cyAhPT0gdW5kZWZpbmVkICYmIHByb3BzLmJvcmRlclJhZGl1cyAhPT0gbnVsbCkge1xuICAgIGNvbnN0IHRyYW5zZm9ybWVyID0gY3JlYXRlVW5hcnlVbml0KHByb3BzLnRoZW1lLCAnc2hhcGUuYm9yZGVyUmFkaXVzJywgNCwgJ2JvcmRlclJhZGl1cycpO1xuICAgIGNvbnN0IHN0eWxlRnJvbVByb3BWYWx1ZSA9IHByb3BWYWx1ZSA9PiAoe1xuICAgICAgYm9yZGVyUmFkaXVzOiBnZXRWYWx1ZSh0cmFuc2Zvcm1lciwgcHJvcFZhbHVlKVxuICAgIH0pO1xuICAgIHJldHVybiBoYW5kbGVCcmVha3BvaW50cyhwcm9wcywgcHJvcHMuYm9yZGVyUmFkaXVzLCBzdHlsZUZyb21Qcm9wVmFsdWUpO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcbmJvcmRlclJhZGl1cy5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8ge1xuICBib3JkZXJSYWRpdXM6IHJlc3BvbnNpdmVQcm9wVHlwZVxufSA6IHt9O1xuYm9yZGVyUmFkaXVzLmZpbHRlclByb3BzID0gWydib3JkZXJSYWRpdXMnXTtcbmNvbnN0IGJvcmRlcnMgPSBjb21wb3NlKGJvcmRlciwgYm9yZGVyVG9wLCBib3JkZXJSaWdodCwgYm9yZGVyQm90dG9tLCBib3JkZXJMZWZ0LCBib3JkZXJDb2xvciwgYm9yZGVyVG9wQ29sb3IsIGJvcmRlclJpZ2h0Q29sb3IsIGJvcmRlckJvdHRvbUNvbG9yLCBib3JkZXJMZWZ0Q29sb3IsIGJvcmRlclJhZGl1cywgb3V0bGluZSwgb3V0bGluZUNvbG9yKTtcbmV4cG9ydCBkZWZhdWx0IGJvcmRlcnM7IiwKICAgICJpbXBvcnQgc3R5bGUgZnJvbSBcIi4uL3N0eWxlL2luZGV4LmpzXCI7XG5pbXBvcnQgY29tcG9zZSBmcm9tIFwiLi4vY29tcG9zZS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlVW5hcnlVbml0LCBnZXRWYWx1ZSB9IGZyb20gXCIuLi9zcGFjaW5nL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBoYW5kbGVCcmVha3BvaW50cyB9IGZyb20gXCIuLi9icmVha3BvaW50cy9pbmRleC5qc1wiO1xuaW1wb3J0IHJlc3BvbnNpdmVQcm9wVHlwZSBmcm9tIFwiLi4vcmVzcG9uc2l2ZVByb3BUeXBlL2luZGV4LmpzXCI7XG5cbi8vIGZhbHNlIHBvc2l0aXZlXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QvZnVuY3Rpb24tY29tcG9uZW50LWRlZmluaXRpb25cbmV4cG9ydCBjb25zdCBnYXAgPSBwcm9wcyA9PiB7XG4gIGlmIChwcm9wcy5nYXAgIT09IHVuZGVmaW5lZCAmJiBwcm9wcy5nYXAgIT09IG51bGwpIHtcbiAgICBjb25zdCB0cmFuc2Zvcm1lciA9IGNyZWF0ZVVuYXJ5VW5pdChwcm9wcy50aGVtZSwgJ3NwYWNpbmcnLCA4LCAnZ2FwJyk7XG4gICAgY29uc3Qgc3R5bGVGcm9tUHJvcFZhbHVlID0gcHJvcFZhbHVlID0+ICh7XG4gICAgICBnYXA6IGdldFZhbHVlKHRyYW5zZm9ybWVyLCBwcm9wVmFsdWUpXG4gICAgfSk7XG4gICAgcmV0dXJuIGhhbmRsZUJyZWFrcG9pbnRzKHByb3BzLCBwcm9wcy5nYXAsIHN0eWxlRnJvbVByb3BWYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuZ2FwLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB7XG4gIGdhcDogcmVzcG9uc2l2ZVByb3BUeXBlXG59IDoge307XG5nYXAuZmlsdGVyUHJvcHMgPSBbJ2dhcCddO1xuXG4vLyBmYWxzZSBwb3NpdGl2ZVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L2Z1bmN0aW9uLWNvbXBvbmVudC1kZWZpbml0aW9uXG5leHBvcnQgY29uc3QgY29sdW1uR2FwID0gcHJvcHMgPT4ge1xuICBpZiAocHJvcHMuY29sdW1uR2FwICE9PSB1bmRlZmluZWQgJiYgcHJvcHMuY29sdW1uR2FwICE9PSBudWxsKSB7XG4gICAgY29uc3QgdHJhbnNmb3JtZXIgPSBjcmVhdGVVbmFyeVVuaXQocHJvcHMudGhlbWUsICdzcGFjaW5nJywgOCwgJ2NvbHVtbkdhcCcpO1xuICAgIGNvbnN0IHN0eWxlRnJvbVByb3BWYWx1ZSA9IHByb3BWYWx1ZSA9PiAoe1xuICAgICAgY29sdW1uR2FwOiBnZXRWYWx1ZSh0cmFuc2Zvcm1lciwgcHJvcFZhbHVlKVxuICAgIH0pO1xuICAgIHJldHVybiBoYW5kbGVCcmVha3BvaW50cyhwcm9wcywgcHJvcHMuY29sdW1uR2FwLCBzdHlsZUZyb21Qcm9wVmFsdWUpO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcbmNvbHVtbkdhcC5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8ge1xuICBjb2x1bW5HYXA6IHJlc3BvbnNpdmVQcm9wVHlwZVxufSA6IHt9O1xuY29sdW1uR2FwLmZpbHRlclByb3BzID0gWydjb2x1bW5HYXAnXTtcblxuLy8gZmFsc2UgcG9zaXRpdmVcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9mdW5jdGlvbi1jb21wb25lbnQtZGVmaW5pdGlvblxuZXhwb3J0IGNvbnN0IHJvd0dhcCA9IHByb3BzID0+IHtcbiAgaWYgKHByb3BzLnJvd0dhcCAhPT0gdW5kZWZpbmVkICYmIHByb3BzLnJvd0dhcCAhPT0gbnVsbCkge1xuICAgIGNvbnN0IHRyYW5zZm9ybWVyID0gY3JlYXRlVW5hcnlVbml0KHByb3BzLnRoZW1lLCAnc3BhY2luZycsIDgsICdyb3dHYXAnKTtcbiAgICBjb25zdCBzdHlsZUZyb21Qcm9wVmFsdWUgPSBwcm9wVmFsdWUgPT4gKHtcbiAgICAgIHJvd0dhcDogZ2V0VmFsdWUodHJhbnNmb3JtZXIsIHByb3BWYWx1ZSlcbiAgICB9KTtcbiAgICByZXR1cm4gaGFuZGxlQnJlYWtwb2ludHMocHJvcHMsIHByb3BzLnJvd0dhcCwgc3R5bGVGcm9tUHJvcFZhbHVlKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5yb3dHYXAucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHtcbiAgcm93R2FwOiByZXNwb25zaXZlUHJvcFR5cGVcbn0gOiB7fTtcbnJvd0dhcC5maWx0ZXJQcm9wcyA9IFsncm93R2FwJ107XG5leHBvcnQgY29uc3QgZ3JpZENvbHVtbiA9IHN0eWxlKHtcbiAgcHJvcDogJ2dyaWRDb2x1bW4nXG59KTtcbmV4cG9ydCBjb25zdCBncmlkUm93ID0gc3R5bGUoe1xuICBwcm9wOiAnZ3JpZFJvdydcbn0pO1xuZXhwb3J0IGNvbnN0IGdyaWRBdXRvRmxvdyA9IHN0eWxlKHtcbiAgcHJvcDogJ2dyaWRBdXRvRmxvdydcbn0pO1xuZXhwb3J0IGNvbnN0IGdyaWRBdXRvQ29sdW1ucyA9IHN0eWxlKHtcbiAgcHJvcDogJ2dyaWRBdXRvQ29sdW1ucydcbn0pO1xuZXhwb3J0IGNvbnN0IGdyaWRBdXRvUm93cyA9IHN0eWxlKHtcbiAgcHJvcDogJ2dyaWRBdXRvUm93cydcbn0pO1xuZXhwb3J0IGNvbnN0IGdyaWRUZW1wbGF0ZUNvbHVtbnMgPSBzdHlsZSh7XG4gIHByb3A6ICdncmlkVGVtcGxhdGVDb2x1bW5zJ1xufSk7XG5leHBvcnQgY29uc3QgZ3JpZFRlbXBsYXRlUm93cyA9IHN0eWxlKHtcbiAgcHJvcDogJ2dyaWRUZW1wbGF0ZVJvd3MnXG59KTtcbmV4cG9ydCBjb25zdCBncmlkVGVtcGxhdGVBcmVhcyA9IHN0eWxlKHtcbiAgcHJvcDogJ2dyaWRUZW1wbGF0ZUFyZWFzJ1xufSk7XG5leHBvcnQgY29uc3QgZ3JpZEFyZWEgPSBzdHlsZSh7XG4gIHByb3A6ICdncmlkQXJlYSdcbn0pO1xuY29uc3QgZ3JpZCA9IGNvbXBvc2UoZ2FwLCBjb2x1bW5HYXAsIHJvd0dhcCwgZ3JpZENvbHVtbiwgZ3JpZFJvdywgZ3JpZEF1dG9GbG93LCBncmlkQXV0b0NvbHVtbnMsIGdyaWRBdXRvUm93cywgZ3JpZFRlbXBsYXRlQ29sdW1ucywgZ3JpZFRlbXBsYXRlUm93cywgZ3JpZFRlbXBsYXRlQXJlYXMsIGdyaWRBcmVhKTtcbmV4cG9ydCBkZWZhdWx0IGdyaWQ7IiwKICAgICJpbXBvcnQgc3R5bGUgZnJvbSBcIi4uL3N0eWxlL2luZGV4LmpzXCI7XG5pbXBvcnQgY29tcG9zZSBmcm9tIFwiLi4vY29tcG9zZS9pbmRleC5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhbGV0dGVUcmFuc2Zvcm0odmFsdWUsIHVzZXJWYWx1ZSkge1xuICBpZiAodXNlclZhbHVlID09PSAnZ3JleScpIHtcbiAgICByZXR1cm4gdXNlclZhbHVlO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cbmV4cG9ydCBjb25zdCBjb2xvciA9IHN0eWxlKHtcbiAgcHJvcDogJ2NvbG9yJyxcbiAgdGhlbWVLZXk6ICdwYWxldHRlJyxcbiAgdHJhbnNmb3JtOiBwYWxldHRlVHJhbnNmb3JtXG59KTtcbmV4cG9ydCBjb25zdCBiZ2NvbG9yID0gc3R5bGUoe1xuICBwcm9wOiAnYmdjb2xvcicsXG4gIGNzc1Byb3BlcnR5OiAnYmFja2dyb3VuZENvbG9yJyxcbiAgdGhlbWVLZXk6ICdwYWxldHRlJyxcbiAgdHJhbnNmb3JtOiBwYWxldHRlVHJhbnNmb3JtXG59KTtcbmV4cG9ydCBjb25zdCBiYWNrZ3JvdW5kQ29sb3IgPSBzdHlsZSh7XG4gIHByb3A6ICdiYWNrZ3JvdW5kQ29sb3InLFxuICB0aGVtZUtleTogJ3BhbGV0dGUnLFxuICB0cmFuc2Zvcm06IHBhbGV0dGVUcmFuc2Zvcm1cbn0pO1xuY29uc3QgcGFsZXR0ZSA9IGNvbXBvc2UoY29sb3IsIGJnY29sb3IsIGJhY2tncm91bmRDb2xvcik7XG5leHBvcnQgZGVmYXVsdCBwYWxldHRlOyIsCiAgICAiaW1wb3J0IHN0eWxlIGZyb20gXCIuLi9zdHlsZS9pbmRleC5qc1wiO1xuaW1wb3J0IGNvbXBvc2UgZnJvbSBcIi4uL2NvbXBvc2UvaW5kZXguanNcIjtcbmltcG9ydCB7IGhhbmRsZUJyZWFrcG9pbnRzLCB2YWx1ZXMgYXMgYnJlYWtwb2ludHNWYWx1ZXMgfSBmcm9tIFwiLi4vYnJlYWtwb2ludHMvaW5kZXguanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBzaXppbmdUcmFuc2Zvcm0odmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlIDw9IDEgJiYgdmFsdWUgIT09IDAgPyBgJHt2YWx1ZSAqIDEwMH0lYCA6IHZhbHVlO1xufVxuZXhwb3J0IGNvbnN0IHdpZHRoID0gc3R5bGUoe1xuICBwcm9wOiAnd2lkdGgnLFxuICB0cmFuc2Zvcm06IHNpemluZ1RyYW5zZm9ybVxufSk7XG5leHBvcnQgY29uc3QgbWF4V2lkdGggPSBwcm9wcyA9PiB7XG4gIGlmIChwcm9wcy5tYXhXaWR0aCAhPT0gdW5kZWZpbmVkICYmIHByb3BzLm1heFdpZHRoICE9PSBudWxsKSB7XG4gICAgY29uc3Qgc3R5bGVGcm9tUHJvcFZhbHVlID0gcHJvcFZhbHVlID0+IHtcbiAgICAgIGNvbnN0IGJyZWFrcG9pbnQgPSBwcm9wcy50aGVtZT8uYnJlYWtwb2ludHM/LnZhbHVlcz8uW3Byb3BWYWx1ZV0gfHwgYnJlYWtwb2ludHNWYWx1ZXNbcHJvcFZhbHVlXTtcbiAgICAgIGlmICghYnJlYWtwb2ludCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG1heFdpZHRoOiBzaXppbmdUcmFuc2Zvcm0ocHJvcFZhbHVlKVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgaWYgKHByb3BzLnRoZW1lPy5icmVha3BvaW50cz8udW5pdCAhPT0gJ3B4Jykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG1heFdpZHRoOiBgJHticmVha3BvaW50fSR7cHJvcHMudGhlbWUuYnJlYWtwb2ludHMudW5pdH1gXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBtYXhXaWR0aDogYnJlYWtwb2ludFxuICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiBoYW5kbGVCcmVha3BvaW50cyhwcm9wcywgcHJvcHMubWF4V2lkdGgsIHN0eWxlRnJvbVByb3BWYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xubWF4V2lkdGguZmlsdGVyUHJvcHMgPSBbJ21heFdpZHRoJ107XG5leHBvcnQgY29uc3QgbWluV2lkdGggPSBzdHlsZSh7XG4gIHByb3A6ICdtaW5XaWR0aCcsXG4gIHRyYW5zZm9ybTogc2l6aW5nVHJhbnNmb3JtXG59KTtcbmV4cG9ydCBjb25zdCBoZWlnaHQgPSBzdHlsZSh7XG4gIHByb3A6ICdoZWlnaHQnLFxuICB0cmFuc2Zvcm06IHNpemluZ1RyYW5zZm9ybVxufSk7XG5leHBvcnQgY29uc3QgbWF4SGVpZ2h0ID0gc3R5bGUoe1xuICBwcm9wOiAnbWF4SGVpZ2h0JyxcbiAgdHJhbnNmb3JtOiBzaXppbmdUcmFuc2Zvcm1cbn0pO1xuZXhwb3J0IGNvbnN0IG1pbkhlaWdodCA9IHN0eWxlKHtcbiAgcHJvcDogJ21pbkhlaWdodCcsXG4gIHRyYW5zZm9ybTogc2l6aW5nVHJhbnNmb3JtXG59KTtcbmV4cG9ydCBjb25zdCBzaXplV2lkdGggPSBzdHlsZSh7XG4gIHByb3A6ICdzaXplJyxcbiAgY3NzUHJvcGVydHk6ICd3aWR0aCcsXG4gIHRyYW5zZm9ybTogc2l6aW5nVHJhbnNmb3JtXG59KTtcbmV4cG9ydCBjb25zdCBzaXplSGVpZ2h0ID0gc3R5bGUoe1xuICBwcm9wOiAnc2l6ZScsXG4gIGNzc1Byb3BlcnR5OiAnaGVpZ2h0JyxcbiAgdHJhbnNmb3JtOiBzaXppbmdUcmFuc2Zvcm1cbn0pO1xuZXhwb3J0IGNvbnN0IGJveFNpemluZyA9IHN0eWxlKHtcbiAgcHJvcDogJ2JveFNpemluZydcbn0pO1xuY29uc3Qgc2l6aW5nID0gY29tcG9zZSh3aWR0aCwgbWF4V2lkdGgsIG1pbldpZHRoLCBoZWlnaHQsIG1heEhlaWdodCwgbWluSGVpZ2h0LCBib3hTaXppbmcpO1xuZXhwb3J0IGRlZmF1bHQgc2l6aW5nOyIsCiAgICAiaW1wb3J0IHsgcGFkZGluZywgbWFyZ2luIH0gZnJvbSBcIi4uL3NwYWNpbmcvaW5kZXguanNcIjtcbmltcG9ydCB7IGJvcmRlclJhZGl1cywgYm9yZGVyVHJhbnNmb3JtIH0gZnJvbSBcIi4uL2JvcmRlcnMvaW5kZXguanNcIjtcbmltcG9ydCB7IGdhcCwgcm93R2FwLCBjb2x1bW5HYXAgfSBmcm9tIFwiLi4vY3NzR3JpZC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgcGFsZXR0ZVRyYW5zZm9ybSB9IGZyb20gXCIuLi9wYWxldHRlL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBtYXhXaWR0aCwgc2l6aW5nVHJhbnNmb3JtIH0gZnJvbSBcIi4uL3NpemluZy9pbmRleC5qc1wiO1xuY29uc3QgZGVmYXVsdFN4Q29uZmlnID0ge1xuICAvLyBib3JkZXJzXG4gIGJvcmRlcjoge1xuICAgIHRoZW1lS2V5OiAnYm9yZGVycycsXG4gICAgdHJhbnNmb3JtOiBib3JkZXJUcmFuc2Zvcm1cbiAgfSxcbiAgYm9yZGVyVG9wOiB7XG4gICAgdGhlbWVLZXk6ICdib3JkZXJzJyxcbiAgICB0cmFuc2Zvcm06IGJvcmRlclRyYW5zZm9ybVxuICB9LFxuICBib3JkZXJSaWdodDoge1xuICAgIHRoZW1lS2V5OiAnYm9yZGVycycsXG4gICAgdHJhbnNmb3JtOiBib3JkZXJUcmFuc2Zvcm1cbiAgfSxcbiAgYm9yZGVyQm90dG9tOiB7XG4gICAgdGhlbWVLZXk6ICdib3JkZXJzJyxcbiAgICB0cmFuc2Zvcm06IGJvcmRlclRyYW5zZm9ybVxuICB9LFxuICBib3JkZXJMZWZ0OiB7XG4gICAgdGhlbWVLZXk6ICdib3JkZXJzJyxcbiAgICB0cmFuc2Zvcm06IGJvcmRlclRyYW5zZm9ybVxuICB9LFxuICBib3JkZXJDb2xvcjoge1xuICAgIHRoZW1lS2V5OiAncGFsZXR0ZSdcbiAgfSxcbiAgYm9yZGVyVG9wQ29sb3I6IHtcbiAgICB0aGVtZUtleTogJ3BhbGV0dGUnXG4gIH0sXG4gIGJvcmRlclJpZ2h0Q29sb3I6IHtcbiAgICB0aGVtZUtleTogJ3BhbGV0dGUnXG4gIH0sXG4gIGJvcmRlckJvdHRvbUNvbG9yOiB7XG4gICAgdGhlbWVLZXk6ICdwYWxldHRlJ1xuICB9LFxuICBib3JkZXJMZWZ0Q29sb3I6IHtcbiAgICB0aGVtZUtleTogJ3BhbGV0dGUnXG4gIH0sXG4gIG91dGxpbmU6IHtcbiAgICB0aGVtZUtleTogJ2JvcmRlcnMnLFxuICAgIHRyYW5zZm9ybTogYm9yZGVyVHJhbnNmb3JtXG4gIH0sXG4gIG91dGxpbmVDb2xvcjoge1xuICAgIHRoZW1lS2V5OiAncGFsZXR0ZSdcbiAgfSxcbiAgYm9yZGVyUmFkaXVzOiB7XG4gICAgdGhlbWVLZXk6ICdzaGFwZS5ib3JkZXJSYWRpdXMnLFxuICAgIHN0eWxlOiBib3JkZXJSYWRpdXNcbiAgfSxcbiAgLy8gcGFsZXR0ZVxuICBjb2xvcjoge1xuICAgIHRoZW1lS2V5OiAncGFsZXR0ZScsXG4gICAgdHJhbnNmb3JtOiBwYWxldHRlVHJhbnNmb3JtXG4gIH0sXG4gIGJnY29sb3I6IHtcbiAgICB0aGVtZUtleTogJ3BhbGV0dGUnLFxuICAgIGNzc1Byb3BlcnR5OiAnYmFja2dyb3VuZENvbG9yJyxcbiAgICB0cmFuc2Zvcm06IHBhbGV0dGVUcmFuc2Zvcm1cbiAgfSxcbiAgYmFja2dyb3VuZENvbG9yOiB7XG4gICAgdGhlbWVLZXk6ICdwYWxldHRlJyxcbiAgICB0cmFuc2Zvcm06IHBhbGV0dGVUcmFuc2Zvcm1cbiAgfSxcbiAgLy8gc3BhY2luZ1xuICBwOiB7XG4gICAgc3R5bGU6IHBhZGRpbmdcbiAgfSxcbiAgcHQ6IHtcbiAgICBzdHlsZTogcGFkZGluZ1xuICB9LFxuICBwcjoge1xuICAgIHN0eWxlOiBwYWRkaW5nXG4gIH0sXG4gIHBiOiB7XG4gICAgc3R5bGU6IHBhZGRpbmdcbiAgfSxcbiAgcGw6IHtcbiAgICBzdHlsZTogcGFkZGluZ1xuICB9LFxuICBweDoge1xuICAgIHN0eWxlOiBwYWRkaW5nXG4gIH0sXG4gIHB5OiB7XG4gICAgc3R5bGU6IHBhZGRpbmdcbiAgfSxcbiAgcGFkZGluZzoge1xuICAgIHN0eWxlOiBwYWRkaW5nXG4gIH0sXG4gIHBhZGRpbmdUb3A6IHtcbiAgICBzdHlsZTogcGFkZGluZ1xuICB9LFxuICBwYWRkaW5nUmlnaHQ6IHtcbiAgICBzdHlsZTogcGFkZGluZ1xuICB9LFxuICBwYWRkaW5nQm90dG9tOiB7XG4gICAgc3R5bGU6IHBhZGRpbmdcbiAgfSxcbiAgcGFkZGluZ0xlZnQ6IHtcbiAgICBzdHlsZTogcGFkZGluZ1xuICB9LFxuICBwYWRkaW5nWDoge1xuICAgIHN0eWxlOiBwYWRkaW5nXG4gIH0sXG4gIHBhZGRpbmdZOiB7XG4gICAgc3R5bGU6IHBhZGRpbmdcbiAgfSxcbiAgcGFkZGluZ0lubGluZToge1xuICAgIHN0eWxlOiBwYWRkaW5nXG4gIH0sXG4gIHBhZGRpbmdJbmxpbmVTdGFydDoge1xuICAgIHN0eWxlOiBwYWRkaW5nXG4gIH0sXG4gIHBhZGRpbmdJbmxpbmVFbmQ6IHtcbiAgICBzdHlsZTogcGFkZGluZ1xuICB9LFxuICBwYWRkaW5nQmxvY2s6IHtcbiAgICBzdHlsZTogcGFkZGluZ1xuICB9LFxuICBwYWRkaW5nQmxvY2tTdGFydDoge1xuICAgIHN0eWxlOiBwYWRkaW5nXG4gIH0sXG4gIHBhZGRpbmdCbG9ja0VuZDoge1xuICAgIHN0eWxlOiBwYWRkaW5nXG4gIH0sXG4gIG06IHtcbiAgICBzdHlsZTogbWFyZ2luXG4gIH0sXG4gIG10OiB7XG4gICAgc3R5bGU6IG1hcmdpblxuICB9LFxuICBtcjoge1xuICAgIHN0eWxlOiBtYXJnaW5cbiAgfSxcbiAgbWI6IHtcbiAgICBzdHlsZTogbWFyZ2luXG4gIH0sXG4gIG1sOiB7XG4gICAgc3R5bGU6IG1hcmdpblxuICB9LFxuICBteDoge1xuICAgIHN0eWxlOiBtYXJnaW5cbiAgfSxcbiAgbXk6IHtcbiAgICBzdHlsZTogbWFyZ2luXG4gIH0sXG4gIG1hcmdpbjoge1xuICAgIHN0eWxlOiBtYXJnaW5cbiAgfSxcbiAgbWFyZ2luVG9wOiB7XG4gICAgc3R5bGU6IG1hcmdpblxuICB9LFxuICBtYXJnaW5SaWdodDoge1xuICAgIHN0eWxlOiBtYXJnaW5cbiAgfSxcbiAgbWFyZ2luQm90dG9tOiB7XG4gICAgc3R5bGU6IG1hcmdpblxuICB9LFxuICBtYXJnaW5MZWZ0OiB7XG4gICAgc3R5bGU6IG1hcmdpblxuICB9LFxuICBtYXJnaW5YOiB7XG4gICAgc3R5bGU6IG1hcmdpblxuICB9LFxuICBtYXJnaW5ZOiB7XG4gICAgc3R5bGU6IG1hcmdpblxuICB9LFxuICBtYXJnaW5JbmxpbmU6IHtcbiAgICBzdHlsZTogbWFyZ2luXG4gIH0sXG4gIG1hcmdpbklubGluZVN0YXJ0OiB7XG4gICAgc3R5bGU6IG1hcmdpblxuICB9LFxuICBtYXJnaW5JbmxpbmVFbmQ6IHtcbiAgICBzdHlsZTogbWFyZ2luXG4gIH0sXG4gIG1hcmdpbkJsb2NrOiB7XG4gICAgc3R5bGU6IG1hcmdpblxuICB9LFxuICBtYXJnaW5CbG9ja1N0YXJ0OiB7XG4gICAgc3R5bGU6IG1hcmdpblxuICB9LFxuICBtYXJnaW5CbG9ja0VuZDoge1xuICAgIHN0eWxlOiBtYXJnaW5cbiAgfSxcbiAgLy8gZGlzcGxheVxuICBkaXNwbGF5UHJpbnQ6IHtcbiAgICBjc3NQcm9wZXJ0eTogZmFsc2UsXG4gICAgdHJhbnNmb3JtOiB2YWx1ZSA9PiAoe1xuICAgICAgJ0BtZWRpYSBwcmludCc6IHtcbiAgICAgICAgZGlzcGxheTogdmFsdWVcbiAgICAgIH1cbiAgICB9KVxuICB9LFxuICBkaXNwbGF5OiB7fSxcbiAgb3ZlcmZsb3c6IHt9LFxuICB0ZXh0T3ZlcmZsb3c6IHt9LFxuICB2aXNpYmlsaXR5OiB7fSxcbiAgd2hpdGVTcGFjZToge30sXG4gIC8vIGZsZXhib3hcbiAgZmxleEJhc2lzOiB7fSxcbiAgZmxleERpcmVjdGlvbjoge30sXG4gIGZsZXhXcmFwOiB7fSxcbiAganVzdGlmeUNvbnRlbnQ6IHt9LFxuICBhbGlnbkl0ZW1zOiB7fSxcbiAgYWxpZ25Db250ZW50OiB7fSxcbiAgb3JkZXI6IHt9LFxuICBmbGV4OiB7fSxcbiAgZmxleEdyb3c6IHt9LFxuICBmbGV4U2hyaW5rOiB7fSxcbiAgYWxpZ25TZWxmOiB7fSxcbiAganVzdGlmeUl0ZW1zOiB7fSxcbiAganVzdGlmeVNlbGY6IHt9LFxuICAvLyBncmlkXG4gIGdhcDoge1xuICAgIHN0eWxlOiBnYXBcbiAgfSxcbiAgcm93R2FwOiB7XG4gICAgc3R5bGU6IHJvd0dhcFxuICB9LFxuICBjb2x1bW5HYXA6IHtcbiAgICBzdHlsZTogY29sdW1uR2FwXG4gIH0sXG4gIGdyaWRDb2x1bW46IHt9LFxuICBncmlkUm93OiB7fSxcbiAgZ3JpZEF1dG9GbG93OiB7fSxcbiAgZ3JpZEF1dG9Db2x1bW5zOiB7fSxcbiAgZ3JpZEF1dG9Sb3dzOiB7fSxcbiAgZ3JpZFRlbXBsYXRlQ29sdW1uczoge30sXG4gIGdyaWRUZW1wbGF0ZVJvd3M6IHt9LFxuICBncmlkVGVtcGxhdGVBcmVhczoge30sXG4gIGdyaWRBcmVhOiB7fSxcbiAgLy8gcG9zaXRpb25zXG4gIHBvc2l0aW9uOiB7fSxcbiAgekluZGV4OiB7XG4gICAgdGhlbWVLZXk6ICd6SW5kZXgnXG4gIH0sXG4gIHRvcDoge30sXG4gIHJpZ2h0OiB7fSxcbiAgYm90dG9tOiB7fSxcbiAgbGVmdDoge30sXG4gIC8vIHNoYWRvd3NcbiAgYm94U2hhZG93OiB7XG4gICAgdGhlbWVLZXk6ICdzaGFkb3dzJ1xuICB9LFxuICAvLyBzaXppbmdcbiAgd2lkdGg6IHtcbiAgICB0cmFuc2Zvcm06IHNpemluZ1RyYW5zZm9ybVxuICB9LFxuICBtYXhXaWR0aDoge1xuICAgIHN0eWxlOiBtYXhXaWR0aFxuICB9LFxuICBtaW5XaWR0aDoge1xuICAgIHRyYW5zZm9ybTogc2l6aW5nVHJhbnNmb3JtXG4gIH0sXG4gIGhlaWdodDoge1xuICAgIHRyYW5zZm9ybTogc2l6aW5nVHJhbnNmb3JtXG4gIH0sXG4gIG1heEhlaWdodDoge1xuICAgIHRyYW5zZm9ybTogc2l6aW5nVHJhbnNmb3JtXG4gIH0sXG4gIG1pbkhlaWdodDoge1xuICAgIHRyYW5zZm9ybTogc2l6aW5nVHJhbnNmb3JtXG4gIH0sXG4gIGJveFNpemluZzoge30sXG4gIC8vIHR5cG9ncmFwaHlcbiAgZm9udDoge1xuICAgIHRoZW1lS2V5OiAnZm9udCdcbiAgfSxcbiAgZm9udEZhbWlseToge1xuICAgIHRoZW1lS2V5OiAndHlwb2dyYXBoeSdcbiAgfSxcbiAgZm9udFNpemU6IHtcbiAgICB0aGVtZUtleTogJ3R5cG9ncmFwaHknXG4gIH0sXG4gIGZvbnRTdHlsZToge1xuICAgIHRoZW1lS2V5OiAndHlwb2dyYXBoeSdcbiAgfSxcbiAgZm9udFdlaWdodDoge1xuICAgIHRoZW1lS2V5OiAndHlwb2dyYXBoeSdcbiAgfSxcbiAgbGV0dGVyU3BhY2luZzoge30sXG4gIHRleHRUcmFuc2Zvcm06IHt9LFxuICBsaW5lSGVpZ2h0OiB7fSxcbiAgdGV4dEFsaWduOiB7fSxcbiAgdHlwb2dyYXBoeToge1xuICAgIGNzc1Byb3BlcnR5OiBmYWxzZSxcbiAgICB0aGVtZUtleTogJ3R5cG9ncmFwaHknXG4gIH1cbn07XG5leHBvcnQgZGVmYXVsdCBkZWZhdWx0U3hDb25maWc7IiwKICAgICJpbXBvcnQgY2FwaXRhbGl6ZSBmcm9tICdAbXVpL3V0aWxzL2NhcGl0YWxpemUnO1xuaW1wb3J0IG1lcmdlIGZyb20gXCIuLi9tZXJnZS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgZ2V0UGF0aCwgZ2V0U3R5bGVWYWx1ZSBhcyBnZXRWYWx1ZSB9IGZyb20gXCIuLi9zdHlsZS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgaGFuZGxlQnJlYWtwb2ludHMsIGNyZWF0ZUVtcHR5QnJlYWtwb2ludE9iamVjdCwgcmVtb3ZlVW51c2VkQnJlYWtwb2ludHMgfSBmcm9tIFwiLi4vYnJlYWtwb2ludHMvaW5kZXguanNcIjtcbmltcG9ydCB7IHNvcnRDb250YWluZXJRdWVyaWVzIH0gZnJvbSBcIi4uL2Nzc0NvbnRhaW5lclF1ZXJpZXMvaW5kZXguanNcIjtcbmltcG9ydCBkZWZhdWx0U3hDb25maWcgZnJvbSBcIi4vZGVmYXVsdFN4Q29uZmlnLmpzXCI7XG5mdW5jdGlvbiBvYmplY3RzSGF2ZVNhbWVLZXlzKC4uLm9iamVjdHMpIHtcbiAgY29uc3QgYWxsS2V5cyA9IG9iamVjdHMucmVkdWNlKChrZXlzLCBvYmplY3QpID0+IGtleXMuY29uY2F0KE9iamVjdC5rZXlzKG9iamVjdCkpLCBbXSk7XG4gIGNvbnN0IHVuaW9uID0gbmV3IFNldChhbGxLZXlzKTtcbiAgcmV0dXJuIG9iamVjdHMuZXZlcnkob2JqZWN0ID0+IHVuaW9uLnNpemUgPT09IE9iamVjdC5rZXlzKG9iamVjdCkubGVuZ3RoKTtcbn1cbmZ1bmN0aW9uIGNhbGxJZkZuKG1heWJlRm4sIGFyZykge1xuICByZXR1cm4gdHlwZW9mIG1heWJlRm4gPT09ICdmdW5jdGlvbicgPyBtYXliZUZuKGFyZykgOiBtYXliZUZuO1xufVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25hbWluZy1jb252ZW50aW9uXG5leHBvcnQgZnVuY3Rpb24gdW5zdGFibGVfY3JlYXRlU3R5bGVGdW5jdGlvblN4KCkge1xuICBmdW5jdGlvbiBnZXRUaGVtZVZhbHVlKHByb3AsIHZhbCwgdGhlbWUsIGNvbmZpZykge1xuICAgIGNvbnN0IHByb3BzID0ge1xuICAgICAgW3Byb3BdOiB2YWwsXG4gICAgICB0aGVtZVxuICAgIH07XG4gICAgY29uc3Qgb3B0aW9ucyA9IGNvbmZpZ1twcm9wXTtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIFtwcm9wXTogdmFsXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCB7XG4gICAgICBjc3NQcm9wZXJ0eSA9IHByb3AsXG4gICAgICB0aGVtZUtleSxcbiAgICAgIHRyYW5zZm9ybSxcbiAgICAgIHN0eWxlXG4gICAgfSA9IG9wdGlvbnM7XG4gICAgaWYgKHZhbCA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBUT0RPIHY2OiByZW1vdmUsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbXVpL21hdGVyaWFsLXVpL3B1bGwvMzgxMjNcbiAgICBpZiAodGhlbWVLZXkgPT09ICd0eXBvZ3JhcGh5JyAmJiB2YWwgPT09ICdpbmhlcml0Jykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgW3Byb3BdOiB2YWxcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHRoZW1lTWFwcGluZyA9IGdldFBhdGgodGhlbWUsIHRoZW1lS2V5KSB8fCB7fTtcbiAgICBpZiAoc3R5bGUpIHtcbiAgICAgIHJldHVybiBzdHlsZShwcm9wcyk7XG4gICAgfVxuICAgIGNvbnN0IHN0eWxlRnJvbVByb3BWYWx1ZSA9IHByb3BWYWx1ZUZpbmFsID0+IHtcbiAgICAgIGxldCB2YWx1ZSA9IGdldFZhbHVlKHRoZW1lTWFwcGluZywgdHJhbnNmb3JtLCBwcm9wVmFsdWVGaW5hbCk7XG4gICAgICBpZiAocHJvcFZhbHVlRmluYWwgPT09IHZhbHVlICYmIHR5cGVvZiBwcm9wVmFsdWVGaW5hbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gSGF2ZW4ndCBmb3VuZCB2YWx1ZVxuICAgICAgICB2YWx1ZSA9IGdldFZhbHVlKHRoZW1lTWFwcGluZywgdHJhbnNmb3JtLCBgJHtwcm9wfSR7cHJvcFZhbHVlRmluYWwgPT09ICdkZWZhdWx0JyA/ICcnIDogY2FwaXRhbGl6ZShwcm9wVmFsdWVGaW5hbCl9YCwgcHJvcFZhbHVlRmluYWwpO1xuICAgICAgfVxuICAgICAgaWYgKGNzc1Byb3BlcnR5ID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBbY3NzUHJvcGVydHldOiB2YWx1ZVxuICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiBoYW5kbGVCcmVha3BvaW50cyhwcm9wcywgdmFsLCBzdHlsZUZyb21Qcm9wVmFsdWUpO1xuICB9XG4gIGZ1bmN0aW9uIHN0eWxlRnVuY3Rpb25TeChwcm9wcykge1xuICAgIGNvbnN0IHtcbiAgICAgIHN4LFxuICAgICAgdGhlbWUgPSB7fSxcbiAgICAgIG5lc3RlZFxuICAgIH0gPSBwcm9wcyB8fCB7fTtcbiAgICBpZiAoIXN4KSB7XG4gICAgICByZXR1cm4gbnVsbDsgLy8gRW1vdGlvbiAmIHN0eWxlZC1jb21wb25lbnRzIHdpbGwgbmVnbGVjdCBudWxsXG4gICAgfVxuICAgIGNvbnN0IGNvbmZpZyA9IHRoZW1lLnVuc3RhYmxlX3N4Q29uZmlnID8/IGRlZmF1bHRTeENvbmZpZztcblxuICAgIC8qXG4gICAgICogUmVjZWl2ZSBgc3hJbnB1dGAgYXMgb2JqZWN0IG9yIGNhbGxiYWNrXG4gICAgICogYW5kIHRoZW4gcmVjdXJzaXZlbHkgY2hlY2sga2V5cyAmIHZhbHVlcyB0byBjcmVhdGUgbWVkaWEgcXVlcnkgb2JqZWN0IHN0eWxlcy5cbiAgICAgKiAodGhlIHJlc3VsdCB3aWxsIGJlIHVzZWQgaW4gYHN0eWxlZGApXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJhdmVyc2Uoc3hJbnB1dCkge1xuICAgICAgbGV0IHN4T2JqZWN0ID0gc3hJbnB1dDtcbiAgICAgIGlmICh0eXBlb2Ygc3hJbnB1dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBzeE9iamVjdCA9IHN4SW5wdXQodGhlbWUpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc3hJbnB1dCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gdmFsdWVcbiAgICAgICAgcmV0dXJuIHN4SW5wdXQ7XG4gICAgICB9XG4gICAgICBpZiAoIXN4T2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgY29uc3QgZW1wdHlCcmVha3BvaW50cyA9IGNyZWF0ZUVtcHR5QnJlYWtwb2ludE9iamVjdCh0aGVtZS5icmVha3BvaW50cyk7XG4gICAgICBjb25zdCBicmVha3BvaW50c0tleXMgPSBPYmplY3Qua2V5cyhlbXB0eUJyZWFrcG9pbnRzKTtcbiAgICAgIGxldCBjc3MgPSBlbXB0eUJyZWFrcG9pbnRzO1xuICAgICAgT2JqZWN0LmtleXMoc3hPYmplY3QpLmZvckVhY2goc3R5bGVLZXkgPT4ge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGNhbGxJZkZuKHN4T2JqZWN0W3N0eWxlS2V5XSwgdGhlbWUpO1xuICAgICAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBpZiAoY29uZmlnW3N0eWxlS2V5XSkge1xuICAgICAgICAgICAgICBjc3MgPSBtZXJnZShjc3MsIGdldFRoZW1lVmFsdWUoc3R5bGVLZXksIHZhbHVlLCB0aGVtZSwgY29uZmlnKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zdCBicmVha3BvaW50c1ZhbHVlcyA9IGhhbmRsZUJyZWFrcG9pbnRzKHtcbiAgICAgICAgICAgICAgICB0aGVtZVxuICAgICAgICAgICAgICB9LCB2YWx1ZSwgeCA9PiAoe1xuICAgICAgICAgICAgICAgIFtzdHlsZUtleV06IHhcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICBpZiAob2JqZWN0c0hhdmVTYW1lS2V5cyhicmVha3BvaW50c1ZhbHVlcywgdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgY3NzW3N0eWxlS2V5XSA9IHN0eWxlRnVuY3Rpb25TeCh7XG4gICAgICAgICAgICAgICAgICBzeDogdmFsdWUsXG4gICAgICAgICAgICAgICAgICB0aGVtZSxcbiAgICAgICAgICAgICAgICAgIG5lc3RlZDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNzcyA9IG1lcmdlKGNzcywgYnJlYWtwb2ludHNWYWx1ZXMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNzcyA9IG1lcmdlKGNzcywgZ2V0VGhlbWVWYWx1ZShzdHlsZUtleSwgdmFsdWUsIHRoZW1lLCBjb25maWcpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCFuZXN0ZWQgJiYgdGhlbWUubW9kdWxhckNzc0xheWVycykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICdAbGF5ZXIgc3gnOiBzb3J0Q29udGFpbmVyUXVlcmllcyh0aGVtZSwgcmVtb3ZlVW51c2VkQnJlYWtwb2ludHMoYnJlYWtwb2ludHNLZXlzLCBjc3MpKVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNvcnRDb250YWluZXJRdWVyaWVzKHRoZW1lLCByZW1vdmVVbnVzZWRCcmVha3BvaW50cyhicmVha3BvaW50c0tleXMsIGNzcykpO1xuICAgIH1cbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShzeCkgPyBzeC5tYXAodHJhdmVyc2UpIDogdHJhdmVyc2Uoc3gpO1xuICB9XG4gIHJldHVybiBzdHlsZUZ1bmN0aW9uU3g7XG59XG5jb25zdCBzdHlsZUZ1bmN0aW9uU3ggPSB1bnN0YWJsZV9jcmVhdGVTdHlsZUZ1bmN0aW9uU3goKTtcbnN0eWxlRnVuY3Rpb25TeC5maWx0ZXJQcm9wcyA9IFsnc3gnXTtcbmV4cG9ydCBkZWZhdWx0IHN0eWxlRnVuY3Rpb25TeDsiLAogICAgImltcG9ydCB7IGlzUGxhaW5PYmplY3QgfSBmcm9tICdAbXVpL3V0aWxzL2RlZXBtZXJnZSc7XG5pbXBvcnQgZGVmYXVsdFN4Q29uZmlnIGZyb20gXCIuL2RlZmF1bHRTeENvbmZpZy5qc1wiO1xuY29uc3Qgc3BsaXRQcm9wcyA9IHByb3BzID0+IHtcbiAgY29uc3QgcmVzdWx0ID0ge1xuICAgIHN5c3RlbVByb3BzOiB7fSxcbiAgICBvdGhlclByb3BzOiB7fVxuICB9O1xuICBjb25zdCBjb25maWcgPSBwcm9wcz8udGhlbWU/LnVuc3RhYmxlX3N4Q29uZmlnID8/IGRlZmF1bHRTeENvbmZpZztcbiAgT2JqZWN0LmtleXMocHJvcHMpLmZvckVhY2gocHJvcCA9PiB7XG4gICAgaWYgKGNvbmZpZ1twcm9wXSkge1xuICAgICAgcmVzdWx0LnN5c3RlbVByb3BzW3Byb3BdID0gcHJvcHNbcHJvcF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5vdGhlclByb3BzW3Byb3BdID0gcHJvcHNbcHJvcF07XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBleHRlbmRTeFByb3AocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIHN4OiBpblN4LFxuICAgIC4uLm90aGVyXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qge1xuICAgIHN5c3RlbVByb3BzLFxuICAgIG90aGVyUHJvcHNcbiAgfSA9IHNwbGl0UHJvcHMob3RoZXIpO1xuICBsZXQgZmluYWxTeDtcbiAgaWYgKEFycmF5LmlzQXJyYXkoaW5TeCkpIHtcbiAgICBmaW5hbFN4ID0gW3N5c3RlbVByb3BzLCAuLi5pblN4XTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgaW5TeCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGZpbmFsU3ggPSAoLi4uYXJncykgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gaW5TeCguLi5hcmdzKTtcbiAgICAgIGlmICghaXNQbGFpbk9iamVjdChyZXN1bHQpKSB7XG4gICAgICAgIHJldHVybiBzeXN0ZW1Qcm9wcztcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN5c3RlbVByb3BzLFxuICAgICAgICAuLi5yZXN1bHRcbiAgICAgIH07XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBmaW5hbFN4ID0ge1xuICAgICAgLi4uc3lzdGVtUHJvcHMsXG4gICAgICAuLi5pblN4XG4gICAgfTtcbiAgfVxuICByZXR1cm4ge1xuICAgIC4uLm90aGVyUHJvcHMsXG4gICAgc3g6IGZpbmFsU3hcbiAgfTtcbn0iLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlVGhlbWUgYXMgdXNlVGhlbWVTeXN0ZW0gfSBmcm9tICdAbXVpL3N5c3RlbSc7XG5pbXBvcnQgZGVmYXVsdFRoZW1lIGZyb20gXCIuL2RlZmF1bHRUaGVtZS5qc1wiO1xuaW1wb3J0IFRIRU1FX0lEIGZyb20gXCIuL2lkZW50aWZpZXIuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZVRoZW1lKCkge1xuICBjb25zdCB0aGVtZSA9IHVzZVRoZW1lU3lzdGVtKGRlZmF1bHRUaGVtZSk7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgLy8gVE9ETzogdW5jb21tZW50IG9uY2Ugd2UgZW5hYmxlIGVzbGludC1wbHVnaW4tcmVhY3QtY29tcGlsZXIgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWNvbXBpbGVyL3JlYWN0LWNvbXBpbGVyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL3J1bGVzLW9mLWhvb2tzXG4gICAgUmVhY3QudXNlRGVidWdWYWx1ZSh0aGVtZSk7XG4gIH1cbiAgcmV0dXJuIHRoZW1lW1RIRU1FX0lEXSB8fCB0aGVtZTtcbn0iLAogICAgImZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICByZXR1cm4gX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduID8gT2JqZWN0LmFzc2lnbi5iaW5kKCkgOiBmdW5jdGlvbiAobikge1xuICAgIGZvciAodmFyIGUgPSAxOyBlIDwgYXJndW1lbnRzLmxlbmd0aDsgZSsrKSB7XG4gICAgICB2YXIgdCA9IGFyZ3VtZW50c1tlXTtcbiAgICAgIGZvciAodmFyIHIgaW4gdCkgKHt9KS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsIHIpICYmIChuW3JdID0gdFtyXSk7XG4gICAgfVxuICAgIHJldHVybiBuO1xuICB9LCBfZXh0ZW5kcy5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufVxuZXhwb3J0IHsgX2V4dGVuZHMgYXMgZGVmYXVsdCB9OyIsCiAgICAiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlQ29udGV4dCwgZm9yd2FyZFJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjcmVhdGVDYWNoZSBmcm9tICdAZW1vdGlvbi9jYWNoZSc7XG5pbXBvcnQgX2V4dGVuZHMgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcyc7XG5pbXBvcnQgd2Vha01lbW9pemUgZnJvbSAnQGVtb3Rpb24vd2Vhay1tZW1vaXplJztcbmltcG9ydCBob2lzdE5vblJlYWN0U3RhdGljcyBmcm9tICcuLi9faXNvbGF0ZWQtaG5ycy9kaXN0L2Vtb3Rpb24tcmVhY3QtX2lzb2xhdGVkLWhucnMuYnJvd3Nlci5kZXZlbG9wbWVudC5lc20uanMnO1xuaW1wb3J0IHsgZ2V0UmVnaXN0ZXJlZFN0eWxlcywgcmVnaXN0ZXJTdHlsZXMsIGluc2VydFN0eWxlcyB9IGZyb20gJ0BlbW90aW9uL3V0aWxzJztcbmltcG9ydCB7IHNlcmlhbGl6ZVN0eWxlcyB9IGZyb20gJ0BlbW90aW9uL3NlcmlhbGl6ZSc7XG5pbXBvcnQgeyB1c2VJbnNlcnRpb25FZmZlY3RBbHdheXNXaXRoU3luY0ZhbGxiYWNrIH0gZnJvbSAnQGVtb3Rpb24vdXNlLWluc2VydGlvbi1lZmZlY3Qtd2l0aC1mYWxsYmFja3MnO1xuXG52YXIgRW1vdGlvbkNhY2hlQ29udGV4dCA9IC8qICNfX1BVUkVfXyAqL1JlYWN0LmNyZWF0ZUNvbnRleHQoIC8vIHdlJ3JlIGRvaW5nIHRoaXMgdG8gYXZvaWQgcHJlY29uc3RydWN0J3MgZGVhZCBjb2RlIGVsaW1pbmF0aW9uIGluIHRoaXMgb25lIGNhc2Vcbi8vIGJlY2F1c2UgdGhpcyBtb2R1bGUgaXMgcHJpbWFyaWx5IGludGVuZGVkIGZvciB0aGUgYnJvd3NlciBhbmQgbm9kZVxuLy8gYnV0IGl0J3MgYWxzbyByZXF1aXJlZCBpbiByZWFjdCBuYXRpdmUgYW5kIHNpbWlsYXIgZW52aXJvbm1lbnRzIHNvbWV0aW1lc1xuLy8gYW5kIHdlIGNvdWxkIGhhdmUgYSBzcGVjaWFsIGJ1aWxkIGp1c3QgZm9yIHRoYXRcbi8vIGJ1dCB0aGlzIGlzIG11Y2ggZWFzaWVyIGFuZCB0aGUgbmF0aXZlIHBhY2thZ2VzXG4vLyBtaWdodCB1c2UgYSBkaWZmZXJlbnQgdGhlbWUgY29udGV4dCBpbiB0aGUgZnV0dXJlIGFueXdheVxudHlwZW9mIEhUTUxFbGVtZW50ICE9PSAndW5kZWZpbmVkJyA/IC8qICNfX1BVUkVfXyAqL2NyZWF0ZUNhY2hlKHtcbiAga2V5OiAnY3NzJ1xufSkgOiBudWxsKTtcblxue1xuICBFbW90aW9uQ2FjaGVDb250ZXh0LmRpc3BsYXlOYW1lID0gJ0Vtb3Rpb25DYWNoZUNvbnRleHQnO1xufVxuXG52YXIgQ2FjaGVQcm92aWRlciA9IEVtb3Rpb25DYWNoZUNvbnRleHQuUHJvdmlkZXI7XG52YXIgX191bnNhZmVfdXNlRW1vdGlvbkNhY2hlID0gZnVuY3Rpb24gdXNlRW1vdGlvbkNhY2hlKCkge1xuICByZXR1cm4gdXNlQ29udGV4dChFbW90aW9uQ2FjaGVDb250ZXh0KTtcbn07XG5cbnZhciB3aXRoRW1vdGlvbkNhY2hlID0gZnVuY3Rpb24gd2l0aEVtb3Rpb25DYWNoZShmdW5jKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICAgIC8vIHRoZSBjYWNoZSB3aWxsIG5ldmVyIGJlIG51bGwgaW4gdGhlIGJyb3dzZXJcbiAgICB2YXIgY2FjaGUgPSB1c2VDb250ZXh0KEVtb3Rpb25DYWNoZUNvbnRleHQpO1xuICAgIHJldHVybiBmdW5jKHByb3BzLCBjYWNoZSwgcmVmKTtcbiAgfSk7XG59O1xuXG52YXIgVGhlbWVDb250ZXh0ID0gLyogI19fUFVSRV9fICovUmVhY3QuY3JlYXRlQ29udGV4dCh7fSk7XG5cbntcbiAgVGhlbWVDb250ZXh0LmRpc3BsYXlOYW1lID0gJ0Vtb3Rpb25UaGVtZUNvbnRleHQnO1xufVxuXG52YXIgdXNlVGhlbWUgPSBmdW5jdGlvbiB1c2VUaGVtZSgpIHtcbiAgcmV0dXJuIFJlYWN0LnVzZUNvbnRleHQoVGhlbWVDb250ZXh0KTtcbn07XG5cbnZhciBnZXRUaGVtZSA9IGZ1bmN0aW9uIGdldFRoZW1lKG91dGVyVGhlbWUsIHRoZW1lKSB7XG4gIGlmICh0eXBlb2YgdGhlbWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgbWVyZ2VkVGhlbWUgPSB0aGVtZShvdXRlclRoZW1lKTtcblxuICAgIGlmICgobWVyZ2VkVGhlbWUgPT0gbnVsbCB8fCB0eXBlb2YgbWVyZ2VkVGhlbWUgIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkobWVyZ2VkVGhlbWUpKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdbVGhlbWVQcm92aWRlcl0gUGxlYXNlIHJldHVybiBhbiBvYmplY3QgZnJvbSB5b3VyIHRoZW1lIGZ1bmN0aW9uLCBpLmUuIHRoZW1lPXsoKSA9PiAoe30pfSEnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVyZ2VkVGhlbWU7XG4gIH1cblxuICBpZiAoKHRoZW1lID09IG51bGwgfHwgdHlwZW9mIHRoZW1lICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KHRoZW1lKSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1tUaGVtZVByb3ZpZGVyXSBQbGVhc2UgbWFrZSB5b3VyIHRoZW1lIHByb3AgYSBwbGFpbiBvYmplY3QnKTtcbiAgfVxuXG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgb3V0ZXJUaGVtZSwgdGhlbWUpO1xufTtcblxudmFyIGNyZWF0ZUNhY2hlV2l0aFRoZW1lID0gLyogI19fUFVSRV9fICovd2Vha01lbW9pemUoZnVuY3Rpb24gKG91dGVyVGhlbWUpIHtcbiAgcmV0dXJuIHdlYWtNZW1vaXplKGZ1bmN0aW9uICh0aGVtZSkge1xuICAgIHJldHVybiBnZXRUaGVtZShvdXRlclRoZW1lLCB0aGVtZSk7XG4gIH0pO1xufSk7XG52YXIgVGhlbWVQcm92aWRlciA9IGZ1bmN0aW9uIFRoZW1lUHJvdmlkZXIocHJvcHMpIHtcbiAgdmFyIHRoZW1lID0gUmVhY3QudXNlQ29udGV4dChUaGVtZUNvbnRleHQpO1xuXG4gIGlmIChwcm9wcy50aGVtZSAhPT0gdGhlbWUpIHtcbiAgICB0aGVtZSA9IGNyZWF0ZUNhY2hlV2l0aFRoZW1lKHRoZW1lKShwcm9wcy50aGVtZSk7XG4gIH1cblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVGhlbWVDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IHRoZW1lXG4gIH0sIHByb3BzLmNoaWxkcmVuKTtcbn07XG5mdW5jdGlvbiB3aXRoVGhlbWUoQ29tcG9uZW50KSB7XG4gIHZhciBjb21wb25lbnROYW1lID0gQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnO1xuICB2YXIgV2l0aFRoZW1lID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gcmVuZGVyKHByb3BzLCByZWYpIHtcbiAgICB2YXIgdGhlbWUgPSBSZWFjdC51c2VDb250ZXh0KFRoZW1lQ29udGV4dCk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudCwgX2V4dGVuZHMoe1xuICAgICAgdGhlbWU6IHRoZW1lLFxuICAgICAgcmVmOiByZWZcbiAgICB9LCBwcm9wcykpO1xuICB9KTtcbiAgV2l0aFRoZW1lLmRpc3BsYXlOYW1lID0gXCJXaXRoVGhlbWUoXCIgKyBjb21wb25lbnROYW1lICsgXCIpXCI7XG4gIHJldHVybiBob2lzdE5vblJlYWN0U3RhdGljcyhXaXRoVGhlbWUsIENvbXBvbmVudCk7XG59XG5cbnZhciBoYXNPd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxudmFyIGdldExhc3RQYXJ0ID0gZnVuY3Rpb24gZ2V0TGFzdFBhcnQoZnVuY3Rpb25OYW1lKSB7XG4gIC8vIFRoZSBtYXRjaCBtYXkgYmUgc29tZXRoaW5nIGxpa2UgJ09iamVjdC5jcmVhdGVFbW90aW9uUHJvcHMnIG9yXG4gIC8vICdMb2FkZXIucHJvdG90eXBlLnJlbmRlcidcbiAgdmFyIHBhcnRzID0gZnVuY3Rpb25OYW1lLnNwbGl0KCcuJyk7XG4gIHJldHVybiBwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXTtcbn07XG5cbnZhciBnZXRGdW5jdGlvbk5hbWVGcm9tU3RhY2tUcmFjZUxpbmUgPSBmdW5jdGlvbiBnZXRGdW5jdGlvbk5hbWVGcm9tU3RhY2tUcmFjZUxpbmUobGluZSkge1xuICAvLyBWOFxuICB2YXIgbWF0Y2ggPSAvXlxccythdFxccysoW0EtWmEtejAtOSQuXSspXFxzLy5leGVjKGxpbmUpO1xuICBpZiAobWF0Y2gpIHJldHVybiBnZXRMYXN0UGFydChtYXRjaFsxXSk7IC8vIFNhZmFyaSAvIEZpcmVmb3hcblxuICBtYXRjaCA9IC9eKFtBLVphLXowLTkkLl0rKUAvLmV4ZWMobGluZSk7XG4gIGlmIChtYXRjaCkgcmV0dXJuIGdldExhc3RQYXJ0KG1hdGNoWzFdKTtcbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbnZhciBpbnRlcm5hbFJlYWN0RnVuY3Rpb25OYW1lcyA9IC8qICNfX1BVUkVfXyAqL25ldyBTZXQoWydyZW5kZXJXaXRoSG9va3MnLCAncHJvY2Vzc0NoaWxkJywgJ2ZpbmlzaENsYXNzQ29tcG9uZW50JywgJ3JlbmRlclRvU3RyaW5nJ10pOyAvLyBUaGVzZSBpZGVudGlmaWVycyBjb21lIGZyb20gZXJyb3Igc3RhY2tzLCBzbyB0aGV5IGhhdmUgdG8gYmUgdmFsaWQgSlNcbi8vIGlkZW50aWZpZXJzLCB0aHVzIHdlIG9ubHkgbmVlZCB0byByZXBsYWNlIHdoYXQgaXMgYSB2YWxpZCBjaGFyYWN0ZXIgZm9yIEpTLFxuLy8gYnV0IG5vdCBmb3IgQ1NTLlxuXG52YXIgc2FuaXRpemVJZGVudGlmaWVyID0gZnVuY3Rpb24gc2FuaXRpemVJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgcmV0dXJuIGlkZW50aWZpZXIucmVwbGFjZSgvXFwkL2csICctJyk7XG59O1xuXG52YXIgZ2V0TGFiZWxGcm9tU3RhY2tUcmFjZSA9IGZ1bmN0aW9uIGdldExhYmVsRnJvbVN0YWNrVHJhY2Uoc3RhY2tUcmFjZSkge1xuICBpZiAoIXN0YWNrVHJhY2UpIHJldHVybiB1bmRlZmluZWQ7XG4gIHZhciBsaW5lcyA9IHN0YWNrVHJhY2Uuc3BsaXQoJ1xcbicpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZnVuY3Rpb25OYW1lID0gZ2V0RnVuY3Rpb25OYW1lRnJvbVN0YWNrVHJhY2VMaW5lKGxpbmVzW2ldKTsgLy8gVGhlIGZpcnN0IGxpbmUgb2YgVjggc3RhY2sgdHJhY2VzIGlzIGp1c3QgXCJFcnJvclwiXG5cbiAgICBpZiAoIWZ1bmN0aW9uTmFtZSkgY29udGludWU7IC8vIElmIHdlIHJlYWNoIG9uZSBvZiB0aGVzZSwgd2UgaGF2ZSBnb25lIHRvbyBmYXIgYW5kIHNob3VsZCBxdWl0XG5cbiAgICBpZiAoaW50ZXJuYWxSZWFjdEZ1bmN0aW9uTmFtZXMuaGFzKGZ1bmN0aW9uTmFtZSkpIGJyZWFrOyAvLyBUaGUgY29tcG9uZW50IG5hbWUgaXMgdGhlIGZpcnN0IGZ1bmN0aW9uIGluIHRoZSBzdGFjayB0aGF0IHN0YXJ0cyB3aXRoIGFuXG4gICAgLy8gdXBwZXJjYXNlIGxldHRlclxuXG4gICAgaWYgKC9eW0EtWl0vLnRlc3QoZnVuY3Rpb25OYW1lKSkgcmV0dXJuIHNhbml0aXplSWRlbnRpZmllcihmdW5jdGlvbk5hbWUpO1xuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbnZhciB0eXBlUHJvcE5hbWUgPSAnX19FTU9USU9OX1RZUEVfUExFQVNFX0RPX05PVF9VU0VfXyc7XG52YXIgbGFiZWxQcm9wTmFtZSA9ICdfX0VNT1RJT05fTEFCRUxfUExFQVNFX0RPX05PVF9VU0VfXyc7XG52YXIgY3JlYXRlRW1vdGlvblByb3BzID0gZnVuY3Rpb24gY3JlYXRlRW1vdGlvblByb3BzKHR5cGUsIHByb3BzKSB7XG4gIGlmICh0eXBlb2YgcHJvcHMuY3NzID09PSAnc3RyaW5nJyAmJiAvLyBjaGVjayBpZiB0aGVyZSBpcyBhIGNzcyBkZWNsYXJhdGlvblxuICBwcm9wcy5jc3MuaW5kZXhPZignOicpICE9PSAtMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlN0cmluZ3MgYXJlIG5vdCBhbGxvd2VkIGFzIGNzcyBwcm9wIHZhbHVlcywgcGxlYXNlIHdyYXAgaXQgaW4gYSBjc3MgdGVtcGxhdGUgbGl0ZXJhbCBmcm9tICdAZW1vdGlvbi9yZWFjdCcgbGlrZSB0aGlzOiBjc3NgXCIgKyBwcm9wcy5jc3MgKyBcImBcIik7XG4gIH1cblxuICB2YXIgbmV3UHJvcHMgPSB7fTtcblxuICBmb3IgKHZhciBfa2V5IGluIHByb3BzKSB7XG4gICAgaWYgKGhhc093bi5jYWxsKHByb3BzLCBfa2V5KSkge1xuICAgICAgbmV3UHJvcHNbX2tleV0gPSBwcm9wc1tfa2V5XTtcbiAgICB9XG4gIH1cblxuICBuZXdQcm9wc1t0eXBlUHJvcE5hbWVdID0gdHlwZTsgLy8gUnVudGltZSBsYWJlbGluZyBpcyBhbiBvcHQtaW4gZmVhdHVyZSBiZWNhdXNlOlxuICAvLyAtIEl0IGNhdXNlcyBoeWRyYXRpb24gd2FybmluZ3Mgd2hlbiB1c2luZyBTYWZhcmkgYW5kIFNTUlxuICAvLyAtIEl0IGNhbiBkZWdyYWRlIHBlcmZvcm1hbmNlIGlmIHRoZXJlIGFyZSBhIGh1Z2UgbnVtYmVyIG9mIGVsZW1lbnRzXG4gIC8vXG4gIC8vIEV2ZW4gaWYgdGhlIGZsYWcgaXMgc2V0LCB3ZSBzdGlsbCBkb24ndCBjb21wdXRlIHRoZSBsYWJlbCBpZiBpdCBoYXMgYWxyZWFkeVxuICAvLyBiZWVuIGRldGVybWluZWQgYnkgdGhlIEJhYmVsIHBsdWdpbi5cblxuICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnICYmICEhZ2xvYmFsVGhpcy5FTU9USU9OX1JVTlRJTUVfQVVUT19MQUJFTCAmJiAhIXByb3BzLmNzcyAmJiAodHlwZW9mIHByb3BzLmNzcyAhPT0gJ29iamVjdCcgfHwgISgnbmFtZScgaW4gcHJvcHMuY3NzKSB8fCB0eXBlb2YgcHJvcHMuY3NzLm5hbWUgIT09ICdzdHJpbmcnIHx8IHByb3BzLmNzcy5uYW1lLmluZGV4T2YoJy0nKSA9PT0gLTEpKSB7XG4gICAgdmFyIGxhYmVsID0gZ2V0TGFiZWxGcm9tU3RhY2tUcmFjZShuZXcgRXJyb3IoKS5zdGFjayk7XG4gICAgaWYgKGxhYmVsKSBuZXdQcm9wc1tsYWJlbFByb3BOYW1lXSA9IGxhYmVsO1xuICB9XG5cbiAgcmV0dXJuIG5ld1Byb3BzO1xufTtcblxudmFyIEluc2VydGlvbiA9IGZ1bmN0aW9uIEluc2VydGlvbihfcmVmKSB7XG4gIHZhciBjYWNoZSA9IF9yZWYuY2FjaGUsXG4gICAgICBzZXJpYWxpemVkID0gX3JlZi5zZXJpYWxpemVkLFxuICAgICAgaXNTdHJpbmdUYWcgPSBfcmVmLmlzU3RyaW5nVGFnO1xuICByZWdpc3RlclN0eWxlcyhjYWNoZSwgc2VyaWFsaXplZCwgaXNTdHJpbmdUYWcpO1xuICB1c2VJbnNlcnRpb25FZmZlY3RBbHdheXNXaXRoU3luY0ZhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gaW5zZXJ0U3R5bGVzKGNhY2hlLCBzZXJpYWxpemVkLCBpc1N0cmluZ1RhZyk7XG4gIH0pO1xuXG4gIHJldHVybiBudWxsO1xufTtcblxudmFyIEVtb3Rpb24gPSAvKiAjX19QVVJFX18gKi93aXRoRW1vdGlvbkNhY2hlKGZ1bmN0aW9uIChwcm9wcywgY2FjaGUsIHJlZikge1xuICB2YXIgY3NzUHJvcCA9IHByb3BzLmNzczsgLy8gc28gdGhhdCB1c2luZyBgY3NzYCBmcm9tIGBlbW90aW9uYCBhbmQgcGFzc2luZyB0aGUgcmVzdWx0IHRvIHRoZSBjc3MgcHJvcCB3b3Jrc1xuICAvLyBub3QgcGFzc2luZyB0aGUgcmVnaXN0ZXJlZCBjYWNoZSB0byBzZXJpYWxpemVTdHlsZXMgYmVjYXVzZSBpdCB3b3VsZFxuICAvLyBtYWtlIGNlcnRhaW4gYmFiZWwgb3B0aW1pc2F0aW9ucyBub3QgcG9zc2libGVcblxuICBpZiAodHlwZW9mIGNzc1Byb3AgPT09ICdzdHJpbmcnICYmIGNhY2hlLnJlZ2lzdGVyZWRbY3NzUHJvcF0gIT09IHVuZGVmaW5lZCkge1xuICAgIGNzc1Byb3AgPSBjYWNoZS5yZWdpc3RlcmVkW2Nzc1Byb3BdO1xuICB9XG5cbiAgdmFyIFdyYXBwZWRDb21wb25lbnQgPSBwcm9wc1t0eXBlUHJvcE5hbWVdO1xuICB2YXIgcmVnaXN0ZXJlZFN0eWxlcyA9IFtjc3NQcm9wXTtcbiAgdmFyIGNsYXNzTmFtZSA9ICcnO1xuXG4gIGlmICh0eXBlb2YgcHJvcHMuY2xhc3NOYW1lID09PSAnc3RyaW5nJykge1xuICAgIGNsYXNzTmFtZSA9IGdldFJlZ2lzdGVyZWRTdHlsZXMoY2FjaGUucmVnaXN0ZXJlZCwgcmVnaXN0ZXJlZFN0eWxlcywgcHJvcHMuY2xhc3NOYW1lKTtcbiAgfSBlbHNlIGlmIChwcm9wcy5jbGFzc05hbWUgIT0gbnVsbCkge1xuICAgIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSArIFwiIFwiO1xuICB9XG5cbiAgdmFyIHNlcmlhbGl6ZWQgPSBzZXJpYWxpemVTdHlsZXMocmVnaXN0ZXJlZFN0eWxlcywgdW5kZWZpbmVkLCBSZWFjdC51c2VDb250ZXh0KFRoZW1lQ29udGV4dCkpO1xuXG4gIGlmIChzZXJpYWxpemVkLm5hbWUuaW5kZXhPZignLScpID09PSAtMSkge1xuICAgIHZhciBsYWJlbEZyb21TdGFjayA9IHByb3BzW2xhYmVsUHJvcE5hbWVdO1xuXG4gICAgaWYgKGxhYmVsRnJvbVN0YWNrKSB7XG4gICAgICBzZXJpYWxpemVkID0gc2VyaWFsaXplU3R5bGVzKFtzZXJpYWxpemVkLCAnbGFiZWw6JyArIGxhYmVsRnJvbVN0YWNrICsgJzsnXSk7XG4gICAgfVxuICB9XG5cbiAgY2xhc3NOYW1lICs9IGNhY2hlLmtleSArIFwiLVwiICsgc2VyaWFsaXplZC5uYW1lO1xuICB2YXIgbmV3UHJvcHMgPSB7fTtcblxuICBmb3IgKHZhciBfa2V5MiBpbiBwcm9wcykge1xuICAgIGlmIChoYXNPd24uY2FsbChwcm9wcywgX2tleTIpICYmIF9rZXkyICE9PSAnY3NzJyAmJiBfa2V5MiAhPT0gdHlwZVByb3BOYW1lICYmIChfa2V5MiAhPT0gbGFiZWxQcm9wTmFtZSkpIHtcbiAgICAgIG5ld1Byb3BzW19rZXkyXSA9IHByb3BzW19rZXkyXTtcbiAgICB9XG4gIH1cblxuICBuZXdQcm9wcy5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG5cbiAgaWYgKHJlZikge1xuICAgIG5ld1Byb3BzLnJlZiA9IHJlZjtcbiAgfVxuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoSW5zZXJ0aW9uLCB7XG4gICAgY2FjaGU6IGNhY2hlLFxuICAgIHNlcmlhbGl6ZWQ6IHNlcmlhbGl6ZWQsXG4gICAgaXNTdHJpbmdUYWc6IHR5cGVvZiBXcmFwcGVkQ29tcG9uZW50ID09PSAnc3RyaW5nJ1xuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoV3JhcHBlZENvbXBvbmVudCwgbmV3UHJvcHMpKTtcbn0pO1xuXG57XG4gIEVtb3Rpb24uZGlzcGxheU5hbWUgPSAnRW1vdGlvbkNzc1Byb3BJbnRlcm5hbCc7XG59XG5cbnZhciBFbW90aW9uJDEgPSBFbW90aW9uO1xuXG5leHBvcnQgeyBDYWNoZVByb3ZpZGVyIGFzIEMsIEVtb3Rpb24kMSBhcyBFLCBUaGVtZUNvbnRleHQgYXMgVCwgX191bnNhZmVfdXNlRW1vdGlvbkNhY2hlIGFzIF8sIFRoZW1lUHJvdmlkZXIgYXMgYSwgd2l0aFRoZW1lIGFzIGIsIGNyZWF0ZUVtb3Rpb25Qcm9wcyBhcyBjLCBoYXNPd24gYXMgaCwgdXNlVGhlbWUgYXMgdSwgd2l0aEVtb3Rpb25DYWNoZSBhcyB3IH07XG4iLAogICAgInZhciBpc0RldmVsb3BtZW50ID0gdHJ1ZTtcblxuLypcblxuQmFzZWQgb2ZmIGdsYW1vcidzIFN0eWxlU2hlZXQsIHRoYW5rcyBTdW5pbCDinaTvuI9cblxuaGlnaCBwZXJmb3JtYW5jZSBTdHlsZVNoZWV0IGZvciBjc3MtaW4tanMgc3lzdGVtc1xuXG4tIHVzZXMgbXVsdGlwbGUgc3R5bGUgdGFncyBiZWhpbmQgdGhlIHNjZW5lcyBmb3IgbWlsbGlvbnMgb2YgcnVsZXNcbi0gdXNlcyBgaW5zZXJ0UnVsZWAgZm9yIGFwcGVuZGluZyBpbiBwcm9kdWN0aW9uIGZvciAqbXVjaCogZmFzdGVyIHBlcmZvcm1hbmNlXG5cbi8vIHVzYWdlXG5cbmltcG9ydCB7IFN0eWxlU2hlZXQgfSBmcm9tICdAZW1vdGlvbi9zaGVldCdcblxubGV0IHN0eWxlU2hlZXQgPSBuZXcgU3R5bGVTaGVldCh7IGtleTogJycsIGNvbnRhaW5lcjogZG9jdW1lbnQuaGVhZCB9KVxuXG5zdHlsZVNoZWV0Lmluc2VydCgnI2JveCB7IGJvcmRlcjogMXB4IHNvbGlkIHJlZDsgfScpXG4tIGFwcGVuZHMgYSBjc3MgcnVsZSBpbnRvIHRoZSBzdHlsZXNoZWV0XG5cbnN0eWxlU2hlZXQuZmx1c2goKVxuLSBlbXB0aWVzIHRoZSBzdHlsZXNoZWV0IG9mIGFsbCBpdHMgY29udGVudHNcblxuKi9cblxuZnVuY3Rpb24gc2hlZXRGb3JUYWcodGFnKSB7XG4gIGlmICh0YWcuc2hlZXQpIHtcbiAgICByZXR1cm4gdGFnLnNoZWV0O1xuICB9IC8vIHRoaXMgd2VpcmRuZXNzIGJyb3VnaHQgdG8geW91IGJ5IGZpcmVmb3hcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBkb2N1bWVudC5zdHlsZVNoZWV0cy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChkb2N1bWVudC5zdHlsZVNoZWV0c1tpXS5vd25lck5vZGUgPT09IHRhZykge1xuICAgICAgcmV0dXJuIGRvY3VtZW50LnN0eWxlU2hlZXRzW2ldO1xuICAgIH1cbiAgfSAvLyB0aGlzIGZ1bmN0aW9uIHNob3VsZCBhbHdheXMgcmV0dXJuIHdpdGggYSB2YWx1ZVxuICAvLyBUUyBjYW4ndCB1bmRlcnN0YW5kIGl0IHRob3VnaCBzbyB3ZSBtYWtlIGl0IHN0b3AgY29tcGxhaW5pbmcgaGVyZVxuXG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHRhZy5zZXRBdHRyaWJ1dGUoJ2RhdGEtZW1vdGlvbicsIG9wdGlvbnMua2V5KTtcblxuICBpZiAob3B0aW9ucy5ub25jZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGFnLnNldEF0dHJpYnV0ZSgnbm9uY2UnLCBvcHRpb25zLm5vbmNlKTtcbiAgfVxuXG4gIHRhZy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJykpO1xuICB0YWcuc2V0QXR0cmlidXRlKCdkYXRhLXMnLCAnJyk7XG4gIHJldHVybiB0YWc7XG59XG5cbnZhciBTdHlsZVNoZWV0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgLy8gVXNpbmcgTm9kZSBpbnN0ZWFkIG9mIEhUTUxFbGVtZW50IHNpbmNlIGNvbnRhaW5lciBtYXkgYmUgYSBTaGFkb3dSb290XG4gIGZ1bmN0aW9uIFN0eWxlU2hlZXQob3B0aW9ucykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB0aGlzLl9pbnNlcnRUYWcgPSBmdW5jdGlvbiAodGFnKSB7XG4gICAgICB2YXIgYmVmb3JlO1xuXG4gICAgICBpZiAoX3RoaXMudGFncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgaWYgKF90aGlzLmluc2VydGlvblBvaW50KSB7XG4gICAgICAgICAgYmVmb3JlID0gX3RoaXMuaW5zZXJ0aW9uUG9pbnQubmV4dFNpYmxpbmc7XG4gICAgICAgIH0gZWxzZSBpZiAoX3RoaXMucHJlcGVuZCkge1xuICAgICAgICAgIGJlZm9yZSA9IF90aGlzLmNvbnRhaW5lci5maXJzdENoaWxkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJlZm9yZSA9IF90aGlzLmJlZm9yZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmVmb3JlID0gX3RoaXMudGFnc1tfdGhpcy50YWdzLmxlbmd0aCAtIDFdLm5leHRTaWJsaW5nO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5jb250YWluZXIuaW5zZXJ0QmVmb3JlKHRhZywgYmVmb3JlKTtcblxuICAgICAgX3RoaXMudGFncy5wdXNoKHRhZyk7XG4gICAgfTtcblxuICAgIHRoaXMuaXNTcGVlZHkgPSBvcHRpb25zLnNwZWVkeSA9PT0gdW5kZWZpbmVkID8gIWlzRGV2ZWxvcG1lbnQgOiBvcHRpb25zLnNwZWVkeTtcbiAgICB0aGlzLnRhZ3MgPSBbXTtcbiAgICB0aGlzLmN0ciA9IDA7XG4gICAgdGhpcy5ub25jZSA9IG9wdGlvbnMubm9uY2U7IC8vIGtleSBpcyB0aGUgdmFsdWUgb2YgdGhlIGRhdGEtZW1vdGlvbiBhdHRyaWJ1dGUsIGl0J3MgdXNlZCB0byBpZGVudGlmeSBkaWZmZXJlbnQgc2hlZXRzXG5cbiAgICB0aGlzLmtleSA9IG9wdGlvbnMua2V5O1xuICAgIHRoaXMuY29udGFpbmVyID0gb3B0aW9ucy5jb250YWluZXI7XG4gICAgdGhpcy5wcmVwZW5kID0gb3B0aW9ucy5wcmVwZW5kO1xuICAgIHRoaXMuaW5zZXJ0aW9uUG9pbnQgPSBvcHRpb25zLmluc2VydGlvblBvaW50O1xuICAgIHRoaXMuYmVmb3JlID0gbnVsbDtcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBTdHlsZVNoZWV0LnByb3RvdHlwZTtcblxuICBfcHJvdG8uaHlkcmF0ZSA9IGZ1bmN0aW9uIGh5ZHJhdGUobm9kZXMpIHtcbiAgICBub2Rlcy5mb3JFYWNoKHRoaXMuX2luc2VydFRhZyk7XG4gIH07XG5cbiAgX3Byb3RvLmluc2VydCA9IGZ1bmN0aW9uIGluc2VydChydWxlKSB7XG4gICAgLy8gdGhlIG1heCBsZW5ndGggaXMgaG93IG1hbnkgcnVsZXMgd2UgaGF2ZSBwZXIgc3R5bGUgdGFnLCBpdCdzIDY1MDAwIGluIHNwZWVkeSBtb2RlXG4gICAgLy8gaXQncyAxIGluIGRldiBiZWNhdXNlIHdlIGluc2VydCBzb3VyY2UgbWFwcyB0aGF0IG1hcCBhIHNpbmdsZSBydWxlIHRvIGEgbG9jYXRpb25cbiAgICAvLyBhbmQgeW91IGNhbiBvbmx5IGhhdmUgb25lIHNvdXJjZSBtYXAgcGVyIHN0eWxlIHRhZ1xuICAgIGlmICh0aGlzLmN0ciAlICh0aGlzLmlzU3BlZWR5ID8gNjUwMDAgOiAxKSA9PT0gMCkge1xuICAgICAgdGhpcy5faW5zZXJ0VGFnKGNyZWF0ZVN0eWxlRWxlbWVudCh0aGlzKSk7XG4gICAgfVxuXG4gICAgdmFyIHRhZyA9IHRoaXMudGFnc1t0aGlzLnRhZ3MubGVuZ3RoIC0gMV07XG5cbiAgICB7XG4gICAgICB2YXIgaXNJbXBvcnRSdWxlID0gcnVsZS5jaGFyQ29kZUF0KDApID09PSA2NCAmJiBydWxlLmNoYXJDb2RlQXQoMSkgPT09IDEwNTtcblxuICAgICAgaWYgKGlzSW1wb3J0UnVsZSAmJiB0aGlzLl9hbHJlYWR5SW5zZXJ0ZWRPcmRlckluc2Vuc2l0aXZlUnVsZSkge1xuICAgICAgICAvLyB0aGlzIHdvdWxkIG9ubHkgY2F1c2UgcHJvYmxlbSBpbiBzcGVlZHkgbW9kZVxuICAgICAgICAvLyBidXQgd2UgZG9uJ3Qgd2FudCBlbmFibGluZyBzcGVlZHkgdG8gYWZmZWN0IHRoZSBvYnNlcnZhYmxlIGJlaGF2aW9yXG4gICAgICAgIC8vIHNvIHdlIHJlcG9ydCB0aGlzIGVycm9yIGF0IGFsbCB0aW1lc1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiWW91J3JlIGF0dGVtcHRpbmcgdG8gaW5zZXJ0IHRoZSBmb2xsb3dpbmcgcnVsZTpcXG5cIiArIHJ1bGUgKyAnXFxuXFxuYEBpbXBvcnRgIHJ1bGVzIG11c3QgYmUgYmVmb3JlIGFsbCBvdGhlciB0eXBlcyBvZiBydWxlcyBpbiBhIHN0eWxlc2hlZXQgYnV0IG90aGVyIHJ1bGVzIGhhdmUgYWxyZWFkeSBiZWVuIGluc2VydGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgYEBpbXBvcnRgIHJ1bGVzIGFyZSBiZWZvcmUgYWxsIG90aGVyIHJ1bGVzLicpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9hbHJlYWR5SW5zZXJ0ZWRPcmRlckluc2Vuc2l0aXZlUnVsZSA9IHRoaXMuX2FscmVhZHlJbnNlcnRlZE9yZGVySW5zZW5zaXRpdmVSdWxlIHx8ICFpc0ltcG9ydFJ1bGU7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaXNTcGVlZHkpIHtcbiAgICAgIHZhciBzaGVldCA9IHNoZWV0Rm9yVGFnKHRhZyk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIHRoaXMgaXMgdGhlIHVsdHJhZmFzdCB2ZXJzaW9uLCB3b3JrcyBhY3Jvc3MgYnJvd3NlcnNcbiAgICAgICAgLy8gdGhlIGJpZyBkcmF3YmFjayBpcyB0aGF0IHRoZSBjc3Mgd29uJ3QgYmUgZWRpdGFibGUgaW4gZGV2dG9vbHNcbiAgICAgICAgc2hlZXQuaW5zZXJ0UnVsZShydWxlLCBzaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoIS86KC1tb3otcGxhY2Vob2xkZXJ8LW1vei1mb2N1cy1pbm5lcnwtbW96LWZvY3VzcmluZ3wtbXMtaW5wdXQtcGxhY2Vob2xkZXJ8LW1vei1yZWFkLXdyaXRlfC1tb3otcmVhZC1vbmx5fC1tcy1jbGVhcnwtbXMtZXhwYW5kfC1tcy1yZXZlYWwpey8udGVzdChydWxlKSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJUaGVyZSB3YXMgYSBwcm9ibGVtIGluc2VydGluZyB0aGUgZm9sbG93aW5nIHJ1bGU6IFxcXCJcIiArIHJ1bGUgKyBcIlxcXCJcIiwgZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGFnLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHJ1bGUpKTtcbiAgICB9XG5cbiAgICB0aGlzLmN0cisrO1xuICB9O1xuXG4gIF9wcm90by5mbHVzaCA9IGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIHRoaXMudGFncy5mb3JFYWNoKGZ1bmN0aW9uICh0YWcpIHtcbiAgICAgIHZhciBfdGFnJHBhcmVudE5vZGU7XG5cbiAgICAgIHJldHVybiAoX3RhZyRwYXJlbnROb2RlID0gdGFnLnBhcmVudE5vZGUpID09IG51bGwgPyB2b2lkIDAgOiBfdGFnJHBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGFnKTtcbiAgICB9KTtcbiAgICB0aGlzLnRhZ3MgPSBbXTtcbiAgICB0aGlzLmN0ciA9IDA7XG5cbiAgICB7XG4gICAgICB0aGlzLl9hbHJlYWR5SW5zZXJ0ZWRPcmRlckluc2Vuc2l0aXZlUnVsZSA9IGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gU3R5bGVTaGVldDtcbn0oKTtcblxuZXhwb3J0IHsgU3R5bGVTaGVldCB9O1xuIiwKICAgICJleHBvcnQgdmFyIE1TID0gJy1tcy0nXG5leHBvcnQgdmFyIE1PWiA9ICctbW96LSdcbmV4cG9ydCB2YXIgV0VCS0lUID0gJy13ZWJraXQtJ1xuXG5leHBvcnQgdmFyIENPTU1FTlQgPSAnY29tbSdcbmV4cG9ydCB2YXIgUlVMRVNFVCA9ICdydWxlJ1xuZXhwb3J0IHZhciBERUNMQVJBVElPTiA9ICdkZWNsJ1xuXG5leHBvcnQgdmFyIFBBR0UgPSAnQHBhZ2UnXG5leHBvcnQgdmFyIE1FRElBID0gJ0BtZWRpYSdcbmV4cG9ydCB2YXIgSU1QT1JUID0gJ0BpbXBvcnQnXG5leHBvcnQgdmFyIENIQVJTRVQgPSAnQGNoYXJzZXQnXG5leHBvcnQgdmFyIFZJRVdQT1JUID0gJ0B2aWV3cG9ydCdcbmV4cG9ydCB2YXIgU1VQUE9SVFMgPSAnQHN1cHBvcnRzJ1xuZXhwb3J0IHZhciBET0NVTUVOVCA9ICdAZG9jdW1lbnQnXG5leHBvcnQgdmFyIE5BTUVTUEFDRSA9ICdAbmFtZXNwYWNlJ1xuZXhwb3J0IHZhciBLRVlGUkFNRVMgPSAnQGtleWZyYW1lcydcbmV4cG9ydCB2YXIgRk9OVF9GQUNFID0gJ0Bmb250LWZhY2UnXG5leHBvcnQgdmFyIENPVU5URVJfU1RZTEUgPSAnQGNvdW50ZXItc3R5bGUnXG5leHBvcnQgdmFyIEZPTlRfRkVBVFVSRV9WQUxVRVMgPSAnQGZvbnQtZmVhdHVyZS12YWx1ZXMnXG5leHBvcnQgdmFyIExBWUVSID0gJ0BsYXllcidcbiIsCiAgICAiLyoqXG4gKiBAcGFyYW0ge251bWJlcn1cbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuZXhwb3J0IHZhciBhYnMgPSBNYXRoLmFic1xuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgdmFyIGZyb20gPSBTdHJpbmcuZnJvbUNoYXJDb2RlXG5cbi8qKlxuICogQHBhcmFtIHtvYmplY3R9XG4gKiBAcmV0dXJuIHtvYmplY3R9XG4gKi9cbmV4cG9ydCB2YXIgYXNzaWduID0gT2JqZWN0LmFzc2lnblxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aFxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzaCAodmFsdWUsIGxlbmd0aCkge1xuXHRyZXR1cm4gY2hhcmF0KHZhbHVlLCAwKSBeIDQ1ID8gKCgoKCgoKGxlbmd0aCA8PCAyKSBeIGNoYXJhdCh2YWx1ZSwgMCkpIDw8IDIpIF4gY2hhcmF0KHZhbHVlLCAxKSkgPDwgMikgXiBjaGFyYXQodmFsdWUsIDIpKSA8PCAyKSBeIGNoYXJhdCh2YWx1ZSwgMykgOiAwXG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmltICh2YWx1ZSkge1xuXHRyZXR1cm4gdmFsdWUudHJpbSgpXG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiBAcGFyYW0ge1JlZ0V4cH0gcGF0dGVyblxuICogQHJldHVybiB7c3RyaW5nP31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hdGNoICh2YWx1ZSwgcGF0dGVybikge1xuXHRyZXR1cm4gKHZhbHVlID0gcGF0dGVybi5leGVjKHZhbHVlKSkgPyB2YWx1ZVswXSA6IHZhbHVlXG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiBAcGFyYW0geyhzdHJpbmd8UmVnRXhwKX0gcGF0dGVyblxuICogQHBhcmFtIHtzdHJpbmd9IHJlcGxhY2VtZW50XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlICh2YWx1ZSwgcGF0dGVybiwgcmVwbGFjZW1lbnQpIHtcblx0cmV0dXJuIHZhbHVlLnJlcGxhY2UocGF0dGVybiwgcmVwbGFjZW1lbnQpXG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiBAcGFyYW0ge3N0cmluZ30gc2VhcmNoXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmRleG9mICh2YWx1ZSwgc2VhcmNoKSB7XG5cdHJldHVybiB2YWx1ZS5pbmRleE9mKHNlYXJjaClcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hhcmF0ICh2YWx1ZSwgaW5kZXgpIHtcblx0cmV0dXJuIHZhbHVlLmNoYXJDb2RlQXQoaW5kZXgpIHwgMFxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IGJlZ2luXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdWJzdHIgKHZhbHVlLCBiZWdpbiwgZW5kKSB7XG5cdHJldHVybiB2YWx1ZS5zbGljZShiZWdpbiwgZW5kKVxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RybGVuICh2YWx1ZSkge1xuXHRyZXR1cm4gdmFsdWUubGVuZ3RoXG59XG5cbi8qKlxuICogQHBhcmFtIHthbnlbXX0gdmFsdWVcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNpemVvZiAodmFsdWUpIHtcblx0cmV0dXJuIHZhbHVlLmxlbmd0aFxufVxuXG4vKipcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICogQHBhcmFtIHthbnlbXX0gYXJyYXlcbiAqIEByZXR1cm4ge2FueX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZCAodmFsdWUsIGFycmF5KSB7XG5cdHJldHVybiBhcnJheS5wdXNoKHZhbHVlKSwgdmFsdWVcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBhcnJheVxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmUgKGFycmF5LCBjYWxsYmFjaykge1xuXHRyZXR1cm4gYXJyYXkubWFwKGNhbGxiYWNrKS5qb2luKCcnKVxufVxuIiwKICAgICJpbXBvcnQge2Zyb20sIHRyaW0sIGNoYXJhdCwgc3RybGVuLCBzdWJzdHIsIGFwcGVuZCwgYXNzaWdufSBmcm9tICcuL1V0aWxpdHkuanMnXG5cbmV4cG9ydCB2YXIgbGluZSA9IDFcbmV4cG9ydCB2YXIgY29sdW1uID0gMVxuZXhwb3J0IHZhciBsZW5ndGggPSAwXG5leHBvcnQgdmFyIHBvc2l0aW9uID0gMFxuZXhwb3J0IHZhciBjaGFyYWN0ZXIgPSAwXG5leHBvcnQgdmFyIGNoYXJhY3RlcnMgPSAnJ1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtvYmplY3QgfCBudWxsfSByb290XG4gKiBAcGFyYW0ge29iamVjdCB8IG51bGx9IHBhcmVudFxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7c3RyaW5nW10gfCBzdHJpbmd9IHByb3BzXG4gKiBAcGFyYW0ge29iamVjdFtdIHwgc3RyaW5nfSBjaGlsZHJlblxuICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aFxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9kZSAodmFsdWUsIHJvb3QsIHBhcmVudCwgdHlwZSwgcHJvcHMsIGNoaWxkcmVuLCBsZW5ndGgpIHtcblx0cmV0dXJuIHt2YWx1ZTogdmFsdWUsIHJvb3Q6IHJvb3QsIHBhcmVudDogcGFyZW50LCB0eXBlOiB0eXBlLCBwcm9wczogcHJvcHMsIGNoaWxkcmVuOiBjaGlsZHJlbiwgbGluZTogbGluZSwgY29sdW1uOiBjb2x1bW4sIGxlbmd0aDogbGVuZ3RoLCByZXR1cm46ICcnfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSByb290XG4gKiBAcGFyYW0ge29iamVjdH0gcHJvcHNcbiAqIEByZXR1cm4ge29iamVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvcHkgKHJvb3QsIHByb3BzKSB7XG5cdHJldHVybiBhc3NpZ24obm9kZSgnJywgbnVsbCwgbnVsbCwgJycsIG51bGwsIG51bGwsIDApLCByb290LCB7bGVuZ3RoOiAtcm9vdC5sZW5ndGh9LCBwcm9wcylcbn1cblxuLyoqXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGFyICgpIHtcblx0cmV0dXJuIGNoYXJhY3RlclxufVxuXG4vKipcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXYgKCkge1xuXHRjaGFyYWN0ZXIgPSBwb3NpdGlvbiA+IDAgPyBjaGFyYXQoY2hhcmFjdGVycywgLS1wb3NpdGlvbikgOiAwXG5cblx0aWYgKGNvbHVtbi0tLCBjaGFyYWN0ZXIgPT09IDEwKVxuXHRcdGNvbHVtbiA9IDEsIGxpbmUtLVxuXG5cdHJldHVybiBjaGFyYWN0ZXJcbn1cblxuLyoqXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBuZXh0ICgpIHtcblx0Y2hhcmFjdGVyID0gcG9zaXRpb24gPCBsZW5ndGggPyBjaGFyYXQoY2hhcmFjdGVycywgcG9zaXRpb24rKykgOiAwXG5cblx0aWYgKGNvbHVtbisrLCBjaGFyYWN0ZXIgPT09IDEwKVxuXHRcdGNvbHVtbiA9IDEsIGxpbmUrK1xuXG5cdHJldHVybiBjaGFyYWN0ZXJcbn1cblxuLyoqXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwZWVrICgpIHtcblx0cmV0dXJuIGNoYXJhdChjaGFyYWN0ZXJzLCBwb3NpdGlvbilcbn1cblxuLyoqXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYXJldCAoKSB7XG5cdHJldHVybiBwb3NpdGlvblxufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBiZWdpblxuICogQHBhcmFtIHtudW1iZXJ9IGVuZFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2xpY2UgKGJlZ2luLCBlbmQpIHtcblx0cmV0dXJuIHN1YnN0cihjaGFyYWN0ZXJzLCBiZWdpbiwgZW5kKVxufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSB0eXBlXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b2tlbiAodHlwZSkge1xuXHRzd2l0Y2ggKHR5cGUpIHtcblx0XHQvLyBcXDAgXFx0IFxcbiBcXHIgXFxzIHdoaXRlc3BhY2UgdG9rZW5cblx0XHRjYXNlIDA6IGNhc2UgOTogY2FzZSAxMDogY2FzZSAxMzogY2FzZSAzMjpcblx0XHRcdHJldHVybiA1XG5cdFx0Ly8gISArICwgLyA+IEAgfiBpc29sYXRlIHRva2VuXG5cdFx0Y2FzZSAzMzogY2FzZSA0MzogY2FzZSA0NDogY2FzZSA0NzogY2FzZSA2MjogY2FzZSA2NDogY2FzZSAxMjY6XG5cdFx0Ly8gOyB7IH0gYnJlYWtwb2ludCB0b2tlblxuXHRcdGNhc2UgNTk6IGNhc2UgMTIzOiBjYXNlIDEyNTpcblx0XHRcdHJldHVybiA0XG5cdFx0Ly8gOiBhY2NvbXBhbmllZCB0b2tlblxuXHRcdGNhc2UgNTg6XG5cdFx0XHRyZXR1cm4gM1xuXHRcdC8vIFwiICcgKCBbIG9wZW5pbmcgZGVsaW1pdCB0b2tlblxuXHRcdGNhc2UgMzQ6IGNhc2UgMzk6IGNhc2UgNDA6IGNhc2UgOTE6XG5cdFx0XHRyZXR1cm4gMlxuXHRcdC8vICkgXSBjbG9zaW5nIGRlbGltaXQgdG9rZW5cblx0XHRjYXNlIDQxOiBjYXNlIDkzOlxuXHRcdFx0cmV0dXJuIDFcblx0fVxuXG5cdHJldHVybiAwXG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiBAcmV0dXJuIHthbnlbXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFsbG9jICh2YWx1ZSkge1xuXHRyZXR1cm4gbGluZSA9IGNvbHVtbiA9IDEsIGxlbmd0aCA9IHN0cmxlbihjaGFyYWN0ZXJzID0gdmFsdWUpLCBwb3NpdGlvbiA9IDAsIFtdXG59XG5cbi8qKlxuICogQHBhcmFtIHthbnl9IHZhbHVlXG4gKiBAcmV0dXJuIHthbnl9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWFsbG9jICh2YWx1ZSkge1xuXHRyZXR1cm4gY2hhcmFjdGVycyA9ICcnLCB2YWx1ZVxufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSB0eXBlXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWxpbWl0ICh0eXBlKSB7XG5cdHJldHVybiB0cmltKHNsaWNlKHBvc2l0aW9uIC0gMSwgZGVsaW1pdGVyKHR5cGUgPT09IDkxID8gdHlwZSArIDIgOiB0eXBlID09PSA0MCA/IHR5cGUgKyAxIDogdHlwZSkpKVxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHJldHVybiB7c3RyaW5nW119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b2tlbml6ZSAodmFsdWUpIHtcblx0cmV0dXJuIGRlYWxsb2ModG9rZW5pemVyKGFsbG9jKHZhbHVlKSkpXG59XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHR5cGVcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdoaXRlc3BhY2UgKHR5cGUpIHtcblx0d2hpbGUgKGNoYXJhY3RlciA9IHBlZWsoKSlcblx0XHRpZiAoY2hhcmFjdGVyIDwgMzMpXG5cdFx0XHRuZXh0KClcblx0XHRlbHNlXG5cdFx0XHRicmVha1xuXG5cdHJldHVybiB0b2tlbih0eXBlKSA+IDIgfHwgdG9rZW4oY2hhcmFjdGVyKSA+IDMgPyAnJyA6ICcgJ1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nW119IGNoaWxkcmVuXG4gKiBAcmV0dXJuIHtzdHJpbmdbXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRva2VuaXplciAoY2hpbGRyZW4pIHtcblx0d2hpbGUgKG5leHQoKSlcblx0XHRzd2l0Y2ggKHRva2VuKGNoYXJhY3RlcikpIHtcblx0XHRcdGNhc2UgMDogYXBwZW5kKGlkZW50aWZpZXIocG9zaXRpb24gLSAxKSwgY2hpbGRyZW4pXG5cdFx0XHRcdGJyZWFrXG5cdFx0XHRjYXNlIDI6IGFwcGVuZChkZWxpbWl0KGNoYXJhY3RlciksIGNoaWxkcmVuKVxuXHRcdFx0XHRicmVha1xuXHRcdFx0ZGVmYXVsdDogYXBwZW5kKGZyb20oY2hhcmFjdGVyKSwgY2hpbGRyZW4pXG5cdFx0fVxuXG5cdHJldHVybiBjaGlsZHJlblxufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IGNvdW50XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGluZyAoaW5kZXgsIGNvdW50KSB7XG5cdHdoaWxlICgtLWNvdW50ICYmIG5leHQoKSlcblx0XHQvLyBub3QgMC05IEEtRiBhLWZcblx0XHRpZiAoY2hhcmFjdGVyIDwgNDggfHwgY2hhcmFjdGVyID4gMTAyIHx8IChjaGFyYWN0ZXIgPiA1NyAmJiBjaGFyYWN0ZXIgPCA2NSkgfHwgKGNoYXJhY3RlciA+IDcwICYmIGNoYXJhY3RlciA8IDk3KSlcblx0XHRcdGJyZWFrXG5cblx0cmV0dXJuIHNsaWNlKGluZGV4LCBjYXJldCgpICsgKGNvdW50IDwgNiAmJiBwZWVrKCkgPT0gMzIgJiYgbmV4dCgpID09IDMyKSlcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gdHlwZVxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVsaW1pdGVyICh0eXBlKSB7XG5cdHdoaWxlIChuZXh0KCkpXG5cdFx0c3dpdGNoIChjaGFyYWN0ZXIpIHtcblx0XHRcdC8vIF0gKSBcIiAnXG5cdFx0XHRjYXNlIHR5cGU6XG5cdFx0XHRcdHJldHVybiBwb3NpdGlvblxuXHRcdFx0Ly8gXCIgJ1xuXHRcdFx0Y2FzZSAzNDogY2FzZSAzOTpcblx0XHRcdFx0aWYgKHR5cGUgIT09IDM0ICYmIHR5cGUgIT09IDM5KVxuXHRcdFx0XHRcdGRlbGltaXRlcihjaGFyYWN0ZXIpXG5cdFx0XHRcdGJyZWFrXG5cdFx0XHQvLyAoXG5cdFx0XHRjYXNlIDQwOlxuXHRcdFx0XHRpZiAodHlwZSA9PT0gNDEpXG5cdFx0XHRcdFx0ZGVsaW1pdGVyKHR5cGUpXG5cdFx0XHRcdGJyZWFrXG5cdFx0XHQvLyBcXFxuXHRcdFx0Y2FzZSA5Mjpcblx0XHRcdFx0bmV4dCgpXG5cdFx0XHRcdGJyZWFrXG5cdFx0fVxuXG5cdHJldHVybiBwb3NpdGlvblxufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSB0eXBlXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbW1lbnRlciAodHlwZSwgaW5kZXgpIHtcblx0d2hpbGUgKG5leHQoKSlcblx0XHQvLyAvL1xuXHRcdGlmICh0eXBlICsgY2hhcmFjdGVyID09PSA0NyArIDEwKVxuXHRcdFx0YnJlYWtcblx0XHQvLyAvKlxuXHRcdGVsc2UgaWYgKHR5cGUgKyBjaGFyYWN0ZXIgPT09IDQyICsgNDIgJiYgcGVlaygpID09PSA0Nylcblx0XHRcdGJyZWFrXG5cblx0cmV0dXJuICcvKicgKyBzbGljZShpbmRleCwgcG9zaXRpb24gLSAxKSArICcqJyArIGZyb20odHlwZSA9PT0gNDcgPyB0eXBlIDogbmV4dCgpKVxufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpZmllciAoaW5kZXgpIHtcblx0d2hpbGUgKCF0b2tlbihwZWVrKCkpKVxuXHRcdG5leHQoKVxuXG5cdHJldHVybiBzbGljZShpbmRleCwgcG9zaXRpb24pXG59XG4iLAogICAgImltcG9ydCB7Q09NTUVOVCwgUlVMRVNFVCwgREVDTEFSQVRJT059IGZyb20gJy4vRW51bS5qcydcbmltcG9ydCB7YWJzLCBjaGFyYXQsIHRyaW0sIGZyb20sIHNpemVvZiwgc3RybGVuLCBzdWJzdHIsIGFwcGVuZCwgcmVwbGFjZSwgaW5kZXhvZn0gZnJvbSAnLi9VdGlsaXR5LmpzJ1xuaW1wb3J0IHtub2RlLCBjaGFyLCBwcmV2LCBuZXh0LCBwZWVrLCBjYXJldCwgYWxsb2MsIGRlYWxsb2MsIGRlbGltaXQsIHdoaXRlc3BhY2UsIGVzY2FwaW5nLCBpZGVudGlmaWVyLCBjb21tZW50ZXJ9IGZyb20gJy4vVG9rZW5pemVyLmpzJ1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHJldHVybiB7b2JqZWN0W119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21waWxlICh2YWx1ZSkge1xuXHRyZXR1cm4gZGVhbGxvYyhwYXJzZSgnJywgbnVsbCwgbnVsbCwgbnVsbCwgWycnXSwgdmFsdWUgPSBhbGxvYyh2YWx1ZSksIDAsIFswXSwgdmFsdWUpKVxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtvYmplY3R9IHJvb3RcbiAqIEBwYXJhbSB7b2JqZWN0P30gcGFyZW50XG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBydWxlXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBydWxlc1xuICogQHBhcmFtIHtzdHJpbmdbXX0gcnVsZXNldHNcbiAqIEBwYXJhbSB7bnVtYmVyW119IHBzZXVkb1xuICogQHBhcmFtIHtudW1iZXJbXX0gcG9pbnRzXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBkZWNsYXJhdGlvbnNcbiAqIEByZXR1cm4ge29iamVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlICh2YWx1ZSwgcm9vdCwgcGFyZW50LCBydWxlLCBydWxlcywgcnVsZXNldHMsIHBzZXVkbywgcG9pbnRzLCBkZWNsYXJhdGlvbnMpIHtcblx0dmFyIGluZGV4ID0gMFxuXHR2YXIgb2Zmc2V0ID0gMFxuXHR2YXIgbGVuZ3RoID0gcHNldWRvXG5cdHZhciBhdHJ1bGUgPSAwXG5cdHZhciBwcm9wZXJ0eSA9IDBcblx0dmFyIHByZXZpb3VzID0gMFxuXHR2YXIgdmFyaWFibGUgPSAxXG5cdHZhciBzY2FubmluZyA9IDFcblx0dmFyIGFtcGVyc2FuZCA9IDFcblx0dmFyIGNoYXJhY3RlciA9IDBcblx0dmFyIHR5cGUgPSAnJ1xuXHR2YXIgcHJvcHMgPSBydWxlc1xuXHR2YXIgY2hpbGRyZW4gPSBydWxlc2V0c1xuXHR2YXIgcmVmZXJlbmNlID0gcnVsZVxuXHR2YXIgY2hhcmFjdGVycyA9IHR5cGVcblxuXHR3aGlsZSAoc2Nhbm5pbmcpXG5cdFx0c3dpdGNoIChwcmV2aW91cyA9IGNoYXJhY3RlciwgY2hhcmFjdGVyID0gbmV4dCgpKSB7XG5cdFx0XHQvLyAoXG5cdFx0XHRjYXNlIDQwOlxuXHRcdFx0XHRpZiAocHJldmlvdXMgIT0gMTA4ICYmIGNoYXJhdChjaGFyYWN0ZXJzLCBsZW5ndGggLSAxKSA9PSA1OCkge1xuXHRcdFx0XHRcdGlmIChpbmRleG9mKGNoYXJhY3RlcnMgKz0gcmVwbGFjZShkZWxpbWl0KGNoYXJhY3RlciksICcmJywgJyZcXGYnKSwgJyZcXGYnKSAhPSAtMSlcblx0XHRcdFx0XHRcdGFtcGVyc2FuZCA9IC0xXG5cdFx0XHRcdFx0YnJlYWtcblx0XHRcdFx0fVxuXHRcdFx0Ly8gXCIgJyBbXG5cdFx0XHRjYXNlIDM0OiBjYXNlIDM5OiBjYXNlIDkxOlxuXHRcdFx0XHRjaGFyYWN0ZXJzICs9IGRlbGltaXQoY2hhcmFjdGVyKVxuXHRcdFx0XHRicmVha1xuXHRcdFx0Ly8gXFx0IFxcbiBcXHIgXFxzXG5cdFx0XHRjYXNlIDk6IGNhc2UgMTA6IGNhc2UgMTM6IGNhc2UgMzI6XG5cdFx0XHRcdGNoYXJhY3RlcnMgKz0gd2hpdGVzcGFjZShwcmV2aW91cylcblx0XHRcdFx0YnJlYWtcblx0XHRcdC8vIFxcXG5cdFx0XHRjYXNlIDkyOlxuXHRcdFx0XHRjaGFyYWN0ZXJzICs9IGVzY2FwaW5nKGNhcmV0KCkgLSAxLCA3KVxuXHRcdFx0XHRjb250aW51ZVxuXHRcdFx0Ly8gL1xuXHRcdFx0Y2FzZSA0Nzpcblx0XHRcdFx0c3dpdGNoIChwZWVrKCkpIHtcblx0XHRcdFx0XHRjYXNlIDQyOiBjYXNlIDQ3OlxuXHRcdFx0XHRcdFx0YXBwZW5kKGNvbW1lbnQoY29tbWVudGVyKG5leHQoKSwgY2FyZXQoKSksIHJvb3QsIHBhcmVudCksIGRlY2xhcmF0aW9ucylcblx0XHRcdFx0XHRcdGJyZWFrXG5cdFx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRcdGNoYXJhY3RlcnMgKz0gJy8nXG5cdFx0XHRcdH1cblx0XHRcdFx0YnJlYWtcblx0XHRcdC8vIHtcblx0XHRcdGNhc2UgMTIzICogdmFyaWFibGU6XG5cdFx0XHRcdHBvaW50c1tpbmRleCsrXSA9IHN0cmxlbihjaGFyYWN0ZXJzKSAqIGFtcGVyc2FuZFxuXHRcdFx0Ly8gfSA7IFxcMFxuXHRcdFx0Y2FzZSAxMjUgKiB2YXJpYWJsZTogY2FzZSA1OTogY2FzZSAwOlxuXHRcdFx0XHRzd2l0Y2ggKGNoYXJhY3Rlcikge1xuXHRcdFx0XHRcdC8vIFxcMCB9XG5cdFx0XHRcdFx0Y2FzZSAwOiBjYXNlIDEyNTogc2Nhbm5pbmcgPSAwXG5cdFx0XHRcdFx0Ly8gO1xuXHRcdFx0XHRcdGNhc2UgNTkgKyBvZmZzZXQ6IGlmIChhbXBlcnNhbmQgPT0gLTEpIGNoYXJhY3RlcnMgPSByZXBsYWNlKGNoYXJhY3RlcnMsIC9cXGYvZywgJycpXG5cdFx0XHRcdFx0XHRpZiAocHJvcGVydHkgPiAwICYmIChzdHJsZW4oY2hhcmFjdGVycykgLSBsZW5ndGgpKVxuXHRcdFx0XHRcdFx0XHRhcHBlbmQocHJvcGVydHkgPiAzMiA/IGRlY2xhcmF0aW9uKGNoYXJhY3RlcnMgKyAnOycsIHJ1bGUsIHBhcmVudCwgbGVuZ3RoIC0gMSkgOiBkZWNsYXJhdGlvbihyZXBsYWNlKGNoYXJhY3RlcnMsICcgJywgJycpICsgJzsnLCBydWxlLCBwYXJlbnQsIGxlbmd0aCAtIDIpLCBkZWNsYXJhdGlvbnMpXG5cdFx0XHRcdFx0XHRicmVha1xuXHRcdFx0XHRcdC8vIEAgO1xuXHRcdFx0XHRcdGNhc2UgNTk6IGNoYXJhY3RlcnMgKz0gJzsnXG5cdFx0XHRcdFx0Ly8geyBydWxlL2F0LXJ1bGVcblx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0YXBwZW5kKHJlZmVyZW5jZSA9IHJ1bGVzZXQoY2hhcmFjdGVycywgcm9vdCwgcGFyZW50LCBpbmRleCwgb2Zmc2V0LCBydWxlcywgcG9pbnRzLCB0eXBlLCBwcm9wcyA9IFtdLCBjaGlsZHJlbiA9IFtdLCBsZW5ndGgpLCBydWxlc2V0cylcblxuXHRcdFx0XHRcdFx0aWYgKGNoYXJhY3RlciA9PT0gMTIzKVxuXHRcdFx0XHRcdFx0XHRpZiAob2Zmc2V0ID09PSAwKVxuXHRcdFx0XHRcdFx0XHRcdHBhcnNlKGNoYXJhY3RlcnMsIHJvb3QsIHJlZmVyZW5jZSwgcmVmZXJlbmNlLCBwcm9wcywgcnVsZXNldHMsIGxlbmd0aCwgcG9pbnRzLCBjaGlsZHJlbilcblx0XHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRcdHN3aXRjaCAoYXRydWxlID09PSA5OSAmJiBjaGFyYXQoY2hhcmFjdGVycywgMykgPT09IDExMCA/IDEwMCA6IGF0cnVsZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gZCBsIG0gc1xuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAxMDA6IGNhc2UgMTA4OiBjYXNlIDEwOTogY2FzZSAxMTU6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHBhcnNlKHZhbHVlLCByZWZlcmVuY2UsIHJlZmVyZW5jZSwgcnVsZSAmJiBhcHBlbmQocnVsZXNldCh2YWx1ZSwgcmVmZXJlbmNlLCByZWZlcmVuY2UsIDAsIDAsIHJ1bGVzLCBwb2ludHMsIHR5cGUsIHJ1bGVzLCBwcm9wcyA9IFtdLCBsZW5ndGgpLCBjaGlsZHJlbiksIHJ1bGVzLCBjaGlsZHJlbiwgbGVuZ3RoLCBwb2ludHMsIHJ1bGUgPyBwcm9wcyA6IGNoaWxkcmVuKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRicmVha1xuXHRcdFx0XHRcdFx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0cGFyc2UoY2hhcmFjdGVycywgcmVmZXJlbmNlLCByZWZlcmVuY2UsIHJlZmVyZW5jZSwgWycnXSwgY2hpbGRyZW4sIDAsIHBvaW50cywgY2hpbGRyZW4pXG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aW5kZXggPSBvZmZzZXQgPSBwcm9wZXJ0eSA9IDAsIHZhcmlhYmxlID0gYW1wZXJzYW5kID0gMSwgdHlwZSA9IGNoYXJhY3RlcnMgPSAnJywgbGVuZ3RoID0gcHNldWRvXG5cdFx0XHRcdGJyZWFrXG5cdFx0XHQvLyA6XG5cdFx0XHRjYXNlIDU4OlxuXHRcdFx0XHRsZW5ndGggPSAxICsgc3RybGVuKGNoYXJhY3RlcnMpLCBwcm9wZXJ0eSA9IHByZXZpb3VzXG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRpZiAodmFyaWFibGUgPCAxKVxuXHRcdFx0XHRcdGlmIChjaGFyYWN0ZXIgPT0gMTIzKVxuXHRcdFx0XHRcdFx0LS12YXJpYWJsZVxuXHRcdFx0XHRcdGVsc2UgaWYgKGNoYXJhY3RlciA9PSAxMjUgJiYgdmFyaWFibGUrKyA9PSAwICYmIHByZXYoKSA9PSAxMjUpXG5cdFx0XHRcdFx0XHRjb250aW51ZVxuXG5cdFx0XHRcdHN3aXRjaCAoY2hhcmFjdGVycyArPSBmcm9tKGNoYXJhY3RlciksIGNoYXJhY3RlciAqIHZhcmlhYmxlKSB7XG5cdFx0XHRcdFx0Ly8gJlxuXHRcdFx0XHRcdGNhc2UgMzg6XG5cdFx0XHRcdFx0XHRhbXBlcnNhbmQgPSBvZmZzZXQgPiAwID8gMSA6IChjaGFyYWN0ZXJzICs9ICdcXGYnLCAtMSlcblx0XHRcdFx0XHRcdGJyZWFrXG5cdFx0XHRcdFx0Ly8gLFxuXHRcdFx0XHRcdGNhc2UgNDQ6XG5cdFx0XHRcdFx0XHRwb2ludHNbaW5kZXgrK10gPSAoc3RybGVuKGNoYXJhY3RlcnMpIC0gMSkgKiBhbXBlcnNhbmQsIGFtcGVyc2FuZCA9IDFcblx0XHRcdFx0XHRcdGJyZWFrXG5cdFx0XHRcdFx0Ly8gQFxuXHRcdFx0XHRcdGNhc2UgNjQ6XG5cdFx0XHRcdFx0XHQvLyAtXG5cdFx0XHRcdFx0XHRpZiAocGVlaygpID09PSA0NSlcblx0XHRcdFx0XHRcdFx0Y2hhcmFjdGVycyArPSBkZWxpbWl0KG5leHQoKSlcblxuXHRcdFx0XHRcdFx0YXRydWxlID0gcGVlaygpLCBvZmZzZXQgPSBsZW5ndGggPSBzdHJsZW4odHlwZSA9IGNoYXJhY3RlcnMgKz0gaWRlbnRpZmllcihjYXJldCgpKSksIGNoYXJhY3RlcisrXG5cdFx0XHRcdFx0XHRicmVha1xuXHRcdFx0XHRcdC8vIC1cblx0XHRcdFx0XHRjYXNlIDQ1OlxuXHRcdFx0XHRcdFx0aWYgKHByZXZpb3VzID09PSA0NSAmJiBzdHJsZW4oY2hhcmFjdGVycykgPT0gMilcblx0XHRcdFx0XHRcdFx0dmFyaWFibGUgPSAwXG5cdFx0XHRcdH1cblx0XHR9XG5cblx0cmV0dXJuIHJ1bGVzZXRzXG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiBAcGFyYW0ge29iamVjdH0gcm9vdFxuICogQHBhcmFtIHtvYmplY3Q/fSBwYXJlbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldFxuICogQHBhcmFtIHtzdHJpbmdbXX0gcnVsZXNcbiAqIEBwYXJhbSB7bnVtYmVyW119IHBvaW50c1xuICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7c3RyaW5nW119IHByb3BzXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBjaGlsZHJlblxuICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aFxuICogQHJldHVybiB7b2JqZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gcnVsZXNldCAodmFsdWUsIHJvb3QsIHBhcmVudCwgaW5kZXgsIG9mZnNldCwgcnVsZXMsIHBvaW50cywgdHlwZSwgcHJvcHMsIGNoaWxkcmVuLCBsZW5ndGgpIHtcblx0dmFyIHBvc3QgPSBvZmZzZXQgLSAxXG5cdHZhciBydWxlID0gb2Zmc2V0ID09PSAwID8gcnVsZXMgOiBbJyddXG5cdHZhciBzaXplID0gc2l6ZW9mKHJ1bGUpXG5cblx0Zm9yICh2YXIgaSA9IDAsIGogPSAwLCBrID0gMDsgaSA8IGluZGV4OyArK2kpXG5cdFx0Zm9yICh2YXIgeCA9IDAsIHkgPSBzdWJzdHIodmFsdWUsIHBvc3QgKyAxLCBwb3N0ID0gYWJzKGogPSBwb2ludHNbaV0pKSwgeiA9IHZhbHVlOyB4IDwgc2l6ZTsgKyt4KVxuXHRcdFx0aWYgKHogPSB0cmltKGogPiAwID8gcnVsZVt4XSArICcgJyArIHkgOiByZXBsYWNlKHksIC8mXFxmL2csIHJ1bGVbeF0pKSlcblx0XHRcdFx0cHJvcHNbaysrXSA9IHpcblxuXHRyZXR1cm4gbm9kZSh2YWx1ZSwgcm9vdCwgcGFyZW50LCBvZmZzZXQgPT09IDAgPyBSVUxFU0VUIDogdHlwZSwgcHJvcHMsIGNoaWxkcmVuLCBsZW5ndGgpXG59XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gKiBAcGFyYW0ge29iamVjdH0gcm9vdFxuICogQHBhcmFtIHtvYmplY3Q/fSBwYXJlbnRcbiAqIEByZXR1cm4ge29iamVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbW1lbnQgKHZhbHVlLCByb290LCBwYXJlbnQpIHtcblx0cmV0dXJuIG5vZGUodmFsdWUsIHJvb3QsIHBhcmVudCwgQ09NTUVOVCwgZnJvbShjaGFyKCkpLCBzdWJzdHIodmFsdWUsIDIsIC0yKSwgMClcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqIEBwYXJhbSB7b2JqZWN0fSByb290XG4gKiBAcGFyYW0ge29iamVjdD99IHBhcmVudFxuICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aFxuICogQHJldHVybiB7b2JqZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVjbGFyYXRpb24gKHZhbHVlLCByb290LCBwYXJlbnQsIGxlbmd0aCkge1xuXHRyZXR1cm4gbm9kZSh2YWx1ZSwgcm9vdCwgcGFyZW50LCBERUNMQVJBVElPTiwgc3Vic3RyKHZhbHVlLCAwLCBsZW5ndGgpLCBzdWJzdHIodmFsdWUsIGxlbmd0aCArIDEsIC0xKSwgbGVuZ3RoKVxufVxuIiwKICAgICJpbXBvcnQge0lNUE9SVCwgTEFZRVIsIENPTU1FTlQsIFJVTEVTRVQsIERFQ0xBUkFUSU9OLCBLRVlGUkFNRVN9IGZyb20gJy4vRW51bS5qcydcbmltcG9ydCB7c3RybGVuLCBzaXplb2Z9IGZyb20gJy4vVXRpbGl0eS5qcydcblxuLyoqXG4gKiBAcGFyYW0ge29iamVjdFtdfSBjaGlsZHJlblxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZSAoY2hpbGRyZW4sIGNhbGxiYWNrKSB7XG5cdHZhciBvdXRwdXQgPSAnJ1xuXHR2YXIgbGVuZ3RoID0gc2l6ZW9mKGNoaWxkcmVuKVxuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspXG5cdFx0b3V0cHV0ICs9IGNhbGxiYWNrKGNoaWxkcmVuW2ldLCBpLCBjaGlsZHJlbiwgY2FsbGJhY2spIHx8ICcnXG5cblx0cmV0dXJuIG91dHB1dFxufVxuXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSBlbGVtZW50XG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAqIEBwYXJhbSB7b2JqZWN0W119IGNoaWxkcmVuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5naWZ5IChlbGVtZW50LCBpbmRleCwgY2hpbGRyZW4sIGNhbGxiYWNrKSB7XG5cdHN3aXRjaCAoZWxlbWVudC50eXBlKSB7XG5cdFx0Y2FzZSBMQVlFUjogaWYgKGVsZW1lbnQuY2hpbGRyZW4ubGVuZ3RoKSBicmVha1xuXHRcdGNhc2UgSU1QT1JUOiBjYXNlIERFQ0xBUkFUSU9OOiByZXR1cm4gZWxlbWVudC5yZXR1cm4gPSBlbGVtZW50LnJldHVybiB8fCBlbGVtZW50LnZhbHVlXG5cdFx0Y2FzZSBDT01NRU5UOiByZXR1cm4gJydcblx0XHRjYXNlIEtFWUZSQU1FUzogcmV0dXJuIGVsZW1lbnQucmV0dXJuID0gZWxlbWVudC52YWx1ZSArICd7JyArIHNlcmlhbGl6ZShlbGVtZW50LmNoaWxkcmVuLCBjYWxsYmFjaykgKyAnfSdcblx0XHRjYXNlIFJVTEVTRVQ6IGVsZW1lbnQudmFsdWUgPSBlbGVtZW50LnByb3BzLmpvaW4oJywnKVxuXHR9XG5cblx0cmV0dXJuIHN0cmxlbihjaGlsZHJlbiA9IHNlcmlhbGl6ZShlbGVtZW50LmNoaWxkcmVuLCBjYWxsYmFjaykpID8gZWxlbWVudC5yZXR1cm4gPSBlbGVtZW50LnZhbHVlICsgJ3snICsgY2hpbGRyZW4gKyAnfScgOiAnJ1xufVxuIiwKICAgICJpbXBvcnQge01TLCBNT1osIFdFQktJVCwgUlVMRVNFVCwgS0VZRlJBTUVTLCBERUNMQVJBVElPTn0gZnJvbSAnLi9FbnVtLmpzJ1xuaW1wb3J0IHttYXRjaCwgY2hhcmF0LCBzdWJzdHIsIHN0cmxlbiwgc2l6ZW9mLCByZXBsYWNlLCBjb21iaW5lfSBmcm9tICcuL1V0aWxpdHkuanMnXG5pbXBvcnQge2NvcHksIHRva2VuaXplfSBmcm9tICcuL1Rva2VuaXplci5qcydcbmltcG9ydCB7c2VyaWFsaXplfSBmcm9tICcuL1NlcmlhbGl6ZXIuanMnXG5pbXBvcnQge3ByZWZpeH0gZnJvbSAnLi9QcmVmaXhlci5qcydcblxuLyoqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uW119IGNvbGxlY3Rpb25cbiAqIEByZXR1cm4ge2Z1bmN0aW9ufVxuICovXG5leHBvcnQgZnVuY3Rpb24gbWlkZGxld2FyZSAoY29sbGVjdGlvbikge1xuXHR2YXIgbGVuZ3RoID0gc2l6ZW9mKGNvbGxlY3Rpb24pXG5cblx0cmV0dXJuIGZ1bmN0aW9uIChlbGVtZW50LCBpbmRleCwgY2hpbGRyZW4sIGNhbGxiYWNrKSB7XG5cdFx0dmFyIG91dHB1dCA9ICcnXG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKVxuXHRcdFx0b3V0cHV0ICs9IGNvbGxlY3Rpb25baV0oZWxlbWVudCwgaW5kZXgsIGNoaWxkcmVuLCBjYWxsYmFjaykgfHwgJydcblxuXHRcdHJldHVybiBvdXRwdXRcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtmdW5jdGlvbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJ1bGVzaGVldCAoY2FsbGJhY2spIHtcblx0cmV0dXJuIGZ1bmN0aW9uIChlbGVtZW50KSB7XG5cdFx0aWYgKCFlbGVtZW50LnJvb3QpXG5cdFx0XHRpZiAoZWxlbWVudCA9IGVsZW1lbnQucmV0dXJuKVxuXHRcdFx0XHRjYWxsYmFjayhlbGVtZW50KVxuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtvYmplY3R9IGVsZW1lbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICogQHBhcmFtIHtvYmplY3RbXX0gY2hpbGRyZW5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmVmaXhlciAoZWxlbWVudCwgaW5kZXgsIGNoaWxkcmVuLCBjYWxsYmFjaykge1xuXHRpZiAoZWxlbWVudC5sZW5ndGggPiAtMSlcblx0XHRpZiAoIWVsZW1lbnQucmV0dXJuKVxuXHRcdFx0c3dpdGNoIChlbGVtZW50LnR5cGUpIHtcblx0XHRcdFx0Y2FzZSBERUNMQVJBVElPTjogZWxlbWVudC5yZXR1cm4gPSBwcmVmaXgoZWxlbWVudC52YWx1ZSwgZWxlbWVudC5sZW5ndGgsIGNoaWxkcmVuKVxuXHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRjYXNlIEtFWUZSQU1FUzpcblx0XHRcdFx0XHRyZXR1cm4gc2VyaWFsaXplKFtjb3B5KGVsZW1lbnQsIHt2YWx1ZTogcmVwbGFjZShlbGVtZW50LnZhbHVlLCAnQCcsICdAJyArIFdFQktJVCl9KV0sIGNhbGxiYWNrKVxuXHRcdFx0XHRjYXNlIFJVTEVTRVQ6XG5cdFx0XHRcdFx0aWYgKGVsZW1lbnQubGVuZ3RoKVxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbWJpbmUoZWxlbWVudC5wcm9wcywgZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0XHRcdFx0XHRcdHN3aXRjaCAobWF0Y2godmFsdWUsIC8oOjpwbGFjXFx3K3w6cmVhZC1cXHcrKS8pKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gOnJlYWQtKG9ubHl8d3JpdGUpXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAnOnJlYWQtb25seSc6IGNhc2UgJzpyZWFkLXdyaXRlJzpcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBzZXJpYWxpemUoW2NvcHkoZWxlbWVudCwge3Byb3BzOiBbcmVwbGFjZSh2YWx1ZSwgLzoocmVhZC1cXHcrKS8sICc6JyArIE1PWiArICckMScpXX0pXSwgY2FsbGJhY2spXG5cdFx0XHRcdFx0XHRcdFx0Ly8gOnBsYWNlaG9sZGVyXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAnOjpwbGFjZWhvbGRlcic6XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gc2VyaWFsaXplKFtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29weShlbGVtZW50LCB7cHJvcHM6IFtyZXBsYWNlKHZhbHVlLCAvOihwbGFjXFx3KykvLCAnOicgKyBXRUJLSVQgKyAnaW5wdXQtJDEnKV19KSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29weShlbGVtZW50LCB7cHJvcHM6IFtyZXBsYWNlKHZhbHVlLCAvOihwbGFjXFx3KykvLCAnOicgKyBNT1ogKyAnJDEnKV19KSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29weShlbGVtZW50LCB7cHJvcHM6IFtyZXBsYWNlKHZhbHVlLCAvOihwbGFjXFx3KykvLCBNUyArICdpbnB1dC0kMScpXX0pXG5cdFx0XHRcdFx0XHRcdFx0XHRdLCBjYWxsYmFjaylcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdHJldHVybiAnJ1xuXHRcdFx0XHRcdFx0fSlcblx0XHRcdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gZWxlbWVudFxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gKiBAcGFyYW0ge29iamVjdFtdfSBjaGlsZHJlblxuICovXG5leHBvcnQgZnVuY3Rpb24gbmFtZXNwYWNlIChlbGVtZW50KSB7XG5cdHN3aXRjaCAoZWxlbWVudC50eXBlKSB7XG5cdFx0Y2FzZSBSVUxFU0VUOlxuXHRcdFx0ZWxlbWVudC5wcm9wcyA9IGVsZW1lbnQucHJvcHMubWFwKGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdFx0XHRyZXR1cm4gY29tYmluZSh0b2tlbml6ZSh2YWx1ZSksIGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgsIGNoaWxkcmVuKSB7XG5cdFx0XHRcdFx0c3dpdGNoIChjaGFyYXQodmFsdWUsIDApKSB7XG5cdFx0XHRcdFx0XHQvLyBcXGZcblx0XHRcdFx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdFx0XHRcdHJldHVybiBzdWJzdHIodmFsdWUsIDEsIHN0cmxlbih2YWx1ZSkpXG5cdFx0XHRcdFx0XHQvLyBcXDAgKCArID4gflxuXHRcdFx0XHRcdFx0Y2FzZSAwOiBjYXNlIDQwOiBjYXNlIDQzOiBjYXNlIDYyOiBjYXNlIDEyNjpcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHZhbHVlXG5cdFx0XHRcdFx0XHQvLyA6XG5cdFx0XHRcdFx0XHRjYXNlIDU4OlxuXHRcdFx0XHRcdFx0XHRpZiAoY2hpbGRyZW5bKytpbmRleF0gPT09ICdnbG9iYWwnKVxuXHRcdFx0XHRcdFx0XHRcdGNoaWxkcmVuW2luZGV4XSA9ICcnLCBjaGlsZHJlblsrK2luZGV4XSA9ICdcXGYnICsgc3Vic3RyKGNoaWxkcmVuW2luZGV4XSwgaW5kZXggPSAxLCAtMSlcblx0XHRcdFx0XHRcdC8vIFxcc1xuXHRcdFx0XHRcdFx0Y2FzZSAzMjpcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGluZGV4ID09PSAxID8gJycgOiB2YWx1ZVxuXHRcdFx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRcdFx0c3dpdGNoIChpbmRleCkge1xuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMDogZWxlbWVudCA9IHZhbHVlXG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gc2l6ZW9mKGNoaWxkcmVuKSA+IDEgPyAnJyA6IHZhbHVlXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSBpbmRleCA9IHNpemVvZihjaGlsZHJlbikgLSAxOiBjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gaW5kZXggPT09IDIgPyB2YWx1ZSArIGVsZW1lbnQgKyBlbGVtZW50IDogdmFsdWUgKyBlbGVtZW50XG5cdFx0XHRcdFx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiB2YWx1ZVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KVxuXHRcdFx0fSlcblx0fVxufVxuIiwKICAgICJmdW5jdGlvbiBtZW1vaXplKGZuKSB7XG4gIHZhciBjYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHJldHVybiBmdW5jdGlvbiAoYXJnKSB7XG4gICAgaWYgKGNhY2hlW2FyZ10gPT09IHVuZGVmaW5lZCkgY2FjaGVbYXJnXSA9IGZuKGFyZyk7XG4gICAgcmV0dXJuIGNhY2hlW2FyZ107XG4gIH07XG59XG5cbmV4cG9ydCB7IG1lbW9pemUgYXMgZGVmYXVsdCB9O1xuIiwKICAgICJpbXBvcnQgeyBTdHlsZVNoZWV0IH0gZnJvbSAnQGVtb3Rpb24vc2hlZXQnO1xuaW1wb3J0IHsgZGVhbGxvYywgYWxsb2MsIG5leHQsIHRva2VuLCBmcm9tLCBwZWVrLCBkZWxpbWl0LCBzbGljZSwgcG9zaXRpb24sIFJVTEVTRVQsIGNvbWJpbmUsIG1hdGNoLCBzZXJpYWxpemUsIGNvcHksIHJlcGxhY2UsIFdFQktJVCwgTU9aLCBNUywgS0VZRlJBTUVTLCBERUNMQVJBVElPTiwgaGFzaCwgY2hhcmF0LCBzdHJsZW4sIGluZGV4b2YsIG1pZGRsZXdhcmUsIHN0cmluZ2lmeSwgQ09NTUVOVCwgY29tcGlsZSB9IGZyb20gJ3N0eWxpcyc7XG5pbXBvcnQgJ0BlbW90aW9uL3dlYWstbWVtb2l6ZSc7XG5pbXBvcnQgJ0BlbW90aW9uL21lbW9pemUnO1xuXG52YXIgaWRlbnRpZmllcldpdGhQb2ludFRyYWNraW5nID0gZnVuY3Rpb24gaWRlbnRpZmllcldpdGhQb2ludFRyYWNraW5nKGJlZ2luLCBwb2ludHMsIGluZGV4KSB7XG4gIHZhciBwcmV2aW91cyA9IDA7XG4gIHZhciBjaGFyYWN0ZXIgPSAwO1xuXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgcHJldmlvdXMgPSBjaGFyYWN0ZXI7XG4gICAgY2hhcmFjdGVyID0gcGVlaygpOyAvLyAmXFxmXG5cbiAgICBpZiAocHJldmlvdXMgPT09IDM4ICYmIGNoYXJhY3RlciA9PT0gMTIpIHtcbiAgICAgIHBvaW50c1tpbmRleF0gPSAxO1xuICAgIH1cblxuICAgIGlmICh0b2tlbihjaGFyYWN0ZXIpKSB7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICBuZXh0KCk7XG4gIH1cblxuICByZXR1cm4gc2xpY2UoYmVnaW4sIHBvc2l0aW9uKTtcbn07XG5cbnZhciB0b1J1bGVzID0gZnVuY3Rpb24gdG9SdWxlcyhwYXJzZWQsIHBvaW50cykge1xuICAvLyBwcmV0ZW5kIHdlJ3ZlIHN0YXJ0ZWQgd2l0aCBhIGNvbW1hXG4gIHZhciBpbmRleCA9IC0xO1xuICB2YXIgY2hhcmFjdGVyID0gNDQ7XG5cbiAgZG8ge1xuICAgIHN3aXRjaCAodG9rZW4oY2hhcmFjdGVyKSkge1xuICAgICAgY2FzZSAwOlxuICAgICAgICAvLyAmXFxmXG4gICAgICAgIGlmIChjaGFyYWN0ZXIgPT09IDM4ICYmIHBlZWsoKSA9PT0gMTIpIHtcbiAgICAgICAgICAvLyB0aGlzIGlzIG5vdCAxMDAlIGNvcnJlY3QsIHdlIGRvbid0IGFjY291bnQgZm9yIGxpdGVyYWwgc2VxdWVuY2VzIGhlcmUgLSBsaWtlIGZvciBleGFtcGxlIHF1b3RlZCBzdHJpbmdzXG4gICAgICAgICAgLy8gc3R5bGlzIGluc2VydHMgXFxmIGFmdGVyICYgdG8ga25vdyB3aGVuICYgd2hlcmUgaXQgc2hvdWxkIHJlcGxhY2UgdGhpcyBzZXF1ZW5jZSB3aXRoIHRoZSBjb250ZXh0IHNlbGVjdG9yXG4gICAgICAgICAgLy8gYW5kIHdoZW4gaXQgc2hvdWxkIGp1c3QgY29uY2F0ZW5hdGUgdGhlIG91dGVyIGFuZCBpbm5lciBzZWxlY3RvcnNcbiAgICAgICAgICAvLyBpdCdzIHZlcnkgdW5saWtlbHkgZm9yIHRoaXMgc2VxdWVuY2UgdG8gYWN0dWFsbHkgYXBwZWFyIGluIGEgZGlmZmVyZW50IGNvbnRleHQsIHNvIHdlIGp1c3QgbGV2ZXJhZ2UgdGhpcyBmYWN0IGhlcmVcbiAgICAgICAgICBwb2ludHNbaW5kZXhdID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcnNlZFtpbmRleF0gKz0gaWRlbnRpZmllcldpdGhQb2ludFRyYWNraW5nKHBvc2l0aW9uIC0gMSwgcG9pbnRzLCBpbmRleCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIDI6XG4gICAgICAgIHBhcnNlZFtpbmRleF0gKz0gZGVsaW1pdChjaGFyYWN0ZXIpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSA0OlxuICAgICAgICAvLyBjb21tYVxuICAgICAgICBpZiAoY2hhcmFjdGVyID09PSA0NCkge1xuICAgICAgICAgIC8vIGNvbG9uXG4gICAgICAgICAgcGFyc2VkWysraW5kZXhdID0gcGVlaygpID09PSA1OCA/ICcmXFxmJyA6ICcnO1xuICAgICAgICAgIHBvaW50c1tpbmRleF0gPSBwYXJzZWRbaW5kZXhdLmxlbmd0aDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAvLyBmYWxsdGhyb3VnaFxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBwYXJzZWRbaW5kZXhdICs9IGZyb20oY2hhcmFjdGVyKTtcbiAgICB9XG4gIH0gd2hpbGUgKGNoYXJhY3RlciA9IG5leHQoKSk7XG5cbiAgcmV0dXJuIHBhcnNlZDtcbn07XG5cbnZhciBnZXRSdWxlcyA9IGZ1bmN0aW9uIGdldFJ1bGVzKHZhbHVlLCBwb2ludHMpIHtcbiAgcmV0dXJuIGRlYWxsb2ModG9SdWxlcyhhbGxvYyh2YWx1ZSksIHBvaW50cykpO1xufTsgLy8gV2Vha1NldCB3b3VsZCBiZSBtb3JlIGFwcHJvcHJpYXRlLCBidXQgb25seSBXZWFrTWFwIGlzIHN1cHBvcnRlZCBpbiBJRTExXG5cblxudmFyIGZpeGVkRWxlbWVudHMgPSAvKiAjX19QVVJFX18gKi9uZXcgV2Vha01hcCgpO1xudmFyIGNvbXBhdCA9IGZ1bmN0aW9uIGNvbXBhdChlbGVtZW50KSB7XG4gIGlmIChlbGVtZW50LnR5cGUgIT09ICdydWxlJyB8fCAhZWxlbWVudC5wYXJlbnQgfHwgLy8gcG9zaXRpdmUgLmxlbmd0aCBpbmRpY2F0ZXMgdGhhdCB0aGlzIHJ1bGUgY29udGFpbnMgcHNldWRvXG4gIC8vIG5lZ2F0aXZlIC5sZW5ndGggaW5kaWNhdGVzIHRoYXQgdGhpcyBydWxlIGhhcyBiZWVuIGFscmVhZHkgcHJlZml4ZWRcbiAgZWxlbWVudC5sZW5ndGggPCAxKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHZhbHVlID0gZWxlbWVudC52YWx1ZTtcbiAgdmFyIHBhcmVudCA9IGVsZW1lbnQucGFyZW50O1xuICB2YXIgaXNJbXBsaWNpdFJ1bGUgPSBlbGVtZW50LmNvbHVtbiA9PT0gcGFyZW50LmNvbHVtbiAmJiBlbGVtZW50LmxpbmUgPT09IHBhcmVudC5saW5lO1xuXG4gIHdoaWxlIChwYXJlbnQudHlwZSAhPT0gJ3J1bGUnKSB7XG4gICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICBpZiAoIXBhcmVudCkgcmV0dXJuO1xuICB9IC8vIHNob3J0LWNpcmN1aXQgZm9yIHRoZSBzaW1wbGVzdCBjYXNlXG5cblxuICBpZiAoZWxlbWVudC5wcm9wcy5sZW5ndGggPT09IDEgJiYgdmFsdWUuY2hhckNvZGVBdCgwKSAhPT0gNThcbiAgLyogY29sb24gKi9cbiAgJiYgIWZpeGVkRWxlbWVudHMuZ2V0KHBhcmVudCkpIHtcbiAgICByZXR1cm47XG4gIH0gLy8gaWYgdGhpcyBpcyBhbiBpbXBsaWNpdGx5IGluc2VydGVkIHJ1bGUgKHRoZSBvbmUgZWFnZXJseSBpbnNlcnRlZCBhdCB0aGUgZWFjaCBuZXcgbmVzdGVkIGxldmVsKVxuICAvLyB0aGVuIHRoZSBwcm9wcyBoYXMgYWxyZWFkeSBiZWVuIG1hbmlwdWxhdGVkIGJlZm9yZWhhbmQgYXMgdGhleSB0aGF0IGFycmF5IGlzIHNoYXJlZCBiZXR3ZWVuIGl0IGFuZCBpdHMgXCJydWxlIHBhcmVudFwiXG5cblxuICBpZiAoaXNJbXBsaWNpdFJ1bGUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBmaXhlZEVsZW1lbnRzLnNldChlbGVtZW50LCB0cnVlKTtcbiAgdmFyIHBvaW50cyA9IFtdO1xuICB2YXIgcnVsZXMgPSBnZXRSdWxlcyh2YWx1ZSwgcG9pbnRzKTtcbiAgdmFyIHBhcmVudFJ1bGVzID0gcGFyZW50LnByb3BzO1xuXG4gIGZvciAodmFyIGkgPSAwLCBrID0gMDsgaSA8IHJ1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBwYXJlbnRSdWxlcy5sZW5ndGg7IGorKywgaysrKSB7XG4gICAgICBlbGVtZW50LnByb3BzW2tdID0gcG9pbnRzW2ldID8gcnVsZXNbaV0ucmVwbGFjZSgvJlxcZi9nLCBwYXJlbnRSdWxlc1tqXSkgOiBwYXJlbnRSdWxlc1tqXSArIFwiIFwiICsgcnVsZXNbaV07XG4gICAgfVxuICB9XG59O1xudmFyIHJlbW92ZUxhYmVsID0gZnVuY3Rpb24gcmVtb3ZlTGFiZWwoZWxlbWVudCkge1xuICBpZiAoZWxlbWVudC50eXBlID09PSAnZGVjbCcpIHtcbiAgICB2YXIgdmFsdWUgPSBlbGVtZW50LnZhbHVlO1xuXG4gICAgaWYgKCAvLyBjaGFyY29kZSBmb3IgbFxuICAgIHZhbHVlLmNoYXJDb2RlQXQoMCkgPT09IDEwOCAmJiAvLyBjaGFyY29kZSBmb3IgYlxuICAgIHZhbHVlLmNoYXJDb2RlQXQoMikgPT09IDk4KSB7XG4gICAgICAvLyB0aGlzIGlnbm9yZXMgbGFiZWxcbiAgICAgIGVsZW1lbnRbXCJyZXR1cm5cIl0gPSAnJztcbiAgICAgIGVsZW1lbnQudmFsdWUgPSAnJztcbiAgICB9XG4gIH1cbn07XG52YXIgaWdub3JlRmxhZyA9ICdlbW90aW9uLWRpc2FibGUtc2VydmVyLXJlbmRlcmluZy11bnNhZmUtc2VsZWN0b3Itd2FybmluZy1wbGVhc2UtZG8tbm90LXVzZS10aGlzLXRoZS13YXJuaW5nLWV4aXN0cy1mb3ItYS1yZWFzb24nO1xuXG52YXIgaXNJZ25vcmluZ0NvbW1lbnQgPSBmdW5jdGlvbiBpc0lnbm9yaW5nQ29tbWVudChlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50LnR5cGUgPT09ICdjb21tJyAmJiBlbGVtZW50LmNoaWxkcmVuLmluZGV4T2YoaWdub3JlRmxhZykgPiAtMTtcbn07XG5cbnZhciBjcmVhdGVVbnNhZmVTZWxlY3RvcnNBbGFybSA9IGZ1bmN0aW9uIGNyZWF0ZVVuc2FmZVNlbGVjdG9yc0FsYXJtKGNhY2hlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZWxlbWVudCwgaW5kZXgsIGNoaWxkcmVuKSB7XG4gICAgaWYgKGVsZW1lbnQudHlwZSAhPT0gJ3J1bGUnIHx8IGNhY2hlLmNvbXBhdCkgcmV0dXJuO1xuICAgIHZhciB1bnNhZmVQc2V1ZG9DbGFzc2VzID0gZWxlbWVudC52YWx1ZS5tYXRjaCgvKDpmaXJzdHw6bnRofDpudGgtbGFzdCktY2hpbGQvZyk7XG5cbiAgICBpZiAodW5zYWZlUHNldWRvQ2xhc3Nlcykge1xuICAgICAgdmFyIGlzTmVzdGVkID0gISFlbGVtZW50LnBhcmVudDsgLy8gaW4gbmVzdGVkIHJ1bGVzIGNvbW1lbnRzIGJlY29tZSBjaGlsZHJlbiBvZiB0aGUgXCJhdXRvLWluc2VydGVkXCIgcnVsZSBhbmQgdGhhdCdzIGFsd2F5cyB0aGUgYGVsZW1lbnQucGFyZW50YFxuICAgICAgLy9cbiAgICAgIC8vIGNvbnNpZGVyaW5nIHRoaXMgaW5wdXQ6XG4gICAgICAvLyAuYSB7XG4gICAgICAvLyAgIC5iIC8qIGNvbW0gKi8ge31cbiAgICAgIC8vICAgY29sb3I6IGhvdHBpbms7XG4gICAgICAvLyB9XG4gICAgICAvLyB3ZSBnZXQgb3V0cHV0IGNvcnJlc3BvbmRpbmcgdG8gdGhpczpcbiAgICAgIC8vIC5hIHtcbiAgICAgIC8vICAgJiB7XG4gICAgICAvLyAgICAgLyogY29tbSAqL1xuICAgICAgLy8gICAgIGNvbG9yOiBob3RwaW5rO1xuICAgICAgLy8gICB9XG4gICAgICAvLyAgIC5iIHt9XG4gICAgICAvLyB9XG5cbiAgICAgIHZhciBjb21tZW50Q29udGFpbmVyID0gaXNOZXN0ZWQgPyBlbGVtZW50LnBhcmVudC5jaGlsZHJlbiA6IC8vIGdsb2JhbCBydWxlIGF0IHRoZSByb290IGxldmVsXG4gICAgICBjaGlsZHJlbjtcblxuICAgICAgZm9yICh2YXIgaSA9IGNvbW1lbnRDb250YWluZXIubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgdmFyIG5vZGUgPSBjb21tZW50Q29udGFpbmVyW2ldO1xuXG4gICAgICAgIGlmIChub2RlLmxpbmUgPCBlbGVtZW50LmxpbmUpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSAvLyBpdCBpcyBxdWl0ZSB3ZWlyZCBidXQgY29tbWVudHMgYXJlICp1c3VhbGx5KiBwdXQgYXQgYGNvbHVtbjogZWxlbWVudC5jb2x1bW4gLSAxYFxuICAgICAgICAvLyBzbyB3ZSBzZWVrICpmcm9tIHRoZSBlbmQqIGZvciB0aGUgbm9kZSB0aGF0IGlzIGVhcmxpZXIgdGhhbiB0aGUgcnVsZSdzIGBlbGVtZW50YCBhbmQgY2hlY2sgdGhhdFxuICAgICAgICAvLyB0aGlzIHdpbGwgYWxzbyBtYXRjaCBpbnB1dHMgbGlrZSB0aGlzOlxuICAgICAgICAvLyAuYSB7XG4gICAgICAgIC8vICAgLyogY29tbSAqL1xuICAgICAgICAvLyAgIC5iIHt9XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy9cbiAgICAgICAgLy8gYnV0IHRoYXQgaXMgZmluZVxuICAgICAgICAvL1xuICAgICAgICAvLyBpdCB3b3VsZCBiZSB0aGUgZWFzaWVzdCB0byBjaGFuZ2UgdGhlIHBsYWNlbWVudCBvZiB0aGUgY29tbWVudCB0byBiZSB0aGUgZmlyc3QgY2hpbGQgb2YgdGhlIHJ1bGU6XG4gICAgICAgIC8vIC5hIHtcbiAgICAgICAgLy8gICAuYiB7IC8qIGNvbW0gKi8gfVxuICAgICAgICAvLyB9XG4gICAgICAgIC8vIHdpdGggc3VjaCBpbnB1dHMgd2Ugd291bGRuJ3QgaGF2ZSB0byBzZWFyY2ggZm9yIHRoZSBjb21tZW50IGF0IGFsbFxuICAgICAgICAvLyBUT0RPOiBjb25zaWRlciBjaGFuZ2luZyB0aGlzIGNvbW1lbnQgcGxhY2VtZW50IGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb25cblxuXG4gICAgICAgIGlmIChub2RlLmNvbHVtbiA8IGVsZW1lbnQuY29sdW1uKSB7XG4gICAgICAgICAgaWYgKGlzSWdub3JpbmdDb21tZW50KG5vZGUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdW5zYWZlUHNldWRvQ2xhc3Nlcy5mb3JFYWNoKGZ1bmN0aW9uICh1bnNhZmVQc2V1ZG9DbGFzcykge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVGhlIHBzZXVkbyBjbGFzcyBcXFwiXCIgKyB1bnNhZmVQc2V1ZG9DbGFzcyArIFwiXFxcIiBpcyBwb3RlbnRpYWxseSB1bnNhZmUgd2hlbiBkb2luZyBzZXJ2ZXItc2lkZSByZW5kZXJpbmcuIFRyeSBjaGFuZ2luZyBpdCB0byBcXFwiXCIgKyB1bnNhZmVQc2V1ZG9DbGFzcy5zcGxpdCgnLWNoaWxkJylbMF0gKyBcIi1vZi10eXBlXFxcIi5cIik7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59O1xuXG52YXIgaXNJbXBvcnRSdWxlID0gZnVuY3Rpb24gaXNJbXBvcnRSdWxlKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQudHlwZS5jaGFyQ29kZUF0KDEpID09PSAxMDUgJiYgZWxlbWVudC50eXBlLmNoYXJDb2RlQXQoMCkgPT09IDY0O1xufTtcblxudmFyIGlzUHJlcGVuZGVkV2l0aFJlZ3VsYXJSdWxlcyA9IGZ1bmN0aW9uIGlzUHJlcGVuZGVkV2l0aFJlZ3VsYXJSdWxlcyhpbmRleCwgY2hpbGRyZW4pIHtcbiAgZm9yICh2YXIgaSA9IGluZGV4IC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBpZiAoIWlzSW1wb3J0UnVsZShjaGlsZHJlbltpXSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn07IC8vIHVzZSB0aGlzIHRvIHJlbW92ZSBpbmNvcnJlY3QgZWxlbWVudHMgZnJvbSBmdXJ0aGVyIHByb2Nlc3Npbmdcbi8vIHNvIHRoZXkgZG9uJ3QgZ2V0IGhhbmRlZCB0byB0aGUgYHNoZWV0YCAob3IgYW55dGhpbmcgZWxzZSlcbi8vIGFzIHRoYXQgY291bGQgcG90ZW50aWFsbHkgbGVhZCB0byBhZGRpdGlvbmFsIGxvZ3Mgd2hpY2ggaW4gdHVybiBjb3VsZCBiZSBvdmVyaGVsbWluZyB0byB0aGUgdXNlclxuXG5cbnZhciBudWxsaWZ5RWxlbWVudCA9IGZ1bmN0aW9uIG51bGxpZnlFbGVtZW50KGVsZW1lbnQpIHtcbiAgZWxlbWVudC50eXBlID0gJyc7XG4gIGVsZW1lbnQudmFsdWUgPSAnJztcbiAgZWxlbWVudFtcInJldHVyblwiXSA9ICcnO1xuICBlbGVtZW50LmNoaWxkcmVuID0gJyc7XG4gIGVsZW1lbnQucHJvcHMgPSAnJztcbn07XG5cbnZhciBpbmNvcnJlY3RJbXBvcnRBbGFybSA9IGZ1bmN0aW9uIGluY29ycmVjdEltcG9ydEFsYXJtKGVsZW1lbnQsIGluZGV4LCBjaGlsZHJlbikge1xuICBpZiAoIWlzSW1wb3J0UnVsZShlbGVtZW50KSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChlbGVtZW50LnBhcmVudCkge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJgQGltcG9ydGAgcnVsZXMgY2FuJ3QgYmUgbmVzdGVkIGluc2lkZSBvdGhlciBydWxlcy4gUGxlYXNlIG1vdmUgaXQgdG8gdGhlIHRvcCBsZXZlbCBhbmQgcHV0IGl0IGJlZm9yZSByZWd1bGFyIHJ1bGVzLiBLZWVwIGluIG1pbmQgdGhhdCB0aGV5IGNhbiBvbmx5IGJlIHVzZWQgd2l0aGluIGdsb2JhbCBzdHlsZXMuXCIpO1xuICAgIG51bGxpZnlFbGVtZW50KGVsZW1lbnQpO1xuICB9IGVsc2UgaWYgKGlzUHJlcGVuZGVkV2l0aFJlZ3VsYXJSdWxlcyhpbmRleCwgY2hpbGRyZW4pKSB7XG4gICAgY29uc29sZS5lcnJvcihcImBAaW1wb3J0YCBydWxlcyBjYW4ndCBiZSBhZnRlciBvdGhlciBydWxlcy4gUGxlYXNlIHB1dCB5b3VyIGBAaW1wb3J0YCBydWxlcyBiZWZvcmUgeW91ciBvdGhlciBydWxlcy5cIik7XG4gICAgbnVsbGlmeUVsZW1lbnQoZWxlbWVudCk7XG4gIH1cbn07XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLWZhbGx0aHJvdWdoICovXG5cbmZ1bmN0aW9uIHByZWZpeCh2YWx1ZSwgbGVuZ3RoKSB7XG4gIHN3aXRjaCAoaGFzaCh2YWx1ZSwgbGVuZ3RoKSkge1xuICAgIC8vIGNvbG9yLWFkanVzdFxuICAgIGNhc2UgNTEwMzpcbiAgICAgIHJldHVybiBXRUJLSVQgKyAncHJpbnQtJyArIHZhbHVlICsgdmFsdWU7XG4gICAgLy8gYW5pbWF0aW9uLCBhbmltYXRpb24tKGRlbGF5fGRpcmVjdGlvbnxkdXJhdGlvbnxmaWxsLW1vZGV8aXRlcmF0aW9uLWNvdW50fG5hbWV8cGxheS1zdGF0ZXx0aW1pbmctZnVuY3Rpb24pXG5cbiAgICBjYXNlIDU3Mzc6XG4gICAgY2FzZSA0MjAxOlxuICAgIGNhc2UgMzE3NzpcbiAgICBjYXNlIDM0MzM6XG4gICAgY2FzZSAxNjQxOlxuICAgIGNhc2UgNDQ1NzpcbiAgICBjYXNlIDI5MjE6IC8vIHRleHQtZGVjb3JhdGlvbiwgZmlsdGVyLCBjbGlwLXBhdGgsIGJhY2tmYWNlLXZpc2liaWxpdHksIGNvbHVtbiwgYm94LWRlY29yYXRpb24tYnJlYWtcblxuICAgIGNhc2UgNTU3MjpcbiAgICBjYXNlIDYzNTY6XG4gICAgY2FzZSA1ODQ0OlxuICAgIGNhc2UgMzE5MTpcbiAgICBjYXNlIDY2NDU6XG4gICAgY2FzZSAzMDA1OiAvLyBtYXNrLCBtYXNrLWltYWdlLCBtYXNrLShtb2RlfGNsaXB8c2l6ZSksIG1hc2stKHJlcGVhdHxvcmlnaW4pLCBtYXNrLXBvc2l0aW9uLCBtYXNrLWNvbXBvc2l0ZSxcblxuICAgIGNhc2UgNjM5MTpcbiAgICBjYXNlIDU4Nzk6XG4gICAgY2FzZSA1NjIzOlxuICAgIGNhc2UgNjEzNTpcbiAgICBjYXNlIDQ1OTk6XG4gICAgY2FzZSA0ODU1OiAvLyBiYWNrZ3JvdW5kLWNsaXAsIGNvbHVtbnMsIGNvbHVtbi0oY291bnR8ZmlsbHxnYXB8cnVsZXxydWxlLWNvbG9yfHJ1bGUtc3R5bGV8cnVsZS13aWR0aHxzcGFufHdpZHRoKVxuXG4gICAgY2FzZSA0MjE1OlxuICAgIGNhc2UgNjM4OTpcbiAgICBjYXNlIDUxMDk6XG4gICAgY2FzZSA1MzY1OlxuICAgIGNhc2UgNTYyMTpcbiAgICBjYXNlIDM4Mjk6XG4gICAgICByZXR1cm4gV0VCS0lUICsgdmFsdWUgKyB2YWx1ZTtcbiAgICAvLyBhcHBlYXJhbmNlLCB1c2VyLXNlbGVjdCwgdHJhbnNmb3JtLCBoeXBoZW5zLCB0ZXh0LXNpemUtYWRqdXN0XG5cbiAgICBjYXNlIDUzNDk6XG4gICAgY2FzZSA0MjQ2OlxuICAgIGNhc2UgNDgxMDpcbiAgICBjYXNlIDY5Njg6XG4gICAgY2FzZSAyNzU2OlxuICAgICAgcmV0dXJuIFdFQktJVCArIHZhbHVlICsgTU9aICsgdmFsdWUgKyBNUyArIHZhbHVlICsgdmFsdWU7XG4gICAgLy8gZmxleCwgZmxleC1kaXJlY3Rpb25cblxuICAgIGNhc2UgNjgyODpcbiAgICBjYXNlIDQyNjg6XG4gICAgICByZXR1cm4gV0VCS0lUICsgdmFsdWUgKyBNUyArIHZhbHVlICsgdmFsdWU7XG4gICAgLy8gb3JkZXJcblxuICAgIGNhc2UgNjE2NTpcbiAgICAgIHJldHVybiBXRUJLSVQgKyB2YWx1ZSArIE1TICsgJ2ZsZXgtJyArIHZhbHVlICsgdmFsdWU7XG4gICAgLy8gYWxpZ24taXRlbXNcblxuICAgIGNhc2UgNTE4NzpcbiAgICAgIHJldHVybiBXRUJLSVQgKyB2YWx1ZSArIHJlcGxhY2UodmFsdWUsIC8oXFx3KykuKyg6W15dKykvLCBXRUJLSVQgKyAnYm94LSQxJDInICsgTVMgKyAnZmxleC0kMSQyJykgKyB2YWx1ZTtcbiAgICAvLyBhbGlnbi1zZWxmXG5cbiAgICBjYXNlIDU0NDM6XG4gICAgICByZXR1cm4gV0VCS0lUICsgdmFsdWUgKyBNUyArICdmbGV4LWl0ZW0tJyArIHJlcGxhY2UodmFsdWUsIC9mbGV4LXwtc2VsZi8sICcnKSArIHZhbHVlO1xuICAgIC8vIGFsaWduLWNvbnRlbnRcblxuICAgIGNhc2UgNDY3NTpcbiAgICAgIHJldHVybiBXRUJLSVQgKyB2YWx1ZSArIE1TICsgJ2ZsZXgtbGluZS1wYWNrJyArIHJlcGxhY2UodmFsdWUsIC9hbGlnbi1jb250ZW50fGZsZXgtfC1zZWxmLywgJycpICsgdmFsdWU7XG4gICAgLy8gZmxleC1zaHJpbmtcblxuICAgIGNhc2UgNTU0ODpcbiAgICAgIHJldHVybiBXRUJLSVQgKyB2YWx1ZSArIE1TICsgcmVwbGFjZSh2YWx1ZSwgJ3NocmluaycsICduZWdhdGl2ZScpICsgdmFsdWU7XG4gICAgLy8gZmxleC1iYXNpc1xuXG4gICAgY2FzZSA1MjkyOlxuICAgICAgcmV0dXJuIFdFQktJVCArIHZhbHVlICsgTVMgKyByZXBsYWNlKHZhbHVlLCAnYmFzaXMnLCAncHJlZmVycmVkLXNpemUnKSArIHZhbHVlO1xuICAgIC8vIGZsZXgtZ3Jvd1xuXG4gICAgY2FzZSA2MDYwOlxuICAgICAgcmV0dXJuIFdFQktJVCArICdib3gtJyArIHJlcGxhY2UodmFsdWUsICctZ3JvdycsICcnKSArIFdFQktJVCArIHZhbHVlICsgTVMgKyByZXBsYWNlKHZhbHVlLCAnZ3JvdycsICdwb3NpdGl2ZScpICsgdmFsdWU7XG4gICAgLy8gdHJhbnNpdGlvblxuXG4gICAgY2FzZSA0NTU0OlxuICAgICAgcmV0dXJuIFdFQktJVCArIHJlcGxhY2UodmFsdWUsIC8oW14tXSkodHJhbnNmb3JtKS9nLCAnJDEnICsgV0VCS0lUICsgJyQyJykgKyB2YWx1ZTtcbiAgICAvLyBjdXJzb3JcblxuICAgIGNhc2UgNjE4NzpcbiAgICAgIHJldHVybiByZXBsYWNlKHJlcGxhY2UocmVwbGFjZSh2YWx1ZSwgLyh6b29tLXxncmFiKS8sIFdFQktJVCArICckMScpLCAvKGltYWdlLXNldCkvLCBXRUJLSVQgKyAnJDEnKSwgdmFsdWUsICcnKSArIHZhbHVlO1xuICAgIC8vIGJhY2tncm91bmQsIGJhY2tncm91bmQtaW1hZ2VcblxuICAgIGNhc2UgNTQ5NTpcbiAgICBjYXNlIDM5NTk6XG4gICAgICByZXR1cm4gcmVwbGFjZSh2YWx1ZSwgLyhpbWFnZS1zZXRcXChbXl0qKS8sIFdFQktJVCArICckMScgKyAnJGAkMScpO1xuICAgIC8vIGp1c3RpZnktY29udGVudFxuXG4gICAgY2FzZSA0OTY4OlxuICAgICAgcmV0dXJuIHJlcGxhY2UocmVwbGFjZSh2YWx1ZSwgLyguKzopKGZsZXgtKT8oLiopLywgV0VCS0lUICsgJ2JveC1wYWNrOiQzJyArIE1TICsgJ2ZsZXgtcGFjazokMycpLCAvcy4rLWJbXjtdKy8sICdqdXN0aWZ5JykgKyBXRUJLSVQgKyB2YWx1ZSArIHZhbHVlO1xuICAgIC8vIChtYXJnaW58cGFkZGluZyktaW5saW5lLShzdGFydHxlbmQpXG5cbiAgICBjYXNlIDQwOTU6XG4gICAgY2FzZSAzNTgzOlxuICAgIGNhc2UgNDA2ODpcbiAgICBjYXNlIDI1MzI6XG4gICAgICByZXR1cm4gcmVwbGFjZSh2YWx1ZSwgLyguKyktaW5saW5lKC4rKS8sIFdFQktJVCArICckMSQyJykgKyB2YWx1ZTtcbiAgICAvLyAobWlufG1heCk/KHdpZHRofGhlaWdodHxpbmxpbmUtc2l6ZXxibG9jay1zaXplKVxuXG4gICAgY2FzZSA4MTE2OlxuICAgIGNhc2UgNzA1OTpcbiAgICBjYXNlIDU3NTM6XG4gICAgY2FzZSA1NTM1OlxuICAgIGNhc2UgNTQ0NTpcbiAgICBjYXNlIDU3MDE6XG4gICAgY2FzZSA0OTMzOlxuICAgIGNhc2UgNDY3NzpcbiAgICBjYXNlIDU1MzM6XG4gICAgY2FzZSA1Nzg5OlxuICAgIGNhc2UgNTAyMTpcbiAgICBjYXNlIDQ3NjU6XG4gICAgICAvLyBzdHJldGNoLCBtYXgtY29udGVudCwgbWluLWNvbnRlbnQsIGZpbGwtYXZhaWxhYmxlXG4gICAgICBpZiAoc3RybGVuKHZhbHVlKSAtIDEgLSBsZW5ndGggPiA2KSBzd2l0Y2ggKGNoYXJhdCh2YWx1ZSwgbGVuZ3RoICsgMSkpIHtcbiAgICAgICAgLy8gKG0pYXgtY29udGVudCwgKG0paW4tY29udGVudFxuICAgICAgICBjYXNlIDEwOTpcbiAgICAgICAgICAvLyAtXG4gICAgICAgICAgaWYgKGNoYXJhdCh2YWx1ZSwgbGVuZ3RoICsgNCkgIT09IDQ1KSBicmVhaztcbiAgICAgICAgLy8gKGYpaWxsLWF2YWlsYWJsZSwgKGYpaXQtY29udGVudFxuXG4gICAgICAgIGNhc2UgMTAyOlxuICAgICAgICAgIHJldHVybiByZXBsYWNlKHZhbHVlLCAvKC4rOikoLispLShbXl0rKS8sICckMScgKyBXRUJLSVQgKyAnJDItJDMnICsgJyQxJyArIE1PWiArIChjaGFyYXQodmFsdWUsIGxlbmd0aCArIDMpID09IDEwOCA/ICckMycgOiAnJDItJDMnKSkgKyB2YWx1ZTtcbiAgICAgICAgLy8gKHMpdHJldGNoXG5cbiAgICAgICAgY2FzZSAxMTU6XG4gICAgICAgICAgcmV0dXJuIH5pbmRleG9mKHZhbHVlLCAnc3RyZXRjaCcpID8gcHJlZml4KHJlcGxhY2UodmFsdWUsICdzdHJldGNoJywgJ2ZpbGwtYXZhaWxhYmxlJyksIGxlbmd0aCkgKyB2YWx1ZSA6IHZhbHVlO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgLy8gcG9zaXRpb246IHN0aWNreVxuXG4gICAgY2FzZSA0OTQ5OlxuICAgICAgLy8gKHMpdGlja3k/XG4gICAgICBpZiAoY2hhcmF0KHZhbHVlLCBsZW5ndGggKyAxKSAhPT0gMTE1KSBicmVhaztcbiAgICAvLyBkaXNwbGF5OiAoZmxleHxpbmxpbmUtZmxleClcblxuICAgIGNhc2UgNjQ0NDpcbiAgICAgIHN3aXRjaCAoY2hhcmF0KHZhbHVlLCBzdHJsZW4odmFsdWUpIC0gMyAtICh+aW5kZXhvZih2YWx1ZSwgJyFpbXBvcnRhbnQnKSAmJiAxMCkpKSB7XG4gICAgICAgIC8vIHN0aWMoayl5XG4gICAgICAgIGNhc2UgMTA3OlxuICAgICAgICAgIHJldHVybiByZXBsYWNlKHZhbHVlLCAnOicsICc6JyArIFdFQktJVCkgKyB2YWx1ZTtcbiAgICAgICAgLy8gKGlubGluZS0pP2ZsKGUpeFxuXG4gICAgICAgIGNhc2UgMTAxOlxuICAgICAgICAgIHJldHVybiByZXBsYWNlKHZhbHVlLCAvKC4rOikoW147IV0rKSg7fCEuKyk/LywgJyQxJyArIFdFQktJVCArIChjaGFyYXQodmFsdWUsIDE0KSA9PT0gNDUgPyAnaW5saW5lLScgOiAnJykgKyAnYm94JDMnICsgJyQxJyArIFdFQktJVCArICckMiQzJyArICckMScgKyBNUyArICckMmJveCQzJykgKyB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgYnJlYWs7XG4gICAgLy8gd3JpdGluZy1tb2RlXG5cbiAgICBjYXNlIDU5MzY6XG4gICAgICBzd2l0Y2ggKGNoYXJhdCh2YWx1ZSwgbGVuZ3RoICsgMTEpKSB7XG4gICAgICAgIC8vIHZlcnRpY2FsLWwocilcbiAgICAgICAgY2FzZSAxMTQ6XG4gICAgICAgICAgcmV0dXJuIFdFQktJVCArIHZhbHVlICsgTVMgKyByZXBsYWNlKHZhbHVlLCAvW3N2aF1cXHcrLVt0YmxyXXsyfS8sICd0YicpICsgdmFsdWU7XG4gICAgICAgIC8vIHZlcnRpY2FsLXIobClcblxuICAgICAgICBjYXNlIDEwODpcbiAgICAgICAgICByZXR1cm4gV0VCS0lUICsgdmFsdWUgKyBNUyArIHJlcGxhY2UodmFsdWUsIC9bc3ZoXVxcdystW3RibHJdezJ9LywgJ3RiLXJsJykgKyB2YWx1ZTtcbiAgICAgICAgLy8gaG9yaXpvbnRhbCgtKXRiXG5cbiAgICAgICAgY2FzZSA0NTpcbiAgICAgICAgICByZXR1cm4gV0VCS0lUICsgdmFsdWUgKyBNUyArIHJlcGxhY2UodmFsdWUsIC9bc3ZoXVxcdystW3RibHJdezJ9LywgJ2xyJykgKyB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFdFQktJVCArIHZhbHVlICsgTVMgKyB2YWx1ZSArIHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG52YXIgcHJlZml4ZXIgPSBmdW5jdGlvbiBwcmVmaXhlcihlbGVtZW50LCBpbmRleCwgY2hpbGRyZW4sIGNhbGxiYWNrKSB7XG4gIGlmIChlbGVtZW50Lmxlbmd0aCA+IC0xKSBpZiAoIWVsZW1lbnRbXCJyZXR1cm5cIl0pIHN3aXRjaCAoZWxlbWVudC50eXBlKSB7XG4gICAgY2FzZSBERUNMQVJBVElPTjpcbiAgICAgIGVsZW1lbnRbXCJyZXR1cm5cIl0gPSBwcmVmaXgoZWxlbWVudC52YWx1ZSwgZWxlbWVudC5sZW5ndGgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEtFWUZSQU1FUzpcbiAgICAgIHJldHVybiBzZXJpYWxpemUoW2NvcHkoZWxlbWVudCwge1xuICAgICAgICB2YWx1ZTogcmVwbGFjZShlbGVtZW50LnZhbHVlLCAnQCcsICdAJyArIFdFQktJVClcbiAgICAgIH0pXSwgY2FsbGJhY2spO1xuXG4gICAgY2FzZSBSVUxFU0VUOlxuICAgICAgaWYgKGVsZW1lbnQubGVuZ3RoKSByZXR1cm4gY29tYmluZShlbGVtZW50LnByb3BzLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgc3dpdGNoIChtYXRjaCh2YWx1ZSwgLyg6OnBsYWNcXHcrfDpyZWFkLVxcdyspLykpIHtcbiAgICAgICAgICAvLyA6cmVhZC0ob25seXx3cml0ZSlcbiAgICAgICAgICBjYXNlICc6cmVhZC1vbmx5JzpcbiAgICAgICAgICBjYXNlICc6cmVhZC13cml0ZSc6XG4gICAgICAgICAgICByZXR1cm4gc2VyaWFsaXplKFtjb3B5KGVsZW1lbnQsIHtcbiAgICAgICAgICAgICAgcHJvcHM6IFtyZXBsYWNlKHZhbHVlLCAvOihyZWFkLVxcdyspLywgJzonICsgTU9aICsgJyQxJyldXG4gICAgICAgICAgICB9KV0sIGNhbGxiYWNrKTtcbiAgICAgICAgICAvLyA6cGxhY2Vob2xkZXJcblxuICAgICAgICAgIGNhc2UgJzo6cGxhY2Vob2xkZXInOlxuICAgICAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZShbY29weShlbGVtZW50LCB7XG4gICAgICAgICAgICAgIHByb3BzOiBbcmVwbGFjZSh2YWx1ZSwgLzoocGxhY1xcdyspLywgJzonICsgV0VCS0lUICsgJ2lucHV0LSQxJyldXG4gICAgICAgICAgICB9KSwgY29weShlbGVtZW50LCB7XG4gICAgICAgICAgICAgIHByb3BzOiBbcmVwbGFjZSh2YWx1ZSwgLzoocGxhY1xcdyspLywgJzonICsgTU9aICsgJyQxJyldXG4gICAgICAgICAgICB9KSwgY29weShlbGVtZW50LCB7XG4gICAgICAgICAgICAgIHByb3BzOiBbcmVwbGFjZSh2YWx1ZSwgLzoocGxhY1xcdyspLywgTVMgKyAnaW5wdXQtJDEnKV1cbiAgICAgICAgICAgIH0pXSwgY2FsbGJhY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfSk7XG4gIH1cbn07XG5cbnZhciBkZWZhdWx0U3R5bGlzUGx1Z2lucyA9IFtwcmVmaXhlcl07XG52YXIgZ2V0U291cmNlTWFwO1xuXG57XG4gIHZhciBzb3VyY2VNYXBQYXR0ZXJuID0gL1xcL1xcKiNcXHNzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb25cXC9qc29uO1xcUytcXHMrXFwqXFwvL2c7XG5cbiAgZ2V0U291cmNlTWFwID0gZnVuY3Rpb24gZ2V0U291cmNlTWFwKHN0eWxlcykge1xuICAgIHZhciBtYXRjaGVzID0gc3R5bGVzLm1hdGNoKHNvdXJjZU1hcFBhdHRlcm4pO1xuICAgIGlmICghbWF0Y2hlcykgcmV0dXJuO1xuICAgIHJldHVybiBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV07XG4gIH07XG59XG5cbnZhciBjcmVhdGVDYWNoZSA9IGZ1bmN0aW9uIGNyZWF0ZUNhY2hlKG9wdGlvbnMpIHtcbiAgdmFyIGtleSA9IG9wdGlvbnMua2V5O1xuXG4gIGlmICgha2V5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IGhhdmUgdG8gY29uZmlndXJlIGBrZXlgIGZvciB5b3VyIGNhY2hlLiBQbGVhc2UgbWFrZSBzdXJlIGl0J3MgdW5pcXVlIChhbmQgbm90IGVxdWFsIHRvICdjc3MnKSBhcyBpdCdzIHVzZWQgZm9yIGxpbmtpbmcgc3R5bGVzIHRvIHlvdXIgY2FjaGUuXFxuXCIgKyBcIklmIG11bHRpcGxlIGNhY2hlcyBzaGFyZSB0aGUgc2FtZSBrZXkgdGhleSBtaWdodCBcXFwiZmlnaHRcXFwiIGZvciBlYWNoIG90aGVyJ3Mgc3R5bGUgZWxlbWVudHMuXCIpO1xuICB9XG5cbiAgaWYgKGtleSA9PT0gJ2NzcycpIHtcbiAgICB2YXIgc3NyU3R5bGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcInN0eWxlW2RhdGEtZW1vdGlvbl06bm90KFtkYXRhLXNdKVwiKTsgLy8gZ2V0IFNTUmVkIHN0eWxlcyBvdXQgb2YgdGhlIHdheSBvZiBSZWFjdCdzIGh5ZHJhdGlvblxuICAgIC8vIGRvY3VtZW50LmhlYWQgaXMgYSBzYWZlIHBsYWNlIHRvIG1vdmUgdGhlbSB0byh0aG91Z2ggbm90ZSBkb2N1bWVudC5oZWFkIGlzIG5vdCBuZWNlc3NhcmlseSB0aGUgbGFzdCBwbGFjZSB0aGV5IHdpbGwgYmUpXG4gICAgLy8gbm90ZSB0aGlzIHZlcnkgdmVyeSBpbnRlbnRpb25hbGx5IHRhcmdldHMgYWxsIHN0eWxlIGVsZW1lbnRzIHJlZ2FyZGxlc3Mgb2YgdGhlIGtleSB0byBlbnN1cmVcbiAgICAvLyB0aGF0IGNyZWF0aW5nIGEgY2FjaGUgd29ya3MgaW5zaWRlIG9mIHJlbmRlciBvZiBhIFJlYWN0IGNvbXBvbmVudFxuXG4gICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChzc3JTdHlsZXMsIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAvLyB3ZSB3YW50IHRvIG9ubHkgbW92ZSBlbGVtZW50cyB3aGljaCBoYXZlIGEgc3BhY2UgaW4gdGhlIGRhdGEtZW1vdGlvbiBhdHRyaWJ1dGUgdmFsdWVcbiAgICAgIC8vIGJlY2F1c2UgdGhhdCBpbmRpY2F0ZXMgdGhhdCBpdCBpcyBhbiBFbW90aW9uIDExIHNlcnZlci1zaWRlIHJlbmRlcmVkIHN0eWxlIGVsZW1lbnRzXG4gICAgICAvLyB3aGlsZSB3ZSB3aWxsIGFscmVhZHkgaWdub3JlIEVtb3Rpb24gMTEgY2xpZW50LXNpZGUgaW5zZXJ0ZWQgc3R5bGVzIGJlY2F1c2Ugb2YgdGhlIDpub3QoW2RhdGEtc10pIHBhcnQgaW4gdGhlIHNlbGVjdG9yXG4gICAgICAvLyBFbW90aW9uIDEwIGNsaWVudC1zaWRlIGluc2VydGVkIHN0eWxlcyBkaWQgbm90IGhhdmUgZGF0YS1zIChidXQgaW1wb3J0YW50bHkgZGlkIG5vdCBoYXZlIGEgc3BhY2UgaW4gdGhlaXIgZGF0YS1lbW90aW9uIGF0dHJpYnV0ZXMpXG4gICAgICAvLyBzbyBjaGVja2luZyBmb3IgdGhlIHNwYWNlIGVuc3VyZXMgdGhhdCBsb2FkaW5nIEVtb3Rpb24gMTEgYWZ0ZXIgRW1vdGlvbiAxMCBoYXMgaW5zZXJ0ZWQgc29tZSBzdHlsZXNcbiAgICAgIC8vIHdpbGwgbm90IHJlc3VsdCBpbiB0aGUgRW1vdGlvbiAxMCBzdHlsZXMgYmVpbmcgZGVzdHJveWVkXG4gICAgICB2YXIgZGF0YUVtb3Rpb25BdHRyaWJ1dGUgPSBub2RlLmdldEF0dHJpYnV0ZSgnZGF0YS1lbW90aW9uJyk7XG5cbiAgICAgIGlmIChkYXRhRW1vdGlvbkF0dHJpYnV0ZS5pbmRleE9mKCcgJykgPT09IC0xKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChub2RlKTtcbiAgICAgIG5vZGUuc2V0QXR0cmlidXRlKCdkYXRhLXMnLCAnJyk7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgc3R5bGlzUGx1Z2lucyA9IG9wdGlvbnMuc3R5bGlzUGx1Z2lucyB8fCBkZWZhdWx0U3R5bGlzUGx1Z2lucztcblxuICB7XG4gICAgaWYgKC9bXmEtei1dLy50ZXN0KGtleSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkVtb3Rpb24ga2V5IG11c3Qgb25seSBjb250YWluIGxvd2VyIGNhc2UgYWxwaGFiZXRpY2FsIGNoYXJhY3RlcnMgYW5kIC0gYnV0IFxcXCJcIiArIGtleSArIFwiXFxcIiB3YXMgcGFzc2VkXCIpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBpbnNlcnRlZCA9IHt9O1xuICB2YXIgY29udGFpbmVyO1xuICB2YXIgbm9kZXNUb0h5ZHJhdGUgPSBbXTtcblxuICB7XG4gICAgY29udGFpbmVyID0gb3B0aW9ucy5jb250YWluZXIgfHwgZG9jdW1lbnQuaGVhZDtcbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKCAvLyB0aGlzIG1lYW5zIHdlIHdpbGwgaWdub3JlIGVsZW1lbnRzIHdoaWNoIGRvbid0IGhhdmUgYSBzcGFjZSBpbiB0aGVtIHdoaWNoXG4gICAgLy8gbWVhbnMgdGhhdCB0aGUgc3R5bGUgZWxlbWVudHMgd2UncmUgbG9va2luZyBhdCBhcmUgb25seSBFbW90aW9uIDExIHNlcnZlci1yZW5kZXJlZCBzdHlsZSBlbGVtZW50c1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJzdHlsZVtkYXRhLWVtb3Rpb25ePVxcXCJcIiArIGtleSArIFwiIFxcXCJdXCIpLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgdmFyIGF0dHJpYiA9IG5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1lbW90aW9uXCIpLnNwbGl0KCcgJyk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXR0cmliLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGluc2VydGVkW2F0dHJpYltpXV0gPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBub2Rlc1RvSHlkcmF0ZS5wdXNoKG5vZGUpO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIF9pbnNlcnQ7XG5cbiAgdmFyIG9tbmlwcmVzZW50UGx1Z2lucyA9IFtjb21wYXQsIHJlbW92ZUxhYmVsXTtcblxuICB7XG4gICAgb21uaXByZXNlbnRQbHVnaW5zLnB1c2goY3JlYXRlVW5zYWZlU2VsZWN0b3JzQWxhcm0oe1xuICAgICAgZ2V0IGNvbXBhdCgpIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlLmNvbXBhdDtcbiAgICAgIH1cblxuICAgIH0pLCBpbmNvcnJlY3RJbXBvcnRBbGFybSk7XG4gIH1cblxuICB7XG4gICAgdmFyIGN1cnJlbnRTaGVldDtcbiAgICB2YXIgZmluYWxpemluZ1BsdWdpbnMgPSBbc3RyaW5naWZ5LCBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgaWYgKCFlbGVtZW50LnJvb3QpIHtcbiAgICAgICAgaWYgKGVsZW1lbnRbXCJyZXR1cm5cIl0pIHtcbiAgICAgICAgICBjdXJyZW50U2hlZXQuaW5zZXJ0KGVsZW1lbnRbXCJyZXR1cm5cIl0pO1xuICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQudmFsdWUgJiYgZWxlbWVudC50eXBlICE9PSBDT01NRU5UKSB7XG4gICAgICAgICAgLy8gaW5zZXJ0IGVtcHR5IHJ1bGUgaW4gbm9uLXByb2R1Y3Rpb24gZW52aXJvbm1lbnRzXG4gICAgICAgICAgLy8gc28gQGVtb3Rpb24vamVzdCBjYW4gZ3JhYiBga2V5YCBmcm9tIHRoZSAoSlMpRE9NIGZvciBjYWNoZXMgd2l0aG91dCBhbnkgcnVsZXMgaW5zZXJ0ZWQgeWV0XG4gICAgICAgICAgY3VycmVudFNoZWV0Lmluc2VydChlbGVtZW50LnZhbHVlICsgXCJ7fVwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gXTtcbiAgICB2YXIgc2VyaWFsaXplciA9IG1pZGRsZXdhcmUob21uaXByZXNlbnRQbHVnaW5zLmNvbmNhdChzdHlsaXNQbHVnaW5zLCBmaW5hbGl6aW5nUGx1Z2lucykpO1xuXG4gICAgdmFyIHN0eWxpcyA9IGZ1bmN0aW9uIHN0eWxpcyhzdHlsZXMpIHtcbiAgICAgIHJldHVybiBzZXJpYWxpemUoY29tcGlsZShzdHlsZXMpLCBzZXJpYWxpemVyKTtcbiAgICB9O1xuXG4gICAgX2luc2VydCA9IGZ1bmN0aW9uIGluc2VydChzZWxlY3Rvciwgc2VyaWFsaXplZCwgc2hlZXQsIHNob3VsZENhY2hlKSB7XG4gICAgICBjdXJyZW50U2hlZXQgPSBzaGVldDtcblxuICAgICAgaWYgKGdldFNvdXJjZU1hcCkge1xuICAgICAgICB2YXIgc291cmNlTWFwID0gZ2V0U291cmNlTWFwKHNlcmlhbGl6ZWQuc3R5bGVzKTtcblxuICAgICAgICBpZiAoc291cmNlTWFwKSB7XG4gICAgICAgICAgY3VycmVudFNoZWV0ID0ge1xuICAgICAgICAgICAgaW5zZXJ0OiBmdW5jdGlvbiBpbnNlcnQocnVsZSkge1xuICAgICAgICAgICAgICBzaGVldC5pbnNlcnQocnVsZSArIHNvdXJjZU1hcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzdHlsaXMoc2VsZWN0b3IgPyBzZWxlY3RvciArIFwie1wiICsgc2VyaWFsaXplZC5zdHlsZXMgKyBcIn1cIiA6IHNlcmlhbGl6ZWQuc3R5bGVzKTtcblxuICAgICAgaWYgKHNob3VsZENhY2hlKSB7XG4gICAgICAgIGNhY2hlLmluc2VydGVkW3NlcmlhbGl6ZWQubmFtZV0gPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICB2YXIgY2FjaGUgPSB7XG4gICAga2V5OiBrZXksXG4gICAgc2hlZXQ6IG5ldyBTdHlsZVNoZWV0KHtcbiAgICAgIGtleToga2V5LFxuICAgICAgY29udGFpbmVyOiBjb250YWluZXIsXG4gICAgICBub25jZTogb3B0aW9ucy5ub25jZSxcbiAgICAgIHNwZWVkeTogb3B0aW9ucy5zcGVlZHksXG4gICAgICBwcmVwZW5kOiBvcHRpb25zLnByZXBlbmQsXG4gICAgICBpbnNlcnRpb25Qb2ludDogb3B0aW9ucy5pbnNlcnRpb25Qb2ludFxuICAgIH0pLFxuICAgIG5vbmNlOiBvcHRpb25zLm5vbmNlLFxuICAgIGluc2VydGVkOiBpbnNlcnRlZCxcbiAgICByZWdpc3RlcmVkOiB7fSxcbiAgICBpbnNlcnQ6IF9pbnNlcnRcbiAgfTtcbiAgY2FjaGUuc2hlZXQuaHlkcmF0ZShub2Rlc1RvSHlkcmF0ZSk7XG4gIHJldHVybiBjYWNoZTtcbn07XG5cbmV4cG9ydCB7IGNyZWF0ZUNhY2hlIGFzIGRlZmF1bHQgfTtcbiIsCiAgICAidmFyIGlzQnJvd3NlciA9IHRydWU7XG5cbmZ1bmN0aW9uIGdldFJlZ2lzdGVyZWRTdHlsZXMocmVnaXN0ZXJlZCwgcmVnaXN0ZXJlZFN0eWxlcywgY2xhc3NOYW1lcykge1xuICB2YXIgcmF3Q2xhc3NOYW1lID0gJyc7XG4gIGNsYXNzTmFtZXMuc3BsaXQoJyAnKS5mb3JFYWNoKGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcbiAgICBpZiAocmVnaXN0ZXJlZFtjbGFzc05hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJlZ2lzdGVyZWRTdHlsZXMucHVzaChyZWdpc3RlcmVkW2NsYXNzTmFtZV0gKyBcIjtcIik7XG4gICAgfSBlbHNlIGlmIChjbGFzc05hbWUpIHtcbiAgICAgIHJhd0NsYXNzTmFtZSArPSBjbGFzc05hbWUgKyBcIiBcIjtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmF3Q2xhc3NOYW1lO1xufVxudmFyIHJlZ2lzdGVyU3R5bGVzID0gZnVuY3Rpb24gcmVnaXN0ZXJTdHlsZXMoY2FjaGUsIHNlcmlhbGl6ZWQsIGlzU3RyaW5nVGFnKSB7XG4gIHZhciBjbGFzc05hbWUgPSBjYWNoZS5rZXkgKyBcIi1cIiArIHNlcmlhbGl6ZWQubmFtZTtcblxuICBpZiAoIC8vIHdlIG9ubHkgbmVlZCB0byBhZGQgdGhlIHN0eWxlcyB0byB0aGUgcmVnaXN0ZXJlZCBjYWNoZSBpZiB0aGVcbiAgLy8gY2xhc3MgbmFtZSBjb3VsZCBiZSB1c2VkIGZ1cnRoZXIgZG93blxuICAvLyB0aGUgdHJlZSBidXQgaWYgaXQncyBhIHN0cmluZyB0YWcsIHdlIGtub3cgaXQgd29uJ3RcbiAgLy8gc28gd2UgZG9uJ3QgaGF2ZSB0byBhZGQgaXQgdG8gcmVnaXN0ZXJlZCBjYWNoZS5cbiAgLy8gdGhpcyBpbXByb3ZlcyBtZW1vcnkgdXNhZ2Ugc2luY2Ugd2UgY2FuIGF2b2lkIHN0b3JpbmcgdGhlIHdob2xlIHN0eWxlIHN0cmluZ1xuICAoaXNTdHJpbmdUYWcgPT09IGZhbHNlIHx8IC8vIHdlIG5lZWQgdG8gYWx3YXlzIHN0b3JlIGl0IGlmIHdlJ3JlIGluIGNvbXBhdCBtb2RlIGFuZFxuICAvLyBpbiBub2RlIHNpbmNlIGVtb3Rpb24tc2VydmVyIHJlbGllcyBvbiB3aGV0aGVyIGEgc3R5bGUgaXMgaW5cbiAgLy8gdGhlIHJlZ2lzdGVyZWQgY2FjaGUgdG8ga25vdyB3aGV0aGVyIGEgc3R5bGUgaXMgZ2xvYmFsIG9yIG5vdFxuICAvLyBhbHNvLCBub3RlIHRoYXQgdGhpcyBjaGVjayB3aWxsIGJlIGRlYWQgY29kZSBlbGltaW5hdGVkIGluIHRoZSBicm93c2VyXG4gIGlzQnJvd3NlciA9PT0gZmFsc2UgKSAmJiBjYWNoZS5yZWdpc3RlcmVkW2NsYXNzTmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgIGNhY2hlLnJlZ2lzdGVyZWRbY2xhc3NOYW1lXSA9IHNlcmlhbGl6ZWQuc3R5bGVzO1xuICB9XG59O1xudmFyIGluc2VydFN0eWxlcyA9IGZ1bmN0aW9uIGluc2VydFN0eWxlcyhjYWNoZSwgc2VyaWFsaXplZCwgaXNTdHJpbmdUYWcpIHtcbiAgcmVnaXN0ZXJTdHlsZXMoY2FjaGUsIHNlcmlhbGl6ZWQsIGlzU3RyaW5nVGFnKTtcbiAgdmFyIGNsYXNzTmFtZSA9IGNhY2hlLmtleSArIFwiLVwiICsgc2VyaWFsaXplZC5uYW1lO1xuXG4gIGlmIChjYWNoZS5pbnNlcnRlZFtzZXJpYWxpemVkLm5hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgY3VycmVudCA9IHNlcmlhbGl6ZWQ7XG5cbiAgICBkbyB7XG4gICAgICBjYWNoZS5pbnNlcnQoc2VyaWFsaXplZCA9PT0gY3VycmVudCA/IFwiLlwiICsgY2xhc3NOYW1lIDogJycsIGN1cnJlbnQsIGNhY2hlLnNoZWV0LCB0cnVlKTtcblxuICAgICAgY3VycmVudCA9IGN1cnJlbnQubmV4dDtcbiAgICB9IHdoaWxlIChjdXJyZW50ICE9PSB1bmRlZmluZWQpO1xuICB9XG59O1xuXG5leHBvcnQgeyBnZXRSZWdpc3RlcmVkU3R5bGVzLCBpbnNlcnRTdHlsZXMsIHJlZ2lzdGVyU3R5bGVzIH07XG4iLAogICAgIi8qIGVzbGludC1kaXNhYmxlICovXG4vLyBJbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vZ2FyeWNvdXJ0L211cm11cmhhc2gtanNcbi8vIFBvcnRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9hYXBwbGVieS9zbWhhc2hlci9ibG9iLzYxYTA1MzBmMjgyNzdmMmU4NTBiZmMzOTYwMGNlNjFkMDJiNTE4ZGUvc3JjL011cm11ckhhc2gyLmNwcCNMMzctTDg2XG5mdW5jdGlvbiBtdXJtdXIyKHN0cikge1xuICAvLyAnbScgYW5kICdyJyBhcmUgbWl4aW5nIGNvbnN0YW50cyBnZW5lcmF0ZWQgb2ZmbGluZS5cbiAgLy8gVGhleSdyZSBub3QgcmVhbGx5ICdtYWdpYycsIHRoZXkganVzdCBoYXBwZW4gdG8gd29yayB3ZWxsLlxuICAvLyBjb25zdCBtID0gMHg1YmQxZTk5NTtcbiAgLy8gY29uc3QgciA9IDI0O1xuICAvLyBJbml0aWFsaXplIHRoZSBoYXNoXG4gIHZhciBoID0gMDsgLy8gTWl4IDQgYnl0ZXMgYXQgYSB0aW1lIGludG8gdGhlIGhhc2hcblxuICB2YXIgayxcbiAgICAgIGkgPSAwLFxuICAgICAgbGVuID0gc3RyLmxlbmd0aDtcblxuICBmb3IgKDsgbGVuID49IDQ7ICsraSwgbGVuIC09IDQpIHtcbiAgICBrID0gc3RyLmNoYXJDb2RlQXQoaSkgJiAweGZmIHwgKHN0ci5jaGFyQ29kZUF0KCsraSkgJiAweGZmKSA8PCA4IHwgKHN0ci5jaGFyQ29kZUF0KCsraSkgJiAweGZmKSA8PCAxNiB8IChzdHIuY2hhckNvZGVBdCgrK2kpICYgMHhmZikgPDwgMjQ7XG4gICAgayA9XG4gICAgLyogTWF0aC5pbXVsKGssIG0pOiAqL1xuICAgIChrICYgMHhmZmZmKSAqIDB4NWJkMWU5OTUgKyAoKGsgPj4+IDE2KSAqIDB4ZTk5NSA8PCAxNik7XG4gICAgayBePVxuICAgIC8qIGsgPj4+IHI6ICovXG4gICAgayA+Pj4gMjQ7XG4gICAgaCA9XG4gICAgLyogTWF0aC5pbXVsKGssIG0pOiAqL1xuICAgIChrICYgMHhmZmZmKSAqIDB4NWJkMWU5OTUgKyAoKGsgPj4+IDE2KSAqIDB4ZTk5NSA8PCAxNikgXlxuICAgIC8qIE1hdGguaW11bChoLCBtKTogKi9cbiAgICAoaCAmIDB4ZmZmZikgKiAweDViZDFlOTk1ICsgKChoID4+PiAxNikgKiAweGU5OTUgPDwgMTYpO1xuICB9IC8vIEhhbmRsZSB0aGUgbGFzdCBmZXcgYnl0ZXMgb2YgdGhlIGlucHV0IGFycmF5XG5cblxuICBzd2l0Y2ggKGxlbikge1xuICAgIGNhc2UgMzpcbiAgICAgIGggXj0gKHN0ci5jaGFyQ29kZUF0KGkgKyAyKSAmIDB4ZmYpIDw8IDE2O1xuXG4gICAgY2FzZSAyOlxuICAgICAgaCBePSAoc3RyLmNoYXJDb2RlQXQoaSArIDEpICYgMHhmZikgPDwgODtcblxuICAgIGNhc2UgMTpcbiAgICAgIGggXj0gc3RyLmNoYXJDb2RlQXQoaSkgJiAweGZmO1xuICAgICAgaCA9XG4gICAgICAvKiBNYXRoLmltdWwoaCwgbSk6ICovXG4gICAgICAoaCAmIDB4ZmZmZikgKiAweDViZDFlOTk1ICsgKChoID4+PiAxNikgKiAweGU5OTUgPDwgMTYpO1xuICB9IC8vIERvIGEgZmV3IGZpbmFsIG1peGVzIG9mIHRoZSBoYXNoIHRvIGVuc3VyZSB0aGUgbGFzdCBmZXdcbiAgLy8gYnl0ZXMgYXJlIHdlbGwtaW5jb3Jwb3JhdGVkLlxuXG5cbiAgaCBePSBoID4+PiAxMztcbiAgaCA9XG4gIC8qIE1hdGguaW11bChoLCBtKTogKi9cbiAgKGggJiAweGZmZmYpICogMHg1YmQxZTk5NSArICgoaCA+Pj4gMTYpICogMHhlOTk1IDw8IDE2KTtcbiAgcmV0dXJuICgoaCBeIGggPj4+IDE1KSA+Pj4gMCkudG9TdHJpbmcoMzYpO1xufVxuXG5leHBvcnQgeyBtdXJtdXIyIGFzIGRlZmF1bHQgfTtcbiIsCiAgICAidmFyIHVuaXRsZXNzS2V5cyA9IHtcbiAgYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6IDEsXG4gIGFzcGVjdFJhdGlvOiAxLFxuICBib3JkZXJJbWFnZU91dHNldDogMSxcbiAgYm9yZGVySW1hZ2VTbGljZTogMSxcbiAgYm9yZGVySW1hZ2VXaWR0aDogMSxcbiAgYm94RmxleDogMSxcbiAgYm94RmxleEdyb3VwOiAxLFxuICBib3hPcmRpbmFsR3JvdXA6IDEsXG4gIGNvbHVtbkNvdW50OiAxLFxuICBjb2x1bW5zOiAxLFxuICBmbGV4OiAxLFxuICBmbGV4R3JvdzogMSxcbiAgZmxleFBvc2l0aXZlOiAxLFxuICBmbGV4U2hyaW5rOiAxLFxuICBmbGV4TmVnYXRpdmU6IDEsXG4gIGZsZXhPcmRlcjogMSxcbiAgZ3JpZFJvdzogMSxcbiAgZ3JpZFJvd0VuZDogMSxcbiAgZ3JpZFJvd1NwYW46IDEsXG4gIGdyaWRSb3dTdGFydDogMSxcbiAgZ3JpZENvbHVtbjogMSxcbiAgZ3JpZENvbHVtbkVuZDogMSxcbiAgZ3JpZENvbHVtblNwYW46IDEsXG4gIGdyaWRDb2x1bW5TdGFydDogMSxcbiAgbXNHcmlkUm93OiAxLFxuICBtc0dyaWRSb3dTcGFuOiAxLFxuICBtc0dyaWRDb2x1bW46IDEsXG4gIG1zR3JpZENvbHVtblNwYW46IDEsXG4gIGZvbnRXZWlnaHQ6IDEsXG4gIGxpbmVIZWlnaHQ6IDEsXG4gIG9wYWNpdHk6IDEsXG4gIG9yZGVyOiAxLFxuICBvcnBoYW5zOiAxLFxuICBzY2FsZTogMSxcbiAgdGFiU2l6ZTogMSxcbiAgd2lkb3dzOiAxLFxuICB6SW5kZXg6IDEsXG4gIHpvb206IDEsXG4gIFdlYmtpdExpbmVDbGFtcDogMSxcbiAgLy8gU1ZHLXJlbGF0ZWQgcHJvcGVydGllc1xuICBmaWxsT3BhY2l0eTogMSxcbiAgZmxvb2RPcGFjaXR5OiAxLFxuICBzdG9wT3BhY2l0eTogMSxcbiAgc3Ryb2tlRGFzaGFycmF5OiAxLFxuICBzdHJva2VEYXNob2Zmc2V0OiAxLFxuICBzdHJva2VNaXRlcmxpbWl0OiAxLFxuICBzdHJva2VPcGFjaXR5OiAxLFxuICBzdHJva2VXaWR0aDogMVxufTtcblxuZXhwb3J0IHsgdW5pdGxlc3NLZXlzIGFzIGRlZmF1bHQgfTtcbiIsCiAgICAiaW1wb3J0IGhhc2hTdHJpbmcgZnJvbSAnQGVtb3Rpb24vaGFzaCc7XG5pbXBvcnQgdW5pdGxlc3MgZnJvbSAnQGVtb3Rpb24vdW5pdGxlc3MnO1xuaW1wb3J0IG1lbW9pemUgZnJvbSAnQGVtb3Rpb24vbWVtb2l6ZSc7XG5cbnZhciBpc0RldmVsb3BtZW50ID0gdHJ1ZTtcblxudmFyIElMTEVHQUxfRVNDQVBFX1NFUVVFTkNFX0VSUk9SID0gXCJZb3UgaGF2ZSBpbGxlZ2FsIGVzY2FwZSBzZXF1ZW5jZSBpbiB5b3VyIHRlbXBsYXRlIGxpdGVyYWwsIG1vc3QgbGlrZWx5IGluc2lkZSBjb250ZW50J3MgcHJvcGVydHkgdmFsdWUuXFxuQmVjYXVzZSB5b3Ugd3JpdGUgeW91ciBDU1MgaW5zaWRlIGEgSmF2YVNjcmlwdCBzdHJpbmcgeW91IGFjdHVhbGx5IGhhdmUgdG8gZG8gZG91YmxlIGVzY2FwaW5nLCBzbyBmb3IgZXhhbXBsZSBcXFwiY29udGVudDogJ1xcXFwwMGQ3JztcXFwiIHNob3VsZCBiZWNvbWUgXFxcImNvbnRlbnQ6ICdcXFxcXFxcXDAwZDcnO1xcXCIuXFxuWW91IGNhbiByZWFkIG1vcmUgYWJvdXQgdGhpcyBoZXJlOlxcbmh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL1RlbXBsYXRlX2xpdGVyYWxzI0VTMjAxOF9yZXZpc2lvbl9vZl9pbGxlZ2FsX2VzY2FwZV9zZXF1ZW5jZXNcIjtcbnZhciBVTkRFRklORURfQVNfT0JKRUNUX0tFWV9FUlJPUiA9IFwiWW91IGhhdmUgcGFzc2VkIGluIGZhbHN5IHZhbHVlIGFzIHN0eWxlIG9iamVjdCdzIGtleSAoY2FuIGhhcHBlbiB3aGVuIGluIGV4YW1wbGUgeW91IHBhc3MgdW5leHBvcnRlZCBjb21wb25lbnQgYXMgY29tcHV0ZWQga2V5KS5cIjtcbnZhciBoeXBoZW5hdGVSZWdleCA9IC9bQS1aXXxebXMvZztcbnZhciBhbmltYXRpb25SZWdleCA9IC9fRU1PXyhbXl9dKz8pXyhbXl0qPylfRU1PXy9nO1xuXG52YXIgaXNDdXN0b21Qcm9wZXJ0eSA9IGZ1bmN0aW9uIGlzQ3VzdG9tUHJvcGVydHkocHJvcGVydHkpIHtcbiAgcmV0dXJuIHByb3BlcnR5LmNoYXJDb2RlQXQoMSkgPT09IDQ1O1xufTtcblxudmFyIGlzUHJvY2Vzc2FibGVWYWx1ZSA9IGZ1bmN0aW9uIGlzUHJvY2Vzc2FibGVWYWx1ZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgIT09ICdib29sZWFuJztcbn07XG5cbnZhciBwcm9jZXNzU3R5bGVOYW1lID0gLyogI19fUFVSRV9fICovbWVtb2l6ZShmdW5jdGlvbiAoc3R5bGVOYW1lKSB7XG4gIHJldHVybiBpc0N1c3RvbVByb3BlcnR5KHN0eWxlTmFtZSkgPyBzdHlsZU5hbWUgOiBzdHlsZU5hbWUucmVwbGFjZShoeXBoZW5hdGVSZWdleCwgJy0kJicpLnRvTG93ZXJDYXNlKCk7XG59KTtcblxudmFyIHByb2Nlc3NTdHlsZVZhbHVlID0gZnVuY3Rpb24gcHJvY2Vzc1N0eWxlVmFsdWUoa2V5LCB2YWx1ZSkge1xuICBzd2l0Y2ggKGtleSkge1xuICAgIGNhc2UgJ2FuaW1hdGlvbic6XG4gICAgY2FzZSAnYW5pbWF0aW9uTmFtZSc6XG4gICAgICB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoYW5pbWF0aW9uUmVnZXgsIGZ1bmN0aW9uIChtYXRjaCwgcDEsIHAyKSB7XG4gICAgICAgICAgICBjdXJzb3IgPSB7XG4gICAgICAgICAgICAgIG5hbWU6IHAxLFxuICAgICAgICAgICAgICBzdHlsZXM6IHAyLFxuICAgICAgICAgICAgICBuZXh0OiBjdXJzb3JcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gcDE7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgfVxuXG4gIGlmICh1bml0bGVzc1trZXldICE9PSAxICYmICFpc0N1c3RvbVByb3BlcnR5KGtleSkgJiYgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiB2YWx1ZSAhPT0gMCkge1xuICAgIHJldHVybiB2YWx1ZSArICdweCc7XG4gIH1cblxuICByZXR1cm4gdmFsdWU7XG59O1xuXG57XG4gIHZhciBjb250ZW50VmFsdWVQYXR0ZXJuID0gLyh2YXJ8YXR0cnxjb3VudGVycz98dXJsfGVsZW1lbnR8KCgocmVwZWF0aW5nLSk/KGxpbmVhcnxyYWRpYWwpKXxjb25pYyktZ3JhZGllbnQpXFwofChuby0pPyhvcGVufGNsb3NlKS1xdW90ZS87XG4gIHZhciBjb250ZW50VmFsdWVzID0gWydub3JtYWwnLCAnbm9uZScsICdpbml0aWFsJywgJ2luaGVyaXQnLCAndW5zZXQnXTtcbiAgdmFyIG9sZFByb2Nlc3NTdHlsZVZhbHVlID0gcHJvY2Vzc1N0eWxlVmFsdWU7XG4gIHZhciBtc1BhdHRlcm4gPSAvXi1tcy0vO1xuICB2YXIgaHlwaGVuUGF0dGVybiA9IC8tKC4pL2c7XG4gIHZhciBoeXBoZW5hdGVkQ2FjaGUgPSB7fTtcblxuICBwcm9jZXNzU3R5bGVWYWx1ZSA9IGZ1bmN0aW9uIHByb2Nlc3NTdHlsZVZhbHVlKGtleSwgdmFsdWUpIHtcbiAgICBpZiAoa2V5ID09PSAnY29udGVudCcpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnIHx8IGNvbnRlbnRWYWx1ZXMuaW5kZXhPZih2YWx1ZSkgPT09IC0xICYmICFjb250ZW50VmFsdWVQYXR0ZXJuLnRlc3QodmFsdWUpICYmICh2YWx1ZS5jaGFyQXQoMCkgIT09IHZhbHVlLmNoYXJBdCh2YWx1ZS5sZW5ndGggLSAxKSB8fCB2YWx1ZS5jaGFyQXQoMCkgIT09ICdcIicgJiYgdmFsdWUuY2hhckF0KDApICE9PSBcIidcIikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IHNlZW0gdG8gYmUgdXNpbmcgYSB2YWx1ZSBmb3IgJ2NvbnRlbnQnIHdpdGhvdXQgcXVvdGVzLCB0cnkgcmVwbGFjaW5nIGl0IHdpdGggYGNvbnRlbnQ6ICdcXFwiXCIgKyB2YWx1ZSArIFwiXFxcIidgXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBwcm9jZXNzZWQgPSBvbGRQcm9jZXNzU3R5bGVWYWx1ZShrZXksIHZhbHVlKTtcblxuICAgIGlmIChwcm9jZXNzZWQgIT09ICcnICYmICFpc0N1c3RvbVByb3BlcnR5KGtleSkgJiYga2V5LmluZGV4T2YoJy0nKSAhPT0gLTEgJiYgaHlwaGVuYXRlZENhY2hlW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgaHlwaGVuYXRlZENhY2hlW2tleV0gPSB0cnVlO1xuICAgICAgY29uc29sZS5lcnJvcihcIlVzaW5nIGtlYmFiLWNhc2UgZm9yIGNzcyBwcm9wZXJ0aWVzIGluIG9iamVjdHMgaXMgbm90IHN1cHBvcnRlZC4gRGlkIHlvdSBtZWFuIFwiICsga2V5LnJlcGxhY2UobXNQYXR0ZXJuLCAnbXMtJykucmVwbGFjZShoeXBoZW5QYXR0ZXJuLCBmdW5jdGlvbiAoc3RyLCBfY2hhcikge1xuICAgICAgICByZXR1cm4gX2NoYXIudG9VcHBlckNhc2UoKTtcbiAgICAgIH0pICsgXCI/XCIpO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9jZXNzZWQ7XG4gIH07XG59XG5cbnZhciBub0NvbXBvbmVudFNlbGVjdG9yTWVzc2FnZSA9ICdDb21wb25lbnQgc2VsZWN0b3JzIGNhbiBvbmx5IGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCAnICsgJ0BlbW90aW9uL2JhYmVsLXBsdWdpbiwgdGhlIHN3YyBFbW90aW9uIHBsdWdpbiwgb3IgYW5vdGhlciBFbW90aW9uLWF3YXJlICcgKyAnY29tcGlsZXIgdHJhbnNmb3JtLic7XG5cbmZ1bmN0aW9uIGhhbmRsZUludGVycG9sYXRpb24obWVyZ2VkUHJvcHMsIHJlZ2lzdGVyZWQsIGludGVycG9sYXRpb24pIHtcbiAgaWYgKGludGVycG9sYXRpb24gPT0gbnVsbCkge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIHZhciBjb21wb25lbnRTZWxlY3RvciA9IGludGVycG9sYXRpb247XG5cbiAgaWYgKGNvbXBvbmVudFNlbGVjdG9yLl9fZW1vdGlvbl9zdHlsZXMgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChTdHJpbmcoY29tcG9uZW50U2VsZWN0b3IpID09PSAnTk9fQ09NUE9ORU5UX1NFTEVDVE9SJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKG5vQ29tcG9uZW50U2VsZWN0b3JNZXNzYWdlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29tcG9uZW50U2VsZWN0b3I7XG4gIH1cblxuICBzd2l0Y2ggKHR5cGVvZiBpbnRlcnBvbGF0aW9uKSB7XG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cblxuICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICB7XG4gICAgICAgIHZhciBrZXlmcmFtZXMgPSBpbnRlcnBvbGF0aW9uO1xuXG4gICAgICAgIGlmIChrZXlmcmFtZXMuYW5pbSA9PT0gMSkge1xuICAgICAgICAgIGN1cnNvciA9IHtcbiAgICAgICAgICAgIG5hbWU6IGtleWZyYW1lcy5uYW1lLFxuICAgICAgICAgICAgc3R5bGVzOiBrZXlmcmFtZXMuc3R5bGVzLFxuICAgICAgICAgICAgbmV4dDogY3Vyc29yXG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXR1cm4ga2V5ZnJhbWVzLm5hbWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2VyaWFsaXplZFN0eWxlcyA9IGludGVycG9sYXRpb247XG5cbiAgICAgICAgaWYgKHNlcmlhbGl6ZWRTdHlsZXMuc3R5bGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB2YXIgbmV4dCA9IHNlcmlhbGl6ZWRTdHlsZXMubmV4dDtcblxuICAgICAgICAgIGlmIChuZXh0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIG5vdCB0aGUgbW9zdCBlZmZpY2llbnQgdGhpbmcgZXZlciBidXQgdGhpcyBpcyBhIHByZXR0eSByYXJlIGNhc2VcbiAgICAgICAgICAgIC8vIGFuZCB0aGVyZSB3aWxsIGJlIHZlcnkgZmV3IGl0ZXJhdGlvbnMgb2YgdGhpcyBnZW5lcmFsbHlcbiAgICAgICAgICAgIHdoaWxlIChuZXh0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgY3Vyc29yID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IG5leHQubmFtZSxcbiAgICAgICAgICAgICAgICBzdHlsZXM6IG5leHQuc3R5bGVzLFxuICAgICAgICAgICAgICAgIG5leHQ6IGN1cnNvclxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBuZXh0ID0gbmV4dC5uZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBzdHlsZXMgPSBzZXJpYWxpemVkU3R5bGVzLnN0eWxlcyArIFwiO1wiO1xuICAgICAgICAgIHJldHVybiBzdHlsZXM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY3JlYXRlU3RyaW5nRnJvbU9iamVjdChtZXJnZWRQcm9wcywgcmVnaXN0ZXJlZCwgaW50ZXJwb2xhdGlvbik7XG4gICAgICB9XG5cbiAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICB7XG4gICAgICAgIGlmIChtZXJnZWRQcm9wcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdmFyIHByZXZpb3VzQ3Vyc29yID0gY3Vyc29yO1xuICAgICAgICAgIHZhciByZXN1bHQgPSBpbnRlcnBvbGF0aW9uKG1lcmdlZFByb3BzKTtcbiAgICAgICAgICBjdXJzb3IgPSBwcmV2aW91c0N1cnNvcjtcbiAgICAgICAgICByZXR1cm4gaGFuZGxlSW50ZXJwb2xhdGlvbihtZXJnZWRQcm9wcywgcmVnaXN0ZXJlZCwgcmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdGdW5jdGlvbnMgdGhhdCBhcmUgaW50ZXJwb2xhdGVkIGluIGNzcyBjYWxscyB3aWxsIGJlIHN0cmluZ2lmaWVkLlxcbicgKyAnSWYgeW91IHdhbnQgdG8gaGF2ZSBhIGNzcyBjYWxsIGJhc2VkIG9uIHByb3BzLCBjcmVhdGUgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBjc3MgY2FsbCBsaWtlIHRoaXNcXG4nICsgJ2xldCBkeW5hbWljU3R5bGUgPSAocHJvcHMpID0+IGNzc2Bjb2xvcjogJHtwcm9wcy5jb2xvcn1gXFxuJyArICdJdCBjYW4gYmUgY2FsbGVkIGRpcmVjdGx5IHdpdGggcHJvcHMgb3IgaW50ZXJwb2xhdGVkIGluIGEgc3R5bGVkIGNhbGwgbGlrZSB0aGlzXFxuJyArIFwibGV0IFNvbWVDb21wb25lbnQgPSBzdHlsZWQoJ2RpdicpYCR7ZHluYW1pY1N0eWxlfWBcIik7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICB7XG4gICAgICAgIHZhciBtYXRjaGVkID0gW107XG4gICAgICAgIHZhciByZXBsYWNlZCA9IGludGVycG9sYXRpb24ucmVwbGFjZShhbmltYXRpb25SZWdleCwgZnVuY3Rpb24gKF9tYXRjaCwgX3AxLCBwMikge1xuICAgICAgICAgIHZhciBmYWtlVmFyTmFtZSA9IFwiYW5pbWF0aW9uXCIgKyBtYXRjaGVkLmxlbmd0aDtcbiAgICAgICAgICBtYXRjaGVkLnB1c2goXCJjb25zdCBcIiArIGZha2VWYXJOYW1lICsgXCIgPSBrZXlmcmFtZXNgXCIgKyBwMi5yZXBsYWNlKC9eQGtleWZyYW1lcyBhbmltYXRpb24tXFx3Ky8sICcnKSArIFwiYFwiKTtcbiAgICAgICAgICByZXR1cm4gXCIke1wiICsgZmFrZVZhck5hbWUgKyBcIn1cIjtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKG1hdGNoZWQubGVuZ3RoKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcImBrZXlmcmFtZXNgIG91dHB1dCBnb3QgaW50ZXJwb2xhdGVkIGludG8gcGxhaW4gc3RyaW5nLCBwbGVhc2Ugd3JhcCBpdCB3aXRoIGBjc3NgLlxcblxcbkluc3RlYWQgb2YgZG9pbmcgdGhpczpcXG5cXG5cIiArIFtdLmNvbmNhdChtYXRjaGVkLCBbXCJgXCIgKyByZXBsYWNlZCArIFwiYFwiXSkuam9pbignXFxuJykgKyBcIlxcblxcbllvdSBzaG91bGQgd3JhcCBpdCB3aXRoIGBjc3NgIGxpa2UgdGhpczpcXG5cXG5jc3NgXCIgKyByZXBsYWNlZCArIFwiYFwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBicmVhaztcbiAgfSAvLyBmaW5hbGl6ZSBzdHJpbmcgdmFsdWVzIChyZWd1bGFyIHN0cmluZ3MgYW5kIGZ1bmN0aW9ucyBpbnRlcnBvbGF0ZWQgaW50byBjc3MgY2FsbHMpXG5cblxuICB2YXIgYXNTdHJpbmcgPSBpbnRlcnBvbGF0aW9uO1xuXG4gIGlmIChyZWdpc3RlcmVkID09IG51bGwpIHtcbiAgICByZXR1cm4gYXNTdHJpbmc7XG4gIH1cblxuICB2YXIgY2FjaGVkID0gcmVnaXN0ZXJlZFthc1N0cmluZ107XG4gIHJldHVybiBjYWNoZWQgIT09IHVuZGVmaW5lZCA/IGNhY2hlZCA6IGFzU3RyaW5nO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTdHJpbmdGcm9tT2JqZWN0KG1lcmdlZFByb3BzLCByZWdpc3RlcmVkLCBvYmopIHtcbiAgdmFyIHN0cmluZyA9ICcnO1xuXG4gIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgc3RyaW5nICs9IGhhbmRsZUludGVycG9sYXRpb24obWVyZ2VkUHJvcHMsIHJlZ2lzdGVyZWQsIG9ialtpXSkgKyBcIjtcIjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgdmFyIHZhbHVlID0gb2JqW2tleV07XG5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHZhciBhc1N0cmluZyA9IHZhbHVlO1xuXG4gICAgICAgIGlmIChyZWdpc3RlcmVkICE9IG51bGwgJiYgcmVnaXN0ZXJlZFthc1N0cmluZ10gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHN0cmluZyArPSBrZXkgKyBcIntcIiArIHJlZ2lzdGVyZWRbYXNTdHJpbmddICsgXCJ9XCI7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNQcm9jZXNzYWJsZVZhbHVlKGFzU3RyaW5nKSkge1xuICAgICAgICAgIHN0cmluZyArPSBwcm9jZXNzU3R5bGVOYW1lKGtleSkgKyBcIjpcIiArIHByb2Nlc3NTdHlsZVZhbHVlKGtleSwgYXNTdHJpbmcpICsgXCI7XCI7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChrZXkgPT09ICdOT19DT01QT05FTlRfU0VMRUNUT1InICYmIGlzRGV2ZWxvcG1lbnQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3Iobm9Db21wb25lbnRTZWxlY3Rvck1lc3NhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHR5cGVvZiB2YWx1ZVswXSA9PT0gJ3N0cmluZycgJiYgKHJlZ2lzdGVyZWQgPT0gbnVsbCB8fCByZWdpc3RlcmVkW3ZhbHVlWzBdXSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCB2YWx1ZS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGlmIChpc1Byb2Nlc3NhYmxlVmFsdWUodmFsdWVbX2ldKSkge1xuICAgICAgICAgICAgICBzdHJpbmcgKz0gcHJvY2Vzc1N0eWxlTmFtZShrZXkpICsgXCI6XCIgKyBwcm9jZXNzU3R5bGVWYWx1ZShrZXksIHZhbHVlW19pXSkgKyBcIjtcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGludGVycG9sYXRlZCA9IGhhbmRsZUludGVycG9sYXRpb24obWVyZ2VkUHJvcHMsIHJlZ2lzdGVyZWQsIHZhbHVlKTtcblxuICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgICBjYXNlICdhbmltYXRpb24nOlxuICAgICAgICAgICAgY2FzZSAnYW5pbWF0aW9uTmFtZSc6XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gcHJvY2Vzc1N0eWxlTmFtZShrZXkpICsgXCI6XCIgKyBpbnRlcnBvbGF0ZWQgKyBcIjtcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoVU5ERUZJTkVEX0FTX09CSkVDVF9LRVlfRVJST1IpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHN0cmluZyArPSBrZXkgKyBcIntcIiArIGludGVycG9sYXRlZCArIFwifVwiO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHN0cmluZztcbn1cblxudmFyIGxhYmVsUGF0dGVybiA9IC9sYWJlbDpcXHMqKFteXFxzO3tdKylcXHMqKDt8JCkvZzsgLy8gdGhpcyBpcyB0aGUgY3Vyc29yIGZvciBrZXlmcmFtZXNcbi8vIGtleWZyYW1lcyBhcmUgc3RvcmVkIG9uIHRoZSBTZXJpYWxpemVkU3R5bGVzIG9iamVjdCBhcyBhIGxpbmtlZCBsaXN0XG5cbnZhciBjdXJzb3I7XG5mdW5jdGlvbiBzZXJpYWxpemVTdHlsZXMoYXJncywgcmVnaXN0ZXJlZCwgbWVyZ2VkUHJvcHMpIHtcbiAgaWYgKGFyZ3MubGVuZ3RoID09PSAxICYmIHR5cGVvZiBhcmdzWzBdID09PSAnb2JqZWN0JyAmJiBhcmdzWzBdICE9PSBudWxsICYmIGFyZ3NbMF0uc3R5bGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gYXJnc1swXTtcbiAgfVxuXG4gIHZhciBzdHJpbmdNb2RlID0gdHJ1ZTtcbiAgdmFyIHN0eWxlcyA9ICcnO1xuICBjdXJzb3IgPSB1bmRlZmluZWQ7XG4gIHZhciBzdHJpbmdzID0gYXJnc1swXTtcblxuICBpZiAoc3RyaW5ncyA9PSBudWxsIHx8IHN0cmluZ3MucmF3ID09PSB1bmRlZmluZWQpIHtcbiAgICBzdHJpbmdNb2RlID0gZmFsc2U7XG4gICAgc3R5bGVzICs9IGhhbmRsZUludGVycG9sYXRpb24obWVyZ2VkUHJvcHMsIHJlZ2lzdGVyZWQsIHN0cmluZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBhc1RlbXBsYXRlU3RyaW5nc0FyciA9IHN0cmluZ3M7XG5cbiAgICBpZiAoYXNUZW1wbGF0ZVN0cmluZ3NBcnJbMF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc29sZS5lcnJvcihJTExFR0FMX0VTQ0FQRV9TRVFVRU5DRV9FUlJPUik7XG4gICAgfVxuXG4gICAgc3R5bGVzICs9IGFzVGVtcGxhdGVTdHJpbmdzQXJyWzBdO1xuICB9IC8vIHdlIHN0YXJ0IGF0IDEgc2luY2Ugd2UndmUgYWxyZWFkeSBoYW5kbGVkIHRoZSBmaXJzdCBhcmdcblxuXG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgIHN0eWxlcyArPSBoYW5kbGVJbnRlcnBvbGF0aW9uKG1lcmdlZFByb3BzLCByZWdpc3RlcmVkLCBhcmdzW2ldKTtcblxuICAgIGlmIChzdHJpbmdNb2RlKSB7XG4gICAgICB2YXIgdGVtcGxhdGVTdHJpbmdzQXJyID0gc3RyaW5ncztcblxuICAgICAgaWYgKHRlbXBsYXRlU3RyaW5nc0FycltpXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoSUxMRUdBTF9FU0NBUEVfU0VRVUVOQ0VfRVJST1IpO1xuICAgICAgfVxuXG4gICAgICBzdHlsZXMgKz0gdGVtcGxhdGVTdHJpbmdzQXJyW2ldO1xuICAgIH1cbiAgfSAvLyB1c2luZyBhIGdsb2JhbCByZWdleCB3aXRoIC5leGVjIGlzIHN0YXRlZnVsIHNvIGxhc3RJbmRleCBoYXMgdG8gYmUgcmVzZXQgZWFjaCB0aW1lXG5cblxuICBsYWJlbFBhdHRlcm4ubGFzdEluZGV4ID0gMDtcbiAgdmFyIGlkZW50aWZpZXJOYW1lID0gJyc7XG4gIHZhciBtYXRjaDsgLy8gaHR0cHM6Ly9lc2JlbmNoLmNvbS9iZW5jaC81YjgwOWMyY2YyOTQ5ODAwYTBmNjFmYjVcblxuICB3aGlsZSAoKG1hdGNoID0gbGFiZWxQYXR0ZXJuLmV4ZWMoc3R5bGVzKSkgIT09IG51bGwpIHtcbiAgICBpZGVudGlmaWVyTmFtZSArPSAnLScgKyBtYXRjaFsxXTtcbiAgfVxuXG4gIHZhciBuYW1lID0gaGFzaFN0cmluZyhzdHlsZXMpICsgaWRlbnRpZmllck5hbWU7XG5cbiAge1xuICAgIHZhciBkZXZTdHlsZXMgPSB7XG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgc3R5bGVzOiBzdHlsZXMsXG4gICAgICBuZXh0OiBjdXJzb3IsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBcIllvdSBoYXZlIHRyaWVkIHRvIHN0cmluZ2lmeSBvYmplY3QgcmV0dXJuZWQgZnJvbSBgY3NzYCBmdW5jdGlvbi4gSXQgaXNuJ3Qgc3VwcG9zZWQgdG8gYmUgdXNlZCBkaXJlY3RseSAoZS5nLiBhcyB2YWx1ZSBvZiB0aGUgYGNsYXNzTmFtZWAgcHJvcCksIGJ1dCByYXRoZXIgaGFuZGVkIHRvIGVtb3Rpb24gc28gaXQgY2FuIGhhbmRsZSBpdCAoZS5nLiBhcyB2YWx1ZSBvZiBgY3NzYCBwcm9wKS5cIjtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBkZXZTdHlsZXM7XG4gIH1cbn1cblxuZXhwb3J0IHsgc2VyaWFsaXplU3R5bGVzIH07XG4iLAogICAgImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxudmFyIHN5bmNGYWxsYmFjayA9IGZ1bmN0aW9uIHN5bmNGYWxsYmFjayhjcmVhdGUpIHtcbiAgcmV0dXJuIGNyZWF0ZSgpO1xufTtcblxudmFyIHVzZUluc2VydGlvbkVmZmVjdCA9IFJlYWN0Wyd1c2VJbnNlcnRpb24nICsgJ0VmZmVjdCddID8gUmVhY3RbJ3VzZUluc2VydGlvbicgKyAnRWZmZWN0J10gOiBmYWxzZTtcbnZhciB1c2VJbnNlcnRpb25FZmZlY3RBbHdheXNXaXRoU3luY0ZhbGxiYWNrID0gdXNlSW5zZXJ0aW9uRWZmZWN0IHx8IHN5bmNGYWxsYmFjaztcbnZhciB1c2VJbnNlcnRpb25FZmZlY3RXaXRoTGF5b3V0RmFsbGJhY2sgPSB1c2VJbnNlcnRpb25FZmZlY3QgfHwgUmVhY3QudXNlTGF5b3V0RWZmZWN0O1xuXG5leHBvcnQgeyB1c2VJbnNlcnRpb25FZmZlY3RBbHdheXNXaXRoU3luY0ZhbGxiYWNrLCB1c2VJbnNlcnRpb25FZmZlY3RXaXRoTGF5b3V0RmFsbGJhY2sgfTtcbiIsCiAgICAiaW1wb3J0IHsgaCBhcyBoYXNPd24sIEUgYXMgRW1vdGlvbiwgYyBhcyBjcmVhdGVFbW90aW9uUHJvcHMsIHcgYXMgd2l0aEVtb3Rpb25DYWNoZSwgVCBhcyBUaGVtZUNvbnRleHQgfSBmcm9tICcuL2Vtb3Rpb24tZWxlbWVudC00ODk0NTlmMi5icm93c2VyLmRldmVsb3BtZW50LmVzbS5qcyc7XG5leHBvcnQgeyBDIGFzIENhY2hlUHJvdmlkZXIsIFQgYXMgVGhlbWVDb250ZXh0LCBhIGFzIFRoZW1lUHJvdmlkZXIsIF8gYXMgX191bnNhZmVfdXNlRW1vdGlvbkNhY2hlLCB1IGFzIHVzZVRoZW1lLCB3IGFzIHdpdGhFbW90aW9uQ2FjaGUsIGIgYXMgd2l0aFRoZW1lIH0gZnJvbSAnLi9lbW90aW9uLWVsZW1lbnQtNDg5NDU5ZjIuYnJvd3Nlci5kZXZlbG9wbWVudC5lc20uanMnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgaW5zZXJ0U3R5bGVzLCByZWdpc3RlclN0eWxlcywgZ2V0UmVnaXN0ZXJlZFN0eWxlcyB9IGZyb20gJ0BlbW90aW9uL3V0aWxzJztcbmltcG9ydCB7IHVzZUluc2VydGlvbkVmZmVjdFdpdGhMYXlvdXRGYWxsYmFjaywgdXNlSW5zZXJ0aW9uRWZmZWN0QWx3YXlzV2l0aFN5bmNGYWxsYmFjayB9IGZyb20gJ0BlbW90aW9uL3VzZS1pbnNlcnRpb24tZWZmZWN0LXdpdGgtZmFsbGJhY2tzJztcbmltcG9ydCB7IHNlcmlhbGl6ZVN0eWxlcyB9IGZyb20gJ0BlbW90aW9uL3NlcmlhbGl6ZSc7XG5pbXBvcnQgJ0BlbW90aW9uL2NhY2hlJztcbmltcG9ydCAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCAnQGVtb3Rpb24vd2Vhay1tZW1vaXplJztcbmltcG9ydCAnLi4vX2lzb2xhdGVkLWhucnMvZGlzdC9lbW90aW9uLXJlYWN0LV9pc29sYXRlZC1obnJzLmJyb3dzZXIuZGV2ZWxvcG1lbnQuZXNtLmpzJztcbmltcG9ydCAnaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3MnO1xuXG52YXIgaXNEZXZlbG9wbWVudCA9IHRydWU7XG5cbnZhciBwa2cgPSB7XG5cdG5hbWU6IFwiQGVtb3Rpb24vcmVhY3RcIixcblx0dmVyc2lvbjogXCIxMS4xNC4wXCIsXG5cdG1haW46IFwiZGlzdC9lbW90aW9uLXJlYWN0LmNqcy5qc1wiLFxuXHRtb2R1bGU6IFwiZGlzdC9lbW90aW9uLXJlYWN0LmVzbS5qc1wiLFxuXHR0eXBlczogXCJkaXN0L2Vtb3Rpb24tcmVhY3QuY2pzLmQudHNcIixcblx0ZXhwb3J0czoge1xuXHRcdFwiLlwiOiB7XG5cdFx0XHR0eXBlczoge1xuXHRcdFx0XHRcImltcG9ydFwiOiBcIi4vZGlzdC9lbW90aW9uLXJlYWN0LmNqcy5tanNcIixcblx0XHRcdFx0XCJkZWZhdWx0XCI6IFwiLi9kaXN0L2Vtb3Rpb24tcmVhY3QuY2pzLmpzXCJcblx0XHRcdH0sXG5cdFx0XHRkZXZlbG9wbWVudDoge1xuXHRcdFx0XHRcImVkZ2UtbGlnaHRcIjoge1xuXHRcdFx0XHRcdG1vZHVsZTogXCIuL2Rpc3QvZW1vdGlvbi1yZWFjdC5kZXZlbG9wbWVudC5lZGdlLWxpZ2h0LmVzbS5qc1wiLFxuXHRcdFx0XHRcdFwiaW1wb3J0XCI6IFwiLi9kaXN0L2Vtb3Rpb24tcmVhY3QuZGV2ZWxvcG1lbnQuZWRnZS1saWdodC5janMubWpzXCIsXG5cdFx0XHRcdFx0XCJkZWZhdWx0XCI6IFwiLi9kaXN0L2Vtb3Rpb24tcmVhY3QuZGV2ZWxvcG1lbnQuZWRnZS1saWdodC5janMuanNcIlxuXHRcdFx0XHR9LFxuXHRcdFx0XHR3b3JrZXI6IHtcblx0XHRcdFx0XHRtb2R1bGU6IFwiLi9kaXN0L2Vtb3Rpb24tcmVhY3QuZGV2ZWxvcG1lbnQuZWRnZS1saWdodC5lc20uanNcIixcblx0XHRcdFx0XHRcImltcG9ydFwiOiBcIi4vZGlzdC9lbW90aW9uLXJlYWN0LmRldmVsb3BtZW50LmVkZ2UtbGlnaHQuY2pzLm1qc1wiLFxuXHRcdFx0XHRcdFwiZGVmYXVsdFwiOiBcIi4vZGlzdC9lbW90aW9uLXJlYWN0LmRldmVsb3BtZW50LmVkZ2UtbGlnaHQuY2pzLmpzXCJcblx0XHRcdFx0fSxcblx0XHRcdFx0d29ya2VyZDoge1xuXHRcdFx0XHRcdG1vZHVsZTogXCIuL2Rpc3QvZW1vdGlvbi1yZWFjdC5kZXZlbG9wbWVudC5lZGdlLWxpZ2h0LmVzbS5qc1wiLFxuXHRcdFx0XHRcdFwiaW1wb3J0XCI6IFwiLi9kaXN0L2Vtb3Rpb24tcmVhY3QuZGV2ZWxvcG1lbnQuZWRnZS1saWdodC5janMubWpzXCIsXG5cdFx0XHRcdFx0XCJkZWZhdWx0XCI6IFwiLi9kaXN0L2Vtb3Rpb24tcmVhY3QuZGV2ZWxvcG1lbnQuZWRnZS1saWdodC5janMuanNcIlxuXHRcdFx0XHR9LFxuXHRcdFx0XHRicm93c2VyOiB7XG5cdFx0XHRcdFx0bW9kdWxlOiBcIi4vZGlzdC9lbW90aW9uLXJlYWN0LmJyb3dzZXIuZGV2ZWxvcG1lbnQuZXNtLmpzXCIsXG5cdFx0XHRcdFx0XCJpbXBvcnRcIjogXCIuL2Rpc3QvZW1vdGlvbi1yZWFjdC5icm93c2VyLmRldmVsb3BtZW50LmNqcy5tanNcIixcblx0XHRcdFx0XHRcImRlZmF1bHRcIjogXCIuL2Rpc3QvZW1vdGlvbi1yZWFjdC5icm93c2VyLmRldmVsb3BtZW50LmNqcy5qc1wiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdG1vZHVsZTogXCIuL2Rpc3QvZW1vdGlvbi1yZWFjdC5kZXZlbG9wbWVudC5lc20uanNcIixcblx0XHRcdFx0XCJpbXBvcnRcIjogXCIuL2Rpc3QvZW1vdGlvbi1yZWFjdC5kZXZlbG9wbWVudC5janMubWpzXCIsXG5cdFx0XHRcdFwiZGVmYXVsdFwiOiBcIi4vZGlzdC9lbW90aW9uLXJlYWN0LmRldmVsb3BtZW50LmNqcy5qc1wiXG5cdFx0XHR9LFxuXHRcdFx0XCJlZGdlLWxpZ2h0XCI6IHtcblx0XHRcdFx0bW9kdWxlOiBcIi4vZGlzdC9lbW90aW9uLXJlYWN0LmVkZ2UtbGlnaHQuZXNtLmpzXCIsXG5cdFx0XHRcdFwiaW1wb3J0XCI6IFwiLi9kaXN0L2Vtb3Rpb24tcmVhY3QuZWRnZS1saWdodC5janMubWpzXCIsXG5cdFx0XHRcdFwiZGVmYXVsdFwiOiBcIi4vZGlzdC9lbW90aW9uLXJlYWN0LmVkZ2UtbGlnaHQuY2pzLmpzXCJcblx0XHRcdH0sXG5cdFx0XHR3b3JrZXI6IHtcblx0XHRcdFx0bW9kdWxlOiBcIi4vZGlzdC9lbW90aW9uLXJlYWN0LmVkZ2UtbGlnaHQuZXNtLmpzXCIsXG5cdFx0XHRcdFwiaW1wb3J0XCI6IFwiLi9kaXN0L2Vtb3Rpb24tcmVhY3QuZWRnZS1saWdodC5janMubWpzXCIsXG5cdFx0XHRcdFwiZGVmYXVsdFwiOiBcIi4vZGlzdC9lbW90aW9uLXJlYWN0LmVkZ2UtbGlnaHQuY2pzLmpzXCJcblx0XHRcdH0sXG5cdFx0XHR3b3JrZXJkOiB7XG5cdFx0XHRcdG1vZHVsZTogXCIuL2Rpc3QvZW1vdGlvbi1yZWFjdC5lZGdlLWxpZ2h0LmVzbS5qc1wiLFxuXHRcdFx0XHRcImltcG9ydFwiOiBcIi4vZGlzdC9lbW90aW9uLXJlYWN0LmVkZ2UtbGlnaHQuY2pzLm1qc1wiLFxuXHRcdFx0XHRcImRlZmF1bHRcIjogXCIuL2Rpc3QvZW1vdGlvbi1yZWFjdC5lZGdlLWxpZ2h0LmNqcy5qc1wiXG5cdFx0XHR9LFxuXHRcdFx0YnJvd3Nlcjoge1xuXHRcdFx0XHRtb2R1bGU6IFwiLi9kaXN0L2Vtb3Rpb24tcmVhY3QuYnJvd3Nlci5lc20uanNcIixcblx0XHRcdFx0XCJpbXBvcnRcIjogXCIuL2Rpc3QvZW1vdGlvbi1yZWFjdC5icm93c2VyLmNqcy5tanNcIixcblx0XHRcdFx0XCJkZWZhdWx0XCI6IFwiLi9kaXN0L2Vtb3Rpb24tcmVhY3QuYnJvd3Nlci5janMuanNcIlxuXHRcdFx0fSxcblx0XHRcdG1vZHVsZTogXCIuL2Rpc3QvZW1vdGlvbi1yZWFjdC5lc20uanNcIixcblx0XHRcdFwiaW1wb3J0XCI6IFwiLi9kaXN0L2Vtb3Rpb24tcmVhY3QuY2pzLm1qc1wiLFxuXHRcdFx0XCJkZWZhdWx0XCI6IFwiLi9kaXN0L2Vtb3Rpb24tcmVhY3QuY2pzLmpzXCJcblx0XHR9LFxuXHRcdFwiLi9qc3gtcnVudGltZVwiOiB7XG5cdFx0XHR0eXBlczoge1xuXHRcdFx0XHRcImltcG9ydFwiOiBcIi4vanN4LXJ1bnRpbWUvZGlzdC9lbW90aW9uLXJlYWN0LWpzeC1ydW50aW1lLmNqcy5tanNcIixcblx0XHRcdFx0XCJkZWZhdWx0XCI6IFwiLi9qc3gtcnVudGltZS9kaXN0L2Vtb3Rpb24tcmVhY3QtanN4LXJ1bnRpbWUuY2pzLmpzXCJcblx0XHRcdH0sXG5cdFx0XHRkZXZlbG9wbWVudDoge1xuXHRcdFx0XHRcImVkZ2UtbGlnaHRcIjoge1xuXHRcdFx0XHRcdG1vZHVsZTogXCIuL2pzeC1ydW50aW1lL2Rpc3QvZW1vdGlvbi1yZWFjdC1qc3gtcnVudGltZS5kZXZlbG9wbWVudC5lZGdlLWxpZ2h0LmVzbS5qc1wiLFxuXHRcdFx0XHRcdFwiaW1wb3J0XCI6IFwiLi9qc3gtcnVudGltZS9kaXN0L2Vtb3Rpb24tcmVhY3QtanN4LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuZWRnZS1saWdodC5janMubWpzXCIsXG5cdFx0XHRcdFx0XCJkZWZhdWx0XCI6IFwiLi9qc3gtcnVudGltZS9kaXN0L2Vtb3Rpb24tcmVhY3QtanN4LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuZWRnZS1saWdodC5janMuanNcIlxuXHRcdFx0XHR9LFxuXHRcdFx0XHR3b3JrZXI6IHtcblx0XHRcdFx0XHRtb2R1bGU6IFwiLi9qc3gtcnVudGltZS9kaXN0L2Vtb3Rpb24tcmVhY3QtanN4LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuZWRnZS1saWdodC5lc20uanNcIixcblx0XHRcdFx0XHRcImltcG9ydFwiOiBcIi4vanN4LXJ1bnRpbWUvZGlzdC9lbW90aW9uLXJlYWN0LWpzeC1ydW50aW1lLmRldmVsb3BtZW50LmVkZ2UtbGlnaHQuY2pzLm1qc1wiLFxuXHRcdFx0XHRcdFwiZGVmYXVsdFwiOiBcIi4vanN4LXJ1bnRpbWUvZGlzdC9lbW90aW9uLXJlYWN0LWpzeC1ydW50aW1lLmRldmVsb3BtZW50LmVkZ2UtbGlnaHQuY2pzLmpzXCJcblx0XHRcdFx0fSxcblx0XHRcdFx0d29ya2VyZDoge1xuXHRcdFx0XHRcdG1vZHVsZTogXCIuL2pzeC1ydW50aW1lL2Rpc3QvZW1vdGlvbi1yZWFjdC1qc3gtcnVudGltZS5kZXZlbG9wbWVudC5lZGdlLWxpZ2h0LmVzbS5qc1wiLFxuXHRcdFx0XHRcdFwiaW1wb3J0XCI6IFwiLi9qc3gtcnVudGltZS9kaXN0L2Vtb3Rpb24tcmVhY3QtanN4LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuZWRnZS1saWdodC5janMubWpzXCIsXG5cdFx0XHRcdFx0XCJkZWZhdWx0XCI6IFwiLi9qc3gtcnVudGltZS9kaXN0L2Vtb3Rpb24tcmVhY3QtanN4LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuZWRnZS1saWdodC5janMuanNcIlxuXHRcdFx0XHR9LFxuXHRcdFx0XHRicm93c2VyOiB7XG5cdFx0XHRcdFx0bW9kdWxlOiBcIi4vanN4LXJ1bnRpbWUvZGlzdC9lbW90aW9uLXJlYWN0LWpzeC1ydW50aW1lLmJyb3dzZXIuZGV2ZWxvcG1lbnQuZXNtLmpzXCIsXG5cdFx0XHRcdFx0XCJpbXBvcnRcIjogXCIuL2pzeC1ydW50aW1lL2Rpc3QvZW1vdGlvbi1yZWFjdC1qc3gtcnVudGltZS5icm93c2VyLmRldmVsb3BtZW50LmNqcy5tanNcIixcblx0XHRcdFx0XHRcImRlZmF1bHRcIjogXCIuL2pzeC1ydW50aW1lL2Rpc3QvZW1vdGlvbi1yZWFjdC1qc3gtcnVudGltZS5icm93c2VyLmRldmVsb3BtZW50LmNqcy5qc1wiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdG1vZHVsZTogXCIuL2pzeC1ydW50aW1lL2Rpc3QvZW1vdGlvbi1yZWFjdC1qc3gtcnVudGltZS5kZXZlbG9wbWVudC5lc20uanNcIixcblx0XHRcdFx0XCJpbXBvcnRcIjogXCIuL2pzeC1ydW50aW1lL2Rpc3QvZW1vdGlvbi1yZWFjdC1qc3gtcnVudGltZS5kZXZlbG9wbWVudC5janMubWpzXCIsXG5cdFx0XHRcdFwiZGVmYXVsdFwiOiBcIi4vanN4LXJ1bnRpbWUvZGlzdC9lbW90aW9uLXJlYWN0LWpzeC1ydW50aW1lLmRldmVsb3BtZW50LmNqcy5qc1wiXG5cdFx0XHR9LFxuXHRcdFx0XCJlZGdlLWxpZ2h0XCI6IHtcblx0XHRcdFx0bW9kdWxlOiBcIi4vanN4LXJ1bnRpbWUvZGlzdC9lbW90aW9uLXJlYWN0LWpzeC1ydW50aW1lLmVkZ2UtbGlnaHQuZXNtLmpzXCIsXG5cdFx0XHRcdFwiaW1wb3J0XCI6IFwiLi9qc3gtcnVudGltZS9kaXN0L2Vtb3Rpb24tcmVhY3QtanN4LXJ1bnRpbWUuZWRnZS1saWdodC5janMubWpzXCIsXG5cdFx0XHRcdFwiZGVmYXVsdFwiOiBcIi4vanN4LXJ1bnRpbWUvZGlzdC9lbW90aW9uLXJlYWN0LWpzeC1ydW50aW1lLmVkZ2UtbGlnaHQuY2pzLmpzXCJcblx0XHRcdH0sXG5cdFx0XHR3b3JrZXI6IHtcblx0XHRcdFx0bW9kdWxlOiBcIi4vanN4LXJ1bnRpbWUvZGlzdC9lbW90aW9uLXJlYWN0LWpzeC1ydW50aW1lLmVkZ2UtbGlnaHQuZXNtLmpzXCIsXG5cdFx0XHRcdFwiaW1wb3J0XCI6IFwiLi9qc3gtcnVudGltZS9kaXN0L2Vtb3Rpb24tcmVhY3QtanN4LXJ1bnRpbWUuZWRnZS1saWdodC5janMubWpzXCIsXG5cdFx0XHRcdFwiZGVmYXVsdFwiOiBcIi4vanN4LXJ1bnRpbWUvZGlzdC9lbW90aW9uLXJlYWN0LWpzeC1ydW50aW1lLmVkZ2UtbGlnaHQuY2pzLmpzXCJcblx0XHRcdH0sXG5cdFx0XHR3b3JrZXJkOiB7XG5cdFx0XHRcdG1vZHVsZTogXCIuL2pzeC1ydW50aW1lL2Rpc3QvZW1vdGlvbi1yZWFjdC1qc3gtcnVudGltZS5lZGdlLWxpZ2h0LmVzbS5qc1wiLFxuXHRcdFx0XHRcImltcG9ydFwiOiBcIi4vanN4LXJ1bnRpbWUvZGlzdC9lbW90aW9uLXJlYWN0LWpzeC1ydW50aW1lLmVkZ2UtbGlnaHQuY2pzLm1qc1wiLFxuXHRcdFx0XHRcImRlZmF1bHRcIjogXCIuL2pzeC1ydW50aW1lL2Rpc3QvZW1vdGlvbi1yZWFjdC1qc3gtcnVudGltZS5lZGdlLWxpZ2h0LmNqcy5qc1wiXG5cdFx0XHR9LFxuXHRcdFx0YnJvd3Nlcjoge1xuXHRcdFx0XHRtb2R1bGU6IFwiLi9qc3gtcnVudGltZS9kaXN0L2Vtb3Rpb24tcmVhY3QtanN4LXJ1bnRpbWUuYnJvd3Nlci5lc20uanNcIixcblx0XHRcdFx0XCJpbXBvcnRcIjogXCIuL2pzeC1ydW50aW1lL2Rpc3QvZW1vdGlvbi1yZWFjdC1qc3gtcnVudGltZS5icm93c2VyLmNqcy5tanNcIixcblx0XHRcdFx0XCJkZWZhdWx0XCI6IFwiLi9qc3gtcnVudGltZS9kaXN0L2Vtb3Rpb24tcmVhY3QtanN4LXJ1bnRpbWUuYnJvd3Nlci5janMuanNcIlxuXHRcdFx0fSxcblx0XHRcdG1vZHVsZTogXCIuL2pzeC1ydW50aW1lL2Rpc3QvZW1vdGlvbi1yZWFjdC1qc3gtcnVudGltZS5lc20uanNcIixcblx0XHRcdFwiaW1wb3J0XCI6IFwiLi9qc3gtcnVudGltZS9kaXN0L2Vtb3Rpb24tcmVhY3QtanN4LXJ1bnRpbWUuY2pzLm1qc1wiLFxuXHRcdFx0XCJkZWZhdWx0XCI6IFwiLi9qc3gtcnVudGltZS9kaXN0L2Vtb3Rpb24tcmVhY3QtanN4LXJ1bnRpbWUuY2pzLmpzXCJcblx0XHR9LFxuXHRcdFwiLi9faXNvbGF0ZWQtaG5yc1wiOiB7XG5cdFx0XHR0eXBlczoge1xuXHRcdFx0XHRcImltcG9ydFwiOiBcIi4vX2lzb2xhdGVkLWhucnMvZGlzdC9lbW90aW9uLXJlYWN0LV9pc29sYXRlZC1obnJzLmNqcy5tanNcIixcblx0XHRcdFx0XCJkZWZhdWx0XCI6IFwiLi9faXNvbGF0ZWQtaG5ycy9kaXN0L2Vtb3Rpb24tcmVhY3QtX2lzb2xhdGVkLWhucnMuY2pzLmpzXCJcblx0XHRcdH0sXG5cdFx0XHRkZXZlbG9wbWVudDoge1xuXHRcdFx0XHRcImVkZ2UtbGlnaHRcIjoge1xuXHRcdFx0XHRcdG1vZHVsZTogXCIuL19pc29sYXRlZC1obnJzL2Rpc3QvZW1vdGlvbi1yZWFjdC1faXNvbGF0ZWQtaG5ycy5kZXZlbG9wbWVudC5lZGdlLWxpZ2h0LmVzbS5qc1wiLFxuXHRcdFx0XHRcdFwiaW1wb3J0XCI6IFwiLi9faXNvbGF0ZWQtaG5ycy9kaXN0L2Vtb3Rpb24tcmVhY3QtX2lzb2xhdGVkLWhucnMuZGV2ZWxvcG1lbnQuZWRnZS1saWdodC5janMubWpzXCIsXG5cdFx0XHRcdFx0XCJkZWZhdWx0XCI6IFwiLi9faXNvbGF0ZWQtaG5ycy9kaXN0L2Vtb3Rpb24tcmVhY3QtX2lzb2xhdGVkLWhucnMuZGV2ZWxvcG1lbnQuZWRnZS1saWdodC5janMuanNcIlxuXHRcdFx0XHR9LFxuXHRcdFx0XHR3b3JrZXI6IHtcblx0XHRcdFx0XHRtb2R1bGU6IFwiLi9faXNvbGF0ZWQtaG5ycy9kaXN0L2Vtb3Rpb24tcmVhY3QtX2lzb2xhdGVkLWhucnMuZGV2ZWxvcG1lbnQuZWRnZS1saWdodC5lc20uanNcIixcblx0XHRcdFx0XHRcImltcG9ydFwiOiBcIi4vX2lzb2xhdGVkLWhucnMvZGlzdC9lbW90aW9uLXJlYWN0LV9pc29sYXRlZC1obnJzLmRldmVsb3BtZW50LmVkZ2UtbGlnaHQuY2pzLm1qc1wiLFxuXHRcdFx0XHRcdFwiZGVmYXVsdFwiOiBcIi4vX2lzb2xhdGVkLWhucnMvZGlzdC9lbW90aW9uLXJlYWN0LV9pc29sYXRlZC1obnJzLmRldmVsb3BtZW50LmVkZ2UtbGlnaHQuY2pzLmpzXCJcblx0XHRcdFx0fSxcblx0XHRcdFx0d29ya2VyZDoge1xuXHRcdFx0XHRcdG1vZHVsZTogXCIuL19pc29sYXRlZC1obnJzL2Rpc3QvZW1vdGlvbi1yZWFjdC1faXNvbGF0ZWQtaG5ycy5kZXZlbG9wbWVudC5lZGdlLWxpZ2h0LmVzbS5qc1wiLFxuXHRcdFx0XHRcdFwiaW1wb3J0XCI6IFwiLi9faXNvbGF0ZWQtaG5ycy9kaXN0L2Vtb3Rpb24tcmVhY3QtX2lzb2xhdGVkLWhucnMuZGV2ZWxvcG1lbnQuZWRnZS1saWdodC5janMubWpzXCIsXG5cdFx0XHRcdFx0XCJkZWZhdWx0XCI6IFwiLi9faXNvbGF0ZWQtaG5ycy9kaXN0L2Vtb3Rpb24tcmVhY3QtX2lzb2xhdGVkLWhucnMuZGV2ZWxvcG1lbnQuZWRnZS1saWdodC5janMuanNcIlxuXHRcdFx0XHR9LFxuXHRcdFx0XHRicm93c2VyOiB7XG5cdFx0XHRcdFx0bW9kdWxlOiBcIi4vX2lzb2xhdGVkLWhucnMvZGlzdC9lbW90aW9uLXJlYWN0LV9pc29sYXRlZC1obnJzLmJyb3dzZXIuZGV2ZWxvcG1lbnQuZXNtLmpzXCIsXG5cdFx0XHRcdFx0XCJpbXBvcnRcIjogXCIuL19pc29sYXRlZC1obnJzL2Rpc3QvZW1vdGlvbi1yZWFjdC1faXNvbGF0ZWQtaG5ycy5icm93c2VyLmRldmVsb3BtZW50LmNqcy5tanNcIixcblx0XHRcdFx0XHRcImRlZmF1bHRcIjogXCIuL19pc29sYXRlZC1obnJzL2Rpc3QvZW1vdGlvbi1yZWFjdC1faXNvbGF0ZWQtaG5ycy5icm93c2VyLmRldmVsb3BtZW50LmNqcy5qc1wiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdG1vZHVsZTogXCIuL19pc29sYXRlZC1obnJzL2Rpc3QvZW1vdGlvbi1yZWFjdC1faXNvbGF0ZWQtaG5ycy5kZXZlbG9wbWVudC5lc20uanNcIixcblx0XHRcdFx0XCJpbXBvcnRcIjogXCIuL19pc29sYXRlZC1obnJzL2Rpc3QvZW1vdGlvbi1yZWFjdC1faXNvbGF0ZWQtaG5ycy5kZXZlbG9wbWVudC5janMubWpzXCIsXG5cdFx0XHRcdFwiZGVmYXVsdFwiOiBcIi4vX2lzb2xhdGVkLWhucnMvZGlzdC9lbW90aW9uLXJlYWN0LV9pc29sYXRlZC1obnJzLmRldmVsb3BtZW50LmNqcy5qc1wiXG5cdFx0XHR9LFxuXHRcdFx0XCJlZGdlLWxpZ2h0XCI6IHtcblx0XHRcdFx0bW9kdWxlOiBcIi4vX2lzb2xhdGVkLWhucnMvZGlzdC9lbW90aW9uLXJlYWN0LV9pc29sYXRlZC1obnJzLmVkZ2UtbGlnaHQuZXNtLmpzXCIsXG5cdFx0XHRcdFwiaW1wb3J0XCI6IFwiLi9faXNvbGF0ZWQtaG5ycy9kaXN0L2Vtb3Rpb24tcmVhY3QtX2lzb2xhdGVkLWhucnMuZWRnZS1saWdodC5janMubWpzXCIsXG5cdFx0XHRcdFwiZGVmYXVsdFwiOiBcIi4vX2lzb2xhdGVkLWhucnMvZGlzdC9lbW90aW9uLXJlYWN0LV9pc29sYXRlZC1obnJzLmVkZ2UtbGlnaHQuY2pzLmpzXCJcblx0XHRcdH0sXG5cdFx0XHR3b3JrZXI6IHtcblx0XHRcdFx0bW9kdWxlOiBcIi4vX2lzb2xhdGVkLWhucnMvZGlzdC9lbW90aW9uLXJlYWN0LV9pc29sYXRlZC1obnJzLmVkZ2UtbGlnaHQuZXNtLmpzXCIsXG5cdFx0XHRcdFwiaW1wb3J0XCI6IFwiLi9faXNvbGF0ZWQtaG5ycy9kaXN0L2Vtb3Rpb24tcmVhY3QtX2lzb2xhdGVkLWhucnMuZWRnZS1saWdodC5janMubWpzXCIsXG5cdFx0XHRcdFwiZGVmYXVsdFwiOiBcIi4vX2lzb2xhdGVkLWhucnMvZGlzdC9lbW90aW9uLXJlYWN0LV9pc29sYXRlZC1obnJzLmVkZ2UtbGlnaHQuY2pzLmpzXCJcblx0XHRcdH0sXG5cdFx0XHR3b3JrZXJkOiB7XG5cdFx0XHRcdG1vZHVsZTogXCIuL19pc29sYXRlZC1obnJzL2Rpc3QvZW1vdGlvbi1yZWFjdC1faXNvbGF0ZWQtaG5ycy5lZGdlLWxpZ2h0LmVzbS5qc1wiLFxuXHRcdFx0XHRcImltcG9ydFwiOiBcIi4vX2lzb2xhdGVkLWhucnMvZGlzdC9lbW90aW9uLXJlYWN0LV9pc29sYXRlZC1obnJzLmVkZ2UtbGlnaHQuY2pzLm1qc1wiLFxuXHRcdFx0XHRcImRlZmF1bHRcIjogXCIuL19pc29sYXRlZC1obnJzL2Rpc3QvZW1vdGlvbi1yZWFjdC1faXNvbGF0ZWQtaG5ycy5lZGdlLWxpZ2h0LmNqcy5qc1wiXG5cdFx0XHR9LFxuXHRcdFx0YnJvd3Nlcjoge1xuXHRcdFx0XHRtb2R1bGU6IFwiLi9faXNvbGF0ZWQtaG5ycy9kaXN0L2Vtb3Rpb24tcmVhY3QtX2lzb2xhdGVkLWhucnMuYnJvd3Nlci5lc20uanNcIixcblx0XHRcdFx0XCJpbXBvcnRcIjogXCIuL19pc29sYXRlZC1obnJzL2Rpc3QvZW1vdGlvbi1yZWFjdC1faXNvbGF0ZWQtaG5ycy5icm93c2VyLmNqcy5tanNcIixcblx0XHRcdFx0XCJkZWZhdWx0XCI6IFwiLi9faXNvbGF0ZWQtaG5ycy9kaXN0L2Vtb3Rpb24tcmVhY3QtX2lzb2xhdGVkLWhucnMuYnJvd3Nlci5janMuanNcIlxuXHRcdFx0fSxcblx0XHRcdG1vZHVsZTogXCIuL19pc29sYXRlZC1obnJzL2Rpc3QvZW1vdGlvbi1yZWFjdC1faXNvbGF0ZWQtaG5ycy5lc20uanNcIixcblx0XHRcdFwiaW1wb3J0XCI6IFwiLi9faXNvbGF0ZWQtaG5ycy9kaXN0L2Vtb3Rpb24tcmVhY3QtX2lzb2xhdGVkLWhucnMuY2pzLm1qc1wiLFxuXHRcdFx0XCJkZWZhdWx0XCI6IFwiLi9faXNvbGF0ZWQtaG5ycy9kaXN0L2Vtb3Rpb24tcmVhY3QtX2lzb2xhdGVkLWhucnMuY2pzLmpzXCJcblx0XHR9LFxuXHRcdFwiLi9qc3gtZGV2LXJ1bnRpbWVcIjoge1xuXHRcdFx0dHlwZXM6IHtcblx0XHRcdFx0XCJpbXBvcnRcIjogXCIuL2pzeC1kZXYtcnVudGltZS9kaXN0L2Vtb3Rpb24tcmVhY3QtanN4LWRldi1ydW50aW1lLmNqcy5tanNcIixcblx0XHRcdFx0XCJkZWZhdWx0XCI6IFwiLi9qc3gtZGV2LXJ1bnRpbWUvZGlzdC9lbW90aW9uLXJlYWN0LWpzeC1kZXYtcnVudGltZS5janMuanNcIlxuXHRcdFx0fSxcblx0XHRcdGRldmVsb3BtZW50OiB7XG5cdFx0XHRcdFwiZWRnZS1saWdodFwiOiB7XG5cdFx0XHRcdFx0bW9kdWxlOiBcIi4vanN4LWRldi1ydW50aW1lL2Rpc3QvZW1vdGlvbi1yZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuZWRnZS1saWdodC5lc20uanNcIixcblx0XHRcdFx0XHRcImltcG9ydFwiOiBcIi4vanN4LWRldi1ydW50aW1lL2Rpc3QvZW1vdGlvbi1yZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuZWRnZS1saWdodC5janMubWpzXCIsXG5cdFx0XHRcdFx0XCJkZWZhdWx0XCI6IFwiLi9qc3gtZGV2LXJ1bnRpbWUvZGlzdC9lbW90aW9uLXJlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5lZGdlLWxpZ2h0LmNqcy5qc1wiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHdvcmtlcjoge1xuXHRcdFx0XHRcdG1vZHVsZTogXCIuL2pzeC1kZXYtcnVudGltZS9kaXN0L2Vtb3Rpb24tcmVhY3QtanN4LWRldi1ydW50aW1lLmRldmVsb3BtZW50LmVkZ2UtbGlnaHQuZXNtLmpzXCIsXG5cdFx0XHRcdFx0XCJpbXBvcnRcIjogXCIuL2pzeC1kZXYtcnVudGltZS9kaXN0L2Vtb3Rpb24tcmVhY3QtanN4LWRldi1ydW50aW1lLmRldmVsb3BtZW50LmVkZ2UtbGlnaHQuY2pzLm1qc1wiLFxuXHRcdFx0XHRcdFwiZGVmYXVsdFwiOiBcIi4vanN4LWRldi1ydW50aW1lL2Rpc3QvZW1vdGlvbi1yZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuZWRnZS1saWdodC5janMuanNcIlxuXHRcdFx0XHR9LFxuXHRcdFx0XHR3b3JrZXJkOiB7XG5cdFx0XHRcdFx0bW9kdWxlOiBcIi4vanN4LWRldi1ydW50aW1lL2Rpc3QvZW1vdGlvbi1yZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuZWRnZS1saWdodC5lc20uanNcIixcblx0XHRcdFx0XHRcImltcG9ydFwiOiBcIi4vanN4LWRldi1ydW50aW1lL2Rpc3QvZW1vdGlvbi1yZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuZWRnZS1saWdodC5janMubWpzXCIsXG5cdFx0XHRcdFx0XCJkZWZhdWx0XCI6IFwiLi9qc3gtZGV2LXJ1bnRpbWUvZGlzdC9lbW90aW9uLXJlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5lZGdlLWxpZ2h0LmNqcy5qc1wiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGJyb3dzZXI6IHtcblx0XHRcdFx0XHRtb2R1bGU6IFwiLi9qc3gtZGV2LXJ1bnRpbWUvZGlzdC9lbW90aW9uLXJlYWN0LWpzeC1kZXYtcnVudGltZS5icm93c2VyLmRldmVsb3BtZW50LmVzbS5qc1wiLFxuXHRcdFx0XHRcdFwiaW1wb3J0XCI6IFwiLi9qc3gtZGV2LXJ1bnRpbWUvZGlzdC9lbW90aW9uLXJlYWN0LWpzeC1kZXYtcnVudGltZS5icm93c2VyLmRldmVsb3BtZW50LmNqcy5tanNcIixcblx0XHRcdFx0XHRcImRlZmF1bHRcIjogXCIuL2pzeC1kZXYtcnVudGltZS9kaXN0L2Vtb3Rpb24tcmVhY3QtanN4LWRldi1ydW50aW1lLmJyb3dzZXIuZGV2ZWxvcG1lbnQuY2pzLmpzXCJcblx0XHRcdFx0fSxcblx0XHRcdFx0bW9kdWxlOiBcIi4vanN4LWRldi1ydW50aW1lL2Rpc3QvZW1vdGlvbi1yZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuZXNtLmpzXCIsXG5cdFx0XHRcdFwiaW1wb3J0XCI6IFwiLi9qc3gtZGV2LXJ1bnRpbWUvZGlzdC9lbW90aW9uLXJlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5janMubWpzXCIsXG5cdFx0XHRcdFwiZGVmYXVsdFwiOiBcIi4vanN4LWRldi1ydW50aW1lL2Rpc3QvZW1vdGlvbi1yZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuY2pzLmpzXCJcblx0XHRcdH0sXG5cdFx0XHRcImVkZ2UtbGlnaHRcIjoge1xuXHRcdFx0XHRtb2R1bGU6IFwiLi9qc3gtZGV2LXJ1bnRpbWUvZGlzdC9lbW90aW9uLXJlYWN0LWpzeC1kZXYtcnVudGltZS5lZGdlLWxpZ2h0LmVzbS5qc1wiLFxuXHRcdFx0XHRcImltcG9ydFwiOiBcIi4vanN4LWRldi1ydW50aW1lL2Rpc3QvZW1vdGlvbi1yZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZWRnZS1saWdodC5janMubWpzXCIsXG5cdFx0XHRcdFwiZGVmYXVsdFwiOiBcIi4vanN4LWRldi1ydW50aW1lL2Rpc3QvZW1vdGlvbi1yZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZWRnZS1saWdodC5janMuanNcIlxuXHRcdFx0fSxcblx0XHRcdHdvcmtlcjoge1xuXHRcdFx0XHRtb2R1bGU6IFwiLi9qc3gtZGV2LXJ1bnRpbWUvZGlzdC9lbW90aW9uLXJlYWN0LWpzeC1kZXYtcnVudGltZS5lZGdlLWxpZ2h0LmVzbS5qc1wiLFxuXHRcdFx0XHRcImltcG9ydFwiOiBcIi4vanN4LWRldi1ydW50aW1lL2Rpc3QvZW1vdGlvbi1yZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZWRnZS1saWdodC5janMubWpzXCIsXG5cdFx0XHRcdFwiZGVmYXVsdFwiOiBcIi4vanN4LWRldi1ydW50aW1lL2Rpc3QvZW1vdGlvbi1yZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZWRnZS1saWdodC5janMuanNcIlxuXHRcdFx0fSxcblx0XHRcdHdvcmtlcmQ6IHtcblx0XHRcdFx0bW9kdWxlOiBcIi4vanN4LWRldi1ydW50aW1lL2Rpc3QvZW1vdGlvbi1yZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZWRnZS1saWdodC5lc20uanNcIixcblx0XHRcdFx0XCJpbXBvcnRcIjogXCIuL2pzeC1kZXYtcnVudGltZS9kaXN0L2Vtb3Rpb24tcmVhY3QtanN4LWRldi1ydW50aW1lLmVkZ2UtbGlnaHQuY2pzLm1qc1wiLFxuXHRcdFx0XHRcImRlZmF1bHRcIjogXCIuL2pzeC1kZXYtcnVudGltZS9kaXN0L2Vtb3Rpb24tcmVhY3QtanN4LWRldi1ydW50aW1lLmVkZ2UtbGlnaHQuY2pzLmpzXCJcblx0XHRcdH0sXG5cdFx0XHRicm93c2VyOiB7XG5cdFx0XHRcdG1vZHVsZTogXCIuL2pzeC1kZXYtcnVudGltZS9kaXN0L2Vtb3Rpb24tcmVhY3QtanN4LWRldi1ydW50aW1lLmJyb3dzZXIuZXNtLmpzXCIsXG5cdFx0XHRcdFwiaW1wb3J0XCI6IFwiLi9qc3gtZGV2LXJ1bnRpbWUvZGlzdC9lbW90aW9uLXJlYWN0LWpzeC1kZXYtcnVudGltZS5icm93c2VyLmNqcy5tanNcIixcblx0XHRcdFx0XCJkZWZhdWx0XCI6IFwiLi9qc3gtZGV2LXJ1bnRpbWUvZGlzdC9lbW90aW9uLXJlYWN0LWpzeC1kZXYtcnVudGltZS5icm93c2VyLmNqcy5qc1wiXG5cdFx0XHR9LFxuXHRcdFx0bW9kdWxlOiBcIi4vanN4LWRldi1ydW50aW1lL2Rpc3QvZW1vdGlvbi1yZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZXNtLmpzXCIsXG5cdFx0XHRcImltcG9ydFwiOiBcIi4vanN4LWRldi1ydW50aW1lL2Rpc3QvZW1vdGlvbi1yZWFjdC1qc3gtZGV2LXJ1bnRpbWUuY2pzLm1qc1wiLFxuXHRcdFx0XCJkZWZhdWx0XCI6IFwiLi9qc3gtZGV2LXJ1bnRpbWUvZGlzdC9lbW90aW9uLXJlYWN0LWpzeC1kZXYtcnVudGltZS5janMuanNcIlxuXHRcdH0sXG5cdFx0XCIuL3BhY2thZ2UuanNvblwiOiBcIi4vcGFja2FnZS5qc29uXCIsXG5cdFx0XCIuL3R5cGVzL2Nzcy1wcm9wXCI6IFwiLi90eXBlcy9jc3MtcHJvcC5kLnRzXCIsXG5cdFx0XCIuL21hY3JvXCI6IHtcblx0XHRcdHR5cGVzOiB7XG5cdFx0XHRcdFwiaW1wb3J0XCI6IFwiLi9tYWNyby5kLm10c1wiLFxuXHRcdFx0XHRcImRlZmF1bHRcIjogXCIuL21hY3JvLmQudHNcIlxuXHRcdFx0fSxcblx0XHRcdFwiZGVmYXVsdFwiOiBcIi4vbWFjcm8uanNcIlxuXHRcdH1cblx0fSxcblx0aW1wb3J0czoge1xuXHRcdFwiI2lzLWRldmVsb3BtZW50XCI6IHtcblx0XHRcdGRldmVsb3BtZW50OiBcIi4vc3JjL2NvbmRpdGlvbnMvdHJ1ZS50c1wiLFxuXHRcdFx0XCJkZWZhdWx0XCI6IFwiLi9zcmMvY29uZGl0aW9ucy9mYWxzZS50c1wiXG5cdFx0fSxcblx0XHRcIiNpcy1icm93c2VyXCI6IHtcblx0XHRcdFwiZWRnZS1saWdodFwiOiBcIi4vc3JjL2NvbmRpdGlvbnMvZmFsc2UudHNcIixcblx0XHRcdHdvcmtlcmQ6IFwiLi9zcmMvY29uZGl0aW9ucy9mYWxzZS50c1wiLFxuXHRcdFx0d29ya2VyOiBcIi4vc3JjL2NvbmRpdGlvbnMvZmFsc2UudHNcIixcblx0XHRcdGJyb3dzZXI6IFwiLi9zcmMvY29uZGl0aW9ucy90cnVlLnRzXCIsXG5cdFx0XHRcImRlZmF1bHRcIjogXCIuL3NyYy9jb25kaXRpb25zL2lzLWJyb3dzZXIudHNcIlxuXHRcdH1cblx0fSxcblx0ZmlsZXM6IFtcblx0XHRcInNyY1wiLFxuXHRcdFwiZGlzdFwiLFxuXHRcdFwianN4LXJ1bnRpbWVcIixcblx0XHRcImpzeC1kZXYtcnVudGltZVwiLFxuXHRcdFwiX2lzb2xhdGVkLWhucnNcIixcblx0XHRcInR5cGVzL2Nzcy1wcm9wLmQudHNcIixcblx0XHRcIm1hY3JvLipcIlxuXHRdLFxuXHRzaWRlRWZmZWN0czogZmFsc2UsXG5cdGF1dGhvcjogXCJFbW90aW9uIENvbnRyaWJ1dG9yc1wiLFxuXHRsaWNlbnNlOiBcIk1JVFwiLFxuXHRzY3JpcHRzOiB7XG5cdFx0XCJ0ZXN0OnR5cGVzY3JpcHRcIjogXCJkdHNsaW50IHR5cGVzXCJcblx0fSxcblx0ZGVwZW5kZW5jaWVzOiB7XG5cdFx0XCJAYmFiZWwvcnVudGltZVwiOiBcIl43LjE4LjNcIixcblx0XHRcIkBlbW90aW9uL2JhYmVsLXBsdWdpblwiOiBcIl4xMS4xMy41XCIsXG5cdFx0XCJAZW1vdGlvbi9jYWNoZVwiOiBcIl4xMS4xNC4wXCIsXG5cdFx0XCJAZW1vdGlvbi9zZXJpYWxpemVcIjogXCJeMS4zLjNcIixcblx0XHRcIkBlbW90aW9uL3VzZS1pbnNlcnRpb24tZWZmZWN0LXdpdGgtZmFsbGJhY2tzXCI6IFwiXjEuMi4wXCIsXG5cdFx0XCJAZW1vdGlvbi91dGlsc1wiOiBcIl4xLjQuMlwiLFxuXHRcdFwiQGVtb3Rpb24vd2Vhay1tZW1vaXplXCI6IFwiXjAuNC4wXCIsXG5cdFx0XCJob2lzdC1ub24tcmVhY3Qtc3RhdGljc1wiOiBcIl4zLjMuMVwiXG5cdH0sXG5cdHBlZXJEZXBlbmRlbmNpZXM6IHtcblx0XHRyZWFjdDogXCI+PTE2LjguMFwiXG5cdH0sXG5cdHBlZXJEZXBlbmRlbmNpZXNNZXRhOiB7XG5cdFx0XCJAdHlwZXMvcmVhY3RcIjoge1xuXHRcdFx0b3B0aW9uYWw6IHRydWVcblx0XHR9XG5cdH0sXG5cdGRldkRlcGVuZGVuY2llczoge1xuXHRcdFwiQGRlZmluaXRlbHl0eXBlZC9kdHNsaW50XCI6IFwiMC4wLjExMlwiLFxuXHRcdFwiQGVtb3Rpb24vY3NzXCI6IFwiMTEuMTMuNVwiLFxuXHRcdFwiQGVtb3Rpb24vY3NzLXByZXR0aWZpZXJcIjogXCIxLjIuMFwiLFxuXHRcdFwiQGVtb3Rpb24vc2VydmVyXCI6IFwiMTEuMTEuMFwiLFxuXHRcdFwiQGVtb3Rpb24vc3R5bGVkXCI6IFwiMTEuMTQuMFwiLFxuXHRcdFwiQHR5cGVzL2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzXCI6IFwiXjMuMy41XCIsXG5cdFx0XCJodG1sLXRhZy1uYW1lc1wiOiBcIl4xLjEuMlwiLFxuXHRcdHJlYWN0OiBcIjE2LjE0LjBcIixcblx0XHRcInN2Zy10YWctbmFtZXNcIjogXCJeMS4xLjFcIixcblx0XHR0eXBlc2NyaXB0OiBcIl41LjQuNVwiXG5cdH0sXG5cdHJlcG9zaXRvcnk6IFwiaHR0cHM6Ly9naXRodWIuY29tL2Vtb3Rpb24tanMvZW1vdGlvbi90cmVlL21haW4vcGFja2FnZXMvcmVhY3RcIixcblx0cHVibGlzaENvbmZpZzoge1xuXHRcdGFjY2VzczogXCJwdWJsaWNcIlxuXHR9LFxuXHRcInVtZDptYWluXCI6IFwiZGlzdC9lbW90aW9uLXJlYWN0LnVtZC5taW4uanNcIixcblx0cHJlY29uc3RydWN0OiB7XG5cdFx0ZW50cnlwb2ludHM6IFtcblx0XHRcdFwiLi9pbmRleC50c1wiLFxuXHRcdFx0XCIuL2pzeC1ydW50aW1lLnRzXCIsXG5cdFx0XHRcIi4vanN4LWRldi1ydW50aW1lLnRzXCIsXG5cdFx0XHRcIi4vX2lzb2xhdGVkLWhucnMudHNcIlxuXHRcdF0sXG5cdFx0dW1kTmFtZTogXCJlbW90aW9uUmVhY3RcIixcblx0XHRleHBvcnRzOiB7XG5cdFx0XHRleHRyYToge1xuXHRcdFx0XHRcIi4vdHlwZXMvY3NzLXByb3BcIjogXCIuL3R5cGVzL2Nzcy1wcm9wLmQudHNcIixcblx0XHRcdFx0XCIuL21hY3JvXCI6IHtcblx0XHRcdFx0XHR0eXBlczoge1xuXHRcdFx0XHRcdFx0XCJpbXBvcnRcIjogXCIuL21hY3JvLmQubXRzXCIsXG5cdFx0XHRcdFx0XHRcImRlZmF1bHRcIjogXCIuL21hY3JvLmQudHNcIlxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XCJkZWZhdWx0XCI6IFwiLi9tYWNyby5qc1wiXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn07XG5cbnZhciBqc3ggPSBmdW5jdGlvbiBqc3godHlwZSwgcHJvcHMpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cztcblxuICBpZiAocHJvcHMgPT0gbnVsbCB8fCAhaGFzT3duLmNhbGwocHJvcHMsICdjc3MnKSkge1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50LmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG4gIH1cblxuICB2YXIgYXJnc0xlbmd0aCA9IGFyZ3MubGVuZ3RoO1xuICB2YXIgY3JlYXRlRWxlbWVudEFyZ0FycmF5ID0gbmV3IEFycmF5KGFyZ3NMZW5ndGgpO1xuICBjcmVhdGVFbGVtZW50QXJnQXJyYXlbMF0gPSBFbW90aW9uO1xuICBjcmVhdGVFbGVtZW50QXJnQXJyYXlbMV0gPSBjcmVhdGVFbW90aW9uUHJvcHModHlwZSwgcHJvcHMpO1xuXG4gIGZvciAodmFyIGkgPSAyOyBpIDwgYXJnc0xlbmd0aDsgaSsrKSB7XG4gICAgY3JlYXRlRWxlbWVudEFyZ0FycmF5W2ldID0gYXJnc1tpXTtcbiAgfVxuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50LmFwcGx5KG51bGwsIGNyZWF0ZUVsZW1lbnRBcmdBcnJheSk7XG59O1xuXG4oZnVuY3Rpb24gKF9qc3gpIHtcbiAgdmFyIEpTWDtcblxuICAoZnVuY3Rpb24gKF9KU1gpIHt9KShKU1ggfHwgKEpTWCA9IF9qc3guSlNYIHx8IChfanN4LkpTWCA9IHt9KSkpO1xufSkoanN4IHx8IChqc3ggPSB7fSkpO1xuXG52YXIgd2FybmVkQWJvdXRDc3NQcm9wRm9yR2xvYmFsID0gZmFsc2U7IC8vIG1haW50YWluIHBsYWNlIG92ZXIgcmVyZW5kZXJzLlxuLy8gaW5pdGlhbCByZW5kZXIgZnJvbSBicm93c2VyLCBpbnNlcnRCZWZvcmUgY29udGV4dC5zaGVldC50YWdzWzBdIG9yIGlmIGEgc3R5bGUgaGFzbid0IGJlZW4gaW5zZXJ0ZWQgdGhlcmUgeWV0LCBhcHBlbmRDaGlsZFxuLy8gaW5pdGlhbCBjbGllbnQtc2lkZSByZW5kZXIgZnJvbSBTU1IsIHVzZSBwbGFjZSBvZiBoeWRyYXRpbmcgdGFnXG5cbnZhciBHbG9iYWwgPSAvKiAjX19QVVJFX18gKi93aXRoRW1vdGlvbkNhY2hlKGZ1bmN0aW9uIChwcm9wcywgY2FjaGUpIHtcbiAgaWYgKCF3YXJuZWRBYm91dENzc1Byb3BGb3JHbG9iYWwgJiYgKCAvLyBjaGVjayBmb3IgY2xhc3NOYW1lIGFzIHdlbGwgc2luY2UgdGhlIHVzZXIgaXNcbiAgLy8gcHJvYmFibHkgdXNpbmcgdGhlIGN1c3RvbSBjcmVhdGVFbGVtZW50IHdoaWNoXG4gIC8vIG1lYW5zIGl0IHdpbGwgYmUgdHVybmVkIGludG8gYSBjbGFzc05hbWUgcHJvcFxuICAvLyBJIGRvbid0IHJlYWxseSB3YW50IHRvIGFkZCBpdCB0byB0aGUgdHlwZSBzaW5jZSBpdCBzaG91bGRuJ3QgYmUgdXNlZFxuICAnY2xhc3NOYW1lJyBpbiBwcm9wcyAmJiBwcm9wcy5jbGFzc05hbWUgfHwgJ2NzcycgaW4gcHJvcHMgJiYgcHJvcHMuY3NzKSkge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJJdCBsb29rcyBsaWtlIHlvdSdyZSB1c2luZyB0aGUgY3NzIHByb3Agb24gR2xvYmFsLCBkaWQgeW91IG1lYW4gdG8gdXNlIHRoZSBzdHlsZXMgcHJvcCBpbnN0ZWFkP1wiKTtcbiAgICB3YXJuZWRBYm91dENzc1Byb3BGb3JHbG9iYWwgPSB0cnVlO1xuICB9XG5cbiAgdmFyIHN0eWxlcyA9IHByb3BzLnN0eWxlcztcbiAgdmFyIHNlcmlhbGl6ZWQgPSBzZXJpYWxpemVTdHlsZXMoW3N0eWxlc10sIHVuZGVmaW5lZCwgUmVhY3QudXNlQ29udGV4dChUaGVtZUNvbnRleHQpKTtcbiAgLy8gYnV0IGl0IGlzIGJhc2VkIG9uIGEgY29uc3RhbnQgdGhhdCB3aWxsIG5ldmVyIGNoYW5nZSBhdCBydW50aW1lXG4gIC8vIGl0J3MgZWZmZWN0aXZlbHkgbGlrZSBoYXZpbmcgdHdvIGltcGxlbWVudGF0aW9ucyBhbmQgc3dpdGNoaW5nIHRoZW0gb3V0XG4gIC8vIHNvIGl0J3Mgbm90IGFjdHVhbGx5IGJyZWFraW5nIGFueXRoaW5nXG5cblxuICB2YXIgc2hlZXRSZWYgPSBSZWFjdC51c2VSZWYoKTtcbiAgdXNlSW5zZXJ0aW9uRWZmZWN0V2l0aExheW91dEZhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIga2V5ID0gY2FjaGUua2V5ICsgXCItZ2xvYmFsXCI7IC8vIHVzZSBjYXNlIG9mIGh0dHBzOi8vZ2l0aHViLmNvbS9lbW90aW9uLWpzL2Vtb3Rpb24vaXNzdWVzLzI2NzVcblxuICAgIHZhciBzaGVldCA9IG5ldyBjYWNoZS5zaGVldC5jb25zdHJ1Y3Rvcih7XG4gICAgICBrZXk6IGtleSxcbiAgICAgIG5vbmNlOiBjYWNoZS5zaGVldC5ub25jZSxcbiAgICAgIGNvbnRhaW5lcjogY2FjaGUuc2hlZXQuY29udGFpbmVyLFxuICAgICAgc3BlZWR5OiBjYWNoZS5zaGVldC5pc1NwZWVkeVxuICAgIH0pO1xuICAgIHZhciByZWh5ZHJhdGluZyA9IGZhbHNlO1xuICAgIHZhciBub2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcInN0eWxlW2RhdGEtZW1vdGlvbj1cXFwiXCIgKyBrZXkgKyBcIiBcIiArIHNlcmlhbGl6ZWQubmFtZSArIFwiXFxcIl1cIik7XG5cbiAgICBpZiAoY2FjaGUuc2hlZXQudGFncy5sZW5ndGgpIHtcbiAgICAgIHNoZWV0LmJlZm9yZSA9IGNhY2hlLnNoZWV0LnRhZ3NbMF07XG4gICAgfVxuXG4gICAgaWYgKG5vZGUgIT09IG51bGwpIHtcbiAgICAgIHJlaHlkcmF0aW5nID0gdHJ1ZTsgLy8gY2xlYXIgdGhlIGhhc2ggc28gdGhpcyBub2RlIHdvbid0IGJlIHJlY29nbml6YWJsZSBhcyByZWh5ZHJhdGFibGUgYnkgb3RoZXIgPEdsb2JhbC8+c1xuXG4gICAgICBub2RlLnNldEF0dHJpYnV0ZSgnZGF0YS1lbW90aW9uJywga2V5KTtcbiAgICAgIHNoZWV0Lmh5ZHJhdGUoW25vZGVdKTtcbiAgICB9XG5cbiAgICBzaGVldFJlZi5jdXJyZW50ID0gW3NoZWV0LCByZWh5ZHJhdGluZ107XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHNoZWV0LmZsdXNoKCk7XG4gICAgfTtcbiAgfSwgW2NhY2hlXSk7XG4gIHVzZUluc2VydGlvbkVmZmVjdFdpdGhMYXlvdXRGYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNoZWV0UmVmQ3VycmVudCA9IHNoZWV0UmVmLmN1cnJlbnQ7XG4gICAgdmFyIHNoZWV0ID0gc2hlZXRSZWZDdXJyZW50WzBdLFxuICAgICAgICByZWh5ZHJhdGluZyA9IHNoZWV0UmVmQ3VycmVudFsxXTtcblxuICAgIGlmIChyZWh5ZHJhdGluZykge1xuICAgICAgc2hlZXRSZWZDdXJyZW50WzFdID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHNlcmlhbGl6ZWQubmV4dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBpbnNlcnQga2V5ZnJhbWVzXG4gICAgICBpbnNlcnRTdHlsZXMoY2FjaGUsIHNlcmlhbGl6ZWQubmV4dCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgaWYgKHNoZWV0LnRhZ3MubGVuZ3RoKSB7XG4gICAgICAvLyBpZiB0aGlzIGRvZXNuJ3QgZXhpc3QgdGhlbiBpdCB3aWxsIGJlIG51bGwgc28gdGhlIHN0eWxlIGVsZW1lbnQgd2lsbCBiZSBhcHBlbmRlZFxuICAgICAgdmFyIGVsZW1lbnQgPSBzaGVldC50YWdzW3NoZWV0LnRhZ3MubGVuZ3RoIC0gMV0ubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgc2hlZXQuYmVmb3JlID0gZWxlbWVudDtcbiAgICAgIHNoZWV0LmZsdXNoKCk7XG4gICAgfVxuXG4gICAgY2FjaGUuaW5zZXJ0KFwiXCIsIHNlcmlhbGl6ZWQsIHNoZWV0LCBmYWxzZSk7XG4gIH0sIFtjYWNoZSwgc2VyaWFsaXplZC5uYW1lXSk7XG4gIHJldHVybiBudWxsO1xufSk7XG5cbntcbiAgR2xvYmFsLmRpc3BsYXlOYW1lID0gJ0Vtb3Rpb25HbG9iYWwnO1xufVxuXG5mdW5jdGlvbiBjc3MoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gc2VyaWFsaXplU3R5bGVzKGFyZ3MpO1xufVxuXG5mdW5jdGlvbiBrZXlmcmFtZXMoKSB7XG4gIHZhciBpbnNlcnRhYmxlID0gY3NzLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgdmFyIG5hbWUgPSBcImFuaW1hdGlvbi1cIiArIGluc2VydGFibGUubmFtZTtcbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBuYW1lLFxuICAgIHN0eWxlczogXCJAa2V5ZnJhbWVzIFwiICsgbmFtZSArIFwie1wiICsgaW5zZXJ0YWJsZS5zdHlsZXMgKyBcIn1cIixcbiAgICBhbmltOiAxLFxuICAgIHRvU3RyaW5nOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgIHJldHVybiBcIl9FTU9fXCIgKyB0aGlzLm5hbWUgKyBcIl9cIiArIHRoaXMuc3R5bGVzICsgXCJfRU1PX1wiO1xuICAgIH1cbiAgfTtcbn1cblxudmFyIGNsYXNzbmFtZXMgPSBmdW5jdGlvbiBjbGFzc25hbWVzKGFyZ3MpIHtcbiAgdmFyIGxlbiA9IGFyZ3MubGVuZ3RoO1xuICB2YXIgaSA9IDA7XG4gIHZhciBjbHMgPSAnJztcblxuICBmb3IgKDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIGFyZyA9IGFyZ3NbaV07XG4gICAgaWYgKGFyZyA9PSBudWxsKSBjb250aW51ZTtcbiAgICB2YXIgdG9BZGQgPSB2b2lkIDA7XG5cbiAgICBzd2l0Y2ggKHR5cGVvZiBhcmcpIHtcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAge1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcbiAgICAgICAgICAgIHRvQWRkID0gY2xhc3NuYW1lcyhhcmcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoYXJnLnN0eWxlcyAhPT0gdW5kZWZpbmVkICYmIGFyZy5uYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignWW91IGhhdmUgcGFzc2VkIHN0eWxlcyBjcmVhdGVkIHdpdGggYGNzc2AgZnJvbSBgQGVtb3Rpb24vcmVhY3RgIHBhY2thZ2UgdG8gdGhlIGBjeGAuXFxuJyArICdgY3hgIGlzIG1lYW50IHRvIGNvbXBvc2UgY2xhc3MgbmFtZXMgKHN0cmluZ3MpIHNvIHlvdSBzaG91bGQgY29udmVydCB0aG9zZSBzdHlsZXMgdG8gYSBjbGFzcyBuYW1lIGJ5IHBhc3NpbmcgdGhlbSB0byB0aGUgYGNzc2AgcmVjZWl2ZWQgZnJvbSA8Q2xhc3NOYW1lcy8+IGNvbXBvbmVudC4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdG9BZGQgPSAnJztcblxuICAgICAgICAgICAgZm9yICh2YXIgayBpbiBhcmcpIHtcbiAgICAgICAgICAgICAgaWYgKGFyZ1trXSAmJiBrKSB7XG4gICAgICAgICAgICAgICAgdG9BZGQgJiYgKHRvQWRkICs9ICcgJyk7XG4gICAgICAgICAgICAgICAgdG9BZGQgKz0gaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHtcbiAgICAgICAgICB0b0FkZCA9IGFyZztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0b0FkZCkge1xuICAgICAgY2xzICYmIChjbHMgKz0gJyAnKTtcbiAgICAgIGNscyArPSB0b0FkZDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY2xzO1xufTtcblxuZnVuY3Rpb24gbWVyZ2UocmVnaXN0ZXJlZCwgY3NzLCBjbGFzc05hbWUpIHtcbiAgdmFyIHJlZ2lzdGVyZWRTdHlsZXMgPSBbXTtcbiAgdmFyIHJhd0NsYXNzTmFtZSA9IGdldFJlZ2lzdGVyZWRTdHlsZXMocmVnaXN0ZXJlZCwgcmVnaXN0ZXJlZFN0eWxlcywgY2xhc3NOYW1lKTtcblxuICBpZiAocmVnaXN0ZXJlZFN0eWxlcy5sZW5ndGggPCAyKSB7XG4gICAgcmV0dXJuIGNsYXNzTmFtZTtcbiAgfVxuXG4gIHJldHVybiByYXdDbGFzc05hbWUgKyBjc3MocmVnaXN0ZXJlZFN0eWxlcyk7XG59XG5cbnZhciBJbnNlcnRpb24gPSBmdW5jdGlvbiBJbnNlcnRpb24oX3JlZikge1xuICB2YXIgY2FjaGUgPSBfcmVmLmNhY2hlLFxuICAgICAgc2VyaWFsaXplZEFyciA9IF9yZWYuc2VyaWFsaXplZEFycjtcbiAgdXNlSW5zZXJ0aW9uRWZmZWN0QWx3YXlzV2l0aFN5bmNGYWxsYmFjayhmdW5jdGlvbiAoKSB7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlcmlhbGl6ZWRBcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgIGluc2VydFN0eWxlcyhjYWNoZSwgc2VyaWFsaXplZEFycltpXSwgZmFsc2UpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIG51bGw7XG59O1xuXG52YXIgQ2xhc3NOYW1lcyA9IC8qICNfX1BVUkVfXyAqL3dpdGhFbW90aW9uQ2FjaGUoZnVuY3Rpb24gKHByb3BzLCBjYWNoZSkge1xuICB2YXIgaGFzUmVuZGVyZWQgPSBmYWxzZTtcbiAgdmFyIHNlcmlhbGl6ZWRBcnIgPSBbXTtcblxuICB2YXIgY3NzID0gZnVuY3Rpb24gY3NzKCkge1xuICAgIGlmIChoYXNSZW5kZXJlZCAmJiBpc0RldmVsb3BtZW50KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NzcyBjYW4gb25seSBiZSB1c2VkIGR1cmluZyByZW5kZXInKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgdmFyIHNlcmlhbGl6ZWQgPSBzZXJpYWxpemVTdHlsZXMoYXJncywgY2FjaGUucmVnaXN0ZXJlZCk7XG4gICAgc2VyaWFsaXplZEFyci5wdXNoKHNlcmlhbGl6ZWQpOyAvLyByZWdpc3RyYXRpb24gaGFzIHRvIGhhcHBlbiBoZXJlIGFzIHRoZSByZXN1bHQgb2YgdGhpcyBtaWdodCBnZXQgY29uc3VtZWQgYnkgYGN4YFxuXG4gICAgcmVnaXN0ZXJTdHlsZXMoY2FjaGUsIHNlcmlhbGl6ZWQsIGZhbHNlKTtcbiAgICByZXR1cm4gY2FjaGUua2V5ICsgXCItXCIgKyBzZXJpYWxpemVkLm5hbWU7XG4gIH07XG5cbiAgdmFyIGN4ID0gZnVuY3Rpb24gY3goKSB7XG4gICAgaWYgKGhhc1JlbmRlcmVkICYmIGlzRGV2ZWxvcG1lbnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY3ggY2FuIG9ubHkgYmUgdXNlZCBkdXJpbmcgcmVuZGVyJyk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lcmdlKGNhY2hlLnJlZ2lzdGVyZWQsIGNzcywgY2xhc3NuYW1lcyhhcmdzKSk7XG4gIH07XG5cbiAgdmFyIGNvbnRlbnQgPSB7XG4gICAgY3NzOiBjc3MsXG4gICAgY3g6IGN4LFxuICAgIHRoZW1lOiBSZWFjdC51c2VDb250ZXh0KFRoZW1lQ29udGV4dClcbiAgfTtcbiAgdmFyIGVsZSA9IHByb3BzLmNoaWxkcmVuKGNvbnRlbnQpO1xuICBoYXNSZW5kZXJlZCA9IHRydWU7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoSW5zZXJ0aW9uLCB7XG4gICAgY2FjaGU6IGNhY2hlLFxuICAgIHNlcmlhbGl6ZWRBcnI6IHNlcmlhbGl6ZWRBcnJcbiAgfSksIGVsZSk7XG59KTtcblxue1xuICBDbGFzc05hbWVzLmRpc3BsYXlOYW1lID0gJ0Vtb3Rpb25DbGFzc05hbWVzJztcbn1cblxue1xuICB2YXIgaXNCcm93c2VyID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJzsgLy8gIzE3MjcsICMyOTA1IGZvciBzb21lIHJlYXNvbiBKZXN0IGFuZCBWaXRlc3QgZXZhbHVhdGUgbW9kdWxlcyB0d2ljZSBpZiBzb21lIGNvbnN1bWluZyBtb2R1bGUgZ2V0cyBtb2NrZWRcblxuICB2YXIgaXNUZXN0RW52ID0gdHlwZW9mIGplc3QgIT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiB2aSAhPT0gJ3VuZGVmaW5lZCc7XG5cbiAgaWYgKGlzQnJvd3NlciAmJiAhaXNUZXN0RW52KSB7XG4gICAgLy8gZ2xvYmFsVGhpcyBoYXMgd2lkZSBicm93c2VyIHN1cHBvcnQgLSBodHRwczovL2Nhbml1c2UuY29tLz9zZWFyY2g9Z2xvYmFsVGhpcywgTm9kZS5qcyAxMiBhbmQgbGF0ZXJcbiAgICB2YXIgZ2xvYmFsQ29udGV4dCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuICAgIDogaXNCcm93c2VyID8gd2luZG93IDogZ2xvYmFsO1xuICAgIHZhciBnbG9iYWxLZXkgPSBcIl9fRU1PVElPTl9SRUFDVF9cIiArIHBrZy52ZXJzaW9uLnNwbGl0KCcuJylbMF0gKyBcIl9fXCI7XG5cbiAgICBpZiAoZ2xvYmFsQ29udGV4dFtnbG9iYWxLZXldKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1lvdSBhcmUgbG9hZGluZyBAZW1vdGlvbi9yZWFjdCB3aGVuIGl0IGlzIGFscmVhZHkgbG9hZGVkLiBSdW5uaW5nICcgKyAnbXVsdGlwbGUgaW5zdGFuY2VzIG1heSBjYXVzZSBwcm9ibGVtcy4gVGhpcyBjYW4gaGFwcGVuIGlmIG11bHRpcGxlICcgKyAndmVyc2lvbnMgYXJlIHVzZWQsIG9yIGlmIG11bHRpcGxlIGJ1aWxkcyBvZiB0aGUgc2FtZSB2ZXJzaW9uIGFyZSAnICsgJ3VzZWQuJyk7XG4gICAgfVxuXG4gICAgZ2xvYmFsQ29udGV4dFtnbG9iYWxLZXldID0gdHJ1ZTtcbiAgfVxufVxuXG5leHBvcnQgeyBDbGFzc05hbWVzLCBHbG9iYWwsIGpzeCBhcyBjcmVhdGVFbGVtZW50LCBjc3MsIGpzeCwga2V5ZnJhbWVzIH07XG4iLAogICAgImltcG9ydCBfZXh0ZW5kcyBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzJztcbmltcG9ydCB7IHdpdGhFbW90aW9uQ2FjaGUsIFRoZW1lQ29udGV4dCB9IGZyb20gJ0BlbW90aW9uL3JlYWN0JztcbmltcG9ydCB7IHNlcmlhbGl6ZVN0eWxlcyB9IGZyb20gJ0BlbW90aW9uL3NlcmlhbGl6ZSc7XG5pbXBvcnQgeyB1c2VJbnNlcnRpb25FZmZlY3RBbHdheXNXaXRoU3luY0ZhbGxiYWNrIH0gZnJvbSAnQGVtb3Rpb24vdXNlLWluc2VydGlvbi1lZmZlY3Qtd2l0aC1mYWxsYmFja3MnO1xuaW1wb3J0IHsgZ2V0UmVnaXN0ZXJlZFN0eWxlcywgcmVnaXN0ZXJTdHlsZXMsIGluc2VydFN0eWxlcyB9IGZyb20gJ0BlbW90aW9uL3V0aWxzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBpc1Byb3BWYWxpZCBmcm9tICdAZW1vdGlvbi9pcy1wcm9wLXZhbGlkJztcblxudmFyIGlzRGV2ZWxvcG1lbnQgPSB0cnVlO1xuXG52YXIgdGVzdE9taXRQcm9wc09uU3RyaW5nVGFnID0gaXNQcm9wVmFsaWQ7XG5cbnZhciB0ZXN0T21pdFByb3BzT25Db21wb25lbnQgPSBmdW5jdGlvbiB0ZXN0T21pdFByb3BzT25Db21wb25lbnQoa2V5KSB7XG4gIHJldHVybiBrZXkgIT09ICd0aGVtZSc7XG59O1xuXG52YXIgZ2V0RGVmYXVsdFNob3VsZEZvcndhcmRQcm9wID0gZnVuY3Rpb24gZ2V0RGVmYXVsdFNob3VsZEZvcndhcmRQcm9wKHRhZykge1xuICByZXR1cm4gdHlwZW9mIHRhZyA9PT0gJ3N0cmluZycgJiYgLy8gOTYgaXMgb25lIGxlc3MgdGhhbiB0aGUgY2hhciBjb2RlXG4gIC8vIGZvciBcImFcIiBzbyB0aGlzIGlzIGNoZWNraW5nIHRoYXRcbiAgLy8gaXQncyBhIGxvd2VyY2FzZSBjaGFyYWN0ZXJcbiAgdGFnLmNoYXJDb2RlQXQoMCkgPiA5NiA/IHRlc3RPbWl0UHJvcHNPblN0cmluZ1RhZyA6IHRlc3RPbWl0UHJvcHNPbkNvbXBvbmVudDtcbn07XG52YXIgY29tcG9zZVNob3VsZEZvcndhcmRQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvc2VTaG91bGRGb3J3YXJkUHJvcHModGFnLCBvcHRpb25zLCBpc1JlYWwpIHtcbiAgdmFyIHNob3VsZEZvcndhcmRQcm9wO1xuXG4gIGlmIChvcHRpb25zKSB7XG4gICAgdmFyIG9wdGlvbnNTaG91bGRGb3J3YXJkUHJvcCA9IG9wdGlvbnMuc2hvdWxkRm9yd2FyZFByb3A7XG4gICAgc2hvdWxkRm9yd2FyZFByb3AgPSB0YWcuX19lbW90aW9uX2ZvcndhcmRQcm9wICYmIG9wdGlvbnNTaG91bGRGb3J3YXJkUHJvcCA/IGZ1bmN0aW9uIChwcm9wTmFtZSkge1xuICAgICAgcmV0dXJuIHRhZy5fX2Vtb3Rpb25fZm9yd2FyZFByb3AocHJvcE5hbWUpICYmIG9wdGlvbnNTaG91bGRGb3J3YXJkUHJvcChwcm9wTmFtZSk7XG4gICAgfSA6IG9wdGlvbnNTaG91bGRGb3J3YXJkUHJvcDtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygc2hvdWxkRm9yd2FyZFByb3AgIT09ICdmdW5jdGlvbicgJiYgaXNSZWFsKSB7XG4gICAgc2hvdWxkRm9yd2FyZFByb3AgPSB0YWcuX19lbW90aW9uX2ZvcndhcmRQcm9wO1xuICB9XG5cbiAgcmV0dXJuIHNob3VsZEZvcndhcmRQcm9wO1xufTtcblxudmFyIElMTEVHQUxfRVNDQVBFX1NFUVVFTkNFX0VSUk9SID0gXCJZb3UgaGF2ZSBpbGxlZ2FsIGVzY2FwZSBzZXF1ZW5jZSBpbiB5b3VyIHRlbXBsYXRlIGxpdGVyYWwsIG1vc3QgbGlrZWx5IGluc2lkZSBjb250ZW50J3MgcHJvcGVydHkgdmFsdWUuXFxuQmVjYXVzZSB5b3Ugd3JpdGUgeW91ciBDU1MgaW5zaWRlIGEgSmF2YVNjcmlwdCBzdHJpbmcgeW91IGFjdHVhbGx5IGhhdmUgdG8gZG8gZG91YmxlIGVzY2FwaW5nLCBzbyBmb3IgZXhhbXBsZSBcXFwiY29udGVudDogJ1xcXFwwMGQ3JztcXFwiIHNob3VsZCBiZWNvbWUgXFxcImNvbnRlbnQ6ICdcXFxcXFxcXDAwZDcnO1xcXCIuXFxuWW91IGNhbiByZWFkIG1vcmUgYWJvdXQgdGhpcyBoZXJlOlxcbmh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL1RlbXBsYXRlX2xpdGVyYWxzI0VTMjAxOF9yZXZpc2lvbl9vZl9pbGxlZ2FsX2VzY2FwZV9zZXF1ZW5jZXNcIjtcblxudmFyIEluc2VydGlvbiA9IGZ1bmN0aW9uIEluc2VydGlvbihfcmVmKSB7XG4gIHZhciBjYWNoZSA9IF9yZWYuY2FjaGUsXG4gICAgICBzZXJpYWxpemVkID0gX3JlZi5zZXJpYWxpemVkLFxuICAgICAgaXNTdHJpbmdUYWcgPSBfcmVmLmlzU3RyaW5nVGFnO1xuICByZWdpc3RlclN0eWxlcyhjYWNoZSwgc2VyaWFsaXplZCwgaXNTdHJpbmdUYWcpO1xuICB1c2VJbnNlcnRpb25FZmZlY3RBbHdheXNXaXRoU3luY0ZhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gaW5zZXJ0U3R5bGVzKGNhY2hlLCBzZXJpYWxpemVkLCBpc1N0cmluZ1RhZyk7XG4gIH0pO1xuXG4gIHJldHVybiBudWxsO1xufTtcblxudmFyIGNyZWF0ZVN0eWxlZCA9IGZ1bmN0aW9uIGNyZWF0ZVN0eWxlZCh0YWcsIG9wdGlvbnMpIHtcbiAge1xuICAgIGlmICh0YWcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgYXJlIHRyeWluZyB0byBjcmVhdGUgYSBzdHlsZWQgZWxlbWVudCB3aXRoIGFuIHVuZGVmaW5lZCBjb21wb25lbnQuXFxuWW91IG1heSBoYXZlIGZvcmdvdHRlbiB0byBpbXBvcnQgaXQuJyk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGlzUmVhbCA9IHRhZy5fX2Vtb3Rpb25fcmVhbCA9PT0gdGFnO1xuICB2YXIgYmFzZVRhZyA9IGlzUmVhbCAmJiB0YWcuX19lbW90aW9uX2Jhc2UgfHwgdGFnO1xuICB2YXIgaWRlbnRpZmllck5hbWU7XG4gIHZhciB0YXJnZXRDbGFzc05hbWU7XG5cbiAgaWYgKG9wdGlvbnMgIT09IHVuZGVmaW5lZCkge1xuICAgIGlkZW50aWZpZXJOYW1lID0gb3B0aW9ucy5sYWJlbDtcbiAgICB0YXJnZXRDbGFzc05hbWUgPSBvcHRpb25zLnRhcmdldDtcbiAgfVxuXG4gIHZhciBzaG91bGRGb3J3YXJkUHJvcCA9IGNvbXBvc2VTaG91bGRGb3J3YXJkUHJvcHModGFnLCBvcHRpb25zLCBpc1JlYWwpO1xuICB2YXIgZGVmYXVsdFNob3VsZEZvcndhcmRQcm9wID0gc2hvdWxkRm9yd2FyZFByb3AgfHwgZ2V0RGVmYXVsdFNob3VsZEZvcndhcmRQcm9wKGJhc2VUYWcpO1xuICB2YXIgc2hvdWxkVXNlQXMgPSAhZGVmYXVsdFNob3VsZEZvcndhcmRQcm9wKCdhcycpO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICB2YXIgc3R5bGVzID0gaXNSZWFsICYmIHRhZy5fX2Vtb3Rpb25fc3R5bGVzICE9PSB1bmRlZmluZWQgPyB0YWcuX19lbW90aW9uX3N0eWxlcy5zbGljZSgwKSA6IFtdO1xuXG4gICAgaWYgKGlkZW50aWZpZXJOYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHN0eWxlcy5wdXNoKFwibGFiZWw6XCIgKyBpZGVudGlmaWVyTmFtZSArIFwiO1wiKTtcbiAgICB9XG5cbiAgICBpZiAoYXJnc1swXSA9PSBudWxsIHx8IGFyZ3NbMF0ucmF3ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItc3ByZWFkXG4gICAgICBzdHlsZXMucHVzaC5hcHBseShzdHlsZXMsIGFyZ3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdGVtcGxhdGVTdHJpbmdzQXJyID0gYXJnc1swXTtcblxuICAgICAgaWYgKHRlbXBsYXRlU3RyaW5nc0FyclswXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoSUxMRUdBTF9FU0NBUEVfU0VRVUVOQ0VfRVJST1IpO1xuICAgICAgfVxuXG4gICAgICBzdHlsZXMucHVzaCh0ZW1wbGF0ZVN0cmluZ3NBcnJbMF0pO1xuICAgICAgdmFyIGxlbiA9IGFyZ3MubGVuZ3RoO1xuICAgICAgdmFyIGkgPSAxO1xuXG4gICAgICBmb3IgKDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmICh0ZW1wbGF0ZVN0cmluZ3NBcnJbaV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoSUxMRUdBTF9FU0NBUEVfU0VRVUVOQ0VfRVJST1IpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3R5bGVzLnB1c2goYXJnc1tpXSwgdGVtcGxhdGVTdHJpbmdzQXJyW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgU3R5bGVkID0gd2l0aEVtb3Rpb25DYWNoZShmdW5jdGlvbiAocHJvcHMsIGNhY2hlLCByZWYpIHtcbiAgICAgIHZhciBGaW5hbFRhZyA9IHNob3VsZFVzZUFzICYmIHByb3BzLmFzIHx8IGJhc2VUYWc7XG4gICAgICB2YXIgY2xhc3NOYW1lID0gJyc7XG4gICAgICB2YXIgY2xhc3NJbnRlcnBvbGF0aW9ucyA9IFtdO1xuICAgICAgdmFyIG1lcmdlZFByb3BzID0gcHJvcHM7XG5cbiAgICAgIGlmIChwcm9wcy50aGVtZSA9PSBudWxsKSB7XG4gICAgICAgIG1lcmdlZFByb3BzID0ge307XG5cbiAgICAgICAgZm9yICh2YXIga2V5IGluIHByb3BzKSB7XG4gICAgICAgICAgbWVyZ2VkUHJvcHNba2V5XSA9IHByb3BzW2tleV07XG4gICAgICAgIH1cblxuICAgICAgICBtZXJnZWRQcm9wcy50aGVtZSA9IFJlYWN0LnVzZUNvbnRleHQoVGhlbWVDb250ZXh0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBwcm9wcy5jbGFzc05hbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNsYXNzTmFtZSA9IGdldFJlZ2lzdGVyZWRTdHlsZXMoY2FjaGUucmVnaXN0ZXJlZCwgY2xhc3NJbnRlcnBvbGF0aW9ucywgcHJvcHMuY2xhc3NOYW1lKTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcHMuY2xhc3NOYW1lICE9IG51bGwpIHtcbiAgICAgICAgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lICsgXCIgXCI7XG4gICAgICB9XG5cbiAgICAgIHZhciBzZXJpYWxpemVkID0gc2VyaWFsaXplU3R5bGVzKHN0eWxlcy5jb25jYXQoY2xhc3NJbnRlcnBvbGF0aW9ucyksIGNhY2hlLnJlZ2lzdGVyZWQsIG1lcmdlZFByb3BzKTtcbiAgICAgIGNsYXNzTmFtZSArPSBjYWNoZS5rZXkgKyBcIi1cIiArIHNlcmlhbGl6ZWQubmFtZTtcblxuICAgICAgaWYgKHRhcmdldENsYXNzTmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNsYXNzTmFtZSArPSBcIiBcIiArIHRhcmdldENsYXNzTmFtZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGZpbmFsU2hvdWxkRm9yd2FyZFByb3AgPSBzaG91bGRVc2VBcyAmJiBzaG91bGRGb3J3YXJkUHJvcCA9PT0gdW5kZWZpbmVkID8gZ2V0RGVmYXVsdFNob3VsZEZvcndhcmRQcm9wKEZpbmFsVGFnKSA6IGRlZmF1bHRTaG91bGRGb3J3YXJkUHJvcDtcbiAgICAgIHZhciBuZXdQcm9wcyA9IHt9O1xuXG4gICAgICBmb3IgKHZhciBfa2V5IGluIHByb3BzKSB7XG4gICAgICAgIGlmIChzaG91bGRVc2VBcyAmJiBfa2V5ID09PSAnYXMnKSBjb250aW51ZTtcblxuICAgICAgICBpZiAoZmluYWxTaG91bGRGb3J3YXJkUHJvcChfa2V5KSkge1xuICAgICAgICAgIG5ld1Byb3BzW19rZXldID0gcHJvcHNbX2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbmV3UHJvcHMuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuXG4gICAgICBpZiAocmVmKSB7XG4gICAgICAgIG5ld1Byb3BzLnJlZiA9IHJlZjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChJbnNlcnRpb24sIHtcbiAgICAgICAgY2FjaGU6IGNhY2hlLFxuICAgICAgICBzZXJpYWxpemVkOiBzZXJpYWxpemVkLFxuICAgICAgICBpc1N0cmluZ1RhZzogdHlwZW9mIEZpbmFsVGFnID09PSAnc3RyaW5nJ1xuICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZpbmFsVGFnLCBuZXdQcm9wcykpO1xuICAgIH0pO1xuICAgIFN0eWxlZC5kaXNwbGF5TmFtZSA9IGlkZW50aWZpZXJOYW1lICE9PSB1bmRlZmluZWQgPyBpZGVudGlmaWVyTmFtZSA6IFwiU3R5bGVkKFwiICsgKHR5cGVvZiBiYXNlVGFnID09PSAnc3RyaW5nJyA/IGJhc2VUYWcgOiBiYXNlVGFnLmRpc3BsYXlOYW1lIHx8IGJhc2VUYWcubmFtZSB8fCAnQ29tcG9uZW50JykgKyBcIilcIjtcbiAgICBTdHlsZWQuZGVmYXVsdFByb3BzID0gdGFnLmRlZmF1bHRQcm9wcztcbiAgICBTdHlsZWQuX19lbW90aW9uX3JlYWwgPSBTdHlsZWQ7XG4gICAgU3R5bGVkLl9fZW1vdGlvbl9iYXNlID0gYmFzZVRhZztcbiAgICBTdHlsZWQuX19lbW90aW9uX3N0eWxlcyA9IHN0eWxlcztcbiAgICBTdHlsZWQuX19lbW90aW9uX2ZvcndhcmRQcm9wID0gc2hvdWxkRm9yd2FyZFByb3A7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0eWxlZCwgJ3RvU3RyaW5nJywge1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkge1xuICAgICAgICBpZiAodGFyZ2V0Q2xhc3NOYW1lID09PSB1bmRlZmluZWQgJiYgaXNEZXZlbG9wbWVudCkge1xuICAgICAgICAgIHJldHVybiAnTk9fQ09NUE9ORU5UX1NFTEVDVE9SJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBcIi5cIiArIHRhcmdldENsYXNzTmFtZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIFN0eWxlZC53aXRoQ29tcG9uZW50ID0gZnVuY3Rpb24gKG5leHRUYWcsIG5leHRPcHRpb25zKSB7XG4gICAgICB2YXIgbmV3U3R5bGVkID0gY3JlYXRlU3R5bGVkKG5leHRUYWcsIF9leHRlbmRzKHt9LCBvcHRpb25zLCBuZXh0T3B0aW9ucywge1xuICAgICAgICBzaG91bGRGb3J3YXJkUHJvcDogY29tcG9zZVNob3VsZEZvcndhcmRQcm9wcyhTdHlsZWQsIG5leHRPcHRpb25zLCB0cnVlKVxuICAgICAgfSkpO1xuICAgICAgcmV0dXJuIG5ld1N0eWxlZC5hcHBseSh2b2lkIDAsIHN0eWxlcyk7XG4gICAgfTtcblxuICAgIHJldHVybiBTdHlsZWQ7XG4gIH07XG59O1xuXG5leHBvcnQgeyBjcmVhdGVTdHlsZWQgYXMgZGVmYXVsdCB9O1xuIiwKICAgICJpbXBvcnQgbWVtb2l6ZSBmcm9tICdAZW1vdGlvbi9tZW1vaXplJztcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG52YXIgcmVhY3RQcm9wc1JlZ2V4ID0gL14oKGNoaWxkcmVufGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MfGtleXxyZWZ8YXV0b0ZvY3VzfGRlZmF1bHRWYWx1ZXxkZWZhdWx0Q2hlY2tlZHxpbm5lckhUTUx8c3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nfHN1cHByZXNzSHlkcmF0aW9uV2FybmluZ3x2YWx1ZUxpbmt8YWJicnxhY2NlcHR8YWNjZXB0Q2hhcnNldHxhY2Nlc3NLZXl8YWN0aW9ufGFsbG93fGFsbG93VXNlck1lZGlhfGFsbG93UGF5bWVudFJlcXVlc3R8YWxsb3dGdWxsU2NyZWVufGFsbG93VHJhbnNwYXJlbmN5fGFsdHxhc3luY3xhdXRvQ29tcGxldGV8YXV0b1BsYXl8Y2FwdHVyZXxjZWxsUGFkZGluZ3xjZWxsU3BhY2luZ3xjaGFsbGVuZ2V8Y2hhclNldHxjaGVja2VkfGNpdGV8Y2xhc3NJRHxjbGFzc05hbWV8Y29sc3xjb2xTcGFufGNvbnRlbnR8Y29udGVudEVkaXRhYmxlfGNvbnRleHRNZW51fGNvbnRyb2xzfGNvbnRyb2xzTGlzdHxjb29yZHN8Y3Jvc3NPcmlnaW58ZGF0YXxkYXRlVGltZXxkZWNvZGluZ3xkZWZhdWx0fGRlZmVyfGRpcnxkaXNhYmxlZHxkaXNhYmxlUGljdHVyZUluUGljdHVyZXxkaXNhYmxlUmVtb3RlUGxheWJhY2t8ZG93bmxvYWR8ZHJhZ2dhYmxlfGVuY1R5cGV8ZW50ZXJLZXlIaW50fGZldGNocHJpb3JpdHl8ZmV0Y2hQcmlvcml0eXxmb3JtfGZvcm1BY3Rpb258Zm9ybUVuY1R5cGV8Zm9ybU1ldGhvZHxmb3JtTm9WYWxpZGF0ZXxmb3JtVGFyZ2V0fGZyYW1lQm9yZGVyfGhlYWRlcnN8aGVpZ2h0fGhpZGRlbnxoaWdofGhyZWZ8aHJlZkxhbmd8aHRtbEZvcnxodHRwRXF1aXZ8aWR8aW5wdXRNb2RlfGludGVncml0eXxpc3xrZXlQYXJhbXN8a2V5VHlwZXxraW5kfGxhYmVsfGxhbmd8bGlzdHxsb2FkaW5nfGxvb3B8bG93fG1hcmdpbkhlaWdodHxtYXJnaW5XaWR0aHxtYXh8bWF4TGVuZ3RofG1lZGlhfG1lZGlhR3JvdXB8bWV0aG9kfG1pbnxtaW5MZW5ndGh8bXVsdGlwbGV8bXV0ZWR8bmFtZXxub25jZXxub1ZhbGlkYXRlfG9wZW58b3B0aW11bXxwYXR0ZXJufHBsYWNlaG9sZGVyfHBsYXlzSW5saW5lfHBvcG92ZXJ8cG9wb3ZlclRhcmdldHxwb3BvdmVyVGFyZ2V0QWN0aW9ufHBvc3RlcnxwcmVsb2FkfHByb2ZpbGV8cmFkaW9Hcm91cHxyZWFkT25seXxyZWZlcnJlclBvbGljeXxyZWx8cmVxdWlyZWR8cmV2ZXJzZWR8cm9sZXxyb3dzfHJvd1NwYW58c2FuZGJveHxzY29wZXxzY29wZWR8c2Nyb2xsaW5nfHNlYW1sZXNzfHNlbGVjdGVkfHNoYXBlfHNpemV8c2l6ZXN8c2xvdHxzcGFufHNwZWxsQ2hlY2t8c3JjfHNyY0RvY3xzcmNMYW5nfHNyY1NldHxzdGFydHxzdGVwfHN0eWxlfHN1bW1hcnl8dGFiSW5kZXh8dGFyZ2V0fHRpdGxlfHRyYW5zbGF0ZXx0eXBlfHVzZU1hcHx2YWx1ZXx3aWR0aHx3bW9kZXx3cmFwfGFib3V0fGRhdGF0eXBlfGlubGlzdHxwcmVmaXh8cHJvcGVydHl8cmVzb3VyY2V8dHlwZW9mfHZvY2FifGF1dG9DYXBpdGFsaXplfGF1dG9Db3JyZWN0fGF1dG9TYXZlfGNvbG9yfGluY3JlbWVudGFsfGZhbGxiYWNrfGluZXJ0fGl0ZW1Qcm9wfGl0ZW1TY29wZXxpdGVtVHlwZXxpdGVtSUR8aXRlbVJlZnxvbnxvcHRpb258cmVzdWx0c3xzZWN1cml0eXx1bnNlbGVjdGFibGV8YWNjZW50SGVpZ2h0fGFjY3VtdWxhdGV8YWRkaXRpdmV8YWxpZ25tZW50QmFzZWxpbmV8YWxsb3dSZW9yZGVyfGFscGhhYmV0aWN8YW1wbGl0dWRlfGFyYWJpY0Zvcm18YXNjZW50fGF0dHJpYnV0ZU5hbWV8YXR0cmlidXRlVHlwZXxhdXRvUmV2ZXJzZXxhemltdXRofGJhc2VGcmVxdWVuY3l8YmFzZWxpbmVTaGlmdHxiYXNlUHJvZmlsZXxiYm94fGJlZ2lufGJpYXN8Ynl8Y2FsY01vZGV8Y2FwSGVpZ2h0fGNsaXB8Y2xpcFBhdGhVbml0c3xjbGlwUGF0aHxjbGlwUnVsZXxjb2xvckludGVycG9sYXRpb258Y29sb3JJbnRlcnBvbGF0aW9uRmlsdGVyc3xjb2xvclByb2ZpbGV8Y29sb3JSZW5kZXJpbmd8Y29udGVudFNjcmlwdFR5cGV8Y29udGVudFN0eWxlVHlwZXxjdXJzb3J8Y3h8Y3l8ZHxkZWNlbGVyYXRlfGRlc2NlbnR8ZGlmZnVzZUNvbnN0YW50fGRpcmVjdGlvbnxkaXNwbGF5fGRpdmlzb3J8ZG9taW5hbnRCYXNlbGluZXxkdXJ8ZHh8ZHl8ZWRnZU1vZGV8ZWxldmF0aW9ufGVuYWJsZUJhY2tncm91bmR8ZW5kfGV4cG9uZW50fGV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWR8ZmlsbHxmaWxsT3BhY2l0eXxmaWxsUnVsZXxmaWx0ZXJ8ZmlsdGVyUmVzfGZpbHRlclVuaXRzfGZsb29kQ29sb3J8Zmxvb2RPcGFjaXR5fGZvY3VzYWJsZXxmb250RmFtaWx5fGZvbnRTaXplfGZvbnRTaXplQWRqdXN0fGZvbnRTdHJldGNofGZvbnRTdHlsZXxmb250VmFyaWFudHxmb250V2VpZ2h0fGZvcm1hdHxmcm9tfGZyfGZ4fGZ5fGcxfGcyfGdseXBoTmFtZXxnbHlwaE9yaWVudGF0aW9uSG9yaXpvbnRhbHxnbHlwaE9yaWVudGF0aW9uVmVydGljYWx8Z2x5cGhSZWZ8Z3JhZGllbnRUcmFuc2Zvcm18Z3JhZGllbnRVbml0c3xoYW5naW5nfGhvcml6QWR2WHxob3Jpek9yaWdpblh8aWRlb2dyYXBoaWN8aW1hZ2VSZW5kZXJpbmd8aW58aW4yfGludGVyY2VwdHxrfGsxfGsyfGszfGs0fGtlcm5lbE1hdHJpeHxrZXJuZWxVbml0TGVuZ3RofGtlcm5pbmd8a2V5UG9pbnRzfGtleVNwbGluZXN8a2V5VGltZXN8bGVuZ3RoQWRqdXN0fGxldHRlclNwYWNpbmd8bGlnaHRpbmdDb2xvcnxsaW1pdGluZ0NvbmVBbmdsZXxsb2NhbHxtYXJrZXJFbmR8bWFya2VyTWlkfG1hcmtlclN0YXJ0fG1hcmtlckhlaWdodHxtYXJrZXJVbml0c3xtYXJrZXJXaWR0aHxtYXNrfG1hc2tDb250ZW50VW5pdHN8bWFza1VuaXRzfG1hdGhlbWF0aWNhbHxtb2RlfG51bU9jdGF2ZXN8b2Zmc2V0fG9wYWNpdHl8b3BlcmF0b3J8b3JkZXJ8b3JpZW50fG9yaWVudGF0aW9ufG9yaWdpbnxvdmVyZmxvd3xvdmVybGluZVBvc2l0aW9ufG92ZXJsaW5lVGhpY2tuZXNzfHBhbm9zZTF8cGFpbnRPcmRlcnxwYXRoTGVuZ3RofHBhdHRlcm5Db250ZW50VW5pdHN8cGF0dGVyblRyYW5zZm9ybXxwYXR0ZXJuVW5pdHN8cG9pbnRlckV2ZW50c3xwb2ludHN8cG9pbnRzQXRYfHBvaW50c0F0WXxwb2ludHNBdFp8cHJlc2VydmVBbHBoYXxwcmVzZXJ2ZUFzcGVjdFJhdGlvfHByaW1pdGl2ZVVuaXRzfHJ8cmFkaXVzfHJlZlh8cmVmWXxyZW5kZXJpbmdJbnRlbnR8cmVwZWF0Q291bnR8cmVwZWF0RHVyfHJlcXVpcmVkRXh0ZW5zaW9uc3xyZXF1aXJlZEZlYXR1cmVzfHJlc3RhcnR8cmVzdWx0fHJvdGF0ZXxyeHxyeXxzY2FsZXxzZWVkfHNoYXBlUmVuZGVyaW5nfHNsb3BlfHNwYWNpbmd8c3BlY3VsYXJDb25zdGFudHxzcGVjdWxhckV4cG9uZW50fHNwZWVkfHNwcmVhZE1ldGhvZHxzdGFydE9mZnNldHxzdGREZXZpYXRpb258c3RlbWh8c3RlbXZ8c3RpdGNoVGlsZXN8c3RvcENvbG9yfHN0b3BPcGFjaXR5fHN0cmlrZXRocm91Z2hQb3NpdGlvbnxzdHJpa2V0aHJvdWdoVGhpY2tuZXNzfHN0cmluZ3xzdHJva2V8c3Ryb2tlRGFzaGFycmF5fHN0cm9rZURhc2hvZmZzZXR8c3Ryb2tlTGluZWNhcHxzdHJva2VMaW5lam9pbnxzdHJva2VNaXRlcmxpbWl0fHN0cm9rZU9wYWNpdHl8c3Ryb2tlV2lkdGh8c3VyZmFjZVNjYWxlfHN5c3RlbUxhbmd1YWdlfHRhYmxlVmFsdWVzfHRhcmdldFh8dGFyZ2V0WXx0ZXh0QW5jaG9yfHRleHREZWNvcmF0aW9ufHRleHRSZW5kZXJpbmd8dGV4dExlbmd0aHx0b3x0cmFuc2Zvcm18dTF8dTJ8dW5kZXJsaW5lUG9zaXRpb258dW5kZXJsaW5lVGhpY2tuZXNzfHVuaWNvZGV8dW5pY29kZUJpZGl8dW5pY29kZVJhbmdlfHVuaXRzUGVyRW18dkFscGhhYmV0aWN8dkhhbmdpbmd8dklkZW9ncmFwaGljfHZNYXRoZW1hdGljYWx8dmFsdWVzfHZlY3RvckVmZmVjdHx2ZXJzaW9ufHZlcnRBZHZZfHZlcnRPcmlnaW5YfHZlcnRPcmlnaW5ZfHZpZXdCb3h8dmlld1RhcmdldHx2aXNpYmlsaXR5fHdpZHRoc3x3b3JkU3BhY2luZ3x3cml0aW5nTW9kZXx4fHhIZWlnaHR8eDF8eDJ8eENoYW5uZWxTZWxlY3Rvcnx4bGlua0FjdHVhdGV8eGxpbmtBcmNyb2xlfHhsaW5rSHJlZnx4bGlua1JvbGV8eGxpbmtTaG93fHhsaW5rVGl0bGV8eGxpbmtUeXBlfHhtbEJhc2V8eG1sbnN8eG1sbnNYbGlua3x4bWxMYW5nfHhtbFNwYWNlfHl8eTF8eTJ8eUNoYW5uZWxTZWxlY3Rvcnx6fHpvb21BbmRQYW58Zm9yfGNsYXNzfGF1dG9mb2N1cyl8KChbRGRdW0FhXVtUdF1bQWFdfFtBYV1bUnJdW0lpXVtBYV18eCktLiopKSQvOyAvLyBodHRwczovL2VzYmVuY2guY29tL2JlbmNoLzViZmVlNjhhNGNkN2U2MDA5ZWY2MWQyM1xuXG52YXIgaXNQcm9wVmFsaWQgPSAvKiAjX19QVVJFX18gKi9tZW1vaXplKGZ1bmN0aW9uIChwcm9wKSB7XG4gIHJldHVybiByZWFjdFByb3BzUmVnZXgudGVzdChwcm9wKSB8fCBwcm9wLmNoYXJDb2RlQXQoMCkgPT09IDExMVxuICAvKiBvICovXG4gICYmIHByb3AuY2hhckNvZGVBdCgxKSA9PT0gMTEwXG4gIC8qIG4gKi9cbiAgJiYgcHJvcC5jaGFyQ29kZUF0KDIpIDwgOTE7XG59XG4vKiBaKzEgKi9cbik7XG5cbmV4cG9ydCB7IGlzUHJvcFZhbGlkIGFzIGRlZmF1bHQgfTtcbiIsCiAgICAiaW1wb3J0IGNyZWF0ZVN0eWxlZCBmcm9tICcuLi9iYXNlL2Rpc3QvZW1vdGlvbi1zdHlsZWQtYmFzZS5icm93c2VyLmRldmVsb3BtZW50LmVzbS5qcyc7XG5pbXBvcnQgJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgJ0BlbW90aW9uL3JlYWN0JztcbmltcG9ydCAnQGVtb3Rpb24vc2VyaWFsaXplJztcbmltcG9ydCAnQGVtb3Rpb24vdXNlLWluc2VydGlvbi1lZmZlY3Qtd2l0aC1mYWxsYmFja3MnO1xuaW1wb3J0ICdAZW1vdGlvbi91dGlscyc7XG5pbXBvcnQgJ3JlYWN0JztcbmltcG9ydCAnQGVtb3Rpb24vaXMtcHJvcC12YWxpZCc7XG5cbnZhciB0YWdzID0gWydhJywgJ2FiYnInLCAnYWRkcmVzcycsICdhcmVhJywgJ2FydGljbGUnLCAnYXNpZGUnLCAnYXVkaW8nLCAnYicsICdiYXNlJywgJ2JkaScsICdiZG8nLCAnYmlnJywgJ2Jsb2NrcXVvdGUnLCAnYm9keScsICdicicsICdidXR0b24nLCAnY2FudmFzJywgJ2NhcHRpb24nLCAnY2l0ZScsICdjb2RlJywgJ2NvbCcsICdjb2xncm91cCcsICdkYXRhJywgJ2RhdGFsaXN0JywgJ2RkJywgJ2RlbCcsICdkZXRhaWxzJywgJ2RmbicsICdkaWFsb2cnLCAnZGl2JywgJ2RsJywgJ2R0JywgJ2VtJywgJ2VtYmVkJywgJ2ZpZWxkc2V0JywgJ2ZpZ2NhcHRpb24nLCAnZmlndXJlJywgJ2Zvb3RlcicsICdmb3JtJywgJ2gxJywgJ2gyJywgJ2gzJywgJ2g0JywgJ2g1JywgJ2g2JywgJ2hlYWQnLCAnaGVhZGVyJywgJ2hncm91cCcsICdocicsICdodG1sJywgJ2knLCAnaWZyYW1lJywgJ2ltZycsICdpbnB1dCcsICdpbnMnLCAna2JkJywgJ2tleWdlbicsICdsYWJlbCcsICdsZWdlbmQnLCAnbGknLCAnbGluaycsICdtYWluJywgJ21hcCcsICdtYXJrJywgJ21hcnF1ZWUnLCAnbWVudScsICdtZW51aXRlbScsICdtZXRhJywgJ21ldGVyJywgJ25hdicsICdub3NjcmlwdCcsICdvYmplY3QnLCAnb2wnLCAnb3B0Z3JvdXAnLCAnb3B0aW9uJywgJ291dHB1dCcsICdwJywgJ3BhcmFtJywgJ3BpY3R1cmUnLCAncHJlJywgJ3Byb2dyZXNzJywgJ3EnLCAncnAnLCAncnQnLCAncnVieScsICdzJywgJ3NhbXAnLCAnc2NyaXB0JywgJ3NlY3Rpb24nLCAnc2VsZWN0JywgJ3NtYWxsJywgJ3NvdXJjZScsICdzcGFuJywgJ3N0cm9uZycsICdzdHlsZScsICdzdWInLCAnc3VtbWFyeScsICdzdXAnLCAndGFibGUnLCAndGJvZHknLCAndGQnLCAndGV4dGFyZWEnLCAndGZvb3QnLCAndGgnLCAndGhlYWQnLCAndGltZScsICd0aXRsZScsICd0cicsICd0cmFjaycsICd1JywgJ3VsJywgJ3ZhcicsICd2aWRlbycsICd3YnInLCAvLyBTVkdcbidjaXJjbGUnLCAnY2xpcFBhdGgnLCAnZGVmcycsICdlbGxpcHNlJywgJ2ZvcmVpZ25PYmplY3QnLCAnZycsICdpbWFnZScsICdsaW5lJywgJ2xpbmVhckdyYWRpZW50JywgJ21hc2snLCAncGF0aCcsICdwYXR0ZXJuJywgJ3BvbHlnb24nLCAncG9seWxpbmUnLCAncmFkaWFsR3JhZGllbnQnLCAncmVjdCcsICdzdG9wJywgJ3N2ZycsICd0ZXh0JywgJ3RzcGFuJ107XG5cbi8vIGJpbmQgaXQgdG8gYXZvaWQgbXV0YXRpbmcgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uXG52YXIgc3R5bGVkID0gY3JlYXRlU3R5bGVkLmJpbmQobnVsbCk7XG50YWdzLmZvckVhY2goZnVuY3Rpb24gKHRhZ05hbWUpIHtcbiAgc3R5bGVkW3RhZ05hbWVdID0gc3R5bGVkKHRhZ05hbWUpO1xufSk7XG5cbmV4cG9ydCB7IHN0eWxlZCBhcyBkZWZhdWx0IH07XG4iLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IEdsb2JhbCB9IGZyb20gJ0BlbW90aW9uL3JlYWN0JztcbmltcG9ydCB7IGpzeCBhcyBfanN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBpc0VtcHR5KG9iaikge1xuICByZXR1cm4gb2JqID09PSB1bmRlZmluZWQgfHwgb2JqID09PSBudWxsIHx8IE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSAwO1xufVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gR2xvYmFsU3R5bGVzKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBzdHlsZXMsXG4gICAgZGVmYXVsdFRoZW1lID0ge31cbiAgfSA9IHByb3BzO1xuICBjb25zdCBnbG9iYWxTdHlsZXMgPSB0eXBlb2Ygc3R5bGVzID09PSAnZnVuY3Rpb24nID8gdGhlbWVJbnB1dCA9PiBzdHlsZXMoaXNFbXB0eSh0aGVtZUlucHV0KSA/IGRlZmF1bHRUaGVtZSA6IHRoZW1lSW5wdXQpIDogc3R5bGVzO1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3goR2xvYmFsLCB7XG4gICAgc3R5bGVzOiBnbG9iYWxTdHlsZXNcbiAgfSk7XG59XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBHbG9iYWxTdHlsZXMucHJvcFR5cGVzID0ge1xuICBkZWZhdWx0VGhlbWU6IFByb3BUeXBlcy5vYmplY3QsXG4gIHN0eWxlczogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmFycmF5LCBQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMub2JqZWN0LCBQcm9wVHlwZXMuZnVuY10pXG59IDogdm9pZCAwOyIsCiAgICAiLyoqXG4gKiBAbXVpL3N0eWxlZC1lbmdpbmUgdjcuMy41XG4gKlxuICogQGxpY2Vuc2UgTUlUXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuJ3VzZSBjbGllbnQnO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlcnNjb3JlLWRhbmdsZSAqL1xuaW1wb3J0IGVtU3R5bGVkIGZyb20gJ0BlbW90aW9uL3N0eWxlZCc7XG5pbXBvcnQgeyBzZXJpYWxpemVTdHlsZXMgYXMgZW1TZXJpYWxpemVTdHlsZXMgfSBmcm9tICdAZW1vdGlvbi9zZXJpYWxpemUnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3R5bGVkKHRhZywgb3B0aW9ucykge1xuICBjb25zdCBzdHlsZXNGYWN0b3J5ID0gZW1TdHlsZWQodGFnLCBvcHRpb25zKTtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICByZXR1cm4gKC4uLnN0eWxlcykgPT4ge1xuICAgICAgY29uc3QgY29tcG9uZW50ID0gdHlwZW9mIHRhZyA9PT0gJ3N0cmluZycgPyBgXCIke3RhZ31cImAgOiAnY29tcG9uZW50JztcbiAgICAgIGlmIChzdHlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoW2BNVUk6IFNlZW1zIGxpa2UgeW91IGNhbGxlZCBcXGBzdHlsZWQoJHtjb21wb25lbnR9KSgpXFxgIHdpdGhvdXQgYSBcXGBzdHlsZVxcYCBhcmd1bWVudC5gLCAnWW91IG11c3QgcHJvdmlkZSBhIGBzdHlsZXNgIGFyZ3VtZW50OiBgc3R5bGVkKFwiZGl2XCIpKHN0eWxlWW91Rm9yZ290VG9QYXNzKWAuJ10uam9pbignXFxuJykpO1xuICAgICAgfSBlbHNlIGlmIChzdHlsZXMuc29tZShzdHlsZSA9PiBzdHlsZSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBNVUk6IHRoZSBzdHlsZWQoJHtjb21wb25lbnR9KSguLi5hcmdzKSBBUEkgcmVxdWlyZXMgYWxsIGl0cyBhcmdzIHRvIGJlIGRlZmluZWQuYCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3R5bGVzRmFjdG9yeSguLi5zdHlsZXMpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIHN0eWxlc0ZhY3Rvcnk7XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbmFtaW5nLWNvbnZlbnRpb25cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcm5hbF9tdXRhdGVTdHlsZXModGFnLCBwcm9jZXNzb3IpIHtcbiAgLy8gRW1vdGlvbiBhdHRhY2hlcyBhbGwgdGhlIHN0eWxlcyBhcyBgX19lbW90aW9uX3N0eWxlc2AuXG4gIC8vIFJlZjogaHR0cHM6Ly9naXRodWIuY29tL2Vtb3Rpb24tanMvZW1vdGlvbi9ibG9iLzE2ZDk3MWQwZGEyMjk1OTZkNmJjYzM5ZDI4MmJhOTc1M2M5ZWU3Y2YvcGFja2FnZXMvc3R5bGVkL3NyYy9iYXNlLmpzI0wxODZcbiAgaWYgKEFycmF5LmlzQXJyYXkodGFnLl9fZW1vdGlvbl9zdHlsZXMpKSB7XG4gICAgdGFnLl9fZW1vdGlvbl9zdHlsZXMgPSBwcm9jZXNzb3IodGFnLl9fZW1vdGlvbl9zdHlsZXMpO1xuICB9XG59XG5cbi8vIEVtb3Rpb24gb25seSBhY2NlcHRzIGFuIGFycmF5LCBidXQgd2Ugd2FudCB0byBhdm9pZCBhbGxvY2F0aW9uc1xuY29uc3Qgd3JhcHBlciA9IFtdO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvblxuZXhwb3J0IGZ1bmN0aW9uIGludGVybmFsX3NlcmlhbGl6ZVN0eWxlcyhzdHlsZXMpIHtcbiAgd3JhcHBlclswXSA9IHN0eWxlcztcbiAgcmV0dXJuIGVtU2VyaWFsaXplU3R5bGVzKHdyYXBwZXIpO1xufVxuZXhwb3J0IHsgVGhlbWVDb250ZXh0LCBrZXlmcmFtZXMsIGNzcyB9IGZyb20gJ0BlbW90aW9uL3JlYWN0JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgU3R5bGVkRW5naW5lUHJvdmlkZXIgfSBmcm9tIFwiLi9TdHlsZWRFbmdpbmVQcm92aWRlci9pbmRleC5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBHbG9iYWxTdHlsZXMgfSBmcm9tIFwiLi9HbG9iYWxTdHlsZXMvaW5kZXguanNcIjsiLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IEdsb2JhbFN0eWxlcyBhcyBNdWlHbG9iYWxTdHlsZXMsIGludGVybmFsX3NlcmlhbGl6ZVN0eWxlcyBhcyBzZXJpYWxpemVTdHlsZXMgfSBmcm9tICdAbXVpL3N0eWxlZC1lbmdpbmUnO1xuaW1wb3J0IHVzZVRoZW1lIGZyb20gXCIuLi91c2VUaGVtZS9pbmRleC5qc1wiO1xuaW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIHdyYXBHbG9iYWxMYXllcihzdHlsZXMpIHtcbiAgY29uc3Qgc2VyaWFsaXplZCA9IHNlcmlhbGl6ZVN0eWxlcyhzdHlsZXMpO1xuICBpZiAoc3R5bGVzICE9PSBzZXJpYWxpemVkICYmIHNlcmlhbGl6ZWQuc3R5bGVzKSB7XG4gICAgaWYgKCFzZXJpYWxpemVkLnN0eWxlcy5tYXRjaCgvXkBsYXllclxccytbXntdKiQvKSkge1xuICAgICAgLy8gSWYgdGhlIHN0eWxlcyBhcmUgbm90IGFscmVhZHkgd3JhcHBlZCBpbiBhIGxheWVyLCB3cmFwIHRoZW0gaW4gYSBnbG9iYWwgbGF5ZXIuXG4gICAgICBzZXJpYWxpemVkLnN0eWxlcyA9IGBAbGF5ZXIgZ2xvYmFseyR7c2VyaWFsaXplZC5zdHlsZXN9fWA7XG4gICAgfVxuICAgIHJldHVybiBzZXJpYWxpemVkO1xuICB9XG4gIHJldHVybiBzdHlsZXM7XG59XG5mdW5jdGlvbiBHbG9iYWxTdHlsZXMoe1xuICBzdHlsZXMsXG4gIHRoZW1lSWQsXG4gIGRlZmF1bHRUaGVtZSA9IHt9XG59KSB7XG4gIGNvbnN0IHVwcGVyVGhlbWUgPSB1c2VUaGVtZShkZWZhdWx0VGhlbWUpO1xuICBjb25zdCByZXNvbHZlZFRoZW1lID0gdGhlbWVJZCA/IHVwcGVyVGhlbWVbdGhlbWVJZF0gfHwgdXBwZXJUaGVtZSA6IHVwcGVyVGhlbWU7XG4gIGxldCBnbG9iYWxTdHlsZXMgPSB0eXBlb2Ygc3R5bGVzID09PSAnZnVuY3Rpb24nID8gc3R5bGVzKHJlc29sdmVkVGhlbWUpIDogc3R5bGVzO1xuICBpZiAocmVzb2x2ZWRUaGVtZS5tb2R1bGFyQ3NzTGF5ZXJzKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZ2xvYmFsU3R5bGVzKSkge1xuICAgICAgZ2xvYmFsU3R5bGVzID0gZ2xvYmFsU3R5bGVzLm1hcChzdHlsZUFyZyA9PiB7XG4gICAgICAgIGlmICh0eXBlb2Ygc3R5bGVBcmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICByZXR1cm4gd3JhcEdsb2JhbExheWVyKHN0eWxlQXJnKHJlc29sdmVkVGhlbWUpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JhcEdsb2JhbExheWVyKHN0eWxlQXJnKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbG9iYWxTdHlsZXMgPSB3cmFwR2xvYmFsTGF5ZXIoZ2xvYmFsU3R5bGVzKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KE11aUdsb2JhbFN0eWxlcywge1xuICAgIHN0eWxlczogZ2xvYmFsU3R5bGVzXG4gIH0pO1xufVxucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gR2xvYmFsU3R5bGVzLnByb3BUeXBlcyAvKiByZW1vdmUtcHJvcHR5cGVzICovID0ge1xuICAvLyDilIzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgV2FybmluZyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJBcbiAgLy8g4pSCIFRoZXNlIFByb3BUeXBlcyBhcmUgZ2VuZXJhdGVkIGZyb20gdGhlIFR5cGVTY3JpcHQgdHlwZSBkZWZpbml0aW9ucy4g4pSCXG4gIC8vIOKUgiBUbyB1cGRhdGUgdGhlbSwgZWRpdCB0aGUgVHlwZVNjcmlwdCB0eXBlcyBhbmQgcnVuIGBwbnBtIHByb3B0eXBlc2AuIOKUglxuICAvLyDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJhcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGRlZmF1bHRUaGVtZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIHN0eWxlczogUHJvcFR5cGVzIC8qIEB0eXBlc2NyaXB0LXRvLXByb3B0eXBlcy1pZ25vcmUgKi8ub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXksIFByb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMub2JqZWN0LCBQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuYm9vbF0pLFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgdGhlbWVJZDogUHJvcFR5cGVzLnN0cmluZ1xufSA6IHZvaWQgMDtcbmV4cG9ydCBkZWZhdWx0IEdsb2JhbFN0eWxlczsiLAogICAgIi8vIFNvcnRlZCBBU0MgYnkgc2l6ZS4gVGhhdCdzIGltcG9ydGFudC5cbi8vIEl0IGNhbid0IGJlIGNvbmZpZ3VyZWQgYXMgaXQncyB1c2VkIHN0YXRpY2FsbHkgZm9yIHByb3BUeXBlcy5cbmV4cG9ydCBjb25zdCBicmVha3BvaW50S2V5cyA9IFsneHMnLCAnc20nLCAnbWQnLCAnbGcnLCAneGwnXTtcbmNvbnN0IHNvcnRCcmVha3BvaW50c1ZhbHVlcyA9IHZhbHVlcyA9PiB7XG4gIGNvbnN0IGJyZWFrcG9pbnRzQXNBcnJheSA9IE9iamVjdC5rZXlzKHZhbHVlcykubWFwKGtleSA9PiAoe1xuICAgIGtleSxcbiAgICB2YWw6IHZhbHVlc1trZXldXG4gIH0pKSB8fCBbXTtcbiAgLy8gU29ydCBpbiBhc2NlbmRpbmcgb3JkZXJcbiAgYnJlYWtwb2ludHNBc0FycmF5LnNvcnQoKGJyZWFrcG9pbnQxLCBicmVha3BvaW50MikgPT4gYnJlYWtwb2ludDEudmFsIC0gYnJlYWtwb2ludDIudmFsKTtcbiAgcmV0dXJuIGJyZWFrcG9pbnRzQXNBcnJheS5yZWR1Y2UoKGFjYywgb2JqKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmFjYyxcbiAgICAgIFtvYmoua2V5XTogb2JqLnZhbFxuICAgIH07XG4gIH0sIHt9KTtcbn07XG5cbi8vIEtlZXAgaW4gbWluZCB0aGF0IEBtZWRpYSBpcyBpbmNsdXNpdmUgYnkgdGhlIENTUyBzcGVjaWZpY2F0aW9uLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlQnJlYWtwb2ludHMoYnJlYWtwb2ludHMpIHtcbiAgY29uc3Qge1xuICAgIC8vIFRoZSBicmVha3BvaW50ICoqc3RhcnQqKiBhdCB0aGlzIHZhbHVlLlxuICAgIC8vIEZvciBpbnN0YW5jZSB3aXRoIHRoZSBmaXJzdCBicmVha3BvaW50IHhzOiBbeHMsIHNtKS5cbiAgICB2YWx1ZXMgPSB7XG4gICAgICB4czogMCxcbiAgICAgIC8vIHBob25lXG4gICAgICBzbTogNjAwLFxuICAgICAgLy8gdGFibGV0XG4gICAgICBtZDogOTAwLFxuICAgICAgLy8gc21hbGwgbGFwdG9wXG4gICAgICBsZzogMTIwMCxcbiAgICAgIC8vIGRlc2t0b3BcbiAgICAgIHhsOiAxNTM2IC8vIGxhcmdlIHNjcmVlblxuICAgIH0sXG4gICAgdW5pdCA9ICdweCcsXG4gICAgc3RlcCA9IDUsXG4gICAgLi4ub3RoZXJcbiAgfSA9IGJyZWFrcG9pbnRzO1xuICBjb25zdCBzb3J0ZWRWYWx1ZXMgPSBzb3J0QnJlYWtwb2ludHNWYWx1ZXModmFsdWVzKTtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHNvcnRlZFZhbHVlcyk7XG4gIGZ1bmN0aW9uIHVwKGtleSkge1xuICAgIGNvbnN0IHZhbHVlID0gdHlwZW9mIHZhbHVlc1trZXldID09PSAnbnVtYmVyJyA/IHZhbHVlc1trZXldIDoga2V5O1xuICAgIHJldHVybiBgQG1lZGlhIChtaW4td2lkdGg6JHt2YWx1ZX0ke3VuaXR9KWA7XG4gIH1cbiAgZnVuY3Rpb24gZG93bihrZXkpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHR5cGVvZiB2YWx1ZXNba2V5XSA9PT0gJ251bWJlcicgPyB2YWx1ZXNba2V5XSA6IGtleTtcbiAgICByZXR1cm4gYEBtZWRpYSAobWF4LXdpZHRoOiR7dmFsdWUgLSBzdGVwIC8gMTAwfSR7dW5pdH0pYDtcbiAgfVxuICBmdW5jdGlvbiBiZXR3ZWVuKHN0YXJ0LCBlbmQpIHtcbiAgICBjb25zdCBlbmRJbmRleCA9IGtleXMuaW5kZXhPZihlbmQpO1xuICAgIHJldHVybiBgQG1lZGlhIChtaW4td2lkdGg6JHt0eXBlb2YgdmFsdWVzW3N0YXJ0XSA9PT0gJ251bWJlcicgPyB2YWx1ZXNbc3RhcnRdIDogc3RhcnR9JHt1bml0fSkgYW5kIGAgKyBgKG1heC13aWR0aDokeyhlbmRJbmRleCAhPT0gLTEgJiYgdHlwZW9mIHZhbHVlc1trZXlzW2VuZEluZGV4XV0gPT09ICdudW1iZXInID8gdmFsdWVzW2tleXNbZW5kSW5kZXhdXSA6IGVuZCkgLSBzdGVwIC8gMTAwfSR7dW5pdH0pYDtcbiAgfVxuICBmdW5jdGlvbiBvbmx5KGtleSkge1xuICAgIGlmIChrZXlzLmluZGV4T2Yoa2V5KSArIDEgPCBrZXlzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGJldHdlZW4oa2V5LCBrZXlzW2tleXMuaW5kZXhPZihrZXkpICsgMV0pO1xuICAgIH1cbiAgICByZXR1cm4gdXAoa2V5KTtcbiAgfVxuICBmdW5jdGlvbiBub3Qoa2V5KSB7XG4gICAgLy8gaGFuZGxlIGZpcnN0IGFuZCBsYXN0IGtleSBzZXBhcmF0ZWx5LCBmb3IgYmV0dGVyIHJlYWRhYmlsaXR5XG4gICAgY29uc3Qga2V5SW5kZXggPSBrZXlzLmluZGV4T2Yoa2V5KTtcbiAgICBpZiAoa2V5SW5kZXggPT09IDApIHtcbiAgICAgIHJldHVybiB1cChrZXlzWzFdKTtcbiAgICB9XG4gICAgaWYgKGtleUluZGV4ID09PSBrZXlzLmxlbmd0aCAtIDEpIHtcbiAgICAgIHJldHVybiBkb3duKGtleXNba2V5SW5kZXhdKTtcbiAgICB9XG4gICAgcmV0dXJuIGJldHdlZW4oa2V5LCBrZXlzW2tleXMuaW5kZXhPZihrZXkpICsgMV0pLnJlcGxhY2UoJ0BtZWRpYScsICdAbWVkaWEgbm90IGFsbCBhbmQnKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGtleXMsXG4gICAgdmFsdWVzOiBzb3J0ZWRWYWx1ZXMsXG4gICAgdXAsXG4gICAgZG93bixcbiAgICBiZXR3ZWVuLFxuICAgIG9ubHksXG4gICAgbm90LFxuICAgIHVuaXQsXG4gICAgLi4ub3RoZXJcbiAgfTtcbn0iLAogICAgImNvbnN0IHNoYXBlID0ge1xuICBib3JkZXJSYWRpdXM6IDRcbn07XG5leHBvcnQgZGVmYXVsdCBzaGFwZTsiLAogICAgImltcG9ydCB7IGNyZWF0ZVVuYXJ5U3BhY2luZyB9IGZyb20gXCIuLi9zcGFjaW5nL2luZGV4LmpzXCI7XG5cbi8vIFRoZSBkaWZmZXJlbnQgc2lnbmF0dXJlcyBpbXBseSBkaWZmZXJlbnQgbWVhbmluZyBmb3IgdGhlaXIgYXJndW1lbnRzIHRoYXQgY2FuJ3QgYmUgZXhwcmVzc2VkIHN0cnVjdHVyYWxseS5cbi8vIFdlIGV4cHJlc3MgdGhlIGRpZmZlcmVuY2Ugd2l0aCB2YXJpYWJsZSBuYW1lcy5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlU3BhY2luZyhzcGFjaW5nSW5wdXQgPSA4LFxuLy8gTWF0ZXJpYWwgRGVzaWduIGxheW91dHMgYXJlIHZpc3VhbGx5IGJhbGFuY2VkLiBNb3N0IG1lYXN1cmVtZW50cyBhbGlnbiB0byBhbiA4ZHAgZ3JpZCwgd2hpY2ggYWxpZ25zIGJvdGggc3BhY2luZyBhbmQgdGhlIG92ZXJhbGwgbGF5b3V0LlxuLy8gU21hbGxlciBjb21wb25lbnRzLCBzdWNoIGFzIGljb25zLCBjYW4gYWxpZ24gdG8gYSA0ZHAgZ3JpZC5cbi8vIGh0dHBzOi8vbTIubWF0ZXJpYWwuaW8vZGVzaWduL2xheW91dC91bmRlcnN0YW5kaW5nLWxheW91dC5odG1sXG50cmFuc2Zvcm0gPSBjcmVhdGVVbmFyeVNwYWNpbmcoe1xuICBzcGFjaW5nOiBzcGFjaW5nSW5wdXRcbn0pKSB7XG4gIC8vIEFscmVhZHkgdHJhbnNmb3JtZWQuXG4gIGlmIChzcGFjaW5nSW5wdXQubXVpKSB7XG4gICAgcmV0dXJuIHNwYWNpbmdJbnB1dDtcbiAgfVxuICBjb25zdCBzcGFjaW5nID0gKC4uLmFyZ3NJbnB1dCkgPT4ge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAoIShhcmdzSW5wdXQubGVuZ3RoIDw9IDQpKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYE1VSTogVG9vIG1hbnkgYXJndW1lbnRzIHByb3ZpZGVkLCBleHBlY3RlZCBiZXR3ZWVuIDAgYW5kIDQsIGdvdCAke2FyZ3NJbnB1dC5sZW5ndGh9YCk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGFyZ3MgPSBhcmdzSW5wdXQubGVuZ3RoID09PSAwID8gWzFdIDogYXJnc0lucHV0O1xuICAgIHJldHVybiBhcmdzLm1hcChhcmd1bWVudCA9PiB7XG4gICAgICBjb25zdCBvdXRwdXQgPSB0cmFuc2Zvcm0oYXJndW1lbnQpO1xuICAgICAgcmV0dXJuIHR5cGVvZiBvdXRwdXQgPT09ICdudW1iZXInID8gYCR7b3V0cHV0fXB4YCA6IG91dHB1dDtcbiAgICB9KS5qb2luKCcgJyk7XG4gIH07XG4gIHNwYWNpbmcubXVpID0gdHJ1ZTtcbiAgcmV0dXJuIHNwYWNpbmc7XG59IiwKICAgICIvKipcbiAqIEEgdW5pdmVyc2FsIHV0aWxpdHkgdG8gc3R5bGUgY29tcG9uZW50cyB3aXRoIG11bHRpcGxlIGNvbG9yIG1vZGVzLiBBbHdheXMgdXNlIGl0IGZyb20gdGhlIHRoZW1lIG9iamVjdC5cbiAqIEl0IHdvcmtzIHdpdGg6XG4gKiAgLSBbQmFzaWMgdGhlbWVdKGh0dHBzOi8vbXVpLmNvbS9tYXRlcmlhbC11aS9jdXN0b21pemF0aW9uL2RhcmstbW9kZS8pXG4gKiAgLSBbQ1NTIHRoZW1lIHZhcmlhYmxlc10oaHR0cHM6Ly9tdWkuY29tL21hdGVyaWFsLXVpL2N1c3RvbWl6YXRpb24vY3NzLXRoZW1lLXZhcmlhYmxlcy9vdmVydmlldy8pXG4gKiAgLSBaZXJvLXJ1bnRpbWUgZW5naW5lXG4gKlxuICogVGlwczogVXNlIGFuIGFycmF5IG92ZXIgb2JqZWN0IHNwcmVhZCBhbmQgcGxhY2UgYHRoZW1lLmFwcGx5U3R5bGVzKClgIGxhc3QuXG4gKlxuICogV2l0aCB0aGUgc3R5bGVkIGZ1bmN0aW9uOlxuICog4pyFIFt7IGJhY2tncm91bmQ6ICcjZTVlNWU1JyB9LCB0aGVtZS5hcHBseVN0eWxlcygnZGFyaycsIHsgYmFja2dyb3VuZDogJyMxYzFjMWMnIH0pXVxuICog8J+aqyB7IGJhY2tncm91bmQ6ICcjZTVlNWU1JywgLi4udGhlbWUuYXBwbHlTdHlsZXMoJ2RhcmsnLCB7IGJhY2tncm91bmQ6ICcjMWMxYzFjJyB9KX1cbiAqXG4gKiBXaXRoIHRoZSBzeCBwcm9wOlxuICog4pyFIFt7IGJhY2tncm91bmQ6ICcjZTVlNWU1JyB9LCB0aGVtZSA9PiB0aGVtZS5hcHBseVN0eWxlcygnZGFyaycsIHsgYmFja2dyb3VuZDogJyMxYzFjMWMnIH0pXVxuICog8J+aqyB7IGJhY2tncm91bmQ6ICcjZTVlNWU1JywgLi4udGhlbWUgPT4gdGhlbWUuYXBwbHlTdHlsZXMoJ2RhcmsnLCB7IGJhY2tncm91bmQ6ICcjMWMxYzFjJyB9KX1cbiAqXG4gKiBAZXhhbXBsZVxuICogMS4gdXNpbmcgd2l0aCBgc3R5bGVkYDpcbiAqIGBgYGpzeFxuICogICBjb25zdCBDb21wb25lbnQgPSBzdHlsZWQoJ2RpdicpKCh7IHRoZW1lIH0pID0+IFtcbiAqICAgICB7IGJhY2tncm91bmQ6ICcjZTVlNWU1JyB9LFxuICogICAgIHRoZW1lLmFwcGx5U3R5bGVzKCdkYXJrJywge1xuICogICAgICAgYmFja2dyb3VuZDogJyMxYzFjMWMnLFxuICogICAgICAgY29sb3I6ICcjZmZmJyxcbiAqICAgICB9KSxcbiAqICAgXSk7XG4gKiBgYGBcbiAqXG4gKiBAZXhhbXBsZVxuICogMi4gdXNpbmcgd2l0aCBgc3hgIHByb3A6XG4gKiBgYGBqc3hcbiAqICAgPEJveCBzeD17W1xuICogICAgIHsgYmFja2dyb3VuZDogJyNlNWU1ZTUnIH0sXG4gKiAgICAgdGhlbWUgPT4gdGhlbWUuYXBwbHlTdHlsZXMoJ2RhcmsnLCB7XG4gKiAgICAgICAgYmFja2dyb3VuZDogJyMxYzFjMWMnLFxuICogICAgICAgIGNvbG9yOiAnI2ZmZicsXG4gKiAgICAgIH0pLFxuICogICAgIF19XG4gKiAgIC8+XG4gKiBgYGBcbiAqXG4gKiBAZXhhbXBsZVxuICogMy4gdGhlbWluZyBhIGNvbXBvbmVudDpcbiAqIGBgYGpzeFxuICogICBleHRlbmRUaGVtZSh7XG4gKiAgICAgY29tcG9uZW50czoge1xuICogICAgICAgTXVpQnV0dG9uOiB7XG4gKiAgICAgICAgIHN0eWxlT3ZlcnJpZGVzOiB7XG4gKiAgICAgICAgICAgcm9vdDogKHsgdGhlbWUgfSkgPT4gW1xuICogICAgICAgICAgICAgeyBiYWNrZ3JvdW5kOiAnI2U1ZTVlNScgfSxcbiAqICAgICAgICAgICAgIHRoZW1lLmFwcGx5U3R5bGVzKCdkYXJrJywge1xuICogICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnIzFjMWMxYycsXG4gKiAgICAgICAgICAgICAgIGNvbG9yOiAnI2ZmZicsXG4gKiAgICAgICAgICAgICB9KSxcbiAqICAgICAgICAgICBdLFxuICogICAgICAgICB9LFxuICogICAgICAgfVxuICogICAgIH1cbiAqICAgfSlcbiAqYGBgXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFwcGx5U3R5bGVzKGtleSwgc3R5bGVzKSB7XG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgdGhpcyBpcyAnYW55JyB0eXBlXG4gIGNvbnN0IHRoZW1lID0gdGhpcztcbiAgaWYgKHRoZW1lLnZhcnMpIHtcbiAgICBpZiAoIXRoZW1lLmNvbG9yU2NoZW1lcz8uW2tleV0gfHwgdHlwZW9mIHRoZW1lLmdldENvbG9yU2NoZW1lU2VsZWN0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgLy8gSWYgQ3NzVmFyc1Byb3ZpZGVyIGlzIHVzZWQgYXMgYSBwcm92aWRlciwgcmV0dXJucyAnKjp3aGVyZSh7c2VsZWN0b3J9KSAmJ1xuICAgIGxldCBzZWxlY3RvciA9IHRoZW1lLmdldENvbG9yU2NoZW1lU2VsZWN0b3Ioa2V5KTtcbiAgICBpZiAoc2VsZWN0b3IgPT09ICcmJykge1xuICAgICAgcmV0dXJuIHN0eWxlcztcbiAgICB9XG4gICAgaWYgKHNlbGVjdG9yLmluY2x1ZGVzKCdkYXRhLScpIHx8IHNlbGVjdG9yLmluY2x1ZGVzKCcuJykpIHtcbiAgICAgIC8vICcqJyBpcyByZXF1aXJlZCBhcyBhIHdvcmthcm91bmQgZm9yIEVtb3Rpb24gaXNzdWUgKGh0dHBzOi8vZ2l0aHViLmNvbS9lbW90aW9uLWpzL2Vtb3Rpb24vaXNzdWVzLzI4MzYpXG4gICAgICBzZWxlY3RvciA9IGAqOndoZXJlKCR7c2VsZWN0b3IucmVwbGFjZSgvXFxzKiYkLywgJycpfSkgJmA7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBbc2VsZWN0b3JdOiBzdHlsZXNcbiAgICB9O1xuICB9XG4gIGlmICh0aGVtZS5wYWxldHRlLm1vZGUgPT09IGtleSkge1xuICAgIHJldHVybiBzdHlsZXM7XG4gIH1cbiAgcmV0dXJuIHt9O1xufSIsCiAgICAiaW1wb3J0IGRlZXBtZXJnZSBmcm9tICdAbXVpL3V0aWxzL2RlZXBtZXJnZSc7XG5pbXBvcnQgY3JlYXRlQnJlYWtwb2ludHMgZnJvbSBcIi4uL2NyZWF0ZUJyZWFrcG9pbnRzL2NyZWF0ZUJyZWFrcG9pbnRzLmpzXCI7XG5pbXBvcnQgY3NzQ29udGFpbmVyUXVlcmllcyBmcm9tIFwiLi4vY3NzQ29udGFpbmVyUXVlcmllcy9pbmRleC5qc1wiO1xuaW1wb3J0IHNoYXBlIGZyb20gXCIuL3NoYXBlLmpzXCI7XG5pbXBvcnQgY3JlYXRlU3BhY2luZyBmcm9tIFwiLi9jcmVhdGVTcGFjaW5nLmpzXCI7XG5pbXBvcnQgc3R5bGVGdW5jdGlvblN4IGZyb20gXCIuLi9zdHlsZUZ1bmN0aW9uU3gvc3R5bGVGdW5jdGlvblN4LmpzXCI7XG5pbXBvcnQgZGVmYXVsdFN4Q29uZmlnIGZyb20gXCIuLi9zdHlsZUZ1bmN0aW9uU3gvZGVmYXVsdFN4Q29uZmlnLmpzXCI7XG5pbXBvcnQgYXBwbHlTdHlsZXMgZnJvbSBcIi4vYXBwbHlTdHlsZXMuanNcIjtcbmZ1bmN0aW9uIGNyZWF0ZVRoZW1lKG9wdGlvbnMgPSB7fSwgLi4uYXJncykge1xuICBjb25zdCB7XG4gICAgYnJlYWtwb2ludHM6IGJyZWFrcG9pbnRzSW5wdXQgPSB7fSxcbiAgICBwYWxldHRlOiBwYWxldHRlSW5wdXQgPSB7fSxcbiAgICBzcGFjaW5nOiBzcGFjaW5nSW5wdXQsXG4gICAgc2hhcGU6IHNoYXBlSW5wdXQgPSB7fSxcbiAgICAuLi5vdGhlclxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgYnJlYWtwb2ludHMgPSBjcmVhdGVCcmVha3BvaW50cyhicmVha3BvaW50c0lucHV0KTtcbiAgY29uc3Qgc3BhY2luZyA9IGNyZWF0ZVNwYWNpbmcoc3BhY2luZ0lucHV0KTtcbiAgbGV0IG11aVRoZW1lID0gZGVlcG1lcmdlKHtcbiAgICBicmVha3BvaW50cyxcbiAgICBkaXJlY3Rpb246ICdsdHInLFxuICAgIGNvbXBvbmVudHM6IHt9LFxuICAgIC8vIEluamVjdCBjb21wb25lbnQgZGVmaW5pdGlvbnMuXG4gICAgcGFsZXR0ZToge1xuICAgICAgbW9kZTogJ2xpZ2h0JyxcbiAgICAgIC4uLnBhbGV0dGVJbnB1dFxuICAgIH0sXG4gICAgc3BhY2luZyxcbiAgICBzaGFwZToge1xuICAgICAgLi4uc2hhcGUsXG4gICAgICAuLi5zaGFwZUlucHV0XG4gICAgfVxuICB9LCBvdGhlcik7XG4gIG11aVRoZW1lID0gY3NzQ29udGFpbmVyUXVlcmllcyhtdWlUaGVtZSk7XG4gIG11aVRoZW1lLmFwcGx5U3R5bGVzID0gYXBwbHlTdHlsZXM7XG4gIG11aVRoZW1lID0gYXJncy5yZWR1Y2UoKGFjYywgYXJndW1lbnQpID0+IGRlZXBtZXJnZShhY2MsIGFyZ3VtZW50KSwgbXVpVGhlbWUpO1xuICBtdWlUaGVtZS51bnN0YWJsZV9zeENvbmZpZyA9IHtcbiAgICAuLi5kZWZhdWx0U3hDb25maWcsXG4gICAgLi4ub3RoZXI/LnVuc3RhYmxlX3N4Q29uZmlnXG4gIH07XG4gIG11aVRoZW1lLnVuc3RhYmxlX3N4ID0gZnVuY3Rpb24gc3gocHJvcHMpIHtcbiAgICByZXR1cm4gc3R5bGVGdW5jdGlvblN4KHtcbiAgICAgIHN4OiBwcm9wcyxcbiAgICAgIHRoZW1lOiB0aGlzXG4gICAgfSk7XG4gIH07XG4gIHJldHVybiBtdWlUaGVtZTtcbn1cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVRoZW1lOyIsCiAgICAiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBUaGVtZUNvbnRleHQgfSBmcm9tICdAbXVpL3N0eWxlZC1lbmdpbmUnO1xuZnVuY3Rpb24gaXNPYmplY3RFbXB0eShvYmopIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSAwO1xufVxuZnVuY3Rpb24gdXNlVGhlbWUoZGVmYXVsdFRoZW1lID0gbnVsbCkge1xuICBjb25zdCBjb250ZXh0VGhlbWUgPSBSZWFjdC51c2VDb250ZXh0KFRoZW1lQ29udGV4dCk7XG4gIHJldHVybiAhY29udGV4dFRoZW1lIHx8IGlzT2JqZWN0RW1wdHkoY29udGV4dFRoZW1lKSA/IGRlZmF1bHRUaGVtZSA6IGNvbnRleHRUaGVtZTtcbn1cbmV4cG9ydCBkZWZhdWx0IHVzZVRoZW1lOyIsCiAgICAiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgY3JlYXRlVGhlbWUgZnJvbSBcIi4uL2NyZWF0ZVRoZW1lL2luZGV4LmpzXCI7XG5pbXBvcnQgdXNlVGhlbWVXaXRob3V0RGVmYXVsdCBmcm9tIFwiLi4vdXNlVGhlbWVXaXRob3V0RGVmYXVsdC9pbmRleC5qc1wiO1xuZXhwb3J0IGNvbnN0IHN5c3RlbURlZmF1bHRUaGVtZSA9IGNyZWF0ZVRoZW1lKCk7XG5mdW5jdGlvbiB1c2VUaGVtZShkZWZhdWx0VGhlbWUgPSBzeXN0ZW1EZWZhdWx0VGhlbWUpIHtcbiAgcmV0dXJuIHVzZVRoZW1lV2l0aG91dERlZmF1bHQoZGVmYXVsdFRoZW1lKTtcbn1cbmV4cG9ydCBkZWZhdWx0IHVzZVRoZW1lOyIsCiAgICAiY29uc3QgZGVmYXVsdEdlbmVyYXRvciA9IGNvbXBvbmVudE5hbWUgPT4gY29tcG9uZW50TmFtZTtcbmNvbnN0IGNyZWF0ZUNsYXNzTmFtZUdlbmVyYXRvciA9ICgpID0+IHtcbiAgbGV0IGdlbmVyYXRlID0gZGVmYXVsdEdlbmVyYXRvcjtcbiAgcmV0dXJuIHtcbiAgICBjb25maWd1cmUoZ2VuZXJhdG9yKSB7XG4gICAgICBnZW5lcmF0ZSA9IGdlbmVyYXRvcjtcbiAgICB9LFxuICAgIGdlbmVyYXRlKGNvbXBvbmVudE5hbWUpIHtcbiAgICAgIHJldHVybiBnZW5lcmF0ZShjb21wb25lbnROYW1lKTtcbiAgICB9LFxuICAgIHJlc2V0KCkge1xuICAgICAgZ2VuZXJhdGUgPSBkZWZhdWx0R2VuZXJhdG9yO1xuICAgIH1cbiAgfTtcbn07XG5jb25zdCBDbGFzc05hbWVHZW5lcmF0b3IgPSBjcmVhdGVDbGFzc05hbWVHZW5lcmF0b3IoKTtcbmV4cG9ydCBkZWZhdWx0IENsYXNzTmFtZUdlbmVyYXRvcjsiLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ0BtdWkvc3R5bGVkLWVuZ2luZSc7XG5pbXBvcnQgc3R5bGVGdW5jdGlvblN4LCB7IGV4dGVuZFN4UHJvcCB9IGZyb20gXCIuLi9zdHlsZUZ1bmN0aW9uU3gvaW5kZXguanNcIjtcbmltcG9ydCB1c2VUaGVtZSBmcm9tIFwiLi4vdXNlVGhlbWUvaW5kZXguanNcIjtcbmltcG9ydCB7IGpzeCBhcyBfanN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVCb3gob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICB0aGVtZUlkLFxuICAgIGRlZmF1bHRUaGVtZSxcbiAgICBkZWZhdWx0Q2xhc3NOYW1lID0gJ011aUJveC1yb290JyxcbiAgICBnZW5lcmF0ZUNsYXNzTmFtZVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgQm94Um9vdCA9IHN0eWxlZCgnZGl2Jywge1xuICAgIHNob3VsZEZvcndhcmRQcm9wOiBwcm9wID0+IHByb3AgIT09ICd0aGVtZScgJiYgcHJvcCAhPT0gJ3N4JyAmJiBwcm9wICE9PSAnYXMnXG4gIH0pKHN0eWxlRnVuY3Rpb25TeCk7XG4gIGNvbnN0IEJveCA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIEJveChpblByb3BzLCByZWYpIHtcbiAgICBjb25zdCB0aGVtZSA9IHVzZVRoZW1lKGRlZmF1bHRUaGVtZSk7XG4gICAgY29uc3Qge1xuICAgICAgY2xhc3NOYW1lLFxuICAgICAgY29tcG9uZW50ID0gJ2RpdicsXG4gICAgICAuLi5vdGhlclxuICAgIH0gPSBleHRlbmRTeFByb3AoaW5Qcm9wcyk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KEJveFJvb3QsIHtcbiAgICAgIGFzOiBjb21wb25lbnQsXG4gICAgICByZWY6IHJlZixcbiAgICAgIGNsYXNzTmFtZTogY2xzeChjbGFzc05hbWUsIGdlbmVyYXRlQ2xhc3NOYW1lID8gZ2VuZXJhdGVDbGFzc05hbWUoZGVmYXVsdENsYXNzTmFtZSkgOiBkZWZhdWx0Q2xhc3NOYW1lKSxcbiAgICAgIHRoZW1lOiB0aGVtZUlkID8gdGhlbWVbdGhlbWVJZF0gfHwgdGhlbWUgOiB0aGVtZSxcbiAgICAgIC4uLm90aGVyXG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gQm94O1xufSIsCiAgICAiaW1wb3J0IENsYXNzTmFtZUdlbmVyYXRvciBmcm9tIFwiLi4vQ2xhc3NOYW1lR2VuZXJhdG9yL2luZGV4LmpzXCI7XG5leHBvcnQgY29uc3QgZ2xvYmFsU3RhdGVDbGFzc2VzID0ge1xuICBhY3RpdmU6ICdhY3RpdmUnLFxuICBjaGVja2VkOiAnY2hlY2tlZCcsXG4gIGNvbXBsZXRlZDogJ2NvbXBsZXRlZCcsXG4gIGRpc2FibGVkOiAnZGlzYWJsZWQnLFxuICBlcnJvcjogJ2Vycm9yJyxcbiAgZXhwYW5kZWQ6ICdleHBhbmRlZCcsXG4gIGZvY3VzZWQ6ICdmb2N1c2VkJyxcbiAgZm9jdXNWaXNpYmxlOiAnZm9jdXNWaXNpYmxlJyxcbiAgb3BlbjogJ29wZW4nLFxuICByZWFkT25seTogJ3JlYWRPbmx5JyxcbiAgcmVxdWlyZWQ6ICdyZXF1aXJlZCcsXG4gIHNlbGVjdGVkOiAnc2VsZWN0ZWQnXG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2VuZXJhdGVVdGlsaXR5Q2xhc3MoY29tcG9uZW50TmFtZSwgc2xvdCwgZ2xvYmFsU3RhdGVQcmVmaXggPSAnTXVpJykge1xuICBjb25zdCBnbG9iYWxTdGF0ZUNsYXNzID0gZ2xvYmFsU3RhdGVDbGFzc2VzW3Nsb3RdO1xuICByZXR1cm4gZ2xvYmFsU3RhdGVDbGFzcyA/IGAke2dsb2JhbFN0YXRlUHJlZml4fS0ke2dsb2JhbFN0YXRlQ2xhc3N9YCA6IGAke0NsYXNzTmFtZUdlbmVyYXRvci5nZW5lcmF0ZShjb21wb25lbnROYW1lKX0tJHtzbG90fWA7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNHbG9iYWxTdGF0ZShzbG90KSB7XG4gIHJldHVybiBnbG9iYWxTdGF0ZUNsYXNzZXNbc2xvdF0gIT09IHVuZGVmaW5lZDtcbn0iLAogICAgImltcG9ydCBnZW5lcmF0ZVV0aWxpdHlDbGFzcyBmcm9tIFwiLi4vZ2VuZXJhdGVVdGlsaXR5Q2xhc3MvaW5kZXguanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdlbmVyYXRlVXRpbGl0eUNsYXNzZXMoY29tcG9uZW50TmFtZSwgc2xvdHMsIGdsb2JhbFN0YXRlUHJlZml4ID0gJ011aScpIHtcbiAgY29uc3QgcmVzdWx0ID0ge307XG4gIHNsb3RzLmZvckVhY2goc2xvdCA9PiB7XG4gICAgcmVzdWx0W3Nsb3RdID0gZ2VuZXJhdGVVdGlsaXR5Q2xhc3MoY29tcG9uZW50TmFtZSwgc2xvdCwgZ2xvYmFsU3RhdGVQcmVmaXgpO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn0iLAogICAgImltcG9ydCB7IEZvcndhcmRSZWYsIE1lbW8gfSBmcm9tICdyZWFjdC1pcyc7XG5mdW5jdGlvbiBnZXRGdW5jdGlvbkNvbXBvbmVudE5hbWUoQ29tcG9uZW50LCBmYWxsYmFjayA9ICcnKSB7XG4gIHJldHVybiBDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50Lm5hbWUgfHwgZmFsbGJhY2s7XG59XG5mdW5jdGlvbiBnZXRXcmFwcGVkTmFtZShvdXRlclR5cGUsIGlubmVyVHlwZSwgd3JhcHBlck5hbWUpIHtcbiAgY29uc3QgZnVuY3Rpb25OYW1lID0gZ2V0RnVuY3Rpb25Db21wb25lbnROYW1lKGlubmVyVHlwZSk7XG4gIHJldHVybiBvdXRlclR5cGUuZGlzcGxheU5hbWUgfHwgKGZ1bmN0aW9uTmFtZSAhPT0gJycgPyBgJHt3cmFwcGVyTmFtZX0oJHtmdW5jdGlvbk5hbWV9KWAgOiB3cmFwcGVyTmFtZSk7XG59XG5cbi8qKlxuICogY2hlcnJ5LXBpY2sgZnJvbVxuICogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2Jsb2IvNzY5YjFmMjcwZTEyNTFkOWRiZGNlMGZjYmQ5ZTkyZTUwMmQwNTliOC9wYWNrYWdlcy9zaGFyZWQvZ2V0Q29tcG9uZW50TmFtZS5qc1xuICogb3JpZ2luYWxseSBmb3JrZWQgZnJvbSByZWNvbXBvc2UvZ2V0RGlzcGxheU5hbWVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0RGlzcGxheU5hbWUoQ29tcG9uZW50KSB7XG4gIGlmIChDb21wb25lbnQgPT0gbnVsbCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgaWYgKHR5cGVvZiBDb21wb25lbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIENvbXBvbmVudDtcbiAgfVxuICBpZiAodHlwZW9mIENvbXBvbmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBnZXRGdW5jdGlvbkNvbXBvbmVudE5hbWUoQ29tcG9uZW50LCAnQ29tcG9uZW50Jyk7XG4gIH1cblxuICAvLyBUeXBlU2NyaXB0IGNhbid0IGhhdmUgY29tcG9uZW50cyBhcyBvYmplY3RzIGJ1dCB0aGV5IGV4aXN0IGluIHRoZSBmb3JtIG9mIGBtZW1vYCBvciBgU3VzcGVuc2VgXG4gIGlmICh0eXBlb2YgQ29tcG9uZW50ID09PSAnb2JqZWN0Jykge1xuICAgIHN3aXRjaCAoQ29tcG9uZW50LiQkdHlwZW9mKSB7XG4gICAgICBjYXNlIEZvcndhcmRSZWY6XG4gICAgICAgIHJldHVybiBnZXRXcmFwcGVkTmFtZShDb21wb25lbnQsIENvbXBvbmVudC5yZW5kZXIsICdGb3J3YXJkUmVmJyk7XG4gICAgICBjYXNlIE1lbW86XG4gICAgICAgIHJldHVybiBnZXRXcmFwcGVkTmFtZShDb21wb25lbnQsIENvbXBvbmVudC50eXBlLCAnbWVtbycpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn0iLAogICAgImltcG9ydCB7IGludGVybmFsX3NlcmlhbGl6ZVN0eWxlcyB9IGZyb20gJ0BtdWkvc3R5bGVkLWVuZ2luZSc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwcmVwcm9jZXNzU3R5bGVzKGlucHV0KSB7XG4gIGNvbnN0IHtcbiAgICB2YXJpYW50cyxcbiAgICAuLi5zdHlsZVxuICB9ID0gaW5wdXQ7XG4gIGNvbnN0IHJlc3VsdCA9IHtcbiAgICB2YXJpYW50cyxcbiAgICBzdHlsZTogaW50ZXJuYWxfc2VyaWFsaXplU3R5bGVzKHN0eWxlKSxcbiAgICBpc1Byb2Nlc3NlZDogdHJ1ZVxuICB9O1xuXG4gIC8vIE5vdCBzdXBwb3J0ZWQgb24gc3R5bGVkLWNvbXBvbmVudHNcbiAgaWYgKHJlc3VsdC5zdHlsZSA9PT0gc3R5bGUpIHtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGlmICh2YXJpYW50cykge1xuICAgIHZhcmlhbnRzLmZvckVhY2godmFyaWFudCA9PiB7XG4gICAgICBpZiAodHlwZW9mIHZhcmlhbnQuc3R5bGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyaWFudC5zdHlsZSA9IGludGVybmFsX3NlcmlhbGl6ZVN0eWxlcyh2YXJpYW50LnN0eWxlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufSIsCiAgICAiaW1wb3J0IHN0eWxlZEVuZ2luZVN0eWxlZCwgeyBpbnRlcm5hbF9tdXRhdGVTdHlsZXMgYXMgbXV0YXRlU3R5bGVzLCBpbnRlcm5hbF9zZXJpYWxpemVTdHlsZXMgYXMgc2VyaWFsaXplU3R5bGVzIH0gZnJvbSAnQG11aS9zdHlsZWQtZW5naW5lJztcbmltcG9ydCB7IGlzUGxhaW5PYmplY3QgfSBmcm9tICdAbXVpL3V0aWxzL2RlZXBtZXJnZSc7XG5pbXBvcnQgY2FwaXRhbGl6ZSBmcm9tICdAbXVpL3V0aWxzL2NhcGl0YWxpemUnO1xuaW1wb3J0IGdldERpc3BsYXlOYW1lIGZyb20gJ0BtdWkvdXRpbHMvZ2V0RGlzcGxheU5hbWUnO1xuaW1wb3J0IGNyZWF0ZVRoZW1lIGZyb20gXCIuLi9jcmVhdGVUaGVtZS9pbmRleC5qc1wiO1xuaW1wb3J0IHN0eWxlRnVuY3Rpb25TeCBmcm9tIFwiLi4vc3R5bGVGdW5jdGlvblN4L2luZGV4LmpzXCI7XG5pbXBvcnQgcHJlcHJvY2Vzc1N0eWxlcyBmcm9tIFwiLi4vcHJlcHJvY2Vzc1N0eWxlcy5qc1wiO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlcnNjb3JlLWRhbmdsZSAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tbGFiZWxzICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1sb25lLWJsb2NrcyAqL1xuXG5leHBvcnQgY29uc3Qgc3lzdGVtRGVmYXVsdFRoZW1lID0gY3JlYXRlVGhlbWUoKTtcblxuLy8gVXBkYXRlIC9zeXN0ZW0vc3R5bGVkLyNhcGkgaW4gY2FzZSBpZiB0aGlzIGNoYW5nZXNcbmV4cG9ydCBmdW5jdGlvbiBzaG91bGRGb3J3YXJkUHJvcChwcm9wKSB7XG4gIHJldHVybiBwcm9wICE9PSAnb3duZXJTdGF0ZScgJiYgcHJvcCAhPT0gJ3RoZW1lJyAmJiBwcm9wICE9PSAnc3gnICYmIHByb3AgIT09ICdhcyc7XG59XG5mdW5jdGlvbiBzaGFsbG93TGF5ZXIoc2VyaWFsaXplZCwgbGF5ZXJOYW1lKSB7XG4gIGlmIChsYXllck5hbWUgJiYgc2VyaWFsaXplZCAmJiB0eXBlb2Ygc2VyaWFsaXplZCA9PT0gJ29iamVjdCcgJiYgc2VyaWFsaXplZC5zdHlsZXMgJiYgIXNlcmlhbGl6ZWQuc3R5bGVzLnN0YXJ0c1dpdGgoJ0BsYXllcicpIC8vIG9ubHkgYWRkIHRoZSBsYXllciBpZiBpdCBpcyBub3QgYWxyZWFkeSB0aGVyZS5cbiAgKSB7XG4gICAgc2VyaWFsaXplZC5zdHlsZXMgPSBgQGxheWVyICR7bGF5ZXJOYW1lfXske1N0cmluZyhzZXJpYWxpemVkLnN0eWxlcyl9fWA7XG4gIH1cbiAgcmV0dXJuIHNlcmlhbGl6ZWQ7XG59XG5mdW5jdGlvbiBkZWZhdWx0T3ZlcnJpZGVzUmVzb2x2ZXIoc2xvdCkge1xuICBpZiAoIXNsb3QpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gKF9wcm9wcywgc3R5bGVzKSA9PiBzdHlsZXNbc2xvdF07XG59XG5mdW5jdGlvbiBhdHRhY2hUaGVtZShwcm9wcywgdGhlbWVJZCwgZGVmYXVsdFRoZW1lKSB7XG4gIHByb3BzLnRoZW1lID0gaXNPYmplY3RFbXB0eShwcm9wcy50aGVtZSkgPyBkZWZhdWx0VGhlbWUgOiBwcm9wcy50aGVtZVt0aGVtZUlkXSB8fCBwcm9wcy50aGVtZTtcbn1cbmZ1bmN0aW9uIHByb2Nlc3NTdHlsZShwcm9wcywgc3R5bGUsIGxheWVyTmFtZSkge1xuICAvKlxuICAgKiBTdHlsZSB0eXBlczpcbiAgICogIC0gbnVsbC91bmRlZmluZWRcbiAgICogIC0gc3RyaW5nXG4gICAqICAtIENTUyBzdHlsZSBvYmplY3Q6IHsgW2Nzc0tleV06IFtjc3NWYWx1ZV0sIHZhcmlhbnRzIH1cbiAgICogIC0gUHJvY2Vzc2VkIHN0eWxlIG9iamVjdDogeyBzdHlsZSwgdmFyaWFudHMsIGlzUHJvY2Vzc2VkOiB0cnVlIH1cbiAgICogIC0gQXJyYXkgb2YgYW55IG9mIHRoZSBhYm92ZVxuICAgKi9cblxuICBjb25zdCByZXNvbHZlZFN0eWxlID0gdHlwZW9mIHN0eWxlID09PSAnZnVuY3Rpb24nID8gc3R5bGUocHJvcHMpIDogc3R5bGU7XG4gIGlmIChBcnJheS5pc0FycmF5KHJlc29sdmVkU3R5bGUpKSB7XG4gICAgcmV0dXJuIHJlc29sdmVkU3R5bGUuZmxhdE1hcChzdWJTdHlsZSA9PiBwcm9jZXNzU3R5bGUocHJvcHMsIHN1YlN0eWxlLCBsYXllck5hbWUpKTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShyZXNvbHZlZFN0eWxlPy52YXJpYW50cykpIHtcbiAgICBsZXQgcm9vdFN0eWxlO1xuICAgIGlmIChyZXNvbHZlZFN0eWxlLmlzUHJvY2Vzc2VkKSB7XG4gICAgICByb290U3R5bGUgPSBsYXllck5hbWUgPyBzaGFsbG93TGF5ZXIocmVzb2x2ZWRTdHlsZS5zdHlsZSwgbGF5ZXJOYW1lKSA6IHJlc29sdmVkU3R5bGUuc3R5bGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdmFyaWFudHMsXG4gICAgICAgIC4uLm90aGVyU3R5bGVzXG4gICAgICB9ID0gcmVzb2x2ZWRTdHlsZTtcbiAgICAgIHJvb3RTdHlsZSA9IGxheWVyTmFtZSA/IHNoYWxsb3dMYXllcihzZXJpYWxpemVTdHlsZXMob3RoZXJTdHlsZXMpLCBsYXllck5hbWUpIDogb3RoZXJTdHlsZXM7XG4gICAgfVxuICAgIHJldHVybiBwcm9jZXNzU3R5bGVWYXJpYW50cyhwcm9wcywgcmVzb2x2ZWRTdHlsZS52YXJpYW50cywgW3Jvb3RTdHlsZV0sIGxheWVyTmFtZSk7XG4gIH1cbiAgaWYgKHJlc29sdmVkU3R5bGU/LmlzUHJvY2Vzc2VkKSB7XG4gICAgcmV0dXJuIGxheWVyTmFtZSA/IHNoYWxsb3dMYXllcihzZXJpYWxpemVTdHlsZXMocmVzb2x2ZWRTdHlsZS5zdHlsZSksIGxheWVyTmFtZSkgOiByZXNvbHZlZFN0eWxlLnN0eWxlO1xuICB9XG4gIHJldHVybiBsYXllck5hbWUgPyBzaGFsbG93TGF5ZXIoc2VyaWFsaXplU3R5bGVzKHJlc29sdmVkU3R5bGUpLCBsYXllck5hbWUpIDogcmVzb2x2ZWRTdHlsZTtcbn1cbmZ1bmN0aW9uIHByb2Nlc3NTdHlsZVZhcmlhbnRzKHByb3BzLCB2YXJpYW50cywgcmVzdWx0cyA9IFtdLCBsYXllck5hbWUgPSB1bmRlZmluZWQpIHtcbiAgbGV0IG1lcmdlZFN0YXRlOyAvLyBXZSBtaWdodCBub3QgbmVlZCBpdCwgaW5pdGlhbGl6ZWQgbGF6aWx5XG5cbiAgdmFyaWFudExvb3A6IGZvciAobGV0IGkgPSAwOyBpIDwgdmFyaWFudHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBjb25zdCB2YXJpYW50ID0gdmFyaWFudHNbaV07XG4gICAgaWYgKHR5cGVvZiB2YXJpYW50LnByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBtZXJnZWRTdGF0ZSA/Pz0ge1xuICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgLi4ucHJvcHMub3duZXJTdGF0ZSxcbiAgICAgICAgb3duZXJTdGF0ZTogcHJvcHMub3duZXJTdGF0ZVxuICAgICAgfTtcbiAgICAgIGlmICghdmFyaWFudC5wcm9wcyhtZXJnZWRTdGF0ZSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHZhcmlhbnQucHJvcHMpIHtcbiAgICAgICAgaWYgKHByb3BzW2tleV0gIT09IHZhcmlhbnQucHJvcHNba2V5XSAmJiBwcm9wcy5vd25lclN0YXRlPy5ba2V5XSAhPT0gdmFyaWFudC5wcm9wc1trZXldKSB7XG4gICAgICAgICAgY29udGludWUgdmFyaWFudExvb3A7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YXJpYW50LnN0eWxlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBtZXJnZWRTdGF0ZSA/Pz0ge1xuICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgLi4ucHJvcHMub3duZXJTdGF0ZSxcbiAgICAgICAgb3duZXJTdGF0ZTogcHJvcHMub3duZXJTdGF0ZVxuICAgICAgfTtcbiAgICAgIHJlc3VsdHMucHVzaChsYXllck5hbWUgPyBzaGFsbG93TGF5ZXIoc2VyaWFsaXplU3R5bGVzKHZhcmlhbnQuc3R5bGUobWVyZ2VkU3RhdGUpKSwgbGF5ZXJOYW1lKSA6IHZhcmlhbnQuc3R5bGUobWVyZ2VkU3RhdGUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0cy5wdXNoKGxheWVyTmFtZSA/IHNoYWxsb3dMYXllcihzZXJpYWxpemVTdHlsZXModmFyaWFudC5zdHlsZSksIGxheWVyTmFtZSkgOiB2YXJpYW50LnN0eWxlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdHM7XG59XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVTdHlsZWQoaW5wdXQgPSB7fSkge1xuICBjb25zdCB7XG4gICAgdGhlbWVJZCxcbiAgICBkZWZhdWx0VGhlbWUgPSBzeXN0ZW1EZWZhdWx0VGhlbWUsXG4gICAgcm9vdFNob3VsZEZvcndhcmRQcm9wID0gc2hvdWxkRm9yd2FyZFByb3AsXG4gICAgc2xvdFNob3VsZEZvcndhcmRQcm9wID0gc2hvdWxkRm9yd2FyZFByb3BcbiAgfSA9IGlucHV0O1xuICBmdW5jdGlvbiBzdHlsZUF0dGFjaFRoZW1lKHByb3BzKSB7XG4gICAgYXR0YWNoVGhlbWUocHJvcHMsIHRoZW1lSWQsIGRlZmF1bHRUaGVtZSk7XG4gIH1cbiAgY29uc3Qgc3R5bGVkID0gKHRhZywgaW5wdXRPcHRpb25zID0ge30pID0+IHtcbiAgICAvLyBJZiBgdGFnYCBpcyBhbHJlYWR5IGEgc3R5bGVkIGNvbXBvbmVudCwgZmlsdGVyIG91dCB0aGUgYHN4YCBzdHlsZSBmdW5jdGlvblxuICAgIC8vIHRvIHByZXZlbnQgdW5uZWNlc3Nhcnkgc3R5bGVzIGdlbmVyYXRlZCBieSB0aGUgY29tcG9zaXRlIGNvbXBvbmVudHMuXG4gICAgbXV0YXRlU3R5bGVzKHRhZywgc3R5bGVzID0+IHN0eWxlcy5maWx0ZXIoc3R5bGUgPT4gc3R5bGUgIT09IHN0eWxlRnVuY3Rpb25TeCkpO1xuICAgIGNvbnN0IHtcbiAgICAgIG5hbWU6IGNvbXBvbmVudE5hbWUsXG4gICAgICBzbG90OiBjb21wb25lbnRTbG90LFxuICAgICAgc2tpcFZhcmlhbnRzUmVzb2x2ZXI6IGlucHV0U2tpcFZhcmlhbnRzUmVzb2x2ZXIsXG4gICAgICBza2lwU3g6IGlucHV0U2tpcFN4LFxuICAgICAgLy8gVE9ETyB2NjogcmVtb3ZlIGBsb3dlcmNhc2VGaXJzdExldHRlcigpYCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlXG4gICAgICAvLyBGb3IgbW9yZSBkZXRhaWxzOiBodHRwczovL2dpdGh1Yi5jb20vbXVpL21hdGVyaWFsLXVpL3B1bGwvMzc5MDhcbiAgICAgIG92ZXJyaWRlc1Jlc29sdmVyID0gZGVmYXVsdE92ZXJyaWRlc1Jlc29sdmVyKGxvd2VyY2FzZUZpcnN0TGV0dGVyKGNvbXBvbmVudFNsb3QpKSxcbiAgICAgIC4uLm9wdGlvbnNcbiAgICB9ID0gaW5wdXRPcHRpb25zO1xuICAgIGNvbnN0IGxheWVyTmFtZSA9IGNvbXBvbmVudE5hbWUgJiYgY29tcG9uZW50TmFtZS5zdGFydHNXaXRoKCdNdWknKSB8fCAhIWNvbXBvbmVudFNsb3QgPyAnY29tcG9uZW50cycgOiAnY3VzdG9tJztcblxuICAgIC8vIGlmIHNraXBWYXJpYW50c1Jlc29sdmVyIG9wdGlvbiBpcyBkZWZpbmVkLCB0YWtlIHRoZSB2YWx1ZSwgb3RoZXJ3aXNlLCB0cnVlIGZvciByb290IGFuZCBmYWxzZSBmb3Igb3RoZXIgc2xvdHMuXG4gICAgY29uc3Qgc2tpcFZhcmlhbnRzUmVzb2x2ZXIgPSBpbnB1dFNraXBWYXJpYW50c1Jlc29sdmVyICE9PSB1bmRlZmluZWQgPyBpbnB1dFNraXBWYXJpYW50c1Jlc29sdmVyIDpcbiAgICAvLyBUT0RPIHY2OiByZW1vdmUgYFJvb3RgIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2VcbiAgICAvLyBGb3IgbW9yZSBkZXRhaWxzOiBodHRwczovL2dpdGh1Yi5jb20vbXVpL21hdGVyaWFsLXVpL3B1bGwvMzc5MDhcbiAgICBjb21wb25lbnRTbG90ICYmIGNvbXBvbmVudFNsb3QgIT09ICdSb290JyAmJiBjb21wb25lbnRTbG90ICE9PSAncm9vdCcgfHwgZmFsc2U7XG4gICAgY29uc3Qgc2tpcFN4ID0gaW5wdXRTa2lwU3ggfHwgZmFsc2U7XG4gICAgbGV0IHNob3VsZEZvcndhcmRQcm9wT3B0aW9uID0gc2hvdWxkRm9yd2FyZFByb3A7XG5cbiAgICAvLyBUT0RPIHY2OiByZW1vdmUgYFJvb3RgIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2VcbiAgICAvLyBGb3IgbW9yZSBkZXRhaWxzOiBodHRwczovL2dpdGh1Yi5jb20vbXVpL21hdGVyaWFsLXVpL3B1bGwvMzc5MDhcbiAgICBpZiAoY29tcG9uZW50U2xvdCA9PT0gJ1Jvb3QnIHx8IGNvbXBvbmVudFNsb3QgPT09ICdyb290Jykge1xuICAgICAgc2hvdWxkRm9yd2FyZFByb3BPcHRpb24gPSByb290U2hvdWxkRm9yd2FyZFByb3A7XG4gICAgfSBlbHNlIGlmIChjb21wb25lbnRTbG90KSB7XG4gICAgICAvLyBhbnkgb3RoZXIgc2xvdCBzcGVjaWZpZWRcbiAgICAgIHNob3VsZEZvcndhcmRQcm9wT3B0aW9uID0gc2xvdFNob3VsZEZvcndhcmRQcm9wO1xuICAgIH0gZWxzZSBpZiAoaXNTdHJpbmdUYWcodGFnKSkge1xuICAgICAgLy8gZm9yIHN0cmluZyAoaHRtbCkgdGFnLCBwcmVzZXJ2ZSB0aGUgYmVoYXZpb3IgaW4gZW1vdGlvbiAmIHN0eWxlZC1jb21wb25lbnRzLlxuICAgICAgc2hvdWxkRm9yd2FyZFByb3BPcHRpb24gPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IGRlZmF1bHRTdHlsZWRSZXNvbHZlciA9IHN0eWxlZEVuZ2luZVN0eWxlZCh0YWcsIHtcbiAgICAgIHNob3VsZEZvcndhcmRQcm9wOiBzaG91bGRGb3J3YXJkUHJvcE9wdGlvbixcbiAgICAgIGxhYmVsOiBnZW5lcmF0ZVN0eWxlZExhYmVsKGNvbXBvbmVudE5hbWUsIGNvbXBvbmVudFNsb3QpLFxuICAgICAgLi4ub3B0aW9uc1xuICAgIH0pO1xuICAgIGNvbnN0IHRyYW5zZm9ybVN0eWxlID0gc3R5bGUgPT4ge1xuICAgICAgLy8gLSBPbiB0aGUgc2VydmVyIEVtb3Rpb24gZG9lc24ndCB1c2UgUmVhY3QuZm9yd2FyZFJlZiBmb3IgY3JlYXRpbmcgY29tcG9uZW50cywgc28gdGhlIGNyZWF0ZWRcbiAgICAgIC8vICAgY29tcG9uZW50IHN0YXlzIGFzIGEgZnVuY3Rpb24uIFRoaXMgY29uZGl0aW9uIG1ha2VzIHN1cmUgdGhhdCB3ZSBkbyBub3QgaW50ZXJwb2xhdGUgZnVuY3Rpb25zXG4gICAgICAvLyAgIHdoaWNoIGFyZSBiYXNpY2FsbHkgY29tcG9uZW50cyB1c2VkIGFzIGEgc2VsZWN0b3JzLlxuICAgICAgLy8gLSBgc3R5bGVgIGNvdWxkIGJlIGEgc3R5bGVkIGNvbXBvbmVudCBmcm9tIGEgYmFiZWwgcGx1Z2luIGZvciBjb21wb25lbnQgc2VsZWN0b3JzLCBUaGlzIGNvbmRpdGlvblxuICAgICAgLy8gICBtYWtlcyBzdXJlIHRoYXQgd2UgZG8gbm90IGludGVycG9sYXRlIHRoZW0uXG4gICAgICBpZiAoc3R5bGUuX19lbW90aW9uX3JlYWwgPT09IHN0eWxlKSB7XG4gICAgICAgIHJldHVybiBzdHlsZTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygc3R5bGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHN0eWxlRnVuY3Rpb25Qcm9jZXNzb3IocHJvcHMpIHtcbiAgICAgICAgICByZXR1cm4gcHJvY2Vzc1N0eWxlKHByb3BzLCBzdHlsZSwgcHJvcHMudGhlbWUubW9kdWxhckNzc0xheWVycyA/IGxheWVyTmFtZSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAoaXNQbGFpbk9iamVjdChzdHlsZSkpIHtcbiAgICAgICAgY29uc3Qgc2VyaWFsaXplZCA9IHByZXByb2Nlc3NTdHlsZXMoc3R5bGUpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gc3R5bGVPYmplY3RQcm9jZXNzb3IocHJvcHMpIHtcbiAgICAgICAgICBpZiAoIXNlcmlhbGl6ZWQudmFyaWFudHMpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9wcy50aGVtZS5tb2R1bGFyQ3NzTGF5ZXJzID8gc2hhbGxvd0xheWVyKHNlcmlhbGl6ZWQuc3R5bGUsIGxheWVyTmFtZSkgOiBzZXJpYWxpemVkLnN0eWxlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcHJvY2Vzc1N0eWxlKHByb3BzLCBzZXJpYWxpemVkLCBwcm9wcy50aGVtZS5tb2R1bGFyQ3NzTGF5ZXJzID8gbGF5ZXJOYW1lIDogdW5kZWZpbmVkKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHlsZTtcbiAgICB9O1xuICAgIGNvbnN0IG11aVN0eWxlZFJlc29sdmVyID0gKC4uLmV4cHJlc3Npb25zSW5wdXQpID0+IHtcbiAgICAgIGNvbnN0IGV4cHJlc3Npb25zSGVhZCA9IFtdO1xuICAgICAgY29uc3QgZXhwcmVzc2lvbnNCb2R5ID0gZXhwcmVzc2lvbnNJbnB1dC5tYXAodHJhbnNmb3JtU3R5bGUpO1xuICAgICAgY29uc3QgZXhwcmVzc2lvbnNUYWlsID0gW107XG5cbiAgICAgIC8vIFByZXByb2Nlc3MgYHByb3BzYCB0byBzZXQgdGhlIHNjb3BlZCB0aGVtZSB2YWx1ZS5cbiAgICAgIC8vIFRoaXMgbXVzdCBydW4gYmVmb3JlIGFueSBvdGhlciBleHByZXNzaW9uLlxuICAgICAgZXhwcmVzc2lvbnNIZWFkLnB1c2goc3R5bGVBdHRhY2hUaGVtZSk7XG4gICAgICBpZiAoY29tcG9uZW50TmFtZSAmJiBvdmVycmlkZXNSZXNvbHZlcikge1xuICAgICAgICBleHByZXNzaW9uc1RhaWwucHVzaChmdW5jdGlvbiBzdHlsZVRoZW1lT3ZlcnJpZGVzKHByb3BzKSB7XG4gICAgICAgICAgY29uc3QgdGhlbWUgPSBwcm9wcy50aGVtZTtcbiAgICAgICAgICBjb25zdCBzdHlsZU92ZXJyaWRlcyA9IHRoZW1lLmNvbXBvbmVudHM/Lltjb21wb25lbnROYW1lXT8uc3R5bGVPdmVycmlkZXM7XG4gICAgICAgICAgaWYgKCFzdHlsZU92ZXJyaWRlcykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHJlc29sdmVkU3R5bGVPdmVycmlkZXMgPSB7fTtcblxuICAgICAgICAgIC8vIFRPRE86IHY3IHJlbW92ZSBpdGVyYXRpb24gYW5kIHVzZSBgcmVzb2x2ZVN0eWxlQXJnKHN0eWxlT3ZlcnJpZGVzW3Nsb3RdKWAgZGlyZWN0bHlcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ3VhcmQtZm9yLWluXG4gICAgICAgICAgZm9yIChjb25zdCBzbG90S2V5IGluIHN0eWxlT3ZlcnJpZGVzKSB7XG4gICAgICAgICAgICByZXNvbHZlZFN0eWxlT3ZlcnJpZGVzW3Nsb3RLZXldID0gcHJvY2Vzc1N0eWxlKHByb3BzLCBzdHlsZU92ZXJyaWRlc1tzbG90S2V5XSwgcHJvcHMudGhlbWUubW9kdWxhckNzc0xheWVycyA/ICd0aGVtZScgOiB1bmRlZmluZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gb3ZlcnJpZGVzUmVzb2x2ZXIocHJvcHMsIHJlc29sdmVkU3R5bGVPdmVycmlkZXMpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChjb21wb25lbnROYW1lICYmICFza2lwVmFyaWFudHNSZXNvbHZlcikge1xuICAgICAgICBleHByZXNzaW9uc1RhaWwucHVzaChmdW5jdGlvbiBzdHlsZVRoZW1lVmFyaWFudHMocHJvcHMpIHtcbiAgICAgICAgICBjb25zdCB0aGVtZSA9IHByb3BzLnRoZW1lO1xuICAgICAgICAgIGNvbnN0IHRoZW1lVmFyaWFudHMgPSB0aGVtZT8uY29tcG9uZW50cz8uW2NvbXBvbmVudE5hbWVdPy52YXJpYW50cztcbiAgICAgICAgICBpZiAoIXRoZW1lVmFyaWFudHMpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcHJvY2Vzc1N0eWxlVmFyaWFudHMocHJvcHMsIHRoZW1lVmFyaWFudHMsIFtdLCBwcm9wcy50aGVtZS5tb2R1bGFyQ3NzTGF5ZXJzID8gJ3RoZW1lJyA6IHVuZGVmaW5lZCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKCFza2lwU3gpIHtcbiAgICAgICAgZXhwcmVzc2lvbnNUYWlsLnB1c2goc3R5bGVGdW5jdGlvblN4KTtcbiAgICAgIH1cblxuICAgICAgLy8gVGhpcyBmdW5jdGlvbiBjYW4gYmUgY2FsbGVkIGFzIGEgdGFnZ2VkIHRlbXBsYXRlLCBzbyB0aGUgZmlyc3QgYXJndW1lbnQgd291bGQgY29udGFpblxuICAgICAgLy8gQ1NTIGBzdHJpbmdbXWAgdmFsdWVzLlxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZXhwcmVzc2lvbnNCb2R5WzBdKSkge1xuICAgICAgICBjb25zdCBpbnB1dFN0cmluZ3MgPSBleHByZXNzaW9uc0JvZHkuc2hpZnQoKTtcblxuICAgICAgICAvLyBXZSBuZWVkIHRvIGFkZCBwbGFjZWhvbGRlcnMgaW4gdGhlIHRhZ2dlZCB0ZW1wbGF0ZSBmb3IgdGhlIGN1c3RvbSBmdW5jdGlvbnMgd2UgaGF2ZVxuICAgICAgICAvLyBwb3NzaWJseSBhZGRlZCAoYXR0YWNoVGhlbWUsIG92ZXJyaWRlcywgdmFyaWFudHMsIGFuZCBzeCkuXG4gICAgICAgIGNvbnN0IHBsYWNlaG9sZGVyc0hlYWQgPSBuZXcgQXJyYXkoZXhwcmVzc2lvbnNIZWFkLmxlbmd0aCkuZmlsbCgnJyk7XG4gICAgICAgIGNvbnN0IHBsYWNlaG9sZGVyc1RhaWwgPSBuZXcgQXJyYXkoZXhwcmVzc2lvbnNUYWlsLmxlbmd0aCkuZmlsbCgnJyk7XG4gICAgICAgIGxldCBvdXRwdXRTdHJpbmdzO1xuICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAge1xuICAgICAgICAgIG91dHB1dFN0cmluZ3MgPSBbLi4ucGxhY2Vob2xkZXJzSGVhZCwgLi4uaW5wdXRTdHJpbmdzLCAuLi5wbGFjZWhvbGRlcnNUYWlsXTtcbiAgICAgICAgICBvdXRwdXRTdHJpbmdzLnJhdyA9IFsuLi5wbGFjZWhvbGRlcnNIZWFkLCAuLi5pbnB1dFN0cmluZ3MucmF3LCAuLi5wbGFjZWhvbGRlcnNUYWlsXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZSBvbmx5IGNhc2Ugd2hlcmUgd2UgcHV0IHNvbWV0aGluZyBiZWZvcmUgYGF0dGFjaFRoZW1lYFxuICAgICAgICBleHByZXNzaW9uc0hlYWQudW5zaGlmdChvdXRwdXRTdHJpbmdzKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGV4cHJlc3Npb25zID0gWy4uLmV4cHJlc3Npb25zSGVhZCwgLi4uZXhwcmVzc2lvbnNCb2R5LCAuLi5leHByZXNzaW9uc1RhaWxdO1xuICAgICAgY29uc3QgQ29tcG9uZW50ID0gZGVmYXVsdFN0eWxlZFJlc29sdmVyKC4uLmV4cHJlc3Npb25zKTtcbiAgICAgIGlmICh0YWcubXVpTmFtZSkge1xuICAgICAgICBDb21wb25lbnQubXVpTmFtZSA9IHRhZy5tdWlOYW1lO1xuICAgICAgfVxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgQ29tcG9uZW50LmRpc3BsYXlOYW1lID0gZ2VuZXJhdGVEaXNwbGF5TmFtZShjb21wb25lbnROYW1lLCBjb21wb25lbnRTbG90LCB0YWcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIENvbXBvbmVudDtcbiAgICB9O1xuICAgIGlmIChkZWZhdWx0U3R5bGVkUmVzb2x2ZXIud2l0aENvbmZpZykge1xuICAgICAgbXVpU3R5bGVkUmVzb2x2ZXIud2l0aENvbmZpZyA9IGRlZmF1bHRTdHlsZWRSZXNvbHZlci53aXRoQ29uZmlnO1xuICAgIH1cbiAgICByZXR1cm4gbXVpU3R5bGVkUmVzb2x2ZXI7XG4gIH07XG4gIHJldHVybiBzdHlsZWQ7XG59XG5mdW5jdGlvbiBnZW5lcmF0ZURpc3BsYXlOYW1lKGNvbXBvbmVudE5hbWUsIGNvbXBvbmVudFNsb3QsIHRhZykge1xuICBpZiAoY29tcG9uZW50TmFtZSkge1xuICAgIHJldHVybiBgJHtjb21wb25lbnROYW1lfSR7Y2FwaXRhbGl6ZShjb21wb25lbnRTbG90IHx8ICcnKX1gO1xuICB9XG4gIHJldHVybiBgU3R5bGVkKCR7Z2V0RGlzcGxheU5hbWUodGFnKX0pYDtcbn1cbmZ1bmN0aW9uIGdlbmVyYXRlU3R5bGVkTGFiZWwoY29tcG9uZW50TmFtZSwgY29tcG9uZW50U2xvdCkge1xuICBsZXQgbGFiZWw7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKGNvbXBvbmVudE5hbWUpIHtcbiAgICAgIC8vIFRPRE8gdjY6IHJlbW92ZSBgbG93ZXJjYXNlRmlyc3RMZXR0ZXIoKWAgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZVxuICAgICAgLy8gRm9yIG1vcmUgZGV0YWlsczogaHR0cHM6Ly9naXRodWIuY29tL211aS9tYXRlcmlhbC11aS9wdWxsLzM3OTA4XG4gICAgICBsYWJlbCA9IGAke2NvbXBvbmVudE5hbWV9LSR7bG93ZXJjYXNlRmlyc3RMZXR0ZXIoY29tcG9uZW50U2xvdCB8fCAnUm9vdCcpfWA7XG4gICAgfVxuICB9XG4gIHJldHVybiBsYWJlbDtcbn1cbmZ1bmN0aW9uIGlzT2JqZWN0RW1wdHkob2JqZWN0KSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICBmb3IgKGNvbnN0IF8gaW4gb2JqZWN0KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vZW1vdGlvbi1qcy9lbW90aW9uL2Jsb2IvMjZkZWQ2MTA5ZmNkOGNhOTg3NWNjMmNlNDU2NGZlZTY3OGEzZjNjNS9wYWNrYWdlcy9zdHlsZWQvc3JjL3V0aWxzLmpzI0w0MFxuZnVuY3Rpb24gaXNTdHJpbmdUYWcodGFnKSB7XG4gIHJldHVybiB0eXBlb2YgdGFnID09PSAnc3RyaW5nJyAmJlxuICAvLyA5NiBpcyBvbmUgbGVzcyB0aGFuIHRoZSBjaGFyIGNvZGVcbiAgLy8gZm9yIFwiYVwiIHNvIHRoaXMgaXMgY2hlY2tpbmcgdGhhdFxuICAvLyBpdCdzIGEgbG93ZXJjYXNlIGNoYXJhY3RlclxuICB0YWcuY2hhckNvZGVBdCgwKSA+IDk2O1xufVxuZnVuY3Rpb24gbG93ZXJjYXNlRmlyc3RMZXR0ZXIoc3RyaW5nKSB7XG4gIGlmICghc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZztcbiAgfVxuICByZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xufSIsCiAgICAiaW1wb3J0IGNyZWF0ZVN0eWxlZCBmcm9tIFwiLi4vY3JlYXRlU3R5bGVkL2luZGV4LmpzXCI7XG5jb25zdCBzdHlsZWQgPSBjcmVhdGVTdHlsZWQoKTtcbmV4cG9ydCBkZWZhdWx0IHN0eWxlZDsiLAogICAgImltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnO1xuXG4vKipcbiAqIEFkZCBrZXlzLCB2YWx1ZXMgb2YgYGRlZmF1bHRQcm9wc2AgdGhhdCBkb2VzIG5vdCBleGlzdCBpbiBgcHJvcHNgXG4gKiBAcGFyYW0gZGVmYXVsdFByb3BzXG4gKiBAcGFyYW0gcHJvcHNcbiAqIEBwYXJhbSBtZXJnZUNsYXNzTmFtZUFuZFN0eWxlIElmIGB0cnVlYCwgbWVyZ2VzIGBjbGFzc05hbWVgIGFuZCBgc3R5bGVgIHByb3BzIGluc3RlYWQgb2Ygb3ZlcnJpZGluZyB0aGVtLlxuICogICBXaGVuIGBmYWxzZWAgKGRlZmF1bHQpLCBwcm9wcyBvdmVycmlkZSBkZWZhdWx0UHJvcHMuIFdoZW4gYHRydWVgLCBgY2xhc3NOYW1lYCB2YWx1ZXMgYXJlIGNvbmNhdGVuYXRlZFxuICogICBhbmQgYHN0eWxlYCBvYmplY3RzIGFyZSBtZXJnZWQgd2l0aCBwcm9wcyB0YWtpbmcgcHJlY2VkZW5jZS5cbiAqIEByZXR1cm5zIHJlc29sdmVkIHByb3BzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlc29sdmVQcm9wcyhkZWZhdWx0UHJvcHMsIHByb3BzLCBtZXJnZUNsYXNzTmFtZUFuZFN0eWxlID0gZmFsc2UpIHtcbiAgY29uc3Qgb3V0cHV0ID0ge1xuICAgIC4uLnByb3BzXG4gIH07XG4gIGZvciAoY29uc3Qga2V5IGluIGRlZmF1bHRQcm9wcykge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZGVmYXVsdFByb3BzLCBrZXkpKSB7XG4gICAgICBjb25zdCBwcm9wTmFtZSA9IGtleTtcbiAgICAgIGlmIChwcm9wTmFtZSA9PT0gJ2NvbXBvbmVudHMnIHx8IHByb3BOYW1lID09PSAnc2xvdHMnKSB7XG4gICAgICAgIG91dHB1dFtwcm9wTmFtZV0gPSB7XG4gICAgICAgICAgLi4uZGVmYXVsdFByb3BzW3Byb3BOYW1lXSxcbiAgICAgICAgICAuLi5vdXRwdXRbcHJvcE5hbWVdXG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgaWYgKHByb3BOYW1lID09PSAnY29tcG9uZW50c1Byb3BzJyB8fCBwcm9wTmFtZSA9PT0gJ3Nsb3RQcm9wcycpIHtcbiAgICAgICAgY29uc3QgZGVmYXVsdFNsb3RQcm9wcyA9IGRlZmF1bHRQcm9wc1twcm9wTmFtZV07XG4gICAgICAgIGNvbnN0IHNsb3RQcm9wcyA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgICAgaWYgKCFzbG90UHJvcHMpIHtcbiAgICAgICAgICBvdXRwdXRbcHJvcE5hbWVdID0gZGVmYXVsdFNsb3RQcm9wcyB8fCB7fTtcbiAgICAgICAgfSBlbHNlIGlmICghZGVmYXVsdFNsb3RQcm9wcykge1xuICAgICAgICAgIG91dHB1dFtwcm9wTmFtZV0gPSBzbG90UHJvcHM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0cHV0W3Byb3BOYW1lXSA9IHtcbiAgICAgICAgICAgIC4uLnNsb3RQcm9wc1xuICAgICAgICAgIH07XG4gICAgICAgICAgZm9yIChjb25zdCBzbG90S2V5IGluIGRlZmF1bHRTbG90UHJvcHMpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZGVmYXVsdFNsb3RQcm9wcywgc2xvdEtleSkpIHtcbiAgICAgICAgICAgICAgY29uc3Qgc2xvdFByb3BOYW1lID0gc2xvdEtleTtcbiAgICAgICAgICAgICAgb3V0cHV0W3Byb3BOYW1lXVtzbG90UHJvcE5hbWVdID0gcmVzb2x2ZVByb3BzKGRlZmF1bHRTbG90UHJvcHNbc2xvdFByb3BOYW1lXSwgc2xvdFByb3BzW3Nsb3RQcm9wTmFtZV0sIG1lcmdlQ2xhc3NOYW1lQW5kU3R5bGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwcm9wTmFtZSA9PT0gJ2NsYXNzTmFtZScgJiYgbWVyZ2VDbGFzc05hbWVBbmRTdHlsZSAmJiBwcm9wcy5jbGFzc05hbWUpIHtcbiAgICAgICAgb3V0cHV0LmNsYXNzTmFtZSA9IGNsc3goZGVmYXVsdFByb3BzPy5jbGFzc05hbWUsIHByb3BzPy5jbGFzc05hbWUpO1xuICAgICAgfSBlbHNlIGlmIChwcm9wTmFtZSA9PT0gJ3N0eWxlJyAmJiBtZXJnZUNsYXNzTmFtZUFuZFN0eWxlICYmIHByb3BzLnN0eWxlKSB7XG4gICAgICAgIG91dHB1dC5zdHlsZSA9IHtcbiAgICAgICAgICAuLi5kZWZhdWx0UHJvcHM/LnN0eWxlLFxuICAgICAgICAgIC4uLnByb3BzPy5zdHlsZVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmIChvdXRwdXRbcHJvcE5hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgb3V0cHV0W3Byb3BOYW1lXSA9IGRlZmF1bHRQcm9wc1twcm9wTmFtZV07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBvdXRwdXQ7XG59IiwKICAgICJpbXBvcnQgcmVzb2x2ZVByb3BzIGZyb20gJ0BtdWkvdXRpbHMvcmVzb2x2ZVByb3BzJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFRoZW1lUHJvcHMocGFyYW1zKSB7XG4gIGNvbnN0IHtcbiAgICB0aGVtZSxcbiAgICBuYW1lLFxuICAgIHByb3BzXG4gIH0gPSBwYXJhbXM7XG4gIGlmICghdGhlbWUgfHwgIXRoZW1lLmNvbXBvbmVudHMgfHwgIXRoZW1lLmNvbXBvbmVudHNbbmFtZV0gfHwgIXRoZW1lLmNvbXBvbmVudHNbbmFtZV0uZGVmYXVsdFByb3BzKSB7XG4gICAgcmV0dXJuIHByb3BzO1xuICB9XG4gIHJldHVybiByZXNvbHZlUHJvcHModGhlbWUuY29tcG9uZW50c1tuYW1lXS5kZWZhdWx0UHJvcHMsIHByb3BzKTtcbn0iLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0IGdldFRoZW1lUHJvcHMgZnJvbSBcIi4vZ2V0VGhlbWVQcm9wcy5qc1wiO1xuaW1wb3J0IHVzZVRoZW1lIGZyb20gXCIuLi91c2VUaGVtZS9pbmRleC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlVGhlbWVQcm9wcyh7XG4gIHByb3BzLFxuICBuYW1lLFxuICBkZWZhdWx0VGhlbWUsXG4gIHRoZW1lSWRcbn0pIHtcbiAgbGV0IHRoZW1lID0gdXNlVGhlbWUoZGVmYXVsdFRoZW1lKTtcbiAgaWYgKHRoZW1lSWQpIHtcbiAgICB0aGVtZSA9IHRoZW1lW3RoZW1lSWRdIHx8IHRoZW1lO1xuICB9XG4gIHJldHVybiBnZXRUaGVtZVByb3BzKHtcbiAgICB0aGVtZSxcbiAgICBuYW1lLFxuICAgIHByb3BzXG4gIH0pO1xufSIsCiAgICAiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdXNlRW5oYW5jZWRFZmZlY3QgZnJvbSAnQG11aS91dGlscy91c2VFbmhhbmNlZEVmZmVjdCc7XG5pbXBvcnQgeyBnZXRUaGVtZVByb3BzIH0gZnJvbSBcIi4uL3VzZVRoZW1lUHJvcHMvaW5kZXguanNcIjtcbmltcG9ydCB1c2VUaGVtZSBmcm9tIFwiLi4vdXNlVGhlbWVXaXRob3V0RGVmYXVsdC9pbmRleC5qc1wiO1xuLy8gVE9ETyBSZWFjdCAxNzogUmVtb3ZlIGB1c2VNZWRpYVF1ZXJ5T2xkYCBvbmNlIFJlYWN0IDE3IHN1cHBvcnQgaXMgcmVtb3ZlZFxuZnVuY3Rpb24gdXNlTWVkaWFRdWVyeU9sZChxdWVyeSwgZGVmYXVsdE1hdGNoZXMsIG1hdGNoTWVkaWEsIHNzck1hdGNoTWVkaWEsIG5vU3NyKSB7XG4gIGNvbnN0IFttYXRjaCwgc2V0TWF0Y2hdID0gUmVhY3QudXNlU3RhdGUoKCkgPT4ge1xuICAgIGlmIChub1NzciAmJiBtYXRjaE1lZGlhKSB7XG4gICAgICByZXR1cm4gbWF0Y2hNZWRpYShxdWVyeSkubWF0Y2hlcztcbiAgICB9XG4gICAgaWYgKHNzck1hdGNoTWVkaWEpIHtcbiAgICAgIHJldHVybiBzc3JNYXRjaE1lZGlhKHF1ZXJ5KS5tYXRjaGVzO1xuICAgIH1cblxuICAgIC8vIE9uY2UgdGhlIGNvbXBvbmVudCBpcyBtb3VudGVkLCB3ZSByZWx5IG9uIHRoZVxuICAgIC8vIGV2ZW50IGxpc3RlbmVycyB0byByZXR1cm4gdGhlIGNvcnJlY3QgbWF0Y2hlcyB2YWx1ZS5cbiAgICByZXR1cm4gZGVmYXVsdE1hdGNoZXM7XG4gIH0pO1xuICB1c2VFbmhhbmNlZEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFtYXRjaE1lZGlhKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBxdWVyeUxpc3QgPSBtYXRjaE1lZGlhKHF1ZXJ5KTtcbiAgICBjb25zdCB1cGRhdGVNYXRjaCA9ICgpID0+IHtcbiAgICAgIHNldE1hdGNoKHF1ZXJ5TGlzdC5tYXRjaGVzKTtcbiAgICB9O1xuICAgIHVwZGF0ZU1hdGNoKCk7XG4gICAgcXVlcnlMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHVwZGF0ZU1hdGNoKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgcXVlcnlMaXN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHVwZGF0ZU1hdGNoKTtcbiAgICB9O1xuICB9LCBbcXVlcnksIG1hdGNoTWVkaWFdKTtcbiAgcmV0dXJuIG1hdGNoO1xufVxuXG4vLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL211aS9tYXRlcmlhbC11aS9pc3N1ZXMvNDExOTAjaXNzdWVjb21tZW50LTIwNDA4NzMzNzkgZm9yIHdoeVxuY29uc3Qgc2FmZVJlYWN0ID0ge1xuICAuLi5SZWFjdFxufTtcbmNvbnN0IG1heWJlUmVhY3RVc2VTeW5jRXh0ZXJuYWxTdG9yZSA9IHNhZmVSZWFjdC51c2VTeW5jRXh0ZXJuYWxTdG9yZTtcbmZ1bmN0aW9uIHVzZU1lZGlhUXVlcnlOZXcocXVlcnksIGRlZmF1bHRNYXRjaGVzLCBtYXRjaE1lZGlhLCBzc3JNYXRjaE1lZGlhLCBub1Nzcikge1xuICBjb25zdCBnZXREZWZhdWx0U25hcHNob3QgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiBkZWZhdWx0TWF0Y2hlcywgW2RlZmF1bHRNYXRjaGVzXSk7XG4gIGNvbnN0IGdldFNlcnZlclNuYXBzaG90ID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKG5vU3NyICYmIG1hdGNoTWVkaWEpIHtcbiAgICAgIHJldHVybiAoKSA9PiBtYXRjaE1lZGlhKHF1ZXJ5KS5tYXRjaGVzO1xuICAgIH1cbiAgICBpZiAoc3NyTWF0Y2hNZWRpYSAhPT0gbnVsbCkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBtYXRjaGVzXG4gICAgICB9ID0gc3NyTWF0Y2hNZWRpYShxdWVyeSk7XG4gICAgICByZXR1cm4gKCkgPT4gbWF0Y2hlcztcbiAgICB9XG4gICAgcmV0dXJuIGdldERlZmF1bHRTbmFwc2hvdDtcbiAgfSwgW2dldERlZmF1bHRTbmFwc2hvdCwgcXVlcnksIHNzck1hdGNoTWVkaWEsIG5vU3NyLCBtYXRjaE1lZGlhXSk7XG4gIGNvbnN0IFtnZXRTbmFwc2hvdCwgc3Vic2NyaWJlXSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgIGlmIChtYXRjaE1lZGlhID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gW2dldERlZmF1bHRTbmFwc2hvdCwgKCkgPT4gKCkgPT4ge31dO1xuICAgIH1cbiAgICBjb25zdCBtZWRpYVF1ZXJ5TGlzdCA9IG1hdGNoTWVkaWEocXVlcnkpO1xuICAgIHJldHVybiBbKCkgPT4gbWVkaWFRdWVyeUxpc3QubWF0Y2hlcywgbm90aWZ5ID0+IHtcbiAgICAgIG1lZGlhUXVlcnlMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIG5vdGlmeSk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBtZWRpYVF1ZXJ5TGlzdC5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBub3RpZnkpO1xuICAgICAgfTtcbiAgICB9XTtcbiAgfSwgW2dldERlZmF1bHRTbmFwc2hvdCwgbWF0Y2hNZWRpYSwgcXVlcnldKTtcbiAgY29uc3QgbWF0Y2ggPSBtYXliZVJlYWN0VXNlU3luY0V4dGVybmFsU3RvcmUoc3Vic2NyaWJlLCBnZXRTbmFwc2hvdCwgZ2V0U2VydmVyU25hcHNob3QpO1xuICByZXR1cm4gbWF0Y2g7XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbmFtaW5nLWNvbnZlbnRpb25cbmV4cG9ydCBmdW5jdGlvbiB1bnN0YWJsZV9jcmVhdGVVc2VNZWRpYVF1ZXJ5KHBhcmFtcyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICB0aGVtZUlkXG4gIH0gPSBwYXJhbXM7XG4gIHJldHVybiBmdW5jdGlvbiB1c2VNZWRpYVF1ZXJ5KHF1ZXJ5SW5wdXQsIG9wdGlvbnMgPSB7fSkge1xuICAgIGxldCB0aGVtZSA9IHVzZVRoZW1lKCk7XG4gICAgaWYgKHRoZW1lICYmIHRoZW1lSWQpIHtcbiAgICAgIHRoZW1lID0gdGhlbWVbdGhlbWVJZF0gfHwgdGhlbWU7XG4gICAgfVxuICAgIC8vIFdhaXQgZm9yIGpzZG9tIHRvIHN1cHBvcnQgdGhlIG1hdGNoIG1lZGlhIGZlYXR1cmUuXG4gICAgLy8gQWxsIHRoZSBicm93c2VycyBNVUkgc3VwcG9ydCBoYXZlIHRoaXMgYnVpbHQtaW4uXG4gICAgLy8gVGhpcyBkZWZlbnNpdmUgY2hlY2sgaXMgaGVyZSBmb3Igc2ltcGxpY2l0eS5cbiAgICAvLyBNb3N0IG9mIHRoZSB0aW1lLCB0aGUgbWF0Y2ggbWVkaWEgbG9naWMgaXNuJ3QgY2VudHJhbCB0byBwZW9wbGUgdGVzdHMuXG4gICAgY29uc3Qgc3VwcG9ydE1hdGNoTWVkaWEgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93Lm1hdGNoTWVkaWEgIT09ICd1bmRlZmluZWQnO1xuICAgIGNvbnN0IHtcbiAgICAgIGRlZmF1bHRNYXRjaGVzID0gZmFsc2UsXG4gICAgICBtYXRjaE1lZGlhID0gc3VwcG9ydE1hdGNoTWVkaWEgPyB3aW5kb3cubWF0Y2hNZWRpYSA6IG51bGwsXG4gICAgICBzc3JNYXRjaE1lZGlhID0gbnVsbCxcbiAgICAgIG5vU3NyID0gZmFsc2VcbiAgICB9ID0gZ2V0VGhlbWVQcm9wcyh7XG4gICAgICBuYW1lOiAnTXVpVXNlTWVkaWFRdWVyeScsXG4gICAgICBwcm9wczogb3B0aW9ucyxcbiAgICAgIHRoZW1lXG4gICAgfSk7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICh0eXBlb2YgcXVlcnlJbnB1dCA9PT0gJ2Z1bmN0aW9uJyAmJiB0aGVtZSA9PT0gbnVsbCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFsnTVVJOiBUaGUgYHF1ZXJ5YCBhcmd1bWVudCBwcm92aWRlZCBpcyBpbnZhbGlkLicsICdZb3UgYXJlIHByb3ZpZGluZyBhIGZ1bmN0aW9uIHdpdGhvdXQgYSB0aGVtZSBpbiB0aGUgY29udGV4dC4nLCAnT25lIG9mIHRoZSBwYXJlbnQgZWxlbWVudHMgbmVlZHMgdG8gdXNlIGEgVGhlbWVQcm92aWRlci4nXS5qb2luKCdcXG4nKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBxdWVyeSA9IHR5cGVvZiBxdWVyeUlucHV0ID09PSAnZnVuY3Rpb24nID8gcXVlcnlJbnB1dCh0aGVtZSkgOiBxdWVyeUlucHV0O1xuICAgIHF1ZXJ5ID0gcXVlcnkucmVwbGFjZSgvXkBtZWRpYSggPykvbSwgJycpO1xuICAgIGlmIChxdWVyeS5pbmNsdWRlcygncHJpbnQnKSkge1xuICAgICAgY29uc29sZS53YXJuKFtgTVVJOiBZb3UgaGF2ZSBwcm92aWRlZCBhIFxcYHByaW50XFxgIHF1ZXJ5IHRvIHRoZSBcXGB1c2VNZWRpYVF1ZXJ5XFxgIGhvb2suYCwgJ1VzaW5nIHRoZSBwcmludCBtZWRpYSBxdWVyeSB0byBtb2RpZnkgcHJpbnQgc3R5bGVzIGNhbiBsZWFkIHRvIHVuZXhwZWN0ZWQgcmVzdWx0cy4nLCAnQ29uc2lkZXIgdXNpbmcgdGhlIGBkaXNwbGF5UHJpbnRgIGZpZWxkIGluIHRoZSBgc3hgIHByb3AgaW5zdGVhZC4nLCAnTW9yZSBpbmZvcm1hdGlvbiBhYm91dCBgZGlzcGxheVByaW50YCBvbiBvdXIgZG9jczogaHR0cHM6Ly9tdWkuY29tL3N5c3RlbS9kaXNwbGF5LyNkaXNwbGF5LWluLXByaW50LiddLmpvaW4oJ1xcbicpKTtcbiAgICB9XG4gICAgY29uc3QgdXNlTWVkaWFRdWVyeUltcGxlbWVudGF0aW9uID0gbWF5YmVSZWFjdFVzZVN5bmNFeHRlcm5hbFN0b3JlICE9PSB1bmRlZmluZWQgPyB1c2VNZWRpYVF1ZXJ5TmV3IDogdXNlTWVkaWFRdWVyeU9sZDtcbiAgICBjb25zdCBtYXRjaCA9IHVzZU1lZGlhUXVlcnlJbXBsZW1lbnRhdGlvbihxdWVyeSwgZGVmYXVsdE1hdGNoZXMsIG1hdGNoTWVkaWEsIHNzck1hdGNoTWVkaWEsIG5vU3NyKTtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL3J1bGVzLW9mLWhvb2tzXG4gICAgICBSZWFjdC51c2VEZWJ1Z1ZhbHVlKHtcbiAgICAgICAgcXVlcnksXG4gICAgICAgIG1hdGNoXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG1hdGNoO1xuICB9O1xufVxuY29uc3QgdXNlTWVkaWFRdWVyeSA9IHVuc3RhYmxlX2NyZWF0ZVVzZU1lZGlhUXVlcnkoKTtcbmV4cG9ydCBkZWZhdWx0IHVzZU1lZGlhUXVlcnk7IiwKICAgICIndXNlIGNsaWVudCc7XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBBIHZlcnNpb24gb2YgYFJlYWN0LnVzZUxheW91dEVmZmVjdGAgdGhhdCBkb2VzIG5vdCBzaG93IGEgd2FybmluZyB3aGVuIHNlcnZlci1zaWRlIHJlbmRlcmluZy5cbiAqIFRoaXMgaXMgdXNlZnVsIGZvciBlZmZlY3RzIHRoYXQgYXJlIG9ubHkgbmVlZGVkIGZvciBjbGllbnQtc2lkZSByZW5kZXJpbmcgYnV0IG5vdCBmb3IgU1NSLlxuICpcbiAqIEJlZm9yZSB5b3UgdXNlIHRoaXMgaG9vaywgbWFrZSBzdXJlIHRvIHJlYWQgaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vZ2FlYXJvbi9lN2Q5N2NkZjM4YTI5MDc5MjRlYTEyZTRlYmRmM2M4NVxuICogYW5kIGNvbmZpcm0gaXQgZG9lc24ndCBhcHBseSB0byB5b3VyIHVzZS1jYXNlLlxuICovXG5jb25zdCB1c2VFbmhhbmNlZEVmZmVjdCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gUmVhY3QudXNlTGF5b3V0RWZmZWN0IDogUmVhY3QudXNlRWZmZWN0O1xuZXhwb3J0IGRlZmF1bHQgdXNlRW5oYW5jZWRFZmZlY3Q7IiwKICAgICJmdW5jdGlvbiBjbGFtcCh2YWwsIG1pbiA9IE51bWJlci5NSU5fU0FGRV9JTlRFR0VSLCBtYXggPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikge1xuICByZXR1cm4gTWF0aC5tYXgobWluLCBNYXRoLm1pbih2YWwsIG1heCkpO1xufVxuZXhwb3J0IGRlZmF1bHQgY2xhbXA7IiwKICAgICJpbXBvcnQgX2Zvcm1hdEVycm9yTWVzc2FnZSBmcm9tIFwiQG11aS91dGlscy9mb3JtYXRNdWlFcnJvck1lc3NhZ2VcIjtcbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvbiAqL1xuaW1wb3J0IGNsYW1wIGZyb20gJ0BtdWkvdXRpbHMvY2xhbXAnO1xuXG4vKipcbiAqIFJldHVybnMgYSBudW1iZXIgd2hvc2UgdmFsdWUgaXMgbGltaXRlZCB0byB0aGUgZ2l2ZW4gcmFuZ2UuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVGhlIHZhbHVlIHRvIGJlIGNsYW1wZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW4gVGhlIGxvd2VyIGJvdW5kYXJ5IG9mIHRoZSBvdXRwdXQgcmFuZ2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggVGhlIHVwcGVyIGJvdW5kYXJ5IG9mIHRoZSBvdXRwdXQgcmFuZ2VcbiAqIEByZXR1cm5zIHtudW1iZXJ9IEEgbnVtYmVyIGluIHRoZSByYW5nZSBbbWluLCBtYXhdXG4gKi9cbmZ1bmN0aW9uIGNsYW1wV3JhcHBlcih2YWx1ZSwgbWluID0gMCwgbWF4ID0gMSkge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmICh2YWx1ZSA8IG1pbiB8fCB2YWx1ZSA+IG1heCkge1xuICAgICAgY29uc29sZS5lcnJvcihgTVVJOiBUaGUgdmFsdWUgcHJvdmlkZWQgJHt2YWx1ZX0gaXMgb3V0IG9mIHJhbmdlIFske21pbn0sICR7bWF4fV0uYCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBjbGFtcCh2YWx1ZSwgbWluLCBtYXgpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgY29sb3IgZnJvbSBDU1MgaGV4IGZvcm1hdCB0byBDU1MgcmdiIGZvcm1hdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciAtIEhleCBjb2xvciwgaS5lLiAjbm5uIG9yICNubm5ubm5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IEEgQ1NTIHJnYiBjb2xvciBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhleFRvUmdiKGNvbG9yKSB7XG4gIGNvbG9yID0gY29sb3Iuc2xpY2UoMSk7XG4gIGNvbnN0IHJlID0gbmV3IFJlZ0V4cChgLnsxLCR7Y29sb3IubGVuZ3RoID49IDYgPyAyIDogMX19YCwgJ2cnKTtcbiAgbGV0IGNvbG9ycyA9IGNvbG9yLm1hdGNoKHJlKTtcbiAgaWYgKGNvbG9ycyAmJiBjb2xvcnNbMF0ubGVuZ3RoID09PSAxKSB7XG4gICAgY29sb3JzID0gY29sb3JzLm1hcChuID0+IG4gKyBuKTtcbiAgfVxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmIChjb2xvci5sZW5ndGggIT09IGNvbG9yLnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYE1VSTogVGhlIGNvbG9yOiBcIiR7Y29sb3J9XCIgaXMgaW52YWxpZC4gTWFrZSBzdXJlIHRoZSBjb2xvciBpbnB1dCBkb2Vzbid0IGNvbnRhaW4gbGVhZGluZy90cmFpbGluZyBzcGFjZS5gKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNvbG9ycyA/IGByZ2Ike2NvbG9ycy5sZW5ndGggPT09IDQgPyAnYScgOiAnJ30oJHtjb2xvcnMubWFwKChuLCBpbmRleCkgPT4ge1xuICAgIHJldHVybiBpbmRleCA8IDMgPyBwYXJzZUludChuLCAxNikgOiBNYXRoLnJvdW5kKHBhcnNlSW50KG4sIDE2KSAvIDI1NSAqIDEwMDApIC8gMTAwMDtcbiAgfSkuam9pbignLCAnKX0pYCA6ICcnO1xufVxuZnVuY3Rpb24gaW50VG9IZXgoaW50KSB7XG4gIGNvbnN0IGhleCA9IGludC50b1N0cmluZygxNik7XG4gIHJldHVybiBoZXgubGVuZ3RoID09PSAxID8gYDAke2hleH1gIDogaGV4O1xufVxuXG4vKipcbiAqIFJldHVybnMgYW4gb2JqZWN0IHdpdGggdGhlIHR5cGUgYW5kIHZhbHVlcyBvZiBhIGNvbG9yLlxuICpcbiAqIE5vdGU6IERvZXMgbm90IHN1cHBvcnQgcmdiICUgdmFsdWVzLlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yIC0gQ1NTIGNvbG9yLCBpLmUuIG9uZSBvZjogI25ubiwgI25ubm5ubiwgcmdiKCksIHJnYmEoKSwgaHNsKCksIGhzbGEoKSwgY29sb3IoKVxuICogQHJldHVybnMge29iamVjdH0gLSBBIE1VSSBjb2xvciBvYmplY3Q6IHt0eXBlOiBzdHJpbmcsIHZhbHVlczogbnVtYmVyW119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWNvbXBvc2VDb2xvcihjb2xvcikge1xuICAvLyBJZGVtcG90ZW50XG4gIGlmIChjb2xvci50eXBlKSB7XG4gICAgcmV0dXJuIGNvbG9yO1xuICB9XG4gIGlmIChjb2xvci5jaGFyQXQoMCkgPT09ICcjJykge1xuICAgIHJldHVybiBkZWNvbXBvc2VDb2xvcihoZXhUb1JnYihjb2xvcikpO1xuICB9XG4gIGNvbnN0IG1hcmtlciA9IGNvbG9yLmluZGV4T2YoJygnKTtcbiAgY29uc3QgdHlwZSA9IGNvbG9yLnN1YnN0cmluZygwLCBtYXJrZXIpO1xuICBpZiAoIVsncmdiJywgJ3JnYmEnLCAnaHNsJywgJ2hzbGEnLCAnY29sb3InXS5pbmNsdWRlcyh0eXBlKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBgTVVJOiBVbnN1cHBvcnRlZCBcXGAke2NvbG9yfVxcYCBjb2xvci5cXG5gICsgJ1RoZSBmb2xsb3dpbmcgZm9ybWF0cyBhcmUgc3VwcG9ydGVkOiAjbm5uLCAjbm5ubm5uLCByZ2IoKSwgcmdiYSgpLCBoc2woKSwgaHNsYSgpLCBjb2xvcigpLicgOiBfZm9ybWF0RXJyb3JNZXNzYWdlKDksIGNvbG9yKSk7XG4gIH1cbiAgbGV0IHZhbHVlcyA9IGNvbG9yLnN1YnN0cmluZyhtYXJrZXIgKyAxLCBjb2xvci5sZW5ndGggLSAxKTtcbiAgbGV0IGNvbG9yU3BhY2U7XG4gIGlmICh0eXBlID09PSAnY29sb3InKSB7XG4gICAgdmFsdWVzID0gdmFsdWVzLnNwbGl0KCcgJyk7XG4gICAgY29sb3JTcGFjZSA9IHZhbHVlcy5zaGlmdCgpO1xuICAgIGlmICh2YWx1ZXMubGVuZ3RoID09PSA0ICYmIHZhbHVlc1szXS5jaGFyQXQoMCkgPT09ICcvJykge1xuICAgICAgdmFsdWVzWzNdID0gdmFsdWVzWzNdLnNsaWNlKDEpO1xuICAgIH1cbiAgICBpZiAoIVsnc3JnYicsICdkaXNwbGF5LXAzJywgJ2E5OC1yZ2InLCAncHJvcGhvdG8tcmdiJywgJ3JlYy0yMDIwJ10uaW5jbHVkZXMoY29sb3JTcGFjZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBgTVVJOiB1bnN1cHBvcnRlZCBcXGAke2NvbG9yU3BhY2V9XFxgIGNvbG9yIHNwYWNlLlxcbmAgKyAnVGhlIGZvbGxvd2luZyBjb2xvciBzcGFjZXMgYXJlIHN1cHBvcnRlZDogc3JnYiwgZGlzcGxheS1wMywgYTk4LXJnYiwgcHJvcGhvdG8tcmdiLCByZWMtMjAyMC4nIDogX2Zvcm1hdEVycm9yTWVzc2FnZSgxMCwgY29sb3JTcGFjZSkpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YWx1ZXMgPSB2YWx1ZXMuc3BsaXQoJywnKTtcbiAgfVxuICB2YWx1ZXMgPSB2YWx1ZXMubWFwKHZhbHVlID0+IHBhcnNlRmxvYXQodmFsdWUpKTtcbiAgcmV0dXJuIHtcbiAgICB0eXBlLFxuICAgIHZhbHVlcyxcbiAgICBjb2xvclNwYWNlXG4gIH07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGNoYW5uZWwgY3JlYXRlZCBmcm9tIHRoZSBpbnB1dCBjb2xvci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29sb3IgLSBDU1MgY29sb3IsIGkuZS4gb25lIG9mOiAjbm5uLCAjbm5ubm5uLCByZ2IoKSwgcmdiYSgpLCBoc2woKSwgaHNsYSgpLCBjb2xvcigpXG4gKiBAcmV0dXJucyB7c3RyaW5nfSAtIFRoZSBjaGFubmVsIGZvciB0aGUgY29sb3IsIHRoYXQgY2FuIGJlIHVzZWQgaW4gcmdiYSBvciBoc2xhIGNvbG9yc1xuICovXG5leHBvcnQgY29uc3QgY29sb3JDaGFubmVsID0gY29sb3IgPT4ge1xuICBjb25zdCBkZWNvbXBvc2VkQ29sb3IgPSBkZWNvbXBvc2VDb2xvcihjb2xvcik7XG4gIHJldHVybiBkZWNvbXBvc2VkQ29sb3IudmFsdWVzLnNsaWNlKDAsIDMpLm1hcCgodmFsLCBpZHgpID0+IGRlY29tcG9zZWRDb2xvci50eXBlLmluY2x1ZGVzKCdoc2wnKSAmJiBpZHggIT09IDAgPyBgJHt2YWx9JWAgOiB2YWwpLmpvaW4oJyAnKTtcbn07XG5leHBvcnQgY29uc3QgcHJpdmF0ZV9zYWZlQ29sb3JDaGFubmVsID0gKGNvbG9yLCB3YXJuaW5nKSA9PiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGNvbG9yQ2hhbm5lbChjb2xvcik7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKHdhcm5pbmcgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgY29uc29sZS53YXJuKHdhcm5pbmcpO1xuICAgIH1cbiAgICByZXR1cm4gY29sb3I7XG4gIH1cbn07XG5cbi8qKlxuICogQ29udmVydHMgYSBjb2xvciBvYmplY3Qgd2l0aCB0eXBlIGFuZCB2YWx1ZXMgdG8gYSBzdHJpbmcuXG4gKiBAcGFyYW0ge29iamVjdH0gY29sb3IgLSBEZWNvbXBvc2VkIGNvbG9yXG4gKiBAcGFyYW0ge3N0cmluZ30gY29sb3IudHlwZSAtIE9uZSBvZjogJ3JnYicsICdyZ2JhJywgJ2hzbCcsICdoc2xhJywgJ2NvbG9yJ1xuICogQHBhcmFtIHthcnJheX0gY29sb3IudmFsdWVzIC0gW24sbixuXSBvciBbbixuLG4sbl1cbiAqIEByZXR1cm5zIHtzdHJpbmd9IEEgQ1NTIGNvbG9yIHN0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmVjb21wb3NlQ29sb3IoY29sb3IpIHtcbiAgY29uc3Qge1xuICAgIHR5cGUsXG4gICAgY29sb3JTcGFjZVxuICB9ID0gY29sb3I7XG4gIGxldCB7XG4gICAgdmFsdWVzXG4gIH0gPSBjb2xvcjtcbiAgaWYgKHR5cGUuaW5jbHVkZXMoJ3JnYicpKSB7XG4gICAgLy8gT25seSBjb252ZXJ0IHRoZSBmaXJzdCAzIHZhbHVlcyB0byBpbnQgKGkuZS4gbm90IGFscGhhKVxuICAgIHZhbHVlcyA9IHZhbHVlcy5tYXAoKG4sIGkpID0+IGkgPCAzID8gcGFyc2VJbnQobiwgMTApIDogbik7XG4gIH0gZWxzZSBpZiAodHlwZS5pbmNsdWRlcygnaHNsJykpIHtcbiAgICB2YWx1ZXNbMV0gPSBgJHt2YWx1ZXNbMV19JWA7XG4gICAgdmFsdWVzWzJdID0gYCR7dmFsdWVzWzJdfSVgO1xuICB9XG4gIGlmICh0eXBlLmluY2x1ZGVzKCdjb2xvcicpKSB7XG4gICAgdmFsdWVzID0gYCR7Y29sb3JTcGFjZX0gJHt2YWx1ZXMuam9pbignICcpfWA7XG4gIH0gZWxzZSB7XG4gICAgdmFsdWVzID0gYCR7dmFsdWVzLmpvaW4oJywgJyl9YDtcbiAgfVxuICByZXR1cm4gYCR7dHlwZX0oJHt2YWx1ZXN9KWA7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBjb2xvciBmcm9tIENTUyByZ2IgZm9ybWF0IHRvIENTUyBoZXggZm9ybWF0LlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yIC0gUkdCIGNvbG9yLCBpLmUuIHJnYihuLCBuLCBuKVxuICogQHJldHVybnMge3N0cmluZ30gQSBDU1MgcmdiIGNvbG9yIHN0cmluZywgaS5lLiAjbm5ubm5uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZ2JUb0hleChjb2xvcikge1xuICAvLyBJZGVtcG90ZW50XG4gIGlmIChjb2xvci5zdGFydHNXaXRoKCcjJykpIHtcbiAgICByZXR1cm4gY29sb3I7XG4gIH1cbiAgY29uc3Qge1xuICAgIHZhbHVlc1xuICB9ID0gZGVjb21wb3NlQ29sb3IoY29sb3IpO1xuICByZXR1cm4gYCMke3ZhbHVlcy5tYXAoKG4sIGkpID0+IGludFRvSGV4KGkgPT09IDMgPyBNYXRoLnJvdW5kKDI1NSAqIG4pIDogbikpLmpvaW4oJycpfWA7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBjb2xvciBmcm9tIGhzbCBmb3JtYXQgdG8gcmdiIGZvcm1hdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciAtIEhTTCBjb2xvciB2YWx1ZXNcbiAqIEByZXR1cm5zIHtzdHJpbmd9IHJnYiBjb2xvciB2YWx1ZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhzbFRvUmdiKGNvbG9yKSB7XG4gIGNvbG9yID0gZGVjb21wb3NlQ29sb3IoY29sb3IpO1xuICBjb25zdCB7XG4gICAgdmFsdWVzXG4gIH0gPSBjb2xvcjtcbiAgY29uc3QgaCA9IHZhbHVlc1swXTtcbiAgY29uc3QgcyA9IHZhbHVlc1sxXSAvIDEwMDtcbiAgY29uc3QgbCA9IHZhbHVlc1syXSAvIDEwMDtcbiAgY29uc3QgYSA9IHMgKiBNYXRoLm1pbihsLCAxIC0gbCk7XG4gIGNvbnN0IGYgPSAobiwgayA9IChuICsgaCAvIDMwKSAlIDEyKSA9PiBsIC0gYSAqIE1hdGgubWF4KE1hdGgubWluKGsgLSAzLCA5IC0gaywgMSksIC0xKTtcbiAgbGV0IHR5cGUgPSAncmdiJztcbiAgY29uc3QgcmdiID0gW01hdGgucm91bmQoZigwKSAqIDI1NSksIE1hdGgucm91bmQoZig4KSAqIDI1NSksIE1hdGgucm91bmQoZig0KSAqIDI1NSldO1xuICBpZiAoY29sb3IudHlwZSA9PT0gJ2hzbGEnKSB7XG4gICAgdHlwZSArPSAnYSc7XG4gICAgcmdiLnB1c2godmFsdWVzWzNdKTtcbiAgfVxuICByZXR1cm4gcmVjb21wb3NlQ29sb3Ioe1xuICAgIHR5cGUsXG4gICAgdmFsdWVzOiByZ2JcbiAgfSk7XG59XG4vKipcbiAqIFRoZSByZWxhdGl2ZSBicmlnaHRuZXNzIG9mIGFueSBwb2ludCBpbiBhIGNvbG9yIHNwYWNlLFxuICogbm9ybWFsaXplZCB0byAwIGZvciBkYXJrZXN0IGJsYWNrIGFuZCAxIGZvciBsaWdodGVzdCB3aGl0ZS5cbiAqXG4gKiBGb3JtdWxhOiBodHRwczovL3d3dy53My5vcmcvVFIvV0NBRzIwLVRFQ0hTL0cxNy5odG1sI0cxNy10ZXN0c1xuICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yIC0gQ1NTIGNvbG9yLCBpLmUuIG9uZSBvZjogI25ubiwgI25ubm5ubiwgcmdiKCksIHJnYmEoKSwgaHNsKCksIGhzbGEoKSwgY29sb3IoKVxuICogQHJldHVybnMge251bWJlcn0gVGhlIHJlbGF0aXZlIGJyaWdodG5lc3Mgb2YgdGhlIGNvbG9yIGluIHRoZSByYW5nZSAwIC0gMVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0THVtaW5hbmNlKGNvbG9yKSB7XG4gIGNvbG9yID0gZGVjb21wb3NlQ29sb3IoY29sb3IpO1xuICBsZXQgcmdiID0gY29sb3IudHlwZSA9PT0gJ2hzbCcgfHwgY29sb3IudHlwZSA9PT0gJ2hzbGEnID8gZGVjb21wb3NlQ29sb3IoaHNsVG9SZ2IoY29sb3IpKS52YWx1ZXMgOiBjb2xvci52YWx1ZXM7XG4gIHJnYiA9IHJnYi5tYXAodmFsID0+IHtcbiAgICBpZiAoY29sb3IudHlwZSAhPT0gJ2NvbG9yJykge1xuICAgICAgdmFsIC89IDI1NTsgLy8gbm9ybWFsaXplZFxuICAgIH1cbiAgICByZXR1cm4gdmFsIDw9IDAuMDM5MjggPyB2YWwgLyAxMi45MiA6ICgodmFsICsgMC4wNTUpIC8gMS4wNTUpICoqIDIuNDtcbiAgfSk7XG5cbiAgLy8gVHJ1bmNhdGUgYXQgMyBkaWdpdHNcbiAgcmV0dXJuIE51bWJlcigoMC4yMTI2ICogcmdiWzBdICsgMC43MTUyICogcmdiWzFdICsgMC4wNzIyICogcmdiWzJdKS50b0ZpeGVkKDMpKTtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBjb250cmFzdCByYXRpbyBiZXR3ZWVuIHR3byBjb2xvcnMuXG4gKlxuICogRm9ybXVsYTogaHR0cHM6Ly93d3cudzMub3JnL1RSL1dDQUcyMC1URUNIUy9HMTcuaHRtbCNHMTctdGVzdHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBmb3JlZ3JvdW5kIC0gQ1NTIGNvbG9yLCBpLmUuIG9uZSBvZjogI25ubiwgI25ubm5ubiwgcmdiKCksIHJnYmEoKSwgaHNsKCksIGhzbGEoKVxuICogQHBhcmFtIHtzdHJpbmd9IGJhY2tncm91bmQgLSBDU1MgY29sb3IsIGkuZS4gb25lIG9mOiAjbm5uLCAjbm5ubm5uLCByZ2IoKSwgcmdiYSgpLCBoc2woKSwgaHNsYSgpXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBBIGNvbnRyYXN0IHJhdGlvIHZhbHVlIGluIHRoZSByYW5nZSAwIC0gMjEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb250cmFzdFJhdGlvKGZvcmVncm91bmQsIGJhY2tncm91bmQpIHtcbiAgY29uc3QgbHVtQSA9IGdldEx1bWluYW5jZShmb3JlZ3JvdW5kKTtcbiAgY29uc3QgbHVtQiA9IGdldEx1bWluYW5jZShiYWNrZ3JvdW5kKTtcbiAgcmV0dXJuIChNYXRoLm1heChsdW1BLCBsdW1CKSArIDAuMDUpIC8gKE1hdGgubWluKGx1bUEsIGx1bUIpICsgMC4wNSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgYWJzb2x1dGUgdHJhbnNwYXJlbmN5IG9mIGEgY29sb3IuXG4gKiBBbnkgZXhpc3RpbmcgYWxwaGEgdmFsdWVzIGFyZSBvdmVyd3JpdHRlbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciAtIENTUyBjb2xvciwgaS5lLiBvbmUgb2Y6ICNubm4sICNubm5ubm4sIHJnYigpLCByZ2JhKCksIGhzbCgpLCBoc2xhKCksIGNvbG9yKClcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIHZhbHVlIHRvIHNldCB0aGUgYWxwaGEgY2hhbm5lbCB0byBpbiB0aGUgcmFuZ2UgMCAtIDFcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEEgQ1NTIGNvbG9yIHN0cmluZy4gSGV4IGlucHV0IHZhbHVlcyBhcmUgcmV0dXJuZWQgYXMgcmdiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhbHBoYShjb2xvciwgdmFsdWUpIHtcbiAgY29sb3IgPSBkZWNvbXBvc2VDb2xvcihjb2xvcik7XG4gIHZhbHVlID0gY2xhbXBXcmFwcGVyKHZhbHVlKTtcbiAgaWYgKGNvbG9yLnR5cGUgPT09ICdyZ2InIHx8IGNvbG9yLnR5cGUgPT09ICdoc2wnKSB7XG4gICAgY29sb3IudHlwZSArPSAnYSc7XG4gIH1cbiAgaWYgKGNvbG9yLnR5cGUgPT09ICdjb2xvcicpIHtcbiAgICBjb2xvci52YWx1ZXNbM10gPSBgLyR7dmFsdWV9YDtcbiAgfSBlbHNlIHtcbiAgICBjb2xvci52YWx1ZXNbM10gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gcmVjb21wb3NlQ29sb3IoY29sb3IpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHByaXZhdGVfc2FmZUFscGhhKGNvbG9yLCB2YWx1ZSwgd2FybmluZykge1xuICB0cnkge1xuICAgIHJldHVybiBhbHBoYShjb2xvciwgdmFsdWUpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmICh3YXJuaW5nICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbG9yO1xuICB9XG59XG5cbi8qKlxuICogRGFya2VucyBhIGNvbG9yLlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yIC0gQ1NTIGNvbG9yLCBpLmUuIG9uZSBvZjogI25ubiwgI25ubm5ubiwgcmdiKCksIHJnYmEoKSwgaHNsKCksIGhzbGEoKSwgY29sb3IoKVxuICogQHBhcmFtIHtudW1iZXJ9IGNvZWZmaWNpZW50IC0gbXVsdGlwbGllciBpbiB0aGUgcmFuZ2UgMCAtIDFcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEEgQ1NTIGNvbG9yIHN0cmluZy4gSGV4IGlucHV0IHZhbHVlcyBhcmUgcmV0dXJuZWQgYXMgcmdiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkYXJrZW4oY29sb3IsIGNvZWZmaWNpZW50KSB7XG4gIGNvbG9yID0gZGVjb21wb3NlQ29sb3IoY29sb3IpO1xuICBjb2VmZmljaWVudCA9IGNsYW1wV3JhcHBlcihjb2VmZmljaWVudCk7XG4gIGlmIChjb2xvci50eXBlLmluY2x1ZGVzKCdoc2wnKSkge1xuICAgIGNvbG9yLnZhbHVlc1syXSAqPSAxIC0gY29lZmZpY2llbnQ7XG4gIH0gZWxzZSBpZiAoY29sb3IudHlwZS5pbmNsdWRlcygncmdiJykgfHwgY29sb3IudHlwZS5pbmNsdWRlcygnY29sb3InKSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSArPSAxKSB7XG4gICAgICBjb2xvci52YWx1ZXNbaV0gKj0gMSAtIGNvZWZmaWNpZW50O1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVjb21wb3NlQ29sb3IoY29sb3IpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHByaXZhdGVfc2FmZURhcmtlbihjb2xvciwgY29lZmZpY2llbnQsIHdhcm5pbmcpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZGFya2VuKGNvbG9yLCBjb2VmZmljaWVudCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKHdhcm5pbmcgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgY29uc29sZS53YXJuKHdhcm5pbmcpO1xuICAgIH1cbiAgICByZXR1cm4gY29sb3I7XG4gIH1cbn1cblxuLyoqXG4gKiBMaWdodGVucyBhIGNvbG9yLlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yIC0gQ1NTIGNvbG9yLCBpLmUuIG9uZSBvZjogI25ubiwgI25ubm5ubiwgcmdiKCksIHJnYmEoKSwgaHNsKCksIGhzbGEoKSwgY29sb3IoKVxuICogQHBhcmFtIHtudW1iZXJ9IGNvZWZmaWNpZW50IC0gbXVsdGlwbGllciBpbiB0aGUgcmFuZ2UgMCAtIDFcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEEgQ1NTIGNvbG9yIHN0cmluZy4gSGV4IGlucHV0IHZhbHVlcyBhcmUgcmV0dXJuZWQgYXMgcmdiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaWdodGVuKGNvbG9yLCBjb2VmZmljaWVudCkge1xuICBjb2xvciA9IGRlY29tcG9zZUNvbG9yKGNvbG9yKTtcbiAgY29lZmZpY2llbnQgPSBjbGFtcFdyYXBwZXIoY29lZmZpY2llbnQpO1xuICBpZiAoY29sb3IudHlwZS5pbmNsdWRlcygnaHNsJykpIHtcbiAgICBjb2xvci52YWx1ZXNbMl0gKz0gKDEwMCAtIGNvbG9yLnZhbHVlc1syXSkgKiBjb2VmZmljaWVudDtcbiAgfSBlbHNlIGlmIChjb2xvci50eXBlLmluY2x1ZGVzKCdyZ2InKSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSArPSAxKSB7XG4gICAgICBjb2xvci52YWx1ZXNbaV0gKz0gKDI1NSAtIGNvbG9yLnZhbHVlc1tpXSkgKiBjb2VmZmljaWVudDtcbiAgICB9XG4gIH0gZWxzZSBpZiAoY29sb3IudHlwZS5pbmNsdWRlcygnY29sb3InKSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSArPSAxKSB7XG4gICAgICBjb2xvci52YWx1ZXNbaV0gKz0gKDEgLSBjb2xvci52YWx1ZXNbaV0pICogY29lZmZpY2llbnQ7XG4gICAgfVxuICB9XG4gIHJldHVybiByZWNvbXBvc2VDb2xvcihjb2xvcik7XG59XG5leHBvcnQgZnVuY3Rpb24gcHJpdmF0ZV9zYWZlTGlnaHRlbihjb2xvciwgY29lZmZpY2llbnQsIHdhcm5pbmcpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gbGlnaHRlbihjb2xvciwgY29lZmZpY2llbnQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmICh3YXJuaW5nICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbG9yO1xuICB9XG59XG5cbi8qKlxuICogRGFya2VuIG9yIGxpZ2h0ZW4gYSBjb2xvciwgZGVwZW5kaW5nIG9uIGl0cyBsdW1pbmFuY2UuXG4gKiBMaWdodCBjb2xvcnMgYXJlIGRhcmtlbmVkLCBkYXJrIGNvbG9ycyBhcmUgbGlnaHRlbmVkLlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yIC0gQ1NTIGNvbG9yLCBpLmUuIG9uZSBvZjogI25ubiwgI25ubm5ubiwgcmdiKCksIHJnYmEoKSwgaHNsKCksIGhzbGEoKSwgY29sb3IoKVxuICogQHBhcmFtIHtudW1iZXJ9IGNvZWZmaWNpZW50PTAuMTUgLSBtdWx0aXBsaWVyIGluIHRoZSByYW5nZSAwIC0gMVxuICogQHJldHVybnMge3N0cmluZ30gQSBDU1MgY29sb3Igc3RyaW5nLiBIZXggaW5wdXQgdmFsdWVzIGFyZSByZXR1cm5lZCBhcyByZ2JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVtcGhhc2l6ZShjb2xvciwgY29lZmZpY2llbnQgPSAwLjE1KSB7XG4gIHJldHVybiBnZXRMdW1pbmFuY2UoY29sb3IpID4gMC41ID8gZGFya2VuKGNvbG9yLCBjb2VmZmljaWVudCkgOiBsaWdodGVuKGNvbG9yLCBjb2VmZmljaWVudCk7XG59XG5leHBvcnQgZnVuY3Rpb24gcHJpdmF0ZV9zYWZlRW1waGFzaXplKGNvbG9yLCBjb2VmZmljaWVudCwgd2FybmluZykge1xuICB0cnkge1xuICAgIHJldHVybiBlbXBoYXNpemUoY29sb3IsIGNvZWZmaWNpZW50KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAod2FybmluZyAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBjb25zb2xlLndhcm4od2FybmluZyk7XG4gICAgfVxuICAgIHJldHVybiBjb2xvcjtcbiAgfVxufVxuXG4vKipcbiAqIEJsZW5kIGEgdHJhbnNwYXJlbnQgb3ZlcmxheSBjb2xvciB3aXRoIGEgYmFja2dyb3VuZCBjb2xvciwgcmVzdWx0aW5nIGluIGEgc2luZ2xlXG4gKiBSR0IgY29sb3IuXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFja2dyb3VuZCAtIENTUyBjb2xvclxuICogQHBhcmFtIHtzdHJpbmd9IG92ZXJsYXkgLSBDU1MgY29sb3JcbiAqIEBwYXJhbSB7bnVtYmVyfSBvcGFjaXR5IC0gT3BhY2l0eSBtdWx0aXBsaWVyIGluIHRoZSByYW5nZSAwIC0gMVxuICogQHBhcmFtIHtudW1iZXJ9IFtnYW1tYT0xLjBdIC0gR2FtbWEgY29ycmVjdGlvbiBmYWN0b3IuIEZvciBnYW1tYS1jb3JyZWN0IGJsZW5kaW5nLCAyLjIgaXMgdXN1YWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBibGVuZChiYWNrZ3JvdW5kLCBvdmVybGF5LCBvcGFjaXR5LCBnYW1tYSA9IDEuMCkge1xuICBjb25zdCBibGVuZENoYW5uZWwgPSAoYiwgbykgPT4gTWF0aC5yb3VuZCgoYiAqKiAoMSAvIGdhbW1hKSAqICgxIC0gb3BhY2l0eSkgKyBvICoqICgxIC8gZ2FtbWEpICogb3BhY2l0eSkgKiogZ2FtbWEpO1xuICBjb25zdCBiYWNrZ3JvdW5kQ29sb3IgPSBkZWNvbXBvc2VDb2xvcihiYWNrZ3JvdW5kKTtcbiAgY29uc3Qgb3ZlcmxheUNvbG9yID0gZGVjb21wb3NlQ29sb3Iob3ZlcmxheSk7XG4gIGNvbnN0IHJnYiA9IFtibGVuZENoYW5uZWwoYmFja2dyb3VuZENvbG9yLnZhbHVlc1swXSwgb3ZlcmxheUNvbG9yLnZhbHVlc1swXSksIGJsZW5kQ2hhbm5lbChiYWNrZ3JvdW5kQ29sb3IudmFsdWVzWzFdLCBvdmVybGF5Q29sb3IudmFsdWVzWzFdKSwgYmxlbmRDaGFubmVsKGJhY2tncm91bmRDb2xvci52YWx1ZXNbMl0sIG92ZXJsYXlDb2xvci52YWx1ZXNbMl0pXTtcbiAgcmV0dXJuIHJlY29tcG9zZUNvbG9yKHtcbiAgICB0eXBlOiAncmdiJyxcbiAgICB2YWx1ZXM6IHJnYlxuICB9KTtcbn0iLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IFRoZW1lUHJvdmlkZXIgYXMgTXVpVGhlbWVQcm92aWRlciwgdXNlVGhlbWUgYXMgdXNlUHJpdmF0ZVRoZW1lIH0gZnJvbSAnQG11aS9wcml2YXRlLXRoZW1pbmcnO1xuaW1wb3J0IGV4YWN0UHJvcCBmcm9tICdAbXVpL3V0aWxzL2V4YWN0UHJvcCc7XG5pbXBvcnQgeyBUaGVtZUNvbnRleHQgYXMgU3R5bGVkRW5naW5lVGhlbWVDb250ZXh0IH0gZnJvbSAnQG11aS9zdHlsZWQtZW5naW5lJztcbmltcG9ydCB1c2VUaGVtZVdpdGhvdXREZWZhdWx0IGZyb20gXCIuLi91c2VUaGVtZVdpdGhvdXREZWZhdWx0L2luZGV4LmpzXCI7XG5pbXBvcnQgUnRsUHJvdmlkZXIgZnJvbSBcIi4uL1J0bFByb3ZpZGVyL2luZGV4LmpzXCI7XG5pbXBvcnQgRGVmYXVsdFByb3BzUHJvdmlkZXIgZnJvbSBcIi4uL0RlZmF1bHRQcm9wc1Byb3ZpZGVyL2luZGV4LmpzXCI7XG5pbXBvcnQgdXNlTGF5ZXJPcmRlciBmcm9tIFwiLi91c2VMYXllck9yZGVyLmpzXCI7XG5pbXBvcnQgeyBqc3hzIGFzIF9qc3hzLCBqc3ggYXMgX2pzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuY29uc3QgRU1QVFlfVEhFTUUgPSB7fTtcbmZ1bmN0aW9uIHVzZVRoZW1lU2NvcGluZyh0aGVtZUlkLCB1cHBlclRoZW1lLCBsb2NhbFRoZW1lLCBpc1ByaXZhdGUgPSBmYWxzZSkge1xuICByZXR1cm4gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgcmVzb2x2ZWRUaGVtZSA9IHRoZW1lSWQgPyB1cHBlclRoZW1lW3RoZW1lSWRdIHx8IHVwcGVyVGhlbWUgOiB1cHBlclRoZW1lO1xuICAgIGlmICh0eXBlb2YgbG9jYWxUaGVtZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29uc3QgbWVyZ2VkVGhlbWUgPSBsb2NhbFRoZW1lKHJlc29sdmVkVGhlbWUpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gdGhlbWVJZCA/IHtcbiAgICAgICAgLi4udXBwZXJUaGVtZSxcbiAgICAgICAgW3RoZW1lSWRdOiBtZXJnZWRUaGVtZVxuICAgICAgfSA6IG1lcmdlZFRoZW1lO1xuICAgICAgLy8gbXVzdCByZXR1cm4gYSBmdW5jdGlvbiBmb3IgdGhlIHByaXZhdGUgdGhlbWUgdG8gTk9UIG1lcmdlIHdpdGggdGhlIHVwcGVyIHRoZW1lLlxuICAgICAgLy8gc2VlIHRoZSB0ZXN0IGNhc2UgXCJ1c2UgcHJvdmlkZWQgdGhlbWUgZnJvbSBhIGNhbGxiYWNrXCIgaW4gVGhlbWVQcm92aWRlci50ZXN0LmpzXG4gICAgICBpZiAoaXNQcml2YXRlKSB7XG4gICAgICAgIHJldHVybiAoKSA9PiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gdGhlbWVJZCA/IHtcbiAgICAgIC4uLnVwcGVyVGhlbWUsXG4gICAgICBbdGhlbWVJZF06IGxvY2FsVGhlbWVcbiAgICB9IDoge1xuICAgICAgLi4udXBwZXJUaGVtZSxcbiAgICAgIC4uLmxvY2FsVGhlbWVcbiAgICB9O1xuICB9LCBbdGhlbWVJZCwgdXBwZXJUaGVtZSwgbG9jYWxUaGVtZSwgaXNQcml2YXRlXSk7XG59XG5cbi8qKlxuICogVGhpcyBjb21wb25lbnQgbWFrZXMgdGhlIGB0aGVtZWAgYXZhaWxhYmxlIGRvd24gdGhlIFJlYWN0IHRyZWUuXG4gKiBJdCBzaG91bGQgcHJlZmVyYWJseSBiZSB1c2VkIGF0ICoqdGhlIHJvb3Qgb2YgeW91ciBjb21wb25lbnQgdHJlZSoqLlxuICpcbiAqIDxUaGVtZVByb3ZpZGVyIHRoZW1lPXt0aGVtZX0+IC8vIGV4aXN0aW5nIHVzZSBjYXNlXG4gKiA8VGhlbWVQcm92aWRlciB0aGVtZT17eyBpZDogdGhlbWUgfX0+IC8vIHRoZW1lIHNjb3BpbmdcbiAqL1xuZnVuY3Rpb24gVGhlbWVQcm92aWRlcihwcm9wcykge1xuICBjb25zdCB7XG4gICAgY2hpbGRyZW4sXG4gICAgdGhlbWU6IGxvY2FsVGhlbWUsXG4gICAgdGhlbWVJZFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHVwcGVyVGhlbWUgPSB1c2VUaGVtZVdpdGhvdXREZWZhdWx0KEVNUFRZX1RIRU1FKTtcbiAgY29uc3QgdXBwZXJQcml2YXRlVGhlbWUgPSB1c2VQcml2YXRlVGhlbWUoKSB8fCBFTVBUWV9USEVNRTtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBpZiAodXBwZXJUaGVtZSA9PT0gbnVsbCAmJiB0eXBlb2YgbG9jYWxUaGVtZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0aGVtZUlkICYmIHVwcGVyVGhlbWUgJiYgIXVwcGVyVGhlbWVbdGhlbWVJZF0gJiYgdHlwZW9mIGxvY2FsVGhlbWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoWydNVUk6IFlvdSBhcmUgcHJvdmlkaW5nIGEgdGhlbWUgZnVuY3Rpb24gcHJvcCB0byB0aGUgVGhlbWVQcm92aWRlciBjb21wb25lbnQ6JywgJzxUaGVtZVByb3ZpZGVyIHRoZW1lPXtvdXRlclRoZW1lID0+IG91dGVyVGhlbWV9IC8+JywgJycsICdIb3dldmVyLCBubyBvdXRlciB0aGVtZSBpcyBwcmVzZW50LicsICdNYWtlIHN1cmUgYSB0aGVtZSBpcyBhbHJlYWR5IGluamVjdGVkIGhpZ2hlciBpbiB0aGUgUmVhY3QgdHJlZSAnICsgJ29yIHByb3ZpZGUgYSB0aGVtZSBvYmplY3QuJ10uam9pbignXFxuJykpO1xuICAgIH1cbiAgfVxuICBjb25zdCBlbmdpbmVUaGVtZSA9IHVzZVRoZW1lU2NvcGluZyh0aGVtZUlkLCB1cHBlclRoZW1lLCBsb2NhbFRoZW1lKTtcbiAgY29uc3QgcHJpdmF0ZVRoZW1lID0gdXNlVGhlbWVTY29waW5nKHRoZW1lSWQsIHVwcGVyUHJpdmF0ZVRoZW1lLCBsb2NhbFRoZW1lLCB0cnVlKTtcbiAgY29uc3QgcnRsVmFsdWUgPSAodGhlbWVJZCA/IGVuZ2luZVRoZW1lW3RoZW1lSWRdIDogZW5naW5lVGhlbWUpLmRpcmVjdGlvbiA9PT0gJ3J0bCc7XG4gIGNvbnN0IGxheWVyT3JkZXIgPSB1c2VMYXllck9yZGVyKGVuZ2luZVRoZW1lKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KE11aVRoZW1lUHJvdmlkZXIsIHtcbiAgICB0aGVtZTogcHJpdmF0ZVRoZW1lLFxuICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChTdHlsZWRFbmdpbmVUaGVtZUNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICAgIHZhbHVlOiBlbmdpbmVUaGVtZSxcbiAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChSdGxQcm92aWRlciwge1xuICAgICAgICB2YWx1ZTogcnRsVmFsdWUsXG4gICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeHMoRGVmYXVsdFByb3BzUHJvdmlkZXIsIHtcbiAgICAgICAgICB2YWx1ZTogdGhlbWVJZCA/IGVuZ2luZVRoZW1lW3RoZW1lSWRdLmNvbXBvbmVudHMgOiBlbmdpbmVUaGVtZS5jb21wb25lbnRzLFxuICAgICAgICAgIGNoaWxkcmVuOiBbbGF5ZXJPcmRlciwgY2hpbGRyZW5dXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pXG4gIH0pO1xufVxucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gVGhlbWVQcm92aWRlci5wcm9wVHlwZXMgLyogcmVtb3ZlLXByb3B0eXBlcyAqLyA9IHtcbiAgLy8g4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIFdhcm5pbmcg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQXG4gIC8vIOKUgiBUaGVzZSBQcm9wVHlwZXMgYXJlIGdlbmVyYXRlZCBmcm9tIHRoZSBUeXBlU2NyaXB0IHR5cGUgZGVmaW5pdGlvbnMuIOKUglxuICAvLyDilIIgICAgVG8gdXBkYXRlIHRoZW0sIGVkaXQgdGhlIGQudHMgZmlsZSBhbmQgcnVuIGBwbnBtIHByb3B0eXBlc2AuICAgICDilIJcbiAgLy8g4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG4gIC8qKlxuICAgKiBZb3VyIGNvbXBvbmVudCB0cmVlLlxuICAgKi9cbiAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuICAvKipcbiAgICogQSB0aGVtZSBvYmplY3QuIFlvdSBjYW4gcHJvdmlkZSBhIGZ1bmN0aW9uIHRvIGV4dGVuZCB0aGUgb3V0ZXIgdGhlbWUuXG4gICAqL1xuICB0aGVtZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3RdKS5pc1JlcXVpcmVkLFxuICAvKipcbiAgICogVGhlIGRlc2lnbiBzeXN0ZW0ncyB1bmlxdWUgaWQgZm9yIGdldHRpbmcgdGhlIGNvcnJlc3BvbmRlZCB0aGVtZSB3aGVuIHRoZXJlIGFyZSBtdWx0aXBsZSBkZXNpZ24gc3lzdGVtcy5cbiAgICovXG4gIHRoZW1lSWQ6IFByb3BUeXBlcy5zdHJpbmdcbn0gOiB2b2lkIDA7XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBUaGVtZVByb3ZpZGVyLnByb3BUeXBlcyA9IGV4YWN0UHJvcChUaGVtZVByb3ZpZGVyLnByb3BUeXBlcykgOiB2b2lkIDA7XG59XG5leHBvcnQgZGVmYXVsdCBUaGVtZVByb3ZpZGVyOyIsCiAgICAiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBleGFjdFByb3AgZnJvbSAnQG11aS91dGlscy9leGFjdFByb3AnO1xuaW1wb3J0IFRoZW1lQ29udGV4dCBmcm9tIFwiLi4vdXNlVGhlbWUvVGhlbWVDb250ZXh0LmpzXCI7XG5pbXBvcnQgdXNlVGhlbWUgZnJvbSBcIi4uL3VzZVRoZW1lL2luZGV4LmpzXCI7XG5pbXBvcnQgbmVzdGVkIGZyb20gXCIuL25lc3RlZC5qc1wiO1xuXG4vLyBUbyBzdXBwb3J0IGNvbXBvc2l0aW9uIG9mIHRoZW1lLlxuaW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIG1lcmdlT3V0ZXJMb2NhbFRoZW1lKG91dGVyVGhlbWUsIGxvY2FsVGhlbWUpIHtcbiAgaWYgKHR5cGVvZiBsb2NhbFRoZW1lID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY29uc3QgbWVyZ2VkVGhlbWUgPSBsb2NhbFRoZW1lKG91dGVyVGhlbWUpO1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAoIW1lcmdlZFRoZW1lKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoWydNVUk6IFlvdSBzaG91bGQgcmV0dXJuIGFuIG9iamVjdCBmcm9tIHlvdXIgdGhlbWUgZnVuY3Rpb24sIGkuZS4nLCAnPFRoZW1lUHJvdmlkZXIgdGhlbWU9eygpID0+ICh7fSl9IC8+J10uam9pbignXFxuJykpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVyZ2VkVGhlbWU7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICAuLi5vdXRlclRoZW1lLFxuICAgIC4uLmxvY2FsVGhlbWVcbiAgfTtcbn1cblxuLyoqXG4gKiBUaGlzIGNvbXBvbmVudCB0YWtlcyBhIGB0aGVtZWAgcHJvcC5cbiAqIEl0IG1ha2VzIHRoZSBgdGhlbWVgIGF2YWlsYWJsZSBkb3duIHRoZSBSZWFjdCB0cmVlIHRoYW5rcyB0byBSZWFjdCBjb250ZXh0LlxuICogVGhpcyBjb21wb25lbnQgc2hvdWxkIHByZWZlcmFibHkgYmUgdXNlZCBhdCAqKnRoZSByb290IG9mIHlvdXIgY29tcG9uZW50IHRyZWUqKi5cbiAqL1xuZnVuY3Rpb24gVGhlbWVQcm92aWRlcihwcm9wcykge1xuICBjb25zdCB7XG4gICAgY2hpbGRyZW4sXG4gICAgdGhlbWU6IGxvY2FsVGhlbWVcbiAgfSA9IHByb3BzO1xuICBjb25zdCBvdXRlclRoZW1lID0gdXNlVGhlbWUoKTtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBpZiAob3V0ZXJUaGVtZSA9PT0gbnVsbCAmJiB0eXBlb2YgbG9jYWxUaGVtZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29uc29sZS5lcnJvcihbJ01VSTogWW91IGFyZSBwcm92aWRpbmcgYSB0aGVtZSBmdW5jdGlvbiBwcm9wIHRvIHRoZSBUaGVtZVByb3ZpZGVyIGNvbXBvbmVudDonLCAnPFRoZW1lUHJvdmlkZXIgdGhlbWU9e291dGVyVGhlbWUgPT4gb3V0ZXJUaGVtZX0gLz4nLCAnJywgJ0hvd2V2ZXIsIG5vIG91dGVyIHRoZW1lIGlzIHByZXNlbnQuJywgJ01ha2Ugc3VyZSBhIHRoZW1lIGlzIGFscmVhZHkgaW5qZWN0ZWQgaGlnaGVyIGluIHRoZSBSZWFjdCB0cmVlICcgKyAnb3IgcHJvdmlkZSBhIHRoZW1lIG9iamVjdC4nXS5qb2luKCdcXG4nKSk7XG4gICAgfVxuICB9XG4gIGNvbnN0IHRoZW1lID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3Qgb3V0cHV0ID0gb3V0ZXJUaGVtZSA9PT0gbnVsbCA/IHtcbiAgICAgIC4uLmxvY2FsVGhlbWVcbiAgICB9IDogbWVyZ2VPdXRlckxvY2FsVGhlbWUob3V0ZXJUaGVtZSwgbG9jYWxUaGVtZSk7XG4gICAgaWYgKG91dHB1dCAhPSBudWxsKSB7XG4gICAgICBvdXRwdXRbbmVzdGVkXSA9IG91dGVyVGhlbWUgIT09IG51bGw7XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQ7XG4gIH0sIFtsb2NhbFRoZW1lLCBvdXRlclRoZW1lXSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeChUaGVtZUNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogdGhlbWUsXG4gICAgY2hpbGRyZW46IGNoaWxkcmVuXG4gIH0pO1xufVxucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gVGhlbWVQcm92aWRlci5wcm9wVHlwZXMgPSB7XG4gIC8qKlxuICAgKiBZb3VyIGNvbXBvbmVudCB0cmVlLlxuICAgKi9cbiAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuICAvKipcbiAgICogQSB0aGVtZSBvYmplY3QuIFlvdSBjYW4gcHJvdmlkZSBhIGZ1bmN0aW9uIHRvIGV4dGVuZCB0aGUgb3V0ZXIgdGhlbWUuXG4gICAqL1xuICB0aGVtZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9iamVjdCwgUHJvcFR5cGVzLmZ1bmNdKS5pc1JlcXVpcmVkXG59IDogdm9pZCAwO1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gVGhlbWVQcm92aWRlci5wcm9wVHlwZXMgPSBleGFjdFByb3AoVGhlbWVQcm92aWRlci5wcm9wVHlwZXMpIDogdm9pZCAwO1xufVxuZXhwb3J0IGRlZmF1bHQgVGhlbWVQcm92aWRlcjsiLAogICAgIi8vIFRoaXMgbW9kdWxlIGlzIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9haXJibmIvcHJvcC10eXBlcy1leGFjdCByZXBvc2l0b3J5LlxuLy8gSG93ZXZlciwgaW4gb3JkZXIgdG8gcmVkdWNlIHRoZSBudW1iZXIgb2YgZGVwZW5kZW5jaWVzIGFuZCB0byByZW1vdmUgc29tZSBleHRyYSBzYWZlIGNoZWNrc1xuLy8gdGhlIG1vZHVsZSB3YXMgZm9ya2VkLlxuXG5jb25zdCBzcGVjaWFsUHJvcGVydHkgPSAnZXhhY3QtcHJvcDogXFx1MjAwYic7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBleGFjdFByb3AocHJvcFR5cGVzKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgcmV0dXJuIHByb3BUeXBlcztcbiAgfVxuICByZXR1cm4ge1xuICAgIC4uLnByb3BUeXBlcyxcbiAgICBbc3BlY2lhbFByb3BlcnR5XTogcHJvcHMgPT4ge1xuICAgICAgY29uc3QgdW5zdXBwb3J0ZWRQcm9wcyA9IE9iamVjdC5rZXlzKHByb3BzKS5maWx0ZXIocHJvcCA9PiAhcHJvcFR5cGVzLmhhc093blByb3BlcnR5KHByb3ApKTtcbiAgICAgIGlmICh1bnN1cHBvcnRlZFByb3BzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihgVGhlIGZvbGxvd2luZyBwcm9wcyBhcmUgbm90IHN1cHBvcnRlZDogJHt1bnN1cHBvcnRlZFByb3BzLm1hcChwcm9wID0+IGBcXGAke3Byb3B9XFxgYCkuam9pbignLCAnKX0uIFBsZWFzZSByZW1vdmUgdGhlbS5gKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfTtcbn0iLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuY29uc3QgVGhlbWVDb250ZXh0ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBUaGVtZUNvbnRleHQuZGlzcGxheU5hbWUgPSAnVGhlbWVDb250ZXh0Jztcbn1cbmV4cG9ydCBkZWZhdWx0IFRoZW1lQ29udGV4dDsiLAogICAgImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBUaGVtZUNvbnRleHQgZnJvbSBcIi4vVGhlbWVDb250ZXh0LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VUaGVtZSgpIHtcbiAgY29uc3QgdGhlbWUgPSBSZWFjdC51c2VDb250ZXh0KFRoZW1lQ29udGV4dCk7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgLy8gVE9ETzogdW5jb21tZW50IG9uY2Ugd2UgZW5hYmxlIGVzbGludC1wbHVnaW4tcmVhY3QtY29tcGlsZXIgZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWNvbXBpbGVyL3JlYWN0LWNvbXBpbGVyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL3J1bGVzLW9mLWhvb2tzIC0tIEl0J3Mgbm90IHJlcXVpcmVkIHRvIHJ1biBSZWFjdC51c2VEZWJ1Z1ZhbHVlIGluIHByb2R1Y3Rpb25cbiAgICBSZWFjdC51c2VEZWJ1Z1ZhbHVlKHRoZW1lKTtcbiAgfVxuICByZXR1cm4gdGhlbWU7XG59IiwKICAgICJjb25zdCBoYXNTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5mb3I7XG5leHBvcnQgZGVmYXVsdCBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdtdWkubmVzdGVkJykgOiAnX19USEVNRV9ORVNURURfXyc7IiwKICAgICIndXNlIGNsaWVudCc7XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuY29uc3QgUnRsQ29udGV4dCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVDb250ZXh0KCk7XG5mdW5jdGlvbiBSdGxQcm92aWRlcih7XG4gIHZhbHVlLFxuICAuLi5wcm9wc1xufSkge1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3goUnRsQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiB2YWx1ZSA/PyB0cnVlLFxuICAgIC4uLnByb3BzXG4gIH0pO1xufVxucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gUnRsUHJvdmlkZXIucHJvcFR5cGVzID0ge1xuICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUsXG4gIHZhbHVlOiBQcm9wVHlwZXMuYm9vbFxufSA6IHZvaWQgMDtcbmV4cG9ydCBjb25zdCB1c2VSdGwgPSAoKSA9PiB7XG4gIGNvbnN0IHZhbHVlID0gUmVhY3QudXNlQ29udGV4dChSdGxDb250ZXh0KTtcbiAgcmV0dXJuIHZhbHVlID8/IGZhbHNlO1xufTtcbmV4cG9ydCBkZWZhdWx0IFJ0bFByb3ZpZGVyOyIsCiAgICAiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHJlc29sdmVQcm9wcyBmcm9tICdAbXVpL3V0aWxzL3Jlc29sdmVQcm9wcyc7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuY29uc3QgUHJvcHNDb250ZXh0ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUNvbnRleHQodW5kZWZpbmVkKTtcbmZ1bmN0aW9uIERlZmF1bHRQcm9wc1Byb3ZpZGVyKHtcbiAgdmFsdWUsXG4gIGNoaWxkcmVuXG59KSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeChQcm9wc0NvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogdmFsdWUsXG4gICAgY2hpbGRyZW46IGNoaWxkcmVuXG4gIH0pO1xufVxucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gRGVmYXVsdFByb3BzUHJvdmlkZXIucHJvcFR5cGVzIC8qIHJlbW92ZS1wcm9wdHlwZXMgKi8gPSB7XG4gIC8vIOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBXYXJuaW5nIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuICAvLyDilIIgVGhlc2UgUHJvcFR5cGVzIGFyZSBnZW5lcmF0ZWQgZnJvbSB0aGUgVHlwZVNjcmlwdCB0eXBlIGRlZmluaXRpb25zLiDilIJcbiAgLy8g4pSCIFRvIHVwZGF0ZSB0aGVtLCBlZGl0IHRoZSBUeXBlU2NyaXB0IHR5cGVzIGFuZCBydW4gYHBucG0gcHJvcHR5cGVzYC4g4pSCXG4gIC8vIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgdmFsdWU6IFByb3BUeXBlcy5vYmplY3Rcbn0gOiB2b2lkIDA7XG5mdW5jdGlvbiBnZXRUaGVtZVByb3BzKHBhcmFtcykge1xuICBjb25zdCB7XG4gICAgdGhlbWUsXG4gICAgbmFtZSxcbiAgICBwcm9wc1xuICB9ID0gcGFyYW1zO1xuICBpZiAoIXRoZW1lIHx8ICF0aGVtZS5jb21wb25lbnRzIHx8ICF0aGVtZS5jb21wb25lbnRzW25hbWVdKSB7XG4gICAgcmV0dXJuIHByb3BzO1xuICB9XG4gIGNvbnN0IGNvbmZpZyA9IHRoZW1lLmNvbXBvbmVudHNbbmFtZV07XG4gIGlmIChjb25maWcuZGVmYXVsdFByb3BzKSB7XG4gICAgLy8gY29tcGF0aWJsZSB3aXRoIHY1IHNpZ25hdHVyZVxuICAgIHJldHVybiByZXNvbHZlUHJvcHMoY29uZmlnLmRlZmF1bHRQcm9wcywgcHJvcHMsIHRoZW1lLmNvbXBvbmVudHMubWVyZ2VDbGFzc05hbWVBbmRTdHlsZSk7XG4gIH1cbiAgaWYgKCFjb25maWcuc3R5bGVPdmVycmlkZXMgJiYgIWNvbmZpZy52YXJpYW50cykge1xuICAgIC8vIHY2IHNpZ25hdHVyZSwgbm8gcHJvcGVydHkgJ2RlZmF1bHRQcm9wcydcbiAgICByZXR1cm4gcmVzb2x2ZVByb3BzKGNvbmZpZywgcHJvcHMsIHRoZW1lLmNvbXBvbmVudHMubWVyZ2VDbGFzc05hbWVBbmRTdHlsZSk7XG4gIH1cbiAgcmV0dXJuIHByb3BzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVzZURlZmF1bHRQcm9wcyh7XG4gIHByb3BzLFxuICBuYW1lXG59KSB7XG4gIGNvbnN0IGN0eCA9IFJlYWN0LnVzZUNvbnRleHQoUHJvcHNDb250ZXh0KTtcbiAgcmV0dXJuIGdldFRoZW1lUHJvcHMoe1xuICAgIHByb3BzLFxuICAgIG5hbWUsXG4gICAgdGhlbWU6IHtcbiAgICAgIGNvbXBvbmVudHM6IGN0eFxuICAgIH1cbiAgfSk7XG59XG5leHBvcnQgZGVmYXVsdCBEZWZhdWx0UHJvcHNQcm92aWRlcjsiLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xubGV0IGdsb2JhbElkID0gMDtcblxuLy8gVE9ETyBSZWFjdCAxNzogUmVtb3ZlIGB1c2VHbG9iYWxJZGAgb25jZSBSZWFjdCAxNyBzdXBwb3J0IGlzIHJlbW92ZWRcbmZ1bmN0aW9uIHVzZUdsb2JhbElkKGlkT3ZlcnJpZGUpIHtcbiAgY29uc3QgW2RlZmF1bHRJZCwgc2V0RGVmYXVsdElkXSA9IFJlYWN0LnVzZVN0YXRlKGlkT3ZlcnJpZGUpO1xuICBjb25zdCBpZCA9IGlkT3ZlcnJpZGUgfHwgZGVmYXVsdElkO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChkZWZhdWx0SWQgPT0gbnVsbCkge1xuICAgICAgLy8gRmFsbGJhY2sgdG8gdGhpcyBkZWZhdWx0IGlkIHdoZW4gcG9zc2libGUuXG4gICAgICAvLyBVc2UgdGhlIGluY3JlbWVudGluZyB2YWx1ZSBmb3IgY2xpZW50LXNpZGUgcmVuZGVyaW5nIG9ubHkuXG4gICAgICAvLyBXZSBjYW4ndCB1c2UgaXQgc2VydmVyLXNpZGUuXG4gICAgICAvLyBJZiB5b3Ugd2FudCB0byB1c2UgcmFuZG9tIHZhbHVlcyBwbGVhc2UgY29uc2lkZXIgdGhlIEJpcnRoZGF5IFByb2JsZW06IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0JpcnRoZGF5X3Byb2JsZW1cbiAgICAgIGdsb2JhbElkICs9IDE7XG4gICAgICBzZXREZWZhdWx0SWQoYG11aS0ke2dsb2JhbElkfWApO1xuICAgIH1cbiAgfSwgW2RlZmF1bHRJZF0pO1xuICByZXR1cm4gaWQ7XG59XG5cbi8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbXVpL21hdGVyaWFsLXVpL2lzc3Vlcy80MTE5MCNpc3N1ZWNvbW1lbnQtMjA0MDg3MzM3OSBmb3Igd2h5XG5jb25zdCBzYWZlUmVhY3QgPSB7XG4gIC4uLlJlYWN0XG59O1xuY29uc3QgbWF5YmVSZWFjdFVzZUlkID0gc2FmZVJlYWN0LnVzZUlkO1xuXG4vKipcbiAqXG4gKiBAZXhhbXBsZSA8ZGl2IGlkPXt1c2VJZCgpfSAvPlxuICogQHBhcmFtIGlkT3ZlcnJpZGVcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZUlkKGlkT3ZlcnJpZGUpIHtcbiAgLy8gUmVhY3QudXNlSWQoKSBpcyBvbmx5IGF2YWlsYWJsZSBmcm9tIFJlYWN0IDE3LjAuMC5cbiAgaWYgKG1heWJlUmVhY3RVc2VJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3QgcmVhY3RJZCA9IG1heWJlUmVhY3RVc2VJZCgpO1xuICAgIHJldHVybiBpZE92ZXJyaWRlID8/IHJlYWN0SWQ7XG4gIH1cblxuICAvLyBUT0RPOiB1bmNvbW1lbnQgb25jZSB3ZSBlbmFibGUgZXNsaW50LXBsdWdpbi1yZWFjdC1jb21waWxlciAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtY29tcGlsZXIvcmVhY3QtY29tcGlsZXJcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL3J1bGVzLW9mLWhvb2tzIC0tIGBSZWFjdC51c2VJZGAgaXMgaW52YXJpYW50IGF0IHJ1bnRpbWUuXG4gIHJldHVybiB1c2VHbG9iYWxJZChpZE92ZXJyaWRlKTtcbn0iLAogICAgImltcG9ydCB1c2VFbmhhbmNlZEVmZmVjdCBmcm9tICdAbXVpL3V0aWxzL3VzZUVuaGFuY2VkRWZmZWN0JztcbmltcG9ydCB1c2VJZCBmcm9tICdAbXVpL3V0aWxzL3VzZUlkJztcbmltcG9ydCBHbG9iYWxTdHlsZXMgZnJvbSBcIi4uL0dsb2JhbFN0eWxlcy9pbmRleC5qc1wiO1xuaW1wb3J0IHVzZVRoZW1lV2l0aG91dERlZmF1bHQgZnJvbSBcIi4uL3VzZVRoZW1lV2l0aG91dERlZmF1bHQvaW5kZXguanNcIjtcblxuLyoqXG4gKiBUaGlzIGhvb2sgcmV0dXJucyBhIGBHbG9iYWxTdHlsZXNgIGNvbXBvbmVudCB0aGF0IHNldHMgdGhlIENTUyBsYXllciBvcmRlciAoZm9yIHNlcnZlci1zaWRlIHJlbmRlcmluZykuXG4gKiBUaGVuIG9uIGNsaWVudC1zaWRlLCBpdCBpbmplY3RzIHRoZSBDU1MgbGF5ZXIgb3JkZXIgaW50byB0aGUgZG9jdW1lbnQgaGVhZCB0byBlbnN1cmUgdGhhdCB0aGUgbGF5ZXIgb3JkZXIgaXMgYWx3YXlzIHByZXNlbnQgZmlyc3QgYmVmb3JlIG90aGVyIEVtb3Rpb24gc3R5bGVzLlxuICovXG5pbXBvcnQgeyBqc3ggYXMgX2pzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlTGF5ZXJPcmRlcih0aGVtZSkge1xuICBjb25zdCB1cHBlclRoZW1lID0gdXNlVGhlbWVXaXRob3V0RGVmYXVsdCgpO1xuICBjb25zdCBpZCA9IHVzZUlkKCkgfHwgJyc7XG4gIGNvbnN0IHtcbiAgICBtb2R1bGFyQ3NzTGF5ZXJzXG4gIH0gPSB0aGVtZTtcbiAgbGV0IGxheWVyT3JkZXIgPSAnbXVpLmdsb2JhbCwgbXVpLmNvbXBvbmVudHMsIG11aS50aGVtZSwgbXVpLmN1c3RvbSwgbXVpLnN4JztcbiAgaWYgKCFtb2R1bGFyQ3NzTGF5ZXJzIHx8IHVwcGVyVGhlbWUgIT09IG51bGwpIHtcbiAgICAvLyBza2lwIHRoaXMgaG9vayBpZiB1cHBlciB0aGVtZSBleGlzdHMuXG4gICAgbGF5ZXJPcmRlciA9ICcnO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGFyQ3NzTGF5ZXJzID09PSAnc3RyaW5nJykge1xuICAgIGxheWVyT3JkZXIgPSBtb2R1bGFyQ3NzTGF5ZXJzLnJlcGxhY2UoL211aSg/IVxcLikvZywgbGF5ZXJPcmRlcik7XG4gIH0gZWxzZSB7XG4gICAgbGF5ZXJPcmRlciA9IGBAbGF5ZXIgJHtsYXllck9yZGVyfTtgO1xuICB9XG4gIHVzZUVuaGFuY2VkRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoZWFkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZCcpO1xuICAgIGlmICghaGVhZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmaXJzdENoaWxkID0gaGVhZC5maXJzdENoaWxkO1xuICAgIGlmIChsYXllck9yZGVyKSB7XG4gICAgICAvLyBPbmx5IGluc2VydCBpZiBmaXJzdCBjaGlsZCBkb2Vzbid0IGhhdmUgZGF0YS1tdWktbGF5ZXItb3JkZXIgYXR0cmlidXRlXG4gICAgICBpZiAoZmlyc3RDaGlsZCAmJiBmaXJzdENoaWxkLmhhc0F0dHJpYnV0ZT8uKCdkYXRhLW11aS1sYXllci1vcmRlcicpICYmIGZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCdkYXRhLW11aS1sYXllci1vcmRlcicpID09PSBpZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1tdWktbGF5ZXItb3JkZXInLCBpZCk7XG4gICAgICBzdHlsZUVsZW1lbnQudGV4dENvbnRlbnQgPSBsYXllck9yZGVyO1xuICAgICAgaGVhZC5wcmVwZW5kKHN0eWxlRWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlYWQucXVlcnlTZWxlY3Rvcihgc3R5bGVbZGF0YS1tdWktbGF5ZXItb3JkZXI9XCIke2lkfVwiXWApPy5yZW1vdmUoKTtcbiAgICB9XG4gIH0sIFtsYXllck9yZGVyLCBpZF0pO1xuICBpZiAoIWxheWVyT3JkZXIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gLyojX19QVVJFX18qL19qc3goR2xvYmFsU3R5bGVzLCB7XG4gICAgc3R5bGVzOiBsYXllck9yZGVyXG4gIH0pO1xufSIsCiAgICAiaW1wb3J0IHByZXByb2Nlc3NTdHlsZXMgZnJvbSBcIi4vcHJlcHJvY2Vzc1N0eWxlcy5qc1wiO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbmFtaW5nLWNvbnZlbnRpb24gKi9cblxuLy8gV2UgbmVlZCB0byBwYXNzIGFuIGFyZ3VtZW50IGFzIGB7IHRoZW1lIH1gIGZvciBQaWdtZW50Q1NTLCBidXQgd2UgZG9uJ3Qgd2FudCB0b1xuLy8gYWxsb2NhdGUgbW9yZSBvYmplY3RzLlxuY29uc3QgYXJnID0ge1xuICB0aGVtZTogdW5kZWZpbmVkXG59O1xuXG4vKipcbiAqIE1lbW9pemUgc3R5bGUgZnVuY3Rpb24gb24gdGhlbWUuXG4gKiBJbnRlbmRlZCB0byBiZSB1c2VkIGluIHN0eWxlZCgpIGNhbGxzIHRoYXQgb25seSBuZWVkIGFjY2VzcyB0byB0aGUgdGhlbWUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVuc3RhYmxlX21lbW9UaGVtZShzdHlsZUZuKSB7XG4gIGxldCBsYXN0VmFsdWU7XG4gIGxldCBsYXN0VGhlbWU7XG4gIHJldHVybiBmdW5jdGlvbiBzdHlsZU1lbW9pemVkKHByb3BzKSB7XG4gICAgbGV0IHZhbHVlID0gbGFzdFZhbHVlO1xuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHByb3BzLnRoZW1lICE9PSBsYXN0VGhlbWUpIHtcbiAgICAgIGFyZy50aGVtZSA9IHByb3BzLnRoZW1lO1xuICAgICAgdmFsdWUgPSBwcmVwcm9jZXNzU3R5bGVzKHN0eWxlRm4oYXJnKSk7XG4gICAgICBsYXN0VmFsdWUgPSB2YWx1ZTtcbiAgICAgIGxhc3RUaGVtZSA9IHByb3BzLnRoZW1lO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG59IiwKICAgICIndXNlIGNsaWVudCc7XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBHbG9iYWxTdHlsZXMgfSBmcm9tICdAbXVpL3N0eWxlZC1lbmdpbmUnO1xuaW1wb3J0IHsgdXNlVGhlbWUgYXMgbXVpVXNlVGhlbWUgfSBmcm9tICdAbXVpL3ByaXZhdGUtdGhlbWluZyc7XG5pbXBvcnQgdXNlRW5oYW5jZWRFZmZlY3QgZnJvbSAnQG11aS91dGlscy91c2VFbmhhbmNlZEVmZmVjdCc7XG5pbXBvcnQgVGhlbWVQcm92aWRlciBmcm9tIFwiLi4vVGhlbWVQcm92aWRlci9pbmRleC5qc1wiO1xuaW1wb3J0IEluaXRDb2xvclNjaGVtZVNjcmlwdCwgeyBERUZBVUxUX0NPTE9SX1NDSEVNRV9TVE9SQUdFX0tFWSwgREVGQVVMVF9NT0RFX1NUT1JBR0VfS0VZIH0gZnJvbSBcIi4uL0luaXRDb2xvclNjaGVtZVNjcmlwdC9Jbml0Q29sb3JTY2hlbWVTY3JpcHQuanNcIjtcbmltcG9ydCB1c2VDdXJyZW50Q29sb3JTY2hlbWUgZnJvbSBcIi4vdXNlQ3VycmVudENvbG9yU2NoZW1lLmpzXCI7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZXhwb3J0IGNvbnN0IERJU0FCTEVfQ1NTX1RSQU5TSVRJT04gPSAnKnstd2Via2l0LXRyYW5zaXRpb246bm9uZSFpbXBvcnRhbnQ7LW1vei10cmFuc2l0aW9uOm5vbmUhaW1wb3J0YW50Oy1vLXRyYW5zaXRpb246bm9uZSFpbXBvcnRhbnQ7LW1zLXRyYW5zaXRpb246bm9uZSFpbXBvcnRhbnQ7dHJhbnNpdGlvbjpub25lIWltcG9ydGFudH0nO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlQ3NzVmFyc1Byb3ZpZGVyKG9wdGlvbnMpIHtcbiAgY29uc3Qge1xuICAgIHRoZW1lSWQsXG4gICAgLyoqXG4gICAgICogVGhpcyBgdGhlbWVgIG9iamVjdCBuZWVkcyB0byBmb2xsb3cgYSBjZXJ0YWluIHN0cnVjdHVyZSB0b1xuICAgICAqIGJlIHVzZWQgY29ycmVjdGx5IGJ5IHRoZSBmaW5lbCBgQ3NzVmFyc1Byb3ZpZGVyYC4gSXQgc2hvdWxkIGhhdmUgYVxuICAgICAqIGBjb2xvclNjaGVtZXNgIGtleSB3aXRoIHRoZSBsaWdodCBhbmQgZGFyayAoYW5kIGFueSBvdGhlcikgcGFsZXR0ZS5cbiAgICAgKiBJdCBzaG91bGQgYWxzbyBpZGVhbGx5IGhhdmUgYSB2YXJzIG9iamVjdCBjcmVhdGVkIHVzaW5nIGBwcmVwYXJlQ3NzVmFyc2AuXG4gICAgICovXG4gICAgdGhlbWU6IGRlZmF1bHRUaGVtZSA9IHt9LFxuICAgIG1vZGVTdG9yYWdlS2V5OiBkZWZhdWx0TW9kZVN0b3JhZ2VLZXkgPSBERUZBVUxUX01PREVfU1RPUkFHRV9LRVksXG4gICAgY29sb3JTY2hlbWVTdG9yYWdlS2V5OiBkZWZhdWx0Q29sb3JTY2hlbWVTdG9yYWdlS2V5ID0gREVGQVVMVF9DT0xPUl9TQ0hFTUVfU1RPUkFHRV9LRVksXG4gICAgZGlzYWJsZVRyYW5zaXRpb25PbkNoYW5nZTogZGVzaWduU3lzdGVtVHJhbnNpdGlvbk9uQ2hhbmdlID0gZmFsc2UsXG4gICAgZGVmYXVsdENvbG9yU2NoZW1lLFxuICAgIHJlc29sdmVUaGVtZVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgZGVmYXVsdENvbnRleHQgPSB7XG4gICAgYWxsQ29sb3JTY2hlbWVzOiBbXSxcbiAgICBjb2xvclNjaGVtZTogdW5kZWZpbmVkLFxuICAgIGRhcmtDb2xvclNjaGVtZTogdW5kZWZpbmVkLFxuICAgIGxpZ2h0Q29sb3JTY2hlbWU6IHVuZGVmaW5lZCxcbiAgICBtb2RlOiB1bmRlZmluZWQsXG4gICAgc2V0Q29sb3JTY2hlbWU6ICgpID0+IHt9LFxuICAgIHNldE1vZGU6ICgpID0+IHt9LFxuICAgIHN5c3RlbU1vZGU6IHVuZGVmaW5lZFxuICB9O1xuICBjb25zdCBDb2xvclNjaGVtZUNvbnRleHQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlQ29udGV4dCh1bmRlZmluZWQpO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIENvbG9yU2NoZW1lQ29udGV4dC5kaXNwbGF5TmFtZSA9ICdDb2xvclNjaGVtZUNvbnRleHQnO1xuICB9XG4gIGNvbnN0IHVzZUNvbG9yU2NoZW1lID0gKCkgPT4gUmVhY3QudXNlQ29udGV4dChDb2xvclNjaGVtZUNvbnRleHQpIHx8IGRlZmF1bHRDb250ZXh0O1xuICBjb25zdCBkZWZhdWx0Q29sb3JTY2hlbWVzID0ge307XG4gIGNvbnN0IGRlZmF1bHRDb21wb25lbnRzID0ge307XG4gIGZ1bmN0aW9uIENzc1ZhcnNQcm92aWRlcihwcm9wcykge1xuICAgIGNvbnN0IHtcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgdGhlbWU6IHRoZW1lUHJvcCxcbiAgICAgIG1vZGVTdG9yYWdlS2V5ID0gZGVmYXVsdE1vZGVTdG9yYWdlS2V5LFxuICAgICAgY29sb3JTY2hlbWVTdG9yYWdlS2V5ID0gZGVmYXVsdENvbG9yU2NoZW1lU3RvcmFnZUtleSxcbiAgICAgIGRpc2FibGVUcmFuc2l0aW9uT25DaGFuZ2UgPSBkZXNpZ25TeXN0ZW1UcmFuc2l0aW9uT25DaGFuZ2UsXG4gICAgICBzdG9yYWdlTWFuYWdlcixcbiAgICAgIHN0b3JhZ2VXaW5kb3cgPSB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IHdpbmRvdyxcbiAgICAgIGRvY3VtZW50Tm9kZSA9IHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBkb2N1bWVudCxcbiAgICAgIGNvbG9yU2NoZW1lTm9kZSA9IHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsXG4gICAgICBkaXNhYmxlTmVzdGVkQ29udGV4dCA9IGZhbHNlLFxuICAgICAgZGlzYWJsZVN0eWxlU2hlZXRHZW5lcmF0aW9uID0gZmFsc2UsXG4gICAgICBkZWZhdWx0TW9kZTogaW5pdGlhbE1vZGUgPSAnc3lzdGVtJyxcbiAgICAgIGZvcmNlVGhlbWVSZXJlbmRlciA9IGZhbHNlLFxuICAgICAgbm9Tc3JcbiAgICB9ID0gcHJvcHM7XG4gICAgY29uc3QgaGFzTW91bnRlZCA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gICAgY29uc3QgdXBwZXJUaGVtZSA9IG11aVVzZVRoZW1lKCk7XG4gICAgY29uc3QgY3R4ID0gUmVhY3QudXNlQ29udGV4dChDb2xvclNjaGVtZUNvbnRleHQpO1xuICAgIGNvbnN0IG5lc3RlZCA9ICEhY3R4ICYmICFkaXNhYmxlTmVzdGVkQ29udGV4dDtcbiAgICBjb25zdCBpbml0aWFsVGhlbWUgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICAgIGlmICh0aGVtZVByb3ApIHtcbiAgICAgICAgcmV0dXJuIHRoZW1lUHJvcDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0eXBlb2YgZGVmYXVsdFRoZW1lID09PSAnZnVuY3Rpb24nID8gZGVmYXVsdFRoZW1lKCkgOiBkZWZhdWx0VGhlbWU7XG4gICAgfSwgW3RoZW1lUHJvcF0pO1xuICAgIGNvbnN0IHNjb3BlZFRoZW1lID0gaW5pdGlhbFRoZW1lW3RoZW1lSWRdO1xuICAgIGNvbnN0IHJlc3RUaGVtZVByb3AgPSBzY29wZWRUaGVtZSB8fCBpbml0aWFsVGhlbWU7XG4gICAgY29uc3Qge1xuICAgICAgY29sb3JTY2hlbWVzID0gZGVmYXVsdENvbG9yU2NoZW1lcyxcbiAgICAgIGNvbXBvbmVudHMgPSBkZWZhdWx0Q29tcG9uZW50cyxcbiAgICAgIGNzc1ZhclByZWZpeFxuICAgIH0gPSByZXN0VGhlbWVQcm9wO1xuICAgIGNvbnN0IGpvaW5lZENvbG9yU2NoZW1lcyA9IE9iamVjdC5rZXlzKGNvbG9yU2NoZW1lcykuZmlsdGVyKGsgPT4gISFjb2xvclNjaGVtZXNba10pLmpvaW4oJywnKTtcbiAgICBjb25zdCBhbGxDb2xvclNjaGVtZXMgPSBSZWFjdC51c2VNZW1vKCgpID0+IGpvaW5lZENvbG9yU2NoZW1lcy5zcGxpdCgnLCcpLCBbam9pbmVkQ29sb3JTY2hlbWVzXSk7XG4gICAgY29uc3QgZGVmYXVsdExpZ2h0Q29sb3JTY2hlbWUgPSB0eXBlb2YgZGVmYXVsdENvbG9yU2NoZW1lID09PSAnc3RyaW5nJyA/IGRlZmF1bHRDb2xvclNjaGVtZSA6IGRlZmF1bHRDb2xvclNjaGVtZS5saWdodDtcbiAgICBjb25zdCBkZWZhdWx0RGFya0NvbG9yU2NoZW1lID0gdHlwZW9mIGRlZmF1bHRDb2xvclNjaGVtZSA9PT0gJ3N0cmluZycgPyBkZWZhdWx0Q29sb3JTY2hlbWUgOiBkZWZhdWx0Q29sb3JTY2hlbWUuZGFyaztcbiAgICBjb25zdCBkZWZhdWx0TW9kZSA9IGNvbG9yU2NoZW1lc1tkZWZhdWx0TGlnaHRDb2xvclNjaGVtZV0gJiYgY29sb3JTY2hlbWVzW2RlZmF1bHREYXJrQ29sb3JTY2hlbWVdID8gaW5pdGlhbE1vZGUgOiBjb2xvclNjaGVtZXNbcmVzdFRoZW1lUHJvcC5kZWZhdWx0Q29sb3JTY2hlbWVdPy5wYWxldHRlPy5tb2RlIHx8IHJlc3RUaGVtZVByb3AucGFsZXR0ZT8ubW9kZTtcblxuICAgIC8vIDEuIEdldCB0aGUgZGF0YSBhYm91dCB0aGUgYG1vZGVgLCBgY29sb3JTY2hlbWVgLCBhbmQgc2V0dGVyIGZ1bmN0aW9ucy5cbiAgICBjb25zdCB7XG4gICAgICBtb2RlOiBzdGF0ZU1vZGUsXG4gICAgICBzZXRNb2RlLFxuICAgICAgc3lzdGVtTW9kZSxcbiAgICAgIGxpZ2h0Q29sb3JTY2hlbWUsXG4gICAgICBkYXJrQ29sb3JTY2hlbWUsXG4gICAgICBjb2xvclNjaGVtZTogc3RhdGVDb2xvclNjaGVtZSxcbiAgICAgIHNldENvbG9yU2NoZW1lXG4gICAgfSA9IHVzZUN1cnJlbnRDb2xvclNjaGVtZSh7XG4gICAgICBzdXBwb3J0ZWRDb2xvclNjaGVtZXM6IGFsbENvbG9yU2NoZW1lcyxcbiAgICAgIGRlZmF1bHRMaWdodENvbG9yU2NoZW1lLFxuICAgICAgZGVmYXVsdERhcmtDb2xvclNjaGVtZSxcbiAgICAgIG1vZGVTdG9yYWdlS2V5LFxuICAgICAgY29sb3JTY2hlbWVTdG9yYWdlS2V5LFxuICAgICAgZGVmYXVsdE1vZGUsXG4gICAgICBzdG9yYWdlTWFuYWdlcixcbiAgICAgIHN0b3JhZ2VXaW5kb3csXG4gICAgICBub1NzclxuICAgIH0pO1xuICAgIGxldCBtb2RlID0gc3RhdGVNb2RlO1xuICAgIGxldCBjb2xvclNjaGVtZSA9IHN0YXRlQ29sb3JTY2hlbWU7XG4gICAgaWYgKG5lc3RlZCkge1xuICAgICAgbW9kZSA9IGN0eC5tb2RlO1xuICAgICAgY29sb3JTY2hlbWUgPSBjdHguY29sb3JTY2hlbWU7XG4gICAgfVxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAoZm9yY2VUaGVtZVJlcmVuZGVyICYmICFyZXN0VGhlbWVQcm9wLnZhcnMpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFsnTVVJOiBUaGUgYGZvcmNlVGhlbWVSZXJlbmRlcmAgcHJvcCBzaG91bGQgb25seSBiZSB1c2VkIHdpdGggQ1NTIHRoZW1lIHZhcmlhYmxlcy4nLCAnTm90ZSB0aGF0IGl0IHdpbGwgc2xvdyBkb3duIHRoZSBhcHAgd2hlbiBjaGFuZ2luZyBiZXR3ZWVuIG1vZGVzLCBzbyBvbmx5IGRvIHRoaXMgd2hlbiB5b3UgY2Fubm90IGZpbmQgYSBiZXR0ZXIgc29sdXRpb24uJ10uam9pbignXFxuJykpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGBjb2xvclNjaGVtZWAgaXMgdW5kZWZpbmVkIG9uIHRoZSBzZXJ2ZXIgYW5kIGh5ZHJhdGlvbiBwaGFzZVxuICAgIGxldCBjYWxjdWxhdGVkQ29sb3JTY2hlbWUgPSBjb2xvclNjaGVtZSB8fCByZXN0VGhlbWVQcm9wLmRlZmF1bHRDb2xvclNjaGVtZTtcbiAgICBpZiAocmVzdFRoZW1lUHJvcC52YXJzICYmICFmb3JjZVRoZW1lUmVyZW5kZXIpIHtcbiAgICAgIGNhbGN1bGF0ZWRDb2xvclNjaGVtZSA9IHJlc3RUaGVtZVByb3AuZGVmYXVsdENvbG9yU2NoZW1lO1xuICAgIH1cbiAgICBjb25zdCBtZW1vVGhlbWUgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICAgIC8vIDIuIGdldCB0aGUgYHZhcnNgIG9iamVjdCB0aGF0IHJlZmVycyB0byB0aGUgQ1NTIGN1c3RvbSBwcm9wZXJ0aWVzXG4gICAgICBjb25zdCB0aGVtZVZhcnMgPSByZXN0VGhlbWVQcm9wLmdlbmVyYXRlVGhlbWVWYXJzPy4oKSB8fCByZXN0VGhlbWVQcm9wLnZhcnM7XG5cbiAgICAgIC8vIDMuIFN0YXJ0IGNvbXBvc2luZyB0aGUgdGhlbWUgb2JqZWN0XG4gICAgICBjb25zdCB0aGVtZSA9IHtcbiAgICAgICAgLi4ucmVzdFRoZW1lUHJvcCxcbiAgICAgICAgY29tcG9uZW50cyxcbiAgICAgICAgY29sb3JTY2hlbWVzLFxuICAgICAgICBjc3NWYXJQcmVmaXgsXG4gICAgICAgIHZhcnM6IHRoZW1lVmFyc1xuICAgICAgfTtcbiAgICAgIGlmICh0eXBlb2YgdGhlbWUuZ2VuZXJhdGVTcGFjaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoZW1lLnNwYWNpbmcgPSB0aGVtZS5nZW5lcmF0ZVNwYWNpbmcoKTtcbiAgICAgIH1cblxuICAgICAgLy8gNC4gUmVzb2x2ZSB0aGUgY29sb3Igc2NoZW1lIGFuZCBtZXJnZSBpdCB0byB0aGUgdGhlbWVcbiAgICAgIGlmIChjYWxjdWxhdGVkQ29sb3JTY2hlbWUpIHtcbiAgICAgICAgY29uc3Qgc2NoZW1lID0gY29sb3JTY2hlbWVzW2NhbGN1bGF0ZWRDb2xvclNjaGVtZV07XG4gICAgICAgIGlmIChzY2hlbWUgJiYgdHlwZW9mIHNjaGVtZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAvLyA0LjEgTWVyZ2UgdGhlIHNlbGVjdGVkIGNvbG9yIHNjaGVtZSB0byB0aGUgdGhlbWVcbiAgICAgICAgICBPYmplY3Qua2V5cyhzY2hlbWUpLmZvckVhY2goc2NoZW1lS2V5ID0+IHtcbiAgICAgICAgICAgIGlmIChzY2hlbWVbc2NoZW1lS2V5XSAmJiB0eXBlb2Ygc2NoZW1lW3NjaGVtZUtleV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgIC8vIHNoYWxsb3cgbWVyZ2UgdGhlIDFzdCBsZXZlbCBzdHJ1Y3R1cmUgb2YgdGhlIHRoZW1lLlxuICAgICAgICAgICAgICB0aGVtZVtzY2hlbWVLZXldID0ge1xuICAgICAgICAgICAgICAgIC4uLnRoZW1lW3NjaGVtZUtleV0sXG4gICAgICAgICAgICAgICAgLi4uc2NoZW1lW3NjaGVtZUtleV1cbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoZW1lW3NjaGVtZUtleV0gPSBzY2hlbWVbc2NoZW1lS2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc29sdmVUaGVtZSA/IHJlc29sdmVUaGVtZSh0aGVtZSkgOiB0aGVtZTtcbiAgICB9LCBbcmVzdFRoZW1lUHJvcCwgY2FsY3VsYXRlZENvbG9yU2NoZW1lLCBjb21wb25lbnRzLCBjb2xvclNjaGVtZXMsIGNzc1ZhclByZWZpeF0pO1xuXG4gICAgLy8gNS4gRGVjbGFyaW5nIGVmZmVjdHNcbiAgICAvLyA1LjEgVXBkYXRlcyB0aGUgc2VsZWN0b3IgdmFsdWUgdG8gdXNlIHRoZSBjdXJyZW50IGNvbG9yIHNjaGVtZSB3aGljaCB0ZWxscyBDU1MgdG8gdXNlIHRoZSBwcm9wZXIgc3R5bGVzaGVldC5cbiAgICBjb25zdCBjb2xvclNjaGVtZVNlbGVjdG9yID0gcmVzdFRoZW1lUHJvcC5jb2xvclNjaGVtZVNlbGVjdG9yO1xuICAgIHVzZUVuaGFuY2VkRWZmZWN0KCgpID0+IHtcbiAgICAgIGlmIChjb2xvclNjaGVtZSAmJiBjb2xvclNjaGVtZU5vZGUgJiYgY29sb3JTY2hlbWVTZWxlY3RvciAmJiBjb2xvclNjaGVtZVNlbGVjdG9yICE9PSAnbWVkaWEnKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdG9yID0gY29sb3JTY2hlbWVTZWxlY3RvcjtcbiAgICAgICAgbGV0IHJ1bGUgPSBjb2xvclNjaGVtZVNlbGVjdG9yO1xuICAgICAgICBpZiAoc2VsZWN0b3IgPT09ICdjbGFzcycpIHtcbiAgICAgICAgICBydWxlID0gYC4lc2A7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGVjdG9yID09PSAnZGF0YScpIHtcbiAgICAgICAgICBydWxlID0gYFtkYXRhLSVzXWA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGVjdG9yPy5zdGFydHNXaXRoKCdkYXRhLScpICYmICFzZWxlY3Rvci5pbmNsdWRlcygnJXMnKSkge1xuICAgICAgICAgIC8vICdkYXRhLW11aS1jb2xvci1zY2hlbWUnIC0+ICdbZGF0YS1tdWktY29sb3Itc2NoZW1lPVwiJXNcIl0nXG4gICAgICAgICAgcnVsZSA9IGBbJHtzZWxlY3Rvcn09XCIlc1wiXWA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJ1bGUuc3RhcnRzV2l0aCgnLicpKSB7XG4gICAgICAgICAgY29sb3JTY2hlbWVOb2RlLmNsYXNzTGlzdC5yZW1vdmUoLi4uYWxsQ29sb3JTY2hlbWVzLm1hcChzY2hlbWUgPT4gcnVsZS5zdWJzdHJpbmcoMSkucmVwbGFjZSgnJXMnLCBzY2hlbWUpKSk7XG4gICAgICAgICAgY29sb3JTY2hlbWVOb2RlLmNsYXNzTGlzdC5hZGQocnVsZS5zdWJzdHJpbmcoMSkucmVwbGFjZSgnJXMnLCBjb2xvclNjaGVtZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSBydWxlLnJlcGxhY2UoJyVzJywgY29sb3JTY2hlbWUpLm1hdGNoKC9cXFsoW15cXF1dKylcXF0vKTtcbiAgICAgICAgICBpZiAobWF0Y2hlcykge1xuICAgICAgICAgICAgY29uc3QgW2F0dHIsIHZhbHVlXSA9IG1hdGNoZXNbMV0uc3BsaXQoJz0nKTtcbiAgICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgICAgLy8gZm9yIGF0dHJpYnV0ZXMgbGlrZSBgZGF0YS10aGVtZS1kYXJrYCwgYGRhdGEtdGhlbWUtbGlnaHRgXG4gICAgICAgICAgICAgIC8vIHJlbW92ZSBhbGwgdGhlIGV4aXN0aW5nIGRhdGEgYXR0cmlidXRlcyBiZWZvcmUgc2V0dGluZyB0aGUgbmV3IG9uZVxuICAgICAgICAgICAgICBhbGxDb2xvclNjaGVtZXMuZm9yRWFjaChzY2hlbWUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbG9yU2NoZW1lTm9kZS5yZW1vdmVBdHRyaWJ1dGUoYXR0ci5yZXBsYWNlKGNvbG9yU2NoZW1lLCBzY2hlbWUpKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb2xvclNjaGVtZU5vZGUuc2V0QXR0cmlidXRlKGF0dHIsIHZhbHVlID8gdmFsdWUucmVwbGFjZSgvXCJ8Jy9nLCAnJykgOiAnJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbG9yU2NoZW1lTm9kZS5zZXRBdHRyaWJ1dGUocnVsZSwgY29sb3JTY2hlbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIFtjb2xvclNjaGVtZSwgY29sb3JTY2hlbWVTZWxlY3RvciwgY29sb3JTY2hlbWVOb2RlLCBhbGxDb2xvclNjaGVtZXNdKTtcblxuICAgIC8vIDUuMiBSZW1vdmUgdGhlIENTUyB0cmFuc2l0aW9uIHdoZW4gY29sb3Igc2NoZW1lIGNoYW5nZXMgdG8gY3JlYXRlIGluc3RhbnQgZXhwZXJpZW5jZS5cbiAgICAvLyBjcmVkaXQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9wYWNvY291cnNleS9uZXh0LXRoZW1lcy9ibG9iL2I1YzJiYWQ1MGRlMmQ2MWFkN2I1MmE5YzVjZGM4MDFhNzg1MDdkN2EvaW5kZXgudHN4I0wzMTNcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgbGV0IHRpbWVyO1xuICAgICAgaWYgKGRpc2FibGVUcmFuc2l0aW9uT25DaGFuZ2UgJiYgaGFzTW91bnRlZC5jdXJyZW50ICYmIGRvY3VtZW50Tm9kZSkge1xuICAgICAgICBjb25zdCBjc3MgPSBkb2N1bWVudE5vZGUuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgY3NzLmFwcGVuZENoaWxkKGRvY3VtZW50Tm9kZS5jcmVhdGVUZXh0Tm9kZShESVNBQkxFX0NTU19UUkFOU0lUSU9OKSk7XG4gICAgICAgIGRvY3VtZW50Tm9kZS5oZWFkLmFwcGVuZENoaWxkKGNzcyk7XG5cbiAgICAgICAgLy8gRm9yY2UgYnJvd3NlciByZXBhaW50XG4gICAgICAgICgoKSA9PiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudE5vZGUuYm9keSkpKCk7XG4gICAgICAgIHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgZG9jdW1lbnROb2RlLmhlYWQucmVtb3ZlQ2hpbGQoY3NzKTtcbiAgICAgICAgfSwgMSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgfTtcbiAgICB9LCBbY29sb3JTY2hlbWUsIGRpc2FibGVUcmFuc2l0aW9uT25DaGFuZ2UsIGRvY3VtZW50Tm9kZV0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBoYXNNb3VudGVkLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaGFzTW91bnRlZC5jdXJyZW50ID0gZmFsc2U7XG4gICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCBjb250ZXh0VmFsdWUgPSBSZWFjdC51c2VNZW1vKCgpID0+ICh7XG4gICAgICBhbGxDb2xvclNjaGVtZXMsXG4gICAgICBjb2xvclNjaGVtZSxcbiAgICAgIGRhcmtDb2xvclNjaGVtZSxcbiAgICAgIGxpZ2h0Q29sb3JTY2hlbWUsXG4gICAgICBtb2RlLFxuICAgICAgc2V0Q29sb3JTY2hlbWUsXG4gICAgICBzZXRNb2RlOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gc2V0TW9kZSA6IG5ld01vZGUgPT4ge1xuICAgICAgICBpZiAobWVtb1RoZW1lLmNvbG9yU2NoZW1lU2VsZWN0b3IgPT09ICdtZWRpYScpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFsnTVVJOiBUaGUgYHNldE1vZGVgIGZ1bmN0aW9uIGhhcyBubyBlZmZlY3QgaWYgYGNvbG9yU2NoZW1lU2VsZWN0b3JgIGlzIGBtZWRpYWAgKGBtZWRpYWAgaXMgdGhlIGRlZmF1bHQgdmFsdWUpLicsICdUbyB0b2dnbGUgdGhlIG1vZGUgbWFudWFsbHksIHBsZWFzZSBjb25maWd1cmUgYGNvbG9yU2NoZW1lU2VsZWN0b3JgIHRvIHVzZSBhIGNsYXNzIG9yIGRhdGEgYXR0cmlidXRlLicsICdUbyBsZWFybiBtb3JlLCB2aXNpdCBodHRwczovL211aS5jb20vbWF0ZXJpYWwtdWkvY3VzdG9taXphdGlvbi9jc3MtdGhlbWUtdmFyaWFibGVzL2NvbmZpZ3VyYXRpb24vI3RvZ2dsaW5nLWRhcmstbW9kZS1tYW51YWxseSddLmpvaW4oJ1xcbicpKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRNb2RlKG5ld01vZGUpO1xuICAgICAgfSxcbiAgICAgIHN5c3RlbU1vZGVcbiAgICB9KSwgW2FsbENvbG9yU2NoZW1lcywgY29sb3JTY2hlbWUsIGRhcmtDb2xvclNjaGVtZSwgbGlnaHRDb2xvclNjaGVtZSwgbW9kZSwgc2V0Q29sb3JTY2hlbWUsIHNldE1vZGUsIHN5c3RlbU1vZGUsIG1lbW9UaGVtZS5jb2xvclNjaGVtZVNlbGVjdG9yXSk7XG4gICAgbGV0IHNob3VsZEdlbmVyYXRlU3R5bGVTaGVldCA9IHRydWU7XG4gICAgaWYgKGRpc2FibGVTdHlsZVNoZWV0R2VuZXJhdGlvbiB8fCByZXN0VGhlbWVQcm9wLmNzc1ZhcmlhYmxlcyA9PT0gZmFsc2UgfHwgbmVzdGVkICYmIHVwcGVyVGhlbWU/LmNzc1ZhclByZWZpeCA9PT0gY3NzVmFyUHJlZml4KSB7XG4gICAgICBzaG91bGRHZW5lcmF0ZVN0eWxlU2hlZXQgPSBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgZWxlbWVudCA9IC8qI19fUFVSRV9fKi9fanN4cyhSZWFjdC5GcmFnbWVudCwge1xuICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChUaGVtZVByb3ZpZGVyLCB7XG4gICAgICAgIHRoZW1lSWQ6IHNjb3BlZFRoZW1lID8gdGhlbWVJZCA6IHVuZGVmaW5lZCxcbiAgICAgICAgdGhlbWU6IG1lbW9UaGVtZSxcbiAgICAgICAgY2hpbGRyZW46IGNoaWxkcmVuXG4gICAgICB9KSwgc2hvdWxkR2VuZXJhdGVTdHlsZVNoZWV0ICYmIC8qI19fUFVSRV9fKi9fanN4KEdsb2JhbFN0eWxlcywge1xuICAgICAgICBzdHlsZXM6IG1lbW9UaGVtZS5nZW5lcmF0ZVN0eWxlU2hlZXRzPy4oKSB8fCBbXVxuICAgICAgfSldXG4gICAgfSk7XG4gICAgaWYgKG5lc3RlZCkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuICAgIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeChDb2xvclNjaGVtZUNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICAgIHZhbHVlOiBjb250ZXh0VmFsdWUsXG4gICAgICBjaGlsZHJlbjogZWxlbWVudFxuICAgIH0pO1xuICB9XG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IENzc1ZhcnNQcm92aWRlci5wcm9wVHlwZXMgPSB7XG4gICAgLyoqXG4gICAgICogVGhlIGNvbXBvbmVudCB0cmVlLlxuICAgICAqL1xuICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcbiAgICAvKipcbiAgICAgKiBUaGUgbm9kZSB1c2VkIHRvIGF0dGFjaCB0aGUgY29sb3Itc2NoZW1lIGF0dHJpYnV0ZVxuICAgICAqL1xuICAgIGNvbG9yU2NoZW1lTm9kZTogUHJvcFR5cGVzLmFueSxcbiAgICAvKipcbiAgICAgKiBsb2NhbFN0b3JhZ2Uga2V5IHVzZWQgdG8gc3RvcmUgYGNvbG9yU2NoZW1lYFxuICAgICAqL1xuICAgIGNvbG9yU2NoZW1lU3RvcmFnZUtleTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBtb2RlIHdoZW4gdGhlIHN0b3JhZ2UgaXMgZW1wdHksXG4gICAgICogcmVxdWlyZSB0aGUgdGhlbWUgdG8gaGF2ZSBgY29sb3JTY2hlbWVzYCB3aXRoIGxpZ2h0IGFuZCBkYXJrLlxuICAgICAqL1xuICAgIGRlZmF1bHRNb2RlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGhlIHByb3ZpZGVyIGNyZWF0ZXMgaXRzIG93biBjb250ZXh0IGFuZCBnZW5lcmF0ZSBzdHlsZXNoZWV0IGFzIGlmIGl0IGlzIGEgcm9vdCBgQ3NzVmFyc1Byb3ZpZGVyYC5cbiAgICAgKi9cbiAgICBkaXNhYmxlTmVzdGVkQ29udGV4dDogUHJvcFR5cGVzLmJvb2wsXG4gICAgLyoqXG4gICAgICogSWYgYHRydWVgLCB0aGUgc3R5bGUgc2hlZXQgd29uJ3QgYmUgZ2VuZXJhdGVkLlxuICAgICAqXG4gICAgICogVGhpcyBpcyB1c2VmdWwgZm9yIGNvbnRyb2xsaW5nIG5lc3RlZCBDc3NWYXJzUHJvdmlkZXIgYmVoYXZpb3IuXG4gICAgICovXG4gICAgZGlzYWJsZVN0eWxlU2hlZXRHZW5lcmF0aW9uOiBQcm9wVHlwZXMuYm9vbCxcbiAgICAvKipcbiAgICAgKiBEaXNhYmxlIENTUyB0cmFuc2l0aW9ucyB3aGVuIHN3aXRjaGluZyBiZXR3ZWVuIG1vZGVzIG9yIGNvbG9yIHNjaGVtZXMuXG4gICAgICovXG4gICAgZGlzYWJsZVRyYW5zaXRpb25PbkNoYW5nZTogUHJvcFR5cGVzLmJvb2wsXG4gICAgLyoqXG4gICAgICogVGhlIGRvY3VtZW50IHRvIGF0dGFjaCB0aGUgYXR0cmlidXRlIHRvLlxuICAgICAqL1xuICAgIGRvY3VtZW50Tm9kZTogUHJvcFR5cGVzLmFueSxcbiAgICAvKipcbiAgICAgKiBJZiBgdHJ1ZWAsIHRoZW1lIHZhbHVlcyBhcmUgcmVjYWxjdWxhdGVkIHdoZW4gdGhlIG1vZGUgY2hhbmdlcy5cbiAgICAgKi9cbiAgICBmb3JjZVRoZW1lUmVyZW5kZXI6IFByb3BUeXBlcy5ib29sLFxuICAgIC8qKlxuICAgICAqIFRoZSBrZXkgaW4gdGhlIGxvY2FsIHN0b3JhZ2UgdXNlZCB0byBzdG9yZSBjdXJyZW50IGNvbG9yIHNjaGVtZS5cbiAgICAgKi9cbiAgICBtb2RlU3RvcmFnZUtleTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAvKipcbiAgICAgKiBJZiBgdHJ1ZWAsIHRoZSBtb2RlIHdpbGwgYmUgdGhlIHNhbWUgdmFsdWUgYXMgdGhlIHN0b3JhZ2Ugd2l0aG91dCBhbiBleHRyYSByZXJlbmRlcmluZyBhZnRlciB0aGUgaHlkcmF0aW9uLlxuICAgICAqIFlvdSBzaG91bGQgdXNlIHRoaXMgb3B0aW9uIGluIGNvbmp1bmN0aW9uIHdpdGggYEluaXRDb2xvclNjaGVtZVNjcmlwdGAgY29tcG9uZW50LlxuICAgICAqL1xuICAgIG5vU3NyOiBQcm9wVHlwZXMuYm9vbCxcbiAgICAvKipcbiAgICAgKiBUaGUgc3RvcmFnZSBtYW5hZ2VyIHRvIGJlIHVzZWQgZm9yIHN0b3JpbmcgdGhlIG1vZGUgYW5kIGNvbG9yIHNjaGVtZVxuICAgICAqIEBkZWZhdWx0IHVzaW5nIGB3aW5kb3cubG9jYWxTdG9yYWdlYFxuICAgICAqL1xuICAgIHN0b3JhZ2VNYW5hZ2VyOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAvKipcbiAgICAgKiBUaGUgd2luZG93IHRoYXQgYXR0YWNoZXMgdGhlICdzdG9yYWdlJyBldmVudCBsaXN0ZW5lci5cbiAgICAgKiBAZGVmYXVsdCB3aW5kb3dcbiAgICAgKi9cbiAgICBzdG9yYWdlV2luZG93OiBQcm9wVHlwZXMuYW55LFxuICAgIC8qKlxuICAgICAqIFRoZSBjYWxjdWxhdGVkIHRoZW1lIG9iamVjdCB0aGF0IHdpbGwgYmUgcGFzc2VkIHRocm91Z2ggY29udGV4dC5cbiAgICAgKi9cbiAgICB0aGVtZTogUHJvcFR5cGVzLm9iamVjdFxuICB9IDogdm9pZCAwO1xuICBjb25zdCBkZWZhdWx0TGlnaHRDb2xvclNjaGVtZSA9IHR5cGVvZiBkZWZhdWx0Q29sb3JTY2hlbWUgPT09ICdzdHJpbmcnID8gZGVmYXVsdENvbG9yU2NoZW1lIDogZGVmYXVsdENvbG9yU2NoZW1lLmxpZ2h0O1xuICBjb25zdCBkZWZhdWx0RGFya0NvbG9yU2NoZW1lID0gdHlwZW9mIGRlZmF1bHRDb2xvclNjaGVtZSA9PT0gJ3N0cmluZycgPyBkZWZhdWx0Q29sb3JTY2hlbWUgOiBkZWZhdWx0Q29sb3JTY2hlbWUuZGFyaztcbiAgY29uc3QgZ2V0SW5pdENvbG9yU2NoZW1lU2NyaXB0ID0gcGFyYW1zID0+IEluaXRDb2xvclNjaGVtZVNjcmlwdCh7XG4gICAgY29sb3JTY2hlbWVTdG9yYWdlS2V5OiBkZWZhdWx0Q29sb3JTY2hlbWVTdG9yYWdlS2V5LFxuICAgIGRlZmF1bHRMaWdodENvbG9yU2NoZW1lLFxuICAgIGRlZmF1bHREYXJrQ29sb3JTY2hlbWUsXG4gICAgbW9kZVN0b3JhZ2VLZXk6IGRlZmF1bHRNb2RlU3RvcmFnZUtleSxcbiAgICAuLi5wYXJhbXNcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgQ3NzVmFyc1Byb3ZpZGVyLFxuICAgIHVzZUNvbG9yU2NoZW1lLFxuICAgIGdldEluaXRDb2xvclNjaGVtZVNjcmlwdFxuICB9O1xufSIsCiAgICAiaW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmV4cG9ydCBjb25zdCBERUZBVUxUX01PREVfU1RPUkFHRV9LRVkgPSAnbW9kZSc7XG5leHBvcnQgY29uc3QgREVGQVVMVF9DT0xPUl9TQ0hFTUVfU1RPUkFHRV9LRVkgPSAnY29sb3Itc2NoZW1lJztcbmV4cG9ydCBjb25zdCBERUZBVUxUX0FUVFJJQlVURSA9ICdkYXRhLWNvbG9yLXNjaGVtZSc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBJbml0Q29sb3JTY2hlbWVTY3JpcHQob3B0aW9ucykge1xuICBjb25zdCB7XG4gICAgZGVmYXVsdE1vZGUgPSAnc3lzdGVtJyxcbiAgICBkZWZhdWx0TGlnaHRDb2xvclNjaGVtZSA9ICdsaWdodCcsXG4gICAgZGVmYXVsdERhcmtDb2xvclNjaGVtZSA9ICdkYXJrJyxcbiAgICBtb2RlU3RvcmFnZUtleSA9IERFRkFVTFRfTU9ERV9TVE9SQUdFX0tFWSxcbiAgICBjb2xvclNjaGVtZVN0b3JhZ2VLZXkgPSBERUZBVUxUX0NPTE9SX1NDSEVNRV9TVE9SQUdFX0tFWSxcbiAgICBhdHRyaWJ1dGU6IGluaXRpYWxBdHRyaWJ1dGUgPSBERUZBVUxUX0FUVFJJQlVURSxcbiAgICBjb2xvclNjaGVtZU5vZGUgPSAnZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50JyxcbiAgICBub25jZVxuICB9ID0gb3B0aW9ucyB8fCB7fTtcbiAgbGV0IHNldHRlciA9ICcnO1xuICBsZXQgYXR0cmlidXRlID0gaW5pdGlhbEF0dHJpYnV0ZTtcbiAgaWYgKGluaXRpYWxBdHRyaWJ1dGUgPT09ICdjbGFzcycpIHtcbiAgICBhdHRyaWJ1dGUgPSAnLiVzJztcbiAgfVxuICBpZiAoaW5pdGlhbEF0dHJpYnV0ZSA9PT0gJ2RhdGEnKSB7XG4gICAgYXR0cmlidXRlID0gJ1tkYXRhLSVzXSc7XG4gIH1cbiAgaWYgKGF0dHJpYnV0ZS5zdGFydHNXaXRoKCcuJykpIHtcbiAgICBjb25zdCBzZWxlY3RvciA9IGF0dHJpYnV0ZS5zdWJzdHJpbmcoMSk7XG4gICAgc2V0dGVyICs9IGAke2NvbG9yU2NoZW1lTm9kZX0uY2xhc3NMaXN0LnJlbW92ZSgnJHtzZWxlY3Rvcn0nLnJlcGxhY2UoJyVzJywgbGlnaHQpLCAnJHtzZWxlY3Rvcn0nLnJlcGxhY2UoJyVzJywgZGFyaykpO1xuICAgICAgJHtjb2xvclNjaGVtZU5vZGV9LmNsYXNzTGlzdC5hZGQoJyR7c2VsZWN0b3J9Jy5yZXBsYWNlKCclcycsIGNvbG9yU2NoZW1lKSk7YDtcbiAgfVxuICBjb25zdCBtYXRjaGVzID0gYXR0cmlidXRlLm1hdGNoKC9cXFsoW15bXFxdXSspXFxdLyk7IC8vIGNhc2UgW2RhdGEtY29sb3Itc2NoZW1lPSclcyddIG9yIFtkYXRhLWNvbG9yLXNjaGVtZV1cbiAgaWYgKG1hdGNoZXMpIHtcbiAgICBjb25zdCBbYXR0ciwgdmFsdWVdID0gbWF0Y2hlc1sxXS5zcGxpdCgnPScpO1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIHNldHRlciArPSBgJHtjb2xvclNjaGVtZU5vZGV9LnJlbW92ZUF0dHJpYnV0ZSgnJHthdHRyfScucmVwbGFjZSgnJXMnLCBsaWdodCkpO1xuICAgICAgJHtjb2xvclNjaGVtZU5vZGV9LnJlbW92ZUF0dHJpYnV0ZSgnJHthdHRyfScucmVwbGFjZSgnJXMnLCBkYXJrKSk7YDtcbiAgICB9XG4gICAgc2V0dGVyICs9IGBcbiAgICAgICR7Y29sb3JTY2hlbWVOb2RlfS5zZXRBdHRyaWJ1dGUoJyR7YXR0cn0nLnJlcGxhY2UoJyVzJywgY29sb3JTY2hlbWUpLCAke3ZhbHVlID8gYCR7dmFsdWV9LnJlcGxhY2UoJyVzJywgY29sb3JTY2hlbWUpYCA6ICdcIlwiJ30pO2A7XG4gIH0gZWxzZSB7XG4gICAgc2V0dGVyICs9IGAke2NvbG9yU2NoZW1lTm9kZX0uc2V0QXR0cmlidXRlKCcke2F0dHJpYnV0ZX0nLCBjb2xvclNjaGVtZSk7YDtcbiAgfVxuICByZXR1cm4gLyojX19QVVJFX18qL19qc3goXCJzY3JpcHRcIiwge1xuICAgIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZzogdHJ1ZSxcbiAgICBub25jZTogdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgPyBub25jZSA6ICcnXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L25vLWRhbmdlclxuICAgICxcbiAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDoge1xuICAgICAgX19odG1sOiBgKGZ1bmN0aW9uKCkge1xudHJ5IHtcbiAgbGV0IGNvbG9yU2NoZW1lID0gJyc7XG4gIGNvbnN0IG1vZGUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnJHttb2RlU3RvcmFnZUtleX0nKSB8fCAnJHtkZWZhdWx0TW9kZX0nO1xuICBjb25zdCBkYXJrID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJyR7Y29sb3JTY2hlbWVTdG9yYWdlS2V5fS1kYXJrJykgfHwgJyR7ZGVmYXVsdERhcmtDb2xvclNjaGVtZX0nO1xuICBjb25zdCBsaWdodCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCcke2NvbG9yU2NoZW1lU3RvcmFnZUtleX0tbGlnaHQnKSB8fCAnJHtkZWZhdWx0TGlnaHRDb2xvclNjaGVtZX0nO1xuICBpZiAobW9kZSA9PT0gJ3N5c3RlbScpIHtcbiAgICAvLyBoYW5kbGUgc3lzdGVtIG1vZGVcbiAgICBjb25zdCBtcWwgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKScpO1xuICAgIGlmIChtcWwubWF0Y2hlcykge1xuICAgICAgY29sb3JTY2hlbWUgPSBkYXJrXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbG9yU2NoZW1lID0gbGlnaHRcbiAgICB9XG4gIH1cbiAgaWYgKG1vZGUgPT09ICdsaWdodCcpIHtcbiAgICBjb2xvclNjaGVtZSA9IGxpZ2h0O1xuICB9XG4gIGlmIChtb2RlID09PSAnZGFyaycpIHtcbiAgICBjb2xvclNjaGVtZSA9IGRhcms7XG4gIH1cbiAgaWYgKGNvbG9yU2NoZW1lKSB7XG4gICAgJHtzZXR0ZXJ9XG4gIH1cbn0gY2F0Y2goZSl7fX0pKCk7YFxuICAgIH1cbiAgfSwgXCJtdWktY29sb3Itc2NoZW1lLWluaXRcIik7XG59IiwKICAgICIndXNlIGNsaWVudCc7XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IERFRkFVTFRfTU9ERV9TVE9SQUdFX0tFWSwgREVGQVVMVF9DT0xPUl9TQ0hFTUVfU1RPUkFHRV9LRVkgfSBmcm9tIFwiLi4vSW5pdENvbG9yU2NoZW1lU2NyaXB0L0luaXRDb2xvclNjaGVtZVNjcmlwdC5qc1wiO1xuaW1wb3J0IGxvY2FsU3RvcmFnZU1hbmFnZXIgZnJvbSBcIi4vbG9jYWxTdG9yYWdlTWFuYWdlci5qc1wiO1xuZnVuY3Rpb24gbm9vcCgpIHt9XG5leHBvcnQgZnVuY3Rpb24gZ2V0U3lzdGVtTW9kZShtb2RlKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93Lm1hdGNoTWVkaWEgPT09ICdmdW5jdGlvbicgJiYgbW9kZSA9PT0gJ3N5c3RlbScpIHtcbiAgICBjb25zdCBtcWwgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKScpO1xuICAgIGlmIChtcWwubWF0Y2hlcykge1xuICAgICAgcmV0dXJuICdkYXJrJztcbiAgICB9XG4gICAgcmV0dXJuICdsaWdodCc7XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIHByb2Nlc3NTdGF0ZShzdGF0ZSwgY2FsbGJhY2spIHtcbiAgaWYgKHN0YXRlLm1vZGUgPT09ICdsaWdodCcgfHwgc3RhdGUubW9kZSA9PT0gJ3N5c3RlbScgJiYgc3RhdGUuc3lzdGVtTW9kZSA9PT0gJ2xpZ2h0Jykge1xuICAgIHJldHVybiBjYWxsYmFjaygnbGlnaHQnKTtcbiAgfVxuICBpZiAoc3RhdGUubW9kZSA9PT0gJ2RhcmsnIHx8IHN0YXRlLm1vZGUgPT09ICdzeXN0ZW0nICYmIHN0YXRlLnN5c3RlbU1vZGUgPT09ICdkYXJrJykge1xuICAgIHJldHVybiBjYWxsYmFjaygnZGFyaycpO1xuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29sb3JTY2hlbWUoc3RhdGUpIHtcbiAgcmV0dXJuIHByb2Nlc3NTdGF0ZShzdGF0ZSwgbW9kZSA9PiB7XG4gICAgaWYgKG1vZGUgPT09ICdsaWdodCcpIHtcbiAgICAgIHJldHVybiBzdGF0ZS5saWdodENvbG9yU2NoZW1lO1xuICAgIH1cbiAgICBpZiAobW9kZSA9PT0gJ2RhcmsnKSB7XG4gICAgICByZXR1cm4gc3RhdGUuZGFya0NvbG9yU2NoZW1lO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9KTtcbn1cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZUN1cnJlbnRDb2xvclNjaGVtZShvcHRpb25zKSB7XG4gIGNvbnN0IHtcbiAgICBkZWZhdWx0TW9kZSA9ICdsaWdodCcsXG4gICAgZGVmYXVsdExpZ2h0Q29sb3JTY2hlbWUsXG4gICAgZGVmYXVsdERhcmtDb2xvclNjaGVtZSxcbiAgICBzdXBwb3J0ZWRDb2xvclNjaGVtZXMgPSBbXSxcbiAgICBtb2RlU3RvcmFnZUtleSA9IERFRkFVTFRfTU9ERV9TVE9SQUdFX0tFWSxcbiAgICBjb2xvclNjaGVtZVN0b3JhZ2VLZXkgPSBERUZBVUxUX0NPTE9SX1NDSEVNRV9TVE9SQUdFX0tFWSxcbiAgICBzdG9yYWdlV2luZG93ID0gdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiB3aW5kb3csXG4gICAgc3RvcmFnZU1hbmFnZXIgPSBsb2NhbFN0b3JhZ2VNYW5hZ2VyLFxuICAgIG5vU3NyID0gZmFsc2VcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGpvaW5lZENvbG9yU2NoZW1lcyA9IHN1cHBvcnRlZENvbG9yU2NoZW1lcy5qb2luKCcsJyk7XG4gIGNvbnN0IGlzTXVsdGlTY2hlbWVzID0gc3VwcG9ydGVkQ29sb3JTY2hlbWVzLmxlbmd0aCA+IDE7XG4gIGNvbnN0IG1vZGVTdG9yYWdlID0gUmVhY3QudXNlTWVtbygoKSA9PiBzdG9yYWdlTWFuYWdlcj8uKHtcbiAgICBrZXk6IG1vZGVTdG9yYWdlS2V5LFxuICAgIHN0b3JhZ2VXaW5kb3dcbiAgfSksIFtzdG9yYWdlTWFuYWdlciwgbW9kZVN0b3JhZ2VLZXksIHN0b3JhZ2VXaW5kb3ddKTtcbiAgY29uc3QgbGlnaHRTdG9yYWdlID0gUmVhY3QudXNlTWVtbygoKSA9PiBzdG9yYWdlTWFuYWdlcj8uKHtcbiAgICBrZXk6IGAke2NvbG9yU2NoZW1lU3RvcmFnZUtleX0tbGlnaHRgLFxuICAgIHN0b3JhZ2VXaW5kb3dcbiAgfSksIFtzdG9yYWdlTWFuYWdlciwgY29sb3JTY2hlbWVTdG9yYWdlS2V5LCBzdG9yYWdlV2luZG93XSk7XG4gIGNvbnN0IGRhcmtTdG9yYWdlID0gUmVhY3QudXNlTWVtbygoKSA9PiBzdG9yYWdlTWFuYWdlcj8uKHtcbiAgICBrZXk6IGAke2NvbG9yU2NoZW1lU3RvcmFnZUtleX0tZGFya2AsXG4gICAgc3RvcmFnZVdpbmRvd1xuICB9KSwgW3N0b3JhZ2VNYW5hZ2VyLCBjb2xvclNjaGVtZVN0b3JhZ2VLZXksIHN0b3JhZ2VXaW5kb3ddKTtcbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSBSZWFjdC51c2VTdGF0ZSgoKSA9PiB7XG4gICAgY29uc3QgaW5pdGlhbE1vZGUgPSBtb2RlU3RvcmFnZT8uZ2V0KGRlZmF1bHRNb2RlKSB8fCBkZWZhdWx0TW9kZTtcbiAgICBjb25zdCBsaWdodENvbG9yU2NoZW1lID0gbGlnaHRTdG9yYWdlPy5nZXQoZGVmYXVsdExpZ2h0Q29sb3JTY2hlbWUpIHx8IGRlZmF1bHRMaWdodENvbG9yU2NoZW1lO1xuICAgIGNvbnN0IGRhcmtDb2xvclNjaGVtZSA9IGRhcmtTdG9yYWdlPy5nZXQoZGVmYXVsdERhcmtDb2xvclNjaGVtZSkgfHwgZGVmYXVsdERhcmtDb2xvclNjaGVtZTtcbiAgICByZXR1cm4ge1xuICAgICAgbW9kZTogaW5pdGlhbE1vZGUsXG4gICAgICBzeXN0ZW1Nb2RlOiBnZXRTeXN0ZW1Nb2RlKGluaXRpYWxNb2RlKSxcbiAgICAgIGxpZ2h0Q29sb3JTY2hlbWUsXG4gICAgICBkYXJrQ29sb3JTY2hlbWVcbiAgICB9O1xuICB9KTtcbiAgY29uc3QgW2lzQ2xpZW50LCBzZXRJc0NsaWVudF0gPSBSZWFjdC51c2VTdGF0ZShub1NzciB8fCAhaXNNdWx0aVNjaGVtZXMpO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldElzQ2xpZW50KHRydWUpOyAvLyB0byByZXJlbmRlciB0aGUgY29tcG9uZW50IGFmdGVyIGh5ZHJhdGlvblxuICB9LCBbXSk7XG4gIGNvbnN0IGNvbG9yU2NoZW1lID0gZ2V0Q29sb3JTY2hlbWUoc3RhdGUpO1xuICBjb25zdCBzZXRNb2RlID0gUmVhY3QudXNlQ2FsbGJhY2sobW9kZSA9PiB7XG4gICAgc2V0U3RhdGUoY3VycmVudFN0YXRlID0+IHtcbiAgICAgIGlmIChtb2RlID09PSBjdXJyZW50U3RhdGUubW9kZSkge1xuICAgICAgICAvLyBkbyBub3RoaW5nIGlmIG1vZGUgZG9lcyBub3QgY2hhbmdlXG4gICAgICAgIHJldHVybiBjdXJyZW50U3RhdGU7XG4gICAgICB9XG4gICAgICBjb25zdCBuZXdNb2RlID0gbW9kZSA/PyBkZWZhdWx0TW9kZTtcbiAgICAgIG1vZGVTdG9yYWdlPy5zZXQobmV3TW9kZSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5jdXJyZW50U3RhdGUsXG4gICAgICAgIG1vZGU6IG5ld01vZGUsXG4gICAgICAgIHN5c3RlbU1vZGU6IGdldFN5c3RlbU1vZGUobmV3TW9kZSlcbiAgICAgIH07XG4gICAgfSk7XG4gIH0sIFttb2RlU3RvcmFnZSwgZGVmYXVsdE1vZGVdKTtcbiAgY29uc3Qgc2V0Q29sb3JTY2hlbWUgPSBSZWFjdC51c2VDYWxsYmFjayh2YWx1ZSA9PiB7XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgc2V0U3RhdGUoY3VycmVudFN0YXRlID0+IHtcbiAgICAgICAgbGlnaHRTdG9yYWdlPy5zZXQoZGVmYXVsdExpZ2h0Q29sb3JTY2hlbWUpO1xuICAgICAgICBkYXJrU3RvcmFnZT8uc2V0KGRlZmF1bHREYXJrQ29sb3JTY2hlbWUpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLmN1cnJlbnRTdGF0ZSxcbiAgICAgICAgICBsaWdodENvbG9yU2NoZW1lOiBkZWZhdWx0TGlnaHRDb2xvclNjaGVtZSxcbiAgICAgICAgICBkYXJrQ29sb3JTY2hlbWU6IGRlZmF1bHREYXJrQ29sb3JTY2hlbWVcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgaWYgKHZhbHVlICYmICFqb2luZWRDb2xvclNjaGVtZXMuaW5jbHVkZXModmFsdWUpKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFxcYCR7dmFsdWV9XFxgIGRvZXMgbm90IGV4aXN0IGluIFxcYHRoZW1lLmNvbG9yU2NoZW1lc1xcYC5gKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFN0YXRlKGN1cnJlbnRTdGF0ZSA9PiB7XG4gICAgICAgICAgY29uc3QgbmV3U3RhdGUgPSB7XG4gICAgICAgICAgICAuLi5jdXJyZW50U3RhdGVcbiAgICAgICAgICB9O1xuICAgICAgICAgIHByb2Nlc3NTdGF0ZShjdXJyZW50U3RhdGUsIG1vZGUgPT4ge1xuICAgICAgICAgICAgaWYgKG1vZGUgPT09ICdsaWdodCcpIHtcbiAgICAgICAgICAgICAgbGlnaHRTdG9yYWdlPy5zZXQodmFsdWUpO1xuICAgICAgICAgICAgICBuZXdTdGF0ZS5saWdodENvbG9yU2NoZW1lID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobW9kZSA9PT0gJ2RhcmsnKSB7XG4gICAgICAgICAgICAgIGRhcmtTdG9yYWdlPy5zZXQodmFsdWUpO1xuICAgICAgICAgICAgICBuZXdTdGF0ZS5kYXJrQ29sb3JTY2hlbWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXRTdGF0ZShjdXJyZW50U3RhdGUgPT4ge1xuICAgICAgICBjb25zdCBuZXdTdGF0ZSA9IHtcbiAgICAgICAgICAuLi5jdXJyZW50U3RhdGVcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgbmV3TGlnaHRDb2xvclNjaGVtZSA9IHZhbHVlLmxpZ2h0ID09PSBudWxsID8gZGVmYXVsdExpZ2h0Q29sb3JTY2hlbWUgOiB2YWx1ZS5saWdodDtcbiAgICAgICAgY29uc3QgbmV3RGFya0NvbG9yU2NoZW1lID0gdmFsdWUuZGFyayA9PT0gbnVsbCA/IGRlZmF1bHREYXJrQ29sb3JTY2hlbWUgOiB2YWx1ZS5kYXJrO1xuICAgICAgICBpZiAobmV3TGlnaHRDb2xvclNjaGVtZSkge1xuICAgICAgICAgIGlmICgham9pbmVkQ29sb3JTY2hlbWVzLmluY2x1ZGVzKG5ld0xpZ2h0Q29sb3JTY2hlbWUpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBcXGAke25ld0xpZ2h0Q29sb3JTY2hlbWV9XFxgIGRvZXMgbm90IGV4aXN0IGluIFxcYHRoZW1lLmNvbG9yU2NoZW1lc1xcYC5gKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3U3RhdGUubGlnaHRDb2xvclNjaGVtZSA9IG5ld0xpZ2h0Q29sb3JTY2hlbWU7XG4gICAgICAgICAgICBsaWdodFN0b3JhZ2U/LnNldChuZXdMaWdodENvbG9yU2NoZW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5ld0RhcmtDb2xvclNjaGVtZSkge1xuICAgICAgICAgIGlmICgham9pbmVkQ29sb3JTY2hlbWVzLmluY2x1ZGVzKG5ld0RhcmtDb2xvclNjaGVtZSkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFxcYCR7bmV3RGFya0NvbG9yU2NoZW1lfVxcYCBkb2VzIG5vdCBleGlzdCBpbiBcXGB0aGVtZS5jb2xvclNjaGVtZXNcXGAuYCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld1N0YXRlLmRhcmtDb2xvclNjaGVtZSA9IG5ld0RhcmtDb2xvclNjaGVtZTtcbiAgICAgICAgICAgIGRhcmtTdG9yYWdlPy5zZXQobmV3RGFya0NvbG9yU2NoZW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbam9pbmVkQ29sb3JTY2hlbWVzLCBsaWdodFN0b3JhZ2UsIGRhcmtTdG9yYWdlLCBkZWZhdWx0TGlnaHRDb2xvclNjaGVtZSwgZGVmYXVsdERhcmtDb2xvclNjaGVtZV0pO1xuICBjb25zdCBoYW5kbGVNZWRpYVF1ZXJ5ID0gUmVhY3QudXNlQ2FsbGJhY2soZXZlbnQgPT4ge1xuICAgIGlmIChzdGF0ZS5tb2RlID09PSAnc3lzdGVtJykge1xuICAgICAgc2V0U3RhdGUoY3VycmVudFN0YXRlID0+IHtcbiAgICAgICAgY29uc3Qgc3lzdGVtTW9kZSA9IGV2ZW50Py5tYXRjaGVzID8gJ2RhcmsnIDogJ2xpZ2h0JztcblxuICAgICAgICAvLyBFYXJseSBleGl0LCBub3RoaW5nIGNoYW5nZWQuXG4gICAgICAgIGlmIChjdXJyZW50U3RhdGUuc3lzdGVtTW9kZSA9PT0gc3lzdGVtTW9kZSkge1xuICAgICAgICAgIHJldHVybiBjdXJyZW50U3RhdGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5jdXJyZW50U3RhdGUsXG4gICAgICAgICAgc3lzdGVtTW9kZVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbc3RhdGUubW9kZV0pO1xuXG4gIC8vIFJlZiBoYWNrIHRvIGF2b2lkIGFkZGluZyBoYW5kbGVNZWRpYVF1ZXJ5IGFzIGEgZGVwXG4gIGNvbnN0IG1lZGlhTGlzdGVuZXIgPSBSZWFjdC51c2VSZWYoaGFuZGxlTWVkaWFRdWVyeSk7XG4gIG1lZGlhTGlzdGVuZXIuY3VycmVudCA9IGhhbmRsZU1lZGlhUXVlcnk7XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cubWF0Y2hNZWRpYSAhPT0gJ2Z1bmN0aW9uJyB8fCAhaXNNdWx0aVNjaGVtZXMpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IGhhbmRsZXIgPSAoLi4uYXJncykgPT4gbWVkaWFMaXN0ZW5lci5jdXJyZW50KC4uLmFyZ3MpO1xuXG4gICAgLy8gQWx3YXlzIGxpc3RlbiB0byBTeXN0ZW0gcHJlZmVyZW5jZVxuICAgIGNvbnN0IG1lZGlhID0gd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayknKTtcblxuICAgIC8vIEludGVudGlvbmFsbHkgdXNlIGRlcHJlY2F0ZWQgbGlzdGVuZXIgbWV0aG9kcyB0byBzdXBwb3J0IGlPUyAmIG9sZCBicm93c2Vyc1xuICAgIG1lZGlhLmFkZExpc3RlbmVyKGhhbmRsZXIpO1xuICAgIGhhbmRsZXIobWVkaWEpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBtZWRpYS5yZW1vdmVMaXN0ZW5lcihoYW5kbGVyKTtcbiAgICB9O1xuICB9LCBbaXNNdWx0aVNjaGVtZXNdKTtcblxuICAvLyBIYW5kbGUgd2hlbiBsb2NhbFN0b3JhZ2UgaGFzIGNoYW5nZWRcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNNdWx0aVNjaGVtZXMpIHtcbiAgICAgIGNvbnN0IHVuc3Vic2NyaWJlTW9kZSA9IG1vZGVTdG9yYWdlPy5zdWJzY3JpYmUodmFsdWUgPT4ge1xuICAgICAgICBpZiAoIXZhbHVlIHx8IFsnbGlnaHQnLCAnZGFyaycsICdzeXN0ZW0nXS5pbmNsdWRlcyh2YWx1ZSkpIHtcbiAgICAgICAgICBzZXRNb2RlKHZhbHVlIHx8IGRlZmF1bHRNb2RlKTtcbiAgICAgICAgfVxuICAgICAgfSkgfHwgbm9vcDtcbiAgICAgIGNvbnN0IHVuc3Vic2NyaWJlTGlnaHQgPSBsaWdodFN0b3JhZ2U/LnN1YnNjcmliZSh2YWx1ZSA9PiB7XG4gICAgICAgIGlmICghdmFsdWUgfHwgam9pbmVkQ29sb3JTY2hlbWVzLm1hdGNoKHZhbHVlKSkge1xuICAgICAgICAgIHNldENvbG9yU2NoZW1lKHtcbiAgICAgICAgICAgIGxpZ2h0OiB2YWx1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KSB8fCBub29wO1xuICAgICAgY29uc3QgdW5zdWJzY3JpYmVEYXJrID0gZGFya1N0b3JhZ2U/LnN1YnNjcmliZSh2YWx1ZSA9PiB7XG4gICAgICAgIGlmICghdmFsdWUgfHwgam9pbmVkQ29sb3JTY2hlbWVzLm1hdGNoKHZhbHVlKSkge1xuICAgICAgICAgIHNldENvbG9yU2NoZW1lKHtcbiAgICAgICAgICAgIGRhcms6IHZhbHVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pIHx8IG5vb3A7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICB1bnN1YnNjcmliZU1vZGUoKTtcbiAgICAgICAgdW5zdWJzY3JpYmVMaWdodCgpO1xuICAgICAgICB1bnN1YnNjcmliZURhcmsoKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH0sIFtzZXRDb2xvclNjaGVtZSwgc2V0TW9kZSwgam9pbmVkQ29sb3JTY2hlbWVzLCBkZWZhdWx0TW9kZSwgc3RvcmFnZVdpbmRvdywgaXNNdWx0aVNjaGVtZXMsIG1vZGVTdG9yYWdlLCBsaWdodFN0b3JhZ2UsIGRhcmtTdG9yYWdlXSk7XG4gIHJldHVybiB7XG4gICAgLi4uc3RhdGUsXG4gICAgbW9kZTogaXNDbGllbnQgPyBzdGF0ZS5tb2RlIDogdW5kZWZpbmVkLFxuICAgIHN5c3RlbU1vZGU6IGlzQ2xpZW50ID8gc3RhdGUuc3lzdGVtTW9kZSA6IHVuZGVmaW5lZCxcbiAgICBjb2xvclNjaGVtZTogaXNDbGllbnQgPyBjb2xvclNjaGVtZSA6IHVuZGVmaW5lZCxcbiAgICBzZXRNb2RlLFxuICAgIHNldENvbG9yU2NoZW1lXG4gIH07XG59IiwKICAgICJmdW5jdGlvbiBub29wKCkge31cbmNvbnN0IGxvY2FsU3RvcmFnZU1hbmFnZXIgPSAoe1xuICBrZXksXG4gIHN0b3JhZ2VXaW5kb3dcbn0pID0+IHtcbiAgaWYgKCFzdG9yYWdlV2luZG93ICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgc3RvcmFnZVdpbmRvdyA9IHdpbmRvdztcbiAgfVxuICByZXR1cm4ge1xuICAgIGdldChkZWZhdWx0VmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKCFzdG9yYWdlV2luZG93KSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgICB9XG4gICAgICBsZXQgdmFsdWU7XG4gICAgICB0cnkge1xuICAgICAgICB2YWx1ZSA9IHN0b3JhZ2VXaW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICAvLyBVbnN1cHBvcnRlZFxuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlIHx8IGRlZmF1bHRWYWx1ZTtcbiAgICB9LFxuICAgIHNldDogdmFsdWUgPT4ge1xuICAgICAgaWYgKHN0b3JhZ2VXaW5kb3cpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBzdG9yYWdlV2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAvLyBVbnN1cHBvcnRlZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBzdWJzY3JpYmU6IGhhbmRsZXIgPT4ge1xuICAgICAgaWYgKCFzdG9yYWdlV2luZG93KSB7XG4gICAgICAgIHJldHVybiBub29wO1xuICAgICAgfVxuICAgICAgY29uc3QgbGlzdGVuZXIgPSBldmVudCA9PiB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gZXZlbnQubmV3VmFsdWU7XG4gICAgICAgIGlmIChldmVudC5rZXkgPT09IGtleSkge1xuICAgICAgICAgIGhhbmRsZXIodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgc3RvcmFnZVdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzdG9yYWdlJywgbGlzdGVuZXIpO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgc3RvcmFnZVdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzdG9yYWdlJywgbGlzdGVuZXIpO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgbG9jYWxTdG9yYWdlTWFuYWdlcjsiLAogICAgIi8qKlxuICogVGhlIGJlbmVmaXQgb2YgdGhpcyBmdW5jdGlvbiBpcyB0byBoZWxwIGRldmVsb3BlcnMgZ2V0IENTUyB2YXIgZnJvbSB0aGVtZSB3aXRob3V0IHNwZWNpZnlpbmcgdGhlIHdob2xlIHZhcmlhYmxlXG4gKiBhbmQgdGhleSBkb2VzIG5vdCBuZWVkIHRvIHJlbWVtYmVyIHRoZSBwcmVmaXggKGRlZmluZWQgb25jZSkuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUdldENzc1ZhcihwcmVmaXggPSAnJykge1xuICBmdW5jdGlvbiBhcHBlbmRWYXIoLi4udmFycykge1xuICAgIGlmICghdmFycy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgY29uc3QgdmFsdWUgPSB2YXJzWzBdO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmICF2YWx1ZS5tYXRjaCgvKCN8XFwofFxcKXwoLT8oXFxkKlxcLik/XFxkKykocHh8ZW18JXxleHxjaHxyZW18dnd8dmh8dm1pbnx2bWF4fGNtfG1tfGlufHB0fHBjKSl8XigtPyhcXGQqXFwuKT9cXGQrKSR8KFxcZCsgXFxkKyBcXGQrKS8pKSB7XG4gICAgICByZXR1cm4gYCwgdmFyKC0tJHtwcmVmaXggPyBgJHtwcmVmaXh9LWAgOiAnJ30ke3ZhbHVlfSR7YXBwZW5kVmFyKC4uLnZhcnMuc2xpY2UoMSkpfSlgO1xuICAgIH1cbiAgICByZXR1cm4gYCwgJHt2YWx1ZX1gO1xuICB9XG5cbiAgLy8gQWRkaXRpb25hbFZhcnMgbWFrZXMgYGdldENzc1ZhcmAgbGVzcyBzdHJpY3QsIHNvIGl0IGNhbiBiZSB1c2UgbGlrZSB0aGlzIGBnZXRDc3NWYXIoJ25vbi1tdWktdmFyaWFibGUnKWAgd2l0aG91dCB0eXBlIGVycm9yLlxuICBjb25zdCBnZXRDc3NWYXIgPSAoZmllbGQsIC4uLmZhbGxiYWNrcykgPT4ge1xuICAgIHJldHVybiBgdmFyKC0tJHtwcmVmaXggPyBgJHtwcmVmaXh9LWAgOiAnJ30ke2ZpZWxkfSR7YXBwZW5kVmFyKC4uLmZhbGxiYWNrcyl9KWA7XG4gIH07XG4gIHJldHVybiBnZXRDc3NWYXI7XG59IiwKICAgICIvKipcbiAqIFRoaXMgZnVuY3Rpb24gY3JlYXRlIGFuIG9iamVjdCBmcm9tIGtleXMsIHZhbHVlIGFuZCB0aGVuIGFzc2lnbiB0byB0YXJnZXRcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIDogdGhlIHRhcmdldCBvYmplY3QgdG8gYmUgYXNzaWduZWRcbiAqIEBwYXJhbSB7c3RyaW5nW119IGtleXNcbiAqIEBwYXJhbSB7c3RyaW5nIHwgbnVtYmVyfSB2YWx1ZVxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBzb3VyY2UgPSB7fVxuICogYXNzaWduTmVzdGVkS2V5cyhzb3VyY2UsIFsncGFsZXR0ZScsICdwcmltYXJ5J10sICd2YXIoLS1wYWxldHRlLXByaW1hcnkpJylcbiAqIGNvbnNvbGUubG9nKHNvdXJjZSkgLy8geyBwYWxldHRlOiB7IHByaW1hcnk6ICd2YXIoLS1wYWxldHRlLXByaW1hcnkpJyB9IH1cbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3Qgc291cmNlID0geyBwYWxldHRlOiB7IHByaW1hcnk6ICd2YXIoLS1wYWxldHRlLXByaW1hcnkpJyB9IH1cbiAqIGFzc2lnbk5lc3RlZEtleXMoc291cmNlLCBbJ3BhbGV0dGUnLCAnc2Vjb25kYXJ5J10sICd2YXIoLS1wYWxldHRlLXNlY29uZGFyeSknKVxuICogY29uc29sZS5sb2coc291cmNlKSAvLyB7IHBhbGV0dGU6IHsgcHJpbWFyeTogJ3ZhcigtLXBhbGV0dGUtcHJpbWFyeSknLCBzZWNvbmRhcnk6ICd2YXIoLS1wYWxldHRlLXNlY29uZGFyeSknIH0gfVxuICovXG5leHBvcnQgY29uc3QgYXNzaWduTmVzdGVkS2V5cyA9IChvYmosIGtleXMsIHZhbHVlLCBhcnJheUtleXMgPSBbXSkgPT4ge1xuICBsZXQgdGVtcCA9IG9iajtcbiAga2V5cy5mb3JFYWNoKChrLCBpbmRleCkgPT4ge1xuICAgIGlmIChpbmRleCA9PT0ga2V5cy5sZW5ndGggLSAxKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh0ZW1wKSkge1xuICAgICAgICB0ZW1wW051bWJlcihrKV0gPSB2YWx1ZTtcbiAgICAgIH0gZWxzZSBpZiAodGVtcCAmJiB0eXBlb2YgdGVtcCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgdGVtcFtrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGVtcCAmJiB0eXBlb2YgdGVtcCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmICghdGVtcFtrXSkge1xuICAgICAgICB0ZW1wW2tdID0gYXJyYXlLZXlzLmluY2x1ZGVzKGspID8gW10gOiB7fTtcbiAgICAgIH1cbiAgICAgIHRlbXAgPSB0ZW1wW2tdO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIDogc291cmNlIG9iamVjdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgOiBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlblxuICogICAgICAgICAgICAgICAgICAgLSB0aGUgZGVlcGVzdCBrZXkgaW4gc291cmNlIG9iamVjdCBpcyByZWFjaGVkXG4gKiAgICAgICAgICAgICAgICAgICAtIHRoZSB2YWx1ZSBvZiB0aGUgZGVlcGVzdCBrZXkgaXMgTk9UIGB1bmRlZmluZWRgIHwgYG51bGxgXG4gKlxuICogQGV4YW1wbGVcbiAqIHdhbGtPYmplY3REZWVwKHsgcGFsZXR0ZTogeyBwcmltYXJ5OiB7IG1haW46ICcjMDAwMDAwJyB9IH0gfSwgY29uc29sZS5sb2cpXG4gKiAvLyBbJ3BhbGV0dGUnLCAncHJpbWFyeScsICdtYWluJ10gJyMwMDAwMDAnXG4gKi9cbmV4cG9ydCBjb25zdCB3YWxrT2JqZWN0RGVlcCA9IChvYmosIGNhbGxiYWNrLCBzaG91bGRTa2lwUGF0aHMpID0+IHtcbiAgZnVuY3Rpb24gcmVjdXJzZShvYmplY3QsIHBhcmVudEtleXMgPSBbXSwgYXJyYXlLZXlzID0gW10pIHtcbiAgICBPYmplY3QuZW50cmllcyhvYmplY3QpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgaWYgKCFzaG91bGRTa2lwUGF0aHMgfHwgc2hvdWxkU2tpcFBhdGhzICYmICFzaG91bGRTa2lwUGF0aHMoWy4uLnBhcmVudEtleXMsIGtleV0pKSB7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXModmFsdWUpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJlY3Vyc2UodmFsdWUsIFsuLi5wYXJlbnRLZXlzLCBrZXldLCBBcnJheS5pc0FycmF5KHZhbHVlKSA/IFsuLi5hcnJheUtleXMsIGtleV0gOiBhcnJheUtleXMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWxsYmFjayhbLi4ucGFyZW50S2V5cywga2V5XSwgdmFsdWUsIGFycmF5S2V5cyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmVjdXJzZShvYmopO1xufTtcbmNvbnN0IGdldENzc1ZhbHVlID0gKGtleXMsIHZhbHVlKSA9PiB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgaWYgKFsnbGluZUhlaWdodCcsICdmb250V2VpZ2h0JywgJ29wYWNpdHknLCAnekluZGV4J10uc29tZShwcm9wID0+IGtleXMuaW5jbHVkZXMocHJvcCkpKSB7XG4gICAgICAvLyBDU1MgcHJvcGVydHkgdGhhdCBhcmUgdW5pdGxlc3NcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgY29uc3QgbGFzdEtleSA9IGtleXNba2V5cy5sZW5ndGggLSAxXTtcbiAgICBpZiAobGFzdEtleS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdvcGFjaXR5JykpIHtcbiAgICAgIC8vIG9wYWNpdHkgdmFsdWVzIGFyZSB1bml0bGVzc1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gYCR7dmFsdWV9cHhgO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn07XG5cbi8qKlxuICogYSBmdW5jdGlvbiB0aGF0IHBhcnNlIHRoZW1lIGFuZCByZXR1cm4geyBjc3MsIHZhcnMgfVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0aGVtZVxuICogQHBhcmFtIHt7XG4gKiAgcHJlZml4Pzogc3RyaW5nLFxuICogIHNob3VsZFNraXBHZW5lcmF0aW5nVmFyPzogKG9iamVjdFBhdGhLZXlzOiBBcnJheTxzdHJpbmc+LCB2YWx1ZTogc3RyaW5nIHwgbnVtYmVyKSA9PiBib29sZWFuXG4gKiB9fSBvcHRpb25zLlxuICogIGBwcmVmaXhgOiBUaGUgcHJlZml4IG9mIHRoZSBnZW5lcmF0ZWQgQ1NTIHZhcmlhYmxlcy4gVGhpcyBmdW5jdGlvbiBkb2VzIG5vdCBjaGFuZ2UgdGhlIHZhbHVlLlxuICpcbiAqIEByZXR1cm5zIHt7IGNzczogT2JqZWN0LCB2YXJzOiBPYmplY3QgfX0gYGNzc2AgaXMgdGhlIHN0eWxlc2hlZXQsIGB2YXJzYCBpcyBhbiBvYmplY3QgdG8gZ2V0IGNzcyB2YXJpYWJsZSAoc2FtZSBzdHJ1Y3R1cmUgYXMgdGhlbWUpLlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCB7IGNzcywgdmFycyB9ID0gcGFyc2VyKHtcbiAqICAgZm9udFNpemU6IDEyLFxuICogICBsaW5lSGVpZ2h0OiAxLjIsXG4gKiAgIHBhbGV0dGU6IHsgcHJpbWFyeTogeyA1MDA6ICd2YXIoLS1jb2xvciknIH0gfVxuICogfSwgeyBwcmVmaXg6ICdmb28nIH0pXG4gKlxuICogY29uc29sZS5sb2coY3NzKSAvLyB7ICctLWZvby1mb250U2l6ZSc6ICcxMnB4JywgJy0tZm9vLWxpbmVIZWlnaHQnOiAxLjIsICctLWZvby1wYWxldHRlLXByaW1hcnktNTAwJzogJ3ZhcigtLWNvbG9yKScgfVxuICogY29uc29sZS5sb2codmFycykgLy8geyBmb250U2l6ZTogJ3ZhcigtLWZvby1mb250U2l6ZSknLCBsaW5lSGVpZ2h0OiAndmFyKC0tZm9vLWxpbmVIZWlnaHQpJywgcGFsZXR0ZTogeyBwcmltYXJ5OiB7IDUwMDogJ3ZhcigtLWZvby1wYWxldHRlLXByaW1hcnktNTAwKScgfSB9IH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3NzVmFyc1BhcnNlcih0aGVtZSwgb3B0aW9ucykge1xuICBjb25zdCB7XG4gICAgcHJlZml4LFxuICAgIHNob3VsZFNraXBHZW5lcmF0aW5nVmFyXG4gIH0gPSBvcHRpb25zIHx8IHt9O1xuICBjb25zdCBjc3MgPSB7fTtcbiAgY29uc3QgdmFycyA9IHt9O1xuICBjb25zdCB2YXJzV2l0aERlZmF1bHRzID0ge307XG4gIHdhbGtPYmplY3REZWVwKHRoZW1lLCAoa2V5cywgdmFsdWUsIGFycmF5S2V5cykgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIGlmICghc2hvdWxkU2tpcEdlbmVyYXRpbmdWYXIgfHwgIXNob3VsZFNraXBHZW5lcmF0aW5nVmFyKGtleXMsIHZhbHVlKSkge1xuICAgICAgICAvLyBvbmx5IGNyZWF0ZSBjc3MgJiB2YXIgaWYgYHNob3VsZFNraXBHZW5lcmF0aW5nVmFyYCByZXR1cm4gZmFsc2VcbiAgICAgICAgY29uc3QgY3NzVmFyID0gYC0tJHtwcmVmaXggPyBgJHtwcmVmaXh9LWAgOiAnJ30ke2tleXMuam9pbignLScpfWA7XG4gICAgICAgIGNvbnN0IHJlc29sdmVkVmFsdWUgPSBnZXRDc3NWYWx1ZShrZXlzLCB2YWx1ZSk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oY3NzLCB7XG4gICAgICAgICAgW2Nzc1Zhcl06IHJlc29sdmVkVmFsdWVcbiAgICAgICAgfSk7XG4gICAgICAgIGFzc2lnbk5lc3RlZEtleXModmFycywga2V5cywgYHZhcigke2Nzc1Zhcn0pYCwgYXJyYXlLZXlzKTtcbiAgICAgICAgYXNzaWduTmVzdGVkS2V5cyh2YXJzV2l0aERlZmF1bHRzLCBrZXlzLCBgdmFyKCR7Y3NzVmFyfSwgJHtyZXNvbHZlZFZhbHVlfSlgLCBhcnJheUtleXMpO1xuICAgICAgfVxuICAgIH1cbiAgfSwga2V5cyA9PiBrZXlzWzBdID09PSAndmFycycgLy8gc2tpcCAndmFycy8qJyBwYXRoc1xuICApO1xuICByZXR1cm4ge1xuICAgIGNzcyxcbiAgICB2YXJzLFxuICAgIHZhcnNXaXRoRGVmYXVsdHNcbiAgfTtcbn0iLAogICAgImltcG9ydCBkZWVwbWVyZ2UgZnJvbSAnQG11aS91dGlscy9kZWVwbWVyZ2UnO1xuaW1wb3J0IGNzc1ZhcnNQYXJzZXIgZnJvbSBcIi4vY3NzVmFyc1BhcnNlci5qc1wiO1xuZnVuY3Rpb24gcHJlcGFyZUNzc1ZhcnModGhlbWUsIHBhcnNlckNvbmZpZyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBnZXRTZWxlY3RvciA9IGRlZmF1bHRHZXRTZWxlY3RvcixcbiAgICBkaXNhYmxlQ3NzQ29sb3JTY2hlbWUsXG4gICAgY29sb3JTY2hlbWVTZWxlY3Rvcjogc2VsZWN0b3IsXG4gICAgZW5hYmxlQ29udHJhc3RWYXJzXG4gIH0gPSBwYXJzZXJDb25maWc7XG4gIC8vIEB0cy1pZ25vcmUgLSBpZ25vcmUgY29tcG9uZW50cyBkbyBub3QgZXhpc3RcbiAgY29uc3Qge1xuICAgIGNvbG9yU2NoZW1lcyA9IHt9LFxuICAgIGNvbXBvbmVudHMsXG4gICAgZGVmYXVsdENvbG9yU2NoZW1lID0gJ2xpZ2h0JyxcbiAgICAuLi5vdGhlclRoZW1lXG4gIH0gPSB0aGVtZTtcbiAgY29uc3Qge1xuICAgIHZhcnM6IHJvb3RWYXJzLFxuICAgIGNzczogcm9vdENzcyxcbiAgICB2YXJzV2l0aERlZmF1bHRzOiByb290VmFyc1dpdGhEZWZhdWx0c1xuICB9ID0gY3NzVmFyc1BhcnNlcihvdGhlclRoZW1lLCBwYXJzZXJDb25maWcpO1xuICBsZXQgdGhlbWVWYXJzID0gcm9vdFZhcnNXaXRoRGVmYXVsdHM7XG4gIGNvbnN0IGNvbG9yU2NoZW1lc01hcCA9IHt9O1xuICBjb25zdCB7XG4gICAgW2RlZmF1bHRDb2xvclNjaGVtZV06IGRlZmF1bHRTY2hlbWUsXG4gICAgLi4ub3RoZXJDb2xvclNjaGVtZXNcbiAgfSA9IGNvbG9yU2NoZW1lcztcbiAgT2JqZWN0LmVudHJpZXMob3RoZXJDb2xvclNjaGVtZXMgfHwge30pLmZvckVhY2goKFtrZXksIHNjaGVtZV0pID0+IHtcbiAgICBjb25zdCB7XG4gICAgICB2YXJzLFxuICAgICAgY3NzLFxuICAgICAgdmFyc1dpdGhEZWZhdWx0c1xuICAgIH0gPSBjc3NWYXJzUGFyc2VyKHNjaGVtZSwgcGFyc2VyQ29uZmlnKTtcbiAgICB0aGVtZVZhcnMgPSBkZWVwbWVyZ2UodGhlbWVWYXJzLCB2YXJzV2l0aERlZmF1bHRzKTtcbiAgICBjb2xvclNjaGVtZXNNYXBba2V5XSA9IHtcbiAgICAgIGNzcyxcbiAgICAgIHZhcnNcbiAgICB9O1xuICB9KTtcbiAgaWYgKGRlZmF1bHRTY2hlbWUpIHtcbiAgICAvLyBkZWZhdWx0IGNvbG9yIHNjaGVtZSB2YXJzIHNob3VsZCBiZSBtZXJnZWQgbGFzdCB0byBzZXQgYXMgZGVmYXVsdFxuICAgIGNvbnN0IHtcbiAgICAgIGNzcyxcbiAgICAgIHZhcnMsXG4gICAgICB2YXJzV2l0aERlZmF1bHRzXG4gICAgfSA9IGNzc1ZhcnNQYXJzZXIoZGVmYXVsdFNjaGVtZSwgcGFyc2VyQ29uZmlnKTtcbiAgICB0aGVtZVZhcnMgPSBkZWVwbWVyZ2UodGhlbWVWYXJzLCB2YXJzV2l0aERlZmF1bHRzKTtcbiAgICBjb2xvclNjaGVtZXNNYXBbZGVmYXVsdENvbG9yU2NoZW1lXSA9IHtcbiAgICAgIGNzcyxcbiAgICAgIHZhcnNcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIGRlZmF1bHRHZXRTZWxlY3Rvcihjb2xvclNjaGVtZSwgY3NzT2JqZWN0KSB7XG4gICAgbGV0IHJ1bGUgPSBzZWxlY3RvcjtcbiAgICBpZiAoc2VsZWN0b3IgPT09ICdjbGFzcycpIHtcbiAgICAgIHJ1bGUgPSAnLiVzJztcbiAgICB9XG4gICAgaWYgKHNlbGVjdG9yID09PSAnZGF0YScpIHtcbiAgICAgIHJ1bGUgPSAnW2RhdGEtJXNdJztcbiAgICB9XG4gICAgaWYgKHNlbGVjdG9yPy5zdGFydHNXaXRoKCdkYXRhLScpICYmICFzZWxlY3Rvci5pbmNsdWRlcygnJXMnKSkge1xuICAgICAgLy8gJ2RhdGEtam95LWNvbG9yLXNjaGVtZScgLT4gJ1tkYXRhLWpveS1jb2xvci1zY2hlbWU9XCIlc1wiXSdcbiAgICAgIHJ1bGUgPSBgWyR7c2VsZWN0b3J9PVwiJXNcIl1gO1xuICAgIH1cbiAgICBpZiAoY29sb3JTY2hlbWUpIHtcbiAgICAgIGlmIChydWxlID09PSAnbWVkaWEnKSB7XG4gICAgICAgIGlmICh0aGVtZS5kZWZhdWx0Q29sb3JTY2hlbWUgPT09IGNvbG9yU2NoZW1lKSB7XG4gICAgICAgICAgcmV0dXJuICc6cm9vdCc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbW9kZSA9IGNvbG9yU2NoZW1lc1tjb2xvclNjaGVtZV0/LnBhbGV0dGU/Lm1vZGUgfHwgY29sb3JTY2hlbWU7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgW2BAbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiAke21vZGV9KWBdOiB7XG4gICAgICAgICAgICAnOnJvb3QnOiBjc3NPYmplY3RcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAocnVsZSkge1xuICAgICAgICBpZiAodGhlbWUuZGVmYXVsdENvbG9yU2NoZW1lID09PSBjb2xvclNjaGVtZSkge1xuICAgICAgICAgIHJldHVybiBgOnJvb3QsICR7cnVsZS5yZXBsYWNlKCclcycsIFN0cmluZyhjb2xvclNjaGVtZSkpfWA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJ1bGUucmVwbGFjZSgnJXMnLCBTdHJpbmcoY29sb3JTY2hlbWUpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICc6cm9vdCc7XG4gIH1cbiAgY29uc3QgZ2VuZXJhdGVUaGVtZVZhcnMgPSAoKSA9PiB7XG4gICAgbGV0IHZhcnMgPSB7XG4gICAgICAuLi5yb290VmFyc1xuICAgIH07XG4gICAgT2JqZWN0LmVudHJpZXMoY29sb3JTY2hlbWVzTWFwKS5mb3JFYWNoKChbLCB7XG4gICAgICB2YXJzOiBzY2hlbWVWYXJzXG4gICAgfV0pID0+IHtcbiAgICAgIHZhcnMgPSBkZWVwbWVyZ2UodmFycywgc2NoZW1lVmFycyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHZhcnM7XG4gIH07XG4gIGNvbnN0IGdlbmVyYXRlU3R5bGVTaGVldHMgPSAoKSA9PiB7XG4gICAgY29uc3Qgc3R5bGVzaGVldHMgPSBbXTtcbiAgICBjb25zdCBjb2xvclNjaGVtZSA9IHRoZW1lLmRlZmF1bHRDb2xvclNjaGVtZSB8fCAnbGlnaHQnO1xuICAgIGZ1bmN0aW9uIGluc2VydFN0eWxlU2hlZXQoa2V5LCBjc3MpIHtcbiAgICAgIGlmIChPYmplY3Qua2V5cyhjc3MpLmxlbmd0aCkge1xuICAgICAgICBzdHlsZXNoZWV0cy5wdXNoKHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnID8ge1xuICAgICAgICAgIFtrZXldOiB7XG4gICAgICAgICAgICAuLi5jc3NcbiAgICAgICAgICB9XG4gICAgICAgIH0gOiBrZXkpO1xuICAgICAgfVxuICAgIH1cbiAgICBpbnNlcnRTdHlsZVNoZWV0KGdldFNlbGVjdG9yKHVuZGVmaW5lZCwge1xuICAgICAgLi4ucm9vdENzc1xuICAgIH0pLCByb290Q3NzKTtcbiAgICBjb25zdCB7XG4gICAgICBbY29sb3JTY2hlbWVdOiBkZWZhdWx0U2NoZW1lVmFsLFxuICAgICAgLi4ub3RoZXJcbiAgICB9ID0gY29sb3JTY2hlbWVzTWFwO1xuICAgIGlmIChkZWZhdWx0U2NoZW1lVmFsKSB7XG4gICAgICAvLyBkZWZhdWx0IGNvbG9yIHNjaGVtZSBoYXMgdG8gY29tZSBiZWZvcmUgb3RoZXIgY29sb3Igc2NoZW1lc1xuICAgICAgY29uc3Qge1xuICAgICAgICBjc3NcbiAgICAgIH0gPSBkZWZhdWx0U2NoZW1lVmFsO1xuICAgICAgY29uc3QgY3NzQ29sb3JTaGVtZSA9IGNvbG9yU2NoZW1lc1tjb2xvclNjaGVtZV0/LnBhbGV0dGU/Lm1vZGU7XG4gICAgICBjb25zdCBmaW5hbENzcyA9ICFkaXNhYmxlQ3NzQ29sb3JTY2hlbWUgJiYgY3NzQ29sb3JTaGVtZSA/IHtcbiAgICAgICAgY29sb3JTY2hlbWU6IGNzc0NvbG9yU2hlbWUsXG4gICAgICAgIC4uLmNzc1xuICAgICAgfSA6IHtcbiAgICAgICAgLi4uY3NzXG4gICAgICB9O1xuICAgICAgaW5zZXJ0U3R5bGVTaGVldChnZXRTZWxlY3Rvcihjb2xvclNjaGVtZSwge1xuICAgICAgICAuLi5maW5hbENzc1xuICAgICAgfSksIGZpbmFsQ3NzKTtcbiAgICB9XG4gICAgT2JqZWN0LmVudHJpZXMob3RoZXIpLmZvckVhY2goKFtrZXksIHtcbiAgICAgIGNzc1xuICAgIH1dKSA9PiB7XG4gICAgICBjb25zdCBjc3NDb2xvclNoZW1lID0gY29sb3JTY2hlbWVzW2tleV0/LnBhbGV0dGU/Lm1vZGU7XG4gICAgICBjb25zdCBmaW5hbENzcyA9ICFkaXNhYmxlQ3NzQ29sb3JTY2hlbWUgJiYgY3NzQ29sb3JTaGVtZSA/IHtcbiAgICAgICAgY29sb3JTY2hlbWU6IGNzc0NvbG9yU2hlbWUsXG4gICAgICAgIC4uLmNzc1xuICAgICAgfSA6IHtcbiAgICAgICAgLi4uY3NzXG4gICAgICB9O1xuICAgICAgaW5zZXJ0U3R5bGVTaGVldChnZXRTZWxlY3RvcihrZXksIHtcbiAgICAgICAgLi4uZmluYWxDc3NcbiAgICAgIH0pLCBmaW5hbENzcyk7XG4gICAgfSk7XG4gICAgaWYgKGVuYWJsZUNvbnRyYXN0VmFycykge1xuICAgICAgc3R5bGVzaGVldHMucHVzaCh7XG4gICAgICAgICc6cm9vdCc6IHtcbiAgICAgICAgICAvLyB1c2UgZG91YmxlIHVuZGVyc2NvcmUgdG8gaW5kaWNhdGUgdGhhdCB0aGVzZSBhcmUgcHJpdmF0ZSB2YXJpYWJsZXNcbiAgICAgICAgICAnLS1fX2wtdGhyZXNob2xkJzogJzAuNycsXG4gICAgICAgICAgJy0tX19sJzogJ2NsYW1wKDAsIChsIC8gdmFyKC0tX19sLXRocmVzaG9sZCkgLSAxKSAqIC1pbmZpbml0eSwgMSknLFxuICAgICAgICAgICctLV9fYSc6ICdjbGFtcCgwLjg3LCAobCAvIHZhcigtLV9fbC10aHJlc2hvbGQpIC0gMSkgKiAtaW5maW5pdHksIDEpJyAvLyAwLjg3IGlzIHRoZSBkZWZhdWx0IGFscGhhIHZhbHVlIGZvciBibGFjayB0ZXh0LlxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHN0eWxlc2hlZXRzO1xuICB9O1xuICByZXR1cm4ge1xuICAgIHZhcnM6IHRoZW1lVmFycyxcbiAgICBnZW5lcmF0ZVRoZW1lVmFycyxcbiAgICBnZW5lcmF0ZVN0eWxlU2hlZXRzXG4gIH07XG59XG5leHBvcnQgZGVmYXVsdCBwcmVwYXJlQ3NzVmFyczsiLAogICAgIi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9wcmVmZXItZGVmYXVsdC1leHBvcnQgKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVHZXRDb2xvclNjaGVtZVNlbGVjdG9yKHNlbGVjdG9yKSB7XG4gIHJldHVybiBmdW5jdGlvbiBnZXRDb2xvclNjaGVtZVNlbGVjdG9yKGNvbG9yU2NoZW1lKSB7XG4gICAgaWYgKHNlbGVjdG9yID09PSAnbWVkaWEnKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAoY29sb3JTY2hlbWUgIT09ICdsaWdodCcgJiYgY29sb3JTY2hlbWUgIT09ICdkYXJrJykge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYE1VSTogQG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZSkgc3VwcG9ydHMgb25seSAnbGlnaHQnIG9yICdkYXJrJywgYnV0IHJlY2VpdmUgJyR7Y29sb3JTY2hlbWV9Jy5gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGBAbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiAke2NvbG9yU2NoZW1lfSlgO1xuICAgIH1cbiAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgIGlmIChzZWxlY3Rvci5zdGFydHNXaXRoKCdkYXRhLScpICYmICFzZWxlY3Rvci5pbmNsdWRlcygnJXMnKSkge1xuICAgICAgICByZXR1cm4gYFske3NlbGVjdG9yfT1cIiR7Y29sb3JTY2hlbWV9XCJdICZgO1xuICAgICAgfVxuICAgICAgaWYgKHNlbGVjdG9yID09PSAnY2xhc3MnKSB7XG4gICAgICAgIHJldHVybiBgLiR7Y29sb3JTY2hlbWV9ICZgO1xuICAgICAgfVxuICAgICAgaWYgKHNlbGVjdG9yID09PSAnZGF0YScpIHtcbiAgICAgICAgcmV0dXJuIGBbZGF0YS0ke2NvbG9yU2NoZW1lfV0gJmA7XG4gICAgICB9XG4gICAgICByZXR1cm4gYCR7c2VsZWN0b3IucmVwbGFjZSgnJXMnLCBjb2xvclNjaGVtZSl9ICZgO1xuICAgIH1cbiAgICByZXR1cm4gJyYnO1xuICB9O1xufSIsCiAgICAiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgZ2VuZXJhdGVVdGlsaXR5Q2xhc3MgZnJvbSAnQG11aS91dGlscy9nZW5lcmF0ZVV0aWxpdHlDbGFzcyc7XG5pbXBvcnQgY29tcG9zZUNsYXNzZXMgZnJvbSAnQG11aS91dGlscy9jb21wb3NlQ2xhc3Nlcyc7XG5pbXBvcnQgY2FwaXRhbGl6ZSBmcm9tICdAbXVpL3V0aWxzL2NhcGl0YWxpemUnO1xuaW1wb3J0IHVzZVRoZW1lUHJvcHNTeXN0ZW0gZnJvbSBcIi4uL3VzZVRoZW1lUHJvcHMvaW5kZXguanNcIjtcbmltcG9ydCBzeXN0ZW1TdHlsZWQgZnJvbSBcIi4uL3N0eWxlZC9pbmRleC5qc1wiO1xuaW1wb3J0IGNyZWF0ZVRoZW1lIGZyb20gXCIuLi9jcmVhdGVUaGVtZS9pbmRleC5qc1wiO1xuaW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmNvbnN0IGRlZmF1bHRUaGVtZSA9IGNyZWF0ZVRoZW1lKCk7XG5jb25zdCBkZWZhdWx0Q3JlYXRlU3R5bGVkQ29tcG9uZW50ID0gc3lzdGVtU3R5bGVkKCdkaXYnLCB7XG4gIG5hbWU6ICdNdWlDb250YWluZXInLFxuICBzbG90OiAnUm9vdCcsXG4gIG92ZXJyaWRlc1Jlc29sdmVyOiAocHJvcHMsIHN0eWxlcykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIG93bmVyU3RhdGVcbiAgICB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIFtzdHlsZXMucm9vdCwgc3R5bGVzW2BtYXhXaWR0aCR7Y2FwaXRhbGl6ZShTdHJpbmcob3duZXJTdGF0ZS5tYXhXaWR0aCkpfWBdLCBvd25lclN0YXRlLmZpeGVkICYmIHN0eWxlcy5maXhlZCwgb3duZXJTdGF0ZS5kaXNhYmxlR3V0dGVycyAmJiBzdHlsZXMuZGlzYWJsZUd1dHRlcnNdO1xuICB9XG59KTtcbmNvbnN0IHVzZVRoZW1lUHJvcHNEZWZhdWx0ID0gaW5Qcm9wcyA9PiB1c2VUaGVtZVByb3BzU3lzdGVtKHtcbiAgcHJvcHM6IGluUHJvcHMsXG4gIG5hbWU6ICdNdWlDb250YWluZXInLFxuICBkZWZhdWx0VGhlbWVcbn0pO1xuY29uc3QgdXNlVXRpbGl0eUNsYXNzZXMgPSAob3duZXJTdGF0ZSwgY29tcG9uZW50TmFtZSkgPT4ge1xuICBjb25zdCBnZXRDb250YWluZXJVdGlsaXR5Q2xhc3MgPSBzbG90ID0+IHtcbiAgICByZXR1cm4gZ2VuZXJhdGVVdGlsaXR5Q2xhc3MoY29tcG9uZW50TmFtZSwgc2xvdCk7XG4gIH07XG4gIGNvbnN0IHtcbiAgICBjbGFzc2VzLFxuICAgIGZpeGVkLFxuICAgIGRpc2FibGVHdXR0ZXJzLFxuICAgIG1heFdpZHRoXG4gIH0gPSBvd25lclN0YXRlO1xuICBjb25zdCBzbG90cyA9IHtcbiAgICByb290OiBbJ3Jvb3QnLCBtYXhXaWR0aCAmJiBgbWF4V2lkdGgke2NhcGl0YWxpemUoU3RyaW5nKG1heFdpZHRoKSl9YCwgZml4ZWQgJiYgJ2ZpeGVkJywgZGlzYWJsZUd1dHRlcnMgJiYgJ2Rpc2FibGVHdXR0ZXJzJ11cbiAgfTtcbiAgcmV0dXJuIGNvbXBvc2VDbGFzc2VzKHNsb3RzLCBnZXRDb250YWluZXJVdGlsaXR5Q2xhc3MsIGNsYXNzZXMpO1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUNvbnRhaW5lcihvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIC8vIFRoaXMgd2lsbCBhbGxvdyBhZGRpbmcgY3VzdG9tIHN0eWxlZCBmbiAoZm9yIGV4YW1wbGUgZm9yIGN1c3RvbSBzeCBzdHlsZSBmdW5jdGlvbilcbiAgICBjcmVhdGVTdHlsZWRDb21wb25lbnQgPSBkZWZhdWx0Q3JlYXRlU3R5bGVkQ29tcG9uZW50LFxuICAgIHVzZVRoZW1lUHJvcHMgPSB1c2VUaGVtZVByb3BzRGVmYXVsdCxcbiAgICBjb21wb25lbnROYW1lID0gJ011aUNvbnRhaW5lcidcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IENvbnRhaW5lclJvb3QgPSBjcmVhdGVTdHlsZWRDb21wb25lbnQoKHtcbiAgICB0aGVtZSxcbiAgICBvd25lclN0YXRlXG4gIH0pID0+ICh7XG4gICAgd2lkdGg6ICcxMDAlJyxcbiAgICBtYXJnaW5MZWZ0OiAnYXV0bycsXG4gICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgbWFyZ2luUmlnaHQ6ICdhdXRvJyxcbiAgICAuLi4oIW93bmVyU3RhdGUuZGlzYWJsZUd1dHRlcnMgJiYge1xuICAgICAgcGFkZGluZ0xlZnQ6IHRoZW1lLnNwYWNpbmcoMiksXG4gICAgICBwYWRkaW5nUmlnaHQ6IHRoZW1lLnNwYWNpbmcoMiksXG4gICAgICAvLyBAdHMtaWdub3JlIG1vZHVsZSBhdWdtZW50YXRpb24gZmFpbHMgaWYgY3VzdG9tIGJyZWFrcG9pbnRzIGFyZSB1c2VkXG4gICAgICBbdGhlbWUuYnJlYWtwb2ludHMudXAoJ3NtJyldOiB7XG4gICAgICAgIHBhZGRpbmdMZWZ0OiB0aGVtZS5zcGFjaW5nKDMpLFxuICAgICAgICBwYWRkaW5nUmlnaHQ6IHRoZW1lLnNwYWNpbmcoMylcbiAgICAgIH1cbiAgICB9KVxuICB9KSwgKHtcbiAgICB0aGVtZSxcbiAgICBvd25lclN0YXRlXG4gIH0pID0+IG93bmVyU3RhdGUuZml4ZWQgJiYgT2JqZWN0LmtleXModGhlbWUuYnJlYWtwb2ludHMudmFsdWVzKS5yZWR1Y2UoKGFjYywgYnJlYWtwb2ludFZhbHVlS2V5KSA9PiB7XG4gICAgY29uc3QgYnJlYWtwb2ludCA9IGJyZWFrcG9pbnRWYWx1ZUtleTtcbiAgICBjb25zdCB2YWx1ZSA9IHRoZW1lLmJyZWFrcG9pbnRzLnZhbHVlc1ticmVha3BvaW50XTtcbiAgICBpZiAodmFsdWUgIT09IDApIHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGFjY1t0aGVtZS5icmVha3BvaW50cy51cChicmVha3BvaW50KV0gPSB7XG4gICAgICAgIG1heFdpZHRoOiBgJHt2YWx1ZX0ke3RoZW1lLmJyZWFrcG9pbnRzLnVuaXR9YFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGFjYztcbiAgfSwge30pLCAoe1xuICAgIHRoZW1lLFxuICAgIG93bmVyU3RhdGVcbiAgfSkgPT4gKHtcbiAgICAvLyBAdHMtaWdub3JlIG1vZHVsZSBhdWdtZW50YXRpb24gZmFpbHMgaWYgY3VzdG9tIGJyZWFrcG9pbnRzIGFyZSB1c2VkXG4gICAgLi4uKG93bmVyU3RhdGUubWF4V2lkdGggPT09ICd4cycgJiYge1xuICAgICAgLy8gQHRzLWlnbm9yZSBtb2R1bGUgYXVnbWVudGF0aW9uIGZhaWxzIGlmIGN1c3RvbSBicmVha3BvaW50cyBhcmUgdXNlZFxuICAgICAgW3RoZW1lLmJyZWFrcG9pbnRzLnVwKCd4cycpXToge1xuICAgICAgICAvLyBAdHMtaWdub3JlIG1vZHVsZSBhdWdtZW50YXRpb24gZmFpbHMgaWYgY3VzdG9tIGJyZWFrcG9pbnRzIGFyZSB1c2VkXG4gICAgICAgIG1heFdpZHRoOiBNYXRoLm1heCh0aGVtZS5icmVha3BvaW50cy52YWx1ZXMueHMsIDQ0NClcbiAgICAgIH1cbiAgICB9KSxcbiAgICAuLi4ob3duZXJTdGF0ZS5tYXhXaWR0aCAmJlxuICAgIC8vIEB0cy1pZ25vcmUgbW9kdWxlIGF1Z21lbnRhdGlvbiBmYWlscyBpZiBjdXN0b20gYnJlYWtwb2ludHMgYXJlIHVzZWRcbiAgICBvd25lclN0YXRlLm1heFdpZHRoICE9PSAneHMnICYmIHtcbiAgICAgIC8vIEB0cy1pZ25vcmUgbW9kdWxlIGF1Z21lbnRhdGlvbiBmYWlscyBpZiBjdXN0b20gYnJlYWtwb2ludHMgYXJlIHVzZWRcbiAgICAgIFt0aGVtZS5icmVha3BvaW50cy51cChvd25lclN0YXRlLm1heFdpZHRoKV06IHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZSBtb2R1bGUgYXVnbWVudGF0aW9uIGZhaWxzIGlmIGN1c3RvbSBicmVha3BvaW50cyBhcmUgdXNlZFxuICAgICAgICBtYXhXaWR0aDogYCR7dGhlbWUuYnJlYWtwb2ludHMudmFsdWVzW293bmVyU3RhdGUubWF4V2lkdGhdfSR7dGhlbWUuYnJlYWtwb2ludHMudW5pdH1gXG4gICAgICB9XG4gICAgfSlcbiAgfSkpO1xuICBjb25zdCBDb250YWluZXIgPSAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiBDb250YWluZXIoaW5Qcm9wcywgcmVmKSB7XG4gICAgY29uc3QgcHJvcHMgPSB1c2VUaGVtZVByb3BzKGluUHJvcHMpO1xuICAgIGNvbnN0IHtcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgIGNvbXBvbmVudCA9ICdkaXYnLFxuICAgICAgZGlzYWJsZUd1dHRlcnMgPSBmYWxzZSxcbiAgICAgIGZpeGVkID0gZmFsc2UsXG4gICAgICBtYXhXaWR0aCA9ICdsZycsXG4gICAgICBjbGFzc2VzOiBjbGFzc2VzUHJvcCxcbiAgICAgIC4uLm90aGVyXG4gICAgfSA9IHByb3BzO1xuICAgIGNvbnN0IG93bmVyU3RhdGUgPSB7XG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNvbXBvbmVudCxcbiAgICAgIGRpc2FibGVHdXR0ZXJzLFxuICAgICAgZml4ZWQsXG4gICAgICBtYXhXaWR0aFxuICAgIH07XG5cbiAgICAvLyBAdHMtaWdub3JlIG1vZHVsZSBhdWdtZW50YXRpb24gZmFpbHMgaWYgY3VzdG9tIGJyZWFrcG9pbnRzIGFyZSB1c2VkXG4gICAgY29uc3QgY2xhc3NlcyA9IHVzZVV0aWxpdHlDbGFzc2VzKG93bmVyU3RhdGUsIGNvbXBvbmVudE5hbWUpO1xuICAgIHJldHVybiAoXG4gICAgICAvKiNfX1BVUkVfXyovXG4gICAgICAvLyBAdHMtaWdub3JlIHRoZW1lIGlzIGluamVjdGVkIGJ5IHRoZSBzdHlsZWQgdXRpbFxuICAgICAgX2pzeChDb250YWluZXJSb290LCB7XG4gICAgICAgIGFzOiBjb21wb25lbnRcbiAgICAgICAgLy8gQHRzLWlnbm9yZSBtb2R1bGUgYXVnbWVudGF0aW9uIGZhaWxzIGlmIGN1c3RvbSBicmVha3BvaW50cyBhcmUgdXNlZFxuICAgICAgICAsXG4gICAgICAgIG93bmVyU3RhdGU6IG93bmVyU3RhdGUsXG4gICAgICAgIGNsYXNzTmFtZTogY2xzeChjbGFzc2VzLnJvb3QsIGNsYXNzTmFtZSksXG4gICAgICAgIHJlZjogcmVmLFxuICAgICAgICAuLi5vdGhlclxuICAgICAgfSlcbiAgICApO1xuICB9KTtcbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gQ29udGFpbmVyLnByb3BUeXBlcyAvKiByZW1vdmUtcHJvcHR5cGVzICovID0ge1xuICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcbiAgICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBjb21wb25lbnQ6IFByb3BUeXBlcy5lbGVtZW50VHlwZSxcbiAgICBkaXNhYmxlR3V0dGVyczogUHJvcFR5cGVzLmJvb2wsXG4gICAgZml4ZWQ6IFByb3BUeXBlcy5ib29sLFxuICAgIG1heFdpZHRoOiBQcm9wVHlwZXMgLyogQHR5cGVzY3JpcHQtdG8tcHJvcHR5cGVzLWlnbm9yZSAqLy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ3hzJywgJ3NtJywgJ21kJywgJ2xnJywgJ3hsJywgZmFsc2VdKSwgUHJvcFR5cGVzLnN0cmluZ10pLFxuICAgIHN4OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdCwgUHJvcFR5cGVzLmJvb2xdKSksIFByb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0XSlcbiAgfSA6IHZvaWQgMDtcbiAgcmV0dXJuIENvbnRhaW5lcjtcbn0iLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBjcmVhdGVHcmlkIGZyb20gXCIuL2NyZWF0ZUdyaWQuanNcIjtcbi8qKlxuICpcbiAqIERlbW9zOlxuICpcbiAqIC0gW0dyaWQgKEpveSBVSSldKGh0dHBzOi8vbXVpLmNvbS9qb3ktdWkvcmVhY3QtZ3JpZC8pXG4gKiAtIFtHcmlkIChNYXRlcmlhbCBVSSldKGh0dHBzOi8vbXVpLmNvbS9tYXRlcmlhbC11aS9yZWFjdC1ncmlkLylcbiAqXG4gKiBBUEk6XG4gKlxuICogLSBbR3JpZCBBUEldKGh0dHBzOi8vbXVpLmNvbS9zeXN0ZW0vYXBpL2dyaWQvKVxuICovXG5jb25zdCBHcmlkID0gY3JlYXRlR3JpZCgpO1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gR3JpZC5wcm9wVHlwZXMgLyogcmVtb3ZlLXByb3B0eXBlcyAqLyA9IHtcbiAgLy8g4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIFdhcm5pbmcg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQXG4gIC8vIOKUgiBUaGVzZSBQcm9wVHlwZXMgYXJlIGdlbmVyYXRlZCBmcm9tIHRoZSBUeXBlU2NyaXB0IHR5cGUgZGVmaW5pdGlvbnMuIOKUglxuICAvLyDilIIgVG8gdXBkYXRlIHRoZW0sIGVkaXQgdGhlIFR5cGVTY3JpcHQgdHlwZXMgYW5kIHJ1biBgcG5wbSBwcm9wdHlwZXNgLiDilIJcbiAgLy8g4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG4gIC8qKlxuICAgKiBUaGUgY29udGVudCBvZiB0aGUgY29tcG9uZW50LlxuICAgKi9cbiAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuICAvKipcbiAgICogVGhlIG51bWJlciBvZiBjb2x1bW5zLlxuICAgKiBAZGVmYXVsdCAxMlxuICAgKi9cbiAgY29sdW1uczogUHJvcFR5cGVzIC8qIEB0eXBlc2NyaXB0LXRvLXByb3B0eXBlcy1pZ25vcmUgKi8ub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMubnVtYmVyKSwgUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLm9iamVjdF0pLFxuICAvKipcbiAgICogRGVmaW5lcyB0aGUgaG9yaXpvbnRhbCBzcGFjZSBiZXR3ZWVuIHRoZSB0eXBlIGBpdGVtYCBjb21wb25lbnRzLlxuICAgKiBJdCBvdmVycmlkZXMgdGhlIHZhbHVlIG9mIHRoZSBgc3BhY2luZ2AgcHJvcC5cbiAgICovXG4gIGNvbHVtblNwYWNpbmc6IFByb3BUeXBlcyAvKiBAdHlwZXNjcmlwdC10by1wcm9wdHlwZXMtaWdub3JlICovLm9uZU9mVHlwZShbUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLnN0cmluZ10pKSwgUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLm9iamVjdCwgUHJvcFR5cGVzLnN0cmluZ10pLFxuICAvKipcbiAgICogSWYgYHRydWVgLCB0aGUgY29tcG9uZW50IHdpbGwgaGF2ZSB0aGUgZmxleCAqY29udGFpbmVyKiBiZWhhdmlvci5cbiAgICogWW91IHNob3VsZCBiZSB3cmFwcGluZyAqaXRlbXMqIHdpdGggYSAqY29udGFpbmVyKi5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGNvbnRhaW5lcjogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBEZWZpbmVzIHRoZSBgZmxleC1kaXJlY3Rpb25gIHN0eWxlIHByb3BlcnR5LlxuICAgKiBJdCBpcyBhcHBsaWVkIGZvciBhbGwgc2NyZWVuIHNpemVzLlxuICAgKiBAZGVmYXVsdCAncm93J1xuICAgKi9cbiAgZGlyZWN0aW9uOiBQcm9wVHlwZXMgLyogQHR5cGVzY3JpcHQtdG8tcHJvcHR5cGVzLWlnbm9yZSAqLy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ2NvbHVtbi1yZXZlcnNlJywgJ2NvbHVtbicsICdyb3ctcmV2ZXJzZScsICdyb3cnXSksIFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZihbJ2NvbHVtbi1yZXZlcnNlJywgJ2NvbHVtbicsICdyb3ctcmV2ZXJzZScsICdyb3cnXSkpLCBQcm9wVHlwZXMub2JqZWN0XSksXG4gIC8qKlxuICAgKiBEZWZpbmVzIHRoZSBvZmZzZXQgdmFsdWUgZm9yIHRoZSB0eXBlIGBpdGVtYCBjb21wb25lbnRzLlxuICAgKi9cbiAgb2Zmc2V0OiBQcm9wVHlwZXMgLyogQHR5cGVzY3JpcHQtdG8tcHJvcHR5cGVzLWlnbm9yZSAqLy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5udW1iZXIsIFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5udW1iZXJdKSksIFByb3BUeXBlcy5vYmplY3RdKSxcbiAgLyoqXG4gICAqIERlZmluZXMgdGhlIHZlcnRpY2FsIHNwYWNlIGJldHdlZW4gdGhlIHR5cGUgYGl0ZW1gIGNvbXBvbmVudHMuXG4gICAqIEl0IG92ZXJyaWRlcyB0aGUgdmFsdWUgb2YgdGhlIGBzcGFjaW5nYCBwcm9wLlxuICAgKi9cbiAgcm93U3BhY2luZzogUHJvcFR5cGVzIC8qIEB0eXBlc2NyaXB0LXRvLXByb3B0eXBlcy1pZ25vcmUgKi8ub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMuc3RyaW5nXSkpLCBQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMub2JqZWN0LCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gIC8qKlxuICAgKiBEZWZpbmVzIHRoZSBzaXplIG9mIHRoZSB0aGUgdHlwZSBgaXRlbWAgY29tcG9uZW50cy5cbiAgICovXG4gIHNpemU6IFByb3BUeXBlcyAvKiBAdHlwZXNjcmlwdC10by1wcm9wdHlwZXMtaWdub3JlICovLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmJvb2wsIFByb3BUeXBlcy5udW1iZXIsIFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5ib29sLCBQcm9wVHlwZXMubnVtYmVyXSkpLCBQcm9wVHlwZXMub2JqZWN0XSksXG4gIC8qKlxuICAgKiBEZWZpbmVzIHRoZSBzcGFjZSBiZXR3ZWVuIHRoZSB0eXBlIGBpdGVtYCBjb21wb25lbnRzLlxuICAgKiBJdCBjYW4gb25seSBiZSB1c2VkIG9uIGEgdHlwZSBgY29udGFpbmVyYCBjb21wb25lbnQuXG4gICAqIEBkZWZhdWx0IDBcbiAgICovXG4gIHNwYWNpbmc6IFByb3BUeXBlcyAvKiBAdHlwZXNjcmlwdC10by1wcm9wdHlwZXMtaWdub3JlICovLm9uZU9mVHlwZShbUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLnN0cmluZ10pKSwgUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLm9iamVjdCwgUHJvcFR5cGVzLnN0cmluZ10pLFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgc3g6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0LCBQcm9wVHlwZXMuYm9vbF0pKSwgUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3RdKSxcbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBUaGUgbGV2ZWwgb2YgdGhlIGdyaWQgc3RhcnRzIGZyb20gYDBgIGFuZCBpbmNyZWFzZXMgd2hlbiB0aGUgZ3JpZCBuZXN0c1xuICAgKiBpbnNpZGUgYW5vdGhlciBncmlkLiBOZXN0aW5nIGlzIGRlZmluZWQgYXMgYSBjb250YWluZXIgR3JpZCBiZWluZyBhIGRpcmVjdFxuICAgKiBjaGlsZCBvZiBhIGNvbnRhaW5lciBHcmlkLlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiA8R3JpZCBjb250YWluZXI+IC8vIGxldmVsIDBcbiAgICogICA8R3JpZCBjb250YWluZXI+IC8vIGxldmVsIDFcbiAgICogICAgIDxHcmlkIGNvbnRhaW5lcj4gLy8gbGV2ZWwgMlxuICAgKiBgYGBcbiAgICpcbiAgICogT25seSBjb25zZWN1dGl2ZSBncmlkIGlzIGNvbnNpZGVyZWQgbmVzdGluZy4gQSBncmlkIGNvbnRhaW5lciB3aWxsIHN0YXJ0IGF0XG4gICAqIGAwYCBpZiB0aGVyZSBhcmUgbm9uLUdyaWQgY29udGFpbmVyIGVsZW1lbnQgYWJvdmUgaXQuXG4gICAqXG4gICAqIGBgYGpzXG4gICAqIDxHcmlkIGNvbnRhaW5lcj4gLy8gbGV2ZWwgMFxuICAgKiAgIDxkaXY+XG4gICAqICAgICA8R3JpZCBjb250YWluZXI+IC8vIGxldmVsIDBcbiAgICogYGBgXG4gICAqXG4gICAqIGBgYGpzXG4gICAqIDxHcmlkIGNvbnRhaW5lcj4gLy8gbGV2ZWwgMFxuICAgKiAgIDxHcmlkPlxuICAgKiAgICAgPEdyaWQgY29udGFpbmVyPiAvLyBsZXZlbCAwXG4gICAqIGBgYFxuICAgKi9cbiAgdW5zdGFibGVfbGV2ZWw6IFByb3BUeXBlcy5udW1iZXIsXG4gIC8qKlxuICAgKiBEZWZpbmVzIHRoZSBgZmxleC13cmFwYCBzdHlsZSBwcm9wZXJ0eS5cbiAgICogSXQncyBhcHBsaWVkIGZvciBhbGwgc2NyZWVuIHNpemVzLlxuICAgKiBAZGVmYXVsdCAnd3JhcCdcbiAgICovXG4gIHdyYXA6IFByb3BUeXBlcy5vbmVPZihbJ25vd3JhcCcsICd3cmFwLXJldmVyc2UnLCAnd3JhcCddKVxufSA6IHZvaWQgMDtcbmV4cG9ydCBkZWZhdWx0IEdyaWQ7IiwKICAgICIndXNlIGNsaWVudCc7XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgY2xzeCBmcm9tICdjbHN4JztcbmltcG9ydCBpc011aUVsZW1lbnQgZnJvbSAnQG11aS91dGlscy9pc011aUVsZW1lbnQnO1xuaW1wb3J0IGdlbmVyYXRlVXRpbGl0eUNsYXNzIGZyb20gJ0BtdWkvdXRpbHMvZ2VuZXJhdGVVdGlsaXR5Q2xhc3MnO1xuaW1wb3J0IGNvbXBvc2VDbGFzc2VzIGZyb20gJ0BtdWkvdXRpbHMvY29tcG9zZUNsYXNzZXMnO1xuaW1wb3J0IHN5c3RlbVN0eWxlZCBmcm9tIFwiLi4vc3R5bGVkL2luZGV4LmpzXCI7XG5pbXBvcnQgdXNlVGhlbWVQcm9wc1N5c3RlbSBmcm9tIFwiLi4vdXNlVGhlbWVQcm9wcy9pbmRleC5qc1wiO1xuaW1wb3J0IHVzZVRoZW1lU3lzdGVtIGZyb20gXCIuLi91c2VUaGVtZS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgZXh0ZW5kU3hQcm9wIH0gZnJvbSBcIi4uL3N0eWxlRnVuY3Rpb25TeC9pbmRleC5qc1wiO1xuaW1wb3J0IGNyZWF0ZVRoZW1lIGZyb20gXCIuLi9jcmVhdGVUaGVtZS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgZ2VuZXJhdGVHcmlkU3R5bGVzLCBnZW5lcmF0ZUdyaWRTaXplU3R5bGVzLCBnZW5lcmF0ZUdyaWRDb2x1bW5zU3R5bGVzLCBnZW5lcmF0ZUdyaWRDb2x1bW5TcGFjaW5nU3R5bGVzLCBnZW5lcmF0ZUdyaWRSb3dTcGFjaW5nU3R5bGVzLCBnZW5lcmF0ZUdyaWREaXJlY3Rpb25TdHlsZXMsIGdlbmVyYXRlR3JpZE9mZnNldFN0eWxlcywgZ2VuZXJhdGVTaXplQ2xhc3NOYW1lcywgZ2VuZXJhdGVTcGFjaW5nQ2xhc3NOYW1lcywgZ2VuZXJhdGVEaXJlY3Rpb25DbGFzc2VzIH0gZnJvbSBcIi4vZ3JpZEdlbmVyYXRvci5qc1wiO1xuaW1wb3J0IGRlbGV0ZUxlZ2FjeUdyaWRQcm9wcyBmcm9tIFwiLi9kZWxldGVMZWdhY3lHcmlkUHJvcHMuanNcIjtcbmltcG9ydCB7IGpzeCBhcyBfanN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5jb25zdCBkZWZhdWx0VGhlbWUgPSBjcmVhdGVUaGVtZSgpO1xuXG4vLyB3aWRlbmluZyBUaGVtZSB0byBhbnkgc28gdGhhdCB0aGUgY29uc3VtZXIgY2FuIG93biB0aGUgdGhlbWUgc3RydWN0dXJlLlxuY29uc3QgZGVmYXVsdENyZWF0ZVN0eWxlZENvbXBvbmVudCA9IHN5c3RlbVN0eWxlZCgnZGl2Jywge1xuICBuYW1lOiAnTXVpR3JpZCcsXG4gIHNsb3Q6ICdSb290J1xufSk7XG5mdW5jdGlvbiB1c2VUaGVtZVByb3BzRGVmYXVsdChwcm9wcykge1xuICByZXR1cm4gdXNlVGhlbWVQcm9wc1N5c3RlbSh7XG4gICAgcHJvcHMsXG4gICAgbmFtZTogJ011aUdyaWQnLFxuICAgIGRlZmF1bHRUaGVtZVxuICB9KTtcbn1cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUdyaWQob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICAvLyBUaGlzIHdpbGwgYWxsb3cgYWRkaW5nIGN1c3RvbSBzdHlsZWQgZm4gKGZvciBleGFtcGxlIGZvciBjdXN0b20gc3ggc3R5bGUgZnVuY3Rpb24pXG4gICAgY3JlYXRlU3R5bGVkQ29tcG9uZW50ID0gZGVmYXVsdENyZWF0ZVN0eWxlZENvbXBvbmVudCxcbiAgICB1c2VUaGVtZVByb3BzID0gdXNlVGhlbWVQcm9wc0RlZmF1bHQsXG4gICAgdXNlVGhlbWUgPSB1c2VUaGVtZVN5c3RlbSxcbiAgICBjb21wb25lbnROYW1lID0gJ011aUdyaWQnXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCB1c2VVdGlsaXR5Q2xhc3NlcyA9IChvd25lclN0YXRlLCB0aGVtZSkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIGRpcmVjdGlvbixcbiAgICAgIHNwYWNpbmcsXG4gICAgICB3cmFwLFxuICAgICAgc2l6ZVxuICAgIH0gPSBvd25lclN0YXRlO1xuICAgIGNvbnN0IHNsb3RzID0ge1xuICAgICAgcm9vdDogWydyb290JywgY29udGFpbmVyICYmICdjb250YWluZXInLCB3cmFwICE9PSAnd3JhcCcgJiYgYHdyYXAteHMtJHtTdHJpbmcod3JhcCl9YCwgLi4uZ2VuZXJhdGVEaXJlY3Rpb25DbGFzc2VzKGRpcmVjdGlvbiksIC4uLmdlbmVyYXRlU2l6ZUNsYXNzTmFtZXMoc2l6ZSksIC4uLihjb250YWluZXIgPyBnZW5lcmF0ZVNwYWNpbmdDbGFzc05hbWVzKHNwYWNpbmcsIHRoZW1lLmJyZWFrcG9pbnRzLmtleXNbMF0pIDogW10pXVxuICAgIH07XG4gICAgcmV0dXJuIGNvbXBvc2VDbGFzc2VzKHNsb3RzLCBzbG90ID0+IGdlbmVyYXRlVXRpbGl0eUNsYXNzKGNvbXBvbmVudE5hbWUsIHNsb3QpLCB7fSk7XG4gIH07XG4gIGZ1bmN0aW9uIHBhcnNlUmVzcG9uc2l2ZVByb3AocHJvcFZhbHVlLCBicmVha3BvaW50cywgc2hvdWxkVXNlVmFsdWUgPSAoKSA9PiB0cnVlKSB7XG4gICAgY29uc3QgcGFyc2VkUHJvcCA9IHt9O1xuICAgIGlmIChwcm9wVmFsdWUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBwYXJzZWRQcm9wO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgICBwcm9wVmFsdWUuZm9yRWFjaCgodmFsdWUsIGluZGV4KSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiBzaG91bGRVc2VWYWx1ZSh2YWx1ZSkgJiYgYnJlYWtwb2ludHMua2V5c1tpbmRleF0pIHtcbiAgICAgICAgICBwYXJzZWRQcm9wW2JyZWFrcG9pbnRzLmtleXNbaW5kZXhdXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcm9wVmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICBPYmplY3Qua2V5cyhwcm9wVmFsdWUpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwcm9wVmFsdWVba2V5XTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQgJiYgc2hvdWxkVXNlVmFsdWUodmFsdWUpKSB7XG4gICAgICAgICAgcGFyc2VkUHJvcFtrZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJzZWRQcm9wW2JyZWFrcG9pbnRzLmtleXNbMF1dID0gcHJvcFZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VkUHJvcDtcbiAgfVxuICBjb25zdCBHcmlkUm9vdCA9IGNyZWF0ZVN0eWxlZENvbXBvbmVudChnZW5lcmF0ZUdyaWRDb2x1bW5zU3R5bGVzLCBnZW5lcmF0ZUdyaWRDb2x1bW5TcGFjaW5nU3R5bGVzLCBnZW5lcmF0ZUdyaWRSb3dTcGFjaW5nU3R5bGVzLCBnZW5lcmF0ZUdyaWRTaXplU3R5bGVzLCBnZW5lcmF0ZUdyaWREaXJlY3Rpb25TdHlsZXMsIGdlbmVyYXRlR3JpZFN0eWxlcywgZ2VuZXJhdGVHcmlkT2Zmc2V0U3R5bGVzKTtcbiAgY29uc3QgR3JpZCA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIEdyaWQoaW5Qcm9wcywgcmVmKSB7XG4gICAgY29uc3QgdGhlbWUgPSB1c2VUaGVtZSgpO1xuICAgIGNvbnN0IHRoZW1lUHJvcHMgPSB1c2VUaGVtZVByb3BzKGluUHJvcHMpO1xuICAgIGNvbnN0IHByb3BzID0gZXh0ZW5kU3hQcm9wKHRoZW1lUHJvcHMpOyAvLyBgY29sb3JgIHR5cGUgY29uZmxpY3RzIHdpdGggaHRtbCBjb2xvciBhdHRyaWJ1dGUuXG5cbiAgICAvLyBUT0RPIHY4OiBSZW1vdmUgd2hlbiByZW1vdmluZyB0aGUgbGVnYWN5IEdyaWQgY29tcG9uZW50XG4gICAgZGVsZXRlTGVnYWN5R3JpZFByb3BzKHByb3BzLCB0aGVtZS5icmVha3BvaW50cyk7XG4gICAgY29uc3Qge1xuICAgICAgY2xhc3NOYW1lLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBjb2x1bW5zOiBjb2x1bW5zUHJvcCA9IDEyLFxuICAgICAgY29udGFpbmVyID0gZmFsc2UsXG4gICAgICBjb21wb25lbnQgPSAnZGl2JyxcbiAgICAgIGRpcmVjdGlvbiA9ICdyb3cnLFxuICAgICAgd3JhcCA9ICd3cmFwJyxcbiAgICAgIHNpemU6IHNpemVQcm9wID0ge30sXG4gICAgICBvZmZzZXQ6IG9mZnNldFByb3AgPSB7fSxcbiAgICAgIHNwYWNpbmc6IHNwYWNpbmdQcm9wID0gMCxcbiAgICAgIHJvd1NwYWNpbmc6IHJvd1NwYWNpbmdQcm9wID0gc3BhY2luZ1Byb3AsXG4gICAgICBjb2x1bW5TcGFjaW5nOiBjb2x1bW5TcGFjaW5nUHJvcCA9IHNwYWNpbmdQcm9wLFxuICAgICAgdW5zdGFibGVfbGV2ZWw6IGxldmVsID0gMCxcbiAgICAgIC4uLm90aGVyXG4gICAgfSA9IHByb3BzO1xuICAgIGNvbnN0IHNpemUgPSBwYXJzZVJlc3BvbnNpdmVQcm9wKHNpemVQcm9wLCB0aGVtZS5icmVha3BvaW50cywgdmFsID0+IHZhbCAhPT0gZmFsc2UpO1xuICAgIGNvbnN0IG9mZnNldCA9IHBhcnNlUmVzcG9uc2l2ZVByb3Aob2Zmc2V0UHJvcCwgdGhlbWUuYnJlYWtwb2ludHMpO1xuICAgIGNvbnN0IGNvbHVtbnMgPSBpblByb3BzLmNvbHVtbnMgPz8gKGxldmVsID8gdW5kZWZpbmVkIDogY29sdW1uc1Byb3ApO1xuICAgIGNvbnN0IHNwYWNpbmcgPSBpblByb3BzLnNwYWNpbmcgPz8gKGxldmVsID8gdW5kZWZpbmVkIDogc3BhY2luZ1Byb3ApO1xuICAgIGNvbnN0IHJvd1NwYWNpbmcgPSBpblByb3BzLnJvd1NwYWNpbmcgPz8gaW5Qcm9wcy5zcGFjaW5nID8/IChsZXZlbCA/IHVuZGVmaW5lZCA6IHJvd1NwYWNpbmdQcm9wKTtcbiAgICBjb25zdCBjb2x1bW5TcGFjaW5nID0gaW5Qcm9wcy5jb2x1bW5TcGFjaW5nID8/IGluUHJvcHMuc3BhY2luZyA/PyAobGV2ZWwgPyB1bmRlZmluZWQgOiBjb2x1bW5TcGFjaW5nUHJvcCk7XG4gICAgY29uc3Qgb3duZXJTdGF0ZSA9IHtcbiAgICAgIC4uLnByb3BzLFxuICAgICAgbGV2ZWwsXG4gICAgICBjb2x1bW5zLFxuICAgICAgY29udGFpbmVyLFxuICAgICAgZGlyZWN0aW9uLFxuICAgICAgd3JhcCxcbiAgICAgIHNwYWNpbmcsXG4gICAgICByb3dTcGFjaW5nLFxuICAgICAgY29sdW1uU3BhY2luZyxcbiAgICAgIHNpemUsXG4gICAgICBvZmZzZXRcbiAgICB9O1xuICAgIGNvbnN0IGNsYXNzZXMgPSB1c2VVdGlsaXR5Q2xhc3Nlcyhvd25lclN0YXRlLCB0aGVtZSk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KEdyaWRSb290LCB7XG4gICAgICByZWY6IHJlZixcbiAgICAgIGFzOiBjb21wb25lbnQsXG4gICAgICBvd25lclN0YXRlOiBvd25lclN0YXRlLFxuICAgICAgY2xhc3NOYW1lOiBjbHN4KGNsYXNzZXMucm9vdCwgY2xhc3NOYW1lKSxcbiAgICAgIC4uLm90aGVyLFxuICAgICAgY2hpbGRyZW46IFJlYWN0LkNoaWxkcmVuLm1hcChjaGlsZHJlbiwgY2hpbGQgPT4ge1xuICAgICAgICBpZiAoLyojX19QVVJFX18qL1JlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkKSAmJiBpc011aUVsZW1lbnQoY2hpbGQsIFsnR3JpZCddKSAmJiBjb250YWluZXIgJiYgY2hpbGQucHJvcHMuY29udGFpbmVyKSB7XG4gICAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGQsIHtcbiAgICAgICAgICAgIHVuc3RhYmxlX2xldmVsOiBjaGlsZC5wcm9wcz8udW5zdGFibGVfbGV2ZWwgPz8gbGV2ZWwgKyAxXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgfSlcbiAgICB9KTtcbiAgfSk7XG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IEdyaWQucHJvcFR5cGVzIC8qIHJlbW92ZS1wcm9wdHlwZXMgKi8gPSB7XG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuICAgIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBjb2x1bW5zOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMubnVtYmVyKSwgUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLm9iamVjdF0pLFxuICAgIGNvbHVtblNwYWNpbmc6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5udW1iZXIsIFByb3BUeXBlcy5zdHJpbmddKSksIFByb3BUeXBlcy5udW1iZXIsIFByb3BUeXBlcy5vYmplY3QsIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgICBjb21wb25lbnQ6IFByb3BUeXBlcy5lbGVtZW50VHlwZSxcbiAgICBjb250YWluZXI6IFByb3BUeXBlcy5ib29sLFxuICAgIGRpcmVjdGlvbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnY29sdW1uLXJldmVyc2UnLCAnY29sdW1uJywgJ3Jvdy1yZXZlcnNlJywgJ3JvdyddKSwgUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mKFsnY29sdW1uLXJldmVyc2UnLCAnY29sdW1uJywgJ3Jvdy1yZXZlcnNlJywgJ3JvdyddKSksIFByb3BUeXBlcy5vYmplY3RdKSxcbiAgICBvZmZzZXQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5udW1iZXIsIFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5udW1iZXJdKSksIFByb3BUeXBlcy5vYmplY3RdKSxcbiAgICByb3dTcGFjaW5nOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMuc3RyaW5nXSkpLCBQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMub2JqZWN0LCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gICAgc2l6ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmJvb2wsIFByb3BUeXBlcy5udW1iZXIsIFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5ib29sLCBQcm9wVHlwZXMubnVtYmVyXSkpLCBQcm9wVHlwZXMub2JqZWN0XSksXG4gICAgc3BhY2luZzogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLnN0cmluZ10pKSwgUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLm9iamVjdCwgUHJvcFR5cGVzLnN0cmluZ10pLFxuICAgIHN4OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdCwgUHJvcFR5cGVzLmJvb2xdKSksIFByb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0XSksXG4gICAgd3JhcDogUHJvcFR5cGVzLm9uZU9mKFsnbm93cmFwJywgJ3dyYXAtcmV2ZXJzZScsICd3cmFwJ10pXG4gIH0gOiB2b2lkIDA7XG5cbiAgLy8gQHRzLWlnbm9yZSBpbnRlcm5hbCBsb2dpYyBmb3IgbmVzdGVkIGdyaWRcbiAgR3JpZC5tdWlOYW1lID0gJ0dyaWQnO1xuICByZXR1cm4gR3JpZDtcbn0iLAogICAgImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzTXVpRWxlbWVudChlbGVtZW50LCBtdWlOYW1lcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmlzVmFsaWRFbGVtZW50KGVsZW1lbnQpICYmIG11aU5hbWVzLmluZGV4T2YoXG4gIC8vIEZvciBzZXJ2ZXIgY29tcG9uZW50cyBgbXVpTmFtZWAgaXMgYXZhaWxhYmxlIGluIGVsZW1lbnQudHlwZS5fcGF5bG9hZC52YWx1ZS5tdWlOYW1lXG4gIC8vIHJlbGV2YW50IGluZm8gLSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi8yODA3ZDc4MWEwOGRiOGU5ODczNjg3ZmNjYzI1YzBmMTJiNGZiM2Q0L3BhY2thZ2VzL3JlYWN0L3NyYy9SZWFjdExhenkuanMjTDQ1XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlcnNjb3JlLWRhbmdsZVxuICBlbGVtZW50LnR5cGUubXVpTmFtZSA/PyBlbGVtZW50LnR5cGU/Ll9wYXlsb2FkPy52YWx1ZT8ubXVpTmFtZSkgIT09IC0xO1xufSIsCiAgICAiZXhwb3J0IGNvbnN0IGZpbHRlckJyZWFrcG9pbnRLZXlzID0gKGJyZWFrcG9pbnRzS2V5cywgcmVzcG9uc2l2ZUtleXMpID0+IGJyZWFrcG9pbnRzS2V5cy5maWx0ZXIoa2V5ID0+IHJlc3BvbnNpdmVLZXlzLmluY2x1ZGVzKGtleSkpO1xuZXhwb3J0IGNvbnN0IHRyYXZlcnNlQnJlYWtwb2ludHMgPSAoYnJlYWtwb2ludHMsIHJlc3BvbnNpdmUsIGl0ZXJhdG9yKSA9PiB7XG4gIGNvbnN0IHNtYWxsZXN0QnJlYWtwb2ludCA9IGJyZWFrcG9pbnRzLmtleXNbMF07IC8vIHRoZSBrZXlzIGlzIHNvcnRlZCBmcm9tIHNtYWxsZXN0IHRvIGxhcmdlc3QgYnkgYGNyZWF0ZUJyZWFrcG9pbnRzYC5cblxuICBpZiAoQXJyYXkuaXNBcnJheShyZXNwb25zaXZlKSkge1xuICAgIHJlc3BvbnNpdmUuZm9yRWFjaCgoYnJlYWtwb2ludFZhbHVlLCBpbmRleCkgPT4ge1xuICAgICAgaXRlcmF0b3IoKHJlc3BvbnNpdmVTdHlsZXMsIHN0eWxlKSA9PiB7XG4gICAgICAgIGlmIChpbmRleCA8PSBicmVha3BvaW50cy5rZXlzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ocmVzcG9uc2l2ZVN0eWxlcywgc3R5bGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNwb25zaXZlU3R5bGVzW2JyZWFrcG9pbnRzLnVwKGJyZWFrcG9pbnRzLmtleXNbaW5kZXhdKV0gPSBzdHlsZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIGJyZWFrcG9pbnRWYWx1ZSk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAocmVzcG9uc2l2ZSAmJiB0eXBlb2YgcmVzcG9uc2l2ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAvLyBwcmV2ZW50IG51bGxcbiAgICAvLyByZXNwb25zaXZlIGNvdWxkIGJlIGEgdmVyeSBiaWcgb2JqZWN0LCBwaWNrIHRoZSBzbWFsbGVzdCByZXNwb25zaXZlIHZhbHVlc1xuXG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHJlc3BvbnNpdmUpLmxlbmd0aCA+IGJyZWFrcG9pbnRzLmtleXMubGVuZ3RoID8gYnJlYWtwb2ludHMua2V5cyA6IGZpbHRlckJyZWFrcG9pbnRLZXlzKGJyZWFrcG9pbnRzLmtleXMsIE9iamVjdC5rZXlzKHJlc3BvbnNpdmUpKTtcbiAgICBrZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIGlmIChicmVha3BvaW50cy5rZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZSBhbHJlYWR5IGNoZWNrZWQgdGhhdCByZXNwb25zaXZlIGlzIGFuIG9iamVjdFxuICAgICAgICBjb25zdCBicmVha3BvaW50VmFsdWUgPSByZXNwb25zaXZlW2tleV07XG4gICAgICAgIGlmIChicmVha3BvaW50VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGl0ZXJhdG9yKChyZXNwb25zaXZlU3R5bGVzLCBzdHlsZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHNtYWxsZXN0QnJlYWtwb2ludCA9PT0ga2V5KSB7XG4gICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ocmVzcG9uc2l2ZVN0eWxlcywgc3R5bGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmVzcG9uc2l2ZVN0eWxlc1ticmVha3BvaW50cy51cChrZXkpXSA9IHN0eWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIGJyZWFrcG9pbnRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgcmVzcG9uc2l2ZSA9PT0gJ251bWJlcicgfHwgdHlwZW9mIHJlc3BvbnNpdmUgPT09ICdzdHJpbmcnKSB7XG4gICAgaXRlcmF0b3IoKHJlc3BvbnNpdmVTdHlsZXMsIHN0eWxlKSA9PiB7XG4gICAgICBPYmplY3QuYXNzaWduKHJlc3BvbnNpdmVTdHlsZXMsIHN0eWxlKTtcbiAgICB9LCByZXNwb25zaXZlKTtcbiAgfVxufTsiLAogICAgImltcG9ydCB7IHRyYXZlcnNlQnJlYWtwb2ludHMgfSBmcm9tIFwiLi90cmF2ZXJzZUJyZWFrcG9pbnRzLmpzXCI7XG5mdW5jdGlvbiBnZXRTZWxmU3BhY2luZ1ZhcihheGlzKSB7XG4gIHJldHVybiBgLS1HcmlkLSR7YXhpc31TcGFjaW5nYDtcbn1cbmZ1bmN0aW9uIGdldFBhcmVudFNwYWNpbmdWYXIoYXhpcykge1xuICByZXR1cm4gYC0tR3JpZC1wYXJlbnQtJHtheGlzfVNwYWNpbmdgO1xufVxuY29uc3Qgc2VsZkNvbHVtbnNWYXIgPSAnLS1HcmlkLWNvbHVtbnMnO1xuY29uc3QgcGFyZW50Q29sdW1uc1ZhciA9ICctLUdyaWQtcGFyZW50LWNvbHVtbnMnO1xuZXhwb3J0IGNvbnN0IGdlbmVyYXRlR3JpZFNpemVTdHlsZXMgPSAoe1xuICB0aGVtZSxcbiAgb3duZXJTdGF0ZVxufSkgPT4ge1xuICBjb25zdCBzdHlsZXMgPSB7fTtcbiAgdHJhdmVyc2VCcmVha3BvaW50cyh0aGVtZS5icmVha3BvaW50cywgb3duZXJTdGF0ZS5zaXplLCAoYXBwZW5kU3R5bGUsIHZhbHVlKSA9PiB7XG4gICAgbGV0IHN0eWxlID0ge307XG4gICAgaWYgKHZhbHVlID09PSAnZ3JvdycpIHtcbiAgICAgIHN0eWxlID0ge1xuICAgICAgICBmbGV4QmFzaXM6IDAsXG4gICAgICAgIGZsZXhHcm93OiAxLFxuICAgICAgICBtYXhXaWR0aDogJzEwMCUnXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAodmFsdWUgPT09ICdhdXRvJykge1xuICAgICAgc3R5bGUgPSB7XG4gICAgICAgIGZsZXhCYXNpczogJ2F1dG8nLFxuICAgICAgICBmbGV4R3JvdzogMCxcbiAgICAgICAgZmxleFNocmluazogMCxcbiAgICAgICAgbWF4V2lkdGg6ICdub25lJyxcbiAgICAgICAgd2lkdGg6ICdhdXRvJ1xuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHN0eWxlID0ge1xuICAgICAgICBmbGV4R3JvdzogMCxcbiAgICAgICAgZmxleEJhc2lzOiAnYXV0bycsXG4gICAgICAgIHdpZHRoOiBgY2FsYygxMDAlICogJHt2YWx1ZX0gLyB2YXIoJHtwYXJlbnRDb2x1bW5zVmFyfSkgLSAodmFyKCR7cGFyZW50Q29sdW1uc1Zhcn0pIC0gJHt2YWx1ZX0pICogKHZhcigke2dldFBhcmVudFNwYWNpbmdWYXIoJ2NvbHVtbicpfSkgLyB2YXIoJHtwYXJlbnRDb2x1bW5zVmFyfSkpKWBcbiAgICAgIH07XG4gICAgfVxuICAgIGFwcGVuZFN0eWxlKHN0eWxlcywgc3R5bGUpO1xuICB9KTtcbiAgcmV0dXJuIHN0eWxlcztcbn07XG5leHBvcnQgY29uc3QgZ2VuZXJhdGVHcmlkT2Zmc2V0U3R5bGVzID0gKHtcbiAgdGhlbWUsXG4gIG93bmVyU3RhdGVcbn0pID0+IHtcbiAgY29uc3Qgc3R5bGVzID0ge307XG4gIHRyYXZlcnNlQnJlYWtwb2ludHModGhlbWUuYnJlYWtwb2ludHMsIG93bmVyU3RhdGUub2Zmc2V0LCAoYXBwZW5kU3R5bGUsIHZhbHVlKSA9PiB7XG4gICAgbGV0IHN0eWxlID0ge307XG4gICAgaWYgKHZhbHVlID09PSAnYXV0bycpIHtcbiAgICAgIHN0eWxlID0ge1xuICAgICAgICBtYXJnaW5MZWZ0OiAnYXV0bydcbiAgICAgIH07XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICBzdHlsZSA9IHtcbiAgICAgICAgbWFyZ2luTGVmdDogdmFsdWUgPT09IDAgPyAnMHB4JyA6IGBjYWxjKDEwMCUgKiAke3ZhbHVlfSAvIHZhcigke3BhcmVudENvbHVtbnNWYXJ9KSArIHZhcigke2dldFBhcmVudFNwYWNpbmdWYXIoJ2NvbHVtbicpfSkgKiAke3ZhbHVlfSAvIHZhcigke3BhcmVudENvbHVtbnNWYXJ9KSlgXG4gICAgICB9O1xuICAgIH1cbiAgICBhcHBlbmRTdHlsZShzdHlsZXMsIHN0eWxlKTtcbiAgfSk7XG4gIHJldHVybiBzdHlsZXM7XG59O1xuZXhwb3J0IGNvbnN0IGdlbmVyYXRlR3JpZENvbHVtbnNTdHlsZXMgPSAoe1xuICB0aGVtZSxcbiAgb3duZXJTdGF0ZVxufSkgPT4ge1xuICBpZiAoIW93bmVyU3RhdGUuY29udGFpbmVyKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG4gIGNvbnN0IHN0eWxlcyA9IHtcbiAgICBbc2VsZkNvbHVtbnNWYXJdOiAxMlxuICB9O1xuICB0cmF2ZXJzZUJyZWFrcG9pbnRzKHRoZW1lLmJyZWFrcG9pbnRzLCBvd25lclN0YXRlLmNvbHVtbnMsIChhcHBlbmRTdHlsZSwgdmFsdWUpID0+IHtcbiAgICBjb25zdCBjb2x1bW5zID0gdmFsdWUgPz8gMTI7XG4gICAgYXBwZW5kU3R5bGUoc3R5bGVzLCB7XG4gICAgICBbc2VsZkNvbHVtbnNWYXJdOiBjb2x1bW5zLFxuICAgICAgJz4gKic6IHtcbiAgICAgICAgW3BhcmVudENvbHVtbnNWYXJdOiBjb2x1bW5zXG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gc3R5bGVzO1xufTtcbmV4cG9ydCBjb25zdCBnZW5lcmF0ZUdyaWRSb3dTcGFjaW5nU3R5bGVzID0gKHtcbiAgdGhlbWUsXG4gIG93bmVyU3RhdGVcbn0pID0+IHtcbiAgaWYgKCFvd25lclN0YXRlLmNvbnRhaW5lcikge1xuICAgIHJldHVybiB7fTtcbiAgfVxuICBjb25zdCBzdHlsZXMgPSB7fTtcbiAgdHJhdmVyc2VCcmVha3BvaW50cyh0aGVtZS5icmVha3BvaW50cywgb3duZXJTdGF0ZS5yb3dTcGFjaW5nLCAoYXBwZW5kU3R5bGUsIHZhbHVlKSA9PiB7XG4gICAgY29uc3Qgc3BhY2luZyA9IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyB2YWx1ZSA6IHRoZW1lLnNwYWNpbmc/Lih2YWx1ZSk7XG4gICAgYXBwZW5kU3R5bGUoc3R5bGVzLCB7XG4gICAgICBbZ2V0U2VsZlNwYWNpbmdWYXIoJ3JvdycpXTogc3BhY2luZyxcbiAgICAgICc+IConOiB7XG4gICAgICAgIFtnZXRQYXJlbnRTcGFjaW5nVmFyKCdyb3cnKV06IHNwYWNpbmdcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBzdHlsZXM7XG59O1xuZXhwb3J0IGNvbnN0IGdlbmVyYXRlR3JpZENvbHVtblNwYWNpbmdTdHlsZXMgPSAoe1xuICB0aGVtZSxcbiAgb3duZXJTdGF0ZVxufSkgPT4ge1xuICBpZiAoIW93bmVyU3RhdGUuY29udGFpbmVyKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG4gIGNvbnN0IHN0eWxlcyA9IHt9O1xuICB0cmF2ZXJzZUJyZWFrcG9pbnRzKHRoZW1lLmJyZWFrcG9pbnRzLCBvd25lclN0YXRlLmNvbHVtblNwYWNpbmcsIChhcHBlbmRTdHlsZSwgdmFsdWUpID0+IHtcbiAgICBjb25zdCBzcGFjaW5nID0gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IHZhbHVlIDogdGhlbWUuc3BhY2luZz8uKHZhbHVlKTtcbiAgICBhcHBlbmRTdHlsZShzdHlsZXMsIHtcbiAgICAgIFtnZXRTZWxmU3BhY2luZ1ZhcignY29sdW1uJyldOiBzcGFjaW5nLFxuICAgICAgJz4gKic6IHtcbiAgICAgICAgW2dldFBhcmVudFNwYWNpbmdWYXIoJ2NvbHVtbicpXTogc3BhY2luZ1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIHN0eWxlcztcbn07XG5leHBvcnQgY29uc3QgZ2VuZXJhdGVHcmlkRGlyZWN0aW9uU3R5bGVzID0gKHtcbiAgdGhlbWUsXG4gIG93bmVyU3RhdGVcbn0pID0+IHtcbiAgaWYgKCFvd25lclN0YXRlLmNvbnRhaW5lcikge1xuICAgIHJldHVybiB7fTtcbiAgfVxuICBjb25zdCBzdHlsZXMgPSB7fTtcbiAgdHJhdmVyc2VCcmVha3BvaW50cyh0aGVtZS5icmVha3BvaW50cywgb3duZXJTdGF0ZS5kaXJlY3Rpb24sIChhcHBlbmRTdHlsZSwgdmFsdWUpID0+IHtcbiAgICBhcHBlbmRTdHlsZShzdHlsZXMsIHtcbiAgICAgIGZsZXhEaXJlY3Rpb246IHZhbHVlXG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gc3R5bGVzO1xufTtcbmV4cG9ydCBjb25zdCBnZW5lcmF0ZUdyaWRTdHlsZXMgPSAoe1xuICBvd25lclN0YXRlXG59KSA9PiB7XG4gIHJldHVybiB7XG4gICAgbWluV2lkdGg6IDAsXG4gICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgLi4uKG93bmVyU3RhdGUuY29udGFpbmVyICYmIHtcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGZsZXhXcmFwOiAnd3JhcCcsXG4gICAgICAuLi4ob3duZXJTdGF0ZS53cmFwICYmIG93bmVyU3RhdGUud3JhcCAhPT0gJ3dyYXAnICYmIHtcbiAgICAgICAgZmxleFdyYXA6IG93bmVyU3RhdGUud3JhcFxuICAgICAgfSksXG4gICAgICBnYXA6IGB2YXIoJHtnZXRTZWxmU3BhY2luZ1Zhcigncm93Jyl9KSB2YXIoJHtnZXRTZWxmU3BhY2luZ1ZhcignY29sdW1uJyl9KWBcbiAgICB9KVxuICB9O1xufTtcbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVNpemVDbGFzc05hbWVzID0gc2l6ZSA9PiB7XG4gIGNvbnN0IGNsYXNzTmFtZXMgPSBbXTtcbiAgT2JqZWN0LmVudHJpZXMoc2l6ZSkuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgaWYgKHZhbHVlICE9PSBmYWxzZSAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjbGFzc05hbWVzLnB1c2goYGdyaWQtJHtrZXl9LSR7U3RyaW5nKHZhbHVlKX1gKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gY2xhc3NOYW1lcztcbn07XG5leHBvcnQgY29uc3QgZ2VuZXJhdGVTcGFjaW5nQ2xhc3NOYW1lcyA9IChzcGFjaW5nLCBzbWFsbGVzdEJyZWFrcG9pbnQgPSAneHMnKSA9PiB7XG4gIGZ1bmN0aW9uIGlzVmFsaWRTcGFjaW5nKHZhbCkge1xuICAgIGlmICh2YWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgJiYgIU51bWJlci5pc05hTihOdW1iZXIodmFsKSkgfHwgdHlwZW9mIHZhbCA9PT0gJ251bWJlcicgJiYgdmFsID4gMDtcbiAgfVxuICBpZiAoaXNWYWxpZFNwYWNpbmcoc3BhY2luZykpIHtcbiAgICByZXR1cm4gW2BzcGFjaW5nLSR7c21hbGxlc3RCcmVha3BvaW50fS0ke1N0cmluZyhzcGFjaW5nKX1gXTtcbiAgfVxuICBpZiAodHlwZW9mIHNwYWNpbmcgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KHNwYWNpbmcpKSB7XG4gICAgY29uc3QgY2xhc3NOYW1lcyA9IFtdO1xuICAgIE9iamVjdC5lbnRyaWVzKHNwYWNpbmcpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgaWYgKGlzVmFsaWRTcGFjaW5nKHZhbHVlKSkge1xuICAgICAgICBjbGFzc05hbWVzLnB1c2goYHNwYWNpbmctJHtrZXl9LSR7U3RyaW5nKHZhbHVlKX1gKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gY2xhc3NOYW1lcztcbiAgfVxuICByZXR1cm4gW107XG59O1xuZXhwb3J0IGNvbnN0IGdlbmVyYXRlRGlyZWN0aW9uQ2xhc3NlcyA9IGRpcmVjdGlvbiA9PiB7XG4gIGlmIChkaXJlY3Rpb24gPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBpZiAodHlwZW9mIGRpcmVjdGlvbiA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMoZGlyZWN0aW9uKS5tYXAoKFtrZXksIHZhbHVlXSkgPT4gYGRpcmVjdGlvbi0ke2tleX0tJHt2YWx1ZX1gKTtcbiAgfVxuICByZXR1cm4gW2BkaXJlY3Rpb24teHMtJHtTdHJpbmcoZGlyZWN0aW9uKX1gXTtcbn07IiwKICAgICJjb25zdCBnZXRMZWdhY3lHcmlkV2FybmluZyA9IHByb3BOYW1lID0+IHtcbiAgaWYgKFsnaXRlbScsICd6ZXJvTWluV2lkdGgnXS5pbmNsdWRlcyhwcm9wTmFtZSkpIHtcbiAgICByZXR1cm4gYFRoZSBcXGAke3Byb3BOYW1lfVxcYCBwcm9wIGhhcyBiZWVuIHJlbW92ZWQgYW5kIGlzIG5vIGxvbmdlciBuZWNlc3NhcnkuIFlvdSBjYW4gc2FmZWx5IHJlbW92ZSBpdC5gO1xuICB9XG5cbiAgLy8gI2hvc3QtcmVmZXJlbmNlXG4gIHJldHVybiBgVGhlIFxcYCR7cHJvcE5hbWV9XFxgIHByb3AgaGFzIGJlZW4gcmVtb3ZlZC4gU2VlIGh0dHBzOi8vbXVpLmNvbS9tYXRlcmlhbC11aS9taWdyYXRpb24vdXBncmFkZS10by1ncmlkLXYyLyBmb3IgbWlncmF0aW9uIGluc3RydWN0aW9ucy5gO1xufTtcbmNvbnN0IHdhcm5lZEFib3V0UHJvcHMgPSBbXTtcblxuLyoqXG4gKiBEZWxldGVzIHRoZSBsZWdhY3kgR3JpZCBjb21wb25lbnQgcHJvcHMgZnJvbSB0aGUgYHByb3BzYCBvYmplY3QgYW5kIHdhcm5zIG9uY2UgYWJvdXQgdGhlbSBpZiBmb3VuZC5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gcHJvcHMgVGhlIHByb3BzIG9iamVjdCB0byByZW1vdmUgdGhlIGxlZ2FjeSBHcmlkIHByb3BzIGZyb20uXG4gKiBAcGFyYW0ge0JyZWFrcG9pbnRzfSBicmVha3BvaW50cyBUaGUgYnJlYWtwb2ludHMgb2JqZWN0LlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZWxldGVMZWdhY3lHcmlkUHJvcHMocHJvcHMsIGJyZWFrcG9pbnRzKSB7XG4gIGNvbnN0IHByb3BzVG9XYXJuID0gW107XG4gIGlmIChwcm9wcy5pdGVtICE9PSB1bmRlZmluZWQpIHtcbiAgICBkZWxldGUgcHJvcHMuaXRlbTtcbiAgICBwcm9wc1RvV2Fybi5wdXNoKCdpdGVtJyk7XG4gIH1cbiAgaWYgKHByb3BzLnplcm9NaW5XaWR0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZGVsZXRlIHByb3BzLnplcm9NaW5XaWR0aDtcbiAgICBwcm9wc1RvV2Fybi5wdXNoKCd6ZXJvTWluV2lkdGgnKTtcbiAgfVxuICBicmVha3BvaW50cy5rZXlzLmZvckVhY2goYnJlYWtwb2ludCA9PiB7XG4gICAgaWYgKHByb3BzW2JyZWFrcG9pbnRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHByb3BzVG9XYXJuLnB1c2goYnJlYWtwb2ludCk7XG4gICAgICBkZWxldGUgcHJvcHNbYnJlYWtwb2ludF07XG4gICAgfVxuICB9KTtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBwcm9wc1RvV2Fybi5mb3JFYWNoKHByb3AgPT4ge1xuICAgICAgaWYgKCF3YXJuZWRBYm91dFByb3BzLmluY2x1ZGVzKHByb3ApKSB7XG4gICAgICAgIHdhcm5lZEFib3V0UHJvcHMucHVzaChwcm9wKTtcbiAgICAgICAgY29uc29sZS53YXJuKGBNVUkgR3JpZDogJHtnZXRMZWdhY3lHcmlkV2FybmluZyhwcm9wKX1cXG5gKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSIsCiAgICAiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgZGVlcG1lcmdlIGZyb20gJ0BtdWkvdXRpbHMvZGVlcG1lcmdlJztcbmltcG9ydCBnZW5lcmF0ZVV0aWxpdHlDbGFzcyBmcm9tICdAbXVpL3V0aWxzL2dlbmVyYXRlVXRpbGl0eUNsYXNzJztcbmltcG9ydCBjb21wb3NlQ2xhc3NlcyBmcm9tICdAbXVpL3V0aWxzL2NvbXBvc2VDbGFzc2VzJztcbmltcG9ydCBzeXN0ZW1TdHlsZWQgZnJvbSBcIi4uL3N0eWxlZC9pbmRleC5qc1wiO1xuaW1wb3J0IHVzZVRoZW1lUHJvcHNTeXN0ZW0gZnJvbSBcIi4uL3VzZVRoZW1lUHJvcHMvaW5kZXguanNcIjtcbmltcG9ydCB7IGV4dGVuZFN4UHJvcCB9IGZyb20gXCIuLi9zdHlsZUZ1bmN0aW9uU3gvaW5kZXguanNcIjtcbmltcG9ydCBjcmVhdGVUaGVtZSBmcm9tIFwiLi4vY3JlYXRlVGhlbWUvaW5kZXguanNcIjtcbmltcG9ydCB7IGhhbmRsZUJyZWFrcG9pbnRzLCBtZXJnZUJyZWFrcG9pbnRzSW5PcmRlciwgcmVzb2x2ZUJyZWFrcG9pbnRWYWx1ZXMgfSBmcm9tIFwiLi4vYnJlYWtwb2ludHMvaW5kZXguanNcIjtcbmltcG9ydCB7IGNyZWF0ZVVuYXJ5U3BhY2luZywgZ2V0VmFsdWUgfSBmcm9tIFwiLi4vc3BhY2luZy9pbmRleC5qc1wiO1xuaW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmNvbnN0IGRlZmF1bHRUaGVtZSA9IGNyZWF0ZVRoZW1lKCk7XG4vLyB3aWRlbmluZyBUaGVtZSB0byBhbnkgc28gdGhhdCB0aGUgY29uc3VtZXIgY2FuIG93biB0aGUgdGhlbWUgc3RydWN0dXJlLlxuY29uc3QgZGVmYXVsdENyZWF0ZVN0eWxlZENvbXBvbmVudCA9IHN5c3RlbVN0eWxlZCgnZGl2Jywge1xuICBuYW1lOiAnTXVpU3RhY2snLFxuICBzbG90OiAnUm9vdCdcbn0pO1xuZnVuY3Rpb24gdXNlVGhlbWVQcm9wc0RlZmF1bHQocHJvcHMpIHtcbiAgcmV0dXJuIHVzZVRoZW1lUHJvcHNTeXN0ZW0oe1xuICAgIHByb3BzLFxuICAgIG5hbWU6ICdNdWlTdGFjaycsXG4gICAgZGVmYXVsdFRoZW1lXG4gIH0pO1xufVxuXG4vKipcbiAqIFJldHVybiBhbiBhcnJheSB3aXRoIHRoZSBzZXBhcmF0b3IgUmVhY3QgZWxlbWVudCBpbnRlcnNwZXJzZWQgYmV0d2VlblxuICogZWFjaCBSZWFjdCBub2RlIG9mIHRoZSBpbnB1dCBjaGlsZHJlbi5cbiAqXG4gKiA+IGpvaW5DaGlsZHJlbihbMSwyLDNdLCAwKVxuICogWzEsMCwyLDAsM11cbiAqL1xuZnVuY3Rpb24gam9pbkNoaWxkcmVuKGNoaWxkcmVuLCBzZXBhcmF0b3IpIHtcbiAgY29uc3QgY2hpbGRyZW5BcnJheSA9IFJlYWN0LkNoaWxkcmVuLnRvQXJyYXkoY2hpbGRyZW4pLmZpbHRlcihCb29sZWFuKTtcbiAgcmV0dXJuIGNoaWxkcmVuQXJyYXkucmVkdWNlKChvdXRwdXQsIGNoaWxkLCBpbmRleCkgPT4ge1xuICAgIG91dHB1dC5wdXNoKGNoaWxkKTtcbiAgICBpZiAoaW5kZXggPCBjaGlsZHJlbkFycmF5Lmxlbmd0aCAtIDEpIHtcbiAgICAgIG91dHB1dC5wdXNoKC8qI19fUFVSRV9fKi9SZWFjdC5jbG9uZUVsZW1lbnQoc2VwYXJhdG9yLCB7XG4gICAgICAgIGtleTogYHNlcGFyYXRvci0ke2luZGV4fWBcbiAgICAgIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dDtcbiAgfSwgW10pO1xufVxuY29uc3QgZ2V0U2lkZUZyb21EaXJlY3Rpb24gPSBkaXJlY3Rpb24gPT4ge1xuICByZXR1cm4ge1xuICAgIHJvdzogJ0xlZnQnLFxuICAgICdyb3ctcmV2ZXJzZSc6ICdSaWdodCcsXG4gICAgY29sdW1uOiAnVG9wJyxcbiAgICAnY29sdW1uLXJldmVyc2UnOiAnQm90dG9tJ1xuICB9W2RpcmVjdGlvbl07XG59O1xuZXhwb3J0IGNvbnN0IHN0eWxlID0gKHtcbiAgb3duZXJTdGF0ZSxcbiAgdGhlbWVcbn0pID0+IHtcbiAgbGV0IHN0eWxlcyA9IHtcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgLi4uaGFuZGxlQnJlYWtwb2ludHMoe1xuICAgICAgdGhlbWVcbiAgICB9LCByZXNvbHZlQnJlYWtwb2ludFZhbHVlcyh7XG4gICAgICB2YWx1ZXM6IG93bmVyU3RhdGUuZGlyZWN0aW9uLFxuICAgICAgYnJlYWtwb2ludHM6IHRoZW1lLmJyZWFrcG9pbnRzLnZhbHVlc1xuICAgIH0pLCBwcm9wVmFsdWUgPT4gKHtcbiAgICAgIGZsZXhEaXJlY3Rpb246IHByb3BWYWx1ZVxuICAgIH0pKVxuICB9O1xuICBpZiAob3duZXJTdGF0ZS5zcGFjaW5nKSB7XG4gICAgY29uc3QgdHJhbnNmb3JtZXIgPSBjcmVhdGVVbmFyeVNwYWNpbmcodGhlbWUpO1xuICAgIGNvbnN0IGJhc2UgPSBPYmplY3Qua2V5cyh0aGVtZS5icmVha3BvaW50cy52YWx1ZXMpLnJlZHVjZSgoYWNjLCBicmVha3BvaW50KSA9PiB7XG4gICAgICBpZiAodHlwZW9mIG93bmVyU3RhdGUuc3BhY2luZyA9PT0gJ29iamVjdCcgJiYgb3duZXJTdGF0ZS5zcGFjaW5nW2JyZWFrcG9pbnRdICE9IG51bGwgfHwgdHlwZW9mIG93bmVyU3RhdGUuZGlyZWN0aW9uID09PSAnb2JqZWN0JyAmJiBvd25lclN0YXRlLmRpcmVjdGlvblticmVha3BvaW50XSAhPSBudWxsKSB7XG4gICAgICAgIGFjY1ticmVha3BvaW50XSA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbiAgICBjb25zdCBkaXJlY3Rpb25WYWx1ZXMgPSByZXNvbHZlQnJlYWtwb2ludFZhbHVlcyh7XG4gICAgICB2YWx1ZXM6IG93bmVyU3RhdGUuZGlyZWN0aW9uLFxuICAgICAgYmFzZVxuICAgIH0pO1xuICAgIGNvbnN0IHNwYWNpbmdWYWx1ZXMgPSByZXNvbHZlQnJlYWtwb2ludFZhbHVlcyh7XG4gICAgICB2YWx1ZXM6IG93bmVyU3RhdGUuc3BhY2luZyxcbiAgICAgIGJhc2VcbiAgICB9KTtcbiAgICBpZiAodHlwZW9mIGRpcmVjdGlvblZhbHVlcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIE9iamVjdC5rZXlzKGRpcmVjdGlvblZhbHVlcykuZm9yRWFjaCgoYnJlYWtwb2ludCwgaW5kZXgsIGJyZWFrcG9pbnRzKSA9PiB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvblZhbHVlID0gZGlyZWN0aW9uVmFsdWVzW2JyZWFrcG9pbnRdO1xuICAgICAgICBpZiAoIWRpcmVjdGlvblZhbHVlKSB7XG4gICAgICAgICAgY29uc3QgcHJldmlvdXNEaXJlY3Rpb25WYWx1ZSA9IGluZGV4ID4gMCA/IGRpcmVjdGlvblZhbHVlc1ticmVha3BvaW50c1tpbmRleCAtIDFdXSA6ICdjb2x1bW4nO1xuICAgICAgICAgIGRpcmVjdGlvblZhbHVlc1ticmVha3BvaW50XSA9IHByZXZpb3VzRGlyZWN0aW9uVmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBzdHlsZUZyb21Qcm9wVmFsdWUgPSAocHJvcFZhbHVlLCBicmVha3BvaW50KSA9PiB7XG4gICAgICBpZiAob3duZXJTdGF0ZS51c2VGbGV4R2FwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZ2FwOiBnZXRWYWx1ZSh0cmFuc2Zvcm1lciwgcHJvcFZhbHVlKVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLy8gVGhlIHVzZUZsZXhHYXA9e2ZhbHNlfSBpbXBsZW1lbnQgcmVsaWVzIG9uIGVhY2ggY2hpbGQgdG8gZ2l2ZSB1cCBjb250cm9sIG9mIHRoZSBtYXJnaW4uXG4gICAgICAgIC8vIFdlIG5lZWQgdG8gcmVzZXQgdGhlIG1hcmdpbiB0byBhdm9pZCBkb3VibGUgc3BhY2luZy5cbiAgICAgICAgJyYgPiA6bm90KHN0eWxlKTpub3Qoc3R5bGUpJzoge1xuICAgICAgICAgIG1hcmdpbjogMFxuICAgICAgICB9LFxuICAgICAgICAnJiA+IDpub3Qoc3R5bGUpIH4gOm5vdChzdHlsZSknOiB7XG4gICAgICAgICAgW2BtYXJnaW4ke2dldFNpZGVGcm9tRGlyZWN0aW9uKGJyZWFrcG9pbnQgPyBkaXJlY3Rpb25WYWx1ZXNbYnJlYWtwb2ludF0gOiBvd25lclN0YXRlLmRpcmVjdGlvbil9YF06IGdldFZhbHVlKHRyYW5zZm9ybWVyLCBwcm9wVmFsdWUpXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcbiAgICBzdHlsZXMgPSBkZWVwbWVyZ2Uoc3R5bGVzLCBoYW5kbGVCcmVha3BvaW50cyh7XG4gICAgICB0aGVtZVxuICAgIH0sIHNwYWNpbmdWYWx1ZXMsIHN0eWxlRnJvbVByb3BWYWx1ZSkpO1xuICB9XG4gIHN0eWxlcyA9IG1lcmdlQnJlYWtwb2ludHNJbk9yZGVyKHRoZW1lLmJyZWFrcG9pbnRzLCBzdHlsZXMpO1xuICByZXR1cm4gc3R5bGVzO1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZVN0YWNrKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgLy8gVGhpcyB3aWxsIGFsbG93IGFkZGluZyBjdXN0b20gc3R5bGVkIGZuIChmb3IgZXhhbXBsZSBmb3IgY3VzdG9tIHN4IHN0eWxlIGZ1bmN0aW9uKVxuICAgIGNyZWF0ZVN0eWxlZENvbXBvbmVudCA9IGRlZmF1bHRDcmVhdGVTdHlsZWRDb21wb25lbnQsXG4gICAgdXNlVGhlbWVQcm9wcyA9IHVzZVRoZW1lUHJvcHNEZWZhdWx0LFxuICAgIGNvbXBvbmVudE5hbWUgPSAnTXVpU3RhY2snXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCB1c2VVdGlsaXR5Q2xhc3NlcyA9ICgpID0+IHtcbiAgICBjb25zdCBzbG90cyA9IHtcbiAgICAgIHJvb3Q6IFsncm9vdCddXG4gICAgfTtcbiAgICByZXR1cm4gY29tcG9zZUNsYXNzZXMoc2xvdHMsIHNsb3QgPT4gZ2VuZXJhdGVVdGlsaXR5Q2xhc3MoY29tcG9uZW50TmFtZSwgc2xvdCksIHt9KTtcbiAgfTtcbiAgY29uc3QgU3RhY2tSb290ID0gY3JlYXRlU3R5bGVkQ29tcG9uZW50KHN0eWxlKTtcbiAgY29uc3QgU3RhY2sgPSAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiBHcmlkKGluUHJvcHMsIHJlZikge1xuICAgIGNvbnN0IHRoZW1lUHJvcHMgPSB1c2VUaGVtZVByb3BzKGluUHJvcHMpO1xuICAgIGNvbnN0IHByb3BzID0gZXh0ZW5kU3hQcm9wKHRoZW1lUHJvcHMpOyAvLyBgY29sb3JgIHR5cGUgY29uZmxpY3RzIHdpdGggaHRtbCBjb2xvciBhdHRyaWJ1dGUuXG4gICAgY29uc3Qge1xuICAgICAgY29tcG9uZW50ID0gJ2RpdicsXG4gICAgICBkaXJlY3Rpb24gPSAnY29sdW1uJyxcbiAgICAgIHNwYWNpbmcgPSAwLFxuICAgICAgZGl2aWRlcixcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgY2xhc3NOYW1lLFxuICAgICAgdXNlRmxleEdhcCA9IGZhbHNlLFxuICAgICAgLi4ub3RoZXJcbiAgICB9ID0gcHJvcHM7XG4gICAgY29uc3Qgb3duZXJTdGF0ZSA9IHtcbiAgICAgIGRpcmVjdGlvbixcbiAgICAgIHNwYWNpbmcsXG4gICAgICB1c2VGbGV4R2FwXG4gICAgfTtcbiAgICBjb25zdCBjbGFzc2VzID0gdXNlVXRpbGl0eUNsYXNzZXMoKTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL19qc3goU3RhY2tSb290LCB7XG4gICAgICBhczogY29tcG9uZW50LFxuICAgICAgb3duZXJTdGF0ZTogb3duZXJTdGF0ZSxcbiAgICAgIHJlZjogcmVmLFxuICAgICAgY2xhc3NOYW1lOiBjbHN4KGNsYXNzZXMucm9vdCwgY2xhc3NOYW1lKSxcbiAgICAgIC4uLm90aGVyLFxuICAgICAgY2hpbGRyZW46IGRpdmlkZXIgPyBqb2luQ2hpbGRyZW4oY2hpbGRyZW4sIGRpdmlkZXIpIDogY2hpbGRyZW5cbiAgICB9KTtcbiAgfSk7XG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFN0YWNrLnByb3BUeXBlcyAvKiByZW1vdmUtcHJvcHR5cGVzICovID0ge1xuICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcbiAgICBkaXJlY3Rpb246IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ2NvbHVtbi1yZXZlcnNlJywgJ2NvbHVtbicsICdyb3ctcmV2ZXJzZScsICdyb3cnXSksIFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZihbJ2NvbHVtbi1yZXZlcnNlJywgJ2NvbHVtbicsICdyb3ctcmV2ZXJzZScsICdyb3cnXSkpLCBQcm9wVHlwZXMub2JqZWN0XSksXG4gICAgZGl2aWRlcjogUHJvcFR5cGVzLm5vZGUsXG4gICAgc3BhY2luZzogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLnN0cmluZ10pKSwgUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLm9iamVjdCwgUHJvcFR5cGVzLnN0cmluZ10pLFxuICAgIHN4OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdCwgUHJvcFR5cGVzLmJvb2xdKSksIFByb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0XSlcbiAgfSA6IHZvaWQgMDtcbiAgcmV0dXJuIFN0YWNrO1xufSIsCiAgICAiY29uc3QgY29tbW9uID0ge1xuICBibGFjazogJyMwMDAnLFxuICB3aGl0ZTogJyNmZmYnXG59O1xuZXhwb3J0IGRlZmF1bHQgY29tbW9uOyIsCiAgICAiY29uc3QgZ3JleSA9IHtcbiAgNTA6ICcjZmFmYWZhJyxcbiAgMTAwOiAnI2Y1ZjVmNScsXG4gIDIwMDogJyNlZWVlZWUnLFxuICAzMDA6ICcjZTBlMGUwJyxcbiAgNDAwOiAnI2JkYmRiZCcsXG4gIDUwMDogJyM5ZTllOWUnLFxuICA2MDA6ICcjNzU3NTc1JyxcbiAgNzAwOiAnIzYxNjE2MScsXG4gIDgwMDogJyM0MjQyNDInLFxuICA5MDA6ICcjMjEyMTIxJyxcbiAgQTEwMDogJyNmNWY1ZjUnLFxuICBBMjAwOiAnI2VlZWVlZScsXG4gIEE0MDA6ICcjYmRiZGJkJyxcbiAgQTcwMDogJyM2MTYxNjEnXG59O1xuZXhwb3J0IGRlZmF1bHQgZ3JleTsiLAogICAgImNvbnN0IHB1cnBsZSA9IHtcbiAgNTA6ICcjZjNlNWY1JyxcbiAgMTAwOiAnI2UxYmVlNycsXG4gIDIwMDogJyNjZTkzZDgnLFxuICAzMDA6ICcjYmE2OGM4JyxcbiAgNDAwOiAnI2FiNDdiYycsXG4gIDUwMDogJyM5YzI3YjAnLFxuICA2MDA6ICcjOGUyNGFhJyxcbiAgNzAwOiAnIzdiMWZhMicsXG4gIDgwMDogJyM2YTFiOWEnLFxuICA5MDA6ICcjNGExNDhjJyxcbiAgQTEwMDogJyNlYTgwZmMnLFxuICBBMjAwOiAnI2UwNDBmYicsXG4gIEE0MDA6ICcjZDUwMGY5JyxcbiAgQTcwMDogJyNhYTAwZmYnXG59O1xuZXhwb3J0IGRlZmF1bHQgcHVycGxlOyIsCiAgICAiY29uc3QgcmVkID0ge1xuICA1MDogJyNmZmViZWUnLFxuICAxMDA6ICcjZmZjZGQyJyxcbiAgMjAwOiAnI2VmOWE5YScsXG4gIDMwMDogJyNlNTczNzMnLFxuICA0MDA6ICcjZWY1MzUwJyxcbiAgNTAwOiAnI2Y0NDMzNicsXG4gIDYwMDogJyNlNTM5MzUnLFxuICA3MDA6ICcjZDMyZjJmJyxcbiAgODAwOiAnI2M2MjgyOCcsXG4gIDkwMDogJyNiNzFjMWMnLFxuICBBMTAwOiAnI2ZmOGE4MCcsXG4gIEEyMDA6ICcjZmY1MjUyJyxcbiAgQTQwMDogJyNmZjE3NDQnLFxuICBBNzAwOiAnI2Q1MDAwMCdcbn07XG5leHBvcnQgZGVmYXVsdCByZWQ7IiwKICAgICJjb25zdCBvcmFuZ2UgPSB7XG4gIDUwOiAnI2ZmZjNlMCcsXG4gIDEwMDogJyNmZmUwYjInLFxuICAyMDA6ICcjZmZjYzgwJyxcbiAgMzAwOiAnI2ZmYjc0ZCcsXG4gIDQwMDogJyNmZmE3MjYnLFxuICA1MDA6ICcjZmY5ODAwJyxcbiAgNjAwOiAnI2ZiOGMwMCcsXG4gIDcwMDogJyNmNTdjMDAnLFxuICA4MDA6ICcjZWY2YzAwJyxcbiAgOTAwOiAnI2U2NTEwMCcsXG4gIEExMDA6ICcjZmZkMTgwJyxcbiAgQTIwMDogJyNmZmFiNDAnLFxuICBBNDAwOiAnI2ZmOTEwMCcsXG4gIEE3MDA6ICcjZmY2ZDAwJ1xufTtcbmV4cG9ydCBkZWZhdWx0IG9yYW5nZTsiLAogICAgImNvbnN0IGJsdWUgPSB7XG4gIDUwOiAnI2UzZjJmZCcsXG4gIDEwMDogJyNiYmRlZmInLFxuICAyMDA6ICcjOTBjYWY5JyxcbiAgMzAwOiAnIzY0YjVmNicsXG4gIDQwMDogJyM0MmE1ZjUnLFxuICA1MDA6ICcjMjE5NmYzJyxcbiAgNjAwOiAnIzFlODhlNScsXG4gIDcwMDogJyMxOTc2ZDInLFxuICA4MDA6ICcjMTU2NWMwJyxcbiAgOTAwOiAnIzBkNDdhMScsXG4gIEExMDA6ICcjODJiMWZmJyxcbiAgQTIwMDogJyM0NDhhZmYnLFxuICBBNDAwOiAnIzI5NzlmZicsXG4gIEE3MDA6ICcjMjk2MmZmJ1xufTtcbmV4cG9ydCBkZWZhdWx0IGJsdWU7IiwKICAgICJjb25zdCBsaWdodEJsdWUgPSB7XG4gIDUwOiAnI2UxZjVmZScsXG4gIDEwMDogJyNiM2U1ZmMnLFxuICAyMDA6ICcjODFkNGZhJyxcbiAgMzAwOiAnIzRmYzNmNycsXG4gIDQwMDogJyMyOWI2ZjYnLFxuICA1MDA6ICcjMDNhOWY0JyxcbiAgNjAwOiAnIzAzOWJlNScsXG4gIDcwMDogJyMwMjg4ZDEnLFxuICA4MDA6ICcjMDI3N2JkJyxcbiAgOTAwOiAnIzAxNTc5YicsXG4gIEExMDA6ICcjODBkOGZmJyxcbiAgQTIwMDogJyM0MGM0ZmYnLFxuICBBNDAwOiAnIzAwYjBmZicsXG4gIEE3MDA6ICcjMDA5MWVhJ1xufTtcbmV4cG9ydCBkZWZhdWx0IGxpZ2h0Qmx1ZTsiLAogICAgImNvbnN0IGdyZWVuID0ge1xuICA1MDogJyNlOGY1ZTknLFxuICAxMDA6ICcjYzhlNmM5JyxcbiAgMjAwOiAnI2E1ZDZhNycsXG4gIDMwMDogJyM4MWM3ODQnLFxuICA0MDA6ICcjNjZiYjZhJyxcbiAgNTAwOiAnIzRjYWY1MCcsXG4gIDYwMDogJyM0M2EwNDcnLFxuICA3MDA6ICcjMzg4ZTNjJyxcbiAgODAwOiAnIzJlN2QzMicsXG4gIDkwMDogJyMxYjVlMjAnLFxuICBBMTAwOiAnI2I5ZjZjYScsXG4gIEEyMDA6ICcjNjlmMGFlJyxcbiAgQTQwMDogJyMwMGU2NzYnLFxuICBBNzAwOiAnIzAwYzg1Mydcbn07XG5leHBvcnQgZGVmYXVsdCBncmVlbjsiLAogICAgImltcG9ydCBfZm9ybWF0RXJyb3JNZXNzYWdlIGZyb20gXCJAbXVpL3V0aWxzL2Zvcm1hdE11aUVycm9yTWVzc2FnZVwiO1xuaW1wb3J0IGRlZXBtZXJnZSBmcm9tICdAbXVpL3V0aWxzL2RlZXBtZXJnZSc7XG5pbXBvcnQgeyBkYXJrZW4sIGdldENvbnRyYXN0UmF0aW8sIGxpZ2h0ZW4gfSBmcm9tICdAbXVpL3N5c3RlbS9jb2xvck1hbmlwdWxhdG9yJztcbmltcG9ydCBjb21tb24gZnJvbSBcIi4uL2NvbG9ycy9jb21tb24uanNcIjtcbmltcG9ydCBncmV5IGZyb20gXCIuLi9jb2xvcnMvZ3JleS5qc1wiO1xuaW1wb3J0IHB1cnBsZSBmcm9tIFwiLi4vY29sb3JzL3B1cnBsZS5qc1wiO1xuaW1wb3J0IHJlZCBmcm9tIFwiLi4vY29sb3JzL3JlZC5qc1wiO1xuaW1wb3J0IG9yYW5nZSBmcm9tIFwiLi4vY29sb3JzL29yYW5nZS5qc1wiO1xuaW1wb3J0IGJsdWUgZnJvbSBcIi4uL2NvbG9ycy9ibHVlLmpzXCI7XG5pbXBvcnQgbGlnaHRCbHVlIGZyb20gXCIuLi9jb2xvcnMvbGlnaHRCbHVlLmpzXCI7XG5pbXBvcnQgZ3JlZW4gZnJvbSBcIi4uL2NvbG9ycy9ncmVlbi5qc1wiO1xuZnVuY3Rpb24gZ2V0TGlnaHQoKSB7XG4gIHJldHVybiB7XG4gICAgLy8gVGhlIGNvbG9ycyB1c2VkIHRvIHN0eWxlIHRoZSB0ZXh0LlxuICAgIHRleHQ6IHtcbiAgICAgIC8vIFRoZSBtb3N0IGltcG9ydGFudCB0ZXh0LlxuICAgICAgcHJpbWFyeTogJ3JnYmEoMCwgMCwgMCwgMC44NyknLFxuICAgICAgLy8gU2Vjb25kYXJ5IHRleHQuXG4gICAgICBzZWNvbmRhcnk6ICdyZ2JhKDAsIDAsIDAsIDAuNiknLFxuICAgICAgLy8gRGlzYWJsZWQgdGV4dCBoYXZlIGV2ZW4gbG93ZXIgdmlzdWFsIHByb21pbmVuY2UuXG4gICAgICBkaXNhYmxlZDogJ3JnYmEoMCwgMCwgMCwgMC4zOCknXG4gICAgfSxcbiAgICAvLyBUaGUgY29sb3IgdXNlZCB0byBkaXZpZGUgZGlmZmVyZW50IGVsZW1lbnRzLlxuICAgIGRpdmlkZXI6ICdyZ2JhKDAsIDAsIDAsIDAuMTIpJyxcbiAgICAvLyBUaGUgYmFja2dyb3VuZCBjb2xvcnMgdXNlZCB0byBzdHlsZSB0aGUgc3VyZmFjZXMuXG4gICAgLy8gQ29uc2lzdGVuY3kgYmV0d2VlbiB0aGVzZSB2YWx1ZXMgaXMgaW1wb3J0YW50LlxuICAgIGJhY2tncm91bmQ6IHtcbiAgICAgIHBhcGVyOiBjb21tb24ud2hpdGUsXG4gICAgICBkZWZhdWx0OiBjb21tb24ud2hpdGVcbiAgICB9LFxuICAgIC8vIFRoZSBjb2xvcnMgdXNlZCB0byBzdHlsZSB0aGUgYWN0aW9uIGVsZW1lbnRzLlxuICAgIGFjdGlvbjoge1xuICAgICAgLy8gVGhlIGNvbG9yIG9mIGFuIGFjdGl2ZSBhY3Rpb24gbGlrZSBhbiBpY29uIGJ1dHRvbi5cbiAgICAgIGFjdGl2ZTogJ3JnYmEoMCwgMCwgMCwgMC41NCknLFxuICAgICAgLy8gVGhlIGNvbG9yIG9mIGFuIGhvdmVyZWQgYWN0aW9uLlxuICAgICAgaG92ZXI6ICdyZ2JhKDAsIDAsIDAsIDAuMDQpJyxcbiAgICAgIGhvdmVyT3BhY2l0eTogMC4wNCxcbiAgICAgIC8vIFRoZSBjb2xvciBvZiBhIHNlbGVjdGVkIGFjdGlvbi5cbiAgICAgIHNlbGVjdGVkOiAncmdiYSgwLCAwLCAwLCAwLjA4KScsXG4gICAgICBzZWxlY3RlZE9wYWNpdHk6IDAuMDgsXG4gICAgICAvLyBUaGUgY29sb3Igb2YgYSBkaXNhYmxlZCBhY3Rpb24uXG4gICAgICBkaXNhYmxlZDogJ3JnYmEoMCwgMCwgMCwgMC4yNiknLFxuICAgICAgLy8gVGhlIGJhY2tncm91bmQgY29sb3Igb2YgYSBkaXNhYmxlZCBhY3Rpb24uXG4gICAgICBkaXNhYmxlZEJhY2tncm91bmQ6ICdyZ2JhKDAsIDAsIDAsIDAuMTIpJyxcbiAgICAgIGRpc2FibGVkT3BhY2l0eTogMC4zOCxcbiAgICAgIGZvY3VzOiAncmdiYSgwLCAwLCAwLCAwLjEyKScsXG4gICAgICBmb2N1c09wYWNpdHk6IDAuMTIsXG4gICAgICBhY3RpdmF0ZWRPcGFjaXR5OiAwLjEyXG4gICAgfVxuICB9O1xufVxuZXhwb3J0IGNvbnN0IGxpZ2h0ID0gZ2V0TGlnaHQoKTtcbmZ1bmN0aW9uIGdldERhcmsoKSB7XG4gIHJldHVybiB7XG4gICAgdGV4dDoge1xuICAgICAgcHJpbWFyeTogY29tbW9uLndoaXRlLFxuICAgICAgc2Vjb25kYXJ5OiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpJyxcbiAgICAgIGRpc2FibGVkOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpJyxcbiAgICAgIGljb246ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSknXG4gICAgfSxcbiAgICBkaXZpZGVyOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEyKScsXG4gICAgYmFja2dyb3VuZDoge1xuICAgICAgcGFwZXI6ICcjMTIxMjEyJyxcbiAgICAgIGRlZmF1bHQ6ICcjMTIxMjEyJ1xuICAgIH0sXG4gICAgYWN0aW9uOiB7XG4gICAgICBhY3RpdmU6IGNvbW1vbi53aGl0ZSxcbiAgICAgIGhvdmVyOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjA4KScsXG4gICAgICBob3Zlck9wYWNpdHk6IDAuMDgsXG4gICAgICBzZWxlY3RlZDogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNiknLFxuICAgICAgc2VsZWN0ZWRPcGFjaXR5OiAwLjE2LFxuICAgICAgZGlzYWJsZWQ6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMyknLFxuICAgICAgZGlzYWJsZWRCYWNrZ3JvdW5kOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEyKScsXG4gICAgICBkaXNhYmxlZE9wYWNpdHk6IDAuMzgsXG4gICAgICBmb2N1czogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4xMiknLFxuICAgICAgZm9jdXNPcGFjaXR5OiAwLjEyLFxuICAgICAgYWN0aXZhdGVkT3BhY2l0eTogMC4yNFxuICAgIH1cbiAgfTtcbn1cbmV4cG9ydCBjb25zdCBkYXJrID0gZ2V0RGFyaygpO1xuZnVuY3Rpb24gYWRkTGlnaHRPckRhcmsoaW50ZW50LCBkaXJlY3Rpb24sIHNoYWRlLCB0b25hbE9mZnNldCkge1xuICBjb25zdCB0b25hbE9mZnNldExpZ2h0ID0gdG9uYWxPZmZzZXQubGlnaHQgfHwgdG9uYWxPZmZzZXQ7XG4gIGNvbnN0IHRvbmFsT2Zmc2V0RGFyayA9IHRvbmFsT2Zmc2V0LmRhcmsgfHwgdG9uYWxPZmZzZXQgKiAxLjU7XG4gIGlmICghaW50ZW50W2RpcmVjdGlvbl0pIHtcbiAgICBpZiAoaW50ZW50Lmhhc093blByb3BlcnR5KHNoYWRlKSkge1xuICAgICAgaW50ZW50W2RpcmVjdGlvbl0gPSBpbnRlbnRbc2hhZGVdO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAnbGlnaHQnKSB7XG4gICAgICBpbnRlbnQubGlnaHQgPSBsaWdodGVuKGludGVudC5tYWluLCB0b25hbE9mZnNldExpZ2h0KTtcbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ2RhcmsnKSB7XG4gICAgICBpbnRlbnQuZGFyayA9IGRhcmtlbihpbnRlbnQubWFpbiwgdG9uYWxPZmZzZXREYXJrKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIG1peExpZ2h0T3JEYXJrKGNvbG9yU3BhY2UsIGludGVudCwgZGlyZWN0aW9uLCBzaGFkZSwgdG9uYWxPZmZzZXQpIHtcbiAgY29uc3QgdG9uYWxPZmZzZXRMaWdodCA9IHRvbmFsT2Zmc2V0LmxpZ2h0IHx8IHRvbmFsT2Zmc2V0O1xuICBjb25zdCB0b25hbE9mZnNldERhcmsgPSB0b25hbE9mZnNldC5kYXJrIHx8IHRvbmFsT2Zmc2V0ICogMS41O1xuICBpZiAoIWludGVudFtkaXJlY3Rpb25dKSB7XG4gICAgaWYgKGludGVudC5oYXNPd25Qcm9wZXJ0eShzaGFkZSkpIHtcbiAgICAgIGludGVudFtkaXJlY3Rpb25dID0gaW50ZW50W3NoYWRlXTtcbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ2xpZ2h0Jykge1xuICAgICAgaW50ZW50LmxpZ2h0ID0gYGNvbG9yLW1peChpbiAke2NvbG9yU3BhY2V9LCAke2ludGVudC5tYWlufSwgI2ZmZiAkeyh0b25hbE9mZnNldExpZ2h0ICogMTAwKS50b0ZpeGVkKDApfSUpYDtcbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ2RhcmsnKSB7XG4gICAgICBpbnRlbnQuZGFyayA9IGBjb2xvci1taXgoaW4gJHtjb2xvclNwYWNlfSwgJHtpbnRlbnQubWFpbn0sICMwMDAgJHsodG9uYWxPZmZzZXREYXJrICogMTAwKS50b0ZpeGVkKDApfSUpYDtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGdldERlZmF1bHRQcmltYXJ5KG1vZGUgPSAnbGlnaHQnKSB7XG4gIGlmIChtb2RlID09PSAnZGFyaycpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWFpbjogYmx1ZVsyMDBdLFxuICAgICAgbGlnaHQ6IGJsdWVbNTBdLFxuICAgICAgZGFyazogYmx1ZVs0MDBdXG4gICAgfTtcbiAgfVxuICByZXR1cm4ge1xuICAgIG1haW46IGJsdWVbNzAwXSxcbiAgICBsaWdodDogYmx1ZVs0MDBdLFxuICAgIGRhcms6IGJsdWVbODAwXVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0RGVmYXVsdFNlY29uZGFyeShtb2RlID0gJ2xpZ2h0Jykge1xuICBpZiAobW9kZSA9PT0gJ2RhcmsnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1haW46IHB1cnBsZVsyMDBdLFxuICAgICAgbGlnaHQ6IHB1cnBsZVs1MF0sXG4gICAgICBkYXJrOiBwdXJwbGVbNDAwXVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBtYWluOiBwdXJwbGVbNTAwXSxcbiAgICBsaWdodDogcHVycGxlWzMwMF0sXG4gICAgZGFyazogcHVycGxlWzcwMF1cbiAgfTtcbn1cbmZ1bmN0aW9uIGdldERlZmF1bHRFcnJvcihtb2RlID0gJ2xpZ2h0Jykge1xuICBpZiAobW9kZSA9PT0gJ2RhcmsnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1haW46IHJlZFs1MDBdLFxuICAgICAgbGlnaHQ6IHJlZFszMDBdLFxuICAgICAgZGFyazogcmVkWzcwMF1cbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgbWFpbjogcmVkWzcwMF0sXG4gICAgbGlnaHQ6IHJlZFs0MDBdLFxuICAgIGRhcms6IHJlZFs4MDBdXG4gIH07XG59XG5mdW5jdGlvbiBnZXREZWZhdWx0SW5mbyhtb2RlID0gJ2xpZ2h0Jykge1xuICBpZiAobW9kZSA9PT0gJ2RhcmsnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1haW46IGxpZ2h0Qmx1ZVs0MDBdLFxuICAgICAgbGlnaHQ6IGxpZ2h0Qmx1ZVszMDBdLFxuICAgICAgZGFyazogbGlnaHRCbHVlWzcwMF1cbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgbWFpbjogbGlnaHRCbHVlWzcwMF0sXG4gICAgbGlnaHQ6IGxpZ2h0Qmx1ZVs1MDBdLFxuICAgIGRhcms6IGxpZ2h0Qmx1ZVs5MDBdXG4gIH07XG59XG5mdW5jdGlvbiBnZXREZWZhdWx0U3VjY2Vzcyhtb2RlID0gJ2xpZ2h0Jykge1xuICBpZiAobW9kZSA9PT0gJ2RhcmsnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1haW46IGdyZWVuWzQwMF0sXG4gICAgICBsaWdodDogZ3JlZW5bMzAwXSxcbiAgICAgIGRhcms6IGdyZWVuWzcwMF1cbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgbWFpbjogZ3JlZW5bODAwXSxcbiAgICBsaWdodDogZ3JlZW5bNTAwXSxcbiAgICBkYXJrOiBncmVlbls5MDBdXG4gIH07XG59XG5mdW5jdGlvbiBnZXREZWZhdWx0V2FybmluZyhtb2RlID0gJ2xpZ2h0Jykge1xuICBpZiAobW9kZSA9PT0gJ2RhcmsnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1haW46IG9yYW5nZVs0MDBdLFxuICAgICAgbGlnaHQ6IG9yYW5nZVszMDBdLFxuICAgICAgZGFyazogb3JhbmdlWzcwMF1cbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgbWFpbjogJyNlZDZjMDInLFxuICAgIC8vIGNsb3Nlc3QgdG8gb3JhbmdlWzgwMF0gdGhhdCBwYXNzIDM6MS5cbiAgICBsaWdodDogb3JhbmdlWzUwMF0sXG4gICAgZGFyazogb3JhbmdlWzkwMF1cbiAgfTtcbn1cblxuLy8gVXNlIHRoZSBzYW1lIG5hbWUgYXMgdGhlIGV4cGVyaW1lbnRhbCBDU1MgYGNvbnRyYXN0LWNvbG9yYCBmdW5jdGlvbi5cbmV4cG9ydCBmdW5jdGlvbiBjb250cmFzdENvbG9yKGJhY2tncm91bmQpIHtcbiAgcmV0dXJuIGBva2xjaChmcm9tICR7YmFja2dyb3VuZH0gdmFyKC0tX19sKSAwIGggLyB2YXIoLS1fX2EpKWA7XG59XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVQYWxldHRlKHBhbGV0dGUpIHtcbiAgY29uc3Qge1xuICAgIG1vZGUgPSAnbGlnaHQnLFxuICAgIGNvbnRyYXN0VGhyZXNob2xkID0gMyxcbiAgICB0b25hbE9mZnNldCA9IDAuMixcbiAgICBjb2xvclNwYWNlLFxuICAgIC4uLm90aGVyXG4gIH0gPSBwYWxldHRlO1xuICBjb25zdCBwcmltYXJ5ID0gcGFsZXR0ZS5wcmltYXJ5IHx8IGdldERlZmF1bHRQcmltYXJ5KG1vZGUpO1xuICBjb25zdCBzZWNvbmRhcnkgPSBwYWxldHRlLnNlY29uZGFyeSB8fCBnZXREZWZhdWx0U2Vjb25kYXJ5KG1vZGUpO1xuICBjb25zdCBlcnJvciA9IHBhbGV0dGUuZXJyb3IgfHwgZ2V0RGVmYXVsdEVycm9yKG1vZGUpO1xuICBjb25zdCBpbmZvID0gcGFsZXR0ZS5pbmZvIHx8IGdldERlZmF1bHRJbmZvKG1vZGUpO1xuICBjb25zdCBzdWNjZXNzID0gcGFsZXR0ZS5zdWNjZXNzIHx8IGdldERlZmF1bHRTdWNjZXNzKG1vZGUpO1xuICBjb25zdCB3YXJuaW5nID0gcGFsZXR0ZS53YXJuaW5nIHx8IGdldERlZmF1bHRXYXJuaW5nKG1vZGUpO1xuXG4gIC8vIFVzZSB0aGUgc2FtZSBsb2dpYyBhc1xuICAvLyBCb290c3RyYXA6IGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iLzFkNmUzNzEwZGQ0NDdkZTFhMjAwZjI5ZThmYTUyMWY4YTA5MDhmNzAvc2Nzcy9fZnVuY3Rpb25zLnNjc3MjTDU5XG4gIC8vIGFuZCBtYXRlcmlhbC1jb21wb25lbnRzLXdlYiBodHRwczovL2dpdGh1Yi5jb20vbWF0ZXJpYWwtY29tcG9uZW50cy9tYXRlcmlhbC1jb21wb25lbnRzLXdlYi9ibG9iL2FjNDZiODg2M2M0ZGFiOWZjMjJjNGM2NjJkYzZiZDFiNjVkZDY1MmYvcGFja2FnZXMvbWRjLXRoZW1lL19mdW5jdGlvbnMuc2NzcyNMNTRcbiAgZnVuY3Rpb24gZ2V0Q29udHJhc3RUZXh0KGJhY2tncm91bmQpIHtcbiAgICBpZiAoY29sb3JTcGFjZSkge1xuICAgICAgcmV0dXJuIGNvbnRyYXN0Q29sb3IoYmFja2dyb3VuZCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRyYXN0VGV4dCA9IGdldENvbnRyYXN0UmF0aW8oYmFja2dyb3VuZCwgZGFyay50ZXh0LnByaW1hcnkpID49IGNvbnRyYXN0VGhyZXNob2xkID8gZGFyay50ZXh0LnByaW1hcnkgOiBsaWdodC50ZXh0LnByaW1hcnk7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGNvbnN0IGNvbnRyYXN0ID0gZ2V0Q29udHJhc3RSYXRpbyhiYWNrZ3JvdW5kLCBjb250cmFzdFRleHQpO1xuICAgICAgaWYgKGNvbnRyYXN0IDwgMykge1xuICAgICAgICBjb25zb2xlLmVycm9yKFtgTVVJOiBUaGUgY29udHJhc3QgcmF0aW8gb2YgJHtjb250cmFzdH06MSBmb3IgJHtjb250cmFzdFRleHR9IG9uICR7YmFja2dyb3VuZH1gLCAnZmFsbHMgYmVsb3cgdGhlIFdDQUcgcmVjb21tZW5kZWQgYWJzb2x1dGUgbWluaW11bSBjb250cmFzdCByYXRpbyBvZiAzOjEuJywgJ2h0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy1XQ0FHMjAtMjAwODEyMTEvI3Zpc3VhbC1hdWRpby1jb250cmFzdC1jb250cmFzdCddLmpvaW4oJ1xcbicpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvbnRyYXN0VGV4dDtcbiAgfVxuICBjb25zdCBhdWdtZW50Q29sb3IgPSAoe1xuICAgIGNvbG9yLFxuICAgIG5hbWUsXG4gICAgbWFpblNoYWRlID0gNTAwLFxuICAgIGxpZ2h0U2hhZGUgPSAzMDAsXG4gICAgZGFya1NoYWRlID0gNzAwXG4gIH0pID0+IHtcbiAgICBjb2xvciA9IHtcbiAgICAgIC4uLmNvbG9yXG4gICAgfTtcbiAgICBpZiAoIWNvbG9yLm1haW4gJiYgY29sb3JbbWFpblNoYWRlXSkge1xuICAgICAgY29sb3IubWFpbiA9IGNvbG9yW21haW5TaGFkZV07XG4gICAgfVxuICAgIGlmICghY29sb3IuaGFzT3duUHJvcGVydHkoJ21haW4nKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGBNVUk6IFRoZSBjb2xvciR7bmFtZSA/IGAgKCR7bmFtZX0pYCA6ICcnfSBwcm92aWRlZCB0byBhdWdtZW50Q29sb3IoY29sb3IpIGlzIGludmFsaWQuXFxuYCArIGBUaGUgY29sb3Igb2JqZWN0IG5lZWRzIHRvIGhhdmUgYSBcXGBtYWluXFxgIHByb3BlcnR5IG9yIGEgXFxgJHttYWluU2hhZGV9XFxgIHByb3BlcnR5LmAgOiBfZm9ybWF0RXJyb3JNZXNzYWdlKDExLCBuYW1lID8gYCAoJHtuYW1lfSlgIDogJycsIG1haW5TaGFkZSkpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNvbG9yLm1haW4gIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gYE1VSTogVGhlIGNvbG9yJHtuYW1lID8gYCAoJHtuYW1lfSlgIDogJyd9IHByb3ZpZGVkIHRvIGF1Z21lbnRDb2xvcihjb2xvcikgaXMgaW52YWxpZC5cXG5gICsgYFxcYGNvbG9yLm1haW5cXGAgc2hvdWxkIGJlIGEgc3RyaW5nLCBidXQgXFxgJHtKU09OLnN0cmluZ2lmeShjb2xvci5tYWluKX1cXGAgd2FzIHByb3ZpZGVkIGluc3RlYWQuXFxuYCArICdcXG4nICsgJ0RpZCB5b3UgaW50ZW5kIHRvIHVzZSBvbmUgb2YgdGhlIGZvbGxvd2luZyBhcHByb2FjaGVzP1xcbicgKyAnXFxuJyArICdpbXBvcnQgeyBncmVlbiB9IGZyb20gXCJAbXVpL21hdGVyaWFsL2NvbG9yc1wiO1xcbicgKyAnXFxuJyArICdjb25zdCB0aGVtZTEgPSBjcmVhdGVUaGVtZSh7IHBhbGV0dGU6IHtcXG4nICsgJyAgcHJpbWFyeTogZ3JlZW4sXFxuJyArICd9IH0pO1xcbicgKyAnXFxuJyArICdjb25zdCB0aGVtZTIgPSBjcmVhdGVUaGVtZSh7IHBhbGV0dGU6IHtcXG4nICsgJyAgcHJpbWFyeTogeyBtYWluOiBncmVlbls1MDBdIH0sXFxuJyArICd9IH0pOycgOiBfZm9ybWF0RXJyb3JNZXNzYWdlKDEyLCBuYW1lID8gYCAoJHtuYW1lfSlgIDogJycsIEpTT04uc3RyaW5naWZ5KGNvbG9yLm1haW4pKSk7XG4gICAgfVxuICAgIGlmIChjb2xvclNwYWNlKSB7XG4gICAgICBtaXhMaWdodE9yRGFyayhjb2xvclNwYWNlLCBjb2xvciwgJ2xpZ2h0JywgbGlnaHRTaGFkZSwgdG9uYWxPZmZzZXQpO1xuICAgICAgbWl4TGlnaHRPckRhcmsoY29sb3JTcGFjZSwgY29sb3IsICdkYXJrJywgZGFya1NoYWRlLCB0b25hbE9mZnNldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFkZExpZ2h0T3JEYXJrKGNvbG9yLCAnbGlnaHQnLCBsaWdodFNoYWRlLCB0b25hbE9mZnNldCk7XG4gICAgICBhZGRMaWdodE9yRGFyayhjb2xvciwgJ2RhcmsnLCBkYXJrU2hhZGUsIHRvbmFsT2Zmc2V0KTtcbiAgICB9XG4gICAgaWYgKCFjb2xvci5jb250cmFzdFRleHQpIHtcbiAgICAgIGNvbG9yLmNvbnRyYXN0VGV4dCA9IGdldENvbnRyYXN0VGV4dChjb2xvci5tYWluKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbG9yO1xuICB9O1xuICBsZXQgbW9kZUh5ZHJhdGVkO1xuICBpZiAobW9kZSA9PT0gJ2xpZ2h0Jykge1xuICAgIG1vZGVIeWRyYXRlZCA9IGdldExpZ2h0KCk7XG4gIH0gZWxzZSBpZiAobW9kZSA9PT0gJ2RhcmsnKSB7XG4gICAgbW9kZUh5ZHJhdGVkID0gZ2V0RGFyaygpO1xuICB9XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKCFtb2RlSHlkcmF0ZWQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYE1VSTogVGhlIHBhbGV0dGUgbW9kZSBcXGAke21vZGV9XFxgIGlzIG5vdCBzdXBwb3J0ZWQuYCk7XG4gICAgfVxuICB9XG4gIGNvbnN0IHBhbGV0dGVPdXRwdXQgPSBkZWVwbWVyZ2Uoe1xuICAgIC8vIEEgY29sbGVjdGlvbiBvZiBjb21tb24gY29sb3JzLlxuICAgIGNvbW1vbjoge1xuICAgICAgLi4uY29tbW9uXG4gICAgfSxcbiAgICAvLyBwcmV2ZW50IG11dGFibGUgb2JqZWN0LlxuICAgIC8vIFRoZSBwYWxldHRlIG1vZGUsIGNhbiBiZSBsaWdodCBvciBkYXJrLlxuICAgIG1vZGUsXG4gICAgLy8gVGhlIGNvbG9ycyB1c2VkIHRvIHJlcHJlc2VudCBwcmltYXJ5IGludGVyZmFjZSBlbGVtZW50cyBmb3IgYSB1c2VyLlxuICAgIHByaW1hcnk6IGF1Z21lbnRDb2xvcih7XG4gICAgICBjb2xvcjogcHJpbWFyeSxcbiAgICAgIG5hbWU6ICdwcmltYXJ5J1xuICAgIH0pLFxuICAgIC8vIFRoZSBjb2xvcnMgdXNlZCB0byByZXByZXNlbnQgc2Vjb25kYXJ5IGludGVyZmFjZSBlbGVtZW50cyBmb3IgYSB1c2VyLlxuICAgIHNlY29uZGFyeTogYXVnbWVudENvbG9yKHtcbiAgICAgIGNvbG9yOiBzZWNvbmRhcnksXG4gICAgICBuYW1lOiAnc2Vjb25kYXJ5JyxcbiAgICAgIG1haW5TaGFkZTogJ0E0MDAnLFxuICAgICAgbGlnaHRTaGFkZTogJ0EyMDAnLFxuICAgICAgZGFya1NoYWRlOiAnQTcwMCdcbiAgICB9KSxcbiAgICAvLyBUaGUgY29sb3JzIHVzZWQgdG8gcmVwcmVzZW50IGludGVyZmFjZSBlbGVtZW50cyB0aGF0IHRoZSB1c2VyIHNob3VsZCBiZSBtYWRlIGF3YXJlIG9mLlxuICAgIGVycm9yOiBhdWdtZW50Q29sb3Ioe1xuICAgICAgY29sb3I6IGVycm9yLFxuICAgICAgbmFtZTogJ2Vycm9yJ1xuICAgIH0pLFxuICAgIC8vIFRoZSBjb2xvcnMgdXNlZCB0byByZXByZXNlbnQgcG90ZW50aWFsbHkgZGFuZ2Vyb3VzIGFjdGlvbnMgb3IgaW1wb3J0YW50IG1lc3NhZ2VzLlxuICAgIHdhcm5pbmc6IGF1Z21lbnRDb2xvcih7XG4gICAgICBjb2xvcjogd2FybmluZyxcbiAgICAgIG5hbWU6ICd3YXJuaW5nJ1xuICAgIH0pLFxuICAgIC8vIFRoZSBjb2xvcnMgdXNlZCB0byBwcmVzZW50IGluZm9ybWF0aW9uIHRvIHRoZSB1c2VyIHRoYXQgaXMgbmV1dHJhbCBhbmQgbm90IG5lY2Vzc2FyaWx5IGltcG9ydGFudC5cbiAgICBpbmZvOiBhdWdtZW50Q29sb3Ioe1xuICAgICAgY29sb3I6IGluZm8sXG4gICAgICBuYW1lOiAnaW5mbydcbiAgICB9KSxcbiAgICAvLyBUaGUgY29sb3JzIHVzZWQgdG8gaW5kaWNhdGUgdGhlIHN1Y2Nlc3NmdWwgY29tcGxldGlvbiBvZiBhbiBhY3Rpb24gdGhhdCB1c2VyIHRyaWdnZXJlZC5cbiAgICBzdWNjZXNzOiBhdWdtZW50Q29sb3Ioe1xuICAgICAgY29sb3I6IHN1Y2Nlc3MsXG4gICAgICBuYW1lOiAnc3VjY2VzcydcbiAgICB9KSxcbiAgICAvLyBUaGUgZ3JleSBjb2xvcnMuXG4gICAgZ3JleSxcbiAgICAvLyBVc2VkIGJ5IGBnZXRDb250cmFzdFRleHQoKWAgdG8gbWF4aW1pemUgdGhlIGNvbnRyYXN0IGJldHdlZW5cbiAgICAvLyB0aGUgYmFja2dyb3VuZCBhbmQgdGhlIHRleHQuXG4gICAgY29udHJhc3RUaHJlc2hvbGQsXG4gICAgLy8gVGFrZXMgYSBiYWNrZ3JvdW5kIGNvbG9yIGFuZCByZXR1cm5zIHRoZSB0ZXh0IGNvbG9yIHRoYXQgbWF4aW1pemVzIHRoZSBjb250cmFzdC5cbiAgICBnZXRDb250cmFzdFRleHQsXG4gICAgLy8gR2VuZXJhdGUgYSByaWNoIGNvbG9yIG9iamVjdC5cbiAgICBhdWdtZW50Q29sb3IsXG4gICAgLy8gVXNlZCBieSB0aGUgZnVuY3Rpb25zIGJlbG93IHRvIHNoaWZ0IGEgY29sb3IncyBsdW1pbmFuY2UgYnkgYXBwcm94aW1hdGVseVxuICAgIC8vIHR3byBpbmRleGVzIHdpdGhpbiBpdHMgdG9uYWwgcGFsZXR0ZS5cbiAgICAvLyBFLmcuLCBzaGlmdCBmcm9tIFJlZCA1MDAgdG8gUmVkIDMwMCBvciBSZWQgNzAwLlxuICAgIHRvbmFsT2Zmc2V0LFxuICAgIC8vIFRoZSBsaWdodCBhbmQgZGFyayBtb2RlIG9iamVjdC5cbiAgICAuLi5tb2RlSHlkcmF0ZWRcbiAgfSwgb3RoZXIpO1xuICByZXR1cm4gcGFsZXR0ZU91dHB1dDtcbn0iLAogICAgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHByZXBhcmVUeXBvZ3JhcGh5VmFycyh0eXBvZ3JhcGh5KSB7XG4gIGNvbnN0IHZhcnMgPSB7fTtcbiAgY29uc3QgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKHR5cG9ncmFwaHkpO1xuICBlbnRyaWVzLmZvckVhY2goZW50cnkgPT4ge1xuICAgIGNvbnN0IFtrZXksIHZhbHVlXSA9IGVudHJ5O1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICB2YXJzW2tleV0gPSBgJHt2YWx1ZS5mb250U3R5bGUgPyBgJHt2YWx1ZS5mb250U3R5bGV9IGAgOiAnJ30ke3ZhbHVlLmZvbnRWYXJpYW50ID8gYCR7dmFsdWUuZm9udFZhcmlhbnR9IGAgOiAnJ30ke3ZhbHVlLmZvbnRXZWlnaHQgPyBgJHt2YWx1ZS5mb250V2VpZ2h0fSBgIDogJyd9JHt2YWx1ZS5mb250U3RyZXRjaCA/IGAke3ZhbHVlLmZvbnRTdHJldGNofSBgIDogJyd9JHt2YWx1ZS5mb250U2l6ZSB8fCAnJ30ke3ZhbHVlLmxpbmVIZWlnaHQgPyBgLyR7dmFsdWUubGluZUhlaWdodH0gYCA6ICcnfSR7dmFsdWUuZm9udEZhbWlseSB8fCAnJ31gO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiB2YXJzO1xufSIsCiAgICAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlTWl4aW5zKGJyZWFrcG9pbnRzLCBtaXhpbnMpIHtcbiAgcmV0dXJuIHtcbiAgICB0b29sYmFyOiB7XG4gICAgICBtaW5IZWlnaHQ6IDU2LFxuICAgICAgW2JyZWFrcG9pbnRzLnVwKCd4cycpXToge1xuICAgICAgICAnQG1lZGlhIChvcmllbnRhdGlvbjogbGFuZHNjYXBlKSc6IHtcbiAgICAgICAgICBtaW5IZWlnaHQ6IDQ4XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBbYnJlYWtwb2ludHMudXAoJ3NtJyldOiB7XG4gICAgICAgIG1pbkhlaWdodDogNjRcbiAgICAgIH1cbiAgICB9LFxuICAgIC4uLm1peGluc1xuICB9O1xufSIsCiAgICAiaW1wb3J0IGRlZXBtZXJnZSBmcm9tICdAbXVpL3V0aWxzL2RlZXBtZXJnZSc7XG5mdW5jdGlvbiByb3VuZCh2YWx1ZSkge1xuICByZXR1cm4gTWF0aC5yb3VuZCh2YWx1ZSAqIDFlNSkgLyAxZTU7XG59XG5jb25zdCBjYXNlQWxsQ2FwcyA9IHtcbiAgdGV4dFRyYW5zZm9ybTogJ3VwcGVyY2FzZSdcbn07XG5jb25zdCBkZWZhdWx0Rm9udEZhbWlseSA9ICdcIlJvYm90b1wiLCBcIkhlbHZldGljYVwiLCBcIkFyaWFsXCIsIHNhbnMtc2VyaWYnO1xuXG4vKipcbiAqIEBzZWUgQGxpbmt7aHR0cHM6Ly9tMi5tYXRlcmlhbC5pby9kZXNpZ24vdHlwb2dyYXBoeS90aGUtdHlwZS1zeXN0ZW0uaHRtbH1cbiAqIEBzZWUgQGxpbmt7aHR0cHM6Ly9tMi5tYXRlcmlhbC5pby9kZXNpZ24vdHlwb2dyYXBoeS91bmRlcnN0YW5kaW5nLXR5cG9ncmFwaHkuaHRtbH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlVHlwb2dyYXBoeShwYWxldHRlLCB0eXBvZ3JhcGh5KSB7XG4gIGNvbnN0IHtcbiAgICBmb250RmFtaWx5ID0gZGVmYXVsdEZvbnRGYW1pbHksXG4gICAgLy8gVGhlIGRlZmF1bHQgZm9udCBzaXplIG9mIHRoZSBNYXRlcmlhbCBTcGVjaWZpY2F0aW9uLlxuICAgIGZvbnRTaXplID0gMTQsXG4gICAgLy8gcHhcbiAgICBmb250V2VpZ2h0TGlnaHQgPSAzMDAsXG4gICAgZm9udFdlaWdodFJlZ3VsYXIgPSA0MDAsXG4gICAgZm9udFdlaWdodE1lZGl1bSA9IDUwMCxcbiAgICBmb250V2VpZ2h0Qm9sZCA9IDcwMCxcbiAgICAvLyBUZWxsIE1VSSB3aGF0J3MgdGhlIGZvbnQtc2l6ZSBvbiB0aGUgaHRtbCBlbGVtZW50LlxuICAgIC8vIDE2cHggaXMgdGhlIGRlZmF1bHQgZm9udC1zaXplIHVzZWQgYnkgYnJvd3NlcnMuXG4gICAgaHRtbEZvbnRTaXplID0gMTYsXG4gICAgLy8gQXBwbHkgdGhlIENTUyBwcm9wZXJ0aWVzIHRvIGFsbCB0aGUgdmFyaWFudHMuXG4gICAgYWxsVmFyaWFudHMsXG4gICAgcHhUb1JlbTogcHhUb1JlbTIsXG4gICAgLi4ub3RoZXJcbiAgfSA9IHR5cGVvZiB0eXBvZ3JhcGh5ID09PSAnZnVuY3Rpb24nID8gdHlwb2dyYXBoeShwYWxldHRlKSA6IHR5cG9ncmFwaHk7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKHR5cGVvZiBmb250U2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ01VSTogYGZvbnRTaXplYCBpcyByZXF1aXJlZCB0byBiZSBhIG51bWJlci4nKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBodG1sRm9udFNpemUgIT09ICdudW1iZXInKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdNVUk6IGBodG1sRm9udFNpemVgIGlzIHJlcXVpcmVkIHRvIGJlIGEgbnVtYmVyLicpO1xuICAgIH1cbiAgfVxuICBjb25zdCBjb2VmID0gZm9udFNpemUgLyAxNDtcbiAgY29uc3QgcHhUb1JlbSA9IHB4VG9SZW0yIHx8IChzaXplID0+IGAke3NpemUgLyBodG1sRm9udFNpemUgKiBjb2VmfXJlbWApO1xuICBjb25zdCBidWlsZFZhcmlhbnQgPSAoZm9udFdlaWdodCwgc2l6ZSwgbGluZUhlaWdodCwgbGV0dGVyU3BhY2luZywgY2FzaW5nKSA9PiAoe1xuICAgIGZvbnRGYW1pbHksXG4gICAgZm9udFdlaWdodCxcbiAgICBmb250U2l6ZTogcHhUb1JlbShzaXplKSxcbiAgICAvLyBVbml0bGVzcyBmb2xsb3dpbmcgaHR0cHM6Ly9tZXllcndlYi5jb20vZXJpYy90aG91Z2h0cy8yMDA2LzAyLzA4L3VuaXRsZXNzLWxpbmUtaGVpZ2h0cy9cbiAgICBsaW5lSGVpZ2h0LFxuICAgIC8vIFRoZSBsZXR0ZXIgc3BhY2luZyB3YXMgZGVzaWduZWQgZm9yIHRoZSBSb2JvdG8gZm9udC1mYW1pbHkuIFVzaW5nIHRoZSBzYW1lIGxldHRlci1zcGFjaW5nXG4gICAgLy8gYWNyb3NzIGZvbnQtZmFtaWxpZXMgY2FuIGNhdXNlIGlzc3VlcyB3aXRoIHRoZSBrZXJuaW5nLlxuICAgIC4uLihmb250RmFtaWx5ID09PSBkZWZhdWx0Rm9udEZhbWlseSA/IHtcbiAgICAgIGxldHRlclNwYWNpbmc6IGAke3JvdW5kKGxldHRlclNwYWNpbmcgLyBzaXplKX1lbWBcbiAgICB9IDoge30pLFxuICAgIC4uLmNhc2luZyxcbiAgICAuLi5hbGxWYXJpYW50c1xuICB9KTtcbiAgY29uc3QgdmFyaWFudHMgPSB7XG4gICAgaDE6IGJ1aWxkVmFyaWFudChmb250V2VpZ2h0TGlnaHQsIDk2LCAxLjE2NywgLTEuNSksXG4gICAgaDI6IGJ1aWxkVmFyaWFudChmb250V2VpZ2h0TGlnaHQsIDYwLCAxLjIsIC0wLjUpLFxuICAgIGgzOiBidWlsZFZhcmlhbnQoZm9udFdlaWdodFJlZ3VsYXIsIDQ4LCAxLjE2NywgMCksXG4gICAgaDQ6IGJ1aWxkVmFyaWFudChmb250V2VpZ2h0UmVndWxhciwgMzQsIDEuMjM1LCAwLjI1KSxcbiAgICBoNTogYnVpbGRWYXJpYW50KGZvbnRXZWlnaHRSZWd1bGFyLCAyNCwgMS4zMzQsIDApLFxuICAgIGg2OiBidWlsZFZhcmlhbnQoZm9udFdlaWdodE1lZGl1bSwgMjAsIDEuNiwgMC4xNSksXG4gICAgc3VidGl0bGUxOiBidWlsZFZhcmlhbnQoZm9udFdlaWdodFJlZ3VsYXIsIDE2LCAxLjc1LCAwLjE1KSxcbiAgICBzdWJ0aXRsZTI6IGJ1aWxkVmFyaWFudChmb250V2VpZ2h0TWVkaXVtLCAxNCwgMS41NywgMC4xKSxcbiAgICBib2R5MTogYnVpbGRWYXJpYW50KGZvbnRXZWlnaHRSZWd1bGFyLCAxNiwgMS41LCAwLjE1KSxcbiAgICBib2R5MjogYnVpbGRWYXJpYW50KGZvbnRXZWlnaHRSZWd1bGFyLCAxNCwgMS40MywgMC4xNSksXG4gICAgYnV0dG9uOiBidWlsZFZhcmlhbnQoZm9udFdlaWdodE1lZGl1bSwgMTQsIDEuNzUsIDAuNCwgY2FzZUFsbENhcHMpLFxuICAgIGNhcHRpb246IGJ1aWxkVmFyaWFudChmb250V2VpZ2h0UmVndWxhciwgMTIsIDEuNjYsIDAuNCksXG4gICAgb3ZlcmxpbmU6IGJ1aWxkVmFyaWFudChmb250V2VpZ2h0UmVndWxhciwgMTIsIDIuNjYsIDEsIGNhc2VBbGxDYXBzKSxcbiAgICAvLyBUT0RPIHY2OiBSZW1vdmUgaGFuZGxpbmcgb2YgJ2luaGVyaXQnIHZhcmlhbnQgZnJvbSB0aGUgdGhlbWUgYXMgaXQgaXMgYWxyZWFkeSBoYW5kbGVkIGluIE1hdGVyaWFsIFVJJ3MgVHlwb2dyYXBoeSBjb21wb25lbnQuIEFsc28sIHJlbWVtYmVyIHRvIHJlbW92ZSB0aGUgYXNzb2NpYXRlZCB0eXBlcy5cbiAgICBpbmhlcml0OiB7XG4gICAgICBmb250RmFtaWx5OiAnaW5oZXJpdCcsXG4gICAgICBmb250V2VpZ2h0OiAnaW5oZXJpdCcsXG4gICAgICBmb250U2l6ZTogJ2luaGVyaXQnLFxuICAgICAgbGluZUhlaWdodDogJ2luaGVyaXQnLFxuICAgICAgbGV0dGVyU3BhY2luZzogJ2luaGVyaXQnXG4gICAgfVxuICB9O1xuICByZXR1cm4gZGVlcG1lcmdlKHtcbiAgICBodG1sRm9udFNpemUsXG4gICAgcHhUb1JlbSxcbiAgICBmb250RmFtaWx5LFxuICAgIGZvbnRTaXplLFxuICAgIGZvbnRXZWlnaHRMaWdodCxcbiAgICBmb250V2VpZ2h0UmVndWxhcixcbiAgICBmb250V2VpZ2h0TWVkaXVtLFxuICAgIGZvbnRXZWlnaHRCb2xkLFxuICAgIC4uLnZhcmlhbnRzXG4gIH0sIG90aGVyLCB7XG4gICAgY2xvbmU6IGZhbHNlIC8vIE5vIG5lZWQgdG8gY2xvbmUgZGVlcFxuICB9KTtcbn0iLAogICAgImNvbnN0IHNoYWRvd0tleVVtYnJhT3BhY2l0eSA9IDAuMjtcbmNvbnN0IHNoYWRvd0tleVBlbnVtYnJhT3BhY2l0eSA9IDAuMTQ7XG5jb25zdCBzaGFkb3dBbWJpZW50U2hhZG93T3BhY2l0eSA9IDAuMTI7XG5mdW5jdGlvbiBjcmVhdGVTaGFkb3coLi4ucHgpIHtcbiAgcmV0dXJuIFtgJHtweFswXX1weCAke3B4WzFdfXB4ICR7cHhbMl19cHggJHtweFszXX1weCByZ2JhKDAsMCwwLCR7c2hhZG93S2V5VW1icmFPcGFjaXR5fSlgLCBgJHtweFs0XX1weCAke3B4WzVdfXB4ICR7cHhbNl19cHggJHtweFs3XX1weCByZ2JhKDAsMCwwLCR7c2hhZG93S2V5UGVudW1icmFPcGFjaXR5fSlgLCBgJHtweFs4XX1weCAke3B4WzldfXB4ICR7cHhbMTBdfXB4ICR7cHhbMTFdfXB4IHJnYmEoMCwwLDAsJHtzaGFkb3dBbWJpZW50U2hhZG93T3BhY2l0eX0pYF0uam9pbignLCcpO1xufVxuXG4vLyBWYWx1ZXMgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vbWF0ZXJpYWwtY29tcG9uZW50cy9tYXRlcmlhbC1jb21wb25lbnRzLXdlYi9ibG9iL2JlODc0N2Y5NDU3NDY2OWNiNWU3YWRkMWE3YzU0ZmE0MWE4OWNlYzcvcGFja2FnZXMvbWRjLWVsZXZhdGlvbi9fdmFyaWFibGVzLnNjc3NcbmNvbnN0IHNoYWRvd3MgPSBbJ25vbmUnLCBjcmVhdGVTaGFkb3coMCwgMiwgMSwgLTEsIDAsIDEsIDEsIDAsIDAsIDEsIDMsIDApLCBjcmVhdGVTaGFkb3coMCwgMywgMSwgLTIsIDAsIDIsIDIsIDAsIDAsIDEsIDUsIDApLCBjcmVhdGVTaGFkb3coMCwgMywgMywgLTIsIDAsIDMsIDQsIDAsIDAsIDEsIDgsIDApLCBjcmVhdGVTaGFkb3coMCwgMiwgNCwgLTEsIDAsIDQsIDUsIDAsIDAsIDEsIDEwLCAwKSwgY3JlYXRlU2hhZG93KDAsIDMsIDUsIC0xLCAwLCA1LCA4LCAwLCAwLCAxLCAxNCwgMCksIGNyZWF0ZVNoYWRvdygwLCAzLCA1LCAtMSwgMCwgNiwgMTAsIDAsIDAsIDEsIDE4LCAwKSwgY3JlYXRlU2hhZG93KDAsIDQsIDUsIC0yLCAwLCA3LCAxMCwgMSwgMCwgMiwgMTYsIDEpLCBjcmVhdGVTaGFkb3coMCwgNSwgNSwgLTMsIDAsIDgsIDEwLCAxLCAwLCAzLCAxNCwgMiksIGNyZWF0ZVNoYWRvdygwLCA1LCA2LCAtMywgMCwgOSwgMTIsIDEsIDAsIDMsIDE2LCAyKSwgY3JlYXRlU2hhZG93KDAsIDYsIDYsIC0zLCAwLCAxMCwgMTQsIDEsIDAsIDQsIDE4LCAzKSwgY3JlYXRlU2hhZG93KDAsIDYsIDcsIC00LCAwLCAxMSwgMTUsIDEsIDAsIDQsIDIwLCAzKSwgY3JlYXRlU2hhZG93KDAsIDcsIDgsIC00LCAwLCAxMiwgMTcsIDIsIDAsIDUsIDIyLCA0KSwgY3JlYXRlU2hhZG93KDAsIDcsIDgsIC00LCAwLCAxMywgMTksIDIsIDAsIDUsIDI0LCA0KSwgY3JlYXRlU2hhZG93KDAsIDcsIDksIC00LCAwLCAxNCwgMjEsIDIsIDAsIDUsIDI2LCA0KSwgY3JlYXRlU2hhZG93KDAsIDgsIDksIC01LCAwLCAxNSwgMjIsIDIsIDAsIDYsIDI4LCA1KSwgY3JlYXRlU2hhZG93KDAsIDgsIDEwLCAtNSwgMCwgMTYsIDI0LCAyLCAwLCA2LCAzMCwgNSksIGNyZWF0ZVNoYWRvdygwLCA4LCAxMSwgLTUsIDAsIDE3LCAyNiwgMiwgMCwgNiwgMzIsIDUpLCBjcmVhdGVTaGFkb3coMCwgOSwgMTEsIC01LCAwLCAxOCwgMjgsIDIsIDAsIDcsIDM0LCA2KSwgY3JlYXRlU2hhZG93KDAsIDksIDEyLCAtNiwgMCwgMTksIDI5LCAyLCAwLCA3LCAzNiwgNiksIGNyZWF0ZVNoYWRvdygwLCAxMCwgMTMsIC02LCAwLCAyMCwgMzEsIDMsIDAsIDgsIDM4LCA3KSwgY3JlYXRlU2hhZG93KDAsIDEwLCAxMywgLTYsIDAsIDIxLCAzMywgMywgMCwgOCwgNDAsIDcpLCBjcmVhdGVTaGFkb3coMCwgMTAsIDE0LCAtNiwgMCwgMjIsIDM1LCAzLCAwLCA4LCA0MiwgNyksIGNyZWF0ZVNoYWRvdygwLCAxMSwgMTQsIC03LCAwLCAyMywgMzYsIDMsIDAsIDksIDQ0LCA4KSwgY3JlYXRlU2hhZG93KDAsIDExLCAxNSwgLTcsIDAsIDI0LCAzOCwgMywgMCwgOSwgNDYsIDgpXTtcbmV4cG9ydCBkZWZhdWx0IHNoYWRvd3M7IiwKICAgICIvLyBGb2xsb3cgaHR0cHM6Ly9tYXRlcmlhbC5nb29nbGUuY29tL21vdGlvbi9kdXJhdGlvbi1lYXNpbmcuaHRtbCNkdXJhdGlvbi1lYXNpbmctbmF0dXJhbC1lYXNpbmctY3VydmVzXG4vLyB0byBsZWFybiB0aGUgY29udGV4dCBpbiB3aGljaCBlYWNoIGVhc2luZyBzaG91bGQgYmUgdXNlZC5cbmV4cG9ydCBjb25zdCBlYXNpbmcgPSB7XG4gIC8vIFRoaXMgaXMgdGhlIG1vc3QgY29tbW9uIGVhc2luZyBjdXJ2ZS5cbiAgZWFzZUluT3V0OiAnY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKScsXG4gIC8vIE9iamVjdHMgZW50ZXIgdGhlIHNjcmVlbiBhdCBmdWxsIHZlbG9jaXR5IGZyb20gb2ZmLXNjcmVlbiBhbmRcbiAgLy8gc2xvd2x5IGRlY2VsZXJhdGUgdG8gYSByZXN0aW5nIHBvaW50LlxuICBlYXNlT3V0OiAnY3ViaWMtYmV6aWVyKDAuMCwgMCwgMC4yLCAxKScsXG4gIC8vIE9iamVjdHMgbGVhdmUgdGhlIHNjcmVlbiBhdCBmdWxsIHZlbG9jaXR5LiBUaGV5IGRvIG5vdCBkZWNlbGVyYXRlIHdoZW4gb2ZmLXNjcmVlbi5cbiAgZWFzZUluOiAnY3ViaWMtYmV6aWVyKDAuNCwgMCwgMSwgMSknLFxuICAvLyBUaGUgc2hhcnAgY3VydmUgaXMgdXNlZCBieSBvYmplY3RzIHRoYXQgbWF5IHJldHVybiB0byB0aGUgc2NyZWVuIGF0IGFueSB0aW1lLlxuICBzaGFycDogJ2N1YmljLWJlemllcigwLjQsIDAsIDAuNiwgMSknXG59O1xuXG4vLyBGb2xsb3cgaHR0cHM6Ly9tMi5tYXRlcmlhbC5pby9ndWlkZWxpbmVzL21vdGlvbi9kdXJhdGlvbi1lYXNpbmcuaHRtbCNkdXJhdGlvbi1lYXNpbmctY29tbW9uLWR1cmF0aW9uc1xuLy8gdG8gbGVhcm4gd2hlbiB1c2Ugd2hhdCB0aW1pbmdcbmV4cG9ydCBjb25zdCBkdXJhdGlvbiA9IHtcbiAgc2hvcnRlc3Q6IDE1MCxcbiAgc2hvcnRlcjogMjAwLFxuICBzaG9ydDogMjUwLFxuICAvLyBtb3N0IGJhc2ljIHJlY29tbWVuZGVkIHRpbWluZ1xuICBzdGFuZGFyZDogMzAwLFxuICAvLyB0aGlzIGlzIHRvIGJlIHVzZWQgaW4gY29tcGxleCBhbmltYXRpb25zXG4gIGNvbXBsZXg6IDM3NSxcbiAgLy8gcmVjb21tZW5kZWQgd2hlbiBzb21ldGhpbmcgaXMgZW50ZXJpbmcgc2NyZWVuXG4gIGVudGVyaW5nU2NyZWVuOiAyMjUsXG4gIC8vIHJlY29tbWVuZGVkIHdoZW4gc29tZXRoaW5nIGlzIGxlYXZpbmcgc2NyZWVuXG4gIGxlYXZpbmdTY3JlZW46IDE5NVxufTtcbmZ1bmN0aW9uIGZvcm1hdE1zKG1pbGxpc2Vjb25kcykge1xuICByZXR1cm4gYCR7TWF0aC5yb3VuZChtaWxsaXNlY29uZHMpfW1zYDtcbn1cbmZ1bmN0aW9uIGdldEF1dG9IZWlnaHREdXJhdGlvbihoZWlnaHQpIHtcbiAgaWYgKCFoZWlnaHQpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBjb25zdCBjb25zdGFudCA9IGhlaWdodCAvIDM2O1xuXG4gIC8vIGh0dHBzOi8vd3d3LmRlc21vcy5jb20vY2FsY3VsYXRvci92YnJwM2dncWV0XG4gIHJldHVybiBNYXRoLm1pbihNYXRoLnJvdW5kKCg0ICsgMTUgKiBjb25zdGFudCAqKiAwLjI1ICsgY29uc3RhbnQgLyA1KSAqIDEwKSwgMzAwMCk7XG59XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVUcmFuc2l0aW9ucyhpbnB1dFRyYW5zaXRpb25zKSB7XG4gIGNvbnN0IG1lcmdlZEVhc2luZyA9IHtcbiAgICAuLi5lYXNpbmcsXG4gICAgLi4uaW5wdXRUcmFuc2l0aW9ucy5lYXNpbmdcbiAgfTtcbiAgY29uc3QgbWVyZ2VkRHVyYXRpb24gPSB7XG4gICAgLi4uZHVyYXRpb24sXG4gICAgLi4uaW5wdXRUcmFuc2l0aW9ucy5kdXJhdGlvblxuICB9O1xuICBjb25zdCBjcmVhdGUgPSAocHJvcHMgPSBbJ2FsbCddLCBvcHRpb25zID0ge30pID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBkdXJhdGlvbjogZHVyYXRpb25PcHRpb24gPSBtZXJnZWREdXJhdGlvbi5zdGFuZGFyZCxcbiAgICAgIGVhc2luZzogZWFzaW5nT3B0aW9uID0gbWVyZ2VkRWFzaW5nLmVhc2VJbk91dCxcbiAgICAgIGRlbGF5ID0gMCxcbiAgICAgIC4uLm90aGVyXG4gICAgfSA9IG9wdGlvbnM7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGNvbnN0IGlzU3RyaW5nID0gdmFsdWUgPT4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJztcbiAgICAgIGNvbnN0IGlzTnVtYmVyID0gdmFsdWUgPT4gIU51bWJlci5pc05hTihwYXJzZUZsb2F0KHZhbHVlKSk7XG4gICAgICBpZiAoIWlzU3RyaW5nKHByb3BzKSAmJiAhQXJyYXkuaXNBcnJheShwcm9wcykpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignTVVJOiBBcmd1bWVudCBcInByb3BzXCIgbXVzdCBiZSBhIHN0cmluZyBvciBBcnJheS4nKTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNOdW1iZXIoZHVyYXRpb25PcHRpb24pICYmICFpc1N0cmluZyhkdXJhdGlvbk9wdGlvbikpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgTVVJOiBBcmd1bWVudCBcImR1cmF0aW9uXCIgbXVzdCBiZSBhIG51bWJlciBvciBhIHN0cmluZyBidXQgZm91bmQgJHtkdXJhdGlvbk9wdGlvbn0uYCk7XG4gICAgICB9XG4gICAgICBpZiAoIWlzU3RyaW5nKGVhc2luZ09wdGlvbikpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignTVVJOiBBcmd1bWVudCBcImVhc2luZ1wiIG11c3QgYmUgYSBzdHJpbmcuJyk7XG4gICAgICB9XG4gICAgICBpZiAoIWlzTnVtYmVyKGRlbGF5KSAmJiAhaXNTdHJpbmcoZGVsYXkpKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ01VSTogQXJndW1lbnQgXCJkZWxheVwiIG11c3QgYmUgYSBudW1iZXIgb3IgYSBzdHJpbmcuJyk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoWydNVUk6IFNlY29uZyBhcmd1bWVudCBvZiB0cmFuc2l0aW9uLmNyZWF0ZSBtdXN0IGJlIGFuIG9iamVjdC4nLCBcIkFyZ3VtZW50cyBzaG91bGQgYmUgZWl0aGVyIGBjcmVhdGUoJ3Byb3AxJywgb3B0aW9ucylgIG9yIGBjcmVhdGUoWydwcm9wMScsICdwcm9wMiddLCBvcHRpb25zKWBcIl0uam9pbignXFxuJykpO1xuICAgICAgfVxuICAgICAgaWYgKE9iamVjdC5rZXlzKG90aGVyKS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgTVVJOiBVbnJlY29nbml6ZWQgYXJndW1lbnQocykgWyR7T2JqZWN0LmtleXMob3RoZXIpLmpvaW4oJywnKX1dLmApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gKEFycmF5LmlzQXJyYXkocHJvcHMpID8gcHJvcHMgOiBbcHJvcHNdKS5tYXAoYW5pbWF0ZWRQcm9wID0+IGAke2FuaW1hdGVkUHJvcH0gJHt0eXBlb2YgZHVyYXRpb25PcHRpb24gPT09ICdzdHJpbmcnID8gZHVyYXRpb25PcHRpb24gOiBmb3JtYXRNcyhkdXJhdGlvbk9wdGlvbil9ICR7ZWFzaW5nT3B0aW9ufSAke3R5cGVvZiBkZWxheSA9PT0gJ3N0cmluZycgPyBkZWxheSA6IGZvcm1hdE1zKGRlbGF5KX1gKS5qb2luKCcsJyk7XG4gIH07XG4gIHJldHVybiB7XG4gICAgZ2V0QXV0b0hlaWdodER1cmF0aW9uLFxuICAgIGNyZWF0ZSxcbiAgICAuLi5pbnB1dFRyYW5zaXRpb25zLFxuICAgIGVhc2luZzogbWVyZ2VkRWFzaW5nLFxuICAgIGR1cmF0aW9uOiBtZXJnZWREdXJhdGlvblxuICB9O1xufSIsCiAgICAiLy8gV2UgbmVlZCB0byBjZW50cmFsaXplIHRoZSB6SW5kZXggZGVmaW5pdGlvbnMgYXMgdGhleSB3b3JrXG4vLyBsaWtlIGdsb2JhbCB2YWx1ZXMgaW4gdGhlIGJyb3dzZXIuXG5jb25zdCB6SW5kZXggPSB7XG4gIG1vYmlsZVN0ZXBwZXI6IDEwMDAsXG4gIGZhYjogMTA1MCxcbiAgc3BlZWREaWFsOiAxMDUwLFxuICBhcHBCYXI6IDExMDAsXG4gIGRyYXdlcjogMTIwMCxcbiAgbW9kYWw6IDEzMDAsXG4gIHNuYWNrYmFyOiAxNDAwLFxuICB0b29sdGlwOiAxNTAwXG59O1xuZXhwb3J0IGRlZmF1bHQgekluZGV4OyIsCiAgICAiLyogZXNsaW50LWRpc2FibGUgaW1wb3J0L3ByZWZlci1kZWZhdWx0LWV4cG9ydCAqL1xuaW1wb3J0IHsgaXNQbGFpbk9iamVjdCB9IGZyb20gJ0BtdWkvdXRpbHMvZGVlcG1lcmdlJztcbmZ1bmN0aW9uIGlzU2VyaWFsaXphYmxlKHZhbCkge1xuICByZXR1cm4gaXNQbGFpbk9iamVjdCh2YWwpIHx8IHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWwgPT09ICdib29sZWFuJyB8fCB0eXBlb2YgdmFsID09PSAnbnVtYmVyJyB8fCBBcnJheS5pc0FycmF5KHZhbCk7XG59XG5cbi8qKlxuICogYGJhc2VUaGVtZWAgdXN1YWxseSBjb21lcyBmcm9tIGBjcmVhdGVUaGVtZSgpYCBvciBgZXh0ZW5kVGhlbWUoKWAuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBpbnRlbmRlZCB0byBiZSB1c2VkIHdpdGggemVyby1ydW50aW1lIENTUy1pbi1KUyBsaWtlIFBpZ21lbnQgQ1NTXG4gKiBGb3IgZXhhbXBsZSwgaW4gYSBOZXh0LmpzIHByb2plY3Q6XG4gKlxuICogYGBganNcbiAqIC8vIG5leHQuY29uZmlnLmpzXG4gKiBjb25zdCB7IGV4dGVuZFRoZW1lIH0gPSByZXF1aXJlKCdAbXVpL21hdGVyaWFsL3N0eWxlcycpO1xuICpcbiAqIGNvbnN0IHRoZW1lID0gZXh0ZW5kVGhlbWUoKTtcbiAqIC8vIGAudG9SdW50aW1lU291cmNlYCBpcyBQaWdtZW50IENTUyBzcGVjaWZpYyB0byBjcmVhdGUgYSB0aGVtZSB0aGF0IGlzIGF2YWlsYWJsZSBhdCBydW50aW1lLlxuICogdGhlbWUudG9SdW50aW1lU291cmNlID0gc3RyaW5naWZ5VGhlbWU7XG4gKlxuICogbW9kdWxlLmV4cG9ydHMgPSB3aXRoUGlnbWVudCh7XG4gKiAgdGhlbWUsXG4gKiB9KTtcbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5naWZ5VGhlbWUoYmFzZVRoZW1lID0ge30pIHtcbiAgY29uc3Qgc2VyaWFsaXphYmxlVGhlbWUgPSB7XG4gICAgLi4uYmFzZVRoZW1lXG4gIH07XG4gIGZ1bmN0aW9uIHNlcmlhbGl6ZVRoZW1lKG9iamVjdCkge1xuICAgIGNvbnN0IGFycmF5ID0gT2JqZWN0LmVudHJpZXMob2JqZWN0KTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGx1c3BsdXNcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgYXJyYXkubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICBjb25zdCBba2V5LCB2YWx1ZV0gPSBhcnJheVtpbmRleF07XG4gICAgICBpZiAoIWlzU2VyaWFsaXphYmxlKHZhbHVlKSB8fCBrZXkuc3RhcnRzV2l0aCgndW5zdGFibGVfJykpIHtcbiAgICAgICAgZGVsZXRlIG9iamVjdFtrZXldO1xuICAgICAgfSBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICBvYmplY3Rba2V5XSA9IHtcbiAgICAgICAgICAuLi52YWx1ZVxuICAgICAgICB9O1xuICAgICAgICBzZXJpYWxpemVUaGVtZShvYmplY3Rba2V5XSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHNlcmlhbGl6ZVRoZW1lKHNlcmlhbGl6YWJsZVRoZW1lKTtcbiAgcmV0dXJuIGBpbXBvcnQgeyB1bnN0YWJsZV9jcmVhdGVCcmVha3BvaW50cyBhcyBjcmVhdGVCcmVha3BvaW50cywgY3JlYXRlVHJhbnNpdGlvbnMgfSBmcm9tICdAbXVpL21hdGVyaWFsL3N0eWxlcyc7XG5cbmNvbnN0IHRoZW1lID0gJHtKU09OLnN0cmluZ2lmeShzZXJpYWxpemFibGVUaGVtZSwgbnVsbCwgMil9O1xuXG50aGVtZS5icmVha3BvaW50cyA9IGNyZWF0ZUJyZWFrcG9pbnRzKHRoZW1lLmJyZWFrcG9pbnRzIHx8IHt9KTtcbnRoZW1lLnRyYW5zaXRpb25zID0gY3JlYXRlVHJhbnNpdGlvbnModGhlbWUudHJhbnNpdGlvbnMgfHwge30pO1xuXG5leHBvcnQgZGVmYXVsdCB0aGVtZTtgO1xufSIsCiAgICAiaW1wb3J0IF9mb3JtYXRFcnJvck1lc3NhZ2UgZnJvbSBcIkBtdWkvdXRpbHMvZm9ybWF0TXVpRXJyb3JNZXNzYWdlXCI7XG5pbXBvcnQgZGVlcG1lcmdlIGZyb20gJ0BtdWkvdXRpbHMvZGVlcG1lcmdlJztcbmltcG9ydCBzdHlsZUZ1bmN0aW9uU3gsIHsgdW5zdGFibGVfZGVmYXVsdFN4Q29uZmlnIGFzIGRlZmF1bHRTeENvbmZpZyB9IGZyb20gJ0BtdWkvc3lzdGVtL3N0eWxlRnVuY3Rpb25TeCc7XG5pbXBvcnQgc3lzdGVtQ3JlYXRlVGhlbWUgZnJvbSAnQG11aS9zeXN0ZW0vY3JlYXRlVGhlbWUnO1xuaW1wb3J0IHsgYWxwaGEgYXMgc3lzdGVtQWxwaGEsIGxpZ2h0ZW4gYXMgc3lzdGVtTGlnaHRlbiwgZGFya2VuIGFzIHN5c3RlbURhcmtlbiB9IGZyb20gJ0BtdWkvc3lzdGVtL2NvbG9yTWFuaXB1bGF0b3InO1xuaW1wb3J0IGdlbmVyYXRlVXRpbGl0eUNsYXNzIGZyb20gJ0BtdWkvdXRpbHMvZ2VuZXJhdGVVdGlsaXR5Q2xhc3MnO1xuaW1wb3J0IGNyZWF0ZU1peGlucyBmcm9tIFwiLi9jcmVhdGVNaXhpbnMuanNcIjtcbmltcG9ydCBjcmVhdGVQYWxldHRlIGZyb20gXCIuL2NyZWF0ZVBhbGV0dGUuanNcIjtcbmltcG9ydCBjcmVhdGVUeXBvZ3JhcGh5IGZyb20gXCIuL2NyZWF0ZVR5cG9ncmFwaHkuanNcIjtcbmltcG9ydCBzaGFkb3dzIGZyb20gXCIuL3NoYWRvd3MuanNcIjtcbmltcG9ydCBjcmVhdGVUcmFuc2l0aW9ucyBmcm9tIFwiLi9jcmVhdGVUcmFuc2l0aW9ucy5qc1wiO1xuaW1wb3J0IHpJbmRleCBmcm9tIFwiLi96SW5kZXguanNcIjtcbmltcG9ydCB7IHN0cmluZ2lmeVRoZW1lIH0gZnJvbSBcIi4vc3RyaW5naWZ5VGhlbWUuanNcIjtcbmZ1bmN0aW9uIGNvZWZmaWNpZW50VG9QZXJjZW50YWdlKGNvZWZmaWNpZW50KSB7XG4gIGlmICh0eXBlb2YgY29lZmZpY2llbnQgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIGAkeyhjb2VmZmljaWVudCAqIDEwMCkudG9GaXhlZCgwKX0lYDtcbiAgfVxuICByZXR1cm4gYGNhbGMoKCR7Y29lZmZpY2llbnR9KSAqIDEwMCUpYDtcbn1cblxuLy8gVGhpcyBjYW4gYmUgcmVtb3ZlZCB3aGVuIG1vdmVkIHRvIGBjb2xvci1taXgoKWAgZW50aXJlbHkuXG5jb25zdCBwYXJzZUFkZGl0aW9uID0gc3RyID0+IHtcbiAgaWYgKCFOdW1iZXIuaXNOYU4oK3N0cikpIHtcbiAgICByZXR1cm4gK3N0cjtcbiAgfVxuICBjb25zdCBudW1iZXJzID0gc3RyLm1hdGNoKC9cXGQqXFwuP1xcZCsvZyk7XG4gIGlmICghbnVtYmVycykge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGxldCBzdW0gPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG51bWJlcnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBzdW0gKz0gK251bWJlcnNbaV07XG4gIH1cbiAgcmV0dXJuIHN1bTtcbn07XG5mdW5jdGlvbiBhdHRhY2hDb2xvck1hbmlwdWxhdG9ycyh0aGVtZSkge1xuICBPYmplY3QuYXNzaWduKHRoZW1lLCB7XG4gICAgYWxwaGEoY29sb3IsIGNvZWZmaWNpZW50KSB7XG4gICAgICBjb25zdCBvYmogPSB0aGlzIHx8IHRoZW1lO1xuICAgICAgaWYgKG9iai5jb2xvclNwYWNlKSB7XG4gICAgICAgIHJldHVybiBgb2tsY2goZnJvbSAke2NvbG9yfSBsIGMgaCAvICR7dHlwZW9mIGNvZWZmaWNpZW50ID09PSAnc3RyaW5nJyA/IGBjYWxjKCR7Y29lZmZpY2llbnR9KWAgOiBjb2VmZmljaWVudH0pYDtcbiAgICAgIH1cbiAgICAgIGlmIChvYmoudmFycykge1xuICAgICAgICAvLyBUbyBwcmVzZXJ2ZSB0aGUgYmVoYXZpb3Igb2YgdGhlIENTUyB0aGVtZSB2YXJpYWJsZXNcbiAgICAgICAgLy8gSW4gdGhlIGZ1dHVyZSwgdGhpcyBjb3VsZCBiZSByZXBsYWNlZCBieSBgY29sb3ItbWl4YCAod2hlbiBodHRwczovL2Nhbml1c2UuY29tLz9zZWFyY2g9Y29sb3ItbWl4IHJlYWNoZXMgOTUlKS5cbiAgICAgICAgcmV0dXJuIGByZ2JhKCR7Y29sb3IucmVwbGFjZSgvdmFyXFwoLS0oW14sXFxzKV0rKSg/OixbXildKyk/XFwpKy9nLCAndmFyKC0tJDFDaGFubmVsKScpfSAvICR7dHlwZW9mIGNvZWZmaWNpZW50ID09PSAnc3RyaW5nJyA/IGBjYWxjKCR7Y29lZmZpY2llbnR9KWAgOiBjb2VmZmljaWVudH0pYDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzeXN0ZW1BbHBoYShjb2xvciwgcGFyc2VBZGRpdGlvbihjb2VmZmljaWVudCkpO1xuICAgIH0sXG4gICAgbGlnaHRlbihjb2xvciwgY29lZmZpY2llbnQpIHtcbiAgICAgIGNvbnN0IG9iaiA9IHRoaXMgfHwgdGhlbWU7XG4gICAgICBpZiAob2JqLmNvbG9yU3BhY2UpIHtcbiAgICAgICAgcmV0dXJuIGBjb2xvci1taXgoaW4gJHtvYmouY29sb3JTcGFjZX0sICR7Y29sb3J9LCAjZmZmICR7Y29lZmZpY2llbnRUb1BlcmNlbnRhZ2UoY29lZmZpY2llbnQpfSlgO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN5c3RlbUxpZ2h0ZW4oY29sb3IsIGNvZWZmaWNpZW50KTtcbiAgICB9LFxuICAgIGRhcmtlbihjb2xvciwgY29lZmZpY2llbnQpIHtcbiAgICAgIGNvbnN0IG9iaiA9IHRoaXMgfHwgdGhlbWU7XG4gICAgICBpZiAob2JqLmNvbG9yU3BhY2UpIHtcbiAgICAgICAgcmV0dXJuIGBjb2xvci1taXgoaW4gJHtvYmouY29sb3JTcGFjZX0sICR7Y29sb3J9LCAjMDAwICR7Y29lZmZpY2llbnRUb1BlcmNlbnRhZ2UoY29lZmZpY2llbnQpfSlgO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN5c3RlbURhcmtlbihjb2xvciwgY29lZmZpY2llbnQpO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVUaGVtZU5vVmFycyhvcHRpb25zID0ge30sIC4uLmFyZ3MpIHtcbiAgY29uc3Qge1xuICAgIGJyZWFrcG9pbnRzOiBicmVha3BvaW50c0lucHV0LFxuICAgIG1peGluczogbWl4aW5zSW5wdXQgPSB7fSxcbiAgICBzcGFjaW5nOiBzcGFjaW5nSW5wdXQsXG4gICAgcGFsZXR0ZTogcGFsZXR0ZUlucHV0ID0ge30sXG4gICAgdHJhbnNpdGlvbnM6IHRyYW5zaXRpb25zSW5wdXQgPSB7fSxcbiAgICB0eXBvZ3JhcGh5OiB0eXBvZ3JhcGh5SW5wdXQgPSB7fSxcbiAgICBzaGFwZTogc2hhcGVJbnB1dCxcbiAgICBjb2xvclNwYWNlLFxuICAgIC4uLm90aGVyXG4gIH0gPSBvcHRpb25zO1xuICBpZiAob3B0aW9ucy52YXJzICYmXG4gIC8vIFRoZSBlcnJvciBzaG91bGQgdGhyb3cgb25seSBmb3IgdGhlIHJvb3QgdGhlbWUgY3JlYXRpb24gYmVjYXVzZSB1c2VyIGlzIG5vdCBhbGxvd2VkIHRvIHVzZSBhIGN1c3RvbSBub2RlIGB2YXJzYC5cbiAgLy8gYGdlbmVyYXRlVGhlbWVWYXJzYCBpcyB0aGUgY2xvc2VzdCBpZGVudGlmaWVyIGZvciBjaGVja2luZyB0aGF0IHRoZSBgb3B0aW9uc2AgaXMgYSByZXN1bHQgb2YgYGNyZWF0ZVRoZW1lYCB3aXRoIENTUyB2YXJpYWJsZXMgc28gdGhhdCB1c2VyIGNhbiBjcmVhdGUgbmV3IHRoZW1lIGZvciBuZXN0ZWQgVGhlbWVQcm92aWRlci5cbiAgb3B0aW9ucy5nZW5lcmF0ZVRoZW1lVmFycyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/ICdNVUk6IGB2YXJzYCBpcyBhIHByaXZhdGUgZmllbGQgdXNlZCBmb3IgQ1NTIHZhcmlhYmxlcyBzdXBwb3J0LlxcbicgK1xuICAgIC8vICNob3N0LXJlZmVyZW5jZVxuICAgICdQbGVhc2UgdXNlIGFub3RoZXIgbmFtZSBvciBmb2xsb3cgdGhlIFtkb2NzXShodHRwczovL211aS5jb20vbWF0ZXJpYWwtdWkvY3VzdG9taXphdGlvbi9jc3MtdGhlbWUtdmFyaWFibGVzL3VzYWdlLykgdG8gZW5hYmxlIHRoZSBmZWF0dXJlLicgOiBfZm9ybWF0RXJyb3JNZXNzYWdlKDIwKSk7XG4gIH1cbiAgY29uc3QgcGFsZXR0ZSA9IGNyZWF0ZVBhbGV0dGUoe1xuICAgIC4uLnBhbGV0dGVJbnB1dCxcbiAgICBjb2xvclNwYWNlXG4gIH0pO1xuICBjb25zdCBzeXN0ZW1UaGVtZSA9IHN5c3RlbUNyZWF0ZVRoZW1lKG9wdGlvbnMpO1xuICBsZXQgbXVpVGhlbWUgPSBkZWVwbWVyZ2Uoc3lzdGVtVGhlbWUsIHtcbiAgICBtaXhpbnM6IGNyZWF0ZU1peGlucyhzeXN0ZW1UaGVtZS5icmVha3BvaW50cywgbWl4aW5zSW5wdXQpLFxuICAgIHBhbGV0dGUsXG4gICAgLy8gRG9uJ3QgdXNlIFsuLi5zaGFkb3dzXSB1bnRpbCB5b3UndmUgdmVyaWZpZWQgaXRzIHRyYW5zcGlsZWQgY29kZSBpcyBub3QgaW52b2tpbmcgdGhlIGl0ZXJhdG9yIHByb3RvY29sLlxuICAgIHNoYWRvd3M6IHNoYWRvd3Muc2xpY2UoKSxcbiAgICB0eXBvZ3JhcGh5OiBjcmVhdGVUeXBvZ3JhcGh5KHBhbGV0dGUsIHR5cG9ncmFwaHlJbnB1dCksXG4gICAgdHJhbnNpdGlvbnM6IGNyZWF0ZVRyYW5zaXRpb25zKHRyYW5zaXRpb25zSW5wdXQpLFxuICAgIHpJbmRleDoge1xuICAgICAgLi4uekluZGV4XG4gICAgfVxuICB9KTtcbiAgbXVpVGhlbWUgPSBkZWVwbWVyZ2UobXVpVGhlbWUsIG90aGVyKTtcbiAgbXVpVGhlbWUgPSBhcmdzLnJlZHVjZSgoYWNjLCBhcmd1bWVudCkgPT4gZGVlcG1lcmdlKGFjYywgYXJndW1lbnQpLCBtdWlUaGVtZSk7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgLy8gVE9ETyB2NjogUmVmYWN0b3IgdG8gdXNlIGdsb2JhbFN0YXRlQ2xhc3Nlc01hcHBpbmcgZnJvbSBAbXVpL3V0aWxzIG9uY2UgYHJlYWRPbmx5YCBzdGF0ZSBjbGFzcyBpcyB1c2VkIGluIFJhdGluZyBjb21wb25lbnQuXG4gICAgY29uc3Qgc3RhdGVDbGFzc2VzID0gWydhY3RpdmUnLCAnY2hlY2tlZCcsICdjb21wbGV0ZWQnLCAnZGlzYWJsZWQnLCAnZXJyb3InLCAnZXhwYW5kZWQnLCAnZm9jdXNlZCcsICdmb2N1c1Zpc2libGUnLCAncmVxdWlyZWQnLCAnc2VsZWN0ZWQnXTtcbiAgICBjb25zdCB0cmF2ZXJzZSA9IChub2RlLCBjb21wb25lbnQpID0+IHtcbiAgICAgIGxldCBrZXk7XG5cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBndWFyZC1mb3ItaW5cbiAgICAgIGZvciAoa2V5IGluIG5vZGUpIHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSBub2RlW2tleV07XG4gICAgICAgIGlmIChzdGF0ZUNsYXNzZXMuaW5jbHVkZXMoa2V5KSAmJiBPYmplY3Qua2V5cyhjaGlsZCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBjb25zdCBzdGF0ZUNsYXNzID0gZ2VuZXJhdGVVdGlsaXR5Q2xhc3MoJycsIGtleSk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFtgTVVJOiBUaGUgXFxgJHtjb21wb25lbnR9XFxgIGNvbXBvbmVudCBpbmNyZWFzZXMgYCArIGB0aGUgQ1NTIHNwZWNpZmljaXR5IG9mIHRoZSBcXGAke2tleX1cXGAgaW50ZXJuYWwgc3RhdGUuYCwgJ1lvdSBjYW4gbm90IG92ZXJyaWRlIGl0IGxpa2UgdGhpczogJywgSlNPTi5zdHJpbmdpZnkobm9kZSwgbnVsbCwgMiksICcnLCBgSW5zdGVhZCwgeW91IG5lZWQgdG8gdXNlIHRoZSAnJi4ke3N0YXRlQ2xhc3N9JyBzeW50YXg6YCwgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICByb290OiB7XG4gICAgICAgICAgICAgICAgW2AmLiR7c3RhdGVDbGFzc31gXTogY2hpbGRcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgbnVsbCwgMiksICcnLCAnaHR0cHM6Ly9tdWkuY29tL3Ivc3RhdGUtY2xhc3Nlcy1ndWlkZSddLmpvaW4oJ1xcbicpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gUmVtb3ZlIHRoZSBzdHlsZSB0byBwcmV2ZW50IGdsb2JhbCBjb25mbGljdHMuXG4gICAgICAgICAgbm9kZVtrZXldID0ge307XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5rZXlzKG11aVRoZW1lLmNvbXBvbmVudHMpLmZvckVhY2goY29tcG9uZW50ID0+IHtcbiAgICAgIGNvbnN0IHN0eWxlT3ZlcnJpZGVzID0gbXVpVGhlbWUuY29tcG9uZW50c1tjb21wb25lbnRdLnN0eWxlT3ZlcnJpZGVzO1xuICAgICAgaWYgKHN0eWxlT3ZlcnJpZGVzICYmIGNvbXBvbmVudC5zdGFydHNXaXRoKCdNdWknKSkge1xuICAgICAgICB0cmF2ZXJzZShzdHlsZU92ZXJyaWRlcywgY29tcG9uZW50KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBtdWlUaGVtZS51bnN0YWJsZV9zeENvbmZpZyA9IHtcbiAgICAuLi5kZWZhdWx0U3hDb25maWcsXG4gICAgLi4ub3RoZXI/LnVuc3RhYmxlX3N4Q29uZmlnXG4gIH07XG4gIG11aVRoZW1lLnVuc3RhYmxlX3N4ID0gZnVuY3Rpb24gc3gocHJvcHMpIHtcbiAgICByZXR1cm4gc3R5bGVGdW5jdGlvblN4KHtcbiAgICAgIHN4OiBwcm9wcyxcbiAgICAgIHRoZW1lOiB0aGlzXG4gICAgfSk7XG4gIH07XG4gIG11aVRoZW1lLnRvUnVudGltZVNvdXJjZSA9IHN0cmluZ2lmeVRoZW1lOyAvLyBmb3IgUGlnbWVudCBDU1MgaW50ZWdyYXRpb25cblxuICBhdHRhY2hDb2xvck1hbmlwdWxhdG9ycyhtdWlUaGVtZSk7XG4gIHJldHVybiBtdWlUaGVtZTtcbn1cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVRoZW1lTm9WYXJzOyIsCiAgICAiLy8gSW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL21hdGVyaWFsLWNvbXBvbmVudHMvbWF0ZXJpYWwtY29tcG9uZW50cy1pb3MvYmxvYi9iY2EzNjEwNzQwNTU5NGQ1YjdiMTYyNjVhNWIwZWQ2OThmODVhNWVlL2NvbXBvbmVudHMvRWxldmF0aW9uL3NyYy9VSUNvbG9yJTJCTWF0ZXJpYWxFbGV2YXRpb24ubSNMNjFcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldE92ZXJsYXlBbHBoYShlbGV2YXRpb24pIHtcbiAgbGV0IGFscGhhVmFsdWU7XG4gIGlmIChlbGV2YXRpb24gPCAxKSB7XG4gICAgYWxwaGFWYWx1ZSA9IDUuMTE5MTYgKiBlbGV2YXRpb24gKiogMjtcbiAgfSBlbHNlIHtcbiAgICBhbHBoYVZhbHVlID0gNC41ICogTWF0aC5sb2coZWxldmF0aW9uICsgMSkgKyAyO1xuICB9XG4gIHJldHVybiBNYXRoLnJvdW5kKGFscGhhVmFsdWUgKiAxMCkgLyAxMDAwO1xufSIsCiAgICAiaW1wb3J0IGNyZWF0ZVBhbGV0dGUgZnJvbSBcIi4vY3JlYXRlUGFsZXR0ZS5qc1wiO1xuaW1wb3J0IGdldE92ZXJsYXlBbHBoYSBmcm9tIFwiLi9nZXRPdmVybGF5QWxwaGEuanNcIjtcbmNvbnN0IGRlZmF1bHREYXJrT3ZlcmxheXMgPSBbLi4uQXJyYXkoMjUpXS5tYXAoKF8sIGluZGV4KSA9PiB7XG4gIGlmIChpbmRleCA9PT0gMCkge1xuICAgIHJldHVybiAnbm9uZSc7XG4gIH1cbiAgY29uc3Qgb3ZlcmxheSA9IGdldE92ZXJsYXlBbHBoYShpbmRleCk7XG4gIHJldHVybiBgbGluZWFyLWdyYWRpZW50KHJnYmEoMjU1IDI1NSAyNTUgLyAke292ZXJsYXl9KSwgcmdiYSgyNTUgMjU1IDI1NSAvICR7b3ZlcmxheX0pKWA7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRPcGFjaXR5KG1vZGUpIHtcbiAgcmV0dXJuIHtcbiAgICBpbnB1dFBsYWNlaG9sZGVyOiBtb2RlID09PSAnZGFyaycgPyAwLjUgOiAwLjQyLFxuICAgIGlucHV0VW5kZXJsaW5lOiBtb2RlID09PSAnZGFyaycgPyAwLjcgOiAwLjQyLFxuICAgIHN3aXRjaFRyYWNrRGlzYWJsZWQ6IG1vZGUgPT09ICdkYXJrJyA/IDAuMiA6IDAuMTIsXG4gICAgc3dpdGNoVHJhY2s6IG1vZGUgPT09ICdkYXJrJyA/IDAuMyA6IDAuMzhcbiAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRPdmVybGF5cyhtb2RlKSB7XG4gIHJldHVybiBtb2RlID09PSAnZGFyaycgPyBkZWZhdWx0RGFya092ZXJsYXlzIDogW107XG59XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVDb2xvclNjaGVtZShvcHRpb25zKSB7XG4gIGNvbnN0IHtcbiAgICBwYWxldHRlOiBwYWxldHRlSW5wdXQgPSB7XG4gICAgICBtb2RlOiAnbGlnaHQnXG4gICAgfSxcbiAgICAvLyBuZWVkIHRvIGNhc3QgdG8gYXZvaWQgbW9kdWxlIGF1Z21lbnRhdGlvbiB0ZXN0XG4gICAgb3BhY2l0eSxcbiAgICBvdmVybGF5cyxcbiAgICBjb2xvclNwYWNlLFxuICAgIC4uLm90aGVyXG4gIH0gPSBvcHRpb25zO1xuICAvLyBuZWVkIHRvIGNhc3QgYmVjYXVzZSBgY29sb3JTcGFjZWAgaXMgY29uc2lkZXJlZCBpbnRlcm5hbCBhdCB0aGUgbW9tZW50LlxuICBjb25zdCBwYWxldHRlID0gY3JlYXRlUGFsZXR0ZSh7XG4gICAgLi4ucGFsZXR0ZUlucHV0LFxuICAgIGNvbG9yU3BhY2VcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgcGFsZXR0ZSxcbiAgICBvcGFjaXR5OiB7XG4gICAgICAuLi5nZXRPcGFjaXR5KHBhbGV0dGUubW9kZSksXG4gICAgICAuLi5vcGFjaXR5XG4gICAgfSxcbiAgICBvdmVybGF5czogb3ZlcmxheXMgfHwgZ2V0T3ZlcmxheXMocGFsZXR0ZS5tb2RlKSxcbiAgICAuLi5vdGhlclxuICB9O1xufSIsCiAgICAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2hvdWxkU2tpcEdlbmVyYXRpbmdWYXIoa2V5cykge1xuICByZXR1cm4gISFrZXlzWzBdLm1hdGNoKC8oY3NzVmFyUHJlZml4fGNvbG9yU2NoZW1lU2VsZWN0b3J8bW9kdWxhckNzc0xheWVyc3xyb290U2VsZWN0b3J8dHlwb2dyYXBoeXxtaXhpbnN8YnJlYWtwb2ludHN8ZGlyZWN0aW9ufHRyYW5zaXRpb25zKS8pIHx8ICEha2V5c1swXS5tYXRjaCgvc3hDb25maWckLykgfHxcbiAgLy8gZW5kcyB3aXRoIHN4Q29uZmlnXG4gIGtleXNbMF0gPT09ICdwYWxldHRlJyAmJiAhIWtleXNbMV0/Lm1hdGNoKC8obW9kZXxjb250cmFzdFRocmVzaG9sZHx0b25hbE9mZnNldCkvKTtcbn0iLAogICAgIi8qKlxuICogQGludGVybmFsIFRoZXNlIHZhcmlhYmxlcyBzaG91bGQgbm90IGFwcGVhciBpbiB0aGUgOnJvb3Qgc3R5bGVzaGVldCB3aGVuIHRoZSBgZGVmYXVsdENvbG9yU2NoZW1lPVwiZGFya1wiYFxuICovXG5jb25zdCBleGNsdWRlVmFyaWFibGVzRnJvbVJvb3QgPSBjc3NWYXJQcmVmaXggPT4gWy4uLlsuLi5BcnJheSgyNSldLm1hcCgoXywgaW5kZXgpID0+IGAtLSR7Y3NzVmFyUHJlZml4ID8gYCR7Y3NzVmFyUHJlZml4fS1gIDogJyd9b3ZlcmxheXMtJHtpbmRleH1gKSwgYC0tJHtjc3NWYXJQcmVmaXggPyBgJHtjc3NWYXJQcmVmaXh9LWAgOiAnJ31wYWxldHRlLUFwcEJhci1kYXJrQmdgLCBgLS0ke2Nzc1ZhclByZWZpeCA/IGAke2Nzc1ZhclByZWZpeH0tYCA6ICcnfXBhbGV0dGUtQXBwQmFyLWRhcmtDb2xvcmBdO1xuZXhwb3J0IGRlZmF1bHQgZXhjbHVkZVZhcmlhYmxlc0Zyb21Sb290OyIsCiAgICAiaW1wb3J0IGV4Y2x1ZGVWYXJpYWJsZXNGcm9tUm9vdCBmcm9tIFwiLi9leGNsdWRlVmFyaWFibGVzRnJvbVJvb3QuanNcIjtcbmV4cG9ydCBkZWZhdWx0IHRoZW1lID0+IChjb2xvclNjaGVtZSwgY3NzKSA9PiB7XG4gIGNvbnN0IHJvb3QgPSB0aGVtZS5yb290U2VsZWN0b3IgfHwgJzpyb290JztcbiAgY29uc3Qgc2VsZWN0b3IgPSB0aGVtZS5jb2xvclNjaGVtZVNlbGVjdG9yO1xuICBsZXQgcnVsZSA9IHNlbGVjdG9yO1xuICBpZiAoc2VsZWN0b3IgPT09ICdjbGFzcycpIHtcbiAgICBydWxlID0gJy4lcyc7XG4gIH1cbiAgaWYgKHNlbGVjdG9yID09PSAnZGF0YScpIHtcbiAgICBydWxlID0gJ1tkYXRhLSVzXSc7XG4gIH1cbiAgaWYgKHNlbGVjdG9yPy5zdGFydHNXaXRoKCdkYXRhLScpICYmICFzZWxlY3Rvci5pbmNsdWRlcygnJXMnKSkge1xuICAgIC8vICdkYXRhLW11aS1jb2xvci1zY2hlbWUnIC0+ICdbZGF0YS1tdWktY29sb3Itc2NoZW1lPVwiJXNcIl0nXG4gICAgcnVsZSA9IGBbJHtzZWxlY3Rvcn09XCIlc1wiXWA7XG4gIH1cbiAgaWYgKHRoZW1lLmRlZmF1bHRDb2xvclNjaGVtZSA9PT0gY29sb3JTY2hlbWUpIHtcbiAgICBpZiAoY29sb3JTY2hlbWUgPT09ICdkYXJrJykge1xuICAgICAgY29uc3QgZXhjbHVkZWRWYXJpYWJsZXMgPSB7fTtcbiAgICAgIGV4Y2x1ZGVWYXJpYWJsZXNGcm9tUm9vdCh0aGVtZS5jc3NWYXJQcmVmaXgpLmZvckVhY2goY3NzVmFyID0+IHtcbiAgICAgICAgZXhjbHVkZWRWYXJpYWJsZXNbY3NzVmFyXSA9IGNzc1tjc3NWYXJdO1xuICAgICAgICBkZWxldGUgY3NzW2Nzc1Zhcl07XG4gICAgICB9KTtcbiAgICAgIGlmIChydWxlID09PSAnbWVkaWEnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgW3Jvb3RdOiBjc3MsXG4gICAgICAgICAgW2BAbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKWBdOiB7XG4gICAgICAgICAgICBbcm9vdF06IGV4Y2x1ZGVkVmFyaWFibGVzXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgaWYgKHJ1bGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBbcnVsZS5yZXBsYWNlKCclcycsIGNvbG9yU2NoZW1lKV06IGV4Y2x1ZGVkVmFyaWFibGVzLFxuICAgICAgICAgIFtgJHtyb290fSwgJHtydWxlLnJlcGxhY2UoJyVzJywgY29sb3JTY2hlbWUpfWBdOiBjc3NcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIFtyb290XToge1xuICAgICAgICAgIC4uLmNzcyxcbiAgICAgICAgICAuLi5leGNsdWRlZFZhcmlhYmxlc1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAocnVsZSAmJiBydWxlICE9PSAnbWVkaWEnKSB7XG4gICAgICByZXR1cm4gYCR7cm9vdH0sICR7cnVsZS5yZXBsYWNlKCclcycsIFN0cmluZyhjb2xvclNjaGVtZSkpfWA7XG4gICAgfVxuICB9IGVsc2UgaWYgKGNvbG9yU2NoZW1lKSB7XG4gICAgaWYgKHJ1bGUgPT09ICdtZWRpYScpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIFtgQG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogJHtTdHJpbmcoY29sb3JTY2hlbWUpfSlgXToge1xuICAgICAgICAgIFtyb290XTogY3NzXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChydWxlKSB7XG4gICAgICByZXR1cm4gcnVsZS5yZXBsYWNlKCclcycsIFN0cmluZyhjb2xvclNjaGVtZSkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcm9vdDtcbn07IiwKICAgICJpbXBvcnQgX2Zvcm1hdEVycm9yTWVzc2FnZSBmcm9tIFwiQG11aS91dGlscy9mb3JtYXRNdWlFcnJvck1lc3NhZ2VcIjtcbmltcG9ydCBkZWVwbWVyZ2UgZnJvbSAnQG11aS91dGlscy9kZWVwbWVyZ2UnO1xuaW1wb3J0IHsgdW5zdGFibGVfY3JlYXRlR2V0Q3NzVmFyIGFzIHN5c3RlbUNyZWF0ZUdldENzc1ZhciwgY3JlYXRlU3BhY2luZyB9IGZyb20gJ0BtdWkvc3lzdGVtJztcbmltcG9ydCB7IGNyZWF0ZVVuYXJ5U3BhY2luZyB9IGZyb20gJ0BtdWkvc3lzdGVtL3NwYWNpbmcnO1xuaW1wb3J0IHsgcHJlcGFyZUNzc1ZhcnMsIHByZXBhcmVUeXBvZ3JhcGh5VmFycywgY3JlYXRlR2V0Q29sb3JTY2hlbWVTZWxlY3RvciB9IGZyb20gJ0BtdWkvc3lzdGVtL2Nzc1ZhcnMnO1xuaW1wb3J0IHN0eWxlRnVuY3Rpb25TeCwgeyB1bnN0YWJsZV9kZWZhdWx0U3hDb25maWcgYXMgZGVmYXVsdFN4Q29uZmlnIH0gZnJvbSAnQG11aS9zeXN0ZW0vc3R5bGVGdW5jdGlvblN4JztcbmltcG9ydCB7IHByaXZhdGVfc2FmZUNvbG9yQ2hhbm5lbCBhcyBzYWZlQ29sb3JDaGFubmVsLCBwcml2YXRlX3NhZmVBbHBoYSBhcyBzYWZlQWxwaGEsIHByaXZhdGVfc2FmZURhcmtlbiBhcyBzYWZlRGFya2VuLCBwcml2YXRlX3NhZmVMaWdodGVuIGFzIHNhZmVMaWdodGVuLCBwcml2YXRlX3NhZmVFbXBoYXNpemUgYXMgc2FmZUVtcGhhc2l6ZSwgaHNsVG9SZ2IgfSBmcm9tICdAbXVpL3N5c3RlbS9jb2xvck1hbmlwdWxhdG9yJztcbmltcG9ydCBjcmVhdGVUaGVtZU5vVmFycyBmcm9tIFwiLi9jcmVhdGVUaGVtZU5vVmFycy5qc1wiO1xuaW1wb3J0IGNyZWF0ZUNvbG9yU2NoZW1lLCB7IGdldE9wYWNpdHksIGdldE92ZXJsYXlzIH0gZnJvbSBcIi4vY3JlYXRlQ29sb3JTY2hlbWUuanNcIjtcbmltcG9ydCBkZWZhdWx0U2hvdWxkU2tpcEdlbmVyYXRpbmdWYXIgZnJvbSBcIi4vc2hvdWxkU2tpcEdlbmVyYXRpbmdWYXIuanNcIjtcbmltcG9ydCBkZWZhdWx0R2V0U2VsZWN0b3IgZnJvbSBcIi4vY3JlYXRlR2V0U2VsZWN0b3IuanNcIjtcbmltcG9ydCB7IHN0cmluZ2lmeVRoZW1lIH0gZnJvbSBcIi4vc3RyaW5naWZ5VGhlbWUuanNcIjtcbmltcG9ydCB7IGxpZ2h0LCBkYXJrIH0gZnJvbSBcIi4vY3JlYXRlUGFsZXR0ZS5qc1wiO1xuZnVuY3Rpb24gYXNzaWduTm9kZShvYmosIGtleXMpIHtcbiAga2V5cy5mb3JFYWNoKGsgPT4ge1xuICAgIGlmICghb2JqW2tdKSB7XG4gICAgICBvYmpba10gPSB7fTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gc2V0Q29sb3Iob2JqLCBrZXksIGRlZmF1bHRWYWx1ZSkge1xuICBpZiAoIW9ialtrZXldICYmIGRlZmF1bHRWYWx1ZSkge1xuICAgIG9ialtrZXldID0gZGVmYXVsdFZhbHVlO1xuICB9XG59XG5mdW5jdGlvbiB0b1JnYihjb2xvcikge1xuICBpZiAodHlwZW9mIGNvbG9yICE9PSAnc3RyaW5nJyB8fCAhY29sb3Iuc3RhcnRzV2l0aCgnaHNsJykpIHtcbiAgICByZXR1cm4gY29sb3I7XG4gIH1cbiAgcmV0dXJuIGhzbFRvUmdiKGNvbG9yKTtcbn1cbmZ1bmN0aW9uIHNldENvbG9yQ2hhbm5lbChvYmosIGtleSkge1xuICBpZiAoIShgJHtrZXl9Q2hhbm5lbGAgaW4gb2JqKSkge1xuICAgIC8vIGN1c3RvbSBjaGFubmVsIHRva2VuIGlzIG5vdCBwcm92aWRlZCwgZ2VuZXJhdGUgb25lLlxuICAgIC8vIGlmIGNoYW5uZWwgdG9rZW4gY2FuJ3QgYmUgZ2VuZXJhdGVkLCBzaG93IGEgd2FybmluZy5cbiAgICBvYmpbYCR7a2V5fUNoYW5uZWxgXSA9IHNhZmVDb2xvckNoYW5uZWwodG9SZ2Iob2JqW2tleV0pLCBgTVVJOiBDYW4ndCBjcmVhdGUgXFxgcGFsZXR0ZS4ke2tleX1DaGFubmVsXFxgIGJlY2F1c2UgXFxgcGFsZXR0ZS4ke2tleX1cXGAgaXMgbm90IG9uZSBvZiB0aGVzZSBmb3JtYXRzOiAjbm5uLCAjbm5ubm5uLCByZ2IoKSwgcmdiYSgpLCBoc2woKSwgaHNsYSgpLCBjb2xvcigpLmAgKyAnXFxuJyArIGBUbyBzdXBwcmVzcyB0aGlzIHdhcm5pbmcsIHlvdSBuZWVkIHRvIGV4cGxpY2l0bHkgcHJvdmlkZSB0aGUgXFxgcGFsZXR0ZS4ke2tleX1DaGFubmVsXFxgIGFzIGEgc3RyaW5nIChpbiByZ2IgZm9ybWF0LCBmb3IgZXhhbXBsZSBcIjEyIDEyIDEyXCIpIG9yIHVuZGVmaW5lZCBpZiB5b3Ugd2FudCB0byByZW1vdmUgdGhlIGNoYW5uZWwgdG9rZW4uYCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldFNwYWNpbmdWYWwoc3BhY2luZ0lucHV0KSB7XG4gIGlmICh0eXBlb2Ygc3BhY2luZ0lucHV0ID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiBgJHtzcGFjaW5nSW5wdXR9cHhgO1xuICB9XG4gIGlmICh0eXBlb2Ygc3BhY2luZ0lucHV0ID09PSAnc3RyaW5nJyB8fCB0eXBlb2Ygc3BhY2luZ0lucHV0ID09PSAnZnVuY3Rpb24nIHx8IEFycmF5LmlzQXJyYXkoc3BhY2luZ0lucHV0KSkge1xuICAgIHJldHVybiBzcGFjaW5nSW5wdXQ7XG4gIH1cbiAgcmV0dXJuICc4cHgnO1xufVxuY29uc3Qgc2lsZW50ID0gZm4gPT4ge1xuICB0cnkge1xuICAgIHJldHVybiBmbigpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIC8vIGlnbm9yZSBlcnJvclxuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUdldENzc1ZhciA9IChjc3NWYXJQcmVmaXggPSAnbXVpJykgPT4gc3lzdGVtQ3JlYXRlR2V0Q3NzVmFyKGNzc1ZhclByZWZpeCk7XG5mdW5jdGlvbiBhdHRhY2hDb2xvclNjaGVtZShjb2xvclNwYWNlLCBjb2xvclNjaGVtZXMsIHNjaGVtZSwgcmVzdFRoZW1lLCBjb2xvclNjaGVtZSkge1xuICBpZiAoIXNjaGVtZSkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgc2NoZW1lID0gc2NoZW1lID09PSB0cnVlID8ge30gOiBzY2hlbWU7XG4gIGNvbnN0IG1vZGUgPSBjb2xvclNjaGVtZSA9PT0gJ2RhcmsnID8gJ2RhcmsnIDogJ2xpZ2h0JztcbiAgaWYgKCFyZXN0VGhlbWUpIHtcbiAgICBjb2xvclNjaGVtZXNbY29sb3JTY2hlbWVdID0gY3JlYXRlQ29sb3JTY2hlbWUoe1xuICAgICAgLi4uc2NoZW1lLFxuICAgICAgcGFsZXR0ZToge1xuICAgICAgICBtb2RlLFxuICAgICAgICAuLi5zY2hlbWU/LnBhbGV0dGVcbiAgICAgIH0sXG4gICAgICBjb2xvclNwYWNlXG4gICAgfSk7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBjb25zdCB7XG4gICAgcGFsZXR0ZSxcbiAgICAuLi5tdWlUaGVtZVxuICB9ID0gY3JlYXRlVGhlbWVOb1ZhcnMoe1xuICAgIC4uLnJlc3RUaGVtZSxcbiAgICBwYWxldHRlOiB7XG4gICAgICBtb2RlLFxuICAgICAgLi4uc2NoZW1lPy5wYWxldHRlXG4gICAgfSxcbiAgICBjb2xvclNwYWNlXG4gIH0pO1xuICBjb2xvclNjaGVtZXNbY29sb3JTY2hlbWVdID0ge1xuICAgIC4uLnNjaGVtZSxcbiAgICBwYWxldHRlLFxuICAgIG9wYWNpdHk6IHtcbiAgICAgIC4uLmdldE9wYWNpdHkobW9kZSksXG4gICAgICAuLi5zY2hlbWU/Lm9wYWNpdHlcbiAgICB9LFxuICAgIG92ZXJsYXlzOiBzY2hlbWU/Lm92ZXJsYXlzIHx8IGdldE92ZXJsYXlzKG1vZGUpXG4gIH07XG4gIHJldHVybiBtdWlUaGVtZTtcbn1cblxuLyoqXG4gKiBBIGRlZmF1bHQgYGNyZWF0ZVRoZW1lV2l0aFZhcnNgIGNvbWVzIHdpdGggYSBzaW5nbGUgY29sb3Igc2NoZW1lLCBlaXRoZXIgYGxpZ2h0YCBvciBgZGFya2AgYmFzZWQgb24gdGhlIGBkZWZhdWx0Q29sb3JTY2hlbWVgLlxuICogVGhpcyBpcyBiZXR0ZXIgc3VpdGVkIGZvciBhcHBzIHRoYXQgb25seSBuZWVkIGEgc2luZ2xlIGNvbG9yIHNjaGVtZS5cbiAqXG4gKiBUbyBlbmFibGUgYnVpbHQtaW4gYGxpZ2h0YCBhbmQgYGRhcmtgIGNvbG9yIHNjaGVtZXMsIGVpdGhlcjpcbiAqIDEuIHByb3ZpZGUgYSBgY29sb3JTY2hlbWVTZWxlY3RvcmAgdG8gZGVmaW5lIGhvdyB0aGUgY29sb3Igc2NoZW1lcyB3aWxsIGNoYW5nZS5cbiAqIDIuIHByb3ZpZGUgYGNvbG9yU2NoZW1lcy5kYXJrYCB3aWxsIHNldCBgY29sb3JTY2hlbWVTZWxlY3RvcjogJ21lZGlhJ2AgYnkgZGVmYXVsdC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlVGhlbWVXaXRoVmFycyhvcHRpb25zID0ge30sIC4uLmFyZ3MpIHtcbiAgY29uc3Qge1xuICAgIGNvbG9yU2NoZW1lczogY29sb3JTY2hlbWVzSW5wdXQgPSB7XG4gICAgICBsaWdodDogdHJ1ZVxuICAgIH0sXG4gICAgZGVmYXVsdENvbG9yU2NoZW1lOiBkZWZhdWx0Q29sb3JTY2hlbWVJbnB1dCxcbiAgICBkaXNhYmxlQ3NzQ29sb3JTY2hlbWUgPSBmYWxzZSxcbiAgICBjc3NWYXJQcmVmaXggPSAnbXVpJyxcbiAgICBuYXRpdmVDb2xvciA9IGZhbHNlLFxuICAgIHNob3VsZFNraXBHZW5lcmF0aW5nVmFyID0gZGVmYXVsdFNob3VsZFNraXBHZW5lcmF0aW5nVmFyLFxuICAgIGNvbG9yU2NoZW1lU2VsZWN0b3I6IHNlbGVjdG9yID0gY29sb3JTY2hlbWVzSW5wdXQubGlnaHQgJiYgY29sb3JTY2hlbWVzSW5wdXQuZGFyayA/ICdtZWRpYScgOiB1bmRlZmluZWQsXG4gICAgcm9vdFNlbGVjdG9yID0gJzpyb290JyxcbiAgICAuLi5pbnB1dFxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgZmlyc3RDb2xvclNjaGVtZSA9IE9iamVjdC5rZXlzKGNvbG9yU2NoZW1lc0lucHV0KVswXTtcbiAgY29uc3QgZGVmYXVsdENvbG9yU2NoZW1lID0gZGVmYXVsdENvbG9yU2NoZW1lSW5wdXQgfHwgKGNvbG9yU2NoZW1lc0lucHV0LmxpZ2h0ICYmIGZpcnN0Q29sb3JTY2hlbWUgIT09ICdsaWdodCcgPyAnbGlnaHQnIDogZmlyc3RDb2xvclNjaGVtZSk7XG4gIGNvbnN0IGdldENzc1ZhciA9IGNyZWF0ZUdldENzc1Zhcihjc3NWYXJQcmVmaXgpO1xuICBjb25zdCB7XG4gICAgW2RlZmF1bHRDb2xvclNjaGVtZV06IGRlZmF1bHRTY2hlbWVJbnB1dCxcbiAgICBsaWdodDogYnVpbHRJbkxpZ2h0LFxuICAgIGRhcms6IGJ1aWx0SW5EYXJrLFxuICAgIC4uLmN1c3RvbUNvbG9yU2NoZW1lc1xuICB9ID0gY29sb3JTY2hlbWVzSW5wdXQ7XG4gIGNvbnN0IGNvbG9yU2NoZW1lcyA9IHtcbiAgICAuLi5jdXN0b21Db2xvclNjaGVtZXNcbiAgfTtcbiAgbGV0IGRlZmF1bHRTY2hlbWUgPSBkZWZhdWx0U2NoZW1lSW5wdXQ7XG5cbiAgLy8gRm9yIGJ1aWx0LWluIGxpZ2h0IGFuZCBkYXJrIGNvbG9yIHNjaGVtZXMsIGVuc3VyZSB0aGF0IHRoZSB2YWx1ZSBpcyB2YWxpZCBpZiB0aGV5IGFyZSB0aGUgZGVmYXVsdCBjb2xvciBzY2hlbWUuXG4gIGlmIChkZWZhdWx0Q29sb3JTY2hlbWUgPT09ICdkYXJrJyAmJiAhKCdkYXJrJyBpbiBjb2xvclNjaGVtZXNJbnB1dCkgfHwgZGVmYXVsdENvbG9yU2NoZW1lID09PSAnbGlnaHQnICYmICEoJ2xpZ2h0JyBpbiBjb2xvclNjaGVtZXNJbnB1dCkpIHtcbiAgICBkZWZhdWx0U2NoZW1lID0gdHJ1ZTtcbiAgfVxuICBpZiAoIWRlZmF1bHRTY2hlbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gYE1VSTogVGhlIFxcYGNvbG9yU2NoZW1lcy4ke2RlZmF1bHRDb2xvclNjaGVtZX1cXGAgb3B0aW9uIGlzIGVpdGhlciBtaXNzaW5nIG9yIGludmFsaWQuYCA6IF9mb3JtYXRFcnJvck1lc3NhZ2UoMjEsIGRlZmF1bHRDb2xvclNjaGVtZSkpO1xuICB9XG5cbiAgLy8gVGhlIHJlYXNvbiB0byB1c2UgYG9rbGNoYCBpcyB0aGF0IGl0IGlzIHRoZSBtb3N0IHBlcmNlcHR1YWxseSB1bmlmb3JtIGNvbG9yIHNwYWNlIGFuZCB3aWRlbHkgc3VwcG9ydGVkLlxuICBsZXQgY29sb3JTcGFjZTtcbiAgaWYgKG5hdGl2ZUNvbG9yKSB7XG4gICAgY29sb3JTcGFjZSA9ICdva2xjaCc7XG4gIH1cblxuICAvLyBDcmVhdGUgdGhlIHBhbGV0dGUgZm9yIHRoZSBkZWZhdWx0IGNvbG9yIHNjaGVtZSwgZWl0aGVyIGBsaWdodGAsIGBkYXJrYCwgb3IgY3VzdG9tIGNvbG9yIHNjaGVtZS5cbiAgY29uc3QgbXVpVGhlbWUgPSBhdHRhY2hDb2xvclNjaGVtZShjb2xvclNwYWNlLCBjb2xvclNjaGVtZXMsIGRlZmF1bHRTY2hlbWUsIGlucHV0LCBkZWZhdWx0Q29sb3JTY2hlbWUpO1xuICBpZiAoYnVpbHRJbkxpZ2h0ICYmICFjb2xvclNjaGVtZXMubGlnaHQpIHtcbiAgICBhdHRhY2hDb2xvclNjaGVtZShjb2xvclNwYWNlLCBjb2xvclNjaGVtZXMsIGJ1aWx0SW5MaWdodCwgdW5kZWZpbmVkLCAnbGlnaHQnKTtcbiAgfVxuICBpZiAoYnVpbHRJbkRhcmsgJiYgIWNvbG9yU2NoZW1lcy5kYXJrKSB7XG4gICAgYXR0YWNoQ29sb3JTY2hlbWUoY29sb3JTcGFjZSwgY29sb3JTY2hlbWVzLCBidWlsdEluRGFyaywgdW5kZWZpbmVkLCAnZGFyaycpO1xuICB9XG4gIGxldCB0aGVtZSA9IHtcbiAgICBkZWZhdWx0Q29sb3JTY2hlbWUsXG4gICAgLi4ubXVpVGhlbWUsXG4gICAgY3NzVmFyUHJlZml4LFxuICAgIGNvbG9yU2NoZW1lU2VsZWN0b3I6IHNlbGVjdG9yLFxuICAgIHJvb3RTZWxlY3RvcixcbiAgICBnZXRDc3NWYXIsXG4gICAgY29sb3JTY2hlbWVzLFxuICAgIGZvbnQ6IHtcbiAgICAgIC4uLnByZXBhcmVUeXBvZ3JhcGh5VmFycyhtdWlUaGVtZS50eXBvZ3JhcGh5KSxcbiAgICAgIC4uLm11aVRoZW1lLmZvbnRcbiAgICB9LFxuICAgIHNwYWNpbmc6IGdldFNwYWNpbmdWYWwoaW5wdXQuc3BhY2luZylcbiAgfTtcbiAgT2JqZWN0LmtleXModGhlbWUuY29sb3JTY2hlbWVzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgY29uc3QgcGFsZXR0ZSA9IHRoZW1lLmNvbG9yU2NoZW1lc1trZXldLnBhbGV0dGU7XG4gICAgY29uc3Qgc2V0Q3NzVmFyQ29sb3IgPSBjc3NWYXIgPT4ge1xuICAgICAgY29uc3QgdG9rZW5zID0gY3NzVmFyLnNwbGl0KCctJyk7XG4gICAgICBjb25zdCBjb2xvciA9IHRva2Vuc1sxXTtcbiAgICAgIGNvbnN0IGNvbG9yVG9rZW4gPSB0b2tlbnNbMl07XG4gICAgICByZXR1cm4gZ2V0Q3NzVmFyKGNzc1ZhciwgcGFsZXR0ZVtjb2xvcl1bY29sb3JUb2tlbl0pO1xuICAgIH07XG5cbiAgICAvLyBhdHRhY2ggYmxhY2sgJiB3aGl0ZSBjaGFubmVscyB0byBjb21tb24gbm9kZVxuICAgIGlmIChwYWxldHRlLm1vZGUgPT09ICdsaWdodCcpIHtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuY29tbW9uLCAnYmFja2dyb3VuZCcsICcjZmZmJyk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLmNvbW1vbiwgJ29uQmFja2dyb3VuZCcsICcjMDAwJyk7XG4gICAgfVxuICAgIGlmIChwYWxldHRlLm1vZGUgPT09ICdkYXJrJykge1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5jb21tb24sICdiYWNrZ3JvdW5kJywgJyMwMDAnKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuY29tbW9uLCAnb25CYWNrZ3JvdW5kJywgJyNmZmYnKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29sb3JNaXgobWV0aG9kLCBjb2xvciwgY29lZmZpY2llbnQpIHtcbiAgICAgIGlmIChjb2xvclNwYWNlKSB7XG4gICAgICAgIGxldCBtaXhlcjtcbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gc2FmZUFscGhhKSB7XG4gICAgICAgICAgbWl4ZXIgPSBgdHJhbnNwYXJlbnQgJHsoKDEgLSBjb2VmZmljaWVudCkgKiAxMDApLnRvRml4ZWQoMCl9JWA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gc2FmZURhcmtlbikge1xuICAgICAgICAgIG1peGVyID0gYCMwMDAgJHsoY29lZmZpY2llbnQgKiAxMDApLnRvRml4ZWQoMCl9JWA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gc2FmZUxpZ2h0ZW4pIHtcbiAgICAgICAgICBtaXhlciA9IGAjZmZmICR7KGNvZWZmaWNpZW50ICogMTAwKS50b0ZpeGVkKDApfSVgO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBgY29sb3ItbWl4KGluICR7Y29sb3JTcGFjZX0sICR7Y29sb3J9LCAke21peGVyfSlgO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1ldGhvZChjb2xvciwgY29lZmZpY2llbnQpO1xuICAgIH1cblxuICAgIC8vIGFzc2lnbiBjb21wb25lbnQgdmFyaWFibGVzXG4gICAgYXNzaWduTm9kZShwYWxldHRlLCBbJ0FsZXJ0JywgJ0FwcEJhcicsICdBdmF0YXInLCAnQnV0dG9uJywgJ0NoaXAnLCAnRmlsbGVkSW5wdXQnLCAnTGluZWFyUHJvZ3Jlc3MnLCAnU2tlbGV0b24nLCAnU2xpZGVyJywgJ1NuYWNrYmFyQ29udGVudCcsICdTcGVlZERpYWxBY3Rpb24nLCAnU3RlcENvbm5lY3RvcicsICdTdGVwQ29udGVudCcsICdTd2l0Y2gnLCAnVGFibGVDZWxsJywgJ1Rvb2x0aXAnXSk7XG4gICAgaWYgKHBhbGV0dGUubW9kZSA9PT0gJ2xpZ2h0Jykge1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5BbGVydCwgJ2Vycm9yQ29sb3InLCBjb2xvck1peChzYWZlRGFya2VuLCBwYWxldHRlLmVycm9yLmxpZ2h0LCAwLjYpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuQWxlcnQsICdpbmZvQ29sb3InLCBjb2xvck1peChzYWZlRGFya2VuLCBwYWxldHRlLmluZm8ubGlnaHQsIDAuNikpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5BbGVydCwgJ3N1Y2Nlc3NDb2xvcicsIGNvbG9yTWl4KHNhZmVEYXJrZW4sIHBhbGV0dGUuc3VjY2Vzcy5saWdodCwgMC42KSk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLkFsZXJ0LCAnd2FybmluZ0NvbG9yJywgY29sb3JNaXgoc2FmZURhcmtlbiwgcGFsZXR0ZS53YXJuaW5nLmxpZ2h0LCAwLjYpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuQWxlcnQsICdlcnJvckZpbGxlZEJnJywgc2V0Q3NzVmFyQ29sb3IoJ3BhbGV0dGUtZXJyb3ItbWFpbicpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuQWxlcnQsICdpbmZvRmlsbGVkQmcnLCBzZXRDc3NWYXJDb2xvcigncGFsZXR0ZS1pbmZvLW1haW4nKSk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLkFsZXJ0LCAnc3VjY2Vzc0ZpbGxlZEJnJywgc2V0Q3NzVmFyQ29sb3IoJ3BhbGV0dGUtc3VjY2Vzcy1tYWluJykpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5BbGVydCwgJ3dhcm5pbmdGaWxsZWRCZycsIHNldENzc1ZhckNvbG9yKCdwYWxldHRlLXdhcm5pbmctbWFpbicpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuQWxlcnQsICdlcnJvckZpbGxlZENvbG9yJywgc2lsZW50KCgpID0+IHBhbGV0dGUuZ2V0Q29udHJhc3RUZXh0KHBhbGV0dGUuZXJyb3IubWFpbikpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuQWxlcnQsICdpbmZvRmlsbGVkQ29sb3InLCBzaWxlbnQoKCkgPT4gcGFsZXR0ZS5nZXRDb250cmFzdFRleHQocGFsZXR0ZS5pbmZvLm1haW4pKSk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLkFsZXJ0LCAnc3VjY2Vzc0ZpbGxlZENvbG9yJywgc2lsZW50KCgpID0+IHBhbGV0dGUuZ2V0Q29udHJhc3RUZXh0KHBhbGV0dGUuc3VjY2Vzcy5tYWluKSkpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5BbGVydCwgJ3dhcm5pbmdGaWxsZWRDb2xvcicsIHNpbGVudCgoKSA9PiBwYWxldHRlLmdldENvbnRyYXN0VGV4dChwYWxldHRlLndhcm5pbmcubWFpbikpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuQWxlcnQsICdlcnJvclN0YW5kYXJkQmcnLCBjb2xvck1peChzYWZlTGlnaHRlbiwgcGFsZXR0ZS5lcnJvci5saWdodCwgMC45KSk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLkFsZXJ0LCAnaW5mb1N0YW5kYXJkQmcnLCBjb2xvck1peChzYWZlTGlnaHRlbiwgcGFsZXR0ZS5pbmZvLmxpZ2h0LCAwLjkpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuQWxlcnQsICdzdWNjZXNzU3RhbmRhcmRCZycsIGNvbG9yTWl4KHNhZmVMaWdodGVuLCBwYWxldHRlLnN1Y2Nlc3MubGlnaHQsIDAuOSkpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5BbGVydCwgJ3dhcm5pbmdTdGFuZGFyZEJnJywgY29sb3JNaXgoc2FmZUxpZ2h0ZW4sIHBhbGV0dGUud2FybmluZy5saWdodCwgMC45KSk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLkFsZXJ0LCAnZXJyb3JJY29uQ29sb3InLCBzZXRDc3NWYXJDb2xvcigncGFsZXR0ZS1lcnJvci1tYWluJykpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5BbGVydCwgJ2luZm9JY29uQ29sb3InLCBzZXRDc3NWYXJDb2xvcigncGFsZXR0ZS1pbmZvLW1haW4nKSk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLkFsZXJ0LCAnc3VjY2Vzc0ljb25Db2xvcicsIHNldENzc1ZhckNvbG9yKCdwYWxldHRlLXN1Y2Nlc3MtbWFpbicpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuQWxlcnQsICd3YXJuaW5nSWNvbkNvbG9yJywgc2V0Q3NzVmFyQ29sb3IoJ3BhbGV0dGUtd2FybmluZy1tYWluJykpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5BcHBCYXIsICdkZWZhdWx0QmcnLCBzZXRDc3NWYXJDb2xvcigncGFsZXR0ZS1ncmV5LTEwMCcpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuQXZhdGFyLCAnZGVmYXVsdEJnJywgc2V0Q3NzVmFyQ29sb3IoJ3BhbGV0dGUtZ3JleS00MDAnKSk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLkJ1dHRvbiwgJ2luaGVyaXRDb250YWluZWRCZycsIHNldENzc1ZhckNvbG9yKCdwYWxldHRlLWdyZXktMzAwJykpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5CdXR0b24sICdpbmhlcml0Q29udGFpbmVkSG92ZXJCZycsIHNldENzc1ZhckNvbG9yKCdwYWxldHRlLWdyZXktQTEwMCcpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuQ2hpcCwgJ2RlZmF1bHRCb3JkZXInLCBzZXRDc3NWYXJDb2xvcigncGFsZXR0ZS1ncmV5LTQwMCcpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuQ2hpcCwgJ2RlZmF1bHRBdmF0YXJDb2xvcicsIHNldENzc1ZhckNvbG9yKCdwYWxldHRlLWdyZXktNzAwJykpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5DaGlwLCAnZGVmYXVsdEljb25Db2xvcicsIHNldENzc1ZhckNvbG9yKCdwYWxldHRlLWdyZXktNzAwJykpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5GaWxsZWRJbnB1dCwgJ2JnJywgJ3JnYmEoMCwgMCwgMCwgMC4wNiknKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuRmlsbGVkSW5wdXQsICdob3ZlckJnJywgJ3JnYmEoMCwgMCwgMCwgMC4wOSknKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuRmlsbGVkSW5wdXQsICdkaXNhYmxlZEJnJywgJ3JnYmEoMCwgMCwgMCwgMC4xMiknKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuTGluZWFyUHJvZ3Jlc3MsICdwcmltYXJ5QmcnLCBjb2xvck1peChzYWZlTGlnaHRlbiwgcGFsZXR0ZS5wcmltYXJ5Lm1haW4sIDAuNjIpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuTGluZWFyUHJvZ3Jlc3MsICdzZWNvbmRhcnlCZycsIGNvbG9yTWl4KHNhZmVMaWdodGVuLCBwYWxldHRlLnNlY29uZGFyeS5tYWluLCAwLjYyKSk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLkxpbmVhclByb2dyZXNzLCAnZXJyb3JCZycsIGNvbG9yTWl4KHNhZmVMaWdodGVuLCBwYWxldHRlLmVycm9yLm1haW4sIDAuNjIpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuTGluZWFyUHJvZ3Jlc3MsICdpbmZvQmcnLCBjb2xvck1peChzYWZlTGlnaHRlbiwgcGFsZXR0ZS5pbmZvLm1haW4sIDAuNjIpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuTGluZWFyUHJvZ3Jlc3MsICdzdWNjZXNzQmcnLCBjb2xvck1peChzYWZlTGlnaHRlbiwgcGFsZXR0ZS5zdWNjZXNzLm1haW4sIDAuNjIpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuTGluZWFyUHJvZ3Jlc3MsICd3YXJuaW5nQmcnLCBjb2xvck1peChzYWZlTGlnaHRlbiwgcGFsZXR0ZS53YXJuaW5nLm1haW4sIDAuNjIpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuU2tlbGV0b24sICdiZycsIGNvbG9yU3BhY2UgPyBjb2xvck1peChzYWZlQWxwaGEsIHBhbGV0dGUudGV4dC5wcmltYXJ5LCAwLjExKSA6IGByZ2JhKCR7c2V0Q3NzVmFyQ29sb3IoJ3BhbGV0dGUtdGV4dC1wcmltYXJ5Q2hhbm5lbCcpfSAvIDAuMTEpYCk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLlNsaWRlciwgJ3ByaW1hcnlUcmFjaycsIGNvbG9yTWl4KHNhZmVMaWdodGVuLCBwYWxldHRlLnByaW1hcnkubWFpbiwgMC42MikpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5TbGlkZXIsICdzZWNvbmRhcnlUcmFjaycsIGNvbG9yTWl4KHNhZmVMaWdodGVuLCBwYWxldHRlLnNlY29uZGFyeS5tYWluLCAwLjYyKSk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLlNsaWRlciwgJ2Vycm9yVHJhY2snLCBjb2xvck1peChzYWZlTGlnaHRlbiwgcGFsZXR0ZS5lcnJvci5tYWluLCAwLjYyKSk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLlNsaWRlciwgJ2luZm9UcmFjaycsIGNvbG9yTWl4KHNhZmVMaWdodGVuLCBwYWxldHRlLmluZm8ubWFpbiwgMC42MikpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5TbGlkZXIsICdzdWNjZXNzVHJhY2snLCBjb2xvck1peChzYWZlTGlnaHRlbiwgcGFsZXR0ZS5zdWNjZXNzLm1haW4sIDAuNjIpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuU2xpZGVyLCAnd2FybmluZ1RyYWNrJywgY29sb3JNaXgoc2FmZUxpZ2h0ZW4sIHBhbGV0dGUud2FybmluZy5tYWluLCAwLjYyKSk7XG4gICAgICBjb25zdCBzbmFja2JhckNvbnRlbnRCYWNrZ3JvdW5kID0gY29sb3JTcGFjZSA/IGNvbG9yTWl4KHNhZmVEYXJrZW4sIHBhbGV0dGUuYmFja2dyb3VuZC5kZWZhdWx0LCAwLjY4MjUpIC8vIHVzZSBgMC42ODI1YCBpbnN0ZWFkIG9mIGAwLjhgIHRvIG1hdGNoIHRoZSBjb250cmFzdCByYXRpbyBvZiBKUyBpbXBsZW1lbnRhdGlvblxuICAgICAgOiBzYWZlRW1waGFzaXplKHBhbGV0dGUuYmFja2dyb3VuZC5kZWZhdWx0LCAwLjgpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5TbmFja2JhckNvbnRlbnQsICdiZycsIHNuYWNrYmFyQ29udGVudEJhY2tncm91bmQpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5TbmFja2JhckNvbnRlbnQsICdjb2xvcicsIHNpbGVudCgoKSA9PiBjb2xvclNwYWNlID8gZGFyay50ZXh0LnByaW1hcnkgOiBwYWxldHRlLmdldENvbnRyYXN0VGV4dChzbmFja2JhckNvbnRlbnRCYWNrZ3JvdW5kKSkpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5TcGVlZERpYWxBY3Rpb24sICdmYWJIb3ZlckJnJywgc2FmZUVtcGhhc2l6ZShwYWxldHRlLmJhY2tncm91bmQucGFwZXIsIDAuMTUpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuU3RlcENvbm5lY3RvciwgJ2JvcmRlcicsIHNldENzc1ZhckNvbG9yKCdwYWxldHRlLWdyZXktNDAwJykpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5TdGVwQ29udGVudCwgJ2JvcmRlcicsIHNldENzc1ZhckNvbG9yKCdwYWxldHRlLWdyZXktNDAwJykpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5Td2l0Y2gsICdkZWZhdWx0Q29sb3InLCBzZXRDc3NWYXJDb2xvcigncGFsZXR0ZS1jb21tb24td2hpdGUnKSk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLlN3aXRjaCwgJ2RlZmF1bHREaXNhYmxlZENvbG9yJywgc2V0Q3NzVmFyQ29sb3IoJ3BhbGV0dGUtZ3JleS0xMDAnKSk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLlN3aXRjaCwgJ3ByaW1hcnlEaXNhYmxlZENvbG9yJywgY29sb3JNaXgoc2FmZUxpZ2h0ZW4sIHBhbGV0dGUucHJpbWFyeS5tYWluLCAwLjYyKSk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLlN3aXRjaCwgJ3NlY29uZGFyeURpc2FibGVkQ29sb3InLCBjb2xvck1peChzYWZlTGlnaHRlbiwgcGFsZXR0ZS5zZWNvbmRhcnkubWFpbiwgMC42MikpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5Td2l0Y2gsICdlcnJvckRpc2FibGVkQ29sb3InLCBjb2xvck1peChzYWZlTGlnaHRlbiwgcGFsZXR0ZS5lcnJvci5tYWluLCAwLjYyKSk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLlN3aXRjaCwgJ2luZm9EaXNhYmxlZENvbG9yJywgY29sb3JNaXgoc2FmZUxpZ2h0ZW4sIHBhbGV0dGUuaW5mby5tYWluLCAwLjYyKSk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLlN3aXRjaCwgJ3N1Y2Nlc3NEaXNhYmxlZENvbG9yJywgY29sb3JNaXgoc2FmZUxpZ2h0ZW4sIHBhbGV0dGUuc3VjY2Vzcy5tYWluLCAwLjYyKSk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLlN3aXRjaCwgJ3dhcm5pbmdEaXNhYmxlZENvbG9yJywgY29sb3JNaXgoc2FmZUxpZ2h0ZW4sIHBhbGV0dGUud2FybmluZy5tYWluLCAwLjYyKSk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLlRhYmxlQ2VsbCwgJ2JvcmRlcicsIGNvbG9yTWl4KHNhZmVMaWdodGVuLCBjb2xvck1peChzYWZlQWxwaGEsIHBhbGV0dGUuZGl2aWRlciwgMSksIDAuODgpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuVG9vbHRpcCwgJ2JnJywgY29sb3JNaXgoc2FmZUFscGhhLCBwYWxldHRlLmdyZXlbNzAwXSwgMC45MikpO1xuICAgIH1cbiAgICBpZiAocGFsZXR0ZS5tb2RlID09PSAnZGFyaycpIHtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuQWxlcnQsICdlcnJvckNvbG9yJywgY29sb3JNaXgoc2FmZUxpZ2h0ZW4sIHBhbGV0dGUuZXJyb3IubGlnaHQsIDAuNikpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5BbGVydCwgJ2luZm9Db2xvcicsIGNvbG9yTWl4KHNhZmVMaWdodGVuLCBwYWxldHRlLmluZm8ubGlnaHQsIDAuNikpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5BbGVydCwgJ3N1Y2Nlc3NDb2xvcicsIGNvbG9yTWl4KHNhZmVMaWdodGVuLCBwYWxldHRlLnN1Y2Nlc3MubGlnaHQsIDAuNikpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5BbGVydCwgJ3dhcm5pbmdDb2xvcicsIGNvbG9yTWl4KHNhZmVMaWdodGVuLCBwYWxldHRlLndhcm5pbmcubGlnaHQsIDAuNikpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5BbGVydCwgJ2Vycm9yRmlsbGVkQmcnLCBzZXRDc3NWYXJDb2xvcigncGFsZXR0ZS1lcnJvci1kYXJrJykpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5BbGVydCwgJ2luZm9GaWxsZWRCZycsIHNldENzc1ZhckNvbG9yKCdwYWxldHRlLWluZm8tZGFyaycpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuQWxlcnQsICdzdWNjZXNzRmlsbGVkQmcnLCBzZXRDc3NWYXJDb2xvcigncGFsZXR0ZS1zdWNjZXNzLWRhcmsnKSk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLkFsZXJ0LCAnd2FybmluZ0ZpbGxlZEJnJywgc2V0Q3NzVmFyQ29sb3IoJ3BhbGV0dGUtd2FybmluZy1kYXJrJykpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5BbGVydCwgJ2Vycm9yRmlsbGVkQ29sb3InLCBzaWxlbnQoKCkgPT4gcGFsZXR0ZS5nZXRDb250cmFzdFRleHQocGFsZXR0ZS5lcnJvci5kYXJrKSkpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5BbGVydCwgJ2luZm9GaWxsZWRDb2xvcicsIHNpbGVudCgoKSA9PiBwYWxldHRlLmdldENvbnRyYXN0VGV4dChwYWxldHRlLmluZm8uZGFyaykpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuQWxlcnQsICdzdWNjZXNzRmlsbGVkQ29sb3InLCBzaWxlbnQoKCkgPT4gcGFsZXR0ZS5nZXRDb250cmFzdFRleHQocGFsZXR0ZS5zdWNjZXNzLmRhcmspKSk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLkFsZXJ0LCAnd2FybmluZ0ZpbGxlZENvbG9yJywgc2lsZW50KCgpID0+IHBhbGV0dGUuZ2V0Q29udHJhc3RUZXh0KHBhbGV0dGUud2FybmluZy5kYXJrKSkpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5BbGVydCwgJ2Vycm9yU3RhbmRhcmRCZycsIGNvbG9yTWl4KHNhZmVEYXJrZW4sIHBhbGV0dGUuZXJyb3IubGlnaHQsIDAuOSkpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5BbGVydCwgJ2luZm9TdGFuZGFyZEJnJywgY29sb3JNaXgoc2FmZURhcmtlbiwgcGFsZXR0ZS5pbmZvLmxpZ2h0LCAwLjkpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuQWxlcnQsICdzdWNjZXNzU3RhbmRhcmRCZycsIGNvbG9yTWl4KHNhZmVEYXJrZW4sIHBhbGV0dGUuc3VjY2Vzcy5saWdodCwgMC45KSk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLkFsZXJ0LCAnd2FybmluZ1N0YW5kYXJkQmcnLCBjb2xvck1peChzYWZlRGFya2VuLCBwYWxldHRlLndhcm5pbmcubGlnaHQsIDAuOSkpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5BbGVydCwgJ2Vycm9ySWNvbkNvbG9yJywgc2V0Q3NzVmFyQ29sb3IoJ3BhbGV0dGUtZXJyb3ItbWFpbicpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuQWxlcnQsICdpbmZvSWNvbkNvbG9yJywgc2V0Q3NzVmFyQ29sb3IoJ3BhbGV0dGUtaW5mby1tYWluJykpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5BbGVydCwgJ3N1Y2Nlc3NJY29uQ29sb3InLCBzZXRDc3NWYXJDb2xvcigncGFsZXR0ZS1zdWNjZXNzLW1haW4nKSk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLkFsZXJ0LCAnd2FybmluZ0ljb25Db2xvcicsIHNldENzc1ZhckNvbG9yKCdwYWxldHRlLXdhcm5pbmctbWFpbicpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuQXBwQmFyLCAnZGVmYXVsdEJnJywgc2V0Q3NzVmFyQ29sb3IoJ3BhbGV0dGUtZ3JleS05MDAnKSk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLkFwcEJhciwgJ2RhcmtCZycsIHNldENzc1ZhckNvbG9yKCdwYWxldHRlLWJhY2tncm91bmQtcGFwZXInKSk7IC8vIHNwZWNpZmljIGZvciBkYXJrIG1vZGVcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuQXBwQmFyLCAnZGFya0NvbG9yJywgc2V0Q3NzVmFyQ29sb3IoJ3BhbGV0dGUtdGV4dC1wcmltYXJ5JykpOyAvLyBzcGVjaWZpYyBmb3IgZGFyayBtb2RlXG4gICAgICBzZXRDb2xvcihwYWxldHRlLkF2YXRhciwgJ2RlZmF1bHRCZycsIHNldENzc1ZhckNvbG9yKCdwYWxldHRlLWdyZXktNjAwJykpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5CdXR0b24sICdpbmhlcml0Q29udGFpbmVkQmcnLCBzZXRDc3NWYXJDb2xvcigncGFsZXR0ZS1ncmV5LTgwMCcpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuQnV0dG9uLCAnaW5oZXJpdENvbnRhaW5lZEhvdmVyQmcnLCBzZXRDc3NWYXJDb2xvcigncGFsZXR0ZS1ncmV5LTcwMCcpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuQ2hpcCwgJ2RlZmF1bHRCb3JkZXInLCBzZXRDc3NWYXJDb2xvcigncGFsZXR0ZS1ncmV5LTcwMCcpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuQ2hpcCwgJ2RlZmF1bHRBdmF0YXJDb2xvcicsIHNldENzc1ZhckNvbG9yKCdwYWxldHRlLWdyZXktMzAwJykpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5DaGlwLCAnZGVmYXVsdEljb25Db2xvcicsIHNldENzc1ZhckNvbG9yKCdwYWxldHRlLWdyZXktMzAwJykpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5GaWxsZWRJbnB1dCwgJ2JnJywgJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4wOSknKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuRmlsbGVkSW5wdXQsICdob3ZlckJnJywgJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4xMyknKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuRmlsbGVkSW5wdXQsICdkaXNhYmxlZEJnJywgJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4xMiknKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuTGluZWFyUHJvZ3Jlc3MsICdwcmltYXJ5QmcnLCBjb2xvck1peChzYWZlRGFya2VuLCBwYWxldHRlLnByaW1hcnkubWFpbiwgMC41KSk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLkxpbmVhclByb2dyZXNzLCAnc2Vjb25kYXJ5QmcnLCBjb2xvck1peChzYWZlRGFya2VuLCBwYWxldHRlLnNlY29uZGFyeS5tYWluLCAwLjUpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuTGluZWFyUHJvZ3Jlc3MsICdlcnJvckJnJywgY29sb3JNaXgoc2FmZURhcmtlbiwgcGFsZXR0ZS5lcnJvci5tYWluLCAwLjUpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuTGluZWFyUHJvZ3Jlc3MsICdpbmZvQmcnLCBjb2xvck1peChzYWZlRGFya2VuLCBwYWxldHRlLmluZm8ubWFpbiwgMC41KSk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLkxpbmVhclByb2dyZXNzLCAnc3VjY2Vzc0JnJywgY29sb3JNaXgoc2FmZURhcmtlbiwgcGFsZXR0ZS5zdWNjZXNzLm1haW4sIDAuNSkpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5MaW5lYXJQcm9ncmVzcywgJ3dhcm5pbmdCZycsIGNvbG9yTWl4KHNhZmVEYXJrZW4sIHBhbGV0dGUud2FybmluZy5tYWluLCAwLjUpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuU2tlbGV0b24sICdiZycsIGNvbG9yU3BhY2UgPyBjb2xvck1peChzYWZlQWxwaGEsIHBhbGV0dGUudGV4dC5wcmltYXJ5LCAwLjEzKSA6IGByZ2JhKCR7c2V0Q3NzVmFyQ29sb3IoJ3BhbGV0dGUtdGV4dC1wcmltYXJ5Q2hhbm5lbCcpfSAvIDAuMTMpYCk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLlNsaWRlciwgJ3ByaW1hcnlUcmFjaycsIGNvbG9yTWl4KHNhZmVEYXJrZW4sIHBhbGV0dGUucHJpbWFyeS5tYWluLCAwLjUpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuU2xpZGVyLCAnc2Vjb25kYXJ5VHJhY2snLCBjb2xvck1peChzYWZlRGFya2VuLCBwYWxldHRlLnNlY29uZGFyeS5tYWluLCAwLjUpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuU2xpZGVyLCAnZXJyb3JUcmFjaycsIGNvbG9yTWl4KHNhZmVEYXJrZW4sIHBhbGV0dGUuZXJyb3IubWFpbiwgMC41KSk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLlNsaWRlciwgJ2luZm9UcmFjaycsIGNvbG9yTWl4KHNhZmVEYXJrZW4sIHBhbGV0dGUuaW5mby5tYWluLCAwLjUpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuU2xpZGVyLCAnc3VjY2Vzc1RyYWNrJywgY29sb3JNaXgoc2FmZURhcmtlbiwgcGFsZXR0ZS5zdWNjZXNzLm1haW4sIDAuNSkpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5TbGlkZXIsICd3YXJuaW5nVHJhY2snLCBjb2xvck1peChzYWZlRGFya2VuLCBwYWxldHRlLndhcm5pbmcubWFpbiwgMC41KSk7XG4gICAgICBjb25zdCBzbmFja2JhckNvbnRlbnRCYWNrZ3JvdW5kID0gY29sb3JTcGFjZSA/IGNvbG9yTWl4KHNhZmVMaWdodGVuLCBwYWxldHRlLmJhY2tncm91bmQuZGVmYXVsdCwgMC45ODUpIC8vIHVzZSBgMC45ODVgIGluc3RlYWQgb2YgYDAuOThgIHRvIG1hdGNoIHRoZSBjb250cmFzdCByYXRpbyBvZiBKUyBpbXBsZW1lbnRhdGlvblxuICAgICAgOiBzYWZlRW1waGFzaXplKHBhbGV0dGUuYmFja2dyb3VuZC5kZWZhdWx0LCAwLjk4KTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuU25hY2tiYXJDb250ZW50LCAnYmcnLCBzbmFja2JhckNvbnRlbnRCYWNrZ3JvdW5kKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuU25hY2tiYXJDb250ZW50LCAnY29sb3InLCBzaWxlbnQoKCkgPT4gY29sb3JTcGFjZSA/IGxpZ2h0LnRleHQucHJpbWFyeSA6IHBhbGV0dGUuZ2V0Q29udHJhc3RUZXh0KHNuYWNrYmFyQ29udGVudEJhY2tncm91bmQpKSk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLlNwZWVkRGlhbEFjdGlvbiwgJ2ZhYkhvdmVyQmcnLCBzYWZlRW1waGFzaXplKHBhbGV0dGUuYmFja2dyb3VuZC5wYXBlciwgMC4xNSkpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5TdGVwQ29ubmVjdG9yLCAnYm9yZGVyJywgc2V0Q3NzVmFyQ29sb3IoJ3BhbGV0dGUtZ3JleS02MDAnKSk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLlN0ZXBDb250ZW50LCAnYm9yZGVyJywgc2V0Q3NzVmFyQ29sb3IoJ3BhbGV0dGUtZ3JleS02MDAnKSk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLlN3aXRjaCwgJ2RlZmF1bHRDb2xvcicsIHNldENzc1ZhckNvbG9yKCdwYWxldHRlLWdyZXktMzAwJykpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5Td2l0Y2gsICdkZWZhdWx0RGlzYWJsZWRDb2xvcicsIHNldENzc1ZhckNvbG9yKCdwYWxldHRlLWdyZXktNjAwJykpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5Td2l0Y2gsICdwcmltYXJ5RGlzYWJsZWRDb2xvcicsIGNvbG9yTWl4KHNhZmVEYXJrZW4sIHBhbGV0dGUucHJpbWFyeS5tYWluLCAwLjU1KSk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLlN3aXRjaCwgJ3NlY29uZGFyeURpc2FibGVkQ29sb3InLCBjb2xvck1peChzYWZlRGFya2VuLCBwYWxldHRlLnNlY29uZGFyeS5tYWluLCAwLjU1KSk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLlN3aXRjaCwgJ2Vycm9yRGlzYWJsZWRDb2xvcicsIGNvbG9yTWl4KHNhZmVEYXJrZW4sIHBhbGV0dGUuZXJyb3IubWFpbiwgMC41NSkpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5Td2l0Y2gsICdpbmZvRGlzYWJsZWRDb2xvcicsIGNvbG9yTWl4KHNhZmVEYXJrZW4sIHBhbGV0dGUuaW5mby5tYWluLCAwLjU1KSk7XG4gICAgICBzZXRDb2xvcihwYWxldHRlLlN3aXRjaCwgJ3N1Y2Nlc3NEaXNhYmxlZENvbG9yJywgY29sb3JNaXgoc2FmZURhcmtlbiwgcGFsZXR0ZS5zdWNjZXNzLm1haW4sIDAuNTUpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuU3dpdGNoLCAnd2FybmluZ0Rpc2FibGVkQ29sb3InLCBjb2xvck1peChzYWZlRGFya2VuLCBwYWxldHRlLndhcm5pbmcubWFpbiwgMC41NSkpO1xuICAgICAgc2V0Q29sb3IocGFsZXR0ZS5UYWJsZUNlbGwsICdib3JkZXInLCBjb2xvck1peChzYWZlRGFya2VuLCBjb2xvck1peChzYWZlQWxwaGEsIHBhbGV0dGUuZGl2aWRlciwgMSksIDAuNjgpKTtcbiAgICAgIHNldENvbG9yKHBhbGV0dGUuVG9vbHRpcCwgJ2JnJywgY29sb3JNaXgoc2FmZUFscGhhLCBwYWxldHRlLmdyZXlbNzAwXSwgMC45MikpO1xuICAgIH1cblxuICAgIC8vIE1VSSBYIC0gRGF0YUdyaWQgbmVlZHMgdGhpcyB0b2tlbi5cbiAgICBzZXRDb2xvckNoYW5uZWwocGFsZXR0ZS5iYWNrZ3JvdW5kLCAnZGVmYXVsdCcpO1xuXG4gICAgLy8gYWRkZWQgZm9yIGNvbnNpc3RlbmN5IHdpdGggdGhlIGBiYWNrZ3JvdW5kLmRlZmF1bHRgIHRva2VuXG4gICAgc2V0Q29sb3JDaGFubmVsKHBhbGV0dGUuYmFja2dyb3VuZCwgJ3BhcGVyJyk7XG4gICAgc2V0Q29sb3JDaGFubmVsKHBhbGV0dGUuY29tbW9uLCAnYmFja2dyb3VuZCcpO1xuICAgIHNldENvbG9yQ2hhbm5lbChwYWxldHRlLmNvbW1vbiwgJ29uQmFja2dyb3VuZCcpO1xuICAgIHNldENvbG9yQ2hhbm5lbChwYWxldHRlLCAnZGl2aWRlcicpO1xuICAgIE9iamVjdC5rZXlzKHBhbGV0dGUpLmZvckVhY2goY29sb3IgPT4ge1xuICAgICAgY29uc3QgY29sb3JzID0gcGFsZXR0ZVtjb2xvcl07XG5cbiAgICAgIC8vIFRoZSBkZWZhdWx0IHBhbGV0dGVzIChwcmltYXJ5LCBzZWNvbmRhcnksIGVycm9yLCBpbmZvLCBzdWNjZXNzLCBhbmQgd2FybmluZykgZXJyb3JzIGFyZSBoYW5kbGVkIGJ5IHRoZSBhYm92ZSBgY3JlYXRlVGhlbWUoLi4uKWAuXG5cbiAgICAgIGlmIChjb2xvciAhPT0gJ3RvbmFsT2Zmc2V0JyAmJiBjb2xvcnMgJiYgdHlwZW9mIGNvbG9ycyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gU2lsZW50IHRoZSBlcnJvciBmb3IgY3VzdG9tIHBhbGV0dGVzLlxuICAgICAgICBpZiAoY29sb3JzLm1haW4pIHtcbiAgICAgICAgICBzZXRDb2xvcihwYWxldHRlW2NvbG9yXSwgJ21haW5DaGFubmVsJywgc2FmZUNvbG9yQ2hhbm5lbCh0b1JnYihjb2xvcnMubWFpbikpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29sb3JzLmxpZ2h0KSB7XG4gICAgICAgICAgc2V0Q29sb3IocGFsZXR0ZVtjb2xvcl0sICdsaWdodENoYW5uZWwnLCBzYWZlQ29sb3JDaGFubmVsKHRvUmdiKGNvbG9ycy5saWdodCkpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29sb3JzLmRhcmspIHtcbiAgICAgICAgICBzZXRDb2xvcihwYWxldHRlW2NvbG9yXSwgJ2RhcmtDaGFubmVsJywgc2FmZUNvbG9yQ2hhbm5lbCh0b1JnYihjb2xvcnMuZGFyaykpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29sb3JzLmNvbnRyYXN0VGV4dCkge1xuICAgICAgICAgIHNldENvbG9yKHBhbGV0dGVbY29sb3JdLCAnY29udHJhc3RUZXh0Q2hhbm5lbCcsIHNhZmVDb2xvckNoYW5uZWwodG9SZ2IoY29sb3JzLmNvbnRyYXN0VGV4dCkpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29sb3IgPT09ICd0ZXh0Jykge1xuICAgICAgICAgIC8vIFRleHQgY29sb3JzOiB0ZXh0LnByaW1hcnksIHRleHQuc2Vjb25kYXJ5XG4gICAgICAgICAgc2V0Q29sb3JDaGFubmVsKHBhbGV0dGVbY29sb3JdLCAncHJpbWFyeScpO1xuICAgICAgICAgIHNldENvbG9yQ2hhbm5lbChwYWxldHRlW2NvbG9yXSwgJ3NlY29uZGFyeScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb2xvciA9PT0gJ2FjdGlvbicpIHtcbiAgICAgICAgICAvLyBBY3Rpb24gY29sb3JzOiBhY3Rpb24uYWN0aXZlLCBhY3Rpb24uc2VsZWN0ZWRcbiAgICAgICAgICBpZiAoY29sb3JzLmFjdGl2ZSkge1xuICAgICAgICAgICAgc2V0Q29sb3JDaGFubmVsKHBhbGV0dGVbY29sb3JdLCAnYWN0aXZlJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjb2xvcnMuc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIHNldENvbG9yQ2hhbm5lbChwYWxldHRlW2NvbG9yXSwgJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICB0aGVtZSA9IGFyZ3MucmVkdWNlKChhY2MsIGFyZ3VtZW50KSA9PiBkZWVwbWVyZ2UoYWNjLCBhcmd1bWVudCksIHRoZW1lKTtcbiAgY29uc3QgcGFyc2VyQ29uZmlnID0ge1xuICAgIHByZWZpeDogY3NzVmFyUHJlZml4LFxuICAgIGRpc2FibGVDc3NDb2xvclNjaGVtZSxcbiAgICBzaG91bGRTa2lwR2VuZXJhdGluZ1ZhcixcbiAgICBnZXRTZWxlY3RvcjogZGVmYXVsdEdldFNlbGVjdG9yKHRoZW1lKSxcbiAgICBlbmFibGVDb250cmFzdFZhcnM6IG5hdGl2ZUNvbG9yXG4gIH07XG4gIGNvbnN0IHtcbiAgICB2YXJzLFxuICAgIGdlbmVyYXRlVGhlbWVWYXJzLFxuICAgIGdlbmVyYXRlU3R5bGVTaGVldHNcbiAgfSA9IHByZXBhcmVDc3NWYXJzKHRoZW1lLCBwYXJzZXJDb25maWcpO1xuICB0aGVtZS52YXJzID0gdmFycztcbiAgT2JqZWN0LmVudHJpZXModGhlbWUuY29sb3JTY2hlbWVzW3RoZW1lLmRlZmF1bHRDb2xvclNjaGVtZV0pLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgIHRoZW1lW2tleV0gPSB2YWx1ZTtcbiAgfSk7XG4gIHRoZW1lLmdlbmVyYXRlVGhlbWVWYXJzID0gZ2VuZXJhdGVUaGVtZVZhcnM7XG4gIHRoZW1lLmdlbmVyYXRlU3R5bGVTaGVldHMgPSBnZW5lcmF0ZVN0eWxlU2hlZXRzO1xuICB0aGVtZS5nZW5lcmF0ZVNwYWNpbmcgPSBmdW5jdGlvbiBnZW5lcmF0ZVNwYWNpbmcoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVNwYWNpbmcoaW5wdXQuc3BhY2luZywgY3JlYXRlVW5hcnlTcGFjaW5nKHRoaXMpKTtcbiAgfTtcbiAgdGhlbWUuZ2V0Q29sb3JTY2hlbWVTZWxlY3RvciA9IGNyZWF0ZUdldENvbG9yU2NoZW1lU2VsZWN0b3Ioc2VsZWN0b3IpO1xuICB0aGVtZS5zcGFjaW5nID0gdGhlbWUuZ2VuZXJhdGVTcGFjaW5nKCk7XG4gIHRoZW1lLnNob3VsZFNraXBHZW5lcmF0aW5nVmFyID0gc2hvdWxkU2tpcEdlbmVyYXRpbmdWYXI7XG4gIHRoZW1lLnVuc3RhYmxlX3N4Q29uZmlnID0ge1xuICAgIC4uLmRlZmF1bHRTeENvbmZpZyxcbiAgICAuLi5pbnB1dD8udW5zdGFibGVfc3hDb25maWdcbiAgfTtcbiAgdGhlbWUudW5zdGFibGVfc3ggPSBmdW5jdGlvbiBzeChwcm9wcykge1xuICAgIHJldHVybiBzdHlsZUZ1bmN0aW9uU3goe1xuICAgICAgc3g6IHByb3BzLFxuICAgICAgdGhlbWU6IHRoaXNcbiAgICB9KTtcbiAgfTtcbiAgdGhlbWUudG9SdW50aW1lU291cmNlID0gc3RyaW5naWZ5VGhlbWU7IC8vIGZvciBQaWdtZW50IENTUyBpbnRlZ3JhdGlvblxuXG4gIHJldHVybiB0aGVtZTtcbn0iLAogICAgImltcG9ydCBjcmVhdGVQYWxldHRlIGZyb20gXCIuL2NyZWF0ZVBhbGV0dGUuanNcIjtcbmltcG9ydCBjcmVhdGVUaGVtZVdpdGhWYXJzIGZyb20gXCIuL2NyZWF0ZVRoZW1lV2l0aFZhcnMuanNcIjtcbmltcG9ydCBjcmVhdGVUaGVtZU5vVmFycyBmcm9tIFwiLi9jcmVhdGVUaGVtZU5vVmFycy5qc1wiO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG5mdW5jdGlvbiBhdHRhY2hDb2xvclNjaGVtZSh0aGVtZSwgc2NoZW1lLCBjb2xvclNjaGVtZSkge1xuICBpZiAoIXRoZW1lLmNvbG9yU2NoZW1lcykge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgaWYgKGNvbG9yU2NoZW1lKSB7XG4gICAgdGhlbWUuY29sb3JTY2hlbWVzW3NjaGVtZV0gPSB7XG4gICAgICAuLi4oY29sb3JTY2hlbWUgIT09IHRydWUgJiYgY29sb3JTY2hlbWUpLFxuICAgICAgcGFsZXR0ZTogY3JlYXRlUGFsZXR0ZSh7XG4gICAgICAgIC4uLihjb2xvclNjaGVtZSA9PT0gdHJ1ZSA/IHt9IDogY29sb3JTY2hlbWUucGFsZXR0ZSksXG4gICAgICAgIG1vZGU6IHNjaGVtZVxuICAgICAgfSkgLy8gY2FzdCB0eXBlIHRvIHNraXAgbW9kdWxlIGF1Z21lbnRhdGlvbiB0ZXN0XG4gICAgfTtcbiAgfVxufVxuXG4vKipcbiAqIEdlbmVyYXRlIGEgdGhlbWUgYmFzZSBvbiB0aGUgb3B0aW9ucyByZWNlaXZlZC5cbiAqIEBwYXJhbSBvcHRpb25zIFRha2VzIGFuIGluY29tcGxldGUgdGhlbWUgb2JqZWN0IGFuZCBhZGRzIHRoZSBtaXNzaW5nIHBhcnRzLlxuICogQHBhcmFtIGFyZ3MgRGVlcCBtZXJnZSB0aGUgYXJndW1lbnRzIHdpdGggdGhlIGFib3V0IHRvIGJlIHJldHVybmVkIHRoZW1lLlxuICogQHJldHVybnMgQSBjb21wbGV0ZSwgcmVhZHktdG8tdXNlIHRoZW1lIG9iamVjdC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlVGhlbWUob3B0aW9ucyA9IHt9LFxuLy8gY2FzdCB0eXBlIHRvIHNraXAgbW9kdWxlIGF1Z21lbnRhdGlvbiB0ZXN0XG4uLi5hcmdzKSB7XG4gIGNvbnN0IHtcbiAgICBwYWxldHRlLFxuICAgIGNzc1ZhcmlhYmxlcyA9IGZhbHNlLFxuICAgIGNvbG9yU2NoZW1lczogaW5pdGlhbENvbG9yU2NoZW1lcyA9ICFwYWxldHRlID8ge1xuICAgICAgbGlnaHQ6IHRydWVcbiAgICB9IDogdW5kZWZpbmVkLFxuICAgIGRlZmF1bHRDb2xvclNjaGVtZTogaW5pdGlhbERlZmF1bHRDb2xvclNjaGVtZSA9IHBhbGV0dGU/Lm1vZGUsXG4gICAgLi4ub3RoZXJcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGRlZmF1bHRDb2xvclNjaGVtZUlucHV0ID0gaW5pdGlhbERlZmF1bHRDb2xvclNjaGVtZSB8fCAnbGlnaHQnO1xuICBjb25zdCBkZWZhdWx0U2NoZW1lID0gaW5pdGlhbENvbG9yU2NoZW1lcz8uW2RlZmF1bHRDb2xvclNjaGVtZUlucHV0XTtcbiAgY29uc3QgY29sb3JTY2hlbWVzSW5wdXQgPSB7XG4gICAgLi4uaW5pdGlhbENvbG9yU2NoZW1lcyxcbiAgICAuLi4ocGFsZXR0ZSA/IHtcbiAgICAgIFtkZWZhdWx0Q29sb3JTY2hlbWVJbnB1dF06IHtcbiAgICAgICAgLi4uKHR5cGVvZiBkZWZhdWx0U2NoZW1lICE9PSAnYm9vbGVhbicgJiYgZGVmYXVsdFNjaGVtZSksXG4gICAgICAgIHBhbGV0dGVcbiAgICAgIH1cbiAgICB9IDogdW5kZWZpbmVkKVxuICB9O1xuICBpZiAoY3NzVmFyaWFibGVzID09PSBmYWxzZSkge1xuICAgIGlmICghKCdjb2xvclNjaGVtZXMnIGluIG9wdGlvbnMpKSB7XG4gICAgICAvLyBCZWhhdmVzIGV4YWN0bHkgYXMgdjVcbiAgICAgIHJldHVybiBjcmVhdGVUaGVtZU5vVmFycyhvcHRpb25zLCAuLi5hcmdzKTtcbiAgICB9XG4gICAgbGV0IHBhbGV0dGVPcHRpb25zID0gcGFsZXR0ZTtcbiAgICBpZiAoISgncGFsZXR0ZScgaW4gb3B0aW9ucykpIHtcbiAgICAgIGlmIChjb2xvclNjaGVtZXNJbnB1dFtkZWZhdWx0Q29sb3JTY2hlbWVJbnB1dF0pIHtcbiAgICAgICAgaWYgKGNvbG9yU2NoZW1lc0lucHV0W2RlZmF1bHRDb2xvclNjaGVtZUlucHV0XSAhPT0gdHJ1ZSkge1xuICAgICAgICAgIHBhbGV0dGVPcHRpb25zID0gY29sb3JTY2hlbWVzSW5wdXRbZGVmYXVsdENvbG9yU2NoZW1lSW5wdXRdLnBhbGV0dGU7XG4gICAgICAgIH0gZWxzZSBpZiAoZGVmYXVsdENvbG9yU2NoZW1lSW5wdXQgPT09ICdkYXJrJykge1xuICAgICAgICAgIC8vIEB0cy1pZ25vcmUgdG8gcHJldmVudCB0aGUgbW9kdWxlIGF1Z21lbnRhdGlvbiB0ZXN0IGZyb20gZmFpbGluZ1xuICAgICAgICAgIHBhbGV0dGVPcHRpb25zID0ge1xuICAgICAgICAgICAgbW9kZTogJ2RhcmsnXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB0aGVtZSA9IGNyZWF0ZVRoZW1lTm9WYXJzKHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBwYWxldHRlOiBwYWxldHRlT3B0aW9uc1xuICAgIH0sIC4uLmFyZ3MpO1xuICAgIHRoZW1lLmRlZmF1bHRDb2xvclNjaGVtZSA9IGRlZmF1bHRDb2xvclNjaGVtZUlucHV0O1xuICAgIHRoZW1lLmNvbG9yU2NoZW1lcyA9IGNvbG9yU2NoZW1lc0lucHV0O1xuICAgIGlmICh0aGVtZS5wYWxldHRlLm1vZGUgPT09ICdsaWdodCcpIHtcbiAgICAgIHRoZW1lLmNvbG9yU2NoZW1lcy5saWdodCA9IHtcbiAgICAgICAgLi4uKGNvbG9yU2NoZW1lc0lucHV0LmxpZ2h0ICE9PSB0cnVlICYmIGNvbG9yU2NoZW1lc0lucHV0LmxpZ2h0KSxcbiAgICAgICAgcGFsZXR0ZTogdGhlbWUucGFsZXR0ZVxuICAgICAgfTtcbiAgICAgIGF0dGFjaENvbG9yU2NoZW1lKHRoZW1lLCAnZGFyaycsIGNvbG9yU2NoZW1lc0lucHV0LmRhcmspO1xuICAgIH1cbiAgICBpZiAodGhlbWUucGFsZXR0ZS5tb2RlID09PSAnZGFyaycpIHtcbiAgICAgIHRoZW1lLmNvbG9yU2NoZW1lcy5kYXJrID0ge1xuICAgICAgICAuLi4oY29sb3JTY2hlbWVzSW5wdXQuZGFyayAhPT0gdHJ1ZSAmJiBjb2xvclNjaGVtZXNJbnB1dC5kYXJrKSxcbiAgICAgICAgcGFsZXR0ZTogdGhlbWUucGFsZXR0ZVxuICAgICAgfTtcbiAgICAgIGF0dGFjaENvbG9yU2NoZW1lKHRoZW1lLCAnbGlnaHQnLCBjb2xvclNjaGVtZXNJbnB1dC5saWdodCk7XG4gICAgfVxuICAgIHJldHVybiB0aGVtZTtcbiAgfVxuICBpZiAoIXBhbGV0dGUgJiYgISgnbGlnaHQnIGluIGNvbG9yU2NoZW1lc0lucHV0KSAmJiBkZWZhdWx0Q29sb3JTY2hlbWVJbnB1dCA9PT0gJ2xpZ2h0Jykge1xuICAgIGNvbG9yU2NoZW1lc0lucHV0LmxpZ2h0ID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gY3JlYXRlVGhlbWVXaXRoVmFycyh7XG4gICAgLi4ub3RoZXIsXG4gICAgY29sb3JTY2hlbWVzOiBjb2xvclNjaGVtZXNJbnB1dCxcbiAgICBkZWZhdWx0Q29sb3JTY2hlbWU6IGRlZmF1bHRDb2xvclNjaGVtZUlucHV0LFxuICAgIC4uLih0eXBlb2YgY3NzVmFyaWFibGVzICE9PSAnYm9vbGVhbicgJiYgY3NzVmFyaWFibGVzKVxuICB9LCAuLi5hcmdzKTtcbn0iLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0IGNyZWF0ZVRoZW1lIGZyb20gXCIuL2NyZWF0ZVRoZW1lLmpzXCI7XG5jb25zdCBkZWZhdWx0VGhlbWUgPSBjcmVhdGVUaGVtZSgpO1xuZXhwb3J0IGRlZmF1bHQgZGVmYXVsdFRoZW1lOyIsCiAgICAiZXhwb3J0IGRlZmF1bHQgJyQkbWF0ZXJpYWwnOyIsCiAgICAiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgR2xvYmFsU3R5bGVzIGFzIFN5c3RlbUdsb2JhbFN0eWxlcyB9IGZyb20gJ0BtdWkvc3lzdGVtJztcbmltcG9ydCBkZWZhdWx0VGhlbWUgZnJvbSBcIi4uL3N0eWxlcy9kZWZhdWx0VGhlbWUuanNcIjtcbmltcG9ydCBUSEVNRV9JRCBmcm9tIFwiLi4vc3R5bGVzL2lkZW50aWZpZXIuanNcIjtcbmltcG9ydCB7IGpzeCBhcyBfanN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBHbG9iYWxTdHlsZXMocHJvcHMpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KFN5c3RlbUdsb2JhbFN0eWxlcywge1xuICAgIC4uLnByb3BzLFxuICAgIGRlZmF1bHRUaGVtZTogZGVmYXVsdFRoZW1lLFxuICAgIHRoZW1lSWQ6IFRIRU1FX0lEXG4gIH0pO1xufVxucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gR2xvYmFsU3R5bGVzLnByb3BUeXBlcyAvKiByZW1vdmUtcHJvcHR5cGVzICovID0ge1xuICAvLyDilIzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgV2FybmluZyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJBcbiAgLy8g4pSCIFRoZXNlIFByb3BUeXBlcyBhcmUgZ2VuZXJhdGVkIGZyb20gdGhlIFR5cGVTY3JpcHQgdHlwZSBkZWZpbml0aW9ucy4g4pSCXG4gIC8vIOKUgiAgICBUbyB1cGRhdGUgdGhlbSwgZWRpdCB0aGUgZC50cyBmaWxlIGFuZCBydW4gYHBucG0gcHJvcHR5cGVzYC4gICAgIOKUglxuICAvLyDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJhcbiAgLyoqXG4gICAqIFRoZSBzdHlsZXMgeW91IHdhbnQgdG8gYXBwbHkgZ2xvYmFsbHkuXG4gICAqL1xuICBzdHlsZXM6IFByb3BUeXBlcyAvKiBAdHlwZXNjcmlwdC10by1wcm9wdHlwZXMtaWdub3JlICovLm9uZU9mVHlwZShbUHJvcFR5cGVzLmFycmF5LCBQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLm9iamVjdCwgUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmJvb2xdKVxufSA6IHZvaWQgMDtcbmV4cG9ydCBkZWZhdWx0IEdsb2JhbFN0eWxlczsiLAogICAgImltcG9ydCB7IGV4dGVuZFN4UHJvcCB9IGZyb20gJ0BtdWkvc3lzdGVtL3N0eWxlRnVuY3Rpb25TeCc7XG5pbXBvcnQgdXNlVGhlbWUgZnJvbSBcIi4uL3N0eWxlcy91c2VUaGVtZS5qc1wiO1xuaW1wb3J0IEdsb2JhbFN0eWxlcyBmcm9tIFwiLi4vR2xvYmFsU3R5bGVzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZXhwb3J0IHsgY3NzLCBrZXlmcmFtZXMgfSBmcm9tICdAbXVpL3N5c3RlbSc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHN0eWxlZCB9IGZyb20gXCIuLi9zdHlsZXMvc3R5bGVkLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gZ2xvYmFsQ3NzKHN0eWxlcykge1xuICByZXR1cm4gZnVuY3Rpb24gR2xvYmFsU3R5bGVzV3JhcHBlcihwcm9wcykge1xuICAgIHJldHVybiAoXG4gICAgICAvKiNfX1BVUkVfXyovXG4gICAgICAvLyBQaWdtZW50IENTUyBgZ2xvYmFsQ3NzYCBzdXBwb3J0IGNhbGxiYWNrIHdpdGggdGhlbWUgaW5zaWRlIGFuIG9iamVjdCBidXQgYEdsb2JhbFN0eWxlc2Agc3VwcG9ydCB0aGVtZSBhcyBhIGNhbGxiYWNrIHZhbHVlLlxuICAgICAgX2pzeChHbG9iYWxTdHlsZXMsIHtcbiAgICAgICAgc3R5bGVzOiB0eXBlb2Ygc3R5bGVzID09PSAnZnVuY3Rpb24nID8gdGhlbWUgPT4gc3R5bGVzKHtcbiAgICAgICAgICB0aGVtZSxcbiAgICAgICAgICAuLi5wcm9wc1xuICAgICAgICB9KSA6IHN0eWxlc1xuICAgICAgfSlcbiAgICApO1xuICB9O1xufVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25hbWluZy1jb252ZW50aW9uXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJuYWxfY3JlYXRlRXh0ZW5kU3hQcm9wKCkge1xuICByZXR1cm4gZXh0ZW5kU3hQcm9wO1xufVxuZXhwb3J0IHsgdXNlVGhlbWUgfTsiLAogICAgIi8vIGNvcGllZCBmcm9tIEBtdWkvc3lzdGVtL2NyZWF0ZVN0eWxlZFxuZnVuY3Rpb24gc2xvdFNob3VsZEZvcndhcmRQcm9wKHByb3ApIHtcbiAgcmV0dXJuIHByb3AgIT09ICdvd25lclN0YXRlJyAmJiBwcm9wICE9PSAndGhlbWUnICYmIHByb3AgIT09ICdzeCcgJiYgcHJvcCAhPT0gJ2FzJztcbn1cbmV4cG9ydCBkZWZhdWx0IHNsb3RTaG91bGRGb3J3YXJkUHJvcDsiLAogICAgImltcG9ydCBzbG90U2hvdWxkRm9yd2FyZFByb3AgZnJvbSBcIi4vc2xvdFNob3VsZEZvcndhcmRQcm9wLmpzXCI7XG5jb25zdCByb290U2hvdWxkRm9yd2FyZFByb3AgPSBwcm9wID0+IHNsb3RTaG91bGRGb3J3YXJkUHJvcChwcm9wKSAmJiBwcm9wICE9PSAnY2xhc3Nlcyc7XG5leHBvcnQgZGVmYXVsdCByb290U2hvdWxkRm9yd2FyZFByb3A7IiwKICAgICIndXNlIGNsaWVudCc7XG5cbmltcG9ydCBjcmVhdGVTdHlsZWQgZnJvbSAnQG11aS9zeXN0ZW0vY3JlYXRlU3R5bGVkJztcbmltcG9ydCBkZWZhdWx0VGhlbWUgZnJvbSBcIi4vZGVmYXVsdFRoZW1lLmpzXCI7XG5pbXBvcnQgVEhFTUVfSUQgZnJvbSBcIi4vaWRlbnRpZmllci5qc1wiO1xuaW1wb3J0IHJvb3RTaG91bGRGb3J3YXJkUHJvcCBmcm9tIFwiLi9yb290U2hvdWxkRm9yd2FyZFByb3AuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgc2xvdFNob3VsZEZvcndhcmRQcm9wIH0gZnJvbSBcIi4vc2xvdFNob3VsZEZvcndhcmRQcm9wLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHJvb3RTaG91bGRGb3J3YXJkUHJvcCB9IGZyb20gXCIuL3Jvb3RTaG91bGRGb3J3YXJkUHJvcC5qc1wiO1xuY29uc3Qgc3R5bGVkID0gY3JlYXRlU3R5bGVkKHtcbiAgdGhlbWVJZDogVEhFTUVfSUQsXG4gIGRlZmF1bHRUaGVtZSxcbiAgcm9vdFNob3VsZEZvcndhcmRQcm9wXG59KTtcbmV4cG9ydCBkZWZhdWx0IHN0eWxlZDsiLAogICAgImltcG9ydCB7IHVuc3RhYmxlX21lbW9UaGVtZSB9IGZyb20gJ0BtdWkvc3lzdGVtJztcbmNvbnN0IG1lbW9UaGVtZSA9IHVuc3RhYmxlX21lbW9UaGVtZTtcbmV4cG9ydCBkZWZhdWx0IG1lbW9UaGVtZTsiLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBTeXN0ZW1EZWZhdWx0UHJvcHNQcm92aWRlciwgeyB1c2VEZWZhdWx0UHJvcHMgYXMgdXNlU3lzdGVtRGVmYXVsdFByb3BzIH0gZnJvbSAnQG11aS9zeXN0ZW0vRGVmYXVsdFByb3BzUHJvdmlkZXInO1xuaW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIERlZmF1bHRQcm9wc1Byb3ZpZGVyKHByb3BzKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeChTeXN0ZW1EZWZhdWx0UHJvcHNQcm92aWRlciwge1xuICAgIC4uLnByb3BzXG4gIH0pO1xufVxucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gRGVmYXVsdFByb3BzUHJvdmlkZXIucHJvcFR5cGVzIC8qIHJlbW92ZS1wcm9wdHlwZXMgKi8gPSB7XG4gIC8vIOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBXYXJuaW5nIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuICAvLyDilIIgVGhlc2UgUHJvcFR5cGVzIGFyZSBnZW5lcmF0ZWQgZnJvbSB0aGUgVHlwZVNjcmlwdCB0eXBlIGRlZmluaXRpb25zLiDilIJcbiAgLy8g4pSCIFRvIHVwZGF0ZSB0aGVtLCBlZGl0IHRoZSBUeXBlU2NyaXB0IHR5cGVzIGFuZCBydW4gYHBucG0gcHJvcHR5cGVzYC4g4pSCXG4gIC8vIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgdmFsdWU6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZFxufSA6IHZvaWQgMDtcbmV4cG9ydCBkZWZhdWx0IERlZmF1bHRQcm9wc1Byb3ZpZGVyO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZURlZmF1bHRQcm9wcyhwYXJhbXMpIHtcbiAgcmV0dXJuIHVzZVN5c3RlbURlZmF1bHRQcm9wcyhwYXJhbXMpO1xufSIsCiAgICAiaW1wb3J0IGNhcGl0YWxpemUgZnJvbSAnQG11aS91dGlscy9jYXBpdGFsaXplJztcbmV4cG9ydCBkZWZhdWx0IGNhcGl0YWxpemU7IiwKICAgICIvKipcbiAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIG9iamVjdCBoYXMgYSBcIm1haW5cIiBwcm9wZXJ0eSBvZiB0eXBlIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0gb2JqIC0gdGhlIG9iamVjdCB0byBjaGVja1xuICogQHJldHVybnMgYm9vbGVhblxuICovXG5mdW5jdGlvbiBoYXNDb3JyZWN0TWFpblByb3BlcnR5KG9iaikge1xuICByZXR1cm4gdHlwZW9mIG9iai5tYWluID09PSAnc3RyaW5nJztcbn1cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBvYmplY3QgY29uZm9ybXMgdG8gdGhlIFNpbXBsZVBhbGV0dGVDb2xvck9wdGlvbnMgdHlwZS5cbiAqIFRoZSBtaW5pbXVtIHJlcXVpcmVtZW50IGlzIHRoYXQgdGhlIG9iamVjdCBoYXMgYSBcIm1haW5cIiBwcm9wZXJ0eSBvZiB0eXBlIHN0cmluZywgdGhpcyBpcyBhbHdheXMgY2hlY2tlZC5cbiAqIE9wdGlvbmFsbHksIHlvdSBjYW4gcGFzcyBhZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gY2hlY2suXG4gKlxuICogQHBhcmFtIG9iaiAtIFRoZSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSBhZGRpdGlvbmFsUHJvcGVydGllc1RvQ2hlY2sgLSBBcnJheSBjb250YWluaW5nIFwibGlnaHRcIiwgXCJkYXJrXCIsIGFuZC9vciBcImNvbnRyYXN0VGV4dFwiXG4gKiBAcmV0dXJucyBib29sZWFuXG4gKi9cbmZ1bmN0aW9uIGNoZWNrU2ltcGxlUGFsZXR0ZUNvbG9yVmFsdWVzKG9iaiwgYWRkaXRpb25hbFByb3BlcnRpZXNUb0NoZWNrID0gW10pIHtcbiAgaWYgKCFoYXNDb3JyZWN0TWFpblByb3BlcnR5KG9iaikpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChjb25zdCB2YWx1ZSBvZiBhZGRpdGlvbmFsUHJvcGVydGllc1RvQ2hlY2spIHtcbiAgICBpZiAoIW9iai5oYXNPd25Qcm9wZXJ0eSh2YWx1ZSkgfHwgdHlwZW9mIG9ialt2YWx1ZV0gIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBmaWx0ZXIgZnVuY3Rpb24gdXNlZCB0byBmaWx0ZXIgc2ltcGxlIHBhbGV0dGUgY29sb3Igb3B0aW9ucy5cbiAqIFRoZSBtaW5pbXVtIHJlcXVpcmVtZW50IGlzIHRoYXQgdGhlIG9iamVjdCBoYXMgYSBcIm1haW5cIiBwcm9wZXJ0eSBvZiB0eXBlIHN0cmluZywgdGhpcyBpcyBhbHdheXMgY2hlY2tlZC5cbiAqIE9wdGlvbmFsbHksIHlvdSBjYW4gcGFzcyBhZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gY2hlY2suXG4gKlxuICogQHBhcmFtIGFkZGl0aW9uYWxQcm9wZXJ0aWVzVG9DaGVjayAtIEFycmF5IGNvbnRhaW5pbmcgXCJsaWdodFwiLCBcImRhcmtcIiwgYW5kL29yIFwiY29udHJhc3RUZXh0XCJcbiAqIEByZXR1cm5zIChbLCB2YWx1ZV06IFthbnksIFBhbGV0dGVDb2xvck9wdGlvbnNdKSA9PiBib29sZWFuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZVNpbXBsZVBhbGV0dGVWYWx1ZUZpbHRlcihhZGRpdGlvbmFsUHJvcGVydGllc1RvQ2hlY2sgPSBbXSkge1xuICByZXR1cm4gKFssIHZhbHVlXSkgPT4gdmFsdWUgJiYgY2hlY2tTaW1wbGVQYWxldHRlQ29sb3JWYWx1ZXModmFsdWUsIGFkZGl0aW9uYWxQcm9wZXJ0aWVzVG9DaGVjayk7XG59IiwKICAgICJpbXBvcnQgZ2VuZXJhdGVVdGlsaXR5Q2xhc3NlcyBmcm9tICdAbXVpL3V0aWxzL2dlbmVyYXRlVXRpbGl0eUNsYXNzZXMnO1xuaW1wb3J0IGdlbmVyYXRlVXRpbGl0eUNsYXNzIGZyb20gJ0BtdWkvdXRpbHMvZ2VuZXJhdGVVdGlsaXR5Q2xhc3MnO1xuZXhwb3J0IGZ1bmN0aW9uIGdldFR5cG9ncmFwaHlVdGlsaXR5Q2xhc3Moc2xvdCkge1xuICByZXR1cm4gZ2VuZXJhdGVVdGlsaXR5Q2xhc3MoJ011aVR5cG9ncmFwaHknLCBzbG90KTtcbn1cbmNvbnN0IHR5cG9ncmFwaHlDbGFzc2VzID0gZ2VuZXJhdGVVdGlsaXR5Q2xhc3NlcygnTXVpVHlwb2dyYXBoeScsIFsncm9vdCcsICdoMScsICdoMicsICdoMycsICdoNCcsICdoNScsICdoNicsICdzdWJ0aXRsZTEnLCAnc3VidGl0bGUyJywgJ2JvZHkxJywgJ2JvZHkyJywgJ2luaGVyaXQnLCAnYnV0dG9uJywgJ2NhcHRpb24nLCAnb3ZlcmxpbmUnLCAnYWxpZ25MZWZ0JywgJ2FsaWduUmlnaHQnLCAnYWxpZ25DZW50ZXInLCAnYWxpZ25KdXN0aWZ5JywgJ25vV3JhcCcsICdndXR0ZXJCb3R0b20nLCAncGFyYWdyYXBoJ10pO1xuZXhwb3J0IGRlZmF1bHQgdHlwb2dyYXBoeUNsYXNzZXM7IiwKICAgICIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IGNyZWF0ZUJveCB9IGZyb20gJ0BtdWkvc3lzdGVtJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyB1bnN0YWJsZV9DbGFzc05hbWVHZW5lcmF0b3IgYXMgQ2xhc3NOYW1lR2VuZXJhdG9yIH0gZnJvbSBcIi4uL2NsYXNzTmFtZS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlVGhlbWUgfSBmcm9tIFwiLi4vc3R5bGVzL2luZGV4LmpzXCI7XG5pbXBvcnQgVEhFTUVfSUQgZnJvbSBcIi4uL3N0eWxlcy9pZGVudGlmaWVyLmpzXCI7XG5pbXBvcnQgYm94Q2xhc3NlcyBmcm9tIFwiLi9ib3hDbGFzc2VzLmpzXCI7XG5jb25zdCBkZWZhdWx0VGhlbWUgPSBjcmVhdGVUaGVtZSgpO1xuY29uc3QgQm94ID0gY3JlYXRlQm94KHtcbiAgdGhlbWVJZDogVEhFTUVfSUQsXG4gIGRlZmF1bHRUaGVtZSxcbiAgZGVmYXVsdENsYXNzTmFtZTogYm94Q2xhc3Nlcy5yb290LFxuICBnZW5lcmF0ZUNsYXNzTmFtZTogQ2xhc3NOYW1lR2VuZXJhdG9yLmdlbmVyYXRlXG59KTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IEJveC5wcm9wVHlwZXMgLyogcmVtb3ZlLXByb3B0eXBlcyAqLyA9IHtcbiAgLy8g4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIFdhcm5pbmcg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQXG4gIC8vIOKUgiBUaGVzZSBQcm9wVHlwZXMgYXJlIGdlbmVyYXRlZCBmcm9tIHRoZSBUeXBlU2NyaXB0IHR5cGUgZGVmaW5pdGlvbnMuIOKUglxuICAvLyDilIIgICAgVG8gdXBkYXRlIHRoZW0sIGVkaXQgdGhlIGQudHMgZmlsZSBhbmQgcnVuIGBwbnBtIHByb3B0eXBlc2AuICAgICDilIJcbiAgLy8g4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUsXG4gIC8qKlxuICAgKiBUaGUgY29tcG9uZW50IHVzZWQgZm9yIHRoZSByb290IG5vZGUuXG4gICAqIEVpdGhlciBhIHN0cmluZyB0byB1c2UgYSBIVE1MIGVsZW1lbnQgb3IgYSBjb21wb25lbnQuXG4gICAqL1xuICBjb21wb25lbnQ6IFByb3BUeXBlcy5lbGVtZW50VHlwZSxcbiAgLyoqXG4gICAqIFRoZSBzeXN0ZW0gcHJvcCB0aGF0IGFsbG93cyBkZWZpbmluZyBzeXN0ZW0gb3ZlcnJpZGVzIGFzIHdlbGwgYXMgYWRkaXRpb25hbCBDU1Mgc3R5bGVzLlxuICAgKi9cbiAgc3g6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0LCBQcm9wVHlwZXMuYm9vbF0pKSwgUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3RdKVxufSA6IHZvaWQgMDtcbmV4cG9ydCBkZWZhdWx0IEJveDsiLAogICAgImV4cG9ydCBmdW5jdGlvbiBpc1VuaXRsZXNzKHZhbHVlKSB7XG4gIHJldHVybiBTdHJpbmcocGFyc2VGbG9hdCh2YWx1ZSkpLmxlbmd0aCA9PT0gU3RyaW5nKHZhbHVlKS5sZW5ndGg7XG59XG5cbi8vIFBvcnRlZCBmcm9tIENvbXBhc3Ncbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9Db21wYXNzL2NvbXBhc3MvYmxvYi9tYXN0ZXIvY29yZS9zdHlsZXNoZWV0cy9jb21wYXNzL3R5cG9ncmFwaHkvX3VuaXRzLnNjc3Ncbi8vIEVtdWxhdGUgdGhlIHNhc3MgZnVuY3Rpb24gXCJ1bml0XCJcbmV4cG9ydCBmdW5jdGlvbiBnZXRVbml0KGlucHV0KSB7XG4gIHJldHVybiBTdHJpbmcoaW5wdXQpLm1hdGNoKC9bXFxkLlxcLStdKlxccyooLiopLylbMV0gfHwgJyc7XG59XG5cbi8vIEVtdWxhdGUgdGhlIHNhc3MgZnVuY3Rpb24gXCJ1bml0bGVzc1wiXG5leHBvcnQgZnVuY3Rpb24gdG9Vbml0bGVzcyhsZW5ndGgpIHtcbiAgcmV0dXJuIHBhcnNlRmxvYXQobGVuZ3RoKTtcbn1cblxuLy8gQ29udmVydCBhbnkgQ1NTIDxsZW5ndGg+IG9yIDxwZXJjZW50YWdlPiB2YWx1ZSB0byBhbnkgYW5vdGhlci5cbi8vIEZyb20gaHR0cHM6Ly9naXRodWIuY29tL0t5bGVBTWF0aGV3cy9jb252ZXJ0LWNzcy1sZW5ndGhcbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0TGVuZ3RoKGJhc2VGb250U2l6ZSkge1xuICByZXR1cm4gKGxlbmd0aCwgdG9Vbml0KSA9PiB7XG4gICAgY29uc3QgZnJvbVVuaXQgPSBnZXRVbml0KGxlbmd0aCk7XG5cbiAgICAvLyBPcHRpbWl6ZSBmb3IgY2FzZXMgd2hlcmUgYGZyb21gIGFuZCBgdG9gIHVuaXRzIGFyZSBhY2NpZGVudGFsbHkgdGhlIHNhbWUuXG4gICAgaWYgKGZyb21Vbml0ID09PSB0b1VuaXQpIHtcbiAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgfVxuXG4gICAgLy8gQ29udmVydCBpbnB1dCBsZW5ndGggdG8gcGl4ZWxzLlxuICAgIGxldCBweExlbmd0aCA9IHRvVW5pdGxlc3MobGVuZ3RoKTtcbiAgICBpZiAoZnJvbVVuaXQgIT09ICdweCcpIHtcbiAgICAgIGlmIChmcm9tVW5pdCA9PT0gJ2VtJykge1xuICAgICAgICBweExlbmd0aCA9IHRvVW5pdGxlc3MobGVuZ3RoKSAqIHRvVW5pdGxlc3MoYmFzZUZvbnRTaXplKTtcbiAgICAgIH0gZWxzZSBpZiAoZnJvbVVuaXQgPT09ICdyZW0nKSB7XG4gICAgICAgIHB4TGVuZ3RoID0gdG9Vbml0bGVzcyhsZW5ndGgpICogdG9Vbml0bGVzcyhiYXNlRm9udFNpemUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENvbnZlcnQgbGVuZ3RoIGluIHBpeGVscyB0byB0aGUgb3V0cHV0IHVuaXRcbiAgICBsZXQgb3V0cHV0TGVuZ3RoID0gcHhMZW5ndGg7XG4gICAgaWYgKHRvVW5pdCAhPT0gJ3B4Jykge1xuICAgICAgaWYgKHRvVW5pdCA9PT0gJ2VtJykge1xuICAgICAgICBvdXRwdXRMZW5ndGggPSBweExlbmd0aCAvIHRvVW5pdGxlc3MoYmFzZUZvbnRTaXplKTtcbiAgICAgIH0gZWxzZSBpZiAodG9Vbml0ID09PSAncmVtJykge1xuICAgICAgICBvdXRwdXRMZW5ndGggPSBweExlbmd0aCAvIHRvVW5pdGxlc3MoYmFzZUZvbnRTaXplKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwYXJzZUZsb2F0KG91dHB1dExlbmd0aC50b0ZpeGVkKDUpKSArIHRvVW5pdDtcbiAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhbGlnblByb3BlcnR5KHtcbiAgc2l6ZSxcbiAgZ3JpZFxufSkge1xuICBjb25zdCBzaXplQmVsb3cgPSBzaXplIC0gc2l6ZSAlIGdyaWQ7XG4gIGNvbnN0IHNpemVBYm92ZSA9IHNpemVCZWxvdyArIGdyaWQ7XG4gIHJldHVybiBzaXplIC0gc2l6ZUJlbG93IDwgc2l6ZUFib3ZlIC0gc2l6ZSA/IHNpemVCZWxvdyA6IHNpemVBYm92ZTtcbn1cblxuLy8gZm9udEdyaWQgZmluZHMgYSBtaW5pbWFsIGdyaWQgKGluIHJlbSkgZm9yIHRoZSBmb250U2l6ZSB2YWx1ZXMgc28gdGhhdCB0aGVcbi8vIGxpbmVIZWlnaHQgZmFsbHMgdW5kZXIgYSB4IHBpeGVscyBncmlkLCA0cHggaW4gdGhlIGNhc2Ugb2YgTWF0ZXJpYWwgRGVzaWduLFxuLy8gd2l0aG91dCBjaGFuZ2luZyB0aGUgcmVsYXRpdmUgbGluZSBoZWlnaHRcbmV4cG9ydCBmdW5jdGlvbiBmb250R3JpZCh7XG4gIGxpbmVIZWlnaHQsXG4gIHBpeGVscyxcbiAgaHRtbEZvbnRTaXplXG59KSB7XG4gIHJldHVybiBwaXhlbHMgLyAobGluZUhlaWdodCAqIGh0bWxGb250U2l6ZSk7XG59XG5cbi8qKlxuICogZ2VuZXJhdGUgYSByZXNwb25zaXZlIHZlcnNpb24gb2YgYSBnaXZlbiBDU1MgcHJvcGVydHlcbiAqIEBleGFtcGxlXG4gKiByZXNwb25zaXZlUHJvcGVydHkoe1xuICogICBjc3NQcm9wZXJ0eTogJ2ZvbnRTaXplJyxcbiAqICAgbWluOiAxNSxcbiAqICAgbWF4OiAyMCxcbiAqICAgdW5pdDogJ3B4JyxcbiAqICAgYnJlYWtwb2ludHM6IFszMDAsIDYwMF0sXG4gKiB9KVxuICpcbiAqIC8vIHRoaXMgcmV0dXJuc1xuICpcbiAqIHtcbiAqICAgZm9udFNpemU6ICcxNXB4JyxcbiAqICAgJ0BtZWRpYSAobWluLXdpZHRoOjMwMHB4KSc6IHtcbiAqICAgICBmb250U2l6ZTogJzE3LjVweCcsXG4gKiAgIH0sXG4gKiAgICdAbWVkaWEgKG1pbi13aWR0aDo2MDBweCknOiB7XG4gKiAgICAgZm9udFNpemU6ICcyMHB4JyxcbiAqICAgfSxcbiAqIH1cbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbXMuY3NzUHJvcGVydHkgLSBUaGUgQ1NTIHByb3BlcnR5IHRvIGJlIG1hZGUgcmVzcG9uc2l2ZVxuICogQHBhcmFtIHtudW1iZXJ9IHBhcmFtcy5taW4gLSBUaGUgc21hbGxlc3QgdmFsdWUgb2YgdGhlIENTUyBwcm9wZXJ0eVxuICogQHBhcmFtIHtudW1iZXJ9IHBhcmFtcy5tYXggLSBUaGUgbGFyZ2VzdCB2YWx1ZSBvZiB0aGUgQ1NTIHByb3BlcnR5XG4gKiBAcGFyYW0ge3N0cmluZ30gW3BhcmFtcy51bml0XSAtIFRoZSB1bml0IHRvIGJlIHVzZWQgZm9yIHRoZSBDU1MgcHJvcGVydHlcbiAqIEBwYXJhbSB7QXJyYXkubnVtYmVyfSBbcGFyYW1zLmJyZWFrcG9pbnRzXSAgLSBBbiBhcnJheSBvZiBicmVha3BvaW50c1xuICogQHBhcmFtIHtudW1iZXJ9IFtwYXJhbXMuYWxpZ25TdGVwXSAtIFJvdW5kIHNjYWxlZCB2YWx1ZSB0byBmYWxsIHVuZGVyIHRoaXMgZ3JpZFxuICogQHJldHVybnMge09iamVjdH0gcmVzcG9uc2l2ZSBzdHlsZXMgZm9yIHtwYXJhbXMuY3NzUHJvcGVydHl9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNwb25zaXZlUHJvcGVydHkoe1xuICBjc3NQcm9wZXJ0eSxcbiAgbWluLFxuICBtYXgsXG4gIHVuaXQgPSAncmVtJyxcbiAgYnJlYWtwb2ludHMgPSBbNjAwLCA5MDAsIDEyMDBdLFxuICB0cmFuc2Zvcm0gPSBudWxsXG59KSB7XG4gIGNvbnN0IG91dHB1dCA9IHtcbiAgICBbY3NzUHJvcGVydHldOiBgJHttaW59JHt1bml0fWBcbiAgfTtcbiAgY29uc3QgZmFjdG9yID0gKG1heCAtIG1pbikgLyBicmVha3BvaW50c1ticmVha3BvaW50cy5sZW5ndGggLSAxXTtcbiAgYnJlYWtwb2ludHMuZm9yRWFjaChicmVha3BvaW50ID0+IHtcbiAgICBsZXQgdmFsdWUgPSBtaW4gKyBmYWN0b3IgKiBicmVha3BvaW50O1xuICAgIGlmICh0cmFuc2Zvcm0gIT09IG51bGwpIHtcbiAgICAgIHZhbHVlID0gdHJhbnNmb3JtKHZhbHVlKTtcbiAgICB9XG4gICAgb3V0cHV0W2BAbWVkaWEgKG1pbi13aWR0aDoke2JyZWFrcG9pbnR9cHgpYF0gPSB7XG4gICAgICBbY3NzUHJvcGVydHldOiBgJHtNYXRoLnJvdW5kKHZhbHVlICogMTAwMDApIC8gMTAwMDB9JHt1bml0fWBcbiAgICB9O1xuICB9KTtcbiAgcmV0dXJuIG91dHB1dDtcbn0iLAogICAgImltcG9ydCBfZm9ybWF0RXJyb3JNZXNzYWdlIGZyb20gXCJAbXVpL3V0aWxzL2Zvcm1hdE11aUVycm9yTWVzc2FnZVwiO1xuaW1wb3J0IHsgaXNVbml0bGVzcywgY29udmVydExlbmd0aCwgcmVzcG9uc2l2ZVByb3BlcnR5LCBhbGlnblByb3BlcnR5LCBmb250R3JpZCB9IGZyb20gXCIuL2Nzc1V0aWxzLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZXNwb25zaXZlRm9udFNpemVzKHRoZW1lSW5wdXQsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgYnJlYWtwb2ludHMgPSBbJ3NtJywgJ21kJywgJ2xnJ10sXG4gICAgZGlzYWJsZUFsaWduID0gZmFsc2UsXG4gICAgZmFjdG9yID0gMixcbiAgICB2YXJpYW50cyA9IFsnaDEnLCAnaDInLCAnaDMnLCAnaDQnLCAnaDUnLCAnaDYnLCAnc3VidGl0bGUxJywgJ3N1YnRpdGxlMicsICdib2R5MScsICdib2R5MicsICdjYXB0aW9uJywgJ2J1dHRvbicsICdvdmVybGluZSddXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCB0aGVtZSA9IHtcbiAgICAuLi50aGVtZUlucHV0XG4gIH07XG4gIHRoZW1lLnR5cG9ncmFwaHkgPSB7XG4gICAgLi4udGhlbWUudHlwb2dyYXBoeVxuICB9O1xuICBjb25zdCB0eXBvZ3JhcGh5ID0gdGhlbWUudHlwb2dyYXBoeTtcblxuICAvLyBDb252ZXJ0IGJldHdlZW4gQ1NTIGxlbmd0aHMgZS5nLiBlbS0+cHggb3IgcHgtPnJlbVxuICAvLyBTZXQgdGhlIGJhc2VGb250U2l6ZSBmb3IgeW91ciBwcm9qZWN0LiBEZWZhdWx0cyB0byAxNnB4IChhbHNvIHRoZSBicm93c2VyIGRlZmF1bHQpLlxuICBjb25zdCBjb252ZXJ0ID0gY29udmVydExlbmd0aCh0eXBvZ3JhcGh5Lmh0bWxGb250U2l6ZSk7XG4gIGNvbnN0IGJyZWFrcG9pbnRWYWx1ZXMgPSBicmVha3BvaW50cy5tYXAoeCA9PiB0aGVtZS5icmVha3BvaW50cy52YWx1ZXNbeF0pO1xuICB2YXJpYW50cy5mb3JFYWNoKHZhcmlhbnQgPT4ge1xuICAgIGNvbnN0IHN0eWxlID0gdHlwb2dyYXBoeVt2YXJpYW50XTtcbiAgICBpZiAoIXN0eWxlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJlbUZvbnRTaXplID0gcGFyc2VGbG9hdChjb252ZXJ0KHN0eWxlLmZvbnRTaXplLCAncmVtJykpO1xuICAgIGlmIChyZW1Gb250U2l6ZSA8PSAxKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG1heEZvbnRTaXplID0gcmVtRm9udFNpemU7XG4gICAgY29uc3QgbWluRm9udFNpemUgPSAxICsgKG1heEZvbnRTaXplIC0gMSkgLyBmYWN0b3I7XG4gICAgbGV0IHtcbiAgICAgIGxpbmVIZWlnaHRcbiAgICB9ID0gc3R5bGU7XG4gICAgaWYgKCFpc1VuaXRsZXNzKGxpbmVIZWlnaHQpICYmICFkaXNhYmxlQWxpZ24pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyAnTVVJOiBVbnN1cHBvcnRlZCBub24tdW5pdGxlc3MgbGluZSBoZWlnaHQgd2l0aCBncmlkIGFsaWdubWVudC5cXG4nICsgJ1VzZSB1bml0bGVzcyBsaW5lIGhlaWdodHMgaW5zdGVhZC4nIDogX2Zvcm1hdEVycm9yTWVzc2FnZSg2KSk7XG4gICAgfVxuICAgIGlmICghaXNVbml0bGVzcyhsaW5lSGVpZ2h0KSkge1xuICAgICAgLy8gbWFrZSBpdCB1bml0bGVzc1xuICAgICAgbGluZUhlaWdodCA9IHBhcnNlRmxvYXQoY29udmVydChsaW5lSGVpZ2h0LCAncmVtJykpIC8gcGFyc2VGbG9hdChyZW1Gb250U2l6ZSk7XG4gICAgfVxuICAgIGxldCB0cmFuc2Zvcm0gPSBudWxsO1xuICAgIGlmICghZGlzYWJsZUFsaWduKSB7XG4gICAgICB0cmFuc2Zvcm0gPSB2YWx1ZSA9PiBhbGlnblByb3BlcnR5KHtcbiAgICAgICAgc2l6ZTogdmFsdWUsXG4gICAgICAgIGdyaWQ6IGZvbnRHcmlkKHtcbiAgICAgICAgICBwaXhlbHM6IDQsXG4gICAgICAgICAgbGluZUhlaWdodCxcbiAgICAgICAgICBodG1sRm9udFNpemU6IHR5cG9ncmFwaHkuaHRtbEZvbnRTaXplXG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICB9XG4gICAgdHlwb2dyYXBoeVt2YXJpYW50XSA9IHtcbiAgICAgIC4uLnN0eWxlLFxuICAgICAgLi4ucmVzcG9uc2l2ZVByb3BlcnR5KHtcbiAgICAgICAgY3NzUHJvcGVydHk6ICdmb250U2l6ZScsXG4gICAgICAgIG1pbjogbWluRm9udFNpemUsXG4gICAgICAgIG1heDogbWF4Rm9udFNpemUsXG4gICAgICAgIHVuaXQ6ICdyZW0nLFxuICAgICAgICBicmVha3BvaW50czogYnJlYWtwb2ludFZhbHVlcyxcbiAgICAgICAgdHJhbnNmb3JtXG4gICAgICB9KVxuICAgIH07XG4gIH0pO1xuICByZXR1cm4gdGhlbWU7XG59IiwKICAgICIndXNlIGNsaWVudCc7XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBUaGVtZVByb3ZpZGVyTm9WYXJzIGZyb20gXCIuL1RoZW1lUHJvdmlkZXJOb1ZhcnMuanNcIjtcbmltcG9ydCB7IENzc1ZhcnNQcm92aWRlciB9IGZyb20gXCIuL1RoZW1lUHJvdmlkZXJXaXRoVmFycy5qc1wiO1xuaW1wb3J0IFRIRU1FX0lEIGZyb20gXCIuL2lkZW50aWZpZXIuanNcIjtcbmltcG9ydCB7IGpzeCBhcyBfanN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBUaGVtZVByb3ZpZGVyKHtcbiAgdGhlbWUsXG4gIC4uLnByb3BzXG59KSB7XG4gIGNvbnN0IG5vVmFyc1RoZW1lID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB0aGVtZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIHRoZW1lO1xuICAgIH1cbiAgICBjb25zdCBtdWlUaGVtZSA9IFRIRU1FX0lEIGluIHRoZW1lID8gdGhlbWVbVEhFTUVfSURdIDogdGhlbWU7XG4gICAgaWYgKCEoJ2NvbG9yU2NoZW1lcycgaW4gbXVpVGhlbWUpKSB7XG4gICAgICBpZiAoISgndmFycycgaW4gbXVpVGhlbWUpKSB7XG4gICAgICAgIC8vIEZvciBub24tQ1NTIHZhcmlhYmxlcyB0aGVtZXMsIHNldCBgdmFyc2AgdG8gbnVsbCB0byBwcmV2ZW50IHRoZW1lIGluaGVyaXRhbmNlIGZyb20gdGhlIHVwcGVyIHRoZW1lLlxuICAgICAgICAvLyBUaGUgZXhhbXBsZSB1c2UgY2FzZSBpcyB0aGUgZG9jcyBkZW1vIHRoYXQgdXNlcyBUaGVtZVByb3ZpZGVyIHRvIGN1c3RvbWl6ZSB0aGUgdGhlbWUgd2hpbGUgdGhlIHVwcGVyIHRoZW1lIGlzIHVzaW5nIENTUyB2YXJpYWJsZXMuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4udGhlbWUsXG4gICAgICAgICAgdmFyczogbnVsbFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoZW1lO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSwgW3RoZW1lXSk7XG4gIGlmIChub1ZhcnNUaGVtZSkge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeChUaGVtZVByb3ZpZGVyTm9WYXJzLCB7XG4gICAgICB0aGVtZTogbm9WYXJzVGhlbWUsXG4gICAgICAuLi5wcm9wc1xuICAgIH0pO1xuICB9XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeChDc3NWYXJzUHJvdmlkZXIsIHtcbiAgICB0aGVtZTogdGhlbWUsXG4gICAgLi4ucHJvcHNcbiAgfSk7XG59IiwKICAgICIndXNlIGNsaWVudCc7XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFRoZW1lUHJvdmlkZXIgYXMgU3lzdGVtVGhlbWVQcm92aWRlciB9IGZyb20gJ0BtdWkvc3lzdGVtJztcbmltcG9ydCBUSEVNRV9JRCBmcm9tIFwiLi9pZGVudGlmaWVyLmpzXCI7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVGhlbWVQcm92aWRlck5vVmFycyh7XG4gIHRoZW1lOiB0aGVtZUlucHV0LFxuICAuLi5wcm9wc1xufSkge1xuICBjb25zdCBzY29wZWRUaGVtZSA9IFRIRU1FX0lEIGluIHRoZW1lSW5wdXQgPyB0aGVtZUlucHV0W1RIRU1FX0lEXSA6IHVuZGVmaW5lZDtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KFN5c3RlbVRoZW1lUHJvdmlkZXIsIHtcbiAgICAuLi5wcm9wcyxcbiAgICB0aGVtZUlkOiBzY29wZWRUaGVtZSA/IFRIRU1FX0lEIDogdW5kZWZpbmVkLFxuICAgIHRoZW1lOiBzY29wZWRUaGVtZSB8fCB0aGVtZUlucHV0XG4gIH0pO1xufSIsCiAgICAiaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBTeXN0ZW1Jbml0Q29sb3JTY2hlbWVTY3JpcHQgZnJvbSAnQG11aS9zeXN0ZW0vSW5pdENvbG9yU2NoZW1lU2NyaXB0JztcbmltcG9ydCB7IGpzeCBhcyBfanN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5leHBvcnQgY29uc3QgZGVmYXVsdENvbmZpZyA9IHtcbiAgYXR0cmlidXRlOiAnZGF0YS1tdWktY29sb3Itc2NoZW1lJyxcbiAgY29sb3JTY2hlbWVTdG9yYWdlS2V5OiAnbXVpLWNvbG9yLXNjaGVtZScsXG4gIGRlZmF1bHRMaWdodENvbG9yU2NoZW1lOiAnbGlnaHQnLFxuICBkZWZhdWx0RGFya0NvbG9yU2NoZW1lOiAnZGFyaycsXG4gIG1vZGVTdG9yYWdlS2V5OiAnbXVpLW1vZGUnXG59O1xuLyoqXG4gKlxuICogRGVtb3M6XG4gKlxuICogLSBbSW5pdENvbG9yU2NoZW1lU2NyaXB0XShodHRwczovL211aS5jb20vbWF0ZXJpYWwtdWkvcmVhY3QtaW5pdC1jb2xvci1zY2hlbWUtc2NyaXB0LylcbiAqXG4gKiBBUEk6XG4gKlxuICogLSBbSW5pdENvbG9yU2NoZW1lU2NyaXB0IEFQSV0oaHR0cHM6Ly9tdWkuY29tL21hdGVyaWFsLXVpL2FwaS9pbml0LWNvbG9yLXNjaGVtZS1zY3JpcHQvKVxuICovXG5mdW5jdGlvbiBJbml0Q29sb3JTY2hlbWVTY3JpcHQocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGRlZmF1bHRNb2RlID0gJ3N5c3RlbScsXG4gICAgZGVmYXVsdExpZ2h0Q29sb3JTY2hlbWUgPSBkZWZhdWx0Q29uZmlnLmRlZmF1bHRMaWdodENvbG9yU2NoZW1lLFxuICAgIGRlZmF1bHREYXJrQ29sb3JTY2hlbWUgPSBkZWZhdWx0Q29uZmlnLmRlZmF1bHREYXJrQ29sb3JTY2hlbWUsXG4gICAgbW9kZVN0b3JhZ2VLZXkgPSBkZWZhdWx0Q29uZmlnLm1vZGVTdG9yYWdlS2V5LFxuICAgIGNvbG9yU2NoZW1lU3RvcmFnZUtleSA9IGRlZmF1bHRDb25maWcuY29sb3JTY2hlbWVTdG9yYWdlS2V5LFxuICAgIGF0dHJpYnV0ZTogaW5pdGlhbEF0dHJpYnV0ZSA9IGRlZmF1bHRDb25maWcuYXR0cmlidXRlLFxuICAgIGNvbG9yU2NoZW1lTm9kZSA9ICdkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQnLFxuICAgIG5vbmNlXG4gIH0gPSBwcm9wcztcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KFN5c3RlbUluaXRDb2xvclNjaGVtZVNjcmlwdCwge1xuICAgIGRlZmF1bHRNb2RlOiBkZWZhdWx0TW9kZSxcbiAgICBkZWZhdWx0TGlnaHRDb2xvclNjaGVtZTogZGVmYXVsdExpZ2h0Q29sb3JTY2hlbWUsXG4gICAgZGVmYXVsdERhcmtDb2xvclNjaGVtZTogZGVmYXVsdERhcmtDb2xvclNjaGVtZSxcbiAgICBtb2RlU3RvcmFnZUtleTogbW9kZVN0b3JhZ2VLZXksXG4gICAgY29sb3JTY2hlbWVTdG9yYWdlS2V5OiBjb2xvclNjaGVtZVN0b3JhZ2VLZXksXG4gICAgYXR0cmlidXRlOiBpbml0aWFsQXR0cmlidXRlLFxuICAgIGNvbG9yU2NoZW1lTm9kZTogY29sb3JTY2hlbWVOb2RlLFxuICAgIG5vbmNlOiBub25jZVxuICB9KTtcbn1cbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IEluaXRDb2xvclNjaGVtZVNjcmlwdC5wcm9wVHlwZXMgLyogcmVtb3ZlLXByb3B0eXBlcyAqLyA9IHtcbiAgLy8g4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIFdhcm5pbmcg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQXG4gIC8vIOKUgiBUaGVzZSBQcm9wVHlwZXMgYXJlIGdlbmVyYXRlZCBmcm9tIHRoZSBUeXBlU2NyaXB0IHR5cGUgZGVmaW5pdGlvbnMuIOKUglxuICAvLyDilIIgVG8gdXBkYXRlIHRoZW0sIGVkaXQgdGhlIFR5cGVTY3JpcHQgdHlwZXMgYW5kIHJ1biBgcG5wbSBwcm9wdHlwZXNgLiDilIJcbiAgLy8g4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG4gIC8qKlxuICAgKiBET00gYXR0cmlidXRlIGZvciBhcHBseWluZyBhIGNvbG9yIHNjaGVtZS5cbiAgICogQGRlZmF1bHQgJ2RhdGEtbXVpLWNvbG9yLXNjaGVtZSdcbiAgICogQGV4YW1wbGUgJy5tb2RlLSVzJyAvLyBmb3IgY2xhc3MgYmFzZWQgY29sb3Igc2NoZW1lXG4gICAqIEBleGFtcGxlICdbZGF0YS1tb2RlLSVzXScgLy8gZm9yIGRhdGEtYXR0cmlidXRlIHdpdGhvdXQgJz0nXG4gICAqL1xuICBhdHRyaWJ1dGU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIC8qKlxuICAgKiBUaGUgbm9kZSAocHJvdmlkZWQgYXMgc3RyaW5nKSB1c2VkIHRvIGF0dGFjaCB0aGUgY29sb3Itc2NoZW1lIGF0dHJpYnV0ZS5cbiAgICogQGRlZmF1bHQgJ2RvY3VtZW50LmRvY3VtZW50RWxlbWVudCdcbiAgICovXG4gIGNvbG9yU2NoZW1lTm9kZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgLyoqXG4gICAqIGxvY2FsU3RvcmFnZSBrZXkgdXNlZCB0byBzdG9yZSBgY29sb3JTY2hlbWVgLlxuICAgKiBAZGVmYXVsdCAnbXVpLWNvbG9yLXNjaGVtZSdcbiAgICovXG4gIGNvbG9yU2NoZW1lU3RvcmFnZUtleTogUHJvcFR5cGVzLnN0cmluZyxcbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IGNvbG9yIHNjaGVtZSB0byBiZSB1c2VkIGluIGRhcmsgbW9kZS5cbiAgICogQGRlZmF1bHQgJ2RhcmsnXG4gICAqL1xuICBkZWZhdWx0RGFya0NvbG9yU2NoZW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgY29sb3Igc2NoZW1lIHRvIGJlIHVzZWQgaW4gbGlnaHQgbW9kZS5cbiAgICogQGRlZmF1bHQgJ2xpZ2h0J1xuICAgKi9cbiAgZGVmYXVsdExpZ2h0Q29sb3JTY2hlbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBtb2RlIHdoZW4gdGhlIHN0b3JhZ2UgaXMgZW1wdHkgKHVzZXIncyBmaXJzdCB2aXNpdCkuXG4gICAqIEBkZWZhdWx0ICdzeXN0ZW0nXG4gICAqL1xuICBkZWZhdWx0TW9kZTogUHJvcFR5cGVzLm9uZU9mKFsnZGFyaycsICdsaWdodCcsICdzeXN0ZW0nXSksXG4gIC8qKlxuICAgKiBsb2NhbFN0b3JhZ2Uga2V5IHVzZWQgdG8gc3RvcmUgYG1vZGVgLlxuICAgKiBAZGVmYXVsdCAnbXVpLW1vZGUnXG4gICAqL1xuICBtb2RlU3RvcmFnZUtleTogUHJvcFR5cGVzLnN0cmluZyxcbiAgLyoqXG4gICAqIE5vbmNlIHN0cmluZyB0byBwYXNzIHRvIHRoZSBpbmxpbmUgc2NyaXB0IGZvciBDU1AgaGVhZGVycy5cbiAgICovXG4gIG5vbmNlOiBQcm9wVHlwZXMuc3RyaW5nXG59IDogdm9pZCAwO1xuZXhwb3J0IGRlZmF1bHQgSW5pdENvbG9yU2NoZW1lU2NyaXB0OyIsCiAgICAiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgc3R5bGVGdW5jdGlvblN4IGZyb20gJ0BtdWkvc3lzdGVtL3N0eWxlRnVuY3Rpb25TeCc7XG5pbXBvcnQgeyB1bnN0YWJsZV9jcmVhdGVDc3NWYXJzUHJvdmlkZXIgYXMgY3JlYXRlQ3NzVmFyc1Byb3ZpZGVyIH0gZnJvbSAnQG11aS9zeXN0ZW0nO1xuaW1wb3J0IGNyZWF0ZVRoZW1lIGZyb20gXCIuL2NyZWF0ZVRoZW1lLmpzXCI7XG5pbXBvcnQgY3JlYXRlVHlwb2dyYXBoeSBmcm9tIFwiLi9jcmVhdGVUeXBvZ3JhcGh5LmpzXCI7XG5pbXBvcnQgVEhFTUVfSUQgZnJvbSBcIi4vaWRlbnRpZmllci5qc1wiO1xuaW1wb3J0IHsgZGVmYXVsdENvbmZpZyB9IGZyb20gXCIuLi9Jbml0Q29sb3JTY2hlbWVTY3JpcHQvSW5pdENvbG9yU2NoZW1lU2NyaXB0LmpzXCI7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuY29uc3Qge1xuICBDc3NWYXJzUHJvdmlkZXI6IEludGVybmFsQ3NzVmFyc1Byb3ZpZGVyLFxuICB1c2VDb2xvclNjaGVtZSxcbiAgZ2V0SW5pdENvbG9yU2NoZW1lU2NyaXB0OiBkZXByZWNhdGVkR2V0SW5pdENvbG9yU2NoZW1lU2NyaXB0XG59ID0gY3JlYXRlQ3NzVmFyc1Byb3ZpZGVyKHtcbiAgdGhlbWVJZDogVEhFTUVfSUQsXG4gIC8vIEB0cy1pZ25vcmUgaWdub3JlIG1vZHVsZSBhdWdtZW50YXRpb24gdGVzdHNcbiAgdGhlbWU6ICgpID0+IGNyZWF0ZVRoZW1lKHtcbiAgICBjc3NWYXJpYWJsZXM6IHRydWVcbiAgfSksXG4gIGNvbG9yU2NoZW1lU3RvcmFnZUtleTogZGVmYXVsdENvbmZpZy5jb2xvclNjaGVtZVN0b3JhZ2VLZXksXG4gIG1vZGVTdG9yYWdlS2V5OiBkZWZhdWx0Q29uZmlnLm1vZGVTdG9yYWdlS2V5LFxuICBkZWZhdWx0Q29sb3JTY2hlbWU6IHtcbiAgICBsaWdodDogZGVmYXVsdENvbmZpZy5kZWZhdWx0TGlnaHRDb2xvclNjaGVtZSxcbiAgICBkYXJrOiBkZWZhdWx0Q29uZmlnLmRlZmF1bHREYXJrQ29sb3JTY2hlbWVcbiAgfSxcbiAgcmVzb2x2ZVRoZW1lOiB0aGVtZSA9PiB7XG4gICAgY29uc3QgbmV3VGhlbWUgPSB7XG4gICAgICAuLi50aGVtZSxcbiAgICAgIHR5cG9ncmFwaHk6IGNyZWF0ZVR5cG9ncmFwaHkodGhlbWUucGFsZXR0ZSwgdGhlbWUudHlwb2dyYXBoeSlcbiAgICB9O1xuICAgIG5ld1RoZW1lLnVuc3RhYmxlX3N4ID0gZnVuY3Rpb24gc3gocHJvcHMpIHtcbiAgICAgIHJldHVybiBzdHlsZUZ1bmN0aW9uU3goe1xuICAgICAgICBzeDogcHJvcHMsXG4gICAgICAgIHRoZW1lOiB0aGlzXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBuZXdUaGVtZTtcbiAgfVxufSk7XG5sZXQgd2FybmVkT25jZSA9IGZhbHNlO1xuXG4vLyBUT0RPOiByZW1vdmUgaW4gdjdcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbmFtaW5nLWNvbnZlbnRpb25cbmZ1bmN0aW9uIEV4cGVyaW1lbnRhbF9Dc3NWYXJzUHJvdmlkZXIocHJvcHMpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBpZiAoIXdhcm5lZE9uY2UpIHtcbiAgICAgIGNvbnNvbGUud2FybihbJ01VSTogVGhlIEV4cGVyaW1lbnRhbF9Dc3NWYXJzUHJvdmlkZXIgY29tcG9uZW50IGhhcyBiZWVuIHBvcnRlZCBpbnRvIFRoZW1lUHJvdmlkZXIuJywgJycsIFwiWW91IHNob3VsZCB1c2UgYGltcG9ydCB7IFRoZW1lUHJvdmlkZXIgfSBmcm9tICdAbXVpL21hdGVyaWFsL3N0eWxlcydgIGluc3RlYWQuXCIsICdGb3IgbW9yZSBkZXRhaWxzLCBjaGVjayBvdXQgaHR0cHM6Ly9tdWkuY29tL21hdGVyaWFsLXVpL2N1c3RvbWl6YXRpb24vY3NzLXRoZW1lLXZhcmlhYmxlcy91c2FnZS8nXS5qb2luKCdcXG4nKSk7XG4gICAgICB3YXJuZWRPbmNlID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KEludGVybmFsQ3NzVmFyc1Byb3ZpZGVyLCB7XG4gICAgLi4ucHJvcHNcbiAgfSk7XG59XG5sZXQgd2FybmVkSW5pdFNjcmlwdE9uY2UgPSBmYWxzZTtcblxuLy8gVE9ETzogcmVtb3ZlIGluIHY3XG5jb25zdCBnZXRJbml0Q29sb3JTY2hlbWVTY3JpcHQgPSBwYXJhbXMgPT4ge1xuICBpZiAoIXdhcm5lZEluaXRTY3JpcHRPbmNlKSB7XG4gICAgY29uc29sZS53YXJuKFsnTVVJOiBUaGUgZ2V0SW5pdENvbG9yU2NoZW1lU2NyaXB0IGZ1bmN0aW9uIGhhcyBiZWVuIGRlcHJlY2F0ZWQuJywgJycsIFwiWW91IHNob3VsZCB1c2UgYGltcG9ydCBJbml0Q29sb3JTY2hlbWVTY3JpcHQgZnJvbSAnQG11aS9tYXRlcmlhbC9Jbml0Q29sb3JTY2hlbWVTY3JpcHQnYFwiLCAnYW5kIHJlcGxhY2UgdGhlIGZ1bmN0aW9uIGNhbGwgd2l0aCBgPEluaXRDb2xvclNjaGVtZVNjcmlwdCAvPmAgaW5zdGVhZC4nXS5qb2luKCdcXG4nKSk7XG4gICAgd2FybmVkSW5pdFNjcmlwdE9uY2UgPSB0cnVlO1xuICB9XG4gIHJldHVybiBkZXByZWNhdGVkR2V0SW5pdENvbG9yU2NoZW1lU2NyaXB0KHBhcmFtcyk7XG59O1xuXG4vKipcbiAqIFRPRE86IHJlbW92ZSB0aGlzIGV4cG9ydCBpbiB2N1xuICogQGRlcHJlY2F0ZWRcbiAqIFRoZSBgQ3NzVmFyc1Byb3ZpZGVyYCBjb21wb25lbnQgaGFzIGJlZW4gZGVwcmVjYXRlZCBhbmQgcG9ydGVkIGludG8gYFRoZW1lUHJvdmlkZXJgLlxuICpcbiAqIFlvdSBzaG91bGQgdXNlIGBUaGVtZVByb3ZpZGVyYCBhbmQgYGNyZWF0ZVRoZW1lKClgIGluc3RlYWQ6XG4gKlxuICogYGBgZGlmZlxuICogLSBpbXBvcnQgeyBDc3NWYXJzUHJvdmlkZXIsIGV4dGVuZFRoZW1lIH0gZnJvbSAnQG11aS9tYXRlcmlhbC9zdHlsZXMnO1xuICogKyBpbXBvcnQgeyBUaGVtZVByb3ZpZGVyLCBjcmVhdGVUaGVtZSB9IGZyb20gJ0BtdWkvbWF0ZXJpYWwvc3R5bGVzJztcbiAqXG4gKiAtIGNvbnN0IHRoZW1lID0gZXh0ZW5kVGhlbWUoKTtcbiAqICsgY29uc3QgdGhlbWUgPSBjcmVhdGVUaGVtZSh7XG4gKiArICAgY3NzVmFyaWFibGVzOiB0cnVlLFxuICogKyAgIGNvbG9yU2NoZW1lczogeyBsaWdodDogdHJ1ZSwgZGFyazogdHJ1ZSB9LFxuICogKyB9KTtcbiAqXG4gKiAtIDxDc3NWYXJzUHJvdmlkZXIgdGhlbWU9e3RoZW1lfT5cbiAqICsgPFRoZW1lUHJvdmlkZXIgdGhlbWU9e3RoZW1lfT5cbiAqIGBgYFxuICpcbiAqIFRvIHNlZSB0aGUgZnVsbCBkb2N1bWVudGF0aW9uLCBjaGVjayBvdXQgaHR0cHM6Ly9tdWkuY29tL21hdGVyaWFsLXVpL2N1c3RvbWl6YXRpb24vY3NzLXRoZW1lLXZhcmlhYmxlcy91c2FnZS8uXG4gKi9cbmV4cG9ydCBjb25zdCBDc3NWYXJzUHJvdmlkZXIgPSBJbnRlcm5hbENzc1ZhcnNQcm92aWRlcjtcbmV4cG9ydCB7IHVzZUNvbG9yU2NoZW1lLCBnZXRJbml0Q29sb3JTY2hlbWVTY3JpcHQsIEV4cGVyaW1lbnRhbF9Dc3NWYXJzUHJvdmlkZXIgfTsiLAogICAgImltcG9ydCBnZW5lcmF0ZVV0aWxpdHlDbGFzc2VzIGZyb20gJ0BtdWkvdXRpbHMvZ2VuZXJhdGVVdGlsaXR5Q2xhc3Nlcyc7XG5jb25zdCBib3hDbGFzc2VzID0gZ2VuZXJhdGVVdGlsaXR5Q2xhc3NlcygnTXVpQm94JywgWydyb290J10pO1xuZXhwb3J0IGRlZmF1bHQgYm94Q2xhc3NlczsiLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnO1xuaW1wb3J0IHJlc29sdmVQcm9wcyBmcm9tICdAbXVpL3V0aWxzL3Jlc29sdmVQcm9wcyc7XG5pbXBvcnQgY29tcG9zZUNsYXNzZXMgZnJvbSAnQG11aS91dGlscy9jb21wb3NlQ2xhc3Nlcyc7XG5pbXBvcnQgeyB1bnN0YWJsZV91c2VJZCBhcyB1c2VJZCB9IGZyb20gXCIuLi91dGlscy9pbmRleC5qc1wiO1xuaW1wb3J0IHJvb3RTaG91bGRGb3J3YXJkUHJvcCBmcm9tIFwiLi4vc3R5bGVzL3Jvb3RTaG91bGRGb3J3YXJkUHJvcC5qc1wiO1xuaW1wb3J0IHsgc3R5bGVkIH0gZnJvbSBcIi4uL3plcm8tc3R5bGVkL2luZGV4LmpzXCI7XG5pbXBvcnQgbWVtb1RoZW1lIGZyb20gXCIuLi91dGlscy9tZW1vVGhlbWUuanNcIjtcbmltcG9ydCB7IHVzZURlZmF1bHRQcm9wcyB9IGZyb20gXCIuLi9EZWZhdWx0UHJvcHNQcm92aWRlci9pbmRleC5qc1wiO1xuaW1wb3J0IEJ1dHRvbkJhc2UgZnJvbSBcIi4uL0J1dHRvbkJhc2UvaW5kZXguanNcIjtcbmltcG9ydCBDaXJjdWxhclByb2dyZXNzIGZyb20gXCIuLi9DaXJjdWxhclByb2dyZXNzL2luZGV4LmpzXCI7XG5pbXBvcnQgY2FwaXRhbGl6ZSBmcm9tIFwiLi4vdXRpbHMvY2FwaXRhbGl6ZS5qc1wiO1xuaW1wb3J0IGNyZWF0ZVNpbXBsZVBhbGV0dGVWYWx1ZUZpbHRlciBmcm9tIFwiLi4vdXRpbHMvY3JlYXRlU2ltcGxlUGFsZXR0ZVZhbHVlRmlsdGVyLmpzXCI7XG5pbXBvcnQgYnV0dG9uQ2xhc3NlcywgeyBnZXRCdXR0b25VdGlsaXR5Q2xhc3MgfSBmcm9tIFwiLi9idXR0b25DbGFzc2VzLmpzXCI7XG5pbXBvcnQgQnV0dG9uR3JvdXBDb250ZXh0IGZyb20gXCIuLi9CdXR0b25Hcm91cC9CdXR0b25Hcm91cENvbnRleHQuanNcIjtcbmltcG9ydCBCdXR0b25Hcm91cEJ1dHRvbkNvbnRleHQgZnJvbSBcIi4uL0J1dHRvbkdyb3VwL0J1dHRvbkdyb3VwQnV0dG9uQ29udGV4dC5qc1wiO1xuaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmNvbnN0IHVzZVV0aWxpdHlDbGFzc2VzID0gb3duZXJTdGF0ZSA9PiB7XG4gIGNvbnN0IHtcbiAgICBjb2xvcixcbiAgICBkaXNhYmxlRWxldmF0aW9uLFxuICAgIGZ1bGxXaWR0aCxcbiAgICBzaXplLFxuICAgIHZhcmlhbnQsXG4gICAgbG9hZGluZyxcbiAgICBsb2FkaW5nUG9zaXRpb24sXG4gICAgY2xhc3Nlc1xuICB9ID0gb3duZXJTdGF0ZTtcbiAgY29uc3Qgc2xvdHMgPSB7XG4gICAgcm9vdDogWydyb290JywgbG9hZGluZyAmJiAnbG9hZGluZycsIHZhcmlhbnQsIGAke3ZhcmlhbnR9JHtjYXBpdGFsaXplKGNvbG9yKX1gLCBgc2l6ZSR7Y2FwaXRhbGl6ZShzaXplKX1gLCBgJHt2YXJpYW50fVNpemUke2NhcGl0YWxpemUoc2l6ZSl9YCwgYGNvbG9yJHtjYXBpdGFsaXplKGNvbG9yKX1gLCBkaXNhYmxlRWxldmF0aW9uICYmICdkaXNhYmxlRWxldmF0aW9uJywgZnVsbFdpZHRoICYmICdmdWxsV2lkdGgnLCBsb2FkaW5nICYmIGBsb2FkaW5nUG9zaXRpb24ke2NhcGl0YWxpemUobG9hZGluZ1Bvc2l0aW9uKX1gXSxcbiAgICBzdGFydEljb246IFsnaWNvbicsICdzdGFydEljb24nLCBgaWNvblNpemUke2NhcGl0YWxpemUoc2l6ZSl9YF0sXG4gICAgZW5kSWNvbjogWydpY29uJywgJ2VuZEljb24nLCBgaWNvblNpemUke2NhcGl0YWxpemUoc2l6ZSl9YF0sXG4gICAgbG9hZGluZ0luZGljYXRvcjogWydsb2FkaW5nSW5kaWNhdG9yJ10sXG4gICAgbG9hZGluZ1dyYXBwZXI6IFsnbG9hZGluZ1dyYXBwZXInXVxuICB9O1xuICBjb25zdCBjb21wb3NlZENsYXNzZXMgPSBjb21wb3NlQ2xhc3NlcyhzbG90cywgZ2V0QnV0dG9uVXRpbGl0eUNsYXNzLCBjbGFzc2VzKTtcbiAgcmV0dXJuIHtcbiAgICAuLi5jbGFzc2VzLFxuICAgIC8vIGZvcndhcmQgdGhlIGZvY3VzZWQsIGRpc2FibGVkLCBldGMuIGNsYXNzZXMgdG8gdGhlIEJ1dHRvbkJhc2VcbiAgICAuLi5jb21wb3NlZENsYXNzZXNcbiAgfTtcbn07XG5jb25zdCBjb21tb25JY29uU3R5bGVzID0gW3tcbiAgcHJvcHM6IHtcbiAgICBzaXplOiAnc21hbGwnXG4gIH0sXG4gIHN0eWxlOiB7XG4gICAgJyYgPiAqOm50aC1vZi10eXBlKDEpJzoge1xuICAgICAgZm9udFNpemU6IDE4XG4gICAgfVxuICB9XG59LCB7XG4gIHByb3BzOiB7XG4gICAgc2l6ZTogJ21lZGl1bSdcbiAgfSxcbiAgc3R5bGU6IHtcbiAgICAnJiA+ICo6bnRoLW9mLXR5cGUoMSknOiB7XG4gICAgICBmb250U2l6ZTogMjBcbiAgICB9XG4gIH1cbn0sIHtcbiAgcHJvcHM6IHtcbiAgICBzaXplOiAnbGFyZ2UnXG4gIH0sXG4gIHN0eWxlOiB7XG4gICAgJyYgPiAqOm50aC1vZi10eXBlKDEpJzoge1xuICAgICAgZm9udFNpemU6IDIyXG4gICAgfVxuICB9XG59XTtcbmNvbnN0IEJ1dHRvblJvb3QgPSBzdHlsZWQoQnV0dG9uQmFzZSwge1xuICBzaG91bGRGb3J3YXJkUHJvcDogcHJvcCA9PiByb290U2hvdWxkRm9yd2FyZFByb3AocHJvcCkgfHwgcHJvcCA9PT0gJ2NsYXNzZXMnLFxuICBuYW1lOiAnTXVpQnV0dG9uJyxcbiAgc2xvdDogJ1Jvb3QnLFxuICBvdmVycmlkZXNSZXNvbHZlcjogKHByb3BzLCBzdHlsZXMpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBvd25lclN0YXRlXG4gICAgfSA9IHByb3BzO1xuICAgIHJldHVybiBbc3R5bGVzLnJvb3QsIHN0eWxlc1tvd25lclN0YXRlLnZhcmlhbnRdLCBzdHlsZXNbYCR7b3duZXJTdGF0ZS52YXJpYW50fSR7Y2FwaXRhbGl6ZShvd25lclN0YXRlLmNvbG9yKX1gXSwgc3R5bGVzW2BzaXplJHtjYXBpdGFsaXplKG93bmVyU3RhdGUuc2l6ZSl9YF0sIHN0eWxlc1tgJHtvd25lclN0YXRlLnZhcmlhbnR9U2l6ZSR7Y2FwaXRhbGl6ZShvd25lclN0YXRlLnNpemUpfWBdLCBvd25lclN0YXRlLmNvbG9yID09PSAnaW5oZXJpdCcgJiYgc3R5bGVzLmNvbG9ySW5oZXJpdCwgb3duZXJTdGF0ZS5kaXNhYmxlRWxldmF0aW9uICYmIHN0eWxlcy5kaXNhYmxlRWxldmF0aW9uLCBvd25lclN0YXRlLmZ1bGxXaWR0aCAmJiBzdHlsZXMuZnVsbFdpZHRoLCBvd25lclN0YXRlLmxvYWRpbmcgJiYgc3R5bGVzLmxvYWRpbmddO1xuICB9XG59KShtZW1vVGhlbWUoKHtcbiAgdGhlbWVcbn0pID0+IHtcbiAgY29uc3QgaW5oZXJpdENvbnRhaW5lZEJhY2tncm91bmRDb2xvciA9IHRoZW1lLnBhbGV0dGUubW9kZSA9PT0gJ2xpZ2h0JyA/IHRoZW1lLnBhbGV0dGUuZ3JleVszMDBdIDogdGhlbWUucGFsZXR0ZS5ncmV5WzgwMF07XG4gIGNvbnN0IGluaGVyaXRDb250YWluZWRIb3ZlckJhY2tncm91bmRDb2xvciA9IHRoZW1lLnBhbGV0dGUubW9kZSA9PT0gJ2xpZ2h0JyA/IHRoZW1lLnBhbGV0dGUuZ3JleS5BMTAwIDogdGhlbWUucGFsZXR0ZS5ncmV5WzcwMF07XG4gIHJldHVybiB7XG4gICAgLi4udGhlbWUudHlwb2dyYXBoeS5idXR0b24sXG4gICAgbWluV2lkdGg6IDY0LFxuICAgIHBhZGRpbmc6ICc2cHggMTZweCcsXG4gICAgYm9yZGVyOiAwLFxuICAgIGJvcmRlclJhZGl1czogKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnNoYXBlLmJvcmRlclJhZGl1cyxcbiAgICB0cmFuc2l0aW9uOiB0aGVtZS50cmFuc2l0aW9ucy5jcmVhdGUoWydiYWNrZ3JvdW5kLWNvbG9yJywgJ2JveC1zaGFkb3cnLCAnYm9yZGVyLWNvbG9yJywgJ2NvbG9yJ10sIHtcbiAgICAgIGR1cmF0aW9uOiB0aGVtZS50cmFuc2l0aW9ucy5kdXJhdGlvbi5zaG9ydFxuICAgIH0pLFxuICAgICcmOmhvdmVyJzoge1xuICAgICAgdGV4dERlY29yYXRpb246ICdub25lJ1xuICAgIH0sXG4gICAgW2AmLiR7YnV0dG9uQ2xhc3Nlcy5kaXNhYmxlZH1gXToge1xuICAgICAgY29sb3I6ICh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlLmFjdGlvbi5kaXNhYmxlZFxuICAgIH0sXG4gICAgdmFyaWFudHM6IFt7XG4gICAgICBwcm9wczoge1xuICAgICAgICB2YXJpYW50OiAnY29udGFpbmVkJ1xuICAgICAgfSxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGNvbG9yOiBgdmFyKC0tdmFyaWFudC1jb250YWluZWRDb2xvcilgLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGB2YXIoLS12YXJpYW50LWNvbnRhaW5lZEJnKWAsXG4gICAgICAgIGJveFNoYWRvdzogKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnNoYWRvd3NbMl0sXG4gICAgICAgICcmOmhvdmVyJzoge1xuICAgICAgICAgIGJveFNoYWRvdzogKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnNoYWRvd3NbNF0sXG4gICAgICAgICAgLy8gUmVzZXQgb24gdG91Y2ggZGV2aWNlcywgaXQgZG9lc24ndCBhZGQgc3BlY2lmaWNpdHlcbiAgICAgICAgICAnQG1lZGlhIChob3Zlcjogbm9uZSknOiB7XG4gICAgICAgICAgICBib3hTaGFkb3c6ICh0aGVtZS52YXJzIHx8IHRoZW1lKS5zaGFkb3dzWzJdXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnJjphY3RpdmUnOiB7XG4gICAgICAgICAgYm94U2hhZG93OiAodGhlbWUudmFycyB8fCB0aGVtZSkuc2hhZG93c1s4XVxuICAgICAgICB9LFxuICAgICAgICBbYCYuJHtidXR0b25DbGFzc2VzLmZvY3VzVmlzaWJsZX1gXToge1xuICAgICAgICAgIGJveFNoYWRvdzogKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnNoYWRvd3NbNl1cbiAgICAgICAgfSxcbiAgICAgICAgW2AmLiR7YnV0dG9uQ2xhc3Nlcy5kaXNhYmxlZH1gXToge1xuICAgICAgICAgIGNvbG9yOiAodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZS5hY3Rpb24uZGlzYWJsZWQsXG4gICAgICAgICAgYm94U2hhZG93OiAodGhlbWUudmFycyB8fCB0aGVtZSkuc2hhZG93c1swXSxcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlLmFjdGlvbi5kaXNhYmxlZEJhY2tncm91bmRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIHByb3BzOiB7XG4gICAgICAgIHZhcmlhbnQ6ICdvdXRsaW5lZCdcbiAgICAgIH0sXG4gICAgICBzdHlsZToge1xuICAgICAgICBwYWRkaW5nOiAnNXB4IDE1cHgnLFxuICAgICAgICBib3JkZXI6ICcxcHggc29saWQgY3VycmVudENvbG9yJyxcbiAgICAgICAgYm9yZGVyQ29sb3I6IGB2YXIoLS12YXJpYW50LW91dGxpbmVkQm9yZGVyLCBjdXJyZW50Q29sb3IpYCxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBgdmFyKC0tdmFyaWFudC1vdXRsaW5lZEJnKWAsXG4gICAgICAgIGNvbG9yOiBgdmFyKC0tdmFyaWFudC1vdXRsaW5lZENvbG9yKWAsXG4gICAgICAgIFtgJi4ke2J1dHRvbkNsYXNzZXMuZGlzYWJsZWR9YF06IHtcbiAgICAgICAgICBib3JkZXI6IGAxcHggc29saWQgJHsodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZS5hY3Rpb24uZGlzYWJsZWRCYWNrZ3JvdW5kfWBcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIHByb3BzOiB7XG4gICAgICAgIHZhcmlhbnQ6ICd0ZXh0J1xuICAgICAgfSxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIHBhZGRpbmc6ICc2cHggOHB4JyxcbiAgICAgICAgY29sb3I6IGB2YXIoLS12YXJpYW50LXRleHRDb2xvcilgLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGB2YXIoLS12YXJpYW50LXRleHRCZylgXG4gICAgICB9XG4gICAgfSwgLi4uT2JqZWN0LmVudHJpZXModGhlbWUucGFsZXR0ZSkuZmlsdGVyKGNyZWF0ZVNpbXBsZVBhbGV0dGVWYWx1ZUZpbHRlcigpKS5tYXAoKFtjb2xvcl0pID0+ICh7XG4gICAgICBwcm9wczoge1xuICAgICAgICBjb2xvclxuICAgICAgfSxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgICctLXZhcmlhbnQtdGV4dENvbG9yJzogKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGVbY29sb3JdLm1haW4sXG4gICAgICAgICctLXZhcmlhbnQtb3V0bGluZWRDb2xvcic6ICh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlW2NvbG9yXS5tYWluLFxuICAgICAgICAnLS12YXJpYW50LW91dGxpbmVkQm9yZGVyJzogdGhlbWUuYWxwaGEoKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGVbY29sb3JdLm1haW4sIDAuNSksXG4gICAgICAgICctLXZhcmlhbnQtY29udGFpbmVkQ29sb3InOiAodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZVtjb2xvcl0uY29udHJhc3RUZXh0LFxuICAgICAgICAnLS12YXJpYW50LWNvbnRhaW5lZEJnJzogKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGVbY29sb3JdLm1haW4sXG4gICAgICAgICdAbWVkaWEgKGhvdmVyOiBob3ZlciknOiB7XG4gICAgICAgICAgJyY6aG92ZXInOiB7XG4gICAgICAgICAgICAnLS12YXJpYW50LWNvbnRhaW5lZEJnJzogKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGVbY29sb3JdLmRhcmssXG4gICAgICAgICAgICAnLS12YXJpYW50LXRleHRCZyc6IHRoZW1lLmFscGhhKCh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlW2NvbG9yXS5tYWluLCAodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZS5hY3Rpb24uaG92ZXJPcGFjaXR5KSxcbiAgICAgICAgICAgICctLXZhcmlhbnQtb3V0bGluZWRCb3JkZXInOiAodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZVtjb2xvcl0ubWFpbixcbiAgICAgICAgICAgICctLXZhcmlhbnQtb3V0bGluZWRCZyc6IHRoZW1lLmFscGhhKCh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlW2NvbG9yXS5tYWluLCAodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZS5hY3Rpb24uaG92ZXJPcGFjaXR5KVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pKSwge1xuICAgICAgcHJvcHM6IHtcbiAgICAgICAgY29sb3I6ICdpbmhlcml0J1xuICAgICAgfSxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGNvbG9yOiAnaW5oZXJpdCcsXG4gICAgICAgIGJvcmRlckNvbG9yOiAnY3VycmVudENvbG9yJyxcbiAgICAgICAgJy0tdmFyaWFudC1jb250YWluZWRCZyc6IHRoZW1lLnZhcnMgPyB0aGVtZS52YXJzLnBhbGV0dGUuQnV0dG9uLmluaGVyaXRDb250YWluZWRCZyA6IGluaGVyaXRDb250YWluZWRCYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICdAbWVkaWEgKGhvdmVyOiBob3ZlciknOiB7XG4gICAgICAgICAgJyY6aG92ZXInOiB7XG4gICAgICAgICAgICAnLS12YXJpYW50LWNvbnRhaW5lZEJnJzogdGhlbWUudmFycyA/IHRoZW1lLnZhcnMucGFsZXR0ZS5CdXR0b24uaW5oZXJpdENvbnRhaW5lZEhvdmVyQmcgOiBpbmhlcml0Q29udGFpbmVkSG92ZXJCYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgICAnLS12YXJpYW50LXRleHRCZyc6IHRoZW1lLmFscGhhKCh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlLnRleHQucHJpbWFyeSwgKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGUuYWN0aW9uLmhvdmVyT3BhY2l0eSksXG4gICAgICAgICAgICAnLS12YXJpYW50LW91dGxpbmVkQmcnOiB0aGVtZS5hbHBoYSgodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZS50ZXh0LnByaW1hcnksICh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlLmFjdGlvbi5ob3Zlck9wYWNpdHkpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAgcHJvcHM6IHtcbiAgICAgICAgc2l6ZTogJ3NtYWxsJyxcbiAgICAgICAgdmFyaWFudDogJ3RleHQnXG4gICAgICB9LFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgcGFkZGluZzogJzRweCA1cHgnLFxuICAgICAgICBmb250U2l6ZTogdGhlbWUudHlwb2dyYXBoeS5weFRvUmVtKDEzKVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIHByb3BzOiB7XG4gICAgICAgIHNpemU6ICdsYXJnZScsXG4gICAgICAgIHZhcmlhbnQ6ICd0ZXh0J1xuICAgICAgfSxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIHBhZGRpbmc6ICc4cHggMTFweCcsXG4gICAgICAgIGZvbnRTaXplOiB0aGVtZS50eXBvZ3JhcGh5LnB4VG9SZW0oMTUpXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgcHJvcHM6IHtcbiAgICAgICAgc2l6ZTogJ3NtYWxsJyxcbiAgICAgICAgdmFyaWFudDogJ291dGxpbmVkJ1xuICAgICAgfSxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIHBhZGRpbmc6ICczcHggOXB4JyxcbiAgICAgICAgZm9udFNpemU6IHRoZW1lLnR5cG9ncmFwaHkucHhUb1JlbSgxMylcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBwcm9wczoge1xuICAgICAgICBzaXplOiAnbGFyZ2UnLFxuICAgICAgICB2YXJpYW50OiAnb3V0bGluZWQnXG4gICAgICB9LFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgcGFkZGluZzogJzdweCAyMXB4JyxcbiAgICAgICAgZm9udFNpemU6IHRoZW1lLnR5cG9ncmFwaHkucHhUb1JlbSgxNSlcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBwcm9wczoge1xuICAgICAgICBzaXplOiAnc21hbGwnLFxuICAgICAgICB2YXJpYW50OiAnY29udGFpbmVkJ1xuICAgICAgfSxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIHBhZGRpbmc6ICc0cHggMTBweCcsXG4gICAgICAgIGZvbnRTaXplOiB0aGVtZS50eXBvZ3JhcGh5LnB4VG9SZW0oMTMpXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgcHJvcHM6IHtcbiAgICAgICAgc2l6ZTogJ2xhcmdlJyxcbiAgICAgICAgdmFyaWFudDogJ2NvbnRhaW5lZCdcbiAgICAgIH0sXG4gICAgICBzdHlsZToge1xuICAgICAgICBwYWRkaW5nOiAnOHB4IDIycHgnLFxuICAgICAgICBmb250U2l6ZTogdGhlbWUudHlwb2dyYXBoeS5weFRvUmVtKDE1KVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIHByb3BzOiB7XG4gICAgICAgIGRpc2FibGVFbGV2YXRpb246IHRydWVcbiAgICAgIH0sXG4gICAgICBzdHlsZToge1xuICAgICAgICBib3hTaGFkb3c6ICdub25lJyxcbiAgICAgICAgJyY6aG92ZXInOiB7XG4gICAgICAgICAgYm94U2hhZG93OiAnbm9uZSdcbiAgICAgICAgfSxcbiAgICAgICAgW2AmLiR7YnV0dG9uQ2xhc3Nlcy5mb2N1c1Zpc2libGV9YF06IHtcbiAgICAgICAgICBib3hTaGFkb3c6ICdub25lJ1xuICAgICAgICB9LFxuICAgICAgICAnJjphY3RpdmUnOiB7XG4gICAgICAgICAgYm94U2hhZG93OiAnbm9uZSdcbiAgICAgICAgfSxcbiAgICAgICAgW2AmLiR7YnV0dG9uQ2xhc3Nlcy5kaXNhYmxlZH1gXToge1xuICAgICAgICAgIGJveFNoYWRvdzogJ25vbmUnXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBwcm9wczoge1xuICAgICAgICBmdWxsV2lkdGg6IHRydWVcbiAgICAgIH0sXG4gICAgICBzdHlsZToge1xuICAgICAgICB3aWR0aDogJzEwMCUnXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgcHJvcHM6IHtcbiAgICAgICAgbG9hZGluZ1Bvc2l0aW9uOiAnY2VudGVyJ1xuICAgICAgfSxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIHRyYW5zaXRpb246IHRoZW1lLnRyYW5zaXRpb25zLmNyZWF0ZShbJ2JhY2tncm91bmQtY29sb3InLCAnYm94LXNoYWRvdycsICdib3JkZXItY29sb3InXSwge1xuICAgICAgICAgIGR1cmF0aW9uOiB0aGVtZS50cmFuc2l0aW9ucy5kdXJhdGlvbi5zaG9ydFxuICAgICAgICB9KSxcbiAgICAgICAgW2AmLiR7YnV0dG9uQ2xhc3Nlcy5sb2FkaW5nfWBdOiB7XG4gICAgICAgICAgY29sb3I6ICd0cmFuc3BhcmVudCdcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1dXG4gIH07XG59KSk7XG5jb25zdCBCdXR0b25TdGFydEljb24gPSBzdHlsZWQoJ3NwYW4nLCB7XG4gIG5hbWU6ICdNdWlCdXR0b24nLFxuICBzbG90OiAnU3RhcnRJY29uJyxcbiAgb3ZlcnJpZGVzUmVzb2x2ZXI6IChwcm9wcywgc3R5bGVzKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgb3duZXJTdGF0ZVxuICAgIH0gPSBwcm9wcztcbiAgICByZXR1cm4gW3N0eWxlcy5zdGFydEljb24sIG93bmVyU3RhdGUubG9hZGluZyAmJiBzdHlsZXMuc3RhcnRJY29uTG9hZGluZ1N0YXJ0LCBzdHlsZXNbYGljb25TaXplJHtjYXBpdGFsaXplKG93bmVyU3RhdGUuc2l6ZSl9YF1dO1xuICB9XG59KSgoe1xuICB0aGVtZVxufSkgPT4gKHtcbiAgZGlzcGxheTogJ2luaGVyaXQnLFxuICBtYXJnaW5SaWdodDogOCxcbiAgbWFyZ2luTGVmdDogLTQsXG4gIHZhcmlhbnRzOiBbe1xuICAgIHByb3BzOiB7XG4gICAgICBzaXplOiAnc21hbGwnXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgbWFyZ2luTGVmdDogLTJcbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczoge1xuICAgICAgbG9hZGluZ1Bvc2l0aW9uOiAnc3RhcnQnLFxuICAgICAgbG9hZGluZzogdHJ1ZVxuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIHRyYW5zaXRpb246IHRoZW1lLnRyYW5zaXRpb25zLmNyZWF0ZShbJ29wYWNpdHknXSwge1xuICAgICAgICBkdXJhdGlvbjogdGhlbWUudHJhbnNpdGlvbnMuZHVyYXRpb24uc2hvcnRcbiAgICAgIH0pLFxuICAgICAgb3BhY2l0eTogMFxuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiB7XG4gICAgICBsb2FkaW5nUG9zaXRpb246ICdzdGFydCcsXG4gICAgICBsb2FkaW5nOiB0cnVlLFxuICAgICAgZnVsbFdpZHRoOiB0cnVlXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgbWFyZ2luUmlnaHQ6IC04XG4gICAgfVxuICB9LCAuLi5jb21tb25JY29uU3R5bGVzXVxufSkpO1xuY29uc3QgQnV0dG9uRW5kSWNvbiA9IHN0eWxlZCgnc3BhbicsIHtcbiAgbmFtZTogJ011aUJ1dHRvbicsXG4gIHNsb3Q6ICdFbmRJY29uJyxcbiAgb3ZlcnJpZGVzUmVzb2x2ZXI6IChwcm9wcywgc3R5bGVzKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgb3duZXJTdGF0ZVxuICAgIH0gPSBwcm9wcztcbiAgICByZXR1cm4gW3N0eWxlcy5lbmRJY29uLCBvd25lclN0YXRlLmxvYWRpbmcgJiYgc3R5bGVzLmVuZEljb25Mb2FkaW5nRW5kLCBzdHlsZXNbYGljb25TaXplJHtjYXBpdGFsaXplKG93bmVyU3RhdGUuc2l6ZSl9YF1dO1xuICB9XG59KSgoe1xuICB0aGVtZVxufSkgPT4gKHtcbiAgZGlzcGxheTogJ2luaGVyaXQnLFxuICBtYXJnaW5SaWdodDogLTQsXG4gIG1hcmdpbkxlZnQ6IDgsXG4gIHZhcmlhbnRzOiBbe1xuICAgIHByb3BzOiB7XG4gICAgICBzaXplOiAnc21hbGwnXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgbWFyZ2luUmlnaHQ6IC0yXG4gICAgfVxuICB9LCB7XG4gICAgcHJvcHM6IHtcbiAgICAgIGxvYWRpbmdQb3NpdGlvbjogJ2VuZCcsXG4gICAgICBsb2FkaW5nOiB0cnVlXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgdHJhbnNpdGlvbjogdGhlbWUudHJhbnNpdGlvbnMuY3JlYXRlKFsnb3BhY2l0eSddLCB7XG4gICAgICAgIGR1cmF0aW9uOiB0aGVtZS50cmFuc2l0aW9ucy5kdXJhdGlvbi5zaG9ydFxuICAgICAgfSksXG4gICAgICBvcGFjaXR5OiAwXG4gICAgfVxuICB9LCB7XG4gICAgcHJvcHM6IHtcbiAgICAgIGxvYWRpbmdQb3NpdGlvbjogJ2VuZCcsXG4gICAgICBsb2FkaW5nOiB0cnVlLFxuICAgICAgZnVsbFdpZHRoOiB0cnVlXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgbWFyZ2luTGVmdDogLThcbiAgICB9XG4gIH0sIC4uLmNvbW1vbkljb25TdHlsZXNdXG59KSk7XG5jb25zdCBCdXR0b25Mb2FkaW5nSW5kaWNhdG9yID0gc3R5bGVkKCdzcGFuJywge1xuICBuYW1lOiAnTXVpQnV0dG9uJyxcbiAgc2xvdDogJ0xvYWRpbmdJbmRpY2F0b3InXG59KSgoe1xuICB0aGVtZVxufSkgPT4gKHtcbiAgZGlzcGxheTogJ25vbmUnLFxuICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgdmlzaWJpbGl0eTogJ3Zpc2libGUnLFxuICB2YXJpYW50czogW3tcbiAgICBwcm9wczoge1xuICAgICAgbG9hZGluZzogdHJ1ZVxuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIGRpc3BsYXk6ICdmbGV4J1xuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiB7XG4gICAgICBsb2FkaW5nUG9zaXRpb246ICdzdGFydCdcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICBsZWZ0OiAxNFxuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiB7XG4gICAgICBsb2FkaW5nUG9zaXRpb246ICdzdGFydCcsXG4gICAgICBzaXplOiAnc21hbGwnXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgbGVmdDogMTBcbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczoge1xuICAgICAgdmFyaWFudDogJ3RleHQnLFxuICAgICAgbG9hZGluZ1Bvc2l0aW9uOiAnc3RhcnQnXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgbGVmdDogNlxuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiB7XG4gICAgICBsb2FkaW5nUG9zaXRpb246ICdjZW50ZXInXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgbGVmdDogJzUwJScsXG4gICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTUwJSknLFxuICAgICAgY29sb3I6ICh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlLmFjdGlvbi5kaXNhYmxlZFxuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiB7XG4gICAgICBsb2FkaW5nUG9zaXRpb246ICdlbmQnXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgcmlnaHQ6IDE0XG4gICAgfVxuICB9LCB7XG4gICAgcHJvcHM6IHtcbiAgICAgIGxvYWRpbmdQb3NpdGlvbjogJ2VuZCcsXG4gICAgICBzaXplOiAnc21hbGwnXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgcmlnaHQ6IDEwXG4gICAgfVxuICB9LCB7XG4gICAgcHJvcHM6IHtcbiAgICAgIHZhcmlhbnQ6ICd0ZXh0JyxcbiAgICAgIGxvYWRpbmdQb3NpdGlvbjogJ2VuZCdcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICByaWdodDogNlxuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiB7XG4gICAgICBsb2FkaW5nUG9zaXRpb246ICdzdGFydCcsXG4gICAgICBmdWxsV2lkdGg6IHRydWVcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIGxlZnQ6IC0xMFxuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiB7XG4gICAgICBsb2FkaW5nUG9zaXRpb246ICdlbmQnLFxuICAgICAgZnVsbFdpZHRoOiB0cnVlXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICByaWdodDogLTEwXG4gICAgfVxuICB9XVxufSkpO1xuY29uc3QgQnV0dG9uTG9hZGluZ0ljb25QbGFjZWhvbGRlciA9IHN0eWxlZCgnc3BhbicsIHtcbiAgbmFtZTogJ011aUJ1dHRvbicsXG4gIHNsb3Q6ICdMb2FkaW5nSWNvblBsYWNlaG9sZGVyJ1xufSkoe1xuICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgd2lkdGg6ICcxZW0nLFxuICBoZWlnaHQ6ICcxZW0nXG59KTtcbmNvbnN0IEJ1dHRvbiA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIEJ1dHRvbihpblByb3BzLCByZWYpIHtcbiAgLy8gcHJvcHMgcHJpb3JpdHk6IGBpblByb3BzYCA+IGBjb250ZXh0UHJvcHNgID4gYHRoZW1lRGVmYXVsdFByb3BzYFxuICBjb25zdCBjb250ZXh0UHJvcHMgPSBSZWFjdC51c2VDb250ZXh0KEJ1dHRvbkdyb3VwQ29udGV4dCk7XG4gIGNvbnN0IGJ1dHRvbkdyb3VwQnV0dG9uQ29udGV4dFBvc2l0aW9uQ2xhc3NOYW1lID0gUmVhY3QudXNlQ29udGV4dChCdXR0b25Hcm91cEJ1dHRvbkNvbnRleHQpO1xuICBjb25zdCByZXNvbHZlZFByb3BzID0gcmVzb2x2ZVByb3BzKGNvbnRleHRQcm9wcywgaW5Qcm9wcyk7XG4gIGNvbnN0IHByb3BzID0gdXNlRGVmYXVsdFByb3BzKHtcbiAgICBwcm9wczogcmVzb2x2ZWRQcm9wcyxcbiAgICBuYW1lOiAnTXVpQnV0dG9uJ1xuICB9KTtcbiAgY29uc3Qge1xuICAgIGNoaWxkcmVuLFxuICAgIGNvbG9yID0gJ3ByaW1hcnknLFxuICAgIGNvbXBvbmVudCA9ICdidXR0b24nLFxuICAgIGNsYXNzTmFtZSxcbiAgICBkaXNhYmxlZCA9IGZhbHNlLFxuICAgIGRpc2FibGVFbGV2YXRpb24gPSBmYWxzZSxcbiAgICBkaXNhYmxlRm9jdXNSaXBwbGUgPSBmYWxzZSxcbiAgICBlbmRJY29uOiBlbmRJY29uUHJvcCxcbiAgICBmb2N1c1Zpc2libGVDbGFzc05hbWUsXG4gICAgZnVsbFdpZHRoID0gZmFsc2UsXG4gICAgaWQ6IGlkUHJvcCxcbiAgICBsb2FkaW5nID0gbnVsbCxcbiAgICBsb2FkaW5nSW5kaWNhdG9yOiBsb2FkaW5nSW5kaWNhdG9yUHJvcCxcbiAgICBsb2FkaW5nUG9zaXRpb24gPSAnY2VudGVyJyxcbiAgICBzaXplID0gJ21lZGl1bScsXG4gICAgc3RhcnRJY29uOiBzdGFydEljb25Qcm9wLFxuICAgIHR5cGUsXG4gICAgdmFyaWFudCA9ICd0ZXh0JyxcbiAgICAuLi5vdGhlclxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGxvYWRpbmdJZCA9IHVzZUlkKGlkUHJvcCk7XG4gIGNvbnN0IGxvYWRpbmdJbmRpY2F0b3IgPSBsb2FkaW5nSW5kaWNhdG9yUHJvcCA/PyAvKiNfX1BVUkVfXyovX2pzeChDaXJjdWxhclByb2dyZXNzLCB7XG4gICAgXCJhcmlhLWxhYmVsbGVkYnlcIjogbG9hZGluZ0lkLFxuICAgIGNvbG9yOiBcImluaGVyaXRcIixcbiAgICBzaXplOiAxNlxuICB9KTtcbiAgY29uc3Qgb3duZXJTdGF0ZSA9IHtcbiAgICAuLi5wcm9wcyxcbiAgICBjb2xvcixcbiAgICBjb21wb25lbnQsXG4gICAgZGlzYWJsZWQsXG4gICAgZGlzYWJsZUVsZXZhdGlvbixcbiAgICBkaXNhYmxlRm9jdXNSaXBwbGUsXG4gICAgZnVsbFdpZHRoLFxuICAgIGxvYWRpbmcsXG4gICAgbG9hZGluZ0luZGljYXRvcixcbiAgICBsb2FkaW5nUG9zaXRpb24sXG4gICAgc2l6ZSxcbiAgICB0eXBlLFxuICAgIHZhcmlhbnRcbiAgfTtcbiAgY29uc3QgY2xhc3NlcyA9IHVzZVV0aWxpdHlDbGFzc2VzKG93bmVyU3RhdGUpO1xuICBjb25zdCBzdGFydEljb24gPSAoc3RhcnRJY29uUHJvcCB8fCBsb2FkaW5nICYmIGxvYWRpbmdQb3NpdGlvbiA9PT0gJ3N0YXJ0JykgJiYgLyojX19QVVJFX18qL19qc3goQnV0dG9uU3RhcnRJY29uLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnN0YXJ0SWNvbixcbiAgICBvd25lclN0YXRlOiBvd25lclN0YXRlLFxuICAgIGNoaWxkcmVuOiBzdGFydEljb25Qcm9wIHx8IC8qI19fUFVSRV9fKi9fanN4KEJ1dHRvbkxvYWRpbmdJY29uUGxhY2Vob2xkZXIsIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5sb2FkaW5nSWNvblBsYWNlaG9sZGVyLFxuICAgICAgb3duZXJTdGF0ZTogb3duZXJTdGF0ZVxuICAgIH0pXG4gIH0pO1xuICBjb25zdCBlbmRJY29uID0gKGVuZEljb25Qcm9wIHx8IGxvYWRpbmcgJiYgbG9hZGluZ1Bvc2l0aW9uID09PSAnZW5kJykgJiYgLyojX19QVVJFX18qL19qc3goQnV0dG9uRW5kSWNvbiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5lbmRJY29uLFxuICAgIG93bmVyU3RhdGU6IG93bmVyU3RhdGUsXG4gICAgY2hpbGRyZW46IGVuZEljb25Qcm9wIHx8IC8qI19fUFVSRV9fKi9fanN4KEJ1dHRvbkxvYWRpbmdJY29uUGxhY2Vob2xkZXIsIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5sb2FkaW5nSWNvblBsYWNlaG9sZGVyLFxuICAgICAgb3duZXJTdGF0ZTogb3duZXJTdGF0ZVxuICAgIH0pXG4gIH0pO1xuICBjb25zdCBwb3NpdGlvbkNsYXNzTmFtZSA9IGJ1dHRvbkdyb3VwQnV0dG9uQ29udGV4dFBvc2l0aW9uQ2xhc3NOYW1lIHx8ICcnO1xuICBjb25zdCBsb2FkZXIgPSB0eXBlb2YgbG9hZGluZyA9PT0gJ2Jvb2xlYW4nID9cbiAgLyojX19QVVJFX18qL1xuICAvLyB1c2UgcGxhaW4gSFRNTCBzcGFuIHRvIG1pbmltaXplIHRoZSBydW50aW1lIG92ZXJoZWFkXG4gIF9qc3goXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMubG9hZGluZ1dyYXBwZXIsXG4gICAgc3R5bGU6IHtcbiAgICAgIGRpc3BsYXk6ICdjb250ZW50cydcbiAgICB9LFxuICAgIGNoaWxkcmVuOiBsb2FkaW5nICYmIC8qI19fUFVSRV9fKi9fanN4KEJ1dHRvbkxvYWRpbmdJbmRpY2F0b3IsIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5sb2FkaW5nSW5kaWNhdG9yLFxuICAgICAgb3duZXJTdGF0ZTogb3duZXJTdGF0ZSxcbiAgICAgIGNoaWxkcmVuOiBsb2FkaW5nSW5kaWNhdG9yXG4gICAgfSlcbiAgfSkgOiBudWxsO1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3hzKEJ1dHRvblJvb3QsIHtcbiAgICBvd25lclN0YXRlOiBvd25lclN0YXRlLFxuICAgIGNsYXNzTmFtZTogY2xzeChjb250ZXh0UHJvcHMuY2xhc3NOYW1lLCBjbGFzc2VzLnJvb3QsIGNsYXNzTmFtZSwgcG9zaXRpb25DbGFzc05hbWUpLFxuICAgIGNvbXBvbmVudDogY29tcG9uZW50LFxuICAgIGRpc2FibGVkOiBkaXNhYmxlZCB8fCBsb2FkaW5nLFxuICAgIGZvY3VzUmlwcGxlOiAhZGlzYWJsZUZvY3VzUmlwcGxlLFxuICAgIGZvY3VzVmlzaWJsZUNsYXNzTmFtZTogY2xzeChjbGFzc2VzLmZvY3VzVmlzaWJsZSwgZm9jdXNWaXNpYmxlQ2xhc3NOYW1lKSxcbiAgICByZWY6IHJlZixcbiAgICB0eXBlOiB0eXBlLFxuICAgIGlkOiBsb2FkaW5nID8gbG9hZGluZ0lkIDogaWRQcm9wLFxuICAgIC4uLm90aGVyLFxuICAgIGNsYXNzZXM6IGNsYXNzZXMsXG4gICAgY2hpbGRyZW46IFtzdGFydEljb24sIGxvYWRpbmdQb3NpdGlvbiAhPT0gJ2VuZCcgJiYgbG9hZGVyLCBjaGlsZHJlbiwgbG9hZGluZ1Bvc2l0aW9uID09PSAnZW5kJyAmJiBsb2FkZXIsIGVuZEljb25dXG4gIH0pO1xufSk7XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBCdXR0b24ucHJvcFR5cGVzIC8qIHJlbW92ZS1wcm9wdHlwZXMgKi8gPSB7XG4gIC8vIOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBXYXJuaW5nIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuICAvLyDilIIgVGhlc2UgUHJvcFR5cGVzIGFyZSBnZW5lcmF0ZWQgZnJvbSB0aGUgVHlwZVNjcmlwdCB0eXBlIGRlZmluaXRpb25zLiDilIJcbiAgLy8g4pSCICAgIFRvIHVwZGF0ZSB0aGVtLCBlZGl0IHRoZSBkLnRzIGZpbGUgYW5kIHJ1biBgcG5wbSBwcm9wdHlwZXNgLiAgICAg4pSCXG4gIC8vIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmFxuICAvKipcbiAgICogVGhlIGNvbnRlbnQgb2YgdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIG9yIGV4dGVuZCB0aGUgc3R5bGVzIGFwcGxpZWQgdG8gdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIC8qKlxuICAgKiBUaGUgY29sb3Igb2YgdGhlIGNvbXBvbmVudC5cbiAgICogSXQgc3VwcG9ydHMgYm90aCBkZWZhdWx0IGFuZCBjdXN0b20gdGhlbWUgY29sb3JzLCB3aGljaCBjYW4gYmUgYWRkZWQgYXMgc2hvd24gaW4gdGhlXG4gICAqIFtwYWxldHRlIGN1c3RvbWl6YXRpb24gZ3VpZGVdKGh0dHBzOi8vbXVpLmNvbS9tYXRlcmlhbC11aS9jdXN0b21pemF0aW9uL3BhbGV0dGUvI2N1c3RvbS1jb2xvcnMpLlxuICAgKiBAZGVmYXVsdCAncHJpbWFyeSdcbiAgICovXG4gIGNvbG9yOiBQcm9wVHlwZXMgLyogQHR5cGVzY3JpcHQtdG8tcHJvcHR5cGVzLWlnbm9yZSAqLy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ2luaGVyaXQnLCAncHJpbWFyeScsICdzZWNvbmRhcnknLCAnc3VjY2VzcycsICdlcnJvcicsICdpbmZvJywgJ3dhcm5pbmcnXSksIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgLyoqXG4gICAqIFRoZSBjb21wb25lbnQgdXNlZCBmb3IgdGhlIHJvb3Qgbm9kZS5cbiAgICogRWl0aGVyIGEgc3RyaW5nIHRvIHVzZSBhIEhUTUwgZWxlbWVudCBvciBhIGNvbXBvbmVudC5cbiAgICovXG4gIGNvbXBvbmVudDogUHJvcFR5cGVzLmVsZW1lbnRUeXBlLFxuICAvKipcbiAgICogSWYgYHRydWVgLCB0aGUgY29tcG9uZW50IGlzIGRpc2FibGVkLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZGlzYWJsZWQ6IFByb3BUeXBlcy5ib29sLFxuICAvKipcbiAgICogSWYgYHRydWVgLCBubyBlbGV2YXRpb24gaXMgdXNlZC5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGRpc2FibGVFbGV2YXRpb246IFByb3BUeXBlcy5ib29sLFxuICAvKipcbiAgICogSWYgYHRydWVgLCB0aGUgIGtleWJvYXJkIGZvY3VzIHJpcHBsZSBpcyBkaXNhYmxlZC5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGRpc2FibGVGb2N1c1JpcHBsZTogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSByaXBwbGUgZWZmZWN0IGlzIGRpc2FibGVkLlxuICAgKlxuICAgKiDimqDvuI8gV2l0aG91dCBhIHJpcHBsZSB0aGVyZSBpcyBubyBzdHlsaW5nIGZvciA6Zm9jdXMtdmlzaWJsZSBieSBkZWZhdWx0LiBCZSBzdXJlXG4gICAqIHRvIGhpZ2hsaWdodCB0aGUgZWxlbWVudCBieSBhcHBseWluZyBzZXBhcmF0ZSBzdHlsZXMgd2l0aCB0aGUgYC5NdWktZm9jdXNWaXNpYmxlYCBjbGFzcy5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGRpc2FibGVSaXBwbGU6IFByb3BUeXBlcy5ib29sLFxuICAvKipcbiAgICogRWxlbWVudCBwbGFjZWQgYWZ0ZXIgdGhlIGNoaWxkcmVuLlxuICAgKi9cbiAgZW5kSWNvbjogUHJvcFR5cGVzLm5vZGUsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBmb2N1c1Zpc2libGVDbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBidXR0b24gd2lsbCB0YWtlIHVwIHRoZSBmdWxsIHdpZHRoIG9mIGl0cyBjb250YWluZXIuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBmdWxsV2lkdGg6IFByb3BUeXBlcy5ib29sLFxuICAvKipcbiAgICogVGhlIFVSTCB0byBsaW5rIHRvIHdoZW4gdGhlIGJ1dHRvbiBpcyBjbGlja2VkLlxuICAgKiBJZiBkZWZpbmVkLCBhbiBgYWAgZWxlbWVudCB3aWxsIGJlIHVzZWQgYXMgdGhlIHJvb3Qgbm9kZS5cbiAgICovXG4gIGhyZWY6IFByb3BUeXBlcy5zdHJpbmcsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBpZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIGxvYWRpbmcgaW5kaWNhdG9yIGlzIHZpc2libGUgYW5kIHRoZSBidXR0b24gaXMgZGlzYWJsZWQuXG4gICAqIElmIGB0cnVlIHwgZmFsc2VgLCB0aGUgbG9hZGluZyB3cmFwcGVyIGlzIGFsd2F5cyByZW5kZXJlZCBiZWZvcmUgdGhlIGNoaWxkcmVuIHRvIHByZXZlbnQgW0dvb2dsZSBUcmFuc2xhdGlvbiBDcmFzaF0oaHR0cHM6Ly9naXRodWIuY29tL211aS9tYXRlcmlhbC11aS9pc3N1ZXMvMjc4NTMpLlxuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqL1xuICBsb2FkaW5nOiBQcm9wVHlwZXMuYm9vbCxcbiAgLyoqXG4gICAqIEVsZW1lbnQgcGxhY2VkIGJlZm9yZSB0aGUgY2hpbGRyZW4gaWYgdGhlIGJ1dHRvbiBpcyBpbiBsb2FkaW5nIHN0YXRlLlxuICAgKiBUaGUgbm9kZSBzaG91bGQgY29udGFpbiBhbiBlbGVtZW50IHdpdGggYHJvbGU9XCJwcm9ncmVzc2JhclwiYCB3aXRoIGFuIGFjY2Vzc2libGUgbmFtZS5cbiAgICogQnkgZGVmYXVsdCwgaXQgcmVuZGVycyBhIGBDaXJjdWxhclByb2dyZXNzYCB0aGF0IGlzIGxhYmVsZWQgYnkgdGhlIGJ1dHRvbiBpdHNlbGYuXG4gICAqIEBkZWZhdWx0IDxDaXJjdWxhclByb2dyZXNzIGNvbG9yPVwiaW5oZXJpdFwiIHNpemU9ezE2fSAvPlxuICAgKi9cbiAgbG9hZGluZ0luZGljYXRvcjogUHJvcFR5cGVzLm5vZGUsXG4gIC8qKlxuICAgKiBUaGUgbG9hZGluZyBpbmRpY2F0b3IgY2FuIGJlIHBvc2l0aW9uZWQgb24gdGhlIHN0YXJ0LCBlbmQsIG9yIHRoZSBjZW50ZXIgb2YgdGhlIGJ1dHRvbi5cbiAgICogQGRlZmF1bHQgJ2NlbnRlcidcbiAgICovXG4gIGxvYWRpbmdQb3NpdGlvbjogUHJvcFR5cGVzLm9uZU9mKFsnY2VudGVyJywgJ2VuZCcsICdzdGFydCddKSxcbiAgLyoqXG4gICAqIFRoZSBzaXplIG9mIHRoZSBjb21wb25lbnQuXG4gICAqIGBzbWFsbGAgaXMgZXF1aXZhbGVudCB0byB0aGUgZGVuc2UgYnV0dG9uIHN0eWxpbmcuXG4gICAqIEBkZWZhdWx0ICdtZWRpdW0nXG4gICAqL1xuICBzaXplOiBQcm9wVHlwZXMgLyogQHR5cGVzY3JpcHQtdG8tcHJvcHR5cGVzLWlnbm9yZSAqLy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZSddKSwgUHJvcFR5cGVzLnN0cmluZ10pLFxuICAvKipcbiAgICogRWxlbWVudCBwbGFjZWQgYmVmb3JlIHRoZSBjaGlsZHJlbi5cbiAgICovXG4gIHN0YXJ0SWNvbjogUHJvcFR5cGVzLm5vZGUsXG4gIC8qKlxuICAgKiBUaGUgc3lzdGVtIHByb3AgdGhhdCBhbGxvd3MgZGVmaW5pbmcgc3lzdGVtIG92ZXJyaWRlcyBhcyB3ZWxsIGFzIGFkZGl0aW9uYWwgQ1NTIHN0eWxlcy5cbiAgICovXG4gIHN4OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdCwgUHJvcFR5cGVzLmJvb2xdKSksIFByb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0XSksXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICB0eXBlOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWydidXR0b24nLCAncmVzZXQnLCAnc3VibWl0J10pLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gIC8qKlxuICAgKiBUaGUgdmFyaWFudCB0byB1c2UuXG4gICAqIEBkZWZhdWx0ICd0ZXh0J1xuICAgKi9cbiAgdmFyaWFudDogUHJvcFR5cGVzIC8qIEB0eXBlc2NyaXB0LXRvLXByb3B0eXBlcy1pZ25vcmUgKi8ub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWydjb250YWluZWQnLCAnb3V0bGluZWQnLCAndGV4dCddKSwgUHJvcFR5cGVzLnN0cmluZ10pXG59IDogdm9pZCAwO1xuZXhwb3J0IGRlZmF1bHQgQnV0dG9uOyIsCiAgICAiLyoqXG4gKiBTYWZlIGNoYWluZWQgZnVuY3Rpb24uXG4gKlxuICogV2lsbCBvbmx5IGNyZWF0ZSBhIG5ldyBmdW5jdGlvbiBpZiBuZWVkZWQsXG4gKiBvdGhlcndpc2Ugd2lsbCBwYXNzIGJhY2sgZXhpc3RpbmcgZnVuY3Rpb25zIG9yIG51bGwuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUNoYWluZWRGdW5jdGlvbiguLi5mdW5jcykge1xuICByZXR1cm4gZnVuY3MucmVkdWNlKChhY2MsIGZ1bmMpID0+IHtcbiAgICBpZiAoZnVuYyA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gY2hhaW5lZEZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgIGFjYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgIGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfTtcbiAgfSwgKCkgPT4ge30pO1xufSIsCiAgICAiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgU3ZnSWNvbiBmcm9tIFwiLi4vU3ZnSWNvbi9pbmRleC5qc1wiO1xuXG4vKipcbiAqIFByaXZhdGUgbW9kdWxlIHJlc2VydmVkIGZvciBAbXVpIHBhY2thZ2VzLlxuICovXG5pbXBvcnQgeyBqc3ggYXMgX2pzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlU3ZnSWNvbihwYXRoLCBkaXNwbGF5TmFtZSkge1xuICBmdW5jdGlvbiBDb21wb25lbnQocHJvcHMsIHJlZikge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeChTdmdJY29uLCB7XG4gICAgICBcImRhdGEtdGVzdGlkXCI6IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBgJHtkaXNwbGF5TmFtZX1JY29uYCA6IHVuZGVmaW5lZCxcbiAgICAgIHJlZjogcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogcGF0aFxuICAgIH0pO1xuICB9XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgLy8gTmVlZCB0byBzZXQgYGRpc3BsYXlOYW1lYCBvbiB0aGUgaW5uZXIgY29tcG9uZW50IGZvciBSZWFjdC5tZW1vLlxuICAgIC8vIFJlYWN0IHByaW9yIHRvIDE2LjE0IGlnbm9yZXMgYGRpc3BsYXlOYW1lYCBvbiB0aGUgd3JhcHBlci5cbiAgICBDb21wb25lbnQuZGlzcGxheU5hbWUgPSBgJHtkaXNwbGF5TmFtZX1JY29uYDtcbiAgfVxuICBDb21wb25lbnQubXVpTmFtZSA9IFN2Z0ljb24ubXVpTmFtZTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5tZW1vKC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKENvbXBvbmVudCkpO1xufSIsCiAgICAiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgY29tcG9zZUNsYXNzZXMgZnJvbSAnQG11aS91dGlscy9jb21wb3NlQ2xhc3Nlcyc7XG5pbXBvcnQgY2FwaXRhbGl6ZSBmcm9tIFwiLi4vdXRpbHMvY2FwaXRhbGl6ZS5qc1wiO1xuaW1wb3J0IHsgc3R5bGVkIH0gZnJvbSBcIi4uL3plcm8tc3R5bGVkL2luZGV4LmpzXCI7XG5pbXBvcnQgbWVtb1RoZW1lIGZyb20gXCIuLi91dGlscy9tZW1vVGhlbWUuanNcIjtcbmltcG9ydCB7IHVzZURlZmF1bHRQcm9wcyB9IGZyb20gXCIuLi9EZWZhdWx0UHJvcHNQcm92aWRlci9pbmRleC5qc1wiO1xuaW1wb3J0IHsgZ2V0U3ZnSWNvblV0aWxpdHlDbGFzcyB9IGZyb20gXCIuL3N2Z0ljb25DbGFzc2VzLmpzXCI7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuY29uc3QgdXNlVXRpbGl0eUNsYXNzZXMgPSBvd25lclN0YXRlID0+IHtcbiAgY29uc3Qge1xuICAgIGNvbG9yLFxuICAgIGZvbnRTaXplLFxuICAgIGNsYXNzZXNcbiAgfSA9IG93bmVyU3RhdGU7XG4gIGNvbnN0IHNsb3RzID0ge1xuICAgIHJvb3Q6IFsncm9vdCcsIGNvbG9yICE9PSAnaW5oZXJpdCcgJiYgYGNvbG9yJHtjYXBpdGFsaXplKGNvbG9yKX1gLCBgZm9udFNpemUke2NhcGl0YWxpemUoZm9udFNpemUpfWBdXG4gIH07XG4gIHJldHVybiBjb21wb3NlQ2xhc3NlcyhzbG90cywgZ2V0U3ZnSWNvblV0aWxpdHlDbGFzcywgY2xhc3Nlcyk7XG59O1xuY29uc3QgU3ZnSWNvblJvb3QgPSBzdHlsZWQoJ3N2ZycsIHtcbiAgbmFtZTogJ011aVN2Z0ljb24nLFxuICBzbG90OiAnUm9vdCcsXG4gIG92ZXJyaWRlc1Jlc29sdmVyOiAocHJvcHMsIHN0eWxlcykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIG93bmVyU3RhdGVcbiAgICB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIFtzdHlsZXMucm9vdCwgb3duZXJTdGF0ZS5jb2xvciAhPT0gJ2luaGVyaXQnICYmIHN0eWxlc1tgY29sb3Ike2NhcGl0YWxpemUob3duZXJTdGF0ZS5jb2xvcil9YF0sIHN0eWxlc1tgZm9udFNpemUke2NhcGl0YWxpemUob3duZXJTdGF0ZS5mb250U2l6ZSl9YF1dO1xuICB9XG59KShtZW1vVGhlbWUoKHtcbiAgdGhlbWVcbn0pID0+ICh7XG4gIHVzZXJTZWxlY3Q6ICdub25lJyxcbiAgd2lkdGg6ICcxZW0nLFxuICBoZWlnaHQ6ICcxZW0nLFxuICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgZmxleFNocmluazogMCxcbiAgdHJhbnNpdGlvbjogdGhlbWUudHJhbnNpdGlvbnM/LmNyZWF0ZT8uKCdmaWxsJywge1xuICAgIGR1cmF0aW9uOiAodGhlbWUudmFycyA/PyB0aGVtZSkudHJhbnNpdGlvbnM/LmR1cmF0aW9uPy5zaG9ydGVyXG4gIH0pLFxuICB2YXJpYW50czogW3tcbiAgICBwcm9wczogcHJvcHMgPT4gIXByb3BzLmhhc1N2Z0FzQ2hpbGQsXG4gICAgc3R5bGU6IHtcbiAgICAgIC8vIHRoZSA8c3ZnPiB3aWxsIGRlZmluZSB0aGUgcHJvcGVydHkgdGhhdCBoYXMgYGN1cnJlbnRDb2xvcmBcbiAgICAgIC8vIGZvciBleGFtcGxlIGhlcm9pY29ucyB1c2VzIGZpbGw9XCJub25lXCIgYW5kIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiXG4gICAgICBmaWxsOiAnY3VycmVudENvbG9yJ1xuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiB7XG4gICAgICBmb250U2l6ZTogJ2luaGVyaXQnXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgZm9udFNpemU6ICdpbmhlcml0J1xuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiB7XG4gICAgICBmb250U2l6ZTogJ3NtYWxsJ1xuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIGZvbnRTaXplOiB0aGVtZS50eXBvZ3JhcGh5Py5weFRvUmVtPy4oMjApIHx8ICcxLjI1cmVtJ1xuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiB7XG4gICAgICBmb250U2l6ZTogJ21lZGl1bSdcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICBmb250U2l6ZTogdGhlbWUudHlwb2dyYXBoeT8ucHhUb1JlbT8uKDI0KSB8fCAnMS41cmVtJ1xuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiB7XG4gICAgICBmb250U2l6ZTogJ2xhcmdlJ1xuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIGZvbnRTaXplOiB0aGVtZS50eXBvZ3JhcGh5Py5weFRvUmVtPy4oMzUpIHx8ICcyLjE4NzVyZW0nXG4gICAgfVxuICB9LFxuICAvLyBUT0RPIHY1IGRlcHJlY2F0ZSBjb2xvciBwcm9wLCB2NiByZW1vdmUgZm9yIHN4XG4gIC4uLk9iamVjdC5lbnRyaWVzKCh0aGVtZS52YXJzID8/IHRoZW1lKS5wYWxldHRlKS5maWx0ZXIoKFssIHZhbHVlXSkgPT4gdmFsdWUgJiYgdmFsdWUubWFpbikubWFwKChbY29sb3JdKSA9PiAoe1xuICAgIHByb3BzOiB7XG4gICAgICBjb2xvclxuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIGNvbG9yOiAodGhlbWUudmFycyA/PyB0aGVtZSkucGFsZXR0ZT8uW2NvbG9yXT8ubWFpblxuICAgIH1cbiAgfSkpLCB7XG4gICAgcHJvcHM6IHtcbiAgICAgIGNvbG9yOiAnYWN0aW9uJ1xuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIGNvbG9yOiAodGhlbWUudmFycyA/PyB0aGVtZSkucGFsZXR0ZT8uYWN0aW9uPy5hY3RpdmVcbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczoge1xuICAgICAgY29sb3I6ICdkaXNhYmxlZCdcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICBjb2xvcjogKHRoZW1lLnZhcnMgPz8gdGhlbWUpLnBhbGV0dGU/LmFjdGlvbj8uZGlzYWJsZWRcbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczoge1xuICAgICAgY29sb3I6ICdpbmhlcml0J1xuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIGNvbG9yOiB1bmRlZmluZWRcbiAgICB9XG4gIH1dXG59KSkpO1xuY29uc3QgU3ZnSWNvbiA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIFN2Z0ljb24oaW5Qcm9wcywgcmVmKSB7XG4gIGNvbnN0IHByb3BzID0gdXNlRGVmYXVsdFByb3BzKHtcbiAgICBwcm9wczogaW5Qcm9wcyxcbiAgICBuYW1lOiAnTXVpU3ZnSWNvbidcbiAgfSk7XG4gIGNvbnN0IHtcbiAgICBjaGlsZHJlbixcbiAgICBjbGFzc05hbWUsXG4gICAgY29sb3IgPSAnaW5oZXJpdCcsXG4gICAgY29tcG9uZW50ID0gJ3N2ZycsXG4gICAgZm9udFNpemUgPSAnbWVkaXVtJyxcbiAgICBodG1sQ29sb3IsXG4gICAgaW5oZXJpdFZpZXdCb3ggPSBmYWxzZSxcbiAgICB0aXRsZUFjY2VzcyxcbiAgICB2aWV3Qm94ID0gJzAgMCAyNCAyNCcsXG4gICAgLi4ub3RoZXJcbiAgfSA9IHByb3BzO1xuICBjb25zdCBoYXNTdmdBc0NoaWxkID0gLyojX19QVVJFX18qL1JlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkcmVuKSAmJiBjaGlsZHJlbi50eXBlID09PSAnc3ZnJztcbiAgY29uc3Qgb3duZXJTdGF0ZSA9IHtcbiAgICAuLi5wcm9wcyxcbiAgICBjb2xvcixcbiAgICBjb21wb25lbnQsXG4gICAgZm9udFNpemUsXG4gICAgaW5zdGFuY2VGb250U2l6ZTogaW5Qcm9wcy5mb250U2l6ZSxcbiAgICBpbmhlcml0Vmlld0JveCxcbiAgICB2aWV3Qm94LFxuICAgIGhhc1N2Z0FzQ2hpbGRcbiAgfTtcbiAgY29uc3QgbW9yZSA9IHt9O1xuICBpZiAoIWluaGVyaXRWaWV3Qm94KSB7XG4gICAgbW9yZS52aWV3Qm94ID0gdmlld0JveDtcbiAgfVxuICBjb25zdCBjbGFzc2VzID0gdXNlVXRpbGl0eUNsYXNzZXMob3duZXJTdGF0ZSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeHMoU3ZnSWNvblJvb3QsIHtcbiAgICBhczogY29tcG9uZW50LFxuICAgIGNsYXNzTmFtZTogY2xzeChjbGFzc2VzLnJvb3QsIGNsYXNzTmFtZSksXG4gICAgZm9jdXNhYmxlOiBcImZhbHNlXCIsXG4gICAgY29sb3I6IGh0bWxDb2xvcixcbiAgICBcImFyaWEtaGlkZGVuXCI6IHRpdGxlQWNjZXNzID8gdW5kZWZpbmVkIDogdHJ1ZSxcbiAgICByb2xlOiB0aXRsZUFjY2VzcyA/ICdpbWcnIDogdW5kZWZpbmVkLFxuICAgIHJlZjogcmVmLFxuICAgIC4uLm1vcmUsXG4gICAgLi4ub3RoZXIsXG4gICAgLi4uKGhhc1N2Z0FzQ2hpbGQgJiYgY2hpbGRyZW4ucHJvcHMpLFxuICAgIG93bmVyU3RhdGU6IG93bmVyU3RhdGUsXG4gICAgY2hpbGRyZW46IFtoYXNTdmdBc0NoaWxkID8gY2hpbGRyZW4ucHJvcHMuY2hpbGRyZW4gOiBjaGlsZHJlbiwgdGl0bGVBY2Nlc3MgPyAvKiNfX1BVUkVfXyovX2pzeChcInRpdGxlXCIsIHtcbiAgICAgIGNoaWxkcmVuOiB0aXRsZUFjY2Vzc1xuICAgIH0pIDogbnVsbF1cbiAgfSk7XG59KTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFN2Z0ljb24ucHJvcFR5cGVzIC8qIHJlbW92ZS1wcm9wdHlwZXMgKi8gPSB7XG4gIC8vIOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBXYXJuaW5nIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuICAvLyDilIIgVGhlc2UgUHJvcFR5cGVzIGFyZSBnZW5lcmF0ZWQgZnJvbSB0aGUgVHlwZVNjcmlwdCB0eXBlIGRlZmluaXRpb25zLiDilIJcbiAgLy8g4pSCICAgIFRvIHVwZGF0ZSB0aGVtLCBlZGl0IHRoZSBkLnRzIGZpbGUgYW5kIHJ1biBgcG5wbSBwcm9wdHlwZXNgLiAgICAg4pSCXG4gIC8vIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmFxuICAvKipcbiAgICogTm9kZSBwYXNzZWQgaW50byB0aGUgU1ZHIGVsZW1lbnQuXG4gICAqL1xuICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUsXG4gIC8qKlxuICAgKiBPdmVycmlkZSBvciBleHRlbmQgdGhlIHN0eWxlcyBhcHBsaWVkIHRvIHRoZSBjb21wb25lbnQuXG4gICAqL1xuICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAvKipcbiAgICogVGhlIGNvbG9yIG9mIHRoZSBjb21wb25lbnQuXG4gICAqIEl0IHN1cHBvcnRzIGJvdGggZGVmYXVsdCBhbmQgY3VzdG9tIHRoZW1lIGNvbG9ycywgd2hpY2ggY2FuIGJlIGFkZGVkIGFzIHNob3duIGluIHRoZVxuICAgKiBbcGFsZXR0ZSBjdXN0b21pemF0aW9uIGd1aWRlXShodHRwczovL211aS5jb20vbWF0ZXJpYWwtdWkvY3VzdG9taXphdGlvbi9wYWxldHRlLyNjdXN0b20tY29sb3JzKS5cbiAgICogWW91IGNhbiB1c2UgdGhlIGBodG1sQ29sb3JgIHByb3AgdG8gYXBwbHkgYSBjb2xvciBhdHRyaWJ1dGUgdG8gdGhlIFNWRyBlbGVtZW50LlxuICAgKiBAZGVmYXVsdCAnaW5oZXJpdCdcbiAgICovXG4gIGNvbG9yOiBQcm9wVHlwZXMgLyogQHR5cGVzY3JpcHQtdG8tcHJvcHR5cGVzLWlnbm9yZSAqLy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ2luaGVyaXQnLCAnYWN0aW9uJywgJ2Rpc2FibGVkJywgJ3ByaW1hcnknLCAnc2Vjb25kYXJ5JywgJ2Vycm9yJywgJ2luZm8nLCAnc3VjY2VzcycsICd3YXJuaW5nJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gIC8qKlxuICAgKiBUaGUgY29tcG9uZW50IHVzZWQgZm9yIHRoZSByb290IG5vZGUuXG4gICAqIEVpdGhlciBhIHN0cmluZyB0byB1c2UgYSBIVE1MIGVsZW1lbnQgb3IgYSBjb21wb25lbnQuXG4gICAqL1xuICBjb21wb25lbnQ6IFByb3BUeXBlcy5lbGVtZW50VHlwZSxcbiAgLyoqXG4gICAqIFRoZSBmb250U2l6ZSBhcHBsaWVkIHRvIHRoZSBpY29uLiBEZWZhdWx0cyB0byAyNHB4LCBidXQgY2FuIGJlIGNvbmZpZ3VyZSB0byBpbmhlcml0IGZvbnQgc2l6ZS5cbiAgICogQGRlZmF1bHQgJ21lZGl1bSdcbiAgICovXG4gIGZvbnRTaXplOiBQcm9wVHlwZXMgLyogQHR5cGVzY3JpcHQtdG8tcHJvcHR5cGVzLWlnbm9yZSAqLy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ2luaGVyaXQnLCAnbGFyZ2UnLCAnbWVkaXVtJywgJ3NtYWxsJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gIC8qKlxuICAgKiBBcHBsaWVzIGEgY29sb3IgYXR0cmlidXRlIHRvIHRoZSBTVkcgZWxlbWVudC5cbiAgICovXG4gIGh0bWxDb2xvcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIHJvb3Qgbm9kZSB3aWxsIGluaGVyaXQgdGhlIGN1c3RvbSBgY29tcG9uZW50YCdzIHZpZXdCb3ggYW5kIHRoZSBgdmlld0JveGBcbiAgICogcHJvcCB3aWxsIGJlIGlnbm9yZWQuXG4gICAqIFVzZWZ1bCB3aGVuIHlvdSB3YW50IHRvIHJlZmVyZW5jZSBhIGN1c3RvbSBgY29tcG9uZW50YCBhbmQgaGF2ZSBgU3ZnSWNvbmAgcGFzcyB0aGF0XG4gICAqIGBjb21wb25lbnRgJ3Mgdmlld0JveCB0byB0aGUgcm9vdCBub2RlLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgaW5oZXJpdFZpZXdCb3g6IFByb3BUeXBlcy5ib29sLFxuICAvKipcbiAgICogVGhlIHNoYXBlLXJlbmRlcmluZyBhdHRyaWJ1dGUuIFRoZSBiZWhhdmlvciBvZiB0aGUgZGlmZmVyZW50IG9wdGlvbnMgaXMgZGVzY3JpYmVkIG9uIHRoZVxuICAgKiBbTUROIFdlYiBEb2NzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9TVkcvUmVmZXJlbmNlL0F0dHJpYnV0ZS9zaGFwZS1yZW5kZXJpbmcpLlxuICAgKiBJZiB5b3UgYXJlIGhhdmluZyBpc3N1ZXMgd2l0aCBibHVycnkgaWNvbnMgeW91IHNob3VsZCBpbnZlc3RpZ2F0ZSB0aGlzIHByb3AuXG4gICAqL1xuICBzaGFwZVJlbmRlcmluZzogUHJvcFR5cGVzLnN0cmluZyxcbiAgLyoqXG4gICAqIFRoZSBzeXN0ZW0gcHJvcCB0aGF0IGFsbG93cyBkZWZpbmluZyBzeXN0ZW0gb3ZlcnJpZGVzIGFzIHdlbGwgYXMgYWRkaXRpb25hbCBDU1Mgc3R5bGVzLlxuICAgKi9cbiAgc3g6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0LCBQcm9wVHlwZXMuYm9vbF0pKSwgUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3RdKSxcbiAgLyoqXG4gICAqIFByb3ZpZGVzIGEgaHVtYW4tcmVhZGFibGUgdGl0bGUgZm9yIHRoZSBlbGVtZW50IHRoYXQgY29udGFpbnMgaXQuXG4gICAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9TVkctYWNjZXNzLyNFcXVpdmFsZW50XG4gICAqL1xuICB0aXRsZUFjY2VzczogUHJvcFR5cGVzLnN0cmluZyxcbiAgLyoqXG4gICAqIEFsbG93cyB5b3UgdG8gcmVkZWZpbmUgd2hhdCB0aGUgY29vcmRpbmF0ZXMgd2l0aG91dCB1bml0cyBtZWFuIGluc2lkZSBhbiBTVkcgZWxlbWVudC5cbiAgICogRm9yIGV4YW1wbGUsIGlmIHRoZSBTVkcgZWxlbWVudCBpcyA1MDAgKHdpZHRoKSBieSAyMDAgKGhlaWdodCksXG4gICAqIGFuZCB5b3UgcGFzcyB2aWV3Qm94PVwiMCAwIDUwIDIwXCIsXG4gICAqIHRoaXMgbWVhbnMgdGhhdCB0aGUgY29vcmRpbmF0ZXMgaW5zaWRlIHRoZSBTVkcgd2lsbCBnbyBmcm9tIHRoZSB0b3AgbGVmdCBjb3JuZXIgKDAsMClcbiAgICogdG8gYm90dG9tIHJpZ2h0ICg1MCwyMCkgYW5kIGVhY2ggdW5pdCB3aWxsIGJlIHdvcnRoIDEwcHguXG4gICAqIEBkZWZhdWx0ICcwIDAgMjQgMjQnXG4gICAqL1xuICB2aWV3Qm94OiBQcm9wVHlwZXMuc3RyaW5nXG59IDogdm9pZCAwO1xuU3ZnSWNvbi5tdWlOYW1lID0gJ1N2Z0ljb24nO1xuZXhwb3J0IGRlZmF1bHQgU3ZnSWNvbjsiLAogICAgImltcG9ydCBnZW5lcmF0ZVV0aWxpdHlDbGFzc2VzIGZyb20gJ0BtdWkvdXRpbHMvZ2VuZXJhdGVVdGlsaXR5Q2xhc3Nlcyc7XG5pbXBvcnQgZ2VuZXJhdGVVdGlsaXR5Q2xhc3MgZnJvbSAnQG11aS91dGlscy9nZW5lcmF0ZVV0aWxpdHlDbGFzcyc7XG5leHBvcnQgZnVuY3Rpb24gZ2V0U3ZnSWNvblV0aWxpdHlDbGFzcyhzbG90KSB7XG4gIHJldHVybiBnZW5lcmF0ZVV0aWxpdHlDbGFzcygnTXVpU3ZnSWNvbicsIHNsb3QpO1xufVxuY29uc3Qgc3ZnSWNvbkNsYXNzZXMgPSBnZW5lcmF0ZVV0aWxpdHlDbGFzc2VzKCdNdWlTdmdJY29uJywgWydyb290JywgJ2NvbG9yUHJpbWFyeScsICdjb2xvclNlY29uZGFyeScsICdjb2xvckFjdGlvbicsICdjb2xvckVycm9yJywgJ2NvbG9yRGlzYWJsZWQnLCAnZm9udFNpemVJbmhlcml0JywgJ2ZvbnRTaXplU21hbGwnLCAnZm9udFNpemVNZWRpdW0nLCAnZm9udFNpemVMYXJnZSddKTtcbmV4cG9ydCBkZWZhdWx0IHN2Z0ljb25DbGFzc2VzOyIsCiAgICAiLy8gQ29ycmVzcG9uZHMgdG8gMTAgZnJhbWVzIGF0IDYwIEh6LlxuLy8gQSBmZXcgYnl0ZXMgcGF5bG9hZCBvdmVyaGVhZCB3aGVuIGxvZGFzaC9kZWJvdW5jZSBpcyB+MyBrQiBhbmQgZGVib3VuY2UgfjMwMCBCLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCA9IDE2Nikge1xuICBsZXQgdGltZW91dDtcbiAgZnVuY3Rpb24gZGVib3VuY2VkKC4uLmFyZ3MpIHtcbiAgICBjb25zdCBsYXRlciA9ICgpID0+IHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfTtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpO1xuICB9XG4gIGRlYm91bmNlZC5jbGVhciA9ICgpID0+IHtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gIH07XG4gIHJldHVybiBkZWJvdW5jZWQ7XG59IiwKICAgICJpbXBvcnQgZGVib3VuY2UgZnJvbSAnQG11aS91dGlscy9kZWJvdW5jZSc7XG5leHBvcnQgZGVmYXVsdCBkZWJvdW5jZTsiLAogICAgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG93bmVyRG9jdW1lbnQobm9kZSkge1xuICByZXR1cm4gbm9kZSAmJiBub2RlLm93bmVyRG9jdW1lbnQgfHwgZG9jdW1lbnQ7XG59IiwKICAgICJpbXBvcnQgb3duZXJEb2N1bWVudCBmcm9tIFwiLi4vb3duZXJEb2N1bWVudC9pbmRleC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gb3duZXJXaW5kb3cobm9kZSkge1xuICBjb25zdCBkb2MgPSBvd25lckRvY3VtZW50KG5vZGUpO1xuICByZXR1cm4gZG9jLmRlZmF1bHRWaWV3IHx8IHdpbmRvdztcbn0iLAogICAgImltcG9ydCBvd25lcldpbmRvdyBmcm9tICdAbXVpL3V0aWxzL293bmVyV2luZG93JztcbmV4cG9ydCBkZWZhdWx0IG93bmVyV2luZG93OyIsCiAgICAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVxdWlyZVByb3BGYWN0b3J5KGNvbXBvbmVudE5hbWVJbkVycm9yLCBDb21wb25lbnQpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgICByZXR1cm4gKCkgPT4gKCkgPT4gbnVsbDtcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9mb3JiaWQtZm9yZWlnbi1wcm9wLXR5cGVzXG4gIGNvbnN0IHByZXZQcm9wVHlwZXMgPSBDb21wb25lbnQgPyB7XG4gICAgLi4uQ29tcG9uZW50LnByb3BUeXBlc1xuICB9IDogbnVsbDtcbiAgY29uc3QgcmVxdWlyZVByb3AgPSByZXF1aXJlZFByb3AgPT4gKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgLi4uYXJncykgPT4ge1xuICAgIGNvbnN0IHByb3BGdWxsTmFtZVNhZmUgPSBwcm9wRnVsbE5hbWUgfHwgcHJvcE5hbWU7XG4gICAgY29uc3QgZGVmYXVsdFR5cGVDaGVja2VyID0gcHJldlByb3BUeXBlcz8uW3Byb3BGdWxsTmFtZVNhZmVdO1xuICAgIGlmIChkZWZhdWx0VHlwZUNoZWNrZXIpIHtcbiAgICAgIGNvbnN0IHR5cGVDaGVja2VyUmVzdWx0ID0gZGVmYXVsdFR5cGVDaGVja2VyKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgLi4uYXJncyk7XG4gICAgICBpZiAodHlwZUNoZWNrZXJSZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVDaGVja2VyUmVzdWx0O1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIHByb3BzW3Byb3BOYW1lXSAhPT0gJ3VuZGVmaW5lZCcgJiYgIXByb3BzW3JlcXVpcmVkUHJvcF0pIHtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoYFRoZSBwcm9wIFxcYCR7cHJvcEZ1bGxOYW1lU2FmZX1cXGAgb2YgYCArIGBcXGAke2NvbXBvbmVudE5hbWVJbkVycm9yfVxcYCBjYW4gb25seSBiZSB1c2VkIHRvZ2V0aGVyIHdpdGggdGhlIFxcYCR7cmVxdWlyZWRQcm9wfVxcYCBwcm9wLmApO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgcmV0dXJuIHJlcXVpcmVQcm9wO1xufSIsCiAgICAiaW1wb3J0IHJlcXVpcmVQcm9wRmFjdG9yeSBmcm9tICdAbXVpL3V0aWxzL3JlcXVpcmVQcm9wRmFjdG9yeSc7XG5leHBvcnQgZGVmYXVsdCByZXF1aXJlUHJvcEZhY3Rvcnk7IiwKICAgICIvKipcbiAqIFRPRE8gdjU6IGNvbnNpZGVyIG1ha2luZyBpdCBwcml2YXRlXG4gKlxuICogcGFzc2VzIHt2YWx1ZX0gdG8ge3JlZn1cbiAqXG4gKiBXQVJOSU5HOiBCZSBzdXJlIHRvIG9ubHkgY2FsbCB0aGlzIGluc2lkZSBhIGNhbGxiYWNrIHRoYXQgaXMgcGFzc2VkIGFzIGEgcmVmLlxuICogT3RoZXJ3aXNlLCBtYWtlIHN1cmUgdG8gY2xlYW51cCB0aGUgcHJldmlvdXMge3JlZn0gaWYgaXQgY2hhbmdlcy4gU2VlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbXVpL21hdGVyaWFsLXVpL2lzc3Vlcy8xMzUzOVxuICpcbiAqIFVzZWZ1bCBpZiB5b3Ugd2FudCB0byBleHBvc2UgdGhlIHJlZiBvZiBhbiBpbm5lciBjb21wb25lbnQgdG8gdGhlIHB1YmxpYyBBUElcbiAqIHdoaWxlIHN0aWxsIHVzaW5nIGl0IGluc2lkZSB0aGUgY29tcG9uZW50LlxuICogQHBhcmFtIHJlZiBBIHJlZiBjYWxsYmFjayBvciByZWYgb2JqZWN0LiBJZiBhbnl0aGluZyBmYWxzeSwgdGhpcyBpcyBhIG5vLW9wLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRSZWYocmVmLCB2YWx1ZSkge1xuICBpZiAodHlwZW9mIHJlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJlZih2YWx1ZSk7XG4gIH0gZWxzZSBpZiAocmVmKSB7XG4gICAgcmVmLmN1cnJlbnQgPSB2YWx1ZTtcbiAgfVxufSIsCiAgICAiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgdXNlRW5oYW5jZWRFZmZlY3QgZnJvbSAnQG11aS91dGlscy91c2VFbmhhbmNlZEVmZmVjdCc7XG5leHBvcnQgZGVmYXVsdCB1c2VFbmhhbmNlZEVmZmVjdDsiLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0IHVzZUlkIGZyb20gJ0BtdWkvdXRpbHMvdXNlSWQnO1xuZXhwb3J0IGRlZmF1bHQgdXNlSWQ7IiwKICAgICJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1bnN1cHBvcnRlZFByb3AocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgcHJvcEZ1bGxOYW1lU2FmZSA9IHByb3BGdWxsTmFtZSB8fCBwcm9wTmFtZTtcbiAgaWYgKHR5cGVvZiBwcm9wc1twcm9wTmFtZV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIG5ldyBFcnJvcihgVGhlIHByb3AgXFxgJHtwcm9wRnVsbE5hbWVTYWZlfVxcYCBpcyBub3Qgc3VwcG9ydGVkLiBQbGVhc2UgcmVtb3ZlIGl0LmApO1xuICB9XG4gIHJldHVybiBudWxsO1xufSIsCiAgICAiaW1wb3J0IHVuc3VwcG9ydGVkUHJvcCBmcm9tICdAbXVpL3V0aWxzL3Vuc3VwcG9ydGVkUHJvcCc7XG5leHBvcnQgZGVmYXVsdCB1bnN1cHBvcnRlZFByb3A7IiwKICAgICIndXNlIGNsaWVudCc7XG5cbi8vIFRPRE86IHVuY29tbWVudCBvbmNlIHdlIGVuYWJsZSBlc2xpbnQtcGx1Z2luLXJlYWN0LWNvbXBpbGVyIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1jb21waWxlci9yZWFjdC1jb21waWxlciAtLSBwcm9jZXNzLmVudiBuZXZlciBjaGFuZ2VzLCBkZXBlbmRlbmN5IGFycmF5cyBhcmUgaW50ZW50aW9uYWxseSBpZ25vcmVkXG4vKiBlc2xpbnQtZGlzYWJsZSByZWFjdC1ob29rcy9ydWxlcy1vZi1ob29rcywgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzICovXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VDb250cm9sbGVkKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBjb250cm9sbGVkLFxuICAgIGRlZmF1bHQ6IGRlZmF1bHRQcm9wLFxuICAgIG5hbWUsXG4gICAgc3RhdGUgPSAndmFsdWUnXG4gIH0gPSBwcm9wcztcbiAgLy8gaXNDb250cm9sbGVkIGlzIGlnbm9yZWQgaW4gdGhlIGhvb2sgZGVwZW5kZW5jeSBsaXN0cyBhcyBpdCBzaG91bGQgbmV2ZXIgY2hhbmdlLlxuICBjb25zdCB7XG4gICAgY3VycmVudDogaXNDb250cm9sbGVkXG4gIH0gPSBSZWFjdC51c2VSZWYoY29udHJvbGxlZCAhPT0gdW5kZWZpbmVkKTtcbiAgY29uc3QgW3ZhbHVlU3RhdGUsIHNldFZhbHVlXSA9IFJlYWN0LnVzZVN0YXRlKGRlZmF1bHRQcm9wKTtcbiAgY29uc3QgdmFsdWUgPSBpc0NvbnRyb2xsZWQgPyBjb250cm9sbGVkIDogdmFsdWVTdGF0ZTtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgaWYgKGlzQ29udHJvbGxlZCAhPT0gKGNvbnRyb2xsZWQgIT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihbYE1VSTogQSBjb21wb25lbnQgaXMgY2hhbmdpbmcgdGhlICR7aXNDb250cm9sbGVkID8gJycgOiAndW4nfWNvbnRyb2xsZWQgJHtzdGF0ZX0gc3RhdGUgb2YgJHtuYW1lfSB0byBiZSAke2lzQ29udHJvbGxlZCA/ICd1bicgOiAnJ31jb250cm9sbGVkLmAsICdFbGVtZW50cyBzaG91bGQgbm90IHN3aXRjaCBmcm9tIHVuY29udHJvbGxlZCB0byBjb250cm9sbGVkIChvciB2aWNlIHZlcnNhKS4nLCBgRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCAke25hbWV9IGAgKyAnZWxlbWVudCBmb3IgdGhlIGxpZmV0aW1lIG9mIHRoZSBjb21wb25lbnQuJywgXCJUaGUgbmF0dXJlIG9mIHRoZSBzdGF0ZSBpcyBkZXRlcm1pbmVkIGR1cmluZyB0aGUgZmlyc3QgcmVuZGVyLiBJdCdzIGNvbnNpZGVyZWQgY29udHJvbGxlZCBpZiB0aGUgdmFsdWUgaXMgbm90IGB1bmRlZmluZWRgLlwiLCAnTW9yZSBpbmZvOiBodHRwczovL2ZiLm1lL3JlYWN0LWNvbnRyb2xsZWQtY29tcG9uZW50cyddLmpvaW4oJ1xcbicpKTtcbiAgICAgIH1cbiAgICB9LCBbc3RhdGUsIG5hbWUsIGNvbnRyb2xsZWRdKTtcbiAgICBjb25zdCB7XG4gICAgICBjdXJyZW50OiBkZWZhdWx0VmFsdWVcbiAgICB9ID0gUmVhY3QudXNlUmVmKGRlZmF1bHRQcm9wKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgaWYgKCFpc0NvbnRyb2xsZWQgJiYgSlNPTi5zdHJpbmdpZnkoZGVmYXVsdFByb3ApICE9PSBKU09OLnN0cmluZ2lmeShkZWZhdWx0VmFsdWUpKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoW2BNVUk6IEEgY29tcG9uZW50IGlzIGNoYW5naW5nIHRoZSBkZWZhdWx0ICR7c3RhdGV9IHN0YXRlIG9mIGFuIHVuY29udHJvbGxlZCAke25hbWV9IGFmdGVyIGJlaW5nIGluaXRpYWxpemVkLiBgICsgYFRvIHN1cHByZXNzIHRoaXMgd2FybmluZyBvcHQgdG8gdXNlIGEgY29udHJvbGxlZCAke25hbWV9LmBdLmpvaW4oJ1xcbicpKTtcbiAgICAgIH1cbiAgICB9LCBbSlNPTi5zdHJpbmdpZnkoZGVmYXVsdFByb3ApXSk7XG4gIH1cbiAgY29uc3Qgc2V0VmFsdWVJZlVuY29udHJvbGxlZCA9IFJlYWN0LnVzZUNhbGxiYWNrKG5ld1ZhbHVlID0+IHtcbiAgICBpZiAoIWlzQ29udHJvbGxlZCkge1xuICAgICAgc2V0VmFsdWUobmV3VmFsdWUpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIC8vIFRPRE86IHByb3ZpZGUgb3ZlcmxvYWRzIGZvciB0aGUgdXNlQ29udHJvbGxlZCBmdW5jdGlvbiB0byBhY2NvdW50IGZvciB0aGUgY2FzZSB3aGVyZSBlaXRoZXJcbiAgLy8gY29udHJvbGxlZCBvciBkZWZhdWx0IGlzIG5vdCB1bmRlZmluZWQuXG4gIC8vIEluIHRoYXQgY2FzZSB0aGUgcmV0dXJuIHR5cGUgc2hvdWxkIGJlIFtULCBSZWFjdC5EaXNwYXRjaDxSZWFjdC5TZXRTdGF0ZUFjdGlvbjxUPj5dXG4gIC8vIG90aGVyd2lzZSBpdCBzaG91bGQgYmUgW1QgfCB1bmRlZmluZWQsIFJlYWN0LkRpc3BhdGNoPFJlYWN0LlNldFN0YXRlQWN0aW9uPFQgfCB1bmRlZmluZWQ+Pl1cbiAgcmV0dXJuIFt2YWx1ZSwgc2V0VmFsdWVJZlVuY29udHJvbGxlZF07XG59IiwKICAgICIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB1c2VDb250cm9sbGVkIGZyb20gJ0BtdWkvdXRpbHMvdXNlQ29udHJvbGxlZCc7XG5leHBvcnQgZGVmYXVsdCB1c2VDb250cm9sbGVkOyIsCiAgICAiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdXNlRW5oYW5jZWRFZmZlY3QgZnJvbSBcIi4uL3VzZUVuaGFuY2VkRWZmZWN0L2luZGV4LmpzXCI7XG5cbi8qKlxuICogSW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8xNDA5OSNpc3N1ZWNvbW1lbnQtNDQwMDEzODkyXG4gKiBTZWUgUkZDIGluIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdGpzL3JmY3MvcHVsbC8yMjBcbiAqL1xuXG5mdW5jdGlvbiB1c2VFdmVudENhbGxiYWNrKGZuKSB7XG4gIGNvbnN0IHJlZiA9IFJlYWN0LnVzZVJlZihmbik7XG4gIHVzZUVuaGFuY2VkRWZmZWN0KCgpID0+IHtcbiAgICByZWYuY3VycmVudCA9IGZuO1xuICB9KTtcbiAgcmV0dXJuIFJlYWN0LnVzZVJlZigoLi4uYXJncykgPT5cbiAgLy8gQHRzLWV4cGVjdC1lcnJvciBoaWRlIGB0aGlzYFxuICAoMCwgcmVmLmN1cnJlbnQpKC4uLmFyZ3MpKS5jdXJyZW50O1xufVxuZXhwb3J0IGRlZmF1bHQgdXNlRXZlbnRDYWxsYmFjazsiLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0IHVzZUV2ZW50Q2FsbGJhY2sgZnJvbSAnQG11aS91dGlscy91c2VFdmVudENhbGxiYWNrJztcbmV4cG9ydCBkZWZhdWx0IHVzZUV2ZW50Q2FsbGJhY2s7IiwKICAgICIndXNlIGNsaWVudCc7XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBNZXJnZXMgcmVmcyBpbnRvIGEgc2luZ2xlIG1lbW9pemVkIGNhbGxiYWNrIHJlZiBvciBgbnVsbGAuXG4gKlxuICogYGBgdHN4XG4gKiBjb25zdCByb290UmVmID0gUmVhY3QudXNlUmVmPEluc3RhbmNlPihudWxsKTtcbiAqIGNvbnN0IHJlZkZvcmsgPSB1c2VGb3JrUmVmKHJvb3RSZWYsIHByb3BzLnJlZik7XG4gKlxuICogcmV0dXJuIChcbiAqICAgPFJvb3Qgey4uLnByb3BzfSByZWY9e3JlZkZvcmt9IC8+XG4gKiApO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHtBcnJheTxSZWFjdC5SZWY8SW5zdGFuY2U+IHwgdW5kZWZpbmVkPn0gcmVmcyBUaGUgcmVmIGFycmF5LlxuICogQHJldHVybnMge1JlYWN0LlJlZkNhbGxiYWNrPEluc3RhbmNlPiB8IG51bGx9IFRoZSBuZXcgcmVmIGNhbGxiYWNrLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VGb3JrUmVmKC4uLnJlZnMpIHtcbiAgY29uc3QgY2xlYW51cFJlZiA9IFJlYWN0LnVzZVJlZih1bmRlZmluZWQpO1xuICBjb25zdCByZWZFZmZlY3QgPSBSZWFjdC51c2VDYWxsYmFjayhpbnN0YW5jZSA9PiB7XG4gICAgY29uc3QgY2xlYW51cHMgPSByZWZzLm1hcChyZWYgPT4ge1xuICAgICAgaWYgKHJlZiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiByZWYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY29uc3QgcmVmQ2FsbGJhY2sgPSByZWY7XG4gICAgICAgIGNvbnN0IHJlZkNsZWFudXAgPSByZWZDYWxsYmFjayhpbnN0YW5jZSk7XG4gICAgICAgIHJldHVybiB0eXBlb2YgcmVmQ2xlYW51cCA9PT0gJ2Z1bmN0aW9uJyA/IHJlZkNsZWFudXAgOiAoKSA9PiB7XG4gICAgICAgICAgcmVmQ2FsbGJhY2sobnVsbCk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZWYuY3VycmVudCA9IGluc3RhbmNlO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgcmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2xlYW51cHMuZm9yRWFjaChyZWZDbGVhbnVwID0+IHJlZkNsZWFudXA/LigpKTtcbiAgICB9O1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgcmVmcyk7XG4gIHJldHVybiBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICBpZiAocmVmcy5ldmVyeShyZWYgPT4gcmVmID09IG51bGwpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlID0+IHtcbiAgICAgIGlmIChjbGVhbnVwUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY2xlYW51cFJlZi5jdXJyZW50KCk7XG4gICAgICAgIGNsZWFudXBSZWYuY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgIGNsZWFudXBSZWYuY3VycmVudCA9IHJlZkVmZmVjdCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICAvLyBUT0RPOiB1bmNvbW1lbnQgb25jZSB3ZSBlbmFibGUgZXNsaW50LXBsdWdpbi1yZWFjdC1jb21waWxlciAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtY29tcGlsZXIvcmVhY3QtY29tcGlsZXIgLS0gaW50ZW50aW9uYWxseSBpZ25vcmluZyB0aGF0IHRoZSBkZXBlbmRlbmN5IGFycmF5IG11c3QgYmUgYW4gYXJyYXkgbGl0ZXJhbFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgcmVmcyk7XG59IiwKICAgICIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB1c2VGb3JrUmVmIGZyb20gJ0BtdWkvdXRpbHMvdXNlRm9ya1JlZic7XG5leHBvcnQgZGVmYXVsdCB1c2VGb3JrUmVmOyIsCiAgICAiaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5cbi8vIEJyb3VnaHQgZnJvbSBbQmFzZSBVSV0oaHR0cHM6Ly9naXRodWIuY29tL211aS9iYXNlLXVpL2Jsb2IvbWFzdGVyL3BhY2thZ2VzL3JlYWN0L3NyYy9tZXJnZS1wcm9wcy9tZXJnZVByb3BzLnRzI0wxMTkpXG4vLyBVc2UgaXQgZGlyZWN0bHkgZnJvbSBCYXNlIFVJIG9uY2UgaXQncyBhIHBhY2thZ2UgZGVwZW5kZW5jeS5cbmZ1bmN0aW9uIGlzRXZlbnRIYW5kbGVyKGtleSwgdmFsdWUpIHtcbiAgLy8gVGhpcyBhcHByb2FjaCBpcyBtb3JlIGVmZmljaWVudCB0aGFuIHVzaW5nIGEgcmVnZXguXG4gIGNvbnN0IHRoaXJkQ2hhckNvZGUgPSBrZXkuY2hhckNvZGVBdCgyKTtcbiAgcmV0dXJuIGtleVswXSA9PT0gJ28nICYmIGtleVsxXSA9PT0gJ24nICYmIHRoaXJkQ2hhckNvZGUgPj0gNjUgLyogQSAqLyAmJiB0aGlyZENoYXJDb2RlIDw9IDkwIC8qIFogKi8gJiYgdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xufVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWVyZ2VTbG90UHJvcHMoZXh0ZXJuYWxTbG90UHJvcHMsIGRlZmF1bHRTbG90UHJvcHMpIHtcbiAgaWYgKCFleHRlcm5hbFNsb3RQcm9wcykge1xuICAgIHJldHVybiBkZWZhdWx0U2xvdFByb3BzO1xuICB9XG4gIGZ1bmN0aW9uIGV4dHJhY3RIYW5kbGVycyhleHRlcm5hbFNsb3RQcm9wc1ZhbHVlLCBkZWZhdWx0U2xvdFByb3BzVmFsdWUpIHtcbiAgICBjb25zdCBoYW5kbGVycyA9IHt9O1xuICAgIE9iamVjdC5rZXlzKGRlZmF1bHRTbG90UHJvcHNWYWx1ZSkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgaWYgKGlzRXZlbnRIYW5kbGVyKGtleSwgZGVmYXVsdFNsb3RQcm9wc1ZhbHVlW2tleV0pICYmIHR5cGVvZiBleHRlcm5hbFNsb3RQcm9wc1ZhbHVlW2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gb25seSBjb21wb3NlIHRoZSBoYW5kbGVycyBpZiBib3RoIGRlZmF1bHQgYW5kIGV4dGVybmFsIHNsb3QgcHJvcHMgbWF0Y2ggdGhlIGV2ZW50IGhhbmRsZXJcbiAgICAgICAgaGFuZGxlcnNba2V5XSA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgZXh0ZXJuYWxTbG90UHJvcHNWYWx1ZVtrZXldKC4uLmFyZ3MpO1xuICAgICAgICAgIGRlZmF1bHRTbG90UHJvcHNWYWx1ZVtrZXldKC4uLmFyZ3MpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBoYW5kbGVycztcbiAgfVxuICBpZiAodHlwZW9mIGV4dGVybmFsU2xvdFByb3BzID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBkZWZhdWx0U2xvdFByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIG93bmVyU3RhdGUgPT4ge1xuICAgICAgY29uc3QgZGVmYXVsdFNsb3RQcm9wc1ZhbHVlID0gdHlwZW9mIGRlZmF1bHRTbG90UHJvcHMgPT09ICdmdW5jdGlvbicgPyBkZWZhdWx0U2xvdFByb3BzKG93bmVyU3RhdGUpIDogZGVmYXVsdFNsb3RQcm9wcztcbiAgICAgIGNvbnN0IGV4dGVybmFsU2xvdFByb3BzVmFsdWUgPSB0eXBlb2YgZXh0ZXJuYWxTbG90UHJvcHMgPT09ICdmdW5jdGlvbicgPyBleHRlcm5hbFNsb3RQcm9wcyh7XG4gICAgICAgIC4uLm93bmVyU3RhdGUsXG4gICAgICAgIC4uLmRlZmF1bHRTbG90UHJvcHNWYWx1ZVxuICAgICAgfSkgOiBleHRlcm5hbFNsb3RQcm9wcztcbiAgICAgIGNvbnN0IGNsYXNzTmFtZSA9IGNsc3gob3duZXJTdGF0ZT8uY2xhc3NOYW1lLCBkZWZhdWx0U2xvdFByb3BzVmFsdWU/LmNsYXNzTmFtZSwgZXh0ZXJuYWxTbG90UHJvcHNWYWx1ZT8uY2xhc3NOYW1lKTtcbiAgICAgIGNvbnN0IGhhbmRsZXJzID0gZXh0cmFjdEhhbmRsZXJzKGV4dGVybmFsU2xvdFByb3BzVmFsdWUsIGRlZmF1bHRTbG90UHJvcHNWYWx1ZSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5kZWZhdWx0U2xvdFByb3BzVmFsdWUsXG4gICAgICAgIC4uLmV4dGVybmFsU2xvdFByb3BzVmFsdWUsXG4gICAgICAgIC4uLmhhbmRsZXJzLFxuICAgICAgICAuLi4oISFjbGFzc05hbWUgJiYge1xuICAgICAgICAgIGNsYXNzTmFtZVxuICAgICAgICB9KSxcbiAgICAgICAgLi4uKGRlZmF1bHRTbG90UHJvcHNWYWx1ZT8uc3R5bGUgJiYgZXh0ZXJuYWxTbG90UHJvcHNWYWx1ZT8uc3R5bGUgJiYge1xuICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAuLi5kZWZhdWx0U2xvdFByb3BzVmFsdWUuc3R5bGUsXG4gICAgICAgICAgICAuLi5leHRlcm5hbFNsb3RQcm9wc1ZhbHVlLnN0eWxlXG4gICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICAgLi4uKGRlZmF1bHRTbG90UHJvcHNWYWx1ZT8uc3ggJiYgZXh0ZXJuYWxTbG90UHJvcHNWYWx1ZT8uc3ggJiYge1xuICAgICAgICAgIHN4OiBbLi4uKEFycmF5LmlzQXJyYXkoZGVmYXVsdFNsb3RQcm9wc1ZhbHVlLnN4KSA/IGRlZmF1bHRTbG90UHJvcHNWYWx1ZS5zeCA6IFtkZWZhdWx0U2xvdFByb3BzVmFsdWUuc3hdKSwgLi4uKEFycmF5LmlzQXJyYXkoZXh0ZXJuYWxTbG90UHJvcHNWYWx1ZS5zeCkgPyBleHRlcm5hbFNsb3RQcm9wc1ZhbHVlLnN4IDogW2V4dGVybmFsU2xvdFByb3BzVmFsdWUuc3hdKV1cbiAgICAgICAgfSlcbiAgICAgIH07XG4gICAgfTtcbiAgfVxuICBjb25zdCB0eXBlZERlZmF1bHRTbG90UHJvcHMgPSBkZWZhdWx0U2xvdFByb3BzO1xuICBjb25zdCBoYW5kbGVycyA9IGV4dHJhY3RIYW5kbGVycyhleHRlcm5hbFNsb3RQcm9wcywgdHlwZWREZWZhdWx0U2xvdFByb3BzKTtcbiAgY29uc3QgY2xhc3NOYW1lID0gY2xzeCh0eXBlZERlZmF1bHRTbG90UHJvcHM/LmNsYXNzTmFtZSwgZXh0ZXJuYWxTbG90UHJvcHM/LmNsYXNzTmFtZSk7XG4gIHJldHVybiB7XG4gICAgLi4uZGVmYXVsdFNsb3RQcm9wcyxcbiAgICAuLi5leHRlcm5hbFNsb3RQcm9wcyxcbiAgICAuLi5oYW5kbGVycyxcbiAgICAuLi4oISFjbGFzc05hbWUgJiYge1xuICAgICAgY2xhc3NOYW1lXG4gICAgfSksXG4gICAgLi4uKHR5cGVkRGVmYXVsdFNsb3RQcm9wcz8uc3R5bGUgJiYgZXh0ZXJuYWxTbG90UHJvcHM/LnN0eWxlICYmIHtcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIC4uLnR5cGVkRGVmYXVsdFNsb3RQcm9wcy5zdHlsZSxcbiAgICAgICAgLi4uZXh0ZXJuYWxTbG90UHJvcHMuc3R5bGVcbiAgICAgIH1cbiAgICB9KSxcbiAgICAuLi4odHlwZWREZWZhdWx0U2xvdFByb3BzPy5zeCAmJiBleHRlcm5hbFNsb3RQcm9wcz8uc3ggJiYge1xuICAgICAgc3g6IFsuLi4oQXJyYXkuaXNBcnJheSh0eXBlZERlZmF1bHRTbG90UHJvcHMuc3gpID8gdHlwZWREZWZhdWx0U2xvdFByb3BzLnN4IDogW3R5cGVkRGVmYXVsdFNsb3RQcm9wcy5zeF0pLCAuLi4oQXJyYXkuaXNBcnJheShleHRlcm5hbFNsb3RQcm9wcy5zeCkgPyBleHRlcm5hbFNsb3RQcm9wcy5zeCA6IFtleHRlcm5hbFNsb3RQcm9wcy5zeF0pXVxuICAgIH0pXG4gIH07XG59IiwKICAgICIndXNlIGNsaWVudCc7XG5cbmltcG9ydCBDbGFzc05hbWVHZW5lcmF0b3IgZnJvbSAnQG11aS91dGlscy9DbGFzc05hbWVHZW5lcmF0b3InO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBjYXBpdGFsaXplIH0gZnJvbSBcIi4vY2FwaXRhbGl6ZS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBjcmVhdGVDaGFpbmVkRnVuY3Rpb24gfSBmcm9tIFwiLi9jcmVhdGVDaGFpbmVkRnVuY3Rpb24uanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgY3JlYXRlU3ZnSWNvbiB9IGZyb20gXCIuL2NyZWF0ZVN2Z0ljb24uanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZGVib3VuY2UgfSBmcm9tIFwiLi9kZWJvdW5jZS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBkZXByZWNhdGVkUHJvcFR5cGUgfSBmcm9tIFwiLi9kZXByZWNhdGVkUHJvcFR5cGUuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgaXNNdWlFbGVtZW50IH0gZnJvbSBcIi4vaXNNdWlFbGVtZW50LmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHVuc3RhYmxlX21lbW9UaGVtZSB9IGZyb20gXCIuL21lbW9UaGVtZS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBvd25lckRvY3VtZW50IH0gZnJvbSBcIi4vb3duZXJEb2N1bWVudC5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBvd25lcldpbmRvdyB9IGZyb20gXCIuL293bmVyV2luZG93LmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHJlcXVpcmVQcm9wRmFjdG9yeSB9IGZyb20gXCIuL3JlcXVpcmVQcm9wRmFjdG9yeS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBzZXRSZWYgfSBmcm9tIFwiLi9zZXRSZWYuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdW5zdGFibGVfdXNlRW5oYW5jZWRFZmZlY3QgfSBmcm9tIFwiLi91c2VFbmhhbmNlZEVmZmVjdC5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB1bnN0YWJsZV91c2VJZCB9IGZyb20gXCIuL3VzZUlkLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHVuc3VwcG9ydGVkUHJvcCB9IGZyb20gXCIuL3Vuc3VwcG9ydGVkUHJvcC5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB1c2VDb250cm9sbGVkIH0gZnJvbSBcIi4vdXNlQ29udHJvbGxlZC5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB1c2VFdmVudENhbGxiYWNrIH0gZnJvbSBcIi4vdXNlRXZlbnRDYWxsYmFjay5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB1c2VGb3JrUmVmIH0gZnJvbSBcIi4vdXNlRm9ya1JlZi5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBtZXJnZVNsb3RQcm9wcyB9IGZyb20gXCIuL21lcmdlU2xvdFByb3BzLmpzXCI7XG4vLyBUT0RPOiByZW1vdmUgdGhpcyBleHBvcnQgb25jZSBDbGFzc05hbWVHZW5lcmF0b3IgaXMgc3RhYmxlXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25hbWluZy1jb252ZW50aW9uXG5leHBvcnQgY29uc3QgdW5zdGFibGVfQ2xhc3NOYW1lR2VuZXJhdG9yID0ge1xuICBjb25maWd1cmU6IGdlbmVyYXRvciA9PiB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGNvbnNvbGUud2FybihbJ01VSTogYENsYXNzTmFtZUdlbmVyYXRvcmAgaW1wb3J0IGZyb20gYEBtdWkvbWF0ZXJpYWwvdXRpbHNgIGlzIG91dGRhdGVkIGFuZCBtaWdodCBjYXVzZSB1bmV4cGVjdGVkIGlzc3Vlcy4nLCAnJywgXCJZb3Ugc2hvdWxkIHVzZSBgaW1wb3J0IHsgdW5zdGFibGVfQ2xhc3NOYW1lR2VuZXJhdG9yIH0gZnJvbSAnQG11aS9tYXRlcmlhbC9jbGFzc05hbWUnYCBpbnN0ZWFkXCIsICcnLCAnVGhlIGRldGFpbCBvZiB0aGUgaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9tdWkvbWF0ZXJpYWwtdWkvaXNzdWVzLzMwMDExI2lzc3VlY29tbWVudC0xMDI0OTkzNDAxJywgJycsICdUaGUgdXBkYXRlZCBkb2N1bWVudGF0aW9uOiBodHRwczovL211aS5jb20vZ3VpZGVzL2NsYXNzbmFtZS1nZW5lcmF0b3IvJ10uam9pbignXFxuJykpO1xuICAgIH1cbiAgICBDbGFzc05hbWVHZW5lcmF0b3IuY29uZmlndXJlKGdlbmVyYXRvcik7XG4gIH1cbn07IiwKICAgICIndXNlIGNsaWVudCc7XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgY2xzeCBmcm9tICdjbHN4JztcbmltcG9ydCByZWZUeXBlIGZyb20gJ0BtdWkvdXRpbHMvcmVmVHlwZSc7XG5pbXBvcnQgZWxlbWVudFR5cGVBY2NlcHRpbmdSZWYgZnJvbSAnQG11aS91dGlscy9lbGVtZW50VHlwZUFjY2VwdGluZ1JlZic7XG5pbXBvcnQgY29tcG9zZUNsYXNzZXMgZnJvbSAnQG11aS91dGlscy9jb21wb3NlQ2xhc3Nlcyc7XG5pbXBvcnQgaXNGb2N1c1Zpc2libGUgZnJvbSAnQG11aS91dGlscy9pc0ZvY3VzVmlzaWJsZSc7XG5pbXBvcnQgeyBzdHlsZWQgfSBmcm9tIFwiLi4vemVyby1zdHlsZWQvaW5kZXguanNcIjtcbmltcG9ydCB7IHVzZURlZmF1bHRQcm9wcyB9IGZyb20gXCIuLi9EZWZhdWx0UHJvcHNQcm92aWRlci9pbmRleC5qc1wiO1xuaW1wb3J0IHVzZUZvcmtSZWYgZnJvbSBcIi4uL3V0aWxzL3VzZUZvcmtSZWYuanNcIjtcbmltcG9ydCB1c2VFdmVudENhbGxiYWNrIGZyb20gXCIuLi91dGlscy91c2VFdmVudENhbGxiYWNrLmpzXCI7XG5pbXBvcnQgdXNlTGF6eVJpcHBsZSBmcm9tIFwiLi4vdXNlTGF6eVJpcHBsZS9pbmRleC5qc1wiO1xuaW1wb3J0IFRvdWNoUmlwcGxlIGZyb20gXCIuL1RvdWNoUmlwcGxlLmpzXCI7XG5pbXBvcnQgYnV0dG9uQmFzZUNsYXNzZXMsIHsgZ2V0QnV0dG9uQmFzZVV0aWxpdHlDbGFzcyB9IGZyb20gXCIuL2J1dHRvbkJhc2VDbGFzc2VzLmpzXCI7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuY29uc3QgdXNlVXRpbGl0eUNsYXNzZXMgPSBvd25lclN0YXRlID0+IHtcbiAgY29uc3Qge1xuICAgIGRpc2FibGVkLFxuICAgIGZvY3VzVmlzaWJsZSxcbiAgICBmb2N1c1Zpc2libGVDbGFzc05hbWUsXG4gICAgY2xhc3Nlc1xuICB9ID0gb3duZXJTdGF0ZTtcbiAgY29uc3Qgc2xvdHMgPSB7XG4gICAgcm9vdDogWydyb290JywgZGlzYWJsZWQgJiYgJ2Rpc2FibGVkJywgZm9jdXNWaXNpYmxlICYmICdmb2N1c1Zpc2libGUnXVxuICB9O1xuICBjb25zdCBjb21wb3NlZENsYXNzZXMgPSBjb21wb3NlQ2xhc3NlcyhzbG90cywgZ2V0QnV0dG9uQmFzZVV0aWxpdHlDbGFzcywgY2xhc3Nlcyk7XG4gIGlmIChmb2N1c1Zpc2libGUgJiYgZm9jdXNWaXNpYmxlQ2xhc3NOYW1lKSB7XG4gICAgY29tcG9zZWRDbGFzc2VzLnJvb3QgKz0gYCAke2ZvY3VzVmlzaWJsZUNsYXNzTmFtZX1gO1xuICB9XG4gIHJldHVybiBjb21wb3NlZENsYXNzZXM7XG59O1xuZXhwb3J0IGNvbnN0IEJ1dHRvbkJhc2VSb290ID0gc3R5bGVkKCdidXR0b24nLCB7XG4gIG5hbWU6ICdNdWlCdXR0b25CYXNlJyxcbiAgc2xvdDogJ1Jvb3QnXG59KSh7XG4gIGRpc3BsYXk6ICdpbmxpbmUtZmxleCcsXG4gIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgV2Via2l0VGFwSGlnaGxpZ2h0Q29sb3I6ICd0cmFuc3BhcmVudCcsXG4gIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50JyxcbiAgLy8gUmVzZXQgZGVmYXVsdCB2YWx1ZVxuICAvLyBXZSBkaXNhYmxlIHRoZSBmb2N1cyByaW5nIGZvciBtb3VzZSwgdG91Y2ggYW5kIGtleWJvYXJkIHVzZXJzLlxuICBvdXRsaW5lOiAwLFxuICBib3JkZXI6IDAsXG4gIG1hcmdpbjogMCxcbiAgLy8gUmVtb3ZlIHRoZSBtYXJnaW4gaW4gU2FmYXJpXG4gIGJvcmRlclJhZGl1czogMCxcbiAgcGFkZGluZzogMCxcbiAgLy8gUmVtb3ZlIHRoZSBwYWRkaW5nIGluIEZpcmVmb3hcbiAgY3Vyc29yOiAncG9pbnRlcicsXG4gIHVzZXJTZWxlY3Q6ICdub25lJyxcbiAgdmVydGljYWxBbGlnbjogJ21pZGRsZScsXG4gIE1vekFwcGVhcmFuY2U6ICdub25lJyxcbiAgLy8gUmVzZXRcbiAgV2Via2l0QXBwZWFyYW5jZTogJ25vbmUnLFxuICAvLyBSZXNldFxuICB0ZXh0RGVjb3JhdGlvbjogJ25vbmUnLFxuICAvLyBTbyB3ZSB0YWtlIHByZWNlZGVudCBvdmVyIHRoZSBzdHlsZSBvZiBhIG5hdGl2ZSA8YSAvPiBlbGVtZW50LlxuICBjb2xvcjogJ2luaGVyaXQnLFxuICAnJjo6LW1vei1mb2N1cy1pbm5lcic6IHtcbiAgICBib3JkZXJTdHlsZTogJ25vbmUnIC8vIFJlbW92ZSBGaXJlZm94IGRvdHRlZCBvdXRsaW5lLlxuICB9LFxuICBbYCYuJHtidXR0b25CYXNlQ2xhc3Nlcy5kaXNhYmxlZH1gXToge1xuICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgICAvLyBEaXNhYmxlIGxpbmsgaW50ZXJhY3Rpb25zXG4gICAgY3Vyc29yOiAnZGVmYXVsdCdcbiAgfSxcbiAgJ0BtZWRpYSBwcmludCc6IHtcbiAgICBjb2xvckFkanVzdDogJ2V4YWN0J1xuICB9XG59KTtcblxuLyoqXG4gKiBgQnV0dG9uQmFzZWAgY29udGFpbnMgYXMgZmV3IHN0eWxlcyBhcyBwb3NzaWJsZS5cbiAqIEl0IGFpbXMgdG8gYmUgYSBzaW1wbGUgYnVpbGRpbmcgYmxvY2sgZm9yIGNyZWF0aW5nIGEgYnV0dG9uLlxuICogSXQgY29udGFpbnMgYSBsb2FkIG9mIHN0eWxlIHJlc2V0IGFuZCBzb21lIGZvY3VzL3JpcHBsZSBsb2dpYy5cbiAqL1xuY29uc3QgQnV0dG9uQmFzZSA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIEJ1dHRvbkJhc2UoaW5Qcm9wcywgcmVmKSB7XG4gIGNvbnN0IHByb3BzID0gdXNlRGVmYXVsdFByb3BzKHtcbiAgICBwcm9wczogaW5Qcm9wcyxcbiAgICBuYW1lOiAnTXVpQnV0dG9uQmFzZSdcbiAgfSk7XG4gIGNvbnN0IHtcbiAgICBhY3Rpb24sXG4gICAgY2VudGVyUmlwcGxlID0gZmFsc2UsXG4gICAgY2hpbGRyZW4sXG4gICAgY2xhc3NOYW1lLFxuICAgIGNvbXBvbmVudCA9ICdidXR0b24nLFxuICAgIGRpc2FibGVkID0gZmFsc2UsXG4gICAgZGlzYWJsZVJpcHBsZSA9IGZhbHNlLFxuICAgIGRpc2FibGVUb3VjaFJpcHBsZSA9IGZhbHNlLFxuICAgIGZvY3VzUmlwcGxlID0gZmFsc2UsXG4gICAgZm9jdXNWaXNpYmxlQ2xhc3NOYW1lLFxuICAgIExpbmtDb21wb25lbnQgPSAnYScsXG4gICAgb25CbHVyLFxuICAgIG9uQ2xpY2ssXG4gICAgb25Db250ZXh0TWVudSxcbiAgICBvbkRyYWdMZWF2ZSxcbiAgICBvbkZvY3VzLFxuICAgIG9uRm9jdXNWaXNpYmxlLFxuICAgIG9uS2V5RG93bixcbiAgICBvbktleVVwLFxuICAgIG9uTW91c2VEb3duLFxuICAgIG9uTW91c2VMZWF2ZSxcbiAgICBvbk1vdXNlVXAsXG4gICAgb25Ub3VjaEVuZCxcbiAgICBvblRvdWNoTW92ZSxcbiAgICBvblRvdWNoU3RhcnQsXG4gICAgdGFiSW5kZXggPSAwLFxuICAgIFRvdWNoUmlwcGxlUHJvcHMsXG4gICAgdG91Y2hSaXBwbGVSZWYsXG4gICAgdHlwZSxcbiAgICAuLi5vdGhlclxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGJ1dHRvblJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgY29uc3QgcmlwcGxlID0gdXNlTGF6eVJpcHBsZSgpO1xuICBjb25zdCBoYW5kbGVSaXBwbGVSZWYgPSB1c2VGb3JrUmVmKHJpcHBsZS5yZWYsIHRvdWNoUmlwcGxlUmVmKTtcbiAgY29uc3QgW2ZvY3VzVmlzaWJsZSwgc2V0Rm9jdXNWaXNpYmxlXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgaWYgKGRpc2FibGVkICYmIGZvY3VzVmlzaWJsZSkge1xuICAgIHNldEZvY3VzVmlzaWJsZShmYWxzZSk7XG4gIH1cbiAgUmVhY3QudXNlSW1wZXJhdGl2ZUhhbmRsZShhY3Rpb24sICgpID0+ICh7XG4gICAgZm9jdXNWaXNpYmxlOiAoKSA9PiB7XG4gICAgICBzZXRGb2N1c1Zpc2libGUodHJ1ZSk7XG4gICAgICBidXR0b25SZWYuY3VycmVudC5mb2N1cygpO1xuICAgIH1cbiAgfSksIFtdKTtcbiAgY29uc3QgZW5hYmxlVG91Y2hSaXBwbGUgPSByaXBwbGUuc2hvdWxkTW91bnQgJiYgIWRpc2FibGVSaXBwbGUgJiYgIWRpc2FibGVkO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChmb2N1c1Zpc2libGUgJiYgZm9jdXNSaXBwbGUgJiYgIWRpc2FibGVSaXBwbGUpIHtcbiAgICAgIHJpcHBsZS5wdWxzYXRlKCk7XG4gICAgfVxuICB9LCBbZGlzYWJsZVJpcHBsZSwgZm9jdXNSaXBwbGUsIGZvY3VzVmlzaWJsZSwgcmlwcGxlXSk7XG4gIGNvbnN0IGhhbmRsZU1vdXNlRG93biA9IHVzZVJpcHBsZUhhbmRsZXIocmlwcGxlLCAnc3RhcnQnLCBvbk1vdXNlRG93biwgZGlzYWJsZVRvdWNoUmlwcGxlKTtcbiAgY29uc3QgaGFuZGxlQ29udGV4dE1lbnUgPSB1c2VSaXBwbGVIYW5kbGVyKHJpcHBsZSwgJ3N0b3AnLCBvbkNvbnRleHRNZW51LCBkaXNhYmxlVG91Y2hSaXBwbGUpO1xuICBjb25zdCBoYW5kbGVEcmFnTGVhdmUgPSB1c2VSaXBwbGVIYW5kbGVyKHJpcHBsZSwgJ3N0b3AnLCBvbkRyYWdMZWF2ZSwgZGlzYWJsZVRvdWNoUmlwcGxlKTtcbiAgY29uc3QgaGFuZGxlTW91c2VVcCA9IHVzZVJpcHBsZUhhbmRsZXIocmlwcGxlLCAnc3RvcCcsIG9uTW91c2VVcCwgZGlzYWJsZVRvdWNoUmlwcGxlKTtcbiAgY29uc3QgaGFuZGxlTW91c2VMZWF2ZSA9IHVzZVJpcHBsZUhhbmRsZXIocmlwcGxlLCAnc3RvcCcsIGV2ZW50ID0+IHtcbiAgICBpZiAoZm9jdXNWaXNpYmxlKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgICBpZiAob25Nb3VzZUxlYXZlKSB7XG4gICAgICBvbk1vdXNlTGVhdmUoZXZlbnQpO1xuICAgIH1cbiAgfSwgZGlzYWJsZVRvdWNoUmlwcGxlKTtcbiAgY29uc3QgaGFuZGxlVG91Y2hTdGFydCA9IHVzZVJpcHBsZUhhbmRsZXIocmlwcGxlLCAnc3RhcnQnLCBvblRvdWNoU3RhcnQsIGRpc2FibGVUb3VjaFJpcHBsZSk7XG4gIGNvbnN0IGhhbmRsZVRvdWNoRW5kID0gdXNlUmlwcGxlSGFuZGxlcihyaXBwbGUsICdzdG9wJywgb25Ub3VjaEVuZCwgZGlzYWJsZVRvdWNoUmlwcGxlKTtcbiAgY29uc3QgaGFuZGxlVG91Y2hNb3ZlID0gdXNlUmlwcGxlSGFuZGxlcihyaXBwbGUsICdzdG9wJywgb25Ub3VjaE1vdmUsIGRpc2FibGVUb3VjaFJpcHBsZSk7XG4gIGNvbnN0IGhhbmRsZUJsdXIgPSB1c2VSaXBwbGVIYW5kbGVyKHJpcHBsZSwgJ3N0b3AnLCBldmVudCA9PiB7XG4gICAgaWYgKCFpc0ZvY3VzVmlzaWJsZShldmVudC50YXJnZXQpKSB7XG4gICAgICBzZXRGb2N1c1Zpc2libGUoZmFsc2UpO1xuICAgIH1cbiAgICBpZiAob25CbHVyKSB7XG4gICAgICBvbkJsdXIoZXZlbnQpO1xuICAgIH1cbiAgfSwgZmFsc2UpO1xuICBjb25zdCBoYW5kbGVGb2N1cyA9IHVzZUV2ZW50Q2FsbGJhY2soZXZlbnQgPT4ge1xuICAgIC8vIEZpeCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy83NzY5XG4gICAgaWYgKCFidXR0b25SZWYuY3VycmVudCkge1xuICAgICAgYnV0dG9uUmVmLmN1cnJlbnQgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgIH1cbiAgICBpZiAoaXNGb2N1c1Zpc2libGUoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgc2V0Rm9jdXNWaXNpYmxlKHRydWUpO1xuICAgICAgaWYgKG9uRm9jdXNWaXNpYmxlKSB7XG4gICAgICAgIG9uRm9jdXNWaXNpYmxlKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9uRm9jdXMpIHtcbiAgICAgIG9uRm9jdXMoZXZlbnQpO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IGlzTm9uTmF0aXZlQnV0dG9uID0gKCkgPT4ge1xuICAgIGNvbnN0IGJ1dHRvbiA9IGJ1dHRvblJlZi5jdXJyZW50O1xuICAgIHJldHVybiBjb21wb25lbnQgJiYgY29tcG9uZW50ICE9PSAnYnV0dG9uJyAmJiAhKGJ1dHRvbi50YWdOYW1lID09PSAnQScgJiYgYnV0dG9uLmhyZWYpO1xuICB9O1xuICBjb25zdCBoYW5kbGVLZXlEb3duID0gdXNlRXZlbnRDYWxsYmFjayhldmVudCA9PiB7XG4gICAgLy8gQ2hlY2sgaWYga2V5IGlzIGFscmVhZHkgZG93biB0byBhdm9pZCByZXBlYXRzIGJlaW5nIGNvdW50ZWQgYXMgbXVsdGlwbGUgYWN0aXZhdGlvbnNcbiAgICBpZiAoZm9jdXNSaXBwbGUgJiYgIWV2ZW50LnJlcGVhdCAmJiBmb2N1c1Zpc2libGUgJiYgZXZlbnQua2V5ID09PSAnICcpIHtcbiAgICAgIHJpcHBsZS5zdG9wKGV2ZW50LCAoKSA9PiB7XG4gICAgICAgIHJpcHBsZS5zdGFydChldmVudCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gZXZlbnQuY3VycmVudFRhcmdldCAmJiBpc05vbk5hdGl2ZUJ1dHRvbigpICYmIGV2ZW50LmtleSA9PT0gJyAnKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgICBpZiAob25LZXlEb3duKSB7XG4gICAgICBvbktleURvd24oZXZlbnQpO1xuICAgIH1cblxuICAgIC8vIEtleWJvYXJkIGFjY2Vzc2liaWxpdHkgZm9yIG5vbiBpbnRlcmFjdGl2ZSBlbGVtZW50c1xuICAgIGlmIChldmVudC50YXJnZXQgPT09IGV2ZW50LmN1cnJlbnRUYXJnZXQgJiYgaXNOb25OYXRpdmVCdXR0b24oKSAmJiBldmVudC5rZXkgPT09ICdFbnRlcicgJiYgIWRpc2FibGVkKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKG9uQ2xpY2spIHtcbiAgICAgICAgb25DbGljayhldmVudCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgY29uc3QgaGFuZGxlS2V5VXAgPSB1c2VFdmVudENhbGxiYWNrKGV2ZW50ID0+IHtcbiAgICAvLyBjYWxsaW5nIHByZXZlbnREZWZhdWx0IGluIGtleVVwIG9uIGEgPGJ1dHRvbj4gd2lsbCBub3QgZGlzcGF0Y2ggYSBjbGljayBldmVudCBpZiBTcGFjZSBpcyBwcmVzc2VkXG4gICAgLy8gaHR0cHM6Ly9jb2Rlc2FuZGJveC5pby9wL3NhbmRib3gvYnV0dG9uLWtleXVwLXByZXZlbnRkZWZhdWx0LWRuN2YwXG4gICAgaWYgKGZvY3VzUmlwcGxlICYmIGV2ZW50LmtleSA9PT0gJyAnICYmIGZvY3VzVmlzaWJsZSAmJiAhZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgcmlwcGxlLnN0b3AoZXZlbnQsICgpID0+IHtcbiAgICAgICAgcmlwcGxlLnB1bHNhdGUoZXZlbnQpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChvbktleVVwKSB7XG4gICAgICBvbktleVVwKGV2ZW50KTtcbiAgICB9XG5cbiAgICAvLyBLZXlib2FyZCBhY2Nlc3NpYmlsaXR5IGZvciBub24gaW50ZXJhY3RpdmUgZWxlbWVudHNcbiAgICBpZiAob25DbGljayAmJiBldmVudC50YXJnZXQgPT09IGV2ZW50LmN1cnJlbnRUYXJnZXQgJiYgaXNOb25OYXRpdmVCdXR0b24oKSAmJiBldmVudC5rZXkgPT09ICcgJyAmJiAhZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgb25DbGljayhldmVudCk7XG4gICAgfVxuICB9KTtcbiAgbGV0IENvbXBvbmVudFByb3AgPSBjb21wb25lbnQ7XG4gIGlmIChDb21wb25lbnRQcm9wID09PSAnYnV0dG9uJyAmJiAob3RoZXIuaHJlZiB8fCBvdGhlci50bykpIHtcbiAgICBDb21wb25lbnRQcm9wID0gTGlua0NvbXBvbmVudDtcbiAgfVxuICBjb25zdCBidXR0b25Qcm9wcyA9IHt9O1xuICBpZiAoQ29tcG9uZW50UHJvcCA9PT0gJ2J1dHRvbicpIHtcbiAgICBidXR0b25Qcm9wcy50eXBlID0gdHlwZSA9PT0gdW5kZWZpbmVkID8gJ2J1dHRvbicgOiB0eXBlO1xuICAgIGJ1dHRvblByb3BzLmRpc2FibGVkID0gZGlzYWJsZWQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCFvdGhlci5ocmVmICYmICFvdGhlci50bykge1xuICAgICAgYnV0dG9uUHJvcHMucm9sZSA9ICdidXR0b24nO1xuICAgIH1cbiAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgIGJ1dHRvblByb3BzWydhcmlhLWRpc2FibGVkJ10gPSBkaXNhYmxlZDtcbiAgICB9XG4gIH1cbiAgY29uc3QgaGFuZGxlUmVmID0gdXNlRm9ya1JlZihyZWYsIGJ1dHRvblJlZik7XG4gIGNvbnN0IG93bmVyU3RhdGUgPSB7XG4gICAgLi4ucHJvcHMsXG4gICAgY2VudGVyUmlwcGxlLFxuICAgIGNvbXBvbmVudCxcbiAgICBkaXNhYmxlZCxcbiAgICBkaXNhYmxlUmlwcGxlLFxuICAgIGRpc2FibGVUb3VjaFJpcHBsZSxcbiAgICBmb2N1c1JpcHBsZSxcbiAgICB0YWJJbmRleCxcbiAgICBmb2N1c1Zpc2libGVcbiAgfTtcbiAgY29uc3QgY2xhc3NlcyA9IHVzZVV0aWxpdHlDbGFzc2VzKG93bmVyU3RhdGUpO1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3hzKEJ1dHRvbkJhc2VSb290LCB7XG4gICAgYXM6IENvbXBvbmVudFByb3AsXG4gICAgY2xhc3NOYW1lOiBjbHN4KGNsYXNzZXMucm9vdCwgY2xhc3NOYW1lKSxcbiAgICBvd25lclN0YXRlOiBvd25lclN0YXRlLFxuICAgIG9uQmx1cjogaGFuZGxlQmx1cixcbiAgICBvbkNsaWNrOiBvbkNsaWNrLFxuICAgIG9uQ29udGV4dE1lbnU6IGhhbmRsZUNvbnRleHRNZW51LFxuICAgIG9uRm9jdXM6IGhhbmRsZUZvY3VzLFxuICAgIG9uS2V5RG93bjogaGFuZGxlS2V5RG93bixcbiAgICBvbktleVVwOiBoYW5kbGVLZXlVcCxcbiAgICBvbk1vdXNlRG93bjogaGFuZGxlTW91c2VEb3duLFxuICAgIG9uTW91c2VMZWF2ZTogaGFuZGxlTW91c2VMZWF2ZSxcbiAgICBvbk1vdXNlVXA6IGhhbmRsZU1vdXNlVXAsXG4gICAgb25EcmFnTGVhdmU6IGhhbmRsZURyYWdMZWF2ZSxcbiAgICBvblRvdWNoRW5kOiBoYW5kbGVUb3VjaEVuZCxcbiAgICBvblRvdWNoTW92ZTogaGFuZGxlVG91Y2hNb3ZlLFxuICAgIG9uVG91Y2hTdGFydDogaGFuZGxlVG91Y2hTdGFydCxcbiAgICByZWY6IGhhbmRsZVJlZixcbiAgICB0YWJJbmRleDogZGlzYWJsZWQgPyAtMSA6IHRhYkluZGV4LFxuICAgIHR5cGU6IHR5cGUsXG4gICAgLi4uYnV0dG9uUHJvcHMsXG4gICAgLi4ub3RoZXIsXG4gICAgY2hpbGRyZW46IFtjaGlsZHJlbiwgZW5hYmxlVG91Y2hSaXBwbGUgPyAvKiNfX1BVUkVfXyovX2pzeChUb3VjaFJpcHBsZSwge1xuICAgICAgcmVmOiBoYW5kbGVSaXBwbGVSZWYsXG4gICAgICBjZW50ZXI6IGNlbnRlclJpcHBsZSxcbiAgICAgIC4uLlRvdWNoUmlwcGxlUHJvcHNcbiAgICB9KSA6IG51bGxdXG4gIH0pO1xufSk7XG5mdW5jdGlvbiB1c2VSaXBwbGVIYW5kbGVyKHJpcHBsZSwgcmlwcGxlQWN0aW9uLCBldmVudENhbGxiYWNrLCBza2lwUmlwcGxlQWN0aW9uID0gZmFsc2UpIHtcbiAgcmV0dXJuIHVzZUV2ZW50Q2FsbGJhY2soZXZlbnQgPT4ge1xuICAgIGlmIChldmVudENhbGxiYWNrKSB7XG4gICAgICBldmVudENhbGxiYWNrKGV2ZW50KTtcbiAgICB9XG4gICAgaWYgKCFza2lwUmlwcGxlQWN0aW9uKSB7XG4gICAgICByaXBwbGVbcmlwcGxlQWN0aW9uXShldmVudCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9KTtcbn1cbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IEJ1dHRvbkJhc2UucHJvcFR5cGVzIC8qIHJlbW92ZS1wcm9wdHlwZXMgKi8gPSB7XG4gIC8vIOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBXYXJuaW5nIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuICAvLyDilIIgVGhlc2UgUHJvcFR5cGVzIGFyZSBnZW5lcmF0ZWQgZnJvbSB0aGUgVHlwZVNjcmlwdCB0eXBlIGRlZmluaXRpb25zLiDilIJcbiAgLy8g4pSCICAgIFRvIHVwZGF0ZSB0aGVtLCBlZGl0IHRoZSBkLnRzIGZpbGUgYW5kIHJ1biBgcG5wbSBwcm9wdHlwZXNgLiAgICAg4pSCXG4gIC8vIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmFxuICAvKipcbiAgICogQSByZWYgZm9yIGltcGVyYXRpdmUgYWN0aW9ucy5cbiAgICogSXQgY3VycmVudGx5IG9ubHkgc3VwcG9ydHMgYGZvY3VzVmlzaWJsZSgpYCBhY3Rpb24uXG4gICAqL1xuICBhY3Rpb246IHJlZlR5cGUsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSByaXBwbGVzIGFyZSBjZW50ZXJlZC5cbiAgICogVGhleSB3b24ndCBzdGFydCBhdCB0aGUgY3Vyc29yIGludGVyYWN0aW9uIHBvc2l0aW9uLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgY2VudGVyUmlwcGxlOiBQcm9wVHlwZXMuYm9vbCxcbiAgLyoqXG4gICAqIFRoZSBjb250ZW50IG9mIHRoZSBjb21wb25lbnQuXG4gICAqL1xuICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUsXG4gIC8qKlxuICAgKiBPdmVycmlkZSBvciBleHRlbmQgdGhlIHN0eWxlcyBhcHBsaWVkIHRvIHRoZSBjb21wb25lbnQuXG4gICAqL1xuICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAvKipcbiAgICogVGhlIGNvbXBvbmVudCB1c2VkIGZvciB0aGUgcm9vdCBub2RlLlxuICAgKiBFaXRoZXIgYSBzdHJpbmcgdG8gdXNlIGEgSFRNTCBlbGVtZW50IG9yIGEgY29tcG9uZW50LlxuICAgKi9cbiAgY29tcG9uZW50OiBlbGVtZW50VHlwZUFjY2VwdGluZ1JlZixcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIGNvbXBvbmVudCBpcyBkaXNhYmxlZC5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGRpc2FibGVkOiBQcm9wVHlwZXMuYm9vbCxcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIHJpcHBsZSBlZmZlY3QgaXMgZGlzYWJsZWQuXG4gICAqXG4gICAqIOKaoO+4jyBXaXRob3V0IGEgcmlwcGxlIHRoZXJlIGlzIG5vIHN0eWxpbmcgZm9yIDpmb2N1cy12aXNpYmxlIGJ5IGRlZmF1bHQuIEJlIHN1cmVcbiAgICogdG8gaGlnaGxpZ2h0IHRoZSBlbGVtZW50IGJ5IGFwcGx5aW5nIHNlcGFyYXRlIHN0eWxlcyB3aXRoIHRoZSBgLk11aS1mb2N1c1Zpc2libGVgIGNsYXNzLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZGlzYWJsZVJpcHBsZTogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSB0b3VjaCByaXBwbGUgZWZmZWN0IGlzIGRpc2FibGVkLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZGlzYWJsZVRvdWNoUmlwcGxlOiBQcm9wVHlwZXMuYm9vbCxcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIGJhc2UgYnV0dG9uIHdpbGwgaGF2ZSBhIGtleWJvYXJkIGZvY3VzIHJpcHBsZS5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGZvY3VzUmlwcGxlOiBQcm9wVHlwZXMuYm9vbCxcbiAgLyoqXG4gICAqIFRoaXMgcHJvcCBjYW4gaGVscCBpZGVudGlmeSB3aGljaCBlbGVtZW50IGhhcyBrZXlib2FyZCBmb2N1cy5cbiAgICogVGhlIGNsYXNzIG5hbWUgd2lsbCBiZSBhcHBsaWVkIHdoZW4gdGhlIGVsZW1lbnQgZ2FpbnMgdGhlIGZvY3VzIHRocm91Z2gga2V5Ym9hcmQgaW50ZXJhY3Rpb24uXG4gICAqIEl0J3MgYSBwb2x5ZmlsbCBmb3IgdGhlIFtDU1MgOmZvY3VzLXZpc2libGUgc2VsZWN0b3JdKGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9zZWxlY3RvcnMtNC8jdGhlLWZvY3VzLXZpc2libGUtcHNldWRvKS5cbiAgICogVGhlIHJhdGlvbmFsZSBmb3IgdXNpbmcgdGhpcyBmZWF0dXJlIFtpcyBleHBsYWluZWQgaGVyZV0oaHR0cHM6Ly9naXRodWIuY29tL1dJQ0cvZm9jdXMtdmlzaWJsZS9ibG9iL0hFQUQvZXhwbGFpbmVyLm1kKS5cbiAgICogQSBbcG9seWZpbGwgY2FuIGJlIHVzZWRdKGh0dHBzOi8vZ2l0aHViLmNvbS9XSUNHL2ZvY3VzLXZpc2libGUpIHRvIGFwcGx5IGEgYGZvY3VzLXZpc2libGVgIGNsYXNzIHRvIG90aGVyIGNvbXBvbmVudHNcbiAgICogaWYgbmVlZGVkLlxuICAgKi9cbiAgZm9jdXNWaXNpYmxlQ2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgaHJlZjogUHJvcFR5cGVzIC8qIEB0eXBlc2NyaXB0LXRvLXByb3B0eXBlcy1pZ25vcmUgKi8uYW55LFxuICAvKipcbiAgICogVGhlIGNvbXBvbmVudCB1c2VkIHRvIHJlbmRlciBhIGxpbmsgd2hlbiB0aGUgYGhyZWZgIHByb3AgaXMgcHJvdmlkZWQuXG4gICAqIEBkZWZhdWx0ICdhJ1xuICAgKi9cbiAgTGlua0NvbXBvbmVudDogUHJvcFR5cGVzLmVsZW1lbnRUeXBlLFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgb25CbHVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIG9uQ2xpY2s6IFByb3BUeXBlcy5mdW5jLFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgb25Db250ZXh0TWVudTogUHJvcFR5cGVzLmZ1bmMsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBvbkRyYWdMZWF2ZTogUHJvcFR5cGVzLmZ1bmMsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBvbkZvY3VzOiBQcm9wVHlwZXMuZnVuYyxcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZpcmVkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBmb2N1c2VkIHdpdGggYSBrZXlib2FyZC5cbiAgICogV2UgdHJpZ2dlciBhIGBvbkZvY3VzYCBjYWxsYmFjayB0b28uXG4gICAqL1xuICBvbkZvY3VzVmlzaWJsZTogUHJvcFR5cGVzLmZ1bmMsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBvbktleURvd246IFByb3BUeXBlcy5mdW5jLFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgb25LZXlVcDogUHJvcFR5cGVzLmZ1bmMsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBvbk1vdXNlRG93bjogUHJvcFR5cGVzLmZ1bmMsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBvbk1vdXNlTGVhdmU6IFByb3BUeXBlcy5mdW5jLFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgb25Nb3VzZVVwOiBQcm9wVHlwZXMuZnVuYyxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIG9uVG91Y2hFbmQ6IFByb3BUeXBlcy5mdW5jLFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgb25Ub3VjaE1vdmU6IFByb3BUeXBlcy5mdW5jLFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgb25Ub3VjaFN0YXJ0OiBQcm9wVHlwZXMuZnVuYyxcbiAgLyoqXG4gICAqIFRoZSBzeXN0ZW0gcHJvcCB0aGF0IGFsbG93cyBkZWZpbmluZyBzeXN0ZW0gb3ZlcnJpZGVzIGFzIHdlbGwgYXMgYWRkaXRpb25hbCBDU1Mgc3R5bGVzLlxuICAgKi9cbiAgc3g6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0LCBQcm9wVHlwZXMuYm9vbF0pKSwgUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3RdKSxcbiAgLyoqXG4gICAqIEBkZWZhdWx0IDBcbiAgICovXG4gIHRhYkluZGV4OiBQcm9wVHlwZXMubnVtYmVyLFxuICAvKipcbiAgICogUHJvcHMgYXBwbGllZCB0byB0aGUgYFRvdWNoUmlwcGxlYCBlbGVtZW50LlxuICAgKi9cbiAgVG91Y2hSaXBwbGVQcm9wczogUHJvcFR5cGVzLm9iamVjdCxcbiAgLyoqXG4gICAqIEEgcmVmIHRoYXQgcG9pbnRzIHRvIHRoZSBgVG91Y2hSaXBwbGVgIGVsZW1lbnQuXG4gICAqL1xuICB0b3VjaFJpcHBsZVJlZjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgY3VycmVudDogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIHB1bHNhdGU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgICBzdGFydDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICAgIHN0b3A6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWRcbiAgICB9KVxuICB9KV0pLFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgdHlwZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnYnV0dG9uJywgJ3Jlc2V0JywgJ3N1Ym1pdCddKSwgUHJvcFR5cGVzLnN0cmluZ10pXG59IDogdm9pZCAwO1xuZXhwb3J0IGRlZmF1bHQgQnV0dG9uQmFzZTsiLAogICAgImltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5jb25zdCByZWZUeXBlID0gUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3RdKTtcbmV4cG9ydCBkZWZhdWx0IHJlZlR5cGU7IiwKICAgICJpbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNoYWluUHJvcFR5cGVzIGZyb20gXCIuLi9jaGFpblByb3BUeXBlcy9pbmRleC5qc1wiO1xuZnVuY3Rpb24gaXNDbGFzc0NvbXBvbmVudChlbGVtZW50VHlwZSkge1xuICAvLyBlbGVtZW50VHlwZS5wcm90b3R5cGU/LmlzUmVhY3RDb21wb25lbnRcbiAgY29uc3Qge1xuICAgIHByb3RvdHlwZSA9IHt9XG4gIH0gPSBlbGVtZW50VHlwZTtcbiAgcmV0dXJuIEJvb2xlYW4ocHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQpO1xufVxuZnVuY3Rpb24gZWxlbWVudFR5cGVBY2NlcHRpbmdSZWYocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gIGNvbnN0IHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgY29uc3Qgc2FmZVByb3BOYW1lID0gcHJvcEZ1bGxOYW1lIHx8IHByb3BOYW1lO1xuICBpZiAocHJvcFZhbHVlID09IG51bGwgfHxcbiAgLy8gV2hlbiBzZXJ2ZXItc2lkZSByZW5kZXJpbmcgUmVhY3QgZG9lc24ndCB3YXJuIGVpdGhlci5cbiAgLy8gVGhpcyBpcyBub3QgYW4gYWNjdXJhdGUgY2hlY2sgZm9yIFNTUi5cbiAgLy8gVGhpcyBpcyBvbmx5IGluIHBsYWNlIGZvciBlbW90aW9uIGNvbXBhdC5cbiAgLy8gVE9ETzogUmV2aXNpdCBvbmNlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMjAwNDcgaXMgcmVzb2x2ZWQuXG4gIHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgbGV0IHdhcm5pbmdIaW50O1xuXG4gIC8qKlxuICAgKiBCbGFja2xpc3RpbmcgaW5zdGVhZCBvZiB3aGl0ZWxpc3RpbmdcbiAgICpcbiAgICogQmxhY2tsaXN0aW5nIHdpbGwgbWlzcyBzb21lIGNvbXBvbmVudHMsIHN1Y2ggYXMgUmVhY3QuRnJhZ21lbnQuIFRob3NlIHdpbGwgYXQgbGVhc3RcbiAgICogdHJpZ2dlciBhIHdhcm5pbmcgaW4gUmVhY3QuXG4gICAqIFdlIGNhbid0IHdoaXRlbGlzdCBiZWNhdXNlIHRoZXJlIGlzIG5vIHNhZmUgd2F5IHRvIGRldGVjdCBSZWFjdC5mb3J3YXJkUmVmXG4gICAqIG9yIGNsYXNzIGNvbXBvbmVudHMuIFwiU2FmZVwiIG1lYW5zIHRoZXJlJ3Mgbm8gcHVibGljIEFQSS5cbiAgICpcbiAgICovXG4gIGlmICh0eXBlb2YgcHJvcFZhbHVlID09PSAnZnVuY3Rpb24nICYmICFpc0NsYXNzQ29tcG9uZW50KHByb3BWYWx1ZSkpIHtcbiAgICB3YXJuaW5nSGludCA9ICdEaWQgeW91IGFjY2lkZW50YWxseSBwcm92aWRlIGEgcGxhaW4gZnVuY3Rpb24gY29tcG9uZW50IGluc3RlYWQ/JztcbiAgfVxuICBpZiAod2FybmluZ0hpbnQgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBuZXcgRXJyb3IoYEludmFsaWQgJHtsb2NhdGlvbn0gXFxgJHtzYWZlUHJvcE5hbWV9XFxgIHN1cHBsaWVkIHRvIFxcYCR7Y29tcG9uZW50TmFtZX1cXGAuIGAgKyBgRXhwZWN0ZWQgYW4gZWxlbWVudCB0eXBlIHRoYXQgY2FuIGhvbGQgYSByZWYuICR7d2FybmluZ0hpbnR9IGAgKyAnRm9yIG1vcmUgaW5mb3JtYXRpb24gc2VlIGh0dHBzOi8vbXVpLmNvbS9yL2NhdmVhdC13aXRoLXJlZnMtZ3VpZGUnKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydCBkZWZhdWx0IGNoYWluUHJvcFR5cGVzKFByb3BUeXBlcy5lbGVtZW50VHlwZSwgZWxlbWVudFR5cGVBY2NlcHRpbmdSZWYpOyIsCiAgICAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2hhaW5Qcm9wVHlwZXMocHJvcFR5cGUxLCBwcm9wVHlwZTIpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgICByZXR1cm4gKCkgPT4gbnVsbDtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24gdmFsaWRhdGUoLi4uYXJncykge1xuICAgIHJldHVybiBwcm9wVHlwZTEoLi4uYXJncykgfHwgcHJvcFR5cGUyKC4uLmFyZ3MpO1xuICB9O1xufSIsCiAgICAiLyoqXG4gKiBSZXR1cm5zIGEgYm9vbGVhbiBpbmRpY2F0aW5nIGlmIHRoZSBldmVudCdzIHRhcmdldCBoYXMgOmZvY3VzLXZpc2libGVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNGb2N1c1Zpc2libGUoZWxlbWVudCkge1xuICB0cnkge1xuICAgIHJldHVybiBlbGVtZW50Lm1hdGNoZXMoJzpmb2N1cy12aXNpYmxlJyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgLy8gRG8gbm90IHdhcm4gb24ganNkb20gdGVzdHMsIG90aGVyd2lzZSBhbGwgdGVzdHMgdGhhdCByZWx5IG9uIGZvY3VzIGhhdmUgdG8gYmUgc2tpcHBlZFxuICAgIC8vIFRlc3RzIHRoYXQgcmVseSBvbiBgOmZvY3VzLXZpc2libGVgIHdpbGwgc3RpbGwgaGF2ZSB0byBiZSBza2lwcGVkIGluIGpzZG9tXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgIXdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKCdqc2RvbScpKSB7XG4gICAgICBjb25zb2xlLndhcm4oWydNVUk6IFRoZSBgOmZvY3VzLXZpc2libGVgIHBzZXVkbyBjbGFzcyBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3Nlci4nLCAnU29tZSBjb21wb25lbnRzIHJlbHkgb24gdGhpcyBmZWF0dXJlIHRvIHdvcmsgcHJvcGVybHkuJ10uam9pbignXFxuJykpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59IiwKICAgICIndXNlIGNsaWVudCc7XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB1c2VMYXp5UmVmIGZyb20gJ0BtdWkvdXRpbHMvdXNlTGF6eVJlZic7XG4vKipcbiAqIExhenkgaW5pdGlhbGl6YXRpb24gY29udGFpbmVyIGZvciB0aGUgUmlwcGxlIGluc3RhbmNlLiBUaGlzIGltcHJvdmVzXG4gKiBwZXJmb3JtYW5jZSBieSBkZWxheWluZyBtb3VudGluZyB0aGUgcmlwcGxlIHVudGlsIGl0J3MgbmVlZGVkLlxuICovXG5leHBvcnQgY2xhc3MgTGF6eVJpcHBsZSB7XG4gIC8qKiBSZWFjdCByZWYgdG8gdGhlIHJpcHBsZSBpbnN0YW5jZSAqL1xuXG4gIC8qKiBJZiB0aGUgcmlwcGxlIGNvbXBvbmVudCBzaG91bGQgYmUgbW91bnRlZCAqL1xuXG4gIC8qKiBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgcmlwcGxlIGNvbXBvbmVudCBpcyBtb3VudGVkICovXG5cbiAgLyoqIElmIHRoZSByaXBwbGUgY29tcG9uZW50IGhhcyBiZWVuIG1vdW50ZWQgKi9cblxuICAvKiogUmVhY3Qgc3RhdGUgaG9vayBzZXR0ZXIgKi9cblxuICBzdGF0aWMgY3JlYXRlKCkge1xuICAgIHJldHVybiBuZXcgTGF6eVJpcHBsZSgpO1xuICB9XG4gIHN0YXRpYyB1c2UoKSB7XG4gICAgLyogZXNsaW50LWRpc2FibGUgKi9cbiAgICBjb25zdCByaXBwbGUgPSB1c2VMYXp5UmVmKExhenlSaXBwbGUuY3JlYXRlKS5jdXJyZW50O1xuICAgIGNvbnN0IFtzaG91bGRNb3VudCwgc2V0U2hvdWxkTW91bnRdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICAgIHJpcHBsZS5zaG91bGRNb3VudCA9IHNob3VsZE1vdW50O1xuICAgIHJpcHBsZS5zZXRTaG91bGRNb3VudCA9IHNldFNob3VsZE1vdW50O1xuICAgIFJlYWN0LnVzZUVmZmVjdChyaXBwbGUubW91bnRFZmZlY3QsIFtzaG91bGRNb3VudF0pO1xuICAgIC8qIGVzbGludC1lbmFibGUgKi9cblxuICAgIHJldHVybiByaXBwbGU7XG4gIH1cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5yZWYgPSB7XG4gICAgICBjdXJyZW50OiBudWxsXG4gICAgfTtcbiAgICB0aGlzLm1vdW50ZWQgPSBudWxsO1xuICAgIHRoaXMuZGlkTW91bnQgPSBmYWxzZTtcbiAgICB0aGlzLnNob3VsZE1vdW50ID0gZmFsc2U7XG4gICAgdGhpcy5zZXRTaG91bGRNb3VudCA9IG51bGw7XG4gIH1cbiAgbW91bnQoKSB7XG4gICAgaWYgKCF0aGlzLm1vdW50ZWQpIHtcbiAgICAgIHRoaXMubW91bnRlZCA9IGNyZWF0ZUNvbnRyb2xsZWRQcm9taXNlKCk7XG4gICAgICB0aGlzLnNob3VsZE1vdW50ID0gdHJ1ZTtcbiAgICAgIHRoaXMuc2V0U2hvdWxkTW91bnQodGhpcy5zaG91bGRNb3VudCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLm1vdW50ZWQ7XG4gIH1cbiAgbW91bnRFZmZlY3QgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuc2hvdWxkTW91bnQgJiYgIXRoaXMuZGlkTW91bnQpIHtcbiAgICAgIGlmICh0aGlzLnJlZi5jdXJyZW50ICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuZGlkTW91bnQgPSB0cnVlO1xuICAgICAgICB0aGlzLm1vdW50ZWQucmVzb2x2ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKiBSaXBwbGUgQVBJICovXG5cbiAgc3RhcnQoLi4uYXJncykge1xuICAgIHRoaXMubW91bnQoKS50aGVuKCgpID0+IHRoaXMucmVmLmN1cnJlbnQ/LnN0YXJ0KC4uLmFyZ3MpKTtcbiAgfVxuICBzdG9wKC4uLmFyZ3MpIHtcbiAgICB0aGlzLm1vdW50KCkudGhlbigoKSA9PiB0aGlzLnJlZi5jdXJyZW50Py5zdG9wKC4uLmFyZ3MpKTtcbiAgfVxuICBwdWxzYXRlKC4uLmFyZ3MpIHtcbiAgICB0aGlzLm1vdW50KCkudGhlbigoKSA9PiB0aGlzLnJlZi5jdXJyZW50Py5wdWxzYXRlKC4uLmFyZ3MpKTtcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlTGF6eVJpcHBsZSgpIHtcbiAgcmV0dXJuIExhenlSaXBwbGUudXNlKCk7XG59XG5mdW5jdGlvbiBjcmVhdGVDb250cm9sbGVkUHJvbWlzZSgpIHtcbiAgbGV0IHJlc29sdmU7XG4gIGxldCByZWplY3Q7XG4gIGNvbnN0IHAgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZUZuLCByZWplY3RGbikgPT4ge1xuICAgIHJlc29sdmUgPSByZXNvbHZlRm47XG4gICAgcmVqZWN0ID0gcmVqZWN0Rm47XG4gIH0pO1xuICBwLnJlc29sdmUgPSByZXNvbHZlO1xuICBwLnJlamVjdCA9IHJlamVjdDtcbiAgcmV0dXJuIHA7XG59IiwKICAgICIndXNlIGNsaWVudCc7XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmNvbnN0IFVOSU5JVElBTElaRUQgPSB7fTtcblxuLyoqXG4gKiBBIFJlYWN0LnVzZVJlZigpIHRoYXQgaXMgaW5pdGlhbGl6ZWQgbGF6aWx5IHdpdGggYSBmdW5jdGlvbi4gTm90ZSB0aGF0IGl0IGFjY2VwdHMgYW4gb3B0aW9uYWxcbiAqIGluaXRpYWxpemF0aW9uIGFyZ3VtZW50LCBzbyB0aGUgaW5pdGlhbGl6YXRpb24gZnVuY3Rpb24gZG9lc24ndCBuZWVkIHRvIGJlIGFuIGlubGluZSBjbG9zdXJlLlxuICpcbiAqIEB1c2FnZVxuICogICBjb25zdCByZWYgPSB1c2VMYXp5UmVmKHNvcnRDb2x1bW5zLCBjb2x1bW5zKVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VMYXp5UmVmKGluaXQsIGluaXRBcmcpIHtcbiAgY29uc3QgcmVmID0gUmVhY3QudXNlUmVmKFVOSU5JVElBTElaRUQpO1xuICBpZiAocmVmLmN1cnJlbnQgPT09IFVOSU5JVElBTElaRUQpIHtcbiAgICByZWYuY3VycmVudCA9IGluaXQoaW5pdEFyZyk7XG4gIH1cbiAgcmV0dXJuIHJlZjtcbn0iLAogICAgIid1c2UgY2xpZW50JztcblxuZXhwb3J0IHsgZGVmYXVsdCB9IGZyb20gXCIuL3VzZUxhenlSaXBwbGUuanNcIjsiLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IFRyYW5zaXRpb25Hcm91cCB9IGZyb20gJ3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAnO1xuaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgdXNlVGltZW91dCBmcm9tICdAbXVpL3V0aWxzL3VzZVRpbWVvdXQnO1xuaW1wb3J0IHsga2V5ZnJhbWVzLCBzdHlsZWQgfSBmcm9tIFwiLi4vemVyby1zdHlsZWQvaW5kZXguanNcIjtcbmltcG9ydCB7IHVzZURlZmF1bHRQcm9wcyB9IGZyb20gXCIuLi9EZWZhdWx0UHJvcHNQcm92aWRlci9pbmRleC5qc1wiO1xuaW1wb3J0IFJpcHBsZSBmcm9tIFwiLi9SaXBwbGUuanNcIjtcbmltcG9ydCB0b3VjaFJpcHBsZUNsYXNzZXMgZnJvbSBcIi4vdG91Y2hSaXBwbGVDbGFzc2VzLmpzXCI7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuY29uc3QgRFVSQVRJT04gPSA1NTA7XG5leHBvcnQgY29uc3QgREVMQVlfUklQUExFID0gODA7XG5jb25zdCBlbnRlcktleWZyYW1lID0ga2V5ZnJhbWVzYFxuICAwJSB7XG4gICAgdHJhbnNmb3JtOiBzY2FsZSgwKTtcbiAgICBvcGFjaXR5OiAwLjE7XG4gIH1cblxuICAxMDAlIHtcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDEpO1xuICAgIG9wYWNpdHk6IDAuMztcbiAgfVxuYDtcbmNvbnN0IGV4aXRLZXlmcmFtZSA9IGtleWZyYW1lc2BcbiAgMCUge1xuICAgIG9wYWNpdHk6IDE7XG4gIH1cblxuICAxMDAlIHtcbiAgICBvcGFjaXR5OiAwO1xuICB9XG5gO1xuY29uc3QgcHVsc2F0ZUtleWZyYW1lID0ga2V5ZnJhbWVzYFxuICAwJSB7XG4gICAgdHJhbnNmb3JtOiBzY2FsZSgxKTtcbiAgfVxuXG4gIDUwJSB7XG4gICAgdHJhbnNmb3JtOiBzY2FsZSgwLjkyKTtcbiAgfVxuXG4gIDEwMCUge1xuICAgIHRyYW5zZm9ybTogc2NhbGUoMSk7XG4gIH1cbmA7XG5leHBvcnQgY29uc3QgVG91Y2hSaXBwbGVSb290ID0gc3R5bGVkKCdzcGFuJywge1xuICBuYW1lOiAnTXVpVG91Y2hSaXBwbGUnLFxuICBzbG90OiAnUm9vdCdcbn0pKHtcbiAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICBwb2ludGVyRXZlbnRzOiAnbm9uZScsXG4gIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICB6SW5kZXg6IDAsXG4gIHRvcDogMCxcbiAgcmlnaHQ6IDAsXG4gIGJvdHRvbTogMCxcbiAgbGVmdDogMCxcbiAgYm9yZGVyUmFkaXVzOiAnaW5oZXJpdCdcbn0pO1xuXG4vLyBUaGlzIGBzdHlsZWQoKWAgZnVuY3Rpb24gaW52b2tlcyBrZXlmcmFtZXMuIGBzdHlsZWQtY29tcG9uZW50c2Agb25seSBzdXBwb3J0cyBrZXlmcmFtZXNcbi8vIGluIHN0cmluZyB0ZW1wbGF0ZXMuIERvIG5vdCBjb252ZXJ0IHRoZXNlIHN0eWxlcyBpbiBKUyBvYmplY3QgYXMgaXQgd2lsbCBicmVhay5cbmV4cG9ydCBjb25zdCBUb3VjaFJpcHBsZVJpcHBsZSA9IHN0eWxlZChSaXBwbGUsIHtcbiAgbmFtZTogJ011aVRvdWNoUmlwcGxlJyxcbiAgc2xvdDogJ1JpcHBsZSdcbn0pYFxuICBvcGFjaXR5OiAwO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG5cbiAgJi4ke3RvdWNoUmlwcGxlQ2xhc3Nlcy5yaXBwbGVWaXNpYmxlfSB7XG4gICAgb3BhY2l0eTogMC4zO1xuICAgIHRyYW5zZm9ybTogc2NhbGUoMSk7XG4gICAgYW5pbWF0aW9uLW5hbWU6ICR7ZW50ZXJLZXlmcmFtZX07XG4gICAgYW5pbWF0aW9uLWR1cmF0aW9uOiAke0RVUkFUSU9OfW1zO1xuICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ICR7KHtcbiAgdGhlbWVcbn0pID0+IHRoZW1lLnRyYW5zaXRpb25zLmVhc2luZy5lYXNlSW5PdXR9O1xuICB9XG5cbiAgJi4ke3RvdWNoUmlwcGxlQ2xhc3Nlcy5yaXBwbGVQdWxzYXRlfSB7XG4gICAgYW5pbWF0aW9uLWR1cmF0aW9uOiAkeyh7XG4gIHRoZW1lXG59KSA9PiB0aGVtZS50cmFuc2l0aW9ucy5kdXJhdGlvbi5zaG9ydGVyfW1zO1xuICB9XG5cbiAgJiAuJHt0b3VjaFJpcHBsZUNsYXNzZXMuY2hpbGR9IHtcbiAgICBvcGFjaXR5OiAxO1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogY3VycmVudENvbG9yO1xuICB9XG5cbiAgJiAuJHt0b3VjaFJpcHBsZUNsYXNzZXMuY2hpbGRMZWF2aW5nfSB7XG4gICAgb3BhY2l0eTogMDtcbiAgICBhbmltYXRpb24tbmFtZTogJHtleGl0S2V5ZnJhbWV9O1xuICAgIGFuaW1hdGlvbi1kdXJhdGlvbjogJHtEVVJBVElPTn1tcztcbiAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiAkeyh7XG4gIHRoZW1lXG59KSA9PiB0aGVtZS50cmFuc2l0aW9ucy5lYXNpbmcuZWFzZUluT3V0fTtcbiAgfVxuXG4gICYgLiR7dG91Y2hSaXBwbGVDbGFzc2VzLmNoaWxkUHVsc2F0ZX0ge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAvKiBAbm9mbGlwICovXG4gICAgbGVmdDogMHB4O1xuICAgIHRvcDogMDtcbiAgICBhbmltYXRpb24tbmFtZTogJHtwdWxzYXRlS2V5ZnJhbWV9O1xuICAgIGFuaW1hdGlvbi1kdXJhdGlvbjogMjUwMG1zO1xuICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ICR7KHtcbiAgdGhlbWVcbn0pID0+IHRoZW1lLnRyYW5zaXRpb25zLmVhc2luZy5lYXNlSW5PdXR9O1xuICAgIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IGluZmluaXRlO1xuICAgIGFuaW1hdGlvbi1kZWxheTogMjAwbXM7XG4gIH1cbmA7XG5cbi8qKlxuICogQGlnbm9yZSAtIGludGVybmFsIGNvbXBvbmVudC5cbiAqXG4gKiBUT0RPIHY1OiBNYWtlIHByaXZhdGVcbiAqL1xuY29uc3QgVG91Y2hSaXBwbGUgPSAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiBUb3VjaFJpcHBsZShpblByb3BzLCByZWYpIHtcbiAgY29uc3QgcHJvcHMgPSB1c2VEZWZhdWx0UHJvcHMoe1xuICAgIHByb3BzOiBpblByb3BzLFxuICAgIG5hbWU6ICdNdWlUb3VjaFJpcHBsZSdcbiAgfSk7XG4gIGNvbnN0IHtcbiAgICBjZW50ZXI6IGNlbnRlclByb3AgPSBmYWxzZSxcbiAgICBjbGFzc2VzID0ge30sXG4gICAgY2xhc3NOYW1lLFxuICAgIC4uLm90aGVyXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgW3JpcHBsZXMsIHNldFJpcHBsZXNdID0gUmVhY3QudXNlU3RhdGUoW10pO1xuICBjb25zdCBuZXh0S2V5ID0gUmVhY3QudXNlUmVmKDApO1xuICBjb25zdCByaXBwbGVDYWxsYmFjayA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocmlwcGxlQ2FsbGJhY2suY3VycmVudCkge1xuICAgICAgcmlwcGxlQ2FsbGJhY2suY3VycmVudCgpO1xuICAgICAgcmlwcGxlQ2FsbGJhY2suY3VycmVudCA9IG51bGw7XG4gICAgfVxuICB9LCBbcmlwcGxlc10pO1xuXG4gIC8vIFVzZWQgdG8gZmlsdGVyIG91dCBtb3VzZSBlbXVsYXRlZCBldmVudHMgb24gbW9iaWxlLlxuICBjb25zdCBpZ25vcmluZ01vdXNlRG93biA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gIC8vIFdlIHVzZSBhIHRpbWVyIGluIG9yZGVyIHRvIG9ubHkgc2hvdyB0aGUgcmlwcGxlcyBmb3IgdG91Y2ggXCJjbGlja1wiIGxpa2UgZXZlbnRzLlxuICAvLyBXZSBkb24ndCB3YW50IHRvIGRpc3BsYXkgdGhlIHJpcHBsZSBmb3IgdG91Y2ggc2Nyb2xsIGV2ZW50cy5cbiAgY29uc3Qgc3RhcnRUaW1lciA9IHVzZVRpbWVvdXQoKTtcblxuICAvLyBUaGlzIGlzIHRoZSBob29rIGNhbGxlZCBvbmNlIHRoZSBwcmV2aW91cyB0aW1lb3V0IGlzIHJlYWR5LlxuICBjb25zdCBzdGFydFRpbWVyQ29tbWl0ID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICBjb25zdCBjb250YWluZXIgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIGNvbnN0IHN0YXJ0Q29tbWl0ID0gUmVhY3QudXNlQ2FsbGJhY2socGFyYW1zID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBwdWxzYXRlLFxuICAgICAgcmlwcGxlWCxcbiAgICAgIHJpcHBsZVksXG4gICAgICByaXBwbGVTaXplLFxuICAgICAgY2JcbiAgICB9ID0gcGFyYW1zO1xuICAgIHNldFJpcHBsZXMob2xkUmlwcGxlcyA9PiBbLi4ub2xkUmlwcGxlcywgLyojX19QVVJFX18qL19qc3goVG91Y2hSaXBwbGVSaXBwbGUsIHtcbiAgICAgIGNsYXNzZXM6IHtcbiAgICAgICAgcmlwcGxlOiBjbHN4KGNsYXNzZXMucmlwcGxlLCB0b3VjaFJpcHBsZUNsYXNzZXMucmlwcGxlKSxcbiAgICAgICAgcmlwcGxlVmlzaWJsZTogY2xzeChjbGFzc2VzLnJpcHBsZVZpc2libGUsIHRvdWNoUmlwcGxlQ2xhc3Nlcy5yaXBwbGVWaXNpYmxlKSxcbiAgICAgICAgcmlwcGxlUHVsc2F0ZTogY2xzeChjbGFzc2VzLnJpcHBsZVB1bHNhdGUsIHRvdWNoUmlwcGxlQ2xhc3Nlcy5yaXBwbGVQdWxzYXRlKSxcbiAgICAgICAgY2hpbGQ6IGNsc3goY2xhc3Nlcy5jaGlsZCwgdG91Y2hSaXBwbGVDbGFzc2VzLmNoaWxkKSxcbiAgICAgICAgY2hpbGRMZWF2aW5nOiBjbHN4KGNsYXNzZXMuY2hpbGRMZWF2aW5nLCB0b3VjaFJpcHBsZUNsYXNzZXMuY2hpbGRMZWF2aW5nKSxcbiAgICAgICAgY2hpbGRQdWxzYXRlOiBjbHN4KGNsYXNzZXMuY2hpbGRQdWxzYXRlLCB0b3VjaFJpcHBsZUNsYXNzZXMuY2hpbGRQdWxzYXRlKVxuICAgICAgfSxcbiAgICAgIHRpbWVvdXQ6IERVUkFUSU9OLFxuICAgICAgcHVsc2F0ZTogcHVsc2F0ZSxcbiAgICAgIHJpcHBsZVg6IHJpcHBsZVgsXG4gICAgICByaXBwbGVZOiByaXBwbGVZLFxuICAgICAgcmlwcGxlU2l6ZTogcmlwcGxlU2l6ZVxuICAgIH0sIG5leHRLZXkuY3VycmVudCldKTtcbiAgICBuZXh0S2V5LmN1cnJlbnQgKz0gMTtcbiAgICByaXBwbGVDYWxsYmFjay5jdXJyZW50ID0gY2I7XG4gIH0sIFtjbGFzc2VzXSk7XG4gIGNvbnN0IHN0YXJ0ID0gUmVhY3QudXNlQ2FsbGJhY2soKGV2ZW50ID0ge30sIG9wdGlvbnMgPSB7fSwgY2IgPSAoKSA9PiB7fSkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHB1bHNhdGUgPSBmYWxzZSxcbiAgICAgIGNlbnRlciA9IGNlbnRlclByb3AgfHwgb3B0aW9ucy5wdWxzYXRlLFxuICAgICAgZmFrZUVsZW1lbnQgPSBmYWxzZSAvLyBGb3IgdGVzdCBwdXJwb3Nlc1xuICAgIH0gPSBvcHRpb25zO1xuICAgIGlmIChldmVudD8udHlwZSA9PT0gJ21vdXNlZG93bicgJiYgaWdub3JpbmdNb3VzZURvd24uY3VycmVudCkge1xuICAgICAgaWdub3JpbmdNb3VzZURvd24uY3VycmVudCA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZXZlbnQ/LnR5cGUgPT09ICd0b3VjaHN0YXJ0Jykge1xuICAgICAgaWdub3JpbmdNb3VzZURvd24uY3VycmVudCA9IHRydWU7XG4gICAgfVxuICAgIGNvbnN0IGVsZW1lbnQgPSBmYWtlRWxlbWVudCA/IG51bGwgOiBjb250YWluZXIuY3VycmVudDtcbiAgICBjb25zdCByZWN0ID0gZWxlbWVudCA/IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOiB7XG4gICAgICB3aWR0aDogMCxcbiAgICAgIGhlaWdodDogMCxcbiAgICAgIGxlZnQ6IDAsXG4gICAgICB0b3A6IDBcbiAgICB9O1xuXG4gICAgLy8gR2V0IHRoZSBzaXplIG9mIHRoZSByaXBwbGVcbiAgICBsZXQgcmlwcGxlWDtcbiAgICBsZXQgcmlwcGxlWTtcbiAgICBsZXQgcmlwcGxlU2l6ZTtcbiAgICBpZiAoY2VudGVyIHx8IGV2ZW50ID09PSB1bmRlZmluZWQgfHwgZXZlbnQuY2xpZW50WCA9PT0gMCAmJiBldmVudC5jbGllbnRZID09PSAwIHx8ICFldmVudC5jbGllbnRYICYmICFldmVudC50b3VjaGVzKSB7XG4gICAgICByaXBwbGVYID0gTWF0aC5yb3VuZChyZWN0LndpZHRoIC8gMik7XG4gICAgICByaXBwbGVZID0gTWF0aC5yb3VuZChyZWN0LmhlaWdodCAvIDIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGNsaWVudFgsXG4gICAgICAgIGNsaWVudFlcbiAgICAgIH0gPSBldmVudC50b3VjaGVzICYmIGV2ZW50LnRvdWNoZXMubGVuZ3RoID4gMCA/IGV2ZW50LnRvdWNoZXNbMF0gOiBldmVudDtcbiAgICAgIHJpcHBsZVggPSBNYXRoLnJvdW5kKGNsaWVudFggLSByZWN0LmxlZnQpO1xuICAgICAgcmlwcGxlWSA9IE1hdGgucm91bmQoY2xpZW50WSAtIHJlY3QudG9wKTtcbiAgICB9XG4gICAgaWYgKGNlbnRlcikge1xuICAgICAgcmlwcGxlU2l6ZSA9IE1hdGguc3FydCgoMiAqIHJlY3Qud2lkdGggKiogMiArIHJlY3QuaGVpZ2h0ICoqIDIpIC8gMyk7XG5cbiAgICAgIC8vIEZvciBzb21lIHJlYXNvbiB0aGUgYW5pbWF0aW9uIGlzIGJyb2tlbiBvbiBNb2JpbGUgQ2hyb21lIGlmIHRoZSBzaXplIGlzIGV2ZW4uXG4gICAgICBpZiAocmlwcGxlU2l6ZSAlIDIgPT09IDApIHtcbiAgICAgICAgcmlwcGxlU2l6ZSArPSAxO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzaXplWCA9IE1hdGgubWF4KE1hdGguYWJzKChlbGVtZW50ID8gZWxlbWVudC5jbGllbnRXaWR0aCA6IDApIC0gcmlwcGxlWCksIHJpcHBsZVgpICogMiArIDI7XG4gICAgICBjb25zdCBzaXplWSA9IE1hdGgubWF4KE1hdGguYWJzKChlbGVtZW50ID8gZWxlbWVudC5jbGllbnRIZWlnaHQgOiAwKSAtIHJpcHBsZVkpLCByaXBwbGVZKSAqIDIgKyAyO1xuICAgICAgcmlwcGxlU2l6ZSA9IE1hdGguc3FydChzaXplWCAqKiAyICsgc2l6ZVkgKiogMik7XG4gICAgfVxuXG4gICAgLy8gVG91Y2hlIGRldmljZXNcbiAgICBpZiAoZXZlbnQ/LnRvdWNoZXMpIHtcbiAgICAgIC8vIGNoZWNrIHRoYXQgdGhpcyBpc24ndCBhbm90aGVyIHRvdWNoc3RhcnQgZHVlIHRvIG11bHRpdG91Y2hcbiAgICAgIC8vIG90aGVyd2lzZSB3ZSB3aWxsIG9ubHkgY2xlYXIgYSBzaW5nbGUgdGltZXIgd2hlbiB1bm1vdW50aW5nIHdoaWxlIHR3b1xuICAgICAgLy8gYXJlIHJ1bm5pbmdcbiAgICAgIGlmIChzdGFydFRpbWVyQ29tbWl0LmN1cnJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgLy8gUHJlcGFyZSB0aGUgcmlwcGxlIGVmZmVjdC5cbiAgICAgICAgc3RhcnRUaW1lckNvbW1pdC5jdXJyZW50ID0gKCkgPT4ge1xuICAgICAgICAgIHN0YXJ0Q29tbWl0KHtcbiAgICAgICAgICAgIHB1bHNhdGUsXG4gICAgICAgICAgICByaXBwbGVYLFxuICAgICAgICAgICAgcmlwcGxlWSxcbiAgICAgICAgICAgIHJpcHBsZVNpemUsXG4gICAgICAgICAgICBjYlxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICAvLyBEZWxheSB0aGUgZXhlY3V0aW9uIG9mIHRoZSByaXBwbGUgZWZmZWN0LlxuICAgICAgICAvLyBXZSBoYXZlIHRvIG1ha2UgYSB0cmFkZW9mZiB3aXRoIHRoaXMgZGVsYXkgdmFsdWUuXG4gICAgICAgIHN0YXJ0VGltZXIuc3RhcnQoREVMQVlfUklQUExFLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKHN0YXJ0VGltZXJDb21taXQuY3VycmVudCkge1xuICAgICAgICAgICAgc3RhcnRUaW1lckNvbW1pdC5jdXJyZW50KCk7XG4gICAgICAgICAgICBzdGFydFRpbWVyQ29tbWl0LmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0Q29tbWl0KHtcbiAgICAgICAgcHVsc2F0ZSxcbiAgICAgICAgcmlwcGxlWCxcbiAgICAgICAgcmlwcGxlWSxcbiAgICAgICAgcmlwcGxlU2l6ZSxcbiAgICAgICAgY2JcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2NlbnRlclByb3AsIHN0YXJ0Q29tbWl0LCBzdGFydFRpbWVyXSk7XG4gIGNvbnN0IHB1bHNhdGUgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc3RhcnQoe30sIHtcbiAgICAgIHB1bHNhdGU6IHRydWVcbiAgICB9KTtcbiAgfSwgW3N0YXJ0XSk7XG4gIGNvbnN0IHN0b3AgPSBSZWFjdC51c2VDYWxsYmFjaygoZXZlbnQsIGNiKSA9PiB7XG4gICAgc3RhcnRUaW1lci5jbGVhcigpO1xuXG4gICAgLy8gVGhlIHRvdWNoIGludGVyYWN0aW9uIG9jY3VycyB0b28gcXVpY2tseS5cbiAgICAvLyBXZSBzdGlsbCB3YW50IHRvIHNob3cgcmlwcGxlIGVmZmVjdC5cbiAgICBpZiAoZXZlbnQ/LnR5cGUgPT09ICd0b3VjaGVuZCcgJiYgc3RhcnRUaW1lckNvbW1pdC5jdXJyZW50KSB7XG4gICAgICBzdGFydFRpbWVyQ29tbWl0LmN1cnJlbnQoKTtcbiAgICAgIHN0YXJ0VGltZXJDb21taXQuY3VycmVudCA9IG51bGw7XG4gICAgICBzdGFydFRpbWVyLnN0YXJ0KDAsICgpID0+IHtcbiAgICAgICAgc3RvcChldmVudCwgY2IpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN0YXJ0VGltZXJDb21taXQuY3VycmVudCA9IG51bGw7XG4gICAgc2V0UmlwcGxlcyhvbGRSaXBwbGVzID0+IHtcbiAgICAgIGlmIChvbGRSaXBwbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIG9sZFJpcHBsZXMuc2xpY2UoMSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2xkUmlwcGxlcztcbiAgICB9KTtcbiAgICByaXBwbGVDYWxsYmFjay5jdXJyZW50ID0gY2I7XG4gIH0sIFtzdGFydFRpbWVyXSk7XG4gIFJlYWN0LnVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCAoKSA9PiAoe1xuICAgIHB1bHNhdGUsXG4gICAgc3RhcnQsXG4gICAgc3RvcFxuICB9KSwgW3B1bHNhdGUsIHN0YXJ0LCBzdG9wXSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeChUb3VjaFJpcHBsZVJvb3QsIHtcbiAgICBjbGFzc05hbWU6IGNsc3godG91Y2hSaXBwbGVDbGFzc2VzLnJvb3QsIGNsYXNzZXMucm9vdCwgY2xhc3NOYW1lKSxcbiAgICByZWY6IGNvbnRhaW5lcixcbiAgICAuLi5vdGhlcixcbiAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goVHJhbnNpdGlvbkdyb3VwLCB7XG4gICAgICBjb21wb25lbnQ6IG51bGwsXG4gICAgICBleGl0OiB0cnVlLFxuICAgICAgY2hpbGRyZW46IHJpcHBsZXNcbiAgICB9KVxuICB9KTtcbn0pO1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gVG91Y2hSaXBwbGUucHJvcFR5cGVzIC8qIHJlbW92ZS1wcm9wdHlwZXMgKi8gPSB7XG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSByaXBwbGUgc3RhcnRzIGF0IHRoZSBjZW50ZXIgb2YgdGhlIGNvbXBvbmVudFxuICAgKiByYXRoZXIgdGhhbiBhdCB0aGUgcG9pbnQgb2YgaW50ZXJhY3Rpb24uXG4gICAqL1xuICBjZW50ZXI6IFByb3BUeXBlcy5ib29sLFxuICAvKipcbiAgICogT3ZlcnJpZGUgb3IgZXh0ZW5kIHRoZSBzdHlsZXMgYXBwbGllZCB0byB0aGUgY29tcG9uZW50LlxuICAgKi9cbiAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdCxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZ1xufSA6IHZvaWQgMDtcbmV4cG9ydCBkZWZhdWx0IFRvdWNoUmlwcGxlOyIsCiAgICAiZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UociwgZSkge1xuICBpZiAobnVsbCA9PSByKSByZXR1cm4ge307XG4gIHZhciB0ID0ge307XG4gIGZvciAodmFyIG4gaW4gcikgaWYgKHt9Lmhhc093blByb3BlcnR5LmNhbGwociwgbikpIHtcbiAgICBpZiAoLTEgIT09IGUuaW5kZXhPZihuKSkgY29udGludWU7XG4gICAgdFtuXSA9IHJbbl07XG4gIH1cbiAgcmV0dXJuIHQ7XG59XG5leHBvcnQgeyBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSBhcyBkZWZhdWx0IH07IiwKICAgICJmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YodCwgZSkge1xuICByZXR1cm4gX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgcmV0dXJuIHQuX19wcm90b19fID0gZSwgdDtcbiAgfSwgX3NldFByb3RvdHlwZU9mKHQsIGUpO1xufVxuZXhwb3J0IHsgX3NldFByb3RvdHlwZU9mIGFzIGRlZmF1bHQgfTsiLAogICAgImltcG9ydCBzZXRQcm90b3R5cGVPZiBmcm9tIFwiLi9zZXRQcm90b3R5cGVPZi5qc1wiO1xuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2UodCwgbykge1xuICB0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpLCB0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHQsIHNldFByb3RvdHlwZU9mKHQsIG8pO1xufVxuZXhwb3J0IHsgX2luaGVyaXRzTG9vc2UgYXMgZGVmYXVsdCB9OyIsCiAgICAiaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlXCI7XG5pbXBvcnQgX2luaGVyaXRzTG9vc2UgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzTG9vc2VcIjtcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB7IHRpbWVvdXRzU2hhcGUgfSBmcm9tICcuL3V0aWxzL1Byb3BUeXBlcyc7XG5pbXBvcnQgVHJhbnNpdGlvbkdyb3VwQ29udGV4dCBmcm9tICcuL1RyYW5zaXRpb25Hcm91cENvbnRleHQnO1xuaW1wb3J0IHsgZm9yY2VSZWZsb3cgfSBmcm9tICcuL3V0aWxzL3JlZmxvdyc7XG5leHBvcnQgdmFyIFVOTU9VTlRFRCA9ICd1bm1vdW50ZWQnO1xuZXhwb3J0IHZhciBFWElURUQgPSAnZXhpdGVkJztcbmV4cG9ydCB2YXIgRU5URVJJTkcgPSAnZW50ZXJpbmcnO1xuZXhwb3J0IHZhciBFTlRFUkVEID0gJ2VudGVyZWQnO1xuZXhwb3J0IHZhciBFWElUSU5HID0gJ2V4aXRpbmcnO1xuLyoqXG4gKiBUaGUgVHJhbnNpdGlvbiBjb21wb25lbnQgbGV0cyB5b3UgZGVzY3JpYmUgYSB0cmFuc2l0aW9uIGZyb20gb25lIGNvbXBvbmVudFxuICogc3RhdGUgdG8gYW5vdGhlciBfb3ZlciB0aW1lXyB3aXRoIGEgc2ltcGxlIGRlY2xhcmF0aXZlIEFQSS4gTW9zdCBjb21tb25seVxuICogaXQncyB1c2VkIHRvIGFuaW1hdGUgdGhlIG1vdW50aW5nIGFuZCB1bm1vdW50aW5nIG9mIGEgY29tcG9uZW50LCBidXQgY2FuIGFsc29cbiAqIGJlIHVzZWQgdG8gZGVzY3JpYmUgaW4tcGxhY2UgdHJhbnNpdGlvbiBzdGF0ZXMgYXMgd2VsbC5cbiAqXG4gKiAtLS1cbiAqXG4gKiAqKk5vdGUqKjogYFRyYW5zaXRpb25gIGlzIGEgcGxhdGZvcm0tYWdub3N0aWMgYmFzZSBjb21wb25lbnQuIElmIHlvdSdyZSB1c2luZ1xuICogdHJhbnNpdGlvbnMgaW4gQ1NTLCB5b3UnbGwgcHJvYmFibHkgd2FudCB0byB1c2VcbiAqIFtgQ1NTVHJhbnNpdGlvbmBdKGh0dHBzOi8vcmVhY3Rjb21tdW5pdHkub3JnL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvY3NzLXRyYW5zaXRpb24pXG4gKiBpbnN0ZWFkLiBJdCBpbmhlcml0cyBhbGwgdGhlIGZlYXR1cmVzIG9mIGBUcmFuc2l0aW9uYCwgYnV0IGNvbnRhaW5zXG4gKiBhZGRpdGlvbmFsIGZlYXR1cmVzIG5lY2Vzc2FyeSB0byBwbGF5IG5pY2Ugd2l0aCBDU1MgdHJhbnNpdGlvbnMgKGhlbmNlIHRoZVxuICogbmFtZSBvZiB0aGUgY29tcG9uZW50KS5cbiAqXG4gKiAtLS1cbiAqXG4gKiBCeSBkZWZhdWx0IHRoZSBgVHJhbnNpdGlvbmAgY29tcG9uZW50IGRvZXMgbm90IGFsdGVyIHRoZSBiZWhhdmlvciBvZiB0aGVcbiAqIGNvbXBvbmVudCBpdCByZW5kZXJzLCBpdCBvbmx5IHRyYWNrcyBcImVudGVyXCIgYW5kIFwiZXhpdFwiIHN0YXRlcyBmb3IgdGhlXG4gKiBjb21wb25lbnRzLiBJdCdzIHVwIHRvIHlvdSB0byBnaXZlIG1lYW5pbmcgYW5kIGVmZmVjdCB0byB0aG9zZSBzdGF0ZXMuIEZvclxuICogZXhhbXBsZSB3ZSBjYW4gYWRkIHN0eWxlcyB0byBhIGNvbXBvbmVudCB3aGVuIGl0IGVudGVycyBvciBleGl0czpcbiAqXG4gKiBgYGBqc3hcbiAqIGltcG9ydCB7IFRyYW5zaXRpb24gfSBmcm9tICdyZWFjdC10cmFuc2l0aW9uLWdyb3VwJztcbiAqXG4gKiBjb25zdCBkdXJhdGlvbiA9IDMwMDtcbiAqXG4gKiBjb25zdCBkZWZhdWx0U3R5bGUgPSB7XG4gKiAgIHRyYW5zaXRpb246IGBvcGFjaXR5ICR7ZHVyYXRpb259bXMgZWFzZS1pbi1vdXRgLFxuICogICBvcGFjaXR5OiAwLFxuICogfVxuICpcbiAqIGNvbnN0IHRyYW5zaXRpb25TdHlsZXMgPSB7XG4gKiAgIGVudGVyaW5nOiB7IG9wYWNpdHk6IDEgfSxcbiAqICAgZW50ZXJlZDogIHsgb3BhY2l0eTogMSB9LFxuICogICBleGl0aW5nOiAgeyBvcGFjaXR5OiAwIH0sXG4gKiAgIGV4aXRlZDogIHsgb3BhY2l0eTogMCB9LFxuICogfTtcbiAqXG4gKiBjb25zdCBGYWRlID0gKHsgaW46IGluUHJvcCB9KSA9PiAoXG4gKiAgIDxUcmFuc2l0aW9uIGluPXtpblByb3B9IHRpbWVvdXQ9e2R1cmF0aW9ufT5cbiAqICAgICB7c3RhdGUgPT4gKFxuICogICAgICAgPGRpdiBzdHlsZT17e1xuICogICAgICAgICAuLi5kZWZhdWx0U3R5bGUsXG4gKiAgICAgICAgIC4uLnRyYW5zaXRpb25TdHlsZXNbc3RhdGVdXG4gKiAgICAgICB9fT5cbiAqICAgICAgICAgSSdtIGEgZmFkZSBUcmFuc2l0aW9uIVxuICogICAgICAgPC9kaXY+XG4gKiAgICAgKX1cbiAqICAgPC9UcmFuc2l0aW9uPlxuICogKTtcbiAqIGBgYFxuICpcbiAqIFRoZXJlIGFyZSA0IG1haW4gc3RhdGVzIGEgVHJhbnNpdGlvbiBjYW4gYmUgaW46XG4gKiAgLSBgJ2VudGVyaW5nJ2BcbiAqICAtIGAnZW50ZXJlZCdgXG4gKiAgLSBgJ2V4aXRpbmcnYFxuICogIC0gYCdleGl0ZWQnYFxuICpcbiAqIFRyYW5zaXRpb24gc3RhdGUgaXMgdG9nZ2xlZCB2aWEgdGhlIGBpbmAgcHJvcC4gV2hlbiBgdHJ1ZWAgdGhlIGNvbXBvbmVudFxuICogYmVnaW5zIHRoZSBcIkVudGVyXCIgc3RhZ2UuIER1cmluZyB0aGlzIHN0YWdlLCB0aGUgY29tcG9uZW50IHdpbGwgc2hpZnQgZnJvbVxuICogaXRzIGN1cnJlbnQgdHJhbnNpdGlvbiBzdGF0ZSwgdG8gYCdlbnRlcmluZydgIGZvciB0aGUgZHVyYXRpb24gb2YgdGhlXG4gKiB0cmFuc2l0aW9uIGFuZCB0aGVuIHRvIHRoZSBgJ2VudGVyZWQnYCBzdGFnZSBvbmNlIGl0J3MgY29tcGxldGUuIExldCdzIHRha2VcbiAqIHRoZSBmb2xsb3dpbmcgZXhhbXBsZSAod2UnbGwgdXNlIHRoZVxuICogW3VzZVN0YXRlXShodHRwczovL3JlYWN0anMub3JnL2RvY3MvaG9va3MtcmVmZXJlbmNlLmh0bWwjdXNlc3RhdGUpIGhvb2spOlxuICpcbiAqIGBgYGpzeFxuICogZnVuY3Rpb24gQXBwKCkge1xuICogICBjb25zdCBbaW5Qcm9wLCBzZXRJblByb3BdID0gdXNlU3RhdGUoZmFsc2UpO1xuICogICByZXR1cm4gKFxuICogICAgIDxkaXY+XG4gKiAgICAgICA8VHJhbnNpdGlvbiBpbj17aW5Qcm9wfSB0aW1lb3V0PXs1MDB9PlxuICogICAgICAgICB7c3RhdGUgPT4gKFxuICogICAgICAgICAgIC8vIC4uLlxuICogICAgICAgICApfVxuICogICAgICAgPC9UcmFuc2l0aW9uPlxuICogICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRJblByb3AodHJ1ZSl9PlxuICogICAgICAgICBDbGljayB0byBFbnRlclxuICogICAgICAgPC9idXR0b24+XG4gKiAgICAgPC9kaXY+XG4gKiAgICk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBXaGVuIHRoZSBidXR0b24gaXMgY2xpY2tlZCB0aGUgY29tcG9uZW50IHdpbGwgc2hpZnQgdG8gdGhlIGAnZW50ZXJpbmcnYCBzdGF0ZVxuICogYW5kIHN0YXkgdGhlcmUgZm9yIDUwMG1zICh0aGUgdmFsdWUgb2YgYHRpbWVvdXRgKSBiZWZvcmUgaXQgZmluYWxseSBzd2l0Y2hlc1xuICogdG8gYCdlbnRlcmVkJ2AuXG4gKlxuICogV2hlbiBgaW5gIGlzIGBmYWxzZWAgdGhlIHNhbWUgdGhpbmcgaGFwcGVucyBleGNlcHQgdGhlIHN0YXRlIG1vdmVzIGZyb21cbiAqIGAnZXhpdGluZydgIHRvIGAnZXhpdGVkJ2AuXG4gKi9cblxudmFyIFRyYW5zaXRpb24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoVHJhbnNpdGlvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVHJhbnNpdGlvbihwcm9wcywgY29udGV4dCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzLCBjb250ZXh0KSB8fCB0aGlzO1xuICAgIHZhciBwYXJlbnRHcm91cCA9IGNvbnRleHQ7IC8vIEluIHRoZSBjb250ZXh0IG9mIGEgVHJhbnNpdGlvbkdyb3VwIGFsbCBlbnRlcnMgYXJlIHJlYWxseSBhcHBlYXJzXG5cbiAgICB2YXIgYXBwZWFyID0gcGFyZW50R3JvdXAgJiYgIXBhcmVudEdyb3VwLmlzTW91bnRpbmcgPyBwcm9wcy5lbnRlciA6IHByb3BzLmFwcGVhcjtcbiAgICB2YXIgaW5pdGlhbFN0YXR1cztcbiAgICBfdGhpcy5hcHBlYXJTdGF0dXMgPSBudWxsO1xuXG4gICAgaWYgKHByb3BzLmluKSB7XG4gICAgICBpZiAoYXBwZWFyKSB7XG4gICAgICAgIGluaXRpYWxTdGF0dXMgPSBFWElURUQ7XG4gICAgICAgIF90aGlzLmFwcGVhclN0YXR1cyA9IEVOVEVSSU5HO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5pdGlhbFN0YXR1cyA9IEVOVEVSRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwcm9wcy51bm1vdW50T25FeGl0IHx8IHByb3BzLm1vdW50T25FbnRlcikge1xuICAgICAgICBpbml0aWFsU3RhdHVzID0gVU5NT1VOVEVEO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5pdGlhbFN0YXR1cyA9IEVYSVRFRDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHN0YXR1czogaW5pdGlhbFN0YXR1c1xuICAgIH07XG4gICAgX3RoaXMubmV4dENhbGxiYWNrID0gbnVsbDtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBUcmFuc2l0aW9uLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGZ1bmN0aW9uIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhfcmVmLCBwcmV2U3RhdGUpIHtcbiAgICB2YXIgbmV4dEluID0gX3JlZi5pbjtcblxuICAgIGlmIChuZXh0SW4gJiYgcHJldlN0YXRlLnN0YXR1cyA9PT0gVU5NT1VOVEVEKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdGF0dXM6IEVYSVRFRFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfSAvLyBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgLy8gICBsZXQgbmV4dFN0YXR1cyA9IG51bGxcbiAgLy8gICBpZiAocHJldlByb3BzICE9PSB0aGlzLnByb3BzKSB7XG4gIC8vICAgICBjb25zdCB7IHN0YXR1cyB9ID0gdGhpcy5zdGF0ZVxuICAvLyAgICAgaWYgKHRoaXMucHJvcHMuaW4pIHtcbiAgLy8gICAgICAgaWYgKHN0YXR1cyAhPT0gRU5URVJJTkcgJiYgc3RhdHVzICE9PSBFTlRFUkVEKSB7XG4gIC8vICAgICAgICAgbmV4dFN0YXR1cyA9IEVOVEVSSU5HXG4gIC8vICAgICAgIH1cbiAgLy8gICAgIH0gZWxzZSB7XG4gIC8vICAgICAgIGlmIChzdGF0dXMgPT09IEVOVEVSSU5HIHx8IHN0YXR1cyA9PT0gRU5URVJFRCkge1xuICAvLyAgICAgICAgIG5leHRTdGF0dXMgPSBFWElUSU5HXG4gIC8vICAgICAgIH1cbiAgLy8gICAgIH1cbiAgLy8gICB9XG4gIC8vICAgcmV0dXJuIHsgbmV4dFN0YXR1cyB9XG4gIC8vIH1cbiAgO1xuXG4gIHZhciBfcHJvdG8gPSBUcmFuc2l0aW9uLnByb3RvdHlwZTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLnVwZGF0ZVN0YXR1cyh0cnVlLCB0aGlzLmFwcGVhclN0YXR1cyk7XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICB2YXIgbmV4dFN0YXR1cyA9IG51bGw7XG5cbiAgICBpZiAocHJldlByb3BzICE9PSB0aGlzLnByb3BzKSB7XG4gICAgICB2YXIgc3RhdHVzID0gdGhpcy5zdGF0ZS5zdGF0dXM7XG5cbiAgICAgIGlmICh0aGlzLnByb3BzLmluKSB7XG4gICAgICAgIGlmIChzdGF0dXMgIT09IEVOVEVSSU5HICYmIHN0YXR1cyAhPT0gRU5URVJFRCkge1xuICAgICAgICAgIG5leHRTdGF0dXMgPSBFTlRFUklORztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gRU5URVJJTkcgfHwgc3RhdHVzID09PSBFTlRFUkVEKSB7XG4gICAgICAgICAgbmV4dFN0YXR1cyA9IEVYSVRJTkc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZVN0YXR1cyhmYWxzZSwgbmV4dFN0YXR1cyk7XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5jYW5jZWxOZXh0Q2FsbGJhY2soKTtcbiAgfTtcblxuICBfcHJvdG8uZ2V0VGltZW91dHMgPSBmdW5jdGlvbiBnZXRUaW1lb3V0cygpIHtcbiAgICB2YXIgdGltZW91dCA9IHRoaXMucHJvcHMudGltZW91dDtcbiAgICB2YXIgZXhpdCwgZW50ZXIsIGFwcGVhcjtcbiAgICBleGl0ID0gZW50ZXIgPSBhcHBlYXIgPSB0aW1lb3V0O1xuXG4gICAgaWYgKHRpbWVvdXQgIT0gbnVsbCAmJiB0eXBlb2YgdGltZW91dCAhPT0gJ251bWJlcicpIHtcbiAgICAgIGV4aXQgPSB0aW1lb3V0LmV4aXQ7XG4gICAgICBlbnRlciA9IHRpbWVvdXQuZW50ZXI7IC8vIFRPRE86IHJlbW92ZSBmYWxsYmFjayBmb3IgbmV4dCBtYWpvclxuXG4gICAgICBhcHBlYXIgPSB0aW1lb3V0LmFwcGVhciAhPT0gdW5kZWZpbmVkID8gdGltZW91dC5hcHBlYXIgOiBlbnRlcjtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgZXhpdDogZXhpdCxcbiAgICAgIGVudGVyOiBlbnRlcixcbiAgICAgIGFwcGVhcjogYXBwZWFyXG4gICAgfTtcbiAgfTtcblxuICBfcHJvdG8udXBkYXRlU3RhdHVzID0gZnVuY3Rpb24gdXBkYXRlU3RhdHVzKG1vdW50aW5nLCBuZXh0U3RhdHVzKSB7XG4gICAgaWYgKG1vdW50aW5nID09PSB2b2lkIDApIHtcbiAgICAgIG1vdW50aW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKG5leHRTdGF0dXMgIT09IG51bGwpIHtcbiAgICAgIC8vIG5leHRTdGF0dXMgd2lsbCBhbHdheXMgYmUgRU5URVJJTkcgb3IgRVhJVElORy5cbiAgICAgIHRoaXMuY2FuY2VsTmV4dENhbGxiYWNrKCk7XG5cbiAgICAgIGlmIChuZXh0U3RhdHVzID09PSBFTlRFUklORykge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy51bm1vdW50T25FeGl0IHx8IHRoaXMucHJvcHMubW91bnRPbkVudGVyKSB7XG4gICAgICAgICAgdmFyIG5vZGUgPSB0aGlzLnByb3BzLm5vZGVSZWYgPyB0aGlzLnByb3BzLm5vZGVSZWYuY3VycmVudCA6IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vcmVhY3Rqcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL3B1bGwvNzQ5XG4gICAgICAgICAgLy8gV2l0aCB1bm1vdW50T25FeGl0IG9yIG1vdW50T25FbnRlciwgdGhlIGVudGVyIGFuaW1hdGlvbiBzaG91bGQgaGFwcGVuIGF0IHRoZSB0cmFuc2l0aW9uIGJldHdlZW4gYGV4aXRlZGAgYW5kIGBlbnRlcmluZ2AuXG4gICAgICAgICAgLy8gVG8gbWFrZSB0aGUgYW5pbWF0aW9uIGhhcHBlbiwgIHdlIGhhdmUgdG8gc2VwYXJhdGUgZWFjaCByZW5kZXJpbmcgYW5kIGF2b2lkIGJlaW5nIHByb2Nlc3NlZCBhcyBiYXRjaGVkLlxuXG4gICAgICAgICAgaWYgKG5vZGUpIGZvcmNlUmVmbG93KG5vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wZXJmb3JtRW50ZXIobW91bnRpbmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wZXJmb3JtRXhpdCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy51bm1vdW50T25FeGl0ICYmIHRoaXMuc3RhdGUuc3RhdHVzID09PSBFWElURUQpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzdGF0dXM6IFVOTU9VTlRFRFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5wZXJmb3JtRW50ZXIgPSBmdW5jdGlvbiBwZXJmb3JtRW50ZXIobW91bnRpbmcpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBlbnRlciA9IHRoaXMucHJvcHMuZW50ZXI7XG4gICAgdmFyIGFwcGVhcmluZyA9IHRoaXMuY29udGV4dCA/IHRoaXMuY29udGV4dC5pc01vdW50aW5nIDogbW91bnRpbmc7XG5cbiAgICB2YXIgX3JlZjIgPSB0aGlzLnByb3BzLm5vZGVSZWYgPyBbYXBwZWFyaW5nXSA6IFtSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKSwgYXBwZWFyaW5nXSxcbiAgICAgICAgbWF5YmVOb2RlID0gX3JlZjJbMF0sXG4gICAgICAgIG1heWJlQXBwZWFyaW5nID0gX3JlZjJbMV07XG5cbiAgICB2YXIgdGltZW91dHMgPSB0aGlzLmdldFRpbWVvdXRzKCk7XG4gICAgdmFyIGVudGVyVGltZW91dCA9IGFwcGVhcmluZyA/IHRpbWVvdXRzLmFwcGVhciA6IHRpbWVvdXRzLmVudGVyOyAvLyBubyBlbnRlciBhbmltYXRpb24gc2tpcCByaWdodCB0byBFTlRFUkVEXG4gICAgLy8gaWYgd2UgYXJlIG1vdW50aW5nIGFuZCBydW5uaW5nIHRoaXMgaXQgbWVhbnMgYXBwZWFyIF9tdXN0XyBiZSBzZXRcblxuICAgIGlmICghbW91bnRpbmcgJiYgIWVudGVyIHx8IGNvbmZpZy5kaXNhYmxlZCkge1xuICAgICAgdGhpcy5zYWZlU2V0U3RhdGUoe1xuICAgICAgICBzdGF0dXM6IEVOVEVSRURcbiAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMyLnByb3BzLm9uRW50ZXJlZChtYXliZU5vZGUpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5wcm9wcy5vbkVudGVyKG1heWJlTm9kZSwgbWF5YmVBcHBlYXJpbmcpO1xuICAgIHRoaXMuc2FmZVNldFN0YXRlKHtcbiAgICAgIHN0YXR1czogRU5URVJJTkdcbiAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpczIucHJvcHMub25FbnRlcmluZyhtYXliZU5vZGUsIG1heWJlQXBwZWFyaW5nKTtcblxuICAgICAgX3RoaXMyLm9uVHJhbnNpdGlvbkVuZChlbnRlclRpbWVvdXQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMyLnNhZmVTZXRTdGF0ZSh7XG4gICAgICAgICAgc3RhdHVzOiBFTlRFUkVEXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpczIucHJvcHMub25FbnRlcmVkKG1heWJlTm9kZSwgbWF5YmVBcHBlYXJpbmcpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIF9wcm90by5wZXJmb3JtRXhpdCA9IGZ1bmN0aW9uIHBlcmZvcm1FeGl0KCkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgdmFyIGV4aXQgPSB0aGlzLnByb3BzLmV4aXQ7XG4gICAgdmFyIHRpbWVvdXRzID0gdGhpcy5nZXRUaW1lb3V0cygpO1xuICAgIHZhciBtYXliZU5vZGUgPSB0aGlzLnByb3BzLm5vZGVSZWYgPyB1bmRlZmluZWQgOiBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKTsgLy8gbm8gZXhpdCBhbmltYXRpb24gc2tpcCByaWdodCB0byBFWElURURcblxuICAgIGlmICghZXhpdCB8fCBjb25maWcuZGlzYWJsZWQpIHtcbiAgICAgIHRoaXMuc2FmZVNldFN0YXRlKHtcbiAgICAgICAgc3RhdHVzOiBFWElURURcbiAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMzLnByb3BzLm9uRXhpdGVkKG1heWJlTm9kZSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnByb3BzLm9uRXhpdChtYXliZU5vZGUpO1xuICAgIHRoaXMuc2FmZVNldFN0YXRlKHtcbiAgICAgIHN0YXR1czogRVhJVElOR1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzMy5wcm9wcy5vbkV4aXRpbmcobWF5YmVOb2RlKTtcblxuICAgICAgX3RoaXMzLm9uVHJhbnNpdGlvbkVuZCh0aW1lb3V0cy5leGl0LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMy5zYWZlU2V0U3RhdGUoe1xuICAgICAgICAgIHN0YXR1czogRVhJVEVEXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpczMucHJvcHMub25FeGl0ZWQobWF5YmVOb2RlKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBfcHJvdG8uY2FuY2VsTmV4dENhbGxiYWNrID0gZnVuY3Rpb24gY2FuY2VsTmV4dENhbGxiYWNrKCkge1xuICAgIGlmICh0aGlzLm5leHRDYWxsYmFjayAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5uZXh0Q2FsbGJhY2suY2FuY2VsKCk7XG4gICAgICB0aGlzLm5leHRDYWxsYmFjayA9IG51bGw7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5zYWZlU2V0U3RhdGUgPSBmdW5jdGlvbiBzYWZlU2V0U3RhdGUobmV4dFN0YXRlLCBjYWxsYmFjaykge1xuICAgIC8vIFRoaXMgc2hvdWxkbid0IGJlIG5lY2Vzc2FyeSwgYnV0IHRoZXJlIGFyZSB3ZWlyZCByYWNlIGNvbmRpdGlvbnMgd2l0aFxuICAgIC8vIHNldFN0YXRlIGNhbGxiYWNrcyBhbmQgdW5tb3VudGluZyBpbiB0ZXN0aW5nLCBzbyBhbHdheXMgbWFrZSBzdXJlIHRoYXRcbiAgICAvLyB3ZSBjYW4gY2FuY2VsIGFueSBwZW5kaW5nIHNldFN0YXRlIGNhbGxiYWNrcyBhZnRlciB3ZSB1bm1vdW50LlxuICAgIGNhbGxiYWNrID0gdGhpcy5zZXROZXh0Q2FsbGJhY2soY2FsbGJhY2spO1xuICAgIHRoaXMuc2V0U3RhdGUobmV4dFN0YXRlLCBjYWxsYmFjayk7XG4gIH07XG5cbiAgX3Byb3RvLnNldE5leHRDYWxsYmFjayA9IGZ1bmN0aW9uIHNldE5leHRDYWxsYmFjayhjYWxsYmFjaykge1xuICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgdmFyIGFjdGl2ZSA9IHRydWU7XG5cbiAgICB0aGlzLm5leHRDYWxsYmFjayA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICBhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgX3RoaXM0Lm5leHRDYWxsYmFjayA9IG51bGw7XG4gICAgICAgIGNhbGxiYWNrKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5uZXh0Q2FsbGJhY2suY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgICAgYWN0aXZlID0gZmFsc2U7XG4gICAgfTtcblxuICAgIHJldHVybiB0aGlzLm5leHRDYWxsYmFjaztcbiAgfTtcblxuICBfcHJvdG8ub25UcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24gb25UcmFuc2l0aW9uRW5kKHRpbWVvdXQsIGhhbmRsZXIpIHtcbiAgICB0aGlzLnNldE5leHRDYWxsYmFjayhoYW5kbGVyKTtcbiAgICB2YXIgbm9kZSA9IHRoaXMucHJvcHMubm9kZVJlZiA/IHRoaXMucHJvcHMubm9kZVJlZi5jdXJyZW50IDogUmVhY3RET00uZmluZERPTU5vZGUodGhpcyk7XG4gICAgdmFyIGRvZXNOb3RIYXZlVGltZW91dE9yTGlzdGVuZXIgPSB0aW1lb3V0ID09IG51bGwgJiYgIXRoaXMucHJvcHMuYWRkRW5kTGlzdGVuZXI7XG5cbiAgICBpZiAoIW5vZGUgfHwgZG9lc05vdEhhdmVUaW1lb3V0T3JMaXN0ZW5lcikge1xuICAgICAgc2V0VGltZW91dCh0aGlzLm5leHRDYWxsYmFjaywgMCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucHJvcHMuYWRkRW5kTGlzdGVuZXIpIHtcbiAgICAgIHZhciBfcmVmMyA9IHRoaXMucHJvcHMubm9kZVJlZiA/IFt0aGlzLm5leHRDYWxsYmFja10gOiBbbm9kZSwgdGhpcy5uZXh0Q2FsbGJhY2tdLFxuICAgICAgICAgIG1heWJlTm9kZSA9IF9yZWYzWzBdLFxuICAgICAgICAgIG1heWJlTmV4dENhbGxiYWNrID0gX3JlZjNbMV07XG5cbiAgICAgIHRoaXMucHJvcHMuYWRkRW5kTGlzdGVuZXIobWF5YmVOb2RlLCBtYXliZU5leHRDYWxsYmFjayk7XG4gICAgfVxuXG4gICAgaWYgKHRpbWVvdXQgIT0gbnVsbCkge1xuICAgICAgc2V0VGltZW91dCh0aGlzLm5leHRDYWxsYmFjaywgdGltZW91dCk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIHN0YXR1cyA9IHRoaXMuc3RhdGUuc3RhdHVzO1xuXG4gICAgaWYgKHN0YXR1cyA9PT0gVU5NT1VOVEVEKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBjaGlsZHJlbiA9IF90aGlzJHByb3BzLmNoaWxkcmVuLFxuICAgICAgICBfaW4gPSBfdGhpcyRwcm9wcy5pbixcbiAgICAgICAgX21vdW50T25FbnRlciA9IF90aGlzJHByb3BzLm1vdW50T25FbnRlcixcbiAgICAgICAgX3VubW91bnRPbkV4aXQgPSBfdGhpcyRwcm9wcy51bm1vdW50T25FeGl0LFxuICAgICAgICBfYXBwZWFyID0gX3RoaXMkcHJvcHMuYXBwZWFyLFxuICAgICAgICBfZW50ZXIgPSBfdGhpcyRwcm9wcy5lbnRlcixcbiAgICAgICAgX2V4aXQgPSBfdGhpcyRwcm9wcy5leGl0LFxuICAgICAgICBfdGltZW91dCA9IF90aGlzJHByb3BzLnRpbWVvdXQsXG4gICAgICAgIF9hZGRFbmRMaXN0ZW5lciA9IF90aGlzJHByb3BzLmFkZEVuZExpc3RlbmVyLFxuICAgICAgICBfb25FbnRlciA9IF90aGlzJHByb3BzLm9uRW50ZXIsXG4gICAgICAgIF9vbkVudGVyaW5nID0gX3RoaXMkcHJvcHMub25FbnRlcmluZyxcbiAgICAgICAgX29uRW50ZXJlZCA9IF90aGlzJHByb3BzLm9uRW50ZXJlZCxcbiAgICAgICAgX29uRXhpdCA9IF90aGlzJHByb3BzLm9uRXhpdCxcbiAgICAgICAgX29uRXhpdGluZyA9IF90aGlzJHByb3BzLm9uRXhpdGluZyxcbiAgICAgICAgX29uRXhpdGVkID0gX3RoaXMkcHJvcHMub25FeGl0ZWQsXG4gICAgICAgIF9ub2RlUmVmID0gX3RoaXMkcHJvcHMubm9kZVJlZixcbiAgICAgICAgY2hpbGRQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF90aGlzJHByb3BzLCBbXCJjaGlsZHJlblwiLCBcImluXCIsIFwibW91bnRPbkVudGVyXCIsIFwidW5tb3VudE9uRXhpdFwiLCBcImFwcGVhclwiLCBcImVudGVyXCIsIFwiZXhpdFwiLCBcInRpbWVvdXRcIiwgXCJhZGRFbmRMaXN0ZW5lclwiLCBcIm9uRW50ZXJcIiwgXCJvbkVudGVyaW5nXCIsIFwib25FbnRlcmVkXCIsIFwib25FeGl0XCIsIFwib25FeGl0aW5nXCIsIFwib25FeGl0ZWRcIiwgXCJub2RlUmVmXCJdKTtcblxuICAgIHJldHVybiAoXG4gICAgICAvKiNfX1BVUkVfXyovXG4gICAgICAvLyBhbGxvd3MgZm9yIG5lc3RlZCBUcmFuc2l0aW9uc1xuICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2l0aW9uR3JvdXBDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgICAgIHZhbHVlOiBudWxsXG4gICAgICB9LCB0eXBlb2YgY2hpbGRyZW4gPT09ICdmdW5jdGlvbicgPyBjaGlsZHJlbihzdGF0dXMsIGNoaWxkUHJvcHMpIDogUmVhY3QuY2xvbmVFbGVtZW50KFJlYWN0LkNoaWxkcmVuLm9ubHkoY2hpbGRyZW4pLCBjaGlsZFByb3BzKSlcbiAgICApO1xuICB9O1xuXG4gIHJldHVybiBUcmFuc2l0aW9uO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5UcmFuc2l0aW9uLmNvbnRleHRUeXBlID0gVHJhbnNpdGlvbkdyb3VwQ29udGV4dDtcblRyYW5zaXRpb24ucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICAvKipcbiAgICogQSBSZWFjdCByZWZlcmVuY2UgdG8gRE9NIGVsZW1lbnQgdGhhdCBuZWVkIHRvIHRyYW5zaXRpb246XG4gICAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS81MTEyNzEzMC80NjcxOTMyXG4gICAqXG4gICAqICAgLSBXaGVuIGBub2RlUmVmYCBwcm9wIGlzIHVzZWQsIGBub2RlYCBpcyBub3QgcGFzc2VkIHRvIGNhbGxiYWNrIGZ1bmN0aW9uc1xuICAgKiAgICAgIChlLmcuIGBvbkVudGVyYCkgYmVjYXVzZSB1c2VyIGFscmVhZHkgaGFzIGRpcmVjdCBhY2Nlc3MgdG8gdGhlIG5vZGUuXG4gICAqICAgLSBXaGVuIGNoYW5naW5nIGBrZXlgIHByb3Agb2YgYFRyYW5zaXRpb25gIGluIGEgYFRyYW5zaXRpb25Hcm91cGAgYSBuZXdcbiAgICogICAgIGBub2RlUmVmYCBuZWVkIHRvIGJlIHByb3ZpZGVkIHRvIGBUcmFuc2l0aW9uYCB3aXRoIGNoYW5nZWQgYGtleWAgcHJvcFxuICAgKiAgICAgKHNlZVxuICAgKiAgICAgW3Rlc3QvQ1NTVHJhbnNpdGlvbi10ZXN0LmpzXShodHRwczovL2dpdGh1Yi5jb20vcmVhY3Rqcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL2Jsb2IvMTM0MzVmODk3YjNhYjcxZjZlMTlkNzI0ZjE0NTU5NmY1OTEwNTgxYy90ZXN0L0NTU1RyYW5zaXRpb24tdGVzdC5qcyNMMzYyLUw0MzcpKS5cbiAgICovXG4gIG5vZGVSZWY6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgY3VycmVudDogdHlwZW9mIEVsZW1lbnQgPT09ICd1bmRlZmluZWQnID8gUHJvcFR5cGVzLmFueSA6IGZ1bmN0aW9uIChwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgc2VjcmV0KSB7XG4gICAgICB2YXIgdmFsdWUgPSBwcm9wVmFsdWVba2V5XTtcbiAgICAgIHJldHVybiBQcm9wVHlwZXMuaW5zdGFuY2VPZih2YWx1ZSAmJiAnb3duZXJEb2N1bWVudCcgaW4gdmFsdWUgPyB2YWx1ZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LkVsZW1lbnQgOiBFbGVtZW50KShwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgc2VjcmV0KTtcbiAgICB9XG4gIH0pLFxuXG4gIC8qKlxuICAgKiBBIGBmdW5jdGlvbmAgY2hpbGQgY2FuIGJlIHVzZWQgaW5zdGVhZCBvZiBhIFJlYWN0IGVsZW1lbnQuIFRoaXMgZnVuY3Rpb24gaXNcbiAgICogY2FsbGVkIHdpdGggdGhlIGN1cnJlbnQgdHJhbnNpdGlvbiBzdGF0dXMgKGAnZW50ZXJpbmcnYCwgYCdlbnRlcmVkJ2AsXG4gICAqIGAnZXhpdGluZydgLCBgJ2V4aXRlZCdgKSwgd2hpY2ggY2FuIGJlIHVzZWQgdG8gYXBwbHkgY29udGV4dFxuICAgKiBzcGVjaWZpYyBwcm9wcyB0byBhIGNvbXBvbmVudC5cbiAgICpcbiAgICogYGBganN4XG4gICAqIDxUcmFuc2l0aW9uIGluPXt0aGlzLnN0YXRlLmlufSB0aW1lb3V0PXsxNTB9PlxuICAgKiAgIHtzdGF0ZSA9PiAoXG4gICAqICAgICA8TXlDb21wb25lbnQgY2xhc3NOYW1lPXtgZmFkZSBmYWRlLSR7c3RhdGV9YH0gLz5cbiAgICogICApfVxuICAgKiA8L1RyYW5zaXRpb24+XG4gICAqIGBgYFxuICAgKi9cbiAgY2hpbGRyZW46IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsIFByb3BUeXBlcy5lbGVtZW50LmlzUmVxdWlyZWRdKS5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBTaG93IHRoZSBjb21wb25lbnQ7IHRyaWdnZXJzIHRoZSBlbnRlciBvciBleGl0IHN0YXRlc1xuICAgKi9cbiAgaW46IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKlxuICAgKiBCeSBkZWZhdWx0IHRoZSBjaGlsZCBjb21wb25lbnQgaXMgbW91bnRlZCBpbW1lZGlhdGVseSBhbG9uZyB3aXRoXG4gICAqIHRoZSBwYXJlbnQgYFRyYW5zaXRpb25gIGNvbXBvbmVudC4gSWYgeW91IHdhbnQgdG8gXCJsYXp5IG1vdW50XCIgdGhlIGNvbXBvbmVudCBvbiB0aGVcbiAgICogZmlyc3QgYGluPXt0cnVlfWAgeW91IGNhbiBzZXQgYG1vdW50T25FbnRlcmAuIEFmdGVyIHRoZSBmaXJzdCBlbnRlciB0cmFuc2l0aW9uIHRoZSBjb21wb25lbnQgd2lsbCBzdGF5XG4gICAqIG1vdW50ZWQsIGV2ZW4gb24gXCJleGl0ZWRcIiwgdW5sZXNzIHlvdSBhbHNvIHNwZWNpZnkgYHVubW91bnRPbkV4aXRgLlxuICAgKi9cbiAgbW91bnRPbkVudGVyOiBQcm9wVHlwZXMuYm9vbCxcblxuICAvKipcbiAgICogQnkgZGVmYXVsdCB0aGUgY2hpbGQgY29tcG9uZW50IHN0YXlzIG1vdW50ZWQgYWZ0ZXIgaXQgcmVhY2hlcyB0aGUgYCdleGl0ZWQnYCBzdGF0ZS5cbiAgICogU2V0IGB1bm1vdW50T25FeGl0YCBpZiB5b3UnZCBwcmVmZXIgdG8gdW5tb3VudCB0aGUgY29tcG9uZW50IGFmdGVyIGl0IGZpbmlzaGVzIGV4aXRpbmcuXG4gICAqL1xuICB1bm1vdW50T25FeGl0OiBQcm9wVHlwZXMuYm9vbCxcblxuICAvKipcbiAgICogQnkgZGVmYXVsdCB0aGUgY2hpbGQgY29tcG9uZW50IGRvZXMgbm90IHBlcmZvcm0gdGhlIGVudGVyIHRyYW5zaXRpb24gd2hlblxuICAgKiBpdCBmaXJzdCBtb3VudHMsIHJlZ2FyZGxlc3Mgb2YgdGhlIHZhbHVlIG9mIGBpbmAuIElmIHlvdSB3YW50IHRoaXNcbiAgICogYmVoYXZpb3IsIHNldCBib3RoIGBhcHBlYXJgIGFuZCBgaW5gIHRvIGB0cnVlYC5cbiAgICpcbiAgICogPiAqKk5vdGUqKjogdGhlcmUgYXJlIG5vIHNwZWNpYWwgYXBwZWFyIHN0YXRlcyBsaWtlIGBhcHBlYXJpbmdgL2BhcHBlYXJlZGAsIHRoaXMgcHJvcFxuICAgKiA+IG9ubHkgYWRkcyBhbiBhZGRpdGlvbmFsIGVudGVyIHRyYW5zaXRpb24uIEhvd2V2ZXIsIGluIHRoZVxuICAgKiA+IGA8Q1NTVHJhbnNpdGlvbj5gIGNvbXBvbmVudCB0aGF0IGZpcnN0IGVudGVyIHRyYW5zaXRpb24gZG9lcyByZXN1bHQgaW5cbiAgICogPiBhZGRpdGlvbmFsIGAuYXBwZWFyLSpgIGNsYXNzZXMsIHRoYXQgd2F5IHlvdSBjYW4gY2hvb3NlIHRvIHN0eWxlIGl0XG4gICAqID4gZGlmZmVyZW50bHkuXG4gICAqL1xuICBhcHBlYXI6IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKlxuICAgKiBFbmFibGUgb3IgZGlzYWJsZSBlbnRlciB0cmFuc2l0aW9ucy5cbiAgICovXG4gIGVudGVyOiBQcm9wVHlwZXMuYm9vbCxcblxuICAvKipcbiAgICogRW5hYmxlIG9yIGRpc2FibGUgZXhpdCB0cmFuc2l0aW9ucy5cbiAgICovXG4gIGV4aXQ6IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKlxuICAgKiBUaGUgZHVyYXRpb24gb2YgdGhlIHRyYW5zaXRpb24sIGluIG1pbGxpc2Vjb25kcy5cbiAgICogUmVxdWlyZWQgdW5sZXNzIGBhZGRFbmRMaXN0ZW5lcmAgaXMgcHJvdmlkZWQuXG4gICAqXG4gICAqIFlvdSBtYXkgc3BlY2lmeSBhIHNpbmdsZSB0aW1lb3V0IGZvciBhbGwgdHJhbnNpdGlvbnM6XG4gICAqXG4gICAqIGBgYGpzeFxuICAgKiB0aW1lb3V0PXs1MDB9XG4gICAqIGBgYFxuICAgKlxuICAgKiBvciBpbmRpdmlkdWFsbHk6XG4gICAqXG4gICAqIGBgYGpzeFxuICAgKiB0aW1lb3V0PXt7XG4gICAqICBhcHBlYXI6IDUwMCxcbiAgICogIGVudGVyOiAzMDAsXG4gICAqICBleGl0OiA1MDAsXG4gICAqIH19XG4gICAqIGBgYFxuICAgKlxuICAgKiAtIGBhcHBlYXJgIGRlZmF1bHRzIHRvIHRoZSB2YWx1ZSBvZiBgZW50ZXJgXG4gICAqIC0gYGVudGVyYCBkZWZhdWx0cyB0byBgMGBcbiAgICogLSBgZXhpdGAgZGVmYXVsdHMgdG8gYDBgXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXIgfCB7IGVudGVyPzogbnVtYmVyLCBleGl0PzogbnVtYmVyLCBhcHBlYXI/OiBudW1iZXIgfX1cbiAgICovXG4gIHRpbWVvdXQ6IGZ1bmN0aW9uIHRpbWVvdXQocHJvcHMpIHtcbiAgICB2YXIgcHQgPSB0aW1lb3V0c1NoYXBlO1xuICAgIGlmICghcHJvcHMuYWRkRW5kTGlzdGVuZXIpIHB0ID0gcHQuaXNSZXF1aXJlZDtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBwdC5hcHBseSh2b2lkIDAsIFtwcm9wc10uY29uY2F0KGFyZ3MpKTtcbiAgfSxcblxuICAvKipcbiAgICogQWRkIGEgY3VzdG9tIHRyYW5zaXRpb24gZW5kIHRyaWdnZXIuIENhbGxlZCB3aXRoIHRoZSB0cmFuc2l0aW9uaW5nXG4gICAqIERPTSBub2RlIGFuZCBhIGBkb25lYCBjYWxsYmFjay4gQWxsb3dzIGZvciBtb3JlIGZpbmUgZ3JhaW5lZCB0cmFuc2l0aW9uIGVuZFxuICAgKiBsb2dpYy4gVGltZW91dHMgYXJlIHN0aWxsIHVzZWQgYXMgYSBmYWxsYmFjayBpZiBwcm92aWRlZC5cbiAgICpcbiAgICogKipOb3RlKio6IHdoZW4gYG5vZGVSZWZgIHByb3AgaXMgcGFzc2VkLCBgbm9kZWAgaXMgbm90IHBhc3NlZC5cbiAgICpcbiAgICogYGBganN4XG4gICAqIGFkZEVuZExpc3RlbmVyPXsobm9kZSwgZG9uZSkgPT4ge1xuICAgKiAgIC8vIHVzZSB0aGUgY3NzIHRyYW5zaXRpb25lbmQgZXZlbnQgdG8gbWFyayB0aGUgZmluaXNoIG9mIGEgdHJhbnNpdGlvblxuICAgKiAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGRvbmUsIGZhbHNlKTtcbiAgICogfX1cbiAgICogYGBgXG4gICAqL1xuICBhZGRFbmRMaXN0ZW5lcjogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZpcmVkIGJlZm9yZSB0aGUgXCJlbnRlcmluZ1wiIHN0YXR1cyBpcyBhcHBsaWVkLiBBbiBleHRyYSBwYXJhbWV0ZXJcbiAgICogYGlzQXBwZWFyaW5nYCBpcyBzdXBwbGllZCB0byBpbmRpY2F0ZSBpZiB0aGUgZW50ZXIgc3RhZ2UgaXMgb2NjdXJyaW5nIG9uIHRoZSBpbml0aWFsIG1vdW50XG4gICAqXG4gICAqICoqTm90ZSoqOiB3aGVuIGBub2RlUmVmYCBwcm9wIGlzIHBhc3NlZCwgYG5vZGVgIGlzIG5vdCBwYXNzZWQuXG4gICAqXG4gICAqIEB0eXBlIEZ1bmN0aW9uKG5vZGU6IEh0bWxFbGVtZW50LCBpc0FwcGVhcmluZzogYm9vbCkgLT4gdm9pZFxuICAgKi9cbiAgb25FbnRlcjogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZpcmVkIGFmdGVyIHRoZSBcImVudGVyaW5nXCIgc3RhdHVzIGlzIGFwcGxpZWQuIEFuIGV4dHJhIHBhcmFtZXRlclxuICAgKiBgaXNBcHBlYXJpbmdgIGlzIHN1cHBsaWVkIHRvIGluZGljYXRlIGlmIHRoZSBlbnRlciBzdGFnZSBpcyBvY2N1cnJpbmcgb24gdGhlIGluaXRpYWwgbW91bnRcbiAgICpcbiAgICogKipOb3RlKio6IHdoZW4gYG5vZGVSZWZgIHByb3AgaXMgcGFzc2VkLCBgbm9kZWAgaXMgbm90IHBhc3NlZC5cbiAgICpcbiAgICogQHR5cGUgRnVuY3Rpb24obm9kZTogSHRtbEVsZW1lbnQsIGlzQXBwZWFyaW5nOiBib29sKVxuICAgKi9cbiAgb25FbnRlcmluZzogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZpcmVkIGFmdGVyIHRoZSBcImVudGVyZWRcIiBzdGF0dXMgaXMgYXBwbGllZC4gQW4gZXh0cmEgcGFyYW1ldGVyXG4gICAqIGBpc0FwcGVhcmluZ2AgaXMgc3VwcGxpZWQgdG8gaW5kaWNhdGUgaWYgdGhlIGVudGVyIHN0YWdlIGlzIG9jY3VycmluZyBvbiB0aGUgaW5pdGlhbCBtb3VudFxuICAgKlxuICAgKiAqKk5vdGUqKjogd2hlbiBgbm9kZVJlZmAgcHJvcCBpcyBwYXNzZWQsIGBub2RlYCBpcyBub3QgcGFzc2VkLlxuICAgKlxuICAgKiBAdHlwZSBGdW5jdGlvbihub2RlOiBIdG1sRWxlbWVudCwgaXNBcHBlYXJpbmc6IGJvb2wpIC0+IHZvaWRcbiAgICovXG4gIG9uRW50ZXJlZDogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZpcmVkIGJlZm9yZSB0aGUgXCJleGl0aW5nXCIgc3RhdHVzIGlzIGFwcGxpZWQuXG4gICAqXG4gICAqICoqTm90ZSoqOiB3aGVuIGBub2RlUmVmYCBwcm9wIGlzIHBhc3NlZCwgYG5vZGVgIGlzIG5vdCBwYXNzZWQuXG4gICAqXG4gICAqIEB0eXBlIEZ1bmN0aW9uKG5vZGU6IEh0bWxFbGVtZW50KSAtPiB2b2lkXG4gICAqL1xuICBvbkV4aXQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmaXJlZCBhZnRlciB0aGUgXCJleGl0aW5nXCIgc3RhdHVzIGlzIGFwcGxpZWQuXG4gICAqXG4gICAqICoqTm90ZSoqOiB3aGVuIGBub2RlUmVmYCBwcm9wIGlzIHBhc3NlZCwgYG5vZGVgIGlzIG5vdCBwYXNzZWQuXG4gICAqXG4gICAqIEB0eXBlIEZ1bmN0aW9uKG5vZGU6IEh0bWxFbGVtZW50KSAtPiB2b2lkXG4gICAqL1xuICBvbkV4aXRpbmc6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmaXJlZCBhZnRlciB0aGUgXCJleGl0ZWRcIiBzdGF0dXMgaXMgYXBwbGllZC5cbiAgICpcbiAgICogKipOb3RlKio6IHdoZW4gYG5vZGVSZWZgIHByb3AgaXMgcGFzc2VkLCBgbm9kZWAgaXMgbm90IHBhc3NlZFxuICAgKlxuICAgKiBAdHlwZSBGdW5jdGlvbihub2RlOiBIdG1sRWxlbWVudCkgLT4gdm9pZFxuICAgKi9cbiAgb25FeGl0ZWQ6IFByb3BUeXBlcy5mdW5jXG59IDoge307IC8vIE5hbWUgdGhlIGZ1bmN0aW9uIHNvIGl0IGlzIGNsZWFyZXIgaW4gdGhlIGRvY3VtZW50YXRpb25cblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cblRyYW5zaXRpb24uZGVmYXVsdFByb3BzID0ge1xuICBpbjogZmFsc2UsXG4gIG1vdW50T25FbnRlcjogZmFsc2UsXG4gIHVubW91bnRPbkV4aXQ6IGZhbHNlLFxuICBhcHBlYXI6IGZhbHNlLFxuICBlbnRlcjogdHJ1ZSxcbiAgZXhpdDogdHJ1ZSxcbiAgb25FbnRlcjogbm9vcCxcbiAgb25FbnRlcmluZzogbm9vcCxcbiAgb25FbnRlcmVkOiBub29wLFxuICBvbkV4aXQ6IG5vb3AsXG4gIG9uRXhpdGluZzogbm9vcCxcbiAgb25FeGl0ZWQ6IG5vb3Bcbn07XG5UcmFuc2l0aW9uLlVOTU9VTlRFRCA9IFVOTU9VTlRFRDtcblRyYW5zaXRpb24uRVhJVEVEID0gRVhJVEVEO1xuVHJhbnNpdGlvbi5FTlRFUklORyA9IEVOVEVSSU5HO1xuVHJhbnNpdGlvbi5FTlRFUkVEID0gRU5URVJFRDtcblRyYW5zaXRpb24uRVhJVElORyA9IEVYSVRJTkc7XG5leHBvcnQgZGVmYXVsdCBUcmFuc2l0aW9uOyIsCiAgICAiZXhwb3J0IGRlZmF1bHQge1xuICBkaXNhYmxlZDogZmFsc2Vcbn07IiwKICAgICJpbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuZXhwb3J0IHZhciB0aW1lb3V0c1NoYXBlID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5udW1iZXIsIFByb3BUeXBlcy5zaGFwZSh7XG4gIGVudGVyOiBQcm9wVHlwZXMubnVtYmVyLFxuICBleGl0OiBQcm9wVHlwZXMubnVtYmVyLFxuICBhcHBlYXI6IFByb3BUeXBlcy5udW1iZXJcbn0pLmlzUmVxdWlyZWRdKSA6IG51bGw7XG5leHBvcnQgdmFyIGNsYXNzTmFtZXNTaGFwZSA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuc2hhcGUoe1xuICBlbnRlcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgZXhpdDogUHJvcFR5cGVzLnN0cmluZyxcbiAgYWN0aXZlOiBQcm9wVHlwZXMuc3RyaW5nXG59KSwgUHJvcFR5cGVzLnNoYXBlKHtcbiAgZW50ZXI6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGVudGVyRG9uZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgZW50ZXJBY3RpdmU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGV4aXQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGV4aXREb25lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBleGl0QWN0aXZlOiBQcm9wVHlwZXMuc3RyaW5nXG59KV0pIDogbnVsbDsiLAogICAgImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5leHBvcnQgZGVmYXVsdCBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpOyIsCiAgICAiZXhwb3J0IHZhciBmb3JjZVJlZmxvdyA9IGZ1bmN0aW9uIGZvcmNlUmVmbG93KG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUuc2Nyb2xsVG9wO1xufTsiLAogICAgImZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoZSkge1xuICBpZiAodm9pZCAwID09PSBlKSB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIHJldHVybiBlO1xufVxuZXhwb3J0IHsgX2Fzc2VydFRoaXNJbml0aWFsaXplZCBhcyBkZWZhdWx0IH07IiwKICAgICJpbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2VcIjtcbmltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kc1wiO1xuaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2Fzc2VydFRoaXNJbml0aWFsaXplZFwiO1xuaW1wb3J0IF9pbmhlcml0c0xvb3NlIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0c0xvb3NlXCI7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBUcmFuc2l0aW9uR3JvdXBDb250ZXh0IGZyb20gJy4vVHJhbnNpdGlvbkdyb3VwQ29udGV4dCc7XG5pbXBvcnQgeyBnZXRDaGlsZE1hcHBpbmcsIGdldEluaXRpYWxDaGlsZE1hcHBpbmcsIGdldE5leHRDaGlsZE1hcHBpbmcgfSBmcm9tICcuL3V0aWxzL0NoaWxkTWFwcGluZyc7XG5cbnZhciB2YWx1ZXMgPSBPYmplY3QudmFsdWVzIHx8IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubWFwKGZ1bmN0aW9uIChrKSB7XG4gICAgcmV0dXJuIG9ialtrXTtcbiAgfSk7XG59O1xuXG52YXIgZGVmYXVsdFByb3BzID0ge1xuICBjb21wb25lbnQ6ICdkaXYnLFxuICBjaGlsZEZhY3Rvcnk6IGZ1bmN0aW9uIGNoaWxkRmFjdG9yeShjaGlsZCkge1xuICAgIHJldHVybiBjaGlsZDtcbiAgfVxufTtcbi8qKlxuICogVGhlIGA8VHJhbnNpdGlvbkdyb3VwPmAgY29tcG9uZW50IG1hbmFnZXMgYSBzZXQgb2YgdHJhbnNpdGlvbiBjb21wb25lbnRzXG4gKiAoYDxUcmFuc2l0aW9uPmAgYW5kIGA8Q1NTVHJhbnNpdGlvbj5gKSBpbiBhIGxpc3QuIExpa2Ugd2l0aCB0aGUgdHJhbnNpdGlvblxuICogY29tcG9uZW50cywgYDxUcmFuc2l0aW9uR3JvdXA+YCBpcyBhIHN0YXRlIG1hY2hpbmUgZm9yIG1hbmFnaW5nIHRoZSBtb3VudGluZ1xuICogYW5kIHVubW91bnRpbmcgb2YgY29tcG9uZW50cyBvdmVyIHRpbWUuXG4gKlxuICogQ29uc2lkZXIgdGhlIGV4YW1wbGUgYmVsb3cuIEFzIGl0ZW1zIGFyZSByZW1vdmVkIG9yIGFkZGVkIHRvIHRoZSBUb2RvTGlzdCB0aGVcbiAqIGBpbmAgcHJvcCBpcyB0b2dnbGVkIGF1dG9tYXRpY2FsbHkgYnkgdGhlIGA8VHJhbnNpdGlvbkdyb3VwPmAuXG4gKlxuICogTm90ZSB0aGF0IGA8VHJhbnNpdGlvbkdyb3VwPmAgIGRvZXMgbm90IGRlZmluZSBhbnkgYW5pbWF0aW9uIGJlaGF2aW9yIVxuICogRXhhY3RseSBfaG93XyBhIGxpc3QgaXRlbSBhbmltYXRlcyBpcyB1cCB0byB0aGUgaW5kaXZpZHVhbCB0cmFuc2l0aW9uXG4gKiBjb21wb25lbnQuIFRoaXMgbWVhbnMgeW91IGNhbiBtaXggYW5kIG1hdGNoIGFuaW1hdGlvbnMgYWNyb3NzIGRpZmZlcmVudCBsaXN0XG4gKiBpdGVtcy5cbiAqL1xuXG52YXIgVHJhbnNpdGlvbkdyb3VwID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFRyYW5zaXRpb25Hcm91cCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVHJhbnNpdGlvbkdyb3VwKHByb3BzLCBjb250ZXh0KSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpIHx8IHRoaXM7XG5cbiAgICB2YXIgaGFuZGxlRXhpdGVkID0gX3RoaXMuaGFuZGxlRXhpdGVkLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpOyAvLyBJbml0aWFsIGNoaWxkcmVuIHNob3VsZCBhbGwgYmUgZW50ZXJpbmcsIGRlcGVuZGVudCBvbiBhcHBlYXJcblxuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBjb250ZXh0VmFsdWU6IHtcbiAgICAgICAgaXNNb3VudGluZzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGhhbmRsZUV4aXRlZDogaGFuZGxlRXhpdGVkLFxuICAgICAgZmlyc3RSZW5kZXI6IHRydWVcbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBUcmFuc2l0aW9uR3JvdXAucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMubW91bnRlZCA9IHRydWU7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjb250ZXh0VmFsdWU6IHtcbiAgICAgICAgaXNNb3VudGluZzogZmFsc2VcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLm1vdW50ZWQgPSBmYWxzZTtcbiAgfTtcblxuICBUcmFuc2l0aW9uR3JvdXAuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgX3JlZikge1xuICAgIHZhciBwcmV2Q2hpbGRNYXBwaW5nID0gX3JlZi5jaGlsZHJlbixcbiAgICAgICAgaGFuZGxlRXhpdGVkID0gX3JlZi5oYW5kbGVFeGl0ZWQsXG4gICAgICAgIGZpcnN0UmVuZGVyID0gX3JlZi5maXJzdFJlbmRlcjtcbiAgICByZXR1cm4ge1xuICAgICAgY2hpbGRyZW46IGZpcnN0UmVuZGVyID8gZ2V0SW5pdGlhbENoaWxkTWFwcGluZyhuZXh0UHJvcHMsIGhhbmRsZUV4aXRlZCkgOiBnZXROZXh0Q2hpbGRNYXBwaW5nKG5leHRQcm9wcywgcHJldkNoaWxkTWFwcGluZywgaGFuZGxlRXhpdGVkKSxcbiAgICAgIGZpcnN0UmVuZGVyOiBmYWxzZVxuICAgIH07XG4gIH0gLy8gbm9kZSBpcyBgdW5kZWZpbmVkYCB3aGVuIHVzZXIgcHJvdmlkZWQgYG5vZGVSZWZgIHByb3BcbiAgO1xuXG4gIF9wcm90by5oYW5kbGVFeGl0ZWQgPSBmdW5jdGlvbiBoYW5kbGVFeGl0ZWQoY2hpbGQsIG5vZGUpIHtcbiAgICB2YXIgY3VycmVudENoaWxkTWFwcGluZyA9IGdldENoaWxkTWFwcGluZyh0aGlzLnByb3BzLmNoaWxkcmVuKTtcbiAgICBpZiAoY2hpbGQua2V5IGluIGN1cnJlbnRDaGlsZE1hcHBpbmcpIHJldHVybjtcblxuICAgIGlmIChjaGlsZC5wcm9wcy5vbkV4aXRlZCkge1xuICAgICAgY2hpbGQucHJvcHMub25FeGl0ZWQobm9kZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMubW91bnRlZCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gX2V4dGVuZHMoe30sIHN0YXRlLmNoaWxkcmVuKTtcblxuICAgICAgICBkZWxldGUgY2hpbGRyZW5bY2hpbGQua2V5XTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIENvbXBvbmVudCA9IF90aGlzJHByb3BzLmNvbXBvbmVudCxcbiAgICAgICAgY2hpbGRGYWN0b3J5ID0gX3RoaXMkcHJvcHMuY2hpbGRGYWN0b3J5LFxuICAgICAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF90aGlzJHByb3BzLCBbXCJjb21wb25lbnRcIiwgXCJjaGlsZEZhY3RvcnlcIl0pO1xuXG4gICAgdmFyIGNvbnRleHRWYWx1ZSA9IHRoaXMuc3RhdGUuY29udGV4dFZhbHVlO1xuICAgIHZhciBjaGlsZHJlbiA9IHZhbHVlcyh0aGlzLnN0YXRlLmNoaWxkcmVuKS5tYXAoY2hpbGRGYWN0b3J5KTtcbiAgICBkZWxldGUgcHJvcHMuYXBwZWFyO1xuICAgIGRlbGV0ZSBwcm9wcy5lbnRlcjtcbiAgICBkZWxldGUgcHJvcHMuZXhpdDtcblxuICAgIGlmIChDb21wb25lbnQgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2l0aW9uR3JvdXBDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgICAgIHZhbHVlOiBjb250ZXh0VmFsdWVcbiAgICAgIH0sIGNoaWxkcmVuKTtcbiAgICB9XG5cbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhbnNpdGlvbkdyb3VwQ29udGV4dC5Qcm92aWRlciwge1xuICAgICAgdmFsdWU6IGNvbnRleHRWYWx1ZVxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudCwgcHJvcHMsIGNoaWxkcmVuKSk7XG4gIH07XG5cbiAgcmV0dXJuIFRyYW5zaXRpb25Hcm91cDtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuVHJhbnNpdGlvbkdyb3VwLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgLyoqXG4gICAqIGA8VHJhbnNpdGlvbkdyb3VwPmAgcmVuZGVycyBhIGA8ZGl2PmAgYnkgZGVmYXVsdC4gWW91IGNhbiBjaGFuZ2UgdGhpc1xuICAgKiBiZWhhdmlvciBieSBwcm92aWRpbmcgYSBgY29tcG9uZW50YCBwcm9wLlxuICAgKiBJZiB5b3UgdXNlIFJlYWN0IHYxNisgYW5kIHdvdWxkIGxpa2UgdG8gYXZvaWQgYSB3cmFwcGluZyBgPGRpdj5gIGVsZW1lbnRcbiAgICogeW91IGNhbiBwYXNzIGluIGBjb21wb25lbnQ9e251bGx9YC4gVGhpcyBpcyB1c2VmdWwgaWYgdGhlIHdyYXBwaW5nIGRpdlxuICAgKiBib3JrcyB5b3VyIGNzcyBzdHlsZXMuXG4gICAqL1xuICBjb21wb25lbnQ6IFByb3BUeXBlcy5hbnksXG5cbiAgLyoqXG4gICAqIEEgc2V0IG9mIGA8VHJhbnNpdGlvbj5gIGNvbXBvbmVudHMsIHRoYXQgYXJlIHRvZ2dsZWQgYGluYCBhbmQgb3V0IGFzIHRoZXlcbiAgICogbGVhdmUuIHRoZSBgPFRyYW5zaXRpb25Hcm91cD5gIHdpbGwgaW5qZWN0IHNwZWNpZmljIHRyYW5zaXRpb24gcHJvcHMsIHNvXG4gICAqIHJlbWVtYmVyIHRvIHNwcmVhZCB0aGVtIHRocm91Z2ggaWYgeW91IGFyZSB3cmFwcGluZyB0aGUgYDxUcmFuc2l0aW9uPmAgYXNcbiAgICogd2l0aCBvdXIgYDxGYWRlPmAgZXhhbXBsZS5cbiAgICpcbiAgICogV2hpbGUgdGhpcyBjb21wb25lbnQgaXMgbWVhbnQgZm9yIG11bHRpcGxlIGBUcmFuc2l0aW9uYCBvciBgQ1NTVHJhbnNpdGlvbmBcbiAgICogY2hpbGRyZW4sIHNvbWV0aW1lcyB5b3UgbWF5IHdhbnQgdG8gaGF2ZSBhIHNpbmdsZSB0cmFuc2l0aW9uIGNoaWxkIHdpdGhcbiAgICogY29udGVudCB0aGF0IHlvdSB3YW50IHRvIGJlIHRyYW5zaXRpb25lZCBvdXQgYW5kIGluIHdoZW4geW91IGNoYW5nZSBpdFxuICAgKiAoZS5nLiByb3V0ZXMsIGltYWdlcyBldGMuKSBJbiB0aGF0IGNhc2UgeW91IGNhbiBjaGFuZ2UgdGhlIGBrZXlgIHByb3Agb2ZcbiAgICogdGhlIHRyYW5zaXRpb24gY2hpbGQgYXMgeW91IGNoYW5nZSBpdHMgY29udGVudCwgdGhpcyB3aWxsIGNhdXNlXG4gICAqIGBUcmFuc2l0aW9uR3JvdXBgIHRvIHRyYW5zaXRpb24gdGhlIGNoaWxkIG91dCBhbmQgYmFjayBpbi5cbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcblxuICAvKipcbiAgICogQSBjb252ZW5pZW5jZSBwcm9wIHRoYXQgZW5hYmxlcyBvciBkaXNhYmxlcyBhcHBlYXIgYW5pbWF0aW9uc1xuICAgKiBmb3IgYWxsIGNoaWxkcmVuLiBOb3RlIHRoYXQgc3BlY2lmeWluZyB0aGlzIHdpbGwgb3ZlcnJpZGUgYW55IGRlZmF1bHRzIHNldFxuICAgKiBvbiBpbmRpdmlkdWFsIGNoaWxkcmVuIFRyYW5zaXRpb25zLlxuICAgKi9cbiAgYXBwZWFyOiBQcm9wVHlwZXMuYm9vbCxcblxuICAvKipcbiAgICogQSBjb252ZW5pZW5jZSBwcm9wIHRoYXQgZW5hYmxlcyBvciBkaXNhYmxlcyBlbnRlciBhbmltYXRpb25zXG4gICAqIGZvciBhbGwgY2hpbGRyZW4uIE5vdGUgdGhhdCBzcGVjaWZ5aW5nIHRoaXMgd2lsbCBvdmVycmlkZSBhbnkgZGVmYXVsdHMgc2V0XG4gICAqIG9uIGluZGl2aWR1YWwgY2hpbGRyZW4gVHJhbnNpdGlvbnMuXG4gICAqL1xuICBlbnRlcjogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqXG4gICAqIEEgY29udmVuaWVuY2UgcHJvcCB0aGF0IGVuYWJsZXMgb3IgZGlzYWJsZXMgZXhpdCBhbmltYXRpb25zXG4gICAqIGZvciBhbGwgY2hpbGRyZW4uIE5vdGUgdGhhdCBzcGVjaWZ5aW5nIHRoaXMgd2lsbCBvdmVycmlkZSBhbnkgZGVmYXVsdHMgc2V0XG4gICAqIG9uIGluZGl2aWR1YWwgY2hpbGRyZW4gVHJhbnNpdGlvbnMuXG4gICAqL1xuICBleGl0OiBQcm9wVHlwZXMuYm9vbCxcblxuICAvKipcbiAgICogWW91IG1heSBuZWVkIHRvIGFwcGx5IHJlYWN0aXZlIHVwZGF0ZXMgdG8gYSBjaGlsZCBhcyBpdCBpcyBleGl0aW5nLlxuICAgKiBUaGlzIGlzIGdlbmVyYWxseSBkb25lIGJ5IHVzaW5nIGBjbG9uZUVsZW1lbnRgIGhvd2V2ZXIgaW4gdGhlIGNhc2Ugb2YgYW4gZXhpdGluZ1xuICAgKiBjaGlsZCB0aGUgZWxlbWVudCBoYXMgYWxyZWFkeSBiZWVuIHJlbW92ZWQgYW5kIG5vdCBhY2Nlc3NpYmxlIHRvIHRoZSBjb25zdW1lci5cbiAgICpcbiAgICogSWYgeW91IGRvIG5lZWQgdG8gdXBkYXRlIGEgY2hpbGQgYXMgaXQgbGVhdmVzIHlvdSBjYW4gcHJvdmlkZSBhIGBjaGlsZEZhY3RvcnlgXG4gICAqIHRvIHdyYXAgZXZlcnkgY2hpbGQsIGV2ZW4gdGhlIG9uZXMgdGhhdCBhcmUgbGVhdmluZy5cbiAgICpcbiAgICogQHR5cGUgRnVuY3Rpb24oY2hpbGQ6IFJlYWN0RWxlbWVudCkgLT4gUmVhY3RFbGVtZW50XG4gICAqL1xuICBjaGlsZEZhY3Rvcnk6IFByb3BUeXBlcy5mdW5jXG59IDoge307XG5UcmFuc2l0aW9uR3JvdXAuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuZXhwb3J0IGRlZmF1bHQgVHJhbnNpdGlvbkdyb3VwOyIsCiAgICAiaW1wb3J0IHsgQ2hpbGRyZW4sIGNsb25lRWxlbWVudCwgaXNWYWxpZEVsZW1lbnQgfSBmcm9tICdyZWFjdCc7XG4vKipcbiAqIEdpdmVuIGB0aGlzLnByb3BzLmNoaWxkcmVuYCwgcmV0dXJuIGFuIG9iamVjdCBtYXBwaW5nIGtleSB0byBjaGlsZC5cbiAqXG4gKiBAcGFyYW0geyp9IGNoaWxkcmVuIGB0aGlzLnByb3BzLmNoaWxkcmVuYFxuICogQHJldHVybiB7b2JqZWN0fSBNYXBwaW5nIG9mIGtleSB0byBjaGlsZFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDaGlsZE1hcHBpbmcoY2hpbGRyZW4sIG1hcEZuKSB7XG4gIHZhciBtYXBwZXIgPSBmdW5jdGlvbiBtYXBwZXIoY2hpbGQpIHtcbiAgICByZXR1cm4gbWFwRm4gJiYgaXNWYWxpZEVsZW1lbnQoY2hpbGQpID8gbWFwRm4oY2hpbGQpIDogY2hpbGQ7XG4gIH07XG5cbiAgdmFyIHJlc3VsdCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGlmIChjaGlsZHJlbikgQ2hpbGRyZW4ubWFwKGNoaWxkcmVuLCBmdW5jdGlvbiAoYykge1xuICAgIHJldHVybiBjO1xuICB9KS5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIC8vIHJ1biB0aGUgbWFwIGZ1bmN0aW9uIGhlcmUgaW5zdGVhZCBzbyB0aGF0IHRoZSBrZXkgaXMgdGhlIGNvbXB1dGVkIG9uZVxuICAgIHJlc3VsdFtjaGlsZC5rZXldID0gbWFwcGVyKGNoaWxkKTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIFdoZW4geW91J3JlIGFkZGluZyBvciByZW1vdmluZyBjaGlsZHJlbiBzb21lIG1heSBiZSBhZGRlZCBvciByZW1vdmVkIGluIHRoZVxuICogc2FtZSByZW5kZXIgcGFzcy4gV2Ugd2FudCB0byBzaG93ICpib3RoKiBzaW5jZSB3ZSB3YW50IHRvIHNpbXVsdGFuZW91c2x5XG4gKiBhbmltYXRlIGVsZW1lbnRzIGluIGFuZCBvdXQuIFRoaXMgZnVuY3Rpb24gdGFrZXMgYSBwcmV2aW91cyBzZXQgb2Yga2V5c1xuICogYW5kIGEgbmV3IHNldCBvZiBrZXlzIGFuZCBtZXJnZXMgdGhlbSB3aXRoIGl0cyBiZXN0IGd1ZXNzIG9mIHRoZSBjb3JyZWN0XG4gKiBvcmRlcmluZy4gSW4gdGhlIGZ1dHVyZSB3ZSBtYXkgZXhwb3NlIHNvbWUgb2YgdGhlIHV0aWxpdGllcyBpblxuICogUmVhY3RNdWx0aUNoaWxkIHRvIG1ha2UgdGhpcyBlYXN5LCBidXQgZm9yIG5vdyBSZWFjdCBpdHNlbGYgZG9lcyBub3RcbiAqIGRpcmVjdGx5IGhhdmUgdGhpcyBjb25jZXB0IG9mIHRoZSB1bmlvbiBvZiBwcmV2Q2hpbGRyZW4gYW5kIG5leHRDaGlsZHJlblxuICogc28gd2UgaW1wbGVtZW50IGl0IGhlcmUuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHByZXYgcHJldiBjaGlsZHJlbiBhcyByZXR1cm5lZCBmcm9tXG4gKiBgUmVhY3RUcmFuc2l0aW9uQ2hpbGRNYXBwaW5nLmdldENoaWxkTWFwcGluZygpYC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBuZXh0IG5leHQgY2hpbGRyZW4gYXMgcmV0dXJuZWQgZnJvbVxuICogYFJlYWN0VHJhbnNpdGlvbkNoaWxkTWFwcGluZy5nZXRDaGlsZE1hcHBpbmcoKWAuXG4gKiBAcmV0dXJuIHtvYmplY3R9IGEga2V5IHNldCB0aGF0IGNvbnRhaW5zIGFsbCBrZXlzIGluIGBwcmV2YCBhbmQgYWxsIGtleXNcbiAqIGluIGBuZXh0YCBpbiBhIHJlYXNvbmFibGUgb3JkZXIuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlQ2hpbGRNYXBwaW5ncyhwcmV2LCBuZXh0KSB7XG4gIHByZXYgPSBwcmV2IHx8IHt9O1xuICBuZXh0ID0gbmV4dCB8fCB7fTtcblxuICBmdW5jdGlvbiBnZXRWYWx1ZUZvcktleShrZXkpIHtcbiAgICByZXR1cm4ga2V5IGluIG5leHQgPyBuZXh0W2tleV0gOiBwcmV2W2tleV07XG4gIH0gLy8gRm9yIGVhY2gga2V5IG9mIGBuZXh0YCwgdGhlIGxpc3Qgb2Yga2V5cyB0byBpbnNlcnQgYmVmb3JlIHRoYXQga2V5IGluXG4gIC8vIHRoZSBjb21iaW5lZCBsaXN0XG5cblxuICB2YXIgbmV4dEtleXNQZW5kaW5nID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdmFyIHBlbmRpbmdLZXlzID0gW107XG5cbiAgZm9yICh2YXIgcHJldktleSBpbiBwcmV2KSB7XG4gICAgaWYgKHByZXZLZXkgaW4gbmV4dCkge1xuICAgICAgaWYgKHBlbmRpbmdLZXlzLmxlbmd0aCkge1xuICAgICAgICBuZXh0S2V5c1BlbmRpbmdbcHJldktleV0gPSBwZW5kaW5nS2V5cztcbiAgICAgICAgcGVuZGluZ0tleXMgPSBbXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVuZGluZ0tleXMucHVzaChwcmV2S2V5KTtcbiAgICB9XG4gIH1cblxuICB2YXIgaTtcbiAgdmFyIGNoaWxkTWFwcGluZyA9IHt9O1xuXG4gIGZvciAodmFyIG5leHRLZXkgaW4gbmV4dCkge1xuICAgIGlmIChuZXh0S2V5c1BlbmRpbmdbbmV4dEtleV0pIHtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBuZXh0S2V5c1BlbmRpbmdbbmV4dEtleV0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHBlbmRpbmdOZXh0S2V5ID0gbmV4dEtleXNQZW5kaW5nW25leHRLZXldW2ldO1xuICAgICAgICBjaGlsZE1hcHBpbmdbbmV4dEtleXNQZW5kaW5nW25leHRLZXldW2ldXSA9IGdldFZhbHVlRm9yS2V5KHBlbmRpbmdOZXh0S2V5KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjaGlsZE1hcHBpbmdbbmV4dEtleV0gPSBnZXRWYWx1ZUZvcktleShuZXh0S2V5KTtcbiAgfSAvLyBGaW5hbGx5LCBhZGQgdGhlIGtleXMgd2hpY2ggZGlkbid0IGFwcGVhciBiZWZvcmUgYW55IGtleSBpbiBgbmV4dGBcblxuXG4gIGZvciAoaSA9IDA7IGkgPCBwZW5kaW5nS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGNoaWxkTWFwcGluZ1twZW5kaW5nS2V5c1tpXV0gPSBnZXRWYWx1ZUZvcktleShwZW5kaW5nS2V5c1tpXSk7XG4gIH1cblxuICByZXR1cm4gY2hpbGRNYXBwaW5nO1xufVxuXG5mdW5jdGlvbiBnZXRQcm9wKGNoaWxkLCBwcm9wLCBwcm9wcykge1xuICByZXR1cm4gcHJvcHNbcHJvcF0gIT0gbnVsbCA/IHByb3BzW3Byb3BdIDogY2hpbGQucHJvcHNbcHJvcF07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbml0aWFsQ2hpbGRNYXBwaW5nKHByb3BzLCBvbkV4aXRlZCkge1xuICByZXR1cm4gZ2V0Q2hpbGRNYXBwaW5nKHByb3BzLmNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICByZXR1cm4gY2xvbmVFbGVtZW50KGNoaWxkLCB7XG4gICAgICBvbkV4aXRlZDogb25FeGl0ZWQuYmluZChudWxsLCBjaGlsZCksXG4gICAgICBpbjogdHJ1ZSxcbiAgICAgIGFwcGVhcjogZ2V0UHJvcChjaGlsZCwgJ2FwcGVhcicsIHByb3BzKSxcbiAgICAgIGVudGVyOiBnZXRQcm9wKGNoaWxkLCAnZW50ZXInLCBwcm9wcyksXG4gICAgICBleGl0OiBnZXRQcm9wKGNoaWxkLCAnZXhpdCcsIHByb3BzKVxuICAgIH0pO1xuICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXROZXh0Q2hpbGRNYXBwaW5nKG5leHRQcm9wcywgcHJldkNoaWxkTWFwcGluZywgb25FeGl0ZWQpIHtcbiAgdmFyIG5leHRDaGlsZE1hcHBpbmcgPSBnZXRDaGlsZE1hcHBpbmcobmV4dFByb3BzLmNoaWxkcmVuKTtcbiAgdmFyIGNoaWxkcmVuID0gbWVyZ2VDaGlsZE1hcHBpbmdzKHByZXZDaGlsZE1hcHBpbmcsIG5leHRDaGlsZE1hcHBpbmcpO1xuICBPYmplY3Qua2V5cyhjaGlsZHJlbikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIGNoaWxkID0gY2hpbGRyZW5ba2V5XTtcbiAgICBpZiAoIWlzVmFsaWRFbGVtZW50KGNoaWxkKSkgcmV0dXJuO1xuICAgIHZhciBoYXNQcmV2ID0gKGtleSBpbiBwcmV2Q2hpbGRNYXBwaW5nKTtcbiAgICB2YXIgaGFzTmV4dCA9IChrZXkgaW4gbmV4dENoaWxkTWFwcGluZyk7XG4gICAgdmFyIHByZXZDaGlsZCA9IHByZXZDaGlsZE1hcHBpbmdba2V5XTtcbiAgICB2YXIgaXNMZWF2aW5nID0gaXNWYWxpZEVsZW1lbnQocHJldkNoaWxkKSAmJiAhcHJldkNoaWxkLnByb3BzLmluOyAvLyBpdGVtIGlzIG5ldyAoZW50ZXJpbmcpXG5cbiAgICBpZiAoaGFzTmV4dCAmJiAoIWhhc1ByZXYgfHwgaXNMZWF2aW5nKSkge1xuICAgICAgLy8gY29uc29sZS5sb2coJ2VudGVyaW5nJywga2V5KVxuICAgICAgY2hpbGRyZW5ba2V5XSA9IGNsb25lRWxlbWVudChjaGlsZCwge1xuICAgICAgICBvbkV4aXRlZDogb25FeGl0ZWQuYmluZChudWxsLCBjaGlsZCksXG4gICAgICAgIGluOiB0cnVlLFxuICAgICAgICBleGl0OiBnZXRQcm9wKGNoaWxkLCAnZXhpdCcsIG5leHRQcm9wcyksXG4gICAgICAgIGVudGVyOiBnZXRQcm9wKGNoaWxkLCAnZW50ZXInLCBuZXh0UHJvcHMpXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKCFoYXNOZXh0ICYmIGhhc1ByZXYgJiYgIWlzTGVhdmluZykge1xuICAgICAgLy8gaXRlbSBpcyBvbGQgKGV4aXRpbmcpXG4gICAgICAvLyBjb25zb2xlLmxvZygnbGVhdmluZycsIGtleSlcbiAgICAgIGNoaWxkcmVuW2tleV0gPSBjbG9uZUVsZW1lbnQoY2hpbGQsIHtcbiAgICAgICAgaW46IGZhbHNlXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGhhc05leHQgJiYgaGFzUHJldiAmJiBpc1ZhbGlkRWxlbWVudChwcmV2Q2hpbGQpKSB7XG4gICAgICAvLyBpdGVtIGhhc24ndCBjaGFuZ2VkIHRyYW5zaXRpb24gc3RhdGVzXG4gICAgICAvLyBjb3B5IG92ZXIgdGhlIGxhc3QgdHJhbnNpdGlvbiBwcm9wcztcbiAgICAgIC8vIGNvbnNvbGUubG9nKCd1bmNoYW5nZWQnLCBrZXkpXG4gICAgICBjaGlsZHJlbltrZXldID0gY2xvbmVFbGVtZW50KGNoaWxkLCB7XG4gICAgICAgIG9uRXhpdGVkOiBvbkV4aXRlZC5iaW5kKG51bGwsIGNoaWxkKSxcbiAgICAgICAgaW46IHByZXZDaGlsZC5wcm9wcy5pbixcbiAgICAgICAgZXhpdDogZ2V0UHJvcChjaGlsZCwgJ2V4aXQnLCBuZXh0UHJvcHMpLFxuICAgICAgICBlbnRlcjogZ2V0UHJvcChjaGlsZCwgJ2VudGVyJywgbmV4dFByb3BzKVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGNoaWxkcmVuO1xufSIsCiAgICAiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5jb25zdCBFTVBUWSA9IFtdO1xuXG4vKipcbiAqIEEgUmVhY3QudXNlRWZmZWN0IGVxdWl2YWxlbnQgdGhhdCBydW5zIG9uY2UsIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBtb3VudGVkLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VPbk1vdW50KGZuKSB7XG4gIC8vIFRPRE86IHVuY29tbWVudCBvbmNlIHdlIGVuYWJsZSBlc2xpbnQtcGx1Z2luLXJlYWN0LWNvbXBpbGVyIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1jb21waWxlci9yZWFjdC1jb21waWxlciAtLSBubyBuZWVkIHRvIHB1dCBgZm5gIGluIHRoZSBkZXBlbmRlbmN5IGFycmF5XG4gIC8qIGVzbGludC1kaXNhYmxlIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwcyAqL1xuICBSZWFjdC51c2VFZmZlY3QoZm4sIEVNUFRZKTtcbiAgLyogZXNsaW50LWVuYWJsZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHMgKi9cbn0iLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0IHVzZUxhenlSZWYgZnJvbSBcIi4uL3VzZUxhenlSZWYvdXNlTGF6eVJlZi5qc1wiO1xuaW1wb3J0IHVzZU9uTW91bnQgZnJvbSBcIi4uL3VzZU9uTW91bnQvdXNlT25Nb3VudC5qc1wiO1xuZXhwb3J0IGNsYXNzIFRpbWVvdXQge1xuICBzdGF0aWMgY3JlYXRlKCkge1xuICAgIHJldHVybiBuZXcgVGltZW91dCgpO1xuICB9XG4gIGN1cnJlbnRJZCA9IG51bGw7XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGVzIGBmbmAgYWZ0ZXIgYGRlbGF5YCwgY2xlYXJpbmcgYW55IHByZXZpb3VzbHkgc2NoZWR1bGVkIGNhbGwuXG4gICAqL1xuICBzdGFydChkZWxheSwgZm4pIHtcbiAgICB0aGlzLmNsZWFyKCk7XG4gICAgdGhpcy5jdXJyZW50SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuY3VycmVudElkID0gbnVsbDtcbiAgICAgIGZuKCk7XG4gICAgfSwgZGVsYXkpO1xuICB9XG4gIGNsZWFyID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLmN1cnJlbnRJZCAhPT0gbnVsbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY3VycmVudElkKTtcbiAgICAgIHRoaXMuY3VycmVudElkID0gbnVsbDtcbiAgICB9XG4gIH07XG4gIGRpc3Bvc2VFZmZlY3QgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuY2xlYXI7XG4gIH07XG59XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VUaW1lb3V0KCkge1xuICBjb25zdCB0aW1lb3V0ID0gdXNlTGF6eVJlZihUaW1lb3V0LmNyZWF0ZSkuY3VycmVudDtcbiAgdXNlT25Nb3VudCh0aW1lb3V0LmRpc3Bvc2VFZmZlY3QpO1xuICByZXR1cm4gdGltZW91dDtcbn0iLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnO1xuXG4vKipcbiAqIEBpZ25vcmUgLSBpbnRlcm5hbCBjb21wb25lbnQuXG4gKi9cbmltcG9ydCB7IGpzeCBhcyBfanN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBSaXBwbGUocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGNsYXNzTmFtZSxcbiAgICBjbGFzc2VzLFxuICAgIHB1bHNhdGUgPSBmYWxzZSxcbiAgICByaXBwbGVYLFxuICAgIHJpcHBsZVksXG4gICAgcmlwcGxlU2l6ZSxcbiAgICBpbjogaW5Qcm9wLFxuICAgIG9uRXhpdGVkLFxuICAgIHRpbWVvdXRcbiAgfSA9IHByb3BzO1xuICBjb25zdCBbbGVhdmluZywgc2V0TGVhdmluZ10gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHJpcHBsZUNsYXNzTmFtZSA9IGNsc3goY2xhc3NOYW1lLCBjbGFzc2VzLnJpcHBsZSwgY2xhc3Nlcy5yaXBwbGVWaXNpYmxlLCBwdWxzYXRlICYmIGNsYXNzZXMucmlwcGxlUHVsc2F0ZSk7XG4gIGNvbnN0IHJpcHBsZVN0eWxlcyA9IHtcbiAgICB3aWR0aDogcmlwcGxlU2l6ZSxcbiAgICBoZWlnaHQ6IHJpcHBsZVNpemUsXG4gICAgdG9wOiAtKHJpcHBsZVNpemUgLyAyKSArIHJpcHBsZVksXG4gICAgbGVmdDogLShyaXBwbGVTaXplIC8gMikgKyByaXBwbGVYXG4gIH07XG4gIGNvbnN0IGNoaWxkQ2xhc3NOYW1lID0gY2xzeChjbGFzc2VzLmNoaWxkLCBsZWF2aW5nICYmIGNsYXNzZXMuY2hpbGRMZWF2aW5nLCBwdWxzYXRlICYmIGNsYXNzZXMuY2hpbGRQdWxzYXRlKTtcbiAgaWYgKCFpblByb3AgJiYgIWxlYXZpbmcpIHtcbiAgICBzZXRMZWF2aW5nKHRydWUpO1xuICB9XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpblByb3AgJiYgb25FeGl0ZWQgIT0gbnVsbCkge1xuICAgICAgLy8gcmVhY3QtdHJhbnNpdGlvbi1ncm91cCNvbkV4aXRlZFxuICAgICAgY29uc3QgdGltZW91dElkID0gc2V0VGltZW91dChvbkV4aXRlZCwgdGltZW91dCk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH0sIFtvbkV4aXRlZCwgaW5Qcm9wLCB0aW1lb3V0XSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogcmlwcGxlQ2xhc3NOYW1lLFxuICAgIHN0eWxlOiByaXBwbGVTdHlsZXMsXG4gICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KFwic3BhblwiLCB7XG4gICAgICBjbGFzc05hbWU6IGNoaWxkQ2xhc3NOYW1lXG4gICAgfSlcbiAgfSk7XG59XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBSaXBwbGUucHJvcFR5cGVzIC8qIHJlbW92ZS1wcm9wdHlwZXMgKi8gPSB7XG4gIC8qKlxuICAgKiBPdmVycmlkZSBvciBleHRlbmQgdGhlIHN0eWxlcyBhcHBsaWVkIHRvIHRoZSBjb21wb25lbnQuXG4gICAqL1xuICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgLyoqXG4gICAqIEBpZ25vcmUgLSBpbmplY3RlZCBmcm9tIFRyYW5zaXRpb25Hcm91cFxuICAgKi9cbiAgaW46IFByb3BUeXBlcy5ib29sLFxuICAvKipcbiAgICogQGlnbm9yZSAtIGluamVjdGVkIGZyb20gVHJhbnNpdGlvbkdyb3VwXG4gICAqL1xuICBvbkV4aXRlZDogUHJvcFR5cGVzLmZ1bmMsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSByaXBwbGUgcHVsc2F0ZXMsIHR5cGljYWxseSBpbmRpY2F0aW5nIHRoZSBrZXlib2FyZCBmb2N1cyBzdGF0ZSBvZiBhbiBlbGVtZW50LlxuICAgKi9cbiAgcHVsc2F0ZTogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBEaWFtZXRlciBvZiB0aGUgcmlwcGxlLlxuICAgKi9cbiAgcmlwcGxlU2l6ZTogUHJvcFR5cGVzLm51bWJlcixcbiAgLyoqXG4gICAqIEhvcml6b250YWwgcG9zaXRpb24gb2YgdGhlIHJpcHBsZSBjZW50ZXIuXG4gICAqL1xuICByaXBwbGVYOiBQcm9wVHlwZXMubnVtYmVyLFxuICAvKipcbiAgICogVmVydGljYWwgcG9zaXRpb24gb2YgdGhlIHJpcHBsZSBjZW50ZXIuXG4gICAqL1xuICByaXBwbGVZOiBQcm9wVHlwZXMubnVtYmVyLFxuICAvKipcbiAgICogZXhpdCBkZWxheVxuICAgKi9cbiAgdGltZW91dDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkXG59IDogdm9pZCAwO1xuZXhwb3J0IGRlZmF1bHQgUmlwcGxlOyIsCiAgICAiaW1wb3J0IGdlbmVyYXRlVXRpbGl0eUNsYXNzZXMgZnJvbSAnQG11aS91dGlscy9nZW5lcmF0ZVV0aWxpdHlDbGFzc2VzJztcbmltcG9ydCBnZW5lcmF0ZVV0aWxpdHlDbGFzcyBmcm9tICdAbXVpL3V0aWxzL2dlbmVyYXRlVXRpbGl0eUNsYXNzJztcbmV4cG9ydCBmdW5jdGlvbiBnZXRUb3VjaFJpcHBsZVV0aWxpdHlDbGFzcyhzbG90KSB7XG4gIHJldHVybiBnZW5lcmF0ZVV0aWxpdHlDbGFzcygnTXVpVG91Y2hSaXBwbGUnLCBzbG90KTtcbn1cbmNvbnN0IHRvdWNoUmlwcGxlQ2xhc3NlcyA9IGdlbmVyYXRlVXRpbGl0eUNsYXNzZXMoJ011aVRvdWNoUmlwcGxlJywgWydyb290JywgJ3JpcHBsZScsICdyaXBwbGVWaXNpYmxlJywgJ3JpcHBsZVB1bHNhdGUnLCAnY2hpbGQnLCAnY2hpbGRMZWF2aW5nJywgJ2NoaWxkUHVsc2F0ZSddKTtcbmV4cG9ydCBkZWZhdWx0IHRvdWNoUmlwcGxlQ2xhc3NlczsiLAogICAgImltcG9ydCBnZW5lcmF0ZVV0aWxpdHlDbGFzc2VzIGZyb20gJ0BtdWkvdXRpbHMvZ2VuZXJhdGVVdGlsaXR5Q2xhc3Nlcyc7XG5pbXBvcnQgZ2VuZXJhdGVVdGlsaXR5Q2xhc3MgZnJvbSAnQG11aS91dGlscy9nZW5lcmF0ZVV0aWxpdHlDbGFzcyc7XG5leHBvcnQgZnVuY3Rpb24gZ2V0QnV0dG9uQmFzZVV0aWxpdHlDbGFzcyhzbG90KSB7XG4gIHJldHVybiBnZW5lcmF0ZVV0aWxpdHlDbGFzcygnTXVpQnV0dG9uQmFzZScsIHNsb3QpO1xufVxuY29uc3QgYnV0dG9uQmFzZUNsYXNzZXMgPSBnZW5lcmF0ZVV0aWxpdHlDbGFzc2VzKCdNdWlCdXR0b25CYXNlJywgWydyb290JywgJ2Rpc2FibGVkJywgJ2ZvY3VzVmlzaWJsZSddKTtcbmV4cG9ydCBkZWZhdWx0IGJ1dHRvbkJhc2VDbGFzc2VzOyIsCiAgICAiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgY2hhaW5Qcm9wVHlwZXMgZnJvbSAnQG11aS91dGlscy9jaGFpblByb3BUeXBlcyc7XG5pbXBvcnQgY29tcG9zZUNsYXNzZXMgZnJvbSAnQG11aS91dGlscy9jb21wb3NlQ2xhc3Nlcyc7XG5pbXBvcnQgeyBrZXlmcmFtZXMsIGNzcywgc3R5bGVkIH0gZnJvbSBcIi4uL3plcm8tc3R5bGVkL2luZGV4LmpzXCI7XG5pbXBvcnQgbWVtb1RoZW1lIGZyb20gXCIuLi91dGlscy9tZW1vVGhlbWUuanNcIjtcbmltcG9ydCB7IHVzZURlZmF1bHRQcm9wcyB9IGZyb20gXCIuLi9EZWZhdWx0UHJvcHNQcm92aWRlci9pbmRleC5qc1wiO1xuaW1wb3J0IGNhcGl0YWxpemUgZnJvbSBcIi4uL3V0aWxzL2NhcGl0YWxpemUuanNcIjtcbmltcG9ydCBjcmVhdGVTaW1wbGVQYWxldHRlVmFsdWVGaWx0ZXIgZnJvbSBcIi4uL3V0aWxzL2NyZWF0ZVNpbXBsZVBhbGV0dGVWYWx1ZUZpbHRlci5qc1wiO1xuaW1wb3J0IHsgZ2V0Q2lyY3VsYXJQcm9ncmVzc1V0aWxpdHlDbGFzcyB9IGZyb20gXCIuL2NpcmN1bGFyUHJvZ3Jlc3NDbGFzc2VzLmpzXCI7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuY29uc3QgU0laRSA9IDQ0O1xuY29uc3QgY2lyY3VsYXJSb3RhdGVLZXlmcmFtZSA9IGtleWZyYW1lc2BcbiAgMCUge1xuICAgIHRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xuICB9XG5cbiAgMTAwJSB7XG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTtcbiAgfVxuYDtcbmNvbnN0IGNpcmN1bGFyRGFzaEtleWZyYW1lID0ga2V5ZnJhbWVzYFxuICAwJSB7XG4gICAgc3Ryb2tlLWRhc2hhcnJheTogMXB4LCAyMDBweDtcbiAgICBzdHJva2UtZGFzaG9mZnNldDogMDtcbiAgfVxuXG4gIDUwJSB7XG4gICAgc3Ryb2tlLWRhc2hhcnJheTogMTAwcHgsIDIwMHB4O1xuICAgIHN0cm9rZS1kYXNob2Zmc2V0OiAtMTVweDtcbiAgfVxuXG4gIDEwMCUge1xuICAgIHN0cm9rZS1kYXNoYXJyYXk6IDFweCwgMjAwcHg7XG4gICAgc3Ryb2tlLWRhc2hvZmZzZXQ6IC0xMjZweDtcbiAgfVxuYDtcblxuLy8gVGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBmb3Igc3VwcG9ydGluZyBib3RoIFN0eWxlZC1jb21wb25lbnRzIHY0KyBhbmQgUGlnbWVudCBDU1MuXG4vLyBBIGdsb2JhbCBhbmltYXRpb24gaGFzIHRvIGJlIGNyZWF0ZWQgaGVyZSBmb3IgU3R5bGVkLWNvbXBvbmVudHMgdjQrIChodHRwczovL2dpdGh1Yi5jb20vc3R5bGVkLWNvbXBvbmVudHMvc3R5bGVkLWNvbXBvbmVudHMvYmxvYi9tYWluL3BhY2thZ2VzL3N0eWxlZC1jb21wb25lbnRzL3NyYy91dGlscy9lcnJvcnMubWQjMTIpLlxuLy8gd2hpY2ggY2FuIGJlIGRvbmUgYnkgY2hlY2tpbmcgdHlwZW9mIGluZGV0ZXJtaW5hdGUxS2V5ZnJhbWUgIT09ICdzdHJpbmcnIChhdCBydW50aW1lLCBQaWdtZW50IENTUyB0cmFuc2Zvcm0ga2V5ZnJhbWVzYGAgdG8gYSBzdHJpbmcpLlxuY29uc3Qgcm90YXRlQW5pbWF0aW9uID0gdHlwZW9mIGNpcmN1bGFyUm90YXRlS2V5ZnJhbWUgIT09ICdzdHJpbmcnID8gY3NzYFxuICAgICAgICBhbmltYXRpb246ICR7Y2lyY3VsYXJSb3RhdGVLZXlmcmFtZX0gMS40cyBsaW5lYXIgaW5maW5pdGU7XG4gICAgICBgIDogbnVsbDtcbmNvbnN0IGRhc2hBbmltYXRpb24gPSB0eXBlb2YgY2lyY3VsYXJEYXNoS2V5ZnJhbWUgIT09ICdzdHJpbmcnID8gY3NzYFxuICAgICAgICBhbmltYXRpb246ICR7Y2lyY3VsYXJEYXNoS2V5ZnJhbWV9IDEuNHMgZWFzZS1pbi1vdXQgaW5maW5pdGU7XG4gICAgICBgIDogbnVsbDtcbmNvbnN0IHVzZVV0aWxpdHlDbGFzc2VzID0gb3duZXJTdGF0ZSA9PiB7XG4gIGNvbnN0IHtcbiAgICBjbGFzc2VzLFxuICAgIHZhcmlhbnQsXG4gICAgY29sb3IsXG4gICAgZGlzYWJsZVNocmlua1xuICB9ID0gb3duZXJTdGF0ZTtcbiAgY29uc3Qgc2xvdHMgPSB7XG4gICAgcm9vdDogWydyb290JywgdmFyaWFudCwgYGNvbG9yJHtjYXBpdGFsaXplKGNvbG9yKX1gXSxcbiAgICBzdmc6IFsnc3ZnJ10sXG4gICAgdHJhY2s6IFsndHJhY2snXSxcbiAgICBjaXJjbGU6IFsnY2lyY2xlJywgYGNpcmNsZSR7Y2FwaXRhbGl6ZSh2YXJpYW50KX1gLCBkaXNhYmxlU2hyaW5rICYmICdjaXJjbGVEaXNhYmxlU2hyaW5rJ11cbiAgfTtcbiAgcmV0dXJuIGNvbXBvc2VDbGFzc2VzKHNsb3RzLCBnZXRDaXJjdWxhclByb2dyZXNzVXRpbGl0eUNsYXNzLCBjbGFzc2VzKTtcbn07XG5jb25zdCBDaXJjdWxhclByb2dyZXNzUm9vdCA9IHN0eWxlZCgnc3BhbicsIHtcbiAgbmFtZTogJ011aUNpcmN1bGFyUHJvZ3Jlc3MnLFxuICBzbG90OiAnUm9vdCcsXG4gIG92ZXJyaWRlc1Jlc29sdmVyOiAocHJvcHMsIHN0eWxlcykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIG93bmVyU3RhdGVcbiAgICB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIFtzdHlsZXMucm9vdCwgc3R5bGVzW293bmVyU3RhdGUudmFyaWFudF0sIHN0eWxlc1tgY29sb3Ike2NhcGl0YWxpemUob3duZXJTdGF0ZS5jb2xvcil9YF1dO1xuICB9XG59KShtZW1vVGhlbWUoKHtcbiAgdGhlbWVcbn0pID0+ICh7XG4gIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICB2YXJpYW50czogW3tcbiAgICBwcm9wczoge1xuICAgICAgdmFyaWFudDogJ2RldGVybWluYXRlJ1xuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIHRyYW5zaXRpb246IHRoZW1lLnRyYW5zaXRpb25zLmNyZWF0ZSgndHJhbnNmb3JtJylcbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczoge1xuICAgICAgdmFyaWFudDogJ2luZGV0ZXJtaW5hdGUnXG4gICAgfSxcbiAgICBzdHlsZTogcm90YXRlQW5pbWF0aW9uIHx8IHtcbiAgICAgIGFuaW1hdGlvbjogYCR7Y2lyY3VsYXJSb3RhdGVLZXlmcmFtZX0gMS40cyBsaW5lYXIgaW5maW5pdGVgXG4gICAgfVxuICB9LCAuLi5PYmplY3QuZW50cmllcyh0aGVtZS5wYWxldHRlKS5maWx0ZXIoY3JlYXRlU2ltcGxlUGFsZXR0ZVZhbHVlRmlsdGVyKCkpLm1hcCgoW2NvbG9yXSkgPT4gKHtcbiAgICBwcm9wczoge1xuICAgICAgY29sb3JcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICBjb2xvcjogKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGVbY29sb3JdLm1haW5cbiAgICB9XG4gIH0pKV1cbn0pKSk7XG5jb25zdCBDaXJjdWxhclByb2dyZXNzU1ZHID0gc3R5bGVkKCdzdmcnLCB7XG4gIG5hbWU6ICdNdWlDaXJjdWxhclByb2dyZXNzJyxcbiAgc2xvdDogJ1N2Zydcbn0pKHtcbiAgZGlzcGxheTogJ2Jsb2NrJyAvLyBLZWVwcyB0aGUgcHJvZ3Jlc3MgY2VudGVyZWRcbn0pO1xuY29uc3QgQ2lyY3VsYXJQcm9ncmVzc0NpcmNsZSA9IHN0eWxlZCgnY2lyY2xlJywge1xuICBuYW1lOiAnTXVpQ2lyY3VsYXJQcm9ncmVzcycsXG4gIHNsb3Q6ICdDaXJjbGUnLFxuICBvdmVycmlkZXNSZXNvbHZlcjogKHByb3BzLCBzdHlsZXMpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBvd25lclN0YXRlXG4gICAgfSA9IHByb3BzO1xuICAgIHJldHVybiBbc3R5bGVzLmNpcmNsZSwgc3R5bGVzW2BjaXJjbGUke2NhcGl0YWxpemUob3duZXJTdGF0ZS52YXJpYW50KX1gXSwgb3duZXJTdGF0ZS5kaXNhYmxlU2hyaW5rICYmIHN0eWxlcy5jaXJjbGVEaXNhYmxlU2hyaW5rXTtcbiAgfVxufSkobWVtb1RoZW1lKCh7XG4gIHRoZW1lXG59KSA9PiAoe1xuICBzdHJva2U6ICdjdXJyZW50Q29sb3InLFxuICB2YXJpYW50czogW3tcbiAgICBwcm9wczoge1xuICAgICAgdmFyaWFudDogJ2RldGVybWluYXRlJ1xuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIHRyYW5zaXRpb246IHRoZW1lLnRyYW5zaXRpb25zLmNyZWF0ZSgnc3Ryb2tlLWRhc2hvZmZzZXQnKVxuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiB7XG4gICAgICB2YXJpYW50OiAnaW5kZXRlcm1pbmF0ZSdcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICAvLyBTb21lIGRlZmF1bHQgdmFsdWUgdGhhdCBsb29rcyBmaW5lIHdhaXRpbmcgZm9yIHRoZSBhbmltYXRpb24gdG8ga2lja3MgaW4uXG4gICAgICBzdHJva2VEYXNoYXJyYXk6ICc4MHB4LCAyMDBweCcsXG4gICAgICBzdHJva2VEYXNob2Zmc2V0OiAwIC8vIEFkZCB0aGUgdW5pdCB0byBmaXggYSBFZGdlIDE2IGFuZCBiZWxvdyBidWcuXG4gICAgfVxuICB9LCB7XG4gICAgcHJvcHM6ICh7XG4gICAgICBvd25lclN0YXRlXG4gICAgfSkgPT4gb3duZXJTdGF0ZS52YXJpYW50ID09PSAnaW5kZXRlcm1pbmF0ZScgJiYgIW93bmVyU3RhdGUuZGlzYWJsZVNocmluayxcbiAgICBzdHlsZTogZGFzaEFuaW1hdGlvbiB8fCB7XG4gICAgICAvLyBBdCBydW50aW1lIGZvciBQaWdtZW50IENTUywgYGJ1ZmZlckFuaW1hdGlvbmAgd2lsbCBiZSBudWxsIGFuZCB0aGUgZ2VuZXJhdGVkIGtleWZyYW1lIHdpbGwgYmUgdXNlZC5cbiAgICAgIGFuaW1hdGlvbjogYCR7Y2lyY3VsYXJEYXNoS2V5ZnJhbWV9IDEuNHMgZWFzZS1pbi1vdXQgaW5maW5pdGVgXG4gICAgfVxuICB9XVxufSkpKTtcbmNvbnN0IENpcmN1bGFyUHJvZ3Jlc3NUcmFjayA9IHN0eWxlZCgnY2lyY2xlJywge1xuICBuYW1lOiAnTXVpQ2lyY3VsYXJQcm9ncmVzcycsXG4gIHNsb3Q6ICdUcmFjaydcbn0pKG1lbW9UaGVtZSgoe1xuICB0aGVtZVxufSkgPT4gKHtcbiAgc3Ryb2tlOiAnY3VycmVudENvbG9yJyxcbiAgb3BhY2l0eTogKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGUuYWN0aW9uLmFjdGl2YXRlZE9wYWNpdHlcbn0pKSk7XG5cbi8qKlxuICogIyMgQVJJQVxuICpcbiAqIElmIHRoZSBwcm9ncmVzcyBiYXIgaXMgZGVzY3JpYmluZyB0aGUgbG9hZGluZyBwcm9ncmVzcyBvZiBhIHBhcnRpY3VsYXIgcmVnaW9uIG9mIGEgcGFnZSxcbiAqIHlvdSBzaG91bGQgdXNlIGBhcmlhLWRlc2NyaWJlZGJ5YCB0byBwb2ludCB0byB0aGUgcHJvZ3Jlc3MgYmFyLCBhbmQgc2V0IHRoZSBgYXJpYS1idXN5YFxuICogYXR0cmlidXRlIHRvIGB0cnVlYCBvbiB0aGF0IHJlZ2lvbiB1bnRpbCBpdCBoYXMgZmluaXNoZWQgbG9hZGluZy5cbiAqL1xuY29uc3QgQ2lyY3VsYXJQcm9ncmVzcyA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIENpcmN1bGFyUHJvZ3Jlc3MoaW5Qcm9wcywgcmVmKSB7XG4gIGNvbnN0IHByb3BzID0gdXNlRGVmYXVsdFByb3BzKHtcbiAgICBwcm9wczogaW5Qcm9wcyxcbiAgICBuYW1lOiAnTXVpQ2lyY3VsYXJQcm9ncmVzcydcbiAgfSk7XG4gIGNvbnN0IHtcbiAgICBjbGFzc05hbWUsXG4gICAgY29sb3IgPSAncHJpbWFyeScsXG4gICAgZGlzYWJsZVNocmluayA9IGZhbHNlLFxuICAgIGVuYWJsZVRyYWNrU2xvdCA9IGZhbHNlLFxuICAgIHNpemUgPSA0MCxcbiAgICBzdHlsZSxcbiAgICB0aGlja25lc3MgPSAzLjYsXG4gICAgdmFsdWUgPSAwLFxuICAgIHZhcmlhbnQgPSAnaW5kZXRlcm1pbmF0ZScsXG4gICAgLi4ub3RoZXJcbiAgfSA9IHByb3BzO1xuICBjb25zdCBvd25lclN0YXRlID0ge1xuICAgIC4uLnByb3BzLFxuICAgIGNvbG9yLFxuICAgIGRpc2FibGVTaHJpbmssXG4gICAgc2l6ZSxcbiAgICB0aGlja25lc3MsXG4gICAgdmFsdWUsXG4gICAgdmFyaWFudCxcbiAgICBlbmFibGVUcmFja1Nsb3RcbiAgfTtcbiAgY29uc3QgY2xhc3NlcyA9IHVzZVV0aWxpdHlDbGFzc2VzKG93bmVyU3RhdGUpO1xuICBjb25zdCBjaXJjbGVTdHlsZSA9IHt9O1xuICBjb25zdCByb290U3R5bGUgPSB7fTtcbiAgY29uc3Qgcm9vdFByb3BzID0ge307XG4gIGlmICh2YXJpYW50ID09PSAnZGV0ZXJtaW5hdGUnKSB7XG4gICAgY29uc3QgY2lyY3VtZmVyZW5jZSA9IDIgKiBNYXRoLlBJICogKChTSVpFIC0gdGhpY2tuZXNzKSAvIDIpO1xuICAgIGNpcmNsZVN0eWxlLnN0cm9rZURhc2hhcnJheSA9IGNpcmN1bWZlcmVuY2UudG9GaXhlZCgzKTtcbiAgICByb290UHJvcHNbJ2FyaWEtdmFsdWVub3cnXSA9IE1hdGgucm91bmQodmFsdWUpO1xuICAgIGNpcmNsZVN0eWxlLnN0cm9rZURhc2hvZmZzZXQgPSBgJHsoKDEwMCAtIHZhbHVlKSAvIDEwMCAqIGNpcmN1bWZlcmVuY2UpLnRvRml4ZWQoMyl9cHhgO1xuICAgIHJvb3RTdHlsZS50cmFuc2Zvcm0gPSAncm90YXRlKC05MGRlZyknO1xuICB9XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeChDaXJjdWxhclByb2dyZXNzUm9vdCwge1xuICAgIGNsYXNzTmFtZTogY2xzeChjbGFzc2VzLnJvb3QsIGNsYXNzTmFtZSksXG4gICAgc3R5bGU6IHtcbiAgICAgIHdpZHRoOiBzaXplLFxuICAgICAgaGVpZ2h0OiBzaXplLFxuICAgICAgLi4ucm9vdFN0eWxlLFxuICAgICAgLi4uc3R5bGVcbiAgICB9LFxuICAgIG93bmVyU3RhdGU6IG93bmVyU3RhdGUsXG4gICAgcmVmOiByZWYsXG4gICAgcm9sZTogXCJwcm9ncmVzc2JhclwiLFxuICAgIC4uLnJvb3RQcm9wcyxcbiAgICAuLi5vdGhlcixcbiAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3hzKENpcmN1bGFyUHJvZ3Jlc3NTVkcsIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5zdmcsXG4gICAgICBvd25lclN0YXRlOiBvd25lclN0YXRlLFxuICAgICAgdmlld0JveDogYCR7U0laRSAvIDJ9ICR7U0laRSAvIDJ9ICR7U0laRX0gJHtTSVpFfWAsXG4gICAgICBjaGlsZHJlbjogW2VuYWJsZVRyYWNrU2xvdCA/IC8qI19fUFVSRV9fKi9fanN4KENpcmN1bGFyUHJvZ3Jlc3NUcmFjaywge1xuICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMudHJhY2ssXG4gICAgICAgIG93bmVyU3RhdGU6IG93bmVyU3RhdGUsXG4gICAgICAgIGN4OiBTSVpFLFxuICAgICAgICBjeTogU0laRSxcbiAgICAgICAgcjogKFNJWkUgLSB0aGlja25lc3MpIC8gMixcbiAgICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICAgIHN0cm9rZVdpZHRoOiB0aGlja25lc3MsXG4gICAgICAgIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCJcbiAgICAgIH0pIDogbnVsbCwgLyojX19QVVJFX18qL19qc3goQ2lyY3VsYXJQcm9ncmVzc0NpcmNsZSwge1xuICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMuY2lyY2xlLFxuICAgICAgICBzdHlsZTogY2lyY2xlU3R5bGUsXG4gICAgICAgIG93bmVyU3RhdGU6IG93bmVyU3RhdGUsXG4gICAgICAgIGN4OiBTSVpFLFxuICAgICAgICBjeTogU0laRSxcbiAgICAgICAgcjogKFNJWkUgLSB0aGlja25lc3MpIC8gMixcbiAgICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICAgIHN0cm9rZVdpZHRoOiB0aGlja25lc3NcbiAgICAgIH0pXVxuICAgIH0pXG4gIH0pO1xufSk7XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBDaXJjdWxhclByb2dyZXNzLnByb3BUeXBlcyAvKiByZW1vdmUtcHJvcHR5cGVzICovID0ge1xuICAvLyDilIzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgV2FybmluZyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJBcbiAgLy8g4pSCIFRoZXNlIFByb3BUeXBlcyBhcmUgZ2VuZXJhdGVkIGZyb20gdGhlIFR5cGVTY3JpcHQgdHlwZSBkZWZpbml0aW9ucy4g4pSCXG4gIC8vIOKUgiAgICBUbyB1cGRhdGUgdGhlbSwgZWRpdCB0aGUgZC50cyBmaWxlIGFuZCBydW4gYHBucG0gcHJvcHR5cGVzYC4gICAgIOKUglxuICAvLyDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJhcbiAgLyoqXG4gICAqIE92ZXJyaWRlIG9yIGV4dGVuZCB0aGUgc3R5bGVzIGFwcGxpZWQgdG8gdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIC8qKlxuICAgKiBUaGUgY29sb3Igb2YgdGhlIGNvbXBvbmVudC5cbiAgICogSXQgc3VwcG9ydHMgYm90aCBkZWZhdWx0IGFuZCBjdXN0b20gdGhlbWUgY29sb3JzLCB3aGljaCBjYW4gYmUgYWRkZWQgYXMgc2hvd24gaW4gdGhlXG4gICAqIFtwYWxldHRlIGN1c3RvbWl6YXRpb24gZ3VpZGVdKGh0dHBzOi8vbXVpLmNvbS9tYXRlcmlhbC11aS9jdXN0b21pemF0aW9uL3BhbGV0dGUvI2N1c3RvbS1jb2xvcnMpLlxuICAgKiBAZGVmYXVsdCAncHJpbWFyeSdcbiAgICovXG4gIGNvbG9yOiBQcm9wVHlwZXMgLyogQHR5cGVzY3JpcHQtdG8tcHJvcHR5cGVzLWlnbm9yZSAqLy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ2luaGVyaXQnLCAncHJpbWFyeScsICdzZWNvbmRhcnknLCAnZXJyb3InLCAnaW5mbycsICdzdWNjZXNzJywgJ3dhcm5pbmcnXSksIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIHNocmluayBhbmltYXRpb24gaXMgZGlzYWJsZWQuXG4gICAqIFRoaXMgb25seSB3b3JrcyBpZiB2YXJpYW50IGlzIGBpbmRldGVybWluYXRlYC5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGRpc2FibGVTaHJpbms6IGNoYWluUHJvcFR5cGVzKFByb3BUeXBlcy5ib29sLCBwcm9wcyA9PiB7XG4gICAgaWYgKHByb3BzLmRpc2FibGVTaHJpbmsgJiYgcHJvcHMudmFyaWFudCAmJiBwcm9wcy52YXJpYW50ICE9PSAnaW5kZXRlcm1pbmF0ZScpIHtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ01VSTogWW91IGhhdmUgcHJvdmlkZWQgdGhlIGBkaXNhYmxlU2hyaW5rYCBwcm9wICcgKyAnd2l0aCBhIHZhcmlhbnQgb3RoZXIgdGhhbiBgaW5kZXRlcm1pbmF0ZWAuIFRoaXMgd2lsbCBoYXZlIG5vIGVmZmVjdC4nKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0pLFxuICAvKipcbiAgICogSWYgYHRydWVgLCBhIHRyYWNrIGNpcmNsZSBzbG90IGlzIG1vdW50ZWQgdG8gc2hvdyBhIHN1YnRsZSBiYWNrZ3JvdW5kIGZvciB0aGUgcHJvZ3Jlc3MuXG4gICAqIFRoZSBgc2l6ZWAgYW5kIGB0aGlja25lc3NgIGFwcGx5IHRvIHRoZSB0cmFjayBzbG90IHRvIGJlIGNvbnNpc3RlbnQgd2l0aCB0aGUgcHJvZ3Jlc3MgY2lyY2xlLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZW5hYmxlVHJhY2tTbG90OiBQcm9wVHlwZXMuYm9vbCxcbiAgLyoqXG4gICAqIFRoZSBzaXplIG9mIHRoZSBjb21wb25lbnQuXG4gICAqIElmIHVzaW5nIGEgbnVtYmVyLCB0aGUgcGl4ZWwgdW5pdCBpcyBhc3N1bWVkLlxuICAgKiBJZiB1c2luZyBhIHN0cmluZywgeW91IG5lZWQgdG8gcHJvdmlkZSB0aGUgQ1NTIHVuaXQsIGZvciBleGFtcGxlICczcmVtJy5cbiAgICogQGRlZmF1bHQgNDBcbiAgICovXG4gIHNpemU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5udW1iZXIsIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIHN0eWxlOiBQcm9wVHlwZXMub2JqZWN0LFxuICAvKipcbiAgICogVGhlIHN5c3RlbSBwcm9wIHRoYXQgYWxsb3dzIGRlZmluaW5nIHN5c3RlbSBvdmVycmlkZXMgYXMgd2VsbCBhcyBhZGRpdGlvbmFsIENTUyBzdHlsZXMuXG4gICAqL1xuICBzeDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3QsIFByb3BUeXBlcy5ib29sXSkpLCBQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdF0pLFxuICAvKipcbiAgICogVGhlIHRoaWNrbmVzcyBvZiB0aGUgY2lyY2xlLlxuICAgKiBAZGVmYXVsdCAzLjZcbiAgICovXG4gIHRoaWNrbmVzczogUHJvcFR5cGVzLm51bWJlcixcbiAgLyoqXG4gICAqIFRoZSB2YWx1ZSBvZiB0aGUgcHJvZ3Jlc3MgaW5kaWNhdG9yIGZvciB0aGUgZGV0ZXJtaW5hdGUgdmFyaWFudC5cbiAgICogVmFsdWUgYmV0d2VlbiAwIGFuZCAxMDAuXG4gICAqIEBkZWZhdWx0IDBcbiAgICovXG4gIHZhbHVlOiBQcm9wVHlwZXMubnVtYmVyLFxuICAvKipcbiAgICogVGhlIHZhcmlhbnQgdG8gdXNlLlxuICAgKiBVc2UgaW5kZXRlcm1pbmF0ZSB3aGVuIHRoZXJlIGlzIG5vIHByb2dyZXNzIHZhbHVlLlxuICAgKiBAZGVmYXVsdCAnaW5kZXRlcm1pbmF0ZSdcbiAgICovXG4gIHZhcmlhbnQ6IFByb3BUeXBlcy5vbmVPZihbJ2RldGVybWluYXRlJywgJ2luZGV0ZXJtaW5hdGUnXSlcbn0gOiB2b2lkIDA7XG5leHBvcnQgZGVmYXVsdCBDaXJjdWxhclByb2dyZXNzOyIsCiAgICAiaW1wb3J0IGdlbmVyYXRlVXRpbGl0eUNsYXNzZXMgZnJvbSAnQG11aS91dGlscy9nZW5lcmF0ZVV0aWxpdHlDbGFzc2VzJztcbmltcG9ydCBnZW5lcmF0ZVV0aWxpdHlDbGFzcyBmcm9tICdAbXVpL3V0aWxzL2dlbmVyYXRlVXRpbGl0eUNsYXNzJztcbmV4cG9ydCBmdW5jdGlvbiBnZXRDaXJjdWxhclByb2dyZXNzVXRpbGl0eUNsYXNzKHNsb3QpIHtcbiAgcmV0dXJuIGdlbmVyYXRlVXRpbGl0eUNsYXNzKCdNdWlDaXJjdWxhclByb2dyZXNzJywgc2xvdCk7XG59XG5jb25zdCBjaXJjdWxhclByb2dyZXNzQ2xhc3NlcyA9IGdlbmVyYXRlVXRpbGl0eUNsYXNzZXMoJ011aUNpcmN1bGFyUHJvZ3Jlc3MnLCBbJ3Jvb3QnLCAnZGV0ZXJtaW5hdGUnLCAnaW5kZXRlcm1pbmF0ZScsICdjb2xvclByaW1hcnknLCAnY29sb3JTZWNvbmRhcnknLCAnc3ZnJywgJ3RyYWNrJywgJ2NpcmNsZScsICdjaXJjbGVEZXRlcm1pbmF0ZScsICdjaXJjbGVJbmRldGVybWluYXRlJywgJ2NpcmNsZURpc2FibGVTaHJpbmsnXSk7XG5leHBvcnQgZGVmYXVsdCBjaXJjdWxhclByb2dyZXNzQ2xhc3NlczsiLAogICAgImltcG9ydCBnZW5lcmF0ZVV0aWxpdHlDbGFzc2VzIGZyb20gJ0BtdWkvdXRpbHMvZ2VuZXJhdGVVdGlsaXR5Q2xhc3Nlcyc7XG5pbXBvcnQgZ2VuZXJhdGVVdGlsaXR5Q2xhc3MgZnJvbSAnQG11aS91dGlscy9nZW5lcmF0ZVV0aWxpdHlDbGFzcyc7XG5leHBvcnQgZnVuY3Rpb24gZ2V0QnV0dG9uVXRpbGl0eUNsYXNzKHNsb3QpIHtcbiAgcmV0dXJuIGdlbmVyYXRlVXRpbGl0eUNsYXNzKCdNdWlCdXR0b24nLCBzbG90KTtcbn1cbmNvbnN0IGJ1dHRvbkNsYXNzZXMgPSBnZW5lcmF0ZVV0aWxpdHlDbGFzc2VzKCdNdWlCdXR0b24nLCBbJ3Jvb3QnLCAndGV4dCcsICd0ZXh0SW5oZXJpdCcsICd0ZXh0UHJpbWFyeScsICd0ZXh0U2Vjb25kYXJ5JywgJ3RleHRTdWNjZXNzJywgJ3RleHRFcnJvcicsICd0ZXh0SW5mbycsICd0ZXh0V2FybmluZycsICdvdXRsaW5lZCcsICdvdXRsaW5lZEluaGVyaXQnLCAnb3V0bGluZWRQcmltYXJ5JywgJ291dGxpbmVkU2Vjb25kYXJ5JywgJ291dGxpbmVkU3VjY2VzcycsICdvdXRsaW5lZEVycm9yJywgJ291dGxpbmVkSW5mbycsICdvdXRsaW5lZFdhcm5pbmcnLCAnY29udGFpbmVkJywgJ2NvbnRhaW5lZEluaGVyaXQnLCAnY29udGFpbmVkUHJpbWFyeScsICdjb250YWluZWRTZWNvbmRhcnknLCAnY29udGFpbmVkU3VjY2VzcycsICdjb250YWluZWRFcnJvcicsICdjb250YWluZWRJbmZvJywgJ2NvbnRhaW5lZFdhcm5pbmcnLCAnZGlzYWJsZUVsZXZhdGlvbicsICdmb2N1c1Zpc2libGUnLCAnZGlzYWJsZWQnLCAnY29sb3JJbmhlcml0JywgJ2NvbG9yUHJpbWFyeScsICdjb2xvclNlY29uZGFyeScsICdjb2xvclN1Y2Nlc3MnLCAnY29sb3JFcnJvcicsICdjb2xvckluZm8nLCAnY29sb3JXYXJuaW5nJywgJ3RleHRTaXplU21hbGwnLCAndGV4dFNpemVNZWRpdW0nLCAndGV4dFNpemVMYXJnZScsICdvdXRsaW5lZFNpemVTbWFsbCcsICdvdXRsaW5lZFNpemVNZWRpdW0nLCAnb3V0bGluZWRTaXplTGFyZ2UnLCAnY29udGFpbmVkU2l6ZVNtYWxsJywgJ2NvbnRhaW5lZFNpemVNZWRpdW0nLCAnY29udGFpbmVkU2l6ZUxhcmdlJywgJ3NpemVNZWRpdW0nLCAnc2l6ZVNtYWxsJywgJ3NpemVMYXJnZScsICdmdWxsV2lkdGgnLCAnc3RhcnRJY29uJywgJ2VuZEljb24nLCAnaWNvbicsICdpY29uU2l6ZVNtYWxsJywgJ2ljb25TaXplTWVkaXVtJywgJ2ljb25TaXplTGFyZ2UnLCAnbG9hZGluZycsICdsb2FkaW5nV3JhcHBlcicsICdsb2FkaW5nSWNvblBsYWNlaG9sZGVyJywgJ2xvYWRpbmdJbmRpY2F0b3InLCAnbG9hZGluZ1Bvc2l0aW9uQ2VudGVyJywgJ2xvYWRpbmdQb3NpdGlvblN0YXJ0JywgJ2xvYWRpbmdQb3NpdGlvbkVuZCddKTtcbmV4cG9ydCBkZWZhdWx0IGJ1dHRvbkNsYXNzZXM7IiwKICAgICIndXNlIGNsaWVudCc7XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0Jztcbi8qKlxuICogQGlnbm9yZSAtIGludGVybmFsIGNvbXBvbmVudC5cbiAqL1xuY29uc3QgQnV0dG9uR3JvdXBDb250ZXh0ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUNvbnRleHQoe30pO1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgQnV0dG9uR3JvdXBDb250ZXh0LmRpc3BsYXlOYW1lID0gJ0J1dHRvbkdyb3VwQ29udGV4dCc7XG59XG5leHBvcnQgZGVmYXVsdCBCdXR0b25Hcm91cENvbnRleHQ7IiwKICAgICIndXNlIGNsaWVudCc7XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0Jztcbi8qKlxuICogQGlnbm9yZSAtIGludGVybmFsIGNvbXBvbmVudC5cbiAqL1xuY29uc3QgQnV0dG9uR3JvdXBCdXR0b25Db250ZXh0ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUNvbnRleHQodW5kZWZpbmVkKTtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIEJ1dHRvbkdyb3VwQnV0dG9uQ29udGV4dC5kaXNwbGF5TmFtZSA9ICdCdXR0b25Hcm91cEJ1dHRvbkNvbnRleHQnO1xufVxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uR3JvdXBCdXR0b25Db250ZXh0OyIsCiAgICAiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgY3JlYXRlQ29udGFpbmVyIH0gZnJvbSAnQG11aS9zeXN0ZW0nO1xuaW1wb3J0IGNhcGl0YWxpemUgZnJvbSBcIi4uL3V0aWxzL2NhcGl0YWxpemUuanNcIjtcbmltcG9ydCBzdHlsZWQgZnJvbSBcIi4uL3N0eWxlcy9zdHlsZWQuanNcIjtcbmltcG9ydCB7IHVzZURlZmF1bHRQcm9wcyB9IGZyb20gXCIuLi9EZWZhdWx0UHJvcHNQcm92aWRlci9pbmRleC5qc1wiO1xuY29uc3QgQ29udGFpbmVyID0gY3JlYXRlQ29udGFpbmVyKHtcbiAgY3JlYXRlU3R5bGVkQ29tcG9uZW50OiBzdHlsZWQoJ2RpdicsIHtcbiAgICBuYW1lOiAnTXVpQ29udGFpbmVyJyxcbiAgICBzbG90OiAnUm9vdCcsXG4gICAgb3ZlcnJpZGVzUmVzb2x2ZXI6IChwcm9wcywgc3R5bGVzKSA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIG93bmVyU3RhdGVcbiAgICAgIH0gPSBwcm9wcztcbiAgICAgIHJldHVybiBbc3R5bGVzLnJvb3QsIHN0eWxlc1tgbWF4V2lkdGgke2NhcGl0YWxpemUoU3RyaW5nKG93bmVyU3RhdGUubWF4V2lkdGgpKX1gXSwgb3duZXJTdGF0ZS5maXhlZCAmJiBzdHlsZXMuZml4ZWQsIG93bmVyU3RhdGUuZGlzYWJsZUd1dHRlcnMgJiYgc3R5bGVzLmRpc2FibGVHdXR0ZXJzXTtcbiAgICB9XG4gIH0pLFxuICB1c2VUaGVtZVByb3BzOiBpblByb3BzID0+IHVzZURlZmF1bHRQcm9wcyh7XG4gICAgcHJvcHM6IGluUHJvcHMsXG4gICAgbmFtZTogJ011aUNvbnRhaW5lcidcbiAgfSlcbn0pO1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gQ29udGFpbmVyLnByb3BUeXBlcyAvKiByZW1vdmUtcHJvcHR5cGVzICovID0ge1xuICAvLyDilIzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgV2FybmluZyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJBcbiAgLy8g4pSCIFRoZXNlIFByb3BUeXBlcyBhcmUgZ2VuZXJhdGVkIGZyb20gdGhlIFR5cGVTY3JpcHQgdHlwZSBkZWZpbml0aW9ucy4g4pSCXG4gIC8vIOKUgiAgICBUbyB1cGRhdGUgdGhlbSwgZWRpdCB0aGUgZC50cyBmaWxlIGFuZCBydW4gYHBucG0gcHJvcHR5cGVzYC4gICAgIOKUglxuICAvLyDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJhcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIG9yIGV4dGVuZCB0aGUgc3R5bGVzIGFwcGxpZWQgdG8gdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QsXG4gIC8qKlxuICAgKiBUaGUgY29tcG9uZW50IHVzZWQgZm9yIHRoZSByb290IG5vZGUuXG4gICAqIEVpdGhlciBhIHN0cmluZyB0byB1c2UgYSBIVE1MIGVsZW1lbnQgb3IgYSBjb21wb25lbnQuXG4gICAqL1xuICBjb21wb25lbnQ6IFByb3BUeXBlcy5lbGVtZW50VHlwZSxcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIGxlZnQgYW5kIHJpZ2h0IHBhZGRpbmcgaXMgcmVtb3ZlZC5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGRpc2FibGVHdXR0ZXJzOiBQcm9wVHlwZXMuYm9vbCxcbiAgLyoqXG4gICAqIFNldCB0aGUgbWF4LXdpZHRoIHRvIG1hdGNoIHRoZSBtaW4td2lkdGggb2YgdGhlIGN1cnJlbnQgYnJlYWtwb2ludC5cbiAgICogVGhpcyBpcyB1c2VmdWwgaWYgeW91J2QgcHJlZmVyIHRvIGRlc2lnbiBmb3IgYSBmaXhlZCBzZXQgb2Ygc2l6ZXNcbiAgICogaW5zdGVhZCBvZiB0cnlpbmcgdG8gYWNjb21tb2RhdGUgYSBmdWxseSBmbHVpZCB2aWV3cG9ydC5cbiAgICogSXQncyBmbHVpZCBieSBkZWZhdWx0LlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZml4ZWQ6IFByb3BUeXBlcy5ib29sLFxuICAvKipcbiAgICogRGV0ZXJtaW5lIHRoZSBtYXgtd2lkdGggb2YgdGhlIGNvbnRhaW5lci5cbiAgICogVGhlIGNvbnRhaW5lciB3aWR0aCBncm93cyB3aXRoIHRoZSBzaXplIG9mIHRoZSBzY3JlZW4uXG4gICAqIFNldCB0byBgZmFsc2VgIHRvIGRpc2FibGUgYG1heFdpZHRoYC5cbiAgICogQGRlZmF1bHQgJ2xnJ1xuICAgKi9cbiAgbWF4V2lkdGg6IFByb3BUeXBlcyAvKiBAdHlwZXNjcmlwdC10by1wcm9wdHlwZXMtaWdub3JlICovLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsneHMnLCAnc20nLCAnbWQnLCAnbGcnLCAneGwnLCBmYWxzZV0pLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gIC8qKlxuICAgKiBUaGUgc3lzdGVtIHByb3AgdGhhdCBhbGxvd3MgZGVmaW5pbmcgc3lzdGVtIG92ZXJyaWRlcyBhcyB3ZWxsIGFzIGFkZGl0aW9uYWwgQ1NTIHN0eWxlcy5cbiAgICovXG4gIHN4OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdCwgUHJvcFR5cGVzLmJvb2xdKSksIFByb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0XSlcbn0gOiB2b2lkIDA7XG5leHBvcnQgZGVmYXVsdCBDb250YWluZXI7IiwKICAgICIndXNlIGNsaWVudCc7XG5cbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBjcmVhdGVTdGFjayB9IGZyb20gJ0BtdWkvc3lzdGVtJztcbmltcG9ydCBzdHlsZWQgZnJvbSBcIi4uL3N0eWxlcy9zdHlsZWQuanNcIjtcbmltcG9ydCB7IHVzZURlZmF1bHRQcm9wcyB9IGZyb20gXCIuLi9EZWZhdWx0UHJvcHNQcm92aWRlci9pbmRleC5qc1wiO1xuY29uc3QgU3RhY2sgPSBjcmVhdGVTdGFjayh7XG4gIGNyZWF0ZVN0eWxlZENvbXBvbmVudDogc3R5bGVkKCdkaXYnLCB7XG4gICAgbmFtZTogJ011aVN0YWNrJyxcbiAgICBzbG90OiAnUm9vdCdcbiAgfSksXG4gIHVzZVRoZW1lUHJvcHM6IGluUHJvcHMgPT4gdXNlRGVmYXVsdFByb3BzKHtcbiAgICBwcm9wczogaW5Qcm9wcyxcbiAgICBuYW1lOiAnTXVpU3RhY2snXG4gIH0pXG59KTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFN0YWNrLnByb3BUeXBlcyAvKiByZW1vdmUtcHJvcHR5cGVzICovID0ge1xuICAvLyDilIzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgV2FybmluZyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJBcbiAgLy8g4pSCIFRoZXNlIFByb3BUeXBlcyBhcmUgZ2VuZXJhdGVkIGZyb20gdGhlIFR5cGVTY3JpcHQgdHlwZSBkZWZpbml0aW9ucy4g4pSCXG4gIC8vIOKUgiAgICBUbyB1cGRhdGUgdGhlbSwgZWRpdCB0aGUgZC50cyBmaWxlIGFuZCBydW4gYHBucG0gcHJvcHR5cGVzYC4gICAgIOKUglxuICAvLyDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJhcbiAgLyoqXG4gICAqIFRoZSBjb250ZW50IG9mIHRoZSBjb21wb25lbnQuXG4gICAqL1xuICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUsXG4gIC8qKlxuICAgKiBUaGUgY29tcG9uZW50IHVzZWQgZm9yIHRoZSByb290IG5vZGUuXG4gICAqIEVpdGhlciBhIHN0cmluZyB0byB1c2UgYSBIVE1MIGVsZW1lbnQgb3IgYSBjb21wb25lbnQuXG4gICAqL1xuICBjb21wb25lbnQ6IFByb3BUeXBlcy5lbGVtZW50VHlwZSxcbiAgLyoqXG4gICAqIERlZmluZXMgdGhlIGBmbGV4LWRpcmVjdGlvbmAgc3R5bGUgcHJvcGVydHkuXG4gICAqIEl0IGlzIGFwcGxpZWQgZm9yIGFsbCBzY3JlZW4gc2l6ZXMuXG4gICAqIEBkZWZhdWx0ICdjb2x1bW4nXG4gICAqL1xuICBkaXJlY3Rpb246IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ2NvbHVtbi1yZXZlcnNlJywgJ2NvbHVtbicsICdyb3ctcmV2ZXJzZScsICdyb3cnXSksIFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZihbJ2NvbHVtbi1yZXZlcnNlJywgJ2NvbHVtbicsICdyb3ctcmV2ZXJzZScsICdyb3cnXSkpLCBQcm9wVHlwZXMub2JqZWN0XSksXG4gIC8qKlxuICAgKiBBZGQgYW4gZWxlbWVudCBiZXR3ZWVuIGVhY2ggY2hpbGQuXG4gICAqL1xuICBkaXZpZGVyOiBQcm9wVHlwZXMubm9kZSxcbiAgLyoqXG4gICAqIERlZmluZXMgdGhlIHNwYWNlIGJldHdlZW4gaW1tZWRpYXRlIGNoaWxkcmVuLlxuICAgKiBAZGVmYXVsdCAwXG4gICAqL1xuICBzcGFjaW5nOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMuc3RyaW5nXSkpLCBQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMub2JqZWN0LCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gIC8qKlxuICAgKiBUaGUgc3lzdGVtIHByb3AsIHdoaWNoIGFsbG93cyBkZWZpbmluZyBzeXN0ZW0gb3ZlcnJpZGVzIGFzIHdlbGwgYXMgYWRkaXRpb25hbCBDU1Mgc3R5bGVzLlxuICAgKi9cbiAgc3g6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0LCBQcm9wVHlwZXMuYm9vbF0pKSwgUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3RdKSxcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIENTUyBmbGV4Ym94IGBnYXBgIGlzIHVzZWQgaW5zdGVhZCBvZiBhcHBseWluZyBgbWFyZ2luYCB0byBjaGlsZHJlbi5cbiAgICpcbiAgICogV2hpbGUgQ1NTIGBnYXBgIHJlbW92ZXMgdGhlIFtrbm93biBsaW1pdGF0aW9uc10oaHR0cHM6Ly9tdWkuY29tL2pveS11aS9yZWFjdC1zdGFjay8jbGltaXRhdGlvbnMpLFxuICAgKiBpdCBpcyBub3QgZnVsbHkgc3VwcG9ydGVkIGluIHNvbWUgYnJvd3NlcnMuIFdlIHJlY29tbWVuZCBjaGVja2luZyBodHRwczovL2Nhbml1c2UuY29tLz9zZWFyY2g9ZmxleCUyMGdhcCBiZWZvcmUgdXNpbmcgdGhpcyBmbGFnLlxuICAgKlxuICAgKiBUbyBlbmFibGUgdGhpcyBmbGFnIGdsb2JhbGx5LCBmb2xsb3cgdGhlIFt0aGVtZSdzIGRlZmF1bHQgcHJvcHNdKGh0dHBzOi8vbXVpLmNvbS9tYXRlcmlhbC11aS9jdXN0b21pemF0aW9uL3RoZW1lLWNvbXBvbmVudHMvI2RlZmF1bHQtcHJvcHMpIGNvbmZpZ3VyYXRpb24uXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICB1c2VGbGV4R2FwOiBQcm9wVHlwZXMuYm9vbFxufSA6IHZvaWQgMDtcbmV4cG9ydCBkZWZhdWx0IFN0YWNrOyIsCiAgICAiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xzeCBmcm9tICdjbHN4JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBUcmFuc2l0aW9uIH0gZnJvbSAncmVhY3QtdHJhbnNpdGlvbi1ncm91cCc7XG5pbXBvcnQgdXNlVGltZW91dCBmcm9tICdAbXVpL3V0aWxzL3VzZVRpbWVvdXQnO1xuaW1wb3J0IGVsZW1lbnRUeXBlQWNjZXB0aW5nUmVmIGZyb20gJ0BtdWkvdXRpbHMvZWxlbWVudFR5cGVBY2NlcHRpbmdSZWYnO1xuaW1wb3J0IGNvbXBvc2VDbGFzc2VzIGZyb20gJ0BtdWkvdXRpbHMvY29tcG9zZUNsYXNzZXMnO1xuaW1wb3J0IHsgc3R5bGVkLCB1c2VUaGVtZSB9IGZyb20gXCIuLi96ZXJvLXN0eWxlZC9pbmRleC5qc1wiO1xuaW1wb3J0IG1lbW9UaGVtZSBmcm9tIFwiLi4vdXRpbHMvbWVtb1RoZW1lLmpzXCI7XG5pbXBvcnQgeyB1c2VEZWZhdWx0UHJvcHMgfSBmcm9tIFwiLi4vRGVmYXVsdFByb3BzUHJvdmlkZXIvaW5kZXguanNcIjtcbmltcG9ydCB7IGR1cmF0aW9uIH0gZnJvbSBcIi4uL3N0eWxlcy9jcmVhdGVUcmFuc2l0aW9ucy5qc1wiO1xuaW1wb3J0IHsgZ2V0VHJhbnNpdGlvblByb3BzIH0gZnJvbSBcIi4uL3RyYW5zaXRpb25zL3V0aWxzLmpzXCI7XG5pbXBvcnQgeyB1c2VGb3JrUmVmIH0gZnJvbSBcIi4uL3V0aWxzL2luZGV4LmpzXCI7XG5pbXBvcnQgdXNlU2xvdCBmcm9tIFwiLi4vdXRpbHMvdXNlU2xvdC5qc1wiO1xuaW1wb3J0IHsgZ2V0Q29sbGFwc2VVdGlsaXR5Q2xhc3MgfSBmcm9tIFwiLi9jb2xsYXBzZUNsYXNzZXMuanNcIjtcbmltcG9ydCB7IGpzeCBhcyBfanN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5jb25zdCB1c2VVdGlsaXR5Q2xhc3NlcyA9IG93bmVyU3RhdGUgPT4ge1xuICBjb25zdCB7XG4gICAgb3JpZW50YXRpb24sXG4gICAgY2xhc3Nlc1xuICB9ID0gb3duZXJTdGF0ZTtcbiAgY29uc3Qgc2xvdHMgPSB7XG4gICAgcm9vdDogWydyb290JywgYCR7b3JpZW50YXRpb259YF0sXG4gICAgZW50ZXJlZDogWydlbnRlcmVkJ10sXG4gICAgaGlkZGVuOiBbJ2hpZGRlbiddLFxuICAgIHdyYXBwZXI6IFsnd3JhcHBlcicsIGAke29yaWVudGF0aW9ufWBdLFxuICAgIHdyYXBwZXJJbm5lcjogWyd3cmFwcGVySW5uZXInLCBgJHtvcmllbnRhdGlvbn1gXVxuICB9O1xuICByZXR1cm4gY29tcG9zZUNsYXNzZXMoc2xvdHMsIGdldENvbGxhcHNlVXRpbGl0eUNsYXNzLCBjbGFzc2VzKTtcbn07XG5jb25zdCBDb2xsYXBzZVJvb3QgPSBzdHlsZWQoJ2RpdicsIHtcbiAgbmFtZTogJ011aUNvbGxhcHNlJyxcbiAgc2xvdDogJ1Jvb3QnLFxuICBvdmVycmlkZXNSZXNvbHZlcjogKHByb3BzLCBzdHlsZXMpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBvd25lclN0YXRlXG4gICAgfSA9IHByb3BzO1xuICAgIHJldHVybiBbc3R5bGVzLnJvb3QsIHN0eWxlc1tvd25lclN0YXRlLm9yaWVudGF0aW9uXSwgb3duZXJTdGF0ZS5zdGF0ZSA9PT0gJ2VudGVyZWQnICYmIHN0eWxlcy5lbnRlcmVkLCBvd25lclN0YXRlLnN0YXRlID09PSAnZXhpdGVkJyAmJiAhb3duZXJTdGF0ZS5pbiAmJiBvd25lclN0YXRlLmNvbGxhcHNlZFNpemUgPT09ICcwcHgnICYmIHN0eWxlcy5oaWRkZW5dO1xuICB9XG59KShtZW1vVGhlbWUoKHtcbiAgdGhlbWVcbn0pID0+ICh7XG4gIGhlaWdodDogMCxcbiAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICB0cmFuc2l0aW9uOiB0aGVtZS50cmFuc2l0aW9ucy5jcmVhdGUoJ2hlaWdodCcpLFxuICB2YXJpYW50czogW3tcbiAgICBwcm9wczoge1xuICAgICAgb3JpZW50YXRpb246ICdob3Jpem9udGFsJ1xuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIGhlaWdodDogJ2F1dG8nLFxuICAgICAgd2lkdGg6IDAsXG4gICAgICB0cmFuc2l0aW9uOiB0aGVtZS50cmFuc2l0aW9ucy5jcmVhdGUoJ3dpZHRoJylcbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczoge1xuICAgICAgc3RhdGU6ICdlbnRlcmVkJ1xuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIGhlaWdodDogJ2F1dG8nLFxuICAgICAgb3ZlcmZsb3c6ICd2aXNpYmxlJ1xuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiB7XG4gICAgICBzdGF0ZTogJ2VudGVyZWQnLFxuICAgICAgb3JpZW50YXRpb246ICdob3Jpem9udGFsJ1xuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIHdpZHRoOiAnYXV0bydcbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczogKHtcbiAgICAgIG93bmVyU3RhdGVcbiAgICB9KSA9PiBvd25lclN0YXRlLnN0YXRlID09PSAnZXhpdGVkJyAmJiAhb3duZXJTdGF0ZS5pbiAmJiBvd25lclN0YXRlLmNvbGxhcHNlZFNpemUgPT09ICcwcHgnLFxuICAgIHN0eWxlOiB7XG4gICAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJ1xuICAgIH1cbiAgfV1cbn0pKSk7XG5jb25zdCBDb2xsYXBzZVdyYXBwZXIgPSBzdHlsZWQoJ2RpdicsIHtcbiAgbmFtZTogJ011aUNvbGxhcHNlJyxcbiAgc2xvdDogJ1dyYXBwZXInXG59KSh7XG4gIC8vIEhhY2sgdG8gZ2V0IGNoaWxkcmVuIHdpdGggYSBuZWdhdGl2ZSBtYXJnaW4gdG8gbm90IGZhbHNpZnkgdGhlIGhlaWdodCBjb21wdXRhdGlvbi5cbiAgZGlzcGxheTogJ2ZsZXgnLFxuICB3aWR0aDogJzEwMCUnLFxuICB2YXJpYW50czogW3tcbiAgICBwcm9wczoge1xuICAgICAgb3JpZW50YXRpb246ICdob3Jpem9udGFsJ1xuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIHdpZHRoOiAnYXV0bycsXG4gICAgICBoZWlnaHQ6ICcxMDAlJ1xuICAgIH1cbiAgfV1cbn0pO1xuY29uc3QgQ29sbGFwc2VXcmFwcGVySW5uZXIgPSBzdHlsZWQoJ2RpdicsIHtcbiAgbmFtZTogJ011aUNvbGxhcHNlJyxcbiAgc2xvdDogJ1dyYXBwZXJJbm5lcidcbn0pKHtcbiAgd2lkdGg6ICcxMDAlJyxcbiAgdmFyaWFudHM6IFt7XG4gICAgcHJvcHM6IHtcbiAgICAgIG9yaWVudGF0aW9uOiAnaG9yaXpvbnRhbCdcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICB3aWR0aDogJ2F1dG8nLFxuICAgICAgaGVpZ2h0OiAnMTAwJSdcbiAgICB9XG4gIH1dXG59KTtcblxuLyoqXG4gKiBUaGUgQ29sbGFwc2UgdHJhbnNpdGlvbiBpcyB1c2VkIGJ5IHRoZVxuICogW1ZlcnRpY2FsIFN0ZXBwZXJdKC9tYXRlcmlhbC11aS9yZWFjdC1zdGVwcGVyLyN2ZXJ0aWNhbC1zdGVwcGVyKSBTdGVwQ29udGVudCBjb21wb25lbnQuXG4gKiBJdCB1c2VzIFtyZWFjdC10cmFuc2l0aW9uLWdyb3VwXShodHRwczovL2dpdGh1Yi5jb20vcmVhY3Rqcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwKSBpbnRlcm5hbGx5LlxuICovXG5jb25zdCBDb2xsYXBzZSA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIENvbGxhcHNlKGluUHJvcHMsIHJlZikge1xuICBjb25zdCBwcm9wcyA9IHVzZURlZmF1bHRQcm9wcyh7XG4gICAgcHJvcHM6IGluUHJvcHMsXG4gICAgbmFtZTogJ011aUNvbGxhcHNlJ1xuICB9KTtcbiAgY29uc3Qge1xuICAgIGFkZEVuZExpc3RlbmVyLFxuICAgIGNoaWxkcmVuLFxuICAgIGNsYXNzTmFtZSxcbiAgICBjb2xsYXBzZWRTaXplOiBjb2xsYXBzZWRTaXplUHJvcCA9ICcwcHgnLFxuICAgIGNvbXBvbmVudCxcbiAgICBlYXNpbmcsXG4gICAgaW46IGluUHJvcCxcbiAgICBvbkVudGVyLFxuICAgIG9uRW50ZXJlZCxcbiAgICBvbkVudGVyaW5nLFxuICAgIG9uRXhpdCxcbiAgICBvbkV4aXRlZCxcbiAgICBvbkV4aXRpbmcsXG4gICAgb3JpZW50YXRpb24gPSAndmVydGljYWwnLFxuICAgIHNsb3RzID0ge30sXG4gICAgc2xvdFByb3BzID0ge30sXG4gICAgc3R5bGUsXG4gICAgdGltZW91dCA9IGR1cmF0aW9uLnN0YW5kYXJkLFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9wcm9wLXR5cGVzXG4gICAgVHJhbnNpdGlvbkNvbXBvbmVudCA9IFRyYW5zaXRpb24sXG4gICAgLi4ub3RoZXJcbiAgfSA9IHByb3BzO1xuICBjb25zdCBvd25lclN0YXRlID0ge1xuICAgIC4uLnByb3BzLFxuICAgIG9yaWVudGF0aW9uLFxuICAgIGNvbGxhcHNlZFNpemU6IGNvbGxhcHNlZFNpemVQcm9wXG4gIH07XG4gIGNvbnN0IGNsYXNzZXMgPSB1c2VVdGlsaXR5Q2xhc3Nlcyhvd25lclN0YXRlKTtcbiAgY29uc3QgdGhlbWUgPSB1c2VUaGVtZSgpO1xuICBjb25zdCB0aW1lciA9IHVzZVRpbWVvdXQoKTtcbiAgY29uc3Qgd3JhcHBlclJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgY29uc3QgYXV0b1RyYW5zaXRpb25EdXJhdGlvbiA9IFJlYWN0LnVzZVJlZigpO1xuICBjb25zdCBjb2xsYXBzZWRTaXplID0gdHlwZW9mIGNvbGxhcHNlZFNpemVQcm9wID09PSAnbnVtYmVyJyA/IGAke2NvbGxhcHNlZFNpemVQcm9wfXB4YCA6IGNvbGxhcHNlZFNpemVQcm9wO1xuICBjb25zdCBpc0hvcml6b250YWwgPSBvcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnO1xuICBjb25zdCBzaXplID0gaXNIb3Jpem9udGFsID8gJ3dpZHRoJyA6ICdoZWlnaHQnO1xuICBjb25zdCBub2RlUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICBjb25zdCBoYW5kbGVSZWYgPSB1c2VGb3JrUmVmKHJlZiwgbm9kZVJlZik7XG4gIGNvbnN0IG5vcm1hbGl6ZWRUcmFuc2l0aW9uQ2FsbGJhY2sgPSBjYWxsYmFjayA9PiBtYXliZUlzQXBwZWFyaW5nID0+IHtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIGNvbnN0IG5vZGUgPSBub2RlUmVmLmN1cnJlbnQ7XG5cbiAgICAgIC8vIG9uRW50ZXJYeHggYW5kIG9uRXhpdFh4eCBjYWxsYmFja3MgaGF2ZSBhIGRpZmZlcmVudCBhcmd1bWVudHMubGVuZ3RoIHZhbHVlLlxuICAgICAgaWYgKG1heWJlSXNBcHBlYXJpbmcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjYWxsYmFjayhub2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKG5vZGUsIG1heWJlSXNBcHBlYXJpbmcpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgZ2V0V3JhcHBlclNpemUgPSAoKSA9PiB3cmFwcGVyUmVmLmN1cnJlbnQgPyB3cmFwcGVyUmVmLmN1cnJlbnRbaXNIb3Jpem9udGFsID8gJ2NsaWVudFdpZHRoJyA6ICdjbGllbnRIZWlnaHQnXSA6IDA7XG4gIGNvbnN0IGhhbmRsZUVudGVyID0gbm9ybWFsaXplZFRyYW5zaXRpb25DYWxsYmFjaygobm9kZSwgaXNBcHBlYXJpbmcpID0+IHtcbiAgICBpZiAod3JhcHBlclJlZi5jdXJyZW50ICYmIGlzSG9yaXpvbnRhbCkge1xuICAgICAgLy8gU2V0IGFic29sdXRlIHBvc2l0aW9uIHRvIGdldCB0aGUgc2l6ZSBvZiBjb2xsYXBzZWQgY29udGVudFxuICAgICAgd3JhcHBlclJlZi5jdXJyZW50LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICB9XG4gICAgbm9kZS5zdHlsZVtzaXplXSA9IGNvbGxhcHNlZFNpemU7XG4gICAgaWYgKG9uRW50ZXIpIHtcbiAgICAgIG9uRW50ZXIobm9kZSwgaXNBcHBlYXJpbmcpO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IGhhbmRsZUVudGVyaW5nID0gbm9ybWFsaXplZFRyYW5zaXRpb25DYWxsYmFjaygobm9kZSwgaXNBcHBlYXJpbmcpID0+IHtcbiAgICBjb25zdCB3cmFwcGVyU2l6ZSA9IGdldFdyYXBwZXJTaXplKCk7XG4gICAgaWYgKHdyYXBwZXJSZWYuY3VycmVudCAmJiBpc0hvcml6b250YWwpIHtcbiAgICAgIC8vIEFmdGVyIHRoZSBzaXplIGlzIHJlYWQgcmVzZXQgdGhlIHBvc2l0aW9uIGJhY2sgdG8gZGVmYXVsdFxuICAgICAgd3JhcHBlclJlZi5jdXJyZW50LnN0eWxlLnBvc2l0aW9uID0gJyc7XG4gICAgfVxuICAgIGNvbnN0IHtcbiAgICAgIGR1cmF0aW9uOiB0cmFuc2l0aW9uRHVyYXRpb24sXG4gICAgICBlYXNpbmc6IHRyYW5zaXRpb25UaW1pbmdGdW5jdGlvblxuICAgIH0gPSBnZXRUcmFuc2l0aW9uUHJvcHMoe1xuICAgICAgc3R5bGUsXG4gICAgICB0aW1lb3V0LFxuICAgICAgZWFzaW5nXG4gICAgfSwge1xuICAgICAgbW9kZTogJ2VudGVyJ1xuICAgIH0pO1xuICAgIGlmICh0aW1lb3V0ID09PSAnYXV0bycpIHtcbiAgICAgIGNvbnN0IGR1cmF0aW9uMiA9IHRoZW1lLnRyYW5zaXRpb25zLmdldEF1dG9IZWlnaHREdXJhdGlvbih3cmFwcGVyU2l6ZSk7XG4gICAgICBub2RlLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IGAke2R1cmF0aW9uMn1tc2A7XG4gICAgICBhdXRvVHJhbnNpdGlvbkR1cmF0aW9uLmN1cnJlbnQgPSBkdXJhdGlvbjI7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vZGUuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gdHlwZW9mIHRyYW5zaXRpb25EdXJhdGlvbiA9PT0gJ3N0cmluZycgPyB0cmFuc2l0aW9uRHVyYXRpb24gOiBgJHt0cmFuc2l0aW9uRHVyYXRpb259bXNgO1xuICAgIH1cbiAgICBub2RlLnN0eWxlW3NpemVdID0gYCR7d3JhcHBlclNpemV9cHhgO1xuICAgIG5vZGUuc3R5bGUudHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uID0gdHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uO1xuICAgIGlmIChvbkVudGVyaW5nKSB7XG4gICAgICBvbkVudGVyaW5nKG5vZGUsIGlzQXBwZWFyaW5nKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBoYW5kbGVFbnRlcmVkID0gbm9ybWFsaXplZFRyYW5zaXRpb25DYWxsYmFjaygobm9kZSwgaXNBcHBlYXJpbmcpID0+IHtcbiAgICBub2RlLnN0eWxlW3NpemVdID0gJ2F1dG8nO1xuICAgIGlmIChvbkVudGVyZWQpIHtcbiAgICAgIG9uRW50ZXJlZChub2RlLCBpc0FwcGVhcmluZyk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgaGFuZGxlRXhpdCA9IG5vcm1hbGl6ZWRUcmFuc2l0aW9uQ2FsbGJhY2sobm9kZSA9PiB7XG4gICAgbm9kZS5zdHlsZVtzaXplXSA9IGAke2dldFdyYXBwZXJTaXplKCl9cHhgO1xuICAgIGlmIChvbkV4aXQpIHtcbiAgICAgIG9uRXhpdChub2RlKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBoYW5kbGVFeGl0ZWQgPSBub3JtYWxpemVkVHJhbnNpdGlvbkNhbGxiYWNrKG9uRXhpdGVkKTtcbiAgY29uc3QgaGFuZGxlRXhpdGluZyA9IG5vcm1hbGl6ZWRUcmFuc2l0aW9uQ2FsbGJhY2sobm9kZSA9PiB7XG4gICAgY29uc3Qgd3JhcHBlclNpemUgPSBnZXRXcmFwcGVyU2l6ZSgpO1xuICAgIGNvbnN0IHtcbiAgICAgIGR1cmF0aW9uOiB0cmFuc2l0aW9uRHVyYXRpb24sXG4gICAgICBlYXNpbmc6IHRyYW5zaXRpb25UaW1pbmdGdW5jdGlvblxuICAgIH0gPSBnZXRUcmFuc2l0aW9uUHJvcHMoe1xuICAgICAgc3R5bGUsXG4gICAgICB0aW1lb3V0LFxuICAgICAgZWFzaW5nXG4gICAgfSwge1xuICAgICAgbW9kZTogJ2V4aXQnXG4gICAgfSk7XG4gICAgaWYgKHRpbWVvdXQgPT09ICdhdXRvJykge1xuICAgICAgLy8gVE9ETzogcmVuYW1lIGdldEF1dG9IZWlnaHREdXJhdGlvbiB0byBzb21ldGhpbmcgbW9yZSBnZW5lcmljICh3aWR0aCBzdXBwb3J0KVxuICAgICAgLy8gQWN0dWFsbHkgaXQganVzdCBjYWxjdWxhdGVzIGFuaW1hdGlvbiBkdXJhdGlvbiBiYXNlZCBvbiBzaXplXG4gICAgICBjb25zdCBkdXJhdGlvbjIgPSB0aGVtZS50cmFuc2l0aW9ucy5nZXRBdXRvSGVpZ2h0RHVyYXRpb24od3JhcHBlclNpemUpO1xuICAgICAgbm9kZS5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBgJHtkdXJhdGlvbjJ9bXNgO1xuICAgICAgYXV0b1RyYW5zaXRpb25EdXJhdGlvbi5jdXJyZW50ID0gZHVyYXRpb24yO1xuICAgIH0gZWxzZSB7XG4gICAgICBub2RlLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IHR5cGVvZiB0cmFuc2l0aW9uRHVyYXRpb24gPT09ICdzdHJpbmcnID8gdHJhbnNpdGlvbkR1cmF0aW9uIDogYCR7dHJhbnNpdGlvbkR1cmF0aW9ufW1zYDtcbiAgICB9XG4gICAgbm9kZS5zdHlsZVtzaXplXSA9IGNvbGxhcHNlZFNpemU7XG4gICAgbm9kZS5zdHlsZS50cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24gPSB0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb247XG4gICAgaWYgKG9uRXhpdGluZykge1xuICAgICAgb25FeGl0aW5nKG5vZGUpO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IGhhbmRsZUFkZEVuZExpc3RlbmVyID0gbmV4dCA9PiB7XG4gICAgaWYgKHRpbWVvdXQgPT09ICdhdXRvJykge1xuICAgICAgdGltZXIuc3RhcnQoYXV0b1RyYW5zaXRpb25EdXJhdGlvbi5jdXJyZW50IHx8IDAsIG5leHQpO1xuICAgIH1cbiAgICBpZiAoYWRkRW5kTGlzdGVuZXIpIHtcbiAgICAgIC8vIE9sZCBjYWxsIHNpZ25hdHVyZSBiZWZvcmUgYHJlYWN0LXRyYW5zaXRpb24tZ3JvdXBgIGltcGxlbWVudGVkIGBub2RlUmVmYFxuICAgICAgYWRkRW5kTGlzdGVuZXIobm9kZVJlZi5jdXJyZW50LCBuZXh0KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGV4dGVybmFsRm9yd2FyZGVkUHJvcHMgPSB7XG4gICAgc2xvdHMsXG4gICAgc2xvdFByb3BzLFxuICAgIGNvbXBvbmVudFxuICB9O1xuICBjb25zdCBbUm9vdFNsb3QsIHJvb3RTbG90UHJvcHNdID0gdXNlU2xvdCgncm9vdCcsIHtcbiAgICByZWY6IGhhbmRsZVJlZixcbiAgICBjbGFzc05hbWU6IGNsc3goY2xhc3Nlcy5yb290LCBjbGFzc05hbWUpLFxuICAgIGVsZW1lbnRUeXBlOiBDb2xsYXBzZVJvb3QsXG4gICAgZXh0ZXJuYWxGb3J3YXJkZWRQcm9wcyxcbiAgICBvd25lclN0YXRlLFxuICAgIGFkZGl0aW9uYWxQcm9wczoge1xuICAgICAgc3R5bGU6IHtcbiAgICAgICAgW2lzSG9yaXpvbnRhbCA/ICdtaW5XaWR0aCcgOiAnbWluSGVpZ2h0J106IGNvbGxhcHNlZFNpemUsXG4gICAgICAgIC4uLnN0eWxlXG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgY29uc3QgW1dyYXBwZXJTbG90LCB3cmFwcGVyU2xvdFByb3BzXSA9IHVzZVNsb3QoJ3dyYXBwZXInLCB7XG4gICAgcmVmOiB3cmFwcGVyUmVmLFxuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy53cmFwcGVyLFxuICAgIGVsZW1lbnRUeXBlOiBDb2xsYXBzZVdyYXBwZXIsXG4gICAgZXh0ZXJuYWxGb3J3YXJkZWRQcm9wcyxcbiAgICBvd25lclN0YXRlXG4gIH0pO1xuICBjb25zdCBbV3JhcHBlcklubmVyU2xvdCwgd3JhcHBlcklubmVyU2xvdFByb3BzXSA9IHVzZVNsb3QoJ3dyYXBwZXJJbm5lcicsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMud3JhcHBlcklubmVyLFxuICAgIGVsZW1lbnRUeXBlOiBDb2xsYXBzZVdyYXBwZXJJbm5lcixcbiAgICBleHRlcm5hbEZvcndhcmRlZFByb3BzLFxuICAgIG93bmVyU3RhdGVcbiAgfSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeChUcmFuc2l0aW9uQ29tcG9uZW50LCB7XG4gICAgaW46IGluUHJvcCxcbiAgICBvbkVudGVyOiBoYW5kbGVFbnRlcixcbiAgICBvbkVudGVyZWQ6IGhhbmRsZUVudGVyZWQsXG4gICAgb25FbnRlcmluZzogaGFuZGxlRW50ZXJpbmcsXG4gICAgb25FeGl0OiBoYW5kbGVFeGl0LFxuICAgIG9uRXhpdGVkOiBoYW5kbGVFeGl0ZWQsXG4gICAgb25FeGl0aW5nOiBoYW5kbGVFeGl0aW5nLFxuICAgIGFkZEVuZExpc3RlbmVyOiBoYW5kbGVBZGRFbmRMaXN0ZW5lcixcbiAgICBub2RlUmVmOiBub2RlUmVmLFxuICAgIHRpbWVvdXQ6IHRpbWVvdXQgPT09ICdhdXRvJyA/IG51bGwgOiB0aW1lb3V0LFxuICAgIC4uLm90aGVyLFxuICAgIGNoaWxkcmVuOiAoc3RhdGUsIHtcbiAgICAgIG93bmVyU3RhdGU6IGluY29taW5nT3duZXJTdGF0ZSxcbiAgICAgIC4uLnJlc3RDaGlsZFByb3BzXG4gICAgfSkgPT4ge1xuICAgICAgY29uc3Qgc3RhdGVPd25lclN0YXRlID0ge1xuICAgICAgICAuLi5vd25lclN0YXRlLFxuICAgICAgICBzdGF0ZVxuICAgICAgfTtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeChSb290U2xvdCwge1xuICAgICAgICAuLi5yb290U2xvdFByb3BzLFxuICAgICAgICBjbGFzc05hbWU6IGNsc3gocm9vdFNsb3RQcm9wcy5jbGFzc05hbWUsIHtcbiAgICAgICAgICAnZW50ZXJlZCc6IGNsYXNzZXMuZW50ZXJlZCxcbiAgICAgICAgICAnZXhpdGVkJzogIWluUHJvcCAmJiBjb2xsYXBzZWRTaXplID09PSAnMHB4JyAmJiBjbGFzc2VzLmhpZGRlblxuICAgICAgICB9W3N0YXRlXSksXG4gICAgICAgIG93bmVyU3RhdGU6IHN0YXRlT3duZXJTdGF0ZSxcbiAgICAgICAgLi4ucmVzdENoaWxkUHJvcHMsXG4gICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChXcmFwcGVyU2xvdCwge1xuICAgICAgICAgIC4uLndyYXBwZXJTbG90UHJvcHMsXG4gICAgICAgICAgb3duZXJTdGF0ZTogc3RhdGVPd25lclN0YXRlLFxuICAgICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChXcmFwcGVySW5uZXJTbG90LCB7XG4gICAgICAgICAgICAuLi53cmFwcGVySW5uZXJTbG90UHJvcHMsXG4gICAgICAgICAgICBvd25lclN0YXRlOiBzdGF0ZU93bmVyU3RhdGUsXG4gICAgICAgICAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn0pO1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gQ29sbGFwc2UucHJvcFR5cGVzIC8qIHJlbW92ZS1wcm9wdHlwZXMgKi8gPSB7XG4gIC8vIOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBXYXJuaW5nIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuICAvLyDilIIgVGhlc2UgUHJvcFR5cGVzIGFyZSBnZW5lcmF0ZWQgZnJvbSB0aGUgVHlwZVNjcmlwdCB0eXBlIGRlZmluaXRpb25zLiDilIJcbiAgLy8g4pSCICAgIFRvIHVwZGF0ZSB0aGVtLCBlZGl0IHRoZSBkLnRzIGZpbGUgYW5kIHJ1biBgcG5wbSBwcm9wdHlwZXNgLiAgICAg4pSCXG4gIC8vIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmFxuICAvKipcbiAgICogQWRkIGEgY3VzdG9tIHRyYW5zaXRpb24gZW5kIHRyaWdnZXIuIENhbGxlZCB3aXRoIHRoZSB0cmFuc2l0aW9uaW5nIERPTVxuICAgKiBub2RlIGFuZCBhIGRvbmUgY2FsbGJhY2suIEFsbG93cyBmb3IgbW9yZSBmaW5lIGdyYWluZWQgdHJhbnNpdGlvbiBlbmRcbiAgICogbG9naWMuIE5vdGU6IFRpbWVvdXRzIGFyZSBzdGlsbCB1c2VkIGFzIGEgZmFsbGJhY2sgaWYgcHJvdmlkZWQuXG4gICAqL1xuICBhZGRFbmRMaXN0ZW5lcjogUHJvcFR5cGVzLmZ1bmMsXG4gIC8qKlxuICAgKiBUaGUgY29udGVudCBub2RlIHRvIGJlIGNvbGxhcHNlZC5cbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIG9yIGV4dGVuZCB0aGUgc3R5bGVzIGFwcGxpZWQgdG8gdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIC8qKlxuICAgKiBUaGUgd2lkdGggKGhvcml6b250YWwpIG9yIGhlaWdodCAodmVydGljYWwpIG9mIHRoZSBjb250YWluZXIgd2hlbiBjb2xsYXBzZWQuXG4gICAqIEBkZWZhdWx0ICcwcHgnXG4gICAqL1xuICBjb2xsYXBzZWRTaXplOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gIC8qKlxuICAgKiBUaGUgY29tcG9uZW50IHVzZWQgZm9yIHRoZSByb290IG5vZGUuXG4gICAqIEVpdGhlciBhIHN0cmluZyB0byB1c2UgYSBIVE1MIGVsZW1lbnQgb3IgYSBjb21wb25lbnQuXG4gICAqL1xuICBjb21wb25lbnQ6IGVsZW1lbnRUeXBlQWNjZXB0aW5nUmVmLFxuICAvKipcbiAgICogVGhlIHRyYW5zaXRpb24gdGltaW5nIGZ1bmN0aW9uLlxuICAgKiBZb3UgbWF5IHNwZWNpZnkgYSBzaW5nbGUgZWFzaW5nIG9yIGEgb2JqZWN0IGNvbnRhaW5pbmcgZW50ZXIgYW5kIGV4aXQgdmFsdWVzLlxuICAgKi9cbiAgZWFzaW5nOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc2hhcGUoe1xuICAgIGVudGVyOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGV4aXQ6IFByb3BUeXBlcy5zdHJpbmdcbiAgfSksIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIGNvbXBvbmVudCB3aWxsIHRyYW5zaXRpb24gaW4uXG4gICAqL1xuICBpbjogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBvbkVudGVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIG9uRW50ZXJlZDogUHJvcFR5cGVzLmZ1bmMsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBvbkVudGVyaW5nOiBQcm9wVHlwZXMuZnVuYyxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIG9uRXhpdDogUHJvcFR5cGVzLmZ1bmMsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBvbkV4aXRlZDogUHJvcFR5cGVzLmZ1bmMsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBvbkV4aXRpbmc6IFByb3BUeXBlcy5mdW5jLFxuICAvKipcbiAgICogVGhlIHRyYW5zaXRpb24gb3JpZW50YXRpb24uXG4gICAqIEBkZWZhdWx0ICd2ZXJ0aWNhbCdcbiAgICovXG4gIG9yaWVudGF0aW9uOiBQcm9wVHlwZXMub25lT2YoWydob3Jpem9udGFsJywgJ3ZlcnRpY2FsJ10pLFxuICAvKipcbiAgICogVGhlIHByb3BzIHVzZWQgZm9yIGVhY2ggc2xvdCBpbnNpZGUuXG4gICAqIEBkZWZhdWx0IHt9XG4gICAqL1xuICBzbG90UHJvcHM6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgcm9vdDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3RdKSxcbiAgICB3cmFwcGVyOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdF0pLFxuICAgIHdyYXBwZXJJbm5lcjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3RdKVxuICB9KSxcbiAgLyoqXG4gICAqIFRoZSBjb21wb25lbnRzIHVzZWQgZm9yIGVhY2ggc2xvdCBpbnNpZGUuXG4gICAqIEBkZWZhdWx0IHt9XG4gICAqL1xuICBzbG90czogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICByb290OiBQcm9wVHlwZXMuZWxlbWVudFR5cGUsXG4gICAgd3JhcHBlcjogUHJvcFR5cGVzLmVsZW1lbnRUeXBlLFxuICAgIHdyYXBwZXJJbm5lcjogUHJvcFR5cGVzLmVsZW1lbnRUeXBlXG4gIH0pLFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgc3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG4gIC8qKlxuICAgKiBUaGUgc3lzdGVtIHByb3AgdGhhdCBhbGxvd3MgZGVmaW5pbmcgc3lzdGVtIG92ZXJyaWRlcyBhcyB3ZWxsIGFzIGFkZGl0aW9uYWwgQ1NTIHN0eWxlcy5cbiAgICovXG4gIHN4OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdCwgUHJvcFR5cGVzLmJvb2xdKSksIFByb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0XSksXG4gIC8qKlxuICAgKiBUaGUgZHVyYXRpb24gZm9yIHRoZSB0cmFuc2l0aW9uLCBpbiBtaWxsaXNlY29uZHMuXG4gICAqIFlvdSBtYXkgc3BlY2lmeSBhIHNpbmdsZSB0aW1lb3V0IGZvciBhbGwgdHJhbnNpdGlvbnMsIG9yIGluZGl2aWR1YWxseSB3aXRoIGFuIG9iamVjdC5cbiAgICpcbiAgICogU2V0IHRvICdhdXRvJyB0byBhdXRvbWF0aWNhbGx5IGNhbGN1bGF0ZSB0cmFuc2l0aW9uIHRpbWUgYmFzZWQgb24gaGVpZ2h0LlxuICAgKiBAZGVmYXVsdCBkdXJhdGlvbi5zdGFuZGFyZFxuICAgKi9cbiAgdGltZW91dDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnYXV0byddKSwgUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBhcHBlYXI6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgZW50ZXI6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgZXhpdDogUHJvcFR5cGVzLm51bWJlclxuICB9KV0pXG59IDogdm9pZCAwO1xuaWYgKENvbGxhcHNlKSB7XG4gIENvbGxhcHNlLm11aVN1cHBvcnRBdXRvID0gdHJ1ZTtcbn1cbmV4cG9ydCBkZWZhdWx0IENvbGxhcHNlOyIsCiAgICAiZXhwb3J0IGNvbnN0IHJlZmxvdyA9IG5vZGUgPT4gbm9kZS5zY3JvbGxUb3A7XG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJhbnNpdGlvblByb3BzKHByb3BzLCBvcHRpb25zKSB7XG4gIGNvbnN0IHtcbiAgICB0aW1lb3V0LFxuICAgIGVhc2luZyxcbiAgICBzdHlsZSA9IHt9XG4gIH0gPSBwcm9wcztcbiAgcmV0dXJuIHtcbiAgICBkdXJhdGlvbjogc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID8/ICh0eXBlb2YgdGltZW91dCA9PT0gJ251bWJlcicgPyB0aW1lb3V0IDogdGltZW91dFtvcHRpb25zLm1vZGVdIHx8IDApLFxuICAgIGVhc2luZzogc3R5bGUudHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uID8/ICh0eXBlb2YgZWFzaW5nID09PSAnb2JqZWN0JyA/IGVhc2luZ1tvcHRpb25zLm1vZGVdIDogZWFzaW5nKSxcbiAgICBkZWxheTogc3R5bGUudHJhbnNpdGlvbkRlbGF5XG4gIH07XG59IiwKICAgICIvKipcbiAqIERldGVybWluZXMgaWYgYSBnaXZlbiBlbGVtZW50IGlzIGEgRE9NIGVsZW1lbnQgbmFtZSAoaS5lLiBub3QgYSBSZWFjdCBjb21wb25lbnQpLlxuICovXG5mdW5jdGlvbiBpc0hvc3RDb21wb25lbnQoZWxlbWVudCkge1xuICByZXR1cm4gdHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnO1xufVxuZXhwb3J0IGRlZmF1bHQgaXNIb3N0Q29tcG9uZW50OyIsCiAgICAiaW1wb3J0IGlzSG9zdENvbXBvbmVudCBmcm9tIFwiLi4vaXNIb3N0Q29tcG9uZW50L2luZGV4LmpzXCI7XG5cbi8qKlxuICogVHlwZSBvZiB0aGUgb3duZXJTdGF0ZSBiYXNlZCBvbiB0aGUgdHlwZSBvZiBhbiBlbGVtZW50IGl0IGFwcGxpZXMgdG8uXG4gKiBUaGlzIHJlc29sdmVzIHRvIHRoZSBwcm92aWRlZCBPd25lclN0YXRlIGZvciBSZWFjdCBjb21wb25lbnRzIGFuZCBgdW5kZWZpbmVkYCBmb3IgaG9zdCBjb21wb25lbnRzLlxuICogRmFsbHMgYmFjayB0byBgT3duZXJTdGF0ZSB8IHVuZGVmaW5lZGAgd2hlbiB0aGUgZXhhY3QgdHlwZSBjYW4ndCBiZSBkZXRlcm1pbmVkIGluIGRldmVsb3BtZW50IHRpbWUuXG4gKi9cblxuLyoqXG4gKiBBcHBlbmRzIHRoZSBvd25lclN0YXRlIG9iamVjdCB0byB0aGUgcHJvcHMsIG1lcmdpbmcgd2l0aCB0aGUgZXhpc3Rpbmcgb25lIGlmIG5lY2Vzc2FyeS5cbiAqXG4gKiBAcGFyYW0gZWxlbWVudFR5cGUgVHlwZSBvZiB0aGUgZWxlbWVudCB0aGF0IG93bnMgdGhlIGBleGlzdGluZ1Byb3BzYC4gSWYgdGhlIGVsZW1lbnQgaXMgYSBET00gbm9kZSBvciB1bmRlZmluZWQsIGBvd25lclN0YXRlYCBpcyBub3QgYXBwbGllZC5cbiAqIEBwYXJhbSBvdGhlclByb3BzIFByb3BzIG9mIHRoZSBlbGVtZW50LlxuICogQHBhcmFtIG93bmVyU3RhdGVcbiAqL1xuZnVuY3Rpb24gYXBwZW5kT3duZXJTdGF0ZShlbGVtZW50VHlwZSwgb3RoZXJQcm9wcywgb3duZXJTdGF0ZSkge1xuICBpZiAoZWxlbWVudFR5cGUgPT09IHVuZGVmaW5lZCB8fCBpc0hvc3RDb21wb25lbnQoZWxlbWVudFR5cGUpKSB7XG4gICAgcmV0dXJuIG90aGVyUHJvcHM7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICAuLi5vdGhlclByb3BzLFxuICAgIG93bmVyU3RhdGU6IHtcbiAgICAgIC4uLm90aGVyUHJvcHMub3duZXJTdGF0ZSxcbiAgICAgIC4uLm93bmVyU3RhdGVcbiAgICB9XG4gIH07XG59XG5leHBvcnQgZGVmYXVsdCBhcHBlbmRPd25lclN0YXRlOyIsCiAgICAiLyoqXG4gKiBJZiBgY29tcG9uZW50UHJvcHNgIGlzIGEgZnVuY3Rpb24sIGNhbGxzIGl0IHdpdGggdGhlIHByb3ZpZGVkIGBvd25lclN0YXRlYC5cbiAqIE90aGVyd2lzZSwganVzdCByZXR1cm5zIGBjb21wb25lbnRQcm9wc2AuXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVDb21wb25lbnRQcm9wcyhjb21wb25lbnRQcm9wcywgb3duZXJTdGF0ZSwgc2xvdFN0YXRlKSB7XG4gIGlmICh0eXBlb2YgY29tcG9uZW50UHJvcHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gY29tcG9uZW50UHJvcHMob3duZXJTdGF0ZSwgc2xvdFN0YXRlKTtcbiAgfVxuICByZXR1cm4gY29tcG9uZW50UHJvcHM7XG59XG5leHBvcnQgZGVmYXVsdCByZXNvbHZlQ29tcG9uZW50UHJvcHM7IiwKICAgICIvKipcbiAqIEV4dHJhY3RzIGV2ZW50IGhhbmRsZXJzIGZyb20gYSBnaXZlbiBvYmplY3QuXG4gKiBBIHByb3AgaXMgY29uc2lkZXJlZCBhbiBldmVudCBoYW5kbGVyIGlmIGl0IGlzIGEgZnVuY3Rpb24gYW5kIGl0cyBuYW1lIHN0YXJ0cyB3aXRoIGBvbmAuXG4gKlxuICogQHBhcmFtIG9iamVjdCBBbiBvYmplY3QgdG8gZXh0cmFjdCBldmVudCBoYW5kbGVycyBmcm9tLlxuICogQHBhcmFtIGV4Y2x1ZGVLZXlzIEFuIGFycmF5IG9mIGtleXMgdG8gZXhjbHVkZSBmcm9tIHRoZSByZXR1cm5lZCBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIGV4dHJhY3RFdmVudEhhbmRsZXJzKG9iamVjdCwgZXhjbHVkZUtleXMgPSBbXSkge1xuICBpZiAob2JqZWN0ID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbiAgY29uc3QgcmVzdWx0ID0ge307XG4gIE9iamVjdC5rZXlzKG9iamVjdCkuZmlsdGVyKHByb3AgPT4gcHJvcC5tYXRjaCgvXm9uW0EtWl0vKSAmJiB0eXBlb2Ygb2JqZWN0W3Byb3BdID09PSAnZnVuY3Rpb24nICYmICFleGNsdWRlS2V5cy5pbmNsdWRlcyhwcm9wKSkuZm9yRWFjaChwcm9wID0+IHtcbiAgICByZXN1bHRbcHJvcF0gPSBvYmplY3RbcHJvcF07XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGRlZmF1bHQgZXh0cmFjdEV2ZW50SGFuZGxlcnM7IiwKICAgICIvKipcbiAqIFJlbW92ZXMgZXZlbnQgaGFuZGxlcnMgZnJvbSB0aGUgZ2l2ZW4gb2JqZWN0LlxuICogQSBmaWVsZCBpcyBjb25zaWRlcmVkIGFuIGV2ZW50IGhhbmRsZXIgaWYgaXQgaXMgYSBmdW5jdGlvbiB3aXRoIGEgbmFtZSBiZWdpbm5pbmcgd2l0aCBgb25gLlxuICpcbiAqIEBwYXJhbSBvYmplY3QgT2JqZWN0IHRvIHJlbW92ZSBldmVudCBoYW5kbGVycyBmcm9tLlxuICogQHJldHVybnMgT2JqZWN0IHdpdGggZXZlbnQgaGFuZGxlcnMgcmVtb3ZlZC5cbiAqL1xuZnVuY3Rpb24gb21pdEV2ZW50SGFuZGxlcnMob2JqZWN0KSB7XG4gIGlmIChvYmplY3QgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB7fTtcbiAgfVxuICBjb25zdCByZXN1bHQgPSB7fTtcbiAgT2JqZWN0LmtleXMob2JqZWN0KS5maWx0ZXIocHJvcCA9PiAhKHByb3AubWF0Y2goL15vbltBLVpdLykgJiYgdHlwZW9mIG9iamVjdFtwcm9wXSA9PT0gJ2Z1bmN0aW9uJykpLmZvckVhY2gocHJvcCA9PiB7XG4gICAgcmVzdWx0W3Byb3BdID0gb2JqZWN0W3Byb3BdO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBkZWZhdWx0IG9taXRFdmVudEhhbmRsZXJzOyIsCiAgICAiaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgZXh0cmFjdEV2ZW50SGFuZGxlcnMgZnJvbSBcIi4uL2V4dHJhY3RFdmVudEhhbmRsZXJzL2luZGV4LmpzXCI7XG5pbXBvcnQgb21pdEV2ZW50SGFuZGxlcnMgZnJvbSBcIi4uL29taXRFdmVudEhhbmRsZXJzL2luZGV4LmpzXCI7XG4vKipcbiAqIE1lcmdlcyB0aGUgc2xvdCBjb21wb25lbnQgaW50ZXJuYWwgcHJvcHMgKHVzdWFsbHkgY29taW5nIGZyb20gYSBob29rKVxuICogd2l0aCB0aGUgZXh0ZXJuYWxseSBwcm92aWRlZCBvbmVzLlxuICpcbiAqIFRoZSBtZXJnZSBvcmRlciBpcyAodGhlIGxhdHRlciBvdmVycmlkZXMgdGhlIGZvcm1lcik6XG4gKiAxLiBUaGUgaW50ZXJuYWwgcHJvcHMgKHNwZWNpZmllZCBhcyBhIGdldHRlciBmdW5jdGlvbiB0byB3b3JrIHdpdGggZ2V0KlByb3BzIGhvb2sgcmVzdWx0KVxuICogMi4gQWRkaXRpb25hbCBwcm9wcyAoc3BlY2lmaWVkIGludGVybmFsbHkgb24gYSBCYXNlIFVJIGNvbXBvbmVudClcbiAqIDMuIEV4dGVybmFsIHByb3BzIHNwZWNpZmllZCBvbiB0aGUgb3duZXIgY29tcG9uZW50LiBUaGVzZSBzaG91bGQgb25seSBiZSB1c2VkIG9uIGEgcm9vdCBzbG90LlxuICogNC4gRXh0ZXJuYWwgcHJvcHMgc3BlY2lmaWVkIGluIHRoZSBgc2xvdFByb3BzLipgIHByb3AuXG4gKiA1LiBUaGUgYGNsYXNzTmFtZWAgcHJvcCAtIGNvbWJpbmVkIGZyb20gYWxsIHRoZSBhYm92ZS5cbiAqIEBwYXJhbSBwYXJhbWV0ZXJzXG4gKiBAcmV0dXJuc1xuICovXG5mdW5jdGlvbiBtZXJnZVNsb3RQcm9wcyhwYXJhbWV0ZXJzKSB7XG4gIGNvbnN0IHtcbiAgICBnZXRTbG90UHJvcHMsXG4gICAgYWRkaXRpb25hbFByb3BzLFxuICAgIGV4dGVybmFsU2xvdFByb3BzLFxuICAgIGV4dGVybmFsRm9yd2FyZGVkUHJvcHMsXG4gICAgY2xhc3NOYW1lXG4gIH0gPSBwYXJhbWV0ZXJzO1xuICBpZiAoIWdldFNsb3RQcm9wcykge1xuICAgIC8vIFRoZSBzaW1wbGVyIGNhc2UgLSBnZXRTbG90UHJvcHMgaXMgbm90IGRlZmluZWQsIHNvIG5vIGludGVybmFsIGV2ZW50IGhhbmRsZXJzIGFyZSBkZWZpbmVkLFxuICAgIC8vIHNvIHdlIGNhbiBzaW1wbHkgbWVyZ2UgYWxsIHRoZSBwcm9wcyB3aXRob3V0IGhhdmluZyB0byB3b3JyeSBhYm91dCBleHRyYWN0aW5nIGV2ZW50IGhhbmRsZXJzLlxuICAgIGNvbnN0IGpvaW5lZENsYXNzZXMgPSBjbHN4KGFkZGl0aW9uYWxQcm9wcz8uY2xhc3NOYW1lLCBjbGFzc05hbWUsIGV4dGVybmFsRm9yd2FyZGVkUHJvcHM/LmNsYXNzTmFtZSwgZXh0ZXJuYWxTbG90UHJvcHM/LmNsYXNzTmFtZSk7XG4gICAgY29uc3QgbWVyZ2VkU3R5bGUgPSB7XG4gICAgICAuLi5hZGRpdGlvbmFsUHJvcHM/LnN0eWxlLFxuICAgICAgLi4uZXh0ZXJuYWxGb3J3YXJkZWRQcm9wcz8uc3R5bGUsXG4gICAgICAuLi5leHRlcm5hbFNsb3RQcm9wcz8uc3R5bGVcbiAgICB9O1xuICAgIGNvbnN0IHByb3BzID0ge1xuICAgICAgLi4uYWRkaXRpb25hbFByb3BzLFxuICAgICAgLi4uZXh0ZXJuYWxGb3J3YXJkZWRQcm9wcyxcbiAgICAgIC4uLmV4dGVybmFsU2xvdFByb3BzXG4gICAgfTtcbiAgICBpZiAoam9pbmVkQ2xhc3Nlcy5sZW5ndGggPiAwKSB7XG4gICAgICBwcm9wcy5jbGFzc05hbWUgPSBqb2luZWRDbGFzc2VzO1xuICAgIH1cbiAgICBpZiAoT2JqZWN0LmtleXMobWVyZ2VkU3R5bGUpLmxlbmd0aCA+IDApIHtcbiAgICAgIHByb3BzLnN0eWxlID0gbWVyZ2VkU3R5bGU7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBwcm9wcyxcbiAgICAgIGludGVybmFsUmVmOiB1bmRlZmluZWRcbiAgICB9O1xuICB9XG5cbiAgLy8gSW4gdGhpcyBjYXNlLCBnZXRTbG90UHJvcHMgaXMgcmVzcG9uc2libGUgZm9yIGNhbGxpbmcgdGhlIGV4dGVybmFsIGV2ZW50IGhhbmRsZXJzLlxuICAvLyBXZSBkb24ndCBuZWVkIHRvIGluY2x1ZGUgdGhlbSBpbiB0aGUgbWVyZ2VkIHByb3BzIGJlY2F1c2Ugb2YgdGhpcy5cblxuICBjb25zdCBldmVudEhhbmRsZXJzID0gZXh0cmFjdEV2ZW50SGFuZGxlcnMoe1xuICAgIC4uLmV4dGVybmFsRm9yd2FyZGVkUHJvcHMsXG4gICAgLi4uZXh0ZXJuYWxTbG90UHJvcHNcbiAgfSk7XG4gIGNvbnN0IGNvbXBvbmVudHNQcm9wc1dpdGhvdXRFdmVudEhhbmRsZXJzID0gb21pdEV2ZW50SGFuZGxlcnMoZXh0ZXJuYWxTbG90UHJvcHMpO1xuICBjb25zdCBvdGhlclByb3BzV2l0aG91dEV2ZW50SGFuZGxlcnMgPSBvbWl0RXZlbnRIYW5kbGVycyhleHRlcm5hbEZvcndhcmRlZFByb3BzKTtcbiAgY29uc3QgaW50ZXJuYWxTbG90UHJvcHMgPSBnZXRTbG90UHJvcHMoZXZlbnRIYW5kbGVycyk7XG5cbiAgLy8gVGhlIG9yZGVyIG9mIGNsYXNzZXMgaXMgaW1wb3J0YW50IGhlcmUuXG4gIC8vIEVtb3Rpb24gKHRoYXQgd2UgdXNlIGluIGxpYnJhcmllcyBjb25zdW1pbmcgQmFzZSBVSSkgZGVwZW5kcyBvbiB0aGlzIG9yZGVyXG4gIC8vIHRvIHByb3Blcmx5IG92ZXJyaWRlIHN0eWxlLiBJdCByZXF1aXJlcyB0aGUgbW9zdCBpbXBvcnRhbnQgY2xhc3NlcyB0byBiZSBsYXN0XG4gIC8vIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL211aS9tYXRlcmlhbC11aS9wdWxsLzMzMjA1KSBmb3IgdGhlIHJlbGF0ZWQgZGlzY3Vzc2lvbi5cbiAgY29uc3Qgam9pbmVkQ2xhc3NlcyA9IGNsc3goaW50ZXJuYWxTbG90UHJvcHM/LmNsYXNzTmFtZSwgYWRkaXRpb25hbFByb3BzPy5jbGFzc05hbWUsIGNsYXNzTmFtZSwgZXh0ZXJuYWxGb3J3YXJkZWRQcm9wcz8uY2xhc3NOYW1lLCBleHRlcm5hbFNsb3RQcm9wcz8uY2xhc3NOYW1lKTtcbiAgY29uc3QgbWVyZ2VkU3R5bGUgPSB7XG4gICAgLi4uaW50ZXJuYWxTbG90UHJvcHM/LnN0eWxlLFxuICAgIC4uLmFkZGl0aW9uYWxQcm9wcz8uc3R5bGUsXG4gICAgLi4uZXh0ZXJuYWxGb3J3YXJkZWRQcm9wcz8uc3R5bGUsXG4gICAgLi4uZXh0ZXJuYWxTbG90UHJvcHM/LnN0eWxlXG4gIH07XG4gIGNvbnN0IHByb3BzID0ge1xuICAgIC4uLmludGVybmFsU2xvdFByb3BzLFxuICAgIC4uLmFkZGl0aW9uYWxQcm9wcyxcbiAgICAuLi5vdGhlclByb3BzV2l0aG91dEV2ZW50SGFuZGxlcnMsXG4gICAgLi4uY29tcG9uZW50c1Byb3BzV2l0aG91dEV2ZW50SGFuZGxlcnNcbiAgfTtcbiAgaWYgKGpvaW5lZENsYXNzZXMubGVuZ3RoID4gMCkge1xuICAgIHByb3BzLmNsYXNzTmFtZSA9IGpvaW5lZENsYXNzZXM7XG4gIH1cbiAgaWYgKE9iamVjdC5rZXlzKG1lcmdlZFN0eWxlKS5sZW5ndGggPiAwKSB7XG4gICAgcHJvcHMuc3R5bGUgPSBtZXJnZWRTdHlsZTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHByb3BzLFxuICAgIGludGVybmFsUmVmOiBpbnRlcm5hbFNsb3RQcm9wcy5yZWZcbiAgfTtcbn1cbmV4cG9ydCBkZWZhdWx0IG1lcmdlU2xvdFByb3BzOyIsCiAgICAiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgdXNlRm9ya1JlZiBmcm9tICdAbXVpL3V0aWxzL3VzZUZvcmtSZWYnO1xuaW1wb3J0IGFwcGVuZE93bmVyU3RhdGUgZnJvbSAnQG11aS91dGlscy9hcHBlbmRPd25lclN0YXRlJztcbmltcG9ydCByZXNvbHZlQ29tcG9uZW50UHJvcHMgZnJvbSAnQG11aS91dGlscy9yZXNvbHZlQ29tcG9uZW50UHJvcHMnO1xuaW1wb3J0IG1lcmdlU2xvdFByb3BzIGZyb20gJ0BtdWkvdXRpbHMvbWVyZ2VTbG90UHJvcHMnO1xuLyoqXG4gKiBBbiBpbnRlcm5hbCBmdW5jdGlvbiB0byBjcmVhdGUgYSBNYXRlcmlhbCBVSSBzbG90LlxuICpcbiAqIFRoaXMgaXMgYW4gYWR2YW5jZWQgdmVyc2lvbiBvZiBCYXNlIFVJIGB1c2VTbG90UHJvcHNgIGJlY2F1c2UgTWF0ZXJpYWwgVUkgYWxsb3dzIGxlYWYgY29tcG9uZW50IHRvIGJlIGN1c3RvbWl6ZWQgdmlhIGBjb21wb25lbnRgIHByb3BcbiAqIHdoaWxlIEJhc2UgVUkgZG9lcyBub3QgbmVlZCB0byBzdXBwb3J0IGxlYWYgY29tcG9uZW50IGN1c3RvbWl6YXRpb24uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWU6IG5hbWUgb2YgdGhlIHNsb3RcbiAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbWV0ZXJzXG4gKiBAcmV0dXJucyB7W1Nsb3QsIHNsb3RQcm9wc119IFRoZSBzbG90J3MgUmVhY3QgY29tcG9uZW50IGFuZCB0aGUgc2xvdCdzIHByb3BzXG4gKlxuICogTm90ZTogdGhlIHJldHVybmVkIHNsb3QncyBwcm9wc1xuICogLSB3aWxsIG5ldmVyIGNvbnRhaW4gYGNvbXBvbmVudGAgcHJvcC5cbiAqIC0gbWlnaHQgY29udGFpbiBgYXNgIHByb3AuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZVNsb3QoXG4vKipcbiAqIFRoZSBzbG90J3MgbmFtZS4gQWxsIE1hdGVyaWFsIFVJIGNvbXBvbmVudHMgc2hvdWxkIGhhdmUgYHJvb3RgIHNsb3QuXG4gKlxuICogSWYgdGhlIG5hbWUgaXMgYHJvb3RgLCB0aGUgbG9naWMgYmVoYXZlcyBkaWZmZXJlbnRseSBmcm9tIG90aGVyIHNsb3RzLFxuICogZS5nLiB0aGUgYGV4dGVybmFsRm9yd2FyZGVkUHJvcHNgIGFyZSBzcHJlYWQgdG8gYHJvb3RgIHNsb3QgYnV0IG5vdCBvdGhlciBzbG90cy5cbiAqL1xubmFtZSwgcGFyYW1ldGVycykge1xuICBjb25zdCB7XG4gICAgY2xhc3NOYW1lLFxuICAgIGVsZW1lbnRUeXBlOiBpbml0aWFsRWxlbWVudFR5cGUsXG4gICAgb3duZXJTdGF0ZSxcbiAgICBleHRlcm5hbEZvcndhcmRlZFByb3BzLFxuICAgIGludGVybmFsRm9yd2FyZGVkUHJvcHMsXG4gICAgc2hvdWxkRm9yd2FyZENvbXBvbmVudFByb3AgPSBmYWxzZSxcbiAgICAuLi51c2VTbG90UHJvcHNQYXJhbXNcbiAgfSA9IHBhcmFtZXRlcnM7XG4gIGNvbnN0IHtcbiAgICBjb21wb25lbnQ6IHJvb3RDb21wb25lbnQsXG4gICAgc2xvdHMgPSB7XG4gICAgICBbbmFtZV06IHVuZGVmaW5lZFxuICAgIH0sXG4gICAgc2xvdFByb3BzID0ge1xuICAgICAgW25hbWVdOiB1bmRlZmluZWRcbiAgICB9LFxuICAgIC4uLm90aGVyXG4gIH0gPSBleHRlcm5hbEZvcndhcmRlZFByb3BzO1xuICBjb25zdCBlbGVtZW50VHlwZSA9IHNsb3RzW25hbWVdIHx8IGluaXRpYWxFbGVtZW50VHlwZTtcblxuICAvLyBgc2xvdFByb3BzW25hbWVdYCBjYW4gYmUgYSBjYWxsYmFjayB0aGF0IHJlY2VpdmVzIHRoZSBjb21wb25lbnQncyBvd25lclN0YXRlLlxuICAvLyBgcmVzb2x2ZWRDb21wb25lbnRzUHJvcHNgIGlzIGFsd2F5cyBhIHBsYWluIG9iamVjdC5cbiAgY29uc3QgcmVzb2x2ZWRDb21wb25lbnRzUHJvcHMgPSByZXNvbHZlQ29tcG9uZW50UHJvcHMoc2xvdFByb3BzW25hbWVdLCBvd25lclN0YXRlKTtcbiAgY29uc3Qge1xuICAgIHByb3BzOiB7XG4gICAgICBjb21wb25lbnQ6IHNsb3RDb21wb25lbnQsXG4gICAgICAuLi5tZXJnZWRQcm9wc1xuICAgIH0sXG4gICAgaW50ZXJuYWxSZWZcbiAgfSA9IG1lcmdlU2xvdFByb3BzKHtcbiAgICBjbGFzc05hbWUsXG4gICAgLi4udXNlU2xvdFByb3BzUGFyYW1zLFxuICAgIGV4dGVybmFsRm9yd2FyZGVkUHJvcHM6IG5hbWUgPT09ICdyb290JyA/IG90aGVyIDogdW5kZWZpbmVkLFxuICAgIGV4dGVybmFsU2xvdFByb3BzOiByZXNvbHZlZENvbXBvbmVudHNQcm9wc1xuICB9KTtcbiAgY29uc3QgcmVmID0gdXNlRm9ya1JlZihpbnRlcm5hbFJlZiwgcmVzb2x2ZWRDb21wb25lbnRzUHJvcHM/LnJlZiwgcGFyYW1ldGVycy5yZWYpO1xuICBjb25zdCBMZWFmQ29tcG9uZW50ID0gbmFtZSA9PT0gJ3Jvb3QnID8gc2xvdENvbXBvbmVudCB8fCByb290Q29tcG9uZW50IDogc2xvdENvbXBvbmVudDtcbiAgY29uc3QgcHJvcHMgPSBhcHBlbmRPd25lclN0YXRlKGVsZW1lbnRUeXBlLCB7XG4gICAgLi4uKG5hbWUgPT09ICdyb290JyAmJiAhcm9vdENvbXBvbmVudCAmJiAhc2xvdHNbbmFtZV0gJiYgaW50ZXJuYWxGb3J3YXJkZWRQcm9wcyksXG4gICAgLi4uKG5hbWUgIT09ICdyb290JyAmJiAhc2xvdHNbbmFtZV0gJiYgaW50ZXJuYWxGb3J3YXJkZWRQcm9wcyksXG4gICAgLi4ubWVyZ2VkUHJvcHMsXG4gICAgLi4uKExlYWZDb21wb25lbnQgJiYgIXNob3VsZEZvcndhcmRDb21wb25lbnRQcm9wICYmIHtcbiAgICAgIGFzOiBMZWFmQ29tcG9uZW50XG4gICAgfSksXG4gICAgLi4uKExlYWZDb21wb25lbnQgJiYgc2hvdWxkRm9yd2FyZENvbXBvbmVudFByb3AgJiYge1xuICAgICAgY29tcG9uZW50OiBMZWFmQ29tcG9uZW50XG4gICAgfSksXG4gICAgcmVmXG4gIH0sIG93bmVyU3RhdGUpO1xuICByZXR1cm4gW2VsZW1lbnRUeXBlLCBwcm9wc107XG59IiwKICAgICJpbXBvcnQgZ2VuZXJhdGVVdGlsaXR5Q2xhc3NlcyBmcm9tICdAbXVpL3V0aWxzL2dlbmVyYXRlVXRpbGl0eUNsYXNzZXMnO1xuaW1wb3J0IGdlbmVyYXRlVXRpbGl0eUNsYXNzIGZyb20gJ0BtdWkvdXRpbHMvZ2VuZXJhdGVVdGlsaXR5Q2xhc3MnO1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbGxhcHNlVXRpbGl0eUNsYXNzKHNsb3QpIHtcbiAgcmV0dXJuIGdlbmVyYXRlVXRpbGl0eUNsYXNzKCdNdWlDb2xsYXBzZScsIHNsb3QpO1xufVxuY29uc3QgY29sbGFwc2VDbGFzc2VzID0gZ2VuZXJhdGVVdGlsaXR5Q2xhc3NlcygnTXVpQ29sbGFwc2UnLCBbJ3Jvb3QnLCAnaG9yaXpvbnRhbCcsICd2ZXJ0aWNhbCcsICdlbnRlcmVkJywgJ2hpZGRlbicsICd3cmFwcGVyJywgJ3dyYXBwZXJJbm5lciddKTtcbmV4cG9ydCBkZWZhdWx0IGNvbGxhcHNlQ2xhc3NlczsiLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnO1xuaW1wb3J0IGludGVnZXJQcm9wVHlwZSBmcm9tICdAbXVpL3V0aWxzL2ludGVnZXJQcm9wVHlwZSc7XG5pbXBvcnQgY2hhaW5Qcm9wVHlwZXMgZnJvbSAnQG11aS91dGlscy9jaGFpblByb3BUeXBlcyc7XG5pbXBvcnQgY29tcG9zZUNsYXNzZXMgZnJvbSAnQG11aS91dGlscy9jb21wb3NlQ2xhc3Nlcyc7XG5pbXBvcnQgeyBhbHBoYSB9IGZyb20gJ0BtdWkvc3lzdGVtL2NvbG9yTWFuaXB1bGF0b3InO1xuaW1wb3J0IHsgc3R5bGVkLCB1c2VUaGVtZSB9IGZyb20gXCIuLi96ZXJvLXN0eWxlZC9pbmRleC5qc1wiO1xuaW1wb3J0IG1lbW9UaGVtZSBmcm9tIFwiLi4vdXRpbHMvbWVtb1RoZW1lLmpzXCI7XG5pbXBvcnQgeyB1c2VEZWZhdWx0UHJvcHMgfSBmcm9tIFwiLi4vRGVmYXVsdFByb3BzUHJvdmlkZXIvaW5kZXguanNcIjtcbmltcG9ydCBnZXRPdmVybGF5QWxwaGEgZnJvbSBcIi4uL3N0eWxlcy9nZXRPdmVybGF5QWxwaGEuanNcIjtcbmltcG9ydCB7IGdldFBhcGVyVXRpbGl0eUNsYXNzIH0gZnJvbSBcIi4vcGFwZXJDbGFzc2VzLmpzXCI7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuY29uc3QgdXNlVXRpbGl0eUNsYXNzZXMgPSBvd25lclN0YXRlID0+IHtcbiAgY29uc3Qge1xuICAgIHNxdWFyZSxcbiAgICBlbGV2YXRpb24sXG4gICAgdmFyaWFudCxcbiAgICBjbGFzc2VzXG4gIH0gPSBvd25lclN0YXRlO1xuICBjb25zdCBzbG90cyA9IHtcbiAgICByb290OiBbJ3Jvb3QnLCB2YXJpYW50LCAhc3F1YXJlICYmICdyb3VuZGVkJywgdmFyaWFudCA9PT0gJ2VsZXZhdGlvbicgJiYgYGVsZXZhdGlvbiR7ZWxldmF0aW9ufWBdXG4gIH07XG4gIHJldHVybiBjb21wb3NlQ2xhc3NlcyhzbG90cywgZ2V0UGFwZXJVdGlsaXR5Q2xhc3MsIGNsYXNzZXMpO1xufTtcbmNvbnN0IFBhcGVyUm9vdCA9IHN0eWxlZCgnZGl2Jywge1xuICBuYW1lOiAnTXVpUGFwZXInLFxuICBzbG90OiAnUm9vdCcsXG4gIG92ZXJyaWRlc1Jlc29sdmVyOiAocHJvcHMsIHN0eWxlcykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIG93bmVyU3RhdGVcbiAgICB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIFtzdHlsZXMucm9vdCwgc3R5bGVzW293bmVyU3RhdGUudmFyaWFudF0sICFvd25lclN0YXRlLnNxdWFyZSAmJiBzdHlsZXMucm91bmRlZCwgb3duZXJTdGF0ZS52YXJpYW50ID09PSAnZWxldmF0aW9uJyAmJiBzdHlsZXNbYGVsZXZhdGlvbiR7b3duZXJTdGF0ZS5lbGV2YXRpb259YF1dO1xuICB9XG59KShtZW1vVGhlbWUoKHtcbiAgdGhlbWVcbn0pID0+ICh7XG4gIGJhY2tncm91bmRDb2xvcjogKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGUuYmFja2dyb3VuZC5wYXBlcixcbiAgY29sb3I6ICh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlLnRleHQucHJpbWFyeSxcbiAgdHJhbnNpdGlvbjogdGhlbWUudHJhbnNpdGlvbnMuY3JlYXRlKCdib3gtc2hhZG93JyksXG4gIHZhcmlhbnRzOiBbe1xuICAgIHByb3BzOiAoe1xuICAgICAgb3duZXJTdGF0ZVxuICAgIH0pID0+ICFvd25lclN0YXRlLnNxdWFyZSxcbiAgICBzdHlsZToge1xuICAgICAgYm9yZGVyUmFkaXVzOiB0aGVtZS5zaGFwZS5ib3JkZXJSYWRpdXNcbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczoge1xuICAgICAgdmFyaWFudDogJ291dGxpbmVkJ1xuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIGJvcmRlcjogYDFweCBzb2xpZCAkeyh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlLmRpdmlkZXJ9YFxuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiB7XG4gICAgICB2YXJpYW50OiAnZWxldmF0aW9uJ1xuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIGJveFNoYWRvdzogJ3ZhcigtLVBhcGVyLXNoYWRvdyknLFxuICAgICAgYmFja2dyb3VuZEltYWdlOiAndmFyKC0tUGFwZXItb3ZlcmxheSknXG4gICAgfVxuICB9XVxufSkpKTtcbmNvbnN0IFBhcGVyID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gUGFwZXIoaW5Qcm9wcywgcmVmKSB7XG4gIGNvbnN0IHByb3BzID0gdXNlRGVmYXVsdFByb3BzKHtcbiAgICBwcm9wczogaW5Qcm9wcyxcbiAgICBuYW1lOiAnTXVpUGFwZXInXG4gIH0pO1xuICBjb25zdCB0aGVtZSA9IHVzZVRoZW1lKCk7XG4gIGNvbnN0IHtcbiAgICBjbGFzc05hbWUsXG4gICAgY29tcG9uZW50ID0gJ2RpdicsXG4gICAgZWxldmF0aW9uID0gMSxcbiAgICBzcXVhcmUgPSBmYWxzZSxcbiAgICB2YXJpYW50ID0gJ2VsZXZhdGlvbicsXG4gICAgLi4ub3RoZXJcbiAgfSA9IHByb3BzO1xuICBjb25zdCBvd25lclN0YXRlID0ge1xuICAgIC4uLnByb3BzLFxuICAgIGNvbXBvbmVudCxcbiAgICBlbGV2YXRpb24sXG4gICAgc3F1YXJlLFxuICAgIHZhcmlhbnRcbiAgfTtcbiAgY29uc3QgY2xhc3NlcyA9IHVzZVV0aWxpdHlDbGFzc2VzKG93bmVyU3RhdGUpO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmICh0aGVtZS5zaGFkb3dzW2VsZXZhdGlvbl0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc29sZS5lcnJvcihbYE1VSTogVGhlIGVsZXZhdGlvbiBwcm92aWRlZCA8UGFwZXIgZWxldmF0aW9uPXske2VsZXZhdGlvbn19PiBpcyBub3QgYXZhaWxhYmxlIGluIHRoZSB0aGVtZS5gLCBgUGxlYXNlIG1ha2Ugc3VyZSB0aGF0IFxcYHRoZW1lLnNoYWRvd3NbJHtlbGV2YXRpb259XVxcYCBpcyBkZWZpbmVkLmBdLmpvaW4oJ1xcbicpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KFBhcGVyUm9vdCwge1xuICAgIGFzOiBjb21wb25lbnQsXG4gICAgb3duZXJTdGF0ZTogb3duZXJTdGF0ZSxcbiAgICBjbGFzc05hbWU6IGNsc3goY2xhc3Nlcy5yb290LCBjbGFzc05hbWUpLFxuICAgIHJlZjogcmVmLFxuICAgIC4uLm90aGVyLFxuICAgIHN0eWxlOiB7XG4gICAgICAuLi4odmFyaWFudCA9PT0gJ2VsZXZhdGlvbicgJiYge1xuICAgICAgICAnLS1QYXBlci1zaGFkb3cnOiAodGhlbWUudmFycyB8fCB0aGVtZSkuc2hhZG93c1tlbGV2YXRpb25dLFxuICAgICAgICAuLi4odGhlbWUudmFycyAmJiB7XG4gICAgICAgICAgJy0tUGFwZXItb3ZlcmxheSc6IHRoZW1lLnZhcnMub3ZlcmxheXM/LltlbGV2YXRpb25dXG4gICAgICAgIH0pLFxuICAgICAgICAuLi4oIXRoZW1lLnZhcnMgJiYgdGhlbWUucGFsZXR0ZS5tb2RlID09PSAnZGFyaycgJiYge1xuICAgICAgICAgICctLVBhcGVyLW92ZXJsYXknOiBgbGluZWFyLWdyYWRpZW50KCR7YWxwaGEoJyNmZmYnLCBnZXRPdmVybGF5QWxwaGEoZWxldmF0aW9uKSl9LCAke2FscGhhKCcjZmZmJywgZ2V0T3ZlcmxheUFscGhhKGVsZXZhdGlvbikpfSlgXG4gICAgICAgIH0pXG4gICAgICB9KSxcbiAgICAgIC4uLm90aGVyLnN0eWxlXG4gICAgfVxuICB9KTtcbn0pO1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gUGFwZXIucHJvcFR5cGVzIC8qIHJlbW92ZS1wcm9wdHlwZXMgKi8gPSB7XG4gIC8vIOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBXYXJuaW5nIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuICAvLyDilIIgVGhlc2UgUHJvcFR5cGVzIGFyZSBnZW5lcmF0ZWQgZnJvbSB0aGUgVHlwZVNjcmlwdCB0eXBlIGRlZmluaXRpb25zLiDilIJcbiAgLy8g4pSCICAgIFRvIHVwZGF0ZSB0aGVtLCBlZGl0IHRoZSBkLnRzIGZpbGUgYW5kIHJ1biBgcG5wbSBwcm9wdHlwZXNgLiAgICAg4pSCXG4gIC8vIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmFxuICAvKipcbiAgICogVGhlIGNvbnRlbnQgb2YgdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIG9yIGV4dGVuZCB0aGUgc3R5bGVzIGFwcGxpZWQgdG8gdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIC8qKlxuICAgKiBUaGUgY29tcG9uZW50IHVzZWQgZm9yIHRoZSByb290IG5vZGUuXG4gICAqIEVpdGhlciBhIHN0cmluZyB0byB1c2UgYSBIVE1MIGVsZW1lbnQgb3IgYSBjb21wb25lbnQuXG4gICAqL1xuICBjb21wb25lbnQ6IFByb3BUeXBlcy5lbGVtZW50VHlwZSxcbiAgLyoqXG4gICAqIFNoYWRvdyBkZXB0aCwgY29ycmVzcG9uZHMgdG8gYGRwYCBpbiB0aGUgc3BlYy5cbiAgICogSXQgYWNjZXB0cyB2YWx1ZXMgYmV0d2VlbiAwIGFuZCAyNCBpbmNsdXNpdmUuXG4gICAqIEBkZWZhdWx0IDFcbiAgICovXG4gIGVsZXZhdGlvbjogY2hhaW5Qcm9wVHlwZXMoaW50ZWdlclByb3BUeXBlLCBwcm9wcyA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgZWxldmF0aW9uLFxuICAgICAgdmFyaWFudFxuICAgIH0gPSBwcm9wcztcbiAgICBpZiAoZWxldmF0aW9uID4gMCAmJiB2YXJpYW50ID09PSAnb3V0bGluZWQnKSB7XG4gICAgICByZXR1cm4gbmV3IEVycm9yKGBNVUk6IENvbWJpbmluZyBcXGBlbGV2YXRpb249eyR7ZWxldmF0aW9ufX1cXGAgd2l0aCBcXGB2YXJpYW50PVwiJHt2YXJpYW50fVwiXFxgIGhhcyBubyBlZmZlY3QuIEVpdGhlciB1c2UgXFxgZWxldmF0aW9uPXswfVxcYCBvciB1c2UgYSBkaWZmZXJlbnQgXFxgdmFyaWFudFxcYC5gKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0pLFxuICAvKipcbiAgICogSWYgYHRydWVgLCByb3VuZGVkIGNvcm5lcnMgYXJlIGRpc2FibGVkLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgc3F1YXJlOiBQcm9wVHlwZXMuYm9vbCxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIHN0eWxlOiBQcm9wVHlwZXMub2JqZWN0LFxuICAvKipcbiAgICogVGhlIHN5c3RlbSBwcm9wIHRoYXQgYWxsb3dzIGRlZmluaW5nIHN5c3RlbSBvdmVycmlkZXMgYXMgd2VsbCBhcyBhZGRpdGlvbmFsIENTUyBzdHlsZXMuXG4gICAqL1xuICBzeDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3QsIFByb3BUeXBlcy5ib29sXSkpLCBQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdF0pLFxuICAvKipcbiAgICogVGhlIHZhcmlhbnQgdG8gdXNlLlxuICAgKiBAZGVmYXVsdCAnZWxldmF0aW9uJ1xuICAgKi9cbiAgdmFyaWFudDogUHJvcFR5cGVzIC8qIEB0eXBlc2NyaXB0LXRvLXByb3B0eXBlcy1pZ25vcmUgKi8ub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWydlbGV2YXRpb24nLCAnb3V0bGluZWQnXSksIFByb3BUeXBlcy5zdHJpbmddKVxufSA6IHZvaWQgMDtcbmV4cG9ydCBkZWZhdWx0IFBhcGVyOyIsCiAgICAiZXhwb3J0IGZ1bmN0aW9uIGdldFR5cGVCeVZhbHVlKHZhbHVlKSB7XG4gIGNvbnN0IHZhbHVlVHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgc3dpdGNoICh2YWx1ZVR5cGUpIHtcbiAgICBjYXNlICdudW1iZXInOlxuICAgICAgaWYgKE51bWJlci5pc05hTih2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuICdOYU4nO1xuICAgICAgfVxuICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiAnSW5maW5pdHknO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlICE9PSBNYXRoLmZsb29yKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gJ2Zsb2F0JztcbiAgICAgIH1cbiAgICAgIHJldHVybiAnbnVtYmVyJztcbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAnbnVsbCc7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWUuY29uc3RydWN0b3IubmFtZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHZhbHVlVHlwZTtcbiAgfVxufVxuZnVuY3Rpb24gcmVxdWlyZWRJbnRlZ2VyKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24pIHtcbiAgY29uc3QgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICBpZiAocHJvcFZhbHVlID09IG51bGwgfHwgIU51bWJlci5pc0ludGVnZXIocHJvcFZhbHVlKSkge1xuICAgIGNvbnN0IHByb3BUeXBlID0gZ2V0VHlwZUJ5VmFsdWUocHJvcFZhbHVlKTtcbiAgICByZXR1cm4gbmV3IFJhbmdlRXJyb3IoYEludmFsaWQgJHtsb2NhdGlvbn0gXFxgJHtwcm9wTmFtZX1cXGAgb2YgdHlwZSBcXGAke3Byb3BUeXBlfVxcYCBzdXBwbGllZCB0byBcXGAke2NvbXBvbmVudE5hbWV9XFxgLCBleHBlY3RlZCBcXGBpbnRlZ2VyXFxgLmApO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gdmFsaWRhdG9yKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24pIHtcbiAgY29uc3QgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICBpZiAocHJvcFZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gcmVxdWlyZWRJbnRlZ2VyKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24pO1xufVxuZnVuY3Rpb24gdmFsaWRhdG9yTm9vcCgpIHtcbiAgcmV0dXJuIG51bGw7XG59XG52YWxpZGF0b3IuaXNSZXF1aXJlZCA9IHJlcXVpcmVkSW50ZWdlcjtcbnZhbGlkYXRvck5vb3AuaXNSZXF1aXJlZCA9IHZhbGlkYXRvck5vb3A7XG5jb25zdCBpbnRlZ2VyUHJvcFR5cGUgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gdmFsaWRhdG9yTm9vcCA6IHZhbGlkYXRvcjtcbmV4cG9ydCBkZWZhdWx0IGludGVnZXJQcm9wVHlwZTsiLAogICAgImltcG9ydCBnZW5lcmF0ZVV0aWxpdHlDbGFzc2VzIGZyb20gJ0BtdWkvdXRpbHMvZ2VuZXJhdGVVdGlsaXR5Q2xhc3Nlcyc7XG5pbXBvcnQgZ2VuZXJhdGVVdGlsaXR5Q2xhc3MgZnJvbSAnQG11aS91dGlscy9nZW5lcmF0ZVV0aWxpdHlDbGFzcyc7XG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFwZXJVdGlsaXR5Q2xhc3Moc2xvdCkge1xuICByZXR1cm4gZ2VuZXJhdGVVdGlsaXR5Q2xhc3MoJ011aVBhcGVyJywgc2xvdCk7XG59XG5jb25zdCBwYXBlckNsYXNzZXMgPSBnZW5lcmF0ZVV0aWxpdHlDbGFzc2VzKCdNdWlQYXBlcicsIFsncm9vdCcsICdyb3VuZGVkJywgJ291dGxpbmVkJywgJ2VsZXZhdGlvbicsICdlbGV2YXRpb24wJywgJ2VsZXZhdGlvbjEnLCAnZWxldmF0aW9uMicsICdlbGV2YXRpb24zJywgJ2VsZXZhdGlvbjQnLCAnZWxldmF0aW9uNScsICdlbGV2YXRpb242JywgJ2VsZXZhdGlvbjcnLCAnZWxldmF0aW9uOCcsICdlbGV2YXRpb245JywgJ2VsZXZhdGlvbjEwJywgJ2VsZXZhdGlvbjExJywgJ2VsZXZhdGlvbjEyJywgJ2VsZXZhdGlvbjEzJywgJ2VsZXZhdGlvbjE0JywgJ2VsZXZhdGlvbjE1JywgJ2VsZXZhdGlvbjE2JywgJ2VsZXZhdGlvbjE3JywgJ2VsZXZhdGlvbjE4JywgJ2VsZXZhdGlvbjE5JywgJ2VsZXZhdGlvbjIwJywgJ2VsZXZhdGlvbjIxJywgJ2VsZXZhdGlvbjIyJywgJ2VsZXZhdGlvbjIzJywgJ2VsZXZhdGlvbjI0J10pO1xuZXhwb3J0IGRlZmF1bHQgcGFwZXJDbGFzc2VzOyIsCiAgICAiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgY2hhaW5Qcm9wVHlwZXMgZnJvbSAnQG11aS91dGlscy9jaGFpblByb3BUeXBlcyc7XG5pbXBvcnQgY29tcG9zZUNsYXNzZXMgZnJvbSAnQG11aS91dGlscy9jb21wb3NlQ2xhc3Nlcyc7XG5pbXBvcnQgeyB1bnN0YWJsZV91c2VJZCBhcyB1c2VJZCB9IGZyb20gXCIuLi91dGlscy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgc3R5bGVkIH0gZnJvbSBcIi4uL3plcm8tc3R5bGVkL2luZGV4LmpzXCI7XG5pbXBvcnQgbWVtb1RoZW1lIGZyb20gXCIuLi91dGlscy9tZW1vVGhlbWUuanNcIjtcbmltcG9ydCBjcmVhdGVTaW1wbGVQYWxldHRlVmFsdWVGaWx0ZXIgZnJvbSBcIi4uL3V0aWxzL2NyZWF0ZVNpbXBsZVBhbGV0dGVWYWx1ZUZpbHRlci5qc1wiO1xuaW1wb3J0IHsgdXNlRGVmYXVsdFByb3BzIH0gZnJvbSBcIi4uL0RlZmF1bHRQcm9wc1Byb3ZpZGVyL2luZGV4LmpzXCI7XG5pbXBvcnQgQnV0dG9uQmFzZSBmcm9tIFwiLi4vQnV0dG9uQmFzZS9pbmRleC5qc1wiO1xuaW1wb3J0IENpcmN1bGFyUHJvZ3Jlc3MgZnJvbSBcIi4uL0NpcmN1bGFyUHJvZ3Jlc3MvaW5kZXguanNcIjtcbmltcG9ydCBjYXBpdGFsaXplIGZyb20gXCIuLi91dGlscy9jYXBpdGFsaXplLmpzXCI7XG5pbXBvcnQgaWNvbkJ1dHRvbkNsYXNzZXMsIHsgZ2V0SWNvbkJ1dHRvblV0aWxpdHlDbGFzcyB9IGZyb20gXCIuL2ljb25CdXR0b25DbGFzc2VzLmpzXCI7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuY29uc3QgdXNlVXRpbGl0eUNsYXNzZXMgPSBvd25lclN0YXRlID0+IHtcbiAgY29uc3Qge1xuICAgIGNsYXNzZXMsXG4gICAgZGlzYWJsZWQsXG4gICAgY29sb3IsXG4gICAgZWRnZSxcbiAgICBzaXplLFxuICAgIGxvYWRpbmdcbiAgfSA9IG93bmVyU3RhdGU7XG4gIGNvbnN0IHNsb3RzID0ge1xuICAgIHJvb3Q6IFsncm9vdCcsIGxvYWRpbmcgJiYgJ2xvYWRpbmcnLCBkaXNhYmxlZCAmJiAnZGlzYWJsZWQnLCBjb2xvciAhPT0gJ2RlZmF1bHQnICYmIGBjb2xvciR7Y2FwaXRhbGl6ZShjb2xvcil9YCwgZWRnZSAmJiBgZWRnZSR7Y2FwaXRhbGl6ZShlZGdlKX1gLCBgc2l6ZSR7Y2FwaXRhbGl6ZShzaXplKX1gXSxcbiAgICBsb2FkaW5nSW5kaWNhdG9yOiBbJ2xvYWRpbmdJbmRpY2F0b3InXSxcbiAgICBsb2FkaW5nV3JhcHBlcjogWydsb2FkaW5nV3JhcHBlciddXG4gIH07XG4gIHJldHVybiBjb21wb3NlQ2xhc3NlcyhzbG90cywgZ2V0SWNvbkJ1dHRvblV0aWxpdHlDbGFzcywgY2xhc3Nlcyk7XG59O1xuY29uc3QgSWNvbkJ1dHRvblJvb3QgPSBzdHlsZWQoQnV0dG9uQmFzZSwge1xuICBuYW1lOiAnTXVpSWNvbkJ1dHRvbicsXG4gIHNsb3Q6ICdSb290JyxcbiAgb3ZlcnJpZGVzUmVzb2x2ZXI6IChwcm9wcywgc3R5bGVzKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgb3duZXJTdGF0ZVxuICAgIH0gPSBwcm9wcztcbiAgICByZXR1cm4gW3N0eWxlcy5yb290LCBvd25lclN0YXRlLmxvYWRpbmcgJiYgc3R5bGVzLmxvYWRpbmcsIG93bmVyU3RhdGUuY29sb3IgIT09ICdkZWZhdWx0JyAmJiBzdHlsZXNbYGNvbG9yJHtjYXBpdGFsaXplKG93bmVyU3RhdGUuY29sb3IpfWBdLCBvd25lclN0YXRlLmVkZ2UgJiYgc3R5bGVzW2BlZGdlJHtjYXBpdGFsaXplKG93bmVyU3RhdGUuZWRnZSl9YF0sIHN0eWxlc1tgc2l6ZSR7Y2FwaXRhbGl6ZShvd25lclN0YXRlLnNpemUpfWBdXTtcbiAgfVxufSkobWVtb1RoZW1lKCh7XG4gIHRoZW1lXG59KSA9PiAoe1xuICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICBmbGV4OiAnMCAwIGF1dG8nLFxuICBmb250U2l6ZTogdGhlbWUudHlwb2dyYXBoeS5weFRvUmVtKDI0KSxcbiAgcGFkZGluZzogOCxcbiAgYm9yZGVyUmFkaXVzOiAnNTAlJyxcbiAgY29sb3I6ICh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlLmFjdGlvbi5hY3RpdmUsXG4gIHRyYW5zaXRpb246IHRoZW1lLnRyYW5zaXRpb25zLmNyZWF0ZSgnYmFja2dyb3VuZC1jb2xvcicsIHtcbiAgICBkdXJhdGlvbjogdGhlbWUudHJhbnNpdGlvbnMuZHVyYXRpb24uc2hvcnRlc3RcbiAgfSksXG4gIHZhcmlhbnRzOiBbe1xuICAgIHByb3BzOiBwcm9wcyA9PiAhcHJvcHMuZGlzYWJsZVJpcHBsZSxcbiAgICBzdHlsZToge1xuICAgICAgJy0tSWNvbkJ1dHRvbi1ob3ZlckJnJzogdGhlbWUuYWxwaGEoKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGUuYWN0aW9uLmFjdGl2ZSwgKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGUuYWN0aW9uLmhvdmVyT3BhY2l0eSksXG4gICAgICAnJjpob3Zlcic6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAndmFyKC0tSWNvbkJ1dHRvbi1ob3ZlckJnKScsXG4gICAgICAgIC8vIFJlc2V0IG9uIHRvdWNoIGRldmljZXMsIGl0IGRvZXNuJ3QgYWRkIHNwZWNpZmljaXR5XG4gICAgICAgICdAbWVkaWEgKGhvdmVyOiBub25lKSc6IHtcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCdcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiB7XG4gICAgICBlZGdlOiAnc3RhcnQnXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgbWFyZ2luTGVmdDogLTEyXG4gICAgfVxuICB9LCB7XG4gICAgcHJvcHM6IHtcbiAgICAgIGVkZ2U6ICdzdGFydCcsXG4gICAgICBzaXplOiAnc21hbGwnXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgbWFyZ2luTGVmdDogLTNcbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczoge1xuICAgICAgZWRnZTogJ2VuZCdcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICBtYXJnaW5SaWdodDogLTEyXG4gICAgfVxuICB9LCB7XG4gICAgcHJvcHM6IHtcbiAgICAgIGVkZ2U6ICdlbmQnLFxuICAgICAgc2l6ZTogJ3NtYWxsJ1xuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIG1hcmdpblJpZ2h0OiAtM1xuICAgIH1cbiAgfV1cbn0pKSwgbWVtb1RoZW1lKCh7XG4gIHRoZW1lXG59KSA9PiAoe1xuICB2YXJpYW50czogW3tcbiAgICBwcm9wczoge1xuICAgICAgY29sb3I6ICdpbmhlcml0J1xuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIGNvbG9yOiAnaW5oZXJpdCdcbiAgICB9XG4gIH0sIC4uLk9iamVjdC5lbnRyaWVzKHRoZW1lLnBhbGV0dGUpLmZpbHRlcihjcmVhdGVTaW1wbGVQYWxldHRlVmFsdWVGaWx0ZXIoKSkgLy8gY2hlY2sgYWxsIHRoZSB1c2VkIGZpZWxkcyBpbiB0aGUgc3R5bGUgYmVsb3dcbiAgLm1hcCgoW2NvbG9yXSkgPT4gKHtcbiAgICBwcm9wczoge1xuICAgICAgY29sb3JcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICBjb2xvcjogKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGVbY29sb3JdLm1haW5cbiAgICB9XG4gIH0pKSwgLi4uT2JqZWN0LmVudHJpZXModGhlbWUucGFsZXR0ZSkuZmlsdGVyKGNyZWF0ZVNpbXBsZVBhbGV0dGVWYWx1ZUZpbHRlcigpKSAvLyBjaGVjayBhbGwgdGhlIHVzZWQgZmllbGRzIGluIHRoZSBzdHlsZSBiZWxvd1xuICAubWFwKChbY29sb3JdKSA9PiAoe1xuICAgIHByb3BzOiB7XG4gICAgICBjb2xvclxuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgICctLUljb25CdXR0b24taG92ZXJCZyc6IHRoZW1lLmFscGhhKCh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlW2NvbG9yXS5tYWluLCAodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZS5hY3Rpb24uaG92ZXJPcGFjaXR5KVxuICAgIH1cbiAgfSkpLCB7XG4gICAgcHJvcHM6IHtcbiAgICAgIHNpemU6ICdzbWFsbCdcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICBwYWRkaW5nOiA1LFxuICAgICAgZm9udFNpemU6IHRoZW1lLnR5cG9ncmFwaHkucHhUb1JlbSgxOClcbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczoge1xuICAgICAgc2l6ZTogJ2xhcmdlJ1xuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIHBhZGRpbmc6IDEyLFxuICAgICAgZm9udFNpemU6IHRoZW1lLnR5cG9ncmFwaHkucHhUb1JlbSgyOClcbiAgICB9XG4gIH1dLFxuICBbYCYuJHtpY29uQnV0dG9uQ2xhc3Nlcy5kaXNhYmxlZH1gXToge1xuICAgIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50JyxcbiAgICBjb2xvcjogKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGUuYWN0aW9uLmRpc2FibGVkXG4gIH0sXG4gIFtgJi4ke2ljb25CdXR0b25DbGFzc2VzLmxvYWRpbmd9YF06IHtcbiAgICBjb2xvcjogJ3RyYW5zcGFyZW50J1xuICB9XG59KSkpO1xuY29uc3QgSWNvbkJ1dHRvbkxvYWRpbmdJbmRpY2F0b3IgPSBzdHlsZWQoJ3NwYW4nLCB7XG4gIG5hbWU6ICdNdWlJY29uQnV0dG9uJyxcbiAgc2xvdDogJ0xvYWRpbmdJbmRpY2F0b3InXG59KSgoe1xuICB0aGVtZVxufSkgPT4gKHtcbiAgZGlzcGxheTogJ25vbmUnLFxuICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgdmlzaWJpbGl0eTogJ3Zpc2libGUnLFxuICB0b3A6ICc1MCUnLFxuICBsZWZ0OiAnNTAlJyxcbiAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC01MCUsIC01MCUpJyxcbiAgY29sb3I6ICh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlLmFjdGlvbi5kaXNhYmxlZCxcbiAgdmFyaWFudHM6IFt7XG4gICAgcHJvcHM6IHtcbiAgICAgIGxvYWRpbmc6IHRydWVcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCdcbiAgICB9XG4gIH1dXG59KSk7XG5cbi8qKlxuICogUmVmZXIgdG8gdGhlIFtJY29uc10oL21hdGVyaWFsLXVpL2ljb25zLykgc2VjdGlvbiBvZiB0aGUgZG9jdW1lbnRhdGlvblxuICogcmVnYXJkaW5nIHRoZSBhdmFpbGFibGUgaWNvbiBvcHRpb25zLlxuICovXG5jb25zdCBJY29uQnV0dG9uID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gSWNvbkJ1dHRvbihpblByb3BzLCByZWYpIHtcbiAgY29uc3QgcHJvcHMgPSB1c2VEZWZhdWx0UHJvcHMoe1xuICAgIHByb3BzOiBpblByb3BzLFxuICAgIG5hbWU6ICdNdWlJY29uQnV0dG9uJ1xuICB9KTtcbiAgY29uc3Qge1xuICAgIGVkZ2UgPSBmYWxzZSxcbiAgICBjaGlsZHJlbixcbiAgICBjbGFzc05hbWUsXG4gICAgY29sb3IgPSAnZGVmYXVsdCcsXG4gICAgZGlzYWJsZWQgPSBmYWxzZSxcbiAgICBkaXNhYmxlRm9jdXNSaXBwbGUgPSBmYWxzZSxcbiAgICBzaXplID0gJ21lZGl1bScsXG4gICAgaWQ6IGlkUHJvcCxcbiAgICBsb2FkaW5nID0gbnVsbCxcbiAgICBsb2FkaW5nSW5kaWNhdG9yOiBsb2FkaW5nSW5kaWNhdG9yUHJvcCxcbiAgICAuLi5vdGhlclxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGxvYWRpbmdJZCA9IHVzZUlkKGlkUHJvcCk7XG4gIGNvbnN0IGxvYWRpbmdJbmRpY2F0b3IgPSBsb2FkaW5nSW5kaWNhdG9yUHJvcCA/PyAvKiNfX1BVUkVfXyovX2pzeChDaXJjdWxhclByb2dyZXNzLCB7XG4gICAgXCJhcmlhLWxhYmVsbGVkYnlcIjogbG9hZGluZ0lkLFxuICAgIGNvbG9yOiBcImluaGVyaXRcIixcbiAgICBzaXplOiAxNlxuICB9KTtcbiAgY29uc3Qgb3duZXJTdGF0ZSA9IHtcbiAgICAuLi5wcm9wcyxcbiAgICBlZGdlLFxuICAgIGNvbG9yLFxuICAgIGRpc2FibGVkLFxuICAgIGRpc2FibGVGb2N1c1JpcHBsZSxcbiAgICBsb2FkaW5nLFxuICAgIGxvYWRpbmdJbmRpY2F0b3IsXG4gICAgc2l6ZVxuICB9O1xuICBjb25zdCBjbGFzc2VzID0gdXNlVXRpbGl0eUNsYXNzZXMob3duZXJTdGF0ZSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeHMoSWNvbkJ1dHRvblJvb3QsIHtcbiAgICBpZDogbG9hZGluZyA/IGxvYWRpbmdJZCA6IGlkUHJvcCxcbiAgICBjbGFzc05hbWU6IGNsc3goY2xhc3Nlcy5yb290LCBjbGFzc05hbWUpLFxuICAgIGNlbnRlclJpcHBsZTogdHJ1ZSxcbiAgICBmb2N1c1JpcHBsZTogIWRpc2FibGVGb2N1c1JpcHBsZSxcbiAgICBkaXNhYmxlZDogZGlzYWJsZWQgfHwgbG9hZGluZyxcbiAgICByZWY6IHJlZixcbiAgICAuLi5vdGhlcixcbiAgICBvd25lclN0YXRlOiBvd25lclN0YXRlLFxuICAgIGNoaWxkcmVuOiBbdHlwZW9mIGxvYWRpbmcgPT09ICdib29sZWFuJyAmJlxuICAgIC8qI19fUFVSRV9fKi9cbiAgICAvLyB1c2UgcGxhaW4gSFRNTCBzcGFuIHRvIG1pbmltaXplIHRoZSBydW50aW1lIG92ZXJoZWFkXG4gICAgX2pzeChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmxvYWRpbmdXcmFwcGVyLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgZGlzcGxheTogJ2NvbnRlbnRzJ1xuICAgICAgfSxcbiAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChJY29uQnV0dG9uTG9hZGluZ0luZGljYXRvciwge1xuICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMubG9hZGluZ0luZGljYXRvcixcbiAgICAgICAgb3duZXJTdGF0ZTogb3duZXJTdGF0ZSxcbiAgICAgICAgY2hpbGRyZW46IGxvYWRpbmcgJiYgbG9hZGluZ0luZGljYXRvclxuICAgICAgfSlcbiAgICB9KSwgY2hpbGRyZW5dXG4gIH0pO1xufSk7XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBJY29uQnV0dG9uLnByb3BUeXBlcyAvKiByZW1vdmUtcHJvcHR5cGVzICovID0ge1xuICAvLyDilIzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgV2FybmluZyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJBcbiAgLy8g4pSCIFRoZXNlIFByb3BUeXBlcyBhcmUgZ2VuZXJhdGVkIGZyb20gdGhlIFR5cGVTY3JpcHQgdHlwZSBkZWZpbml0aW9ucy4g4pSCXG4gIC8vIOKUgiAgICBUbyB1cGRhdGUgdGhlbSwgZWRpdCB0aGUgZC50cyBmaWxlIGFuZCBydW4gYHBucG0gcHJvcHR5cGVzYC4gICAgIOKUglxuICAvLyDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJhcbiAgLyoqXG4gICAqIFRoZSBpY29uIHRvIGRpc3BsYXkuXG4gICAqL1xuICBjaGlsZHJlbjogY2hhaW5Qcm9wVHlwZXMoUHJvcFR5cGVzLm5vZGUsIHByb3BzID0+IHtcbiAgICBjb25zdCBmb3VuZCA9IFJlYWN0LkNoaWxkcmVuLnRvQXJyYXkocHJvcHMuY2hpbGRyZW4pLnNvbWUoY2hpbGQgPT4gLyojX19QVVJFX18qL1JlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkKSAmJiBjaGlsZC5wcm9wcy5vbkNsaWNrKTtcbiAgICBpZiAoZm91bmQpIHtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoWydNVUk6IFlvdSBhcmUgcHJvdmlkaW5nIGFuIG9uQ2xpY2sgZXZlbnQgbGlzdGVuZXIgdG8gYSBjaGlsZCBvZiBhIGJ1dHRvbiBlbGVtZW50LicsICdQcmVmZXIgYXBwbHlpbmcgaXQgdG8gdGhlIEljb25CdXR0b24gZGlyZWN0bHkuJywgJ1RoaXMgZ3VhcmFudGVlcyB0aGF0IHRoZSB3aG9sZSA8YnV0dG9uPiB3aWxsIGJlIHJlc3BvbnNpdmUgdG8gY2xpY2sgZXZlbnRzLiddLmpvaW4oJ1xcbicpKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0pLFxuICAvKipcbiAgICogT3ZlcnJpZGUgb3IgZXh0ZW5kIHRoZSBzdHlsZXMgYXBwbGllZCB0byB0aGUgY29tcG9uZW50LlxuICAgKi9cbiAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdCxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgLyoqXG4gICAqIFRoZSBjb2xvciBvZiB0aGUgY29tcG9uZW50LlxuICAgKiBJdCBzdXBwb3J0cyBib3RoIGRlZmF1bHQgYW5kIGN1c3RvbSB0aGVtZSBjb2xvcnMsIHdoaWNoIGNhbiBiZSBhZGRlZCBhcyBzaG93biBpbiB0aGVcbiAgICogW3BhbGV0dGUgY3VzdG9taXphdGlvbiBndWlkZV0oaHR0cHM6Ly9tdWkuY29tL21hdGVyaWFsLXVpL2N1c3RvbWl6YXRpb24vcGFsZXR0ZS8jY3VzdG9tLWNvbG9ycykuXG4gICAqIEBkZWZhdWx0ICdkZWZhdWx0J1xuICAgKi9cbiAgY29sb3I6IFByb3BUeXBlcyAvKiBAdHlwZXNjcmlwdC10by1wcm9wdHlwZXMtaWdub3JlICovLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnaW5oZXJpdCcsICdkZWZhdWx0JywgJ3ByaW1hcnknLCAnc2Vjb25kYXJ5JywgJ2Vycm9yJywgJ2luZm8nLCAnc3VjY2VzcycsICd3YXJuaW5nJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBjb21wb25lbnQgaXMgZGlzYWJsZWQuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBkaXNhYmxlZDogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSAga2V5Ym9hcmQgZm9jdXMgcmlwcGxlIGlzIGRpc2FibGVkLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZGlzYWJsZUZvY3VzUmlwcGxlOiBQcm9wVHlwZXMuYm9vbCxcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIHJpcHBsZSBlZmZlY3QgaXMgZGlzYWJsZWQuXG4gICAqXG4gICAqIOKaoO+4jyBXaXRob3V0IGEgcmlwcGxlIHRoZXJlIGlzIG5vIHN0eWxpbmcgZm9yIDpmb2N1cy12aXNpYmxlIGJ5IGRlZmF1bHQuIEJlIHN1cmVcbiAgICogdG8gaGlnaGxpZ2h0IHRoZSBlbGVtZW50IGJ5IGFwcGx5aW5nIHNlcGFyYXRlIHN0eWxlcyB3aXRoIHRoZSBgLk11aS1mb2N1c1Zpc2libGVgIGNsYXNzLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZGlzYWJsZVJpcHBsZTogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBJZiBnaXZlbiwgdXNlcyBhIG5lZ2F0aXZlIG1hcmdpbiB0byBjb3VudGVyYWN0IHRoZSBwYWRkaW5nIG9uIG9uZVxuICAgKiBzaWRlICh0aGlzIGlzIG9mdGVuIGhlbHBmdWwgZm9yIGFsaWduaW5nIHRoZSBsZWZ0IG9yIHJpZ2h0XG4gICAqIHNpZGUgb2YgdGhlIGljb24gd2l0aCBjb250ZW50IGFib3ZlIG9yIGJlbG93LCB3aXRob3V0IHJ1aW5pbmcgdGhlIGJvcmRlclxuICAgKiBzaXplIGFuZCBzaGFwZSkuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBlZGdlOiBQcm9wVHlwZXMub25lT2YoWydlbmQnLCAnc3RhcnQnLCBmYWxzZV0pLFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgaWQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBsb2FkaW5nIGluZGljYXRvciBpcyB2aXNpYmxlIGFuZCB0aGUgYnV0dG9uIGlzIGRpc2FibGVkLlxuICAgKiBJZiBgdHJ1ZSB8IGZhbHNlYCwgdGhlIGxvYWRpbmcgd3JhcHBlciBpcyBhbHdheXMgcmVuZGVyZWQgYmVmb3JlIHRoZSBjaGlsZHJlbiB0byBwcmV2ZW50IFtHb29nbGUgVHJhbnNsYXRpb24gQ3Jhc2hdKGh0dHBzOi8vZ2l0aHViLmNvbS9tdWkvbWF0ZXJpYWwtdWkvaXNzdWVzLzI3ODUzKS5cbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKi9cbiAgbG9hZGluZzogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBFbGVtZW50IHBsYWNlZCBiZWZvcmUgdGhlIGNoaWxkcmVuIGlmIHRoZSBidXR0b24gaXMgaW4gbG9hZGluZyBzdGF0ZS5cbiAgICogVGhlIG5vZGUgc2hvdWxkIGNvbnRhaW4gYW4gZWxlbWVudCB3aXRoIGByb2xlPVwicHJvZ3Jlc3NiYXJcImAgd2l0aCBhbiBhY2Nlc3NpYmxlIG5hbWUuXG4gICAqIEJ5IGRlZmF1bHQsIGl0IHJlbmRlcnMgYSBgQ2lyY3VsYXJQcm9ncmVzc2AgdGhhdCBpcyBsYWJlbGVkIGJ5IHRoZSBidXR0b24gaXRzZWxmLlxuICAgKiBAZGVmYXVsdCA8Q2lyY3VsYXJQcm9ncmVzcyBjb2xvcj1cImluaGVyaXRcIiBzaXplPXsxNn0gLz5cbiAgICovXG4gIGxvYWRpbmdJbmRpY2F0b3I6IFByb3BUeXBlcy5ub2RlLFxuICAvKipcbiAgICogVGhlIHNpemUgb2YgdGhlIGNvbXBvbmVudC5cbiAgICogYHNtYWxsYCBpcyBlcXVpdmFsZW50IHRvIHRoZSBkZW5zZSBidXR0b24gc3R5bGluZy5cbiAgICogQGRlZmF1bHQgJ21lZGl1bSdcbiAgICovXG4gIHNpemU6IFByb3BUeXBlcyAvKiBAdHlwZXNjcmlwdC10by1wcm9wdHlwZXMtaWdub3JlICovLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gIC8qKlxuICAgKiBUaGUgc3lzdGVtIHByb3AgdGhhdCBhbGxvd3MgZGVmaW5pbmcgc3lzdGVtIG92ZXJyaWRlcyBhcyB3ZWxsIGFzIGFkZGl0aW9uYWwgQ1NTIHN0eWxlcy5cbiAgICovXG4gIHN4OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdCwgUHJvcFR5cGVzLmJvb2xdKSksIFByb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0XSlcbn0gOiB2b2lkIDA7XG5leHBvcnQgZGVmYXVsdCBJY29uQnV0dG9uOyIsCiAgICAiaW1wb3J0IGdlbmVyYXRlVXRpbGl0eUNsYXNzZXMgZnJvbSAnQG11aS91dGlscy9nZW5lcmF0ZVV0aWxpdHlDbGFzc2VzJztcbmltcG9ydCBnZW5lcmF0ZVV0aWxpdHlDbGFzcyBmcm9tICdAbXVpL3V0aWxzL2dlbmVyYXRlVXRpbGl0eUNsYXNzJztcbmV4cG9ydCBmdW5jdGlvbiBnZXRJY29uQnV0dG9uVXRpbGl0eUNsYXNzKHNsb3QpIHtcbiAgcmV0dXJuIGdlbmVyYXRlVXRpbGl0eUNsYXNzKCdNdWlJY29uQnV0dG9uJywgc2xvdCk7XG59XG5jb25zdCBpY29uQnV0dG9uQ2xhc3NlcyA9IGdlbmVyYXRlVXRpbGl0eUNsYXNzZXMoJ011aUljb25CdXR0b24nLCBbJ3Jvb3QnLCAnZGlzYWJsZWQnLCAnY29sb3JJbmhlcml0JywgJ2NvbG9yUHJpbWFyeScsICdjb2xvclNlY29uZGFyeScsICdjb2xvckVycm9yJywgJ2NvbG9ySW5mbycsICdjb2xvclN1Y2Nlc3MnLCAnY29sb3JXYXJuaW5nJywgJ2VkZ2VTdGFydCcsICdlZGdlRW5kJywgJ3NpemVTbWFsbCcsICdzaXplTWVkaXVtJywgJ3NpemVMYXJnZScsICdsb2FkaW5nJywgJ2xvYWRpbmdJbmRpY2F0b3InLCAnbG9hZGluZ1dyYXBwZXInXSk7XG5leHBvcnQgZGVmYXVsdCBpY29uQnV0dG9uQ2xhc3NlczsiLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnO1xuaW1wb3J0IGNvbXBvc2VDbGFzc2VzIGZyb20gJ0BtdWkvdXRpbHMvY29tcG9zZUNsYXNzZXMnO1xuaW1wb3J0IHsgc3R5bGVkIH0gZnJvbSBcIi4uL3plcm8tc3R5bGVkL2luZGV4LmpzXCI7XG5pbXBvcnQgbWVtb1RoZW1lIGZyb20gXCIuLi91dGlscy9tZW1vVGhlbWUuanNcIjtcbmltcG9ydCB7IHVzZURlZmF1bHRQcm9wcyB9IGZyb20gXCIuLi9EZWZhdWx0UHJvcHNQcm92aWRlci9pbmRleC5qc1wiO1xuaW1wb3J0IGNhcGl0YWxpemUgZnJvbSBcIi4uL3V0aWxzL2NhcGl0YWxpemUuanNcIjtcbmltcG9ydCBjcmVhdGVTaW1wbGVQYWxldHRlVmFsdWVGaWx0ZXIgZnJvbSBcIi4uL3V0aWxzL2NyZWF0ZVNpbXBsZVBhbGV0dGVWYWx1ZUZpbHRlci5qc1wiO1xuaW1wb3J0IFBhcGVyIGZyb20gXCIuLi9QYXBlci9pbmRleC5qc1wiO1xuaW1wb3J0IHsgZ2V0QXBwQmFyVXRpbGl0eUNsYXNzIH0gZnJvbSBcIi4vYXBwQmFyQ2xhc3Nlcy5qc1wiO1xuaW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmNvbnN0IHVzZVV0aWxpdHlDbGFzc2VzID0gb3duZXJTdGF0ZSA9PiB7XG4gIGNvbnN0IHtcbiAgICBjb2xvcixcbiAgICBwb3NpdGlvbixcbiAgICBjbGFzc2VzXG4gIH0gPSBvd25lclN0YXRlO1xuICBjb25zdCBzbG90cyA9IHtcbiAgICByb290OiBbJ3Jvb3QnLCBgY29sb3Ike2NhcGl0YWxpemUoY29sb3IpfWAsIGBwb3NpdGlvbiR7Y2FwaXRhbGl6ZShwb3NpdGlvbil9YF1cbiAgfTtcbiAgcmV0dXJuIGNvbXBvc2VDbGFzc2VzKHNsb3RzLCBnZXRBcHBCYXJVdGlsaXR5Q2xhc3MsIGNsYXNzZXMpO1xufTtcblxuLy8gdmFyMiBpcyB0aGUgZmFsbGJhY2suXG4vLyBFeC4gdmFyMTogJ3ZhcigtLWEpJywgdmFyMjogJ3ZhcigtLWIpJzsgcmV0dXJuOiAndmFyKC0tYSwgdmFyKC0tYikpJ1xuY29uc3Qgam9pblZhcnMgPSAodmFyMSwgdmFyMikgPT4gdmFyMSA/IGAke3ZhcjE/LnJlcGxhY2UoJyknLCAnJyl9LCAke3ZhcjJ9KWAgOiB2YXIyO1xuY29uc3QgQXBwQmFyUm9vdCA9IHN0eWxlZChQYXBlciwge1xuICBuYW1lOiAnTXVpQXBwQmFyJyxcbiAgc2xvdDogJ1Jvb3QnLFxuICBvdmVycmlkZXNSZXNvbHZlcjogKHByb3BzLCBzdHlsZXMpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBvd25lclN0YXRlXG4gICAgfSA9IHByb3BzO1xuICAgIHJldHVybiBbc3R5bGVzLnJvb3QsIHN0eWxlc1tgcG9zaXRpb24ke2NhcGl0YWxpemUob3duZXJTdGF0ZS5wb3NpdGlvbil9YF0sIHN0eWxlc1tgY29sb3Ike2NhcGl0YWxpemUob3duZXJTdGF0ZS5jb2xvcil9YF1dO1xuICB9XG59KShtZW1vVGhlbWUoKHtcbiAgdGhlbWVcbn0pID0+ICh7XG4gIGRpc3BsYXk6ICdmbGV4JyxcbiAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gIHdpZHRoOiAnMTAwJScsXG4gIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAvLyBQcmV2ZW50IHBhZGRpbmcgaXNzdWUgd2l0aCB0aGUgTW9kYWwgYW5kIGZpeGVkIHBvc2l0aW9uZWQgQXBwQmFyLlxuICBmbGV4U2hyaW5rOiAwLFxuICB2YXJpYW50czogW3tcbiAgICBwcm9wczoge1xuICAgICAgcG9zaXRpb246ICdmaXhlZCdcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgIHpJbmRleDogKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnpJbmRleC5hcHBCYXIsXG4gICAgICB0b3A6IDAsXG4gICAgICBsZWZ0OiAnYXV0bycsXG4gICAgICByaWdodDogMCxcbiAgICAgICdAbWVkaWEgcHJpbnQnOiB7XG4gICAgICAgIC8vIFByZXZlbnQgdGhlIGFwcCBiYXIgdG8gYmUgdmlzaWJsZSBvbiBlYWNoIHByaW50ZWQgcGFnZS5cbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZSdcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczoge1xuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZSdcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIHpJbmRleDogKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnpJbmRleC5hcHBCYXIsXG4gICAgICB0b3A6IDAsXG4gICAgICBsZWZ0OiAnYXV0bycsXG4gICAgICByaWdodDogMFxuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiB7XG4gICAgICBwb3NpdGlvbjogJ3N0aWNreSdcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICBwb3NpdGlvbjogJ3N0aWNreScsXG4gICAgICB6SW5kZXg6ICh0aGVtZS52YXJzIHx8IHRoZW1lKS56SW5kZXguYXBwQmFyLFxuICAgICAgdG9wOiAwLFxuICAgICAgbGVmdDogJ2F1dG8nLFxuICAgICAgcmlnaHQ6IDBcbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczoge1xuICAgICAgcG9zaXRpb246ICdzdGF0aWMnXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgcG9zaXRpb246ICdzdGF0aWMnXG4gICAgfVxuICB9LCB7XG4gICAgcHJvcHM6IHtcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZSdcbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczoge1xuICAgICAgY29sb3I6ICdpbmhlcml0J1xuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgICctLUFwcEJhci1jb2xvcic6ICdpbmhlcml0J1xuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiB7XG4gICAgICBjb2xvcjogJ2RlZmF1bHQnXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgJy0tQXBwQmFyLWJhY2tncm91bmQnOiB0aGVtZS52YXJzID8gdGhlbWUudmFycy5wYWxldHRlLkFwcEJhci5kZWZhdWx0QmcgOiB0aGVtZS5wYWxldHRlLmdyZXlbMTAwXSxcbiAgICAgICctLUFwcEJhci1jb2xvcic6IHRoZW1lLnZhcnMgPyB0aGVtZS52YXJzLnBhbGV0dGUudGV4dC5wcmltYXJ5IDogdGhlbWUucGFsZXR0ZS5nZXRDb250cmFzdFRleHQodGhlbWUucGFsZXR0ZS5ncmV5WzEwMF0pLFxuICAgICAgLi4udGhlbWUuYXBwbHlTdHlsZXMoJ2RhcmsnLCB7XG4gICAgICAgICctLUFwcEJhci1iYWNrZ3JvdW5kJzogdGhlbWUudmFycyA/IHRoZW1lLnZhcnMucGFsZXR0ZS5BcHBCYXIuZGVmYXVsdEJnIDogdGhlbWUucGFsZXR0ZS5ncmV5WzkwMF0sXG4gICAgICAgICctLUFwcEJhci1jb2xvcic6IHRoZW1lLnZhcnMgPyB0aGVtZS52YXJzLnBhbGV0dGUudGV4dC5wcmltYXJ5IDogdGhlbWUucGFsZXR0ZS5nZXRDb250cmFzdFRleHQodGhlbWUucGFsZXR0ZS5ncmV5WzkwMF0pXG4gICAgICB9KVxuICAgIH1cbiAgfSwgLi4uT2JqZWN0LmVudHJpZXModGhlbWUucGFsZXR0ZSkuZmlsdGVyKGNyZWF0ZVNpbXBsZVBhbGV0dGVWYWx1ZUZpbHRlcihbJ2NvbnRyYXN0VGV4dCddKSkubWFwKChbY29sb3JdKSA9PiAoe1xuICAgIHByb3BzOiB7XG4gICAgICBjb2xvclxuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgICctLUFwcEJhci1iYWNrZ3JvdW5kJzogKHRoZW1lLnZhcnMgPz8gdGhlbWUpLnBhbGV0dGVbY29sb3JdLm1haW4sXG4gICAgICAnLS1BcHBCYXItY29sb3InOiAodGhlbWUudmFycyA/PyB0aGVtZSkucGFsZXR0ZVtjb2xvcl0uY29udHJhc3RUZXh0XG4gICAgfVxuICB9KSksIHtcbiAgICBwcm9wczogcHJvcHMgPT4gcHJvcHMuZW5hYmxlQ29sb3JPbkRhcmsgPT09IHRydWUgJiYgIVsnaW5oZXJpdCcsICd0cmFuc3BhcmVudCddLmluY2x1ZGVzKHByb3BzLmNvbG9yKSxcbiAgICBzdHlsZToge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiAndmFyKC0tQXBwQmFyLWJhY2tncm91bmQpJyxcbiAgICAgIGNvbG9yOiAndmFyKC0tQXBwQmFyLWNvbG9yKSdcbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczogcHJvcHMgPT4gcHJvcHMuZW5hYmxlQ29sb3JPbkRhcmsgPT09IGZhbHNlICYmICFbJ2luaGVyaXQnLCAndHJhbnNwYXJlbnQnXS5pbmNsdWRlcyhwcm9wcy5jb2xvciksXG4gICAgc3R5bGU6IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJ3ZhcigtLUFwcEJhci1iYWNrZ3JvdW5kKScsXG4gICAgICBjb2xvcjogJ3ZhcigtLUFwcEJhci1jb2xvciknLFxuICAgICAgLi4udGhlbWUuYXBwbHlTdHlsZXMoJ2RhcmsnLCB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUudmFycyA/IGpvaW5WYXJzKHRoZW1lLnZhcnMucGFsZXR0ZS5BcHBCYXIuZGFya0JnLCAndmFyKC0tQXBwQmFyLWJhY2tncm91bmQpJykgOiBudWxsLFxuICAgICAgICBjb2xvcjogdGhlbWUudmFycyA/IGpvaW5WYXJzKHRoZW1lLnZhcnMucGFsZXR0ZS5BcHBCYXIuZGFya0NvbG9yLCAndmFyKC0tQXBwQmFyLWNvbG9yKScpIDogbnVsbFxuICAgICAgfSlcbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczoge1xuICAgICAgY29sb3I6ICd0cmFuc3BhcmVudCdcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICAnLS1BcHBCYXItYmFja2dyb3VuZCc6ICd0cmFuc3BhcmVudCcsXG4gICAgICAnLS1BcHBCYXItY29sb3InOiAnaW5oZXJpdCcsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd2YXIoLS1BcHBCYXItYmFja2dyb3VuZCknLFxuICAgICAgY29sb3I6ICd2YXIoLS1BcHBCYXItY29sb3IpJyxcbiAgICAgIC4uLnRoZW1lLmFwcGx5U3R5bGVzKCdkYXJrJywge1xuICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6ICdub25lJ1xuICAgICAgfSlcbiAgICB9XG4gIH1dXG59KSkpO1xuY29uc3QgQXBwQmFyID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gQXBwQmFyKGluUHJvcHMsIHJlZikge1xuICBjb25zdCBwcm9wcyA9IHVzZURlZmF1bHRQcm9wcyh7XG4gICAgcHJvcHM6IGluUHJvcHMsXG4gICAgbmFtZTogJ011aUFwcEJhcidcbiAgfSk7XG4gIGNvbnN0IHtcbiAgICBjbGFzc05hbWUsXG4gICAgY29sb3IgPSAncHJpbWFyeScsXG4gICAgZW5hYmxlQ29sb3JPbkRhcmsgPSBmYWxzZSxcbiAgICBwb3NpdGlvbiA9ICdmaXhlZCcsXG4gICAgLi4ub3RoZXJcbiAgfSA9IHByb3BzO1xuICBjb25zdCBvd25lclN0YXRlID0ge1xuICAgIC4uLnByb3BzLFxuICAgIGNvbG9yLFxuICAgIHBvc2l0aW9uLFxuICAgIGVuYWJsZUNvbG9yT25EYXJrXG4gIH07XG4gIGNvbnN0IGNsYXNzZXMgPSB1c2VVdGlsaXR5Q2xhc3Nlcyhvd25lclN0YXRlKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KEFwcEJhclJvb3QsIHtcbiAgICBzcXVhcmU6IHRydWUsXG4gICAgY29tcG9uZW50OiBcImhlYWRlclwiLFxuICAgIG93bmVyU3RhdGU6IG93bmVyU3RhdGUsXG4gICAgZWxldmF0aW9uOiA0LFxuICAgIGNsYXNzTmFtZTogY2xzeChjbGFzc2VzLnJvb3QsIGNsYXNzTmFtZSwgcG9zaXRpb24gPT09ICdmaXhlZCcgJiYgJ211aS1maXhlZCcpLFxuICAgIHJlZjogcmVmLFxuICAgIC4uLm90aGVyXG4gIH0pO1xufSk7XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBBcHBCYXIucHJvcFR5cGVzIC8qIHJlbW92ZS1wcm9wdHlwZXMgKi8gPSB7XG4gIC8vIOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBXYXJuaW5nIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuICAvLyDilIIgVGhlc2UgUHJvcFR5cGVzIGFyZSBnZW5lcmF0ZWQgZnJvbSB0aGUgVHlwZVNjcmlwdCB0eXBlIGRlZmluaXRpb25zLiDilIJcbiAgLy8g4pSCICAgIFRvIHVwZGF0ZSB0aGVtLCBlZGl0IHRoZSBkLnRzIGZpbGUgYW5kIHJ1biBgcG5wbSBwcm9wdHlwZXNgLiAgICAg4pSCXG4gIC8vIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmFxuICAvKipcbiAgICogVGhlIGNvbnRlbnQgb2YgdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIG9yIGV4dGVuZCB0aGUgc3R5bGVzIGFwcGxpZWQgdG8gdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIC8qKlxuICAgKiBUaGUgY29sb3Igb2YgdGhlIGNvbXBvbmVudC5cbiAgICogSXQgc3VwcG9ydHMgYm90aCBkZWZhdWx0IGFuZCBjdXN0b20gdGhlbWUgY29sb3JzLCB3aGljaCBjYW4gYmUgYWRkZWQgYXMgc2hvd24gaW4gdGhlXG4gICAqIFtwYWxldHRlIGN1c3RvbWl6YXRpb24gZ3VpZGVdKGh0dHBzOi8vbXVpLmNvbS9tYXRlcmlhbC11aS9jdXN0b21pemF0aW9uL3BhbGV0dGUvI2N1c3RvbS1jb2xvcnMpLlxuICAgKiBAZGVmYXVsdCAncHJpbWFyeSdcbiAgICovXG4gIGNvbG9yOiBQcm9wVHlwZXMgLyogQHR5cGVzY3JpcHQtdG8tcHJvcHR5cGVzLWlnbm9yZSAqLy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ2RlZmF1bHQnLCAnaW5oZXJpdCcsICdwcmltYXJ5JywgJ3NlY29uZGFyeScsICd0cmFuc3BhcmVudCcsICdlcnJvcicsICdpbmZvJywgJ3N1Y2Nlc3MnLCAnd2FybmluZyddKSwgUHJvcFR5cGVzLnN0cmluZ10pLFxuICAvKipcbiAgICogSWYgdHJ1ZSwgdGhlIGBjb2xvcmAgcHJvcCBpcyBhcHBsaWVkIGluIGRhcmsgbW9kZS5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGVuYWJsZUNvbG9yT25EYXJrOiBQcm9wVHlwZXMuYm9vbCxcbiAgLyoqXG4gICAqIFRoZSBwb3NpdGlvbmluZyB0eXBlLiBUaGUgYmVoYXZpb3Igb2YgdGhlIGRpZmZlcmVudCBvcHRpb25zIGlzIGRlc2NyaWJlZFxuICAgKiBbaW4gdGhlIE1ETiB3ZWIgZG9jc10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL3Bvc2l0aW9uKS5cbiAgICogTm90ZTogYHN0aWNreWAgaXMgbm90IHVuaXZlcnNhbGx5IHN1cHBvcnRlZCBhbmQgd2lsbCBmYWxsIGJhY2sgdG8gYHN0YXRpY2Agd2hlbiB1bmF2YWlsYWJsZS5cbiAgICogQGRlZmF1bHQgJ2ZpeGVkJ1xuICAgKi9cbiAgcG9zaXRpb246IFByb3BUeXBlcy5vbmVPZihbJ2Fic29sdXRlJywgJ2ZpeGVkJywgJ3JlbGF0aXZlJywgJ3N0YXRpYycsICdzdGlja3knXSksXG4gIC8qKlxuICAgKiBUaGUgc3lzdGVtIHByb3AgdGhhdCBhbGxvd3MgZGVmaW5pbmcgc3lzdGVtIG92ZXJyaWRlcyBhcyB3ZWxsIGFzIGFkZGl0aW9uYWwgQ1NTIHN0eWxlcy5cbiAgICovXG4gIHN4OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdCwgUHJvcFR5cGVzLmJvb2xdKSksIFByb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0XSlcbn0gOiB2b2lkIDA7XG5leHBvcnQgZGVmYXVsdCBBcHBCYXI7IiwKICAgICJpbXBvcnQgZ2VuZXJhdGVVdGlsaXR5Q2xhc3NlcyBmcm9tICdAbXVpL3V0aWxzL2dlbmVyYXRlVXRpbGl0eUNsYXNzZXMnO1xuaW1wb3J0IGdlbmVyYXRlVXRpbGl0eUNsYXNzIGZyb20gJ0BtdWkvdXRpbHMvZ2VuZXJhdGVVdGlsaXR5Q2xhc3MnO1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFwcEJhclV0aWxpdHlDbGFzcyhzbG90KSB7XG4gIHJldHVybiBnZW5lcmF0ZVV0aWxpdHlDbGFzcygnTXVpQXBwQmFyJywgc2xvdCk7XG59XG5jb25zdCBhcHBCYXJDbGFzc2VzID0gZ2VuZXJhdGVVdGlsaXR5Q2xhc3NlcygnTXVpQXBwQmFyJywgWydyb290JywgJ3Bvc2l0aW9uRml4ZWQnLCAncG9zaXRpb25BYnNvbHV0ZScsICdwb3NpdGlvblN0aWNreScsICdwb3NpdGlvblN0YXRpYycsICdwb3NpdGlvblJlbGF0aXZlJywgJ2NvbG9yRGVmYXVsdCcsICdjb2xvclByaW1hcnknLCAnY29sb3JTZWNvbmRhcnknLCAnY29sb3JJbmhlcml0JywgJ2NvbG9yVHJhbnNwYXJlbnQnLCAnY29sb3JFcnJvcicsICdjb2xvckluZm8nLCAnY29sb3JTdWNjZXNzJywgJ2NvbG9yV2FybmluZyddKTtcbmV4cG9ydCBkZWZhdWx0IGFwcEJhckNsYXNzZXM7IiwKICAgICJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBIVE1MRWxlbWVudFR5cGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICBjb25zdCBzYWZlUHJvcE5hbWUgPSBwcm9wRnVsbE5hbWUgfHwgcHJvcE5hbWU7XG4gIGlmIChwcm9wVmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmIChwcm9wVmFsdWUgJiYgcHJvcFZhbHVlLm5vZGVUeXBlICE9PSAxKSB7XG4gICAgcmV0dXJuIG5ldyBFcnJvcihgSW52YWxpZCAke2xvY2F0aW9ufSBcXGAke3NhZmVQcm9wTmFtZX1cXGAgc3VwcGxpZWQgdG8gXFxgJHtjb21wb25lbnROYW1lfVxcYC4gYCArIGBFeHBlY3RlZCBhbiBIVE1MRWxlbWVudC5gKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn0iLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgdXNlUnRsIH0gZnJvbSAnQG11aS9zeXN0ZW0vUnRsUHJvdmlkZXInO1xuaW1wb3J0IHJlZlR5cGUgZnJvbSAnQG11aS91dGlscy9yZWZUeXBlJztcbmltcG9ydCBIVE1MRWxlbWVudFR5cGUgZnJvbSAnQG11aS91dGlscy9IVE1MRWxlbWVudFR5cGUnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBCYXNlUG9wcGVyIGZyb20gXCIuL0Jhc2VQb3BwZXIuanNcIjtcbmltcG9ydCB7IHN0eWxlZCB9IGZyb20gXCIuLi96ZXJvLXN0eWxlZC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgdXNlRGVmYXVsdFByb3BzIH0gZnJvbSBcIi4uL0RlZmF1bHRQcm9wc1Byb3ZpZGVyL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuY29uc3QgUG9wcGVyUm9vdCA9IHN0eWxlZChCYXNlUG9wcGVyLCB7XG4gIG5hbWU6ICdNdWlQb3BwZXInLFxuICBzbG90OiAnUm9vdCdcbn0pKHt9KTtcblxuLyoqXG4gKlxuICogRGVtb3M6XG4gKlxuICogLSBbQXV0b2NvbXBsZXRlXShodHRwczovL211aS5jb20vbWF0ZXJpYWwtdWkvcmVhY3QtYXV0b2NvbXBsZXRlLylcbiAqIC0gW01lbnVdKGh0dHBzOi8vbXVpLmNvbS9tYXRlcmlhbC11aS9yZWFjdC1tZW51LylcbiAqIC0gW1BvcHBlcl0oaHR0cHM6Ly9tdWkuY29tL21hdGVyaWFsLXVpL3JlYWN0LXBvcHBlci8pXG4gKlxuICogQVBJOlxuICpcbiAqIC0gW1BvcHBlciBBUEldKGh0dHBzOi8vbXVpLmNvbS9tYXRlcmlhbC11aS9hcGkvcG9wcGVyLylcbiAqL1xuY29uc3QgUG9wcGVyID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gUG9wcGVyKGluUHJvcHMsIHJlZikge1xuICBjb25zdCBpc1J0bCA9IHVzZVJ0bCgpO1xuICBjb25zdCBwcm9wcyA9IHVzZURlZmF1bHRQcm9wcyh7XG4gICAgcHJvcHM6IGluUHJvcHMsXG4gICAgbmFtZTogJ011aVBvcHBlcidcbiAgfSk7XG4gIGNvbnN0IHtcbiAgICBhbmNob3JFbCxcbiAgICBjb21wb25lbnQsXG4gICAgY29tcG9uZW50cyxcbiAgICBjb21wb25lbnRzUHJvcHMsXG4gICAgY29udGFpbmVyLFxuICAgIGRpc2FibGVQb3J0YWwsXG4gICAga2VlcE1vdW50ZWQsXG4gICAgbW9kaWZpZXJzLFxuICAgIG9wZW4sXG4gICAgcGxhY2VtZW50LFxuICAgIHBvcHBlck9wdGlvbnMsXG4gICAgcG9wcGVyUmVmLFxuICAgIHRyYW5zaXRpb24sXG4gICAgc2xvdHMsXG4gICAgc2xvdFByb3BzLFxuICAgIC4uLm90aGVyXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgUm9vdENvbXBvbmVudCA9IHNsb3RzPy5yb290ID8/IGNvbXBvbmVudHM/LlJvb3Q7XG4gIGNvbnN0IG90aGVyUHJvcHMgPSB7XG4gICAgYW5jaG9yRWwsXG4gICAgY29udGFpbmVyLFxuICAgIGRpc2FibGVQb3J0YWwsXG4gICAga2VlcE1vdW50ZWQsXG4gICAgbW9kaWZpZXJzLFxuICAgIG9wZW4sXG4gICAgcGxhY2VtZW50LFxuICAgIHBvcHBlck9wdGlvbnMsXG4gICAgcG9wcGVyUmVmLFxuICAgIHRyYW5zaXRpb24sXG4gICAgLi4ub3RoZXJcbiAgfTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KFBvcHBlclJvb3QsIHtcbiAgICBhczogY29tcG9uZW50LFxuICAgIGRpcmVjdGlvbjogaXNSdGwgPyAncnRsJyA6ICdsdHInLFxuICAgIHNsb3RzOiB7XG4gICAgICByb290OiBSb290Q29tcG9uZW50XG4gICAgfSxcbiAgICBzbG90UHJvcHM6IHNsb3RQcm9wcyA/PyBjb21wb25lbnRzUHJvcHMsXG4gICAgLi4ub3RoZXJQcm9wcyxcbiAgICByZWY6IHJlZlxuICB9KTtcbn0pO1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gUG9wcGVyLnByb3BUeXBlcyAvKiByZW1vdmUtcHJvcHR5cGVzICovID0ge1xuICAvLyDilIzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgV2FybmluZyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJBcbiAgLy8g4pSCIFRoZXNlIFByb3BUeXBlcyBhcmUgZ2VuZXJhdGVkIGZyb20gdGhlIFR5cGVTY3JpcHQgdHlwZSBkZWZpbml0aW9ucy4g4pSCXG4gIC8vIOKUgiBUbyB1cGRhdGUgdGhlbSwgZWRpdCB0aGUgVHlwZVNjcmlwdCB0eXBlcyBhbmQgcnVuIGBwbnBtIHByb3B0eXBlc2AuIOKUglxuICAvLyDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJhcbiAgLyoqXG4gICAqIEFuIEhUTUwgZWxlbWVudCwgW3ZpcnR1YWxFbGVtZW50XShodHRwczovL3BvcHBlci5qcy5vcmcvZG9jcy92Mi92aXJ0dWFsLWVsZW1lbnRzLyksXG4gICAqIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGVpdGhlci5cbiAgICogSXQncyB1c2VkIHRvIHNldCB0aGUgcG9zaXRpb24gb2YgdGhlIHBvcHBlci5cbiAgICogVGhlIHJldHVybiB2YWx1ZSB3aWxsIHBhc3NlZCBhcyB0aGUgcmVmZXJlbmNlIG9iamVjdCBvZiB0aGUgUG9wcGVyIGluc3RhbmNlLlxuICAgKi9cbiAgYW5jaG9yRWw6IFByb3BUeXBlcyAvKiBAdHlwZXNjcmlwdC10by1wcm9wdHlwZXMtaWdub3JlICovLm9uZU9mVHlwZShbSFRNTEVsZW1lbnRUeXBlLCBQcm9wVHlwZXMub2JqZWN0LCBQcm9wVHlwZXMuZnVuY10pLFxuICAvKipcbiAgICogUG9wcGVyIHJlbmRlciBmdW5jdGlvbiBvciBub2RlLlxuICAgKi9cbiAgY2hpbGRyZW46IFByb3BUeXBlcyAvKiBAdHlwZXNjcmlwdC10by1wcm9wdHlwZXMtaWdub3JlICovLm9uZU9mVHlwZShbUHJvcFR5cGVzLm5vZGUsIFByb3BUeXBlcy5mdW5jXSksXG4gIC8qKlxuICAgKiBUaGUgY29tcG9uZW50IHVzZWQgZm9yIHRoZSByb290IG5vZGUuXG4gICAqIEVpdGhlciBhIHN0cmluZyB0byB1c2UgYSBIVE1MIGVsZW1lbnQgb3IgYSBjb21wb25lbnQuXG4gICAqL1xuICBjb21wb25lbnQ6IFByb3BUeXBlcy5lbGVtZW50VHlwZSxcbiAgLyoqXG4gICAqIFRoZSBjb21wb25lbnRzIHVzZWQgZm9yIGVhY2ggc2xvdCBpbnNpZGUgdGhlIFBvcHBlci5cbiAgICogRWl0aGVyIGEgc3RyaW5nIHRvIHVzZSBhIEhUTUwgZWxlbWVudCBvciBhIGNvbXBvbmVudC5cbiAgICpcbiAgICogQGRlcHJlY2F0ZWQgdXNlIHRoZSBgc2xvdHNgIHByb3AgaW5zdGVhZC4gVGhpcyBwcm9wIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSBtYWpvciByZWxlYXNlLiBbSG93IHRvIG1pZ3JhdGVdKC9tYXRlcmlhbC11aS9taWdyYXRpb24vbWlncmF0aW5nLWZyb20tZGVwcmVjYXRlZC1hcGlzLykuXG4gICAqIEBkZWZhdWx0IHt9XG4gICAqL1xuICBjb21wb25lbnRzOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIFJvb3Q6IFByb3BUeXBlcy5lbGVtZW50VHlwZVxuICB9KSxcbiAgLyoqXG4gICAqIFRoZSBwcm9wcyB1c2VkIGZvciBlYWNoIHNsb3QgaW5zaWRlIHRoZSBQb3BwZXIuXG4gICAqXG4gICAqIEBkZXByZWNhdGVkIHVzZSB0aGUgYHNsb3RQcm9wc2AgcHJvcCBpbnN0ZWFkLiBUaGlzIHByb3Agd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIG1ham9yIHJlbGVhc2UuIFtIb3cgdG8gbWlncmF0ZV0oL21hdGVyaWFsLXVpL21pZ3JhdGlvbi9taWdyYXRpbmctZnJvbS1kZXByZWNhdGVkLWFwaXMvKS5cbiAgICogQGRlZmF1bHQge31cbiAgICovXG4gIGNvbXBvbmVudHNQcm9wczogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICByb290OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdF0pXG4gIH0pLFxuICAvKipcbiAgICogQW4gSFRNTCBlbGVtZW50IG9yIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBvbmUuXG4gICAqIFRoZSBgY29udGFpbmVyYCB3aWxsIGhhdmUgdGhlIHBvcnRhbCBjaGlsZHJlbiBhcHBlbmRlZCB0byBpdC5cbiAgICpcbiAgICogWW91IGNhbiBhbHNvIHByb3ZpZGUgYSBjYWxsYmFjaywgd2hpY2ggaXMgY2FsbGVkIGluIGEgUmVhY3QgbGF5b3V0IGVmZmVjdC5cbiAgICogVGhpcyBsZXRzIHlvdSBzZXQgdGhlIGNvbnRhaW5lciBmcm9tIGEgcmVmLCBhbmQgYWxzbyBtYWtlcyBzZXJ2ZXItc2lkZSByZW5kZXJpbmcgcG9zc2libGUuXG4gICAqXG4gICAqIEJ5IGRlZmF1bHQsIGl0IHVzZXMgdGhlIGJvZHkgb2YgdGhlIHRvcC1sZXZlbCBkb2N1bWVudCBvYmplY3QsXG4gICAqIHNvIGl0J3Mgc2ltcGx5IGBkb2N1bWVudC5ib2R5YCBtb3N0IG9mIHRoZSB0aW1lLlxuICAgKi9cbiAgY29udGFpbmVyOiBQcm9wVHlwZXMgLyogQHR5cGVzY3JpcHQtdG8tcHJvcHR5cGVzLWlnbm9yZSAqLy5vbmVPZlR5cGUoW0hUTUxFbGVtZW50VHlwZSwgUHJvcFR5cGVzLmZ1bmNdKSxcbiAgLyoqXG4gICAqIFRoZSBgY2hpbGRyZW5gIHdpbGwgYmUgdW5kZXIgdGhlIERPTSBoaWVyYXJjaHkgb2YgdGhlIHBhcmVudCBjb21wb25lbnQuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBkaXNhYmxlUG9ydGFsOiBQcm9wVHlwZXMuYm9vbCxcbiAgLyoqXG4gICAqIEFsd2F5cyBrZWVwIHRoZSBjaGlsZHJlbiBpbiB0aGUgRE9NLlxuICAgKiBUaGlzIHByb3AgY2FuIGJlIHVzZWZ1bCBpbiBTRU8gc2l0dWF0aW9uIG9yXG4gICAqIHdoZW4geW91IHdhbnQgdG8gbWF4aW1pemUgdGhlIHJlc3BvbnNpdmVuZXNzIG9mIHRoZSBQb3BwZXIuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBrZWVwTW91bnRlZDogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBQb3BwZXIuanMgaXMgYmFzZWQgb24gYSBcInBsdWdpbi1saWtlXCIgYXJjaGl0ZWN0dXJlLFxuICAgKiBtb3N0IG9mIGl0cyBmZWF0dXJlcyBhcmUgZnVsbHkgZW5jYXBzdWxhdGVkIFwibW9kaWZpZXJzXCIuXG4gICAqXG4gICAqIEEgbW9kaWZpZXIgaXMgYSBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCBlYWNoIHRpbWUgUG9wcGVyLmpzIG5lZWRzIHRvXG4gICAqIGNvbXB1dGUgdGhlIHBvc2l0aW9uIG9mIHRoZSBwb3BwZXIuXG4gICAqIEZvciB0aGlzIHJlYXNvbiwgbW9kaWZpZXJzIHNob3VsZCBiZSB2ZXJ5IHBlcmZvcm1hbnQgdG8gYXZvaWQgYm90dGxlbmVja3MuXG4gICAqIFRvIGxlYXJuIGhvdyB0byBjcmVhdGUgYSBtb2RpZmllciwgW3JlYWQgdGhlIG1vZGlmaWVycyBkb2N1bWVudGF0aW9uXShodHRwczovL3BvcHBlci5qcy5vcmcvZG9jcy92Mi9tb2RpZmllcnMvKS5cbiAgICovXG4gIG1vZGlmaWVyczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBkYXRhOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIGVmZmVjdDogUHJvcFR5cGVzLmZ1bmMsXG4gICAgZW5hYmxlZDogUHJvcFR5cGVzLmJvb2wsXG4gICAgZm46IFByb3BUeXBlcy5mdW5jLFxuICAgIG5hbWU6IFByb3BUeXBlcy5hbnksXG4gICAgb3B0aW9uczogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBwaGFzZTogUHJvcFR5cGVzLm9uZU9mKFsnYWZ0ZXJNYWluJywgJ2FmdGVyUmVhZCcsICdhZnRlcldyaXRlJywgJ2JlZm9yZU1haW4nLCAnYmVmb3JlUmVhZCcsICdiZWZvcmVXcml0ZScsICdtYWluJywgJ3JlYWQnLCAnd3JpdGUnXSksXG4gICAgcmVxdWlyZXM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zdHJpbmcpLFxuICAgIHJlcXVpcmVzSWZFeGlzdHM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zdHJpbmcpXG4gIH0pKSxcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIGNvbXBvbmVudCBpcyBzaG93bi5cbiAgICovXG4gIG9wZW46IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIC8qKlxuICAgKiBQb3BwZXIgcGxhY2VtZW50LlxuICAgKiBAZGVmYXVsdCAnYm90dG9tJ1xuICAgKi9cbiAgcGxhY2VtZW50OiBQcm9wVHlwZXMub25lT2YoWydhdXRvLWVuZCcsICdhdXRvLXN0YXJ0JywgJ2F1dG8nLCAnYm90dG9tLWVuZCcsICdib3R0b20tc3RhcnQnLCAnYm90dG9tJywgJ2xlZnQtZW5kJywgJ2xlZnQtc3RhcnQnLCAnbGVmdCcsICdyaWdodC1lbmQnLCAncmlnaHQtc3RhcnQnLCAncmlnaHQnLCAndG9wLWVuZCcsICd0b3Atc3RhcnQnLCAndG9wJ10pLFxuICAvKipcbiAgICogT3B0aW9ucyBwcm92aWRlZCB0byB0aGUgW2BQb3BwZXIuanNgXShodHRwczovL3BvcHBlci5qcy5vcmcvZG9jcy92Mi9jb25zdHJ1Y3RvcnMvI29wdGlvbnMpIGluc3RhbmNlLlxuICAgKiBAZGVmYXVsdCB7fVxuICAgKi9cbiAgcG9wcGVyT3B0aW9uczogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBtb2RpZmllcnM6IFByb3BUeXBlcy5hcnJheSxcbiAgICBvbkZpcnN0VXBkYXRlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBwbGFjZW1lbnQ6IFByb3BUeXBlcy5vbmVPZihbJ2F1dG8tZW5kJywgJ2F1dG8tc3RhcnQnLCAnYXV0bycsICdib3R0b20tZW5kJywgJ2JvdHRvbS1zdGFydCcsICdib3R0b20nLCAnbGVmdC1lbmQnLCAnbGVmdC1zdGFydCcsICdsZWZ0JywgJ3JpZ2h0LWVuZCcsICdyaWdodC1zdGFydCcsICdyaWdodCcsICd0b3AtZW5kJywgJ3RvcC1zdGFydCcsICd0b3AnXSksXG4gICAgc3RyYXRlZ3k6IFByb3BUeXBlcy5vbmVPZihbJ2Fic29sdXRlJywgJ2ZpeGVkJ10pXG4gIH0pLFxuICAvKipcbiAgICogQSByZWYgdGhhdCBwb2ludHMgdG8gdGhlIHVzZWQgcG9wcGVyIGluc3RhbmNlLlxuICAgKi9cbiAgcG9wcGVyUmVmOiByZWZUeXBlLFxuICAvKipcbiAgICogVGhlIHByb3BzIHVzZWQgZm9yIGVhY2ggc2xvdCBpbnNpZGUgdGhlIFBvcHBlci5cbiAgICogQGRlZmF1bHQge31cbiAgICovXG4gIHNsb3RQcm9wczogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICByb290OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdF0pXG4gIH0pLFxuICAvKipcbiAgICogVGhlIGNvbXBvbmVudHMgdXNlZCBmb3IgZWFjaCBzbG90IGluc2lkZSB0aGUgUG9wcGVyLlxuICAgKiBFaXRoZXIgYSBzdHJpbmcgdG8gdXNlIGEgSFRNTCBlbGVtZW50IG9yIGEgY29tcG9uZW50LlxuICAgKiBAZGVmYXVsdCB7fVxuICAgKi9cbiAgc2xvdHM6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgcm9vdDogUHJvcFR5cGVzLmVsZW1lbnRUeXBlXG4gIH0pLFxuICAvKipcbiAgICogVGhlIHN5c3RlbSBwcm9wIHRoYXQgYWxsb3dzIGRlZmluaW5nIHN5c3RlbSBvdmVycmlkZXMgYXMgd2VsbCBhcyBhZGRpdGlvbmFsIENTUyBzdHlsZXMuXG4gICAqL1xuICBzeDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3QsIFByb3BUeXBlcy5ib29sXSkpLCBQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdF0pLFxuICAvKipcbiAgICogSGVscCBzdXBwb3J0aW5nIGEgcmVhY3QtdHJhbnNpdGlvbi1ncm91cC9UcmFuc2l0aW9uIGNvbXBvbmVudC5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHRyYW5zaXRpb246IFByb3BUeXBlcy5ib29sXG59IDogdm9pZCAwO1xuZXhwb3J0IGRlZmF1bHQgUG9wcGVyOyIsCiAgICAiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgb3duZXJEb2N1bWVudCBmcm9tICdAbXVpL3V0aWxzL293bmVyRG9jdW1lbnQnO1xuaW1wb3J0IHVzZUVuaGFuY2VkRWZmZWN0IGZyb20gJ0BtdWkvdXRpbHMvdXNlRW5oYW5jZWRFZmZlY3QnO1xuaW1wb3J0IHVzZUZvcmtSZWYgZnJvbSAnQG11aS91dGlscy91c2VGb3JrUmVmJztcbmltcG9ydCBjaGFpblByb3BUeXBlcyBmcm9tICdAbXVpL3V0aWxzL2NoYWluUHJvcFR5cGVzJztcbmltcG9ydCBIVE1MRWxlbWVudFR5cGUgZnJvbSAnQG11aS91dGlscy9IVE1MRWxlbWVudFR5cGUnO1xuaW1wb3J0IHJlZlR5cGUgZnJvbSAnQG11aS91dGlscy9yZWZUeXBlJztcbmltcG9ydCB7IGNyZWF0ZVBvcHBlciB9IGZyb20gJ0Bwb3BwZXJqcy9jb3JlJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgY29tcG9zZUNsYXNzZXMgZnJvbSAnQG11aS91dGlscy9jb21wb3NlQ2xhc3Nlcyc7XG5pbXBvcnQgdXNlU2xvdFByb3BzIGZyb20gJ0BtdWkvdXRpbHMvdXNlU2xvdFByb3BzJztcbmltcG9ydCBQb3J0YWwgZnJvbSBcIi4uL1BvcnRhbC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgZ2V0UG9wcGVyVXRpbGl0eUNsYXNzIH0gZnJvbSBcIi4vcG9wcGVyQ2xhc3Nlcy5qc1wiO1xuaW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIGZsaXBQbGFjZW1lbnQocGxhY2VtZW50LCBkaXJlY3Rpb24pIHtcbiAgaWYgKGRpcmVjdGlvbiA9PT0gJ2x0cicpIHtcbiAgICByZXR1cm4gcGxhY2VtZW50O1xuICB9XG4gIHN3aXRjaCAocGxhY2VtZW50KSB7XG4gICAgY2FzZSAnYm90dG9tLWVuZCc6XG4gICAgICByZXR1cm4gJ2JvdHRvbS1zdGFydCc7XG4gICAgY2FzZSAnYm90dG9tLXN0YXJ0JzpcbiAgICAgIHJldHVybiAnYm90dG9tLWVuZCc7XG4gICAgY2FzZSAndG9wLWVuZCc6XG4gICAgICByZXR1cm4gJ3RvcC1zdGFydCc7XG4gICAgY2FzZSAndG9wLXN0YXJ0JzpcbiAgICAgIHJldHVybiAndG9wLWVuZCc7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBwbGFjZW1lbnQ7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlc29sdmVBbmNob3JFbChhbmNob3JFbCkge1xuICByZXR1cm4gdHlwZW9mIGFuY2hvckVsID09PSAnZnVuY3Rpb24nID8gYW5jaG9yRWwoKSA6IGFuY2hvckVsO1xufVxuZnVuY3Rpb24gaXNIVE1MRWxlbWVudChlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50Lm5vZGVUeXBlICE9PSB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBpc1ZpcnR1YWxFbGVtZW50KGVsZW1lbnQpIHtcbiAgcmV0dXJuICFpc0hUTUxFbGVtZW50KGVsZW1lbnQpO1xufVxuY29uc3QgdXNlVXRpbGl0eUNsYXNzZXMgPSBvd25lclN0YXRlID0+IHtcbiAgY29uc3Qge1xuICAgIGNsYXNzZXNcbiAgfSA9IG93bmVyU3RhdGU7XG4gIGNvbnN0IHNsb3RzID0ge1xuICAgIHJvb3Q6IFsncm9vdCddXG4gIH07XG4gIHJldHVybiBjb21wb3NlQ2xhc3NlcyhzbG90cywgZ2V0UG9wcGVyVXRpbGl0eUNsYXNzLCBjbGFzc2VzKTtcbn07XG5jb25zdCBkZWZhdWx0UG9wcGVyT3B0aW9ucyA9IHt9O1xuY29uc3QgUG9wcGVyVG9vbHRpcCA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIFBvcHBlclRvb2x0aXAocHJvcHMsIGZvcndhcmRlZFJlZikge1xuICBjb25zdCB7XG4gICAgYW5jaG9yRWwsXG4gICAgY2hpbGRyZW4sXG4gICAgZGlyZWN0aW9uLFxuICAgIGRpc2FibGVQb3J0YWwsXG4gICAgbW9kaWZpZXJzLFxuICAgIG9wZW4sXG4gICAgcGxhY2VtZW50OiBpbml0aWFsUGxhY2VtZW50LFxuICAgIHBvcHBlck9wdGlvbnMsXG4gICAgcG9wcGVyUmVmOiBwb3BwZXJSZWZQcm9wLFxuICAgIHNsb3RQcm9wcyA9IHt9LFxuICAgIHNsb3RzID0ge30sXG4gICAgVHJhbnNpdGlvblByb3BzLFxuICAgIC8vIEB0cy1pZ25vcmUgaW50ZXJuYWwgbG9naWNcbiAgICBvd25lclN0YXRlOiBvd25lclN0YXRlUHJvcCxcbiAgICAvLyBwcmV2ZW50IGZyb20gc3ByZWFkaW5nIHRvIERPTSwgaXQgY2FuIGNvbWUgZnJvbSB0aGUgcGFyZW50IGNvbXBvbmVudCBlLmcuIFNlbGVjdC5cbiAgICAuLi5vdGhlclxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHRvb2x0aXBSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIGNvbnN0IG93blJlZiA9IHVzZUZvcmtSZWYodG9vbHRpcFJlZiwgZm9yd2FyZGVkUmVmKTtcbiAgY29uc3QgcG9wcGVyUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICBjb25zdCBoYW5kbGVQb3BwZXJSZWYgPSB1c2VGb3JrUmVmKHBvcHBlclJlZiwgcG9wcGVyUmVmUHJvcCk7XG4gIGNvbnN0IGhhbmRsZVBvcHBlclJlZlJlZiA9IFJlYWN0LnVzZVJlZihoYW5kbGVQb3BwZXJSZWYpO1xuICB1c2VFbmhhbmNlZEVmZmVjdCgoKSA9PiB7XG4gICAgaGFuZGxlUG9wcGVyUmVmUmVmLmN1cnJlbnQgPSBoYW5kbGVQb3BwZXJSZWY7XG4gIH0sIFtoYW5kbGVQb3BwZXJSZWZdKTtcbiAgUmVhY3QudXNlSW1wZXJhdGl2ZUhhbmRsZShwb3BwZXJSZWZQcm9wLCAoKSA9PiBwb3BwZXJSZWYuY3VycmVudCwgW10pO1xuICBjb25zdCBydGxQbGFjZW1lbnQgPSBmbGlwUGxhY2VtZW50KGluaXRpYWxQbGFjZW1lbnQsIGRpcmVjdGlvbik7XG4gIC8qKlxuICAgKiBwbGFjZW1lbnQgaW5pdGlhbGl6ZWQgZnJvbSBwcm9wIGJ1dCBjYW4gY2hhbmdlIGR1cmluZyBsaWZldGltZSBpZiBtb2RpZmllcnMuZmxpcC5cbiAgICogbW9kaWZpZXJzLmZsaXAgaXMgZXNzZW50aWFsbHkgYSBmbGlwIGZvciBjb250cm9sbGVkL3VuY29udHJvbGxlZCBiZWhhdmlvclxuICAgKi9cbiAgY29uc3QgW3BsYWNlbWVudCwgc2V0UGxhY2VtZW50XSA9IFJlYWN0LnVzZVN0YXRlKHJ0bFBsYWNlbWVudCk7XG4gIGNvbnN0IFtyZXNvbHZlZEFuY2hvckVsZW1lbnQsIHNldFJlc29sdmVkQW5jaG9yRWxlbWVudF0gPSBSZWFjdC51c2VTdGF0ZShyZXNvbHZlQW5jaG9yRWwoYW5jaG9yRWwpKTtcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocG9wcGVyUmVmLmN1cnJlbnQpIHtcbiAgICAgIHBvcHBlclJlZi5jdXJyZW50LmZvcmNlVXBkYXRlKCk7XG4gICAgfVxuICB9KTtcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYW5jaG9yRWwpIHtcbiAgICAgIHNldFJlc29sdmVkQW5jaG9yRWxlbWVudChyZXNvbHZlQW5jaG9yRWwoYW5jaG9yRWwpKTtcbiAgICB9XG4gIH0sIFthbmNob3JFbF0pO1xuICB1c2VFbmhhbmNlZEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFyZXNvbHZlZEFuY2hvckVsZW1lbnQgfHwgIW9wZW4pIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IGhhbmRsZVBvcHBlclVwZGF0ZSA9IGRhdGEgPT4ge1xuICAgICAgc2V0UGxhY2VtZW50KGRhdGEucGxhY2VtZW50KTtcbiAgICB9O1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAocmVzb2x2ZWRBbmNob3JFbGVtZW50ICYmIGlzSFRNTEVsZW1lbnQocmVzb2x2ZWRBbmNob3JFbGVtZW50KSAmJiByZXNvbHZlZEFuY2hvckVsZW1lbnQubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgY29uc3QgYm94ID0gcmVzb2x2ZWRBbmNob3JFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICd0ZXN0JyAmJiBib3gudG9wID09PSAwICYmIGJveC5sZWZ0ID09PSAwICYmIGJveC5yaWdodCA9PT0gMCAmJiBib3guYm90dG9tID09PSAwKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFsnTVVJOiBUaGUgYGFuY2hvckVsYCBwcm9wIHByb3ZpZGVkIHRvIHRoZSBjb21wb25lbnQgaXMgaW52YWxpZC4nLCAnVGhlIGFuY2hvciBlbGVtZW50IHNob3VsZCBiZSBwYXJ0IG9mIHRoZSBkb2N1bWVudCBsYXlvdXQuJywgXCJNYWtlIHN1cmUgdGhlIGVsZW1lbnQgaXMgcHJlc2VudCBpbiB0aGUgZG9jdW1lbnQgb3IgdGhhdCBpdCdzIG5vdCBkaXNwbGF5IG5vbmUuXCJdLmpvaW4oJ1xcbicpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBsZXQgcG9wcGVyTW9kaWZpZXJzID0gW3tcbiAgICAgIG5hbWU6ICdwcmV2ZW50T3ZlcmZsb3cnLFxuICAgICAgb3B0aW9uczoge1xuICAgICAgICBhbHRCb3VuZGFyeTogZGlzYWJsZVBvcnRhbFxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIG5hbWU6ICdmbGlwJyxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgYWx0Qm91bmRhcnk6IGRpc2FibGVQb3J0YWxcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBuYW1lOiAnb25VcGRhdGUnLFxuICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgIHBoYXNlOiAnYWZ0ZXJXcml0ZScsXG4gICAgICBmbjogKHtcbiAgICAgICAgc3RhdGVcbiAgICAgIH0pID0+IHtcbiAgICAgICAgaGFuZGxlUG9wcGVyVXBkYXRlKHN0YXRlKTtcbiAgICAgIH1cbiAgICB9XTtcbiAgICBpZiAobW9kaWZpZXJzICE9IG51bGwpIHtcbiAgICAgIHBvcHBlck1vZGlmaWVycyA9IHBvcHBlck1vZGlmaWVycy5jb25jYXQobW9kaWZpZXJzKTtcbiAgICB9XG4gICAgaWYgKHBvcHBlck9wdGlvbnMgJiYgcG9wcGVyT3B0aW9ucy5tb2RpZmllcnMgIT0gbnVsbCkge1xuICAgICAgcG9wcGVyTW9kaWZpZXJzID0gcG9wcGVyTW9kaWZpZXJzLmNvbmNhdChwb3BwZXJPcHRpb25zLm1vZGlmaWVycyk7XG4gICAgfVxuICAgIGNvbnN0IHBvcHBlciA9IGNyZWF0ZVBvcHBlcihyZXNvbHZlZEFuY2hvckVsZW1lbnQsIHRvb2x0aXBSZWYuY3VycmVudCwge1xuICAgICAgcGxhY2VtZW50OiBydGxQbGFjZW1lbnQsXG4gICAgICAuLi5wb3BwZXJPcHRpb25zLFxuICAgICAgbW9kaWZpZXJzOiBwb3BwZXJNb2RpZmllcnNcbiAgICB9KTtcbiAgICBoYW5kbGVQb3BwZXJSZWZSZWYuY3VycmVudChwb3BwZXIpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBwb3BwZXIuZGVzdHJveSgpO1xuICAgICAgaGFuZGxlUG9wcGVyUmVmUmVmLmN1cnJlbnQobnVsbCk7XG4gICAgfTtcbiAgfSwgW3Jlc29sdmVkQW5jaG9yRWxlbWVudCwgZGlzYWJsZVBvcnRhbCwgbW9kaWZpZXJzLCBvcGVuLCBwb3BwZXJPcHRpb25zLCBydGxQbGFjZW1lbnRdKTtcbiAgY29uc3QgY2hpbGRQcm9wcyA9IHtcbiAgICBwbGFjZW1lbnQ6IHBsYWNlbWVudFxuICB9O1xuICBpZiAoVHJhbnNpdGlvblByb3BzICE9PSBudWxsKSB7XG4gICAgY2hpbGRQcm9wcy5UcmFuc2l0aW9uUHJvcHMgPSBUcmFuc2l0aW9uUHJvcHM7XG4gIH1cbiAgY29uc3QgY2xhc3NlcyA9IHVzZVV0aWxpdHlDbGFzc2VzKHByb3BzKTtcbiAgY29uc3QgUm9vdCA9IHNsb3RzLnJvb3QgPz8gJ2Rpdic7XG4gIGNvbnN0IHJvb3RQcm9wcyA9IHVzZVNsb3RQcm9wcyh7XG4gICAgZWxlbWVudFR5cGU6IFJvb3QsXG4gICAgZXh0ZXJuYWxTbG90UHJvcHM6IHNsb3RQcm9wcy5yb290LFxuICAgIGV4dGVybmFsRm9yd2FyZGVkUHJvcHM6IG90aGVyLFxuICAgIGFkZGl0aW9uYWxQcm9wczoge1xuICAgICAgcm9sZTogJ3Rvb2x0aXAnLFxuICAgICAgcmVmOiBvd25SZWZcbiAgICB9LFxuICAgIG93bmVyU3RhdGU6IHByb3BzLFxuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5yb290XG4gIH0pO1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3goUm9vdCwge1xuICAgIC4uLnJvb3RQcm9wcyxcbiAgICBjaGlsZHJlbjogdHlwZW9mIGNoaWxkcmVuID09PSAnZnVuY3Rpb24nID8gY2hpbGRyZW4oY2hpbGRQcm9wcykgOiBjaGlsZHJlblxuICB9KTtcbn0pO1xuXG4vKipcbiAqIEBpZ25vcmUgLSBpbnRlcm5hbCBjb21wb25lbnQuXG4gKi9cbmNvbnN0IFBvcHBlciA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIFBvcHBlcihwcm9wcywgZm9yd2FyZGVkUmVmKSB7XG4gIGNvbnN0IHtcbiAgICBhbmNob3JFbCxcbiAgICBjaGlsZHJlbixcbiAgICBjb250YWluZXI6IGNvbnRhaW5lclByb3AsXG4gICAgZGlyZWN0aW9uID0gJ2x0cicsXG4gICAgZGlzYWJsZVBvcnRhbCA9IGZhbHNlLFxuICAgIGtlZXBNb3VudGVkID0gZmFsc2UsXG4gICAgbW9kaWZpZXJzLFxuICAgIG9wZW4sXG4gICAgcGxhY2VtZW50ID0gJ2JvdHRvbScsXG4gICAgcG9wcGVyT3B0aW9ucyA9IGRlZmF1bHRQb3BwZXJPcHRpb25zLFxuICAgIHBvcHBlclJlZixcbiAgICBzdHlsZSxcbiAgICB0cmFuc2l0aW9uID0gZmFsc2UsXG4gICAgc2xvdFByb3BzID0ge30sXG4gICAgc2xvdHMgPSB7fSxcbiAgICAuLi5vdGhlclxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IFtleGl0ZWQsIHNldEV4aXRlZF0gPSBSZWFjdC51c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgaGFuZGxlRW50ZXIgPSAoKSA9PiB7XG4gICAgc2V0RXhpdGVkKGZhbHNlKTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlRXhpdGVkID0gKCkgPT4ge1xuICAgIHNldEV4aXRlZCh0cnVlKTtcbiAgfTtcbiAgaWYgKCFrZWVwTW91bnRlZCAmJiAhb3BlbiAmJiAoIXRyYW5zaXRpb24gfHwgZXhpdGVkKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gSWYgdGhlIGNvbnRhaW5lciBwcm9wIGlzIHByb3ZpZGVkLCB1c2UgdGhhdFxuICAvLyBJZiB0aGUgYW5jaG9yRWwgcHJvcCBpcyBwcm92aWRlZCwgdXNlIGl0cyBwYXJlbnQgYm9keSBlbGVtZW50IGFzIHRoZSBjb250YWluZXJcbiAgLy8gSWYgbmVpdGhlciBhcmUgcHJvdmlkZWQgbGV0IHRoZSBNb2RhbCB0YWtlIGNhcmUgb2YgY2hvb3NpbmcgdGhlIGNvbnRhaW5lclxuICBsZXQgY29udGFpbmVyO1xuICBpZiAoY29udGFpbmVyUHJvcCkge1xuICAgIGNvbnRhaW5lciA9IGNvbnRhaW5lclByb3A7XG4gIH0gZWxzZSBpZiAoYW5jaG9yRWwpIHtcbiAgICBjb25zdCByZXNvbHZlZEFuY2hvckVsID0gcmVzb2x2ZUFuY2hvckVsKGFuY2hvckVsKTtcbiAgICBjb250YWluZXIgPSByZXNvbHZlZEFuY2hvckVsICYmIGlzSFRNTEVsZW1lbnQocmVzb2x2ZWRBbmNob3JFbCkgPyBvd25lckRvY3VtZW50KHJlc29sdmVkQW5jaG9yRWwpLmJvZHkgOiBvd25lckRvY3VtZW50KG51bGwpLmJvZHk7XG4gIH1cbiAgY29uc3QgZGlzcGxheSA9ICFvcGVuICYmIGtlZXBNb3VudGVkICYmICghdHJhbnNpdGlvbiB8fCBleGl0ZWQpID8gJ25vbmUnIDogdW5kZWZpbmVkO1xuICBjb25zdCB0cmFuc2l0aW9uUHJvcHMgPSB0cmFuc2l0aW9uID8ge1xuICAgIGluOiBvcGVuLFxuICAgIG9uRW50ZXI6IGhhbmRsZUVudGVyLFxuICAgIG9uRXhpdGVkOiBoYW5kbGVFeGl0ZWRcbiAgfSA6IHVuZGVmaW5lZDtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KFBvcnRhbCwge1xuICAgIGRpc2FibGVQb3J0YWw6IGRpc2FibGVQb3J0YWwsXG4gICAgY29udGFpbmVyOiBjb250YWluZXIsXG4gICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KFBvcHBlclRvb2x0aXAsIHtcbiAgICAgIGFuY2hvckVsOiBhbmNob3JFbCxcbiAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uLFxuICAgICAgZGlzYWJsZVBvcnRhbDogZGlzYWJsZVBvcnRhbCxcbiAgICAgIG1vZGlmaWVyczogbW9kaWZpZXJzLFxuICAgICAgcmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICBvcGVuOiB0cmFuc2l0aW9uID8gIWV4aXRlZCA6IG9wZW4sXG4gICAgICBwbGFjZW1lbnQ6IHBsYWNlbWVudCxcbiAgICAgIHBvcHBlck9wdGlvbnM6IHBvcHBlck9wdGlvbnMsXG4gICAgICBwb3BwZXJSZWY6IHBvcHBlclJlZixcbiAgICAgIHNsb3RQcm9wczogc2xvdFByb3BzLFxuICAgICAgc2xvdHM6IHNsb3RzLFxuICAgICAgLi4ub3RoZXIsXG4gICAgICBzdHlsZToge1xuICAgICAgICAvLyBQcmV2ZW50cyBzY3JvbGwgaXNzdWUsIHdhaXRpbmcgZm9yIFBvcHBlci5qcyB0byBhZGQgdGhpcyBzdHlsZSBvbmNlIGluaXRpYXRlZC5cbiAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICAgIC8vIEZpeCBQb3BwZXIuanMgZGlzcGxheSBpc3N1ZVxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICAgIGRpc3BsYXksXG4gICAgICAgIC4uLnN0eWxlXG4gICAgICB9LFxuICAgICAgVHJhbnNpdGlvblByb3BzOiB0cmFuc2l0aW9uUHJvcHMsXG4gICAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgICB9KVxuICB9KTtcbn0pO1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gUG9wcGVyLnByb3BUeXBlcyAvKiByZW1vdmUtcHJvcHR5cGVzICovID0ge1xuICAvLyDilIzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgV2FybmluZyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJBcbiAgLy8g4pSCIFRoZXNlIFByb3BUeXBlcyBhcmUgZ2VuZXJhdGVkIGZyb20gdGhlIFR5cGVTY3JpcHQgdHlwZSBkZWZpbml0aW9ucy4g4pSCXG4gIC8vIOKUgiBUbyB1cGRhdGUgdGhlbSwgZWRpdCB0aGUgVHlwZVNjcmlwdCB0eXBlcyBhbmQgcnVuIGBwbnBtIHByb3B0eXBlc2AuIOKUglxuICAvLyDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJhcbiAgLyoqXG4gICAqIEFuIEhUTUwgZWxlbWVudCwgW3ZpcnR1YWxFbGVtZW50XShodHRwczovL3BvcHBlci5qcy5vcmcvZG9jcy92Mi92aXJ0dWFsLWVsZW1lbnRzLyksXG4gICAqIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGVpdGhlci5cbiAgICogSXQncyB1c2VkIHRvIHNldCB0aGUgcG9zaXRpb24gb2YgdGhlIHBvcHBlci5cbiAgICogVGhlIHJldHVybiB2YWx1ZSB3aWxsIHBhc3NlZCBhcyB0aGUgcmVmZXJlbmNlIG9iamVjdCBvZiB0aGUgUG9wcGVyIGluc3RhbmNlLlxuICAgKi9cbiAgYW5jaG9yRWw6IGNoYWluUHJvcFR5cGVzKFByb3BUeXBlcy5vbmVPZlR5cGUoW0hUTUxFbGVtZW50VHlwZSwgUHJvcFR5cGVzLm9iamVjdCwgUHJvcFR5cGVzLmZ1bmNdKSwgcHJvcHMgPT4ge1xuICAgIGlmIChwcm9wcy5vcGVuKSB7XG4gICAgICBjb25zdCByZXNvbHZlZEFuY2hvckVsID0gcmVzb2x2ZUFuY2hvckVsKHByb3BzLmFuY2hvckVsKTtcbiAgICAgIGlmIChyZXNvbHZlZEFuY2hvckVsICYmIGlzSFRNTEVsZW1lbnQocmVzb2x2ZWRBbmNob3JFbCkgJiYgcmVzb2x2ZWRBbmNob3JFbC5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICBjb25zdCBib3ggPSByZXNvbHZlZEFuY2hvckVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICd0ZXN0JyAmJiBib3gudG9wID09PSAwICYmIGJveC5sZWZ0ID09PSAwICYmIGJveC5yaWdodCA9PT0gMCAmJiBib3guYm90dG9tID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihbJ01VSTogVGhlIGBhbmNob3JFbGAgcHJvcCBwcm92aWRlZCB0byB0aGUgY29tcG9uZW50IGlzIGludmFsaWQuJywgJ1RoZSBhbmNob3IgZWxlbWVudCBzaG91bGQgYmUgcGFydCBvZiB0aGUgZG9jdW1lbnQgbGF5b3V0LicsIFwiTWFrZSBzdXJlIHRoZSBlbGVtZW50IGlzIHByZXNlbnQgaW4gdGhlIGRvY3VtZW50IG9yIHRoYXQgaXQncyBub3QgZGlzcGxheSBub25lLlwiXS5qb2luKCdcXG4nKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIXJlc29sdmVkQW5jaG9yRWwgfHwgdHlwZW9mIHJlc29sdmVkQW5jaG9yRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0ICE9PSAnZnVuY3Rpb24nIHx8IGlzVmlydHVhbEVsZW1lbnQocmVzb2x2ZWRBbmNob3JFbCkgJiYgcmVzb2x2ZWRBbmNob3JFbC5jb250ZXh0RWxlbWVudCAhPSBudWxsICYmIHJlc29sdmVkQW5jaG9yRWwuY29udGV4dEVsZW1lbnQubm9kZVR5cGUgIT09IDEpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihbJ01VSTogVGhlIGBhbmNob3JFbGAgcHJvcCBwcm92aWRlZCB0byB0aGUgY29tcG9uZW50IGlzIGludmFsaWQuJywgJ0l0IHNob3VsZCBiZSBhbiBIVE1MIGVsZW1lbnQgaW5zdGFuY2Ugb3IgYSB2aXJ0dWFsRWxlbWVudCAnLCAnKGh0dHBzOi8vcG9wcGVyLmpzLm9yZy9kb2NzL3YyL3ZpcnR1YWwtZWxlbWVudHMvKS4nXS5qb2luKCdcXG4nKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9KSxcbiAgLyoqXG4gICAqIFBvcHBlciByZW5kZXIgZnVuY3Rpb24gb3Igbm9kZS5cbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMgLyogQHR5cGVzY3JpcHQtdG8tcHJvcHR5cGVzLWlnbm9yZSAqLy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5ub2RlLCBQcm9wVHlwZXMuZnVuY10pLFxuICAvKipcbiAgICogQW4gSFRNTCBlbGVtZW50IG9yIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBvbmUuXG4gICAqIFRoZSBgY29udGFpbmVyYCB3aWxsIGhhdmUgdGhlIHBvcnRhbCBjaGlsZHJlbiBhcHBlbmRlZCB0byBpdC5cbiAgICpcbiAgICogWW91IGNhbiBhbHNvIHByb3ZpZGUgYSBjYWxsYmFjaywgd2hpY2ggaXMgY2FsbGVkIGluIGEgUmVhY3QgbGF5b3V0IGVmZmVjdC5cbiAgICogVGhpcyBsZXRzIHlvdSBzZXQgdGhlIGNvbnRhaW5lciBmcm9tIGEgcmVmLCBhbmQgYWxzbyBtYWtlcyBzZXJ2ZXItc2lkZSByZW5kZXJpbmcgcG9zc2libGUuXG4gICAqXG4gICAqIEJ5IGRlZmF1bHQsIGl0IHVzZXMgdGhlIGJvZHkgb2YgdGhlIHRvcC1sZXZlbCBkb2N1bWVudCBvYmplY3QsXG4gICAqIHNvIGl0J3Mgc2ltcGx5IGBkb2N1bWVudC5ib2R5YCBtb3N0IG9mIHRoZSB0aW1lLlxuICAgKi9cbiAgY29udGFpbmVyOiBQcm9wVHlwZXMgLyogQHR5cGVzY3JpcHQtdG8tcHJvcHR5cGVzLWlnbm9yZSAqLy5vbmVPZlR5cGUoW0hUTUxFbGVtZW50VHlwZSwgUHJvcFR5cGVzLmZ1bmNdKSxcbiAgLyoqXG4gICAqIERpcmVjdGlvbiBvZiB0aGUgdGV4dC5cbiAgICogQGRlZmF1bHQgJ2x0cidcbiAgICovXG4gIGRpcmVjdGlvbjogUHJvcFR5cGVzLm9uZU9mKFsnbHRyJywgJ3J0bCddKSxcbiAgLyoqXG4gICAqIFRoZSBgY2hpbGRyZW5gIHdpbGwgYmUgdW5kZXIgdGhlIERPTSBoaWVyYXJjaHkgb2YgdGhlIHBhcmVudCBjb21wb25lbnQuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBkaXNhYmxlUG9ydGFsOiBQcm9wVHlwZXMuYm9vbCxcbiAgLyoqXG4gICAqIEFsd2F5cyBrZWVwIHRoZSBjaGlsZHJlbiBpbiB0aGUgRE9NLlxuICAgKiBUaGlzIHByb3AgY2FuIGJlIHVzZWZ1bCBpbiBTRU8gc2l0dWF0aW9uIG9yXG4gICAqIHdoZW4geW91IHdhbnQgdG8gbWF4aW1pemUgdGhlIHJlc3BvbnNpdmVuZXNzIG9mIHRoZSBQb3BwZXIuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBrZWVwTW91bnRlZDogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBQb3BwZXIuanMgaXMgYmFzZWQgb24gYSBcInBsdWdpbi1saWtlXCIgYXJjaGl0ZWN0dXJlLFxuICAgKiBtb3N0IG9mIGl0cyBmZWF0dXJlcyBhcmUgZnVsbHkgZW5jYXBzdWxhdGVkIFwibW9kaWZpZXJzXCIuXG4gICAqXG4gICAqIEEgbW9kaWZpZXIgaXMgYSBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCBlYWNoIHRpbWUgUG9wcGVyLmpzIG5lZWRzIHRvXG4gICAqIGNvbXB1dGUgdGhlIHBvc2l0aW9uIG9mIHRoZSBwb3BwZXIuXG4gICAqIEZvciB0aGlzIHJlYXNvbiwgbW9kaWZpZXJzIHNob3VsZCBiZSB2ZXJ5IHBlcmZvcm1hbnQgdG8gYXZvaWQgYm90dGxlbmVja3MuXG4gICAqIFRvIGxlYXJuIGhvdyB0byBjcmVhdGUgYSBtb2RpZmllciwgW3JlYWQgdGhlIG1vZGlmaWVycyBkb2N1bWVudGF0aW9uXShodHRwczovL3BvcHBlci5qcy5vcmcvZG9jcy92Mi9tb2RpZmllcnMvKS5cbiAgICovXG4gIG1vZGlmaWVyczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBkYXRhOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIGVmZmVjdDogUHJvcFR5cGVzLmZ1bmMsXG4gICAgZW5hYmxlZDogUHJvcFR5cGVzLmJvb2wsXG4gICAgZm46IFByb3BUeXBlcy5mdW5jLFxuICAgIG5hbWU6IFByb3BUeXBlcy5hbnksXG4gICAgb3B0aW9uczogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBwaGFzZTogUHJvcFR5cGVzLm9uZU9mKFsnYWZ0ZXJNYWluJywgJ2FmdGVyUmVhZCcsICdhZnRlcldyaXRlJywgJ2JlZm9yZU1haW4nLCAnYmVmb3JlUmVhZCcsICdiZWZvcmVXcml0ZScsICdtYWluJywgJ3JlYWQnLCAnd3JpdGUnXSksXG4gICAgcmVxdWlyZXM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zdHJpbmcpLFxuICAgIHJlcXVpcmVzSWZFeGlzdHM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zdHJpbmcpXG4gIH0pKSxcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIGNvbXBvbmVudCBpcyBzaG93bi5cbiAgICovXG4gIG9wZW46IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIC8qKlxuICAgKiBQb3BwZXIgcGxhY2VtZW50LlxuICAgKiBAZGVmYXVsdCAnYm90dG9tJ1xuICAgKi9cbiAgcGxhY2VtZW50OiBQcm9wVHlwZXMub25lT2YoWydhdXRvLWVuZCcsICdhdXRvLXN0YXJ0JywgJ2F1dG8nLCAnYm90dG9tLWVuZCcsICdib3R0b20tc3RhcnQnLCAnYm90dG9tJywgJ2xlZnQtZW5kJywgJ2xlZnQtc3RhcnQnLCAnbGVmdCcsICdyaWdodC1lbmQnLCAncmlnaHQtc3RhcnQnLCAncmlnaHQnLCAndG9wLWVuZCcsICd0b3Atc3RhcnQnLCAndG9wJ10pLFxuICAvKipcbiAgICogT3B0aW9ucyBwcm92aWRlZCB0byB0aGUgW2BQb3BwZXIuanNgXShodHRwczovL3BvcHBlci5qcy5vcmcvZG9jcy92Mi9jb25zdHJ1Y3RvcnMvI29wdGlvbnMpIGluc3RhbmNlLlxuICAgKiBAZGVmYXVsdCB7fVxuICAgKi9cbiAgcG9wcGVyT3B0aW9uczogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBtb2RpZmllcnM6IFByb3BUeXBlcy5hcnJheSxcbiAgICBvbkZpcnN0VXBkYXRlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBwbGFjZW1lbnQ6IFByb3BUeXBlcy5vbmVPZihbJ2F1dG8tZW5kJywgJ2F1dG8tc3RhcnQnLCAnYXV0bycsICdib3R0b20tZW5kJywgJ2JvdHRvbS1zdGFydCcsICdib3R0b20nLCAnbGVmdC1lbmQnLCAnbGVmdC1zdGFydCcsICdsZWZ0JywgJ3JpZ2h0LWVuZCcsICdyaWdodC1zdGFydCcsICdyaWdodCcsICd0b3AtZW5kJywgJ3RvcC1zdGFydCcsICd0b3AnXSksXG4gICAgc3RyYXRlZ3k6IFByb3BUeXBlcy5vbmVPZihbJ2Fic29sdXRlJywgJ2ZpeGVkJ10pXG4gIH0pLFxuICAvKipcbiAgICogQSByZWYgdGhhdCBwb2ludHMgdG8gdGhlIHVzZWQgcG9wcGVyIGluc3RhbmNlLlxuICAgKi9cbiAgcG9wcGVyUmVmOiByZWZUeXBlLFxuICAvKipcbiAgICogVGhlIHByb3BzIHVzZWQgZm9yIGVhY2ggc2xvdCBpbnNpZGUgdGhlIFBvcHBlci5cbiAgICogQGRlZmF1bHQge31cbiAgICovXG4gIHNsb3RQcm9wczogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICByb290OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdF0pXG4gIH0pLFxuICAvKipcbiAgICogVGhlIGNvbXBvbmVudHMgdXNlZCBmb3IgZWFjaCBzbG90IGluc2lkZSB0aGUgUG9wcGVyLlxuICAgKiBFaXRoZXIgYSBzdHJpbmcgdG8gdXNlIGEgSFRNTCBlbGVtZW50IG9yIGEgY29tcG9uZW50LlxuICAgKiBAZGVmYXVsdCB7fVxuICAgKi9cbiAgc2xvdHM6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgcm9vdDogUHJvcFR5cGVzLmVsZW1lbnRUeXBlXG4gIH0pLFxuICAvKipcbiAgICogSGVscCBzdXBwb3J0aW5nIGEgcmVhY3QtdHJhbnNpdGlvbi1ncm91cC9UcmFuc2l0aW9uIGNvbXBvbmVudC5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHRyYW5zaXRpb246IFByb3BUeXBlcy5ib29sXG59IDogdm9pZCAwO1xuZXhwb3J0IGRlZmF1bHQgUG9wcGVyOyIsCiAgICAiZXhwb3J0IHZhciB0b3AgPSAndG9wJztcbmV4cG9ydCB2YXIgYm90dG9tID0gJ2JvdHRvbSc7XG5leHBvcnQgdmFyIHJpZ2h0ID0gJ3JpZ2h0JztcbmV4cG9ydCB2YXIgbGVmdCA9ICdsZWZ0JztcbmV4cG9ydCB2YXIgYXV0byA9ICdhdXRvJztcbmV4cG9ydCB2YXIgYmFzZVBsYWNlbWVudHMgPSBbdG9wLCBib3R0b20sIHJpZ2h0LCBsZWZ0XTtcbmV4cG9ydCB2YXIgc3RhcnQgPSAnc3RhcnQnO1xuZXhwb3J0IHZhciBlbmQgPSAnZW5kJztcbmV4cG9ydCB2YXIgY2xpcHBpbmdQYXJlbnRzID0gJ2NsaXBwaW5nUGFyZW50cyc7XG5leHBvcnQgdmFyIHZpZXdwb3J0ID0gJ3ZpZXdwb3J0JztcbmV4cG9ydCB2YXIgcG9wcGVyID0gJ3BvcHBlcic7XG5leHBvcnQgdmFyIHJlZmVyZW5jZSA9ICdyZWZlcmVuY2UnO1xuZXhwb3J0IHZhciB2YXJpYXRpb25QbGFjZW1lbnRzID0gLyojX19QVVJFX18qL2Jhc2VQbGFjZW1lbnRzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIGFjYy5jb25jYXQoW3BsYWNlbWVudCArIFwiLVwiICsgc3RhcnQsIHBsYWNlbWVudCArIFwiLVwiICsgZW5kXSk7XG59LCBbXSk7XG5leHBvcnQgdmFyIHBsYWNlbWVudHMgPSAvKiNfX1BVUkVfXyovW10uY29uY2F0KGJhc2VQbGFjZW1lbnRzLCBbYXV0b10pLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIGFjYy5jb25jYXQoW3BsYWNlbWVudCwgcGxhY2VtZW50ICsgXCItXCIgKyBzdGFydCwgcGxhY2VtZW50ICsgXCItXCIgKyBlbmRdKTtcbn0sIFtdKTsgLy8gbW9kaWZpZXJzIHRoYXQgbmVlZCB0byByZWFkIHRoZSBET01cblxuZXhwb3J0IHZhciBiZWZvcmVSZWFkID0gJ2JlZm9yZVJlYWQnO1xuZXhwb3J0IHZhciByZWFkID0gJ3JlYWQnO1xuZXhwb3J0IHZhciBhZnRlclJlYWQgPSAnYWZ0ZXJSZWFkJzsgLy8gcHVyZS1sb2dpYyBtb2RpZmllcnNcblxuZXhwb3J0IHZhciBiZWZvcmVNYWluID0gJ2JlZm9yZU1haW4nO1xuZXhwb3J0IHZhciBtYWluID0gJ21haW4nO1xuZXhwb3J0IHZhciBhZnRlck1haW4gPSAnYWZ0ZXJNYWluJzsgLy8gbW9kaWZpZXIgd2l0aCB0aGUgcHVycG9zZSB0byB3cml0ZSB0byB0aGUgRE9NIChvciB3cml0ZSBpbnRvIGEgZnJhbWV3b3JrIHN0YXRlKVxuXG5leHBvcnQgdmFyIGJlZm9yZVdyaXRlID0gJ2JlZm9yZVdyaXRlJztcbmV4cG9ydCB2YXIgd3JpdGUgPSAnd3JpdGUnO1xuZXhwb3J0IHZhciBhZnRlcldyaXRlID0gJ2FmdGVyV3JpdGUnO1xuZXhwb3J0IHZhciBtb2RpZmllclBoYXNlcyA9IFtiZWZvcmVSZWFkLCByZWFkLCBhZnRlclJlYWQsIGJlZm9yZU1haW4sIG1haW4sIGFmdGVyTWFpbiwgYmVmb3JlV3JpdGUsIHdyaXRlLCBhZnRlcldyaXRlXTsiLAogICAgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldE5vZGVOYW1lKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQgPyAoZWxlbWVudC5ub2RlTmFtZSB8fCAnJykudG9Mb3dlckNhc2UoKSA6IG51bGw7XG59IiwKICAgICJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRXaW5kb3cobm9kZSkge1xuICBpZiAobm9kZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHdpbmRvdztcbiAgfVxuXG4gIGlmIChub2RlLnRvU3RyaW5nKCkgIT09ICdbb2JqZWN0IFdpbmRvd10nKSB7XG4gICAgdmFyIG93bmVyRG9jdW1lbnQgPSBub2RlLm93bmVyRG9jdW1lbnQ7XG4gICAgcmV0dXJuIG93bmVyRG9jdW1lbnQgPyBvd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IHx8IHdpbmRvdyA6IHdpbmRvdztcbiAgfVxuXG4gIHJldHVybiBub2RlO1xufSIsCiAgICAiaW1wb3J0IGdldFdpbmRvdyBmcm9tIFwiLi9nZXRXaW5kb3cuanNcIjtcblxuZnVuY3Rpb24gaXNFbGVtZW50KG5vZGUpIHtcbiAgdmFyIE93bkVsZW1lbnQgPSBnZXRXaW5kb3cobm9kZSkuRWxlbWVudDtcbiAgcmV0dXJuIG5vZGUgaW5zdGFuY2VvZiBPd25FbGVtZW50IHx8IG5vZGUgaW5zdGFuY2VvZiBFbGVtZW50O1xufVxuXG5mdW5jdGlvbiBpc0hUTUxFbGVtZW50KG5vZGUpIHtcbiAgdmFyIE93bkVsZW1lbnQgPSBnZXRXaW5kb3cobm9kZSkuSFRNTEVsZW1lbnQ7XG4gIHJldHVybiBub2RlIGluc3RhbmNlb2YgT3duRWxlbWVudCB8fCBub2RlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQ7XG59XG5cbmZ1bmN0aW9uIGlzU2hhZG93Um9vdChub2RlKSB7XG4gIC8vIElFIDExIGhhcyBubyBTaGFkb3dSb290XG4gIGlmICh0eXBlb2YgU2hhZG93Um9vdCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgT3duRWxlbWVudCA9IGdldFdpbmRvdyhub2RlKS5TaGFkb3dSb290O1xuICByZXR1cm4gbm9kZSBpbnN0YW5jZW9mIE93bkVsZW1lbnQgfHwgbm9kZSBpbnN0YW5jZW9mIFNoYWRvd1Jvb3Q7XG59XG5cbmV4cG9ydCB7IGlzRWxlbWVudCwgaXNIVE1MRWxlbWVudCwgaXNTaGFkb3dSb290IH07IiwKICAgICJpbXBvcnQgZ2V0Tm9kZU5hbWUgZnJvbSBcIi4uL2RvbS11dGlscy9nZXROb2RlTmFtZS5qc1wiO1xuaW1wb3J0IHsgaXNIVE1MRWxlbWVudCB9IGZyb20gXCIuLi9kb20tdXRpbHMvaW5zdGFuY2VPZi5qc1wiOyAvLyBUaGlzIG1vZGlmaWVyIHRha2VzIHRoZSBzdHlsZXMgcHJlcGFyZWQgYnkgdGhlIGBjb21wdXRlU3R5bGVzYCBtb2RpZmllclxuLy8gYW5kIGFwcGxpZXMgdGhlbSB0byB0aGUgSFRNTEVsZW1lbnRzIHN1Y2ggYXMgcG9wcGVyIGFuZCBhcnJvd1xuXG5mdW5jdGlvbiBhcHBseVN0eWxlcyhfcmVmKSB7XG4gIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGU7XG4gIE9iamVjdC5rZXlzKHN0YXRlLmVsZW1lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdmFyIHN0eWxlID0gc3RhdGUuc3R5bGVzW25hbWVdIHx8IHt9O1xuICAgIHZhciBhdHRyaWJ1dGVzID0gc3RhdGUuYXR0cmlidXRlc1tuYW1lXSB8fCB7fTtcbiAgICB2YXIgZWxlbWVudCA9IHN0YXRlLmVsZW1lbnRzW25hbWVdOyAvLyBhcnJvdyBpcyBvcHRpb25hbCArIHZpcnR1YWwgZWxlbWVudHNcblxuICAgIGlmICghaXNIVE1MRWxlbWVudChlbGVtZW50KSB8fCAhZ2V0Tm9kZU5hbWUoZWxlbWVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIEZsb3cgZG9lc24ndCBzdXBwb3J0IHRvIGV4dGVuZCB0aGlzIHByb3BlcnR5LCBidXQgaXQncyB0aGUgbW9zdFxuICAgIC8vIGVmZmVjdGl2ZSB3YXkgdG8gYXBwbHkgc3R5bGVzIHRvIGFuIEhUTUxFbGVtZW50XG4gICAgLy8gJEZsb3dGaXhNZVtjYW5ub3Qtd3JpdGVdXG5cblxuICAgIE9iamVjdC5hc3NpZ24oZWxlbWVudC5zdHlsZSwgc3R5bGUpO1xuICAgIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGF0dHJpYnV0ZXNbbmFtZV07XG5cbiAgICAgIGlmICh2YWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSA9PT0gdHJ1ZSA/ICcnIDogdmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZWZmZWN0KF9yZWYyKSB7XG4gIHZhciBzdGF0ZSA9IF9yZWYyLnN0YXRlO1xuICB2YXIgaW5pdGlhbFN0eWxlcyA9IHtcbiAgICBwb3BwZXI6IHtcbiAgICAgIHBvc2l0aW9uOiBzdGF0ZS5vcHRpb25zLnN0cmF0ZWd5LFxuICAgICAgbGVmdDogJzAnLFxuICAgICAgdG9wOiAnMCcsXG4gICAgICBtYXJnaW46ICcwJ1xuICAgIH0sXG4gICAgYXJyb3c6IHtcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnXG4gICAgfSxcbiAgICByZWZlcmVuY2U6IHt9XG4gIH07XG4gIE9iamVjdC5hc3NpZ24oc3RhdGUuZWxlbWVudHMucG9wcGVyLnN0eWxlLCBpbml0aWFsU3R5bGVzLnBvcHBlcik7XG4gIHN0YXRlLnN0eWxlcyA9IGluaXRpYWxTdHlsZXM7XG5cbiAgaWYgKHN0YXRlLmVsZW1lbnRzLmFycm93KSB7XG4gICAgT2JqZWN0LmFzc2lnbihzdGF0ZS5lbGVtZW50cy5hcnJvdy5zdHlsZSwgaW5pdGlhbFN0eWxlcy5hcnJvdyk7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIE9iamVjdC5rZXlzKHN0YXRlLmVsZW1lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IHN0YXRlLmVsZW1lbnRzW25hbWVdO1xuICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBzdGF0ZS5hdHRyaWJ1dGVzW25hbWVdIHx8IHt9O1xuICAgICAgdmFyIHN0eWxlUHJvcGVydGllcyA9IE9iamVjdC5rZXlzKHN0YXRlLnN0eWxlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSA/IHN0YXRlLnN0eWxlc1tuYW1lXSA6IGluaXRpYWxTdHlsZXNbbmFtZV0pOyAvLyBTZXQgYWxsIHZhbHVlcyB0byBhbiBlbXB0eSBzdHJpbmcgdG8gdW5zZXQgdGhlbVxuXG4gICAgICB2YXIgc3R5bGUgPSBzdHlsZVByb3BlcnRpZXMucmVkdWNlKGZ1bmN0aW9uIChzdHlsZSwgcHJvcGVydHkpIHtcbiAgICAgICAgc3R5bGVbcHJvcGVydHldID0gJyc7XG4gICAgICAgIHJldHVybiBzdHlsZTtcbiAgICAgIH0sIHt9KTsgLy8gYXJyb3cgaXMgb3B0aW9uYWwgKyB2aXJ0dWFsIGVsZW1lbnRzXG5cbiAgICAgIGlmICghaXNIVE1MRWxlbWVudChlbGVtZW50KSB8fCAhZ2V0Tm9kZU5hbWUoZWxlbWVudCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBPYmplY3QuYXNzaWduKGVsZW1lbnQuc3R5bGUsIHN0eWxlKTtcbiAgICAgIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGF0dHJpYnV0ZSkge1xuICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG59IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6ICdhcHBseVN0eWxlcycsXG4gIGVuYWJsZWQ6IHRydWUsXG4gIHBoYXNlOiAnd3JpdGUnLFxuICBmbjogYXBwbHlTdHlsZXMsXG4gIGVmZmVjdDogZWZmZWN0LFxuICByZXF1aXJlczogWydjb21wdXRlU3R5bGVzJ11cbn07IiwKICAgICJpbXBvcnQgeyBhdXRvIH0gZnJvbSBcIi4uL2VudW1zLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRCYXNlUGxhY2VtZW50KHBsYWNlbWVudCkge1xuICByZXR1cm4gcGxhY2VtZW50LnNwbGl0KCctJylbMF07XG59IiwKICAgICJleHBvcnQgdmFyIG1heCA9IE1hdGgubWF4O1xuZXhwb3J0IHZhciBtaW4gPSBNYXRoLm1pbjtcbmV4cG9ydCB2YXIgcm91bmQgPSBNYXRoLnJvdW5kOyIsCiAgICAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0VUFTdHJpbmcoKSB7XG4gIHZhciB1YURhdGEgPSBuYXZpZ2F0b3IudXNlckFnZW50RGF0YTtcblxuICBpZiAodWFEYXRhICE9IG51bGwgJiYgdWFEYXRhLmJyYW5kcyAmJiBBcnJheS5pc0FycmF5KHVhRGF0YS5icmFuZHMpKSB7XG4gICAgcmV0dXJuIHVhRGF0YS5icmFuZHMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gaXRlbS5icmFuZCArIFwiL1wiICsgaXRlbS52ZXJzaW9uO1xuICAgIH0pLmpvaW4oJyAnKTtcbiAgfVxuXG4gIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50O1xufSIsCiAgICAiaW1wb3J0IGdldFVBU3RyaW5nIGZyb20gXCIuLi91dGlscy91c2VyQWdlbnQuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzTGF5b3V0Vmlld3BvcnQoKSB7XG4gIHJldHVybiAhL14oKD8hY2hyb21lfGFuZHJvaWQpLikqc2FmYXJpL2kudGVzdChnZXRVQVN0cmluZygpKTtcbn0iLAogICAgImltcG9ydCB7IGlzRWxlbWVudCwgaXNIVE1MRWxlbWVudCB9IGZyb20gXCIuL2luc3RhbmNlT2YuanNcIjtcbmltcG9ydCB7IHJvdW5kIH0gZnJvbSBcIi4uL3V0aWxzL21hdGguanNcIjtcbmltcG9ydCBnZXRXaW5kb3cgZnJvbSBcIi4vZ2V0V2luZG93LmpzXCI7XG5pbXBvcnQgaXNMYXlvdXRWaWV3cG9ydCBmcm9tIFwiLi9pc0xheW91dFZpZXdwb3J0LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZWxlbWVudCwgaW5jbHVkZVNjYWxlLCBpc0ZpeGVkU3RyYXRlZ3kpIHtcbiAgaWYgKGluY2x1ZGVTY2FsZSA9PT0gdm9pZCAwKSB7XG4gICAgaW5jbHVkZVNjYWxlID0gZmFsc2U7XG4gIH1cblxuICBpZiAoaXNGaXhlZFN0cmF0ZWd5ID09PSB2b2lkIDApIHtcbiAgICBpc0ZpeGVkU3RyYXRlZ3kgPSBmYWxzZTtcbiAgfVxuXG4gIHZhciBjbGllbnRSZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgdmFyIHNjYWxlWCA9IDE7XG4gIHZhciBzY2FsZVkgPSAxO1xuXG4gIGlmIChpbmNsdWRlU2NhbGUgJiYgaXNIVE1MRWxlbWVudChlbGVtZW50KSkge1xuICAgIHNjYWxlWCA9IGVsZW1lbnQub2Zmc2V0V2lkdGggPiAwID8gcm91bmQoY2xpZW50UmVjdC53aWR0aCkgLyBlbGVtZW50Lm9mZnNldFdpZHRoIHx8IDEgOiAxO1xuICAgIHNjYWxlWSA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0ID4gMCA/IHJvdW5kKGNsaWVudFJlY3QuaGVpZ2h0KSAvIGVsZW1lbnQub2Zmc2V0SGVpZ2h0IHx8IDEgOiAxO1xuICB9XG5cbiAgdmFyIF9yZWYgPSBpc0VsZW1lbnQoZWxlbWVudCkgPyBnZXRXaW5kb3coZWxlbWVudCkgOiB3aW5kb3csXG4gICAgICB2aXN1YWxWaWV3cG9ydCA9IF9yZWYudmlzdWFsVmlld3BvcnQ7XG5cbiAgdmFyIGFkZFZpc3VhbE9mZnNldHMgPSAhaXNMYXlvdXRWaWV3cG9ydCgpICYmIGlzRml4ZWRTdHJhdGVneTtcbiAgdmFyIHggPSAoY2xpZW50UmVjdC5sZWZ0ICsgKGFkZFZpc3VhbE9mZnNldHMgJiYgdmlzdWFsVmlld3BvcnQgPyB2aXN1YWxWaWV3cG9ydC5vZmZzZXRMZWZ0IDogMCkpIC8gc2NhbGVYO1xuICB2YXIgeSA9IChjbGllbnRSZWN0LnRvcCArIChhZGRWaXN1YWxPZmZzZXRzICYmIHZpc3VhbFZpZXdwb3J0ID8gdmlzdWFsVmlld3BvcnQub2Zmc2V0VG9wIDogMCkpIC8gc2NhbGVZO1xuICB2YXIgd2lkdGggPSBjbGllbnRSZWN0LndpZHRoIC8gc2NhbGVYO1xuICB2YXIgaGVpZ2h0ID0gY2xpZW50UmVjdC5oZWlnaHQgLyBzY2FsZVk7XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIHRvcDogeSxcbiAgICByaWdodDogeCArIHdpZHRoLFxuICAgIGJvdHRvbTogeSArIGhlaWdodCxcbiAgICBsZWZ0OiB4LFxuICAgIHg6IHgsXG4gICAgeTogeVxuICB9O1xufSIsCiAgICAiaW1wb3J0IGdldEJvdW5kaW5nQ2xpZW50UmVjdCBmcm9tIFwiLi9nZXRCb3VuZGluZ0NsaWVudFJlY3QuanNcIjsgLy8gUmV0dXJucyB0aGUgbGF5b3V0IHJlY3Qgb2YgYW4gZWxlbWVudCByZWxhdGl2ZSB0byBpdHMgb2Zmc2V0UGFyZW50LiBMYXlvdXRcbi8vIG1lYW5zIGl0IGRvZXNuJ3QgdGFrZSBpbnRvIGFjY291bnQgdHJhbnNmb3Jtcy5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0TGF5b3V0UmVjdChlbGVtZW50KSB7XG4gIHZhciBjbGllbnRSZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnQpOyAvLyBVc2UgdGhlIGNsaWVudFJlY3Qgc2l6ZXMgaWYgaXQncyBub3QgYmVlbiB0cmFuc2Zvcm1lZC5cbiAgLy8gRml4ZXMgaHR0cHM6Ly9naXRodWIuY29tL3BvcHBlcmpzL3BvcHBlci1jb3JlL2lzc3Vlcy8xMjIzXG5cbiAgdmFyIHdpZHRoID0gZWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgdmFyIGhlaWdodCA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuXG4gIGlmIChNYXRoLmFicyhjbGllbnRSZWN0LndpZHRoIC0gd2lkdGgpIDw9IDEpIHtcbiAgICB3aWR0aCA9IGNsaWVudFJlY3Qud2lkdGg7XG4gIH1cblxuICBpZiAoTWF0aC5hYnMoY2xpZW50UmVjdC5oZWlnaHQgLSBoZWlnaHQpIDw9IDEpIHtcbiAgICBoZWlnaHQgPSBjbGllbnRSZWN0LmhlaWdodDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgeDogZWxlbWVudC5vZmZzZXRMZWZ0LFxuICAgIHk6IGVsZW1lbnQub2Zmc2V0VG9wLFxuICAgIHdpZHRoOiB3aWR0aCxcbiAgICBoZWlnaHQ6IGhlaWdodFxuICB9O1xufSIsCiAgICAiaW1wb3J0IHsgaXNTaGFkb3dSb290IH0gZnJvbSBcIi4vaW5zdGFuY2VPZi5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29udGFpbnMocGFyZW50LCBjaGlsZCkge1xuICB2YXIgcm9vdE5vZGUgPSBjaGlsZC5nZXRSb290Tm9kZSAmJiBjaGlsZC5nZXRSb290Tm9kZSgpOyAvLyBGaXJzdCwgYXR0ZW1wdCB3aXRoIGZhc3RlciBuYXRpdmUgbWV0aG9kXG5cbiAgaWYgKHBhcmVudC5jb250YWlucyhjaGlsZCkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSAvLyB0aGVuIGZhbGxiYWNrIHRvIGN1c3RvbSBpbXBsZW1lbnRhdGlvbiB3aXRoIFNoYWRvdyBET00gc3VwcG9ydFxuICBlbHNlIGlmIChyb290Tm9kZSAmJiBpc1NoYWRvd1Jvb3Qocm9vdE5vZGUpKSB7XG4gICAgICB2YXIgbmV4dCA9IGNoaWxkO1xuXG4gICAgICBkbyB7XG4gICAgICAgIGlmIChuZXh0ICYmIHBhcmVudC5pc1NhbWVOb2RlKG5leHQpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddOiBuZWVkIGEgYmV0dGVyIHdheSB0byBoYW5kbGUgdGhpcy4uLlxuXG5cbiAgICAgICAgbmV4dCA9IG5leHQucGFyZW50Tm9kZSB8fCBuZXh0Lmhvc3Q7XG4gICAgICB9IHdoaWxlIChuZXh0KTtcbiAgICB9IC8vIEdpdmUgdXAsIHRoZSByZXN1bHQgaXMgZmFsc2VcblxuXG4gIHJldHVybiBmYWxzZTtcbn0iLAogICAgImltcG9ydCBnZXRXaW5kb3cgZnJvbSBcIi4vZ2V0V2luZG93LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGdldFdpbmRvdyhlbGVtZW50KS5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xufSIsCiAgICAiaW1wb3J0IGdldE5vZGVOYW1lIGZyb20gXCIuL2dldE5vZGVOYW1lLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc1RhYmxlRWxlbWVudChlbGVtZW50KSB7XG4gIHJldHVybiBbJ3RhYmxlJywgJ3RkJywgJ3RoJ10uaW5kZXhPZihnZXROb2RlTmFtZShlbGVtZW50KSkgPj0gMDtcbn0iLAogICAgImltcG9ydCB7IGlzRWxlbWVudCB9IGZyb20gXCIuL2luc3RhbmNlT2YuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KSB7XG4gIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXJldHVybl06IGFzc3VtZSBib2R5IGlzIGFsd2F5cyBhdmFpbGFibGVcbiAgcmV0dXJuICgoaXNFbGVtZW50KGVsZW1lbnQpID8gZWxlbWVudC5vd25lckRvY3VtZW50IDogLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddXG4gIGVsZW1lbnQuZG9jdW1lbnQpIHx8IHdpbmRvdy5kb2N1bWVudCkuZG9jdW1lbnRFbGVtZW50O1xufSIsCiAgICAiaW1wb3J0IGdldE5vZGVOYW1lIGZyb20gXCIuL2dldE5vZGVOYW1lLmpzXCI7XG5pbXBvcnQgZ2V0RG9jdW1lbnRFbGVtZW50IGZyb20gXCIuL2dldERvY3VtZW50RWxlbWVudC5qc1wiO1xuaW1wb3J0IHsgaXNTaGFkb3dSb290IH0gZnJvbSBcIi4vaW5zdGFuY2VPZi5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0UGFyZW50Tm9kZShlbGVtZW50KSB7XG4gIGlmIChnZXROb2RlTmFtZShlbGVtZW50KSA9PT0gJ2h0bWwnKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cblxuICByZXR1cm4gKC8vIHRoaXMgaXMgYSBxdWlja2VyIChidXQgbGVzcyB0eXBlIHNhZmUpIHdheSB0byBzYXZlIHF1aXRlIHNvbWUgYnl0ZXMgZnJvbSB0aGUgYnVuZGxlXG4gICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtcmV0dXJuXVxuICAgIC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXVxuICAgIGVsZW1lbnQuYXNzaWduZWRTbG90IHx8IC8vIHN0ZXAgaW50byB0aGUgc2hhZG93IERPTSBvZiB0aGUgcGFyZW50IG9mIGEgc2xvdHRlZCBub2RlXG4gICAgZWxlbWVudC5wYXJlbnROb2RlIHx8ICggLy8gRE9NIEVsZW1lbnQgZGV0ZWN0ZWRcbiAgICBpc1NoYWRvd1Jvb3QoZWxlbWVudCkgPyBlbGVtZW50Lmhvc3QgOiBudWxsKSB8fCAvLyBTaGFkb3dSb290IGRldGVjdGVkXG4gICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtY2FsbF06IEhUTUxFbGVtZW50IGlzIGEgTm9kZVxuICAgIGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KSAvLyBmYWxsYmFja1xuXG4gICk7XG59IiwKICAgICJpbXBvcnQgZ2V0V2luZG93IGZyb20gXCIuL2dldFdpbmRvdy5qc1wiO1xuaW1wb3J0IGdldE5vZGVOYW1lIGZyb20gXCIuL2dldE5vZGVOYW1lLmpzXCI7XG5pbXBvcnQgZ2V0Q29tcHV0ZWRTdHlsZSBmcm9tIFwiLi9nZXRDb21wdXRlZFN0eWxlLmpzXCI7XG5pbXBvcnQgeyBpc0hUTUxFbGVtZW50LCBpc1NoYWRvd1Jvb3QgfSBmcm9tIFwiLi9pbnN0YW5jZU9mLmpzXCI7XG5pbXBvcnQgaXNUYWJsZUVsZW1lbnQgZnJvbSBcIi4vaXNUYWJsZUVsZW1lbnQuanNcIjtcbmltcG9ydCBnZXRQYXJlbnROb2RlIGZyb20gXCIuL2dldFBhcmVudE5vZGUuanNcIjtcbmltcG9ydCBnZXRVQVN0cmluZyBmcm9tIFwiLi4vdXRpbHMvdXNlckFnZW50LmpzXCI7XG5cbmZ1bmN0aW9uIGdldFRydWVPZmZzZXRQYXJlbnQoZWxlbWVudCkge1xuICBpZiAoIWlzSFRNTEVsZW1lbnQoZWxlbWVudCkgfHwgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BvcHBlcmpzL3BvcHBlci1jb3JlL2lzc3Vlcy84MzdcbiAgZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5wb3NpdGlvbiA9PT0gJ2ZpeGVkJykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnQub2Zmc2V0UGFyZW50O1xufSAvLyBgLm9mZnNldFBhcmVudGAgcmVwb3J0cyBgbnVsbGAgZm9yIGZpeGVkIGVsZW1lbnRzLCB3aGlsZSBhYnNvbHV0ZSBlbGVtZW50c1xuLy8gcmV0dXJuIHRoZSBjb250YWluaW5nIGJsb2NrXG5cblxuZnVuY3Rpb24gZ2V0Q29udGFpbmluZ0Jsb2NrKGVsZW1lbnQpIHtcbiAgdmFyIGlzRmlyZWZveCA9IC9maXJlZm94L2kudGVzdChnZXRVQVN0cmluZygpKTtcbiAgdmFyIGlzSUUgPSAvVHJpZGVudC9pLnRlc3QoZ2V0VUFTdHJpbmcoKSk7XG5cbiAgaWYgKGlzSUUgJiYgaXNIVE1MRWxlbWVudChlbGVtZW50KSkge1xuICAgIC8vIEluIElFIDksIDEwIGFuZCAxMSBmaXhlZCBlbGVtZW50cyBjb250YWluaW5nIGJsb2NrIGlzIGFsd2F5cyBlc3RhYmxpc2hlZCBieSB0aGUgdmlld3BvcnRcbiAgICB2YXIgZWxlbWVudENzcyA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG5cbiAgICBpZiAoZWxlbWVudENzcy5wb3NpdGlvbiA9PT0gJ2ZpeGVkJykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgdmFyIGN1cnJlbnROb2RlID0gZ2V0UGFyZW50Tm9kZShlbGVtZW50KTtcblxuICBpZiAoaXNTaGFkb3dSb290KGN1cnJlbnROb2RlKSkge1xuICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUuaG9zdDtcbiAgfVxuXG4gIHdoaWxlIChpc0hUTUxFbGVtZW50KGN1cnJlbnROb2RlKSAmJiBbJ2h0bWwnLCAnYm9keSddLmluZGV4T2YoZ2V0Tm9kZU5hbWUoY3VycmVudE5vZGUpKSA8IDApIHtcbiAgICB2YXIgY3NzID0gZ2V0Q29tcHV0ZWRTdHlsZShjdXJyZW50Tm9kZSk7IC8vIFRoaXMgaXMgbm9uLWV4aGF1c3RpdmUgYnV0IGNvdmVycyB0aGUgbW9zdCBjb21tb24gQ1NTIHByb3BlcnRpZXMgdGhhdFxuICAgIC8vIGNyZWF0ZSBhIGNvbnRhaW5pbmcgYmxvY2suXG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL0NvbnRhaW5pbmdfYmxvY2sjaWRlbnRpZnlpbmdfdGhlX2NvbnRhaW5pbmdfYmxvY2tcblxuICAgIGlmIChjc3MudHJhbnNmb3JtICE9PSAnbm9uZScgfHwgY3NzLnBlcnNwZWN0aXZlICE9PSAnbm9uZScgfHwgY3NzLmNvbnRhaW4gPT09ICdwYWludCcgfHwgWyd0cmFuc2Zvcm0nLCAncGVyc3BlY3RpdmUnXS5pbmRleE9mKGNzcy53aWxsQ2hhbmdlKSAhPT0gLTEgfHwgaXNGaXJlZm94ICYmIGNzcy53aWxsQ2hhbmdlID09PSAnZmlsdGVyJyB8fCBpc0ZpcmVmb3ggJiYgY3NzLmZpbHRlciAmJiBjc3MuZmlsdGVyICE9PSAnbm9uZScpIHtcbiAgICAgIHJldHVybiBjdXJyZW50Tm9kZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5wYXJlbnROb2RlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufSAvLyBHZXRzIHRoZSBjbG9zZXN0IGFuY2VzdG9yIHBvc2l0aW9uZWQgZWxlbWVudC4gSGFuZGxlcyBzb21lIGVkZ2UgY2FzZXMsXG4vLyBzdWNoIGFzIHRhYmxlIGFuY2VzdG9ycyBhbmQgY3Jvc3MgYnJvd3NlciBidWdzLlxuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldE9mZnNldFBhcmVudChlbGVtZW50KSB7XG4gIHZhciB3aW5kb3cgPSBnZXRXaW5kb3coZWxlbWVudCk7XG4gIHZhciBvZmZzZXRQYXJlbnQgPSBnZXRUcnVlT2Zmc2V0UGFyZW50KGVsZW1lbnQpO1xuXG4gIHdoaWxlIChvZmZzZXRQYXJlbnQgJiYgaXNUYWJsZUVsZW1lbnQob2Zmc2V0UGFyZW50KSAmJiBnZXRDb21wdXRlZFN0eWxlKG9mZnNldFBhcmVudCkucG9zaXRpb24gPT09ICdzdGF0aWMnKSB7XG4gICAgb2Zmc2V0UGFyZW50ID0gZ2V0VHJ1ZU9mZnNldFBhcmVudChvZmZzZXRQYXJlbnQpO1xuICB9XG5cbiAgaWYgKG9mZnNldFBhcmVudCAmJiAoZ2V0Tm9kZU5hbWUob2Zmc2V0UGFyZW50KSA9PT0gJ2h0bWwnIHx8IGdldE5vZGVOYW1lKG9mZnNldFBhcmVudCkgPT09ICdib2R5JyAmJiBnZXRDb21wdXRlZFN0eWxlKG9mZnNldFBhcmVudCkucG9zaXRpb24gPT09ICdzdGF0aWMnKSkge1xuICAgIHJldHVybiB3aW5kb3c7XG4gIH1cblxuICByZXR1cm4gb2Zmc2V0UGFyZW50IHx8IGdldENvbnRhaW5pbmdCbG9jayhlbGVtZW50KSB8fCB3aW5kb3c7XG59IiwKICAgICJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRNYWluQXhpc0Zyb21QbGFjZW1lbnQocGxhY2VtZW50KSB7XG4gIHJldHVybiBbJ3RvcCcsICdib3R0b20nXS5pbmRleE9mKHBsYWNlbWVudCkgPj0gMCA/ICd4JyA6ICd5Jztcbn0iLAogICAgImltcG9ydCB7IG1heCBhcyBtYXRoTWF4LCBtaW4gYXMgbWF0aE1pbiB9IGZyb20gXCIuL21hdGguanNcIjtcbmV4cG9ydCBmdW5jdGlvbiB3aXRoaW4obWluLCB2YWx1ZSwgbWF4KSB7XG4gIHJldHVybiBtYXRoTWF4KG1pbiwgbWF0aE1pbih2YWx1ZSwgbWF4KSk7XG59XG5leHBvcnQgZnVuY3Rpb24gd2l0aGluTWF4Q2xhbXAobWluLCB2YWx1ZSwgbWF4KSB7XG4gIHZhciB2ID0gd2l0aGluKG1pbiwgdmFsdWUsIG1heCk7XG4gIHJldHVybiB2ID4gbWF4ID8gbWF4IDogdjtcbn0iLAogICAgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldEZyZXNoU2lkZU9iamVjdCgpIHtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IDAsXG4gICAgcmlnaHQ6IDAsXG4gICAgYm90dG9tOiAwLFxuICAgIGxlZnQ6IDBcbiAgfTtcbn0iLAogICAgImltcG9ydCBnZXRGcmVzaFNpZGVPYmplY3QgZnJvbSBcIi4vZ2V0RnJlc2hTaWRlT2JqZWN0LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtZXJnZVBhZGRpbmdPYmplY3QocGFkZGluZ09iamVjdCkge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgZ2V0RnJlc2hTaWRlT2JqZWN0KCksIHBhZGRpbmdPYmplY3QpO1xufSIsCiAgICAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZXhwYW5kVG9IYXNoTWFwKHZhbHVlLCBrZXlzKSB7XG4gIHJldHVybiBrZXlzLnJlZHVjZShmdW5jdGlvbiAoaGFzaE1hcCwga2V5KSB7XG4gICAgaGFzaE1hcFtrZXldID0gdmFsdWU7XG4gICAgcmV0dXJuIGhhc2hNYXA7XG4gIH0sIHt9KTtcbn0iLAogICAgImltcG9ydCBnZXRCYXNlUGxhY2VtZW50IGZyb20gXCIuLi91dGlscy9nZXRCYXNlUGxhY2VtZW50LmpzXCI7XG5pbXBvcnQgZ2V0TGF5b3V0UmVjdCBmcm9tIFwiLi4vZG9tLXV0aWxzL2dldExheW91dFJlY3QuanNcIjtcbmltcG9ydCBjb250YWlucyBmcm9tIFwiLi4vZG9tLXV0aWxzL2NvbnRhaW5zLmpzXCI7XG5pbXBvcnQgZ2V0T2Zmc2V0UGFyZW50IGZyb20gXCIuLi9kb20tdXRpbHMvZ2V0T2Zmc2V0UGFyZW50LmpzXCI7XG5pbXBvcnQgZ2V0TWFpbkF4aXNGcm9tUGxhY2VtZW50IGZyb20gXCIuLi91dGlscy9nZXRNYWluQXhpc0Zyb21QbGFjZW1lbnQuanNcIjtcbmltcG9ydCB7IHdpdGhpbiB9IGZyb20gXCIuLi91dGlscy93aXRoaW4uanNcIjtcbmltcG9ydCBtZXJnZVBhZGRpbmdPYmplY3QgZnJvbSBcIi4uL3V0aWxzL21lcmdlUGFkZGluZ09iamVjdC5qc1wiO1xuaW1wb3J0IGV4cGFuZFRvSGFzaE1hcCBmcm9tIFwiLi4vdXRpbHMvZXhwYW5kVG9IYXNoTWFwLmpzXCI7XG5pbXBvcnQgeyBsZWZ0LCByaWdodCwgYmFzZVBsYWNlbWVudHMsIHRvcCwgYm90dG9tIH0gZnJvbSBcIi4uL2VudW1zLmpzXCI7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxudmFyIHRvUGFkZGluZ09iamVjdCA9IGZ1bmN0aW9uIHRvUGFkZGluZ09iamVjdChwYWRkaW5nLCBzdGF0ZSkge1xuICBwYWRkaW5nID0gdHlwZW9mIHBhZGRpbmcgPT09ICdmdW5jdGlvbicgPyBwYWRkaW5nKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLnJlY3RzLCB7XG4gICAgcGxhY2VtZW50OiBzdGF0ZS5wbGFjZW1lbnRcbiAgfSkpIDogcGFkZGluZztcbiAgcmV0dXJuIG1lcmdlUGFkZGluZ09iamVjdCh0eXBlb2YgcGFkZGluZyAhPT0gJ251bWJlcicgPyBwYWRkaW5nIDogZXhwYW5kVG9IYXNoTWFwKHBhZGRpbmcsIGJhc2VQbGFjZW1lbnRzKSk7XG59O1xuXG5mdW5jdGlvbiBhcnJvdyhfcmVmKSB7XG4gIHZhciBfc3RhdGUkbW9kaWZpZXJzRGF0YSQ7XG5cbiAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZSxcbiAgICAgIG5hbWUgPSBfcmVmLm5hbWUsXG4gICAgICBvcHRpb25zID0gX3JlZi5vcHRpb25zO1xuICB2YXIgYXJyb3dFbGVtZW50ID0gc3RhdGUuZWxlbWVudHMuYXJyb3c7XG4gIHZhciBwb3BwZXJPZmZzZXRzID0gc3RhdGUubW9kaWZpZXJzRGF0YS5wb3BwZXJPZmZzZXRzO1xuICB2YXIgYmFzZVBsYWNlbWVudCA9IGdldEJhc2VQbGFjZW1lbnQoc3RhdGUucGxhY2VtZW50KTtcbiAgdmFyIGF4aXMgPSBnZXRNYWluQXhpc0Zyb21QbGFjZW1lbnQoYmFzZVBsYWNlbWVudCk7XG4gIHZhciBpc1ZlcnRpY2FsID0gW2xlZnQsIHJpZ2h0XS5pbmRleE9mKGJhc2VQbGFjZW1lbnQpID49IDA7XG4gIHZhciBsZW4gPSBpc1ZlcnRpY2FsID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuXG4gIGlmICghYXJyb3dFbGVtZW50IHx8ICFwb3BwZXJPZmZzZXRzKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHBhZGRpbmdPYmplY3QgPSB0b1BhZGRpbmdPYmplY3Qob3B0aW9ucy5wYWRkaW5nLCBzdGF0ZSk7XG4gIHZhciBhcnJvd1JlY3QgPSBnZXRMYXlvdXRSZWN0KGFycm93RWxlbWVudCk7XG4gIHZhciBtaW5Qcm9wID0gYXhpcyA9PT0gJ3knID8gdG9wIDogbGVmdDtcbiAgdmFyIG1heFByb3AgPSBheGlzID09PSAneScgPyBib3R0b20gOiByaWdodDtcbiAgdmFyIGVuZERpZmYgPSBzdGF0ZS5yZWN0cy5yZWZlcmVuY2VbbGVuXSArIHN0YXRlLnJlY3RzLnJlZmVyZW5jZVtheGlzXSAtIHBvcHBlck9mZnNldHNbYXhpc10gLSBzdGF0ZS5yZWN0cy5wb3BwZXJbbGVuXTtcbiAgdmFyIHN0YXJ0RGlmZiA9IHBvcHBlck9mZnNldHNbYXhpc10gLSBzdGF0ZS5yZWN0cy5yZWZlcmVuY2VbYXhpc107XG4gIHZhciBhcnJvd09mZnNldFBhcmVudCA9IGdldE9mZnNldFBhcmVudChhcnJvd0VsZW1lbnQpO1xuICB2YXIgY2xpZW50U2l6ZSA9IGFycm93T2Zmc2V0UGFyZW50ID8gYXhpcyA9PT0gJ3knID8gYXJyb3dPZmZzZXRQYXJlbnQuY2xpZW50SGVpZ2h0IHx8IDAgOiBhcnJvd09mZnNldFBhcmVudC5jbGllbnRXaWR0aCB8fCAwIDogMDtcbiAgdmFyIGNlbnRlclRvUmVmZXJlbmNlID0gZW5kRGlmZiAvIDIgLSBzdGFydERpZmYgLyAyOyAvLyBNYWtlIHN1cmUgdGhlIGFycm93IGRvZXNuJ3Qgb3ZlcmZsb3cgdGhlIHBvcHBlciBpZiB0aGUgY2VudGVyIHBvaW50IGlzXG4gIC8vIG91dHNpZGUgb2YgdGhlIHBvcHBlciBib3VuZHNcblxuICB2YXIgbWluID0gcGFkZGluZ09iamVjdFttaW5Qcm9wXTtcbiAgdmFyIG1heCA9IGNsaWVudFNpemUgLSBhcnJvd1JlY3RbbGVuXSAtIHBhZGRpbmdPYmplY3RbbWF4UHJvcF07XG4gIHZhciBjZW50ZXIgPSBjbGllbnRTaXplIC8gMiAtIGFycm93UmVjdFtsZW5dIC8gMiArIGNlbnRlclRvUmVmZXJlbmNlO1xuICB2YXIgb2Zmc2V0ID0gd2l0aGluKG1pbiwgY2VudGVyLCBtYXgpOyAvLyBQcmV2ZW50cyBicmVha2luZyBzeW50YXggaGlnaGxpZ2h0aW5nLi4uXG5cbiAgdmFyIGF4aXNQcm9wID0gYXhpcztcbiAgc3RhdGUubW9kaWZpZXJzRGF0YVtuYW1lXSA9IChfc3RhdGUkbW9kaWZpZXJzRGF0YSQgPSB7fSwgX3N0YXRlJG1vZGlmaWVyc0RhdGEkW2F4aXNQcm9wXSA9IG9mZnNldCwgX3N0YXRlJG1vZGlmaWVyc0RhdGEkLmNlbnRlck9mZnNldCA9IG9mZnNldCAtIGNlbnRlciwgX3N0YXRlJG1vZGlmaWVyc0RhdGEkKTtcbn1cblxuZnVuY3Rpb24gZWZmZWN0KF9yZWYyKSB7XG4gIHZhciBzdGF0ZSA9IF9yZWYyLnN0YXRlLFxuICAgICAgb3B0aW9ucyA9IF9yZWYyLm9wdGlvbnM7XG4gIHZhciBfb3B0aW9ucyRlbGVtZW50ID0gb3B0aW9ucy5lbGVtZW50LFxuICAgICAgYXJyb3dFbGVtZW50ID0gX29wdGlvbnMkZWxlbWVudCA9PT0gdm9pZCAwID8gJ1tkYXRhLXBvcHBlci1hcnJvd10nIDogX29wdGlvbnMkZWxlbWVudDtcblxuICBpZiAoYXJyb3dFbGVtZW50ID09IG51bGwpIHtcbiAgICByZXR1cm47XG4gIH0gLy8gQ1NTIHNlbGVjdG9yXG5cblxuICBpZiAodHlwZW9mIGFycm93RWxlbWVudCA9PT0gJ3N0cmluZycpIHtcbiAgICBhcnJvd0VsZW1lbnQgPSBzdGF0ZS5lbGVtZW50cy5wb3BwZXIucXVlcnlTZWxlY3RvcihhcnJvd0VsZW1lbnQpO1xuXG4gICAgaWYgKCFhcnJvd0VsZW1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBpZiAoIWNvbnRhaW5zKHN0YXRlLmVsZW1lbnRzLnBvcHBlciwgYXJyb3dFbGVtZW50KSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHN0YXRlLmVsZW1lbnRzLmFycm93ID0gYXJyb3dFbGVtZW50O1xufSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzXG5cblxuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiAnYXJyb3cnLFxuICBlbmFibGVkOiB0cnVlLFxuICBwaGFzZTogJ21haW4nLFxuICBmbjogYXJyb3csXG4gIGVmZmVjdDogZWZmZWN0LFxuICByZXF1aXJlczogWydwb3BwZXJPZmZzZXRzJ10sXG4gIHJlcXVpcmVzSWZFeGlzdHM6IFsncHJldmVudE92ZXJmbG93J11cbn07IiwKICAgICJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRWYXJpYXRpb24ocGxhY2VtZW50KSB7XG4gIHJldHVybiBwbGFjZW1lbnQuc3BsaXQoJy0nKVsxXTtcbn0iLAogICAgImltcG9ydCB7IHRvcCwgbGVmdCwgcmlnaHQsIGJvdHRvbSwgZW5kIH0gZnJvbSBcIi4uL2VudW1zLmpzXCI7XG5pbXBvcnQgZ2V0T2Zmc2V0UGFyZW50IGZyb20gXCIuLi9kb20tdXRpbHMvZ2V0T2Zmc2V0UGFyZW50LmpzXCI7XG5pbXBvcnQgZ2V0V2luZG93IGZyb20gXCIuLi9kb20tdXRpbHMvZ2V0V2luZG93LmpzXCI7XG5pbXBvcnQgZ2V0RG9jdW1lbnRFbGVtZW50IGZyb20gXCIuLi9kb20tdXRpbHMvZ2V0RG9jdW1lbnRFbGVtZW50LmpzXCI7XG5pbXBvcnQgZ2V0Q29tcHV0ZWRTdHlsZSBmcm9tIFwiLi4vZG9tLXV0aWxzL2dldENvbXB1dGVkU3R5bGUuanNcIjtcbmltcG9ydCBnZXRCYXNlUGxhY2VtZW50IGZyb20gXCIuLi91dGlscy9nZXRCYXNlUGxhY2VtZW50LmpzXCI7XG5pbXBvcnQgZ2V0VmFyaWF0aW9uIGZyb20gXCIuLi91dGlscy9nZXRWYXJpYXRpb24uanNcIjtcbmltcG9ydCB7IHJvdW5kIH0gZnJvbSBcIi4uL3V0aWxzL21hdGguanNcIjsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG52YXIgdW5zZXRTaWRlcyA9IHtcbiAgdG9wOiAnYXV0bycsXG4gIHJpZ2h0OiAnYXV0bycsXG4gIGJvdHRvbTogJ2F1dG8nLFxuICBsZWZ0OiAnYXV0bydcbn07IC8vIFJvdW5kIHRoZSBvZmZzZXRzIHRvIHRoZSBuZWFyZXN0IHN1aXRhYmxlIHN1YnBpeGVsIGJhc2VkIG9uIHRoZSBEUFIuXG4vLyBab29taW5nIGNhbiBjaGFuZ2UgdGhlIERQUiwgYnV0IGl0IHNlZW1zIHRvIHJlcG9ydCBhIHZhbHVlIHRoYXQgd2lsbFxuLy8gY2xlYW5seSBkaXZpZGUgdGhlIHZhbHVlcyBpbnRvIHRoZSBhcHByb3ByaWF0ZSBzdWJwaXhlbHMuXG5cbmZ1bmN0aW9uIHJvdW5kT2Zmc2V0c0J5RFBSKF9yZWYsIHdpbikge1xuICB2YXIgeCA9IF9yZWYueCxcbiAgICAgIHkgPSBfcmVmLnk7XG4gIHZhciBkcHIgPSB3aW4uZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xuICByZXR1cm4ge1xuICAgIHg6IHJvdW5kKHggKiBkcHIpIC8gZHByIHx8IDAsXG4gICAgeTogcm91bmQoeSAqIGRwcikgLyBkcHIgfHwgMFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFwVG9TdHlsZXMoX3JlZjIpIHtcbiAgdmFyIF9PYmplY3QkYXNzaWduMjtcblxuICB2YXIgcG9wcGVyID0gX3JlZjIucG9wcGVyLFxuICAgICAgcG9wcGVyUmVjdCA9IF9yZWYyLnBvcHBlclJlY3QsXG4gICAgICBwbGFjZW1lbnQgPSBfcmVmMi5wbGFjZW1lbnQsXG4gICAgICB2YXJpYXRpb24gPSBfcmVmMi52YXJpYXRpb24sXG4gICAgICBvZmZzZXRzID0gX3JlZjIub2Zmc2V0cyxcbiAgICAgIHBvc2l0aW9uID0gX3JlZjIucG9zaXRpb24sXG4gICAgICBncHVBY2NlbGVyYXRpb24gPSBfcmVmMi5ncHVBY2NlbGVyYXRpb24sXG4gICAgICBhZGFwdGl2ZSA9IF9yZWYyLmFkYXB0aXZlLFxuICAgICAgcm91bmRPZmZzZXRzID0gX3JlZjIucm91bmRPZmZzZXRzLFxuICAgICAgaXNGaXhlZCA9IF9yZWYyLmlzRml4ZWQ7XG4gIHZhciBfb2Zmc2V0cyR4ID0gb2Zmc2V0cy54LFxuICAgICAgeCA9IF9vZmZzZXRzJHggPT09IHZvaWQgMCA/IDAgOiBfb2Zmc2V0cyR4LFxuICAgICAgX29mZnNldHMkeSA9IG9mZnNldHMueSxcbiAgICAgIHkgPSBfb2Zmc2V0cyR5ID09PSB2b2lkIDAgPyAwIDogX29mZnNldHMkeTtcblxuICB2YXIgX3JlZjMgPSB0eXBlb2Ygcm91bmRPZmZzZXRzID09PSAnZnVuY3Rpb24nID8gcm91bmRPZmZzZXRzKHtcbiAgICB4OiB4LFxuICAgIHk6IHlcbiAgfSkgOiB7XG4gICAgeDogeCxcbiAgICB5OiB5XG4gIH07XG5cbiAgeCA9IF9yZWYzLng7XG4gIHkgPSBfcmVmMy55O1xuICB2YXIgaGFzWCA9IG9mZnNldHMuaGFzT3duUHJvcGVydHkoJ3gnKTtcbiAgdmFyIGhhc1kgPSBvZmZzZXRzLmhhc093blByb3BlcnR5KCd5Jyk7XG4gIHZhciBzaWRlWCA9IGxlZnQ7XG4gIHZhciBzaWRlWSA9IHRvcDtcbiAgdmFyIHdpbiA9IHdpbmRvdztcblxuICBpZiAoYWRhcHRpdmUpIHtcbiAgICB2YXIgb2Zmc2V0UGFyZW50ID0gZ2V0T2Zmc2V0UGFyZW50KHBvcHBlcik7XG4gICAgdmFyIGhlaWdodFByb3AgPSAnY2xpZW50SGVpZ2h0JztcbiAgICB2YXIgd2lkdGhQcm9wID0gJ2NsaWVudFdpZHRoJztcblxuICAgIGlmIChvZmZzZXRQYXJlbnQgPT09IGdldFdpbmRvdyhwb3BwZXIpKSB7XG4gICAgICBvZmZzZXRQYXJlbnQgPSBnZXREb2N1bWVudEVsZW1lbnQocG9wcGVyKTtcblxuICAgICAgaWYgKGdldENvbXB1dGVkU3R5bGUob2Zmc2V0UGFyZW50KS5wb3NpdGlvbiAhPT0gJ3N0YXRpYycgJiYgcG9zaXRpb24gPT09ICdhYnNvbHV0ZScpIHtcbiAgICAgICAgaGVpZ2h0UHJvcCA9ICdzY3JvbGxIZWlnaHQnO1xuICAgICAgICB3aWR0aFByb3AgPSAnc2Nyb2xsV2lkdGgnO1xuICAgICAgfVxuICAgIH0gLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtY2FzdF06IGZvcmNlIHR5cGUgcmVmaW5lbWVudCwgd2UgY29tcGFyZSBvZmZzZXRQYXJlbnQgd2l0aCB3aW5kb3cgYWJvdmUsIGJ1dCBGbG93IGRvZXNuJ3QgZGV0ZWN0IGl0XG5cblxuICAgIG9mZnNldFBhcmVudCA9IG9mZnNldFBhcmVudDtcblxuICAgIGlmIChwbGFjZW1lbnQgPT09IHRvcCB8fCAocGxhY2VtZW50ID09PSBsZWZ0IHx8IHBsYWNlbWVudCA9PT0gcmlnaHQpICYmIHZhcmlhdGlvbiA9PT0gZW5kKSB7XG4gICAgICBzaWRlWSA9IGJvdHRvbTtcbiAgICAgIHZhciBvZmZzZXRZID0gaXNGaXhlZCAmJiBvZmZzZXRQYXJlbnQgPT09IHdpbiAmJiB3aW4udmlzdWFsVmlld3BvcnQgPyB3aW4udmlzdWFsVmlld3BvcnQuaGVpZ2h0IDogLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddXG4gICAgICBvZmZzZXRQYXJlbnRbaGVpZ2h0UHJvcF07XG4gICAgICB5IC09IG9mZnNldFkgLSBwb3BwZXJSZWN0LmhlaWdodDtcbiAgICAgIHkgKj0gZ3B1QWNjZWxlcmF0aW9uID8gMSA6IC0xO1xuICAgIH1cblxuICAgIGlmIChwbGFjZW1lbnQgPT09IGxlZnQgfHwgKHBsYWNlbWVudCA9PT0gdG9wIHx8IHBsYWNlbWVudCA9PT0gYm90dG9tKSAmJiB2YXJpYXRpb24gPT09IGVuZCkge1xuICAgICAgc2lkZVggPSByaWdodDtcbiAgICAgIHZhciBvZmZzZXRYID0gaXNGaXhlZCAmJiBvZmZzZXRQYXJlbnQgPT09IHdpbiAmJiB3aW4udmlzdWFsVmlld3BvcnQgPyB3aW4udmlzdWFsVmlld3BvcnQud2lkdGggOiAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ11cbiAgICAgIG9mZnNldFBhcmVudFt3aWR0aFByb3BdO1xuICAgICAgeCAtPSBvZmZzZXRYIC0gcG9wcGVyUmVjdC53aWR0aDtcbiAgICAgIHggKj0gZ3B1QWNjZWxlcmF0aW9uID8gMSA6IC0xO1xuICAgIH1cbiAgfVxuXG4gIHZhciBjb21tb25TdHlsZXMgPSBPYmplY3QuYXNzaWduKHtcbiAgICBwb3NpdGlvbjogcG9zaXRpb25cbiAgfSwgYWRhcHRpdmUgJiYgdW5zZXRTaWRlcyk7XG5cbiAgdmFyIF9yZWY0ID0gcm91bmRPZmZzZXRzID09PSB0cnVlID8gcm91bmRPZmZzZXRzQnlEUFIoe1xuICAgIHg6IHgsXG4gICAgeTogeVxuICB9LCBnZXRXaW5kb3cocG9wcGVyKSkgOiB7XG4gICAgeDogeCxcbiAgICB5OiB5XG4gIH07XG5cbiAgeCA9IF9yZWY0Lng7XG4gIHkgPSBfcmVmNC55O1xuXG4gIGlmIChncHVBY2NlbGVyYXRpb24pIHtcbiAgICB2YXIgX09iamVjdCRhc3NpZ247XG5cbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgY29tbW9uU3R5bGVzLCAoX09iamVjdCRhc3NpZ24gPSB7fSwgX09iamVjdCRhc3NpZ25bc2lkZVldID0gaGFzWSA/ICcwJyA6ICcnLCBfT2JqZWN0JGFzc2lnbltzaWRlWF0gPSBoYXNYID8gJzAnIDogJycsIF9PYmplY3QkYXNzaWduLnRyYW5zZm9ybSA9ICh3aW4uZGV2aWNlUGl4ZWxSYXRpbyB8fCAxKSA8PSAxID8gXCJ0cmFuc2xhdGUoXCIgKyB4ICsgXCJweCwgXCIgKyB5ICsgXCJweClcIiA6IFwidHJhbnNsYXRlM2QoXCIgKyB4ICsgXCJweCwgXCIgKyB5ICsgXCJweCwgMClcIiwgX09iamVjdCRhc3NpZ24pKTtcbiAgfVxuXG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBjb21tb25TdHlsZXMsIChfT2JqZWN0JGFzc2lnbjIgPSB7fSwgX09iamVjdCRhc3NpZ24yW3NpZGVZXSA9IGhhc1kgPyB5ICsgXCJweFwiIDogJycsIF9PYmplY3QkYXNzaWduMltzaWRlWF0gPSBoYXNYID8geCArIFwicHhcIiA6ICcnLCBfT2JqZWN0JGFzc2lnbjIudHJhbnNmb3JtID0gJycsIF9PYmplY3QkYXNzaWduMikpO1xufVxuXG5mdW5jdGlvbiBjb21wdXRlU3R5bGVzKF9yZWY1KSB7XG4gIHZhciBzdGF0ZSA9IF9yZWY1LnN0YXRlLFxuICAgICAgb3B0aW9ucyA9IF9yZWY1Lm9wdGlvbnM7XG4gIHZhciBfb3B0aW9ucyRncHVBY2NlbGVyYXQgPSBvcHRpb25zLmdwdUFjY2VsZXJhdGlvbixcbiAgICAgIGdwdUFjY2VsZXJhdGlvbiA9IF9vcHRpb25zJGdwdUFjY2VsZXJhdCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJGdwdUFjY2VsZXJhdCxcbiAgICAgIF9vcHRpb25zJGFkYXB0aXZlID0gb3B0aW9ucy5hZGFwdGl2ZSxcbiAgICAgIGFkYXB0aXZlID0gX29wdGlvbnMkYWRhcHRpdmUgPT09IHZvaWQgMCA/IHRydWUgOiBfb3B0aW9ucyRhZGFwdGl2ZSxcbiAgICAgIF9vcHRpb25zJHJvdW5kT2Zmc2V0cyA9IG9wdGlvbnMucm91bmRPZmZzZXRzLFxuICAgICAgcm91bmRPZmZzZXRzID0gX29wdGlvbnMkcm91bmRPZmZzZXRzID09PSB2b2lkIDAgPyB0cnVlIDogX29wdGlvbnMkcm91bmRPZmZzZXRzO1xuICB2YXIgY29tbW9uU3R5bGVzID0ge1xuICAgIHBsYWNlbWVudDogZ2V0QmFzZVBsYWNlbWVudChzdGF0ZS5wbGFjZW1lbnQpLFxuICAgIHZhcmlhdGlvbjogZ2V0VmFyaWF0aW9uKHN0YXRlLnBsYWNlbWVudCksXG4gICAgcG9wcGVyOiBzdGF0ZS5lbGVtZW50cy5wb3BwZXIsXG4gICAgcG9wcGVyUmVjdDogc3RhdGUucmVjdHMucG9wcGVyLFxuICAgIGdwdUFjY2VsZXJhdGlvbjogZ3B1QWNjZWxlcmF0aW9uLFxuICAgIGlzRml4ZWQ6IHN0YXRlLm9wdGlvbnMuc3RyYXRlZ3kgPT09ICdmaXhlZCdcbiAgfTtcblxuICBpZiAoc3RhdGUubW9kaWZpZXJzRGF0YS5wb3BwZXJPZmZzZXRzICE9IG51bGwpIHtcbiAgICBzdGF0ZS5zdHlsZXMucG9wcGVyID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUuc3R5bGVzLnBvcHBlciwgbWFwVG9TdHlsZXMoT2JqZWN0LmFzc2lnbih7fSwgY29tbW9uU3R5bGVzLCB7XG4gICAgICBvZmZzZXRzOiBzdGF0ZS5tb2RpZmllcnNEYXRhLnBvcHBlck9mZnNldHMsXG4gICAgICBwb3NpdGlvbjogc3RhdGUub3B0aW9ucy5zdHJhdGVneSxcbiAgICAgIGFkYXB0aXZlOiBhZGFwdGl2ZSxcbiAgICAgIHJvdW5kT2Zmc2V0czogcm91bmRPZmZzZXRzXG4gICAgfSkpKTtcbiAgfVxuXG4gIGlmIChzdGF0ZS5tb2RpZmllcnNEYXRhLmFycm93ICE9IG51bGwpIHtcbiAgICBzdGF0ZS5zdHlsZXMuYXJyb3cgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5zdHlsZXMuYXJyb3csIG1hcFRvU3R5bGVzKE9iamVjdC5hc3NpZ24oe30sIGNvbW1vblN0eWxlcywge1xuICAgICAgb2Zmc2V0czogc3RhdGUubW9kaWZpZXJzRGF0YS5hcnJvdyxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgYWRhcHRpdmU6IGZhbHNlLFxuICAgICAgcm91bmRPZmZzZXRzOiByb3VuZE9mZnNldHNcbiAgICB9KSkpO1xuICB9XG5cbiAgc3RhdGUuYXR0cmlidXRlcy5wb3BwZXIgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5hdHRyaWJ1dGVzLnBvcHBlciwge1xuICAgICdkYXRhLXBvcHBlci1wbGFjZW1lbnQnOiBzdGF0ZS5wbGFjZW1lbnRcbiAgfSk7XG59IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6ICdjb21wdXRlU3R5bGVzJyxcbiAgZW5hYmxlZDogdHJ1ZSxcbiAgcGhhc2U6ICdiZWZvcmVXcml0ZScsXG4gIGZuOiBjb21wdXRlU3R5bGVzLFxuICBkYXRhOiB7fVxufTsiLAogICAgImltcG9ydCBnZXRXaW5kb3cgZnJvbSBcIi4uL2RvbS11dGlscy9nZXRXaW5kb3cuanNcIjsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG52YXIgcGFzc2l2ZSA9IHtcbiAgcGFzc2l2ZTogdHJ1ZVxufTtcblxuZnVuY3Rpb24gZWZmZWN0KF9yZWYpIHtcbiAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZSxcbiAgICAgIGluc3RhbmNlID0gX3JlZi5pbnN0YW5jZSxcbiAgICAgIG9wdGlvbnMgPSBfcmVmLm9wdGlvbnM7XG4gIHZhciBfb3B0aW9ucyRzY3JvbGwgPSBvcHRpb25zLnNjcm9sbCxcbiAgICAgIHNjcm9sbCA9IF9vcHRpb25zJHNjcm9sbCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJHNjcm9sbCxcbiAgICAgIF9vcHRpb25zJHJlc2l6ZSA9IG9wdGlvbnMucmVzaXplLFxuICAgICAgcmVzaXplID0gX29wdGlvbnMkcmVzaXplID09PSB2b2lkIDAgPyB0cnVlIDogX29wdGlvbnMkcmVzaXplO1xuICB2YXIgd2luZG93ID0gZ2V0V2luZG93KHN0YXRlLmVsZW1lbnRzLnBvcHBlcik7XG4gIHZhciBzY3JvbGxQYXJlbnRzID0gW10uY29uY2F0KHN0YXRlLnNjcm9sbFBhcmVudHMucmVmZXJlbmNlLCBzdGF0ZS5zY3JvbGxQYXJlbnRzLnBvcHBlcik7XG5cbiAgaWYgKHNjcm9sbCkge1xuICAgIHNjcm9sbFBhcmVudHMuZm9yRWFjaChmdW5jdGlvbiAoc2Nyb2xsUGFyZW50KSB7XG4gICAgICBzY3JvbGxQYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaW5zdGFuY2UudXBkYXRlLCBwYXNzaXZlKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChyZXNpemUpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaW5zdGFuY2UudXBkYXRlLCBwYXNzaXZlKTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHNjcm9sbCkge1xuICAgICAgc2Nyb2xsUGFyZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChzY3JvbGxQYXJlbnQpIHtcbiAgICAgICAgc2Nyb2xsUGFyZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGluc3RhbmNlLnVwZGF0ZSwgcGFzc2l2ZSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAocmVzaXplKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaW5zdGFuY2UudXBkYXRlLCBwYXNzaXZlKTtcbiAgICB9XG4gIH07XG59IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6ICdldmVudExpc3RlbmVycycsXG4gIGVuYWJsZWQ6IHRydWUsXG4gIHBoYXNlOiAnd3JpdGUnLFxuICBmbjogZnVuY3Rpb24gZm4oKSB7fSxcbiAgZWZmZWN0OiBlZmZlY3QsXG4gIGRhdGE6IHt9XG59OyIsCiAgICAidmFyIGhhc2ggPSB7XG4gIGxlZnQ6ICdyaWdodCcsXG4gIHJpZ2h0OiAnbGVmdCcsXG4gIGJvdHRvbTogJ3RvcCcsXG4gIHRvcDogJ2JvdHRvbSdcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRPcHBvc2l0ZVBsYWNlbWVudChwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIHBsYWNlbWVudC5yZXBsYWNlKC9sZWZ0fHJpZ2h0fGJvdHRvbXx0b3AvZywgZnVuY3Rpb24gKG1hdGNoZWQpIHtcbiAgICByZXR1cm4gaGFzaFttYXRjaGVkXTtcbiAgfSk7XG59IiwKICAgICJ2YXIgaGFzaCA9IHtcbiAgc3RhcnQ6ICdlbmQnLFxuICBlbmQ6ICdzdGFydCdcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRPcHBvc2l0ZVZhcmlhdGlvblBsYWNlbWVudChwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIHBsYWNlbWVudC5yZXBsYWNlKC9zdGFydHxlbmQvZywgZnVuY3Rpb24gKG1hdGNoZWQpIHtcbiAgICByZXR1cm4gaGFzaFttYXRjaGVkXTtcbiAgfSk7XG59IiwKICAgICJpbXBvcnQgZ2V0V2luZG93IGZyb20gXCIuL2dldFdpbmRvdy5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0V2luZG93U2Nyb2xsKG5vZGUpIHtcbiAgdmFyIHdpbiA9IGdldFdpbmRvdyhub2RlKTtcbiAgdmFyIHNjcm9sbExlZnQgPSB3aW4ucGFnZVhPZmZzZXQ7XG4gIHZhciBzY3JvbGxUb3AgPSB3aW4ucGFnZVlPZmZzZXQ7XG4gIHJldHVybiB7XG4gICAgc2Nyb2xsTGVmdDogc2Nyb2xsTGVmdCxcbiAgICBzY3JvbGxUb3A6IHNjcm9sbFRvcFxuICB9O1xufSIsCiAgICAiaW1wb3J0IGdldEJvdW5kaW5nQ2xpZW50UmVjdCBmcm9tIFwiLi9nZXRCb3VuZGluZ0NsaWVudFJlY3QuanNcIjtcbmltcG9ydCBnZXREb2N1bWVudEVsZW1lbnQgZnJvbSBcIi4vZ2V0RG9jdW1lbnRFbGVtZW50LmpzXCI7XG5pbXBvcnQgZ2V0V2luZG93U2Nyb2xsIGZyb20gXCIuL2dldFdpbmRvd1Njcm9sbC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0V2luZG93U2Nyb2xsQmFyWChlbGVtZW50KSB7XG4gIC8vIElmIDxodG1sPiBoYXMgYSBDU1Mgd2lkdGggZ3JlYXRlciB0aGFuIHRoZSB2aWV3cG9ydCwgdGhlbiB0aGlzIHdpbGwgYmVcbiAgLy8gaW5jb3JyZWN0IGZvciBSVEwuXG4gIC8vIFBvcHBlciAxIGlzIGJyb2tlbiBpbiB0aGlzIGNhc2UgYW5kIG5ldmVyIGhhZCBhIGJ1ZyByZXBvcnQgc28gbGV0J3MgYXNzdW1lXG4gIC8vIGl0J3Mgbm90IGFuIGlzc3VlLiBJIGRvbid0IHRoaW5rIGFueW9uZSBldmVyIHNwZWNpZmllcyB3aWR0aCBvbiA8aHRtbD5cbiAgLy8gYW55d2F5LlxuICAvLyBCcm93c2VycyB3aGVyZSB0aGUgbGVmdCBzY3JvbGxiYXIgZG9lc24ndCBjYXVzZSBhbiBpc3N1ZSByZXBvcnQgYDBgIGZvclxuICAvLyB0aGlzIChlLmcuIEVkZ2UgMjAxOSwgSUUxMSwgU2FmYXJpKVxuICByZXR1cm4gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KSkubGVmdCArIGdldFdpbmRvd1Njcm9sbChlbGVtZW50KS5zY3JvbGxMZWZ0O1xufSIsCiAgICAiaW1wb3J0IGdldFdpbmRvdyBmcm9tIFwiLi9nZXRXaW5kb3cuanNcIjtcbmltcG9ydCBnZXREb2N1bWVudEVsZW1lbnQgZnJvbSBcIi4vZ2V0RG9jdW1lbnRFbGVtZW50LmpzXCI7XG5pbXBvcnQgZ2V0V2luZG93U2Nyb2xsQmFyWCBmcm9tIFwiLi9nZXRXaW5kb3dTY3JvbGxCYXJYLmpzXCI7XG5pbXBvcnQgaXNMYXlvdXRWaWV3cG9ydCBmcm9tIFwiLi9pc0xheW91dFZpZXdwb3J0LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRWaWV3cG9ydFJlY3QoZWxlbWVudCwgc3RyYXRlZ3kpIHtcbiAgdmFyIHdpbiA9IGdldFdpbmRvdyhlbGVtZW50KTtcbiAgdmFyIGh0bWwgPSBnZXREb2N1bWVudEVsZW1lbnQoZWxlbWVudCk7XG4gIHZhciB2aXN1YWxWaWV3cG9ydCA9IHdpbi52aXN1YWxWaWV3cG9ydDtcbiAgdmFyIHdpZHRoID0gaHRtbC5jbGllbnRXaWR0aDtcbiAgdmFyIGhlaWdodCA9IGh0bWwuY2xpZW50SGVpZ2h0O1xuICB2YXIgeCA9IDA7XG4gIHZhciB5ID0gMDtcblxuICBpZiAodmlzdWFsVmlld3BvcnQpIHtcbiAgICB3aWR0aCA9IHZpc3VhbFZpZXdwb3J0LndpZHRoO1xuICAgIGhlaWdodCA9IHZpc3VhbFZpZXdwb3J0LmhlaWdodDtcbiAgICB2YXIgbGF5b3V0Vmlld3BvcnQgPSBpc0xheW91dFZpZXdwb3J0KCk7XG5cbiAgICBpZiAobGF5b3V0Vmlld3BvcnQgfHwgIWxheW91dFZpZXdwb3J0ICYmIHN0cmF0ZWd5ID09PSAnZml4ZWQnKSB7XG4gICAgICB4ID0gdmlzdWFsVmlld3BvcnQub2Zmc2V0TGVmdDtcbiAgICAgIHkgPSB2aXN1YWxWaWV3cG9ydC5vZmZzZXRUb3A7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogd2lkdGgsXG4gICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgeDogeCArIGdldFdpbmRvd1Njcm9sbEJhclgoZWxlbWVudCksXG4gICAgeTogeVxuICB9O1xufSIsCiAgICAiaW1wb3J0IGdldERvY3VtZW50RWxlbWVudCBmcm9tIFwiLi9nZXREb2N1bWVudEVsZW1lbnQuanNcIjtcbmltcG9ydCBnZXRDb21wdXRlZFN0eWxlIGZyb20gXCIuL2dldENvbXB1dGVkU3R5bGUuanNcIjtcbmltcG9ydCBnZXRXaW5kb3dTY3JvbGxCYXJYIGZyb20gXCIuL2dldFdpbmRvd1Njcm9sbEJhclguanNcIjtcbmltcG9ydCBnZXRXaW5kb3dTY3JvbGwgZnJvbSBcIi4vZ2V0V2luZG93U2Nyb2xsLmpzXCI7XG5pbXBvcnQgeyBtYXggfSBmcm9tIFwiLi4vdXRpbHMvbWF0aC5qc1wiOyAvLyBHZXRzIHRoZSBlbnRpcmUgc2l6ZSBvZiB0aGUgc2Nyb2xsYWJsZSBkb2N1bWVudCBhcmVhLCBldmVuIGV4dGVuZGluZyBvdXRzaWRlXG4vLyBvZiB0aGUgYDxodG1sPmAgYW5kIGA8Ym9keT5gIHJlY3QgYm91bmRzIGlmIGhvcml6b250YWxseSBzY3JvbGxhYmxlXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldERvY3VtZW50UmVjdChlbGVtZW50KSB7XG4gIHZhciBfZWxlbWVudCRvd25lckRvY3VtZW47XG5cbiAgdmFyIGh0bWwgPSBnZXREb2N1bWVudEVsZW1lbnQoZWxlbWVudCk7XG4gIHZhciB3aW5TY3JvbGwgPSBnZXRXaW5kb3dTY3JvbGwoZWxlbWVudCk7XG4gIHZhciBib2R5ID0gKF9lbGVtZW50JG93bmVyRG9jdW1lbiA9IGVsZW1lbnQub3duZXJEb2N1bWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9lbGVtZW50JG93bmVyRG9jdW1lbi5ib2R5O1xuICB2YXIgd2lkdGggPSBtYXgoaHRtbC5zY3JvbGxXaWR0aCwgaHRtbC5jbGllbnRXaWR0aCwgYm9keSA/IGJvZHkuc2Nyb2xsV2lkdGggOiAwLCBib2R5ID8gYm9keS5jbGllbnRXaWR0aCA6IDApO1xuICB2YXIgaGVpZ2h0ID0gbWF4KGh0bWwuc2Nyb2xsSGVpZ2h0LCBodG1sLmNsaWVudEhlaWdodCwgYm9keSA/IGJvZHkuc2Nyb2xsSGVpZ2h0IDogMCwgYm9keSA/IGJvZHkuY2xpZW50SGVpZ2h0IDogMCk7XG4gIHZhciB4ID0gLXdpblNjcm9sbC5zY3JvbGxMZWZ0ICsgZ2V0V2luZG93U2Nyb2xsQmFyWChlbGVtZW50KTtcbiAgdmFyIHkgPSAtd2luU2Nyb2xsLnNjcm9sbFRvcDtcblxuICBpZiAoZ2V0Q29tcHV0ZWRTdHlsZShib2R5IHx8IGh0bWwpLmRpcmVjdGlvbiA9PT0gJ3J0bCcpIHtcbiAgICB4ICs9IG1heChodG1sLmNsaWVudFdpZHRoLCBib2R5ID8gYm9keS5jbGllbnRXaWR0aCA6IDApIC0gd2lkdGg7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHdpZHRoOiB3aWR0aCxcbiAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICB4OiB4LFxuICAgIHk6IHlcbiAgfTtcbn0iLAogICAgImltcG9ydCBnZXRDb21wdXRlZFN0eWxlIGZyb20gXCIuL2dldENvbXB1dGVkU3R5bGUuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzU2Nyb2xsUGFyZW50KGVsZW1lbnQpIHtcbiAgLy8gRmlyZWZveCB3YW50cyB1cyB0byBjaGVjayBgLXhgIGFuZCBgLXlgIHZhcmlhdGlvbnMgYXMgd2VsbFxuICB2YXIgX2dldENvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLFxuICAgICAgb3ZlcmZsb3cgPSBfZ2V0Q29tcHV0ZWRTdHlsZS5vdmVyZmxvdyxcbiAgICAgIG92ZXJmbG93WCA9IF9nZXRDb21wdXRlZFN0eWxlLm92ZXJmbG93WCxcbiAgICAgIG92ZXJmbG93WSA9IF9nZXRDb21wdXRlZFN0eWxlLm92ZXJmbG93WTtcblxuICByZXR1cm4gL2F1dG98c2Nyb2xsfG92ZXJsYXl8aGlkZGVuLy50ZXN0KG92ZXJmbG93ICsgb3ZlcmZsb3dZICsgb3ZlcmZsb3dYKTtcbn0iLAogICAgImltcG9ydCBnZXRQYXJlbnROb2RlIGZyb20gXCIuL2dldFBhcmVudE5vZGUuanNcIjtcbmltcG9ydCBpc1Njcm9sbFBhcmVudCBmcm9tIFwiLi9pc1Njcm9sbFBhcmVudC5qc1wiO1xuaW1wb3J0IGdldE5vZGVOYW1lIGZyb20gXCIuL2dldE5vZGVOYW1lLmpzXCI7XG5pbXBvcnQgeyBpc0hUTUxFbGVtZW50IH0gZnJvbSBcIi4vaW5zdGFuY2VPZi5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0U2Nyb2xsUGFyZW50KG5vZGUpIHtcbiAgaWYgKFsnaHRtbCcsICdib2R5JywgJyNkb2N1bWVudCddLmluZGV4T2YoZ2V0Tm9kZU5hbWUobm9kZSkpID49IDApIHtcbiAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1yZXR1cm5dOiBhc3N1bWUgYm9keSBpcyBhbHdheXMgYXZhaWxhYmxlXG4gICAgcmV0dXJuIG5vZGUub3duZXJEb2N1bWVudC5ib2R5O1xuICB9XG5cbiAgaWYgKGlzSFRNTEVsZW1lbnQobm9kZSkgJiYgaXNTY3JvbGxQYXJlbnQobm9kZSkpIHtcbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIHJldHVybiBnZXRTY3JvbGxQYXJlbnQoZ2V0UGFyZW50Tm9kZShub2RlKSk7XG59IiwKICAgICJpbXBvcnQgZ2V0U2Nyb2xsUGFyZW50IGZyb20gXCIuL2dldFNjcm9sbFBhcmVudC5qc1wiO1xuaW1wb3J0IGdldFBhcmVudE5vZGUgZnJvbSBcIi4vZ2V0UGFyZW50Tm9kZS5qc1wiO1xuaW1wb3J0IGdldFdpbmRvdyBmcm9tIFwiLi9nZXRXaW5kb3cuanNcIjtcbmltcG9ydCBpc1Njcm9sbFBhcmVudCBmcm9tIFwiLi9pc1Njcm9sbFBhcmVudC5qc1wiO1xuLypcbmdpdmVuIGEgRE9NIGVsZW1lbnQsIHJldHVybiB0aGUgbGlzdCBvZiBhbGwgc2Nyb2xsIHBhcmVudHMsIHVwIHRoZSBsaXN0IG9mIGFuY2Vzb3JzXG51bnRpbCB3ZSBnZXQgdG8gdGhlIHRvcCB3aW5kb3cgb2JqZWN0LiBUaGlzIGxpc3QgaXMgd2hhdCB3ZSBhdHRhY2ggc2Nyb2xsIGxpc3RlbmVyc1xudG8sIGJlY2F1c2UgaWYgYW55IG9mIHRoZXNlIHBhcmVudCBlbGVtZW50cyBzY3JvbGwsIHdlJ2xsIG5lZWQgdG8gcmUtY2FsY3VsYXRlIHRoZVxucmVmZXJlbmNlIGVsZW1lbnQncyBwb3NpdGlvbi5cbiovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGxpc3RTY3JvbGxQYXJlbnRzKGVsZW1lbnQsIGxpc3QpIHtcbiAgdmFyIF9lbGVtZW50JG93bmVyRG9jdW1lbjtcblxuICBpZiAobGlzdCA9PT0gdm9pZCAwKSB7XG4gICAgbGlzdCA9IFtdO1xuICB9XG5cbiAgdmFyIHNjcm9sbFBhcmVudCA9IGdldFNjcm9sbFBhcmVudChlbGVtZW50KTtcbiAgdmFyIGlzQm9keSA9IHNjcm9sbFBhcmVudCA9PT0gKChfZWxlbWVudCRvd25lckRvY3VtZW4gPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfZWxlbWVudCRvd25lckRvY3VtZW4uYm9keSk7XG4gIHZhciB3aW4gPSBnZXRXaW5kb3coc2Nyb2xsUGFyZW50KTtcbiAgdmFyIHRhcmdldCA9IGlzQm9keSA/IFt3aW5dLmNvbmNhdCh3aW4udmlzdWFsVmlld3BvcnQgfHwgW10sIGlzU2Nyb2xsUGFyZW50KHNjcm9sbFBhcmVudCkgPyBzY3JvbGxQYXJlbnQgOiBbXSkgOiBzY3JvbGxQYXJlbnQ7XG4gIHZhciB1cGRhdGVkTGlzdCA9IGxpc3QuY29uY2F0KHRhcmdldCk7XG4gIHJldHVybiBpc0JvZHkgPyB1cGRhdGVkTGlzdCA6IC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLWNhbGxdOiBpc0JvZHkgdGVsbHMgdXMgdGFyZ2V0IHdpbGwgYmUgYW4gSFRNTEVsZW1lbnQgaGVyZVxuICB1cGRhdGVkTGlzdC5jb25jYXQobGlzdFNjcm9sbFBhcmVudHMoZ2V0UGFyZW50Tm9kZSh0YXJnZXQpKSk7XG59IiwKICAgICJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZWN0VG9DbGllbnRSZWN0KHJlY3QpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHJlY3QsIHtcbiAgICBsZWZ0OiByZWN0LngsXG4gICAgdG9wOiByZWN0LnksXG4gICAgcmlnaHQ6IHJlY3QueCArIHJlY3Qud2lkdGgsXG4gICAgYm90dG9tOiByZWN0LnkgKyByZWN0LmhlaWdodFxuICB9KTtcbn0iLAogICAgImltcG9ydCB7IHZpZXdwb3J0IH0gZnJvbSBcIi4uL2VudW1zLmpzXCI7XG5pbXBvcnQgZ2V0Vmlld3BvcnRSZWN0IGZyb20gXCIuL2dldFZpZXdwb3J0UmVjdC5qc1wiO1xuaW1wb3J0IGdldERvY3VtZW50UmVjdCBmcm9tIFwiLi9nZXREb2N1bWVudFJlY3QuanNcIjtcbmltcG9ydCBsaXN0U2Nyb2xsUGFyZW50cyBmcm9tIFwiLi9saXN0U2Nyb2xsUGFyZW50cy5qc1wiO1xuaW1wb3J0IGdldE9mZnNldFBhcmVudCBmcm9tIFwiLi9nZXRPZmZzZXRQYXJlbnQuanNcIjtcbmltcG9ydCBnZXREb2N1bWVudEVsZW1lbnQgZnJvbSBcIi4vZ2V0RG9jdW1lbnRFbGVtZW50LmpzXCI7XG5pbXBvcnQgZ2V0Q29tcHV0ZWRTdHlsZSBmcm9tIFwiLi9nZXRDb21wdXRlZFN0eWxlLmpzXCI7XG5pbXBvcnQgeyBpc0VsZW1lbnQsIGlzSFRNTEVsZW1lbnQgfSBmcm9tIFwiLi9pbnN0YW5jZU9mLmpzXCI7XG5pbXBvcnQgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGZyb20gXCIuL2dldEJvdW5kaW5nQ2xpZW50UmVjdC5qc1wiO1xuaW1wb3J0IGdldFBhcmVudE5vZGUgZnJvbSBcIi4vZ2V0UGFyZW50Tm9kZS5qc1wiO1xuaW1wb3J0IGNvbnRhaW5zIGZyb20gXCIuL2NvbnRhaW5zLmpzXCI7XG5pbXBvcnQgZ2V0Tm9kZU5hbWUgZnJvbSBcIi4vZ2V0Tm9kZU5hbWUuanNcIjtcbmltcG9ydCByZWN0VG9DbGllbnRSZWN0IGZyb20gXCIuLi91dGlscy9yZWN0VG9DbGllbnRSZWN0LmpzXCI7XG5pbXBvcnQgeyBtYXgsIG1pbiB9IGZyb20gXCIuLi91dGlscy9tYXRoLmpzXCI7XG5cbmZ1bmN0aW9uIGdldElubmVyQm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnQsIHN0cmF0ZWd5KSB7XG4gIHZhciByZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnQsIGZhbHNlLCBzdHJhdGVneSA9PT0gJ2ZpeGVkJyk7XG4gIHJlY3QudG9wID0gcmVjdC50b3AgKyBlbGVtZW50LmNsaWVudFRvcDtcbiAgcmVjdC5sZWZ0ID0gcmVjdC5sZWZ0ICsgZWxlbWVudC5jbGllbnRMZWZ0O1xuICByZWN0LmJvdHRvbSA9IHJlY3QudG9wICsgZWxlbWVudC5jbGllbnRIZWlnaHQ7XG4gIHJlY3QucmlnaHQgPSByZWN0LmxlZnQgKyBlbGVtZW50LmNsaWVudFdpZHRoO1xuICByZWN0LndpZHRoID0gZWxlbWVudC5jbGllbnRXaWR0aDtcbiAgcmVjdC5oZWlnaHQgPSBlbGVtZW50LmNsaWVudEhlaWdodDtcbiAgcmVjdC54ID0gcmVjdC5sZWZ0O1xuICByZWN0LnkgPSByZWN0LnRvcDtcbiAgcmV0dXJuIHJlY3Q7XG59XG5cbmZ1bmN0aW9uIGdldENsaWVudFJlY3RGcm9tTWl4ZWRUeXBlKGVsZW1lbnQsIGNsaXBwaW5nUGFyZW50LCBzdHJhdGVneSkge1xuICByZXR1cm4gY2xpcHBpbmdQYXJlbnQgPT09IHZpZXdwb3J0ID8gcmVjdFRvQ2xpZW50UmVjdChnZXRWaWV3cG9ydFJlY3QoZWxlbWVudCwgc3RyYXRlZ3kpKSA6IGlzRWxlbWVudChjbGlwcGluZ1BhcmVudCkgPyBnZXRJbm5lckJvdW5kaW5nQ2xpZW50UmVjdChjbGlwcGluZ1BhcmVudCwgc3RyYXRlZ3kpIDogcmVjdFRvQ2xpZW50UmVjdChnZXREb2N1bWVudFJlY3QoZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpKSk7XG59IC8vIEEgXCJjbGlwcGluZyBwYXJlbnRcIiBpcyBhbiBvdmVyZmxvd2FibGUgY29udGFpbmVyIHdpdGggdGhlIGNoYXJhY3RlcmlzdGljIG9mXG4vLyBjbGlwcGluZyAob3IgaGlkaW5nKSBvdmVyZmxvd2luZyBlbGVtZW50cyB3aXRoIGEgcG9zaXRpb24gZGlmZmVyZW50IGZyb21cbi8vIGBpbml0aWFsYFxuXG5cbmZ1bmN0aW9uIGdldENsaXBwaW5nUGFyZW50cyhlbGVtZW50KSB7XG4gIHZhciBjbGlwcGluZ1BhcmVudHMgPSBsaXN0U2Nyb2xsUGFyZW50cyhnZXRQYXJlbnROb2RlKGVsZW1lbnQpKTtcbiAgdmFyIGNhbkVzY2FwZUNsaXBwaW5nID0gWydhYnNvbHV0ZScsICdmaXhlZCddLmluZGV4T2YoZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5wb3NpdGlvbikgPj0gMDtcbiAgdmFyIGNsaXBwZXJFbGVtZW50ID0gY2FuRXNjYXBlQ2xpcHBpbmcgJiYgaXNIVE1MRWxlbWVudChlbGVtZW50KSA/IGdldE9mZnNldFBhcmVudChlbGVtZW50KSA6IGVsZW1lbnQ7XG5cbiAgaWYgKCFpc0VsZW1lbnQoY2xpcHBlckVsZW1lbnQpKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9IC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXJldHVybl06IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9mbG93L2lzc3Vlcy8xNDE0XG5cblxuICByZXR1cm4gY2xpcHBpbmdQYXJlbnRzLmZpbHRlcihmdW5jdGlvbiAoY2xpcHBpbmdQYXJlbnQpIHtcbiAgICByZXR1cm4gaXNFbGVtZW50KGNsaXBwaW5nUGFyZW50KSAmJiBjb250YWlucyhjbGlwcGluZ1BhcmVudCwgY2xpcHBlckVsZW1lbnQpICYmIGdldE5vZGVOYW1lKGNsaXBwaW5nUGFyZW50KSAhPT0gJ2JvZHknO1xuICB9KTtcbn0gLy8gR2V0cyB0aGUgbWF4aW11bSBhcmVhIHRoYXQgdGhlIGVsZW1lbnQgaXMgdmlzaWJsZSBpbiBkdWUgdG8gYW55IG51bWJlciBvZlxuLy8gY2xpcHBpbmcgcGFyZW50c1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldENsaXBwaW5nUmVjdChlbGVtZW50LCBib3VuZGFyeSwgcm9vdEJvdW5kYXJ5LCBzdHJhdGVneSkge1xuICB2YXIgbWFpbkNsaXBwaW5nUGFyZW50cyA9IGJvdW5kYXJ5ID09PSAnY2xpcHBpbmdQYXJlbnRzJyA/IGdldENsaXBwaW5nUGFyZW50cyhlbGVtZW50KSA6IFtdLmNvbmNhdChib3VuZGFyeSk7XG4gIHZhciBjbGlwcGluZ1BhcmVudHMgPSBbXS5jb25jYXQobWFpbkNsaXBwaW5nUGFyZW50cywgW3Jvb3RCb3VuZGFyeV0pO1xuICB2YXIgZmlyc3RDbGlwcGluZ1BhcmVudCA9IGNsaXBwaW5nUGFyZW50c1swXTtcbiAgdmFyIGNsaXBwaW5nUmVjdCA9IGNsaXBwaW5nUGFyZW50cy5yZWR1Y2UoZnVuY3Rpb24gKGFjY1JlY3QsIGNsaXBwaW5nUGFyZW50KSB7XG4gICAgdmFyIHJlY3QgPSBnZXRDbGllbnRSZWN0RnJvbU1peGVkVHlwZShlbGVtZW50LCBjbGlwcGluZ1BhcmVudCwgc3RyYXRlZ3kpO1xuICAgIGFjY1JlY3QudG9wID0gbWF4KHJlY3QudG9wLCBhY2NSZWN0LnRvcCk7XG4gICAgYWNjUmVjdC5yaWdodCA9IG1pbihyZWN0LnJpZ2h0LCBhY2NSZWN0LnJpZ2h0KTtcbiAgICBhY2NSZWN0LmJvdHRvbSA9IG1pbihyZWN0LmJvdHRvbSwgYWNjUmVjdC5ib3R0b20pO1xuICAgIGFjY1JlY3QubGVmdCA9IG1heChyZWN0LmxlZnQsIGFjY1JlY3QubGVmdCk7XG4gICAgcmV0dXJuIGFjY1JlY3Q7XG4gIH0sIGdldENsaWVudFJlY3RGcm9tTWl4ZWRUeXBlKGVsZW1lbnQsIGZpcnN0Q2xpcHBpbmdQYXJlbnQsIHN0cmF0ZWd5KSk7XG4gIGNsaXBwaW5nUmVjdC53aWR0aCA9IGNsaXBwaW5nUmVjdC5yaWdodCAtIGNsaXBwaW5nUmVjdC5sZWZ0O1xuICBjbGlwcGluZ1JlY3QuaGVpZ2h0ID0gY2xpcHBpbmdSZWN0LmJvdHRvbSAtIGNsaXBwaW5nUmVjdC50b3A7XG4gIGNsaXBwaW5nUmVjdC54ID0gY2xpcHBpbmdSZWN0LmxlZnQ7XG4gIGNsaXBwaW5nUmVjdC55ID0gY2xpcHBpbmdSZWN0LnRvcDtcbiAgcmV0dXJuIGNsaXBwaW5nUmVjdDtcbn0iLAogICAgImltcG9ydCBnZXRCYXNlUGxhY2VtZW50IGZyb20gXCIuL2dldEJhc2VQbGFjZW1lbnQuanNcIjtcbmltcG9ydCBnZXRWYXJpYXRpb24gZnJvbSBcIi4vZ2V0VmFyaWF0aW9uLmpzXCI7XG5pbXBvcnQgZ2V0TWFpbkF4aXNGcm9tUGxhY2VtZW50IGZyb20gXCIuL2dldE1haW5BeGlzRnJvbVBsYWNlbWVudC5qc1wiO1xuaW1wb3J0IHsgdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0LCBzdGFydCwgZW5kIH0gZnJvbSBcIi4uL2VudW1zLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb21wdXRlT2Zmc2V0cyhfcmVmKSB7XG4gIHZhciByZWZlcmVuY2UgPSBfcmVmLnJlZmVyZW5jZSxcbiAgICAgIGVsZW1lbnQgPSBfcmVmLmVsZW1lbnQsXG4gICAgICBwbGFjZW1lbnQgPSBfcmVmLnBsYWNlbWVudDtcbiAgdmFyIGJhc2VQbGFjZW1lbnQgPSBwbGFjZW1lbnQgPyBnZXRCYXNlUGxhY2VtZW50KHBsYWNlbWVudCkgOiBudWxsO1xuICB2YXIgdmFyaWF0aW9uID0gcGxhY2VtZW50ID8gZ2V0VmFyaWF0aW9uKHBsYWNlbWVudCkgOiBudWxsO1xuICB2YXIgY29tbW9uWCA9IHJlZmVyZW5jZS54ICsgcmVmZXJlbmNlLndpZHRoIC8gMiAtIGVsZW1lbnQud2lkdGggLyAyO1xuICB2YXIgY29tbW9uWSA9IHJlZmVyZW5jZS55ICsgcmVmZXJlbmNlLmhlaWdodCAvIDIgLSBlbGVtZW50LmhlaWdodCAvIDI7XG4gIHZhciBvZmZzZXRzO1xuXG4gIHN3aXRjaCAoYmFzZVBsYWNlbWVudCkge1xuICAgIGNhc2UgdG9wOlxuICAgICAgb2Zmc2V0cyA9IHtcbiAgICAgICAgeDogY29tbW9uWCxcbiAgICAgICAgeTogcmVmZXJlbmNlLnkgLSBlbGVtZW50LmhlaWdodFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBib3R0b206XG4gICAgICBvZmZzZXRzID0ge1xuICAgICAgICB4OiBjb21tb25YLFxuICAgICAgICB5OiByZWZlcmVuY2UueSArIHJlZmVyZW5jZS5oZWlnaHRcbiAgICAgIH07XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgcmlnaHQ6XG4gICAgICBvZmZzZXRzID0ge1xuICAgICAgICB4OiByZWZlcmVuY2UueCArIHJlZmVyZW5jZS53aWR0aCxcbiAgICAgICAgeTogY29tbW9uWVxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBsZWZ0OlxuICAgICAgb2Zmc2V0cyA9IHtcbiAgICAgICAgeDogcmVmZXJlbmNlLnggLSBlbGVtZW50LndpZHRoLFxuICAgICAgICB5OiBjb21tb25ZXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgb2Zmc2V0cyA9IHtcbiAgICAgICAgeDogcmVmZXJlbmNlLngsXG4gICAgICAgIHk6IHJlZmVyZW5jZS55XG4gICAgICB9O1xuICB9XG5cbiAgdmFyIG1haW5BeGlzID0gYmFzZVBsYWNlbWVudCA/IGdldE1haW5BeGlzRnJvbVBsYWNlbWVudChiYXNlUGxhY2VtZW50KSA6IG51bGw7XG5cbiAgaWYgKG1haW5BeGlzICE9IG51bGwpIHtcbiAgICB2YXIgbGVuID0gbWFpbkF4aXMgPT09ICd5JyA/ICdoZWlnaHQnIDogJ3dpZHRoJztcblxuICAgIHN3aXRjaCAodmFyaWF0aW9uKSB7XG4gICAgICBjYXNlIHN0YXJ0OlxuICAgICAgICBvZmZzZXRzW21haW5BeGlzXSA9IG9mZnNldHNbbWFpbkF4aXNdIC0gKHJlZmVyZW5jZVtsZW5dIC8gMiAtIGVsZW1lbnRbbGVuXSAvIDIpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBlbmQ6XG4gICAgICAgIG9mZnNldHNbbWFpbkF4aXNdID0gb2Zmc2V0c1ttYWluQXhpc10gKyAocmVmZXJlbmNlW2xlbl0gLyAyIC0gZWxlbWVudFtsZW5dIC8gMik7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvZmZzZXRzO1xufSIsCiAgICAiaW1wb3J0IGdldENsaXBwaW5nUmVjdCBmcm9tIFwiLi4vZG9tLXV0aWxzL2dldENsaXBwaW5nUmVjdC5qc1wiO1xuaW1wb3J0IGdldERvY3VtZW50RWxlbWVudCBmcm9tIFwiLi4vZG9tLXV0aWxzL2dldERvY3VtZW50RWxlbWVudC5qc1wiO1xuaW1wb3J0IGdldEJvdW5kaW5nQ2xpZW50UmVjdCBmcm9tIFwiLi4vZG9tLXV0aWxzL2dldEJvdW5kaW5nQ2xpZW50UmVjdC5qc1wiO1xuaW1wb3J0IGNvbXB1dGVPZmZzZXRzIGZyb20gXCIuL2NvbXB1dGVPZmZzZXRzLmpzXCI7XG5pbXBvcnQgcmVjdFRvQ2xpZW50UmVjdCBmcm9tIFwiLi9yZWN0VG9DbGllbnRSZWN0LmpzXCI7XG5pbXBvcnQgeyBjbGlwcGluZ1BhcmVudHMsIHJlZmVyZW5jZSwgcG9wcGVyLCBib3R0b20sIHRvcCwgcmlnaHQsIGJhc2VQbGFjZW1lbnRzLCB2aWV3cG9ydCB9IGZyb20gXCIuLi9lbnVtcy5qc1wiO1xuaW1wb3J0IHsgaXNFbGVtZW50IH0gZnJvbSBcIi4uL2RvbS11dGlscy9pbnN0YW5jZU9mLmpzXCI7XG5pbXBvcnQgbWVyZ2VQYWRkaW5nT2JqZWN0IGZyb20gXCIuL21lcmdlUGFkZGluZ09iamVjdC5qc1wiO1xuaW1wb3J0IGV4cGFuZFRvSGFzaE1hcCBmcm9tIFwiLi9leHBhbmRUb0hhc2hNYXAuanNcIjsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZXRlY3RPdmVyZmxvdyhzdGF0ZSwgb3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG5cbiAgdmFyIF9vcHRpb25zID0gb3B0aW9ucyxcbiAgICAgIF9vcHRpb25zJHBsYWNlbWVudCA9IF9vcHRpb25zLnBsYWNlbWVudCxcbiAgICAgIHBsYWNlbWVudCA9IF9vcHRpb25zJHBsYWNlbWVudCA9PT0gdm9pZCAwID8gc3RhdGUucGxhY2VtZW50IDogX29wdGlvbnMkcGxhY2VtZW50LFxuICAgICAgX29wdGlvbnMkc3RyYXRlZ3kgPSBfb3B0aW9ucy5zdHJhdGVneSxcbiAgICAgIHN0cmF0ZWd5ID0gX29wdGlvbnMkc3RyYXRlZ3kgPT09IHZvaWQgMCA/IHN0YXRlLnN0cmF0ZWd5IDogX29wdGlvbnMkc3RyYXRlZ3ksXG4gICAgICBfb3B0aW9ucyRib3VuZGFyeSA9IF9vcHRpb25zLmJvdW5kYXJ5LFxuICAgICAgYm91bmRhcnkgPSBfb3B0aW9ucyRib3VuZGFyeSA9PT0gdm9pZCAwID8gY2xpcHBpbmdQYXJlbnRzIDogX29wdGlvbnMkYm91bmRhcnksXG4gICAgICBfb3B0aW9ucyRyb290Qm91bmRhcnkgPSBfb3B0aW9ucy5yb290Qm91bmRhcnksXG4gICAgICByb290Qm91bmRhcnkgPSBfb3B0aW9ucyRyb290Qm91bmRhcnkgPT09IHZvaWQgMCA/IHZpZXdwb3J0IDogX29wdGlvbnMkcm9vdEJvdW5kYXJ5LFxuICAgICAgX29wdGlvbnMkZWxlbWVudENvbnRlID0gX29wdGlvbnMuZWxlbWVudENvbnRleHQsXG4gICAgICBlbGVtZW50Q29udGV4dCA9IF9vcHRpb25zJGVsZW1lbnRDb250ZSA9PT0gdm9pZCAwID8gcG9wcGVyIDogX29wdGlvbnMkZWxlbWVudENvbnRlLFxuICAgICAgX29wdGlvbnMkYWx0Qm91bmRhcnkgPSBfb3B0aW9ucy5hbHRCb3VuZGFyeSxcbiAgICAgIGFsdEJvdW5kYXJ5ID0gX29wdGlvbnMkYWx0Qm91bmRhcnkgPT09IHZvaWQgMCA/IGZhbHNlIDogX29wdGlvbnMkYWx0Qm91bmRhcnksXG4gICAgICBfb3B0aW9ucyRwYWRkaW5nID0gX29wdGlvbnMucGFkZGluZyxcbiAgICAgIHBhZGRpbmcgPSBfb3B0aW9ucyRwYWRkaW5nID09PSB2b2lkIDAgPyAwIDogX29wdGlvbnMkcGFkZGluZztcbiAgdmFyIHBhZGRpbmdPYmplY3QgPSBtZXJnZVBhZGRpbmdPYmplY3QodHlwZW9mIHBhZGRpbmcgIT09ICdudW1iZXInID8gcGFkZGluZyA6IGV4cGFuZFRvSGFzaE1hcChwYWRkaW5nLCBiYXNlUGxhY2VtZW50cykpO1xuICB2YXIgYWx0Q29udGV4dCA9IGVsZW1lbnRDb250ZXh0ID09PSBwb3BwZXIgPyByZWZlcmVuY2UgOiBwb3BwZXI7XG4gIHZhciBwb3BwZXJSZWN0ID0gc3RhdGUucmVjdHMucG9wcGVyO1xuICB2YXIgZWxlbWVudCA9IHN0YXRlLmVsZW1lbnRzW2FsdEJvdW5kYXJ5ID8gYWx0Q29udGV4dCA6IGVsZW1lbnRDb250ZXh0XTtcbiAgdmFyIGNsaXBwaW5nQ2xpZW50UmVjdCA9IGdldENsaXBwaW5nUmVjdChpc0VsZW1lbnQoZWxlbWVudCkgPyBlbGVtZW50IDogZWxlbWVudC5jb250ZXh0RWxlbWVudCB8fCBnZXREb2N1bWVudEVsZW1lbnQoc3RhdGUuZWxlbWVudHMucG9wcGVyKSwgYm91bmRhcnksIHJvb3RCb3VuZGFyeSwgc3RyYXRlZ3kpO1xuICB2YXIgcmVmZXJlbmNlQ2xpZW50UmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChzdGF0ZS5lbGVtZW50cy5yZWZlcmVuY2UpO1xuICB2YXIgcG9wcGVyT2Zmc2V0cyA9IGNvbXB1dGVPZmZzZXRzKHtcbiAgICByZWZlcmVuY2U6IHJlZmVyZW5jZUNsaWVudFJlY3QsXG4gICAgZWxlbWVudDogcG9wcGVyUmVjdCxcbiAgICBzdHJhdGVneTogJ2Fic29sdXRlJyxcbiAgICBwbGFjZW1lbnQ6IHBsYWNlbWVudFxuICB9KTtcbiAgdmFyIHBvcHBlckNsaWVudFJlY3QgPSByZWN0VG9DbGllbnRSZWN0KE9iamVjdC5hc3NpZ24oe30sIHBvcHBlclJlY3QsIHBvcHBlck9mZnNldHMpKTtcbiAgdmFyIGVsZW1lbnRDbGllbnRSZWN0ID0gZWxlbWVudENvbnRleHQgPT09IHBvcHBlciA/IHBvcHBlckNsaWVudFJlY3QgOiByZWZlcmVuY2VDbGllbnRSZWN0OyAvLyBwb3NpdGl2ZSA9IG92ZXJmbG93aW5nIHRoZSBjbGlwcGluZyByZWN0XG4gIC8vIDAgb3IgbmVnYXRpdmUgPSB3aXRoaW4gdGhlIGNsaXBwaW5nIHJlY3RcblxuICB2YXIgb3ZlcmZsb3dPZmZzZXRzID0ge1xuICAgIHRvcDogY2xpcHBpbmdDbGllbnRSZWN0LnRvcCAtIGVsZW1lbnRDbGllbnRSZWN0LnRvcCArIHBhZGRpbmdPYmplY3QudG9wLFxuICAgIGJvdHRvbTogZWxlbWVudENsaWVudFJlY3QuYm90dG9tIC0gY2xpcHBpbmdDbGllbnRSZWN0LmJvdHRvbSArIHBhZGRpbmdPYmplY3QuYm90dG9tLFxuICAgIGxlZnQ6IGNsaXBwaW5nQ2xpZW50UmVjdC5sZWZ0IC0gZWxlbWVudENsaWVudFJlY3QubGVmdCArIHBhZGRpbmdPYmplY3QubGVmdCxcbiAgICByaWdodDogZWxlbWVudENsaWVudFJlY3QucmlnaHQgLSBjbGlwcGluZ0NsaWVudFJlY3QucmlnaHQgKyBwYWRkaW5nT2JqZWN0LnJpZ2h0XG4gIH07XG4gIHZhciBvZmZzZXREYXRhID0gc3RhdGUubW9kaWZpZXJzRGF0YS5vZmZzZXQ7IC8vIE9mZnNldHMgY2FuIGJlIGFwcGxpZWQgb25seSB0byB0aGUgcG9wcGVyIGVsZW1lbnRcblxuICBpZiAoZWxlbWVudENvbnRleHQgPT09IHBvcHBlciAmJiBvZmZzZXREYXRhKSB7XG4gICAgdmFyIG9mZnNldCA9IG9mZnNldERhdGFbcGxhY2VtZW50XTtcbiAgICBPYmplY3Qua2V5cyhvdmVyZmxvd09mZnNldHMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIG11bHRpcGx5ID0gW3JpZ2h0LCBib3R0b21dLmluZGV4T2Yoa2V5KSA+PSAwID8gMSA6IC0xO1xuICAgICAgdmFyIGF4aXMgPSBbdG9wLCBib3R0b21dLmluZGV4T2Yoa2V5KSA+PSAwID8gJ3knIDogJ3gnO1xuICAgICAgb3ZlcmZsb3dPZmZzZXRzW2tleV0gKz0gb2Zmc2V0W2F4aXNdICogbXVsdGlwbHk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gb3ZlcmZsb3dPZmZzZXRzO1xufSIsCiAgICAiaW1wb3J0IGdldFZhcmlhdGlvbiBmcm9tIFwiLi9nZXRWYXJpYXRpb24uanNcIjtcbmltcG9ydCB7IHZhcmlhdGlvblBsYWNlbWVudHMsIGJhc2VQbGFjZW1lbnRzLCBwbGFjZW1lbnRzIGFzIGFsbFBsYWNlbWVudHMgfSBmcm9tIFwiLi4vZW51bXMuanNcIjtcbmltcG9ydCBkZXRlY3RPdmVyZmxvdyBmcm9tIFwiLi9kZXRlY3RPdmVyZmxvdy5qc1wiO1xuaW1wb3J0IGdldEJhc2VQbGFjZW1lbnQgZnJvbSBcIi4vZ2V0QmFzZVBsYWNlbWVudC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29tcHV0ZUF1dG9QbGFjZW1lbnQoc3RhdGUsIG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuXG4gIHZhciBfb3B0aW9ucyA9IG9wdGlvbnMsXG4gICAgICBwbGFjZW1lbnQgPSBfb3B0aW9ucy5wbGFjZW1lbnQsXG4gICAgICBib3VuZGFyeSA9IF9vcHRpb25zLmJvdW5kYXJ5LFxuICAgICAgcm9vdEJvdW5kYXJ5ID0gX29wdGlvbnMucm9vdEJvdW5kYXJ5LFxuICAgICAgcGFkZGluZyA9IF9vcHRpb25zLnBhZGRpbmcsXG4gICAgICBmbGlwVmFyaWF0aW9ucyA9IF9vcHRpb25zLmZsaXBWYXJpYXRpb25zLFxuICAgICAgX29wdGlvbnMkYWxsb3dlZEF1dG9QID0gX29wdGlvbnMuYWxsb3dlZEF1dG9QbGFjZW1lbnRzLFxuICAgICAgYWxsb3dlZEF1dG9QbGFjZW1lbnRzID0gX29wdGlvbnMkYWxsb3dlZEF1dG9QID09PSB2b2lkIDAgPyBhbGxQbGFjZW1lbnRzIDogX29wdGlvbnMkYWxsb3dlZEF1dG9QO1xuICB2YXIgdmFyaWF0aW9uID0gZ2V0VmFyaWF0aW9uKHBsYWNlbWVudCk7XG4gIHZhciBwbGFjZW1lbnRzID0gdmFyaWF0aW9uID8gZmxpcFZhcmlhdGlvbnMgPyB2YXJpYXRpb25QbGFjZW1lbnRzIDogdmFyaWF0aW9uUGxhY2VtZW50cy5maWx0ZXIoZnVuY3Rpb24gKHBsYWNlbWVudCkge1xuICAgIHJldHVybiBnZXRWYXJpYXRpb24ocGxhY2VtZW50KSA9PT0gdmFyaWF0aW9uO1xuICB9KSA6IGJhc2VQbGFjZW1lbnRzO1xuICB2YXIgYWxsb3dlZFBsYWNlbWVudHMgPSBwbGFjZW1lbnRzLmZpbHRlcihmdW5jdGlvbiAocGxhY2VtZW50KSB7XG4gICAgcmV0dXJuIGFsbG93ZWRBdXRvUGxhY2VtZW50cy5pbmRleE9mKHBsYWNlbWVudCkgPj0gMDtcbiAgfSk7XG5cbiAgaWYgKGFsbG93ZWRQbGFjZW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIGFsbG93ZWRQbGFjZW1lbnRzID0gcGxhY2VtZW50cztcbiAgfSAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlXTogRmxvdyBzZWVtcyB0byBoYXZlIHByb2JsZW1zIHdpdGggdHdvIGFycmF5IHVuaW9ucy4uLlxuXG5cbiAgdmFyIG92ZXJmbG93cyA9IGFsbG93ZWRQbGFjZW1lbnRzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBwbGFjZW1lbnQpIHtcbiAgICBhY2NbcGxhY2VtZW50XSA9IGRldGVjdE92ZXJmbG93KHN0YXRlLCB7XG4gICAgICBwbGFjZW1lbnQ6IHBsYWNlbWVudCxcbiAgICAgIGJvdW5kYXJ5OiBib3VuZGFyeSxcbiAgICAgIHJvb3RCb3VuZGFyeTogcm9vdEJvdW5kYXJ5LFxuICAgICAgcGFkZGluZzogcGFkZGluZ1xuICAgIH0pW2dldEJhc2VQbGFjZW1lbnQocGxhY2VtZW50KV07XG4gICAgcmV0dXJuIGFjYztcbiAgfSwge30pO1xuICByZXR1cm4gT2JqZWN0LmtleXMob3ZlcmZsb3dzKS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIG92ZXJmbG93c1thXSAtIG92ZXJmbG93c1tiXTtcbiAgfSk7XG59IiwKICAgICJpbXBvcnQgZ2V0T3Bwb3NpdGVQbGFjZW1lbnQgZnJvbSBcIi4uL3V0aWxzL2dldE9wcG9zaXRlUGxhY2VtZW50LmpzXCI7XG5pbXBvcnQgZ2V0QmFzZVBsYWNlbWVudCBmcm9tIFwiLi4vdXRpbHMvZ2V0QmFzZVBsYWNlbWVudC5qc1wiO1xuaW1wb3J0IGdldE9wcG9zaXRlVmFyaWF0aW9uUGxhY2VtZW50IGZyb20gXCIuLi91dGlscy9nZXRPcHBvc2l0ZVZhcmlhdGlvblBsYWNlbWVudC5qc1wiO1xuaW1wb3J0IGRldGVjdE92ZXJmbG93IGZyb20gXCIuLi91dGlscy9kZXRlY3RPdmVyZmxvdy5qc1wiO1xuaW1wb3J0IGNvbXB1dGVBdXRvUGxhY2VtZW50IGZyb20gXCIuLi91dGlscy9jb21wdXRlQXV0b1BsYWNlbWVudC5qc1wiO1xuaW1wb3J0IHsgYm90dG9tLCB0b3AsIHN0YXJ0LCByaWdodCwgbGVmdCwgYXV0byB9IGZyb20gXCIuLi9lbnVtcy5qc1wiO1xuaW1wb3J0IGdldFZhcmlhdGlvbiBmcm9tIFwiLi4vdXRpbHMvZ2V0VmFyaWF0aW9uLmpzXCI7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuZnVuY3Rpb24gZ2V0RXhwYW5kZWRGYWxsYmFja1BsYWNlbWVudHMocGxhY2VtZW50KSB7XG4gIGlmIChnZXRCYXNlUGxhY2VtZW50KHBsYWNlbWVudCkgPT09IGF1dG8pIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICB2YXIgb3Bwb3NpdGVQbGFjZW1lbnQgPSBnZXRPcHBvc2l0ZVBsYWNlbWVudChwbGFjZW1lbnQpO1xuICByZXR1cm4gW2dldE9wcG9zaXRlVmFyaWF0aW9uUGxhY2VtZW50KHBsYWNlbWVudCksIG9wcG9zaXRlUGxhY2VtZW50LCBnZXRPcHBvc2l0ZVZhcmlhdGlvblBsYWNlbWVudChvcHBvc2l0ZVBsYWNlbWVudCldO1xufVxuXG5mdW5jdGlvbiBmbGlwKF9yZWYpIHtcbiAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZSxcbiAgICAgIG9wdGlvbnMgPSBfcmVmLm9wdGlvbnMsXG4gICAgICBuYW1lID0gX3JlZi5uYW1lO1xuXG4gIGlmIChzdGF0ZS5tb2RpZmllcnNEYXRhW25hbWVdLl9za2lwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIF9vcHRpb25zJG1haW5BeGlzID0gb3B0aW9ucy5tYWluQXhpcyxcbiAgICAgIGNoZWNrTWFpbkF4aXMgPSBfb3B0aW9ucyRtYWluQXhpcyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJG1haW5BeGlzLFxuICAgICAgX29wdGlvbnMkYWx0QXhpcyA9IG9wdGlvbnMuYWx0QXhpcyxcbiAgICAgIGNoZWNrQWx0QXhpcyA9IF9vcHRpb25zJGFsdEF4aXMgPT09IHZvaWQgMCA/IHRydWUgOiBfb3B0aW9ucyRhbHRBeGlzLFxuICAgICAgc3BlY2lmaWVkRmFsbGJhY2tQbGFjZW1lbnRzID0gb3B0aW9ucy5mYWxsYmFja1BsYWNlbWVudHMsXG4gICAgICBwYWRkaW5nID0gb3B0aW9ucy5wYWRkaW5nLFxuICAgICAgYm91bmRhcnkgPSBvcHRpb25zLmJvdW5kYXJ5LFxuICAgICAgcm9vdEJvdW5kYXJ5ID0gb3B0aW9ucy5yb290Qm91bmRhcnksXG4gICAgICBhbHRCb3VuZGFyeSA9IG9wdGlvbnMuYWx0Qm91bmRhcnksXG4gICAgICBfb3B0aW9ucyRmbGlwVmFyaWF0aW8gPSBvcHRpb25zLmZsaXBWYXJpYXRpb25zLFxuICAgICAgZmxpcFZhcmlhdGlvbnMgPSBfb3B0aW9ucyRmbGlwVmFyaWF0aW8gPT09IHZvaWQgMCA/IHRydWUgOiBfb3B0aW9ucyRmbGlwVmFyaWF0aW8sXG4gICAgICBhbGxvd2VkQXV0b1BsYWNlbWVudHMgPSBvcHRpb25zLmFsbG93ZWRBdXRvUGxhY2VtZW50cztcbiAgdmFyIHByZWZlcnJlZFBsYWNlbWVudCA9IHN0YXRlLm9wdGlvbnMucGxhY2VtZW50O1xuICB2YXIgYmFzZVBsYWNlbWVudCA9IGdldEJhc2VQbGFjZW1lbnQocHJlZmVycmVkUGxhY2VtZW50KTtcbiAgdmFyIGlzQmFzZVBsYWNlbWVudCA9IGJhc2VQbGFjZW1lbnQgPT09IHByZWZlcnJlZFBsYWNlbWVudDtcbiAgdmFyIGZhbGxiYWNrUGxhY2VtZW50cyA9IHNwZWNpZmllZEZhbGxiYWNrUGxhY2VtZW50cyB8fCAoaXNCYXNlUGxhY2VtZW50IHx8ICFmbGlwVmFyaWF0aW9ucyA/IFtnZXRPcHBvc2l0ZVBsYWNlbWVudChwcmVmZXJyZWRQbGFjZW1lbnQpXSA6IGdldEV4cGFuZGVkRmFsbGJhY2tQbGFjZW1lbnRzKHByZWZlcnJlZFBsYWNlbWVudCkpO1xuICB2YXIgcGxhY2VtZW50cyA9IFtwcmVmZXJyZWRQbGFjZW1lbnRdLmNvbmNhdChmYWxsYmFja1BsYWNlbWVudHMpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBwbGFjZW1lbnQpIHtcbiAgICByZXR1cm4gYWNjLmNvbmNhdChnZXRCYXNlUGxhY2VtZW50KHBsYWNlbWVudCkgPT09IGF1dG8gPyBjb21wdXRlQXV0b1BsYWNlbWVudChzdGF0ZSwge1xuICAgICAgcGxhY2VtZW50OiBwbGFjZW1lbnQsXG4gICAgICBib3VuZGFyeTogYm91bmRhcnksXG4gICAgICByb290Qm91bmRhcnk6IHJvb3RCb3VuZGFyeSxcbiAgICAgIHBhZGRpbmc6IHBhZGRpbmcsXG4gICAgICBmbGlwVmFyaWF0aW9uczogZmxpcFZhcmlhdGlvbnMsXG4gICAgICBhbGxvd2VkQXV0b1BsYWNlbWVudHM6IGFsbG93ZWRBdXRvUGxhY2VtZW50c1xuICAgIH0pIDogcGxhY2VtZW50KTtcbiAgfSwgW10pO1xuICB2YXIgcmVmZXJlbmNlUmVjdCA9IHN0YXRlLnJlY3RzLnJlZmVyZW5jZTtcbiAgdmFyIHBvcHBlclJlY3QgPSBzdGF0ZS5yZWN0cy5wb3BwZXI7XG4gIHZhciBjaGVja3NNYXAgPSBuZXcgTWFwKCk7XG4gIHZhciBtYWtlRmFsbGJhY2tDaGVja3MgPSB0cnVlO1xuICB2YXIgZmlyc3RGaXR0aW5nUGxhY2VtZW50ID0gcGxhY2VtZW50c1swXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBsYWNlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcGxhY2VtZW50ID0gcGxhY2VtZW50c1tpXTtcblxuICAgIHZhciBfYmFzZVBsYWNlbWVudCA9IGdldEJhc2VQbGFjZW1lbnQocGxhY2VtZW50KTtcblxuICAgIHZhciBpc1N0YXJ0VmFyaWF0aW9uID0gZ2V0VmFyaWF0aW9uKHBsYWNlbWVudCkgPT09IHN0YXJ0O1xuICAgIHZhciBpc1ZlcnRpY2FsID0gW3RvcCwgYm90dG9tXS5pbmRleE9mKF9iYXNlUGxhY2VtZW50KSA+PSAwO1xuICAgIHZhciBsZW4gPSBpc1ZlcnRpY2FsID8gJ3dpZHRoJyA6ICdoZWlnaHQnO1xuICAgIHZhciBvdmVyZmxvdyA9IGRldGVjdE92ZXJmbG93KHN0YXRlLCB7XG4gICAgICBwbGFjZW1lbnQ6IHBsYWNlbWVudCxcbiAgICAgIGJvdW5kYXJ5OiBib3VuZGFyeSxcbiAgICAgIHJvb3RCb3VuZGFyeTogcm9vdEJvdW5kYXJ5LFxuICAgICAgYWx0Qm91bmRhcnk6IGFsdEJvdW5kYXJ5LFxuICAgICAgcGFkZGluZzogcGFkZGluZ1xuICAgIH0pO1xuICAgIHZhciBtYWluVmFyaWF0aW9uU2lkZSA9IGlzVmVydGljYWwgPyBpc1N0YXJ0VmFyaWF0aW9uID8gcmlnaHQgOiBsZWZ0IDogaXNTdGFydFZhcmlhdGlvbiA/IGJvdHRvbSA6IHRvcDtcblxuICAgIGlmIChyZWZlcmVuY2VSZWN0W2xlbl0gPiBwb3BwZXJSZWN0W2xlbl0pIHtcbiAgICAgIG1haW5WYXJpYXRpb25TaWRlID0gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQobWFpblZhcmlhdGlvblNpZGUpO1xuICAgIH1cblxuICAgIHZhciBhbHRWYXJpYXRpb25TaWRlID0gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQobWFpblZhcmlhdGlvblNpZGUpO1xuICAgIHZhciBjaGVja3MgPSBbXTtcblxuICAgIGlmIChjaGVja01haW5BeGlzKSB7XG4gICAgICBjaGVja3MucHVzaChvdmVyZmxvd1tfYmFzZVBsYWNlbWVudF0gPD0gMCk7XG4gICAgfVxuXG4gICAgaWYgKGNoZWNrQWx0QXhpcykge1xuICAgICAgY2hlY2tzLnB1c2gob3ZlcmZsb3dbbWFpblZhcmlhdGlvblNpZGVdIDw9IDAsIG92ZXJmbG93W2FsdFZhcmlhdGlvblNpZGVdIDw9IDApO1xuICAgIH1cblxuICAgIGlmIChjaGVja3MuZXZlcnkoZnVuY3Rpb24gKGNoZWNrKSB7XG4gICAgICByZXR1cm4gY2hlY2s7XG4gICAgfSkpIHtcbiAgICAgIGZpcnN0Rml0dGluZ1BsYWNlbWVudCA9IHBsYWNlbWVudDtcbiAgICAgIG1ha2VGYWxsYmFja0NoZWNrcyA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgY2hlY2tzTWFwLnNldChwbGFjZW1lbnQsIGNoZWNrcyk7XG4gIH1cblxuICBpZiAobWFrZUZhbGxiYWNrQ2hlY2tzKSB7XG4gICAgLy8gYDJgIG1heSBiZSBkZXNpcmVkIGluIHNvbWUgY2FzZXMg4oCTIHJlc2VhcmNoIGxhdGVyXG4gICAgdmFyIG51bWJlck9mQ2hlY2tzID0gZmxpcFZhcmlhdGlvbnMgPyAzIDogMTtcblxuICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKF9pKSB7XG4gICAgICB2YXIgZml0dGluZ1BsYWNlbWVudCA9IHBsYWNlbWVudHMuZmluZChmdW5jdGlvbiAocGxhY2VtZW50KSB7XG4gICAgICAgIHZhciBjaGVja3MgPSBjaGVja3NNYXAuZ2V0KHBsYWNlbWVudCk7XG5cbiAgICAgICAgaWYgKGNoZWNrcykge1xuICAgICAgICAgIHJldHVybiBjaGVja3Muc2xpY2UoMCwgX2kpLmV2ZXJ5KGZ1bmN0aW9uIChjaGVjaykge1xuICAgICAgICAgICAgcmV0dXJuIGNoZWNrO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKGZpdHRpbmdQbGFjZW1lbnQpIHtcbiAgICAgICAgZmlyc3RGaXR0aW5nUGxhY2VtZW50ID0gZml0dGluZ1BsYWNlbWVudDtcbiAgICAgICAgcmV0dXJuIFwiYnJlYWtcIjtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZm9yICh2YXIgX2kgPSBudW1iZXJPZkNoZWNrczsgX2kgPiAwOyBfaS0tKSB7XG4gICAgICB2YXIgX3JldCA9IF9sb29wKF9pKTtcblxuICAgICAgaWYgKF9yZXQgPT09IFwiYnJlYWtcIikgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaWYgKHN0YXRlLnBsYWNlbWVudCAhPT0gZmlyc3RGaXR0aW5nUGxhY2VtZW50KSB7XG4gICAgc3RhdGUubW9kaWZpZXJzRGF0YVtuYW1lXS5fc2tpcCA9IHRydWU7XG4gICAgc3RhdGUucGxhY2VtZW50ID0gZmlyc3RGaXR0aW5nUGxhY2VtZW50O1xuICAgIHN0YXRlLnJlc2V0ID0gdHJ1ZTtcbiAgfVxufSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzXG5cblxuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiAnZmxpcCcsXG4gIGVuYWJsZWQ6IHRydWUsXG4gIHBoYXNlOiAnbWFpbicsXG4gIGZuOiBmbGlwLFxuICByZXF1aXJlc0lmRXhpc3RzOiBbJ29mZnNldCddLFxuICBkYXRhOiB7XG4gICAgX3NraXA6IGZhbHNlXG4gIH1cbn07IiwKICAgICJpbXBvcnQgeyB0b3AsIGJvdHRvbSwgbGVmdCwgcmlnaHQgfSBmcm9tIFwiLi4vZW51bXMuanNcIjtcbmltcG9ydCBkZXRlY3RPdmVyZmxvdyBmcm9tIFwiLi4vdXRpbHMvZGV0ZWN0T3ZlcmZsb3cuanNcIjtcblxuZnVuY3Rpb24gZ2V0U2lkZU9mZnNldHMob3ZlcmZsb3csIHJlY3QsIHByZXZlbnRlZE9mZnNldHMpIHtcbiAgaWYgKHByZXZlbnRlZE9mZnNldHMgPT09IHZvaWQgMCkge1xuICAgIHByZXZlbnRlZE9mZnNldHMgPSB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMFxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHRvcDogb3ZlcmZsb3cudG9wIC0gcmVjdC5oZWlnaHQgLSBwcmV2ZW50ZWRPZmZzZXRzLnksXG4gICAgcmlnaHQ6IG92ZXJmbG93LnJpZ2h0IC0gcmVjdC53aWR0aCArIHByZXZlbnRlZE9mZnNldHMueCxcbiAgICBib3R0b206IG92ZXJmbG93LmJvdHRvbSAtIHJlY3QuaGVpZ2h0ICsgcHJldmVudGVkT2Zmc2V0cy55LFxuICAgIGxlZnQ6IG92ZXJmbG93LmxlZnQgLSByZWN0LndpZHRoIC0gcHJldmVudGVkT2Zmc2V0cy54XG4gIH07XG59XG5cbmZ1bmN0aW9uIGlzQW55U2lkZUZ1bGx5Q2xpcHBlZChvdmVyZmxvdykge1xuICByZXR1cm4gW3RvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdF0uc29tZShmdW5jdGlvbiAoc2lkZSkge1xuICAgIHJldHVybiBvdmVyZmxvd1tzaWRlXSA+PSAwO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gaGlkZShfcmVmKSB7XG4gIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGUsXG4gICAgICBuYW1lID0gX3JlZi5uYW1lO1xuICB2YXIgcmVmZXJlbmNlUmVjdCA9IHN0YXRlLnJlY3RzLnJlZmVyZW5jZTtcbiAgdmFyIHBvcHBlclJlY3QgPSBzdGF0ZS5yZWN0cy5wb3BwZXI7XG4gIHZhciBwcmV2ZW50ZWRPZmZzZXRzID0gc3RhdGUubW9kaWZpZXJzRGF0YS5wcmV2ZW50T3ZlcmZsb3c7XG4gIHZhciByZWZlcmVuY2VPdmVyZmxvdyA9IGRldGVjdE92ZXJmbG93KHN0YXRlLCB7XG4gICAgZWxlbWVudENvbnRleHQ6ICdyZWZlcmVuY2UnXG4gIH0pO1xuICB2YXIgcG9wcGVyQWx0T3ZlcmZsb3cgPSBkZXRlY3RPdmVyZmxvdyhzdGF0ZSwge1xuICAgIGFsdEJvdW5kYXJ5OiB0cnVlXG4gIH0pO1xuICB2YXIgcmVmZXJlbmNlQ2xpcHBpbmdPZmZzZXRzID0gZ2V0U2lkZU9mZnNldHMocmVmZXJlbmNlT3ZlcmZsb3csIHJlZmVyZW5jZVJlY3QpO1xuICB2YXIgcG9wcGVyRXNjYXBlT2Zmc2V0cyA9IGdldFNpZGVPZmZzZXRzKHBvcHBlckFsdE92ZXJmbG93LCBwb3BwZXJSZWN0LCBwcmV2ZW50ZWRPZmZzZXRzKTtcbiAgdmFyIGlzUmVmZXJlbmNlSGlkZGVuID0gaXNBbnlTaWRlRnVsbHlDbGlwcGVkKHJlZmVyZW5jZUNsaXBwaW5nT2Zmc2V0cyk7XG4gIHZhciBoYXNQb3BwZXJFc2NhcGVkID0gaXNBbnlTaWRlRnVsbHlDbGlwcGVkKHBvcHBlckVzY2FwZU9mZnNldHMpO1xuICBzdGF0ZS5tb2RpZmllcnNEYXRhW25hbWVdID0ge1xuICAgIHJlZmVyZW5jZUNsaXBwaW5nT2Zmc2V0czogcmVmZXJlbmNlQ2xpcHBpbmdPZmZzZXRzLFxuICAgIHBvcHBlckVzY2FwZU9mZnNldHM6IHBvcHBlckVzY2FwZU9mZnNldHMsXG4gICAgaXNSZWZlcmVuY2VIaWRkZW46IGlzUmVmZXJlbmNlSGlkZGVuLFxuICAgIGhhc1BvcHBlckVzY2FwZWQ6IGhhc1BvcHBlckVzY2FwZWRcbiAgfTtcbiAgc3RhdGUuYXR0cmlidXRlcy5wb3BwZXIgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5hdHRyaWJ1dGVzLnBvcHBlciwge1xuICAgICdkYXRhLXBvcHBlci1yZWZlcmVuY2UtaGlkZGVuJzogaXNSZWZlcmVuY2VIaWRkZW4sXG4gICAgJ2RhdGEtcG9wcGVyLWVzY2FwZWQnOiBoYXNQb3BwZXJFc2NhcGVkXG4gIH0pO1xufSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzXG5cblxuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiAnaGlkZScsXG4gIGVuYWJsZWQ6IHRydWUsXG4gIHBoYXNlOiAnbWFpbicsXG4gIHJlcXVpcmVzSWZFeGlzdHM6IFsncHJldmVudE92ZXJmbG93J10sXG4gIGZuOiBoaWRlXG59OyIsCiAgICAiaW1wb3J0IGdldEJhc2VQbGFjZW1lbnQgZnJvbSBcIi4uL3V0aWxzL2dldEJhc2VQbGFjZW1lbnQuanNcIjtcbmltcG9ydCB7IHRvcCwgbGVmdCwgcmlnaHQsIHBsYWNlbWVudHMgfSBmcm9tIFwiLi4vZW51bXMuanNcIjsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG5leHBvcnQgZnVuY3Rpb24gZGlzdGFuY2VBbmRTa2lkZGluZ1RvWFkocGxhY2VtZW50LCByZWN0cywgb2Zmc2V0KSB7XG4gIHZhciBiYXNlUGxhY2VtZW50ID0gZ2V0QmFzZVBsYWNlbWVudChwbGFjZW1lbnQpO1xuICB2YXIgaW52ZXJ0RGlzdGFuY2UgPSBbbGVmdCwgdG9wXS5pbmRleE9mKGJhc2VQbGFjZW1lbnQpID49IDAgPyAtMSA6IDE7XG5cbiAgdmFyIF9yZWYgPSB0eXBlb2Ygb2Zmc2V0ID09PSAnZnVuY3Rpb24nID8gb2Zmc2V0KE9iamVjdC5hc3NpZ24oe30sIHJlY3RzLCB7XG4gICAgcGxhY2VtZW50OiBwbGFjZW1lbnRcbiAgfSkpIDogb2Zmc2V0LFxuICAgICAgc2tpZGRpbmcgPSBfcmVmWzBdLFxuICAgICAgZGlzdGFuY2UgPSBfcmVmWzFdO1xuXG4gIHNraWRkaW5nID0gc2tpZGRpbmcgfHwgMDtcbiAgZGlzdGFuY2UgPSAoZGlzdGFuY2UgfHwgMCkgKiBpbnZlcnREaXN0YW5jZTtcbiAgcmV0dXJuIFtsZWZ0LCByaWdodF0uaW5kZXhPZihiYXNlUGxhY2VtZW50KSA+PSAwID8ge1xuICAgIHg6IGRpc3RhbmNlLFxuICAgIHk6IHNraWRkaW5nXG4gIH0gOiB7XG4gICAgeDogc2tpZGRpbmcsXG4gICAgeTogZGlzdGFuY2VcbiAgfTtcbn1cblxuZnVuY3Rpb24gb2Zmc2V0KF9yZWYyKSB7XG4gIHZhciBzdGF0ZSA9IF9yZWYyLnN0YXRlLFxuICAgICAgb3B0aW9ucyA9IF9yZWYyLm9wdGlvbnMsXG4gICAgICBuYW1lID0gX3JlZjIubmFtZTtcbiAgdmFyIF9vcHRpb25zJG9mZnNldCA9IG9wdGlvbnMub2Zmc2V0LFxuICAgICAgb2Zmc2V0ID0gX29wdGlvbnMkb2Zmc2V0ID09PSB2b2lkIDAgPyBbMCwgMF0gOiBfb3B0aW9ucyRvZmZzZXQ7XG4gIHZhciBkYXRhID0gcGxhY2VtZW50cy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcGxhY2VtZW50KSB7XG4gICAgYWNjW3BsYWNlbWVudF0gPSBkaXN0YW5jZUFuZFNraWRkaW5nVG9YWShwbGFjZW1lbnQsIHN0YXRlLnJlY3RzLCBvZmZzZXQpO1xuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9KTtcbiAgdmFyIF9kYXRhJHN0YXRlJHBsYWNlbWVudCA9IGRhdGFbc3RhdGUucGxhY2VtZW50XSxcbiAgICAgIHggPSBfZGF0YSRzdGF0ZSRwbGFjZW1lbnQueCxcbiAgICAgIHkgPSBfZGF0YSRzdGF0ZSRwbGFjZW1lbnQueTtcblxuICBpZiAoc3RhdGUubW9kaWZpZXJzRGF0YS5wb3BwZXJPZmZzZXRzICE9IG51bGwpIHtcbiAgICBzdGF0ZS5tb2RpZmllcnNEYXRhLnBvcHBlck9mZnNldHMueCArPSB4O1xuICAgIHN0YXRlLm1vZGlmaWVyc0RhdGEucG9wcGVyT2Zmc2V0cy55ICs9IHk7XG4gIH1cblxuICBzdGF0ZS5tb2RpZmllcnNEYXRhW25hbWVdID0gZGF0YTtcbn0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogJ29mZnNldCcsXG4gIGVuYWJsZWQ6IHRydWUsXG4gIHBoYXNlOiAnbWFpbicsXG4gIHJlcXVpcmVzOiBbJ3BvcHBlck9mZnNldHMnXSxcbiAgZm46IG9mZnNldFxufTsiLAogICAgImltcG9ydCBjb21wdXRlT2Zmc2V0cyBmcm9tIFwiLi4vdXRpbHMvY29tcHV0ZU9mZnNldHMuanNcIjtcblxuZnVuY3Rpb24gcG9wcGVyT2Zmc2V0cyhfcmVmKSB7XG4gIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGUsXG4gICAgICBuYW1lID0gX3JlZi5uYW1lO1xuICAvLyBPZmZzZXRzIGFyZSB0aGUgYWN0dWFsIHBvc2l0aW9uIHRoZSBwb3BwZXIgbmVlZHMgdG8gaGF2ZSB0byBiZVxuICAvLyBwcm9wZXJseSBwb3NpdGlvbmVkIG5lYXIgaXRzIHJlZmVyZW5jZSBlbGVtZW50XG4gIC8vIFRoaXMgaXMgdGhlIG1vc3QgYmFzaWMgcGxhY2VtZW50LCBhbmQgd2lsbCBiZSBhZGp1c3RlZCBieVxuICAvLyB0aGUgbW9kaWZpZXJzIGluIHRoZSBuZXh0IHN0ZXBcbiAgc3RhdGUubW9kaWZpZXJzRGF0YVtuYW1lXSA9IGNvbXB1dGVPZmZzZXRzKHtcbiAgICByZWZlcmVuY2U6IHN0YXRlLnJlY3RzLnJlZmVyZW5jZSxcbiAgICBlbGVtZW50OiBzdGF0ZS5yZWN0cy5wb3BwZXIsXG4gICAgc3RyYXRlZ3k6ICdhYnNvbHV0ZScsXG4gICAgcGxhY2VtZW50OiBzdGF0ZS5wbGFjZW1lbnRcbiAgfSk7XG59IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6ICdwb3BwZXJPZmZzZXRzJyxcbiAgZW5hYmxlZDogdHJ1ZSxcbiAgcGhhc2U6ICdyZWFkJyxcbiAgZm46IHBvcHBlck9mZnNldHMsXG4gIGRhdGE6IHt9XG59OyIsCiAgICAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0QWx0QXhpcyhheGlzKSB7XG4gIHJldHVybiBheGlzID09PSAneCcgPyAneScgOiAneCc7XG59IiwKICAgICJpbXBvcnQgeyB0b3AsIGxlZnQsIHJpZ2h0LCBib3R0b20sIHN0YXJ0IH0gZnJvbSBcIi4uL2VudW1zLmpzXCI7XG5pbXBvcnQgZ2V0QmFzZVBsYWNlbWVudCBmcm9tIFwiLi4vdXRpbHMvZ2V0QmFzZVBsYWNlbWVudC5qc1wiO1xuaW1wb3J0IGdldE1haW5BeGlzRnJvbVBsYWNlbWVudCBmcm9tIFwiLi4vdXRpbHMvZ2V0TWFpbkF4aXNGcm9tUGxhY2VtZW50LmpzXCI7XG5pbXBvcnQgZ2V0QWx0QXhpcyBmcm9tIFwiLi4vdXRpbHMvZ2V0QWx0QXhpcy5qc1wiO1xuaW1wb3J0IHsgd2l0aGluLCB3aXRoaW5NYXhDbGFtcCB9IGZyb20gXCIuLi91dGlscy93aXRoaW4uanNcIjtcbmltcG9ydCBnZXRMYXlvdXRSZWN0IGZyb20gXCIuLi9kb20tdXRpbHMvZ2V0TGF5b3V0UmVjdC5qc1wiO1xuaW1wb3J0IGdldE9mZnNldFBhcmVudCBmcm9tIFwiLi4vZG9tLXV0aWxzL2dldE9mZnNldFBhcmVudC5qc1wiO1xuaW1wb3J0IGRldGVjdE92ZXJmbG93IGZyb20gXCIuLi91dGlscy9kZXRlY3RPdmVyZmxvdy5qc1wiO1xuaW1wb3J0IGdldFZhcmlhdGlvbiBmcm9tIFwiLi4vdXRpbHMvZ2V0VmFyaWF0aW9uLmpzXCI7XG5pbXBvcnQgZ2V0RnJlc2hTaWRlT2JqZWN0IGZyb20gXCIuLi91dGlscy9nZXRGcmVzaFNpZGVPYmplY3QuanNcIjtcbmltcG9ydCB7IG1pbiBhcyBtYXRoTWluLCBtYXggYXMgbWF0aE1heCB9IGZyb20gXCIuLi91dGlscy9tYXRoLmpzXCI7XG5cbmZ1bmN0aW9uIHByZXZlbnRPdmVyZmxvdyhfcmVmKSB7XG4gIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGUsXG4gICAgICBvcHRpb25zID0gX3JlZi5vcHRpb25zLFxuICAgICAgbmFtZSA9IF9yZWYubmFtZTtcbiAgdmFyIF9vcHRpb25zJG1haW5BeGlzID0gb3B0aW9ucy5tYWluQXhpcyxcbiAgICAgIGNoZWNrTWFpbkF4aXMgPSBfb3B0aW9ucyRtYWluQXhpcyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJG1haW5BeGlzLFxuICAgICAgX29wdGlvbnMkYWx0QXhpcyA9IG9wdGlvbnMuYWx0QXhpcyxcbiAgICAgIGNoZWNrQWx0QXhpcyA9IF9vcHRpb25zJGFsdEF4aXMgPT09IHZvaWQgMCA/IGZhbHNlIDogX29wdGlvbnMkYWx0QXhpcyxcbiAgICAgIGJvdW5kYXJ5ID0gb3B0aW9ucy5ib3VuZGFyeSxcbiAgICAgIHJvb3RCb3VuZGFyeSA9IG9wdGlvbnMucm9vdEJvdW5kYXJ5LFxuICAgICAgYWx0Qm91bmRhcnkgPSBvcHRpb25zLmFsdEJvdW5kYXJ5LFxuICAgICAgcGFkZGluZyA9IG9wdGlvbnMucGFkZGluZyxcbiAgICAgIF9vcHRpb25zJHRldGhlciA9IG9wdGlvbnMudGV0aGVyLFxuICAgICAgdGV0aGVyID0gX29wdGlvbnMkdGV0aGVyID09PSB2b2lkIDAgPyB0cnVlIDogX29wdGlvbnMkdGV0aGVyLFxuICAgICAgX29wdGlvbnMkdGV0aGVyT2Zmc2V0ID0gb3B0aW9ucy50ZXRoZXJPZmZzZXQsXG4gICAgICB0ZXRoZXJPZmZzZXQgPSBfb3B0aW9ucyR0ZXRoZXJPZmZzZXQgPT09IHZvaWQgMCA/IDAgOiBfb3B0aW9ucyR0ZXRoZXJPZmZzZXQ7XG4gIHZhciBvdmVyZmxvdyA9IGRldGVjdE92ZXJmbG93KHN0YXRlLCB7XG4gICAgYm91bmRhcnk6IGJvdW5kYXJ5LFxuICAgIHJvb3RCb3VuZGFyeTogcm9vdEJvdW5kYXJ5LFxuICAgIHBhZGRpbmc6IHBhZGRpbmcsXG4gICAgYWx0Qm91bmRhcnk6IGFsdEJvdW5kYXJ5XG4gIH0pO1xuICB2YXIgYmFzZVBsYWNlbWVudCA9IGdldEJhc2VQbGFjZW1lbnQoc3RhdGUucGxhY2VtZW50KTtcbiAgdmFyIHZhcmlhdGlvbiA9IGdldFZhcmlhdGlvbihzdGF0ZS5wbGFjZW1lbnQpO1xuICB2YXIgaXNCYXNlUGxhY2VtZW50ID0gIXZhcmlhdGlvbjtcbiAgdmFyIG1haW5BeGlzID0gZ2V0TWFpbkF4aXNGcm9tUGxhY2VtZW50KGJhc2VQbGFjZW1lbnQpO1xuICB2YXIgYWx0QXhpcyA9IGdldEFsdEF4aXMobWFpbkF4aXMpO1xuICB2YXIgcG9wcGVyT2Zmc2V0cyA9IHN0YXRlLm1vZGlmaWVyc0RhdGEucG9wcGVyT2Zmc2V0cztcbiAgdmFyIHJlZmVyZW5jZVJlY3QgPSBzdGF0ZS5yZWN0cy5yZWZlcmVuY2U7XG4gIHZhciBwb3BwZXJSZWN0ID0gc3RhdGUucmVjdHMucG9wcGVyO1xuICB2YXIgdGV0aGVyT2Zmc2V0VmFsdWUgPSB0eXBlb2YgdGV0aGVyT2Zmc2V0ID09PSAnZnVuY3Rpb24nID8gdGV0aGVyT2Zmc2V0KE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLnJlY3RzLCB7XG4gICAgcGxhY2VtZW50OiBzdGF0ZS5wbGFjZW1lbnRcbiAgfSkpIDogdGV0aGVyT2Zmc2V0O1xuICB2YXIgbm9ybWFsaXplZFRldGhlck9mZnNldFZhbHVlID0gdHlwZW9mIHRldGhlck9mZnNldFZhbHVlID09PSAnbnVtYmVyJyA/IHtcbiAgICBtYWluQXhpczogdGV0aGVyT2Zmc2V0VmFsdWUsXG4gICAgYWx0QXhpczogdGV0aGVyT2Zmc2V0VmFsdWVcbiAgfSA6IE9iamVjdC5hc3NpZ24oe1xuICAgIG1haW5BeGlzOiAwLFxuICAgIGFsdEF4aXM6IDBcbiAgfSwgdGV0aGVyT2Zmc2V0VmFsdWUpO1xuICB2YXIgb2Zmc2V0TW9kaWZpZXJTdGF0ZSA9IHN0YXRlLm1vZGlmaWVyc0RhdGEub2Zmc2V0ID8gc3RhdGUubW9kaWZpZXJzRGF0YS5vZmZzZXRbc3RhdGUucGxhY2VtZW50XSA6IG51bGw7XG4gIHZhciBkYXRhID0ge1xuICAgIHg6IDAsXG4gICAgeTogMFxuICB9O1xuXG4gIGlmICghcG9wcGVyT2Zmc2V0cykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChjaGVja01haW5BeGlzKSB7XG4gICAgdmFyIF9vZmZzZXRNb2RpZmllclN0YXRlJDtcblxuICAgIHZhciBtYWluU2lkZSA9IG1haW5BeGlzID09PSAneScgPyB0b3AgOiBsZWZ0O1xuICAgIHZhciBhbHRTaWRlID0gbWFpbkF4aXMgPT09ICd5JyA/IGJvdHRvbSA6IHJpZ2h0O1xuICAgIHZhciBsZW4gPSBtYWluQXhpcyA9PT0gJ3knID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuICAgIHZhciBvZmZzZXQgPSBwb3BwZXJPZmZzZXRzW21haW5BeGlzXTtcbiAgICB2YXIgbWluID0gb2Zmc2V0ICsgb3ZlcmZsb3dbbWFpblNpZGVdO1xuICAgIHZhciBtYXggPSBvZmZzZXQgLSBvdmVyZmxvd1thbHRTaWRlXTtcbiAgICB2YXIgYWRkaXRpdmUgPSB0ZXRoZXIgPyAtcG9wcGVyUmVjdFtsZW5dIC8gMiA6IDA7XG4gICAgdmFyIG1pbkxlbiA9IHZhcmlhdGlvbiA9PT0gc3RhcnQgPyByZWZlcmVuY2VSZWN0W2xlbl0gOiBwb3BwZXJSZWN0W2xlbl07XG4gICAgdmFyIG1heExlbiA9IHZhcmlhdGlvbiA9PT0gc3RhcnQgPyAtcG9wcGVyUmVjdFtsZW5dIDogLXJlZmVyZW5jZVJlY3RbbGVuXTsgLy8gV2UgbmVlZCB0byBpbmNsdWRlIHRoZSBhcnJvdyBpbiB0aGUgY2FsY3VsYXRpb24gc28gdGhlIGFycm93IGRvZXNuJ3QgZ29cbiAgICAvLyBvdXRzaWRlIHRoZSByZWZlcmVuY2UgYm91bmRzXG5cbiAgICB2YXIgYXJyb3dFbGVtZW50ID0gc3RhdGUuZWxlbWVudHMuYXJyb3c7XG4gICAgdmFyIGFycm93UmVjdCA9IHRldGhlciAmJiBhcnJvd0VsZW1lbnQgPyBnZXRMYXlvdXRSZWN0KGFycm93RWxlbWVudCkgOiB7XG4gICAgICB3aWR0aDogMCxcbiAgICAgIGhlaWdodDogMFxuICAgIH07XG4gICAgdmFyIGFycm93UGFkZGluZ09iamVjdCA9IHN0YXRlLm1vZGlmaWVyc0RhdGFbJ2Fycm93I3BlcnNpc3RlbnQnXSA/IHN0YXRlLm1vZGlmaWVyc0RhdGFbJ2Fycm93I3BlcnNpc3RlbnQnXS5wYWRkaW5nIDogZ2V0RnJlc2hTaWRlT2JqZWN0KCk7XG4gICAgdmFyIGFycm93UGFkZGluZ01pbiA9IGFycm93UGFkZGluZ09iamVjdFttYWluU2lkZV07XG4gICAgdmFyIGFycm93UGFkZGluZ01heCA9IGFycm93UGFkZGluZ09iamVjdFthbHRTaWRlXTsgLy8gSWYgdGhlIHJlZmVyZW5jZSBsZW5ndGggaXMgc21hbGxlciB0aGFuIHRoZSBhcnJvdyBsZW5ndGgsIHdlIGRvbid0IHdhbnRcbiAgICAvLyB0byBpbmNsdWRlIGl0cyBmdWxsIHNpemUgaW4gdGhlIGNhbGN1bGF0aW9uLiBJZiB0aGUgcmVmZXJlbmNlIGlzIHNtYWxsXG4gICAgLy8gYW5kIG5lYXIgdGhlIGVkZ2Ugb2YgYSBib3VuZGFyeSwgdGhlIHBvcHBlciBjYW4gb3ZlcmZsb3cgZXZlbiBpZiB0aGVcbiAgICAvLyByZWZlcmVuY2UgaXMgbm90IG92ZXJmbG93aW5nIGFzIHdlbGwgKGUuZy4gdmlydHVhbCBlbGVtZW50cyB3aXRoIG5vXG4gICAgLy8gd2lkdGggb3IgaGVpZ2h0KVxuXG4gICAgdmFyIGFycm93TGVuID0gd2l0aGluKDAsIHJlZmVyZW5jZVJlY3RbbGVuXSwgYXJyb3dSZWN0W2xlbl0pO1xuICAgIHZhciBtaW5PZmZzZXQgPSBpc0Jhc2VQbGFjZW1lbnQgPyByZWZlcmVuY2VSZWN0W2xlbl0gLyAyIC0gYWRkaXRpdmUgLSBhcnJvd0xlbiAtIGFycm93UGFkZGluZ01pbiAtIG5vcm1hbGl6ZWRUZXRoZXJPZmZzZXRWYWx1ZS5tYWluQXhpcyA6IG1pbkxlbiAtIGFycm93TGVuIC0gYXJyb3dQYWRkaW5nTWluIC0gbm9ybWFsaXplZFRldGhlck9mZnNldFZhbHVlLm1haW5BeGlzO1xuICAgIHZhciBtYXhPZmZzZXQgPSBpc0Jhc2VQbGFjZW1lbnQgPyAtcmVmZXJlbmNlUmVjdFtsZW5dIC8gMiArIGFkZGl0aXZlICsgYXJyb3dMZW4gKyBhcnJvd1BhZGRpbmdNYXggKyBub3JtYWxpemVkVGV0aGVyT2Zmc2V0VmFsdWUubWFpbkF4aXMgOiBtYXhMZW4gKyBhcnJvd0xlbiArIGFycm93UGFkZGluZ01heCArIG5vcm1hbGl6ZWRUZXRoZXJPZmZzZXRWYWx1ZS5tYWluQXhpcztcbiAgICB2YXIgYXJyb3dPZmZzZXRQYXJlbnQgPSBzdGF0ZS5lbGVtZW50cy5hcnJvdyAmJiBnZXRPZmZzZXRQYXJlbnQoc3RhdGUuZWxlbWVudHMuYXJyb3cpO1xuICAgIHZhciBjbGllbnRPZmZzZXQgPSBhcnJvd09mZnNldFBhcmVudCA/IG1haW5BeGlzID09PSAneScgPyBhcnJvd09mZnNldFBhcmVudC5jbGllbnRUb3AgfHwgMCA6IGFycm93T2Zmc2V0UGFyZW50LmNsaWVudExlZnQgfHwgMCA6IDA7XG4gICAgdmFyIG9mZnNldE1vZGlmaWVyVmFsdWUgPSAoX29mZnNldE1vZGlmaWVyU3RhdGUkID0gb2Zmc2V0TW9kaWZpZXJTdGF0ZSA9PSBudWxsID8gdm9pZCAwIDogb2Zmc2V0TW9kaWZpZXJTdGF0ZVttYWluQXhpc10pICE9IG51bGwgPyBfb2Zmc2V0TW9kaWZpZXJTdGF0ZSQgOiAwO1xuICAgIHZhciB0ZXRoZXJNaW4gPSBvZmZzZXQgKyBtaW5PZmZzZXQgLSBvZmZzZXRNb2RpZmllclZhbHVlIC0gY2xpZW50T2Zmc2V0O1xuICAgIHZhciB0ZXRoZXJNYXggPSBvZmZzZXQgKyBtYXhPZmZzZXQgLSBvZmZzZXRNb2RpZmllclZhbHVlO1xuICAgIHZhciBwcmV2ZW50ZWRPZmZzZXQgPSB3aXRoaW4odGV0aGVyID8gbWF0aE1pbihtaW4sIHRldGhlck1pbikgOiBtaW4sIG9mZnNldCwgdGV0aGVyID8gbWF0aE1heChtYXgsIHRldGhlck1heCkgOiBtYXgpO1xuICAgIHBvcHBlck9mZnNldHNbbWFpbkF4aXNdID0gcHJldmVudGVkT2Zmc2V0O1xuICAgIGRhdGFbbWFpbkF4aXNdID0gcHJldmVudGVkT2Zmc2V0IC0gb2Zmc2V0O1xuICB9XG5cbiAgaWYgKGNoZWNrQWx0QXhpcykge1xuICAgIHZhciBfb2Zmc2V0TW9kaWZpZXJTdGF0ZSQyO1xuXG4gICAgdmFyIF9tYWluU2lkZSA9IG1haW5BeGlzID09PSAneCcgPyB0b3AgOiBsZWZ0O1xuXG4gICAgdmFyIF9hbHRTaWRlID0gbWFpbkF4aXMgPT09ICd4JyA/IGJvdHRvbSA6IHJpZ2h0O1xuXG4gICAgdmFyIF9vZmZzZXQgPSBwb3BwZXJPZmZzZXRzW2FsdEF4aXNdO1xuXG4gICAgdmFyIF9sZW4gPSBhbHRBeGlzID09PSAneScgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG5cbiAgICB2YXIgX21pbiA9IF9vZmZzZXQgKyBvdmVyZmxvd1tfbWFpblNpZGVdO1xuXG4gICAgdmFyIF9tYXggPSBfb2Zmc2V0IC0gb3ZlcmZsb3dbX2FsdFNpZGVdO1xuXG4gICAgdmFyIGlzT3JpZ2luU2lkZSA9IFt0b3AsIGxlZnRdLmluZGV4T2YoYmFzZVBsYWNlbWVudCkgIT09IC0xO1xuXG4gICAgdmFyIF9vZmZzZXRNb2RpZmllclZhbHVlID0gKF9vZmZzZXRNb2RpZmllclN0YXRlJDIgPSBvZmZzZXRNb2RpZmllclN0YXRlID09IG51bGwgPyB2b2lkIDAgOiBvZmZzZXRNb2RpZmllclN0YXRlW2FsdEF4aXNdKSAhPSBudWxsID8gX29mZnNldE1vZGlmaWVyU3RhdGUkMiA6IDA7XG5cbiAgICB2YXIgX3RldGhlck1pbiA9IGlzT3JpZ2luU2lkZSA/IF9taW4gOiBfb2Zmc2V0IC0gcmVmZXJlbmNlUmVjdFtfbGVuXSAtIHBvcHBlclJlY3RbX2xlbl0gLSBfb2Zmc2V0TW9kaWZpZXJWYWx1ZSArIG5vcm1hbGl6ZWRUZXRoZXJPZmZzZXRWYWx1ZS5hbHRBeGlzO1xuXG4gICAgdmFyIF90ZXRoZXJNYXggPSBpc09yaWdpblNpZGUgPyBfb2Zmc2V0ICsgcmVmZXJlbmNlUmVjdFtfbGVuXSArIHBvcHBlclJlY3RbX2xlbl0gLSBfb2Zmc2V0TW9kaWZpZXJWYWx1ZSAtIG5vcm1hbGl6ZWRUZXRoZXJPZmZzZXRWYWx1ZS5hbHRBeGlzIDogX21heDtcblxuICAgIHZhciBfcHJldmVudGVkT2Zmc2V0ID0gdGV0aGVyICYmIGlzT3JpZ2luU2lkZSA/IHdpdGhpbk1heENsYW1wKF90ZXRoZXJNaW4sIF9vZmZzZXQsIF90ZXRoZXJNYXgpIDogd2l0aGluKHRldGhlciA/IF90ZXRoZXJNaW4gOiBfbWluLCBfb2Zmc2V0LCB0ZXRoZXIgPyBfdGV0aGVyTWF4IDogX21heCk7XG5cbiAgICBwb3BwZXJPZmZzZXRzW2FsdEF4aXNdID0gX3ByZXZlbnRlZE9mZnNldDtcbiAgICBkYXRhW2FsdEF4aXNdID0gX3ByZXZlbnRlZE9mZnNldCAtIF9vZmZzZXQ7XG4gIH1cblxuICBzdGF0ZS5tb2RpZmllcnNEYXRhW25hbWVdID0gZGF0YTtcbn0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogJ3ByZXZlbnRPdmVyZmxvdycsXG4gIGVuYWJsZWQ6IHRydWUsXG4gIHBoYXNlOiAnbWFpbicsXG4gIGZuOiBwcmV2ZW50T3ZlcmZsb3csXG4gIHJlcXVpcmVzSWZFeGlzdHM6IFsnb2Zmc2V0J11cbn07IiwKICAgICJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRIVE1MRWxlbWVudFNjcm9sbChlbGVtZW50KSB7XG4gIHJldHVybiB7XG4gICAgc2Nyb2xsTGVmdDogZWxlbWVudC5zY3JvbGxMZWZ0LFxuICAgIHNjcm9sbFRvcDogZWxlbWVudC5zY3JvbGxUb3BcbiAgfTtcbn0iLAogICAgImltcG9ydCBnZXRXaW5kb3dTY3JvbGwgZnJvbSBcIi4vZ2V0V2luZG93U2Nyb2xsLmpzXCI7XG5pbXBvcnQgZ2V0V2luZG93IGZyb20gXCIuL2dldFdpbmRvdy5qc1wiO1xuaW1wb3J0IHsgaXNIVE1MRWxlbWVudCB9IGZyb20gXCIuL2luc3RhbmNlT2YuanNcIjtcbmltcG9ydCBnZXRIVE1MRWxlbWVudFNjcm9sbCBmcm9tIFwiLi9nZXRIVE1MRWxlbWVudFNjcm9sbC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0Tm9kZVNjcm9sbChub2RlKSB7XG4gIGlmIChub2RlID09PSBnZXRXaW5kb3cobm9kZSkgfHwgIWlzSFRNTEVsZW1lbnQobm9kZSkpIHtcbiAgICByZXR1cm4gZ2V0V2luZG93U2Nyb2xsKG5vZGUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBnZXRIVE1MRWxlbWVudFNjcm9sbChub2RlKTtcbiAgfVxufSIsCiAgICAiaW1wb3J0IGdldEJvdW5kaW5nQ2xpZW50UmVjdCBmcm9tIFwiLi9nZXRCb3VuZGluZ0NsaWVudFJlY3QuanNcIjtcbmltcG9ydCBnZXROb2RlU2Nyb2xsIGZyb20gXCIuL2dldE5vZGVTY3JvbGwuanNcIjtcbmltcG9ydCBnZXROb2RlTmFtZSBmcm9tIFwiLi9nZXROb2RlTmFtZS5qc1wiO1xuaW1wb3J0IHsgaXNIVE1MRWxlbWVudCB9IGZyb20gXCIuL2luc3RhbmNlT2YuanNcIjtcbmltcG9ydCBnZXRXaW5kb3dTY3JvbGxCYXJYIGZyb20gXCIuL2dldFdpbmRvd1Njcm9sbEJhclguanNcIjtcbmltcG9ydCBnZXREb2N1bWVudEVsZW1lbnQgZnJvbSBcIi4vZ2V0RG9jdW1lbnRFbGVtZW50LmpzXCI7XG5pbXBvcnQgaXNTY3JvbGxQYXJlbnQgZnJvbSBcIi4vaXNTY3JvbGxQYXJlbnQuanNcIjtcbmltcG9ydCB7IHJvdW5kIH0gZnJvbSBcIi4uL3V0aWxzL21hdGguanNcIjtcblxuZnVuY3Rpb24gaXNFbGVtZW50U2NhbGVkKGVsZW1lbnQpIHtcbiAgdmFyIHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB2YXIgc2NhbGVYID0gcm91bmQocmVjdC53aWR0aCkgLyBlbGVtZW50Lm9mZnNldFdpZHRoIHx8IDE7XG4gIHZhciBzY2FsZVkgPSByb3VuZChyZWN0LmhlaWdodCkgLyBlbGVtZW50Lm9mZnNldEhlaWdodCB8fCAxO1xuICByZXR1cm4gc2NhbGVYICE9PSAxIHx8IHNjYWxlWSAhPT0gMTtcbn0gLy8gUmV0dXJucyB0aGUgY29tcG9zaXRlIHJlY3Qgb2YgYW4gZWxlbWVudCByZWxhdGl2ZSB0byBpdHMgb2Zmc2V0UGFyZW50LlxuLy8gQ29tcG9zaXRlIG1lYW5zIGl0IHRha2VzIGludG8gYWNjb3VudCB0cmFuc2Zvcm1zIGFzIHdlbGwgYXMgbGF5b3V0LlxuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldENvbXBvc2l0ZVJlY3QoZWxlbWVudE9yVmlydHVhbEVsZW1lbnQsIG9mZnNldFBhcmVudCwgaXNGaXhlZCkge1xuICBpZiAoaXNGaXhlZCA9PT0gdm9pZCAwKSB7XG4gICAgaXNGaXhlZCA9IGZhbHNlO1xuICB9XG5cbiAgdmFyIGlzT2Zmc2V0UGFyZW50QW5FbGVtZW50ID0gaXNIVE1MRWxlbWVudChvZmZzZXRQYXJlbnQpO1xuICB2YXIgb2Zmc2V0UGFyZW50SXNTY2FsZWQgPSBpc0hUTUxFbGVtZW50KG9mZnNldFBhcmVudCkgJiYgaXNFbGVtZW50U2NhbGVkKG9mZnNldFBhcmVudCk7XG4gIHZhciBkb2N1bWVudEVsZW1lbnQgPSBnZXREb2N1bWVudEVsZW1lbnQob2Zmc2V0UGFyZW50KTtcbiAgdmFyIHJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZWxlbWVudE9yVmlydHVhbEVsZW1lbnQsIG9mZnNldFBhcmVudElzU2NhbGVkLCBpc0ZpeGVkKTtcbiAgdmFyIHNjcm9sbCA9IHtcbiAgICBzY3JvbGxMZWZ0OiAwLFxuICAgIHNjcm9sbFRvcDogMFxuICB9O1xuICB2YXIgb2Zmc2V0cyA9IHtcbiAgICB4OiAwLFxuICAgIHk6IDBcbiAgfTtcblxuICBpZiAoaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQgfHwgIWlzT2Zmc2V0UGFyZW50QW5FbGVtZW50ICYmICFpc0ZpeGVkKSB7XG4gICAgaWYgKGdldE5vZGVOYW1lKG9mZnNldFBhcmVudCkgIT09ICdib2R5JyB8fCAvLyBodHRwczovL2dpdGh1Yi5jb20vcG9wcGVyanMvcG9wcGVyLWNvcmUvaXNzdWVzLzEwNzhcbiAgICBpc1Njcm9sbFBhcmVudChkb2N1bWVudEVsZW1lbnQpKSB7XG4gICAgICBzY3JvbGwgPSBnZXROb2RlU2Nyb2xsKG9mZnNldFBhcmVudCk7XG4gICAgfVxuXG4gICAgaWYgKGlzSFRNTEVsZW1lbnQob2Zmc2V0UGFyZW50KSkge1xuICAgICAgb2Zmc2V0cyA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChvZmZzZXRQYXJlbnQsIHRydWUpO1xuICAgICAgb2Zmc2V0cy54ICs9IG9mZnNldFBhcmVudC5jbGllbnRMZWZ0O1xuICAgICAgb2Zmc2V0cy55ICs9IG9mZnNldFBhcmVudC5jbGllbnRUb3A7XG4gICAgfSBlbHNlIGlmIChkb2N1bWVudEVsZW1lbnQpIHtcbiAgICAgIG9mZnNldHMueCA9IGdldFdpbmRvd1Njcm9sbEJhclgoZG9jdW1lbnRFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHg6IHJlY3QubGVmdCArIHNjcm9sbC5zY3JvbGxMZWZ0IC0gb2Zmc2V0cy54LFxuICAgIHk6IHJlY3QudG9wICsgc2Nyb2xsLnNjcm9sbFRvcCAtIG9mZnNldHMueSxcbiAgICB3aWR0aDogcmVjdC53aWR0aCxcbiAgICBoZWlnaHQ6IHJlY3QuaGVpZ2h0XG4gIH07XG59IiwKICAgICJpbXBvcnQgeyBtb2RpZmllclBoYXNlcyB9IGZyb20gXCIuLi9lbnVtcy5qc1wiOyAvLyBzb3VyY2U6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzQ5ODc1MjU1XG5cbmZ1bmN0aW9uIG9yZGVyKG1vZGlmaWVycykge1xuICB2YXIgbWFwID0gbmV3IE1hcCgpO1xuICB2YXIgdmlzaXRlZCA9IG5ldyBTZXQoKTtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBtb2RpZmllcnMuZm9yRWFjaChmdW5jdGlvbiAobW9kaWZpZXIpIHtcbiAgICBtYXAuc2V0KG1vZGlmaWVyLm5hbWUsIG1vZGlmaWVyKTtcbiAgfSk7IC8vIE9uIHZpc2l0aW5nIG9iamVjdCwgY2hlY2sgZm9yIGl0cyBkZXBlbmRlbmNpZXMgYW5kIHZpc2l0IHRoZW0gcmVjdXJzaXZlbHlcblxuICBmdW5jdGlvbiBzb3J0KG1vZGlmaWVyKSB7XG4gICAgdmlzaXRlZC5hZGQobW9kaWZpZXIubmFtZSk7XG4gICAgdmFyIHJlcXVpcmVzID0gW10uY29uY2F0KG1vZGlmaWVyLnJlcXVpcmVzIHx8IFtdLCBtb2RpZmllci5yZXF1aXJlc0lmRXhpc3RzIHx8IFtdKTtcbiAgICByZXF1aXJlcy5mb3JFYWNoKGZ1bmN0aW9uIChkZXApIHtcbiAgICAgIGlmICghdmlzaXRlZC5oYXMoZGVwKSkge1xuICAgICAgICB2YXIgZGVwTW9kaWZpZXIgPSBtYXAuZ2V0KGRlcCk7XG5cbiAgICAgICAgaWYgKGRlcE1vZGlmaWVyKSB7XG4gICAgICAgICAgc29ydChkZXBNb2RpZmllcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXN1bHQucHVzaChtb2RpZmllcik7XG4gIH1cblxuICBtb2RpZmllcnMuZm9yRWFjaChmdW5jdGlvbiAobW9kaWZpZXIpIHtcbiAgICBpZiAoIXZpc2l0ZWQuaGFzKG1vZGlmaWVyLm5hbWUpKSB7XG4gICAgICAvLyBjaGVjayBmb3IgdmlzaXRlZCBvYmplY3RcbiAgICAgIHNvcnQobW9kaWZpZXIpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG9yZGVyTW9kaWZpZXJzKG1vZGlmaWVycykge1xuICAvLyBvcmRlciBiYXNlZCBvbiBkZXBlbmRlbmNpZXNcbiAgdmFyIG9yZGVyZWRNb2RpZmllcnMgPSBvcmRlcihtb2RpZmllcnMpOyAvLyBvcmRlciBiYXNlZCBvbiBwaGFzZVxuXG4gIHJldHVybiBtb2RpZmllclBoYXNlcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcGhhc2UpIHtcbiAgICByZXR1cm4gYWNjLmNvbmNhdChvcmRlcmVkTW9kaWZpZXJzLmZpbHRlcihmdW5jdGlvbiAobW9kaWZpZXIpIHtcbiAgICAgIHJldHVybiBtb2RpZmllci5waGFzZSA9PT0gcGhhc2U7XG4gICAgfSkpO1xuICB9LCBbXSk7XG59IiwKICAgICJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZWJvdW5jZShmbikge1xuICB2YXIgcGVuZGluZztcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXBlbmRpbmcpIHtcbiAgICAgIHBlbmRpbmcgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBwZW5kaW5nID0gdW5kZWZpbmVkO1xuICAgICAgICAgIHJlc29sdmUoZm4oKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBlbmRpbmc7XG4gIH07XG59IiwKICAgICJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtZXJnZUJ5TmFtZShtb2RpZmllcnMpIHtcbiAgdmFyIG1lcmdlZCA9IG1vZGlmaWVycy5yZWR1Y2UoZnVuY3Rpb24gKG1lcmdlZCwgY3VycmVudCkge1xuICAgIHZhciBleGlzdGluZyA9IG1lcmdlZFtjdXJyZW50Lm5hbWVdO1xuICAgIG1lcmdlZFtjdXJyZW50Lm5hbWVdID0gZXhpc3RpbmcgPyBPYmplY3QuYXNzaWduKHt9LCBleGlzdGluZywgY3VycmVudCwge1xuICAgICAgb3B0aW9uczogT2JqZWN0LmFzc2lnbih7fSwgZXhpc3Rpbmcub3B0aW9ucywgY3VycmVudC5vcHRpb25zKSxcbiAgICAgIGRhdGE6IE9iamVjdC5hc3NpZ24oe30sIGV4aXN0aW5nLmRhdGEsIGN1cnJlbnQuZGF0YSlcbiAgICB9KSA6IGN1cnJlbnQ7XG4gICAgcmV0dXJuIG1lcmdlZDtcbiAgfSwge30pOyAvLyBJRTExIGRvZXMgbm90IHN1cHBvcnQgT2JqZWN0LnZhbHVlc1xuXG4gIHJldHVybiBPYmplY3Qua2V5cyhtZXJnZWQpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIG1lcmdlZFtrZXldO1xuICB9KTtcbn0iLAogICAgImltcG9ydCBnZXRDb21wb3NpdGVSZWN0IGZyb20gXCIuL2RvbS11dGlscy9nZXRDb21wb3NpdGVSZWN0LmpzXCI7XG5pbXBvcnQgZ2V0TGF5b3V0UmVjdCBmcm9tIFwiLi9kb20tdXRpbHMvZ2V0TGF5b3V0UmVjdC5qc1wiO1xuaW1wb3J0IGxpc3RTY3JvbGxQYXJlbnRzIGZyb20gXCIuL2RvbS11dGlscy9saXN0U2Nyb2xsUGFyZW50cy5qc1wiO1xuaW1wb3J0IGdldE9mZnNldFBhcmVudCBmcm9tIFwiLi9kb20tdXRpbHMvZ2V0T2Zmc2V0UGFyZW50LmpzXCI7XG5pbXBvcnQgb3JkZXJNb2RpZmllcnMgZnJvbSBcIi4vdXRpbHMvb3JkZXJNb2RpZmllcnMuanNcIjtcbmltcG9ydCBkZWJvdW5jZSBmcm9tIFwiLi91dGlscy9kZWJvdW5jZS5qc1wiO1xuaW1wb3J0IG1lcmdlQnlOYW1lIGZyb20gXCIuL3V0aWxzL21lcmdlQnlOYW1lLmpzXCI7XG5pbXBvcnQgZGV0ZWN0T3ZlcmZsb3cgZnJvbSBcIi4vdXRpbHMvZGV0ZWN0T3ZlcmZsb3cuanNcIjtcbmltcG9ydCB7IGlzRWxlbWVudCB9IGZyb20gXCIuL2RvbS11dGlscy9pbnN0YW5jZU9mLmpzXCI7XG52YXIgREVGQVVMVF9PUFRJT05TID0ge1xuICBwbGFjZW1lbnQ6ICdib3R0b20nLFxuICBtb2RpZmllcnM6IFtdLFxuICBzdHJhdGVneTogJ2Fic29sdXRlJ1xufTtcblxuZnVuY3Rpb24gYXJlVmFsaWRFbGVtZW50cygpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiAhYXJncy5zb21lKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgcmV0dXJuICEoZWxlbWVudCAmJiB0eXBlb2YgZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QgPT09ICdmdW5jdGlvbicpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBvcHBlckdlbmVyYXRvcihnZW5lcmF0b3JPcHRpb25zKSB7XG4gIGlmIChnZW5lcmF0b3JPcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBnZW5lcmF0b3JPcHRpb25zID0ge307XG4gIH1cblxuICB2YXIgX2dlbmVyYXRvck9wdGlvbnMgPSBnZW5lcmF0b3JPcHRpb25zLFxuICAgICAgX2dlbmVyYXRvck9wdGlvbnMkZGVmID0gX2dlbmVyYXRvck9wdGlvbnMuZGVmYXVsdE1vZGlmaWVycyxcbiAgICAgIGRlZmF1bHRNb2RpZmllcnMgPSBfZ2VuZXJhdG9yT3B0aW9ucyRkZWYgPT09IHZvaWQgMCA/IFtdIDogX2dlbmVyYXRvck9wdGlvbnMkZGVmLFxuICAgICAgX2dlbmVyYXRvck9wdGlvbnMkZGVmMiA9IF9nZW5lcmF0b3JPcHRpb25zLmRlZmF1bHRPcHRpb25zLFxuICAgICAgZGVmYXVsdE9wdGlvbnMgPSBfZ2VuZXJhdG9yT3B0aW9ucyRkZWYyID09PSB2b2lkIDAgPyBERUZBVUxUX09QVElPTlMgOiBfZ2VuZXJhdG9yT3B0aW9ucyRkZWYyO1xuICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlUG9wcGVyKHJlZmVyZW5jZSwgcG9wcGVyLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IGRlZmF1bHRPcHRpb25zO1xuICAgIH1cblxuICAgIHZhciBzdGF0ZSA9IHtcbiAgICAgIHBsYWNlbWVudDogJ2JvdHRvbScsXG4gICAgICBvcmRlcmVkTW9kaWZpZXJzOiBbXSxcbiAgICAgIG9wdGlvbnM6IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfT1BUSU9OUywgZGVmYXVsdE9wdGlvbnMpLFxuICAgICAgbW9kaWZpZXJzRGF0YToge30sXG4gICAgICBlbGVtZW50czoge1xuICAgICAgICByZWZlcmVuY2U6IHJlZmVyZW5jZSxcbiAgICAgICAgcG9wcGVyOiBwb3BwZXJcbiAgICAgIH0sXG4gICAgICBhdHRyaWJ1dGVzOiB7fSxcbiAgICAgIHN0eWxlczoge31cbiAgICB9O1xuICAgIHZhciBlZmZlY3RDbGVhbnVwRm5zID0gW107XG4gICAgdmFyIGlzRGVzdHJveWVkID0gZmFsc2U7XG4gICAgdmFyIGluc3RhbmNlID0ge1xuICAgICAgc3RhdGU6IHN0YXRlLFxuICAgICAgc2V0T3B0aW9uczogZnVuY3Rpb24gc2V0T3B0aW9ucyhzZXRPcHRpb25zQWN0aW9uKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIHNldE9wdGlvbnNBY3Rpb24gPT09ICdmdW5jdGlvbicgPyBzZXRPcHRpb25zQWN0aW9uKHN0YXRlLm9wdGlvbnMpIDogc2V0T3B0aW9uc0FjdGlvbjtcbiAgICAgICAgY2xlYW51cE1vZGlmaWVyRWZmZWN0cygpO1xuICAgICAgICBzdGF0ZS5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMsIHN0YXRlLm9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICBzdGF0ZS5zY3JvbGxQYXJlbnRzID0ge1xuICAgICAgICAgIHJlZmVyZW5jZTogaXNFbGVtZW50KHJlZmVyZW5jZSkgPyBsaXN0U2Nyb2xsUGFyZW50cyhyZWZlcmVuY2UpIDogcmVmZXJlbmNlLmNvbnRleHRFbGVtZW50ID8gbGlzdFNjcm9sbFBhcmVudHMocmVmZXJlbmNlLmNvbnRleHRFbGVtZW50KSA6IFtdLFxuICAgICAgICAgIHBvcHBlcjogbGlzdFNjcm9sbFBhcmVudHMocG9wcGVyKVxuICAgICAgICB9OyAvLyBPcmRlcnMgdGhlIG1vZGlmaWVycyBiYXNlZCBvbiB0aGVpciBkZXBlbmRlbmNpZXMgYW5kIGBwaGFzZWBcbiAgICAgICAgLy8gcHJvcGVydGllc1xuXG4gICAgICAgIHZhciBvcmRlcmVkTW9kaWZpZXJzID0gb3JkZXJNb2RpZmllcnMobWVyZ2VCeU5hbWUoW10uY29uY2F0KGRlZmF1bHRNb2RpZmllcnMsIHN0YXRlLm9wdGlvbnMubW9kaWZpZXJzKSkpOyAvLyBTdHJpcCBvdXQgZGlzYWJsZWQgbW9kaWZpZXJzXG5cbiAgICAgICAgc3RhdGUub3JkZXJlZE1vZGlmaWVycyA9IG9yZGVyZWRNb2RpZmllcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgcmV0dXJuIG0uZW5hYmxlZDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJ1bk1vZGlmaWVyRWZmZWN0cygpO1xuICAgICAgICByZXR1cm4gaW5zdGFuY2UudXBkYXRlKCk7XG4gICAgICB9LFxuICAgICAgLy8gU3luYyB1cGRhdGUg4oCTIGl0IHdpbGwgYWx3YXlzIGJlIGV4ZWN1dGVkLCBldmVuIGlmIG5vdCBuZWNlc3NhcnkuIFRoaXNcbiAgICAgIC8vIGlzIHVzZWZ1bCBmb3IgbG93IGZyZXF1ZW5jeSB1cGRhdGVzIHdoZXJlIHN5bmMgYmVoYXZpb3Igc2ltcGxpZmllcyB0aGVcbiAgICAgIC8vIGxvZ2ljLlxuICAgICAgLy8gRm9yIGhpZ2ggZnJlcXVlbmN5IHVwZGF0ZXMgKGUuZy4gYHJlc2l6ZWAgYW5kIGBzY3JvbGxgIGV2ZW50cyksIGFsd2F5c1xuICAgICAgLy8gcHJlZmVyIHRoZSBhc3luYyBQb3BwZXIjdXBkYXRlIG1ldGhvZFxuICAgICAgZm9yY2VVcGRhdGU6IGZ1bmN0aW9uIGZvcmNlVXBkYXRlKCkge1xuICAgICAgICBpZiAoaXNEZXN0cm95ZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgX3N0YXRlJGVsZW1lbnRzID0gc3RhdGUuZWxlbWVudHMsXG4gICAgICAgICAgICByZWZlcmVuY2UgPSBfc3RhdGUkZWxlbWVudHMucmVmZXJlbmNlLFxuICAgICAgICAgICAgcG9wcGVyID0gX3N0YXRlJGVsZW1lbnRzLnBvcHBlcjsgLy8gRG9uJ3QgcHJvY2VlZCBpZiBgcmVmZXJlbmNlYCBvciBgcG9wcGVyYCBhcmUgbm90IHZhbGlkIGVsZW1lbnRzXG4gICAgICAgIC8vIGFueW1vcmVcblxuICAgICAgICBpZiAoIWFyZVZhbGlkRWxlbWVudHMocmVmZXJlbmNlLCBwb3BwZXIpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IC8vIFN0b3JlIHRoZSByZWZlcmVuY2UgYW5kIHBvcHBlciByZWN0cyB0byBiZSByZWFkIGJ5IG1vZGlmaWVyc1xuXG5cbiAgICAgICAgc3RhdGUucmVjdHMgPSB7XG4gICAgICAgICAgcmVmZXJlbmNlOiBnZXRDb21wb3NpdGVSZWN0KHJlZmVyZW5jZSwgZ2V0T2Zmc2V0UGFyZW50KHBvcHBlciksIHN0YXRlLm9wdGlvbnMuc3RyYXRlZ3kgPT09ICdmaXhlZCcpLFxuICAgICAgICAgIHBvcHBlcjogZ2V0TGF5b3V0UmVjdChwb3BwZXIpXG4gICAgICAgIH07IC8vIE1vZGlmaWVycyBoYXZlIHRoZSBhYmlsaXR5IHRvIHJlc2V0IHRoZSBjdXJyZW50IHVwZGF0ZSBjeWNsZS4gVGhlXG4gICAgICAgIC8vIG1vc3QgY29tbW9uIHVzZSBjYXNlIGZvciB0aGlzIGlzIHRoZSBgZmxpcGAgbW9kaWZpZXIgY2hhbmdpbmcgdGhlXG4gICAgICAgIC8vIHBsYWNlbWVudCwgd2hpY2ggdGhlbiBuZWVkcyB0byByZS1ydW4gYWxsIHRoZSBtb2RpZmllcnMsIGJlY2F1c2UgdGhlXG4gICAgICAgIC8vIGxvZ2ljIHdhcyBwcmV2aW91c2x5IHJhbiBmb3IgdGhlIHByZXZpb3VzIHBsYWNlbWVudCBhbmQgaXMgdGhlcmVmb3JlXG4gICAgICAgIC8vIHN0YWxlL2luY29ycmVjdFxuXG4gICAgICAgIHN0YXRlLnJlc2V0ID0gZmFsc2U7XG4gICAgICAgIHN0YXRlLnBsYWNlbWVudCA9IHN0YXRlLm9wdGlvbnMucGxhY2VtZW50OyAvLyBPbiBlYWNoIHVwZGF0ZSBjeWNsZSwgdGhlIGBtb2RpZmllcnNEYXRhYCBwcm9wZXJ0eSBmb3IgZWFjaCBtb2RpZmllclxuICAgICAgICAvLyBpcyBmaWxsZWQgd2l0aCB0aGUgaW5pdGlhbCBkYXRhIHNwZWNpZmllZCBieSB0aGUgbW9kaWZpZXIuIFRoaXMgbWVhbnNcbiAgICAgICAgLy8gaXQgZG9lc24ndCBwZXJzaXN0IGFuZCBpcyBmcmVzaCBvbiBlYWNoIHVwZGF0ZS5cbiAgICAgICAgLy8gVG8gZW5zdXJlIHBlcnNpc3RlbnQgZGF0YSwgdXNlIGAke25hbWV9I3BlcnNpc3RlbnRgXG5cbiAgICAgICAgc3RhdGUub3JkZXJlZE1vZGlmaWVycy5mb3JFYWNoKGZ1bmN0aW9uIChtb2RpZmllcikge1xuICAgICAgICAgIHJldHVybiBzdGF0ZS5tb2RpZmllcnNEYXRhW21vZGlmaWVyLm5hbWVdID0gT2JqZWN0LmFzc2lnbih7fSwgbW9kaWZpZXIuZGF0YSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBzdGF0ZS5vcmRlcmVkTW9kaWZpZXJzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgIGlmIChzdGF0ZS5yZXNldCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgc3RhdGUucmVzZXQgPSBmYWxzZTtcbiAgICAgICAgICAgIGluZGV4ID0gLTE7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgX3N0YXRlJG9yZGVyZWRNb2RpZmllID0gc3RhdGUub3JkZXJlZE1vZGlmaWVyc1tpbmRleF0sXG4gICAgICAgICAgICAgIGZuID0gX3N0YXRlJG9yZGVyZWRNb2RpZmllLmZuLFxuICAgICAgICAgICAgICBfc3RhdGUkb3JkZXJlZE1vZGlmaWUyID0gX3N0YXRlJG9yZGVyZWRNb2RpZmllLm9wdGlvbnMsXG4gICAgICAgICAgICAgIF9vcHRpb25zID0gX3N0YXRlJG9yZGVyZWRNb2RpZmllMiA9PT0gdm9pZCAwID8ge30gOiBfc3RhdGUkb3JkZXJlZE1vZGlmaWUyLFxuICAgICAgICAgICAgICBuYW1lID0gX3N0YXRlJG9yZGVyZWRNb2RpZmllLm5hbWU7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBzdGF0ZSA9IGZuKHtcbiAgICAgICAgICAgICAgc3RhdGU6IHN0YXRlLFxuICAgICAgICAgICAgICBvcHRpb25zOiBfb3B0aW9ucyxcbiAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgaW5zdGFuY2U6IGluc3RhbmNlXG4gICAgICAgICAgICB9KSB8fCBzdGF0ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAvLyBBc3luYyBhbmQgb3B0aW1pc3RpY2FsbHkgb3B0aW1pemVkIHVwZGF0ZSDigJMgaXQgd2lsbCBub3QgYmUgZXhlY3V0ZWQgaWZcbiAgICAgIC8vIG5vdCBuZWNlc3NhcnkgKGRlYm91bmNlZCB0byBydW4gYXQgbW9zdCBvbmNlLXBlci10aWNrKVxuICAgICAgdXBkYXRlOiBkZWJvdW5jZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgIGluc3RhbmNlLmZvcmNlVXBkYXRlKCk7XG4gICAgICAgICAgcmVzb2x2ZShzdGF0ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSksXG4gICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICBjbGVhbnVwTW9kaWZpZXJFZmZlY3RzKCk7XG4gICAgICAgIGlzRGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKCFhcmVWYWxpZEVsZW1lbnRzKHJlZmVyZW5jZSwgcG9wcGVyKSkge1xuICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIH1cblxuICAgIGluc3RhbmNlLnNldE9wdGlvbnMob3B0aW9ucykudGhlbihmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgIGlmICghaXNEZXN0cm95ZWQgJiYgb3B0aW9ucy5vbkZpcnN0VXBkYXRlKSB7XG4gICAgICAgIG9wdGlvbnMub25GaXJzdFVwZGF0ZShzdGF0ZSk7XG4gICAgICB9XG4gICAgfSk7IC8vIE1vZGlmaWVycyBoYXZlIHRoZSBhYmlsaXR5IHRvIGV4ZWN1dGUgYXJiaXRyYXJ5IGNvZGUgYmVmb3JlIHRoZSBmaXJzdFxuICAgIC8vIHVwZGF0ZSBjeWNsZSBydW5zLiBUaGV5IHdpbGwgYmUgZXhlY3V0ZWQgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlIHVwZGF0ZVxuICAgIC8vIGN5Y2xlLiBUaGlzIGlzIHVzZWZ1bCB3aGVuIGEgbW9kaWZpZXIgYWRkcyBzb21lIHBlcnNpc3RlbnQgZGF0YSB0aGF0XG4gICAgLy8gb3RoZXIgbW9kaWZpZXJzIG5lZWQgdG8gdXNlLCBidXQgdGhlIG1vZGlmaWVyIGlzIHJ1biBhZnRlciB0aGUgZGVwZW5kZW50XG4gICAgLy8gb25lLlxuXG4gICAgZnVuY3Rpb24gcnVuTW9kaWZpZXJFZmZlY3RzKCkge1xuICAgICAgc3RhdGUub3JkZXJlZE1vZGlmaWVycy5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICAgIHZhciBuYW1lID0gX3JlZi5uYW1lLFxuICAgICAgICAgICAgX3JlZiRvcHRpb25zID0gX3JlZi5vcHRpb25zLFxuICAgICAgICAgICAgb3B0aW9ucyA9IF9yZWYkb3B0aW9ucyA9PT0gdm9pZCAwID8ge30gOiBfcmVmJG9wdGlvbnMsXG4gICAgICAgICAgICBlZmZlY3QgPSBfcmVmLmVmZmVjdDtcblxuICAgICAgICBpZiAodHlwZW9mIGVmZmVjdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHZhciBjbGVhbnVwRm4gPSBlZmZlY3Qoe1xuICAgICAgICAgICAgc3RhdGU6IHN0YXRlLFxuICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgIGluc3RhbmNlOiBpbnN0YW5jZSxcbiAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHZhciBub29wRm4gPSBmdW5jdGlvbiBub29wRm4oKSB7fTtcblxuICAgICAgICAgIGVmZmVjdENsZWFudXBGbnMucHVzaChjbGVhbnVwRm4gfHwgbm9vcEZuKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYW51cE1vZGlmaWVyRWZmZWN0cygpIHtcbiAgICAgIGVmZmVjdENsZWFudXBGbnMuZm9yRWFjaChmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgcmV0dXJuIGZuKCk7XG4gICAgICB9KTtcbiAgICAgIGVmZmVjdENsZWFudXBGbnMgPSBbXTtcbiAgICB9XG5cbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH07XG59XG5leHBvcnQgdmFyIGNyZWF0ZVBvcHBlciA9IC8qI19fUFVSRV9fKi9wb3BwZXJHZW5lcmF0b3IoKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG5leHBvcnQgeyBkZXRlY3RPdmVyZmxvdyB9OyIsCiAgICAiaW1wb3J0IHsgcG9wcGVyR2VuZXJhdG9yLCBkZXRlY3RPdmVyZmxvdyB9IGZyb20gXCIuL2NyZWF0ZVBvcHBlci5qc1wiO1xuaW1wb3J0IGV2ZW50TGlzdGVuZXJzIGZyb20gXCIuL21vZGlmaWVycy9ldmVudExpc3RlbmVycy5qc1wiO1xuaW1wb3J0IHBvcHBlck9mZnNldHMgZnJvbSBcIi4vbW9kaWZpZXJzL3BvcHBlck9mZnNldHMuanNcIjtcbmltcG9ydCBjb21wdXRlU3R5bGVzIGZyb20gXCIuL21vZGlmaWVycy9jb21wdXRlU3R5bGVzLmpzXCI7XG5pbXBvcnQgYXBwbHlTdHlsZXMgZnJvbSBcIi4vbW9kaWZpZXJzL2FwcGx5U3R5bGVzLmpzXCI7XG5pbXBvcnQgb2Zmc2V0IGZyb20gXCIuL21vZGlmaWVycy9vZmZzZXQuanNcIjtcbmltcG9ydCBmbGlwIGZyb20gXCIuL21vZGlmaWVycy9mbGlwLmpzXCI7XG5pbXBvcnQgcHJldmVudE92ZXJmbG93IGZyb20gXCIuL21vZGlmaWVycy9wcmV2ZW50T3ZlcmZsb3cuanNcIjtcbmltcG9ydCBhcnJvdyBmcm9tIFwiLi9tb2RpZmllcnMvYXJyb3cuanNcIjtcbmltcG9ydCBoaWRlIGZyb20gXCIuL21vZGlmaWVycy9oaWRlLmpzXCI7XG52YXIgZGVmYXVsdE1vZGlmaWVycyA9IFtldmVudExpc3RlbmVycywgcG9wcGVyT2Zmc2V0cywgY29tcHV0ZVN0eWxlcywgYXBwbHlTdHlsZXMsIG9mZnNldCwgZmxpcCwgcHJldmVudE92ZXJmbG93LCBhcnJvdywgaGlkZV07XG52YXIgY3JlYXRlUG9wcGVyID0gLyojX19QVVJFX18qL3BvcHBlckdlbmVyYXRvcih7XG4gIGRlZmF1bHRNb2RpZmllcnM6IGRlZmF1bHRNb2RpZmllcnNcbn0pOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzXG5cbmV4cG9ydCB7IGNyZWF0ZVBvcHBlciwgcG9wcGVyR2VuZXJhdG9yLCBkZWZhdWx0TW9kaWZpZXJzLCBkZXRlY3RPdmVyZmxvdyB9OyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzXG5cbmV4cG9ydCB7IGNyZWF0ZVBvcHBlciBhcyBjcmVhdGVQb3BwZXJMaXRlIH0gZnJvbSBcIi4vcG9wcGVyLWxpdGUuanNcIjsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG5leHBvcnQgKiBmcm9tIFwiLi9tb2RpZmllcnMvaW5kZXguanNcIjsiLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0IHVzZUZvcmtSZWYgZnJvbSBcIi4uL3VzZUZvcmtSZWYvaW5kZXguanNcIjtcbmltcG9ydCBhcHBlbmRPd25lclN0YXRlIGZyb20gXCIuLi9hcHBlbmRPd25lclN0YXRlL2luZGV4LmpzXCI7XG5pbXBvcnQgbWVyZ2VTbG90UHJvcHMgZnJvbSBcIi4uL21lcmdlU2xvdFByb3BzL2luZGV4LmpzXCI7XG5pbXBvcnQgcmVzb2x2ZUNvbXBvbmVudFByb3BzIGZyb20gXCIuLi9yZXNvbHZlQ29tcG9uZW50UHJvcHMvaW5kZXguanNcIjtcbi8qKlxuICogQGlnbm9yZSAtIGRvIG5vdCBkb2N1bWVudC5cbiAqIEJ1aWxkcyB0aGUgcHJvcHMgdG8gYmUgcGFzc2VkIGludG8gdGhlIHNsb3Qgb2YgYW4gdW5zdHlsZWQgY29tcG9uZW50LlxuICogSXQgbWVyZ2VzIHRoZSBpbnRlcm5hbCBwcm9wcyBvZiB0aGUgY29tcG9uZW50IHdpdGggdGhlIG9uZXMgc3VwcGxpZWQgYnkgdGhlIHVzZXIsIGFsbG93aW5nIHRvIGN1c3RvbWl6ZSB0aGUgYmVoYXZpb3IuXG4gKiBJZiB0aGUgc2xvdCBjb21wb25lbnQgaXMgbm90IGEgaG9zdCBjb21wb25lbnQsIGl0IGFsc28gbWVyZ2VzIGluIHRoZSBgb3duZXJTdGF0ZWAuXG4gKlxuICogQHBhcmFtIHBhcmFtZXRlcnMuZ2V0U2xvdFByb3BzIC0gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIHByb3BzIHRvIGJlIHBhc3NlZCB0byB0aGUgc2xvdCBjb21wb25lbnQuXG4gKi9cbmZ1bmN0aW9uIHVzZVNsb3RQcm9wcyhwYXJhbWV0ZXJzKSB7XG4gIGNvbnN0IHtcbiAgICBlbGVtZW50VHlwZSxcbiAgICBleHRlcm5hbFNsb3RQcm9wcyxcbiAgICBvd25lclN0YXRlLFxuICAgIHNraXBSZXNvbHZpbmdTbG90UHJvcHMgPSBmYWxzZSxcbiAgICAuLi5vdGhlclxuICB9ID0gcGFyYW1ldGVycztcbiAgY29uc3QgcmVzb2x2ZWRDb21wb25lbnRzUHJvcHMgPSBza2lwUmVzb2x2aW5nU2xvdFByb3BzID8ge30gOiByZXNvbHZlQ29tcG9uZW50UHJvcHMoZXh0ZXJuYWxTbG90UHJvcHMsIG93bmVyU3RhdGUpO1xuICBjb25zdCB7XG4gICAgcHJvcHM6IG1lcmdlZFByb3BzLFxuICAgIGludGVybmFsUmVmXG4gIH0gPSBtZXJnZVNsb3RQcm9wcyh7XG4gICAgLi4ub3RoZXIsXG4gICAgZXh0ZXJuYWxTbG90UHJvcHM6IHJlc29sdmVkQ29tcG9uZW50c1Byb3BzXG4gIH0pO1xuICBjb25zdCByZWYgPSB1c2VGb3JrUmVmKGludGVybmFsUmVmLCByZXNvbHZlZENvbXBvbmVudHNQcm9wcz8ucmVmLCBwYXJhbWV0ZXJzLmFkZGl0aW9uYWxQcm9wcz8ucmVmKTtcbiAgY29uc3QgcHJvcHMgPSBhcHBlbmRPd25lclN0YXRlKGVsZW1lbnRUeXBlLCB7XG4gICAgLi4ubWVyZ2VkUHJvcHMsXG4gICAgcmVmXG4gIH0sIG93bmVyU3RhdGUpO1xuICByZXR1cm4gcHJvcHM7XG59XG5leHBvcnQgZGVmYXVsdCB1c2VTbG90UHJvcHM7IiwKICAgICIndXNlIGNsaWVudCc7XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHVzZUVuaGFuY2VkRWZmZWN0IGZyb20gJ0BtdWkvdXRpbHMvdXNlRW5oYW5jZWRFZmZlY3QnO1xuaW1wb3J0IHVzZUZvcmtSZWYgZnJvbSAnQG11aS91dGlscy91c2VGb3JrUmVmJztcbmltcG9ydCBzZXRSZWYgZnJvbSAnQG11aS91dGlscy9zZXRSZWYnO1xuaW1wb3J0IGdldFJlYWN0RWxlbWVudFJlZiBmcm9tICdAbXVpL3V0aWxzL2dldFJlYWN0RWxlbWVudFJlZic7XG5pbXBvcnQgZXhhY3RQcm9wIGZyb20gJ0BtdWkvdXRpbHMvZXhhY3RQcm9wJztcbmltcG9ydCBIVE1MRWxlbWVudFR5cGUgZnJvbSAnQG11aS91dGlscy9IVE1MRWxlbWVudFR5cGUnO1xuZnVuY3Rpb24gZ2V0Q29udGFpbmVyKGNvbnRhaW5lcikge1xuICByZXR1cm4gdHlwZW9mIGNvbnRhaW5lciA9PT0gJ2Z1bmN0aW9uJyA/IGNvbnRhaW5lcigpIDogY29udGFpbmVyO1xufVxuXG4vKipcbiAqIFBvcnRhbHMgcHJvdmlkZSBhIGZpcnN0LWNsYXNzIHdheSB0byByZW5kZXIgY2hpbGRyZW4gaW50byBhIERPTSBub2RlXG4gKiB0aGF0IGV4aXN0cyBvdXRzaWRlIHRoZSBET00gaGllcmFyY2h5IG9mIHRoZSBwYXJlbnQgY29tcG9uZW50LlxuICpcbiAqIERlbW9zOlxuICpcbiAqIC0gW1BvcnRhbF0oaHR0cHM6Ly9tdWkuY29tL21hdGVyaWFsLXVpL3JlYWN0LXBvcnRhbC8pXG4gKlxuICogQVBJOlxuICpcbiAqIC0gW1BvcnRhbCBBUEldKGh0dHBzOi8vbXVpLmNvbS9tYXRlcmlhbC11aS9hcGkvcG9ydGFsLylcbiAqL1xuY29uc3QgUG9ydGFsID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gUG9ydGFsKHByb3BzLCBmb3J3YXJkZWRSZWYpIHtcbiAgY29uc3Qge1xuICAgIGNoaWxkcmVuLFxuICAgIGNvbnRhaW5lcixcbiAgICBkaXNhYmxlUG9ydGFsID0gZmFsc2VcbiAgfSA9IHByb3BzO1xuICBjb25zdCBbbW91bnROb2RlLCBzZXRNb3VudE5vZGVdID0gUmVhY3QudXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IGhhbmRsZVJlZiA9IHVzZUZvcmtSZWYoLyojX19QVVJFX18qL1JlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkcmVuKSA/IGdldFJlYWN0RWxlbWVudFJlZihjaGlsZHJlbikgOiBudWxsLCBmb3J3YXJkZWRSZWYpO1xuICB1c2VFbmhhbmNlZEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFkaXNhYmxlUG9ydGFsKSB7XG4gICAgICBzZXRNb3VudE5vZGUoZ2V0Q29udGFpbmVyKGNvbnRhaW5lcikgfHwgZG9jdW1lbnQuYm9keSk7XG4gICAgfVxuICB9LCBbY29udGFpbmVyLCBkaXNhYmxlUG9ydGFsXSk7XG4gIHVzZUVuaGFuY2VkRWZmZWN0KCgpID0+IHtcbiAgICBpZiAobW91bnROb2RlICYmICFkaXNhYmxlUG9ydGFsKSB7XG4gICAgICBzZXRSZWYoZm9yd2FyZGVkUmVmLCBtb3VudE5vZGUpO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgc2V0UmVmKGZvcndhcmRlZFJlZiwgbnVsbCk7XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9LCBbZm9yd2FyZGVkUmVmLCBtb3VudE5vZGUsIGRpc2FibGVQb3J0YWxdKTtcbiAgaWYgKGRpc2FibGVQb3J0YWwpIHtcbiAgICBpZiAoLyojX19QVVJFX18qL1JlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkcmVuKSkge1xuICAgICAgY29uc3QgbmV3UHJvcHMgPSB7XG4gICAgICAgIHJlZjogaGFuZGxlUmVmXG4gICAgICB9O1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGRyZW4sIG5ld1Byb3BzKTtcbiAgICB9XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xuICB9XG4gIHJldHVybiBtb3VudE5vZGUgPyAvKiNfX1BVUkVfXyovUmVhY3RET00uY3JlYXRlUG9ydGFsKGNoaWxkcmVuLCBtb3VudE5vZGUpIDogbW91bnROb2RlO1xufSk7XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBQb3J0YWwucHJvcFR5cGVzIC8qIHJlbW92ZS1wcm9wdHlwZXMgKi8gPSB7XG4gIC8vIOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBXYXJuaW5nIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuICAvLyDilIIgVGhlc2UgUHJvcFR5cGVzIGFyZSBnZW5lcmF0ZWQgZnJvbSB0aGUgVHlwZVNjcmlwdCB0eXBlIGRlZmluaXRpb25zLiDilIJcbiAgLy8g4pSCIFRvIHVwZGF0ZSB0aGVtLCBlZGl0IHRoZSBUeXBlU2NyaXB0IHR5cGVzIGFuZCBydW4gYHBucG0gcHJvcHR5cGVzYC4g4pSCXG4gIC8vIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmFxuICAvKipcbiAgICogVGhlIGNoaWxkcmVuIHRvIHJlbmRlciBpbnRvIHRoZSBgY29udGFpbmVyYC5cbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcbiAgLyoqXG4gICAqIEFuIEhUTUwgZWxlbWVudCBvciBmdW5jdGlvbiB0aGF0IHJldHVybnMgb25lLlxuICAgKiBUaGUgYGNvbnRhaW5lcmAgd2lsbCBoYXZlIHRoZSBwb3J0YWwgY2hpbGRyZW4gYXBwZW5kZWQgdG8gaXQuXG4gICAqXG4gICAqIFlvdSBjYW4gYWxzbyBwcm92aWRlIGEgY2FsbGJhY2ssIHdoaWNoIGlzIGNhbGxlZCBpbiBhIFJlYWN0IGxheW91dCBlZmZlY3QuXG4gICAqIFRoaXMgbGV0cyB5b3Ugc2V0IHRoZSBjb250YWluZXIgZnJvbSBhIHJlZiwgYW5kIGFsc28gbWFrZXMgc2VydmVyLXNpZGUgcmVuZGVyaW5nIHBvc3NpYmxlLlxuICAgKlxuICAgKiBCeSBkZWZhdWx0LCBpdCB1c2VzIHRoZSBib2R5IG9mIHRoZSB0b3AtbGV2ZWwgZG9jdW1lbnQgb2JqZWN0LFxuICAgKiBzbyBpdCdzIHNpbXBseSBgZG9jdW1lbnQuYm9keWAgbW9zdCBvZiB0aGUgdGltZS5cbiAgICovXG4gIGNvbnRhaW5lcjogUHJvcFR5cGVzIC8qIEB0eXBlc2NyaXB0LXRvLXByb3B0eXBlcy1pZ25vcmUgKi8ub25lT2ZUeXBlKFtIVE1MRWxlbWVudFR5cGUsIFByb3BUeXBlcy5mdW5jXSksXG4gIC8qKlxuICAgKiBUaGUgYGNoaWxkcmVuYCB3aWxsIGJlIHVuZGVyIHRoZSBET00gaGllcmFyY2h5IG9mIHRoZSBwYXJlbnQgY29tcG9uZW50LlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZGlzYWJsZVBvcnRhbDogUHJvcFR5cGVzLmJvb2xcbn0gOiB2b2lkIDA7XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgUG9ydGFsWydwcm9wVHlwZXMnICsgJyddID0gZXhhY3RQcm9wKFBvcnRhbC5wcm9wVHlwZXMpO1xufVxuZXhwb3J0IGRlZmF1bHQgUG9ydGFsOyIsCiAgICAiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIHJlZiBvZiBhIFJlYWN0IGVsZW1lbnQgaGFuZGxpbmcgZGlmZmVyZW5jZXMgYmV0d2VlbiBSZWFjdCAxOSBhbmQgb2xkZXIgdmVyc2lvbnMuXG4gKiBJdCB3aWxsIHRocm93IHJ1bnRpbWUgZXJyb3IgaWYgdGhlIGVsZW1lbnQgaXMgbm90IGEgdmFsaWQgUmVhY3QgZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0gZWxlbWVudCBSZWFjdC5SZWFjdEVsZW1lbnRcbiAqIEByZXR1cm5zIFJlYWN0LlJlZjxhbnk+IHwgbnVsbFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRSZWFjdEVsZW1lbnRSZWYoZWxlbWVudCkge1xuICAvLyAncmVmJyBpcyBwYXNzZWQgYXMgcHJvcCBpbiBSZWFjdCAxOSwgd2hlcmVhcyAncmVmJyBpcyBkaXJlY3RseSBhdHRhY2hlZCB0byBjaGlsZHJlbiBpbiBvbGRlciB2ZXJzaW9uc1xuICBpZiAocGFyc2VJbnQoUmVhY3QudmVyc2lvbiwgMTApID49IDE5KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQ/LnByb3BzPy5yZWYgfHwgbnVsbDtcbiAgfVxuICAvLyBAdHMtZXhwZWN0LWVycm9yIGVsZW1lbnQucmVmIGlzIG5vdCBpbmNsdWRlZCBpbiB0aGUgUmVhY3RFbGVtZW50IHR5cGVcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0RlZmluaXRlbHlUeXBlZC9EZWZpbml0ZWx5VHlwZWQvZGlzY3Vzc2lvbnMvNzAxODlcbiAgcmV0dXJuIGVsZW1lbnQ/LnJlZiB8fCBudWxsO1xufSIsCiAgICAiaW1wb3J0IGdlbmVyYXRlVXRpbGl0eUNsYXNzZXMgZnJvbSAnQG11aS91dGlscy9nZW5lcmF0ZVV0aWxpdHlDbGFzc2VzJztcbmltcG9ydCBnZW5lcmF0ZVV0aWxpdHlDbGFzcyBmcm9tICdAbXVpL3V0aWxzL2dlbmVyYXRlVXRpbGl0eUNsYXNzJztcbmV4cG9ydCBmdW5jdGlvbiBnZXRQb3BwZXJVdGlsaXR5Q2xhc3Moc2xvdCkge1xuICByZXR1cm4gZ2VuZXJhdGVVdGlsaXR5Q2xhc3MoJ011aVBvcHBlcicsIHNsb3QpO1xufVxuY29uc3QgcG9wcGVyQ2xhc3NlcyA9IGdlbmVyYXRlVXRpbGl0eUNsYXNzZXMoJ011aVBvcHBlcicsIFsncm9vdCddKTtcbmV4cG9ydCBkZWZhdWx0IHBvcHBlckNsYXNzZXM7IiwKICAgICIndXNlIGNsaWVudCc7XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgY2xzeCBmcm9tICdjbHN4JztcbmltcG9ydCBjb21wb3NlQ2xhc3NlcyBmcm9tICdAbXVpL3V0aWxzL2NvbXBvc2VDbGFzc2VzJztcbmltcG9ydCBDYW5jZWxJY29uIGZyb20gXCIuLi9pbnRlcm5hbC9zdmctaWNvbnMvQ2FuY2VsLmpzXCI7XG5pbXBvcnQgdXNlRm9ya1JlZiBmcm9tIFwiLi4vdXRpbHMvdXNlRm9ya1JlZi5qc1wiO1xuaW1wb3J0IHVuc3VwcG9ydGVkUHJvcCBmcm9tIFwiLi4vdXRpbHMvdW5zdXBwb3J0ZWRQcm9wLmpzXCI7XG5pbXBvcnQgY2FwaXRhbGl6ZSBmcm9tIFwiLi4vdXRpbHMvY2FwaXRhbGl6ZS5qc1wiO1xuaW1wb3J0IEJ1dHRvbkJhc2UgZnJvbSBcIi4uL0J1dHRvbkJhc2UvaW5kZXguanNcIjtcbmltcG9ydCB7IHN0eWxlZCB9IGZyb20gXCIuLi96ZXJvLXN0eWxlZC9pbmRleC5qc1wiO1xuaW1wb3J0IG1lbW9UaGVtZSBmcm9tIFwiLi4vdXRpbHMvbWVtb1RoZW1lLmpzXCI7XG5pbXBvcnQgY3JlYXRlU2ltcGxlUGFsZXR0ZVZhbHVlRmlsdGVyIGZyb20gXCIuLi91dGlscy9jcmVhdGVTaW1wbGVQYWxldHRlVmFsdWVGaWx0ZXIuanNcIjtcbmltcG9ydCB7IHVzZURlZmF1bHRQcm9wcyB9IGZyb20gXCIuLi9EZWZhdWx0UHJvcHNQcm92aWRlci9pbmRleC5qc1wiO1xuaW1wb3J0IGNoaXBDbGFzc2VzLCB7IGdldENoaXBVdGlsaXR5Q2xhc3MgfSBmcm9tIFwiLi9jaGlwQ2xhc3Nlcy5qc1wiO1xuaW1wb3J0IHVzZVNsb3QgZnJvbSBcIi4uL3V0aWxzL3VzZVNsb3QuanNcIjtcbmltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5jb25zdCB1c2VVdGlsaXR5Q2xhc3NlcyA9IG93bmVyU3RhdGUgPT4ge1xuICBjb25zdCB7XG4gICAgY2xhc3NlcyxcbiAgICBkaXNhYmxlZCxcbiAgICBzaXplLFxuICAgIGNvbG9yLFxuICAgIGljb25Db2xvcixcbiAgICBvbkRlbGV0ZSxcbiAgICBjbGlja2FibGUsXG4gICAgdmFyaWFudFxuICB9ID0gb3duZXJTdGF0ZTtcbiAgY29uc3Qgc2xvdHMgPSB7XG4gICAgcm9vdDogWydyb290JywgdmFyaWFudCwgZGlzYWJsZWQgJiYgJ2Rpc2FibGVkJywgYHNpemUke2NhcGl0YWxpemUoc2l6ZSl9YCwgYGNvbG9yJHtjYXBpdGFsaXplKGNvbG9yKX1gLCBjbGlja2FibGUgJiYgJ2NsaWNrYWJsZScsIGNsaWNrYWJsZSAmJiBgY2xpY2thYmxlQ29sb3Ike2NhcGl0YWxpemUoY29sb3IpfWAsIG9uRGVsZXRlICYmICdkZWxldGFibGUnLCBvbkRlbGV0ZSAmJiBgZGVsZXRhYmxlQ29sb3Ike2NhcGl0YWxpemUoY29sb3IpfWAsIGAke3ZhcmlhbnR9JHtjYXBpdGFsaXplKGNvbG9yKX1gXSxcbiAgICBsYWJlbDogWydsYWJlbCcsIGBsYWJlbCR7Y2FwaXRhbGl6ZShzaXplKX1gXSxcbiAgICBhdmF0YXI6IFsnYXZhdGFyJywgYGF2YXRhciR7Y2FwaXRhbGl6ZShzaXplKX1gLCBgYXZhdGFyQ29sb3Ike2NhcGl0YWxpemUoY29sb3IpfWBdLFxuICAgIGljb246IFsnaWNvbicsIGBpY29uJHtjYXBpdGFsaXplKHNpemUpfWAsIGBpY29uQ29sb3Ike2NhcGl0YWxpemUoaWNvbkNvbG9yKX1gXSxcbiAgICBkZWxldGVJY29uOiBbJ2RlbGV0ZUljb24nLCBgZGVsZXRlSWNvbiR7Y2FwaXRhbGl6ZShzaXplKX1gLCBgZGVsZXRlSWNvbkNvbG9yJHtjYXBpdGFsaXplKGNvbG9yKX1gLCBgZGVsZXRlSWNvbiR7Y2FwaXRhbGl6ZSh2YXJpYW50KX1Db2xvciR7Y2FwaXRhbGl6ZShjb2xvcil9YF1cbiAgfTtcbiAgcmV0dXJuIGNvbXBvc2VDbGFzc2VzKHNsb3RzLCBnZXRDaGlwVXRpbGl0eUNsYXNzLCBjbGFzc2VzKTtcbn07XG5jb25zdCBDaGlwUm9vdCA9IHN0eWxlZCgnZGl2Jywge1xuICBuYW1lOiAnTXVpQ2hpcCcsXG4gIHNsb3Q6ICdSb290JyxcbiAgb3ZlcnJpZGVzUmVzb2x2ZXI6IChwcm9wcywgc3R5bGVzKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgb3duZXJTdGF0ZVxuICAgIH0gPSBwcm9wcztcbiAgICBjb25zdCB7XG4gICAgICBjb2xvcixcbiAgICAgIGljb25Db2xvcixcbiAgICAgIGNsaWNrYWJsZSxcbiAgICAgIG9uRGVsZXRlLFxuICAgICAgc2l6ZSxcbiAgICAgIHZhcmlhbnRcbiAgICB9ID0gb3duZXJTdGF0ZTtcbiAgICByZXR1cm4gW3tcbiAgICAgIFtgJiAuJHtjaGlwQ2xhc3Nlcy5hdmF0YXJ9YF06IHN0eWxlcy5hdmF0YXJcbiAgICB9LCB7XG4gICAgICBbYCYgLiR7Y2hpcENsYXNzZXMuYXZhdGFyfWBdOiBzdHlsZXNbYGF2YXRhciR7Y2FwaXRhbGl6ZShzaXplKX1gXVxuICAgIH0sIHtcbiAgICAgIFtgJiAuJHtjaGlwQ2xhc3Nlcy5hdmF0YXJ9YF06IHN0eWxlc1tgYXZhdGFyQ29sb3Ike2NhcGl0YWxpemUoY29sb3IpfWBdXG4gICAgfSwge1xuICAgICAgW2AmIC4ke2NoaXBDbGFzc2VzLmljb259YF06IHN0eWxlcy5pY29uXG4gICAgfSwge1xuICAgICAgW2AmIC4ke2NoaXBDbGFzc2VzLmljb259YF06IHN0eWxlc1tgaWNvbiR7Y2FwaXRhbGl6ZShzaXplKX1gXVxuICAgIH0sIHtcbiAgICAgIFtgJiAuJHtjaGlwQ2xhc3Nlcy5pY29ufWBdOiBzdHlsZXNbYGljb25Db2xvciR7Y2FwaXRhbGl6ZShpY29uQ29sb3IpfWBdXG4gICAgfSwge1xuICAgICAgW2AmIC4ke2NoaXBDbGFzc2VzLmRlbGV0ZUljb259YF06IHN0eWxlcy5kZWxldGVJY29uXG4gICAgfSwge1xuICAgICAgW2AmIC4ke2NoaXBDbGFzc2VzLmRlbGV0ZUljb259YF06IHN0eWxlc1tgZGVsZXRlSWNvbiR7Y2FwaXRhbGl6ZShzaXplKX1gXVxuICAgIH0sIHtcbiAgICAgIFtgJiAuJHtjaGlwQ2xhc3Nlcy5kZWxldGVJY29ufWBdOiBzdHlsZXNbYGRlbGV0ZUljb25Db2xvciR7Y2FwaXRhbGl6ZShjb2xvcil9YF1cbiAgICB9LCB7XG4gICAgICBbYCYgLiR7Y2hpcENsYXNzZXMuZGVsZXRlSWNvbn1gXTogc3R5bGVzW2BkZWxldGVJY29uJHtjYXBpdGFsaXplKHZhcmlhbnQpfUNvbG9yJHtjYXBpdGFsaXplKGNvbG9yKX1gXVxuICAgIH0sIHN0eWxlcy5yb290LCBzdHlsZXNbYHNpemUke2NhcGl0YWxpemUoc2l6ZSl9YF0sIHN0eWxlc1tgY29sb3Ike2NhcGl0YWxpemUoY29sb3IpfWBdLCBjbGlja2FibGUgJiYgc3R5bGVzLmNsaWNrYWJsZSwgY2xpY2thYmxlICYmIGNvbG9yICE9PSAnZGVmYXVsdCcgJiYgc3R5bGVzW2BjbGlja2FibGVDb2xvciR7Y2FwaXRhbGl6ZShjb2xvcil9KWBdLCBvbkRlbGV0ZSAmJiBzdHlsZXMuZGVsZXRhYmxlLCBvbkRlbGV0ZSAmJiBjb2xvciAhPT0gJ2RlZmF1bHQnICYmIHN0eWxlc1tgZGVsZXRhYmxlQ29sb3Ike2NhcGl0YWxpemUoY29sb3IpfWBdLCBzdHlsZXNbdmFyaWFudF0sIHN0eWxlc1tgJHt2YXJpYW50fSR7Y2FwaXRhbGl6ZShjb2xvcil9YF1dO1xuICB9XG59KShtZW1vVGhlbWUoKHtcbiAgdGhlbWVcbn0pID0+IHtcbiAgY29uc3QgdGV4dENvbG9yID0gdGhlbWUucGFsZXR0ZS5tb2RlID09PSAnbGlnaHQnID8gdGhlbWUucGFsZXR0ZS5ncmV5WzcwMF0gOiB0aGVtZS5wYWxldHRlLmdyZXlbMzAwXTtcbiAgcmV0dXJuIHtcbiAgICBtYXhXaWR0aDogJzEwMCUnLFxuICAgIGZvbnRGYW1pbHk6IHRoZW1lLnR5cG9ncmFwaHkuZm9udEZhbWlseSxcbiAgICBmb250U2l6ZTogdGhlbWUudHlwb2dyYXBoeS5weFRvUmVtKDEzKSxcbiAgICBkaXNwbGF5OiAnaW5saW5lLWZsZXgnLFxuICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICBoZWlnaHQ6IDMyLFxuICAgIGxpbmVIZWlnaHQ6IDEuNSxcbiAgICBjb2xvcjogKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGUudGV4dC5wcmltYXJ5LFxuICAgIGJhY2tncm91bmRDb2xvcjogKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGUuYWN0aW9uLnNlbGVjdGVkLFxuICAgIGJvcmRlclJhZGl1czogMzIgLyAyLFxuICAgIHdoaXRlU3BhY2U6ICdub3dyYXAnLFxuICAgIHRyYW5zaXRpb246IHRoZW1lLnRyYW5zaXRpb25zLmNyZWF0ZShbJ2JhY2tncm91bmQtY29sb3InLCAnYm94LXNoYWRvdyddKSxcbiAgICAvLyByZXNldCBjdXJzb3IgZXhwbGljaXRseSBpbiBjYXNlIEJ1dHRvbkJhc2UgaXMgdXNlZFxuICAgIGN1cnNvcjogJ3Vuc2V0JyxcbiAgICAvLyBXZSBkaXNhYmxlIHRoZSBmb2N1cyByaW5nIGZvciBtb3VzZSwgdG91Y2ggYW5kIGtleWJvYXJkIHVzZXJzLlxuICAgIG91dGxpbmU6IDAsXG4gICAgdGV4dERlY29yYXRpb246ICdub25lJyxcbiAgICBib3JkZXI6IDAsXG4gICAgLy8gUmVtb3ZlIGBidXR0b25gIGJvcmRlclxuICAgIHBhZGRpbmc6IDAsXG4gICAgLy8gUmVtb3ZlIGBidXR0b25gIHBhZGRpbmdcbiAgICB2ZXJ0aWNhbEFsaWduOiAnbWlkZGxlJyxcbiAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICBbYCYuJHtjaGlwQ2xhc3Nlcy5kaXNhYmxlZH1gXToge1xuICAgICAgb3BhY2l0eTogKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGUuYWN0aW9uLmRpc2FibGVkT3BhY2l0eSxcbiAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJ1xuICAgIH0sXG4gICAgW2AmIC4ke2NoaXBDbGFzc2VzLmF2YXRhcn1gXToge1xuICAgICAgbWFyZ2luTGVmdDogNSxcbiAgICAgIG1hcmdpblJpZ2h0OiAtNixcbiAgICAgIHdpZHRoOiAyNCxcbiAgICAgIGhlaWdodDogMjQsXG4gICAgICBjb2xvcjogdGhlbWUudmFycyA/IHRoZW1lLnZhcnMucGFsZXR0ZS5DaGlwLmRlZmF1bHRBdmF0YXJDb2xvciA6IHRleHRDb2xvcixcbiAgICAgIGZvbnRTaXplOiB0aGVtZS50eXBvZ3JhcGh5LnB4VG9SZW0oMTIpXG4gICAgfSxcbiAgICBbYCYgLiR7Y2hpcENsYXNzZXMuYXZhdGFyQ29sb3JQcmltYXJ5fWBdOiB7XG4gICAgICBjb2xvcjogKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGUucHJpbWFyeS5jb250cmFzdFRleHQsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlLnByaW1hcnkuZGFya1xuICAgIH0sXG4gICAgW2AmIC4ke2NoaXBDbGFzc2VzLmF2YXRhckNvbG9yU2Vjb25kYXJ5fWBdOiB7XG4gICAgICBjb2xvcjogKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGUuc2Vjb25kYXJ5LmNvbnRyYXN0VGV4dCxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGUuc2Vjb25kYXJ5LmRhcmtcbiAgICB9LFxuICAgIFtgJiAuJHtjaGlwQ2xhc3Nlcy5hdmF0YXJTbWFsbH1gXToge1xuICAgICAgbWFyZ2luTGVmdDogNCxcbiAgICAgIG1hcmdpblJpZ2h0OiAtNCxcbiAgICAgIHdpZHRoOiAxOCxcbiAgICAgIGhlaWdodDogMTgsXG4gICAgICBmb250U2l6ZTogdGhlbWUudHlwb2dyYXBoeS5weFRvUmVtKDEwKVxuICAgIH0sXG4gICAgW2AmIC4ke2NoaXBDbGFzc2VzLmljb259YF06IHtcbiAgICAgIG1hcmdpbkxlZnQ6IDUsXG4gICAgICBtYXJnaW5SaWdodDogLTZcbiAgICB9LFxuICAgIFtgJiAuJHtjaGlwQ2xhc3Nlcy5kZWxldGVJY29ufWBdOiB7XG4gICAgICBXZWJraXRUYXBIaWdobGlnaHRDb2xvcjogJ3RyYW5zcGFyZW50JyxcbiAgICAgIGNvbG9yOiB0aGVtZS5hbHBoYSgodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZS50ZXh0LnByaW1hcnksIDAuMjYpLFxuICAgICAgZm9udFNpemU6IDIyLFxuICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICBtYXJnaW46ICcwIDVweCAwIC02cHgnLFxuICAgICAgJyY6aG92ZXInOiB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5hbHBoYSgodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZS50ZXh0LnByaW1hcnksIDAuNClcbiAgICAgIH1cbiAgICB9LFxuICAgIHZhcmlhbnRzOiBbe1xuICAgICAgcHJvcHM6IHtcbiAgICAgICAgc2l6ZTogJ3NtYWxsJ1xuICAgICAgfSxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGhlaWdodDogMjQsXG4gICAgICAgIFtgJiAuJHtjaGlwQ2xhc3Nlcy5pY29ufWBdOiB7XG4gICAgICAgICAgZm9udFNpemU6IDE4LFxuICAgICAgICAgIG1hcmdpbkxlZnQ6IDQsXG4gICAgICAgICAgbWFyZ2luUmlnaHQ6IC00XG4gICAgICAgIH0sXG4gICAgICAgIFtgJiAuJHtjaGlwQ2xhc3Nlcy5kZWxldGVJY29ufWBdOiB7XG4gICAgICAgICAgZm9udFNpemU6IDE2LFxuICAgICAgICAgIG1hcmdpblJpZ2h0OiA0LFxuICAgICAgICAgIG1hcmdpbkxlZnQ6IC00XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCAuLi5PYmplY3QuZW50cmllcyh0aGVtZS5wYWxldHRlKS5maWx0ZXIoY3JlYXRlU2ltcGxlUGFsZXR0ZVZhbHVlRmlsdGVyKFsnY29udHJhc3RUZXh0J10pKS5tYXAoKFtjb2xvcl0pID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgY29sb3JcbiAgICAgICAgfSxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlW2NvbG9yXS5tYWluLFxuICAgICAgICAgIGNvbG9yOiAodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZVtjb2xvcl0uY29udHJhc3RUZXh0LFxuICAgICAgICAgIFtgJiAuJHtjaGlwQ2xhc3Nlcy5kZWxldGVJY29ufWBdOiB7XG4gICAgICAgICAgICBjb2xvcjogdGhlbWUuYWxwaGEoKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGVbY29sb3JdLmNvbnRyYXN0VGV4dCwgMC43KSxcbiAgICAgICAgICAgICcmOmhvdmVyLCAmOmFjdGl2ZSc6IHtcbiAgICAgICAgICAgICAgY29sb3I6ICh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlW2NvbG9yXS5jb250cmFzdFRleHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSksIHtcbiAgICAgIHByb3BzOiBwcm9wcyA9PiBwcm9wcy5pY29uQ29sb3IgPT09IHByb3BzLmNvbG9yLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgW2AmIC4ke2NoaXBDbGFzc2VzLmljb259YF06IHtcbiAgICAgICAgICBjb2xvcjogdGhlbWUudmFycyA/IHRoZW1lLnZhcnMucGFsZXR0ZS5DaGlwLmRlZmF1bHRJY29uQ29sb3IgOiB0ZXh0Q29sb3JcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIHByb3BzOiBwcm9wcyA9PiBwcm9wcy5pY29uQ29sb3IgPT09IHByb3BzLmNvbG9yICYmIHByb3BzLmNvbG9yICE9PSAnZGVmYXVsdCcsXG4gICAgICBzdHlsZToge1xuICAgICAgICBbYCYgLiR7Y2hpcENsYXNzZXMuaWNvbn1gXToge1xuICAgICAgICAgIGNvbG9yOiAnaW5oZXJpdCdcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIHByb3BzOiB7XG4gICAgICAgIG9uRGVsZXRlOiB0cnVlXG4gICAgICB9LFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgW2AmLiR7Y2hpcENsYXNzZXMuZm9jdXNWaXNpYmxlfWBdOiB7XG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5hbHBoYSgodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZS5hY3Rpb24uc2VsZWN0ZWQsIGAkeyh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlLmFjdGlvbi5zZWxlY3RlZE9wYWNpdHl9ICsgJHsodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZS5hY3Rpb24uZm9jdXNPcGFjaXR5fWApXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCAuLi5PYmplY3QuZW50cmllcyh0aGVtZS5wYWxldHRlKS5maWx0ZXIoY3JlYXRlU2ltcGxlUGFsZXR0ZVZhbHVlRmlsdGVyKFsnZGFyayddKSkubWFwKChbY29sb3JdKSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwcm9wczoge1xuICAgICAgICAgIGNvbG9yLFxuICAgICAgICAgIG9uRGVsZXRlOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgW2AmLiR7Y2hpcENsYXNzZXMuZm9jdXNWaXNpYmxlfWBdOiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZVtjb2xvcl0uZGFya1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KSwge1xuICAgICAgcHJvcHM6IHtcbiAgICAgICAgY2xpY2thYmxlOiB0cnVlXG4gICAgICB9LFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgdXNlclNlbGVjdDogJ25vbmUnLFxuICAgICAgICBXZWJraXRUYXBIaWdobGlnaHRDb2xvcjogJ3RyYW5zcGFyZW50JyxcbiAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICcmOmhvdmVyJzoge1xuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUuYWxwaGEoKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGUuYWN0aW9uLnNlbGVjdGVkLCBgJHsodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZS5hY3Rpb24uc2VsZWN0ZWRPcGFjaXR5fSArICR7KHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGUuYWN0aW9uLmhvdmVyT3BhY2l0eX1gKVxuICAgICAgICB9LFxuICAgICAgICBbYCYuJHtjaGlwQ2xhc3Nlcy5mb2N1c1Zpc2libGV9YF06IHtcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLmFscGhhKCh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlLmFjdGlvbi5zZWxlY3RlZCwgYCR7KHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGUuYWN0aW9uLnNlbGVjdGVkT3BhY2l0eX0gKyAkeyh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlLmFjdGlvbi5mb2N1c09wYWNpdHl9YClcbiAgICAgICAgfSxcbiAgICAgICAgJyY6YWN0aXZlJzoge1xuICAgICAgICAgIGJveFNoYWRvdzogKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnNoYWRvd3NbMV1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIC4uLk9iamVjdC5lbnRyaWVzKHRoZW1lLnBhbGV0dGUpLmZpbHRlcihjcmVhdGVTaW1wbGVQYWxldHRlVmFsdWVGaWx0ZXIoWydkYXJrJ10pKS5tYXAoKFtjb2xvcl0pID0+ICh7XG4gICAgICBwcm9wczoge1xuICAgICAgICBjb2xvcixcbiAgICAgICAgY2xpY2thYmxlOiB0cnVlXG4gICAgICB9LFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgW2AmOmhvdmVyLCAmLiR7Y2hpcENsYXNzZXMuZm9jdXNWaXNpYmxlfWBdOiB7XG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZVtjb2xvcl0uZGFya1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkpLCB7XG4gICAgICBwcm9wczoge1xuICAgICAgICB2YXJpYW50OiAnb3V0bGluZWQnXG4gICAgICB9LFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICBib3JkZXI6IHRoZW1lLnZhcnMgPyBgMXB4IHNvbGlkICR7dGhlbWUudmFycy5wYWxldHRlLkNoaXAuZGVmYXVsdEJvcmRlcn1gIDogYDFweCBzb2xpZCAke3RoZW1lLnBhbGV0dGUubW9kZSA9PT0gJ2xpZ2h0JyA/IHRoZW1lLnBhbGV0dGUuZ3JleVs0MDBdIDogdGhlbWUucGFsZXR0ZS5ncmV5WzcwMF19YCxcbiAgICAgICAgW2AmLiR7Y2hpcENsYXNzZXMuY2xpY2thYmxlfTpob3ZlcmBdOiB7XG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZS5hY3Rpb24uaG92ZXJcbiAgICAgICAgfSxcbiAgICAgICAgW2AmLiR7Y2hpcENsYXNzZXMuZm9jdXNWaXNpYmxlfWBdOiB7XG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZS5hY3Rpb24uZm9jdXNcbiAgICAgICAgfSxcbiAgICAgICAgW2AmIC4ke2NoaXBDbGFzc2VzLmF2YXRhcn1gXToge1xuICAgICAgICAgIG1hcmdpbkxlZnQ6IDRcbiAgICAgICAgfSxcbiAgICAgICAgW2AmIC4ke2NoaXBDbGFzc2VzLmF2YXRhclNtYWxsfWBdOiB7XG4gICAgICAgICAgbWFyZ2luTGVmdDogMlxuICAgICAgICB9LFxuICAgICAgICBbYCYgLiR7Y2hpcENsYXNzZXMuaWNvbn1gXToge1xuICAgICAgICAgIG1hcmdpbkxlZnQ6IDRcbiAgICAgICAgfSxcbiAgICAgICAgW2AmIC4ke2NoaXBDbGFzc2VzLmljb25TbWFsbH1gXToge1xuICAgICAgICAgIG1hcmdpbkxlZnQ6IDJcbiAgICAgICAgfSxcbiAgICAgICAgW2AmIC4ke2NoaXBDbGFzc2VzLmRlbGV0ZUljb259YF06IHtcbiAgICAgICAgICBtYXJnaW5SaWdodDogNVxuICAgICAgICB9LFxuICAgICAgICBbYCYgLiR7Y2hpcENsYXNzZXMuZGVsZXRlSWNvblNtYWxsfWBdOiB7XG4gICAgICAgICAgbWFyZ2luUmlnaHQ6IDNcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIC4uLk9iamVjdC5lbnRyaWVzKHRoZW1lLnBhbGV0dGUpLmZpbHRlcihjcmVhdGVTaW1wbGVQYWxldHRlVmFsdWVGaWx0ZXIoKSkgLy8gbm8gbmVlZCB0byBjaGVjayBmb3IgbWFpbkNoYW5uZWwgYXMgaXQncyBjYWxjdWxhdGVkIGZyb20gbWFpblxuICAgIC5tYXAoKFtjb2xvcl0pID0+ICh7XG4gICAgICBwcm9wczoge1xuICAgICAgICB2YXJpYW50OiAnb3V0bGluZWQnLFxuICAgICAgICBjb2xvclxuICAgICAgfSxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGNvbG9yOiAodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZVtjb2xvcl0ubWFpbixcbiAgICAgICAgYm9yZGVyOiBgMXB4IHNvbGlkICR7dGhlbWUuYWxwaGEoKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGVbY29sb3JdLm1haW4sIDAuNyl9YCxcbiAgICAgICAgW2AmLiR7Y2hpcENsYXNzZXMuY2xpY2thYmxlfTpob3ZlcmBdOiB7XG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5hbHBoYSgodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZVtjb2xvcl0ubWFpbiwgKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGUuYWN0aW9uLmhvdmVyT3BhY2l0eSlcbiAgICAgICAgfSxcbiAgICAgICAgW2AmLiR7Y2hpcENsYXNzZXMuZm9jdXNWaXNpYmxlfWBdOiB7XG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5hbHBoYSgodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZVtjb2xvcl0ubWFpbiwgKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGUuYWN0aW9uLmZvY3VzT3BhY2l0eSlcbiAgICAgICAgfSxcbiAgICAgICAgW2AmIC4ke2NoaXBDbGFzc2VzLmRlbGV0ZUljb259YF06IHtcbiAgICAgICAgICBjb2xvcjogdGhlbWUuYWxwaGEoKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGVbY29sb3JdLm1haW4sIDAuNyksXG4gICAgICAgICAgJyY6aG92ZXIsICY6YWN0aXZlJzoge1xuICAgICAgICAgICAgY29sb3I6ICh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlW2NvbG9yXS5tYWluXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkpXVxuICB9O1xufSkpO1xuY29uc3QgQ2hpcExhYmVsID0gc3R5bGVkKCdzcGFuJywge1xuICBuYW1lOiAnTXVpQ2hpcCcsXG4gIHNsb3Q6ICdMYWJlbCcsXG4gIG92ZXJyaWRlc1Jlc29sdmVyOiAocHJvcHMsIHN0eWxlcykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIG93bmVyU3RhdGVcbiAgICB9ID0gcHJvcHM7XG4gICAgY29uc3Qge1xuICAgICAgc2l6ZVxuICAgIH0gPSBvd25lclN0YXRlO1xuICAgIHJldHVybiBbc3R5bGVzLmxhYmVsLCBzdHlsZXNbYGxhYmVsJHtjYXBpdGFsaXplKHNpemUpfWBdXTtcbiAgfVxufSkoe1xuICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gIHRleHRPdmVyZmxvdzogJ2VsbGlwc2lzJyxcbiAgcGFkZGluZ0xlZnQ6IDEyLFxuICBwYWRkaW5nUmlnaHQ6IDEyLFxuICB3aGl0ZVNwYWNlOiAnbm93cmFwJyxcbiAgdmFyaWFudHM6IFt7XG4gICAgcHJvcHM6IHtcbiAgICAgIHZhcmlhbnQ6ICdvdXRsaW5lZCdcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICBwYWRkaW5nTGVmdDogMTEsXG4gICAgICBwYWRkaW5nUmlnaHQ6IDExXG4gICAgfVxuICB9LCB7XG4gICAgcHJvcHM6IHtcbiAgICAgIHNpemU6ICdzbWFsbCdcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICBwYWRkaW5nTGVmdDogOCxcbiAgICAgIHBhZGRpbmdSaWdodDogOFxuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiB7XG4gICAgICBzaXplOiAnc21hbGwnLFxuICAgICAgdmFyaWFudDogJ291dGxpbmVkJ1xuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIHBhZGRpbmdMZWZ0OiA3LFxuICAgICAgcGFkZGluZ1JpZ2h0OiA3XG4gICAgfVxuICB9XVxufSk7XG5mdW5jdGlvbiBpc0RlbGV0ZUtleWJvYXJkRXZlbnQoa2V5Ym9hcmRFdmVudCkge1xuICByZXR1cm4ga2V5Ym9hcmRFdmVudC5rZXkgPT09ICdCYWNrc3BhY2UnIHx8IGtleWJvYXJkRXZlbnQua2V5ID09PSAnRGVsZXRlJztcbn1cblxuLyoqXG4gKiBDaGlwcyByZXByZXNlbnQgY29tcGxleCBlbnRpdGllcyBpbiBzbWFsbCBibG9ja3MsIHN1Y2ggYXMgYSBjb250YWN0LlxuICovXG5jb25zdCBDaGlwID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gQ2hpcChpblByb3BzLCByZWYpIHtcbiAgY29uc3QgcHJvcHMgPSB1c2VEZWZhdWx0UHJvcHMoe1xuICAgIHByb3BzOiBpblByb3BzLFxuICAgIG5hbWU6ICdNdWlDaGlwJ1xuICB9KTtcbiAgY29uc3Qge1xuICAgIGF2YXRhcjogYXZhdGFyUHJvcCxcbiAgICBjbGFzc05hbWUsXG4gICAgY2xpY2thYmxlOiBjbGlja2FibGVQcm9wLFxuICAgIGNvbG9yID0gJ2RlZmF1bHQnLFxuICAgIGNvbXBvbmVudDogQ29tcG9uZW50UHJvcCxcbiAgICBkZWxldGVJY29uOiBkZWxldGVJY29uUHJvcCxcbiAgICBkaXNhYmxlZCA9IGZhbHNlLFxuICAgIGljb246IGljb25Qcm9wLFxuICAgIGxhYmVsLFxuICAgIG9uQ2xpY2ssXG4gICAgb25EZWxldGUsXG4gICAgb25LZXlEb3duLFxuICAgIG9uS2V5VXAsXG4gICAgc2l6ZSA9ICdtZWRpdW0nLFxuICAgIHZhcmlhbnQgPSAnZmlsbGVkJyxcbiAgICB0YWJJbmRleCxcbiAgICBza2lwRm9jdXNXaGVuRGlzYWJsZWQgPSBmYWxzZSxcbiAgICAvLyBUT0RPIHY2OiBSZW5hbWUgdG8gYGZvY3VzYWJsZVdoZW5EaXNhYmxlZGAuXG4gICAgc2xvdHMgPSB7fSxcbiAgICBzbG90UHJvcHMgPSB7fSxcbiAgICAuLi5vdGhlclxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGNoaXBSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIGNvbnN0IGhhbmRsZVJlZiA9IHVzZUZvcmtSZWYoY2hpcFJlZiwgcmVmKTtcbiAgY29uc3QgaGFuZGxlRGVsZXRlSWNvbkNsaWNrID0gZXZlbnQgPT4ge1xuICAgIC8vIFN0b3AgdGhlIGV2ZW50IGZyb20gYnViYmxpbmcgdXAgdG8gdGhlIGBDaGlwYFxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmIChvbkRlbGV0ZSkge1xuICAgICAgb25EZWxldGUoZXZlbnQpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaGFuZGxlS2V5RG93biA9IGV2ZW50ID0+IHtcbiAgICAvLyBJZ25vcmUgZXZlbnRzIGZyb20gY2hpbGRyZW4gb2YgYENoaXBgLlxuICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0ID09PSBldmVudC50YXJnZXQgJiYgaXNEZWxldGVLZXlib2FyZEV2ZW50KGV2ZW50KSkge1xuICAgICAgLy8gV2lsbCBiZSBoYW5kbGVkIGluIGtleVVwLCBvdGhlcndpc2Ugc29tZSBicm93c2Vyc1xuICAgICAgLy8gbWlnaHQgaW5pdCBuYXZpZ2F0aW9uXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgICBpZiAob25LZXlEb3duKSB7XG4gICAgICBvbktleURvd24oZXZlbnQpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaGFuZGxlS2V5VXAgPSBldmVudCA9PiB7XG4gICAgLy8gSWdub3JlIGV2ZW50cyBmcm9tIGNoaWxkcmVuIG9mIGBDaGlwYC5cbiAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldCA9PT0gZXZlbnQudGFyZ2V0KSB7XG4gICAgICBpZiAob25EZWxldGUgJiYgaXNEZWxldGVLZXlib2FyZEV2ZW50KGV2ZW50KSkge1xuICAgICAgICBvbkRlbGV0ZShldmVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChvbktleVVwKSB7XG4gICAgICBvbktleVVwKGV2ZW50KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGNsaWNrYWJsZSA9IGNsaWNrYWJsZVByb3AgIT09IGZhbHNlICYmIG9uQ2xpY2sgPyB0cnVlIDogY2xpY2thYmxlUHJvcDtcbiAgY29uc3QgY29tcG9uZW50ID0gY2xpY2thYmxlIHx8IG9uRGVsZXRlID8gQnV0dG9uQmFzZSA6IENvbXBvbmVudFByb3AgfHwgJ2Rpdic7XG4gIGNvbnN0IG93bmVyU3RhdGUgPSB7XG4gICAgLi4ucHJvcHMsXG4gICAgY29tcG9uZW50LFxuICAgIGRpc2FibGVkLFxuICAgIHNpemUsXG4gICAgY29sb3IsXG4gICAgaWNvbkNvbG9yOiAvKiNfX1BVUkVfXyovUmVhY3QuaXNWYWxpZEVsZW1lbnQoaWNvblByb3ApID8gaWNvblByb3AucHJvcHMuY29sb3IgfHwgY29sb3IgOiBjb2xvcixcbiAgICBvbkRlbGV0ZTogISFvbkRlbGV0ZSxcbiAgICBjbGlja2FibGUsXG4gICAgdmFyaWFudFxuICB9O1xuICBjb25zdCBjbGFzc2VzID0gdXNlVXRpbGl0eUNsYXNzZXMob3duZXJTdGF0ZSk7XG4gIGNvbnN0IG1vcmVQcm9wcyA9IGNvbXBvbmVudCA9PT0gQnV0dG9uQmFzZSA/IHtcbiAgICBjb21wb25lbnQ6IENvbXBvbmVudFByb3AgfHwgJ2RpdicsXG4gICAgZm9jdXNWaXNpYmxlQ2xhc3NOYW1lOiBjbGFzc2VzLmZvY3VzVmlzaWJsZSxcbiAgICAuLi4ob25EZWxldGUgJiYge1xuICAgICAgZGlzYWJsZVJpcHBsZTogdHJ1ZVxuICAgIH0pXG4gIH0gOiB7fTtcbiAgbGV0IGRlbGV0ZUljb24gPSBudWxsO1xuICBpZiAob25EZWxldGUpIHtcbiAgICBkZWxldGVJY29uID0gZGVsZXRlSWNvblByb3AgJiYgLyojX19QVVJFX18qL1JlYWN0LmlzVmFsaWRFbGVtZW50KGRlbGV0ZUljb25Qcm9wKSA/ICgvKiNfX1BVUkVfXyovUmVhY3QuY2xvbmVFbGVtZW50KGRlbGV0ZUljb25Qcm9wLCB7XG4gICAgICBjbGFzc05hbWU6IGNsc3goZGVsZXRlSWNvblByb3AucHJvcHMuY2xhc3NOYW1lLCBjbGFzc2VzLmRlbGV0ZUljb24pLFxuICAgICAgb25DbGljazogaGFuZGxlRGVsZXRlSWNvbkNsaWNrXG4gICAgfSkpIDogLyojX19QVVJFX18qL19qc3goQ2FuY2VsSWNvbiwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmRlbGV0ZUljb24sXG4gICAgICBvbkNsaWNrOiBoYW5kbGVEZWxldGVJY29uQ2xpY2tcbiAgICB9KTtcbiAgfVxuICBsZXQgYXZhdGFyID0gbnVsbDtcbiAgaWYgKGF2YXRhclByb3AgJiYgLyojX19QVVJFX18qL1JlYWN0LmlzVmFsaWRFbGVtZW50KGF2YXRhclByb3ApKSB7XG4gICAgYXZhdGFyID0gLyojX19QVVJFX18qL1JlYWN0LmNsb25lRWxlbWVudChhdmF0YXJQcm9wLCB7XG4gICAgICBjbGFzc05hbWU6IGNsc3goY2xhc3Nlcy5hdmF0YXIsIGF2YXRhclByb3AucHJvcHMuY2xhc3NOYW1lKVxuICAgIH0pO1xuICB9XG4gIGxldCBpY29uID0gbnVsbDtcbiAgaWYgKGljb25Qcm9wICYmIC8qI19fUFVSRV9fKi9SZWFjdC5pc1ZhbGlkRWxlbWVudChpY29uUHJvcCkpIHtcbiAgICBpY29uID0gLyojX19QVVJFX18qL1JlYWN0LmNsb25lRWxlbWVudChpY29uUHJvcCwge1xuICAgICAgY2xhc3NOYW1lOiBjbHN4KGNsYXNzZXMuaWNvbiwgaWNvblByb3AucHJvcHMuY2xhc3NOYW1lKVxuICAgIH0pO1xuICB9XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKGF2YXRhciAmJiBpY29uKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdNVUk6IFRoZSBDaGlwIGNvbXBvbmVudCBjYW4gbm90IGhhbmRsZSB0aGUgYXZhdGFyICcgKyAnYW5kIHRoZSBpY29uIHByb3AgYXQgdGhlIHNhbWUgdGltZS4gUGljayBvbmUuJyk7XG4gICAgfVxuICB9XG4gIGNvbnN0IGV4dGVybmFsRm9yd2FyZGVkUHJvcHMgPSB7XG4gICAgc2xvdHMsXG4gICAgc2xvdFByb3BzXG4gIH07XG4gIGNvbnN0IFtSb290U2xvdCwgcm9vdFByb3BzXSA9IHVzZVNsb3QoJ3Jvb3QnLCB7XG4gICAgZWxlbWVudFR5cGU6IENoaXBSb290LFxuICAgIGV4dGVybmFsRm9yd2FyZGVkUHJvcHM6IHtcbiAgICAgIC4uLmV4dGVybmFsRm9yd2FyZGVkUHJvcHMsXG4gICAgICAuLi5vdGhlclxuICAgIH0sXG4gICAgb3duZXJTdGF0ZSxcbiAgICAvLyBUaGUgYGNvbXBvbmVudGAgcHJvcCBpcyBwcmVzZXJ2ZWQgYmVjYXVzZSBgQ2hpcGAgcmVsaWVzIG9uIGl0IGZvciBpbnRlcm5hbCBsb2dpYy4gSWYgYHNob3VsZEZvcndhcmRDb21wb25lbnRQcm9wYCB3ZXJlIGBmYWxzZWAsIGB1c2VTbG90YCB3b3VsZCByZW1vdmUgdGhlIGBjb21wb25lbnRgIHByb3AsIHBvdGVudGlhbGx5IGJyZWFraW5nIHRoZSBjb21wb25lbnQncyBiZWhhdmlvci5cbiAgICBzaG91bGRGb3J3YXJkQ29tcG9uZW50UHJvcDogdHJ1ZSxcbiAgICByZWY6IGhhbmRsZVJlZixcbiAgICBjbGFzc05hbWU6IGNsc3goY2xhc3Nlcy5yb290LCBjbGFzc05hbWUpLFxuICAgIGFkZGl0aW9uYWxQcm9wczoge1xuICAgICAgZGlzYWJsZWQ6IGNsaWNrYWJsZSAmJiBkaXNhYmxlZCA/IHRydWUgOiB1bmRlZmluZWQsXG4gICAgICB0YWJJbmRleDogc2tpcEZvY3VzV2hlbkRpc2FibGVkICYmIGRpc2FibGVkID8gLTEgOiB0YWJJbmRleCxcbiAgICAgIC4uLm1vcmVQcm9wc1xuICAgIH0sXG4gICAgZ2V0U2xvdFByb3BzOiBoYW5kbGVycyA9PiAoe1xuICAgICAgLi4uaGFuZGxlcnMsXG4gICAgICBvbkNsaWNrOiBldmVudCA9PiB7XG4gICAgICAgIGhhbmRsZXJzLm9uQ2xpY2s/LihldmVudCk7XG4gICAgICAgIG9uQ2xpY2s/LihldmVudCk7XG4gICAgICB9LFxuICAgICAgb25LZXlEb3duOiBldmVudCA9PiB7XG4gICAgICAgIGhhbmRsZXJzLm9uS2V5RG93bj8uKGV2ZW50KTtcbiAgICAgICAgaGFuZGxlS2V5RG93bihldmVudCk7XG4gICAgICB9LFxuICAgICAgb25LZXlVcDogZXZlbnQgPT4ge1xuICAgICAgICBoYW5kbGVycy5vbktleVVwPy4oZXZlbnQpO1xuICAgICAgICBoYW5kbGVLZXlVcChldmVudCk7XG4gICAgICB9XG4gICAgfSlcbiAgfSk7XG4gIGNvbnN0IFtMYWJlbFNsb3QsIGxhYmVsUHJvcHNdID0gdXNlU2xvdCgnbGFiZWwnLCB7XG4gICAgZWxlbWVudFR5cGU6IENoaXBMYWJlbCxcbiAgICBleHRlcm5hbEZvcndhcmRlZFByb3BzLFxuICAgIG93bmVyU3RhdGUsXG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmxhYmVsXG4gIH0pO1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3hzKFJvb3RTbG90LCB7XG4gICAgYXM6IGNvbXBvbmVudCxcbiAgICAuLi5yb290UHJvcHMsXG4gICAgY2hpbGRyZW46IFthdmF0YXIgfHwgaWNvbiwgLyojX19QVVJFX18qL19qc3goTGFiZWxTbG90LCB7XG4gICAgICAuLi5sYWJlbFByb3BzLFxuICAgICAgY2hpbGRyZW46IGxhYmVsXG4gICAgfSksIGRlbGV0ZUljb25dXG4gIH0pO1xufSk7XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBDaGlwLnByb3BUeXBlcyAvKiByZW1vdmUtcHJvcHR5cGVzICovID0ge1xuICAvLyDilIzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgV2FybmluZyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJBcbiAgLy8g4pSCIFRoZXNlIFByb3BUeXBlcyBhcmUgZ2VuZXJhdGVkIGZyb20gdGhlIFR5cGVTY3JpcHQgdHlwZSBkZWZpbml0aW9ucy4g4pSCXG4gIC8vIOKUgiAgICBUbyB1cGRhdGUgdGhlbSwgZWRpdCB0aGUgZC50cyBmaWxlIGFuZCBydW4gYHBucG0gcHJvcHR5cGVzYC4gICAgIOKUglxuICAvLyDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJhcbiAgLyoqXG4gICAqIFRoZSBBdmF0YXIgZWxlbWVudCB0byBkaXNwbGF5LlxuICAgKi9cbiAgYXZhdGFyOiBQcm9wVHlwZXMuZWxlbWVudCxcbiAgLyoqXG4gICAqIFRoaXMgcHJvcCBpc24ndCBzdXBwb3J0ZWQuXG4gICAqIFVzZSB0aGUgYGNvbXBvbmVudGAgcHJvcCBpZiB5b3UgbmVlZCB0byBjaGFuZ2UgdGhlIGNoaWxkcmVuIHN0cnVjdHVyZS5cbiAgICovXG4gIGNoaWxkcmVuOiB1bnN1cHBvcnRlZFByb3AsXG4gIC8qKlxuICAgKiBPdmVycmlkZSBvciBleHRlbmQgdGhlIHN0eWxlcyBhcHBsaWVkIHRvIHRoZSBjb21wb25lbnQuXG4gICAqL1xuICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAvKipcbiAgICogSWYgYHRydWVgLCB0aGUgY2hpcCB3aWxsIGFwcGVhciBjbGlja2FibGUsIGFuZCB3aWxsIHJhaXNlIHdoZW4gcHJlc3NlZCxcbiAgICogZXZlbiBpZiB0aGUgb25DbGljayBwcm9wIGlzIG5vdCBkZWZpbmVkLlxuICAgKiBJZiBgZmFsc2VgLCB0aGUgY2hpcCB3aWxsIG5vdCBhcHBlYXIgY2xpY2thYmxlLCBldmVuIGlmIG9uQ2xpY2sgcHJvcCBpcyBkZWZpbmVkLlxuICAgKiBUaGlzIGNhbiBiZSB1c2VkLCBmb3IgZXhhbXBsZSxcbiAgICogYWxvbmcgd2l0aCB0aGUgY29tcG9uZW50IHByb3AgdG8gaW5kaWNhdGUgYW4gYW5jaG9yIENoaXAgaXMgY2xpY2thYmxlLlxuICAgKiBOb3RlOiB0aGlzIGNvbnRyb2xzIHRoZSBVSSBhbmQgZG9lcyBub3QgYWZmZWN0IHRoZSBvbkNsaWNrIGV2ZW50LlxuICAgKi9cbiAgY2xpY2thYmxlOiBQcm9wVHlwZXMuYm9vbCxcbiAgLyoqXG4gICAqIFRoZSBjb2xvciBvZiB0aGUgY29tcG9uZW50LlxuICAgKiBJdCBzdXBwb3J0cyBib3RoIGRlZmF1bHQgYW5kIGN1c3RvbSB0aGVtZSBjb2xvcnMsIHdoaWNoIGNhbiBiZSBhZGRlZCBhcyBzaG93biBpbiB0aGVcbiAgICogW3BhbGV0dGUgY3VzdG9taXphdGlvbiBndWlkZV0oaHR0cHM6Ly9tdWkuY29tL21hdGVyaWFsLXVpL2N1c3RvbWl6YXRpb24vcGFsZXR0ZS8jY3VzdG9tLWNvbG9ycykuXG4gICAqIEBkZWZhdWx0ICdkZWZhdWx0J1xuICAgKi9cbiAgY29sb3I6IFByb3BUeXBlcyAvKiBAdHlwZXNjcmlwdC10by1wcm9wdHlwZXMtaWdub3JlICovLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnZGVmYXVsdCcsICdwcmltYXJ5JywgJ3NlY29uZGFyeScsICdlcnJvcicsICdpbmZvJywgJ3N1Y2Nlc3MnLCAnd2FybmluZyddKSwgUHJvcFR5cGVzLnN0cmluZ10pLFxuICAvKipcbiAgICogVGhlIGNvbXBvbmVudCB1c2VkIGZvciB0aGUgcm9vdCBub2RlLlxuICAgKiBFaXRoZXIgYSBzdHJpbmcgdG8gdXNlIGEgSFRNTCBlbGVtZW50IG9yIGEgY29tcG9uZW50LlxuICAgKi9cbiAgY29tcG9uZW50OiBQcm9wVHlwZXMuZWxlbWVudFR5cGUsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgZGVmYXVsdCBkZWxldGUgaWNvbiBlbGVtZW50LiBTaG93biBvbmx5IGlmIGBvbkRlbGV0ZWAgaXMgc2V0LlxuICAgKi9cbiAgZGVsZXRlSWNvbjogUHJvcFR5cGVzLmVsZW1lbnQsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBjb21wb25lbnQgaXMgZGlzYWJsZWQuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBkaXNhYmxlZDogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBJY29uIGVsZW1lbnQuXG4gICAqL1xuICBpY29uOiBQcm9wVHlwZXMuZWxlbWVudCxcbiAgLyoqXG4gICAqIFRoZSBjb250ZW50IG9mIHRoZSBjb21wb25lbnQuXG4gICAqL1xuICBsYWJlbDogUHJvcFR5cGVzLm5vZGUsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBvbkNsaWNrOiBQcm9wVHlwZXMuZnVuYyxcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZpcmVkIHdoZW4gdGhlIGRlbGV0ZSBpY29uIGlzIGNsaWNrZWQuXG4gICAqIElmIHNldCwgdGhlIGRlbGV0ZSBpY29uIHdpbGwgYmUgc2hvd24uXG4gICAqL1xuICBvbkRlbGV0ZTogUHJvcFR5cGVzLmZ1bmMsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBvbktleURvd246IFByb3BUeXBlcy5mdW5jLFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgb25LZXlVcDogUHJvcFR5cGVzLmZ1bmMsXG4gIC8qKlxuICAgKiBUaGUgc2l6ZSBvZiB0aGUgY29tcG9uZW50LlxuICAgKiBAZGVmYXVsdCAnbWVkaXVtJ1xuICAgKi9cbiAgc2l6ZTogUHJvcFR5cGVzIC8qIEB0eXBlc2NyaXB0LXRvLXByb3B0eXBlcy1pZ25vcmUgKi8ub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWydtZWRpdW0nLCAnc21hbGwnXSksIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgYWxsb3dzIHRoZSBkaXNhYmxlZCBjaGlwIHRvIGVzY2FwZSBmb2N1cy5cbiAgICogSWYgYGZhbHNlYCwgYWxsb3dzIHRoZSBkaXNhYmxlZCBjaGlwIHRvIHJlY2VpdmUgZm9jdXMuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBza2lwRm9jdXNXaGVuRGlzYWJsZWQ6IFByb3BUeXBlcy5ib29sLFxuICAvKipcbiAgICogVGhlIHByb3BzIHVzZWQgZm9yIGVhY2ggc2xvdCBpbnNpZGUuXG4gICAqIEBkZWZhdWx0IHt9XG4gICAqL1xuICBzbG90UHJvcHM6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgbGFiZWw6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0XSksXG4gICAgcm9vdDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3RdKVxuICB9KSxcbiAgLyoqXG4gICAqIFRoZSBjb21wb25lbnRzIHVzZWQgZm9yIGVhY2ggc2xvdCBpbnNpZGUuXG4gICAqIEBkZWZhdWx0IHt9XG4gICAqL1xuICBzbG90czogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBsYWJlbDogUHJvcFR5cGVzLmVsZW1lbnRUeXBlLFxuICAgIHJvb3Q6IFByb3BUeXBlcy5lbGVtZW50VHlwZVxuICB9KSxcbiAgLyoqXG4gICAqIFRoZSBzeXN0ZW0gcHJvcCB0aGF0IGFsbG93cyBkZWZpbmluZyBzeXN0ZW0gb3ZlcnJpZGVzIGFzIHdlbGwgYXMgYWRkaXRpb25hbCBDU1Mgc3R5bGVzLlxuICAgKi9cbiAgc3g6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0LCBQcm9wVHlwZXMuYm9vbF0pKSwgUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3RdKSxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIHRhYkluZGV4OiBQcm9wVHlwZXMubnVtYmVyLFxuICAvKipcbiAgICogVGhlIHZhcmlhbnQgdG8gdXNlLlxuICAgKiBAZGVmYXVsdCAnZmlsbGVkJ1xuICAgKi9cbiAgdmFyaWFudDogUHJvcFR5cGVzIC8qIEB0eXBlc2NyaXB0LXRvLXByb3B0eXBlcy1pZ25vcmUgKi8ub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWydmaWxsZWQnLCAnb3V0bGluZWQnXSksIFByb3BUeXBlcy5zdHJpbmddKVxufSA6IHZvaWQgMDtcbmV4cG9ydCBkZWZhdWx0IENoaXA7IiwKICAgICIndXNlIGNsaWVudCc7XG5cbmltcG9ydCBjcmVhdGVTdmdJY29uIGZyb20gXCIuLi8uLi91dGlscy9jcmVhdGVTdmdJY29uLmpzXCI7XG5cbi8qKlxuICogQGlnbm9yZSAtIGludGVybmFsIGNvbXBvbmVudC5cbiAqL1xuaW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVN2Z0ljb24oLyojX19QVVJFX18qL19qc3goXCJwYXRoXCIsIHtcbiAgZDogXCJNMTIgMkM2LjQ3IDIgMiA2LjQ3IDIgMTJzNC40NyAxMCAxMCAxMCAxMC00LjQ3IDEwLTEwUzE3LjUzIDIgMTIgMnptNSAxMy41OUwxNS41OSAxNyAxMiAxMy40MSA4LjQxIDE3IDcgMTUuNTkgMTAuNTkgMTIgNyA4LjQxIDguNDEgNyAxMiAxMC41OSAxNS41OSA3IDE3IDguNDEgMTMuNDEgMTIgMTcgMTUuNTl6XCJcbn0pLCAnQ2FuY2VsJyk7IiwKICAgICJpbXBvcnQgZ2VuZXJhdGVVdGlsaXR5Q2xhc3NlcyBmcm9tICdAbXVpL3V0aWxzL2dlbmVyYXRlVXRpbGl0eUNsYXNzZXMnO1xuaW1wb3J0IGdlbmVyYXRlVXRpbGl0eUNsYXNzIGZyb20gJ0BtdWkvdXRpbHMvZ2VuZXJhdGVVdGlsaXR5Q2xhc3MnO1xuZXhwb3J0IGZ1bmN0aW9uIGdldENoaXBVdGlsaXR5Q2xhc3Moc2xvdCkge1xuICByZXR1cm4gZ2VuZXJhdGVVdGlsaXR5Q2xhc3MoJ011aUNoaXAnLCBzbG90KTtcbn1cbmNvbnN0IGNoaXBDbGFzc2VzID0gZ2VuZXJhdGVVdGlsaXR5Q2xhc3NlcygnTXVpQ2hpcCcsIFsncm9vdCcsICdzaXplU21hbGwnLCAnc2l6ZU1lZGl1bScsICdjb2xvckRlZmF1bHQnLCAnY29sb3JFcnJvcicsICdjb2xvckluZm8nLCAnY29sb3JQcmltYXJ5JywgJ2NvbG9yU2Vjb25kYXJ5JywgJ2NvbG9yU3VjY2VzcycsICdjb2xvcldhcm5pbmcnLCAnZGlzYWJsZWQnLCAnY2xpY2thYmxlJywgJ2NsaWNrYWJsZUNvbG9yUHJpbWFyeScsICdjbGlja2FibGVDb2xvclNlY29uZGFyeScsICdkZWxldGFibGUnLCAnZGVsZXRhYmxlQ29sb3JQcmltYXJ5JywgJ2RlbGV0YWJsZUNvbG9yU2Vjb25kYXJ5JywgJ291dGxpbmVkJywgJ2ZpbGxlZCcsICdvdXRsaW5lZFByaW1hcnknLCAnb3V0bGluZWRTZWNvbmRhcnknLCAnZmlsbGVkUHJpbWFyeScsICdmaWxsZWRTZWNvbmRhcnknLCAnYXZhdGFyJywgJ2F2YXRhclNtYWxsJywgJ2F2YXRhck1lZGl1bScsICdhdmF0YXJDb2xvclByaW1hcnknLCAnYXZhdGFyQ29sb3JTZWNvbmRhcnknLCAnaWNvbicsICdpY29uU21hbGwnLCAnaWNvbk1lZGl1bScsICdpY29uQ29sb3JQcmltYXJ5JywgJ2ljb25Db2xvclNlY29uZGFyeScsICdsYWJlbCcsICdsYWJlbFNtYWxsJywgJ2xhYmVsTWVkaXVtJywgJ2RlbGV0ZUljb24nLCAnZGVsZXRlSWNvblNtYWxsJywgJ2RlbGV0ZUljb25NZWRpdW0nLCAnZGVsZXRlSWNvbkNvbG9yUHJpbWFyeScsICdkZWxldGVJY29uQ29sb3JTZWNvbmRhcnknLCAnZGVsZXRlSWNvbk91dGxpbmVkQ29sb3JQcmltYXJ5JywgJ2RlbGV0ZUljb25PdXRsaW5lZENvbG9yU2Vjb25kYXJ5JywgJ2RlbGV0ZUljb25GaWxsZWRDb2xvclByaW1hcnknLCAnZGVsZXRlSWNvbkZpbGxlZENvbG9yU2Vjb25kYXJ5JywgJ2ZvY3VzVmlzaWJsZSddKTtcbmV4cG9ydCBkZWZhdWx0IGNoaXBDbGFzc2VzOyIsCiAgICAiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG4vKipcbiAqIEBpZ25vcmUgLSBpbnRlcm5hbCBjb21wb25lbnQuXG4gKi9cbmNvbnN0IEZvcm1Db250cm9sQ29udGV4dCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVDb250ZXh0KHVuZGVmaW5lZCk7XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBGb3JtQ29udHJvbENvbnRleHQuZGlzcGxheU5hbWUgPSAnRm9ybUNvbnRyb2xDb250ZXh0Jztcbn1cbmV4cG9ydCBkZWZhdWx0IEZvcm1Db250cm9sQ29udGV4dDsiLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEZvcm1Db250cm9sQ29udGV4dCBmcm9tIFwiLi9Gb3JtQ29udHJvbENvbnRleHQuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZUZvcm1Db250cm9sKCkge1xuICByZXR1cm4gUmVhY3QudXNlQ29udGV4dChGb3JtQ29udHJvbENvbnRleHQpO1xufSIsCiAgICAiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgY29tcG9zZUNsYXNzZXMgZnJvbSAnQG11aS91dGlscy9jb21wb3NlQ2xhc3Nlcyc7XG5pbXBvcnQgeyBzdHlsZWQgfSBmcm9tIFwiLi4vemVyby1zdHlsZWQvaW5kZXguanNcIjtcbmltcG9ydCBtZW1vVGhlbWUgZnJvbSBcIi4uL3V0aWxzL21lbW9UaGVtZS5qc1wiO1xuaW1wb3J0IHsgdXNlRGVmYXVsdFByb3BzIH0gZnJvbSBcIi4uL0RlZmF1bHRQcm9wc1Byb3ZpZGVyL2luZGV4LmpzXCI7XG5pbXBvcnQgUGVyc29uIGZyb20gXCIuLi9pbnRlcm5hbC9zdmctaWNvbnMvUGVyc29uLmpzXCI7XG5pbXBvcnQgeyBnZXRBdmF0YXJVdGlsaXR5Q2xhc3MgfSBmcm9tIFwiLi9hdmF0YXJDbGFzc2VzLmpzXCI7XG5pbXBvcnQgdXNlU2xvdCBmcm9tIFwiLi4vdXRpbHMvdXNlU2xvdC5qc1wiO1xuaW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmNvbnN0IHVzZVV0aWxpdHlDbGFzc2VzID0gb3duZXJTdGF0ZSA9PiB7XG4gIGNvbnN0IHtcbiAgICBjbGFzc2VzLFxuICAgIHZhcmlhbnQsXG4gICAgY29sb3JEZWZhdWx0XG4gIH0gPSBvd25lclN0YXRlO1xuICBjb25zdCBzbG90cyA9IHtcbiAgICByb290OiBbJ3Jvb3QnLCB2YXJpYW50LCBjb2xvckRlZmF1bHQgJiYgJ2NvbG9yRGVmYXVsdCddLFxuICAgIGltZzogWydpbWcnXSxcbiAgICBmYWxsYmFjazogWydmYWxsYmFjayddXG4gIH07XG4gIHJldHVybiBjb21wb3NlQ2xhc3NlcyhzbG90cywgZ2V0QXZhdGFyVXRpbGl0eUNsYXNzLCBjbGFzc2VzKTtcbn07XG5jb25zdCBBdmF0YXJSb290ID0gc3R5bGVkKCdkaXYnLCB7XG4gIG5hbWU6ICdNdWlBdmF0YXInLFxuICBzbG90OiAnUm9vdCcsXG4gIG92ZXJyaWRlc1Jlc29sdmVyOiAocHJvcHMsIHN0eWxlcykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIG93bmVyU3RhdGVcbiAgICB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIFtzdHlsZXMucm9vdCwgc3R5bGVzW293bmVyU3RhdGUudmFyaWFudF0sIG93bmVyU3RhdGUuY29sb3JEZWZhdWx0ICYmIHN0eWxlcy5jb2xvckRlZmF1bHRdO1xuICB9XG59KShtZW1vVGhlbWUoKHtcbiAgdGhlbWVcbn0pID0+ICh7XG4gIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICBkaXNwbGF5OiAnZmxleCcsXG4gIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gIGZsZXhTaHJpbms6IDAsXG4gIHdpZHRoOiA0MCxcbiAgaGVpZ2h0OiA0MCxcbiAgZm9udEZhbWlseTogdGhlbWUudHlwb2dyYXBoeS5mb250RmFtaWx5LFxuICBmb250U2l6ZTogdGhlbWUudHlwb2dyYXBoeS5weFRvUmVtKDIwKSxcbiAgbGluZUhlaWdodDogMSxcbiAgYm9yZGVyUmFkaXVzOiAnNTAlJyxcbiAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICB1c2VyU2VsZWN0OiAnbm9uZScsXG4gIHZhcmlhbnRzOiBbe1xuICAgIHByb3BzOiB7XG4gICAgICB2YXJpYW50OiAncm91bmRlZCdcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICBib3JkZXJSYWRpdXM6ICh0aGVtZS52YXJzIHx8IHRoZW1lKS5zaGFwZS5ib3JkZXJSYWRpdXNcbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczoge1xuICAgICAgdmFyaWFudDogJ3NxdWFyZSdcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICBib3JkZXJSYWRpdXM6IDBcbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczoge1xuICAgICAgY29sb3JEZWZhdWx0OiB0cnVlXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgY29sb3I6ICh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlLmJhY2tncm91bmQuZGVmYXVsdCxcbiAgICAgIC4uLih0aGVtZS52YXJzID8ge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnZhcnMucGFsZXR0ZS5BdmF0YXIuZGVmYXVsdEJnXG4gICAgICB9IDoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuZ3JleVs0MDBdLFxuICAgICAgICAuLi50aGVtZS5hcHBseVN0eWxlcygnZGFyaycsIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuZ3JleVs2MDBdXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH1cbiAgfV1cbn0pKSk7XG5jb25zdCBBdmF0YXJJbWcgPSBzdHlsZWQoJ2ltZycsIHtcbiAgbmFtZTogJ011aUF2YXRhcicsXG4gIHNsb3Q6ICdJbWcnXG59KSh7XG4gIHdpZHRoOiAnMTAwJScsXG4gIGhlaWdodDogJzEwMCUnLFxuICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAvLyBIYW5kbGUgbm9uLXNxdWFyZSBpbWFnZS5cbiAgb2JqZWN0Rml0OiAnY292ZXInLFxuICAvLyBIaWRlIGFsdCB0ZXh0LlxuICBjb2xvcjogJ3RyYW5zcGFyZW50JyxcbiAgLy8gSGlkZSB0aGUgaW1hZ2UgYnJva2VuIGljb24sIG9ubHkgd29ya3Mgb24gQ2hyb21lLlxuICB0ZXh0SW5kZW50OiAxMDAwMFxufSk7XG5jb25zdCBBdmF0YXJGYWxsYmFjayA9IHN0eWxlZChQZXJzb24sIHtcbiAgbmFtZTogJ011aUF2YXRhcicsXG4gIHNsb3Q6ICdGYWxsYmFjaydcbn0pKHtcbiAgd2lkdGg6ICc3NSUnLFxuICBoZWlnaHQ6ICc3NSUnXG59KTtcbmZ1bmN0aW9uIHVzZUxvYWRlZCh7XG4gIGNyb3NzT3JpZ2luLFxuICByZWZlcnJlclBvbGljeSxcbiAgc3JjLFxuICBzcmNTZXRcbn0pIHtcbiAgY29uc3QgW2xvYWRlZCwgc2V0TG9hZGVkXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXNyYyAmJiAhc3JjU2V0KSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBzZXRMb2FkZWQoZmFsc2UpO1xuICAgIGxldCBhY3RpdmUgPSB0cnVlO1xuICAgIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgaW1hZ2Uub25sb2FkID0gKCkgPT4ge1xuICAgICAgaWYgKCFhY3RpdmUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0TG9hZGVkKCdsb2FkZWQnKTtcbiAgICB9O1xuICAgIGltYWdlLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICBpZiAoIWFjdGl2ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRMb2FkZWQoJ2Vycm9yJyk7XG4gICAgfTtcbiAgICBpbWFnZS5jcm9zc09yaWdpbiA9IGNyb3NzT3JpZ2luO1xuICAgIGltYWdlLnJlZmVycmVyUG9saWN5ID0gcmVmZXJyZXJQb2xpY3k7XG4gICAgaW1hZ2Uuc3JjID0gc3JjO1xuICAgIGlmIChzcmNTZXQpIHtcbiAgICAgIGltYWdlLnNyY3NldCA9IHNyY1NldDtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGFjdGl2ZSA9IGZhbHNlO1xuICAgIH07XG4gIH0sIFtjcm9zc09yaWdpbiwgcmVmZXJyZXJQb2xpY3ksIHNyYywgc3JjU2V0XSk7XG4gIHJldHVybiBsb2FkZWQ7XG59XG5jb25zdCBBdmF0YXIgPSAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiBBdmF0YXIoaW5Qcm9wcywgcmVmKSB7XG4gIGNvbnN0IHByb3BzID0gdXNlRGVmYXVsdFByb3BzKHtcbiAgICBwcm9wczogaW5Qcm9wcyxcbiAgICBuYW1lOiAnTXVpQXZhdGFyJ1xuICB9KTtcbiAgY29uc3Qge1xuICAgIGFsdCxcbiAgICBjaGlsZHJlbjogY2hpbGRyZW5Qcm9wLFxuICAgIGNsYXNzTmFtZSxcbiAgICBjb21wb25lbnQgPSAnZGl2JyxcbiAgICBzbG90cyA9IHt9LFxuICAgIHNsb3RQcm9wcyA9IHt9LFxuICAgIGltZ1Byb3BzLFxuICAgIHNpemVzLFxuICAgIHNyYyxcbiAgICBzcmNTZXQsXG4gICAgdmFyaWFudCA9ICdjaXJjdWxhcicsXG4gICAgLi4ub3RoZXJcbiAgfSA9IHByb3BzO1xuICBsZXQgY2hpbGRyZW4gPSBudWxsO1xuICBjb25zdCBvd25lclN0YXRlID0ge1xuICAgIC4uLnByb3BzLFxuICAgIGNvbXBvbmVudCxcbiAgICB2YXJpYW50XG4gIH07XG5cbiAgLy8gVXNlIGEgaG9vayBpbnN0ZWFkIG9mIG9uRXJyb3Igb24gdGhlIGltZyBlbGVtZW50IHRvIHN1cHBvcnQgc2VydmVyLXNpZGUgcmVuZGVyaW5nLlxuICBjb25zdCBsb2FkZWQgPSB1c2VMb2FkZWQoe1xuICAgIC4uLmltZ1Byb3BzLFxuICAgIC4uLih0eXBlb2Ygc2xvdFByb3BzLmltZyA9PT0gJ2Z1bmN0aW9uJyA/IHNsb3RQcm9wcy5pbWcob3duZXJTdGF0ZSkgOiBzbG90UHJvcHMuaW1nKSxcbiAgICBzcmMsXG4gICAgc3JjU2V0XG4gIH0pO1xuICBjb25zdCBoYXNJbWcgPSBzcmMgfHwgc3JjU2V0O1xuICBjb25zdCBoYXNJbWdOb3RGYWlsaW5nID0gaGFzSW1nICYmIGxvYWRlZCAhPT0gJ2Vycm9yJztcbiAgb3duZXJTdGF0ZS5jb2xvckRlZmF1bHQgPSAhaGFzSW1nTm90RmFpbGluZztcbiAgLy8gVGhpcyBpc3N1ZSBleHBsYWlucyB3aHkgdGhpcyBpcyByZXF1aXJlZDogaHR0cHM6Ly9naXRodWIuY29tL211aS9tYXRlcmlhbC11aS9pc3N1ZXMvNDIxODRcbiAgZGVsZXRlIG93bmVyU3RhdGUub3duZXJTdGF0ZTtcbiAgY29uc3QgY2xhc3NlcyA9IHVzZVV0aWxpdHlDbGFzc2VzKG93bmVyU3RhdGUpO1xuICBjb25zdCBbUm9vdFNsb3QsIHJvb3RTbG90UHJvcHNdID0gdXNlU2xvdCgncm9vdCcsIHtcbiAgICByZWYsXG4gICAgY2xhc3NOYW1lOiBjbHN4KGNsYXNzZXMucm9vdCwgY2xhc3NOYW1lKSxcbiAgICBlbGVtZW50VHlwZTogQXZhdGFyUm9vdCxcbiAgICBleHRlcm5hbEZvcndhcmRlZFByb3BzOiB7XG4gICAgICBzbG90cyxcbiAgICAgIHNsb3RQcm9wcyxcbiAgICAgIGNvbXBvbmVudCxcbiAgICAgIC4uLm90aGVyXG4gICAgfSxcbiAgICBvd25lclN0YXRlXG4gIH0pO1xuICBjb25zdCBbSW1nU2xvdCwgaW1nU2xvdFByb3BzXSA9IHVzZVNsb3QoJ2ltZycsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuaW1nLFxuICAgIGVsZW1lbnRUeXBlOiBBdmF0YXJJbWcsXG4gICAgZXh0ZXJuYWxGb3J3YXJkZWRQcm9wczoge1xuICAgICAgc2xvdHMsXG4gICAgICBzbG90UHJvcHM6IHtcbiAgICAgICAgaW1nOiB7XG4gICAgICAgICAgLi4uaW1nUHJvcHMsXG4gICAgICAgICAgLi4uc2xvdFByb3BzLmltZ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBhZGRpdGlvbmFsUHJvcHM6IHtcbiAgICAgIGFsdCxcbiAgICAgIHNyYyxcbiAgICAgIHNyY1NldCxcbiAgICAgIHNpemVzXG4gICAgfSxcbiAgICBvd25lclN0YXRlXG4gIH0pO1xuICBjb25zdCBbRmFsbGJhY2tTbG90LCBmYWxsYmFja1Nsb3RQcm9wc10gPSB1c2VTbG90KCdmYWxsYmFjaycsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuZmFsbGJhY2ssXG4gICAgZWxlbWVudFR5cGU6IEF2YXRhckZhbGxiYWNrLFxuICAgIGV4dGVybmFsRm9yd2FyZGVkUHJvcHM6IHtcbiAgICAgIHNsb3RzLFxuICAgICAgc2xvdFByb3BzXG4gICAgfSxcbiAgICBzaG91bGRGb3J3YXJkQ29tcG9uZW50UHJvcDogdHJ1ZSxcbiAgICBvd25lclN0YXRlXG4gIH0pO1xuICBpZiAoaGFzSW1nTm90RmFpbGluZykge1xuICAgIGNoaWxkcmVuID0gLyojX19QVVJFX18qL19qc3goSW1nU2xvdCwge1xuICAgICAgLi4uaW1nU2xvdFByb3BzXG4gICAgfSk7XG4gICAgLy8gV2Ugb25seSByZW5kZXIgdmFsaWQgY2hpbGRyZW4sIG5vbiB2YWxpZCBjaGlsZHJlbiBhcmUgcmVuZGVyZWQgd2l0aCBhIGZhbGxiYWNrXG4gICAgLy8gV2UgY29uc2lkZXIgdGhhdCBpbnZhbGlkIGNoaWxkcmVuIGFyZSBhbGwgZmFsc3kgdmFsdWVzLCBleGNlcHQgMCwgd2hpY2ggaXMgdmFsaWQuXG4gIH0gZWxzZSBpZiAoISFjaGlsZHJlblByb3AgfHwgY2hpbGRyZW5Qcm9wID09PSAwKSB7XG4gICAgY2hpbGRyZW4gPSBjaGlsZHJlblByb3A7XG4gIH0gZWxzZSBpZiAoaGFzSW1nICYmIGFsdCkge1xuICAgIGNoaWxkcmVuID0gYWx0WzBdO1xuICB9IGVsc2Uge1xuICAgIGNoaWxkcmVuID0gLyojX19QVVJFX18qL19qc3goRmFsbGJhY2tTbG90LCB7XG4gICAgICAuLi5mYWxsYmFja1Nsb3RQcm9wc1xuICAgIH0pO1xuICB9XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeChSb290U2xvdCwge1xuICAgIC4uLnJvb3RTbG90UHJvcHMsXG4gICAgY2hpbGRyZW46IGNoaWxkcmVuXG4gIH0pO1xufSk7XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBBdmF0YXIucHJvcFR5cGVzIC8qIHJlbW92ZS1wcm9wdHlwZXMgKi8gPSB7XG4gIC8vIOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBXYXJuaW5nIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuICAvLyDilIIgVGhlc2UgUHJvcFR5cGVzIGFyZSBnZW5lcmF0ZWQgZnJvbSB0aGUgVHlwZVNjcmlwdCB0eXBlIGRlZmluaXRpb25zLiDilIJcbiAgLy8g4pSCICAgIFRvIHVwZGF0ZSB0aGVtLCBlZGl0IHRoZSBkLnRzIGZpbGUgYW5kIHJ1biBgcG5wbSBwcm9wdHlwZXNgLiAgICAg4pSCXG4gIC8vIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmFxuICAvKipcbiAgICogVXNlZCBpbiBjb21iaW5hdGlvbiB3aXRoIGBzcmNgIG9yIGBzcmNTZXRgIHRvXG4gICAqIHByb3ZpZGUgYW4gYWx0IGF0dHJpYnV0ZSBmb3IgdGhlIHJlbmRlcmVkIGBpbWdgIGVsZW1lbnQuXG4gICAqL1xuICBhbHQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gIC8qKlxuICAgKiBVc2VkIHRvIHJlbmRlciBpY29uIG9yIHRleHQgZWxlbWVudHMgaW5zaWRlIHRoZSBBdmF0YXIgaWYgYHNyY2AgaXMgbm90IHNldC5cbiAgICogVGhpcyBjYW4gYmUgYW4gZWxlbWVudCwgb3IganVzdCBhIHN0cmluZy5cbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIG9yIGV4dGVuZCB0aGUgc3R5bGVzIGFwcGxpZWQgdG8gdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIC8qKlxuICAgKiBUaGUgY29tcG9uZW50IHVzZWQgZm9yIHRoZSByb290IG5vZGUuXG4gICAqIEVpdGhlciBhIHN0cmluZyB0byB1c2UgYSBIVE1MIGVsZW1lbnQgb3IgYSBjb21wb25lbnQuXG4gICAqL1xuICBjb21wb25lbnQ6IFByb3BUeXBlcy5lbGVtZW50VHlwZSxcbiAgLyoqXG4gICAqIFtBdHRyaWJ1dGVzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML1JlZmVyZW5jZS9FbGVtZW50cy9pbWcjYXR0cmlidXRlcykgYXBwbGllZCB0byB0aGUgYGltZ2AgZWxlbWVudCBpZiB0aGUgY29tcG9uZW50IGlzIHVzZWQgdG8gZGlzcGxheSBhbiBpbWFnZS5cbiAgICogSXQgY2FuIGJlIHVzZWQgdG8gbGlzdGVuIGZvciB0aGUgbG9hZGluZyBlcnJvciBldmVudC5cbiAgICogQGRlcHJlY2F0ZWQgVXNlIGBzbG90UHJvcHMuaW1nYCBpbnN0ZWFkLiBUaGlzIHByb3Agd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIG1ham9yIHJlbGVhc2UuIFNlZSBbTWlncmF0aW5nIGZyb20gZGVwcmVjYXRlZCBBUElzXSgvbWF0ZXJpYWwtdWkvbWlncmF0aW9uL21pZ3JhdGluZy1mcm9tLWRlcHJlY2F0ZWQtYXBpcy8pIGZvciBtb3JlIGRldGFpbHMuXG4gICAqL1xuICBpbWdQcm9wczogUHJvcFR5cGVzLm9iamVjdCxcbiAgLyoqXG4gICAqIFRoZSBgc2l6ZXNgIGF0dHJpYnV0ZSBmb3IgdGhlIGBpbWdgIGVsZW1lbnQuXG4gICAqL1xuICBzaXplczogUHJvcFR5cGVzLnN0cmluZyxcbiAgLyoqXG4gICAqIFRoZSBwcm9wcyB1c2VkIGZvciBlYWNoIHNsb3QgaW5zaWRlLlxuICAgKiBAZGVmYXVsdCB7fVxuICAgKi9cbiAgc2xvdFByb3BzOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIGZhbGxiYWNrOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdF0pLFxuICAgIGltZzogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3RdKSxcbiAgICByb290OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdF0pXG4gIH0pLFxuICAvKipcbiAgICogVGhlIGNvbXBvbmVudHMgdXNlZCBmb3IgZWFjaCBzbG90IGluc2lkZS5cbiAgICogQGRlZmF1bHQge31cbiAgICovXG4gIHNsb3RzOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIGZhbGxiYWNrOiBQcm9wVHlwZXMuZWxlbWVudFR5cGUsXG4gICAgaW1nOiBQcm9wVHlwZXMuZWxlbWVudFR5cGUsXG4gICAgcm9vdDogUHJvcFR5cGVzLmVsZW1lbnRUeXBlXG4gIH0pLFxuICAvKipcbiAgICogVGhlIGBzcmNgIGF0dHJpYnV0ZSBmb3IgdGhlIGBpbWdgIGVsZW1lbnQuXG4gICAqL1xuICBzcmM6IFByb3BUeXBlcy5zdHJpbmcsXG4gIC8qKlxuICAgKiBUaGUgYHNyY1NldGAgYXR0cmlidXRlIGZvciB0aGUgYGltZ2AgZWxlbWVudC5cbiAgICogVXNlIHRoaXMgYXR0cmlidXRlIGZvciByZXNwb25zaXZlIGltYWdlIGRpc3BsYXkuXG4gICAqL1xuICBzcmNTZXQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gIC8qKlxuICAgKiBUaGUgc3lzdGVtIHByb3AgdGhhdCBhbGxvd3MgZGVmaW5pbmcgc3lzdGVtIG92ZXJyaWRlcyBhcyB3ZWxsIGFzIGFkZGl0aW9uYWwgQ1NTIHN0eWxlcy5cbiAgICovXG4gIHN4OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdCwgUHJvcFR5cGVzLmJvb2xdKSksIFByb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0XSksXG4gIC8qKlxuICAgKiBUaGUgc2hhcGUgb2YgdGhlIGF2YXRhci5cbiAgICogQGRlZmF1bHQgJ2NpcmN1bGFyJ1xuICAgKi9cbiAgdmFyaWFudDogUHJvcFR5cGVzIC8qIEB0eXBlc2NyaXB0LXRvLXByb3B0eXBlcy1pZ25vcmUgKi8ub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWydjaXJjdWxhcicsICdyb3VuZGVkJywgJ3NxdWFyZSddKSwgUHJvcFR5cGVzLnN0cmluZ10pXG59IDogdm9pZCAwO1xuZXhwb3J0IGRlZmF1bHQgQXZhdGFyOyIsCiAgICAiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgY3JlYXRlU3ZnSWNvbiBmcm9tIFwiLi4vLi4vdXRpbHMvY3JlYXRlU3ZnSWNvbi5qc1wiO1xuXG4vKipcbiAqIEBpZ25vcmUgLSBpbnRlcm5hbCBjb21wb25lbnQuXG4gKi9cbmltcG9ydCB7IGpzeCBhcyBfanN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVTdmdJY29uKC8qI19fUFVSRV9fKi9fanN4KFwicGF0aFwiLCB7XG4gIGQ6IFwiTTEyIDEyYzIuMjEgMCA0LTEuNzkgNC00cy0xLjc5LTQtNC00LTQgMS43OS00IDQgMS43OSA0IDQgNHptMCAyYy0yLjY3IDAtOCAxLjM0LTggNHYyaDE2di0yYzAtMi42Ni01LjMzLTQtOC00elwiXG59KSwgJ1BlcnNvbicpOyIsCiAgICAiaW1wb3J0IGdlbmVyYXRlVXRpbGl0eUNsYXNzZXMgZnJvbSAnQG11aS91dGlscy9nZW5lcmF0ZVV0aWxpdHlDbGFzc2VzJztcbmltcG9ydCBnZW5lcmF0ZVV0aWxpdHlDbGFzcyBmcm9tICdAbXVpL3V0aWxzL2dlbmVyYXRlVXRpbGl0eUNsYXNzJztcbmV4cG9ydCBmdW5jdGlvbiBnZXRBdmF0YXJVdGlsaXR5Q2xhc3Moc2xvdCkge1xuICByZXR1cm4gZ2VuZXJhdGVVdGlsaXR5Q2xhc3MoJ011aUF2YXRhcicsIHNsb3QpO1xufVxuY29uc3QgYXZhdGFyQ2xhc3NlcyA9IGdlbmVyYXRlVXRpbGl0eUNsYXNzZXMoJ011aUF2YXRhcicsIFsncm9vdCcsICdjb2xvckRlZmF1bHQnLCAnY2lyY3VsYXInLCAncm91bmRlZCcsICdzcXVhcmUnLCAnaW1nJywgJ2ZhbGxiYWNrJ10pO1xuZXhwb3J0IGRlZmF1bHQgYXZhdGFyQ2xhc3NlczsiLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnO1xuaW1wb3J0IGNvbXBvc2VDbGFzc2VzIGZyb20gJ0BtdWkvdXRpbHMvY29tcG9zZUNsYXNzZXMnO1xuaW1wb3J0IHsgc3R5bGVkIH0gZnJvbSBcIi4uL3plcm8tc3R5bGVkL2luZGV4LmpzXCI7XG5pbXBvcnQgeyB1c2VEZWZhdWx0UHJvcHMgfSBmcm9tIFwiLi4vRGVmYXVsdFByb3BzUHJvdmlkZXIvaW5kZXguanNcIjtcbmltcG9ydCB1c2VTbG90IGZyb20gXCIuLi91dGlscy91c2VTbG90LmpzXCI7XG5pbXBvcnQgRmFkZSBmcm9tIFwiLi4vRmFkZS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgZ2V0QmFja2Ryb3BVdGlsaXR5Q2xhc3MgfSBmcm9tIFwiLi9iYWNrZHJvcENsYXNzZXMuanNcIjtcbmltcG9ydCB7IGpzeCBhcyBfanN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5jb25zdCB1c2VVdGlsaXR5Q2xhc3NlcyA9IG93bmVyU3RhdGUgPT4ge1xuICBjb25zdCB7XG4gICAgY2xhc3NlcyxcbiAgICBpbnZpc2libGVcbiAgfSA9IG93bmVyU3RhdGU7XG4gIGNvbnN0IHNsb3RzID0ge1xuICAgIHJvb3Q6IFsncm9vdCcsIGludmlzaWJsZSAmJiAnaW52aXNpYmxlJ11cbiAgfTtcbiAgcmV0dXJuIGNvbXBvc2VDbGFzc2VzKHNsb3RzLCBnZXRCYWNrZHJvcFV0aWxpdHlDbGFzcywgY2xhc3Nlcyk7XG59O1xuY29uc3QgQmFja2Ryb3BSb290ID0gc3R5bGVkKCdkaXYnLCB7XG4gIG5hbWU6ICdNdWlCYWNrZHJvcCcsXG4gIHNsb3Q6ICdSb290JyxcbiAgb3ZlcnJpZGVzUmVzb2x2ZXI6IChwcm9wcywgc3R5bGVzKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgb3duZXJTdGF0ZVxuICAgIH0gPSBwcm9wcztcbiAgICByZXR1cm4gW3N0eWxlcy5yb290LCBvd25lclN0YXRlLmludmlzaWJsZSAmJiBzdHlsZXMuaW52aXNpYmxlXTtcbiAgfVxufSkoe1xuICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgZGlzcGxheTogJ2ZsZXgnLFxuICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICByaWdodDogMCxcbiAgYm90dG9tOiAwLFxuICB0b3A6IDAsXG4gIGxlZnQ6IDAsXG4gIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwgMCwgMCwgMC41KScsXG4gIFdlYmtpdFRhcEhpZ2hsaWdodENvbG9yOiAndHJhbnNwYXJlbnQnLFxuICB2YXJpYW50czogW3tcbiAgICBwcm9wczoge1xuICAgICAgaW52aXNpYmxlOiB0cnVlXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnXG4gICAgfVxuICB9XVxufSk7XG5jb25zdCBCYWNrZHJvcCA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIEJhY2tkcm9wKGluUHJvcHMsIHJlZikge1xuICBjb25zdCBwcm9wcyA9IHVzZURlZmF1bHRQcm9wcyh7XG4gICAgcHJvcHM6IGluUHJvcHMsXG4gICAgbmFtZTogJ011aUJhY2tkcm9wJ1xuICB9KTtcbiAgY29uc3Qge1xuICAgIGNoaWxkcmVuLFxuICAgIGNsYXNzTmFtZSxcbiAgICBjb21wb25lbnQgPSAnZGl2JyxcbiAgICBpbnZpc2libGUgPSBmYWxzZSxcbiAgICBvcGVuLFxuICAgIGNvbXBvbmVudHMgPSB7fSxcbiAgICBjb21wb25lbnRzUHJvcHMgPSB7fSxcbiAgICBzbG90UHJvcHMgPSB7fSxcbiAgICBzbG90cyA9IHt9LFxuICAgIFRyYW5zaXRpb25Db21wb25lbnQ6IFRyYW5zaXRpb25Db21wb25lbnRQcm9wLFxuICAgIHRyYW5zaXRpb25EdXJhdGlvbixcbiAgICAuLi5vdGhlclxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IG93bmVyU3RhdGUgPSB7XG4gICAgLi4ucHJvcHMsXG4gICAgY29tcG9uZW50LFxuICAgIGludmlzaWJsZVxuICB9O1xuICBjb25zdCBjbGFzc2VzID0gdXNlVXRpbGl0eUNsYXNzZXMob3duZXJTdGF0ZSk7XG4gIGNvbnN0IGJhY2t3YXJkQ29tcGF0aWJsZVNsb3RzID0ge1xuICAgIHRyYW5zaXRpb246IFRyYW5zaXRpb25Db21wb25lbnRQcm9wLFxuICAgIHJvb3Q6IGNvbXBvbmVudHMuUm9vdCxcbiAgICAuLi5zbG90c1xuICB9O1xuICBjb25zdCBiYWNrd2FyZENvbXBhdGlibGVTbG90UHJvcHMgPSB7XG4gICAgLi4uY29tcG9uZW50c1Byb3BzLFxuICAgIC4uLnNsb3RQcm9wc1xuICB9O1xuICBjb25zdCBleHRlcm5hbEZvcndhcmRlZFByb3BzID0ge1xuICAgIGNvbXBvbmVudCxcbiAgICBzbG90czogYmFja3dhcmRDb21wYXRpYmxlU2xvdHMsXG4gICAgc2xvdFByb3BzOiBiYWNrd2FyZENvbXBhdGlibGVTbG90UHJvcHNcbiAgfTtcbiAgY29uc3QgW1Jvb3RTbG90LCByb290UHJvcHNdID0gdXNlU2xvdCgncm9vdCcsIHtcbiAgICBlbGVtZW50VHlwZTogQmFja2Ryb3BSb290LFxuICAgIGV4dGVybmFsRm9yd2FyZGVkUHJvcHMsXG4gICAgY2xhc3NOYW1lOiBjbHN4KGNsYXNzZXMucm9vdCwgY2xhc3NOYW1lKSxcbiAgICBvd25lclN0YXRlXG4gIH0pO1xuICBjb25zdCBbVHJhbnNpdGlvblNsb3QsIHRyYW5zaXRpb25Qcm9wc10gPSB1c2VTbG90KCd0cmFuc2l0aW9uJywge1xuICAgIGVsZW1lbnRUeXBlOiBGYWRlLFxuICAgIGV4dGVybmFsRm9yd2FyZGVkUHJvcHMsXG4gICAgb3duZXJTdGF0ZVxuICB9KTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KFRyYW5zaXRpb25TbG90LCB7XG4gICAgaW46IG9wZW4sXG4gICAgdGltZW91dDogdHJhbnNpdGlvbkR1cmF0aW9uLFxuICAgIC4uLm90aGVyLFxuICAgIC4uLnRyYW5zaXRpb25Qcm9wcyxcbiAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goUm9vdFNsb3QsIHtcbiAgICAgIFwiYXJpYS1oaWRkZW5cIjogdHJ1ZSxcbiAgICAgIC4uLnJvb3RQcm9wcyxcbiAgICAgIGNsYXNzZXM6IGNsYXNzZXMsXG4gICAgICByZWY6IHJlZixcbiAgICAgIGNoaWxkcmVuOiBjaGlsZHJlblxuICAgIH0pXG4gIH0pO1xufSk7XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBCYWNrZHJvcC5wcm9wVHlwZXMgLyogcmVtb3ZlLXByb3B0eXBlcyAqLyA9IHtcbiAgLy8g4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIFdhcm5pbmcg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQXG4gIC8vIOKUgiBUaGVzZSBQcm9wVHlwZXMgYXJlIGdlbmVyYXRlZCBmcm9tIHRoZSBUeXBlU2NyaXB0IHR5cGUgZGVmaW5pdGlvbnMuIOKUglxuICAvLyDilIIgICAgVG8gdXBkYXRlIHRoZW0sIGVkaXQgdGhlIGQudHMgZmlsZSBhbmQgcnVuIGBwbnBtIHByb3B0eXBlc2AuICAgICDilIJcbiAgLy8g4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG4gIC8qKlxuICAgKiBUaGUgY29udGVudCBvZiB0aGUgY29tcG9uZW50LlxuICAgKi9cbiAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuICAvKipcbiAgICogT3ZlcnJpZGUgb3IgZXh0ZW5kIHRoZSBzdHlsZXMgYXBwbGllZCB0byB0aGUgY29tcG9uZW50LlxuICAgKi9cbiAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdCxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgLyoqXG4gICAqIFRoZSBjb21wb25lbnQgdXNlZCBmb3IgdGhlIHJvb3Qgbm9kZS5cbiAgICogRWl0aGVyIGEgc3RyaW5nIHRvIHVzZSBhIEhUTUwgZWxlbWVudCBvciBhIGNvbXBvbmVudC5cbiAgICovXG4gIGNvbXBvbmVudDogUHJvcFR5cGVzLmVsZW1lbnRUeXBlLFxuICAvKipcbiAgICogVGhlIGNvbXBvbmVudHMgdXNlZCBmb3IgZWFjaCBzbG90IGluc2lkZS5cbiAgICpcbiAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBgc2xvdHNgIHByb3AgaW5zdGVhZC4gVGhpcyBwcm9wIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSBtYWpvciByZWxlYXNlLiBTZWUgW01pZ3JhdGluZyBmcm9tIGRlcHJlY2F0ZWQgQVBJc10oaHR0cHM6Ly9tdWkuY29tL21hdGVyaWFsLXVpL21pZ3JhdGlvbi9taWdyYXRpbmctZnJvbS1kZXByZWNhdGVkLWFwaXMvKSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgKlxuICAgKiBAZGVmYXVsdCB7fVxuICAgKi9cbiAgY29tcG9uZW50czogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBSb290OiBQcm9wVHlwZXMuZWxlbWVudFR5cGVcbiAgfSksXG4gIC8qKlxuICAgKiBUaGUgZXh0cmEgcHJvcHMgZm9yIHRoZSBzbG90IGNvbXBvbmVudHMuXG4gICAqIFlvdSBjYW4gb3ZlcnJpZGUgdGhlIGV4aXN0aW5nIHByb3BzIG9yIGFkZCBuZXcgb25lcy5cbiAgICpcbiAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBgc2xvdFByb3BzYCBwcm9wIGluc3RlYWQuIFRoaXMgcHJvcCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgbWFqb3IgcmVsZWFzZS4gU2VlIFtNaWdyYXRpbmcgZnJvbSBkZXByZWNhdGVkIEFQSXNdKGh0dHBzOi8vbXVpLmNvbS9tYXRlcmlhbC11aS9taWdyYXRpb24vbWlncmF0aW5nLWZyb20tZGVwcmVjYXRlZC1hcGlzLykgZm9yIG1vcmUgZGV0YWlscy5cbiAgICpcbiAgICogQGRlZmF1bHQge31cbiAgICovXG4gIGNvbXBvbmVudHNQcm9wczogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICByb290OiBQcm9wVHlwZXMub2JqZWN0XG4gIH0pLFxuICAvKipcbiAgICogSWYgYHRydWVgLCB0aGUgYmFja2Ryb3AgaXMgaW52aXNpYmxlLlxuICAgKiBJdCBjYW4gYmUgdXNlZCB3aGVuIHJlbmRlcmluZyBhIHBvcG92ZXIgb3IgYSBjdXN0b20gc2VsZWN0IGNvbXBvbmVudC5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGludmlzaWJsZTogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBjb21wb25lbnQgaXMgc2hvd24uXG4gICAqL1xuICBvcGVuOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICAvKipcbiAgICogVGhlIHByb3BzIHVzZWQgZm9yIGVhY2ggc2xvdCBpbnNpZGUuXG4gICAqIEBkZWZhdWx0IHt9XG4gICAqL1xuICBzbG90UHJvcHM6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgcm9vdDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3RdKSxcbiAgICB0cmFuc2l0aW9uOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdF0pXG4gIH0pLFxuICAvKipcbiAgICogVGhlIGNvbXBvbmVudHMgdXNlZCBmb3IgZWFjaCBzbG90IGluc2lkZS5cbiAgICogQGRlZmF1bHQge31cbiAgICovXG4gIHNsb3RzOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIHJvb3Q6IFByb3BUeXBlcy5lbGVtZW50VHlwZSxcbiAgICB0cmFuc2l0aW9uOiBQcm9wVHlwZXMuZWxlbWVudFR5cGVcbiAgfSksXG4gIC8qKlxuICAgKiBUaGUgc3lzdGVtIHByb3AgdGhhdCBhbGxvd3MgZGVmaW5pbmcgc3lzdGVtIG92ZXJyaWRlcyBhcyB3ZWxsIGFzIGFkZGl0aW9uYWwgQ1NTIHN0eWxlcy5cbiAgICovXG4gIHN4OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdCwgUHJvcFR5cGVzLmJvb2xdKSksIFByb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0XSksXG4gIC8qKlxuICAgKiBUaGUgY29tcG9uZW50IHVzZWQgZm9yIHRoZSB0cmFuc2l0aW9uLlxuICAgKiBbRm9sbG93IHRoaXMgZ3VpZGVdKGh0dHBzOi8vbXVpLmNvbS9tYXRlcmlhbC11aS90cmFuc2l0aW9ucy8jdHJhbnNpdGlvbmNvbXBvbmVudC1wcm9wKSB0byBsZWFybiBtb3JlIGFib3V0IHRoZSByZXF1aXJlbWVudHMgZm9yIHRoaXMgY29tcG9uZW50LlxuICAgKiBAZGVmYXVsdCBGYWRlXG4gICAqIEBkZXByZWNhdGVkIFVzZSBgc2xvdHMudHJhbnNpdGlvbmAgaW5zdGVhZC4gVGhpcyBwcm9wIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSBtYWpvciByZWxlYXNlLiBTZWUgW01pZ3JhdGluZyBmcm9tIGRlcHJlY2F0ZWQgQVBJc10oL21hdGVyaWFsLXVpL21pZ3JhdGlvbi9taWdyYXRpbmctZnJvbS1kZXByZWNhdGVkLWFwaXMvKSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgKi9cbiAgVHJhbnNpdGlvbkNvbXBvbmVudDogUHJvcFR5cGVzLmVsZW1lbnRUeXBlLFxuICAvKipcbiAgICogVGhlIGR1cmF0aW9uIGZvciB0aGUgdHJhbnNpdGlvbiwgaW4gbWlsbGlzZWNvbmRzLlxuICAgKiBZb3UgbWF5IHNwZWNpZnkgYSBzaW5nbGUgdGltZW91dCBmb3IgYWxsIHRyYW5zaXRpb25zLCBvciBpbmRpdmlkdWFsbHkgd2l0aCBhbiBvYmplY3QuXG4gICAqL1xuICB0cmFuc2l0aW9uRHVyYXRpb246IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5udW1iZXIsIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgYXBwZWFyOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIGVudGVyOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIGV4aXQ6IFByb3BUeXBlcy5udW1iZXJcbiAgfSldKVxufSA6IHZvaWQgMDtcbmV4cG9ydCBkZWZhdWx0IEJhY2tkcm9wOyIsCiAgICAiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgVHJhbnNpdGlvbiB9IGZyb20gJ3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAnO1xuaW1wb3J0IGVsZW1lbnRBY2NlcHRpbmdSZWYgZnJvbSAnQG11aS91dGlscy9lbGVtZW50QWNjZXB0aW5nUmVmJztcbmltcG9ydCBnZXRSZWFjdEVsZW1lbnRSZWYgZnJvbSAnQG11aS91dGlscy9nZXRSZWFjdEVsZW1lbnRSZWYnO1xuaW1wb3J0IHsgdXNlVGhlbWUgfSBmcm9tIFwiLi4vemVyby1zdHlsZWQvaW5kZXguanNcIjtcbmltcG9ydCB7IHJlZmxvdywgZ2V0VHJhbnNpdGlvblByb3BzIH0gZnJvbSBcIi4uL3RyYW5zaXRpb25zL3V0aWxzLmpzXCI7XG5pbXBvcnQgdXNlRm9ya1JlZiBmcm9tIFwiLi4vdXRpbHMvdXNlRm9ya1JlZi5qc1wiO1xuaW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmNvbnN0IHN0eWxlcyA9IHtcbiAgZW50ZXJpbmc6IHtcbiAgICBvcGFjaXR5OiAxXG4gIH0sXG4gIGVudGVyZWQ6IHtcbiAgICBvcGFjaXR5OiAxXG4gIH1cbn07XG5cbi8qKlxuICogVGhlIEZhZGUgdHJhbnNpdGlvbiBpcyB1c2VkIGJ5IHRoZSBbTW9kYWxdKC9tYXRlcmlhbC11aS9yZWFjdC1tb2RhbC8pIGNvbXBvbmVudC5cbiAqIEl0IHVzZXMgW3JlYWN0LXRyYW5zaXRpb24tZ3JvdXBdKGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdGpzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXApIGludGVybmFsbHkuXG4gKi9cbmNvbnN0IEZhZGUgPSAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiBGYWRlKHByb3BzLCByZWYpIHtcbiAgY29uc3QgdGhlbWUgPSB1c2VUaGVtZSgpO1xuICBjb25zdCBkZWZhdWx0VGltZW91dCA9IHtcbiAgICBlbnRlcjogdGhlbWUudHJhbnNpdGlvbnMuZHVyYXRpb24uZW50ZXJpbmdTY3JlZW4sXG4gICAgZXhpdDogdGhlbWUudHJhbnNpdGlvbnMuZHVyYXRpb24ubGVhdmluZ1NjcmVlblxuICB9O1xuICBjb25zdCB7XG4gICAgYWRkRW5kTGlzdGVuZXIsXG4gICAgYXBwZWFyID0gdHJ1ZSxcbiAgICBjaGlsZHJlbixcbiAgICBlYXNpbmcsXG4gICAgaW46IGluUHJvcCxcbiAgICBvbkVudGVyLFxuICAgIG9uRW50ZXJlZCxcbiAgICBvbkVudGVyaW5nLFxuICAgIG9uRXhpdCxcbiAgICBvbkV4aXRlZCxcbiAgICBvbkV4aXRpbmcsXG4gICAgc3R5bGUsXG4gICAgdGltZW91dCA9IGRlZmF1bHRUaW1lb3V0LFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9wcm9wLXR5cGVzXG4gICAgVHJhbnNpdGlvbkNvbXBvbmVudCA9IFRyYW5zaXRpb24sXG4gICAgLi4ub3RoZXJcbiAgfSA9IHByb3BzO1xuICBjb25zdCBlbmFibGVTdHJpY3RNb2RlQ29tcGF0ID0gdHJ1ZTtcbiAgY29uc3Qgbm9kZVJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgY29uc3QgaGFuZGxlUmVmID0gdXNlRm9ya1JlZihub2RlUmVmLCBnZXRSZWFjdEVsZW1lbnRSZWYoY2hpbGRyZW4pLCByZWYpO1xuICBjb25zdCBub3JtYWxpemVkVHJhbnNpdGlvbkNhbGxiYWNrID0gY2FsbGJhY2sgPT4gbWF5YmVJc0FwcGVhcmluZyA9PiB7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBjb25zdCBub2RlID0gbm9kZVJlZi5jdXJyZW50O1xuXG4gICAgICAvLyBvbkVudGVyWHh4IGFuZCBvbkV4aXRYeHggY2FsbGJhY2tzIGhhdmUgYSBkaWZmZXJlbnQgYXJndW1lbnRzLmxlbmd0aCB2YWx1ZS5cbiAgICAgIGlmIChtYXliZUlzQXBwZWFyaW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY2FsbGJhY2sobm9kZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayhub2RlLCBtYXliZUlzQXBwZWFyaW5nKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IGhhbmRsZUVudGVyaW5nID0gbm9ybWFsaXplZFRyYW5zaXRpb25DYWxsYmFjayhvbkVudGVyaW5nKTtcbiAgY29uc3QgaGFuZGxlRW50ZXIgPSBub3JtYWxpemVkVHJhbnNpdGlvbkNhbGxiYWNrKChub2RlLCBpc0FwcGVhcmluZykgPT4ge1xuICAgIHJlZmxvdyhub2RlKTsgLy8gU28gdGhlIGFuaW1hdGlvbiBhbHdheXMgc3RhcnQgZnJvbSB0aGUgc3RhcnQuXG5cbiAgICBjb25zdCB0cmFuc2l0aW9uUHJvcHMgPSBnZXRUcmFuc2l0aW9uUHJvcHMoe1xuICAgICAgc3R5bGUsXG4gICAgICB0aW1lb3V0LFxuICAgICAgZWFzaW5nXG4gICAgfSwge1xuICAgICAgbW9kZTogJ2VudGVyJ1xuICAgIH0pO1xuICAgIG5vZGUuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IHRoZW1lLnRyYW5zaXRpb25zLmNyZWF0ZSgnb3BhY2l0eScsIHRyYW5zaXRpb25Qcm9wcyk7XG4gICAgbm9kZS5zdHlsZS50cmFuc2l0aW9uID0gdGhlbWUudHJhbnNpdGlvbnMuY3JlYXRlKCdvcGFjaXR5JywgdHJhbnNpdGlvblByb3BzKTtcbiAgICBpZiAob25FbnRlcikge1xuICAgICAgb25FbnRlcihub2RlLCBpc0FwcGVhcmluZyk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgaGFuZGxlRW50ZXJlZCA9IG5vcm1hbGl6ZWRUcmFuc2l0aW9uQ2FsbGJhY2sob25FbnRlcmVkKTtcbiAgY29uc3QgaGFuZGxlRXhpdGluZyA9IG5vcm1hbGl6ZWRUcmFuc2l0aW9uQ2FsbGJhY2sob25FeGl0aW5nKTtcbiAgY29uc3QgaGFuZGxlRXhpdCA9IG5vcm1hbGl6ZWRUcmFuc2l0aW9uQ2FsbGJhY2sobm9kZSA9PiB7XG4gICAgY29uc3QgdHJhbnNpdGlvblByb3BzID0gZ2V0VHJhbnNpdGlvblByb3BzKHtcbiAgICAgIHN0eWxlLFxuICAgICAgdGltZW91dCxcbiAgICAgIGVhc2luZ1xuICAgIH0sIHtcbiAgICAgIG1vZGU6ICdleGl0J1xuICAgIH0pO1xuICAgIG5vZGUuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IHRoZW1lLnRyYW5zaXRpb25zLmNyZWF0ZSgnb3BhY2l0eScsIHRyYW5zaXRpb25Qcm9wcyk7XG4gICAgbm9kZS5zdHlsZS50cmFuc2l0aW9uID0gdGhlbWUudHJhbnNpdGlvbnMuY3JlYXRlKCdvcGFjaXR5JywgdHJhbnNpdGlvblByb3BzKTtcbiAgICBpZiAob25FeGl0KSB7XG4gICAgICBvbkV4aXQobm9kZSk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgaGFuZGxlRXhpdGVkID0gbm9ybWFsaXplZFRyYW5zaXRpb25DYWxsYmFjayhvbkV4aXRlZCk7XG4gIGNvbnN0IGhhbmRsZUFkZEVuZExpc3RlbmVyID0gbmV4dCA9PiB7XG4gICAgaWYgKGFkZEVuZExpc3RlbmVyKSB7XG4gICAgICAvLyBPbGQgY2FsbCBzaWduYXR1cmUgYmVmb3JlIGByZWFjdC10cmFuc2l0aW9uLWdyb3VwYCBpbXBsZW1lbnRlZCBgbm9kZVJlZmBcbiAgICAgIGFkZEVuZExpc3RlbmVyKG5vZGVSZWYuY3VycmVudCwgbmV4dCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3goVHJhbnNpdGlvbkNvbXBvbmVudCwge1xuICAgIGFwcGVhcjogYXBwZWFyLFxuICAgIGluOiBpblByb3AsXG4gICAgbm9kZVJlZjogZW5hYmxlU3RyaWN0TW9kZUNvbXBhdCA/IG5vZGVSZWYgOiB1bmRlZmluZWQsXG4gICAgb25FbnRlcjogaGFuZGxlRW50ZXIsXG4gICAgb25FbnRlcmVkOiBoYW5kbGVFbnRlcmVkLFxuICAgIG9uRW50ZXJpbmc6IGhhbmRsZUVudGVyaW5nLFxuICAgIG9uRXhpdDogaGFuZGxlRXhpdCxcbiAgICBvbkV4aXRlZDogaGFuZGxlRXhpdGVkLFxuICAgIG9uRXhpdGluZzogaGFuZGxlRXhpdGluZyxcbiAgICBhZGRFbmRMaXN0ZW5lcjogaGFuZGxlQWRkRW5kTGlzdGVuZXIsXG4gICAgdGltZW91dDogdGltZW91dCxcbiAgICAuLi5vdGhlcixcbiAgICBjaGlsZHJlbjogKHN0YXRlLCB7XG4gICAgICBvd25lclN0YXRlLFxuICAgICAgLi4ucmVzdENoaWxkUHJvcHNcbiAgICB9KSA9PiB7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNsb25lRWxlbWVudChjaGlsZHJlbiwge1xuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgdmlzaWJpbGl0eTogc3RhdGUgPT09ICdleGl0ZWQnICYmICFpblByb3AgPyAnaGlkZGVuJyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAuLi5zdHlsZXNbc3RhdGVdLFxuICAgICAgICAgIC4uLnN0eWxlLFxuICAgICAgICAgIC4uLmNoaWxkcmVuLnByb3BzLnN0eWxlXG4gICAgICAgIH0sXG4gICAgICAgIHJlZjogaGFuZGxlUmVmLFxuICAgICAgICAuLi5yZXN0Q2hpbGRQcm9wc1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn0pO1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gRmFkZS5wcm9wVHlwZXMgLyogcmVtb3ZlLXByb3B0eXBlcyAqLyA9IHtcbiAgLy8g4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIFdhcm5pbmcg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQXG4gIC8vIOKUgiBUaGVzZSBQcm9wVHlwZXMgYXJlIGdlbmVyYXRlZCBmcm9tIHRoZSBUeXBlU2NyaXB0IHR5cGUgZGVmaW5pdGlvbnMuIOKUglxuICAvLyDilIIgICAgVG8gdXBkYXRlIHRoZW0sIGVkaXQgdGhlIGQudHMgZmlsZSBhbmQgcnVuIGBwbnBtIHByb3B0eXBlc2AuICAgICDilIJcbiAgLy8g4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG4gIC8qKlxuICAgKiBBZGQgYSBjdXN0b20gdHJhbnNpdGlvbiBlbmQgdHJpZ2dlci4gQ2FsbGVkIHdpdGggdGhlIHRyYW5zaXRpb25pbmcgRE9NXG4gICAqIG5vZGUgYW5kIGEgZG9uZSBjYWxsYmFjay4gQWxsb3dzIGZvciBtb3JlIGZpbmUgZ3JhaW5lZCB0cmFuc2l0aW9uIGVuZFxuICAgKiBsb2dpYy4gTm90ZTogVGltZW91dHMgYXJlIHN0aWxsIHVzZWQgYXMgYSBmYWxsYmFjayBpZiBwcm92aWRlZC5cbiAgICovXG4gIGFkZEVuZExpc3RlbmVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgLyoqXG4gICAqIFBlcmZvcm0gdGhlIGVudGVyIHRyYW5zaXRpb24gd2hlbiBpdCBmaXJzdCBtb3VudHMgaWYgYGluYCBpcyBhbHNvIGB0cnVlYC5cbiAgICogU2V0IHRoaXMgdG8gYGZhbHNlYCB0byBkaXNhYmxlIHRoaXMgYmVoYXZpb3IuXG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIGFwcGVhcjogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBBIHNpbmdsZSBjaGlsZCBjb250ZW50IGVsZW1lbnQuXG4gICAqL1xuICBjaGlsZHJlbjogZWxlbWVudEFjY2VwdGluZ1JlZi5pc1JlcXVpcmVkLFxuICAvKipcbiAgICogVGhlIHRyYW5zaXRpb24gdGltaW5nIGZ1bmN0aW9uLlxuICAgKiBZb3UgbWF5IHNwZWNpZnkgYSBzaW5nbGUgZWFzaW5nIG9yIGEgb2JqZWN0IGNvbnRhaW5pbmcgZW50ZXIgYW5kIGV4aXQgdmFsdWVzLlxuICAgKi9cbiAgZWFzaW5nOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc2hhcGUoe1xuICAgIGVudGVyOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGV4aXQ6IFByb3BUeXBlcy5zdHJpbmdcbiAgfSksIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIGNvbXBvbmVudCB3aWxsIHRyYW5zaXRpb24gaW4uXG4gICAqL1xuICBpbjogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBvbkVudGVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIG9uRW50ZXJlZDogUHJvcFR5cGVzLmZ1bmMsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBvbkVudGVyaW5nOiBQcm9wVHlwZXMuZnVuYyxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIG9uRXhpdDogUHJvcFR5cGVzLmZ1bmMsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBvbkV4aXRlZDogUHJvcFR5cGVzLmZ1bmMsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBvbkV4aXRpbmc6IFByb3BUeXBlcy5mdW5jLFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgc3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG4gIC8qKlxuICAgKiBUaGUgZHVyYXRpb24gZm9yIHRoZSB0cmFuc2l0aW9uLCBpbiBtaWxsaXNlY29uZHMuXG4gICAqIFlvdSBtYXkgc3BlY2lmeSBhIHNpbmdsZSB0aW1lb3V0IGZvciBhbGwgdHJhbnNpdGlvbnMsIG9yIGluZGl2aWR1YWxseSB3aXRoIGFuIG9iamVjdC5cbiAgICogQGRlZmF1bHQge1xuICAgKiAgIGVudGVyOiB0aGVtZS50cmFuc2l0aW9ucy5kdXJhdGlvbi5lbnRlcmluZ1NjcmVlbixcbiAgICogICBleGl0OiB0aGVtZS50cmFuc2l0aW9ucy5kdXJhdGlvbi5sZWF2aW5nU2NyZWVuLFxuICAgKiB9XG4gICAqL1xuICB0aW1lb3V0OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIGFwcGVhcjogUHJvcFR5cGVzLm51bWJlcixcbiAgICBlbnRlcjogUHJvcFR5cGVzLm51bWJlcixcbiAgICBleGl0OiBQcm9wVHlwZXMubnVtYmVyXG4gIH0pXSlcbn0gOiB2b2lkIDA7XG5leHBvcnQgZGVmYXVsdCBGYWRlOyIsCiAgICAiaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBjaGFpblByb3BUeXBlcyBmcm9tIFwiLi4vY2hhaW5Qcm9wVHlwZXMvaW5kZXguanNcIjtcbmZ1bmN0aW9uIGlzQ2xhc3NDb21wb25lbnQoZWxlbWVudFR5cGUpIHtcbiAgLy8gZWxlbWVudFR5cGUucHJvdG90eXBlPy5pc1JlYWN0Q29tcG9uZW50XG4gIGNvbnN0IHtcbiAgICBwcm90b3R5cGUgPSB7fVxuICB9ID0gZWxlbWVudFR5cGU7XG4gIHJldHVybiBCb29sZWFuKHByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50KTtcbn1cbmZ1bmN0aW9uIGFjY2VwdGluZ1JlZihwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgY29uc3QgZWxlbWVudCA9IHByb3BzW3Byb3BOYW1lXTtcbiAgY29uc3Qgc2FmZVByb3BOYW1lID0gcHJvcEZ1bGxOYW1lIHx8IHByb3BOYW1lO1xuICBpZiAoZWxlbWVudCA9PSBudWxsIHx8XG4gIC8vIFdoZW4gc2VydmVyLXNpZGUgcmVuZGVyaW5nIFJlYWN0IGRvZXNuJ3Qgd2FybiBlaXRoZXIuXG4gIC8vIFRoaXMgaXMgbm90IGFuIGFjY3VyYXRlIGNoZWNrIGZvciBTU1IuXG4gIC8vIFRoaXMgaXMgb25seSBpbiBwbGFjZSBmb3IgRW1vdGlvbiBjb21wYXQuXG4gIC8vIFRPRE86IFJldmlzaXQgb25jZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzIwMDQ3IGlzIHJlc29sdmVkLlxuICB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGxldCB3YXJuaW5nSGludDtcbiAgY29uc3QgZWxlbWVudFR5cGUgPSBlbGVtZW50LnR5cGU7XG4gIC8qKlxuICAgKiBCbGFja2xpc3RpbmcgaW5zdGVhZCBvZiB3aGl0ZWxpc3RpbmdcbiAgICpcbiAgICogQmxhY2tsaXN0aW5nIHdpbGwgbWlzcyBzb21lIGNvbXBvbmVudHMsIHN1Y2ggYXMgUmVhY3QuRnJhZ21lbnQuIFRob3NlIHdpbGwgYXQgbGVhc3RcbiAgICogdHJpZ2dlciBhIHdhcm5pbmcgaW4gUmVhY3QuXG4gICAqIFdlIGNhbid0IHdoaXRlbGlzdCBiZWNhdXNlIHRoZXJlIGlzIG5vIHNhZmUgd2F5IHRvIGRldGVjdCBSZWFjdC5mb3J3YXJkUmVmXG4gICAqIG9yIGNsYXNzIGNvbXBvbmVudHMuIFwiU2FmZVwiIG1lYW5zIHRoZXJlJ3Mgbm8gcHVibGljIEFQSS5cbiAgICpcbiAgICovXG4gIGlmICh0eXBlb2YgZWxlbWVudFR5cGUgPT09ICdmdW5jdGlvbicgJiYgIWlzQ2xhc3NDb21wb25lbnQoZWxlbWVudFR5cGUpKSB7XG4gICAgd2FybmluZ0hpbnQgPSAnRGlkIHlvdSBhY2NpZGVudGFsbHkgdXNlIGEgcGxhaW4gZnVuY3Rpb24gY29tcG9uZW50IGZvciBhbiBlbGVtZW50IGluc3RlYWQ/JztcbiAgfVxuICBpZiAod2FybmluZ0hpbnQgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBuZXcgRXJyb3IoYEludmFsaWQgJHtsb2NhdGlvbn0gXFxgJHtzYWZlUHJvcE5hbWV9XFxgIHN1cHBsaWVkIHRvIFxcYCR7Y29tcG9uZW50TmFtZX1cXGAuIGAgKyBgRXhwZWN0ZWQgYW4gZWxlbWVudCB0aGF0IGNhbiBob2xkIGEgcmVmLiAke3dhcm5pbmdIaW50fSBgICsgJ0ZvciBtb3JlIGluZm9ybWF0aW9uIHNlZSBodHRwczovL211aS5jb20vci9jYXZlYXQtd2l0aC1yZWZzLWd1aWRlJyk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5jb25zdCBlbGVtZW50QWNjZXB0aW5nUmVmID0gY2hhaW5Qcm9wVHlwZXMoUHJvcFR5cGVzLmVsZW1lbnQsIGFjY2VwdGluZ1JlZik7XG5lbGVtZW50QWNjZXB0aW5nUmVmLmlzUmVxdWlyZWQgPSBjaGFpblByb3BUeXBlcyhQcm9wVHlwZXMuZWxlbWVudC5pc1JlcXVpcmVkLCBhY2NlcHRpbmdSZWYpO1xuZXhwb3J0IGRlZmF1bHQgZWxlbWVudEFjY2VwdGluZ1JlZjsiLAogICAgImltcG9ydCBnZW5lcmF0ZVV0aWxpdHlDbGFzc2VzIGZyb20gJ0BtdWkvdXRpbHMvZ2VuZXJhdGVVdGlsaXR5Q2xhc3Nlcyc7XG5pbXBvcnQgZ2VuZXJhdGVVdGlsaXR5Q2xhc3MgZnJvbSAnQG11aS91dGlscy9nZW5lcmF0ZVV0aWxpdHlDbGFzcyc7XG5leHBvcnQgZnVuY3Rpb24gZ2V0QmFja2Ryb3BVdGlsaXR5Q2xhc3Moc2xvdCkge1xuICByZXR1cm4gZ2VuZXJhdGVVdGlsaXR5Q2xhc3MoJ011aUJhY2tkcm9wJywgc2xvdCk7XG59XG5jb25zdCBiYWNrZHJvcENsYXNzZXMgPSBnZW5lcmF0ZVV0aWxpdHlDbGFzc2VzKCdNdWlCYWNrZHJvcCcsIFsncm9vdCcsICdpbnZpc2libGUnXSk7XG5leHBvcnQgZGVmYXVsdCBiYWNrZHJvcENsYXNzZXM7IiwKICAgICIndXNlIGNsaWVudCc7XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgY2xzeCBmcm9tICdjbHN4JztcbmltcG9ydCBjaGFpblByb3BUeXBlcyBmcm9tICdAbXVpL3V0aWxzL2NoYWluUHJvcFR5cGVzJztcbmltcG9ydCBjb21wb3NlQ2xhc3NlcyBmcm9tICdAbXVpL3V0aWxzL2NvbXBvc2VDbGFzc2VzJztcbmltcG9ydCB7IHN0eWxlZCB9IGZyb20gXCIuLi96ZXJvLXN0eWxlZC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgdXNlRGVmYXVsdFByb3BzIH0gZnJvbSBcIi4uL0RlZmF1bHRQcm9wc1Byb3ZpZGVyL2luZGV4LmpzXCI7XG5pbXBvcnQgUGFwZXIgZnJvbSBcIi4uL1BhcGVyL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBnZXRDYXJkVXRpbGl0eUNsYXNzIH0gZnJvbSBcIi4vY2FyZENsYXNzZXMuanNcIjtcbmltcG9ydCB7IGpzeCBhcyBfanN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5jb25zdCB1c2VVdGlsaXR5Q2xhc3NlcyA9IG93bmVyU3RhdGUgPT4ge1xuICBjb25zdCB7XG4gICAgY2xhc3Nlc1xuICB9ID0gb3duZXJTdGF0ZTtcbiAgY29uc3Qgc2xvdHMgPSB7XG4gICAgcm9vdDogWydyb290J11cbiAgfTtcbiAgcmV0dXJuIGNvbXBvc2VDbGFzc2VzKHNsb3RzLCBnZXRDYXJkVXRpbGl0eUNsYXNzLCBjbGFzc2VzKTtcbn07XG5jb25zdCBDYXJkUm9vdCA9IHN0eWxlZChQYXBlciwge1xuICBuYW1lOiAnTXVpQ2FyZCcsXG4gIHNsb3Q6ICdSb290J1xufSkoe1xuICBvdmVyZmxvdzogJ2hpZGRlbidcbn0pO1xuY29uc3QgQ2FyZCA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIENhcmQoaW5Qcm9wcywgcmVmKSB7XG4gIGNvbnN0IHByb3BzID0gdXNlRGVmYXVsdFByb3BzKHtcbiAgICBwcm9wczogaW5Qcm9wcyxcbiAgICBuYW1lOiAnTXVpQ2FyZCdcbiAgfSk7XG4gIGNvbnN0IHtcbiAgICBjbGFzc05hbWUsXG4gICAgcmFpc2VkID0gZmFsc2UsXG4gICAgLi4ub3RoZXJcbiAgfSA9IHByb3BzO1xuICBjb25zdCBvd25lclN0YXRlID0ge1xuICAgIC4uLnByb3BzLFxuICAgIHJhaXNlZFxuICB9O1xuICBjb25zdCBjbGFzc2VzID0gdXNlVXRpbGl0eUNsYXNzZXMob3duZXJTdGF0ZSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeChDYXJkUm9vdCwge1xuICAgIGNsYXNzTmFtZTogY2xzeChjbGFzc2VzLnJvb3QsIGNsYXNzTmFtZSksXG4gICAgZWxldmF0aW9uOiByYWlzZWQgPyA4IDogdW5kZWZpbmVkLFxuICAgIHJlZjogcmVmLFxuICAgIG93bmVyU3RhdGU6IG93bmVyU3RhdGUsXG4gICAgLi4ub3RoZXJcbiAgfSk7XG59KTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IENhcmQucHJvcFR5cGVzIC8qIHJlbW92ZS1wcm9wdHlwZXMgKi8gPSB7XG4gIC8vIOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBXYXJuaW5nIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuICAvLyDilIIgVGhlc2UgUHJvcFR5cGVzIGFyZSBnZW5lcmF0ZWQgZnJvbSB0aGUgVHlwZVNjcmlwdCB0eXBlIGRlZmluaXRpb25zLiDilIJcbiAgLy8g4pSCICAgIFRvIHVwZGF0ZSB0aGVtLCBlZGl0IHRoZSBkLnRzIGZpbGUgYW5kIHJ1biBgcG5wbSBwcm9wdHlwZXNgLiAgICAg4pSCXG4gIC8vIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmFxuICAvKipcbiAgICogVGhlIGNvbnRlbnQgb2YgdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIG9yIGV4dGVuZCB0aGUgc3R5bGVzIGFwcGxpZWQgdG8gdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBjYXJkIHdpbGwgdXNlIHJhaXNlZCBzdHlsaW5nLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgcmFpc2VkOiBjaGFpblByb3BUeXBlcyhQcm9wVHlwZXMuYm9vbCwgcHJvcHMgPT4ge1xuICAgIGlmIChwcm9wcy5yYWlzZWQgJiYgcHJvcHMudmFyaWFudCA9PT0gJ291dGxpbmVkJykge1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcignTVVJOiBDb21iaW5pbmcgYHJhaXNlZD17dHJ1ZX1gIHdpdGggYHZhcmlhbnQ9XCJvdXRsaW5lZFwiYCBoYXMgbm8gZWZmZWN0LicpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSksXG4gIC8qKlxuICAgKiBUaGUgc3lzdGVtIHByb3AgdGhhdCBhbGxvd3MgZGVmaW5pbmcgc3lzdGVtIG92ZXJyaWRlcyBhcyB3ZWxsIGFzIGFkZGl0aW9uYWwgQ1NTIHN0eWxlcy5cbiAgICovXG4gIHN4OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdCwgUHJvcFR5cGVzLmJvb2xdKSksIFByb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0XSlcbn0gOiB2b2lkIDA7XG5leHBvcnQgZGVmYXVsdCBDYXJkOyIsCiAgICAiaW1wb3J0IGdlbmVyYXRlVXRpbGl0eUNsYXNzZXMgZnJvbSAnQG11aS91dGlscy9nZW5lcmF0ZVV0aWxpdHlDbGFzc2VzJztcbmltcG9ydCBnZW5lcmF0ZVV0aWxpdHlDbGFzcyBmcm9tICdAbXVpL3V0aWxzL2dlbmVyYXRlVXRpbGl0eUNsYXNzJztcbmV4cG9ydCBmdW5jdGlvbiBnZXRDYXJkVXRpbGl0eUNsYXNzKHNsb3QpIHtcbiAgcmV0dXJuIGdlbmVyYXRlVXRpbGl0eUNsYXNzKCdNdWlDYXJkJywgc2xvdCk7XG59XG5jb25zdCBjYXJkQ2xhc3NlcyA9IGdlbmVyYXRlVXRpbGl0eUNsYXNzZXMoJ011aUNhcmQnLCBbJ3Jvb3QnXSk7XG5leHBvcnQgZGVmYXVsdCBjYXJkQ2xhc3NlczsiLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnO1xuaW1wb3J0IGNvbXBvc2VDbGFzc2VzIGZyb20gJ0BtdWkvdXRpbHMvY29tcG9zZUNsYXNzZXMnO1xuaW1wb3J0IHsgc3R5bGVkIH0gZnJvbSBcIi4uL3plcm8tc3R5bGVkL2luZGV4LmpzXCI7XG5pbXBvcnQgeyB1c2VEZWZhdWx0UHJvcHMgfSBmcm9tIFwiLi4vRGVmYXVsdFByb3BzUHJvdmlkZXIvaW5kZXguanNcIjtcbmltcG9ydCB7IGdldENhcmRBY3Rpb25zVXRpbGl0eUNsYXNzIH0gZnJvbSBcIi4vY2FyZEFjdGlvbnNDbGFzc2VzLmpzXCI7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuY29uc3QgdXNlVXRpbGl0eUNsYXNzZXMgPSBvd25lclN0YXRlID0+IHtcbiAgY29uc3Qge1xuICAgIGNsYXNzZXMsXG4gICAgZGlzYWJsZVNwYWNpbmdcbiAgfSA9IG93bmVyU3RhdGU7XG4gIGNvbnN0IHNsb3RzID0ge1xuICAgIHJvb3Q6IFsncm9vdCcsICFkaXNhYmxlU3BhY2luZyAmJiAnc3BhY2luZyddXG4gIH07XG4gIHJldHVybiBjb21wb3NlQ2xhc3NlcyhzbG90cywgZ2V0Q2FyZEFjdGlvbnNVdGlsaXR5Q2xhc3MsIGNsYXNzZXMpO1xufTtcbmNvbnN0IENhcmRBY3Rpb25zUm9vdCA9IHN0eWxlZCgnZGl2Jywge1xuICBuYW1lOiAnTXVpQ2FyZEFjdGlvbnMnLFxuICBzbG90OiAnUm9vdCcsXG4gIG92ZXJyaWRlc1Jlc29sdmVyOiAocHJvcHMsIHN0eWxlcykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIG93bmVyU3RhdGVcbiAgICB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIFtzdHlsZXMucm9vdCwgIW93bmVyU3RhdGUuZGlzYWJsZVNwYWNpbmcgJiYgc3R5bGVzLnNwYWNpbmddO1xuICB9XG59KSh7XG4gIGRpc3BsYXk6ICdmbGV4JyxcbiAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gIHBhZGRpbmc6IDgsXG4gIHZhcmlhbnRzOiBbe1xuICAgIHByb3BzOiB7XG4gICAgICBkaXNhYmxlU3BhY2luZzogZmFsc2VcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICAnJiA+IDpub3Qoc3R5bGUpIH4gOm5vdChzdHlsZSknOiB7XG4gICAgICAgIG1hcmdpbkxlZnQ6IDhcbiAgICAgIH1cbiAgICB9XG4gIH1dXG59KTtcbmNvbnN0IENhcmRBY3Rpb25zID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gQ2FyZEFjdGlvbnMoaW5Qcm9wcywgcmVmKSB7XG4gIGNvbnN0IHByb3BzID0gdXNlRGVmYXVsdFByb3BzKHtcbiAgICBwcm9wczogaW5Qcm9wcyxcbiAgICBuYW1lOiAnTXVpQ2FyZEFjdGlvbnMnXG4gIH0pO1xuICBjb25zdCB7XG4gICAgZGlzYWJsZVNwYWNpbmcgPSBmYWxzZSxcbiAgICBjbGFzc05hbWUsXG4gICAgLi4ub3RoZXJcbiAgfSA9IHByb3BzO1xuICBjb25zdCBvd25lclN0YXRlID0ge1xuICAgIC4uLnByb3BzLFxuICAgIGRpc2FibGVTcGFjaW5nXG4gIH07XG4gIGNvbnN0IGNsYXNzZXMgPSB1c2VVdGlsaXR5Q2xhc3Nlcyhvd25lclN0YXRlKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KENhcmRBY3Rpb25zUm9vdCwge1xuICAgIGNsYXNzTmFtZTogY2xzeChjbGFzc2VzLnJvb3QsIGNsYXNzTmFtZSksXG4gICAgb3duZXJTdGF0ZTogb3duZXJTdGF0ZSxcbiAgICByZWY6IHJlZixcbiAgICAuLi5vdGhlclxuICB9KTtcbn0pO1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gQ2FyZEFjdGlvbnMucHJvcFR5cGVzIC8qIHJlbW92ZS1wcm9wdHlwZXMgKi8gPSB7XG4gIC8vIOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBXYXJuaW5nIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuICAvLyDilIIgVGhlc2UgUHJvcFR5cGVzIGFyZSBnZW5lcmF0ZWQgZnJvbSB0aGUgVHlwZVNjcmlwdCB0eXBlIGRlZmluaXRpb25zLiDilIJcbiAgLy8g4pSCICAgIFRvIHVwZGF0ZSB0aGVtLCBlZGl0IHRoZSBkLnRzIGZpbGUgYW5kIHJ1biBgcG5wbSBwcm9wdHlwZXNgLiAgICAg4pSCXG4gIC8vIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmFxuICAvKipcbiAgICogVGhlIGNvbnRlbnQgb2YgdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIG9yIGV4dGVuZCB0aGUgc3R5bGVzIGFwcGxpZWQgdG8gdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBhY3Rpb25zIGRvIG5vdCBoYXZlIGFkZGl0aW9uYWwgbWFyZ2luLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZGlzYWJsZVNwYWNpbmc6IFByb3BUeXBlcy5ib29sLFxuICAvKipcbiAgICogVGhlIHN5c3RlbSBwcm9wIHRoYXQgYWxsb3dzIGRlZmluaW5nIHN5c3RlbSBvdmVycmlkZXMgYXMgd2VsbCBhcyBhZGRpdGlvbmFsIENTUyBzdHlsZXMuXG4gICAqL1xuICBzeDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3QsIFByb3BUeXBlcy5ib29sXSkpLCBQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdF0pXG59IDogdm9pZCAwO1xuZXhwb3J0IGRlZmF1bHQgQ2FyZEFjdGlvbnM7IiwKICAgICJpbXBvcnQgZ2VuZXJhdGVVdGlsaXR5Q2xhc3NlcyBmcm9tICdAbXVpL3V0aWxzL2dlbmVyYXRlVXRpbGl0eUNsYXNzZXMnO1xuaW1wb3J0IGdlbmVyYXRlVXRpbGl0eUNsYXNzIGZyb20gJ0BtdWkvdXRpbHMvZ2VuZXJhdGVVdGlsaXR5Q2xhc3MnO1xuZXhwb3J0IGZ1bmN0aW9uIGdldENhcmRBY3Rpb25zVXRpbGl0eUNsYXNzKHNsb3QpIHtcbiAgcmV0dXJuIGdlbmVyYXRlVXRpbGl0eUNsYXNzKCdNdWlDYXJkQWN0aW9ucycsIHNsb3QpO1xufVxuY29uc3QgY2FyZEFjdGlvbnNDbGFzc2VzID0gZ2VuZXJhdGVVdGlsaXR5Q2xhc3NlcygnTXVpQ2FyZEFjdGlvbnMnLCBbJ3Jvb3QnLCAnc3BhY2luZyddKTtcbmV4cG9ydCBkZWZhdWx0IGNhcmRBY3Rpb25zQ2xhc3NlczsiLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnO1xuaW1wb3J0IGNvbXBvc2VDbGFzc2VzIGZyb20gJ0BtdWkvdXRpbHMvY29tcG9zZUNsYXNzZXMnO1xuaW1wb3J0IHsgc3R5bGVkIH0gZnJvbSBcIi4uL3plcm8tc3R5bGVkL2luZGV4LmpzXCI7XG5pbXBvcnQgeyB1c2VEZWZhdWx0UHJvcHMgfSBmcm9tIFwiLi4vRGVmYXVsdFByb3BzUHJvdmlkZXIvaW5kZXguanNcIjtcbmltcG9ydCB7IGdldENhcmRDb250ZW50VXRpbGl0eUNsYXNzIH0gZnJvbSBcIi4vY2FyZENvbnRlbnRDbGFzc2VzLmpzXCI7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuY29uc3QgdXNlVXRpbGl0eUNsYXNzZXMgPSBvd25lclN0YXRlID0+IHtcbiAgY29uc3Qge1xuICAgIGNsYXNzZXNcbiAgfSA9IG93bmVyU3RhdGU7XG4gIGNvbnN0IHNsb3RzID0ge1xuICAgIHJvb3Q6IFsncm9vdCddXG4gIH07XG4gIHJldHVybiBjb21wb3NlQ2xhc3NlcyhzbG90cywgZ2V0Q2FyZENvbnRlbnRVdGlsaXR5Q2xhc3MsIGNsYXNzZXMpO1xufTtcbmNvbnN0IENhcmRDb250ZW50Um9vdCA9IHN0eWxlZCgnZGl2Jywge1xuICBuYW1lOiAnTXVpQ2FyZENvbnRlbnQnLFxuICBzbG90OiAnUm9vdCdcbn0pKHtcbiAgcGFkZGluZzogMTYsXG4gICcmOmxhc3QtY2hpbGQnOiB7XG4gICAgcGFkZGluZ0JvdHRvbTogMjRcbiAgfVxufSk7XG5jb25zdCBDYXJkQ29udGVudCA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIENhcmRDb250ZW50KGluUHJvcHMsIHJlZikge1xuICBjb25zdCBwcm9wcyA9IHVzZURlZmF1bHRQcm9wcyh7XG4gICAgcHJvcHM6IGluUHJvcHMsXG4gICAgbmFtZTogJ011aUNhcmRDb250ZW50J1xuICB9KTtcbiAgY29uc3Qge1xuICAgIGNsYXNzTmFtZSxcbiAgICBjb21wb25lbnQgPSAnZGl2JyxcbiAgICAuLi5vdGhlclxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IG93bmVyU3RhdGUgPSB7XG4gICAgLi4ucHJvcHMsXG4gICAgY29tcG9uZW50XG4gIH07XG4gIGNvbnN0IGNsYXNzZXMgPSB1c2VVdGlsaXR5Q2xhc3Nlcyhvd25lclN0YXRlKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KENhcmRDb250ZW50Um9vdCwge1xuICAgIGFzOiBjb21wb25lbnQsXG4gICAgY2xhc3NOYW1lOiBjbHN4KGNsYXNzZXMucm9vdCwgY2xhc3NOYW1lKSxcbiAgICBvd25lclN0YXRlOiBvd25lclN0YXRlLFxuICAgIHJlZjogcmVmLFxuICAgIC4uLm90aGVyXG4gIH0pO1xufSk7XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBDYXJkQ29udGVudC5wcm9wVHlwZXMgLyogcmVtb3ZlLXByb3B0eXBlcyAqLyA9IHtcbiAgLy8g4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIFdhcm5pbmcg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQXG4gIC8vIOKUgiBUaGVzZSBQcm9wVHlwZXMgYXJlIGdlbmVyYXRlZCBmcm9tIHRoZSBUeXBlU2NyaXB0IHR5cGUgZGVmaW5pdGlvbnMuIOKUglxuICAvLyDilIIgICAgVG8gdXBkYXRlIHRoZW0sIGVkaXQgdGhlIGQudHMgZmlsZSBhbmQgcnVuIGBwbnBtIHByb3B0eXBlc2AuICAgICDilIJcbiAgLy8g4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG4gIC8qKlxuICAgKiBUaGUgY29udGVudCBvZiB0aGUgY29tcG9uZW50LlxuICAgKi9cbiAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuICAvKipcbiAgICogT3ZlcnJpZGUgb3IgZXh0ZW5kIHRoZSBzdHlsZXMgYXBwbGllZCB0byB0aGUgY29tcG9uZW50LlxuICAgKi9cbiAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdCxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgLyoqXG4gICAqIFRoZSBjb21wb25lbnQgdXNlZCBmb3IgdGhlIHJvb3Qgbm9kZS5cbiAgICogRWl0aGVyIGEgc3RyaW5nIHRvIHVzZSBhIEhUTUwgZWxlbWVudCBvciBhIGNvbXBvbmVudC5cbiAgICovXG4gIGNvbXBvbmVudDogUHJvcFR5cGVzLmVsZW1lbnRUeXBlLFxuICAvKipcbiAgICogVGhlIHN5c3RlbSBwcm9wIHRoYXQgYWxsb3dzIGRlZmluaW5nIHN5c3RlbSBvdmVycmlkZXMgYXMgd2VsbCBhcyBhZGRpdGlvbmFsIENTUyBzdHlsZXMuXG4gICAqL1xuICBzeDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3QsIFByb3BUeXBlcy5ib29sXSkpLCBQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdF0pXG59IDogdm9pZCAwO1xuZXhwb3J0IGRlZmF1bHQgQ2FyZENvbnRlbnQ7IiwKICAgICJpbXBvcnQgZ2VuZXJhdGVVdGlsaXR5Q2xhc3NlcyBmcm9tICdAbXVpL3V0aWxzL2dlbmVyYXRlVXRpbGl0eUNsYXNzZXMnO1xuaW1wb3J0IGdlbmVyYXRlVXRpbGl0eUNsYXNzIGZyb20gJ0BtdWkvdXRpbHMvZ2VuZXJhdGVVdGlsaXR5Q2xhc3MnO1xuZXhwb3J0IGZ1bmN0aW9uIGdldENhcmRDb250ZW50VXRpbGl0eUNsYXNzKHNsb3QpIHtcbiAgcmV0dXJuIGdlbmVyYXRlVXRpbGl0eUNsYXNzKCdNdWlDYXJkQ29udGVudCcsIHNsb3QpO1xufVxuY29uc3QgY2FyZENvbnRlbnRDbGFzc2VzID0gZ2VuZXJhdGVVdGlsaXR5Q2xhc3NlcygnTXVpQ2FyZENvbnRlbnQnLCBbJ3Jvb3QnXSk7XG5leHBvcnQgZGVmYXVsdCBjYXJkQ29udGVudENsYXNzZXM7IiwKICAgICIndXNlIGNsaWVudCc7XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgcmVmVHlwZSBmcm9tICdAbXVpL3V0aWxzL3JlZlR5cGUnO1xuaW1wb3J0IGNvbXBvc2VDbGFzc2VzIGZyb20gJ0BtdWkvdXRpbHMvY29tcG9zZUNsYXNzZXMnO1xuaW1wb3J0IGNhcGl0YWxpemUgZnJvbSBcIi4uL3V0aWxzL2NhcGl0YWxpemUuanNcIjtcbmltcG9ydCByb290U2hvdWxkRm9yd2FyZFByb3AgZnJvbSBcIi4uL3N0eWxlcy9yb290U2hvdWxkRm9yd2FyZFByb3AuanNcIjtcbmltcG9ydCB7IHN0eWxlZCB9IGZyb20gXCIuLi96ZXJvLXN0eWxlZC9pbmRleC5qc1wiO1xuaW1wb3J0IHVzZUNvbnRyb2xsZWQgZnJvbSBcIi4uL3V0aWxzL3VzZUNvbnRyb2xsZWQuanNcIjtcbmltcG9ydCB1c2VGb3JtQ29udHJvbCBmcm9tIFwiLi4vRm9ybUNvbnRyb2wvdXNlRm9ybUNvbnRyb2wuanNcIjtcbmltcG9ydCBCdXR0b25CYXNlIGZyb20gXCIuLi9CdXR0b25CYXNlL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBnZXRTd2l0Y2hCYXNlVXRpbGl0eUNsYXNzIH0gZnJvbSBcIi4vc3dpdGNoQmFzZUNsYXNzZXMuanNcIjtcbmltcG9ydCB1c2VTbG90IGZyb20gXCIuLi91dGlscy91c2VTbG90LmpzXCI7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuY29uc3QgdXNlVXRpbGl0eUNsYXNzZXMgPSBvd25lclN0YXRlID0+IHtcbiAgY29uc3Qge1xuICAgIGNsYXNzZXMsXG4gICAgY2hlY2tlZCxcbiAgICBkaXNhYmxlZCxcbiAgICBlZGdlXG4gIH0gPSBvd25lclN0YXRlO1xuICBjb25zdCBzbG90cyA9IHtcbiAgICByb290OiBbJ3Jvb3QnLCBjaGVja2VkICYmICdjaGVja2VkJywgZGlzYWJsZWQgJiYgJ2Rpc2FibGVkJywgZWRnZSAmJiBgZWRnZSR7Y2FwaXRhbGl6ZShlZGdlKX1gXSxcbiAgICBpbnB1dDogWydpbnB1dCddXG4gIH07XG4gIHJldHVybiBjb21wb3NlQ2xhc3NlcyhzbG90cywgZ2V0U3dpdGNoQmFzZVV0aWxpdHlDbGFzcywgY2xhc3Nlcyk7XG59O1xuY29uc3QgU3dpdGNoQmFzZVJvb3QgPSBzdHlsZWQoQnV0dG9uQmFzZSwge1xuICBuYW1lOiAnTXVpU3dpdGNoQmFzZSdcbn0pKHtcbiAgcGFkZGluZzogOSxcbiAgYm9yZGVyUmFkaXVzOiAnNTAlJyxcbiAgdmFyaWFudHM6IFt7XG4gICAgcHJvcHM6IHtcbiAgICAgIGVkZ2U6ICdzdGFydCcsXG4gICAgICBzaXplOiAnc21hbGwnXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgbWFyZ2luTGVmdDogLTNcbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczogKHtcbiAgICAgIGVkZ2UsXG4gICAgICBvd25lclN0YXRlXG4gICAgfSkgPT4gZWRnZSA9PT0gJ3N0YXJ0JyAmJiBvd25lclN0YXRlLnNpemUgIT09ICdzbWFsbCcsXG4gICAgc3R5bGU6IHtcbiAgICAgIG1hcmdpbkxlZnQ6IC0xMlxuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiB7XG4gICAgICBlZGdlOiAnZW5kJyxcbiAgICAgIHNpemU6ICdzbWFsbCdcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICBtYXJnaW5SaWdodDogLTNcbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczogKHtcbiAgICAgIGVkZ2UsXG4gICAgICBvd25lclN0YXRlXG4gICAgfSkgPT4gZWRnZSA9PT0gJ2VuZCcgJiYgb3duZXJTdGF0ZS5zaXplICE9PSAnc21hbGwnLFxuICAgIHN0eWxlOiB7XG4gICAgICBtYXJnaW5SaWdodDogLTEyXG4gICAgfVxuICB9XVxufSk7XG5jb25zdCBTd2l0Y2hCYXNlSW5wdXQgPSBzdHlsZWQoJ2lucHV0Jywge1xuICBuYW1lOiAnTXVpU3dpdGNoQmFzZScsXG4gIHNob3VsZEZvcndhcmRQcm9wOiByb290U2hvdWxkRm9yd2FyZFByb3Bcbn0pKHtcbiAgY3Vyc29yOiAnaW5oZXJpdCcsXG4gIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICBvcGFjaXR5OiAwLFxuICB3aWR0aDogJzEwMCUnLFxuICBoZWlnaHQ6ICcxMDAlJyxcbiAgdG9wOiAwLFxuICBsZWZ0OiAwLFxuICBtYXJnaW46IDAsXG4gIHBhZGRpbmc6IDAsXG4gIHpJbmRleDogMVxufSk7XG5cbi8qKlxuICogQGlnbm9yZSAtIGludGVybmFsIGNvbXBvbmVudC5cbiAqL1xuY29uc3QgU3dpdGNoQmFzZSA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIFN3aXRjaEJhc2UocHJvcHMsIHJlZikge1xuICBjb25zdCB7XG4gICAgYXV0b0ZvY3VzLFxuICAgIGNoZWNrZWQ6IGNoZWNrZWRQcm9wLFxuICAgIGNoZWNrZWRJY29uLFxuICAgIGRlZmF1bHRDaGVja2VkLFxuICAgIGRpc2FibGVkOiBkaXNhYmxlZFByb3AsXG4gICAgZGlzYWJsZUZvY3VzUmlwcGxlID0gZmFsc2UsXG4gICAgZWRnZSA9IGZhbHNlLFxuICAgIGljb24sXG4gICAgaWQsXG4gICAgaW5wdXRQcm9wcyxcbiAgICBpbnB1dFJlZixcbiAgICBuYW1lLFxuICAgIG9uQmx1cixcbiAgICBvbkNoYW5nZSxcbiAgICBvbkZvY3VzLFxuICAgIHJlYWRPbmx5LFxuICAgIHJlcXVpcmVkID0gZmFsc2UsXG4gICAgdGFiSW5kZXgsXG4gICAgdHlwZSxcbiAgICB2YWx1ZSxcbiAgICBzbG90cyA9IHt9LFxuICAgIHNsb3RQcm9wcyA9IHt9LFxuICAgIC4uLm90aGVyXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgW2NoZWNrZWQsIHNldENoZWNrZWRTdGF0ZV0gPSB1c2VDb250cm9sbGVkKHtcbiAgICBjb250cm9sbGVkOiBjaGVja2VkUHJvcCxcbiAgICBkZWZhdWx0OiBCb29sZWFuKGRlZmF1bHRDaGVja2VkKSxcbiAgICBuYW1lOiAnU3dpdGNoQmFzZScsXG4gICAgc3RhdGU6ICdjaGVja2VkJ1xuICB9KTtcbiAgY29uc3QgbXVpRm9ybUNvbnRyb2wgPSB1c2VGb3JtQ29udHJvbCgpO1xuICBjb25zdCBoYW5kbGVGb2N1cyA9IGV2ZW50ID0+IHtcbiAgICBpZiAob25Gb2N1cykge1xuICAgICAgb25Gb2N1cyhldmVudCk7XG4gICAgfVxuICAgIGlmIChtdWlGb3JtQ29udHJvbCAmJiBtdWlGb3JtQ29udHJvbC5vbkZvY3VzKSB7XG4gICAgICBtdWlGb3JtQ29udHJvbC5vbkZvY3VzKGV2ZW50KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGhhbmRsZUJsdXIgPSBldmVudCA9PiB7XG4gICAgaWYgKG9uQmx1cikge1xuICAgICAgb25CbHVyKGV2ZW50KTtcbiAgICB9XG4gICAgaWYgKG11aUZvcm1Db250cm9sICYmIG11aUZvcm1Db250cm9sLm9uQmx1cikge1xuICAgICAgbXVpRm9ybUNvbnRyb2wub25CbHVyKGV2ZW50KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGhhbmRsZUlucHV0Q2hhbmdlID0gZXZlbnQgPT4ge1xuICAgIC8vIFdvcmthcm91bmQgZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvOTAyM1xuICAgIGlmIChldmVudC5uYXRpdmVFdmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5ld0NoZWNrZWQgPSBldmVudC50YXJnZXQuY2hlY2tlZDtcbiAgICBzZXRDaGVja2VkU3RhdGUobmV3Q2hlY2tlZCk7XG4gICAgaWYgKG9uQ2hhbmdlKSB7XG4gICAgICAvLyBUT0RPIHY2OiByZW1vdmUgdGhlIHNlY29uZCBhcmd1bWVudC5cbiAgICAgIG9uQ2hhbmdlKGV2ZW50LCBuZXdDaGVja2VkKTtcbiAgICB9XG4gIH07XG4gIGxldCBkaXNhYmxlZCA9IGRpc2FibGVkUHJvcDtcbiAgaWYgKG11aUZvcm1Db250cm9sKSB7XG4gICAgaWYgKHR5cGVvZiBkaXNhYmxlZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGRpc2FibGVkID0gbXVpRm9ybUNvbnRyb2wuZGlzYWJsZWQ7XG4gICAgfVxuICB9XG4gIGNvbnN0IGhhc0xhYmVsRm9yID0gdHlwZSA9PT0gJ2NoZWNrYm94JyB8fCB0eXBlID09PSAncmFkaW8nO1xuICBjb25zdCBvd25lclN0YXRlID0ge1xuICAgIC4uLnByb3BzLFxuICAgIGNoZWNrZWQsXG4gICAgZGlzYWJsZWQsXG4gICAgZGlzYWJsZUZvY3VzUmlwcGxlLFxuICAgIGVkZ2VcbiAgfTtcbiAgY29uc3QgY2xhc3NlcyA9IHVzZVV0aWxpdHlDbGFzc2VzKG93bmVyU3RhdGUpO1xuICBjb25zdCBleHRlcm5hbEZvcndhcmRlZFByb3BzID0ge1xuICAgIHNsb3RzLFxuICAgIHNsb3RQcm9wczoge1xuICAgICAgaW5wdXQ6IGlucHV0UHJvcHMsXG4gICAgICAuLi5zbG90UHJvcHNcbiAgICB9XG4gIH07XG4gIGNvbnN0IFtSb290U2xvdCwgcm9vdFNsb3RQcm9wc10gPSB1c2VTbG90KCdyb290Jywge1xuICAgIHJlZixcbiAgICBlbGVtZW50VHlwZTogU3dpdGNoQmFzZVJvb3QsXG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnJvb3QsXG4gICAgc2hvdWxkRm9yd2FyZENvbXBvbmVudFByb3A6IHRydWUsXG4gICAgZXh0ZXJuYWxGb3J3YXJkZWRQcm9wczoge1xuICAgICAgLi4uZXh0ZXJuYWxGb3J3YXJkZWRQcm9wcyxcbiAgICAgIGNvbXBvbmVudDogJ3NwYW4nLFxuICAgICAgLi4ub3RoZXJcbiAgICB9LFxuICAgIGdldFNsb3RQcm9wczogaGFuZGxlcnMgPT4gKHtcbiAgICAgIC4uLmhhbmRsZXJzLFxuICAgICAgb25Gb2N1czogZXZlbnQgPT4ge1xuICAgICAgICBoYW5kbGVycy5vbkZvY3VzPy4oZXZlbnQpO1xuICAgICAgICBoYW5kbGVGb2N1cyhldmVudCk7XG4gICAgICB9LFxuICAgICAgb25CbHVyOiBldmVudCA9PiB7XG4gICAgICAgIGhhbmRsZXJzLm9uQmx1cj8uKGV2ZW50KTtcbiAgICAgICAgaGFuZGxlQmx1cihldmVudCk7XG4gICAgICB9XG4gICAgfSksXG4gICAgb3duZXJTdGF0ZSxcbiAgICBhZGRpdGlvbmFsUHJvcHM6IHtcbiAgICAgIGNlbnRlclJpcHBsZTogdHJ1ZSxcbiAgICAgIGZvY3VzUmlwcGxlOiAhZGlzYWJsZUZvY3VzUmlwcGxlLFxuICAgICAgZGlzYWJsZWQsXG4gICAgICByb2xlOiB1bmRlZmluZWQsXG4gICAgICB0YWJJbmRleDogbnVsbFxuICAgIH1cbiAgfSk7XG4gIGNvbnN0IFtJbnB1dFNsb3QsIGlucHV0U2xvdFByb3BzXSA9IHVzZVNsb3QoJ2lucHV0Jywge1xuICAgIHJlZjogaW5wdXRSZWYsXG4gICAgZWxlbWVudFR5cGU6IFN3aXRjaEJhc2VJbnB1dCxcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuaW5wdXQsXG4gICAgZXh0ZXJuYWxGb3J3YXJkZWRQcm9wcyxcbiAgICBnZXRTbG90UHJvcHM6IGhhbmRsZXJzID0+ICh7XG4gICAgICAuLi5oYW5kbGVycyxcbiAgICAgIG9uQ2hhbmdlOiBldmVudCA9PiB7XG4gICAgICAgIGhhbmRsZXJzLm9uQ2hhbmdlPy4oZXZlbnQpO1xuICAgICAgICBoYW5kbGVJbnB1dENoYW5nZShldmVudCk7XG4gICAgICB9XG4gICAgfSksXG4gICAgb3duZXJTdGF0ZSxcbiAgICBhZGRpdGlvbmFsUHJvcHM6IHtcbiAgICAgIGF1dG9Gb2N1cyxcbiAgICAgIGNoZWNrZWQ6IGNoZWNrZWRQcm9wLFxuICAgICAgZGVmYXVsdENoZWNrZWQsXG4gICAgICBkaXNhYmxlZCxcbiAgICAgIGlkOiBoYXNMYWJlbEZvciA/IGlkIDogdW5kZWZpbmVkLFxuICAgICAgbmFtZSxcbiAgICAgIHJlYWRPbmx5LFxuICAgICAgcmVxdWlyZWQsXG4gICAgICB0YWJJbmRleCxcbiAgICAgIHR5cGUsXG4gICAgICAuLi4odHlwZSA9PT0gJ2NoZWNrYm94JyAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8ge30gOiB7XG4gICAgICAgIHZhbHVlXG4gICAgICB9KVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeHMoUm9vdFNsb3QsIHtcbiAgICAuLi5yb290U2xvdFByb3BzLFxuICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goSW5wdXRTbG90LCB7XG4gICAgICAuLi5pbnB1dFNsb3RQcm9wc1xuICAgIH0pLCBjaGVja2VkID8gY2hlY2tlZEljb24gOiBpY29uXVxuICB9KTtcbn0pO1xuXG4vLyBOQjogSWYgY2hhbmdlZCwgcGxlYXNlIHVwZGF0ZSBDaGVja2JveCwgU3dpdGNoIGFuZCBSYWRpb1xuLy8gc28gdGhhdCB0aGUgQVBJIGRvY3VtZW50YXRpb24gaXMgdXBkYXRlZC5cbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFN3aXRjaEJhc2UucHJvcFR5cGVzID0ge1xuICAvKipcbiAgICogSWYgYHRydWVgLCB0aGUgYGlucHV0YCBlbGVtZW50IGlzIGZvY3VzZWQgZHVyaW5nIHRoZSBmaXJzdCBtb3VudC5cbiAgICovXG4gIGF1dG9Gb2N1czogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBjb21wb25lbnQgaXMgY2hlY2tlZC5cbiAgICovXG4gIGNoZWNrZWQ6IFByb3BUeXBlcy5ib29sLFxuICAvKipcbiAgICogVGhlIGljb24gdG8gZGlzcGxheSB3aGVuIHRoZSBjb21wb25lbnQgaXMgY2hlY2tlZC5cbiAgICovXG4gIGNoZWNrZWRJY29uOiBQcm9wVHlwZXMubm9kZS5pc1JlcXVpcmVkLFxuICAvKipcbiAgICogT3ZlcnJpZGUgb3IgZXh0ZW5kIHRoZSBzdHlsZXMgYXBwbGllZCB0byB0aGUgY29tcG9uZW50LlxuICAgKi9cbiAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdCxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGRlZmF1bHRDaGVja2VkOiBQcm9wVHlwZXMuYm9vbCxcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIGNvbXBvbmVudCBpcyBkaXNhYmxlZC5cbiAgICovXG4gIGRpc2FibGVkOiBQcm9wVHlwZXMuYm9vbCxcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlICBrZXlib2FyZCBmb2N1cyByaXBwbGUgaXMgZGlzYWJsZWQuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBkaXNhYmxlRm9jdXNSaXBwbGU6IFByb3BUeXBlcy5ib29sLFxuICAvKipcbiAgICogSWYgZ2l2ZW4sIHVzZXMgYSBuZWdhdGl2ZSBtYXJnaW4gdG8gY291bnRlcmFjdCB0aGUgcGFkZGluZyBvbiBvbmVcbiAgICogc2lkZSAodGhpcyBpcyBvZnRlbiBoZWxwZnVsIGZvciBhbGlnbmluZyB0aGUgbGVmdCBvciByaWdodFxuICAgKiBzaWRlIG9mIHRoZSBpY29uIHdpdGggY29udGVudCBhYm92ZSBvciBiZWxvdywgd2l0aG91dCBydWluaW5nIHRoZSBib3JkZXJcbiAgICogc2l6ZSBhbmQgc2hhcGUpLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZWRnZTogUHJvcFR5cGVzLm9uZU9mKFsnZW5kJywgJ3N0YXJ0JywgZmFsc2VdKSxcbiAgLyoqXG4gICAqIFRoZSBpY29uIHRvIGRpc3BsYXkgd2hlbiB0aGUgY29tcG9uZW50IGlzIHVuY2hlY2tlZC5cbiAgICovXG4gIGljb246IFByb3BUeXBlcy5ub2RlLmlzUmVxdWlyZWQsXG4gIC8qKlxuICAgKiBUaGUgaWQgb2YgdGhlIGBpbnB1dGAgZWxlbWVudC5cbiAgICovXG4gIGlkOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAvKipcbiAgICogW0F0dHJpYnV0ZXNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvUmVmZXJlbmNlL0VsZW1lbnRzL2lucHV0I2F0dHJpYnV0ZXMpIGFwcGxpZWQgdG8gdGhlIGBpbnB1dGAgZWxlbWVudC5cbiAgICovXG4gIGlucHV0UHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG4gIC8qKlxuICAgKiBQYXNzIGEgcmVmIHRvIHRoZSBgaW5wdXRgIGVsZW1lbnQuXG4gICAqL1xuICBpbnB1dFJlZjogcmVmVHlwZSxcbiAgLypcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgbmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIG9uQmx1cjogUHJvcFR5cGVzLmZ1bmMsXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmaXJlZCB3aGVuIHRoZSBzdGF0ZSBpcyBjaGFuZ2VkLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnQgVGhlIGV2ZW50IHNvdXJjZSBvZiB0aGUgY2FsbGJhY2suXG4gICAqIFlvdSBjYW4gcHVsbCBvdXQgdGhlIG5ldyBjaGVja2VkIHN0YXRlIGJ5IGFjY2Vzc2luZyBgZXZlbnQudGFyZ2V0LmNoZWNrZWRgIChib29sZWFuKS5cbiAgICovXG4gIG9uQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIG9uRm9jdXM6IFByb3BUeXBlcy5mdW5jLFxuICAvKipcbiAgICogSXQgcHJldmVudHMgdGhlIHVzZXIgZnJvbSBjaGFuZ2luZyB0aGUgdmFsdWUgb2YgdGhlIGZpZWxkXG4gICAqIChub3QgZnJvbSBpbnRlcmFjdGluZyB3aXRoIHRoZSBmaWVsZCkuXG4gICAqL1xuICByZWFkT25seTogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBgaW5wdXRgIGVsZW1lbnQgaXMgcmVxdWlyZWQuXG4gICAqL1xuICByZXF1aXJlZDogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBUaGUgcHJvcHMgdXNlZCBmb3IgZWFjaCBzbG90IGluc2lkZS5cbiAgICogQGRlZmF1bHQge31cbiAgICovXG4gIHNsb3RQcm9wczogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBpbnB1dDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3RdKSxcbiAgICByb290OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdF0pXG4gIH0pLFxuICAvKipcbiAgICogVGhlIGNvbXBvbmVudHMgdXNlZCBmb3IgZWFjaCBzbG90IGluc2lkZS5cbiAgICogQGRlZmF1bHQge31cbiAgICovXG4gIHNsb3RzOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIGlucHV0OiBQcm9wVHlwZXMuZWxlbWVudFR5cGUsXG4gICAgcm9vdDogUHJvcFR5cGVzLmVsZW1lbnRUeXBlXG4gIH0pLFxuICAvKipcbiAgICogVGhlIHN5c3RlbSBwcm9wIHRoYXQgYWxsb3dzIGRlZmluaW5nIHN5c3RlbSBvdmVycmlkZXMgYXMgd2VsbCBhcyBhZGRpdGlvbmFsIENTUyBzdHlsZXMuXG4gICAqL1xuICBzeDogUHJvcFR5cGVzLm9iamVjdCxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIHRhYkluZGV4OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gIC8qKlxuICAgKiBUaGUgaW5wdXQgY29tcG9uZW50IHByb3AgYHR5cGVgLlxuICAgKi9cbiAgdHlwZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAvKipcbiAgICogVGhlIHZhbHVlIG9mIHRoZSBjb21wb25lbnQuXG4gICAqL1xuICB2YWx1ZTogUHJvcFR5cGVzLmFueVxufSA6IHZvaWQgMDtcbmV4cG9ydCBkZWZhdWx0IFN3aXRjaEJhc2U7IiwKICAgICJpbXBvcnQgZ2VuZXJhdGVVdGlsaXR5Q2xhc3NlcyBmcm9tICdAbXVpL3V0aWxzL2dlbmVyYXRlVXRpbGl0eUNsYXNzZXMnO1xuaW1wb3J0IGdlbmVyYXRlVXRpbGl0eUNsYXNzIGZyb20gJ0BtdWkvdXRpbHMvZ2VuZXJhdGVVdGlsaXR5Q2xhc3MnO1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN3aXRjaEJhc2VVdGlsaXR5Q2xhc3Moc2xvdCkge1xuICByZXR1cm4gZ2VuZXJhdGVVdGlsaXR5Q2xhc3MoJ1ByaXZhdGVTd2l0Y2hCYXNlJywgc2xvdCk7XG59XG5jb25zdCBzd2l0Y2hCYXNlQ2xhc3NlcyA9IGdlbmVyYXRlVXRpbGl0eUNsYXNzZXMoJ1ByaXZhdGVTd2l0Y2hCYXNlJywgWydyb290JywgJ2NoZWNrZWQnLCAnZGlzYWJsZWQnLCAnaW5wdXQnLCAnZWRnZVN0YXJ0JywgJ2VkZ2VFbmQnXSk7XG5leHBvcnQgZGVmYXVsdCBzd2l0Y2hCYXNlQ2xhc3NlczsiLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IGdsb2JhbENzcyB9IGZyb20gXCIuLi96ZXJvLXN0eWxlZC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgdXNlRGVmYXVsdFByb3BzIH0gZnJvbSBcIi4uL0RlZmF1bHRQcm9wc1Byb3ZpZGVyL2luZGV4LmpzXCI7XG5cbi8vIHRvIGRldGVybWluZSBpZiB0aGUgZ2xvYmFsIHN0eWxlcyBhcmUgc3RhdGljIG9yIGR5bmFtaWNcbmltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5jb25zdCBpc0R5bmFtaWNTdXBwb3J0ID0gdHlwZW9mIGdsb2JhbENzcyh7fSkgPT09ICdmdW5jdGlvbic7XG5leHBvcnQgY29uc3QgaHRtbCA9ICh0aGVtZSwgZW5hYmxlQ29sb3JTY2hlbWUpID0+ICh7XG4gIFdlYmtpdEZvbnRTbW9vdGhpbmc6ICdhbnRpYWxpYXNlZCcsXG4gIC8vIEFudGlhbGlhc2luZy5cbiAgTW96T3N4Rm9udFNtb290aGluZzogJ2dyYXlzY2FsZScsXG4gIC8vIEFudGlhbGlhc2luZy5cbiAgLy8gQ2hhbmdlIGZyb20gYGJveC1zaXppbmc6IGNvbnRlbnQtYm94YCBzbyB0aGF0IGB3aWR0aGBcbiAgLy8gaXMgbm90IGFmZmVjdGVkIGJ5IGBwYWRkaW5nYCBvciBgYm9yZGVyYC5cbiAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gIC8vIEZpeCBmb250IHJlc2l6ZSBwcm9ibGVtIGluIGlPU1xuICBXZWJraXRUZXh0U2l6ZUFkanVzdDogJzEwMCUnLFxuICAvLyBXaGVuIHVzZWQgdW5kZXIgQ3NzVmFyc1Byb3ZpZGVyLCBjb2xvclNjaGVtZSBzaG91bGQgbm90IGJlIGFwcGxpZWQgZHluYW1pY2FsbHkgYmVjYXVzZSBpdCB3aWxsIGdlbmVyYXRlIHRoZSBzdHlsZXNoZWV0IHR3aWNlIGZvciBzZXJ2ZXItcmVuZGVyZWQgYXBwbGljYXRpb25zLlxuICAuLi4oZW5hYmxlQ29sb3JTY2hlbWUgJiYgIXRoZW1lLnZhcnMgJiYge1xuICAgIGNvbG9yU2NoZW1lOiB0aGVtZS5wYWxldHRlLm1vZGVcbiAgfSlcbn0pO1xuZXhwb3J0IGNvbnN0IGJvZHkgPSB0aGVtZSA9PiAoe1xuICBjb2xvcjogKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGUudGV4dC5wcmltYXJ5LFxuICAuLi50aGVtZS50eXBvZ3JhcGh5LmJvZHkxLFxuICBiYWNrZ3JvdW5kQ29sb3I6ICh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlLmJhY2tncm91bmQuZGVmYXVsdCxcbiAgJ0BtZWRpYSBwcmludCc6IHtcbiAgICAvLyBTYXZlIHByaW50ZXIgaW5rLlxuICAgIGJhY2tncm91bmRDb2xvcjogKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGUuY29tbW9uLndoaXRlXG4gIH1cbn0pO1xuZXhwb3J0IGNvbnN0IHN0eWxlcyA9ICh0aGVtZSwgZW5hYmxlQ29sb3JTY2hlbWUgPSBmYWxzZSkgPT4ge1xuICBjb25zdCBjb2xvclNjaGVtZVN0eWxlcyA9IHt9O1xuICBpZiAoZW5hYmxlQ29sb3JTY2hlbWUgJiYgdGhlbWUuY29sb3JTY2hlbWVzICYmIHR5cGVvZiB0aGVtZS5nZXRDb2xvclNjaGVtZVNlbGVjdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgT2JqZWN0LmVudHJpZXModGhlbWUuY29sb3JTY2hlbWVzKS5mb3JFYWNoKChba2V5LCBzY2hlbWVdKSA9PiB7XG4gICAgICBjb25zdCBzZWxlY3RvciA9IHRoZW1lLmdldENvbG9yU2NoZW1lU2VsZWN0b3Ioa2V5KTtcbiAgICAgIGlmIChzZWxlY3Rvci5zdGFydHNXaXRoKCdAJykpIHtcbiAgICAgICAgLy8gZm9yIEBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWUpLCB3ZSBuZWVkIHRvIHRhcmdldCA6cm9vdFxuICAgICAgICBjb2xvclNjaGVtZVN0eWxlc1tzZWxlY3Rvcl0gPSB7XG4gICAgICAgICAgJzpyb290Jzoge1xuICAgICAgICAgICAgY29sb3JTY2hlbWU6IHNjaGVtZS5wYWxldHRlPy5tb2RlXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZWxzZSwgaXQncyBsaWtlbHkgdGhhdCB0aGUgc2VsZWN0b3IgYWxyZWFkeSB0YXJnZXQgYW4gZWxlbWVudCB3aXRoIGEgY2xhc3Mgb3IgZGF0YSBhdHRyaWJ1dGVcbiAgICAgICAgY29sb3JTY2hlbWVTdHlsZXNbc2VsZWN0b3IucmVwbGFjZSgvXFxzKiYvLCAnJyldID0ge1xuICAgICAgICAgIGNvbG9yU2NoZW1lOiBzY2hlbWUucGFsZXR0ZT8ubW9kZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGxldCBkZWZhdWx0U3R5bGVzID0ge1xuICAgIGh0bWw6IGh0bWwodGhlbWUsIGVuYWJsZUNvbG9yU2NoZW1lKSxcbiAgICAnKiwgKjo6YmVmb3JlLCAqOjphZnRlcic6IHtcbiAgICAgIGJveFNpemluZzogJ2luaGVyaXQnXG4gICAgfSxcbiAgICAnc3Ryb25nLCBiJzoge1xuICAgICAgZm9udFdlaWdodDogdGhlbWUudHlwb2dyYXBoeS5mb250V2VpZ2h0Qm9sZFxuICAgIH0sXG4gICAgYm9keToge1xuICAgICAgbWFyZ2luOiAwLFxuICAgICAgLy8gUmVtb3ZlIHRoZSBtYXJnaW4gaW4gYWxsIGJyb3dzZXJzLlxuICAgICAgLi4uYm9keSh0aGVtZSksXG4gICAgICAvLyBBZGQgc3VwcG9ydCBmb3IgZG9jdW1lbnQuYm9keS5yZXF1ZXN0RnVsbFNjcmVlbigpLlxuICAgICAgLy8gT3RoZXIgZWxlbWVudHMsIGlmIGJhY2tncm91bmQgdHJhbnNwYXJlbnQsIGFyZSBub3Qgc3VwcG9ydGVkLlxuICAgICAgJyY6OmJhY2tkcm9wJzoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlLmJhY2tncm91bmQuZGVmYXVsdFxuICAgICAgfVxuICAgIH0sXG4gICAgLi4uY29sb3JTY2hlbWVTdHlsZXNcbiAgfTtcbiAgY29uc3QgdGhlbWVPdmVycmlkZXMgPSB0aGVtZS5jb21wb25lbnRzPy5NdWlDc3NCYXNlbGluZT8uc3R5bGVPdmVycmlkZXM7XG4gIGlmICh0aGVtZU92ZXJyaWRlcykge1xuICAgIGRlZmF1bHRTdHlsZXMgPSBbZGVmYXVsdFN0eWxlcywgdGhlbWVPdmVycmlkZXNdO1xuICB9XG4gIHJldHVybiBkZWZhdWx0U3R5bGVzO1xufTtcblxuLy8gYGVjc2Agc3RhbmRzIGZvciBlbmFibGVDb2xvclNjaGVtZS4gVGhpcyBpcyBpbnRlcm5hbCBsb2dpYyB0byBtYWtlIGl0IHdvcmsgd2l0aCBQaWdtZW50IENTUywgc28gc2hvcnRlciBpcyBiZXR0ZXIuXG5jb25zdCBTRUxFQ1RPUiA9ICdtdWktZWNzJztcbmNvbnN0IHN0YXRpY1N0eWxlcyA9IHRoZW1lID0+IHtcbiAgY29uc3QgcmVzdWx0ID0gc3R5bGVzKHRoZW1lLCBmYWxzZSk7XG4gIGNvbnN0IGJhc2VTdHlsZXMgPSBBcnJheS5pc0FycmF5KHJlc3VsdCkgPyByZXN1bHRbMF0gOiByZXN1bHQ7XG4gIGlmICghdGhlbWUudmFycyAmJiBiYXNlU3R5bGVzKSB7XG4gICAgYmFzZVN0eWxlcy5odG1sW2A6cm9vdDpoYXMoJHtTRUxFQ1RPUn0pYF0gPSB7XG4gICAgICBjb2xvclNjaGVtZTogdGhlbWUucGFsZXR0ZS5tb2RlXG4gICAgfTtcbiAgfVxuICBpZiAodGhlbWUuY29sb3JTY2hlbWVzKSB7XG4gICAgT2JqZWN0LmVudHJpZXModGhlbWUuY29sb3JTY2hlbWVzKS5mb3JFYWNoKChba2V5LCBzY2hlbWVdKSA9PiB7XG4gICAgICBjb25zdCBzZWxlY3RvciA9IHRoZW1lLmdldENvbG9yU2NoZW1lU2VsZWN0b3Ioa2V5KTtcbiAgICAgIGlmIChzZWxlY3Rvci5zdGFydHNXaXRoKCdAJykpIHtcbiAgICAgICAgLy8gZm9yIEBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWUpLCB3ZSBuZWVkIHRvIHRhcmdldCA6cm9vdFxuICAgICAgICBiYXNlU3R5bGVzW3NlbGVjdG9yXSA9IHtcbiAgICAgICAgICBbYDpyb290Om5vdCg6aGFzKC4ke1NFTEVDVE9SfSkpYF06IHtcbiAgICAgICAgICAgIGNvbG9yU2NoZW1lOiBzY2hlbWUucGFsZXR0ZT8ubW9kZVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGVsc2UsIGl0J3MgbGlrZWx5IHRoYXQgdGhlIHNlbGVjdG9yIGFscmVhZHkgdGFyZ2V0IGFuIGVsZW1lbnQgd2l0aCBhIGNsYXNzIG9yIGRhdGEgYXR0cmlidXRlXG4gICAgICAgIGJhc2VTdHlsZXNbc2VsZWN0b3IucmVwbGFjZSgvXFxzKiYvLCAnJyldID0ge1xuICAgICAgICAgIFtgJjpub3QoOmhhcyguJHtTRUxFQ1RPUn0pKWBdOiB7XG4gICAgICAgICAgICBjb2xvclNjaGVtZTogc2NoZW1lLnBhbGV0dGU/Lm1vZGVcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5jb25zdCBHbG9iYWxTdHlsZXMgPSBnbG9iYWxDc3MoaXNEeW5hbWljU3VwcG9ydCA/ICh7XG4gIHRoZW1lLFxuICBlbmFibGVDb2xvclNjaGVtZVxufSkgPT4gc3R5bGVzKHRoZW1lLCBlbmFibGVDb2xvclNjaGVtZSkgOiAoe1xuICB0aGVtZVxufSkgPT4gc3RhdGljU3R5bGVzKHRoZW1lKSk7XG5cbi8qKlxuICogS2lja3N0YXJ0IGFuIGVsZWdhbnQsIGNvbnNpc3RlbnQsIGFuZCBzaW1wbGUgYmFzZWxpbmUgdG8gYnVpbGQgdXBvbi5cbiAqL1xuZnVuY3Rpb24gQ3NzQmFzZWxpbmUoaW5Qcm9wcykge1xuICBjb25zdCBwcm9wcyA9IHVzZURlZmF1bHRQcm9wcyh7XG4gICAgcHJvcHM6IGluUHJvcHMsXG4gICAgbmFtZTogJ011aUNzc0Jhc2VsaW5lJ1xuICB9KTtcbiAgY29uc3Qge1xuICAgIGNoaWxkcmVuLFxuICAgIGVuYWJsZUNvbG9yU2NoZW1lID0gZmFsc2VcbiAgfSA9IHByb3BzO1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3hzKFJlYWN0LkZyYWdtZW50LCB7XG4gICAgY2hpbGRyZW46IFtpc0R5bmFtaWNTdXBwb3J0ICYmIC8qI19fUFVSRV9fKi9fanN4KEdsb2JhbFN0eWxlcywge1xuICAgICAgZW5hYmxlQ29sb3JTY2hlbWU6IGVuYWJsZUNvbG9yU2NoZW1lXG4gICAgfSksICFpc0R5bmFtaWNTdXBwb3J0ICYmICFlbmFibGVDb2xvclNjaGVtZSAmJiAvKiNfX1BVUkVfXyovX2pzeChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBTRUxFQ1RPUixcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGRpc3BsYXk6ICdub25lJ1xuICAgICAgfVxuICAgIH0pLCBjaGlsZHJlbl1cbiAgfSk7XG59XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBDc3NCYXNlbGluZS5wcm9wVHlwZXMgLyogcmVtb3ZlLXByb3B0eXBlcyAqLyA9IHtcbiAgLy8g4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIFdhcm5pbmcg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQXG4gIC8vIOKUgiBUaGVzZSBQcm9wVHlwZXMgYXJlIGdlbmVyYXRlZCBmcm9tIHRoZSBUeXBlU2NyaXB0IHR5cGUgZGVmaW5pdGlvbnMuIOKUglxuICAvLyDilIIgICAgVG8gdXBkYXRlIHRoZW0sIGVkaXQgdGhlIGQudHMgZmlsZSBhbmQgcnVuIGBwbnBtIHByb3B0eXBlc2AuICAgICDilIJcbiAgLy8g4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG4gIC8qKlxuICAgKiBZb3UgY2FuIHdyYXAgYSBub2RlLlxuICAgKi9cbiAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuICAvKipcbiAgICogRW5hYmxlIGBjb2xvci1zY2hlbWVgIENTUyBwcm9wZXJ0eSB0byB1c2UgYHRoZW1lLnBhbGV0dGUubW9kZWAuXG4gICAqIEZvciBtb3JlIGRldGFpbHMsIGNoZWNrIG91dCBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvY29sb3Itc2NoZW1lXG4gICAqIEZvciBicm93c2VyIHN1cHBvcnQsIGNoZWNrIG91dCBodHRwczovL2Nhbml1c2UuY29tLz9zZWFyY2g9Y29sb3Itc2NoZW1lXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBlbmFibGVDb2xvclNjaGVtZTogUHJvcFR5cGVzLmJvb2xcbn0gOiB2b2lkIDA7XG5leHBvcnQgZGVmYXVsdCBDc3NCYXNlbGluZTsiLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnO1xuaW1wb3J0IGNvbXBvc2VDbGFzc2VzIGZyb20gJ0BtdWkvdXRpbHMvY29tcG9zZUNsYXNzZXMnO1xuaW1wb3J0IHVzZUlkIGZyb20gJ0BtdWkvdXRpbHMvdXNlSWQnO1xuaW1wb3J0IGNhcGl0YWxpemUgZnJvbSBcIi4uL3V0aWxzL2NhcGl0YWxpemUuanNcIjtcbmltcG9ydCBNb2RhbCBmcm9tIFwiLi4vTW9kYWwvaW5kZXguanNcIjtcbmltcG9ydCBGYWRlIGZyb20gXCIuLi9GYWRlL2luZGV4LmpzXCI7XG5pbXBvcnQgUGFwZXIgZnJvbSBcIi4uL1BhcGVyL2luZGV4LmpzXCI7XG5pbXBvcnQgZGlhbG9nQ2xhc3NlcywgeyBnZXREaWFsb2dVdGlsaXR5Q2xhc3MgfSBmcm9tIFwiLi9kaWFsb2dDbGFzc2VzLmpzXCI7XG5pbXBvcnQgRGlhbG9nQ29udGV4dCBmcm9tIFwiLi9EaWFsb2dDb250ZXh0LmpzXCI7XG5pbXBvcnQgQmFja2Ryb3AgZnJvbSBcIi4uL0JhY2tkcm9wL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBzdHlsZWQsIHVzZVRoZW1lIH0gZnJvbSBcIi4uL3plcm8tc3R5bGVkL2luZGV4LmpzXCI7XG5pbXBvcnQgbWVtb1RoZW1lIGZyb20gXCIuLi91dGlscy9tZW1vVGhlbWUuanNcIjtcbmltcG9ydCB7IHVzZURlZmF1bHRQcm9wcyB9IGZyb20gXCIuLi9EZWZhdWx0UHJvcHNQcm92aWRlci9pbmRleC5qc1wiO1xuaW1wb3J0IHVzZVNsb3QgZnJvbSBcIi4uL3V0aWxzL3VzZVNsb3QuanNcIjtcbmltcG9ydCB7IGpzeCBhcyBfanN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5jb25zdCBEaWFsb2dCYWNrZHJvcCA9IHN0eWxlZChCYWNrZHJvcCwge1xuICBuYW1lOiAnTXVpRGlhbG9nJyxcbiAgc2xvdDogJ0JhY2tkcm9wJyxcbiAgb3ZlcnJpZGVzOiAocHJvcHMsIHN0eWxlcykgPT4gc3R5bGVzLmJhY2tkcm9wXG59KSh7XG4gIC8vIEltcHJvdmUgc2Nyb2xsYWJsZSBkaWFsb2cgc3VwcG9ydC5cbiAgekluZGV4OiAtMVxufSk7XG5jb25zdCB1c2VVdGlsaXR5Q2xhc3NlcyA9IG93bmVyU3RhdGUgPT4ge1xuICBjb25zdCB7XG4gICAgY2xhc3NlcyxcbiAgICBzY3JvbGwsXG4gICAgbWF4V2lkdGgsXG4gICAgZnVsbFdpZHRoLFxuICAgIGZ1bGxTY3JlZW5cbiAgfSA9IG93bmVyU3RhdGU7XG4gIGNvbnN0IHNsb3RzID0ge1xuICAgIHJvb3Q6IFsncm9vdCddLFxuICAgIGNvbnRhaW5lcjogWydjb250YWluZXInLCBgc2Nyb2xsJHtjYXBpdGFsaXplKHNjcm9sbCl9YF0sXG4gICAgcGFwZXI6IFsncGFwZXInLCBgcGFwZXJTY3JvbGwke2NhcGl0YWxpemUoc2Nyb2xsKX1gLCBgcGFwZXJXaWR0aCR7Y2FwaXRhbGl6ZShTdHJpbmcobWF4V2lkdGgpKX1gLCBmdWxsV2lkdGggJiYgJ3BhcGVyRnVsbFdpZHRoJywgZnVsbFNjcmVlbiAmJiAncGFwZXJGdWxsU2NyZWVuJ11cbiAgfTtcbiAgcmV0dXJuIGNvbXBvc2VDbGFzc2VzKHNsb3RzLCBnZXREaWFsb2dVdGlsaXR5Q2xhc3MsIGNsYXNzZXMpO1xufTtcbmNvbnN0IERpYWxvZ1Jvb3QgPSBzdHlsZWQoTW9kYWwsIHtcbiAgbmFtZTogJ011aURpYWxvZycsXG4gIHNsb3Q6ICdSb290J1xufSkoe1xuICAnQG1lZGlhIHByaW50Jzoge1xuICAgIC8vIFVzZSAhaW1wb3J0YW50IHRvIG92ZXJyaWRlIHRoZSBNb2RhbCBpbmxpbmUtc3R5bGUuXG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZSAhaW1wb3J0YW50J1xuICB9XG59KTtcbmNvbnN0IERpYWxvZ0NvbnRhaW5lciA9IHN0eWxlZCgnZGl2Jywge1xuICBuYW1lOiAnTXVpRGlhbG9nJyxcbiAgc2xvdDogJ0NvbnRhaW5lcicsXG4gIG92ZXJyaWRlc1Jlc29sdmVyOiAocHJvcHMsIHN0eWxlcykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIG93bmVyU3RhdGVcbiAgICB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIFtzdHlsZXMuY29udGFpbmVyLCBzdHlsZXNbYHNjcm9sbCR7Y2FwaXRhbGl6ZShvd25lclN0YXRlLnNjcm9sbCl9YF1dO1xuICB9XG59KSh7XG4gIGhlaWdodDogJzEwMCUnLFxuICAnQG1lZGlhIHByaW50Jzoge1xuICAgIGhlaWdodDogJ2F1dG8nXG4gIH0sXG4gIC8vIFdlIGRpc2FibGUgdGhlIGZvY3VzIHJpbmcgZm9yIG1vdXNlLCB0b3VjaCBhbmQga2V5Ym9hcmQgdXNlcnMuXG4gIG91dGxpbmU6IDAsXG4gIHZhcmlhbnRzOiBbe1xuICAgIHByb3BzOiB7XG4gICAgICBzY3JvbGw6ICdwYXBlcidcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJ1xuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiB7XG4gICAgICBzY3JvbGw6ICdib2R5J1xuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIG92ZXJmbG93WTogJ2F1dG8nLFxuICAgICAgb3ZlcmZsb3dYOiAnaGlkZGVuJyxcbiAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgICAnJjo6YWZ0ZXInOiB7XG4gICAgICAgIGNvbnRlbnQ6ICdcIlwiJyxcbiAgICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgICAgIHZlcnRpY2FsQWxpZ246ICdtaWRkbGUnLFxuICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgd2lkdGg6ICcwJ1xuICAgICAgfVxuICAgIH1cbiAgfV1cbn0pO1xuY29uc3QgRGlhbG9nUGFwZXIgPSBzdHlsZWQoUGFwZXIsIHtcbiAgbmFtZTogJ011aURpYWxvZycsXG4gIHNsb3Q6ICdQYXBlcicsXG4gIG92ZXJyaWRlc1Jlc29sdmVyOiAocHJvcHMsIHN0eWxlcykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIG93bmVyU3RhdGVcbiAgICB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIFtzdHlsZXMucGFwZXIsIHN0eWxlc1tgc2Nyb2xsUGFwZXIke2NhcGl0YWxpemUob3duZXJTdGF0ZS5zY3JvbGwpfWBdLCBzdHlsZXNbYHBhcGVyV2lkdGgke2NhcGl0YWxpemUoU3RyaW5nKG93bmVyU3RhdGUubWF4V2lkdGgpKX1gXSwgb3duZXJTdGF0ZS5mdWxsV2lkdGggJiYgc3R5bGVzLnBhcGVyRnVsbFdpZHRoLCBvd25lclN0YXRlLmZ1bGxTY3JlZW4gJiYgc3R5bGVzLnBhcGVyRnVsbFNjcmVlbl07XG4gIH1cbn0pKG1lbW9UaGVtZSgoe1xuICB0aGVtZVxufSkgPT4gKHtcbiAgbWFyZ2luOiAzMixcbiAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gIG92ZXJmbG93WTogJ2F1dG8nLFxuICAnQG1lZGlhIHByaW50Jzoge1xuICAgIG92ZXJmbG93WTogJ3Zpc2libGUnLFxuICAgIGJveFNoYWRvdzogJ25vbmUnXG4gIH0sXG4gIHZhcmlhbnRzOiBbe1xuICAgIHByb3BzOiB7XG4gICAgICBzY3JvbGw6ICdwYXBlcidcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgIG1heEhlaWdodDogJ2NhbGMoMTAwJSAtIDY0cHgpJ1xuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiB7XG4gICAgICBzY3JvbGw6ICdib2R5J1xuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgdmVydGljYWxBbGlnbjogJ21pZGRsZScsXG4gICAgICB0ZXh0QWxpZ246ICdpbml0aWFsJ1xuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiAoe1xuICAgICAgb3duZXJTdGF0ZVxuICAgIH0pID0+ICFvd25lclN0YXRlLm1heFdpZHRoLFxuICAgIHN0eWxlOiB7XG4gICAgICBtYXhXaWR0aDogJ2NhbGMoMTAwJSAtIDY0cHgpJ1xuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiB7XG4gICAgICBtYXhXaWR0aDogJ3hzJ1xuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIG1heFdpZHRoOiB0aGVtZS5icmVha3BvaW50cy51bml0ID09PSAncHgnID8gTWF0aC5tYXgodGhlbWUuYnJlYWtwb2ludHMudmFsdWVzLnhzLCA0NDQpIDogYG1heCgke3RoZW1lLmJyZWFrcG9pbnRzLnZhbHVlcy54c30ke3RoZW1lLmJyZWFrcG9pbnRzLnVuaXR9LCA0NDRweClgLFxuICAgICAgW2AmLiR7ZGlhbG9nQ2xhc3Nlcy5wYXBlclNjcm9sbEJvZHl9YF06IHtcbiAgICAgICAgW3RoZW1lLmJyZWFrcG9pbnRzLmRvd24oTWF0aC5tYXgodGhlbWUuYnJlYWtwb2ludHMudmFsdWVzLnhzLCA0NDQpICsgMzIgKiAyKV06IHtcbiAgICAgICAgICBtYXhXaWR0aDogJ2NhbGMoMTAwJSAtIDY0cHgpJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCAuLi5PYmplY3Qua2V5cyh0aGVtZS5icmVha3BvaW50cy52YWx1ZXMpLmZpbHRlcihtYXhXaWR0aCA9PiBtYXhXaWR0aCAhPT0gJ3hzJykubWFwKG1heFdpZHRoID0+ICh7XG4gICAgcHJvcHM6IHtcbiAgICAgIG1heFdpZHRoXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgbWF4V2lkdGg6IGAke3RoZW1lLmJyZWFrcG9pbnRzLnZhbHVlc1ttYXhXaWR0aF19JHt0aGVtZS5icmVha3BvaW50cy51bml0fWAsXG4gICAgICBbYCYuJHtkaWFsb2dDbGFzc2VzLnBhcGVyU2Nyb2xsQm9keX1gXToge1xuICAgICAgICBbdGhlbWUuYnJlYWtwb2ludHMuZG93bih0aGVtZS5icmVha3BvaW50cy52YWx1ZXNbbWF4V2lkdGhdICsgMzIgKiAyKV06IHtcbiAgICAgICAgICBtYXhXaWR0aDogJ2NhbGMoMTAwJSAtIDY0cHgpJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KSksIHtcbiAgICBwcm9wczogKHtcbiAgICAgIG93bmVyU3RhdGVcbiAgICB9KSA9PiBvd25lclN0YXRlLmZ1bGxXaWR0aCxcbiAgICBzdHlsZToge1xuICAgICAgd2lkdGg6ICdjYWxjKDEwMCUgLSA2NHB4KSdcbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczogKHtcbiAgICAgIG93bmVyU3RhdGVcbiAgICB9KSA9PiBvd25lclN0YXRlLmZ1bGxTY3JlZW4sXG4gICAgc3R5bGU6IHtcbiAgICAgIG1hcmdpbjogMCxcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICBtYXhXaWR0aDogJzEwMCUnLFxuICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICBtYXhIZWlnaHQ6ICdub25lJyxcbiAgICAgIGJvcmRlclJhZGl1czogMCxcbiAgICAgIFtgJi4ke2RpYWxvZ0NsYXNzZXMucGFwZXJTY3JvbGxCb2R5fWBdOiB7XG4gICAgICAgIG1hcmdpbjogMCxcbiAgICAgICAgbWF4V2lkdGg6ICcxMDAlJ1xuICAgICAgfVxuICAgIH1cbiAgfV1cbn0pKSk7XG5cbi8qKlxuICogRGlhbG9ncyBhcmUgb3ZlcmxhaWQgbW9kYWwgcGFwZXIgYmFzZWQgY29tcG9uZW50cyB3aXRoIGEgYmFja2Ryb3AuXG4gKi9cbmNvbnN0IERpYWxvZyA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIERpYWxvZyhpblByb3BzLCByZWYpIHtcbiAgY29uc3QgcHJvcHMgPSB1c2VEZWZhdWx0UHJvcHMoe1xuICAgIHByb3BzOiBpblByb3BzLFxuICAgIG5hbWU6ICdNdWlEaWFsb2cnXG4gIH0pO1xuICBjb25zdCB0aGVtZSA9IHVzZVRoZW1lKCk7XG4gIGNvbnN0IGRlZmF1bHRUcmFuc2l0aW9uRHVyYXRpb24gPSB7XG4gICAgZW50ZXI6IHRoZW1lLnRyYW5zaXRpb25zLmR1cmF0aW9uLmVudGVyaW5nU2NyZWVuLFxuICAgIGV4aXQ6IHRoZW1lLnRyYW5zaXRpb25zLmR1cmF0aW9uLmxlYXZpbmdTY3JlZW5cbiAgfTtcbiAgY29uc3Qge1xuICAgICdhcmlhLWRlc2NyaWJlZGJ5JzogYXJpYURlc2NyaWJlZGJ5LFxuICAgICdhcmlhLWxhYmVsbGVkYnknOiBhcmlhTGFiZWxsZWRieVByb3AsXG4gICAgJ2FyaWEtbW9kYWwnOiBhcmlhTW9kYWwgPSB0cnVlLFxuICAgIEJhY2tkcm9wQ29tcG9uZW50LFxuICAgIEJhY2tkcm9wUHJvcHMsXG4gICAgY2hpbGRyZW4sXG4gICAgY2xhc3NOYW1lLFxuICAgIGRpc2FibGVFc2NhcGVLZXlEb3duID0gZmFsc2UsXG4gICAgZnVsbFNjcmVlbiA9IGZhbHNlLFxuICAgIGZ1bGxXaWR0aCA9IGZhbHNlLFxuICAgIG1heFdpZHRoID0gJ3NtJyxcbiAgICBvbkNsaWNrLFxuICAgIG9uQ2xvc2UsXG4gICAgb3BlbixcbiAgICBQYXBlckNvbXBvbmVudCA9IFBhcGVyLFxuICAgIFBhcGVyUHJvcHMgPSB7fSxcbiAgICBzY3JvbGwgPSAncGFwZXInLFxuICAgIHNsb3RzID0ge30sXG4gICAgc2xvdFByb3BzID0ge30sXG4gICAgVHJhbnNpdGlvbkNvbXBvbmVudCA9IEZhZGUsXG4gICAgdHJhbnNpdGlvbkR1cmF0aW9uID0gZGVmYXVsdFRyYW5zaXRpb25EdXJhdGlvbixcbiAgICBUcmFuc2l0aW9uUHJvcHMsXG4gICAgLi4ub3RoZXJcbiAgfSA9IHByb3BzO1xuICBjb25zdCBvd25lclN0YXRlID0ge1xuICAgIC4uLnByb3BzLFxuICAgIGRpc2FibGVFc2NhcGVLZXlEb3duLFxuICAgIGZ1bGxTY3JlZW4sXG4gICAgZnVsbFdpZHRoLFxuICAgIG1heFdpZHRoLFxuICAgIHNjcm9sbFxuICB9O1xuICBjb25zdCBjbGFzc2VzID0gdXNlVXRpbGl0eUNsYXNzZXMob3duZXJTdGF0ZSk7XG4gIGNvbnN0IGJhY2tkcm9wQ2xpY2sgPSBSZWFjdC51c2VSZWYoKTtcbiAgY29uc3QgaGFuZGxlTW91c2VEb3duID0gZXZlbnQgPT4ge1xuICAgIC8vIFdlIGRvbid0IHdhbnQgdG8gY2xvc2UgdGhlIGRpYWxvZyB3aGVuIGNsaWNraW5nIHRoZSBkaWFsb2cgY29udGVudC5cbiAgICAvLyBNYWtlIHN1cmUgdGhlIGV2ZW50IHN0YXJ0cyBhbmQgZW5kcyBvbiB0aGUgc2FtZSBET00gZWxlbWVudC5cbiAgICBiYWNrZHJvcENsaWNrLmN1cnJlbnQgPSBldmVudC50YXJnZXQgPT09IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUJhY2tkcm9wQ2xpY2sgPSBldmVudCA9PiB7XG4gICAgaWYgKG9uQ2xpY2spIHtcbiAgICAgIG9uQ2xpY2soZXZlbnQpO1xuICAgIH1cblxuICAgIC8vIElnbm9yZSB0aGUgZXZlbnRzIG5vdCBjb21pbmcgZnJvbSB0aGUgXCJiYWNrZHJvcFwiLlxuICAgIGlmICghYmFja2Ryb3BDbGljay5jdXJyZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGJhY2tkcm9wQ2xpY2suY3VycmVudCA9IG51bGw7XG4gICAgaWYgKG9uQ2xvc2UpIHtcbiAgICAgIG9uQ2xvc2UoZXZlbnQsICdiYWNrZHJvcENsaWNrJyk7XG4gICAgfVxuICB9O1xuICBjb25zdCBhcmlhTGFiZWxsZWRieSA9IHVzZUlkKGFyaWFMYWJlbGxlZGJ5UHJvcCk7XG4gIGNvbnN0IGRpYWxvZ0NvbnRleHRWYWx1ZSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICB0aXRsZUlkOiBhcmlhTGFiZWxsZWRieVxuICAgIH07XG4gIH0sIFthcmlhTGFiZWxsZWRieV0pO1xuICBjb25zdCBiYWNrd2FyZENvbXBhdGlibGVTbG90cyA9IHtcbiAgICB0cmFuc2l0aW9uOiBUcmFuc2l0aW9uQ29tcG9uZW50LFxuICAgIC4uLnNsb3RzXG4gIH07XG4gIGNvbnN0IGJhY2t3YXJkQ29tcGF0aWJsZVNsb3RQcm9wcyA9IHtcbiAgICB0cmFuc2l0aW9uOiBUcmFuc2l0aW9uUHJvcHMsXG4gICAgcGFwZXI6IFBhcGVyUHJvcHMsXG4gICAgYmFja2Ryb3A6IEJhY2tkcm9wUHJvcHMsXG4gICAgLi4uc2xvdFByb3BzXG4gIH07XG4gIGNvbnN0IGV4dGVybmFsRm9yd2FyZGVkUHJvcHMgPSB7XG4gICAgc2xvdHM6IGJhY2t3YXJkQ29tcGF0aWJsZVNsb3RzLFxuICAgIHNsb3RQcm9wczogYmFja3dhcmRDb21wYXRpYmxlU2xvdFByb3BzXG4gIH07XG4gIGNvbnN0IFtSb290U2xvdCwgcm9vdFNsb3RQcm9wc10gPSB1c2VTbG90KCdyb290Jywge1xuICAgIGVsZW1lbnRUeXBlOiBEaWFsb2dSb290LFxuICAgIHNob3VsZEZvcndhcmRDb21wb25lbnRQcm9wOiB0cnVlLFxuICAgIGV4dGVybmFsRm9yd2FyZGVkUHJvcHMsXG4gICAgb3duZXJTdGF0ZSxcbiAgICBjbGFzc05hbWU6IGNsc3goY2xhc3Nlcy5yb290LCBjbGFzc05hbWUpLFxuICAgIHJlZlxuICB9KTtcbiAgY29uc3QgW0JhY2tkcm9wU2xvdCwgYmFja2Ryb3BTbG90UHJvcHNdID0gdXNlU2xvdCgnYmFja2Ryb3AnLCB7XG4gICAgZWxlbWVudFR5cGU6IERpYWxvZ0JhY2tkcm9wLFxuICAgIHNob3VsZEZvcndhcmRDb21wb25lbnRQcm9wOiB0cnVlLFxuICAgIGV4dGVybmFsRm9yd2FyZGVkUHJvcHMsXG4gICAgb3duZXJTdGF0ZVxuICB9KTtcbiAgY29uc3QgW1BhcGVyU2xvdCwgcGFwZXJTbG90UHJvcHNdID0gdXNlU2xvdCgncGFwZXInLCB7XG4gICAgZWxlbWVudFR5cGU6IERpYWxvZ1BhcGVyLFxuICAgIHNob3VsZEZvcndhcmRDb21wb25lbnRQcm9wOiB0cnVlLFxuICAgIGV4dGVybmFsRm9yd2FyZGVkUHJvcHMsXG4gICAgb3duZXJTdGF0ZSxcbiAgICBjbGFzc05hbWU6IGNsc3goY2xhc3Nlcy5wYXBlciwgUGFwZXJQcm9wcy5jbGFzc05hbWUpXG4gIH0pO1xuICBjb25zdCBbQ29udGFpbmVyU2xvdCwgY29udGFpbmVyU2xvdFByb3BzXSA9IHVzZVNsb3QoJ2NvbnRhaW5lcicsIHtcbiAgICBlbGVtZW50VHlwZTogRGlhbG9nQ29udGFpbmVyLFxuICAgIGV4dGVybmFsRm9yd2FyZGVkUHJvcHMsXG4gICAgb3duZXJTdGF0ZSxcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuY29udGFpbmVyXG4gIH0pO1xuICBjb25zdCBbVHJhbnNpdGlvblNsb3QsIHRyYW5zaXRpb25TbG90UHJvcHNdID0gdXNlU2xvdCgndHJhbnNpdGlvbicsIHtcbiAgICBlbGVtZW50VHlwZTogRmFkZSxcbiAgICBleHRlcm5hbEZvcndhcmRlZFByb3BzLFxuICAgIG93bmVyU3RhdGUsXG4gICAgYWRkaXRpb25hbFByb3BzOiB7XG4gICAgICBhcHBlYXI6IHRydWUsXG4gICAgICBpbjogb3BlbixcbiAgICAgIHRpbWVvdXQ6IHRyYW5zaXRpb25EdXJhdGlvbixcbiAgICAgIHJvbGU6ICdwcmVzZW50YXRpb24nXG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KFJvb3RTbG90LCB7XG4gICAgY2xvc2VBZnRlclRyYW5zaXRpb246IHRydWUsXG4gICAgc2xvdHM6IHtcbiAgICAgIGJhY2tkcm9wOiBCYWNrZHJvcFNsb3RcbiAgICB9LFxuICAgIHNsb3RQcm9wczoge1xuICAgICAgYmFja2Ryb3A6IHtcbiAgICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uLFxuICAgICAgICBhczogQmFja2Ryb3BDb21wb25lbnQsXG4gICAgICAgIC4uLmJhY2tkcm9wU2xvdFByb3BzXG4gICAgICB9XG4gICAgfSxcbiAgICBkaXNhYmxlRXNjYXBlS2V5RG93bjogZGlzYWJsZUVzY2FwZUtleURvd24sXG4gICAgb25DbG9zZTogb25DbG9zZSxcbiAgICBvcGVuOiBvcGVuLFxuICAgIG9uQ2xpY2s6IGhhbmRsZUJhY2tkcm9wQ2xpY2ssXG4gICAgLi4ucm9vdFNsb3RQcm9wcyxcbiAgICAuLi5vdGhlcixcbiAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goVHJhbnNpdGlvblNsb3QsIHtcbiAgICAgIC4uLnRyYW5zaXRpb25TbG90UHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goQ29udGFpbmVyU2xvdCwge1xuICAgICAgICBvbk1vdXNlRG93bjogaGFuZGxlTW91c2VEb3duLFxuICAgICAgICAuLi5jb250YWluZXJTbG90UHJvcHMsXG4gICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChQYXBlclNsb3QsIHtcbiAgICAgICAgICBhczogUGFwZXJDb21wb25lbnQsXG4gICAgICAgICAgZWxldmF0aW9uOiAyNCxcbiAgICAgICAgICByb2xlOiBcImRpYWxvZ1wiLFxuICAgICAgICAgIFwiYXJpYS1kZXNjcmliZWRieVwiOiBhcmlhRGVzY3JpYmVkYnksXG4gICAgICAgICAgXCJhcmlhLWxhYmVsbGVkYnlcIjogYXJpYUxhYmVsbGVkYnksXG4gICAgICAgICAgXCJhcmlhLW1vZGFsXCI6IGFyaWFNb2RhbCxcbiAgICAgICAgICAuLi5wYXBlclNsb3RQcm9wcyxcbiAgICAgICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goRGlhbG9nQ29udGV4dC5Qcm92aWRlciwge1xuICAgICAgICAgICAgdmFsdWU6IGRpYWxvZ0NvbnRleHRWYWx1ZSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBjaGlsZHJlblxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pXG4gIH0pO1xufSk7XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBEaWFsb2cucHJvcFR5cGVzIC8qIHJlbW92ZS1wcm9wdHlwZXMgKi8gPSB7XG4gIC8vIOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBXYXJuaW5nIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuICAvLyDilIIgVGhlc2UgUHJvcFR5cGVzIGFyZSBnZW5lcmF0ZWQgZnJvbSB0aGUgVHlwZVNjcmlwdCB0eXBlIGRlZmluaXRpb25zLiDilIJcbiAgLy8g4pSCICAgIFRvIHVwZGF0ZSB0aGVtLCBlZGl0IHRoZSBkLnRzIGZpbGUgYW5kIHJ1biBgcG5wbSBwcm9wdHlwZXNgLiAgICAg4pSCXG4gIC8vIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmFxuICAvKipcbiAgICogVGhlIGlkKHMpIG9mIHRoZSBlbGVtZW50KHMpIHRoYXQgZGVzY3JpYmUgdGhlIGRpYWxvZy5cbiAgICovXG4gICdhcmlhLWRlc2NyaWJlZGJ5JzogUHJvcFR5cGVzLnN0cmluZyxcbiAgLyoqXG4gICAqIFRoZSBpZChzKSBvZiB0aGUgZWxlbWVudChzKSB0aGF0IGxhYmVsIHRoZSBkaWFsb2cuXG4gICAqL1xuICAnYXJpYS1sYWJlbGxlZGJ5JzogUHJvcFR5cGVzLnN0cmluZyxcbiAgLyoqXG4gICAqIEluZm9ybXMgYXNzaXN0aXZlIHRlY2hub2xvZ2llcyB0aGF0IHRoZSBlbGVtZW50IGlzIG1vZGFsLlxuICAgKiBJdCdzIGFkZGVkIG9uIHRoZSBlbGVtZW50IHdpdGggcm9sZT1cImRpYWxvZ1wiLlxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICAnYXJpYS1tb2RhbCc6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ2ZhbHNlJywgJ3RydWUnXSksIFByb3BUeXBlcy5ib29sXSksXG4gIC8qKlxuICAgKiBBIGJhY2tkcm9wIGNvbXBvbmVudC4gVGhpcyBwcm9wIGVuYWJsZXMgY3VzdG9tIGJhY2tkcm9wIHJlbmRlcmluZy5cbiAgICogQGRlcHJlY2F0ZWQgVXNlIGBzbG90cy5iYWNrZHJvcGAgaW5zdGVhZC4gV2hpbGUgdGhpcyBwcm9wIGN1cnJlbnRseSB3b3JrcywgaXQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb24uXG4gICAqIFVzZSB0aGUgYHNsb3RzLmJhY2tkcm9wYCBwcm9wIHRvIG1ha2UgeW91ciBhcHBsaWNhdGlvbiByZWFkeSBmb3IgdGhlIG5leHQgdmVyc2lvbiBvZiBNYXRlcmlhbCBVSS5cbiAgICogQGRlZmF1bHQgc3R5bGVkKEJhY2tkcm9wLCB7XG4gICAqICAgbmFtZTogJ011aU1vZGFsJyxcbiAgICogICBzbG90OiAnQmFja2Ryb3AnLFxuICAgKiB9KSh7XG4gICAqICAgekluZGV4OiAtMSxcbiAgICogfSlcbiAgICovXG4gIEJhY2tkcm9wQ29tcG9uZW50OiBQcm9wVHlwZXMuZWxlbWVudFR5cGUsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBCYWNrZHJvcFByb3BzOiBQcm9wVHlwZXMub2JqZWN0LFxuICAvKipcbiAgICogRGlhbG9nIGNoaWxkcmVuLCB1c3VhbGx5IHRoZSBpbmNsdWRlZCBzdWItY29tcG9uZW50cy5cbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIG9yIGV4dGVuZCB0aGUgc3R5bGVzIGFwcGxpZWQgdG8gdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIGhpdHRpbmcgZXNjYXBlIHdpbGwgbm90IGZpcmUgdGhlIGBvbkNsb3NlYCBjYWxsYmFjay5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGRpc2FibGVFc2NhcGVLZXlEb3duOiBQcm9wVHlwZXMuYm9vbCxcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIGRpYWxvZyBpcyBmdWxsLXNjcmVlbi5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGZ1bGxTY3JlZW46IFByb3BUeXBlcy5ib29sLFxuICAvKipcbiAgICogSWYgYHRydWVgLCB0aGUgZGlhbG9nIHN0cmV0Y2hlcyB0byBgbWF4V2lkdGhgLlxuICAgKlxuICAgKiBOb3RpY2UgdGhhdCB0aGUgZGlhbG9nIHdpZHRoIGdyb3cgaXMgbGltaXRlZCBieSB0aGUgZGVmYXVsdCBtYXJnaW4uXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBmdWxsV2lkdGg6IFByb3BUeXBlcy5ib29sLFxuICAvKipcbiAgICogRGV0ZXJtaW5lIHRoZSBtYXgtd2lkdGggb2YgdGhlIGRpYWxvZy5cbiAgICogVGhlIGRpYWxvZyB3aWR0aCBncm93cyB3aXRoIHRoZSBzaXplIG9mIHRoZSBzY3JlZW4uXG4gICAqIFNldCB0byBgZmFsc2VgIHRvIGRpc2FibGUgYG1heFdpZHRoYC5cbiAgICogQGRlZmF1bHQgJ3NtJ1xuICAgKi9cbiAgbWF4V2lkdGg6IFByb3BUeXBlcyAvKiBAdHlwZXNjcmlwdC10by1wcm9wdHlwZXMtaWdub3JlICovLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsneHMnLCAnc20nLCAnbWQnLCAnbGcnLCAneGwnLCBmYWxzZV0pLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBvbkNsaWNrOiBQcm9wVHlwZXMuZnVuYyxcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZpcmVkIHdoZW4gdGhlIGNvbXBvbmVudCByZXF1ZXN0cyB0byBiZSBjbG9zZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudCBUaGUgZXZlbnQgc291cmNlIG9mIHRoZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHJlYXNvbiBDYW4gYmU6IGBcImVzY2FwZUtleURvd25cImAsIGBcImJhY2tkcm9wQ2xpY2tcImAuXG4gICAqL1xuICBvbkNsb3NlOiBQcm9wVHlwZXMuZnVuYyxcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIGNvbXBvbmVudCBpcyBzaG93bi5cbiAgICovXG4gIG9wZW46IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIC8qKlxuICAgKiBUaGUgY29tcG9uZW50IHVzZWQgdG8gcmVuZGVyIHRoZSBib2R5IG9mIHRoZSBkaWFsb2cuXG4gICAqIEBkZWZhdWx0IFBhcGVyXG4gICAqL1xuICBQYXBlckNvbXBvbmVudDogUHJvcFR5cGVzLmVsZW1lbnRUeXBlLFxuICAvKipcbiAgICogUHJvcHMgYXBwbGllZCB0byB0aGUgW2BQYXBlcmBdKGh0dHBzOi8vbXVpLmNvbS9tYXRlcmlhbC11aS9hcGkvcGFwZXIvKSBlbGVtZW50LlxuICAgKiBAZGVmYXVsdCB7fVxuICAgKiBAZGVwcmVjYXRlZCBVc2UgYHNsb3RQcm9wcy5wYXBlcmAgaW5zdGVhZC4gVGhpcyBwcm9wIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSBtYWpvciByZWxlYXNlLiBTZWUgW01pZ3JhdGluZyBmcm9tIGRlcHJlY2F0ZWQgQVBJc10oL21hdGVyaWFsLXVpL21pZ3JhdGlvbi9taWdyYXRpbmctZnJvbS1kZXByZWNhdGVkLWFwaXMvKSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgKi9cbiAgUGFwZXJQcm9wczogUHJvcFR5cGVzLm9iamVjdCxcbiAgLyoqXG4gICAqIERldGVybWluZSB0aGUgY29udGFpbmVyIGZvciBzY3JvbGxpbmcgdGhlIGRpYWxvZy5cbiAgICogQGRlZmF1bHQgJ3BhcGVyJ1xuICAgKi9cbiAgc2Nyb2xsOiBQcm9wVHlwZXMub25lT2YoWydib2R5JywgJ3BhcGVyJ10pLFxuICAvKipcbiAgICogVGhlIHByb3BzIHVzZWQgZm9yIGVhY2ggc2xvdCBpbnNpZGUuXG4gICAqIEBkZWZhdWx0IHt9XG4gICAqL1xuICBzbG90UHJvcHM6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgYmFja2Ryb3A6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0XSksXG4gICAgY29udGFpbmVyOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdF0pLFxuICAgIHBhcGVyOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdF0pLFxuICAgIHJvb3Q6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0XSksXG4gICAgdHJhbnNpdGlvbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3RdKVxuICB9KSxcbiAgLyoqXG4gICAqIFRoZSBjb21wb25lbnRzIHVzZWQgZm9yIGVhY2ggc2xvdCBpbnNpZGUuXG4gICAqIEBkZWZhdWx0IHt9XG4gICAqL1xuICBzbG90czogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBiYWNrZHJvcDogUHJvcFR5cGVzLmVsZW1lbnRUeXBlLFxuICAgIGNvbnRhaW5lcjogUHJvcFR5cGVzLmVsZW1lbnRUeXBlLFxuICAgIHBhcGVyOiBQcm9wVHlwZXMuZWxlbWVudFR5cGUsXG4gICAgcm9vdDogUHJvcFR5cGVzLmVsZW1lbnRUeXBlLFxuICAgIHRyYW5zaXRpb246IFByb3BUeXBlcy5lbGVtZW50VHlwZVxuICB9KSxcbiAgLyoqXG4gICAqIFRoZSBzeXN0ZW0gcHJvcCB0aGF0IGFsbG93cyBkZWZpbmluZyBzeXN0ZW0gb3ZlcnJpZGVzIGFzIHdlbGwgYXMgYWRkaXRpb25hbCBDU1Mgc3R5bGVzLlxuICAgKi9cbiAgc3g6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0LCBQcm9wVHlwZXMuYm9vbF0pKSwgUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3RdKSxcbiAgLyoqXG4gICAqIFRoZSBjb21wb25lbnQgdXNlZCBmb3IgdGhlIHRyYW5zaXRpb24uXG4gICAqIFtGb2xsb3cgdGhpcyBndWlkZV0oaHR0cHM6Ly9tdWkuY29tL21hdGVyaWFsLXVpL3RyYW5zaXRpb25zLyN0cmFuc2l0aW9uY29tcG9uZW50LXByb3ApIHRvIGxlYXJuIG1vcmUgYWJvdXQgdGhlIHJlcXVpcmVtZW50cyBmb3IgdGhpcyBjb21wb25lbnQuXG4gICAqIEBkZWZhdWx0IEZhZGVcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGBzbG90cy50cmFuc2l0aW9uYCBpbnN0ZWFkLiBUaGlzIHByb3Agd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIG1ham9yIHJlbGVhc2UuIFNlZSBbTWlncmF0aW5nIGZyb20gZGVwcmVjYXRlZCBBUElzXSgvbWF0ZXJpYWwtdWkvbWlncmF0aW9uL21pZ3JhdGluZy1mcm9tLWRlcHJlY2F0ZWQtYXBpcy8pIGZvciBtb3JlIGRldGFpbHMuXG4gICAqL1xuICBUcmFuc2l0aW9uQ29tcG9uZW50OiBQcm9wVHlwZXMuZWxlbWVudFR5cGUsXG4gIC8qKlxuICAgKiBUaGUgZHVyYXRpb24gZm9yIHRoZSB0cmFuc2l0aW9uLCBpbiBtaWxsaXNlY29uZHMuXG4gICAqIFlvdSBtYXkgc3BlY2lmeSBhIHNpbmdsZSB0aW1lb3V0IGZvciBhbGwgdHJhbnNpdGlvbnMsIG9yIGluZGl2aWR1YWxseSB3aXRoIGFuIG9iamVjdC5cbiAgICogQGRlZmF1bHQge1xuICAgKiAgIGVudGVyOiB0aGVtZS50cmFuc2l0aW9ucy5kdXJhdGlvbi5lbnRlcmluZ1NjcmVlbixcbiAgICogICBleGl0OiB0aGVtZS50cmFuc2l0aW9ucy5kdXJhdGlvbi5sZWF2aW5nU2NyZWVuLFxuICAgKiB9XG4gICAqL1xuICB0cmFuc2l0aW9uRHVyYXRpb246IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5udW1iZXIsIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgYXBwZWFyOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIGVudGVyOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIGV4aXQ6IFByb3BUeXBlcy5udW1iZXJcbiAgfSldKSxcbiAgLyoqXG4gICAqIFByb3BzIGFwcGxpZWQgdG8gdGhlIHRyYW5zaXRpb24gZWxlbWVudC5cbiAgICogQnkgZGVmYXVsdCwgdGhlIGVsZW1lbnQgaXMgYmFzZWQgb24gdGhpcyBbYFRyYW5zaXRpb25gXShodHRwczovL3JlYWN0Y29tbXVuaXR5Lm9yZy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL3RyYW5zaXRpb24vKSBjb21wb25lbnQuXG4gICAqIEBkZXByZWNhdGVkIFVzZSBgc2xvdFByb3BzLnRyYW5zaXRpb25gIGluc3RlYWQuIFRoaXMgcHJvcCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgbWFqb3IgcmVsZWFzZS4gU2VlIFtNaWdyYXRpbmcgZnJvbSBkZXByZWNhdGVkIEFQSXNdKC9tYXRlcmlhbC11aS9taWdyYXRpb24vbWlncmF0aW5nLWZyb20tZGVwcmVjYXRlZC1hcGlzLykgZm9yIG1vcmUgZGV0YWlscy5cbiAgICovXG4gIFRyYW5zaXRpb25Qcm9wczogUHJvcFR5cGVzLm9iamVjdFxufSA6IHZvaWQgMDtcbmV4cG9ydCBkZWZhdWx0IERpYWxvZzsiLAogICAgIi8vIEEgY2hhbmdlIG9mIHRoZSBicm93c2VyIHpvb20gY2hhbmdlIHRoZSBzY3JvbGxiYXIgc2l6ZS5cbi8vIENyZWRpdCBodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi80ODhmZDhhZmM1MzVjYTNhNmFkNGRjNTgxZjVlODkyMTdiNmEzNmFjL2pzL3NyYy91dGlsL3Njcm9sbGJhci5qcyNMMTQtTDE4XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRTY3JvbGxiYXJTaXplKHdpbiA9IHdpbmRvdykge1xuICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2luZG93L2lubmVyV2lkdGgjdXNhZ2Vfbm90ZXNcbiAgY29uc3QgZG9jdW1lbnRXaWR0aCA9IHdpbi5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XG4gIHJldHVybiB3aW4uaW5uZXJXaWR0aCAtIGRvY3VtZW50V2lkdGg7XG59IiwKICAgICJpbXBvcnQgb3duZXJXaW5kb3cgZnJvbSAnQG11aS91dGlscy9vd25lcldpbmRvdyc7XG5pbXBvcnQgb3duZXJEb2N1bWVudCBmcm9tICdAbXVpL3V0aWxzL293bmVyRG9jdW1lbnQnO1xuaW1wb3J0IGdldFNjcm9sbGJhclNpemUgZnJvbSAnQG11aS91dGlscy9nZXRTY3JvbGxiYXJTaXplJztcbi8vIElzIGEgdmVydGljYWwgc2Nyb2xsYmFyIGRpc3BsYXllZD9cbmZ1bmN0aW9uIGlzT3ZlcmZsb3dpbmcoY29udGFpbmVyKSB7XG4gIGNvbnN0IGRvYyA9IG93bmVyRG9jdW1lbnQoY29udGFpbmVyKTtcbiAgaWYgKGRvYy5ib2R5ID09PSBjb250YWluZXIpIHtcbiAgICByZXR1cm4gb3duZXJXaW5kb3coY29udGFpbmVyKS5pbm5lcldpZHRoID4gZG9jLmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtcbiAgfVxuICByZXR1cm4gY29udGFpbmVyLnNjcm9sbEhlaWdodCA+IGNvbnRhaW5lci5jbGllbnRIZWlnaHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gYXJpYUhpZGRlbihlbGVtZW50LCBoaWRlKSB7XG4gIGlmIChoaWRlKSB7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgfSBlbHNlIHtcbiAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0UGFkZGluZ1JpZ2h0KGVsZW1lbnQpIHtcbiAgcmV0dXJuIHBhcnNlSW50KG93bmVyV2luZG93KGVsZW1lbnQpLmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkucGFkZGluZ1JpZ2h0LCAxMCkgfHwgMDtcbn1cbmZ1bmN0aW9uIGlzQXJpYUhpZGRlbkZvcmJpZGRlbk9uRWxlbWVudChlbGVtZW50KSB7XG4gIC8vIFRoZSBmb3JiaWRkZW4gSFRNTCB0YWdzIGFyZSB0aGUgb25lcyBmcm9tIEFSSUEgc3BlY2lmaWNhdGlvbiB0aGF0XG4gIC8vIGNhbiBiZSBjaGlsZHJlbiBvZiBib2R5IGFuZCBjYW4ndCBoYXZlIGFyaWEtaGlkZGVuIGF0dHJpYnV0ZS5cbiAgLy8gY2YuIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sLWFyaWEvI2RvY2NvbmZvcm1hbmNlXG4gIGNvbnN0IGZvcmJpZGRlblRhZ05hbWVzID0gWydURU1QTEFURScsICdTQ1JJUFQnLCAnU1RZTEUnLCAnTElOSycsICdNQVAnLCAnTUVUQScsICdOT1NDUklQVCcsICdQSUNUVVJFJywgJ0NPTCcsICdDT0xHUk9VUCcsICdQQVJBTScsICdTTE9UJywgJ1NPVVJDRScsICdUUkFDSyddO1xuICBjb25zdCBpc0ZvcmJpZGRlblRhZ05hbWUgPSBmb3JiaWRkZW5UYWdOYW1lcy5pbmNsdWRlcyhlbGVtZW50LnRhZ05hbWUpO1xuICBjb25zdCBpc0lucHV0SGlkZGVuID0gZWxlbWVudC50YWdOYW1lID09PSAnSU5QVVQnICYmIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd0eXBlJykgPT09ICdoaWRkZW4nO1xuICByZXR1cm4gaXNGb3JiaWRkZW5UYWdOYW1lIHx8IGlzSW5wdXRIaWRkZW47XG59XG5mdW5jdGlvbiBhcmlhSGlkZGVuU2libGluZ3MoY29udGFpbmVyLCBtb3VudEVsZW1lbnQsIGN1cnJlbnRFbGVtZW50LCBlbGVtZW50c1RvRXhjbHVkZSwgaGlkZSkge1xuICBjb25zdCBibGFja2xpc3QgPSBbbW91bnRFbGVtZW50LCBjdXJyZW50RWxlbWVudCwgLi4uZWxlbWVudHNUb0V4Y2x1ZGVdO1xuICBbXS5mb3JFYWNoLmNhbGwoY29udGFpbmVyLmNoaWxkcmVuLCBlbGVtZW50ID0+IHtcbiAgICBjb25zdCBpc05vdEV4Y2x1ZGVkRWxlbWVudCA9ICFibGFja2xpc3QuaW5jbHVkZXMoZWxlbWVudCk7XG4gICAgY29uc3QgaXNOb3RGb3JiaWRkZW5FbGVtZW50ID0gIWlzQXJpYUhpZGRlbkZvcmJpZGRlbk9uRWxlbWVudChlbGVtZW50KTtcbiAgICBpZiAoaXNOb3RFeGNsdWRlZEVsZW1lbnQgJiYgaXNOb3RGb3JiaWRkZW5FbGVtZW50KSB7XG4gICAgICBhcmlhSGlkZGVuKGVsZW1lbnQsIGhpZGUpO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBmaW5kSW5kZXhPZihpdGVtcywgY2FsbGJhY2spIHtcbiAgbGV0IGlkeCA9IC0xO1xuICBpdGVtcy5zb21lKChpdGVtLCBpbmRleCkgPT4ge1xuICAgIGlmIChjYWxsYmFjayhpdGVtKSkge1xuICAgICAgaWR4ID0gaW5kZXg7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcbiAgcmV0dXJuIGlkeDtcbn1cbmZ1bmN0aW9uIGhhbmRsZUNvbnRhaW5lcihjb250YWluZXJJbmZvLCBwcm9wcykge1xuICBjb25zdCByZXN0b3JlU3R5bGUgPSBbXTtcbiAgY29uc3QgY29udGFpbmVyID0gY29udGFpbmVySW5mby5jb250YWluZXI7XG4gIGlmICghcHJvcHMuZGlzYWJsZVNjcm9sbExvY2spIHtcbiAgICBpZiAoaXNPdmVyZmxvd2luZyhjb250YWluZXIpKSB7XG4gICAgICAvLyBDb21wdXRlIHRoZSBzaXplIGJlZm9yZSBhcHBseWluZyBvdmVyZmxvdyBoaWRkZW4gdG8gYXZvaWQgYW55IHNjcm9sbCBqdW1wcy5cbiAgICAgIGNvbnN0IHNjcm9sbGJhclNpemUgPSBnZXRTY3JvbGxiYXJTaXplKG93bmVyV2luZG93KGNvbnRhaW5lcikpO1xuICAgICAgcmVzdG9yZVN0eWxlLnB1c2goe1xuICAgICAgICB2YWx1ZTogY29udGFpbmVyLnN0eWxlLnBhZGRpbmdSaWdodCxcbiAgICAgICAgcHJvcGVydHk6ICdwYWRkaW5nLXJpZ2h0JyxcbiAgICAgICAgZWw6IGNvbnRhaW5lclxuICAgICAgfSk7XG4gICAgICAvLyBVc2UgY29tcHV0ZWQgc3R5bGUsIGhlcmUgdG8gZ2V0IHRoZSByZWFsIHBhZGRpbmcgdG8gYWRkIG91ciBzY3JvbGxiYXIgd2lkdGguXG4gICAgICBjb250YWluZXIuc3R5bGUucGFkZGluZ1JpZ2h0ID0gYCR7Z2V0UGFkZGluZ1JpZ2h0KGNvbnRhaW5lcikgKyBzY3JvbGxiYXJTaXplfXB4YDtcblxuICAgICAgLy8gLm11aS1maXhlZCBpcyBhIGdsb2JhbCBoZWxwZXIuXG4gICAgICBjb25zdCBmaXhlZEVsZW1lbnRzID0gb3duZXJEb2N1bWVudChjb250YWluZXIpLnF1ZXJ5U2VsZWN0b3JBbGwoJy5tdWktZml4ZWQnKTtcbiAgICAgIFtdLmZvckVhY2guY2FsbChmaXhlZEVsZW1lbnRzLCBlbGVtZW50ID0+IHtcbiAgICAgICAgcmVzdG9yZVN0eWxlLnB1c2goe1xuICAgICAgICAgIHZhbHVlOiBlbGVtZW50LnN0eWxlLnBhZGRpbmdSaWdodCxcbiAgICAgICAgICBwcm9wZXJ0eTogJ3BhZGRpbmctcmlnaHQnLFxuICAgICAgICAgIGVsOiBlbGVtZW50XG4gICAgICAgIH0pO1xuICAgICAgICBlbGVtZW50LnN0eWxlLnBhZGRpbmdSaWdodCA9IGAke2dldFBhZGRpbmdSaWdodChlbGVtZW50KSArIHNjcm9sbGJhclNpemV9cHhgO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGxldCBzY3JvbGxDb250YWluZXI7XG4gICAgaWYgKGNvbnRhaW5lci5wYXJlbnROb2RlIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCkge1xuICAgICAgc2Nyb2xsQ29udGFpbmVyID0gb3duZXJEb2N1bWVudChjb250YWluZXIpLmJvZHk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFN1cHBvcnQgaHRtbCBvdmVyZmxvdy15OiBhdXRvIGZvciBzY3JvbGwgc3RhYmlsaXR5IGJldHdlZW4gcGFnZXNcbiAgICAgIC8vIGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vc25pcHBldHMvY3NzL2ZvcmNlLXZlcnRpY2FsLXNjcm9sbGJhci9cbiAgICAgIGNvbnN0IHBhcmVudCA9IGNvbnRhaW5lci5wYXJlbnRFbGVtZW50O1xuICAgICAgY29uc3QgY29udGFpbmVyV2luZG93ID0gb3duZXJXaW5kb3coY29udGFpbmVyKTtcbiAgICAgIHNjcm9sbENvbnRhaW5lciA9IHBhcmVudD8ubm9kZU5hbWUgPT09ICdIVE1MJyAmJiBjb250YWluZXJXaW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShwYXJlbnQpLm92ZXJmbG93WSA9PT0gJ3Njcm9sbCcgPyBwYXJlbnQgOiBjb250YWluZXI7XG4gICAgfVxuXG4gICAgLy8gQmxvY2sgdGhlIHNjcm9sbCBldmVuIGlmIG5vIHNjcm9sbGJhciBpcyB2aXNpYmxlIHRvIGFjY291bnQgZm9yIG1vYmlsZSBrZXlib2FyZFxuICAgIC8vIHNjcmVlbnNpemUgc2hyaW5rLlxuICAgIHJlc3RvcmVTdHlsZS5wdXNoKHtcbiAgICAgIHZhbHVlOiBzY3JvbGxDb250YWluZXIuc3R5bGUub3ZlcmZsb3csXG4gICAgICBwcm9wZXJ0eTogJ292ZXJmbG93JyxcbiAgICAgIGVsOiBzY3JvbGxDb250YWluZXJcbiAgICB9LCB7XG4gICAgICB2YWx1ZTogc2Nyb2xsQ29udGFpbmVyLnN0eWxlLm92ZXJmbG93WCxcbiAgICAgIHByb3BlcnR5OiAnb3ZlcmZsb3cteCcsXG4gICAgICBlbDogc2Nyb2xsQ29udGFpbmVyXG4gICAgfSwge1xuICAgICAgdmFsdWU6IHNjcm9sbENvbnRhaW5lci5zdHlsZS5vdmVyZmxvd1ksXG4gICAgICBwcm9wZXJ0eTogJ292ZXJmbG93LXknLFxuICAgICAgZWw6IHNjcm9sbENvbnRhaW5lclxuICAgIH0pO1xuICAgIHNjcm9sbENvbnRhaW5lci5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICB9XG4gIGNvbnN0IHJlc3RvcmUgPSAoKSA9PiB7XG4gICAgcmVzdG9yZVN0eWxlLmZvckVhY2goKHtcbiAgICAgIHZhbHVlLFxuICAgICAgZWwsXG4gICAgICBwcm9wZXJ0eVxuICAgIH0pID0+IHtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBlbC5zdHlsZS5zZXRQcm9wZXJ0eShwcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWwuc3R5bGUucmVtb3ZlUHJvcGVydHkocHJvcGVydHkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICByZXR1cm4gcmVzdG9yZTtcbn1cbmZ1bmN0aW9uIGdldEhpZGRlblNpYmxpbmdzKGNvbnRhaW5lcikge1xuICBjb25zdCBoaWRkZW5TaWJsaW5ncyA9IFtdO1xuICBbXS5mb3JFYWNoLmNhbGwoY29udGFpbmVyLmNoaWxkcmVuLCBlbGVtZW50ID0+IHtcbiAgICBpZiAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJykgPT09ICd0cnVlJykge1xuICAgICAgaGlkZGVuU2libGluZ3MucHVzaChlbGVtZW50KTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gaGlkZGVuU2libGluZ3M7XG59XG4vKipcbiAqIEBpZ25vcmUgLSBkbyBub3QgZG9jdW1lbnQuXG4gKlxuICogUHJvcGVyIHN0YXRlIG1hbmFnZW1lbnQgZm9yIGNvbnRhaW5lcnMgYW5kIHRoZSBtb2RhbHMgaW4gdGhvc2UgY29udGFpbmVycy5cbiAqIFNpbXBsaWZpZWQsIGJ1dCBpbnNwaXJlZCBieSByZWFjdC1vdmVybGF5J3MgTW9kYWxNYW5hZ2VyIGNsYXNzLlxuICogVXNlZCBieSB0aGUgTW9kYWwgdG8gZW5zdXJlIHByb3BlciBzdHlsaW5nIG9mIGNvbnRhaW5lcnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBNb2RhbE1hbmFnZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLm1vZGFscyA9IFtdO1xuICAgIHRoaXMuY29udGFpbmVycyA9IFtdO1xuICB9XG4gIGFkZChtb2RhbCwgY29udGFpbmVyKSB7XG4gICAgbGV0IG1vZGFsSW5kZXggPSB0aGlzLm1vZGFscy5pbmRleE9mKG1vZGFsKTtcbiAgICBpZiAobW9kYWxJbmRleCAhPT0gLTEpIHtcbiAgICAgIHJldHVybiBtb2RhbEluZGV4O1xuICAgIH1cbiAgICBtb2RhbEluZGV4ID0gdGhpcy5tb2RhbHMubGVuZ3RoO1xuICAgIHRoaXMubW9kYWxzLnB1c2gobW9kYWwpO1xuXG4gICAgLy8gSWYgdGhlIG1vZGFsIHdlIGFyZSBhZGRpbmcgaXMgYWxyZWFkeSBpbiB0aGUgRE9NLlxuICAgIGlmIChtb2RhbC5tb2RhbFJlZikge1xuICAgICAgYXJpYUhpZGRlbihtb2RhbC5tb2RhbFJlZiwgZmFsc2UpO1xuICAgIH1cbiAgICBjb25zdCBoaWRkZW5TaWJsaW5ncyA9IGdldEhpZGRlblNpYmxpbmdzKGNvbnRhaW5lcik7XG4gICAgYXJpYUhpZGRlblNpYmxpbmdzKGNvbnRhaW5lciwgbW9kYWwubW91bnQsIG1vZGFsLm1vZGFsUmVmLCBoaWRkZW5TaWJsaW5ncywgdHJ1ZSk7XG4gICAgY29uc3QgY29udGFpbmVySW5kZXggPSBmaW5kSW5kZXhPZih0aGlzLmNvbnRhaW5lcnMsIGl0ZW0gPT4gaXRlbS5jb250YWluZXIgPT09IGNvbnRhaW5lcik7XG4gICAgaWYgKGNvbnRhaW5lckluZGV4ICE9PSAtMSkge1xuICAgICAgdGhpcy5jb250YWluZXJzW2NvbnRhaW5lckluZGV4XS5tb2RhbHMucHVzaChtb2RhbCk7XG4gICAgICByZXR1cm4gbW9kYWxJbmRleDtcbiAgICB9XG4gICAgdGhpcy5jb250YWluZXJzLnB1c2goe1xuICAgICAgbW9kYWxzOiBbbW9kYWxdLFxuICAgICAgY29udGFpbmVyLFxuICAgICAgcmVzdG9yZTogbnVsbCxcbiAgICAgIGhpZGRlblNpYmxpbmdzXG4gICAgfSk7XG4gICAgcmV0dXJuIG1vZGFsSW5kZXg7XG4gIH1cbiAgbW91bnQobW9kYWwsIHByb3BzKSB7XG4gICAgY29uc3QgY29udGFpbmVySW5kZXggPSBmaW5kSW5kZXhPZih0aGlzLmNvbnRhaW5lcnMsIGl0ZW0gPT4gaXRlbS5tb2RhbHMuaW5jbHVkZXMobW9kYWwpKTtcbiAgICBjb25zdCBjb250YWluZXJJbmZvID0gdGhpcy5jb250YWluZXJzW2NvbnRhaW5lckluZGV4XTtcbiAgICBpZiAoIWNvbnRhaW5lckluZm8ucmVzdG9yZSkge1xuICAgICAgY29udGFpbmVySW5mby5yZXN0b3JlID0gaGFuZGxlQ29udGFpbmVyKGNvbnRhaW5lckluZm8sIHByb3BzKTtcbiAgICB9XG4gIH1cbiAgcmVtb3ZlKG1vZGFsLCBhcmlhSGlkZGVuU3RhdGUgPSB0cnVlKSB7XG4gICAgY29uc3QgbW9kYWxJbmRleCA9IHRoaXMubW9kYWxzLmluZGV4T2YobW9kYWwpO1xuICAgIGlmIChtb2RhbEluZGV4ID09PSAtMSkge1xuICAgICAgcmV0dXJuIG1vZGFsSW5kZXg7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRhaW5lckluZGV4ID0gZmluZEluZGV4T2YodGhpcy5jb250YWluZXJzLCBpdGVtID0+IGl0ZW0ubW9kYWxzLmluY2x1ZGVzKG1vZGFsKSk7XG4gICAgY29uc3QgY29udGFpbmVySW5mbyA9IHRoaXMuY29udGFpbmVyc1tjb250YWluZXJJbmRleF07XG4gICAgY29udGFpbmVySW5mby5tb2RhbHMuc3BsaWNlKGNvbnRhaW5lckluZm8ubW9kYWxzLmluZGV4T2YobW9kYWwpLCAxKTtcbiAgICB0aGlzLm1vZGFscy5zcGxpY2UobW9kYWxJbmRleCwgMSk7XG5cbiAgICAvLyBJZiB0aGF0IHdhcyB0aGUgbGFzdCBtb2RhbCBpbiBhIGNvbnRhaW5lciwgY2xlYW4gdXAgdGhlIGNvbnRhaW5lci5cbiAgICBpZiAoY29udGFpbmVySW5mby5tb2RhbHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBUaGUgbW9kYWwgbWlnaHQgYmUgY2xvc2VkIGJlZm9yZSBpdCBoYWQgdGhlIGNoYW5jZSB0byBiZSBtb3VudGVkIGluIHRoZSBET00uXG4gICAgICBpZiAoY29udGFpbmVySW5mby5yZXN0b3JlKSB7XG4gICAgICAgIGNvbnRhaW5lckluZm8ucmVzdG9yZSgpO1xuICAgICAgfVxuICAgICAgaWYgKG1vZGFsLm1vZGFsUmVmKSB7XG4gICAgICAgIC8vIEluIGNhc2UgdGhlIG1vZGFsIHdhc24ndCBpbiB0aGUgRE9NIHlldC5cbiAgICAgICAgYXJpYUhpZGRlbihtb2RhbC5tb2RhbFJlZiwgYXJpYUhpZGRlblN0YXRlKTtcbiAgICAgIH1cbiAgICAgIGFyaWFIaWRkZW5TaWJsaW5ncyhjb250YWluZXJJbmZvLmNvbnRhaW5lciwgbW9kYWwubW91bnQsIG1vZGFsLm1vZGFsUmVmLCBjb250YWluZXJJbmZvLmhpZGRlblNpYmxpbmdzLCBmYWxzZSk7XG4gICAgICB0aGlzLmNvbnRhaW5lcnMuc3BsaWNlKGNvbnRhaW5lckluZGV4LCAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gT3RoZXJ3aXNlIG1ha2Ugc3VyZSB0aGUgbmV4dCB0b3AgbW9kYWwgaXMgdmlzaWJsZSB0byBhIHNjcmVlbiByZWFkZXIuXG4gICAgICBjb25zdCBuZXh0VG9wID0gY29udGFpbmVySW5mby5tb2RhbHNbY29udGFpbmVySW5mby5tb2RhbHMubGVuZ3RoIC0gMV07XG4gICAgICAvLyBhcyBzb29uIGFzIGEgbW9kYWwgaXMgYWRkaW5nIGl0cyBtb2RhbFJlZiBpcyB1bmRlZmluZWQuIGl0IGNhbid0IHNldFxuICAgICAgLy8gYXJpYS1oaWRkZW4gYmVjYXVzZSB0aGUgZG9tIGVsZW1lbnQgZG9lc24ndCBleGlzdCBlaXRoZXJcbiAgICAgIC8vIHdoZW4gbW9kYWwgd2FzIHVubW91bnRlZCBiZWZvcmUgbW9kYWxSZWYgZ2V0cyBudWxsXG4gICAgICBpZiAobmV4dFRvcC5tb2RhbFJlZikge1xuICAgICAgICBhcmlhSGlkZGVuKG5leHRUb3AubW9kYWxSZWYsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1vZGFsSW5kZXg7XG4gIH1cbiAgaXNUb3BNb2RhbChtb2RhbCkge1xuICAgIHJldHVybiB0aGlzLm1vZGFscy5sZW5ndGggPiAwICYmIHRoaXMubW9kYWxzW3RoaXMubW9kYWxzLmxlbmd0aCAtIDFdID09PSBtb2RhbDtcbiAgfVxufSIsCiAgICAiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgSFRNTEVsZW1lbnRUeXBlIGZyb20gJ0BtdWkvdXRpbHMvSFRNTEVsZW1lbnRUeXBlJztcbmltcG9ydCBlbGVtZW50QWNjZXB0aW5nUmVmIGZyb20gJ0BtdWkvdXRpbHMvZWxlbWVudEFjY2VwdGluZ1JlZic7XG5pbXBvcnQgY29tcG9zZUNsYXNzZXMgZnJvbSAnQG11aS91dGlscy9jb21wb3NlQ2xhc3Nlcyc7XG5pbXBvcnQgRm9jdXNUcmFwIGZyb20gXCIuLi9VbnN0YWJsZV9UcmFwRm9jdXMvaW5kZXguanNcIjtcbmltcG9ydCBQb3J0YWwgZnJvbSBcIi4uL1BvcnRhbC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgc3R5bGVkIH0gZnJvbSBcIi4uL3plcm8tc3R5bGVkL2luZGV4LmpzXCI7XG5pbXBvcnQgbWVtb1RoZW1lIGZyb20gXCIuLi91dGlscy9tZW1vVGhlbWUuanNcIjtcbmltcG9ydCB7IHVzZURlZmF1bHRQcm9wcyB9IGZyb20gXCIuLi9EZWZhdWx0UHJvcHNQcm92aWRlci9pbmRleC5qc1wiO1xuaW1wb3J0IEJhY2tkcm9wIGZyb20gXCIuLi9CYWNrZHJvcC9pbmRleC5qc1wiO1xuaW1wb3J0IHVzZU1vZGFsIGZyb20gXCIuL3VzZU1vZGFsLmpzXCI7XG5pbXBvcnQgeyBnZXRNb2RhbFV0aWxpdHlDbGFzcyB9IGZyb20gXCIuL21vZGFsQ2xhc3Nlcy5qc1wiO1xuaW1wb3J0IHVzZVNsb3QgZnJvbSBcIi4uL3V0aWxzL3VzZVNsb3QuanNcIjtcbmltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5jb25zdCB1c2VVdGlsaXR5Q2xhc3NlcyA9IG93bmVyU3RhdGUgPT4ge1xuICBjb25zdCB7XG4gICAgb3BlbixcbiAgICBleGl0ZWQsXG4gICAgY2xhc3Nlc1xuICB9ID0gb3duZXJTdGF0ZTtcbiAgY29uc3Qgc2xvdHMgPSB7XG4gICAgcm9vdDogWydyb290JywgIW9wZW4gJiYgZXhpdGVkICYmICdoaWRkZW4nXSxcbiAgICBiYWNrZHJvcDogWydiYWNrZHJvcCddXG4gIH07XG4gIHJldHVybiBjb21wb3NlQ2xhc3NlcyhzbG90cywgZ2V0TW9kYWxVdGlsaXR5Q2xhc3MsIGNsYXNzZXMpO1xufTtcbmNvbnN0IE1vZGFsUm9vdCA9IHN0eWxlZCgnZGl2Jywge1xuICBuYW1lOiAnTXVpTW9kYWwnLFxuICBzbG90OiAnUm9vdCcsXG4gIG92ZXJyaWRlc1Jlc29sdmVyOiAocHJvcHMsIHN0eWxlcykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIG93bmVyU3RhdGVcbiAgICB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIFtzdHlsZXMucm9vdCwgIW93bmVyU3RhdGUub3BlbiAmJiBvd25lclN0YXRlLmV4aXRlZCAmJiBzdHlsZXMuaGlkZGVuXTtcbiAgfVxufSkobWVtb1RoZW1lKCh7XG4gIHRoZW1lXG59KSA9PiAoe1xuICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgekluZGV4OiAodGhlbWUudmFycyB8fCB0aGVtZSkuekluZGV4Lm1vZGFsLFxuICByaWdodDogMCxcbiAgYm90dG9tOiAwLFxuICB0b3A6IDAsXG4gIGxlZnQ6IDAsXG4gIHZhcmlhbnRzOiBbe1xuICAgIHByb3BzOiAoe1xuICAgICAgb3duZXJTdGF0ZVxuICAgIH0pID0+ICFvd25lclN0YXRlLm9wZW4gJiYgb3duZXJTdGF0ZS5leGl0ZWQsXG4gICAgc3R5bGU6IHtcbiAgICAgIHZpc2liaWxpdHk6ICdoaWRkZW4nXG4gICAgfVxuICB9XVxufSkpKTtcbmNvbnN0IE1vZGFsQmFja2Ryb3AgPSBzdHlsZWQoQmFja2Ryb3AsIHtcbiAgbmFtZTogJ011aU1vZGFsJyxcbiAgc2xvdDogJ0JhY2tkcm9wJ1xufSkoe1xuICB6SW5kZXg6IC0xXG59KTtcblxuLyoqXG4gKiBNb2RhbCBpcyBhIGxvd2VyLWxldmVsIGNvbnN0cnVjdCB0aGF0IGlzIGxldmVyYWdlZCBieSB0aGUgZm9sbG93aW5nIGNvbXBvbmVudHM6XG4gKlxuICogLSBbRGlhbG9nXSgvbWF0ZXJpYWwtdWkvYXBpL2RpYWxvZy8pXG4gKiAtIFtEcmF3ZXJdKC9tYXRlcmlhbC11aS9hcGkvZHJhd2VyLylcbiAqIC0gW01lbnVdKC9tYXRlcmlhbC11aS9hcGkvbWVudS8pXG4gKiAtIFtQb3BvdmVyXSgvbWF0ZXJpYWwtdWkvYXBpL3BvcG92ZXIvKVxuICpcbiAqIElmIHlvdSBhcmUgY3JlYXRpbmcgYSBtb2RhbCBkaWFsb2csIHlvdSBwcm9iYWJseSB3YW50IHRvIHVzZSB0aGUgW0RpYWxvZ10oL21hdGVyaWFsLXVpL2FwaS9kaWFsb2cvKSBjb21wb25lbnRcbiAqIHJhdGhlciB0aGFuIGRpcmVjdGx5IHVzaW5nIE1vZGFsLlxuICpcbiAqIFRoaXMgY29tcG9uZW50IHNoYXJlcyBtYW55IGNvbmNlcHRzIHdpdGggW3JlYWN0LW92ZXJsYXlzXShodHRwczovL3JlYWN0LWJvb3RzdHJhcC5naXRodWIuaW8vcmVhY3Qtb3ZlcmxheXMvI21vZGFscykuXG4gKi9cbmNvbnN0IE1vZGFsID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gTW9kYWwoaW5Qcm9wcywgcmVmKSB7XG4gIGNvbnN0IHByb3BzID0gdXNlRGVmYXVsdFByb3BzKHtcbiAgICBuYW1lOiAnTXVpTW9kYWwnLFxuICAgIHByb3BzOiBpblByb3BzXG4gIH0pO1xuICBjb25zdCB7XG4gICAgQmFja2Ryb3BDb21wb25lbnQgPSBNb2RhbEJhY2tkcm9wLFxuICAgIEJhY2tkcm9wUHJvcHMsXG4gICAgY2xhc3NlczogY2xhc3Nlc1Byb3AsXG4gICAgY2xhc3NOYW1lLFxuICAgIGNsb3NlQWZ0ZXJUcmFuc2l0aW9uID0gZmFsc2UsXG4gICAgY2hpbGRyZW4sXG4gICAgY29udGFpbmVyLFxuICAgIGNvbXBvbmVudCxcbiAgICBjb21wb25lbnRzID0ge30sXG4gICAgY29tcG9uZW50c1Byb3BzID0ge30sXG4gICAgZGlzYWJsZUF1dG9Gb2N1cyA9IGZhbHNlLFxuICAgIGRpc2FibGVFbmZvcmNlRm9jdXMgPSBmYWxzZSxcbiAgICBkaXNhYmxlRXNjYXBlS2V5RG93biA9IGZhbHNlLFxuICAgIGRpc2FibGVQb3J0YWwgPSBmYWxzZSxcbiAgICBkaXNhYmxlUmVzdG9yZUZvY3VzID0gZmFsc2UsXG4gICAgZGlzYWJsZVNjcm9sbExvY2sgPSBmYWxzZSxcbiAgICBoaWRlQmFja2Ryb3AgPSBmYWxzZSxcbiAgICBrZWVwTW91bnRlZCA9IGZhbHNlLFxuICAgIG9uQ2xvc2UsXG4gICAgb25UcmFuc2l0aW9uRW50ZXIsXG4gICAgb25UcmFuc2l0aW9uRXhpdGVkLFxuICAgIG9wZW4sXG4gICAgc2xvdFByb3BzID0ge30sXG4gICAgc2xvdHMgPSB7fSxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QvcHJvcC10eXBlc1xuICAgIHRoZW1lLFxuICAgIC4uLm90aGVyXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgcHJvcHNXaXRoRGVmYXVsdHMgPSB7XG4gICAgLi4ucHJvcHMsXG4gICAgY2xvc2VBZnRlclRyYW5zaXRpb24sXG4gICAgZGlzYWJsZUF1dG9Gb2N1cyxcbiAgICBkaXNhYmxlRW5mb3JjZUZvY3VzLFxuICAgIGRpc2FibGVFc2NhcGVLZXlEb3duLFxuICAgIGRpc2FibGVQb3J0YWwsXG4gICAgZGlzYWJsZVJlc3RvcmVGb2N1cyxcbiAgICBkaXNhYmxlU2Nyb2xsTG9jayxcbiAgICBoaWRlQmFja2Ryb3AsXG4gICAga2VlcE1vdW50ZWRcbiAgfTtcbiAgY29uc3Qge1xuICAgIGdldFJvb3RQcm9wcyxcbiAgICBnZXRCYWNrZHJvcFByb3BzLFxuICAgIGdldFRyYW5zaXRpb25Qcm9wcyxcbiAgICBwb3J0YWxSZWYsXG4gICAgaXNUb3BNb2RhbCxcbiAgICBleGl0ZWQsXG4gICAgaGFzVHJhbnNpdGlvblxuICB9ID0gdXNlTW9kYWwoe1xuICAgIC4uLnByb3BzV2l0aERlZmF1bHRzLFxuICAgIHJvb3RSZWY6IHJlZlxuICB9KTtcbiAgY29uc3Qgb3duZXJTdGF0ZSA9IHtcbiAgICAuLi5wcm9wc1dpdGhEZWZhdWx0cyxcbiAgICBleGl0ZWRcbiAgfTtcbiAgY29uc3QgY2xhc3NlcyA9IHVzZVV0aWxpdHlDbGFzc2VzKG93bmVyU3RhdGUpO1xuICBjb25zdCBjaGlsZFByb3BzID0ge307XG4gIGlmIChjaGlsZHJlbi5wcm9wcy50YWJJbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY2hpbGRQcm9wcy50YWJJbmRleCA9ICctMSc7XG4gIH1cblxuICAvLyBJdCdzIGEgVHJhbnNpdGlvbiBsaWtlIGNvbXBvbmVudFxuICBpZiAoaGFzVHJhbnNpdGlvbikge1xuICAgIGNvbnN0IHtcbiAgICAgIG9uRW50ZXIsXG4gICAgICBvbkV4aXRlZFxuICAgIH0gPSBnZXRUcmFuc2l0aW9uUHJvcHMoKTtcbiAgICBjaGlsZFByb3BzLm9uRW50ZXIgPSBvbkVudGVyO1xuICAgIGNoaWxkUHJvcHMub25FeGl0ZWQgPSBvbkV4aXRlZDtcbiAgfVxuICBjb25zdCBleHRlcm5hbEZvcndhcmRlZFByb3BzID0ge1xuICAgIHNsb3RzOiB7XG4gICAgICByb290OiBjb21wb25lbnRzLlJvb3QsXG4gICAgICBiYWNrZHJvcDogY29tcG9uZW50cy5CYWNrZHJvcCxcbiAgICAgIC4uLnNsb3RzXG4gICAgfSxcbiAgICBzbG90UHJvcHM6IHtcbiAgICAgIC4uLmNvbXBvbmVudHNQcm9wcyxcbiAgICAgIC4uLnNsb3RQcm9wc1xuICAgIH1cbiAgfTtcbiAgY29uc3QgW1Jvb3RTbG90LCByb290UHJvcHNdID0gdXNlU2xvdCgncm9vdCcsIHtcbiAgICByZWYsXG4gICAgZWxlbWVudFR5cGU6IE1vZGFsUm9vdCxcbiAgICBleHRlcm5hbEZvcndhcmRlZFByb3BzOiB7XG4gICAgICAuLi5leHRlcm5hbEZvcndhcmRlZFByb3BzLFxuICAgICAgLi4ub3RoZXIsXG4gICAgICBjb21wb25lbnRcbiAgICB9LFxuICAgIGdldFNsb3RQcm9wczogZ2V0Um9vdFByb3BzLFxuICAgIG93bmVyU3RhdGUsXG4gICAgY2xhc3NOYW1lOiBjbHN4KGNsYXNzTmFtZSwgY2xhc3Nlcz8ucm9vdCwgIW93bmVyU3RhdGUub3BlbiAmJiBvd25lclN0YXRlLmV4aXRlZCAmJiBjbGFzc2VzPy5oaWRkZW4pXG4gIH0pO1xuICBjb25zdCBbQmFja2Ryb3BTbG90LCBiYWNrZHJvcFByb3BzXSA9IHVzZVNsb3QoJ2JhY2tkcm9wJywge1xuICAgIHJlZjogQmFja2Ryb3BQcm9wcz8ucmVmLFxuICAgIGVsZW1lbnRUeXBlOiBCYWNrZHJvcENvbXBvbmVudCxcbiAgICBleHRlcm5hbEZvcndhcmRlZFByb3BzLFxuICAgIHNob3VsZEZvcndhcmRDb21wb25lbnRQcm9wOiB0cnVlLFxuICAgIGFkZGl0aW9uYWxQcm9wczogQmFja2Ryb3BQcm9wcyxcbiAgICBnZXRTbG90UHJvcHM6IG90aGVySGFuZGxlcnMgPT4ge1xuICAgICAgcmV0dXJuIGdldEJhY2tkcm9wUHJvcHMoe1xuICAgICAgICAuLi5vdGhlckhhbmRsZXJzLFxuICAgICAgICBvbkNsaWNrOiBldmVudCA9PiB7XG4gICAgICAgICAgaWYgKG90aGVySGFuZGxlcnM/Lm9uQ2xpY2spIHtcbiAgICAgICAgICAgIG90aGVySGFuZGxlcnMub25DbGljayhldmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGNsYXNzTmFtZTogY2xzeChCYWNrZHJvcFByb3BzPy5jbGFzc05hbWUsIGNsYXNzZXM/LmJhY2tkcm9wKSxcbiAgICBvd25lclN0YXRlXG4gIH0pO1xuICBpZiAoIWtlZXBNb3VudGVkICYmICFvcGVuICYmICghaGFzVHJhbnNpdGlvbiB8fCBleGl0ZWQpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KFBvcnRhbCwge1xuICAgIHJlZjogcG9ydGFsUmVmLFxuICAgIGNvbnRhaW5lcjogY29udGFpbmVyLFxuICAgIGRpc2FibGVQb3J0YWw6IGRpc2FibGVQb3J0YWwsXG4gICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4cyhSb290U2xvdCwge1xuICAgICAgLi4ucm9vdFByb3BzLFxuICAgICAgY2hpbGRyZW46IFshaGlkZUJhY2tkcm9wICYmIEJhY2tkcm9wQ29tcG9uZW50ID8gLyojX19QVVJFX18qL19qc3goQmFja2Ryb3BTbG90LCB7XG4gICAgICAgIC4uLmJhY2tkcm9wUHJvcHNcbiAgICAgIH0pIDogbnVsbCwgLyojX19QVVJFX18qL19qc3goRm9jdXNUcmFwLCB7XG4gICAgICAgIGRpc2FibGVFbmZvcmNlRm9jdXM6IGRpc2FibGVFbmZvcmNlRm9jdXMsXG4gICAgICAgIGRpc2FibGVBdXRvRm9jdXM6IGRpc2FibGVBdXRvRm9jdXMsXG4gICAgICAgIGRpc2FibGVSZXN0b3JlRm9jdXM6IGRpc2FibGVSZXN0b3JlRm9jdXMsXG4gICAgICAgIGlzRW5hYmxlZDogaXNUb3BNb2RhbCxcbiAgICAgICAgb3Blbjogb3BlbixcbiAgICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9SZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGRyZW4sIGNoaWxkUHJvcHMpXG4gICAgICB9KV1cbiAgICB9KVxuICB9KTtcbn0pO1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gTW9kYWwucHJvcFR5cGVzIC8qIHJlbW92ZS1wcm9wdHlwZXMgKi8gPSB7XG4gIC8vIOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBXYXJuaW5nIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuICAvLyDilIIgVGhlc2UgUHJvcFR5cGVzIGFyZSBnZW5lcmF0ZWQgZnJvbSB0aGUgVHlwZVNjcmlwdCB0eXBlIGRlZmluaXRpb25zLiDilIJcbiAgLy8g4pSCICAgIFRvIHVwZGF0ZSB0aGVtLCBlZGl0IHRoZSBkLnRzIGZpbGUgYW5kIHJ1biBgcG5wbSBwcm9wdHlwZXNgLiAgICAg4pSCXG4gIC8vIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmFxuICAvKipcbiAgICogQSBiYWNrZHJvcCBjb21wb25lbnQuIFRoaXMgcHJvcCBlbmFibGVzIGN1c3RvbSBiYWNrZHJvcCByZW5kZXJpbmcuXG4gICAqIEBkZXByZWNhdGVkIFVzZSBgc2xvdHMuYmFja2Ryb3BgIGluc3RlYWQuIFdoaWxlIHRoaXMgcHJvcCBjdXJyZW50bHkgd29ya3MsIGl0IHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uLlxuICAgKiBVc2UgdGhlIGBzbG90cy5iYWNrZHJvcGAgcHJvcCB0byBtYWtlIHlvdXIgYXBwbGljYXRpb24gcmVhZHkgZm9yIHRoZSBuZXh0IHZlcnNpb24gb2YgTWF0ZXJpYWwgVUkuXG4gICAqIEBkZWZhdWx0IHN0eWxlZChCYWNrZHJvcCwge1xuICAgKiAgIG5hbWU6ICdNdWlNb2RhbCcsXG4gICAqICAgc2xvdDogJ0JhY2tkcm9wJyxcbiAgICogfSkoe1xuICAgKiAgIHpJbmRleDogLTEsXG4gICAqIH0pXG4gICAqL1xuICBCYWNrZHJvcENvbXBvbmVudDogUHJvcFR5cGVzLmVsZW1lbnRUeXBlLFxuICAvKipcbiAgICogUHJvcHMgYXBwbGllZCB0byB0aGUgW2BCYWNrZHJvcGBdKGh0dHBzOi8vbXVpLmNvbS9tYXRlcmlhbC11aS9hcGkvYmFja2Ryb3AvKSBlbGVtZW50LlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgYHNsb3RQcm9wcy5iYWNrZHJvcGAgaW5zdGVhZC5cbiAgICovXG4gIEJhY2tkcm9wUHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG4gIC8qKlxuICAgKiBBIHNpbmdsZSBjaGlsZCBjb250ZW50IGVsZW1lbnQuXG4gICAqL1xuICBjaGlsZHJlbjogZWxlbWVudEFjY2VwdGluZ1JlZi5pc1JlcXVpcmVkLFxuICAvKipcbiAgICogT3ZlcnJpZGUgb3IgZXh0ZW5kIHRoZSBzdHlsZXMgYXBwbGllZCB0byB0aGUgY29tcG9uZW50LlxuICAgKi9cbiAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdCxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgLyoqXG4gICAqIFdoZW4gc2V0IHRvIHRydWUgdGhlIE1vZGFsIHdhaXRzIHVudGlsIGEgbmVzdGVkIFRyYW5zaXRpb24gaXMgY29tcGxldGVkIGJlZm9yZSBjbG9zaW5nLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgY2xvc2VBZnRlclRyYW5zaXRpb246IFByb3BUeXBlcy5ib29sLFxuICAvKipcbiAgICogVGhlIGNvbXBvbmVudCB1c2VkIGZvciB0aGUgcm9vdCBub2RlLlxuICAgKiBFaXRoZXIgYSBzdHJpbmcgdG8gdXNlIGEgSFRNTCBlbGVtZW50IG9yIGEgY29tcG9uZW50LlxuICAgKi9cbiAgY29tcG9uZW50OiBQcm9wVHlwZXMuZWxlbWVudFR5cGUsXG4gIC8qKlxuICAgKiBUaGUgY29tcG9uZW50cyB1c2VkIGZvciBlYWNoIHNsb3QgaW5zaWRlLlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGBzbG90c2AgcHJvcCBpbnN0ZWFkLiBUaGlzIHByb3Agd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIG1ham9yIHJlbGVhc2UuIFNlZSBbTWlncmF0aW5nIGZyb20gZGVwcmVjYXRlZCBBUElzXShodHRwczovL211aS5jb20vbWF0ZXJpYWwtdWkvbWlncmF0aW9uL21pZ3JhdGluZy1mcm9tLWRlcHJlY2F0ZWQtYXBpcy8pIGZvciBtb3JlIGRldGFpbHMuXG4gICAqXG4gICAqIEBkZWZhdWx0IHt9XG4gICAqL1xuICBjb21wb25lbnRzOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIEJhY2tkcm9wOiBQcm9wVHlwZXMuZWxlbWVudFR5cGUsXG4gICAgUm9vdDogUHJvcFR5cGVzLmVsZW1lbnRUeXBlXG4gIH0pLFxuICAvKipcbiAgICogVGhlIGV4dHJhIHByb3BzIGZvciB0aGUgc2xvdCBjb21wb25lbnRzLlxuICAgKiBZb3UgY2FuIG92ZXJyaWRlIHRoZSBleGlzdGluZyBwcm9wcyBvciBhZGQgbmV3IG9uZXMuXG4gICAqXG4gICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgYHNsb3RQcm9wc2AgcHJvcCBpbnN0ZWFkLiBUaGlzIHByb3Agd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIG1ham9yIHJlbGVhc2UuIFNlZSBbTWlncmF0aW5nIGZyb20gZGVwcmVjYXRlZCBBUElzXShodHRwczovL211aS5jb20vbWF0ZXJpYWwtdWkvbWlncmF0aW9uL21pZ3JhdGluZy1mcm9tLWRlcHJlY2F0ZWQtYXBpcy8pIGZvciBtb3JlIGRldGFpbHMuXG4gICAqXG4gICAqIEBkZWZhdWx0IHt9XG4gICAqL1xuICBjb21wb25lbnRzUHJvcHM6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgYmFja2Ryb3A6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0XSksXG4gICAgcm9vdDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3RdKVxuICB9KSxcbiAgLyoqXG4gICAqIEFuIEhUTUwgZWxlbWVudCBvciBmdW5jdGlvbiB0aGF0IHJldHVybnMgb25lLlxuICAgKiBUaGUgYGNvbnRhaW5lcmAgd2lsbCBoYXZlIHRoZSBwb3J0YWwgY2hpbGRyZW4gYXBwZW5kZWQgdG8gaXQuXG4gICAqXG4gICAqIFlvdSBjYW4gYWxzbyBwcm92aWRlIGEgY2FsbGJhY2ssIHdoaWNoIGlzIGNhbGxlZCBpbiBhIFJlYWN0IGxheW91dCBlZmZlY3QuXG4gICAqIFRoaXMgbGV0cyB5b3Ugc2V0IHRoZSBjb250YWluZXIgZnJvbSBhIHJlZiwgYW5kIGFsc28gbWFrZXMgc2VydmVyLXNpZGUgcmVuZGVyaW5nIHBvc3NpYmxlLlxuICAgKlxuICAgKiBCeSBkZWZhdWx0LCBpdCB1c2VzIHRoZSBib2R5IG9mIHRoZSB0b3AtbGV2ZWwgZG9jdW1lbnQgb2JqZWN0LFxuICAgKiBzbyBpdCdzIHNpbXBseSBgZG9jdW1lbnQuYm9keWAgbW9zdCBvZiB0aGUgdGltZS5cbiAgICovXG4gIGNvbnRhaW5lcjogUHJvcFR5cGVzIC8qIEB0eXBlc2NyaXB0LXRvLXByb3B0eXBlcy1pZ25vcmUgKi8ub25lT2ZUeXBlKFtIVE1MRWxlbWVudFR5cGUsIFByb3BUeXBlcy5mdW5jXSksXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBtb2RhbCB3aWxsIG5vdCBhdXRvbWF0aWNhbGx5IHNoaWZ0IGZvY3VzIHRvIGl0c2VsZiB3aGVuIGl0IG9wZW5zLCBhbmRcbiAgICogcmVwbGFjZSBpdCB0byB0aGUgbGFzdCBmb2N1c2VkIGVsZW1lbnQgd2hlbiBpdCBjbG9zZXMuXG4gICAqIFRoaXMgYWxzbyB3b3JrcyBjb3JyZWN0bHkgd2l0aCBhbnkgbW9kYWwgY2hpbGRyZW4gdGhhdCBoYXZlIHRoZSBgZGlzYWJsZUF1dG9Gb2N1c2AgcHJvcC5cbiAgICpcbiAgICogR2VuZXJhbGx5IHRoaXMgc2hvdWxkIG5ldmVyIGJlIHNldCB0byBgdHJ1ZWAgYXMgaXQgbWFrZXMgdGhlIG1vZGFsIGxlc3NcbiAgICogYWNjZXNzaWJsZSB0byBhc3Npc3RpdmUgdGVjaG5vbG9naWVzLCBsaWtlIHNjcmVlbiByZWFkZXJzLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZGlzYWJsZUF1dG9Gb2N1czogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBtb2RhbCB3aWxsIG5vdCBwcmV2ZW50IGZvY3VzIGZyb20gbGVhdmluZyB0aGUgbW9kYWwgd2hpbGUgb3Blbi5cbiAgICpcbiAgICogR2VuZXJhbGx5IHRoaXMgc2hvdWxkIG5ldmVyIGJlIHNldCB0byBgdHJ1ZWAgYXMgaXQgbWFrZXMgdGhlIG1vZGFsIGxlc3NcbiAgICogYWNjZXNzaWJsZSB0byBhc3Npc3RpdmUgdGVjaG5vbG9naWVzLCBsaWtlIHNjcmVlbiByZWFkZXJzLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZGlzYWJsZUVuZm9yY2VGb2N1czogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIGhpdHRpbmcgZXNjYXBlIHdpbGwgbm90IGZpcmUgdGhlIGBvbkNsb3NlYCBjYWxsYmFjay5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGRpc2FibGVFc2NhcGVLZXlEb3duOiBQcm9wVHlwZXMuYm9vbCxcbiAgLyoqXG4gICAqIFRoZSBgY2hpbGRyZW5gIHdpbGwgYmUgdW5kZXIgdGhlIERPTSBoaWVyYXJjaHkgb2YgdGhlIHBhcmVudCBjb21wb25lbnQuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBkaXNhYmxlUG9ydGFsOiBQcm9wVHlwZXMuYm9vbCxcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIG1vZGFsIHdpbGwgbm90IHJlc3RvcmUgZm9jdXMgdG8gcHJldmlvdXNseSBmb2N1c2VkIGVsZW1lbnQgb25jZVxuICAgKiBtb2RhbCBpcyBoaWRkZW4gb3IgdW5tb3VudGVkLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZGlzYWJsZVJlc3RvcmVGb2N1czogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBEaXNhYmxlIHRoZSBzY3JvbGwgbG9jayBiZWhhdmlvci5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGRpc2FibGVTY3JvbGxMb2NrOiBQcm9wVHlwZXMuYm9vbCxcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIGJhY2tkcm9wIGlzIG5vdCByZW5kZXJlZC5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGhpZGVCYWNrZHJvcDogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBBbHdheXMga2VlcCB0aGUgY2hpbGRyZW4gaW4gdGhlIERPTS5cbiAgICogVGhpcyBwcm9wIGNhbiBiZSB1c2VmdWwgaW4gU0VPIHNpdHVhdGlvbiBvclxuICAgKiB3aGVuIHlvdSB3YW50IHRvIG1heGltaXplIHRoZSByZXNwb25zaXZlbmVzcyBvZiB0aGUgTW9kYWwuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBrZWVwTW91bnRlZDogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmaXJlZCB3aGVuIHRoZSBjb21wb25lbnQgcmVxdWVzdHMgdG8gYmUgY2xvc2VkLlxuICAgKiBUaGUgYHJlYXNvbmAgcGFyYW1ldGVyIGNhbiBvcHRpb25hbGx5IGJlIHVzZWQgdG8gY29udHJvbCB0aGUgcmVzcG9uc2UgdG8gYG9uQ2xvc2VgLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnQgVGhlIGV2ZW50IHNvdXJjZSBvZiB0aGUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWFzb24gQ2FuIGJlOiBgXCJlc2NhcGVLZXlEb3duXCJgLCBgXCJiYWNrZHJvcENsaWNrXCJgLlxuICAgKi9cbiAgb25DbG9zZTogUHJvcFR5cGVzLmZ1bmMsXG4gIC8qKlxuICAgKiBBIGZ1bmN0aW9uIGNhbGxlZCB3aGVuIGEgdHJhbnNpdGlvbiBlbnRlcnMuXG4gICAqL1xuICBvblRyYW5zaXRpb25FbnRlcjogUHJvcFR5cGVzLmZ1bmMsXG4gIC8qKlxuICAgKiBBIGZ1bmN0aW9uIGNhbGxlZCB3aGVuIGEgdHJhbnNpdGlvbiBoYXMgZXhpdGVkLlxuICAgKi9cbiAgb25UcmFuc2l0aW9uRXhpdGVkOiBQcm9wVHlwZXMuZnVuYyxcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIGNvbXBvbmVudCBpcyBzaG93bi5cbiAgICovXG4gIG9wZW46IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIC8qKlxuICAgKiBUaGUgcHJvcHMgdXNlZCBmb3IgZWFjaCBzbG90IGluc2lkZSB0aGUgTW9kYWwuXG4gICAqIEBkZWZhdWx0IHt9XG4gICAqL1xuICBzbG90UHJvcHM6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgYmFja2Ryb3A6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0XSksXG4gICAgcm9vdDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3RdKVxuICB9KSxcbiAgLyoqXG4gICAqIFRoZSBjb21wb25lbnRzIHVzZWQgZm9yIGVhY2ggc2xvdCBpbnNpZGUgdGhlIE1vZGFsLlxuICAgKiBFaXRoZXIgYSBzdHJpbmcgdG8gdXNlIGEgSFRNTCBlbGVtZW50IG9yIGEgY29tcG9uZW50LlxuICAgKiBAZGVmYXVsdCB7fVxuICAgKi9cbiAgc2xvdHM6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgYmFja2Ryb3A6IFByb3BUeXBlcy5lbGVtZW50VHlwZSxcbiAgICByb290OiBQcm9wVHlwZXMuZWxlbWVudFR5cGVcbiAgfSksXG4gIC8qKlxuICAgKiBUaGUgc3lzdGVtIHByb3AgdGhhdCBhbGxvd3MgZGVmaW5pbmcgc3lzdGVtIG92ZXJyaWRlcyBhcyB3ZWxsIGFzIGFkZGl0aW9uYWwgQ1NTIHN0eWxlcy5cbiAgICovXG4gIHN4OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdCwgUHJvcFR5cGVzLmJvb2xdKSksIFByb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0XSlcbn0gOiB2b2lkIDA7XG5leHBvcnQgZGVmYXVsdCBNb2RhbDsiLAogICAgIid1c2UgY2xpZW50JztcblxuLyogZXNsaW50LWRpc2FibGUgY29uc2lzdGVudC1yZXR1cm4sIGpzeC1hMTF5L25vLW5vbmludGVyYWN0aXZlLXRhYmluZGV4ICovXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHVzZUZvcmtSZWYgZnJvbSAnQG11aS91dGlscy91c2VGb3JrUmVmJztcbmltcG9ydCBvd25lckRvY3VtZW50IGZyb20gJ0BtdWkvdXRpbHMvb3duZXJEb2N1bWVudCc7XG5pbXBvcnQgZ2V0UmVhY3RFbGVtZW50UmVmIGZyb20gJ0BtdWkvdXRpbHMvZ2V0UmVhY3RFbGVtZW50UmVmJztcbmltcG9ydCBleGFjdFByb3AgZnJvbSAnQG11aS91dGlscy9leGFjdFByb3AnO1xuaW1wb3J0IGVsZW1lbnRBY2NlcHRpbmdSZWYgZnJvbSAnQG11aS91dGlscy9lbGVtZW50QWNjZXB0aW5nUmVmJztcbmltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG4vLyBJbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vZm9jdXMtdHJhcC90YWJiYWJsZVxuY29uc3QgY2FuZGlkYXRlc1NlbGVjdG9yID0gWydpbnB1dCcsICdzZWxlY3QnLCAndGV4dGFyZWEnLCAnYVtocmVmXScsICdidXR0b24nLCAnW3RhYmluZGV4XScsICdhdWRpb1tjb250cm9sc10nLCAndmlkZW9bY29udHJvbHNdJywgJ1tjb250ZW50ZWRpdGFibGVdOm5vdChbY29udGVudGVkaXRhYmxlPVwiZmFsc2VcIl0pJ10uam9pbignLCcpO1xuZnVuY3Rpb24gZ2V0VGFiSW5kZXgobm9kZSkge1xuICBjb25zdCB0YWJpbmRleEF0dHIgPSBwYXJzZUludChub2RlLmdldEF0dHJpYnV0ZSgndGFiaW5kZXgnKSB8fCAnJywgMTApO1xuICBpZiAoIU51bWJlci5pc05hTih0YWJpbmRleEF0dHIpKSB7XG4gICAgcmV0dXJuIHRhYmluZGV4QXR0cjtcbiAgfVxuXG4gIC8vIEJyb3dzZXJzIGRvIG5vdCByZXR1cm4gYHRhYkluZGV4YCBjb3JyZWN0bHkgZm9yIGNvbnRlbnRFZGl0YWJsZSBub2RlcztcbiAgLy8gaHR0cHM6Ly9pc3N1ZXMuY2hyb21pdW0ub3JnL2lzc3Vlcy80MTI4Mzk1MlxuICAvLyBzbyBpZiB0aGV5IGRvbid0IGhhdmUgYSB0YWJpbmRleCBhdHRyaWJ1dGUgc3BlY2lmaWNhbGx5IHNldCwgYXNzdW1lIGl0J3MgMC5cbiAgLy8gaW4gQ2hyb21lLCA8ZGV0YWlscy8+LCA8YXVkaW8gY29udHJvbHMvPiBhbmQgPHZpZGVvIGNvbnRyb2xzLz4gZWxlbWVudHMgZ2V0IGEgZGVmYXVsdFxuICAvLyAgYHRhYkluZGV4YCBvZiAtMSB3aGVuIHRoZSAndGFiaW5kZXgnIGF0dHJpYnV0ZSBpc24ndCBzcGVjaWZpZWQgaW4gdGhlIERPTSxcbiAgLy8gIHlldCB0aGV5IGFyZSBzdGlsbCBwYXJ0IG9mIHRoZSByZWd1bGFyIHRhYiBvcmRlcjsgaW4gRkYsIHRoZXkgZ2V0IGEgZGVmYXVsdFxuICAvLyAgYHRhYkluZGV4YCBvZiAwOyBzaW5jZSBDaHJvbWUgc3RpbGwgcHV0cyB0aG9zZSBlbGVtZW50cyBpbiB0aGUgcmVndWxhciB0YWJcbiAgLy8gIG9yZGVyLCBjb25zaWRlciB0aGVpciB0YWIgaW5kZXggdG8gYmUgMC5cbiAgaWYgKG5vZGUuY29udGVudEVkaXRhYmxlID09PSAndHJ1ZScgfHwgKG5vZGUubm9kZU5hbWUgPT09ICdBVURJTycgfHwgbm9kZS5ub2RlTmFtZSA9PT0gJ1ZJREVPJyB8fCBub2RlLm5vZGVOYW1lID09PSAnREVUQUlMUycpICYmIG5vZGUuZ2V0QXR0cmlidXRlKCd0YWJpbmRleCcpID09PSBudWxsKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgcmV0dXJuIG5vZGUudGFiSW5kZXg7XG59XG5mdW5jdGlvbiBpc05vblRhYmJhYmxlUmFkaW8obm9kZSkge1xuICBpZiAobm9kZS50YWdOYW1lICE9PSAnSU5QVVQnIHx8IG5vZGUudHlwZSAhPT0gJ3JhZGlvJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoIW5vZGUubmFtZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBnZXRSYWRpbyA9IHNlbGVjdG9yID0+IG5vZGUub3duZXJEb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBpbnB1dFt0eXBlPVwicmFkaW9cIl0ke3NlbGVjdG9yfWApO1xuICBsZXQgcm92aW5nID0gZ2V0UmFkaW8oYFtuYW1lPVwiJHtub2RlLm5hbWV9XCJdOmNoZWNrZWRgKTtcbiAgaWYgKCFyb3ZpbmcpIHtcbiAgICByb3ZpbmcgPSBnZXRSYWRpbyhgW25hbWU9XCIke25vZGUubmFtZX1cIl1gKTtcbiAgfVxuICByZXR1cm4gcm92aW5nICE9PSBub2RlO1xufVxuZnVuY3Rpb24gaXNOb2RlTWF0Y2hpbmdTZWxlY3RvckZvY3VzYWJsZShub2RlKSB7XG4gIGlmIChub2RlLmRpc2FibGVkIHx8IG5vZGUudGFnTmFtZSA9PT0gJ0lOUFVUJyAmJiBub2RlLnR5cGUgPT09ICdoaWRkZW4nIHx8IGlzTm9uVGFiYmFibGVSYWRpbyhub2RlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRHZXRUYWJiYWJsZShyb290KSB7XG4gIGNvbnN0IHJlZ3VsYXJUYWJOb2RlcyA9IFtdO1xuICBjb25zdCBvcmRlcmVkVGFiTm9kZXMgPSBbXTtcbiAgQXJyYXkuZnJvbShyb290LnF1ZXJ5U2VsZWN0b3JBbGwoY2FuZGlkYXRlc1NlbGVjdG9yKSkuZm9yRWFjaCgobm9kZSwgaSkgPT4ge1xuICAgIGNvbnN0IG5vZGVUYWJJbmRleCA9IGdldFRhYkluZGV4KG5vZGUpO1xuICAgIGlmIChub2RlVGFiSW5kZXggPT09IC0xIHx8ICFpc05vZGVNYXRjaGluZ1NlbGVjdG9yRm9jdXNhYmxlKG5vZGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChub2RlVGFiSW5kZXggPT09IDApIHtcbiAgICAgIHJlZ3VsYXJUYWJOb2Rlcy5wdXNoKG5vZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcmRlcmVkVGFiTm9kZXMucHVzaCh7XG4gICAgICAgIGRvY3VtZW50T3JkZXI6IGksXG4gICAgICAgIHRhYkluZGV4OiBub2RlVGFiSW5kZXgsXG4gICAgICAgIG5vZGU6IG5vZGVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBvcmRlcmVkVGFiTm9kZXMuc29ydCgoYSwgYikgPT4gYS50YWJJbmRleCA9PT0gYi50YWJJbmRleCA/IGEuZG9jdW1lbnRPcmRlciAtIGIuZG9jdW1lbnRPcmRlciA6IGEudGFiSW5kZXggLSBiLnRhYkluZGV4KS5tYXAoYSA9PiBhLm5vZGUpLmNvbmNhdChyZWd1bGFyVGFiTm9kZXMpO1xufVxuZnVuY3Rpb24gZGVmYXVsdElzRW5hYmxlZCgpIHtcbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQGlnbm9yZSAtIGludGVybmFsIGNvbXBvbmVudC5cbiAqL1xuZnVuY3Rpb24gRm9jdXNUcmFwKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBjaGlsZHJlbixcbiAgICBkaXNhYmxlQXV0b0ZvY3VzID0gZmFsc2UsXG4gICAgZGlzYWJsZUVuZm9yY2VGb2N1cyA9IGZhbHNlLFxuICAgIGRpc2FibGVSZXN0b3JlRm9jdXMgPSBmYWxzZSxcbiAgICBnZXRUYWJiYWJsZSA9IGRlZmF1bHRHZXRUYWJiYWJsZSxcbiAgICBpc0VuYWJsZWQgPSBkZWZhdWx0SXNFbmFibGVkLFxuICAgIG9wZW5cbiAgfSA9IHByb3BzO1xuICBjb25zdCBpZ25vcmVOZXh0RW5mb3JjZUZvY3VzID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgY29uc3Qgc2VudGluZWxTdGFydCA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgY29uc3Qgc2VudGluZWxFbmQgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIGNvbnN0IG5vZGVUb1Jlc3RvcmUgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIGNvbnN0IHJlYWN0Rm9jdXNFdmVudFRhcmdldCA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgLy8gVGhpcyB2YXJpYWJsZSBpcyB1c2VmdWwgd2hlbiBkaXNhYmxlQXV0b0ZvY3VzIGlzIHRydWUuXG4gIC8vIEl0IHdhaXRzIGZvciB0aGUgYWN0aXZlIGVsZW1lbnQgdG8gbW92ZSBpbnRvIHRoZSBjb21wb25lbnQgdG8gYWN0aXZhdGUuXG4gIGNvbnN0IGFjdGl2YXRlZCA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IHJvb3RSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIGNvbnN0IGhhbmRsZVJlZiA9IHVzZUZvcmtSZWYoZ2V0UmVhY3RFbGVtZW50UmVmKGNoaWxkcmVuKSwgcm9vdFJlZik7XG4gIGNvbnN0IGxhc3RLZXlkb3duID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIFdlIG1pZ2h0IHJlbmRlciBhbiBlbXB0eSBjaGlsZC5cbiAgICBpZiAoIW9wZW4gfHwgIXJvb3RSZWYuY3VycmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhY3RpdmF0ZWQuY3VycmVudCA9ICFkaXNhYmxlQXV0b0ZvY3VzO1xuICB9LCBbZGlzYWJsZUF1dG9Gb2N1cywgb3Blbl0pO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIFdlIG1pZ2h0IHJlbmRlciBhbiBlbXB0eSBjaGlsZC5cbiAgICBpZiAoIW9wZW4gfHwgIXJvb3RSZWYuY3VycmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkb2MgPSBvd25lckRvY3VtZW50KHJvb3RSZWYuY3VycmVudCk7XG4gICAgaWYgKCFyb290UmVmLmN1cnJlbnQuY29udGFpbnMoZG9jLmFjdGl2ZUVsZW1lbnQpKSB7XG4gICAgICBpZiAoIXJvb3RSZWYuY3VycmVudC5oYXNBdHRyaWJ1dGUoJ3RhYkluZGV4JykpIHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFsnTVVJOiBUaGUgbW9kYWwgY29udGVudCBub2RlIGRvZXMgbm90IGFjY2VwdCBmb2N1cy4nLCAnRm9yIHRoZSBiZW5lZml0IG9mIGFzc2lzdGl2ZSB0ZWNobm9sb2dpZXMsICcgKyAndGhlIHRhYkluZGV4IG9mIHRoZSBub2RlIGlzIGJlaW5nIHNldCB0byBcIi0xXCIuJ10uam9pbignXFxuJykpO1xuICAgICAgICB9XG4gICAgICAgIHJvb3RSZWYuY3VycmVudC5zZXRBdHRyaWJ1dGUoJ3RhYkluZGV4JywgJy0xJyk7XG4gICAgICB9XG4gICAgICBpZiAoYWN0aXZhdGVkLmN1cnJlbnQpIHtcbiAgICAgICAgcm9vdFJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAvLyByZXN0b3JlTGFzdEZvY3VzKClcbiAgICAgIGlmICghZGlzYWJsZVJlc3RvcmVGb2N1cykge1xuICAgICAgICAvLyBJbiBJRTExIGl0IGlzIHBvc3NpYmxlIGZvciBkb2N1bWVudC5hY3RpdmVFbGVtZW50IHRvIGJlIG51bGwgcmVzdWx0aW5nXG4gICAgICAgIC8vIGluIG5vZGVUb1Jlc3RvcmUuY3VycmVudCBiZWluZyBudWxsLlxuICAgICAgICAvLyBOb3QgYWxsIGVsZW1lbnRzIGluIElFMTEgaGF2ZSBhIGZvY3VzIG1ldGhvZC5cbiAgICAgICAgLy8gT25jZSBJRTExIHN1cHBvcnQgaXMgZHJvcHBlZCB0aGUgZm9jdXMoKSBjYWxsIGNhbiBiZSB1bmNvbmRpdGlvbmFsLlxuICAgICAgICBpZiAobm9kZVRvUmVzdG9yZS5jdXJyZW50ICYmIG5vZGVUb1Jlc3RvcmUuY3VycmVudC5mb2N1cykge1xuICAgICAgICAgIGlnbm9yZU5leHRFbmZvcmNlRm9jdXMuY3VycmVudCA9IHRydWU7XG4gICAgICAgICAgbm9kZVRvUmVzdG9yZS5jdXJyZW50LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZVRvUmVzdG9yZS5jdXJyZW50ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuICAgIC8vIE1pc3NpbmcgYGRpc2FibGVSZXN0b3JlRm9jdXNgIHdoaWNoIGlzIGZpbmUuXG4gICAgLy8gV2UgZG9uJ3Qgc3VwcG9ydCBjaGFuZ2luZyB0aGF0IHByb3Agb24gYW4gb3BlbiBGb2N1c1RyYXBcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIFtvcGVuXSk7XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gV2UgbWlnaHQgcmVuZGVyIGFuIGVtcHR5IGNoaWxkLlxuICAgIGlmICghb3BlbiB8fCAhcm9vdFJlZi5jdXJyZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGRvYyA9IG93bmVyRG9jdW1lbnQocm9vdFJlZi5jdXJyZW50KTtcbiAgICBjb25zdCBsb29wRm9jdXMgPSBuYXRpdmVFdmVudCA9PiB7XG4gICAgICBsYXN0S2V5ZG93bi5jdXJyZW50ID0gbmF0aXZlRXZlbnQ7XG4gICAgICBpZiAoZGlzYWJsZUVuZm9yY2VGb2N1cyB8fCAhaXNFbmFibGVkKCkgfHwgbmF0aXZlRXZlbnQua2V5ICE9PSAnVGFiJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgbmV4dCB0YWIgc3RhcnRzIGZyb20gdGhlIHJpZ2h0IHBsYWNlLlxuICAgICAgLy8gZG9jLmFjdGl2ZUVsZW1lbnQgcmVmZXJzIHRvIHRoZSBvcmlnaW4uXG4gICAgICBpZiAoZG9jLmFjdGl2ZUVsZW1lbnQgPT09IHJvb3RSZWYuY3VycmVudCAmJiBuYXRpdmVFdmVudC5zaGlmdEtleSkge1xuICAgICAgICAvLyBXZSBuZWVkIHRvIGlnbm9yZSB0aGUgbmV4dCBjb250YWluIGFzXG4gICAgICAgIC8vIGl0IHdpbGwgdHJ5IHRvIG1vdmUgdGhlIGZvY3VzIGJhY2sgdG8gdGhlIHJvb3RSZWYgZWxlbWVudC5cbiAgICAgICAgaWdub3JlTmV4dEVuZm9yY2VGb2N1cy5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgaWYgKHNlbnRpbmVsRW5kLmN1cnJlbnQpIHtcbiAgICAgICAgICBzZW50aW5lbEVuZC5jdXJyZW50LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGNvbnRhaW4gPSAoKSA9PiB7XG4gICAgICBjb25zdCByb290RWxlbWVudCA9IHJvb3RSZWYuY3VycmVudDtcblxuICAgICAgLy8gQ2xlYW51cCBmdW5jdGlvbnMgYXJlIGV4ZWN1dGVkIGxhemlseSBpbiBSZWFjdCAxNy5cbiAgICAgIC8vIENvbnRhaW4gY2FuIGJlIGNhbGxlZCBiZXR3ZWVuIHRoZSBjb21wb25lbnQgYmVpbmcgdW5tb3VudGVkIGFuZCBpdHMgY2xlYW51cCBmdW5jdGlvbiBiZWluZyBydW4uXG4gICAgICBpZiAocm9vdEVsZW1lbnQgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFkb2MuaGFzRm9jdXMoKSB8fCAhaXNFbmFibGVkKCkgfHwgaWdub3JlTmV4dEVuZm9yY2VGb2N1cy5jdXJyZW50KSB7XG4gICAgICAgIGlnbm9yZU5leHRFbmZvcmNlRm9jdXMuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBmb2N1cyBpcyBhbHJlYWR5IGluc2lkZVxuICAgICAgaWYgKHJvb3RFbGVtZW50LmNvbnRhaW5zKGRvYy5hY3RpdmVFbGVtZW50KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBkaXNhYmxlRW5mb3JjZUZvY3VzIGlzIHNldCBhbmQgdGhlIGZvY3VzIGlzIG91dHNpZGUgb2YgdGhlIGZvY3VzIHRyYXAgKGFuZCBzZW50aW5lbCBub2RlcylcbiAgICAgIGlmIChkaXNhYmxlRW5mb3JjZUZvY3VzICYmIGRvYy5hY3RpdmVFbGVtZW50ICE9PSBzZW50aW5lbFN0YXJ0LmN1cnJlbnQgJiYgZG9jLmFjdGl2ZUVsZW1lbnQgIT09IHNlbnRpbmVsRW5kLmN1cnJlbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBpZiB0aGUgZm9jdXMgZXZlbnQgaXMgbm90IGNvbWluZyBmcm9tIGluc2lkZSB0aGUgY2hpbGRyZW4ncyByZWFjdCB0cmVlLCByZXNldCB0aGUgcmVmc1xuICAgICAgaWYgKGRvYy5hY3RpdmVFbGVtZW50ICE9PSByZWFjdEZvY3VzRXZlbnRUYXJnZXQuY3VycmVudCkge1xuICAgICAgICByZWFjdEZvY3VzRXZlbnRUYXJnZXQuY3VycmVudCA9IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKHJlYWN0Rm9jdXNFdmVudFRhcmdldC5jdXJyZW50ICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYWN0aXZhdGVkLmN1cnJlbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbGV0IHRhYmJhYmxlID0gW107XG4gICAgICBpZiAoZG9jLmFjdGl2ZUVsZW1lbnQgPT09IHNlbnRpbmVsU3RhcnQuY3VycmVudCB8fCBkb2MuYWN0aXZlRWxlbWVudCA9PT0gc2VudGluZWxFbmQuY3VycmVudCkge1xuICAgICAgICB0YWJiYWJsZSA9IGdldFRhYmJhYmxlKHJvb3RSZWYuY3VycmVudCk7XG4gICAgICB9XG5cbiAgICAgIC8vIG9uZSBvZiB0aGUgc2VudGluZWwgbm9kZXMgd2FzIGZvY3VzZWQsIHNvIG1vdmUgdGhlIGZvY3VzXG4gICAgICAvLyB0byB0aGUgZmlyc3QvbGFzdCB0YWJiYWJsZSBlbGVtZW50IGluc2lkZSB0aGUgZm9jdXMgdHJhcFxuICAgICAgaWYgKHRhYmJhYmxlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgaXNTaGlmdFRhYiA9IEJvb2xlYW4obGFzdEtleWRvd24uY3VycmVudD8uc2hpZnRLZXkgJiYgbGFzdEtleWRvd24uY3VycmVudD8ua2V5ID09PSAnVGFiJyk7XG4gICAgICAgIGNvbnN0IGZvY3VzTmV4dCA9IHRhYmJhYmxlWzBdO1xuICAgICAgICBjb25zdCBmb2N1c1ByZXZpb3VzID0gdGFiYmFibGVbdGFiYmFibGUubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmICh0eXBlb2YgZm9jdXNOZXh0ICE9PSAnc3RyaW5nJyAmJiB0eXBlb2YgZm9jdXNQcmV2aW91cyAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpZiAoaXNTaGlmdFRhYikge1xuICAgICAgICAgICAgZm9jdXNQcmV2aW91cy5mb2N1cygpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb2N1c05leHQuZm9jdXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm8gdGFiYmFibGUgZWxlbWVudHMgaW4gdGhlIHRyYXAgZm9jdXMgb3IgdGhlIGZvY3VzIHdhcyBvdXRzaWRlIG9mIHRoZSBmb2N1cyB0cmFwXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByb290RWxlbWVudC5mb2N1cygpO1xuICAgICAgfVxuICAgIH07XG4gICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCBjb250YWluKTtcbiAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGxvb3BGb2N1cywgdHJ1ZSk7XG5cbiAgICAvLyBXaXRoIEVkZ2UsIFNhZmFyaSBhbmQgRmlyZWZveCwgbm8gZm9jdXMgcmVsYXRlZCBldmVudHMgYXJlIGZpcmVkIHdoZW4gdGhlIGZvY3VzZWQgYXJlYSBzdG9wcyBiZWluZyBhIGZvY3VzZWQgYXJlYS5cbiAgICAvLyBmb3IgZXhhbXBsZSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD01NTk1NjEuXG4gICAgLy8gSW5zdGVhZCwgd2UgY2FuIGxvb2sgaWYgdGhlIGFjdGl2ZSBlbGVtZW50IHdhcyByZXN0b3JlZCBvbiB0aGUgQk9EWSBlbGVtZW50LlxuICAgIC8vXG4gICAgLy8gVGhlIHdoYXR3ZyBzcGVjIGRlZmluZXMgaG93IHRoZSBicm93c2VyIHNob3VsZCBiZWhhdmUgYnV0IGRvZXMgbm90IGV4cGxpY2l0bHkgbWVudGlvbiBhbnkgZXZlbnRzOlxuICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2ludGVyYWN0aW9uLmh0bWwjZm9jdXMtZml4dXAtcnVsZS5cbiAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlmIChkb2MuYWN0aXZlRWxlbWVudCAmJiBkb2MuYWN0aXZlRWxlbWVudC50YWdOYW1lID09PSAnQk9EWScpIHtcbiAgICAgICAgY29udGFpbigpO1xuICAgICAgfVxuICAgIH0sIDUwKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIGNvbnRhaW4pO1xuICAgICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBsb29wRm9jdXMsIHRydWUpO1xuICAgIH07XG4gIH0sIFtkaXNhYmxlQXV0b0ZvY3VzLCBkaXNhYmxlRW5mb3JjZUZvY3VzLCBkaXNhYmxlUmVzdG9yZUZvY3VzLCBpc0VuYWJsZWQsIG9wZW4sIGdldFRhYmJhYmxlXSk7XG4gIGNvbnN0IG9uRm9jdXMgPSBldmVudCA9PiB7XG4gICAgaWYgKG5vZGVUb1Jlc3RvcmUuY3VycmVudCA9PT0gbnVsbCkge1xuICAgICAgbm9kZVRvUmVzdG9yZS5jdXJyZW50ID0gZXZlbnQucmVsYXRlZFRhcmdldDtcbiAgICB9XG4gICAgYWN0aXZhdGVkLmN1cnJlbnQgPSB0cnVlO1xuICAgIHJlYWN0Rm9jdXNFdmVudFRhcmdldC5jdXJyZW50ID0gZXZlbnQudGFyZ2V0O1xuICAgIGNvbnN0IGNoaWxkcmVuUHJvcHNIYW5kbGVyID0gY2hpbGRyZW4ucHJvcHMub25Gb2N1cztcbiAgICBpZiAoY2hpbGRyZW5Qcm9wc0hhbmRsZXIpIHtcbiAgICAgIGNoaWxkcmVuUHJvcHNIYW5kbGVyKGV2ZW50KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGhhbmRsZUZvY3VzU2VudGluZWwgPSBldmVudCA9PiB7XG4gICAgaWYgKG5vZGVUb1Jlc3RvcmUuY3VycmVudCA9PT0gbnVsbCkge1xuICAgICAgbm9kZVRvUmVzdG9yZS5jdXJyZW50ID0gZXZlbnQucmVsYXRlZFRhcmdldDtcbiAgICB9XG4gICAgYWN0aXZhdGVkLmN1cnJlbnQgPSB0cnVlO1xuICB9O1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3hzKFJlYWN0LkZyYWdtZW50LCB7XG4gICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChcImRpdlwiLCB7XG4gICAgICB0YWJJbmRleDogb3BlbiA/IDAgOiAtMSxcbiAgICAgIG9uRm9jdXM6IGhhbmRsZUZvY3VzU2VudGluZWwsXG4gICAgICByZWY6IHNlbnRpbmVsU3RhcnQsXG4gICAgICBcImRhdGEtdGVzdGlkXCI6IFwic2VudGluZWxTdGFydFwiXG4gICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGRyZW4sIHtcbiAgICAgIHJlZjogaGFuZGxlUmVmLFxuICAgICAgb25Gb2N1c1xuICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChcImRpdlwiLCB7XG4gICAgICB0YWJJbmRleDogb3BlbiA/IDAgOiAtMSxcbiAgICAgIG9uRm9jdXM6IGhhbmRsZUZvY3VzU2VudGluZWwsXG4gICAgICByZWY6IHNlbnRpbmVsRW5kLFxuICAgICAgXCJkYXRhLXRlc3RpZFwiOiBcInNlbnRpbmVsRW5kXCJcbiAgICB9KV1cbiAgfSk7XG59XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBGb2N1c1RyYXAucHJvcFR5cGVzIC8qIHJlbW92ZS1wcm9wdHlwZXMgKi8gPSB7XG4gIC8vIOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBXYXJuaW5nIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuICAvLyDilIIgVGhlc2UgUHJvcFR5cGVzIGFyZSBnZW5lcmF0ZWQgZnJvbSB0aGUgVHlwZVNjcmlwdCB0eXBlIGRlZmluaXRpb25zLiDilIJcbiAgLy8g4pSCIFRvIHVwZGF0ZSB0aGVtLCBlZGl0IHRoZSBUeXBlU2NyaXB0IHR5cGVzIGFuZCBydW4gYHBucG0gcHJvcHR5cGVzYC4g4pSCXG4gIC8vIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmFxuICAvKipcbiAgICogQSBzaW5nbGUgY2hpbGQgY29udGVudCBlbGVtZW50LlxuICAgKi9cbiAgY2hpbGRyZW46IGVsZW1lbnRBY2NlcHRpbmdSZWYsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBmb2N1cyB0cmFwIHdpbGwgbm90IGF1dG9tYXRpY2FsbHkgc2hpZnQgZm9jdXMgdG8gaXRzZWxmIHdoZW4gaXQgb3BlbnMsIGFuZFxuICAgKiByZXBsYWNlIGl0IHRvIHRoZSBsYXN0IGZvY3VzZWQgZWxlbWVudCB3aGVuIGl0IGNsb3Nlcy5cbiAgICogVGhpcyBhbHNvIHdvcmtzIGNvcnJlY3RseSB3aXRoIGFueSBmb2N1cyB0cmFwIGNoaWxkcmVuIHRoYXQgaGF2ZSB0aGUgYGRpc2FibGVBdXRvRm9jdXNgIHByb3AuXG4gICAqXG4gICAqIEdlbmVyYWxseSB0aGlzIHNob3VsZCBuZXZlciBiZSBzZXQgdG8gYHRydWVgIGFzIGl0IG1ha2VzIHRoZSBmb2N1cyB0cmFwIGxlc3NcbiAgICogYWNjZXNzaWJsZSB0byBhc3Npc3RpdmUgdGVjaG5vbG9naWVzLCBsaWtlIHNjcmVlbiByZWFkZXJzLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZGlzYWJsZUF1dG9Gb2N1czogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBmb2N1cyB0cmFwIHdpbGwgbm90IHByZXZlbnQgZm9jdXMgZnJvbSBsZWF2aW5nIHRoZSBmb2N1cyB0cmFwIHdoaWxlIG9wZW4uXG4gICAqXG4gICAqIEdlbmVyYWxseSB0aGlzIHNob3VsZCBuZXZlciBiZSBzZXQgdG8gYHRydWVgIGFzIGl0IG1ha2VzIHRoZSBmb2N1cyB0cmFwIGxlc3NcbiAgICogYWNjZXNzaWJsZSB0byBhc3Npc3RpdmUgdGVjaG5vbG9naWVzLCBsaWtlIHNjcmVlbiByZWFkZXJzLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZGlzYWJsZUVuZm9yY2VGb2N1czogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBmb2N1cyB0cmFwIHdpbGwgbm90IHJlc3RvcmUgZm9jdXMgdG8gcHJldmlvdXNseSBmb2N1c2VkIGVsZW1lbnQgb25jZVxuICAgKiBmb2N1cyB0cmFwIGlzIGhpZGRlbiBvciB1bm1vdW50ZWQuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBkaXNhYmxlUmVzdG9yZUZvY3VzOiBQcm9wVHlwZXMuYm9vbCxcbiAgLyoqXG4gICAqIFJldHVybnMgYW4gYXJyYXkgb2Ygb3JkZXJlZCB0YWJiYWJsZSBub2RlcyAoaS5lLiBpbiB0YWIgb3JkZXIpIHdpdGhpbiB0aGUgcm9vdC5cbiAgICogRm9yIGluc3RhbmNlLCB5b3UgY2FuIHByb3ZpZGUgdGhlIFwidGFiYmFibGVcIiBucG0gZGVwZW5kZW5jeS5cbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcm9vdFxuICAgKi9cbiAgZ2V0VGFiYmFibGU6IFByb3BUeXBlcy5mdW5jLFxuICAvKipcbiAgICogVGhpcyBwcm9wIGV4dGVuZHMgdGhlIGBvcGVuYCBwcm9wLlxuICAgKiBJdCBhbGxvd3MgdG8gdG9nZ2xlIHRoZSBvcGVuIHN0YXRlIHdpdGhvdXQgaGF2aW5nIHRvIHdhaXQgZm9yIGEgcmVyZW5kZXIgd2hlbiBjaGFuZ2luZyB0aGUgYG9wZW5gIHByb3AuXG4gICAqIFRoaXMgcHJvcCBzaG91bGQgYmUgbWVtb2l6ZWQuXG4gICAqIEl0IGNhbiBiZSB1c2VkIHRvIHN1cHBvcnQgbXVsdGlwbGUgZm9jdXMgdHJhcCBtb3VudGVkIGF0IHRoZSBzYW1lIHRpbWUuXG4gICAqIEBkZWZhdWx0IGZ1bmN0aW9uIGRlZmF1bHRJc0VuYWJsZWQoKTogYm9vbGVhbiB7XG4gICAqICAgcmV0dXJuIHRydWU7XG4gICAqIH1cbiAgICovXG4gIGlzRW5hYmxlZDogUHJvcFR5cGVzLmZ1bmMsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIGZvY3VzIGlzIGxvY2tlZC5cbiAgICovXG4gIG9wZW46IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWRcbn0gOiB2b2lkIDA7XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgRm9jdXNUcmFwWydwcm9wVHlwZXMnICsgJyddID0gZXhhY3RQcm9wKEZvY3VzVHJhcC5wcm9wVHlwZXMpO1xufVxuZXhwb3J0IGRlZmF1bHQgRm9jdXNUcmFwOyIsCiAgICAiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgb3duZXJEb2N1bWVudCBmcm9tICdAbXVpL3V0aWxzL293bmVyRG9jdW1lbnQnO1xuaW1wb3J0IHVzZUZvcmtSZWYgZnJvbSAnQG11aS91dGlscy91c2VGb3JrUmVmJztcbmltcG9ydCB1c2VFdmVudENhbGxiYWNrIGZyb20gJ0BtdWkvdXRpbHMvdXNlRXZlbnRDYWxsYmFjayc7XG5pbXBvcnQgY3JlYXRlQ2hhaW5lZEZ1bmN0aW9uIGZyb20gJ0BtdWkvdXRpbHMvY3JlYXRlQ2hhaW5lZEZ1bmN0aW9uJztcbmltcG9ydCBleHRyYWN0RXZlbnRIYW5kbGVycyBmcm9tICdAbXVpL3V0aWxzL2V4dHJhY3RFdmVudEhhbmRsZXJzJztcbmltcG9ydCB7IE1vZGFsTWFuYWdlciwgYXJpYUhpZGRlbiB9IGZyb20gXCIuL01vZGFsTWFuYWdlci5qc1wiO1xuZnVuY3Rpb24gZ2V0Q29udGFpbmVyKGNvbnRhaW5lcikge1xuICByZXR1cm4gdHlwZW9mIGNvbnRhaW5lciA9PT0gJ2Z1bmN0aW9uJyA/IGNvbnRhaW5lcigpIDogY29udGFpbmVyO1xufVxuZnVuY3Rpb24gZ2V0SGFzVHJhbnNpdGlvbihjaGlsZHJlbikge1xuICByZXR1cm4gY2hpbGRyZW4gPyBjaGlsZHJlbi5wcm9wcy5oYXNPd25Qcm9wZXJ0eSgnaW4nKSA6IGZhbHNlO1xufVxuY29uc3Qgbm9vcCA9ICgpID0+IHt9O1xuXG4vLyBBIG1vZGFsIG1hbmFnZXIgdXNlZCB0byB0cmFjayBhbmQgbWFuYWdlIHRoZSBzdGF0ZSBvZiBvcGVuIE1vZGFscy5cbi8vIE1vZGFscyBkb24ndCBvcGVuIG9uIHRoZSBzZXJ2ZXIgc28gdGhpcyB3b24ndCBjb25mbGljdCB3aXRoIGNvbmN1cnJlbnQgcmVxdWVzdHMuXG5jb25zdCBtYW5hZ2VyID0gbmV3IE1vZGFsTWFuYWdlcigpO1xuZnVuY3Rpb24gdXNlTW9kYWwocGFyYW1ldGVycykge1xuICBjb25zdCB7XG4gICAgY29udGFpbmVyLFxuICAgIGRpc2FibGVFc2NhcGVLZXlEb3duID0gZmFsc2UsXG4gICAgZGlzYWJsZVNjcm9sbExvY2sgPSBmYWxzZSxcbiAgICBjbG9zZUFmdGVyVHJhbnNpdGlvbiA9IGZhbHNlLFxuICAgIG9uVHJhbnNpdGlvbkVudGVyLFxuICAgIG9uVHJhbnNpdGlvbkV4aXRlZCxcbiAgICBjaGlsZHJlbixcbiAgICBvbkNsb3NlLFxuICAgIG9wZW4sXG4gICAgcm9vdFJlZlxuICB9ID0gcGFyYW1ldGVycztcblxuICAvLyBAdHMtaWdub3JlIGludGVybmFsIGxvZ2ljXG4gIGNvbnN0IG1vZGFsID0gUmVhY3QudXNlUmVmKHt9KTtcbiAgY29uc3QgbW91bnROb2RlUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICBjb25zdCBtb2RhbFJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgY29uc3QgaGFuZGxlUmVmID0gdXNlRm9ya1JlZihtb2RhbFJlZiwgcm9vdFJlZik7XG4gIGNvbnN0IFtleGl0ZWQsIHNldEV4aXRlZF0gPSBSZWFjdC51c2VTdGF0ZSghb3Blbik7XG4gIGNvbnN0IGhhc1RyYW5zaXRpb24gPSBnZXRIYXNUcmFuc2l0aW9uKGNoaWxkcmVuKTtcbiAgbGV0IGFyaWFIaWRkZW5Qcm9wID0gdHJ1ZTtcbiAgaWYgKHBhcmFtZXRlcnNbJ2FyaWEtaGlkZGVuJ10gPT09ICdmYWxzZScgfHwgcGFyYW1ldGVyc1snYXJpYS1oaWRkZW4nXSA9PT0gZmFsc2UpIHtcbiAgICBhcmlhSGlkZGVuUHJvcCA9IGZhbHNlO1xuICB9XG4gIGNvbnN0IGdldERvYyA9ICgpID0+IG93bmVyRG9jdW1lbnQobW91bnROb2RlUmVmLmN1cnJlbnQpO1xuICBjb25zdCBnZXRNb2RhbCA9ICgpID0+IHtcbiAgICBtb2RhbC5jdXJyZW50Lm1vZGFsUmVmID0gbW9kYWxSZWYuY3VycmVudDtcbiAgICBtb2RhbC5jdXJyZW50Lm1vdW50ID0gbW91bnROb2RlUmVmLmN1cnJlbnQ7XG4gICAgcmV0dXJuIG1vZGFsLmN1cnJlbnQ7XG4gIH07XG4gIGNvbnN0IGhhbmRsZU1vdW50ZWQgPSAoKSA9PiB7XG4gICAgbWFuYWdlci5tb3VudChnZXRNb2RhbCgpLCB7XG4gICAgICBkaXNhYmxlU2Nyb2xsTG9ja1xuICAgIH0pO1xuXG4gICAgLy8gRml4IGEgYnVnIG9uIENocm9tZSB3aGVyZSB0aGUgc2Nyb2xsIGlzbid0IGluaXRpYWxseSAwLlxuICAgIGlmIChtb2RhbFJlZi5jdXJyZW50KSB7XG4gICAgICBtb2RhbFJlZi5jdXJyZW50LnNjcm9sbFRvcCA9IDA7XG4gICAgfVxuICB9O1xuICBjb25zdCBoYW5kbGVPcGVuID0gdXNlRXZlbnRDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgcmVzb2x2ZWRDb250YWluZXIgPSBnZXRDb250YWluZXIoY29udGFpbmVyKSB8fCBnZXREb2MoKS5ib2R5O1xuICAgIG1hbmFnZXIuYWRkKGdldE1vZGFsKCksIHJlc29sdmVkQ29udGFpbmVyKTtcblxuICAgIC8vIFRoZSBlbGVtZW50IHdhcyBhbHJlYWR5IG1vdW50ZWQuXG4gICAgaWYgKG1vZGFsUmVmLmN1cnJlbnQpIHtcbiAgICAgIGhhbmRsZU1vdW50ZWQoKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBpc1RvcE1vZGFsID0gKCkgPT4gbWFuYWdlci5pc1RvcE1vZGFsKGdldE1vZGFsKCkpO1xuICBjb25zdCBoYW5kbGVQb3J0YWxSZWYgPSB1c2VFdmVudENhbGxiYWNrKG5vZGUgPT4ge1xuICAgIG1vdW50Tm9kZVJlZi5jdXJyZW50ID0gbm9kZTtcbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG9wZW4gJiYgaXNUb3BNb2RhbCgpKSB7XG4gICAgICBoYW5kbGVNb3VudGVkKCk7XG4gICAgfSBlbHNlIGlmIChtb2RhbFJlZi5jdXJyZW50KSB7XG4gICAgICBhcmlhSGlkZGVuKG1vZGFsUmVmLmN1cnJlbnQsIGFyaWFIaWRkZW5Qcm9wKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBoYW5kbGVDbG9zZSA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBtYW5hZ2VyLnJlbW92ZShnZXRNb2RhbCgpLCBhcmlhSGlkZGVuUHJvcCk7XG4gIH0sIFthcmlhSGlkZGVuUHJvcF0pO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBoYW5kbGVDbG9zZSgpO1xuICAgIH07XG4gIH0sIFtoYW5kbGVDbG9zZV0pO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChvcGVuKSB7XG4gICAgICBoYW5kbGVPcGVuKCk7XG4gICAgfSBlbHNlIGlmICghaGFzVHJhbnNpdGlvbiB8fCAhY2xvc2VBZnRlclRyYW5zaXRpb24pIHtcbiAgICAgIGhhbmRsZUNsb3NlKCk7XG4gICAgfVxuICB9LCBbb3BlbiwgaGFuZGxlQ2xvc2UsIGhhc1RyYW5zaXRpb24sIGNsb3NlQWZ0ZXJUcmFuc2l0aW9uLCBoYW5kbGVPcGVuXSk7XG4gIGNvbnN0IGNyZWF0ZUhhbmRsZUtleURvd24gPSBvdGhlckhhbmRsZXJzID0+IGV2ZW50ID0+IHtcbiAgICBvdGhlckhhbmRsZXJzLm9uS2V5RG93bj8uKGV2ZW50KTtcblxuICAgIC8vIFRoZSBoYW5kbGVyIGRvZXNuJ3QgdGFrZSBldmVudC5kZWZhdWx0UHJldmVudGVkIGludG8gYWNjb3VudDpcbiAgICAvL1xuICAgIC8vIGV2ZW50LnByZXZlbnREZWZhdWx0KCkgaXMgbWVhbnQgdG8gc3RvcCBkZWZhdWx0IGJlaGF2aW9ycyBsaWtlXG4gICAgLy8gY2xpY2tpbmcgYSBjaGVja2JveCB0byBjaGVjayBpdCwgaGl0dGluZyBhIGJ1dHRvbiB0byBzdWJtaXQgYSBmb3JtLFxuICAgIC8vIGFuZCBoaXR0aW5nIGxlZnQgYXJyb3cgdG8gbW92ZSB0aGUgY3Vyc29yIGluIGEgdGV4dCBpbnB1dCBldGMuXG4gICAgLy8gT25seSBzcGVjaWFsIEhUTUwgZWxlbWVudHMgaGF2ZSB0aGVzZSBkZWZhdWx0IGJlaGF2aW9ycy5cbiAgICBpZiAoZXZlbnQua2V5ICE9PSAnRXNjYXBlJyB8fCBldmVudC53aGljaCA9PT0gMjI5IHx8XG4gICAgLy8gV2FpdCB1bnRpbCBJTUUgaXMgc2V0dGxlZC5cbiAgICAhaXNUb3BNb2RhbCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghZGlzYWJsZUVzY2FwZUtleURvd24pIHtcbiAgICAgIC8vIFN3YWxsb3cgdGhlIGV2ZW50LCBpbiBjYXNlIHNvbWVvbmUgaXMgbGlzdGVuaW5nIGZvciB0aGUgZXNjYXBlIGtleSBvbiB0aGUgYm9keS5cbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgaWYgKG9uQ2xvc2UpIHtcbiAgICAgICAgb25DbG9zZShldmVudCwgJ2VzY2FwZUtleURvd24nKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IGNyZWF0ZUhhbmRsZUJhY2tkcm9wQ2xpY2sgPSBvdGhlckhhbmRsZXJzID0+IGV2ZW50ID0+IHtcbiAgICBvdGhlckhhbmRsZXJzLm9uQ2xpY2s/LihldmVudCk7XG4gICAgaWYgKGV2ZW50LnRhcmdldCAhPT0gZXZlbnQuY3VycmVudFRhcmdldCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAob25DbG9zZSkge1xuICAgICAgb25DbG9zZShldmVudCwgJ2JhY2tkcm9wQ2xpY2snKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGdldFJvb3RQcm9wcyA9IChvdGhlckhhbmRsZXJzID0ge30pID0+IHtcbiAgICBjb25zdCBwcm9wc0V2ZW50SGFuZGxlcnMgPSBleHRyYWN0RXZlbnRIYW5kbGVycyhwYXJhbWV0ZXJzKTtcblxuICAgIC8vIFRoZSBjdXN0b20gZXZlbnQgaGFuZGxlcnMgc2hvdWxkbid0IGJlIHNwcmVhZCBvbiB0aGUgcm9vdCBlbGVtZW50XG4gICAgZGVsZXRlIHByb3BzRXZlbnRIYW5kbGVycy5vblRyYW5zaXRpb25FbnRlcjtcbiAgICBkZWxldGUgcHJvcHNFdmVudEhhbmRsZXJzLm9uVHJhbnNpdGlvbkV4aXRlZDtcbiAgICBjb25zdCBleHRlcm5hbEV2ZW50SGFuZGxlcnMgPSB7XG4gICAgICAuLi5wcm9wc0V2ZW50SGFuZGxlcnMsXG4gICAgICAuLi5vdGhlckhhbmRsZXJzXG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgLypcbiAgICAgICAqIE1hcmtpbmcgYW4gZWxlbWVudCB3aXRoIHRoZSByb2xlIHByZXNlbnRhdGlvbiBpbmRpY2F0ZXMgdG8gYXNzaXN0aXZlIHRlY2hub2xvZ3lcbiAgICAgICAqIHRoYXQgdGhpcyBlbGVtZW50IHNob3VsZCBiZSBpZ25vcmVkOyBpdCBleGlzdHMgdG8gc3VwcG9ydCB0aGUgd2ViIGFwcGxpY2F0aW9uIGFuZFxuICAgICAgICogaXMgbm90IG1lYW50IGZvciBodW1hbnMgdG8gaW50ZXJhY3Qgd2l0aCBkaXJlY3RseS5cbiAgICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ldmNvaGVuL2VzbGludC1wbHVnaW4tanN4LWExMXkvYmxvYi9tYXN0ZXIvZG9jcy9ydWxlcy9uby1zdGF0aWMtZWxlbWVudC1pbnRlcmFjdGlvbnMubWRcbiAgICAgICAqL1xuICAgICAgcm9sZTogJ3ByZXNlbnRhdGlvbicsXG4gICAgICAuLi5leHRlcm5hbEV2ZW50SGFuZGxlcnMsXG4gICAgICBvbktleURvd246IGNyZWF0ZUhhbmRsZUtleURvd24oZXh0ZXJuYWxFdmVudEhhbmRsZXJzKSxcbiAgICAgIHJlZjogaGFuZGxlUmVmXG4gICAgfTtcbiAgfTtcbiAgY29uc3QgZ2V0QmFja2Ryb3BQcm9wcyA9IChvdGhlckhhbmRsZXJzID0ge30pID0+IHtcbiAgICBjb25zdCBleHRlcm5hbEV2ZW50SGFuZGxlcnMgPSBvdGhlckhhbmRsZXJzO1xuICAgIHJldHVybiB7XG4gICAgICAnYXJpYS1oaWRkZW4nOiB0cnVlLFxuICAgICAgLi4uZXh0ZXJuYWxFdmVudEhhbmRsZXJzLFxuICAgICAgb25DbGljazogY3JlYXRlSGFuZGxlQmFja2Ryb3BDbGljayhleHRlcm5hbEV2ZW50SGFuZGxlcnMpLFxuICAgICAgb3BlblxuICAgIH07XG4gIH07XG4gIGNvbnN0IGdldFRyYW5zaXRpb25Qcm9wcyA9ICgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVFbnRlciA9ICgpID0+IHtcbiAgICAgIHNldEV4aXRlZChmYWxzZSk7XG4gICAgICBpZiAob25UcmFuc2l0aW9uRW50ZXIpIHtcbiAgICAgICAgb25UcmFuc2l0aW9uRW50ZXIoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUV4aXRlZCA9ICgpID0+IHtcbiAgICAgIHNldEV4aXRlZCh0cnVlKTtcbiAgICAgIGlmIChvblRyYW5zaXRpb25FeGl0ZWQpIHtcbiAgICAgICAgb25UcmFuc2l0aW9uRXhpdGVkKCk7XG4gICAgICB9XG4gICAgICBpZiAoY2xvc2VBZnRlclRyYW5zaXRpb24pIHtcbiAgICAgICAgaGFuZGxlQ2xvc2UoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICBvbkVudGVyOiBjcmVhdGVDaGFpbmVkRnVuY3Rpb24oaGFuZGxlRW50ZXIsIGNoaWxkcmVuPy5wcm9wcy5vbkVudGVyID8/IG5vb3ApLFxuICAgICAgb25FeGl0ZWQ6IGNyZWF0ZUNoYWluZWRGdW5jdGlvbihoYW5kbGVFeGl0ZWQsIGNoaWxkcmVuPy5wcm9wcy5vbkV4aXRlZCA/PyBub29wKVxuICAgIH07XG4gIH07XG4gIHJldHVybiB7XG4gICAgZ2V0Um9vdFByb3BzLFxuICAgIGdldEJhY2tkcm9wUHJvcHMsXG4gICAgZ2V0VHJhbnNpdGlvblByb3BzLFxuICAgIHJvb3RSZWY6IGhhbmRsZVJlZixcbiAgICBwb3J0YWxSZWY6IGhhbmRsZVBvcnRhbFJlZixcbiAgICBpc1RvcE1vZGFsLFxuICAgIGV4aXRlZCxcbiAgICBoYXNUcmFuc2l0aW9uXG4gIH07XG59XG5leHBvcnQgZGVmYXVsdCB1c2VNb2RhbDsiLAogICAgImltcG9ydCBnZW5lcmF0ZVV0aWxpdHlDbGFzc2VzIGZyb20gJ0BtdWkvdXRpbHMvZ2VuZXJhdGVVdGlsaXR5Q2xhc3Nlcyc7XG5pbXBvcnQgZ2VuZXJhdGVVdGlsaXR5Q2xhc3MgZnJvbSAnQG11aS91dGlscy9nZW5lcmF0ZVV0aWxpdHlDbGFzcyc7XG5leHBvcnQgZnVuY3Rpb24gZ2V0TW9kYWxVdGlsaXR5Q2xhc3Moc2xvdCkge1xuICByZXR1cm4gZ2VuZXJhdGVVdGlsaXR5Q2xhc3MoJ011aU1vZGFsJywgc2xvdCk7XG59XG5jb25zdCBtb2RhbENsYXNzZXMgPSBnZW5lcmF0ZVV0aWxpdHlDbGFzc2VzKCdNdWlNb2RhbCcsIFsncm9vdCcsICdoaWRkZW4nLCAnYmFja2Ryb3AnXSk7XG5leHBvcnQgZGVmYXVsdCBtb2RhbENsYXNzZXM7IiwKICAgICJpbXBvcnQgZ2VuZXJhdGVVdGlsaXR5Q2xhc3NlcyBmcm9tICdAbXVpL3V0aWxzL2dlbmVyYXRlVXRpbGl0eUNsYXNzZXMnO1xuaW1wb3J0IGdlbmVyYXRlVXRpbGl0eUNsYXNzIGZyb20gJ0BtdWkvdXRpbHMvZ2VuZXJhdGVVdGlsaXR5Q2xhc3MnO1xuZXhwb3J0IGZ1bmN0aW9uIGdldERpYWxvZ1V0aWxpdHlDbGFzcyhzbG90KSB7XG4gIHJldHVybiBnZW5lcmF0ZVV0aWxpdHlDbGFzcygnTXVpRGlhbG9nJywgc2xvdCk7XG59XG5jb25zdCBkaWFsb2dDbGFzc2VzID0gZ2VuZXJhdGVVdGlsaXR5Q2xhc3NlcygnTXVpRGlhbG9nJywgWydyb290JywgJ3Njcm9sbFBhcGVyJywgJ3Njcm9sbEJvZHknLCAnY29udGFpbmVyJywgJ3BhcGVyJywgJ3BhcGVyU2Nyb2xsUGFwZXInLCAncGFwZXJTY3JvbGxCb2R5JywgJ3BhcGVyV2lkdGhGYWxzZScsICdwYXBlcldpZHRoWHMnLCAncGFwZXJXaWR0aFNtJywgJ3BhcGVyV2lkdGhNZCcsICdwYXBlcldpZHRoTGcnLCAncGFwZXJXaWR0aFhsJywgJ3BhcGVyRnVsbFdpZHRoJywgJ3BhcGVyRnVsbFNjcmVlbiddKTtcbmV4cG9ydCBkZWZhdWx0IGRpYWxvZ0NsYXNzZXM7IiwKICAgICIndXNlIGNsaWVudCc7XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmNvbnN0IERpYWxvZ0NvbnRleHQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlQ29udGV4dCh7fSk7XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBEaWFsb2dDb250ZXh0LmRpc3BsYXlOYW1lID0gJ0RpYWxvZ0NvbnRleHQnO1xufVxuZXhwb3J0IGRlZmF1bHQgRGlhbG9nQ29udGV4dDsiLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnO1xuaW1wb3J0IGNvbXBvc2VDbGFzc2VzIGZyb20gJ0BtdWkvdXRpbHMvY29tcG9zZUNsYXNzZXMnO1xuaW1wb3J0IHsgc3R5bGVkIH0gZnJvbSBcIi4uL3plcm8tc3R5bGVkL2luZGV4LmpzXCI7XG5pbXBvcnQgbWVtb1RoZW1lIGZyb20gXCIuLi91dGlscy9tZW1vVGhlbWUuanNcIjtcbmltcG9ydCB7IHVzZURlZmF1bHRQcm9wcyB9IGZyb20gXCIuLi9EZWZhdWx0UHJvcHNQcm92aWRlci9pbmRleC5qc1wiO1xuaW1wb3J0IHsgZ2V0RGlhbG9nQ29udGVudFV0aWxpdHlDbGFzcyB9IGZyb20gXCIuL2RpYWxvZ0NvbnRlbnRDbGFzc2VzLmpzXCI7XG5pbXBvcnQgZGlhbG9nVGl0bGVDbGFzc2VzIGZyb20gXCIuLi9EaWFsb2dUaXRsZS9kaWFsb2dUaXRsZUNsYXNzZXMuanNcIjtcbmltcG9ydCB7IGpzeCBhcyBfanN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5jb25zdCB1c2VVdGlsaXR5Q2xhc3NlcyA9IG93bmVyU3RhdGUgPT4ge1xuICBjb25zdCB7XG4gICAgY2xhc3NlcyxcbiAgICBkaXZpZGVyc1xuICB9ID0gb3duZXJTdGF0ZTtcbiAgY29uc3Qgc2xvdHMgPSB7XG4gICAgcm9vdDogWydyb290JywgZGl2aWRlcnMgJiYgJ2RpdmlkZXJzJ11cbiAgfTtcbiAgcmV0dXJuIGNvbXBvc2VDbGFzc2VzKHNsb3RzLCBnZXREaWFsb2dDb250ZW50VXRpbGl0eUNsYXNzLCBjbGFzc2VzKTtcbn07XG5jb25zdCBEaWFsb2dDb250ZW50Um9vdCA9IHN0eWxlZCgnZGl2Jywge1xuICBuYW1lOiAnTXVpRGlhbG9nQ29udGVudCcsXG4gIHNsb3Q6ICdSb290JyxcbiAgb3ZlcnJpZGVzUmVzb2x2ZXI6IChwcm9wcywgc3R5bGVzKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgb3duZXJTdGF0ZVxuICAgIH0gPSBwcm9wcztcbiAgICByZXR1cm4gW3N0eWxlcy5yb290LCBvd25lclN0YXRlLmRpdmlkZXJzICYmIHN0eWxlcy5kaXZpZGVyc107XG4gIH1cbn0pKG1lbW9UaGVtZSgoe1xuICB0aGVtZVxufSkgPT4gKHtcbiAgZmxleDogJzEgMSBhdXRvJyxcbiAgLy8gQWRkIGlPUyBtb21lbnR1bSBzY3JvbGxpbmcgZm9yIGlPUyA8IDEzLjBcbiAgV2Via2l0T3ZlcmZsb3dTY3JvbGxpbmc6ICd0b3VjaCcsXG4gIG92ZXJmbG93WTogJ2F1dG8nLFxuICBwYWRkaW5nOiAnMjBweCAyNHB4JyxcbiAgdmFyaWFudHM6IFt7XG4gICAgcHJvcHM6ICh7XG4gICAgICBvd25lclN0YXRlXG4gICAgfSkgPT4gb3duZXJTdGF0ZS5kaXZpZGVycyxcbiAgICBzdHlsZToge1xuICAgICAgcGFkZGluZzogJzE2cHggMjRweCcsXG4gICAgICBib3JkZXJUb3A6IGAxcHggc29saWQgJHsodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZS5kaXZpZGVyfWAsXG4gICAgICBib3JkZXJCb3R0b206IGAxcHggc29saWQgJHsodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZS5kaXZpZGVyfWBcbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczogKHtcbiAgICAgIG93bmVyU3RhdGVcbiAgICB9KSA9PiAhb3duZXJTdGF0ZS5kaXZpZGVycyxcbiAgICBzdHlsZToge1xuICAgICAgW2AuJHtkaWFsb2dUaXRsZUNsYXNzZXMucm9vdH0gKyAmYF06IHtcbiAgICAgICAgcGFkZGluZ1RvcDogMFxuICAgICAgfVxuICAgIH1cbiAgfV1cbn0pKSk7XG5jb25zdCBEaWFsb2dDb250ZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gRGlhbG9nQ29udGVudChpblByb3BzLCByZWYpIHtcbiAgY29uc3QgcHJvcHMgPSB1c2VEZWZhdWx0UHJvcHMoe1xuICAgIHByb3BzOiBpblByb3BzLFxuICAgIG5hbWU6ICdNdWlEaWFsb2dDb250ZW50J1xuICB9KTtcbiAgY29uc3Qge1xuICAgIGNsYXNzTmFtZSxcbiAgICBkaXZpZGVycyA9IGZhbHNlLFxuICAgIC4uLm90aGVyXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qgb3duZXJTdGF0ZSA9IHtcbiAgICAuLi5wcm9wcyxcbiAgICBkaXZpZGVyc1xuICB9O1xuICBjb25zdCBjbGFzc2VzID0gdXNlVXRpbGl0eUNsYXNzZXMob3duZXJTdGF0ZSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeChEaWFsb2dDb250ZW50Um9vdCwge1xuICAgIGNsYXNzTmFtZTogY2xzeChjbGFzc2VzLnJvb3QsIGNsYXNzTmFtZSksXG4gICAgb3duZXJTdGF0ZTogb3duZXJTdGF0ZSxcbiAgICByZWY6IHJlZixcbiAgICAuLi5vdGhlclxuICB9KTtcbn0pO1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gRGlhbG9nQ29udGVudC5wcm9wVHlwZXMgLyogcmVtb3ZlLXByb3B0eXBlcyAqLyA9IHtcbiAgLy8g4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIFdhcm5pbmcg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQXG4gIC8vIOKUgiBUaGVzZSBQcm9wVHlwZXMgYXJlIGdlbmVyYXRlZCBmcm9tIHRoZSBUeXBlU2NyaXB0IHR5cGUgZGVmaW5pdGlvbnMuIOKUglxuICAvLyDilIIgICAgVG8gdXBkYXRlIHRoZW0sIGVkaXQgdGhlIGQudHMgZmlsZSBhbmQgcnVuIGBwbnBtIHByb3B0eXBlc2AuICAgICDilIJcbiAgLy8g4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG4gIC8qKlxuICAgKiBUaGUgY29udGVudCBvZiB0aGUgY29tcG9uZW50LlxuICAgKi9cbiAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuICAvKipcbiAgICogT3ZlcnJpZGUgb3IgZXh0ZW5kIHRoZSBzdHlsZXMgYXBwbGllZCB0byB0aGUgY29tcG9uZW50LlxuICAgKi9cbiAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdCxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgLyoqXG4gICAqIERpc3BsYXkgdGhlIHRvcCBhbmQgYm90dG9tIGRpdmlkZXJzLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZGl2aWRlcnM6IFByb3BUeXBlcy5ib29sLFxuICAvKipcbiAgICogVGhlIHN5c3RlbSBwcm9wIHRoYXQgYWxsb3dzIGRlZmluaW5nIHN5c3RlbSBvdmVycmlkZXMgYXMgd2VsbCBhcyBhZGRpdGlvbmFsIENTUyBzdHlsZXMuXG4gICAqL1xuICBzeDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3QsIFByb3BUeXBlcy5ib29sXSkpLCBQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdF0pXG59IDogdm9pZCAwO1xuZXhwb3J0IGRlZmF1bHQgRGlhbG9nQ29udGVudDsiLAogICAgImltcG9ydCBnZW5lcmF0ZVV0aWxpdHlDbGFzc2VzIGZyb20gJ0BtdWkvdXRpbHMvZ2VuZXJhdGVVdGlsaXR5Q2xhc3Nlcyc7XG5pbXBvcnQgZ2VuZXJhdGVVdGlsaXR5Q2xhc3MgZnJvbSAnQG11aS91dGlscy9nZW5lcmF0ZVV0aWxpdHlDbGFzcyc7XG5leHBvcnQgZnVuY3Rpb24gZ2V0RGlhbG9nQ29udGVudFV0aWxpdHlDbGFzcyhzbG90KSB7XG4gIHJldHVybiBnZW5lcmF0ZVV0aWxpdHlDbGFzcygnTXVpRGlhbG9nQ29udGVudCcsIHNsb3QpO1xufVxuY29uc3QgZGlhbG9nQ29udGVudENsYXNzZXMgPSBnZW5lcmF0ZVV0aWxpdHlDbGFzc2VzKCdNdWlEaWFsb2dDb250ZW50JywgWydyb290JywgJ2RpdmlkZXJzJ10pO1xuZXhwb3J0IGRlZmF1bHQgZGlhbG9nQ29udGVudENsYXNzZXM7IiwKICAgICJpbXBvcnQgZ2VuZXJhdGVVdGlsaXR5Q2xhc3NlcyBmcm9tICdAbXVpL3V0aWxzL2dlbmVyYXRlVXRpbGl0eUNsYXNzZXMnO1xuaW1wb3J0IGdlbmVyYXRlVXRpbGl0eUNsYXNzIGZyb20gJ0BtdWkvdXRpbHMvZ2VuZXJhdGVVdGlsaXR5Q2xhc3MnO1xuZXhwb3J0IGZ1bmN0aW9uIGdldERpYWxvZ1RpdGxlVXRpbGl0eUNsYXNzKHNsb3QpIHtcbiAgcmV0dXJuIGdlbmVyYXRlVXRpbGl0eUNsYXNzKCdNdWlEaWFsb2dUaXRsZScsIHNsb3QpO1xufVxuY29uc3QgZGlhbG9nVGl0bGVDbGFzc2VzID0gZ2VuZXJhdGVVdGlsaXR5Q2xhc3NlcygnTXVpRGlhbG9nVGl0bGUnLCBbJ3Jvb3QnXSk7XG5leHBvcnQgZGVmYXVsdCBkaWFsb2dUaXRsZUNsYXNzZXM7IiwKICAgICIndXNlIGNsaWVudCc7XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgY2xzeCBmcm9tICdjbHN4JztcbmltcG9ydCBjb21wb3NlQ2xhc3NlcyBmcm9tICdAbXVpL3V0aWxzL2NvbXBvc2VDbGFzc2VzJztcbmltcG9ydCBUeXBvZ3JhcGh5IGZyb20gXCIuLi9UeXBvZ3JhcGh5L2luZGV4LmpzXCI7XG5pbXBvcnQgeyBzdHlsZWQgfSBmcm9tIFwiLi4vemVyby1zdHlsZWQvaW5kZXguanNcIjtcbmltcG9ydCB7IHVzZURlZmF1bHRQcm9wcyB9IGZyb20gXCIuLi9EZWZhdWx0UHJvcHNQcm92aWRlci9pbmRleC5qc1wiO1xuaW1wb3J0IHsgZ2V0RGlhbG9nVGl0bGVVdGlsaXR5Q2xhc3MgfSBmcm9tIFwiLi9kaWFsb2dUaXRsZUNsYXNzZXMuanNcIjtcbmltcG9ydCBEaWFsb2dDb250ZXh0IGZyb20gXCIuLi9EaWFsb2cvRGlhbG9nQ29udGV4dC5qc1wiO1xuaW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmNvbnN0IHVzZVV0aWxpdHlDbGFzc2VzID0gb3duZXJTdGF0ZSA9PiB7XG4gIGNvbnN0IHtcbiAgICBjbGFzc2VzXG4gIH0gPSBvd25lclN0YXRlO1xuICBjb25zdCBzbG90cyA9IHtcbiAgICByb290OiBbJ3Jvb3QnXVxuICB9O1xuICByZXR1cm4gY29tcG9zZUNsYXNzZXMoc2xvdHMsIGdldERpYWxvZ1RpdGxlVXRpbGl0eUNsYXNzLCBjbGFzc2VzKTtcbn07XG5jb25zdCBEaWFsb2dUaXRsZVJvb3QgPSBzdHlsZWQoVHlwb2dyYXBoeSwge1xuICBuYW1lOiAnTXVpRGlhbG9nVGl0bGUnLFxuICBzbG90OiAnUm9vdCdcbn0pKHtcbiAgcGFkZGluZzogJzE2cHggMjRweCcsXG4gIGZsZXg6ICcwIDAgYXV0bydcbn0pO1xuY29uc3QgRGlhbG9nVGl0bGUgPSAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiBEaWFsb2dUaXRsZShpblByb3BzLCByZWYpIHtcbiAgY29uc3QgcHJvcHMgPSB1c2VEZWZhdWx0UHJvcHMoe1xuICAgIHByb3BzOiBpblByb3BzLFxuICAgIG5hbWU6ICdNdWlEaWFsb2dUaXRsZSdcbiAgfSk7XG4gIGNvbnN0IHtcbiAgICBjbGFzc05hbWUsXG4gICAgaWQ6IGlkUHJvcCxcbiAgICAuLi5vdGhlclxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IG93bmVyU3RhdGUgPSBwcm9wcztcbiAgY29uc3QgY2xhc3NlcyA9IHVzZVV0aWxpdHlDbGFzc2VzKG93bmVyU3RhdGUpO1xuICBjb25zdCB7XG4gICAgdGl0bGVJZCA9IGlkUHJvcFxuICB9ID0gUmVhY3QudXNlQ29udGV4dChEaWFsb2dDb250ZXh0KTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KERpYWxvZ1RpdGxlUm9vdCwge1xuICAgIGNvbXBvbmVudDogXCJoMlwiLFxuICAgIGNsYXNzTmFtZTogY2xzeChjbGFzc2VzLnJvb3QsIGNsYXNzTmFtZSksXG4gICAgb3duZXJTdGF0ZTogb3duZXJTdGF0ZSxcbiAgICByZWY6IHJlZixcbiAgICB2YXJpYW50OiBcImg2XCIsXG4gICAgaWQ6IGlkUHJvcCA/PyB0aXRsZUlkLFxuICAgIC4uLm90aGVyXG4gIH0pO1xufSk7XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBEaWFsb2dUaXRsZS5wcm9wVHlwZXMgLyogcmVtb3ZlLXByb3B0eXBlcyAqLyA9IHtcbiAgLy8g4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIFdhcm5pbmcg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQXG4gIC8vIOKUgiBUaGVzZSBQcm9wVHlwZXMgYXJlIGdlbmVyYXRlZCBmcm9tIHRoZSBUeXBlU2NyaXB0IHR5cGUgZGVmaW5pdGlvbnMuIOKUglxuICAvLyDilIIgICAgVG8gdXBkYXRlIHRoZW0sIGVkaXQgdGhlIGQudHMgZmlsZSBhbmQgcnVuIGBwbnBtIHByb3B0eXBlc2AuICAgICDilIJcbiAgLy8g4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG4gIC8qKlxuICAgKiBUaGUgY29udGVudCBvZiB0aGUgY29tcG9uZW50LlxuICAgKi9cbiAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuICAvKipcbiAgICogT3ZlcnJpZGUgb3IgZXh0ZW5kIHRoZSBzdHlsZXMgYXBwbGllZCB0byB0aGUgY29tcG9uZW50LlxuICAgKi9cbiAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdCxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGlkOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAvKipcbiAgICogVGhlIHN5c3RlbSBwcm9wIHRoYXQgYWxsb3dzIGRlZmluaW5nIHN5c3RlbSBvdmVycmlkZXMgYXMgd2VsbCBhcyBhZGRpdGlvbmFsIENTUyBzdHlsZXMuXG4gICAqL1xuICBzeDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3QsIFByb3BUeXBlcy5ib29sXSkpLCBQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdF0pXG59IDogdm9pZCAwO1xuZXhwb3J0IGRlZmF1bHQgRGlhbG9nVGl0bGU7IiwKICAgICIndXNlIGNsaWVudCc7XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgY2xzeCBmcm9tICdjbHN4JztcbmltcG9ydCBjb21wb3NlQ2xhc3NlcyBmcm9tICdAbXVpL3V0aWxzL2NvbXBvc2VDbGFzc2VzJztcbmltcG9ydCB7IHN0eWxlZCB9IGZyb20gXCIuLi96ZXJvLXN0eWxlZC9pbmRleC5qc1wiO1xuaW1wb3J0IG1lbW9UaGVtZSBmcm9tIFwiLi4vdXRpbHMvbWVtb1RoZW1lLmpzXCI7XG5pbXBvcnQgeyB1c2VEZWZhdWx0UHJvcHMgfSBmcm9tIFwiLi4vRGVmYXVsdFByb3BzUHJvdmlkZXIvaW5kZXguanNcIjtcbmltcG9ydCB7IGdldERpdmlkZXJVdGlsaXR5Q2xhc3MgfSBmcm9tIFwiLi9kaXZpZGVyQ2xhc3Nlcy5qc1wiO1xuaW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmNvbnN0IHVzZVV0aWxpdHlDbGFzc2VzID0gb3duZXJTdGF0ZSA9PiB7XG4gIGNvbnN0IHtcbiAgICBhYnNvbHV0ZSxcbiAgICBjaGlsZHJlbixcbiAgICBjbGFzc2VzLFxuICAgIGZsZXhJdGVtLFxuICAgIGxpZ2h0LFxuICAgIG9yaWVudGF0aW9uLFxuICAgIHRleHRBbGlnbixcbiAgICB2YXJpYW50XG4gIH0gPSBvd25lclN0YXRlO1xuICBjb25zdCBzbG90cyA9IHtcbiAgICByb290OiBbJ3Jvb3QnLCBhYnNvbHV0ZSAmJiAnYWJzb2x1dGUnLCB2YXJpYW50LCBsaWdodCAmJiAnbGlnaHQnLCBvcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJyAmJiAndmVydGljYWwnLCBmbGV4SXRlbSAmJiAnZmxleEl0ZW0nLCBjaGlsZHJlbiAmJiAnd2l0aENoaWxkcmVuJywgY2hpbGRyZW4gJiYgb3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcgJiYgJ3dpdGhDaGlsZHJlblZlcnRpY2FsJywgdGV4dEFsaWduID09PSAncmlnaHQnICYmIG9yaWVudGF0aW9uICE9PSAndmVydGljYWwnICYmICd0ZXh0QWxpZ25SaWdodCcsIHRleHRBbGlnbiA9PT0gJ2xlZnQnICYmIG9yaWVudGF0aW9uICE9PSAndmVydGljYWwnICYmICd0ZXh0QWxpZ25MZWZ0J10sXG4gICAgd3JhcHBlcjogWyd3cmFwcGVyJywgb3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcgJiYgJ3dyYXBwZXJWZXJ0aWNhbCddXG4gIH07XG4gIHJldHVybiBjb21wb3NlQ2xhc3NlcyhzbG90cywgZ2V0RGl2aWRlclV0aWxpdHlDbGFzcywgY2xhc3Nlcyk7XG59O1xuY29uc3QgRGl2aWRlclJvb3QgPSBzdHlsZWQoJ2RpdicsIHtcbiAgbmFtZTogJ011aURpdmlkZXInLFxuICBzbG90OiAnUm9vdCcsXG4gIG92ZXJyaWRlc1Jlc29sdmVyOiAocHJvcHMsIHN0eWxlcykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIG93bmVyU3RhdGVcbiAgICB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIFtzdHlsZXMucm9vdCwgb3duZXJTdGF0ZS5hYnNvbHV0ZSAmJiBzdHlsZXMuYWJzb2x1dGUsIHN0eWxlc1tvd25lclN0YXRlLnZhcmlhbnRdLCBvd25lclN0YXRlLmxpZ2h0ICYmIHN0eWxlcy5saWdodCwgb3duZXJTdGF0ZS5vcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJyAmJiBzdHlsZXMudmVydGljYWwsIG93bmVyU3RhdGUuZmxleEl0ZW0gJiYgc3R5bGVzLmZsZXhJdGVtLCBvd25lclN0YXRlLmNoaWxkcmVuICYmIHN0eWxlcy53aXRoQ2hpbGRyZW4sIG93bmVyU3RhdGUuY2hpbGRyZW4gJiYgb3duZXJTdGF0ZS5vcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJyAmJiBzdHlsZXMud2l0aENoaWxkcmVuVmVydGljYWwsIG93bmVyU3RhdGUudGV4dEFsaWduID09PSAncmlnaHQnICYmIG93bmVyU3RhdGUub3JpZW50YXRpb24gIT09ICd2ZXJ0aWNhbCcgJiYgc3R5bGVzLnRleHRBbGlnblJpZ2h0LCBvd25lclN0YXRlLnRleHRBbGlnbiA9PT0gJ2xlZnQnICYmIG93bmVyU3RhdGUub3JpZW50YXRpb24gIT09ICd2ZXJ0aWNhbCcgJiYgc3R5bGVzLnRleHRBbGlnbkxlZnRdO1xuICB9XG59KShtZW1vVGhlbWUoKHtcbiAgdGhlbWVcbn0pID0+ICh7XG4gIG1hcmdpbjogMCxcbiAgLy8gUmVzZXQgYnJvd3NlciBkZWZhdWx0IHN0eWxlLlxuICBmbGV4U2hyaW5rOiAwLFxuICBib3JkZXJXaWR0aDogMCxcbiAgYm9yZGVyU3R5bGU6ICdzb2xpZCcsXG4gIGJvcmRlckNvbG9yOiAodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZS5kaXZpZGVyLFxuICBib3JkZXJCb3R0b21XaWR0aDogJ3RoaW4nLFxuICB2YXJpYW50czogW3tcbiAgICBwcm9wczoge1xuICAgICAgYWJzb2x1dGU6IHRydWVcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIGJvdHRvbTogMCxcbiAgICAgIGxlZnQ6IDAsXG4gICAgICB3aWR0aDogJzEwMCUnXG4gICAgfVxuICB9LCB7XG4gICAgcHJvcHM6IHtcbiAgICAgIGxpZ2h0OiB0cnVlXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgYm9yZGVyQ29sb3I6IHRoZW1lLmFscGhhKCh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlLmRpdmlkZXIsIDAuMDgpXG4gICAgfVxuICB9LCB7XG4gICAgcHJvcHM6IHtcbiAgICAgIHZhcmlhbnQ6ICdpbnNldCdcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICBtYXJnaW5MZWZ0OiA3MlxuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiB7XG4gICAgICB2YXJpYW50OiAnbWlkZGxlJyxcbiAgICAgIG9yaWVudGF0aW9uOiAnaG9yaXpvbnRhbCdcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICBtYXJnaW5MZWZ0OiB0aGVtZS5zcGFjaW5nKDIpLFxuICAgICAgbWFyZ2luUmlnaHQ6IHRoZW1lLnNwYWNpbmcoMilcbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczoge1xuICAgICAgdmFyaWFudDogJ21pZGRsZScsXG4gICAgICBvcmllbnRhdGlvbjogJ3ZlcnRpY2FsJ1xuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIG1hcmdpblRvcDogdGhlbWUuc3BhY2luZygxKSxcbiAgICAgIG1hcmdpbkJvdHRvbTogdGhlbWUuc3BhY2luZygxKVxuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiB7XG4gICAgICBvcmllbnRhdGlvbjogJ3ZlcnRpY2FsJ1xuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgYm9yZGVyQm90dG9tV2lkdGg6IDAsXG4gICAgICBib3JkZXJSaWdodFdpZHRoOiAndGhpbidcbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczoge1xuICAgICAgZmxleEl0ZW06IHRydWVcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICBhbGlnblNlbGY6ICdzdHJldGNoJyxcbiAgICAgIGhlaWdodDogJ2F1dG8nXG4gICAgfVxuICB9LCB7XG4gICAgcHJvcHM6ICh7XG4gICAgICBvd25lclN0YXRlXG4gICAgfSkgPT4gISFvd25lclN0YXRlLmNoaWxkcmVuLFxuICAgIHN0eWxlOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgICAgYm9yZGVyOiAwLFxuICAgICAgYm9yZGVyVG9wU3R5bGU6ICdzb2xpZCcsXG4gICAgICBib3JkZXJMZWZ0U3R5bGU6ICdzb2xpZCcsXG4gICAgICAnJjo6YmVmb3JlLCAmOjphZnRlcic6IHtcbiAgICAgICAgY29udGVudDogJ1wiXCInLFxuICAgICAgICBhbGlnblNlbGY6ICdjZW50ZXInXG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAgcHJvcHM6ICh7XG4gICAgICBvd25lclN0YXRlXG4gICAgfSkgPT4gb3duZXJTdGF0ZS5jaGlsZHJlbiAmJiBvd25lclN0YXRlLm9yaWVudGF0aW9uICE9PSAndmVydGljYWwnLFxuICAgIHN0eWxlOiB7XG4gICAgICAnJjo6YmVmb3JlLCAmOjphZnRlcic6IHtcbiAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgYm9yZGVyVG9wOiBgdGhpbiBzb2xpZCAkeyh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlLmRpdmlkZXJ9YCxcbiAgICAgICAgYm9yZGVyVG9wU3R5bGU6ICdpbmhlcml0J1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiAoe1xuICAgICAgb3duZXJTdGF0ZVxuICAgIH0pID0+IG93bmVyU3RhdGUub3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcgJiYgb3duZXJTdGF0ZS5jaGlsZHJlbixcbiAgICBzdHlsZToge1xuICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgICAnJjo6YmVmb3JlLCAmOjphZnRlcic6IHtcbiAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgIGJvcmRlckxlZnQ6IGB0aGluIHNvbGlkICR7KHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGUuZGl2aWRlcn1gLFxuICAgICAgICBib3JkZXJMZWZ0U3R5bGU6ICdpbmhlcml0J1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiAoe1xuICAgICAgb3duZXJTdGF0ZVxuICAgIH0pID0+IG93bmVyU3RhdGUudGV4dEFsaWduID09PSAncmlnaHQnICYmIG93bmVyU3RhdGUub3JpZW50YXRpb24gIT09ICd2ZXJ0aWNhbCcsXG4gICAgc3R5bGU6IHtcbiAgICAgICcmOjpiZWZvcmUnOiB7XG4gICAgICAgIHdpZHRoOiAnOTAlJ1xuICAgICAgfSxcbiAgICAgICcmOjphZnRlcic6IHtcbiAgICAgICAgd2lkdGg6ICcxMCUnXG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAgcHJvcHM6ICh7XG4gICAgICBvd25lclN0YXRlXG4gICAgfSkgPT4gb3duZXJTdGF0ZS50ZXh0QWxpZ24gPT09ICdsZWZ0JyAmJiBvd25lclN0YXRlLm9yaWVudGF0aW9uICE9PSAndmVydGljYWwnLFxuICAgIHN0eWxlOiB7XG4gICAgICAnJjo6YmVmb3JlJzoge1xuICAgICAgICB3aWR0aDogJzEwJSdcbiAgICAgIH0sXG4gICAgICAnJjo6YWZ0ZXInOiB7XG4gICAgICAgIHdpZHRoOiAnOTAlJ1xuICAgICAgfVxuICAgIH1cbiAgfV1cbn0pKSk7XG5jb25zdCBEaXZpZGVyV3JhcHBlciA9IHN0eWxlZCgnc3BhbicsIHtcbiAgbmFtZTogJ011aURpdmlkZXInLFxuICBzbG90OiAnV3JhcHBlcicsXG4gIG92ZXJyaWRlc1Jlc29sdmVyOiAocHJvcHMsIHN0eWxlcykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIG93bmVyU3RhdGVcbiAgICB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIFtzdHlsZXMud3JhcHBlciwgb3duZXJTdGF0ZS5vcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJyAmJiBzdHlsZXMud3JhcHBlclZlcnRpY2FsXTtcbiAgfVxufSkobWVtb1RoZW1lKCh7XG4gIHRoZW1lXG59KSA9PiAoe1xuICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgcGFkZGluZ0xlZnQ6IGBjYWxjKCR7dGhlbWUuc3BhY2luZygxKX0gKiAxLjIpYCxcbiAgcGFkZGluZ1JpZ2h0OiBgY2FsYygke3RoZW1lLnNwYWNpbmcoMSl9ICogMS4yKWAsXG4gIHdoaXRlU3BhY2U6ICdub3dyYXAnLFxuICB2YXJpYW50czogW3tcbiAgICBwcm9wczoge1xuICAgICAgb3JpZW50YXRpb246ICd2ZXJ0aWNhbCdcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICBwYWRkaW5nVG9wOiBgY2FsYygke3RoZW1lLnNwYWNpbmcoMSl9ICogMS4yKWAsXG4gICAgICBwYWRkaW5nQm90dG9tOiBgY2FsYygke3RoZW1lLnNwYWNpbmcoMSl9ICogMS4yKWBcbiAgICB9XG4gIH1dXG59KSkpO1xuY29uc3QgRGl2aWRlciA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIERpdmlkZXIoaW5Qcm9wcywgcmVmKSB7XG4gIGNvbnN0IHByb3BzID0gdXNlRGVmYXVsdFByb3BzKHtcbiAgICBwcm9wczogaW5Qcm9wcyxcbiAgICBuYW1lOiAnTXVpRGl2aWRlcidcbiAgfSk7XG4gIGNvbnN0IHtcbiAgICBhYnNvbHV0ZSA9IGZhbHNlLFxuICAgIGNoaWxkcmVuLFxuICAgIGNsYXNzTmFtZSxcbiAgICBvcmllbnRhdGlvbiA9ICdob3Jpem9udGFsJyxcbiAgICBjb21wb25lbnQgPSBjaGlsZHJlbiB8fCBvcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJyA/ICdkaXYnIDogJ2hyJyxcbiAgICBmbGV4SXRlbSA9IGZhbHNlLFxuICAgIGxpZ2h0ID0gZmFsc2UsXG4gICAgcm9sZSA9IGNvbXBvbmVudCAhPT0gJ2hyJyA/ICdzZXBhcmF0b3InIDogdW5kZWZpbmVkLFxuICAgIHRleHRBbGlnbiA9ICdjZW50ZXInLFxuICAgIHZhcmlhbnQgPSAnZnVsbFdpZHRoJyxcbiAgICAuLi5vdGhlclxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IG93bmVyU3RhdGUgPSB7XG4gICAgLi4ucHJvcHMsXG4gICAgYWJzb2x1dGUsXG4gICAgY29tcG9uZW50LFxuICAgIGZsZXhJdGVtLFxuICAgIGxpZ2h0LFxuICAgIG9yaWVudGF0aW9uLFxuICAgIHJvbGUsXG4gICAgdGV4dEFsaWduLFxuICAgIHZhcmlhbnRcbiAgfTtcbiAgY29uc3QgY2xhc3NlcyA9IHVzZVV0aWxpdHlDbGFzc2VzKG93bmVyU3RhdGUpO1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3goRGl2aWRlclJvb3QsIHtcbiAgICBhczogY29tcG9uZW50LFxuICAgIGNsYXNzTmFtZTogY2xzeChjbGFzc2VzLnJvb3QsIGNsYXNzTmFtZSksXG4gICAgcm9sZTogcm9sZSxcbiAgICByZWY6IHJlZixcbiAgICBvd25lclN0YXRlOiBvd25lclN0YXRlLFxuICAgIFwiYXJpYS1vcmllbnRhdGlvblwiOiByb2xlID09PSAnc2VwYXJhdG9yJyAmJiAoY29tcG9uZW50ICE9PSAnaHInIHx8IG9yaWVudGF0aW9uID09PSAndmVydGljYWwnKSA/IG9yaWVudGF0aW9uIDogdW5kZWZpbmVkLFxuICAgIC4uLm90aGVyLFxuICAgIGNoaWxkcmVuOiBjaGlsZHJlbiA/IC8qI19fUFVSRV9fKi9fanN4KERpdmlkZXJXcmFwcGVyLCB7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzZXMud3JhcHBlcixcbiAgICAgIG93bmVyU3RhdGU6IG93bmVyU3RhdGUsXG4gICAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgICB9KSA6IG51bGxcbiAgfSk7XG59KTtcblxuLyoqXG4gKiBUaGUgZm9sbG93aW5nIGZsYWcgaXMgdXNlZCB0byBlbnN1cmUgdGhhdCB0aGlzIGNvbXBvbmVudCBpc24ndCB0YWJiYWJsZSBpLmUuXG4gKiBkb2VzIG5vdCBnZXQgaGlnaGxpZ2h0L2ZvY3VzIGluc2lkZSBvZiBNVUkgTGlzdC5cbiAqL1xuaWYgKERpdmlkZXIpIHtcbiAgRGl2aWRlci5tdWlTa2lwTGlzdEhpZ2hsaWdodCA9IHRydWU7XG59XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBEaXZpZGVyLnByb3BUeXBlcyAvKiByZW1vdmUtcHJvcHR5cGVzICovID0ge1xuICAvLyDilIzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgV2FybmluZyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJBcbiAgLy8g4pSCIFRoZXNlIFByb3BUeXBlcyBhcmUgZ2VuZXJhdGVkIGZyb20gdGhlIFR5cGVTY3JpcHQgdHlwZSBkZWZpbml0aW9ucy4g4pSCXG4gIC8vIOKUgiAgICBUbyB1cGRhdGUgdGhlbSwgZWRpdCB0aGUgZC50cyBmaWxlIGFuZCBydW4gYHBucG0gcHJvcHR5cGVzYC4gICAgIOKUglxuICAvLyDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJhcbiAgLyoqXG4gICAqIEFic29sdXRlbHkgcG9zaXRpb24gdGhlIGVsZW1lbnQuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBhYnNvbHV0ZTogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBUaGUgY29udGVudCBvZiB0aGUgY29tcG9uZW50LlxuICAgKi9cbiAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuICAvKipcbiAgICogT3ZlcnJpZGUgb3IgZXh0ZW5kIHRoZSBzdHlsZXMgYXBwbGllZCB0byB0aGUgY29tcG9uZW50LlxuICAgKi9cbiAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdCxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgLyoqXG4gICAqIFRoZSBjb21wb25lbnQgdXNlZCBmb3IgdGhlIHJvb3Qgbm9kZS5cbiAgICogRWl0aGVyIGEgc3RyaW5nIHRvIHVzZSBhIEhUTUwgZWxlbWVudCBvciBhIGNvbXBvbmVudC5cbiAgICovXG4gIGNvbXBvbmVudDogUHJvcFR5cGVzLmVsZW1lbnRUeXBlLFxuICAvKipcbiAgICogSWYgYHRydWVgLCBhIHZlcnRpY2FsIGRpdmlkZXIgd2lsbCBoYXZlIHRoZSBjb3JyZWN0IGhlaWdodCB3aGVuIHVzZWQgaW4gZmxleCBjb250YWluZXIuXG4gICAqIChCeSBkZWZhdWx0LCBhIHZlcnRpY2FsIGRpdmlkZXIgd2lsbCBoYXZlIGEgY2FsY3VsYXRlZCBoZWlnaHQgb2YgYDBweGAgaWYgaXQgaXMgdGhlIGNoaWxkIG9mIGEgZmxleCBjb250YWluZXIuKVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZmxleEl0ZW06IFByb3BUeXBlcy5ib29sLFxuICAvKipcbiAgICogSWYgYHRydWVgLCB0aGUgZGl2aWRlciB3aWxsIGhhdmUgYSBsaWdodGVyIGNvbG9yLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKiBAZGVwcmVjYXRlZCBVc2UgPERpdmlkZXIgc3g9e3sgb3BhY2l0eTogMC42IH19IC8+IChvciBhbnkgb3BhY2l0eSBvciBjb2xvcikgaW5zdGVhZC4gU2VlIFtNaWdyYXRpbmcgZnJvbSBkZXByZWNhdGVkIEFQSXNdKGh0dHBzOi8vbXVpLmNvbS9tYXRlcmlhbC11aS9taWdyYXRpb24vbWlncmF0aW5nLWZyb20tZGVwcmVjYXRlZC1hcGlzLykgZm9yIG1vcmUgZGV0YWlscy5cbiAgICovXG4gIGxpZ2h0OiBQcm9wVHlwZXMuYm9vbCxcbiAgLyoqXG4gICAqIFRoZSBjb21wb25lbnQgb3JpZW50YXRpb24uXG4gICAqIEBkZWZhdWx0ICdob3Jpem9udGFsJ1xuICAgKi9cbiAgb3JpZW50YXRpb246IFByb3BUeXBlcy5vbmVPZihbJ2hvcml6b250YWwnLCAndmVydGljYWwnXSksXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICByb2xlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAvKipcbiAgICogVGhlIHN5c3RlbSBwcm9wIHRoYXQgYWxsb3dzIGRlZmluaW5nIHN5c3RlbSBvdmVycmlkZXMgYXMgd2VsbCBhcyBhZGRpdGlvbmFsIENTUyBzdHlsZXMuXG4gICAqL1xuICBzeDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3QsIFByb3BUeXBlcy5ib29sXSkpLCBQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdF0pLFxuICAvKipcbiAgICogVGhlIHRleHQgYWxpZ25tZW50LlxuICAgKiBAZGVmYXVsdCAnY2VudGVyJ1xuICAgKi9cbiAgdGV4dEFsaWduOiBQcm9wVHlwZXMub25lT2YoWydjZW50ZXInLCAnbGVmdCcsICdyaWdodCddKSxcbiAgLyoqXG4gICAqIFRoZSB2YXJpYW50IHRvIHVzZS5cbiAgICogQGRlZmF1bHQgJ2Z1bGxXaWR0aCdcbiAgICovXG4gIHZhcmlhbnQ6IFByb3BUeXBlcyAvKiBAdHlwZXNjcmlwdC10by1wcm9wdHlwZXMtaWdub3JlICovLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnZnVsbFdpZHRoJywgJ2luc2V0JywgJ21pZGRsZSddKSwgUHJvcFR5cGVzLnN0cmluZ10pXG59IDogdm9pZCAwO1xuZXhwb3J0IGRlZmF1bHQgRGl2aWRlcjsiLAogICAgImltcG9ydCBnZW5lcmF0ZVV0aWxpdHlDbGFzc2VzIGZyb20gJ0BtdWkvdXRpbHMvZ2VuZXJhdGVVdGlsaXR5Q2xhc3Nlcyc7XG5pbXBvcnQgZ2VuZXJhdGVVdGlsaXR5Q2xhc3MgZnJvbSAnQG11aS91dGlscy9nZW5lcmF0ZVV0aWxpdHlDbGFzcyc7XG5leHBvcnQgZnVuY3Rpb24gZ2V0RGl2aWRlclV0aWxpdHlDbGFzcyhzbG90KSB7XG4gIHJldHVybiBnZW5lcmF0ZVV0aWxpdHlDbGFzcygnTXVpRGl2aWRlcicsIHNsb3QpO1xufVxuY29uc3QgZGl2aWRlckNsYXNzZXMgPSBnZW5lcmF0ZVV0aWxpdHlDbGFzc2VzKCdNdWlEaXZpZGVyJywgWydyb290JywgJ2Fic29sdXRlJywgJ2Z1bGxXaWR0aCcsICdpbnNldCcsICdtaWRkbGUnLCAnZmxleEl0ZW0nLCAnbGlnaHQnLCAndmVydGljYWwnLCAnd2l0aENoaWxkcmVuJywgJ3dpdGhDaGlsZHJlblZlcnRpY2FsJywgJ3RleHRBbGlnblJpZ2h0JywgJ3RleHRBbGlnbkxlZnQnLCAnd3JhcHBlcicsICd3cmFwcGVyVmVydGljYWwnXSk7XG5leHBvcnQgZGVmYXVsdCBkaXZpZGVyQ2xhc3NlczsiLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnO1xuaW1wb3J0IGludGVnZXJQcm9wVHlwZSBmcm9tICdAbXVpL3V0aWxzL2ludGVnZXJQcm9wVHlwZSc7XG5pbXBvcnQgY29tcG9zZUNsYXNzZXMgZnJvbSAnQG11aS91dGlscy9jb21wb3NlQ2xhc3Nlcyc7XG5pbXBvcnQgeyB1c2VSdGwgfSBmcm9tICdAbXVpL3N5c3RlbS9SdGxQcm92aWRlcic7XG5pbXBvcnQgTW9kYWwgZnJvbSBcIi4uL01vZGFsL2luZGV4LmpzXCI7XG5pbXBvcnQgU2xpZGUgZnJvbSBcIi4uL1NsaWRlL2luZGV4LmpzXCI7XG5pbXBvcnQgUGFwZXIgZnJvbSBcIi4uL1BhcGVyL2luZGV4LmpzXCI7XG5pbXBvcnQgY2FwaXRhbGl6ZSBmcm9tIFwiLi4vdXRpbHMvY2FwaXRhbGl6ZS5qc1wiO1xuaW1wb3J0IHJvb3RTaG91bGRGb3J3YXJkUHJvcCBmcm9tIFwiLi4vc3R5bGVzL3Jvb3RTaG91bGRGb3J3YXJkUHJvcC5qc1wiO1xuaW1wb3J0IHsgc3R5bGVkLCB1c2VUaGVtZSB9IGZyb20gXCIuLi96ZXJvLXN0eWxlZC9pbmRleC5qc1wiO1xuaW1wb3J0IG1lbW9UaGVtZSBmcm9tIFwiLi4vdXRpbHMvbWVtb1RoZW1lLmpzXCI7XG5pbXBvcnQgeyB1c2VEZWZhdWx0UHJvcHMgfSBmcm9tIFwiLi4vRGVmYXVsdFByb3BzUHJvdmlkZXIvaW5kZXguanNcIjtcbmltcG9ydCB7IGdldERyYXdlclV0aWxpdHlDbGFzcyB9IGZyb20gXCIuL2RyYXdlckNsYXNzZXMuanNcIjtcbmltcG9ydCB1c2VTbG90IGZyb20gXCIuLi91dGlscy91c2VTbG90LmpzXCI7XG5pbXBvcnQgeyBtZXJnZVNsb3RQcm9wcyB9IGZyb20gXCIuLi91dGlscy9pbmRleC5qc1wiO1xuaW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmNvbnN0IG92ZXJyaWRlc1Jlc29sdmVyID0gKHByb3BzLCBzdHlsZXMpID0+IHtcbiAgY29uc3Qge1xuICAgIG93bmVyU3RhdGVcbiAgfSA9IHByb3BzO1xuICByZXR1cm4gW3N0eWxlcy5yb290LCAob3duZXJTdGF0ZS52YXJpYW50ID09PSAncGVybWFuZW50JyB8fCBvd25lclN0YXRlLnZhcmlhbnQgPT09ICdwZXJzaXN0ZW50JykgJiYgc3R5bGVzLmRvY2tlZCwgc3R5bGVzLm1vZGFsXTtcbn07XG5jb25zdCB1c2VVdGlsaXR5Q2xhc3NlcyA9IG93bmVyU3RhdGUgPT4ge1xuICBjb25zdCB7XG4gICAgY2xhc3NlcyxcbiAgICBhbmNob3IsXG4gICAgdmFyaWFudFxuICB9ID0gb3duZXJTdGF0ZTtcbiAgY29uc3Qgc2xvdHMgPSB7XG4gICAgcm9vdDogWydyb290JywgYGFuY2hvciR7Y2FwaXRhbGl6ZShhbmNob3IpfWBdLFxuICAgIGRvY2tlZDogWyh2YXJpYW50ID09PSAncGVybWFuZW50JyB8fCB2YXJpYW50ID09PSAncGVyc2lzdGVudCcpICYmICdkb2NrZWQnXSxcbiAgICBtb2RhbDogWydtb2RhbCddLFxuICAgIHBhcGVyOiBbJ3BhcGVyJywgYHBhcGVyQW5jaG9yJHtjYXBpdGFsaXplKGFuY2hvcil9YCwgdmFyaWFudCAhPT0gJ3RlbXBvcmFyeScgJiYgYHBhcGVyQW5jaG9yRG9ja2VkJHtjYXBpdGFsaXplKGFuY2hvcil9YF1cbiAgfTtcbiAgcmV0dXJuIGNvbXBvc2VDbGFzc2VzKHNsb3RzLCBnZXREcmF3ZXJVdGlsaXR5Q2xhc3MsIGNsYXNzZXMpO1xufTtcbmNvbnN0IERyYXdlclJvb3QgPSBzdHlsZWQoTW9kYWwsIHtcbiAgbmFtZTogJ011aURyYXdlcicsXG4gIHNsb3Q6ICdSb290JyxcbiAgb3ZlcnJpZGVzUmVzb2x2ZXJcbn0pKG1lbW9UaGVtZSgoe1xuICB0aGVtZVxufSkgPT4gKHtcbiAgekluZGV4OiAodGhlbWUudmFycyB8fCB0aGVtZSkuekluZGV4LmRyYXdlclxufSkpKTtcbmNvbnN0IERyYXdlckRvY2tlZFJvb3QgPSBzdHlsZWQoJ2RpdicsIHtcbiAgc2hvdWxkRm9yd2FyZFByb3A6IHJvb3RTaG91bGRGb3J3YXJkUHJvcCxcbiAgbmFtZTogJ011aURyYXdlcicsXG4gIHNsb3Q6ICdEb2NrZWQnLFxuICBza2lwVmFyaWFudHNSZXNvbHZlcjogZmFsc2UsXG4gIG92ZXJyaWRlc1Jlc29sdmVyXG59KSh7XG4gIGZsZXg6ICcwIDAgYXV0bydcbn0pO1xuY29uc3QgRHJhd2VyUGFwZXIgPSBzdHlsZWQoUGFwZXIsIHtcbiAgbmFtZTogJ011aURyYXdlcicsXG4gIHNsb3Q6ICdQYXBlcicsXG4gIG92ZXJyaWRlc1Jlc29sdmVyOiAocHJvcHMsIHN0eWxlcykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIG93bmVyU3RhdGVcbiAgICB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIFtzdHlsZXMucGFwZXIsIHN0eWxlc1tgcGFwZXJBbmNob3Ike2NhcGl0YWxpemUob3duZXJTdGF0ZS5hbmNob3IpfWBdLCBvd25lclN0YXRlLnZhcmlhbnQgIT09ICd0ZW1wb3JhcnknICYmIHN0eWxlc1tgcGFwZXJBbmNob3JEb2NrZWQke2NhcGl0YWxpemUob3duZXJTdGF0ZS5hbmNob3IpfWBdXTtcbiAgfVxufSkobWVtb1RoZW1lKCh7XG4gIHRoZW1lXG59KSA9PiAoe1xuICBvdmVyZmxvd1k6ICdhdXRvJyxcbiAgZGlzcGxheTogJ2ZsZXgnLFxuICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgaGVpZ2h0OiAnMTAwJScsXG4gIGZsZXg6ICcxIDAgYXV0bycsXG4gIHpJbmRleDogKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnpJbmRleC5kcmF3ZXIsXG4gIC8vIEFkZCBpT1MgbW9tZW50dW0gc2Nyb2xsaW5nIGZvciBpT1MgPCAxMy4wXG4gIFdlYmtpdE92ZXJmbG93U2Nyb2xsaW5nOiAndG91Y2gnLFxuICAvLyB0ZW1wb3Jhcnkgc3R5bGVcbiAgcG9zaXRpb246ICdmaXhlZCcsXG4gIHRvcDogMCxcbiAgLy8gV2UgZGlzYWJsZSB0aGUgZm9jdXMgcmluZyBmb3IgbW91c2UsIHRvdWNoIGFuZCBrZXlib2FyZCB1c2Vycy5cbiAgLy8gQXQgc29tZSBwb2ludCwgaXQgd291bGQgYmUgYmV0dGVyIHRvIGtlZXAgaXQgZm9yIGtleWJvYXJkIHVzZXJzLlxuICAvLyA6Zm9jdXMtcmluZyBDU1MgcHNldWRvLWNsYXNzIHdpbGwgaGVscC5cbiAgb3V0bGluZTogMCxcbiAgdmFyaWFudHM6IFt7XG4gICAgcHJvcHM6IHtcbiAgICAgIGFuY2hvcjogJ2xlZnQnXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgbGVmdDogMFxuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiB7XG4gICAgICBhbmNob3I6ICd0b3AnXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgdG9wOiAwLFxuICAgICAgbGVmdDogMCxcbiAgICAgIHJpZ2h0OiAwLFxuICAgICAgaGVpZ2h0OiAnYXV0bycsXG4gICAgICBtYXhIZWlnaHQ6ICcxMDAlJ1xuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiB7XG4gICAgICBhbmNob3I6ICdyaWdodCdcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICByaWdodDogMFxuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiB7XG4gICAgICBhbmNob3I6ICdib3R0b20nXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgdG9wOiAnYXV0bycsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgYm90dG9tOiAwLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICBoZWlnaHQ6ICdhdXRvJyxcbiAgICAgIG1heEhlaWdodDogJzEwMCUnXG4gICAgfVxuICB9LCB7XG4gICAgcHJvcHM6ICh7XG4gICAgICBvd25lclN0YXRlXG4gICAgfSkgPT4gb3duZXJTdGF0ZS5hbmNob3IgPT09ICdsZWZ0JyAmJiBvd25lclN0YXRlLnZhcmlhbnQgIT09ICd0ZW1wb3JhcnknLFxuICAgIHN0eWxlOiB7XG4gICAgICBib3JkZXJSaWdodDogYDFweCBzb2xpZCAkeyh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlLmRpdmlkZXJ9YFxuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiAoe1xuICAgICAgb3duZXJTdGF0ZVxuICAgIH0pID0+IG93bmVyU3RhdGUuYW5jaG9yID09PSAndG9wJyAmJiBvd25lclN0YXRlLnZhcmlhbnQgIT09ICd0ZW1wb3JhcnknLFxuICAgIHN0eWxlOiB7XG4gICAgICBib3JkZXJCb3R0b206IGAxcHggc29saWQgJHsodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZS5kaXZpZGVyfWBcbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczogKHtcbiAgICAgIG93bmVyU3RhdGVcbiAgICB9KSA9PiBvd25lclN0YXRlLmFuY2hvciA9PT0gJ3JpZ2h0JyAmJiBvd25lclN0YXRlLnZhcmlhbnQgIT09ICd0ZW1wb3JhcnknLFxuICAgIHN0eWxlOiB7XG4gICAgICBib3JkZXJMZWZ0OiBgMXB4IHNvbGlkICR7KHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGUuZGl2aWRlcn1gXG4gICAgfVxuICB9LCB7XG4gICAgcHJvcHM6ICh7XG4gICAgICBvd25lclN0YXRlXG4gICAgfSkgPT4gb3duZXJTdGF0ZS5hbmNob3IgPT09ICdib3R0b20nICYmIG93bmVyU3RhdGUudmFyaWFudCAhPT0gJ3RlbXBvcmFyeScsXG4gICAgc3R5bGU6IHtcbiAgICAgIGJvcmRlclRvcDogYDFweCBzb2xpZCAkeyh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlLmRpdmlkZXJ9YFxuICAgIH1cbiAgfV1cbn0pKSk7XG5jb25zdCBvcHBvc2l0ZURpcmVjdGlvbiA9IHtcbiAgbGVmdDogJ3JpZ2h0JyxcbiAgcmlnaHQ6ICdsZWZ0JyxcbiAgdG9wOiAnZG93bicsXG4gIGJvdHRvbTogJ3VwJ1xufTtcbmV4cG9ydCBmdW5jdGlvbiBpc0hvcml6b250YWwoYW5jaG9yKSB7XG4gIHJldHVybiBbJ2xlZnQnLCAncmlnaHQnXS5pbmNsdWRlcyhhbmNob3IpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEFuY2hvcih7XG4gIGRpcmVjdGlvblxufSwgYW5jaG9yKSB7XG4gIHJldHVybiBkaXJlY3Rpb24gPT09ICdydGwnICYmIGlzSG9yaXpvbnRhbChhbmNob3IpID8gb3Bwb3NpdGVEaXJlY3Rpb25bYW5jaG9yXSA6IGFuY2hvcjtcbn1cblxuLyoqXG4gKiBUaGUgcHJvcHMgb2YgdGhlIFtNb2RhbF0oL21hdGVyaWFsLXVpL2FwaS9tb2RhbC8pIGNvbXBvbmVudCBhcmUgYXZhaWxhYmxlXG4gKiB3aGVuIGB2YXJpYW50PVwidGVtcG9yYXJ5XCJgIGlzIHNldC5cbiAqL1xuY29uc3QgRHJhd2VyID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gRHJhd2VyKGluUHJvcHMsIHJlZikge1xuICBjb25zdCBwcm9wcyA9IHVzZURlZmF1bHRQcm9wcyh7XG4gICAgcHJvcHM6IGluUHJvcHMsXG4gICAgbmFtZTogJ011aURyYXdlcidcbiAgfSk7XG4gIGNvbnN0IHRoZW1lID0gdXNlVGhlbWUoKTtcbiAgY29uc3QgaXNSdGwgPSB1c2VSdGwoKTtcbiAgY29uc3QgZGVmYXVsdFRyYW5zaXRpb25EdXJhdGlvbiA9IHtcbiAgICBlbnRlcjogdGhlbWUudHJhbnNpdGlvbnMuZHVyYXRpb24uZW50ZXJpbmdTY3JlZW4sXG4gICAgZXhpdDogdGhlbWUudHJhbnNpdGlvbnMuZHVyYXRpb24ubGVhdmluZ1NjcmVlblxuICB9O1xuICBjb25zdCB7XG4gICAgYW5jaG9yOiBhbmNob3JQcm9wID0gJ2xlZnQnLFxuICAgIEJhY2tkcm9wUHJvcHMsXG4gICAgY2hpbGRyZW4sXG4gICAgY2xhc3NOYW1lLFxuICAgIGVsZXZhdGlvbiA9IDE2LFxuICAgIGhpZGVCYWNrZHJvcCA9IGZhbHNlLFxuICAgIE1vZGFsUHJvcHM6IHtcbiAgICAgIEJhY2tkcm9wUHJvcHM6IEJhY2tkcm9wUHJvcHNQcm9wLFxuICAgICAgLi4uTW9kYWxQcm9wc1xuICAgIH0gPSB7fSxcbiAgICBvbkNsb3NlLFxuICAgIG9wZW4gPSBmYWxzZSxcbiAgICBQYXBlclByb3BzID0ge30sXG4gICAgU2xpZGVQcm9wcyxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QvcHJvcC10eXBlc1xuICAgIFRyYW5zaXRpb25Db21wb25lbnQsXG4gICAgdHJhbnNpdGlvbkR1cmF0aW9uID0gZGVmYXVsdFRyYW5zaXRpb25EdXJhdGlvbixcbiAgICB2YXJpYW50ID0gJ3RlbXBvcmFyeScsXG4gICAgc2xvdHMgPSB7fSxcbiAgICBzbG90UHJvcHMgPSB7fSxcbiAgICAuLi5vdGhlclxuICB9ID0gcHJvcHM7XG5cbiAgLy8gTGV0J3MgYXNzdW1lIHRoYXQgdGhlIERyYXdlciB3aWxsIGFsd2F5cyBiZSByZW5kZXJlZCBvbiB1c2VyIHNwYWNlLlxuICAvLyBXZSB1c2UgdGhpcyBzdGF0ZSBpcyBvcmRlciB0byBza2lwIHRoZSBhcHBlYXIgdHJhbnNpdGlvbiBkdXJpbmcgdGhlXG4gIC8vIGluaXRpYWwgbW91bnQgb2YgdGhlIGNvbXBvbmVudC5cbiAgY29uc3QgbW91bnRlZCA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbW91bnRlZC5jdXJyZW50ID0gdHJ1ZTtcbiAgfSwgW10pO1xuICBjb25zdCBhbmNob3JJbnZhcmlhbnQgPSBnZXRBbmNob3Ioe1xuICAgIGRpcmVjdGlvbjogaXNSdGwgPyAncnRsJyA6ICdsdHInXG4gIH0sIGFuY2hvclByb3ApO1xuICBjb25zdCBhbmNob3IgPSBhbmNob3JQcm9wO1xuICBjb25zdCBvd25lclN0YXRlID0ge1xuICAgIC4uLnByb3BzLFxuICAgIGFuY2hvcixcbiAgICBlbGV2YXRpb24sXG4gICAgb3BlbixcbiAgICB2YXJpYW50LFxuICAgIC4uLm90aGVyXG4gIH07XG4gIGNvbnN0IGNsYXNzZXMgPSB1c2VVdGlsaXR5Q2xhc3Nlcyhvd25lclN0YXRlKTtcbiAgY29uc3QgZXh0ZXJuYWxGb3J3YXJkZWRQcm9wcyA9IHtcbiAgICBzbG90czoge1xuICAgICAgdHJhbnNpdGlvbjogVHJhbnNpdGlvbkNvbXBvbmVudCxcbiAgICAgIC4uLnNsb3RzXG4gICAgfSxcbiAgICBzbG90UHJvcHM6IHtcbiAgICAgIHBhcGVyOiBQYXBlclByb3BzLFxuICAgICAgdHJhbnNpdGlvbjogU2xpZGVQcm9wcyxcbiAgICAgIC4uLnNsb3RQcm9wcyxcbiAgICAgIGJhY2tkcm9wOiBtZXJnZVNsb3RQcm9wcyhzbG90UHJvcHMuYmFja2Ryb3AgfHwge1xuICAgICAgICAuLi5CYWNrZHJvcFByb3BzLFxuICAgICAgICAuLi5CYWNrZHJvcFByb3BzUHJvcFxuICAgICAgfSwge1xuICAgICAgICB0cmFuc2l0aW9uRHVyYXRpb25cbiAgICAgIH0pXG4gICAgfVxuICB9O1xuICBjb25zdCBbUm9vdFNsb3QsIHJvb3RTbG90UHJvcHNdID0gdXNlU2xvdCgncm9vdCcsIHtcbiAgICByZWYsXG4gICAgZWxlbWVudFR5cGU6IERyYXdlclJvb3QsXG4gICAgY2xhc3NOYW1lOiBjbHN4KGNsYXNzZXMucm9vdCwgY2xhc3Nlcy5tb2RhbCwgY2xhc3NOYW1lKSxcbiAgICBzaG91bGRGb3J3YXJkQ29tcG9uZW50UHJvcDogdHJ1ZSxcbiAgICBvd25lclN0YXRlLFxuICAgIGV4dGVybmFsRm9yd2FyZGVkUHJvcHM6IHtcbiAgICAgIC4uLmV4dGVybmFsRm9yd2FyZGVkUHJvcHMsXG4gICAgICAuLi5vdGhlcixcbiAgICAgIC4uLk1vZGFsUHJvcHNcbiAgICB9LFxuICAgIGFkZGl0aW9uYWxQcm9wczoge1xuICAgICAgb3BlbixcbiAgICAgIG9uQ2xvc2UsXG4gICAgICBoaWRlQmFja2Ryb3AsXG4gICAgICBzbG90czoge1xuICAgICAgICBiYWNrZHJvcDogZXh0ZXJuYWxGb3J3YXJkZWRQcm9wcy5zbG90cy5iYWNrZHJvcFxuICAgICAgfSxcbiAgICAgIHNsb3RQcm9wczoge1xuICAgICAgICBiYWNrZHJvcDogZXh0ZXJuYWxGb3J3YXJkZWRQcm9wcy5zbG90UHJvcHMuYmFja2Ryb3BcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBjb25zdCBbUGFwZXJTbG90LCBwYXBlclNsb3RQcm9wc10gPSB1c2VTbG90KCdwYXBlcicsIHtcbiAgICBlbGVtZW50VHlwZTogRHJhd2VyUGFwZXIsXG4gICAgc2hvdWxkRm9yd2FyZENvbXBvbmVudFByb3A6IHRydWUsXG4gICAgY2xhc3NOYW1lOiBjbHN4KGNsYXNzZXMucGFwZXIsIFBhcGVyUHJvcHMuY2xhc3NOYW1lKSxcbiAgICBvd25lclN0YXRlLFxuICAgIGV4dGVybmFsRm9yd2FyZGVkUHJvcHMsXG4gICAgYWRkaXRpb25hbFByb3BzOiB7XG4gICAgICBlbGV2YXRpb246IHZhcmlhbnQgPT09ICd0ZW1wb3JhcnknID8gZWxldmF0aW9uIDogMCxcbiAgICAgIHNxdWFyZTogdHJ1ZSxcbiAgICAgIC4uLih2YXJpYW50ID09PSAndGVtcG9yYXJ5JyAmJiB7XG4gICAgICAgIHJvbGU6ICdkaWFsb2cnLFxuICAgICAgICAnYXJpYS1tb2RhbCc6ICd0cnVlJ1xuICAgICAgfSlcbiAgICB9XG4gIH0pO1xuICBjb25zdCBbRG9ja2VkU2xvdCwgZG9ja2VkU2xvdFByb3BzXSA9IHVzZVNsb3QoJ2RvY2tlZCcsIHtcbiAgICBlbGVtZW50VHlwZTogRHJhd2VyRG9ja2VkUm9vdCxcbiAgICByZWYsXG4gICAgY2xhc3NOYW1lOiBjbHN4KGNsYXNzZXMucm9vdCwgY2xhc3Nlcy5kb2NrZWQsIGNsYXNzTmFtZSksXG4gICAgb3duZXJTdGF0ZSxcbiAgICBleHRlcm5hbEZvcndhcmRlZFByb3BzLFxuICAgIGFkZGl0aW9uYWxQcm9wczogb3RoZXIgLy8gcGFzcyBgb3RoZXJgIGhlcmUgYmVjYXVzZSBgRG9ja2VkU2xvdGAgaXMgYWxzbyBhIHJvb3Qgc2xvdCBmb3Igc29tZSB2YXJpYW50c1xuICB9KTtcbiAgY29uc3QgW1RyYW5zaXRpb25TbG90LCB0cmFuc2l0aW9uU2xvdFByb3BzXSA9IHVzZVNsb3QoJ3RyYW5zaXRpb24nLCB7XG4gICAgZWxlbWVudFR5cGU6IFNsaWRlLFxuICAgIG93bmVyU3RhdGUsXG4gICAgZXh0ZXJuYWxGb3J3YXJkZWRQcm9wcyxcbiAgICBhZGRpdGlvbmFsUHJvcHM6IHtcbiAgICAgIGluOiBvcGVuLFxuICAgICAgZGlyZWN0aW9uOiBvcHBvc2l0ZURpcmVjdGlvblthbmNob3JJbnZhcmlhbnRdLFxuICAgICAgdGltZW91dDogdHJhbnNpdGlvbkR1cmF0aW9uLFxuICAgICAgYXBwZWFyOiBtb3VudGVkLmN1cnJlbnRcbiAgICB9XG4gIH0pO1xuICBjb25zdCBkcmF3ZXIgPSAvKiNfX1BVUkVfXyovX2pzeChQYXBlclNsb3QsIHtcbiAgICAuLi5wYXBlclNsb3RQcm9wcyxcbiAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgfSk7XG4gIGlmICh2YXJpYW50ID09PSAncGVybWFuZW50Jykge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeChEb2NrZWRTbG90LCB7XG4gICAgICAuLi5kb2NrZWRTbG90UHJvcHMsXG4gICAgICBjaGlsZHJlbjogZHJhd2VyXG4gICAgfSk7XG4gIH1cbiAgY29uc3Qgc2xpZGluZ0RyYXdlciA9IC8qI19fUFVSRV9fKi9fanN4KFRyYW5zaXRpb25TbG90LCB7XG4gICAgLi4udHJhbnNpdGlvblNsb3RQcm9wcyxcbiAgICBjaGlsZHJlbjogZHJhd2VyXG4gIH0pO1xuICBpZiAodmFyaWFudCA9PT0gJ3BlcnNpc3RlbnQnKSB7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KERvY2tlZFNsb3QsIHtcbiAgICAgIC4uLmRvY2tlZFNsb3RQcm9wcyxcbiAgICAgIGNoaWxkcmVuOiBzbGlkaW5nRHJhd2VyXG4gICAgfSk7XG4gIH1cblxuICAvLyB2YXJpYW50ID09PSB0ZW1wb3JhcnlcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KFJvb3RTbG90LCB7XG4gICAgLi4ucm9vdFNsb3RQcm9wcyxcbiAgICBjaGlsZHJlbjogc2xpZGluZ0RyYXdlclxuICB9KTtcbn0pO1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gRHJhd2VyLnByb3BUeXBlcyAvKiByZW1vdmUtcHJvcHR5cGVzICovID0ge1xuICAvLyDilIzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgV2FybmluZyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJBcbiAgLy8g4pSCIFRoZXNlIFByb3BUeXBlcyBhcmUgZ2VuZXJhdGVkIGZyb20gdGhlIFR5cGVTY3JpcHQgdHlwZSBkZWZpbml0aW9ucy4g4pSCXG4gIC8vIOKUgiAgICBUbyB1cGRhdGUgdGhlbSwgZWRpdCB0aGUgZC50cyBmaWxlIGFuZCBydW4gYHBucG0gcHJvcHR5cGVzYC4gICAgIOKUglxuICAvLyDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJhcbiAgLyoqXG4gICAqIFNpZGUgZnJvbSB3aGljaCB0aGUgZHJhd2VyIHdpbGwgYXBwZWFyLlxuICAgKiBAZGVmYXVsdCAnbGVmdCdcbiAgICovXG4gIGFuY2hvcjogUHJvcFR5cGVzLm9uZU9mKFsnYm90dG9tJywgJ2xlZnQnLCAncmlnaHQnLCAndG9wJ10pLFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgQmFja2Ryb3BQcm9wczogUHJvcFR5cGVzLm9iamVjdCxcbiAgLyoqXG4gICAqIFRoZSBjb250ZW50IG9mIHRoZSBjb21wb25lbnQuXG4gICAqL1xuICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUsXG4gIC8qKlxuICAgKiBPdmVycmlkZSBvciBleHRlbmQgdGhlIHN0eWxlcyBhcHBsaWVkIHRvIHRoZSBjb21wb25lbnQuXG4gICAqL1xuICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAvKipcbiAgICogVGhlIGVsZXZhdGlvbiBvZiB0aGUgZHJhd2VyLlxuICAgKiBAZGVmYXVsdCAxNlxuICAgKi9cbiAgZWxldmF0aW9uOiBpbnRlZ2VyUHJvcFR5cGUsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBiYWNrZHJvcCBpcyBub3QgcmVuZGVyZWQuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBoaWRlQmFja2Ryb3A6IFByb3BUeXBlcy5ib29sLFxuICAvKipcbiAgICogUHJvcHMgYXBwbGllZCB0byB0aGUgW2BNb2RhbGBdKGh0dHBzOi8vbXVpLmNvbS9tYXRlcmlhbC11aS9hcGkvbW9kYWwvKSBlbGVtZW50LlxuICAgKiBAZGVmYXVsdCB7fVxuICAgKi9cbiAgTW9kYWxQcm9wczogUHJvcFR5cGVzLm9iamVjdCxcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZpcmVkIHdoZW4gdGhlIGNvbXBvbmVudCByZXF1ZXN0cyB0byBiZSBjbG9zZWQuXG4gICAqIFRoZSBgcmVhc29uYCBwYXJhbWV0ZXIgY2FuIG9wdGlvbmFsbHkgYmUgdXNlZCB0byBjb250cm9sIHRoZSByZXNwb25zZSB0byBgb25DbG9zZWAuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudCBUaGUgZXZlbnQgc291cmNlIG9mIHRoZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHJlYXNvbiBDYW4gYmU6IGBcImVzY2FwZUtleURvd25cImAsIGBcImJhY2tkcm9wQ2xpY2tcImAuXG4gICAqL1xuICBvbkNsb3NlOiBQcm9wVHlwZXMuZnVuYyxcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIGNvbXBvbmVudCBpcyBzaG93bi5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIG9wZW46IFByb3BUeXBlcy5ib29sLFxuICAvKipcbiAgICogUHJvcHMgYXBwbGllZCB0byB0aGUgW2BQYXBlcmBdKGh0dHBzOi8vbXVpLmNvbS9tYXRlcmlhbC11aS9hcGkvcGFwZXIvKSBlbGVtZW50LlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgdGhlIGBzbG90UHJvcHMucGFwZXJgIHByb3AgaW5zdGVhZC4gVGhpcyBwcm9wIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSBtYWpvciByZWxlYXNlLiBTZWUgW01pZ3JhdGluZyBmcm9tIGRlcHJlY2F0ZWQgQVBJc10oaHR0cHM6Ly9tdWkuY29tL21hdGVyaWFsLXVpL21pZ3JhdGlvbi9taWdyYXRpbmctZnJvbS1kZXByZWNhdGVkLWFwaXMvKSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgKiBAZGVmYXVsdCB7fVxuICAgKi9cbiAgUGFwZXJQcm9wczogUHJvcFR5cGVzLm9iamVjdCxcbiAgLyoqXG4gICAqIFByb3BzIGFwcGxpZWQgdG8gdGhlIFtgU2xpZGVgXShodHRwczovL211aS5jb20vbWF0ZXJpYWwtdWkvYXBpL3NsaWRlLykgZWxlbWVudC5cbiAgICogQGRlcHJlY2F0ZWQgdXNlIHRoZSBgc2xvdFByb3BzLnRyYW5zaXRpb25gIHByb3AgaW5zdGVhZC4gVGhpcyBwcm9wIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSBtYWpvciByZWxlYXNlLiBTZWUgW01pZ3JhdGluZyBmcm9tIGRlcHJlY2F0ZWQgQVBJc10oaHR0cHM6Ly9tdWkuY29tL21hdGVyaWFsLXVpL21pZ3JhdGlvbi9taWdyYXRpbmctZnJvbS1kZXByZWNhdGVkLWFwaXMvKSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgKi9cbiAgU2xpZGVQcm9wczogUHJvcFR5cGVzLm9iamVjdCxcbiAgLyoqXG4gICAqIFRoZSBwcm9wcyB1c2VkIGZvciBlYWNoIHNsb3QgaW5zaWRlLlxuICAgKiBAZGVmYXVsdCB7fVxuICAgKi9cbiAgc2xvdFByb3BzOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIGJhY2tkcm9wOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdF0pLFxuICAgIGRvY2tlZDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3RdKSxcbiAgICBwYXBlcjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3RdKSxcbiAgICByb290OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdF0pLFxuICAgIHRyYW5zaXRpb246IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0XSlcbiAgfSksXG4gIC8qKlxuICAgKiBUaGUgY29tcG9uZW50cyB1c2VkIGZvciBlYWNoIHNsb3QgaW5zaWRlLlxuICAgKiBAZGVmYXVsdCB7fVxuICAgKi9cbiAgc2xvdHM6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgYmFja2Ryb3A6IFByb3BUeXBlcy5lbGVtZW50VHlwZSxcbiAgICBkb2NrZWQ6IFByb3BUeXBlcy5lbGVtZW50VHlwZSxcbiAgICBwYXBlcjogUHJvcFR5cGVzLmVsZW1lbnRUeXBlLFxuICAgIHJvb3Q6IFByb3BUeXBlcy5lbGVtZW50VHlwZSxcbiAgICB0cmFuc2l0aW9uOiBQcm9wVHlwZXMuZWxlbWVudFR5cGVcbiAgfSksXG4gIC8qKlxuICAgKiBUaGUgc3lzdGVtIHByb3AgdGhhdCBhbGxvd3MgZGVmaW5pbmcgc3lzdGVtIG92ZXJyaWRlcyBhcyB3ZWxsIGFzIGFkZGl0aW9uYWwgQ1NTIHN0eWxlcy5cbiAgICovXG4gIHN4OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdCwgUHJvcFR5cGVzLmJvb2xdKSksIFByb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0XSksXG4gIC8qKlxuICAgKiBUaGUgZHVyYXRpb24gZm9yIHRoZSB0cmFuc2l0aW9uLCBpbiBtaWxsaXNlY29uZHMuXG4gICAqIFlvdSBtYXkgc3BlY2lmeSBhIHNpbmdsZSB0aW1lb3V0IGZvciBhbGwgdHJhbnNpdGlvbnMsIG9yIGluZGl2aWR1YWxseSB3aXRoIGFuIG9iamVjdC5cbiAgICogQGRlZmF1bHQge1xuICAgKiAgIGVudGVyOiB0aGVtZS50cmFuc2l0aW9ucy5kdXJhdGlvbi5lbnRlcmluZ1NjcmVlbixcbiAgICogICBleGl0OiB0aGVtZS50cmFuc2l0aW9ucy5kdXJhdGlvbi5sZWF2aW5nU2NyZWVuLFxuICAgKiB9XG4gICAqL1xuICB0cmFuc2l0aW9uRHVyYXRpb246IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5udW1iZXIsIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgYXBwZWFyOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIGVudGVyOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIGV4aXQ6IFByb3BUeXBlcy5udW1iZXJcbiAgfSldKSxcbiAgLyoqXG4gICAqIFRoZSB2YXJpYW50IHRvIHVzZS5cbiAgICogQGRlZmF1bHQgJ3RlbXBvcmFyeSdcbiAgICovXG4gIHZhcmlhbnQ6IFByb3BUeXBlcy5vbmVPZihbJ3Blcm1hbmVudCcsICdwZXJzaXN0ZW50JywgJ3RlbXBvcmFyeSddKVxufSA6IHZvaWQgMDtcbmV4cG9ydCBkZWZhdWx0IERyYXdlcjsiLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IFRyYW5zaXRpb24gfSBmcm9tICdyZWFjdC10cmFuc2l0aW9uLWdyb3VwJztcbmltcG9ydCBjaGFpblByb3BUeXBlcyBmcm9tICdAbXVpL3V0aWxzL2NoYWluUHJvcFR5cGVzJztcbmltcG9ydCBIVE1MRWxlbWVudFR5cGUgZnJvbSAnQG11aS91dGlscy9IVE1MRWxlbWVudFR5cGUnO1xuaW1wb3J0IGVsZW1lbnRBY2NlcHRpbmdSZWYgZnJvbSAnQG11aS91dGlscy9lbGVtZW50QWNjZXB0aW5nUmVmJztcbmltcG9ydCBnZXRSZWFjdEVsZW1lbnRSZWYgZnJvbSAnQG11aS91dGlscy9nZXRSZWFjdEVsZW1lbnRSZWYnO1xuaW1wb3J0IGRlYm91bmNlIGZyb20gXCIuLi91dGlscy9kZWJvdW5jZS5qc1wiO1xuaW1wb3J0IHVzZUZvcmtSZWYgZnJvbSBcIi4uL3V0aWxzL3VzZUZvcmtSZWYuanNcIjtcbmltcG9ydCB7IHVzZVRoZW1lIH0gZnJvbSBcIi4uL3plcm8tc3R5bGVkL2luZGV4LmpzXCI7XG5pbXBvcnQgeyByZWZsb3csIGdldFRyYW5zaXRpb25Qcm9wcyB9IGZyb20gXCIuLi90cmFuc2l0aW9ucy91dGlscy5qc1wiO1xuaW1wb3J0IHsgb3duZXJXaW5kb3cgfSBmcm9tIFwiLi4vdXRpbHMvaW5kZXguanNcIjtcblxuLy8gVHJhbnNsYXRlIHRoZSBub2RlIHNvIGl0IGNhbid0IGJlIHNlZW4gb24gdGhlIHNjcmVlbi5cbi8vIExhdGVyLCB3ZSdyZSBnb2luZyB0byB0cmFuc2xhdGUgdGhlIG5vZGUgYmFjayB0byBpdHMgb3JpZ2luYWwgbG9jYXRpb24gd2l0aCBgbm9uZWAuXG5pbXBvcnQgeyBqc3ggYXMgX2pzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZnVuY3Rpb24gZ2V0VHJhbnNsYXRlVmFsdWUoZGlyZWN0aW9uLCBub2RlLCByZXNvbHZlZENvbnRhaW5lcikge1xuICBjb25zdCByZWN0ID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgY29uc3QgY29udGFpbmVyUmVjdCA9IHJlc29sdmVkQ29udGFpbmVyICYmIHJlc29sdmVkQ29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBjb25zdCBjb250YWluZXJXaW5kb3cgPSBvd25lcldpbmRvdyhub2RlKTtcbiAgbGV0IHRyYW5zZm9ybTtcbiAgaWYgKG5vZGUuZmFrZVRyYW5zZm9ybSkge1xuICAgIHRyYW5zZm9ybSA9IG5vZGUuZmFrZVRyYW5zZm9ybTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBjb21wdXRlZFN0eWxlID0gY29udGFpbmVyV2luZG93LmdldENvbXB1dGVkU3R5bGUobm9kZSk7XG4gICAgdHJhbnNmb3JtID0gY29tcHV0ZWRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCctd2Via2l0LXRyYW5zZm9ybScpIHx8IGNvbXB1dGVkU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgndHJhbnNmb3JtJyk7XG4gIH1cbiAgbGV0IG9mZnNldFggPSAwO1xuICBsZXQgb2Zmc2V0WSA9IDA7XG4gIGlmICh0cmFuc2Zvcm0gJiYgdHJhbnNmb3JtICE9PSAnbm9uZScgJiYgdHlwZW9mIHRyYW5zZm9ybSA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25zdCB0cmFuc2Zvcm1WYWx1ZXMgPSB0cmFuc2Zvcm0uc3BsaXQoJygnKVsxXS5zcGxpdCgnKScpWzBdLnNwbGl0KCcsJyk7XG4gICAgb2Zmc2V0WCA9IHBhcnNlSW50KHRyYW5zZm9ybVZhbHVlc1s0XSwgMTApO1xuICAgIG9mZnNldFkgPSBwYXJzZUludCh0cmFuc2Zvcm1WYWx1ZXNbNV0sIDEwKTtcbiAgfVxuICBpZiAoZGlyZWN0aW9uID09PSAnbGVmdCcpIHtcbiAgICBpZiAoY29udGFpbmVyUmVjdCkge1xuICAgICAgcmV0dXJuIGB0cmFuc2xhdGVYKCR7Y29udGFpbmVyUmVjdC5yaWdodCArIG9mZnNldFggLSByZWN0LmxlZnR9cHgpYDtcbiAgICB9XG4gICAgcmV0dXJuIGB0cmFuc2xhdGVYKCR7Y29udGFpbmVyV2luZG93LmlubmVyV2lkdGggKyBvZmZzZXRYIC0gcmVjdC5sZWZ0fXB4KWA7XG4gIH1cbiAgaWYgKGRpcmVjdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgIGlmIChjb250YWluZXJSZWN0KSB7XG4gICAgICByZXR1cm4gYHRyYW5zbGF0ZVgoLSR7cmVjdC5yaWdodCAtIGNvbnRhaW5lclJlY3QubGVmdCAtIG9mZnNldFh9cHgpYDtcbiAgICB9XG4gICAgcmV0dXJuIGB0cmFuc2xhdGVYKC0ke3JlY3QubGVmdCArIHJlY3Qud2lkdGggLSBvZmZzZXRYfXB4KWA7XG4gIH1cbiAgaWYgKGRpcmVjdGlvbiA9PT0gJ3VwJykge1xuICAgIGlmIChjb250YWluZXJSZWN0KSB7XG4gICAgICByZXR1cm4gYHRyYW5zbGF0ZVkoJHtjb250YWluZXJSZWN0LmJvdHRvbSArIG9mZnNldFkgLSByZWN0LnRvcH1weClgO1xuICAgIH1cbiAgICByZXR1cm4gYHRyYW5zbGF0ZVkoJHtjb250YWluZXJXaW5kb3cuaW5uZXJIZWlnaHQgKyBvZmZzZXRZIC0gcmVjdC50b3B9cHgpYDtcbiAgfVxuXG4gIC8vIGRpcmVjdGlvbiA9PT0gJ2Rvd24nXG4gIGlmIChjb250YWluZXJSZWN0KSB7XG4gICAgcmV0dXJuIGB0cmFuc2xhdGVZKC0ke3JlY3QudG9wIC0gY29udGFpbmVyUmVjdC50b3AgKyByZWN0LmhlaWdodCAtIG9mZnNldFl9cHgpYDtcbiAgfVxuICByZXR1cm4gYHRyYW5zbGF0ZVkoLSR7cmVjdC50b3AgKyByZWN0LmhlaWdodCAtIG9mZnNldFl9cHgpYDtcbn1cbmZ1bmN0aW9uIHJlc29sdmVDb250YWluZXIoY29udGFpbmVyUHJvcFByb3ApIHtcbiAgcmV0dXJuIHR5cGVvZiBjb250YWluZXJQcm9wUHJvcCA9PT0gJ2Z1bmN0aW9uJyA/IGNvbnRhaW5lclByb3BQcm9wKCkgOiBjb250YWluZXJQcm9wUHJvcDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXRUcmFuc2xhdGVWYWx1ZShkaXJlY3Rpb24sIG5vZGUsIGNvbnRhaW5lclByb3ApIHtcbiAgY29uc3QgcmVzb2x2ZWRDb250YWluZXIgPSByZXNvbHZlQ29udGFpbmVyKGNvbnRhaW5lclByb3ApO1xuICBjb25zdCB0cmFuc2Zvcm0gPSBnZXRUcmFuc2xhdGVWYWx1ZShkaXJlY3Rpb24sIG5vZGUsIHJlc29sdmVkQ29udGFpbmVyKTtcbiAgaWYgKHRyYW5zZm9ybSkge1xuICAgIG5vZGUuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgIG5vZGUuc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICB9XG59XG5cbi8qKlxuICogVGhlIFNsaWRlIHRyYW5zaXRpb24gaXMgdXNlZCBieSB0aGUgW0RyYXdlcl0oL21hdGVyaWFsLXVpL3JlYWN0LWRyYXdlci8pIGNvbXBvbmVudC5cbiAqIEl0IHVzZXMgW3JlYWN0LXRyYW5zaXRpb24tZ3JvdXBdKGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdGpzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXApIGludGVybmFsbHkuXG4gKi9cbmNvbnN0IFNsaWRlID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gU2xpZGUocHJvcHMsIHJlZikge1xuICBjb25zdCB0aGVtZSA9IHVzZVRoZW1lKCk7XG4gIGNvbnN0IGRlZmF1bHRFYXNpbmcgPSB7XG4gICAgZW50ZXI6IHRoZW1lLnRyYW5zaXRpb25zLmVhc2luZy5lYXNlT3V0LFxuICAgIGV4aXQ6IHRoZW1lLnRyYW5zaXRpb25zLmVhc2luZy5zaGFycFxuICB9O1xuICBjb25zdCBkZWZhdWx0VGltZW91dCA9IHtcbiAgICBlbnRlcjogdGhlbWUudHJhbnNpdGlvbnMuZHVyYXRpb24uZW50ZXJpbmdTY3JlZW4sXG4gICAgZXhpdDogdGhlbWUudHJhbnNpdGlvbnMuZHVyYXRpb24ubGVhdmluZ1NjcmVlblxuICB9O1xuICBjb25zdCB7XG4gICAgYWRkRW5kTGlzdGVuZXIsXG4gICAgYXBwZWFyID0gdHJ1ZSxcbiAgICBjaGlsZHJlbixcbiAgICBjb250YWluZXI6IGNvbnRhaW5lclByb3AsXG4gICAgZGlyZWN0aW9uID0gJ2Rvd24nLFxuICAgIGVhc2luZzogZWFzaW5nUHJvcCA9IGRlZmF1bHRFYXNpbmcsXG4gICAgaW46IGluUHJvcCxcbiAgICBvbkVudGVyLFxuICAgIG9uRW50ZXJlZCxcbiAgICBvbkVudGVyaW5nLFxuICAgIG9uRXhpdCxcbiAgICBvbkV4aXRlZCxcbiAgICBvbkV4aXRpbmcsXG4gICAgc3R5bGUsXG4gICAgdGltZW91dCA9IGRlZmF1bHRUaW1lb3V0LFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9wcm9wLXR5cGVzXG4gICAgVHJhbnNpdGlvbkNvbXBvbmVudCA9IFRyYW5zaXRpb24sXG4gICAgLi4ub3RoZXJcbiAgfSA9IHByb3BzO1xuICBjb25zdCBjaGlsZHJlblJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgY29uc3QgaGFuZGxlUmVmID0gdXNlRm9ya1JlZihnZXRSZWFjdEVsZW1lbnRSZWYoY2hpbGRyZW4pLCBjaGlsZHJlblJlZiwgcmVmKTtcbiAgY29uc3Qgbm9ybWFsaXplZFRyYW5zaXRpb25DYWxsYmFjayA9IGNhbGxiYWNrID0+IGlzQXBwZWFyaW5nID0+IHtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIC8vIG9uRW50ZXJYeHggYW5kIG9uRXhpdFh4eCBjYWxsYmFja3MgaGF2ZSBhIGRpZmZlcmVudCBhcmd1bWVudHMubGVuZ3RoIHZhbHVlLlxuICAgICAgaWYgKGlzQXBwZWFyaW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY2FsbGJhY2soY2hpbGRyZW5SZWYuY3VycmVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayhjaGlsZHJlblJlZi5jdXJyZW50LCBpc0FwcGVhcmluZyk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBoYW5kbGVFbnRlciA9IG5vcm1hbGl6ZWRUcmFuc2l0aW9uQ2FsbGJhY2soKG5vZGUsIGlzQXBwZWFyaW5nKSA9PiB7XG4gICAgc2V0VHJhbnNsYXRlVmFsdWUoZGlyZWN0aW9uLCBub2RlLCBjb250YWluZXJQcm9wKTtcbiAgICByZWZsb3cobm9kZSk7XG4gICAgaWYgKG9uRW50ZXIpIHtcbiAgICAgIG9uRW50ZXIobm9kZSwgaXNBcHBlYXJpbmcpO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IGhhbmRsZUVudGVyaW5nID0gbm9ybWFsaXplZFRyYW5zaXRpb25DYWxsYmFjaygobm9kZSwgaXNBcHBlYXJpbmcpID0+IHtcbiAgICBjb25zdCB0cmFuc2l0aW9uUHJvcHMgPSBnZXRUcmFuc2l0aW9uUHJvcHMoe1xuICAgICAgdGltZW91dCxcbiAgICAgIHN0eWxlLFxuICAgICAgZWFzaW5nOiBlYXNpbmdQcm9wXG4gICAgfSwge1xuICAgICAgbW9kZTogJ2VudGVyJ1xuICAgIH0pO1xuICAgIG5vZGUuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IHRoZW1lLnRyYW5zaXRpb25zLmNyZWF0ZSgnLXdlYmtpdC10cmFuc2Zvcm0nLCB7XG4gICAgICAuLi50cmFuc2l0aW9uUHJvcHNcbiAgICB9KTtcbiAgICBub2RlLnN0eWxlLnRyYW5zaXRpb24gPSB0aGVtZS50cmFuc2l0aW9ucy5jcmVhdGUoJ3RyYW5zZm9ybScsIHtcbiAgICAgIC4uLnRyYW5zaXRpb25Qcm9wc1xuICAgIH0pO1xuICAgIG5vZGUuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gJ25vbmUnO1xuICAgIG5vZGUuc3R5bGUudHJhbnNmb3JtID0gJ25vbmUnO1xuICAgIGlmIChvbkVudGVyaW5nKSB7XG4gICAgICBvbkVudGVyaW5nKG5vZGUsIGlzQXBwZWFyaW5nKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBoYW5kbGVFbnRlcmVkID0gbm9ybWFsaXplZFRyYW5zaXRpb25DYWxsYmFjayhvbkVudGVyZWQpO1xuICBjb25zdCBoYW5kbGVFeGl0aW5nID0gbm9ybWFsaXplZFRyYW5zaXRpb25DYWxsYmFjayhvbkV4aXRpbmcpO1xuICBjb25zdCBoYW5kbGVFeGl0ID0gbm9ybWFsaXplZFRyYW5zaXRpb25DYWxsYmFjayhub2RlID0+IHtcbiAgICBjb25zdCB0cmFuc2l0aW9uUHJvcHMgPSBnZXRUcmFuc2l0aW9uUHJvcHMoe1xuICAgICAgdGltZW91dCxcbiAgICAgIHN0eWxlLFxuICAgICAgZWFzaW5nOiBlYXNpbmdQcm9wXG4gICAgfSwge1xuICAgICAgbW9kZTogJ2V4aXQnXG4gICAgfSk7XG4gICAgbm9kZS5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gdGhlbWUudHJhbnNpdGlvbnMuY3JlYXRlKCctd2Via2l0LXRyYW5zZm9ybScsIHRyYW5zaXRpb25Qcm9wcyk7XG4gICAgbm9kZS5zdHlsZS50cmFuc2l0aW9uID0gdGhlbWUudHJhbnNpdGlvbnMuY3JlYXRlKCd0cmFuc2Zvcm0nLCB0cmFuc2l0aW9uUHJvcHMpO1xuICAgIHNldFRyYW5zbGF0ZVZhbHVlKGRpcmVjdGlvbiwgbm9kZSwgY29udGFpbmVyUHJvcCk7XG4gICAgaWYgKG9uRXhpdCkge1xuICAgICAgb25FeGl0KG5vZGUpO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IGhhbmRsZUV4aXRlZCA9IG5vcm1hbGl6ZWRUcmFuc2l0aW9uQ2FsbGJhY2sobm9kZSA9PiB7XG4gICAgLy8gTm8gbmVlZCBmb3IgdHJhbnNpdGlvbnMgd2hlbiB0aGUgY29tcG9uZW50IGlzIGhpZGRlblxuICAgIG5vZGUuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9ICcnO1xuICAgIG5vZGUuc3R5bGUudHJhbnNpdGlvbiA9ICcnO1xuICAgIGlmIChvbkV4aXRlZCkge1xuICAgICAgb25FeGl0ZWQobm9kZSk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgaGFuZGxlQWRkRW5kTGlzdGVuZXIgPSBuZXh0ID0+IHtcbiAgICBpZiAoYWRkRW5kTGlzdGVuZXIpIHtcbiAgICAgIC8vIE9sZCBjYWxsIHNpZ25hdHVyZSBiZWZvcmUgYHJlYWN0LXRyYW5zaXRpb24tZ3JvdXBgIGltcGxlbWVudGVkIGBub2RlUmVmYFxuICAgICAgYWRkRW5kTGlzdGVuZXIoY2hpbGRyZW5SZWYuY3VycmVudCwgbmV4dCk7XG4gICAgfVxuICB9O1xuICBjb25zdCB1cGRhdGVQb3NpdGlvbiA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoY2hpbGRyZW5SZWYuY3VycmVudCkge1xuICAgICAgc2V0VHJhbnNsYXRlVmFsdWUoZGlyZWN0aW9uLCBjaGlsZHJlblJlZi5jdXJyZW50LCBjb250YWluZXJQcm9wKTtcbiAgICB9XG4gIH0sIFtkaXJlY3Rpb24sIGNvbnRhaW5lclByb3BdKTtcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBTa2lwIGNvbmZpZ3VyYXRpb24gd2hlcmUgdGhlIHBvc2l0aW9uIGlzIHNjcmVlbiBzaXplIGludmFyaWFudC5cbiAgICBpZiAoaW5Qcm9wIHx8IGRpcmVjdGlvbiA9PT0gJ2Rvd24nIHx8IGRpcmVjdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3QgaGFuZGxlUmVzaXplID0gZGVib3VuY2UoKCkgPT4ge1xuICAgICAgaWYgKGNoaWxkcmVuUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgc2V0VHJhbnNsYXRlVmFsdWUoZGlyZWN0aW9uLCBjaGlsZHJlblJlZi5jdXJyZW50LCBjb250YWluZXJQcm9wKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBjb250YWluZXJXaW5kb3cgPSBvd25lcldpbmRvdyhjaGlsZHJlblJlZi5jdXJyZW50KTtcbiAgICBjb250YWluZXJXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaGFuZGxlUmVzaXplKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaGFuZGxlUmVzaXplLmNsZWFyKCk7XG4gICAgICBjb250YWluZXJXaW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaGFuZGxlUmVzaXplKTtcbiAgICB9O1xuICB9LCBbZGlyZWN0aW9uLCBpblByb3AsIGNvbnRhaW5lclByb3BdKTtcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWluUHJvcCkge1xuICAgICAgLy8gV2UgbmVlZCB0byB1cGRhdGUgdGhlIHBvc2l0aW9uIG9mIHRoZSBkcmF3ZXIgd2hlbiB0aGUgZGlyZWN0aW9uIGNoYW5nZSBhbmRcbiAgICAgIC8vIHdoZW4gaXQncyBoaWRkZW4uXG4gICAgICB1cGRhdGVQb3NpdGlvbigpO1xuICAgIH1cbiAgfSwgW2luUHJvcCwgdXBkYXRlUG9zaXRpb25dKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KFRyYW5zaXRpb25Db21wb25lbnQsIHtcbiAgICBub2RlUmVmOiBjaGlsZHJlblJlZixcbiAgICBvbkVudGVyOiBoYW5kbGVFbnRlcixcbiAgICBvbkVudGVyZWQ6IGhhbmRsZUVudGVyZWQsXG4gICAgb25FbnRlcmluZzogaGFuZGxlRW50ZXJpbmcsXG4gICAgb25FeGl0OiBoYW5kbGVFeGl0LFxuICAgIG9uRXhpdGVkOiBoYW5kbGVFeGl0ZWQsXG4gICAgb25FeGl0aW5nOiBoYW5kbGVFeGl0aW5nLFxuICAgIGFkZEVuZExpc3RlbmVyOiBoYW5kbGVBZGRFbmRMaXN0ZW5lcixcbiAgICBhcHBlYXI6IGFwcGVhcixcbiAgICBpbjogaW5Qcm9wLFxuICAgIHRpbWVvdXQ6IHRpbWVvdXQsXG4gICAgLi4ub3RoZXIsXG4gICAgY2hpbGRyZW46IChzdGF0ZSwge1xuICAgICAgb3duZXJTdGF0ZSxcbiAgICAgIC4uLnJlc3RDaGlsZFByb3BzXG4gICAgfSkgPT4ge1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGRyZW4sIHtcbiAgICAgICAgcmVmOiBoYW5kbGVSZWYsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgdmlzaWJpbGl0eTogc3RhdGUgPT09ICdleGl0ZWQnICYmICFpblByb3AgPyAnaGlkZGVuJyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAuLi5zdHlsZSxcbiAgICAgICAgICAuLi5jaGlsZHJlbi5wcm9wcy5zdHlsZVxuICAgICAgICB9LFxuICAgICAgICAuLi5yZXN0Q2hpbGRQcm9wc1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn0pO1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gU2xpZGUucHJvcFR5cGVzIC8qIHJlbW92ZS1wcm9wdHlwZXMgKi8gPSB7XG4gIC8vIOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBXYXJuaW5nIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuICAvLyDilIIgVGhlc2UgUHJvcFR5cGVzIGFyZSBnZW5lcmF0ZWQgZnJvbSB0aGUgVHlwZVNjcmlwdCB0eXBlIGRlZmluaXRpb25zLiDilIJcbiAgLy8g4pSCICAgIFRvIHVwZGF0ZSB0aGVtLCBlZGl0IHRoZSBkLnRzIGZpbGUgYW5kIHJ1biBgcG5wbSBwcm9wdHlwZXNgLiAgICAg4pSCXG4gIC8vIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmFxuICAvKipcbiAgICogQWRkIGEgY3VzdG9tIHRyYW5zaXRpb24gZW5kIHRyaWdnZXIuIENhbGxlZCB3aXRoIHRoZSB0cmFuc2l0aW9uaW5nIERPTVxuICAgKiBub2RlIGFuZCBhIGRvbmUgY2FsbGJhY2suIEFsbG93cyBmb3IgbW9yZSBmaW5lIGdyYWluZWQgdHJhbnNpdGlvbiBlbmRcbiAgICogbG9naWMuIE5vdGU6IFRpbWVvdXRzIGFyZSBzdGlsbCB1c2VkIGFzIGEgZmFsbGJhY2sgaWYgcHJvdmlkZWQuXG4gICAqL1xuICBhZGRFbmRMaXN0ZW5lcjogUHJvcFR5cGVzLmZ1bmMsXG4gIC8qKlxuICAgKiBQZXJmb3JtIHRoZSBlbnRlciB0cmFuc2l0aW9uIHdoZW4gaXQgZmlyc3QgbW91bnRzIGlmIGBpbmAgaXMgYWxzbyBgdHJ1ZWAuXG4gICAqIFNldCB0aGlzIHRvIGBmYWxzZWAgdG8gZGlzYWJsZSB0aGlzIGJlaGF2aW9yLlxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICBhcHBlYXI6IFByb3BUeXBlcy5ib29sLFxuICAvKipcbiAgICogQSBzaW5nbGUgY2hpbGQgY29udGVudCBlbGVtZW50LlxuICAgKi9cbiAgY2hpbGRyZW46IGVsZW1lbnRBY2NlcHRpbmdSZWYuaXNSZXF1aXJlZCxcbiAgLyoqXG4gICAqIEFuIEhUTUwgZWxlbWVudCwgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgb25lLlxuICAgKiBJdCdzIHVzZWQgdG8gc2V0IHRoZSBjb250YWluZXIgdGhlIFNsaWRlIGlzIHRyYW5zaXRpb25pbmcgZnJvbS5cbiAgICovXG4gIGNvbnRhaW5lcjogY2hhaW5Qcm9wVHlwZXMoUHJvcFR5cGVzLm9uZU9mVHlwZShbSFRNTEVsZW1lbnRUeXBlLCBQcm9wVHlwZXMuZnVuY10pLCBwcm9wcyA9PiB7XG4gICAgaWYgKHByb3BzLm9wZW4pIHtcbiAgICAgIGNvbnN0IHJlc29sdmVkQ29udGFpbmVyID0gcmVzb2x2ZUNvbnRhaW5lcihwcm9wcy5jb250YWluZXIpO1xuICAgICAgaWYgKHJlc29sdmVkQ29udGFpbmVyICYmIHJlc29sdmVkQ29udGFpbmVyLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgIGNvbnN0IGJveCA9IHJlc29sdmVkQ29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICd0ZXN0JyAmJiBib3gudG9wID09PSAwICYmIGJveC5sZWZ0ID09PSAwICYmIGJveC5yaWdodCA9PT0gMCAmJiBib3guYm90dG9tID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihbJ01VSTogVGhlIGBjb250YWluZXJgIHByb3AgcHJvdmlkZWQgdG8gdGhlIGNvbXBvbmVudCBpcyBpbnZhbGlkLicsICdUaGUgYW5jaG9yIGVsZW1lbnQgc2hvdWxkIGJlIHBhcnQgb2YgdGhlIGRvY3VtZW50IGxheW91dC4nLCBcIk1ha2Ugc3VyZSB0aGUgZWxlbWVudCBpcyBwcmVzZW50IGluIHRoZSBkb2N1bWVudCBvciB0aGF0IGl0J3Mgbm90IGRpc3BsYXkgbm9uZS5cIl0uam9pbignXFxuJykpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFyZXNvbHZlZENvbnRhaW5lciB8fCB0eXBlb2YgcmVzb2x2ZWRDb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0ICE9PSAnZnVuY3Rpb24nIHx8IHJlc29sdmVkQ29udGFpbmVyLmNvbnRleHRFbGVtZW50ICE9IG51bGwgJiYgcmVzb2x2ZWRDb250YWluZXIuY29udGV4dEVsZW1lbnQubm9kZVR5cGUgIT09IDEpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihbJ01VSTogVGhlIGBjb250YWluZXJgIHByb3AgcHJvdmlkZWQgdG8gdGhlIGNvbXBvbmVudCBpcyBpbnZhbGlkLicsICdJdCBzaG91bGQgYmUgYW4gSFRNTCBlbGVtZW50IGluc3RhbmNlLiddLmpvaW4oJ1xcbicpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0pLFxuICAvKipcbiAgICogRGlyZWN0aW9uIHRoZSBjaGlsZCBub2RlIHdpbGwgZW50ZXIgZnJvbS5cbiAgICogQGRlZmF1bHQgJ2Rvd24nXG4gICAqL1xuICBkaXJlY3Rpb246IFByb3BUeXBlcy5vbmVPZihbJ2Rvd24nLCAnbGVmdCcsICdyaWdodCcsICd1cCddKSxcbiAgLyoqXG4gICAqIFRoZSB0cmFuc2l0aW9uIHRpbWluZyBmdW5jdGlvbi5cbiAgICogWW91IG1heSBzcGVjaWZ5IGEgc2luZ2xlIGVhc2luZyBvciBhIG9iamVjdCBjb250YWluaW5nIGVudGVyIGFuZCBleGl0IHZhbHVlcy5cbiAgICogQGRlZmF1bHQge1xuICAgKiAgIGVudGVyOiB0aGVtZS50cmFuc2l0aW9ucy5lYXNpbmcuZWFzZU91dCxcbiAgICogICBleGl0OiB0aGVtZS50cmFuc2l0aW9ucy5lYXNpbmcuc2hhcnAsXG4gICAqIH1cbiAgICovXG4gIGVhc2luZzogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBlbnRlcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBleGl0OiBQcm9wVHlwZXMuc3RyaW5nXG4gIH0pLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBjb21wb25lbnQgd2lsbCB0cmFuc2l0aW9uIGluLlxuICAgKi9cbiAgaW46IFByb3BUeXBlcy5ib29sLFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgb25FbnRlcjogUHJvcFR5cGVzLmZ1bmMsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBvbkVudGVyZWQ6IFByb3BUeXBlcy5mdW5jLFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgb25FbnRlcmluZzogUHJvcFR5cGVzLmZ1bmMsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBvbkV4aXQ6IFByb3BUeXBlcy5mdW5jLFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgb25FeGl0ZWQ6IFByb3BUeXBlcy5mdW5jLFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgb25FeGl0aW5nOiBQcm9wVHlwZXMuZnVuYyxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIHN0eWxlOiBQcm9wVHlwZXMub2JqZWN0LFxuICAvKipcbiAgICogVGhlIGR1cmF0aW9uIGZvciB0aGUgdHJhbnNpdGlvbiwgaW4gbWlsbGlzZWNvbmRzLlxuICAgKiBZb3UgbWF5IHNwZWNpZnkgYSBzaW5nbGUgdGltZW91dCBmb3IgYWxsIHRyYW5zaXRpb25zLCBvciBpbmRpdmlkdWFsbHkgd2l0aCBhbiBvYmplY3QuXG4gICAqIEBkZWZhdWx0IHtcbiAgICogICBlbnRlcjogdGhlbWUudHJhbnNpdGlvbnMuZHVyYXRpb24uZW50ZXJpbmdTY3JlZW4sXG4gICAqICAgZXhpdDogdGhlbWUudHJhbnNpdGlvbnMuZHVyYXRpb24ubGVhdmluZ1NjcmVlbixcbiAgICogfVxuICAgKi9cbiAgdGltZW91dDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBhcHBlYXI6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgZW50ZXI6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgZXhpdDogUHJvcFR5cGVzLm51bWJlclxuICB9KV0pXG59IDogdm9pZCAwO1xuZXhwb3J0IGRlZmF1bHQgU2xpZGU7IiwKICAgICJpbXBvcnQgZ2VuZXJhdGVVdGlsaXR5Q2xhc3NlcyBmcm9tICdAbXVpL3V0aWxzL2dlbmVyYXRlVXRpbGl0eUNsYXNzZXMnO1xuaW1wb3J0IGdlbmVyYXRlVXRpbGl0eUNsYXNzIGZyb20gJ0BtdWkvdXRpbHMvZ2VuZXJhdGVVdGlsaXR5Q2xhc3MnO1xuZXhwb3J0IGZ1bmN0aW9uIGdldERyYXdlclV0aWxpdHlDbGFzcyhzbG90KSB7XG4gIHJldHVybiBnZW5lcmF0ZVV0aWxpdHlDbGFzcygnTXVpRHJhd2VyJywgc2xvdCk7XG59XG5jb25zdCBkcmF3ZXJDbGFzc2VzID0gZ2VuZXJhdGVVdGlsaXR5Q2xhc3NlcygnTXVpRHJhd2VyJywgWydyb290JywgJ2RvY2tlZCcsICdwYXBlcicsICdhbmNob3JMZWZ0JywgJ2FuY2hvclJpZ2h0JywgJ2FuY2hvclRvcCcsICdhbmNob3JCb3R0b20nLCAncGFwZXJBbmNob3JMZWZ0JywgJ3BhcGVyQW5jaG9yUmlnaHQnLCAncGFwZXJBbmNob3JUb3AnLCAncGFwZXJBbmNob3JCb3R0b20nLCAncGFwZXJBbmNob3JEb2NrZWRMZWZ0JywgJ3BhcGVyQW5jaG9yRG9ja2VkUmlnaHQnLCAncGFwZXJBbmNob3JEb2NrZWRUb3AnLCAncGFwZXJBbmNob3JEb2NrZWRCb3R0b20nLCAnbW9kYWwnXSk7XG5leHBvcnQgZGVmYXVsdCBkcmF3ZXJDbGFzc2VzOyIsCiAgICAiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgY3JlYXRlR3JpZCB9IGZyb20gJ0BtdWkvc3lzdGVtL0dyaWQnO1xuaW1wb3J0IHJlcXVpcmVQcm9wRmFjdG9yeSBmcm9tIFwiLi4vdXRpbHMvcmVxdWlyZVByb3BGYWN0b3J5LmpzXCI7XG5pbXBvcnQgeyBzdHlsZWQgfSBmcm9tIFwiLi4vc3R5bGVzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyB1c2VEZWZhdWx0UHJvcHMgfSBmcm9tIFwiLi4vRGVmYXVsdFByb3BzUHJvdmlkZXIvaW5kZXguanNcIjtcbmltcG9ydCB1c2VUaGVtZSBmcm9tIFwiLi4vc3R5bGVzL3VzZVRoZW1lLmpzXCI7XG4vKipcbiAqXG4gKiBEZW1vczpcbiAqXG4gKiAtIFtHcmlkXShodHRwczovL211aS5jb20vbWF0ZXJpYWwtdWkvcmVhY3QtZ3JpZC8pXG4gKlxuICogQVBJOlxuICpcbiAqIC0gW0dyaWQgQVBJXShodHRwczovL211aS5jb20vbWF0ZXJpYWwtdWkvYXBpL2dyaWQvKVxuICovXG5jb25zdCBHcmlkID0gY3JlYXRlR3JpZCh7XG4gIGNyZWF0ZVN0eWxlZENvbXBvbmVudDogc3R5bGVkKCdkaXYnLCB7XG4gICAgbmFtZTogJ011aUdyaWQnLFxuICAgIHNsb3Q6ICdSb290JyxcbiAgICBvdmVycmlkZXNSZXNvbHZlcjogKHByb3BzLCBzdHlsZXMpID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgb3duZXJTdGF0ZVxuICAgICAgfSA9IHByb3BzO1xuICAgICAgcmV0dXJuIFtzdHlsZXMucm9vdCwgb3duZXJTdGF0ZS5jb250YWluZXIgJiYgc3R5bGVzLmNvbnRhaW5lcl07XG4gICAgfVxuICB9KSxcbiAgY29tcG9uZW50TmFtZTogJ011aUdyaWQnLFxuICB1c2VUaGVtZVByb3BzOiBpblByb3BzID0+IHVzZURlZmF1bHRQcm9wcyh7XG4gICAgcHJvcHM6IGluUHJvcHMsXG4gICAgbmFtZTogJ011aUdyaWQnXG4gIH0pLFxuICB1c2VUaGVtZVxufSk7XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBHcmlkLnByb3BUeXBlcyAvKiByZW1vdmUtcHJvcHR5cGVzICovID0ge1xuICAvLyDilIzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgV2FybmluZyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJBcbiAgLy8g4pSCIFRoZXNlIFByb3BUeXBlcyBhcmUgZ2VuZXJhdGVkIGZyb20gdGhlIFR5cGVTY3JpcHQgdHlwZSBkZWZpbml0aW9ucy4g4pSCXG4gIC8vIOKUgiBUbyB1cGRhdGUgdGhlbSwgZWRpdCB0aGUgVHlwZVNjcmlwdCB0eXBlcyBhbmQgcnVuIGBwbnBtIHByb3B0eXBlc2AuIOKUglxuICAvLyDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJhcbiAgLyoqXG4gICAqIFRoZSBjb250ZW50IG9mIHRoZSBjb21wb25lbnQuXG4gICAqL1xuICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUsXG4gIC8qKlxuICAgKiBUaGUgbnVtYmVyIG9mIGNvbHVtbnMuXG4gICAqIEBkZWZhdWx0IDEyXG4gICAqL1xuICBjb2x1bW5zOiBQcm9wVHlwZXMgLyogQHR5cGVzY3JpcHQtdG8tcHJvcHR5cGVzLWlnbm9yZSAqLy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5udW1iZXIpLCBQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMub2JqZWN0XSksXG4gIC8qKlxuICAgKiBEZWZpbmVzIHRoZSBob3Jpem9udGFsIHNwYWNlIGJldHdlZW4gdGhlIHR5cGUgYGl0ZW1gIGNvbXBvbmVudHMuXG4gICAqIEl0IG92ZXJyaWRlcyB0aGUgdmFsdWUgb2YgdGhlIGBzcGFjaW5nYCBwcm9wLlxuICAgKi9cbiAgY29sdW1uU3BhY2luZzogUHJvcFR5cGVzIC8qIEB0eXBlc2NyaXB0LXRvLXByb3B0eXBlcy1pZ25vcmUgKi8ub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMuc3RyaW5nXSkpLCBQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMub2JqZWN0LCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBjb21wb25lbnQgd2lsbCBoYXZlIHRoZSBmbGV4ICpjb250YWluZXIqIGJlaGF2aW9yLlxuICAgKiBZb3Ugc2hvdWxkIGJlIHdyYXBwaW5nICppdGVtcyogd2l0aCBhICpjb250YWluZXIqLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgY29udGFpbmVyOiBQcm9wVHlwZXMuYm9vbCxcbiAgLyoqXG4gICAqIERlZmluZXMgdGhlIGBmbGV4LWRpcmVjdGlvbmAgc3R5bGUgcHJvcGVydHkuXG4gICAqIEl0IGlzIGFwcGxpZWQgZm9yIGFsbCBzY3JlZW4gc2l6ZXMuXG4gICAqIEBkZWZhdWx0ICdyb3cnXG4gICAqL1xuICBkaXJlY3Rpb246IFByb3BUeXBlcyAvKiBAdHlwZXNjcmlwdC10by1wcm9wdHlwZXMtaWdub3JlICovLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnY29sdW1uLXJldmVyc2UnLCAnY29sdW1uJywgJ3Jvdy1yZXZlcnNlJywgJ3JvdyddKSwgUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mKFsnY29sdW1uLXJldmVyc2UnLCAnY29sdW1uJywgJ3Jvdy1yZXZlcnNlJywgJ3JvdyddKSksIFByb3BUeXBlcy5vYmplY3RdKSxcbiAgLyoqXG4gICAqIERlZmluZXMgdGhlIG9mZnNldCB2YWx1ZSBmb3IgdGhlIHR5cGUgYGl0ZW1gIGNvbXBvbmVudHMuXG4gICAqL1xuICBvZmZzZXQ6IFByb3BUeXBlcyAvKiBAdHlwZXNjcmlwdC10by1wcm9wdHlwZXMtaWdub3JlICovLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm51bWJlcl0pKSwgUHJvcFR5cGVzLm9iamVjdF0pLFxuICAvKipcbiAgICogRGVmaW5lcyB0aGUgdmVydGljYWwgc3BhY2UgYmV0d2VlbiB0aGUgdHlwZSBgaXRlbWAgY29tcG9uZW50cy5cbiAgICogSXQgb3ZlcnJpZGVzIHRoZSB2YWx1ZSBvZiB0aGUgYHNwYWNpbmdgIHByb3AuXG4gICAqL1xuICByb3dTcGFjaW5nOiBQcm9wVHlwZXMgLyogQHR5cGVzY3JpcHQtdG8tcHJvcHR5cGVzLWlnbm9yZSAqLy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5udW1iZXIsIFByb3BUeXBlcy5zdHJpbmddKSksIFByb3BUeXBlcy5udW1iZXIsIFByb3BUeXBlcy5vYmplY3QsIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgLyoqXG4gICAqIERlZmluZXMgdGhlIHNpemUgb2YgdGhlIHRoZSB0eXBlIGBpdGVtYCBjb21wb25lbnRzLlxuICAgKi9cbiAgc2l6ZTogUHJvcFR5cGVzIC8qIEB0eXBlc2NyaXB0LXRvLXByb3B0eXBlcy1pZ25vcmUgKi8ub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuYm9vbCwgUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmJvb2wsIFByb3BUeXBlcy5udW1iZXJdKSksIFByb3BUeXBlcy5vYmplY3RdKSxcbiAgLyoqXG4gICAqIERlZmluZXMgdGhlIHNwYWNlIGJldHdlZW4gdGhlIHR5cGUgYGl0ZW1gIGNvbXBvbmVudHMuXG4gICAqIEl0IGNhbiBvbmx5IGJlIHVzZWQgb24gYSB0eXBlIGBjb250YWluZXJgIGNvbXBvbmVudC5cbiAgICogQGRlZmF1bHQgMFxuICAgKi9cbiAgc3BhY2luZzogUHJvcFR5cGVzIC8qIEB0eXBlc2NyaXB0LXRvLXByb3B0eXBlcy1pZ25vcmUgKi8ub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMuc3RyaW5nXSkpLCBQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMub2JqZWN0LCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBzeDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3QsIFByb3BUeXBlcy5ib29sXSkpLCBQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdF0pLFxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIFRoZSBsZXZlbCBvZiB0aGUgZ3JpZCBzdGFydHMgZnJvbSBgMGAgYW5kIGluY3JlYXNlcyB3aGVuIHRoZSBncmlkIG5lc3RzXG4gICAqIGluc2lkZSBhbm90aGVyIGdyaWQuIE5lc3RpbmcgaXMgZGVmaW5lZCBhcyBhIGNvbnRhaW5lciBHcmlkIGJlaW5nIGEgZGlyZWN0XG4gICAqIGNoaWxkIG9mIGEgY29udGFpbmVyIEdyaWQuXG4gICAqXG4gICAqIGBgYGpzXG4gICAqIDxHcmlkIGNvbnRhaW5lcj4gLy8gbGV2ZWwgMFxuICAgKiAgIDxHcmlkIGNvbnRhaW5lcj4gLy8gbGV2ZWwgMVxuICAgKiAgICAgPEdyaWQgY29udGFpbmVyPiAvLyBsZXZlbCAyXG4gICAqIGBgYFxuICAgKlxuICAgKiBPbmx5IGNvbnNlY3V0aXZlIGdyaWQgaXMgY29uc2lkZXJlZCBuZXN0aW5nLiBBIGdyaWQgY29udGFpbmVyIHdpbGwgc3RhcnQgYXRcbiAgICogYDBgIGlmIHRoZXJlIGFyZSBub24tR3JpZCBjb250YWluZXIgZWxlbWVudCBhYm92ZSBpdC5cbiAgICpcbiAgICogYGBganNcbiAgICogPEdyaWQgY29udGFpbmVyPiAvLyBsZXZlbCAwXG4gICAqICAgPGRpdj5cbiAgICogICAgIDxHcmlkIGNvbnRhaW5lcj4gLy8gbGV2ZWwgMFxuICAgKiBgYGBcbiAgICpcbiAgICogYGBganNcbiAgICogPEdyaWQgY29udGFpbmVyPiAvLyBsZXZlbCAwXG4gICAqICAgPEdyaWQ+XG4gICAqICAgICA8R3JpZCBjb250YWluZXI+IC8vIGxldmVsIDBcbiAgICogYGBgXG4gICAqL1xuICB1bnN0YWJsZV9sZXZlbDogUHJvcFR5cGVzLm51bWJlcixcbiAgLyoqXG4gICAqIERlZmluZXMgdGhlIGBmbGV4LXdyYXBgIHN0eWxlIHByb3BlcnR5LlxuICAgKiBJdCdzIGFwcGxpZWQgZm9yIGFsbCBzY3JlZW4gc2l6ZXMuXG4gICAqIEBkZWZhdWx0ICd3cmFwJ1xuICAgKi9cbiAgd3JhcDogUHJvcFR5cGVzLm9uZU9mKFsnbm93cmFwJywgJ3dyYXAtcmV2ZXJzZScsICd3cmFwJ10pXG59IDogdm9pZCAwO1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgY29uc3QgQ29tcG9uZW50ID0gR3JpZDtcbiAgY29uc3QgcmVxdWlyZVByb3AgPSByZXF1aXJlUHJvcEZhY3RvcnkoJ0dyaWQnLCBDb21wb25lbnQpO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlbGVzcy1jb25jYXRcbiAgQ29tcG9uZW50Wydwcm9wVHlwZXMnICsgJyddID0ge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9mb3JiaWQtZm9yZWlnbi1wcm9wLXR5cGVzXG4gICAgLi4uQ29tcG9uZW50LnByb3BUeXBlcyxcbiAgICBkaXJlY3Rpb246IHJlcXVpcmVQcm9wKCdjb250YWluZXInKSxcbiAgICBzcGFjaW5nOiByZXF1aXJlUHJvcCgnY29udGFpbmVyJyksXG4gICAgd3JhcDogcmVxdWlyZVByb3AoJ2NvbnRhaW5lcicpXG4gIH07XG59XG5leHBvcnQgZGVmYXVsdCBHcmlkOyIsCiAgICAiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHVzZVRpbWVvdXQgZnJvbSAnQG11aS91dGlscy91c2VUaW1lb3V0JztcbmltcG9ydCBlbGVtZW50QWNjZXB0aW5nUmVmIGZyb20gJ0BtdWkvdXRpbHMvZWxlbWVudEFjY2VwdGluZ1JlZic7XG5pbXBvcnQgZ2V0UmVhY3RFbGVtZW50UmVmIGZyb20gJ0BtdWkvdXRpbHMvZ2V0UmVhY3RFbGVtZW50UmVmJztcbmltcG9ydCB7IFRyYW5zaXRpb24gfSBmcm9tICdyZWFjdC10cmFuc2l0aW9uLWdyb3VwJztcbmltcG9ydCB7IHVzZVRoZW1lIH0gZnJvbSBcIi4uL3plcm8tc3R5bGVkL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBnZXRUcmFuc2l0aW9uUHJvcHMsIHJlZmxvdyB9IGZyb20gXCIuLi90cmFuc2l0aW9ucy91dGlscy5qc1wiO1xuaW1wb3J0IHVzZUZvcmtSZWYgZnJvbSBcIi4uL3V0aWxzL3VzZUZvcmtSZWYuanNcIjtcbmltcG9ydCB7IGpzeCBhcyBfanN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBnZXRTY2FsZSh2YWx1ZSkge1xuICByZXR1cm4gYHNjYWxlKCR7dmFsdWV9LCAke3ZhbHVlICoqIDJ9KWA7XG59XG5jb25zdCBzdHlsZXMgPSB7XG4gIGVudGVyaW5nOiB7XG4gICAgb3BhY2l0eTogMSxcbiAgICB0cmFuc2Zvcm06IGdldFNjYWxlKDEpXG4gIH0sXG4gIGVudGVyZWQ6IHtcbiAgICBvcGFjaXR5OiAxLFxuICAgIHRyYW5zZm9ybTogJ25vbmUnXG4gIH1cbn07XG5cbi8qXG4gVE9ETyB2NjogcmVtb3ZlXG4gQ29uZGl0aW9uYWxseSBhcHBseSBhIHdvcmthcm91bmQgZm9yIHRoZSBDU1MgdHJhbnNpdGlvbiBidWcgaW4gU2FmYXJpIDE1LjQgLyBXZWJLaXQgYnJvd3NlcnMuXG4gKi9cbmNvbnN0IGlzV2ViS2l0MTU0ID0gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgL14oKD8hY2hyb21lfGFuZHJvaWQpLikqKHNhZmFyaXxtb2JpbGUpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJiAvKG9zIHx2ZXJzaW9uXFwvKTE1KC58Xyk0L2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcblxuLyoqXG4gKiBUaGUgR3JvdyB0cmFuc2l0aW9uIGlzIHVzZWQgYnkgdGhlIFtUb29sdGlwXSgvbWF0ZXJpYWwtdWkvcmVhY3QtdG9vbHRpcC8pIGFuZFxuICogW1BvcG92ZXJdKC9tYXRlcmlhbC11aS9yZWFjdC1wb3BvdmVyLykgY29tcG9uZW50cy5cbiAqIEl0IHVzZXMgW3JlYWN0LXRyYW5zaXRpb24tZ3JvdXBdKGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdGpzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXApIGludGVybmFsbHkuXG4gKi9cbmNvbnN0IEdyb3cgPSAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiBHcm93KHByb3BzLCByZWYpIHtcbiAgY29uc3Qge1xuICAgIGFkZEVuZExpc3RlbmVyLFxuICAgIGFwcGVhciA9IHRydWUsXG4gICAgY2hpbGRyZW4sXG4gICAgZWFzaW5nLFxuICAgIGluOiBpblByb3AsXG4gICAgb25FbnRlcixcbiAgICBvbkVudGVyZWQsXG4gICAgb25FbnRlcmluZyxcbiAgICBvbkV4aXQsXG4gICAgb25FeGl0ZWQsXG4gICAgb25FeGl0aW5nLFxuICAgIHN0eWxlLFxuICAgIHRpbWVvdXQgPSAnYXV0bycsXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L3Byb3AtdHlwZXNcbiAgICBUcmFuc2l0aW9uQ29tcG9uZW50ID0gVHJhbnNpdGlvbixcbiAgICAuLi5vdGhlclxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHRpbWVyID0gdXNlVGltZW91dCgpO1xuICBjb25zdCBhdXRvVGltZW91dCA9IFJlYWN0LnVzZVJlZigpO1xuICBjb25zdCB0aGVtZSA9IHVzZVRoZW1lKCk7XG4gIGNvbnN0IG5vZGVSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIGNvbnN0IGhhbmRsZVJlZiA9IHVzZUZvcmtSZWYobm9kZVJlZiwgZ2V0UmVhY3RFbGVtZW50UmVmKGNoaWxkcmVuKSwgcmVmKTtcbiAgY29uc3Qgbm9ybWFsaXplZFRyYW5zaXRpb25DYWxsYmFjayA9IGNhbGxiYWNrID0+IG1heWJlSXNBcHBlYXJpbmcgPT4ge1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgY29uc3Qgbm9kZSA9IG5vZGVSZWYuY3VycmVudDtcblxuICAgICAgLy8gb25FbnRlclh4eCBhbmQgb25FeGl0WHh4IGNhbGxiYWNrcyBoYXZlIGEgZGlmZmVyZW50IGFyZ3VtZW50cy5sZW5ndGggdmFsdWUuXG4gICAgICBpZiAobWF5YmVJc0FwcGVhcmluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNhbGxiYWNrKG5vZGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2sobm9kZSwgbWF5YmVJc0FwcGVhcmluZyk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBoYW5kbGVFbnRlcmluZyA9IG5vcm1hbGl6ZWRUcmFuc2l0aW9uQ2FsbGJhY2sob25FbnRlcmluZyk7XG4gIGNvbnN0IGhhbmRsZUVudGVyID0gbm9ybWFsaXplZFRyYW5zaXRpb25DYWxsYmFjaygobm9kZSwgaXNBcHBlYXJpbmcpID0+IHtcbiAgICByZWZsb3cobm9kZSk7IC8vIFNvIHRoZSBhbmltYXRpb24gYWx3YXlzIHN0YXJ0IGZyb20gdGhlIHN0YXJ0LlxuXG4gICAgY29uc3Qge1xuICAgICAgZHVyYXRpb246IHRyYW5zaXRpb25EdXJhdGlvbixcbiAgICAgIGRlbGF5LFxuICAgICAgZWFzaW5nOiB0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb25cbiAgICB9ID0gZ2V0VHJhbnNpdGlvblByb3BzKHtcbiAgICAgIHN0eWxlLFxuICAgICAgdGltZW91dCxcbiAgICAgIGVhc2luZ1xuICAgIH0sIHtcbiAgICAgIG1vZGU6ICdlbnRlcidcbiAgICB9KTtcbiAgICBsZXQgZHVyYXRpb247XG4gICAgaWYgKHRpbWVvdXQgPT09ICdhdXRvJykge1xuICAgICAgZHVyYXRpb24gPSB0aGVtZS50cmFuc2l0aW9ucy5nZXRBdXRvSGVpZ2h0RHVyYXRpb24obm9kZS5jbGllbnRIZWlnaHQpO1xuICAgICAgYXV0b1RpbWVvdXQuY3VycmVudCA9IGR1cmF0aW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICBkdXJhdGlvbiA9IHRyYW5zaXRpb25EdXJhdGlvbjtcbiAgICB9XG4gICAgbm9kZS5zdHlsZS50cmFuc2l0aW9uID0gW3RoZW1lLnRyYW5zaXRpb25zLmNyZWF0ZSgnb3BhY2l0eScsIHtcbiAgICAgIGR1cmF0aW9uLFxuICAgICAgZGVsYXlcbiAgICB9KSwgdGhlbWUudHJhbnNpdGlvbnMuY3JlYXRlKCd0cmFuc2Zvcm0nLCB7XG4gICAgICBkdXJhdGlvbjogaXNXZWJLaXQxNTQgPyBkdXJhdGlvbiA6IGR1cmF0aW9uICogMC42NjYsXG4gICAgICBkZWxheSxcbiAgICAgIGVhc2luZzogdHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uXG4gICAgfSldLmpvaW4oJywnKTtcbiAgICBpZiAob25FbnRlcikge1xuICAgICAgb25FbnRlcihub2RlLCBpc0FwcGVhcmluZyk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgaGFuZGxlRW50ZXJlZCA9IG5vcm1hbGl6ZWRUcmFuc2l0aW9uQ2FsbGJhY2sob25FbnRlcmVkKTtcbiAgY29uc3QgaGFuZGxlRXhpdGluZyA9IG5vcm1hbGl6ZWRUcmFuc2l0aW9uQ2FsbGJhY2sob25FeGl0aW5nKTtcbiAgY29uc3QgaGFuZGxlRXhpdCA9IG5vcm1hbGl6ZWRUcmFuc2l0aW9uQ2FsbGJhY2sobm9kZSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgZHVyYXRpb246IHRyYW5zaXRpb25EdXJhdGlvbixcbiAgICAgIGRlbGF5LFxuICAgICAgZWFzaW5nOiB0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb25cbiAgICB9ID0gZ2V0VHJhbnNpdGlvblByb3BzKHtcbiAgICAgIHN0eWxlLFxuICAgICAgdGltZW91dCxcbiAgICAgIGVhc2luZ1xuICAgIH0sIHtcbiAgICAgIG1vZGU6ICdleGl0J1xuICAgIH0pO1xuICAgIGxldCBkdXJhdGlvbjtcbiAgICBpZiAodGltZW91dCA9PT0gJ2F1dG8nKSB7XG4gICAgICBkdXJhdGlvbiA9IHRoZW1lLnRyYW5zaXRpb25zLmdldEF1dG9IZWlnaHREdXJhdGlvbihub2RlLmNsaWVudEhlaWdodCk7XG4gICAgICBhdXRvVGltZW91dC5jdXJyZW50ID0gZHVyYXRpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIGR1cmF0aW9uID0gdHJhbnNpdGlvbkR1cmF0aW9uO1xuICAgIH1cbiAgICBub2RlLnN0eWxlLnRyYW5zaXRpb24gPSBbdGhlbWUudHJhbnNpdGlvbnMuY3JlYXRlKCdvcGFjaXR5Jywge1xuICAgICAgZHVyYXRpb24sXG4gICAgICBkZWxheVxuICAgIH0pLCB0aGVtZS50cmFuc2l0aW9ucy5jcmVhdGUoJ3RyYW5zZm9ybScsIHtcbiAgICAgIGR1cmF0aW9uOiBpc1dlYktpdDE1NCA/IGR1cmF0aW9uIDogZHVyYXRpb24gKiAwLjY2NixcbiAgICAgIGRlbGF5OiBpc1dlYktpdDE1NCA/IGRlbGF5IDogZGVsYXkgfHwgZHVyYXRpb24gKiAwLjMzMyxcbiAgICAgIGVhc2luZzogdHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uXG4gICAgfSldLmpvaW4oJywnKTtcbiAgICBub2RlLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgIG5vZGUuc3R5bGUudHJhbnNmb3JtID0gZ2V0U2NhbGUoMC43NSk7XG4gICAgaWYgKG9uRXhpdCkge1xuICAgICAgb25FeGl0KG5vZGUpO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IGhhbmRsZUV4aXRlZCA9IG5vcm1hbGl6ZWRUcmFuc2l0aW9uQ2FsbGJhY2sob25FeGl0ZWQpO1xuICBjb25zdCBoYW5kbGVBZGRFbmRMaXN0ZW5lciA9IG5leHQgPT4ge1xuICAgIGlmICh0aW1lb3V0ID09PSAnYXV0bycpIHtcbiAgICAgIHRpbWVyLnN0YXJ0KGF1dG9UaW1lb3V0LmN1cnJlbnQgfHwgMCwgbmV4dCk7XG4gICAgfVxuICAgIGlmIChhZGRFbmRMaXN0ZW5lcikge1xuICAgICAgLy8gT2xkIGNhbGwgc2lnbmF0dXJlIGJlZm9yZSBgcmVhY3QtdHJhbnNpdGlvbi1ncm91cGAgaW1wbGVtZW50ZWQgYG5vZGVSZWZgXG4gICAgICBhZGRFbmRMaXN0ZW5lcihub2RlUmVmLmN1cnJlbnQsIG5leHQpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KFRyYW5zaXRpb25Db21wb25lbnQsIHtcbiAgICBhcHBlYXI6IGFwcGVhcixcbiAgICBpbjogaW5Qcm9wLFxuICAgIG5vZGVSZWY6IG5vZGVSZWYsXG4gICAgb25FbnRlcjogaGFuZGxlRW50ZXIsXG4gICAgb25FbnRlcmVkOiBoYW5kbGVFbnRlcmVkLFxuICAgIG9uRW50ZXJpbmc6IGhhbmRsZUVudGVyaW5nLFxuICAgIG9uRXhpdDogaGFuZGxlRXhpdCxcbiAgICBvbkV4aXRlZDogaGFuZGxlRXhpdGVkLFxuICAgIG9uRXhpdGluZzogaGFuZGxlRXhpdGluZyxcbiAgICBhZGRFbmRMaXN0ZW5lcjogaGFuZGxlQWRkRW5kTGlzdGVuZXIsXG4gICAgdGltZW91dDogdGltZW91dCA9PT0gJ2F1dG8nID8gbnVsbCA6IHRpbWVvdXQsXG4gICAgLi4ub3RoZXIsXG4gICAgY2hpbGRyZW46IChzdGF0ZSwge1xuICAgICAgb3duZXJTdGF0ZSxcbiAgICAgIC4uLnJlc3RDaGlsZFByb3BzXG4gICAgfSkgPT4ge1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGRyZW4sIHtcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAgIHRyYW5zZm9ybTogZ2V0U2NhbGUoMC43NSksXG4gICAgICAgICAgdmlzaWJpbGl0eTogc3RhdGUgPT09ICdleGl0ZWQnICYmICFpblByb3AgPyAnaGlkZGVuJyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAuLi5zdHlsZXNbc3RhdGVdLFxuICAgICAgICAgIC4uLnN0eWxlLFxuICAgICAgICAgIC4uLmNoaWxkcmVuLnByb3BzLnN0eWxlXG4gICAgICAgIH0sXG4gICAgICAgIHJlZjogaGFuZGxlUmVmLFxuICAgICAgICAuLi5yZXN0Q2hpbGRQcm9wc1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn0pO1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gR3Jvdy5wcm9wVHlwZXMgLyogcmVtb3ZlLXByb3B0eXBlcyAqLyA9IHtcbiAgLy8g4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIFdhcm5pbmcg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQXG4gIC8vIOKUgiBUaGVzZSBQcm9wVHlwZXMgYXJlIGdlbmVyYXRlZCBmcm9tIHRoZSBUeXBlU2NyaXB0IHR5cGUgZGVmaW5pdGlvbnMuIOKUglxuICAvLyDilIIgICAgVG8gdXBkYXRlIHRoZW0sIGVkaXQgdGhlIGQudHMgZmlsZSBhbmQgcnVuIGBwbnBtIHByb3B0eXBlc2AuICAgICDilIJcbiAgLy8g4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG4gIC8qKlxuICAgKiBBZGQgYSBjdXN0b20gdHJhbnNpdGlvbiBlbmQgdHJpZ2dlci4gQ2FsbGVkIHdpdGggdGhlIHRyYW5zaXRpb25pbmcgRE9NXG4gICAqIG5vZGUgYW5kIGEgZG9uZSBjYWxsYmFjay4gQWxsb3dzIGZvciBtb3JlIGZpbmUgZ3JhaW5lZCB0cmFuc2l0aW9uIGVuZFxuICAgKiBsb2dpYy4gTm90ZTogVGltZW91dHMgYXJlIHN0aWxsIHVzZWQgYXMgYSBmYWxsYmFjayBpZiBwcm92aWRlZC5cbiAgICovXG4gIGFkZEVuZExpc3RlbmVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgLyoqXG4gICAqIFBlcmZvcm0gdGhlIGVudGVyIHRyYW5zaXRpb24gd2hlbiBpdCBmaXJzdCBtb3VudHMgaWYgYGluYCBpcyBhbHNvIGB0cnVlYC5cbiAgICogU2V0IHRoaXMgdG8gYGZhbHNlYCB0byBkaXNhYmxlIHRoaXMgYmVoYXZpb3IuXG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIGFwcGVhcjogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBBIHNpbmdsZSBjaGlsZCBjb250ZW50IGVsZW1lbnQuXG4gICAqL1xuICBjaGlsZHJlbjogZWxlbWVudEFjY2VwdGluZ1JlZi5pc1JlcXVpcmVkLFxuICAvKipcbiAgICogVGhlIHRyYW5zaXRpb24gdGltaW5nIGZ1bmN0aW9uLlxuICAgKiBZb3UgbWF5IHNwZWNpZnkgYSBzaW5nbGUgZWFzaW5nIG9yIGEgb2JqZWN0IGNvbnRhaW5pbmcgZW50ZXIgYW5kIGV4aXQgdmFsdWVzLlxuICAgKi9cbiAgZWFzaW5nOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc2hhcGUoe1xuICAgIGVudGVyOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGV4aXQ6IFByb3BUeXBlcy5zdHJpbmdcbiAgfSksIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIGNvbXBvbmVudCB3aWxsIHRyYW5zaXRpb24gaW4uXG4gICAqL1xuICBpbjogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBvbkVudGVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIG9uRW50ZXJlZDogUHJvcFR5cGVzLmZ1bmMsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBvbkVudGVyaW5nOiBQcm9wVHlwZXMuZnVuYyxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIG9uRXhpdDogUHJvcFR5cGVzLmZ1bmMsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBvbkV4aXRlZDogUHJvcFR5cGVzLmZ1bmMsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBvbkV4aXRpbmc6IFByb3BUeXBlcy5mdW5jLFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgc3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG4gIC8qKlxuICAgKiBUaGUgZHVyYXRpb24gZm9yIHRoZSB0cmFuc2l0aW9uLCBpbiBtaWxsaXNlY29uZHMuXG4gICAqIFlvdSBtYXkgc3BlY2lmeSBhIHNpbmdsZSB0aW1lb3V0IGZvciBhbGwgdHJhbnNpdGlvbnMsIG9yIGluZGl2aWR1YWxseSB3aXRoIGFuIG9iamVjdC5cbiAgICpcbiAgICogU2V0IHRvICdhdXRvJyB0byBhdXRvbWF0aWNhbGx5IGNhbGN1bGF0ZSB0cmFuc2l0aW9uIHRpbWUgYmFzZWQgb24gaGVpZ2h0LlxuICAgKiBAZGVmYXVsdCAnYXV0bydcbiAgICovXG4gIHRpbWVvdXQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ2F1dG8nXSksIFByb3BUeXBlcy5udW1iZXIsIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgYXBwZWFyOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIGVudGVyOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIGV4aXQ6IFByb3BUeXBlcy5udW1iZXJcbiAgfSldKVxufSA6IHZvaWQgMDtcbmlmIChHcm93KSB7XG4gIEdyb3cubXVpU3VwcG9ydEF1dG8gPSB0cnVlO1xufVxuZXhwb3J0IGRlZmF1bHQgR3JvdzsiLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnO1xuaW1wb3J0IGNvbXBvc2VDbGFzc2VzIGZyb20gJ0BtdWkvdXRpbHMvY29tcG9zZUNsYXNzZXMnO1xuaW1wb3J0IHsgc3R5bGVkIH0gZnJvbSBcIi4uL3plcm8tc3R5bGVkL2luZGV4LmpzXCI7XG5pbXBvcnQgeyB1c2VEZWZhdWx0UHJvcHMgfSBmcm9tIFwiLi4vRGVmYXVsdFByb3BzUHJvdmlkZXIvaW5kZXguanNcIjtcbmltcG9ydCBMaXN0Q29udGV4dCBmcm9tIFwiLi9MaXN0Q29udGV4dC5qc1wiO1xuaW1wb3J0IHsgZ2V0TGlzdFV0aWxpdHlDbGFzcyB9IGZyb20gXCIuL2xpc3RDbGFzc2VzLmpzXCI7XG5pbXBvcnQgeyBqc3hzIGFzIF9qc3hzLCBqc3ggYXMgX2pzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuY29uc3QgdXNlVXRpbGl0eUNsYXNzZXMgPSBvd25lclN0YXRlID0+IHtcbiAgY29uc3Qge1xuICAgIGNsYXNzZXMsXG4gICAgZGlzYWJsZVBhZGRpbmcsXG4gICAgZGVuc2UsXG4gICAgc3ViaGVhZGVyXG4gIH0gPSBvd25lclN0YXRlO1xuICBjb25zdCBzbG90cyA9IHtcbiAgICByb290OiBbJ3Jvb3QnLCAhZGlzYWJsZVBhZGRpbmcgJiYgJ3BhZGRpbmcnLCBkZW5zZSAmJiAnZGVuc2UnLCBzdWJoZWFkZXIgJiYgJ3N1YmhlYWRlciddXG4gIH07XG4gIHJldHVybiBjb21wb3NlQ2xhc3NlcyhzbG90cywgZ2V0TGlzdFV0aWxpdHlDbGFzcywgY2xhc3Nlcyk7XG59O1xuY29uc3QgTGlzdFJvb3QgPSBzdHlsZWQoJ3VsJywge1xuICBuYW1lOiAnTXVpTGlzdCcsXG4gIHNsb3Q6ICdSb290JyxcbiAgb3ZlcnJpZGVzUmVzb2x2ZXI6IChwcm9wcywgc3R5bGVzKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgb3duZXJTdGF0ZVxuICAgIH0gPSBwcm9wcztcbiAgICByZXR1cm4gW3N0eWxlcy5yb290LCAhb3duZXJTdGF0ZS5kaXNhYmxlUGFkZGluZyAmJiBzdHlsZXMucGFkZGluZywgb3duZXJTdGF0ZS5kZW5zZSAmJiBzdHlsZXMuZGVuc2UsIG93bmVyU3RhdGUuc3ViaGVhZGVyICYmIHN0eWxlcy5zdWJoZWFkZXJdO1xuICB9XG59KSh7XG4gIGxpc3RTdHlsZTogJ25vbmUnLFxuICBtYXJnaW46IDAsXG4gIHBhZGRpbmc6IDAsXG4gIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICB2YXJpYW50czogW3tcbiAgICBwcm9wczogKHtcbiAgICAgIG93bmVyU3RhdGVcbiAgICB9KSA9PiAhb3duZXJTdGF0ZS5kaXNhYmxlUGFkZGluZyxcbiAgICBzdHlsZToge1xuICAgICAgcGFkZGluZ1RvcDogOCxcbiAgICAgIHBhZGRpbmdCb3R0b206IDhcbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczogKHtcbiAgICAgIG93bmVyU3RhdGVcbiAgICB9KSA9PiBvd25lclN0YXRlLnN1YmhlYWRlcixcbiAgICBzdHlsZToge1xuICAgICAgcGFkZGluZ1RvcDogMFxuICAgIH1cbiAgfV1cbn0pO1xuY29uc3QgTGlzdCA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIExpc3QoaW5Qcm9wcywgcmVmKSB7XG4gIGNvbnN0IHByb3BzID0gdXNlRGVmYXVsdFByb3BzKHtcbiAgICBwcm9wczogaW5Qcm9wcyxcbiAgICBuYW1lOiAnTXVpTGlzdCdcbiAgfSk7XG4gIGNvbnN0IHtcbiAgICBjaGlsZHJlbixcbiAgICBjbGFzc05hbWUsXG4gICAgY29tcG9uZW50ID0gJ3VsJyxcbiAgICBkZW5zZSA9IGZhbHNlLFxuICAgIGRpc2FibGVQYWRkaW5nID0gZmFsc2UsXG4gICAgc3ViaGVhZGVyLFxuICAgIC4uLm90aGVyXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgY29udGV4dCA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gKHtcbiAgICBkZW5zZVxuICB9KSwgW2RlbnNlXSk7XG4gIGNvbnN0IG93bmVyU3RhdGUgPSB7XG4gICAgLi4ucHJvcHMsXG4gICAgY29tcG9uZW50LFxuICAgIGRlbnNlLFxuICAgIGRpc2FibGVQYWRkaW5nXG4gIH07XG4gIGNvbnN0IGNsYXNzZXMgPSB1c2VVdGlsaXR5Q2xhc3Nlcyhvd25lclN0YXRlKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KExpc3RDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IGNvbnRleHQsXG4gICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4cyhMaXN0Um9vdCwge1xuICAgICAgYXM6IGNvbXBvbmVudCxcbiAgICAgIGNsYXNzTmFtZTogY2xzeChjbGFzc2VzLnJvb3QsIGNsYXNzTmFtZSksXG4gICAgICByZWY6IHJlZixcbiAgICAgIG93bmVyU3RhdGU6IG93bmVyU3RhdGUsXG4gICAgICAuLi5vdGhlcixcbiAgICAgIGNoaWxkcmVuOiBbc3ViaGVhZGVyLCBjaGlsZHJlbl1cbiAgICB9KVxuICB9KTtcbn0pO1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gTGlzdC5wcm9wVHlwZXMgLyogcmVtb3ZlLXByb3B0eXBlcyAqLyA9IHtcbiAgLy8g4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIFdhcm5pbmcg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQXG4gIC8vIOKUgiBUaGVzZSBQcm9wVHlwZXMgYXJlIGdlbmVyYXRlZCBmcm9tIHRoZSBUeXBlU2NyaXB0IHR5cGUgZGVmaW5pdGlvbnMuIOKUglxuICAvLyDilIIgICAgVG8gdXBkYXRlIHRoZW0sIGVkaXQgdGhlIGQudHMgZmlsZSBhbmQgcnVuIGBwbnBtIHByb3B0eXBlc2AuICAgICDilIJcbiAgLy8g4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG4gIC8qKlxuICAgKiBUaGUgY29udGVudCBvZiB0aGUgY29tcG9uZW50LlxuICAgKi9cbiAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuICAvKipcbiAgICogT3ZlcnJpZGUgb3IgZXh0ZW5kIHRoZSBzdHlsZXMgYXBwbGllZCB0byB0aGUgY29tcG9uZW50LlxuICAgKi9cbiAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdCxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgLyoqXG4gICAqIFRoZSBjb21wb25lbnQgdXNlZCBmb3IgdGhlIHJvb3Qgbm9kZS5cbiAgICogRWl0aGVyIGEgc3RyaW5nIHRvIHVzZSBhIEhUTUwgZWxlbWVudCBvciBhIGNvbXBvbmVudC5cbiAgICovXG4gIGNvbXBvbmVudDogUHJvcFR5cGVzLmVsZW1lbnRUeXBlLFxuICAvKipcbiAgICogSWYgYHRydWVgLCBjb21wYWN0IHZlcnRpY2FsIHBhZGRpbmcgZGVzaWduZWQgZm9yIGtleWJvYXJkIGFuZCBtb3VzZSBpbnB1dCBpcyB1c2VkIGZvclxuICAgKiB0aGUgbGlzdCBhbmQgbGlzdCBpdGVtcy5cbiAgICogVGhlIHByb3AgaXMgYXZhaWxhYmxlIHRvIGRlc2NlbmRhbnQgY29tcG9uZW50cyBhcyB0aGUgYGRlbnNlYCBjb250ZXh0LlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZGVuc2U6IFByb3BUeXBlcy5ib29sLFxuICAvKipcbiAgICogSWYgYHRydWVgLCB2ZXJ0aWNhbCBwYWRkaW5nIGlzIHJlbW92ZWQgZnJvbSB0aGUgbGlzdC5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGRpc2FibGVQYWRkaW5nOiBQcm9wVHlwZXMuYm9vbCxcbiAgLyoqXG4gICAqIFRoZSBjb250ZW50IG9mIHRoZSBzdWJoZWFkZXIsIG5vcm1hbGx5IGBMaXN0U3ViaGVhZGVyYC5cbiAgICovXG4gIHN1YmhlYWRlcjogUHJvcFR5cGVzLm5vZGUsXG4gIC8qKlxuICAgKiBUaGUgc3lzdGVtIHByb3AgdGhhdCBhbGxvd3MgZGVmaW5pbmcgc3lzdGVtIG92ZXJyaWRlcyBhcyB3ZWxsIGFzIGFkZGl0aW9uYWwgQ1NTIHN0eWxlcy5cbiAgICovXG4gIHN4OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdCwgUHJvcFR5cGVzLmJvb2xdKSksIFByb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0XSlcbn0gOiB2b2lkIDA7XG5leHBvcnQgZGVmYXVsdCBMaXN0OyIsCiAgICAiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogQGlnbm9yZSAtIGludGVybmFsIGNvbXBvbmVudC5cbiAqL1xuY29uc3QgTGlzdENvbnRleHQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlQ29udGV4dCh7fSk7XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBMaXN0Q29udGV4dC5kaXNwbGF5TmFtZSA9ICdMaXN0Q29udGV4dCc7XG59XG5leHBvcnQgZGVmYXVsdCBMaXN0Q29udGV4dDsiLAogICAgImltcG9ydCBnZW5lcmF0ZVV0aWxpdHlDbGFzc2VzIGZyb20gJ0BtdWkvdXRpbHMvZ2VuZXJhdGVVdGlsaXR5Q2xhc3Nlcyc7XG5pbXBvcnQgZ2VuZXJhdGVVdGlsaXR5Q2xhc3MgZnJvbSAnQG11aS91dGlscy9nZW5lcmF0ZVV0aWxpdHlDbGFzcyc7XG5leHBvcnQgZnVuY3Rpb24gZ2V0TGlzdFV0aWxpdHlDbGFzcyhzbG90KSB7XG4gIHJldHVybiBnZW5lcmF0ZVV0aWxpdHlDbGFzcygnTXVpTGlzdCcsIHNsb3QpO1xufVxuY29uc3QgbGlzdENsYXNzZXMgPSBnZW5lcmF0ZVV0aWxpdHlDbGFzc2VzKCdNdWlMaXN0JywgWydyb290JywgJ3BhZGRpbmcnLCAnZGVuc2UnLCAnc3ViaGVhZGVyJ10pO1xuZXhwb3J0IGRlZmF1bHQgbGlzdENsYXNzZXM7IiwKICAgICIndXNlIGNsaWVudCc7XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgY2xzeCBmcm9tICdjbHN4JztcbmltcG9ydCBjb21wb3NlQ2xhc3NlcyBmcm9tICdAbXVpL3V0aWxzL2NvbXBvc2VDbGFzc2VzJztcbmltcG9ydCB7IHN0eWxlZCB9IGZyb20gXCIuLi96ZXJvLXN0eWxlZC9pbmRleC5qc1wiO1xuaW1wb3J0IG1lbW9UaGVtZSBmcm9tIFwiLi4vdXRpbHMvbWVtb1RoZW1lLmpzXCI7XG5pbXBvcnQgeyB1c2VEZWZhdWx0UHJvcHMgfSBmcm9tIFwiLi4vRGVmYXVsdFByb3BzUHJvdmlkZXIvaW5kZXguanNcIjtcbmltcG9ydCByb290U2hvdWxkRm9yd2FyZFByb3AgZnJvbSBcIi4uL3N0eWxlcy9yb290U2hvdWxkRm9yd2FyZFByb3AuanNcIjtcbmltcG9ydCBCdXR0b25CYXNlIGZyb20gXCIuLi9CdXR0b25CYXNlL2luZGV4LmpzXCI7XG5pbXBvcnQgdXNlRW5oYW5jZWRFZmZlY3QgZnJvbSBcIi4uL3V0aWxzL3VzZUVuaGFuY2VkRWZmZWN0LmpzXCI7XG5pbXBvcnQgdXNlRm9ya1JlZiBmcm9tIFwiLi4vdXRpbHMvdXNlRm9ya1JlZi5qc1wiO1xuaW1wb3J0IExpc3RDb250ZXh0IGZyb20gXCIuLi9MaXN0L0xpc3RDb250ZXh0LmpzXCI7XG5pbXBvcnQgbGlzdEl0ZW1CdXR0b25DbGFzc2VzLCB7IGdldExpc3RJdGVtQnV0dG9uVXRpbGl0eUNsYXNzIH0gZnJvbSBcIi4vbGlzdEl0ZW1CdXR0b25DbGFzc2VzLmpzXCI7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZXhwb3J0IGNvbnN0IG92ZXJyaWRlc1Jlc29sdmVyID0gKHByb3BzLCBzdHlsZXMpID0+IHtcbiAgY29uc3Qge1xuICAgIG93bmVyU3RhdGVcbiAgfSA9IHByb3BzO1xuICByZXR1cm4gW3N0eWxlcy5yb290LCBvd25lclN0YXRlLmRlbnNlICYmIHN0eWxlcy5kZW5zZSwgb3duZXJTdGF0ZS5hbGlnbkl0ZW1zID09PSAnZmxleC1zdGFydCcgJiYgc3R5bGVzLmFsaWduSXRlbXNGbGV4U3RhcnQsIG93bmVyU3RhdGUuZGl2aWRlciAmJiBzdHlsZXMuZGl2aWRlciwgIW93bmVyU3RhdGUuZGlzYWJsZUd1dHRlcnMgJiYgc3R5bGVzLmd1dHRlcnNdO1xufTtcbmNvbnN0IHVzZVV0aWxpdHlDbGFzc2VzID0gb3duZXJTdGF0ZSA9PiB7XG4gIGNvbnN0IHtcbiAgICBhbGlnbkl0ZW1zLFxuICAgIGNsYXNzZXMsXG4gICAgZGVuc2UsXG4gICAgZGlzYWJsZWQsXG4gICAgZGlzYWJsZUd1dHRlcnMsXG4gICAgZGl2aWRlcixcbiAgICBzZWxlY3RlZFxuICB9ID0gb3duZXJTdGF0ZTtcbiAgY29uc3Qgc2xvdHMgPSB7XG4gICAgcm9vdDogWydyb290JywgZGVuc2UgJiYgJ2RlbnNlJywgIWRpc2FibGVHdXR0ZXJzICYmICdndXR0ZXJzJywgZGl2aWRlciAmJiAnZGl2aWRlcicsIGRpc2FibGVkICYmICdkaXNhYmxlZCcsIGFsaWduSXRlbXMgPT09ICdmbGV4LXN0YXJ0JyAmJiAnYWxpZ25JdGVtc0ZsZXhTdGFydCcsIHNlbGVjdGVkICYmICdzZWxlY3RlZCddXG4gIH07XG4gIGNvbnN0IGNvbXBvc2VkQ2xhc3NlcyA9IGNvbXBvc2VDbGFzc2VzKHNsb3RzLCBnZXRMaXN0SXRlbUJ1dHRvblV0aWxpdHlDbGFzcywgY2xhc3Nlcyk7XG4gIHJldHVybiB7XG4gICAgLi4uY2xhc3NlcyxcbiAgICAuLi5jb21wb3NlZENsYXNzZXNcbiAgfTtcbn07XG5jb25zdCBMaXN0SXRlbUJ1dHRvblJvb3QgPSBzdHlsZWQoQnV0dG9uQmFzZSwge1xuICBzaG91bGRGb3J3YXJkUHJvcDogcHJvcCA9PiByb290U2hvdWxkRm9yd2FyZFByb3AocHJvcCkgfHwgcHJvcCA9PT0gJ2NsYXNzZXMnLFxuICBuYW1lOiAnTXVpTGlzdEl0ZW1CdXR0b24nLFxuICBzbG90OiAnUm9vdCcsXG4gIG92ZXJyaWRlc1Jlc29sdmVyXG59KShtZW1vVGhlbWUoKHtcbiAgdGhlbWVcbn0pID0+ICh7XG4gIGRpc3BsYXk6ICdmbGV4JyxcbiAgZmxleEdyb3c6IDEsXG4gIGp1c3RpZnlDb250ZW50OiAnZmxleC1zdGFydCcsXG4gIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgdGV4dERlY29yYXRpb246ICdub25lJyxcbiAgbWluV2lkdGg6IDAsXG4gIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICB0ZXh0QWxpZ246ICdsZWZ0JyxcbiAgcGFkZGluZ1RvcDogOCxcbiAgcGFkZGluZ0JvdHRvbTogOCxcbiAgdHJhbnNpdGlvbjogdGhlbWUudHJhbnNpdGlvbnMuY3JlYXRlKCdiYWNrZ3JvdW5kLWNvbG9yJywge1xuICAgIGR1cmF0aW9uOiB0aGVtZS50cmFuc2l0aW9ucy5kdXJhdGlvbi5zaG9ydGVzdFxuICB9KSxcbiAgJyY6aG92ZXInOiB7XG4gICAgdGV4dERlY29yYXRpb246ICdub25lJyxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlLmFjdGlvbi5ob3ZlcixcbiAgICAvLyBSZXNldCBvbiB0b3VjaCBkZXZpY2VzLCBpdCBkb2Vzbid0IGFkZCBzcGVjaWZpY2l0eVxuICAgICdAbWVkaWEgKGhvdmVyOiBub25lKSc6IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50J1xuICAgIH1cbiAgfSxcbiAgW2AmLiR7bGlzdEl0ZW1CdXR0b25DbGFzc2VzLnNlbGVjdGVkfWBdOiB7XG4gICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5hbHBoYSgodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZS5wcmltYXJ5Lm1haW4sICh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlLmFjdGlvbi5zZWxlY3RlZE9wYWNpdHkpLFxuICAgIFtgJi4ke2xpc3RJdGVtQnV0dG9uQ2xhc3Nlcy5mb2N1c1Zpc2libGV9YF06IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUuYWxwaGEoKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGUucHJpbWFyeS5tYWluLCBgJHsodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZS5hY3Rpb24uc2VsZWN0ZWRPcGFjaXR5fSArICR7KHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGUuYWN0aW9uLmZvY3VzT3BhY2l0eX1gKVxuICAgIH1cbiAgfSxcbiAgW2AmLiR7bGlzdEl0ZW1CdXR0b25DbGFzc2VzLnNlbGVjdGVkfTpob3ZlcmBdOiB7XG4gICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5hbHBoYSgodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZS5wcmltYXJ5Lm1haW4sIGAkeyh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlLmFjdGlvbi5zZWxlY3RlZE9wYWNpdHl9ICsgJHsodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZS5hY3Rpb24uaG92ZXJPcGFjaXR5fWApLFxuICAgIC8vIFJlc2V0IG9uIHRvdWNoIGRldmljZXMsIGl0IGRvZXNuJ3QgYWRkIHNwZWNpZmljaXR5XG4gICAgJ0BtZWRpYSAoaG92ZXI6IG5vbmUpJzoge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5hbHBoYSgodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZS5wcmltYXJ5Lm1haW4sICh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlLmFjdGlvbi5zZWxlY3RlZE9wYWNpdHkpXG4gICAgfVxuICB9LFxuICBbYCYuJHtsaXN0SXRlbUJ1dHRvbkNsYXNzZXMuZm9jdXNWaXNpYmxlfWBdOiB7XG4gICAgYmFja2dyb3VuZENvbG9yOiAodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZS5hY3Rpb24uZm9jdXNcbiAgfSxcbiAgW2AmLiR7bGlzdEl0ZW1CdXR0b25DbGFzc2VzLmRpc2FibGVkfWBdOiB7XG4gICAgb3BhY2l0eTogKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnBhbGV0dGUuYWN0aW9uLmRpc2FibGVkT3BhY2l0eVxuICB9LFxuICB2YXJpYW50czogW3tcbiAgICBwcm9wczogKHtcbiAgICAgIG93bmVyU3RhdGVcbiAgICB9KSA9PiBvd25lclN0YXRlLmRpdmlkZXIsXG4gICAgc3R5bGU6IHtcbiAgICAgIGJvcmRlckJvdHRvbTogYDFweCBzb2xpZCAkeyh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlLmRpdmlkZXJ9YCxcbiAgICAgIGJhY2tncm91bmRDbGlwOiAncGFkZGluZy1ib3gnXG4gICAgfVxuICB9LCB7XG4gICAgcHJvcHM6IHtcbiAgICAgIGFsaWduSXRlbXM6ICdmbGV4LXN0YXJ0J1xuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIGFsaWduSXRlbXM6ICdmbGV4LXN0YXJ0J1xuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiAoe1xuICAgICAgb3duZXJTdGF0ZVxuICAgIH0pID0+ICFvd25lclN0YXRlLmRpc2FibGVHdXR0ZXJzLFxuICAgIHN0eWxlOiB7XG4gICAgICBwYWRkaW5nTGVmdDogMTYsXG4gICAgICBwYWRkaW5nUmlnaHQ6IDE2XG4gICAgfVxuICB9LCB7XG4gICAgcHJvcHM6ICh7XG4gICAgICBvd25lclN0YXRlXG4gICAgfSkgPT4gb3duZXJTdGF0ZS5kZW5zZSxcbiAgICBzdHlsZToge1xuICAgICAgcGFkZGluZ1RvcDogNCxcbiAgICAgIHBhZGRpbmdCb3R0b206IDRcbiAgICB9XG4gIH1dXG59KSkpO1xuY29uc3QgTGlzdEl0ZW1CdXR0b24gPSAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiBMaXN0SXRlbUJ1dHRvbihpblByb3BzLCByZWYpIHtcbiAgY29uc3QgcHJvcHMgPSB1c2VEZWZhdWx0UHJvcHMoe1xuICAgIHByb3BzOiBpblByb3BzLFxuICAgIG5hbWU6ICdNdWlMaXN0SXRlbUJ1dHRvbidcbiAgfSk7XG4gIGNvbnN0IHtcbiAgICBhbGlnbkl0ZW1zID0gJ2NlbnRlcicsXG4gICAgYXV0b0ZvY3VzID0gZmFsc2UsXG4gICAgY29tcG9uZW50ID0gJ2RpdicsXG4gICAgY2hpbGRyZW4sXG4gICAgZGVuc2UgPSBmYWxzZSxcbiAgICBkaXNhYmxlR3V0dGVycyA9IGZhbHNlLFxuICAgIGRpdmlkZXIgPSBmYWxzZSxcbiAgICBmb2N1c1Zpc2libGVDbGFzc05hbWUsXG4gICAgc2VsZWN0ZWQgPSBmYWxzZSxcbiAgICBjbGFzc05hbWUsXG4gICAgLi4ub3RoZXJcbiAgfSA9IHByb3BzO1xuICBjb25zdCBjb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChMaXN0Q29udGV4dCk7XG4gIGNvbnN0IGNoaWxkQ29udGV4dCA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gKHtcbiAgICBkZW5zZTogZGVuc2UgfHwgY29udGV4dC5kZW5zZSB8fCBmYWxzZSxcbiAgICBhbGlnbkl0ZW1zLFxuICAgIGRpc2FibGVHdXR0ZXJzXG4gIH0pLCBbYWxpZ25JdGVtcywgY29udGV4dC5kZW5zZSwgZGVuc2UsIGRpc2FibGVHdXR0ZXJzXSk7XG4gIGNvbnN0IGxpc3RJdGVtUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB1c2VFbmhhbmNlZEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGF1dG9Gb2N1cykge1xuICAgICAgaWYgKGxpc3RJdGVtUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgbGlzdEl0ZW1SZWYuY3VycmVudC5mb2N1cygpO1xuICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ01VSTogVW5hYmxlIHRvIHNldCBmb2N1cyB0byBhIExpc3RJdGVtQnV0dG9uIHdob3NlIGNvbXBvbmVudCBoYXMgbm90IGJlZW4gcmVuZGVyZWQuJyk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbYXV0b0ZvY3VzXSk7XG4gIGNvbnN0IG93bmVyU3RhdGUgPSB7XG4gICAgLi4ucHJvcHMsXG4gICAgYWxpZ25JdGVtcyxcbiAgICBkZW5zZTogY2hpbGRDb250ZXh0LmRlbnNlLFxuICAgIGRpc2FibGVHdXR0ZXJzLFxuICAgIGRpdmlkZXIsXG4gICAgc2VsZWN0ZWRcbiAgfTtcbiAgY29uc3QgY2xhc3NlcyA9IHVzZVV0aWxpdHlDbGFzc2VzKG93bmVyU3RhdGUpO1xuICBjb25zdCBoYW5kbGVSZWYgPSB1c2VGb3JrUmVmKGxpc3RJdGVtUmVmLCByZWYpO1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3goTGlzdENvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogY2hpbGRDb250ZXh0LFxuICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChMaXN0SXRlbUJ1dHRvblJvb3QsIHtcbiAgICAgIHJlZjogaGFuZGxlUmVmLFxuICAgICAgaHJlZjogb3RoZXIuaHJlZiB8fCBvdGhlci50b1xuICAgICAgLy8gYEJ1dHRvbkJhc2VgIHByb2Nlc3NlcyBgaHJlZmAgb3IgYHRvYCBpZiBgY29tcG9uZW50YCBpcyBzZXQgdG8gJ2J1dHRvbidcbiAgICAgICxcbiAgICAgIGNvbXBvbmVudDogKG90aGVyLmhyZWYgfHwgb3RoZXIudG8pICYmIGNvbXBvbmVudCA9PT0gJ2RpdicgPyAnYnV0dG9uJyA6IGNvbXBvbmVudCxcbiAgICAgIGZvY3VzVmlzaWJsZUNsYXNzTmFtZTogY2xzeChjbGFzc2VzLmZvY3VzVmlzaWJsZSwgZm9jdXNWaXNpYmxlQ2xhc3NOYW1lKSxcbiAgICAgIG93bmVyU3RhdGU6IG93bmVyU3RhdGUsXG4gICAgICBjbGFzc05hbWU6IGNsc3goY2xhc3Nlcy5yb290LCBjbGFzc05hbWUpLFxuICAgICAgLi4ub3RoZXIsXG4gICAgICBjbGFzc2VzOiBjbGFzc2VzLFxuICAgICAgY2hpbGRyZW46IGNoaWxkcmVuXG4gICAgfSlcbiAgfSk7XG59KTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IExpc3RJdGVtQnV0dG9uLnByb3BUeXBlcyAvKiByZW1vdmUtcHJvcHR5cGVzICovID0ge1xuICAvLyDilIzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgV2FybmluZyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJBcbiAgLy8g4pSCIFRoZXNlIFByb3BUeXBlcyBhcmUgZ2VuZXJhdGVkIGZyb20gdGhlIFR5cGVTY3JpcHQgdHlwZSBkZWZpbml0aW9ucy4g4pSCXG4gIC8vIOKUgiAgICBUbyB1cGRhdGUgdGhlbSwgZWRpdCB0aGUgZC50cyBmaWxlIGFuZCBydW4gYHBucG0gcHJvcHR5cGVzYC4gICAgIOKUglxuICAvLyDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJhcbiAgLyoqXG4gICAqIERlZmluZXMgdGhlIGBhbGlnbi1pdGVtc2Agc3R5bGUgcHJvcGVydHkuXG4gICAqIEBkZWZhdWx0ICdjZW50ZXInXG4gICAqL1xuICBhbGlnbkl0ZW1zOiBQcm9wVHlwZXMub25lT2YoWydjZW50ZXInLCAnZmxleC1zdGFydCddKSxcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIGxpc3QgaXRlbSBpcyBmb2N1c2VkIGR1cmluZyB0aGUgZmlyc3QgbW91bnQuXG4gICAqIEZvY3VzIHdpbGwgYWxzbyBiZSB0cmlnZ2VyZWQgaWYgdGhlIHZhbHVlIGNoYW5nZXMgZnJvbSBmYWxzZSB0byB0cnVlLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgYXV0b0ZvY3VzOiBQcm9wVHlwZXMuYm9vbCxcbiAgLyoqXG4gICAqIFRoZSBjb250ZW50IG9mIHRoZSBjb21wb25lbnQgaWYgYSBgTGlzdEl0ZW1TZWNvbmRhcnlBY3Rpb25gIGlzIHVzZWQgaXQgbXVzdFxuICAgKiBiZSB0aGUgbGFzdCBjaGlsZC5cbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIG9yIGV4dGVuZCB0aGUgc3R5bGVzIGFwcGxpZWQgdG8gdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIC8qKlxuICAgKiBUaGUgY29tcG9uZW50IHVzZWQgZm9yIHRoZSByb290IG5vZGUuXG4gICAqIEVpdGhlciBhIHN0cmluZyB0byB1c2UgYSBIVE1MIGVsZW1lbnQgb3IgYSBjb21wb25lbnQuXG4gICAqL1xuICBjb21wb25lbnQ6IFByb3BUeXBlcy5lbGVtZW50VHlwZSxcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgY29tcGFjdCB2ZXJ0aWNhbCBwYWRkaW5nIGRlc2lnbmVkIGZvciBrZXlib2FyZCBhbmQgbW91c2UgaW5wdXQgaXMgdXNlZC5cbiAgICogVGhlIHByb3AgZGVmYXVsdHMgdG8gdGhlIHZhbHVlIGluaGVyaXRlZCBmcm9tIHRoZSBwYXJlbnQgTGlzdCBjb21wb25lbnQuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBkZW5zZTogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBjb21wb25lbnQgaXMgZGlzYWJsZWQuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBkaXNhYmxlZDogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBsZWZ0IGFuZCByaWdodCBwYWRkaW5nIGlzIHJlbW92ZWQuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBkaXNhYmxlR3V0dGVyczogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIGEgMXB4IGxpZ2h0IGJvcmRlciBpcyBhZGRlZCB0byB0aGUgYm90dG9tIG9mIHRoZSBsaXN0IGl0ZW0uXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBkaXZpZGVyOiBQcm9wVHlwZXMuYm9vbCxcbiAgLyoqXG4gICAqIFRoaXMgcHJvcCBjYW4gaGVscCBpZGVudGlmeSB3aGljaCBlbGVtZW50IGhhcyBrZXlib2FyZCBmb2N1cy5cbiAgICogVGhlIGNsYXNzIG5hbWUgd2lsbCBiZSBhcHBsaWVkIHdoZW4gdGhlIGVsZW1lbnQgZ2FpbnMgdGhlIGZvY3VzIHRocm91Z2gga2V5Ym9hcmQgaW50ZXJhY3Rpb24uXG4gICAqIEl0J3MgYSBwb2x5ZmlsbCBmb3IgdGhlIFtDU1MgOmZvY3VzLXZpc2libGUgc2VsZWN0b3JdKGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9zZWxlY3RvcnMtNC8jdGhlLWZvY3VzLXZpc2libGUtcHNldWRvKS5cbiAgICogVGhlIHJhdGlvbmFsZSBmb3IgdXNpbmcgdGhpcyBmZWF0dXJlIFtpcyBleHBsYWluZWQgaGVyZV0oaHR0cHM6Ly9naXRodWIuY29tL1dJQ0cvZm9jdXMtdmlzaWJsZS9ibG9iL0hFQUQvZXhwbGFpbmVyLm1kKS5cbiAgICogQSBbcG9seWZpbGwgY2FuIGJlIHVzZWRdKGh0dHBzOi8vZ2l0aHViLmNvbS9XSUNHL2ZvY3VzLXZpc2libGUpIHRvIGFwcGx5IGEgYGZvY3VzLXZpc2libGVgIGNsYXNzIHRvIG90aGVyIGNvbXBvbmVudHNcbiAgICogaWYgbmVlZGVkLlxuICAgKi9cbiAgZm9jdXNWaXNpYmxlQ2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgaHJlZjogUHJvcFR5cGVzLnN0cmluZyxcbiAgLyoqXG4gICAqIFVzZSB0byBhcHBseSBzZWxlY3RlZCBzdHlsaW5nLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgc2VsZWN0ZWQ6IFByb3BUeXBlcy5ib29sLFxuICAvKipcbiAgICogVGhlIHN5c3RlbSBwcm9wIHRoYXQgYWxsb3dzIGRlZmluaW5nIHN5c3RlbSBvdmVycmlkZXMgYXMgd2VsbCBhcyBhZGRpdGlvbmFsIENTUyBzdHlsZXMuXG4gICAqL1xuICBzeDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3QsIFByb3BUeXBlcy5ib29sXSkpLCBQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdF0pXG59IDogdm9pZCAwO1xuZXhwb3J0IGRlZmF1bHQgTGlzdEl0ZW1CdXR0b247IiwKICAgICJpbXBvcnQgZ2VuZXJhdGVVdGlsaXR5Q2xhc3NlcyBmcm9tICdAbXVpL3V0aWxzL2dlbmVyYXRlVXRpbGl0eUNsYXNzZXMnO1xuaW1wb3J0IGdlbmVyYXRlVXRpbGl0eUNsYXNzIGZyb20gJ0BtdWkvdXRpbHMvZ2VuZXJhdGVVdGlsaXR5Q2xhc3MnO1xuZXhwb3J0IGZ1bmN0aW9uIGdldExpc3RJdGVtQnV0dG9uVXRpbGl0eUNsYXNzKHNsb3QpIHtcbiAgcmV0dXJuIGdlbmVyYXRlVXRpbGl0eUNsYXNzKCdNdWlMaXN0SXRlbUJ1dHRvbicsIHNsb3QpO1xufVxuY29uc3QgbGlzdEl0ZW1CdXR0b25DbGFzc2VzID0gZ2VuZXJhdGVVdGlsaXR5Q2xhc3NlcygnTXVpTGlzdEl0ZW1CdXR0b24nLCBbJ3Jvb3QnLCAnZm9jdXNWaXNpYmxlJywgJ2RlbnNlJywgJ2FsaWduSXRlbXNGbGV4U3RhcnQnLCAnZGlzYWJsZWQnLCAnZGl2aWRlcicsICdndXR0ZXJzJywgJ3NlbGVjdGVkJ10pO1xuZXhwb3J0IGRlZmF1bHQgbGlzdEl0ZW1CdXR0b25DbGFzc2VzOyIsCiAgICAiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgY29tcG9zZUNsYXNzZXMgZnJvbSAnQG11aS91dGlscy9jb21wb3NlQ2xhc3Nlcyc7XG5pbXBvcnQgVHlwb2dyYXBoeSwgeyB0eXBvZ3JhcGh5Q2xhc3NlcyB9IGZyb20gXCIuLi9UeXBvZ3JhcGh5L2luZGV4LmpzXCI7XG5pbXBvcnQgTGlzdENvbnRleHQgZnJvbSBcIi4uL0xpc3QvTGlzdENvbnRleHQuanNcIjtcbmltcG9ydCB7IHN0eWxlZCB9IGZyb20gXCIuLi96ZXJvLXN0eWxlZC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgdXNlRGVmYXVsdFByb3BzIH0gZnJvbSBcIi4uL0RlZmF1bHRQcm9wc1Byb3ZpZGVyL2luZGV4LmpzXCI7XG5pbXBvcnQgbGlzdEl0ZW1UZXh0Q2xhc3NlcywgeyBnZXRMaXN0SXRlbVRleHRVdGlsaXR5Q2xhc3MgfSBmcm9tIFwiLi9saXN0SXRlbVRleHRDbGFzc2VzLmpzXCI7XG5pbXBvcnQgdXNlU2xvdCBmcm9tIFwiLi4vdXRpbHMvdXNlU2xvdC5qc1wiO1xuaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmNvbnN0IHVzZVV0aWxpdHlDbGFzc2VzID0gb3duZXJTdGF0ZSA9PiB7XG4gIGNvbnN0IHtcbiAgICBjbGFzc2VzLFxuICAgIGluc2V0LFxuICAgIHByaW1hcnksXG4gICAgc2Vjb25kYXJ5LFxuICAgIGRlbnNlXG4gIH0gPSBvd25lclN0YXRlO1xuICBjb25zdCBzbG90cyA9IHtcbiAgICByb290OiBbJ3Jvb3QnLCBpbnNldCAmJiAnaW5zZXQnLCBkZW5zZSAmJiAnZGVuc2UnLCBwcmltYXJ5ICYmIHNlY29uZGFyeSAmJiAnbXVsdGlsaW5lJ10sXG4gICAgcHJpbWFyeTogWydwcmltYXJ5J10sXG4gICAgc2Vjb25kYXJ5OiBbJ3NlY29uZGFyeSddXG4gIH07XG4gIHJldHVybiBjb21wb3NlQ2xhc3NlcyhzbG90cywgZ2V0TGlzdEl0ZW1UZXh0VXRpbGl0eUNsYXNzLCBjbGFzc2VzKTtcbn07XG5jb25zdCBMaXN0SXRlbVRleHRSb290ID0gc3R5bGVkKCdkaXYnLCB7XG4gIG5hbWU6ICdNdWlMaXN0SXRlbVRleHQnLFxuICBzbG90OiAnUm9vdCcsXG4gIG92ZXJyaWRlc1Jlc29sdmVyOiAocHJvcHMsIHN0eWxlcykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIG93bmVyU3RhdGVcbiAgICB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIFt7XG4gICAgICBbYCYgLiR7bGlzdEl0ZW1UZXh0Q2xhc3Nlcy5wcmltYXJ5fWBdOiBzdHlsZXMucHJpbWFyeVxuICAgIH0sIHtcbiAgICAgIFtgJiAuJHtsaXN0SXRlbVRleHRDbGFzc2VzLnNlY29uZGFyeX1gXTogc3R5bGVzLnNlY29uZGFyeVxuICAgIH0sIHN0eWxlcy5yb290LCBvd25lclN0YXRlLmluc2V0ICYmIHN0eWxlcy5pbnNldCwgb3duZXJTdGF0ZS5wcmltYXJ5ICYmIG93bmVyU3RhdGUuc2Vjb25kYXJ5ICYmIHN0eWxlcy5tdWx0aWxpbmUsIG93bmVyU3RhdGUuZGVuc2UgJiYgc3R5bGVzLmRlbnNlXTtcbiAgfVxufSkoe1xuICBmbGV4OiAnMSAxIGF1dG8nLFxuICBtaW5XaWR0aDogMCxcbiAgbWFyZ2luVG9wOiA0LFxuICBtYXJnaW5Cb3R0b206IDQsXG4gIFtgLiR7dHlwb2dyYXBoeUNsYXNzZXMucm9vdH06d2hlcmUoJiAuJHtsaXN0SXRlbVRleHRDbGFzc2VzLnByaW1hcnl9KWBdOiB7XG4gICAgZGlzcGxheTogJ2Jsb2NrJ1xuICB9LFxuICBbYC4ke3R5cG9ncmFwaHlDbGFzc2VzLnJvb3R9OndoZXJlKCYgLiR7bGlzdEl0ZW1UZXh0Q2xhc3Nlcy5zZWNvbmRhcnl9KWBdOiB7XG4gICAgZGlzcGxheTogJ2Jsb2NrJ1xuICB9LFxuICB2YXJpYW50czogW3tcbiAgICBwcm9wczogKHtcbiAgICAgIG93bmVyU3RhdGVcbiAgICB9KSA9PiBvd25lclN0YXRlLnByaW1hcnkgJiYgb3duZXJTdGF0ZS5zZWNvbmRhcnksXG4gICAgc3R5bGU6IHtcbiAgICAgIG1hcmdpblRvcDogNixcbiAgICAgIG1hcmdpbkJvdHRvbTogNlxuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiAoe1xuICAgICAgb3duZXJTdGF0ZVxuICAgIH0pID0+IG93bmVyU3RhdGUuaW5zZXQsXG4gICAgc3R5bGU6IHtcbiAgICAgIHBhZGRpbmdMZWZ0OiA1NlxuICAgIH1cbiAgfV1cbn0pO1xuY29uc3QgTGlzdEl0ZW1UZXh0ID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gTGlzdEl0ZW1UZXh0KGluUHJvcHMsIHJlZikge1xuICBjb25zdCBwcm9wcyA9IHVzZURlZmF1bHRQcm9wcyh7XG4gICAgcHJvcHM6IGluUHJvcHMsXG4gICAgbmFtZTogJ011aUxpc3RJdGVtVGV4dCdcbiAgfSk7XG4gIGNvbnN0IHtcbiAgICBjaGlsZHJlbixcbiAgICBjbGFzc05hbWUsXG4gICAgZGlzYWJsZVR5cG9ncmFwaHkgPSBmYWxzZSxcbiAgICBpbnNldCA9IGZhbHNlLFxuICAgIHByaW1hcnk6IHByaW1hcnlQcm9wLFxuICAgIHByaW1hcnlUeXBvZ3JhcGh5UHJvcHMsXG4gICAgc2Vjb25kYXJ5OiBzZWNvbmRhcnlQcm9wLFxuICAgIHNlY29uZGFyeVR5cG9ncmFwaHlQcm9wcyxcbiAgICBzbG90cyA9IHt9LFxuICAgIHNsb3RQcm9wcyA9IHt9LFxuICAgIC4uLm90aGVyXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qge1xuICAgIGRlbnNlXG4gIH0gPSBSZWFjdC51c2VDb250ZXh0KExpc3RDb250ZXh0KTtcbiAgbGV0IHByaW1hcnkgPSBwcmltYXJ5UHJvcCAhPSBudWxsID8gcHJpbWFyeVByb3AgOiBjaGlsZHJlbjtcbiAgbGV0IHNlY29uZGFyeSA9IHNlY29uZGFyeVByb3A7XG4gIGNvbnN0IG93bmVyU3RhdGUgPSB7XG4gICAgLi4ucHJvcHMsXG4gICAgZGlzYWJsZVR5cG9ncmFwaHksXG4gICAgaW5zZXQsXG4gICAgcHJpbWFyeTogISFwcmltYXJ5LFxuICAgIHNlY29uZGFyeTogISFzZWNvbmRhcnksXG4gICAgZGVuc2VcbiAgfTtcbiAgY29uc3QgY2xhc3NlcyA9IHVzZVV0aWxpdHlDbGFzc2VzKG93bmVyU3RhdGUpO1xuICBjb25zdCBleHRlcm5hbEZvcndhcmRlZFByb3BzID0ge1xuICAgIHNsb3RzLFxuICAgIHNsb3RQcm9wczoge1xuICAgICAgcHJpbWFyeTogcHJpbWFyeVR5cG9ncmFwaHlQcm9wcyxcbiAgICAgIHNlY29uZGFyeTogc2Vjb25kYXJ5VHlwb2dyYXBoeVByb3BzLFxuICAgICAgLi4uc2xvdFByb3BzXG4gICAgfVxuICB9O1xuICBjb25zdCBbUm9vdFNsb3QsIHJvb3RTbG90UHJvcHNdID0gdXNlU2xvdCgncm9vdCcsIHtcbiAgICBjbGFzc05hbWU6IGNsc3goY2xhc3Nlcy5yb290LCBjbGFzc05hbWUpLFxuICAgIGVsZW1lbnRUeXBlOiBMaXN0SXRlbVRleHRSb290LFxuICAgIGV4dGVybmFsRm9yd2FyZGVkUHJvcHM6IHtcbiAgICAgIC4uLmV4dGVybmFsRm9yd2FyZGVkUHJvcHMsXG4gICAgICAuLi5vdGhlclxuICAgIH0sXG4gICAgb3duZXJTdGF0ZSxcbiAgICByZWZcbiAgfSk7XG4gIGNvbnN0IFtQcmltYXJ5U2xvdCwgcHJpbWFyeVNsb3RQcm9wc10gPSB1c2VTbG90KCdwcmltYXJ5Jywge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5wcmltYXJ5LFxuICAgIGVsZW1lbnRUeXBlOiBUeXBvZ3JhcGh5LFxuICAgIGV4dGVybmFsRm9yd2FyZGVkUHJvcHMsXG4gICAgb3duZXJTdGF0ZVxuICB9KTtcbiAgY29uc3QgW1NlY29uZGFyeVNsb3QsIHNlY29uZGFyeVNsb3RQcm9wc10gPSB1c2VTbG90KCdzZWNvbmRhcnknLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnNlY29uZGFyeSxcbiAgICBlbGVtZW50VHlwZTogVHlwb2dyYXBoeSxcbiAgICBleHRlcm5hbEZvcndhcmRlZFByb3BzLFxuICAgIG93bmVyU3RhdGVcbiAgfSk7XG4gIGlmIChwcmltYXJ5ICE9IG51bGwgJiYgcHJpbWFyeS50eXBlICE9PSBUeXBvZ3JhcGh5ICYmICFkaXNhYmxlVHlwb2dyYXBoeSkge1xuICAgIHByaW1hcnkgPSAvKiNfX1BVUkVfXyovX2pzeChQcmltYXJ5U2xvdCwge1xuICAgICAgdmFyaWFudDogZGVuc2UgPyAnYm9keTInIDogJ2JvZHkxJyxcbiAgICAgIGNvbXBvbmVudDogcHJpbWFyeVNsb3RQcm9wcz8udmFyaWFudCA/IHVuZGVmaW5lZCA6ICdzcGFuJyxcbiAgICAgIC4uLnByaW1hcnlTbG90UHJvcHMsXG4gICAgICBjaGlsZHJlbjogcHJpbWFyeVxuICAgIH0pO1xuICB9XG4gIGlmIChzZWNvbmRhcnkgIT0gbnVsbCAmJiBzZWNvbmRhcnkudHlwZSAhPT0gVHlwb2dyYXBoeSAmJiAhZGlzYWJsZVR5cG9ncmFwaHkpIHtcbiAgICBzZWNvbmRhcnkgPSAvKiNfX1BVUkVfXyovX2pzeChTZWNvbmRhcnlTbG90LCB7XG4gICAgICB2YXJpYW50OiBcImJvZHkyXCIsXG4gICAgICBjb2xvcjogXCJ0ZXh0U2Vjb25kYXJ5XCIsXG4gICAgICAuLi5zZWNvbmRhcnlTbG90UHJvcHMsXG4gICAgICBjaGlsZHJlbjogc2Vjb25kYXJ5XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4cyhSb290U2xvdCwge1xuICAgIC4uLnJvb3RTbG90UHJvcHMsXG4gICAgY2hpbGRyZW46IFtwcmltYXJ5LCBzZWNvbmRhcnldXG4gIH0pO1xufSk7XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBMaXN0SXRlbVRleHQucHJvcFR5cGVzIC8qIHJlbW92ZS1wcm9wdHlwZXMgKi8gPSB7XG4gIC8vIOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBXYXJuaW5nIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuICAvLyDilIIgVGhlc2UgUHJvcFR5cGVzIGFyZSBnZW5lcmF0ZWQgZnJvbSB0aGUgVHlwZVNjcmlwdCB0eXBlIGRlZmluaXRpb25zLiDilIJcbiAgLy8g4pSCICAgIFRvIHVwZGF0ZSB0aGVtLCBlZGl0IHRoZSBkLnRzIGZpbGUgYW5kIHJ1biBgcG5wbSBwcm9wdHlwZXNgLiAgICAg4pSCXG4gIC8vIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmFxuICAvKipcbiAgICogQWxpYXMgZm9yIHRoZSBgcHJpbWFyeWAgcHJvcC5cbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIG9yIGV4dGVuZCB0aGUgc3R5bGVzIGFwcGxpZWQgdG8gdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBjaGlsZHJlbiB3b24ndCBiZSB3cmFwcGVkIGJ5IGEgVHlwb2dyYXBoeSBjb21wb25lbnQuXG4gICAqIFRoaXMgY2FuIGJlIHVzZWZ1bCB0byByZW5kZXIgYW4gYWx0ZXJuYXRpdmUgVHlwb2dyYXBoeSB2YXJpYW50IGJ5IHdyYXBwaW5nXG4gICAqIHRoZSBgY2hpbGRyZW5gIChvciBgcHJpbWFyeWApIHRleHQsIGFuZCBvcHRpb25hbCBgc2Vjb25kYXJ5YCB0ZXh0XG4gICAqIHdpdGggdGhlIFR5cG9ncmFwaHkgY29tcG9uZW50LlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZGlzYWJsZVR5cG9ncmFwaHk6IFByb3BUeXBlcy5ib29sLFxuICAvKipcbiAgICogSWYgYHRydWVgLCB0aGUgY2hpbGRyZW4gYXJlIGluZGVudGVkLlxuICAgKiBUaGlzIHNob3VsZCBiZSB1c2VkIGlmIHRoZXJlIGlzIG5vIGxlZnQgYXZhdGFyIG9yIGxlZnQgaWNvbi5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGluc2V0OiBQcm9wVHlwZXMuYm9vbCxcbiAgLyoqXG4gICAqIFRoZSBtYWluIGNvbnRlbnQgZWxlbWVudC5cbiAgICovXG4gIHByaW1hcnk6IFByb3BUeXBlcy5ub2RlLFxuICAvKipcbiAgICogVGhlc2UgcHJvcHMgd2lsbCBiZSBmb3J3YXJkZWQgdG8gdGhlIHByaW1hcnkgdHlwb2dyYXBoeSBjb21wb25lbnRcbiAgICogKGFzIGxvbmcgYXMgZGlzYWJsZVR5cG9ncmFwaHkgaXMgbm90IGB0cnVlYCkuXG4gICAqIEBkZXByZWNhdGVkIFVzZSBgc2xvdFByb3BzLnByaW1hcnlgIGluc3RlYWQuIFRoaXMgcHJvcCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgbWFqb3IgcmVsZWFzZS4gU2VlIFtNaWdyYXRpbmcgZnJvbSBkZXByZWNhdGVkIEFQSXNdKC9tYXRlcmlhbC11aS9taWdyYXRpb24vbWlncmF0aW5nLWZyb20tZGVwcmVjYXRlZC1hcGlzLykgZm9yIG1vcmUgZGV0YWlscy5cbiAgICovXG4gIHByaW1hcnlUeXBvZ3JhcGh5UHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG4gIC8qKlxuICAgKiBUaGUgc2Vjb25kYXJ5IGNvbnRlbnQgZWxlbWVudC5cbiAgICovXG4gIHNlY29uZGFyeTogUHJvcFR5cGVzLm5vZGUsXG4gIC8qKlxuICAgKiBUaGVzZSBwcm9wcyB3aWxsIGJlIGZvcndhcmRlZCB0byB0aGUgc2Vjb25kYXJ5IHR5cG9ncmFwaHkgY29tcG9uZW50XG4gICAqIChhcyBsb25nIGFzIGRpc2FibGVUeXBvZ3JhcGh5IGlzIG5vdCBgdHJ1ZWApLlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgYHNsb3RQcm9wcy5zZWNvbmRhcnlgIGluc3RlYWQuIFRoaXMgcHJvcCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgbWFqb3IgcmVsZWFzZS4gU2VlIFtNaWdyYXRpbmcgZnJvbSBkZXByZWNhdGVkIEFQSXNdKC9tYXRlcmlhbC11aS9taWdyYXRpb24vbWlncmF0aW5nLWZyb20tZGVwcmVjYXRlZC1hcGlzLykgZm9yIG1vcmUgZGV0YWlscy5cbiAgICovXG4gIHNlY29uZGFyeVR5cG9ncmFwaHlQcm9wczogUHJvcFR5cGVzLm9iamVjdCxcbiAgLyoqXG4gICAqIFRoZSBwcm9wcyB1c2VkIGZvciBlYWNoIHNsb3QgaW5zaWRlLlxuICAgKiBAZGVmYXVsdCB7fVxuICAgKi9cbiAgc2xvdFByb3BzOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIHByaW1hcnk6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0XSksXG4gICAgcm9vdDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3RdKSxcbiAgICBzZWNvbmRhcnk6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0XSlcbiAgfSksXG4gIC8qKlxuICAgKiBUaGUgY29tcG9uZW50cyB1c2VkIGZvciBlYWNoIHNsb3QgaW5zaWRlLlxuICAgKiBAZGVmYXVsdCB7fVxuICAgKi9cbiAgc2xvdHM6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgcHJpbWFyeTogUHJvcFR5cGVzLmVsZW1lbnRUeXBlLFxuICAgIHJvb3Q6IFByb3BUeXBlcy5lbGVtZW50VHlwZSxcbiAgICBzZWNvbmRhcnk6IFByb3BUeXBlcy5lbGVtZW50VHlwZVxuICB9KSxcbiAgLyoqXG4gICAqIFRoZSBzeXN0ZW0gcHJvcCB0aGF0IGFsbG93cyBkZWZpbmluZyBzeXN0ZW0gb3ZlcnJpZGVzIGFzIHdlbGwgYXMgYWRkaXRpb25hbCBDU1Mgc3R5bGVzLlxuICAgKi9cbiAgc3g6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0LCBQcm9wVHlwZXMuYm9vbF0pKSwgUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3RdKVxufSA6IHZvaWQgMDtcbmV4cG9ydCBkZWZhdWx0IExpc3RJdGVtVGV4dDsiLAogICAgImltcG9ydCBnZW5lcmF0ZVV0aWxpdHlDbGFzc2VzIGZyb20gJ0BtdWkvdXRpbHMvZ2VuZXJhdGVVdGlsaXR5Q2xhc3Nlcyc7XG5pbXBvcnQgZ2VuZXJhdGVVdGlsaXR5Q2xhc3MgZnJvbSAnQG11aS91dGlscy9nZW5lcmF0ZVV0aWxpdHlDbGFzcyc7XG5leHBvcnQgZnVuY3Rpb24gZ2V0TGlzdEl0ZW1UZXh0VXRpbGl0eUNsYXNzKHNsb3QpIHtcbiAgcmV0dXJuIGdlbmVyYXRlVXRpbGl0eUNsYXNzKCdNdWlMaXN0SXRlbVRleHQnLCBzbG90KTtcbn1cbmNvbnN0IGxpc3RJdGVtVGV4dENsYXNzZXMgPSBnZW5lcmF0ZVV0aWxpdHlDbGFzc2VzKCdNdWlMaXN0SXRlbVRleHQnLCBbJ3Jvb3QnLCAnbXVsdGlsaW5lJywgJ2RlbnNlJywgJ2luc2V0JywgJ3ByaW1hcnknLCAnc2Vjb25kYXJ5J10pO1xuZXhwb3J0IGRlZmF1bHQgbGlzdEl0ZW1UZXh0Q2xhc3NlczsiLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnO1xuaW1wb3J0IHVzZVRpbWVvdXQsIHsgVGltZW91dCB9IGZyb20gJ0BtdWkvdXRpbHMvdXNlVGltZW91dCc7XG5pbXBvcnQgZWxlbWVudEFjY2VwdGluZ1JlZiBmcm9tICdAbXVpL3V0aWxzL2VsZW1lbnRBY2NlcHRpbmdSZWYnO1xuaW1wb3J0IGNvbXBvc2VDbGFzc2VzIGZyb20gJ0BtdWkvdXRpbHMvY29tcG9zZUNsYXNzZXMnO1xuaW1wb3J0IHsgdXNlUnRsIH0gZnJvbSAnQG11aS9zeXN0ZW0vUnRsUHJvdmlkZXInO1xuaW1wb3J0IGlzRm9jdXNWaXNpYmxlIGZyb20gJ0BtdWkvdXRpbHMvaXNGb2N1c1Zpc2libGUnO1xuaW1wb3J0IGdldFJlYWN0RWxlbWVudFJlZiBmcm9tICdAbXVpL3V0aWxzL2dldFJlYWN0RWxlbWVudFJlZic7XG5pbXBvcnQgeyBzdHlsZWQsIHVzZVRoZW1lIH0gZnJvbSBcIi4uL3plcm8tc3R5bGVkL2luZGV4LmpzXCI7XG5pbXBvcnQgbWVtb1RoZW1lIGZyb20gXCIuLi91dGlscy9tZW1vVGhlbWUuanNcIjtcbmltcG9ydCB7IHVzZURlZmF1bHRQcm9wcyB9IGZyb20gXCIuLi9EZWZhdWx0UHJvcHNQcm92aWRlci9pbmRleC5qc1wiO1xuaW1wb3J0IGNhcGl0YWxpemUgZnJvbSBcIi4uL3V0aWxzL2NhcGl0YWxpemUuanNcIjtcbmltcG9ydCBHcm93IGZyb20gXCIuLi9Hcm93L2luZGV4LmpzXCI7XG5pbXBvcnQgUG9wcGVyIGZyb20gXCIuLi9Qb3BwZXIvaW5kZXguanNcIjtcbmltcG9ydCB1c2VFdmVudENhbGxiYWNrIGZyb20gXCIuLi91dGlscy91c2VFdmVudENhbGxiYWNrLmpzXCI7XG5pbXBvcnQgdXNlRm9ya1JlZiBmcm9tIFwiLi4vdXRpbHMvdXNlRm9ya1JlZi5qc1wiO1xuaW1wb3J0IHVzZUlkIGZyb20gXCIuLi91dGlscy91c2VJZC5qc1wiO1xuaW1wb3J0IHVzZUNvbnRyb2xsZWQgZnJvbSBcIi4uL3V0aWxzL3VzZUNvbnRyb2xsZWQuanNcIjtcbmltcG9ydCB1c2VTbG90IGZyb20gXCIuLi91dGlscy91c2VTbG90LmpzXCI7XG5pbXBvcnQgdG9vbHRpcENsYXNzZXMsIHsgZ2V0VG9vbHRpcFV0aWxpdHlDbGFzcyB9IGZyb20gXCIuL3Rvb2x0aXBDbGFzc2VzLmpzXCI7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZnVuY3Rpb24gcm91bmQodmFsdWUpIHtcbiAgcmV0dXJuIE1hdGgucm91bmQodmFsdWUgKiAxZTUpIC8gMWU1O1xufVxuY29uc3QgdXNlVXRpbGl0eUNsYXNzZXMgPSBvd25lclN0YXRlID0+IHtcbiAgY29uc3Qge1xuICAgIGNsYXNzZXMsXG4gICAgZGlzYWJsZUludGVyYWN0aXZlLFxuICAgIGFycm93LFxuICAgIHRvdWNoLFxuICAgIHBsYWNlbWVudFxuICB9ID0gb3duZXJTdGF0ZTtcbiAgY29uc3Qgc2xvdHMgPSB7XG4gICAgcG9wcGVyOiBbJ3BvcHBlcicsICFkaXNhYmxlSW50ZXJhY3RpdmUgJiYgJ3BvcHBlckludGVyYWN0aXZlJywgYXJyb3cgJiYgJ3BvcHBlckFycm93J10sXG4gICAgdG9vbHRpcDogWyd0b29sdGlwJywgYXJyb3cgJiYgJ3Rvb2x0aXBBcnJvdycsIHRvdWNoICYmICd0b3VjaCcsIGB0b29sdGlwUGxhY2VtZW50JHtjYXBpdGFsaXplKHBsYWNlbWVudC5zcGxpdCgnLScpWzBdKX1gXSxcbiAgICBhcnJvdzogWydhcnJvdyddXG4gIH07XG4gIHJldHVybiBjb21wb3NlQ2xhc3NlcyhzbG90cywgZ2V0VG9vbHRpcFV0aWxpdHlDbGFzcywgY2xhc3Nlcyk7XG59O1xuY29uc3QgVG9vbHRpcFBvcHBlciA9IHN0eWxlZChQb3BwZXIsIHtcbiAgbmFtZTogJ011aVRvb2x0aXAnLFxuICBzbG90OiAnUG9wcGVyJyxcbiAgb3ZlcnJpZGVzUmVzb2x2ZXI6IChwcm9wcywgc3R5bGVzKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgb3duZXJTdGF0ZVxuICAgIH0gPSBwcm9wcztcbiAgICByZXR1cm4gW3N0eWxlcy5wb3BwZXIsICFvd25lclN0YXRlLmRpc2FibGVJbnRlcmFjdGl2ZSAmJiBzdHlsZXMucG9wcGVySW50ZXJhY3RpdmUsIG93bmVyU3RhdGUuYXJyb3cgJiYgc3R5bGVzLnBvcHBlckFycm93LCAhb3duZXJTdGF0ZS5vcGVuICYmIHN0eWxlcy5wb3BwZXJDbG9zZV07XG4gIH1cbn0pKG1lbW9UaGVtZSgoe1xuICB0aGVtZVxufSkgPT4gKHtcbiAgekluZGV4OiAodGhlbWUudmFycyB8fCB0aGVtZSkuekluZGV4LnRvb2x0aXAsXG4gIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgdmFyaWFudHM6IFt7XG4gICAgcHJvcHM6ICh7XG4gICAgICBvd25lclN0YXRlXG4gICAgfSkgPT4gIW93bmVyU3RhdGUuZGlzYWJsZUludGVyYWN0aXZlLFxuICAgIHN0eWxlOiB7XG4gICAgICBwb2ludGVyRXZlbnRzOiAnYXV0bydcbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczogKHtcbiAgICAgIG9wZW5cbiAgICB9KSA9PiAhb3BlbixcbiAgICBzdHlsZToge1xuICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnXG4gICAgfVxuICB9LCB7XG4gICAgcHJvcHM6ICh7XG4gICAgICBvd25lclN0YXRlXG4gICAgfSkgPT4gb3duZXJTdGF0ZS5hcnJvdyxcbiAgICBzdHlsZToge1xuICAgICAgW2AmW2RhdGEtcG9wcGVyLXBsYWNlbWVudCo9XCJib3R0b21cIl0gLiR7dG9vbHRpcENsYXNzZXMuYXJyb3d9YF06IHtcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICBtYXJnaW5Ub3A6ICctMC43MWVtJyxcbiAgICAgICAgJyY6OmJlZm9yZSc6IHtcbiAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW46ICcwIDEwMCUnXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBbYCZbZGF0YS1wb3BwZXItcGxhY2VtZW50Kj1cInRvcFwiXSAuJHt0b29sdGlwQ2xhc3Nlcy5hcnJvd31gXToge1xuICAgICAgICBib3R0b206IDAsXG4gICAgICAgIG1hcmdpbkJvdHRvbTogJy0wLjcxZW0nLFxuICAgICAgICAnJjo6YmVmb3JlJzoge1xuICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbjogJzEwMCUgMCdcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFtgJltkYXRhLXBvcHBlci1wbGFjZW1lbnQqPVwicmlnaHRcIl0gLiR7dG9vbHRpcENsYXNzZXMuYXJyb3d9YF06IHtcbiAgICAgICAgaGVpZ2h0OiAnMWVtJyxcbiAgICAgICAgd2lkdGg6ICcwLjcxZW0nLFxuICAgICAgICAnJjo6YmVmb3JlJzoge1xuICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbjogJzEwMCUgMTAwJSdcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFtgJltkYXRhLXBvcHBlci1wbGFjZW1lbnQqPVwibGVmdFwiXSAuJHt0b29sdGlwQ2xhc3Nlcy5hcnJvd31gXToge1xuICAgICAgICBoZWlnaHQ6ICcxZW0nLFxuICAgICAgICB3aWR0aDogJzAuNzFlbScsXG4gICAgICAgICcmOjpiZWZvcmUnOiB7XG4gICAgICAgICAgdHJhbnNmb3JtT3JpZ2luOiAnMCAwJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAgcHJvcHM6ICh7XG4gICAgICBvd25lclN0YXRlXG4gICAgfSkgPT4gb3duZXJTdGF0ZS5hcnJvdyAmJiAhb3duZXJTdGF0ZS5pc1J0bCxcbiAgICBzdHlsZToge1xuICAgICAgW2AmW2RhdGEtcG9wcGVyLXBsYWNlbWVudCo9XCJyaWdodFwiXSAuJHt0b29sdGlwQ2xhc3Nlcy5hcnJvd31gXToge1xuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICBtYXJnaW5MZWZ0OiAnLTAuNzFlbSdcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczogKHtcbiAgICAgIG93bmVyU3RhdGVcbiAgICB9KSA9PiBvd25lclN0YXRlLmFycm93ICYmICEhb3duZXJTdGF0ZS5pc1J0bCxcbiAgICBzdHlsZToge1xuICAgICAgW2AmW2RhdGEtcG9wcGVyLXBsYWNlbWVudCo9XCJyaWdodFwiXSAuJHt0b29sdGlwQ2xhc3Nlcy5hcnJvd31gXToge1xuICAgICAgICByaWdodDogMCxcbiAgICAgICAgbWFyZ2luUmlnaHQ6ICctMC43MWVtJ1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiAoe1xuICAgICAgb3duZXJTdGF0ZVxuICAgIH0pID0+IG93bmVyU3RhdGUuYXJyb3cgJiYgIW93bmVyU3RhdGUuaXNSdGwsXG4gICAgc3R5bGU6IHtcbiAgICAgIFtgJltkYXRhLXBvcHBlci1wbGFjZW1lbnQqPVwibGVmdFwiXSAuJHt0b29sdGlwQ2xhc3Nlcy5hcnJvd31gXToge1xuICAgICAgICByaWdodDogMCxcbiAgICAgICAgbWFyZ2luUmlnaHQ6ICctMC43MWVtJ1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiAoe1xuICAgICAgb3duZXJTdGF0ZVxuICAgIH0pID0+IG93bmVyU3RhdGUuYXJyb3cgJiYgISFvd25lclN0YXRlLmlzUnRsLFxuICAgIHN0eWxlOiB7XG4gICAgICBbYCZbZGF0YS1wb3BwZXItcGxhY2VtZW50Kj1cImxlZnRcIl0gLiR7dG9vbHRpcENsYXNzZXMuYXJyb3d9YF06IHtcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgbWFyZ2luTGVmdDogJy0wLjcxZW0nXG4gICAgICB9XG4gICAgfVxuICB9XVxufSkpKTtcbmNvbnN0IFRvb2x0aXBUb29sdGlwID0gc3R5bGVkKCdkaXYnLCB7XG4gIG5hbWU6ICdNdWlUb29sdGlwJyxcbiAgc2xvdDogJ1Rvb2x0aXAnLFxuICBvdmVycmlkZXNSZXNvbHZlcjogKHByb3BzLCBzdHlsZXMpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBvd25lclN0YXRlXG4gICAgfSA9IHByb3BzO1xuICAgIHJldHVybiBbc3R5bGVzLnRvb2x0aXAsIG93bmVyU3RhdGUudG91Y2ggJiYgc3R5bGVzLnRvdWNoLCBvd25lclN0YXRlLmFycm93ICYmIHN0eWxlcy50b29sdGlwQXJyb3csIHN0eWxlc1tgdG9vbHRpcFBsYWNlbWVudCR7Y2FwaXRhbGl6ZShvd25lclN0YXRlLnBsYWNlbWVudC5zcGxpdCgnLScpWzBdKX1gXV07XG4gIH1cbn0pKG1lbW9UaGVtZSgoe1xuICB0aGVtZVxufSkgPT4gKHtcbiAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS52YXJzID8gdGhlbWUudmFycy5wYWxldHRlLlRvb2x0aXAuYmcgOiB0aGVtZS5hbHBoYSh0aGVtZS5wYWxldHRlLmdyZXlbNzAwXSwgMC45MiksXG4gIGJvcmRlclJhZGl1czogKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnNoYXBlLmJvcmRlclJhZGl1cyxcbiAgY29sb3I6ICh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgZm9udEZhbWlseTogdGhlbWUudHlwb2dyYXBoeS5mb250RmFtaWx5LFxuICBwYWRkaW5nOiAnNHB4IDhweCcsXG4gIGZvbnRTaXplOiB0aGVtZS50eXBvZ3JhcGh5LnB4VG9SZW0oMTEpLFxuICBtYXhXaWR0aDogMzAwLFxuICBtYXJnaW46IDIsXG4gIHdvcmRXcmFwOiAnYnJlYWstd29yZCcsXG4gIGZvbnRXZWlnaHQ6IHRoZW1lLnR5cG9ncmFwaHkuZm9udFdlaWdodE1lZGl1bSxcbiAgW2AuJHt0b29sdGlwQ2xhc3Nlcy5wb3BwZXJ9W2RhdGEtcG9wcGVyLXBsYWNlbWVudCo9XCJsZWZ0XCJdICZgXToge1xuICAgIHRyYW5zZm9ybU9yaWdpbjogJ3JpZ2h0IGNlbnRlcidcbiAgfSxcbiAgW2AuJHt0b29sdGlwQ2xhc3Nlcy5wb3BwZXJ9W2RhdGEtcG9wcGVyLXBsYWNlbWVudCo9XCJyaWdodFwiXSAmYF06IHtcbiAgICB0cmFuc2Zvcm1PcmlnaW46ICdsZWZ0IGNlbnRlcidcbiAgfSxcbiAgW2AuJHt0b29sdGlwQ2xhc3Nlcy5wb3BwZXJ9W2RhdGEtcG9wcGVyLXBsYWNlbWVudCo9XCJ0b3BcIl0gJmBdOiB7XG4gICAgdHJhbnNmb3JtT3JpZ2luOiAnY2VudGVyIGJvdHRvbScsXG4gICAgbWFyZ2luQm90dG9tOiAnMTRweCdcbiAgfSxcbiAgW2AuJHt0b29sdGlwQ2xhc3Nlcy5wb3BwZXJ9W2RhdGEtcG9wcGVyLXBsYWNlbWVudCo9XCJib3R0b21cIl0gJmBdOiB7XG4gICAgdHJhbnNmb3JtT3JpZ2luOiAnY2VudGVyIHRvcCcsXG4gICAgbWFyZ2luVG9wOiAnMTRweCdcbiAgfSxcbiAgdmFyaWFudHM6IFt7XG4gICAgcHJvcHM6ICh7XG4gICAgICBvd25lclN0YXRlXG4gICAgfSkgPT4gb3duZXJTdGF0ZS5hcnJvdyxcbiAgICBzdHlsZToge1xuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICBtYXJnaW46IDBcbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczogKHtcbiAgICAgIG93bmVyU3RhdGVcbiAgICB9KSA9PiBvd25lclN0YXRlLnRvdWNoLFxuICAgIHN0eWxlOiB7XG4gICAgICBwYWRkaW5nOiAnOHB4IDE2cHgnLFxuICAgICAgZm9udFNpemU6IHRoZW1lLnR5cG9ncmFwaHkucHhUb1JlbSgxNCksXG4gICAgICBsaW5lSGVpZ2h0OiBgJHtyb3VuZCgxNiAvIDE0KX1lbWAsXG4gICAgICBmb250V2VpZ2h0OiB0aGVtZS50eXBvZ3JhcGh5LmZvbnRXZWlnaHRSZWd1bGFyXG4gICAgfVxuICB9LCB7XG4gICAgcHJvcHM6ICh7XG4gICAgICBvd25lclN0YXRlXG4gICAgfSkgPT4gIW93bmVyU3RhdGUuaXNSdGwsXG4gICAgc3R5bGU6IHtcbiAgICAgIFtgLiR7dG9vbHRpcENsYXNzZXMucG9wcGVyfVtkYXRhLXBvcHBlci1wbGFjZW1lbnQqPVwibGVmdFwiXSAmYF06IHtcbiAgICAgICAgbWFyZ2luUmlnaHQ6ICcxNHB4J1xuICAgICAgfSxcbiAgICAgIFtgLiR7dG9vbHRpcENsYXNzZXMucG9wcGVyfVtkYXRhLXBvcHBlci1wbGFjZW1lbnQqPVwicmlnaHRcIl0gJmBdOiB7XG4gICAgICAgIG1hcmdpbkxlZnQ6ICcxNHB4J1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiAoe1xuICAgICAgb3duZXJTdGF0ZVxuICAgIH0pID0+ICFvd25lclN0YXRlLmlzUnRsICYmIG93bmVyU3RhdGUudG91Y2gsXG4gICAgc3R5bGU6IHtcbiAgICAgIFtgLiR7dG9vbHRpcENsYXNzZXMucG9wcGVyfVtkYXRhLXBvcHBlci1wbGFjZW1lbnQqPVwibGVmdFwiXSAmYF06IHtcbiAgICAgICAgbWFyZ2luUmlnaHQ6ICcyNHB4J1xuICAgICAgfSxcbiAgICAgIFtgLiR7dG9vbHRpcENsYXNzZXMucG9wcGVyfVtkYXRhLXBvcHBlci1wbGFjZW1lbnQqPVwicmlnaHRcIl0gJmBdOiB7XG4gICAgICAgIG1hcmdpbkxlZnQ6ICcyNHB4J1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiAoe1xuICAgICAgb3duZXJTdGF0ZVxuICAgIH0pID0+ICEhb3duZXJTdGF0ZS5pc1J0bCxcbiAgICBzdHlsZToge1xuICAgICAgW2AuJHt0b29sdGlwQ2xhc3Nlcy5wb3BwZXJ9W2RhdGEtcG9wcGVyLXBsYWNlbWVudCo9XCJsZWZ0XCJdICZgXToge1xuICAgICAgICBtYXJnaW5MZWZ0OiAnMTRweCdcbiAgICAgIH0sXG4gICAgICBbYC4ke3Rvb2x0aXBDbGFzc2VzLnBvcHBlcn1bZGF0YS1wb3BwZXItcGxhY2VtZW50Kj1cInJpZ2h0XCJdICZgXToge1xuICAgICAgICBtYXJnaW5SaWdodDogJzE0cHgnXG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAgcHJvcHM6ICh7XG4gICAgICBvd25lclN0YXRlXG4gICAgfSkgPT4gISFvd25lclN0YXRlLmlzUnRsICYmIG93bmVyU3RhdGUudG91Y2gsXG4gICAgc3R5bGU6IHtcbiAgICAgIFtgLiR7dG9vbHRpcENsYXNzZXMucG9wcGVyfVtkYXRhLXBvcHBlci1wbGFjZW1lbnQqPVwibGVmdFwiXSAmYF06IHtcbiAgICAgICAgbWFyZ2luTGVmdDogJzI0cHgnXG4gICAgICB9LFxuICAgICAgW2AuJHt0b29sdGlwQ2xhc3Nlcy5wb3BwZXJ9W2RhdGEtcG9wcGVyLXBsYWNlbWVudCo9XCJyaWdodFwiXSAmYF06IHtcbiAgICAgICAgbWFyZ2luUmlnaHQ6ICcyNHB4J1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiAoe1xuICAgICAgb3duZXJTdGF0ZVxuICAgIH0pID0+IG93bmVyU3RhdGUudG91Y2gsXG4gICAgc3R5bGU6IHtcbiAgICAgIFtgLiR7dG9vbHRpcENsYXNzZXMucG9wcGVyfVtkYXRhLXBvcHBlci1wbGFjZW1lbnQqPVwidG9wXCJdICZgXToge1xuICAgICAgICBtYXJnaW5Cb3R0b206ICcyNHB4J1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIHByb3BzOiAoe1xuICAgICAgb3duZXJTdGF0ZVxuICAgIH0pID0+IG93bmVyU3RhdGUudG91Y2gsXG4gICAgc3R5bGU6IHtcbiAgICAgIFtgLiR7dG9vbHRpcENsYXNzZXMucG9wcGVyfVtkYXRhLXBvcHBlci1wbGFjZW1lbnQqPVwiYm90dG9tXCJdICZgXToge1xuICAgICAgICBtYXJnaW5Ub3A6ICcyNHB4J1xuICAgICAgfVxuICAgIH1cbiAgfV1cbn0pKSk7XG5jb25zdCBUb29sdGlwQXJyb3cgPSBzdHlsZWQoJ3NwYW4nLCB7XG4gIG5hbWU6ICdNdWlUb29sdGlwJyxcbiAgc2xvdDogJ0Fycm93J1xufSkobWVtb1RoZW1lKCh7XG4gIHRoZW1lXG59KSA9PiAoe1xuICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICB3aWR0aDogJzFlbScsXG4gIGhlaWdodDogJzAuNzFlbScgLyogPSB3aWR0aCAvIHNxcnQoMikgPSAobGVuZ3RoIG9mIHRoZSBoeXBvdGVudXNlKSAqLyxcbiAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gIGNvbG9yOiB0aGVtZS52YXJzID8gdGhlbWUudmFycy5wYWxldHRlLlRvb2x0aXAuYmcgOiB0aGVtZS5hbHBoYSh0aGVtZS5wYWxldHRlLmdyZXlbNzAwXSwgMC45KSxcbiAgJyY6OmJlZm9yZSc6IHtcbiAgICBjb250ZW50OiAnXCJcIicsXG4gICAgbWFyZ2luOiAnYXV0bycsXG4gICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICB3aWR0aDogJzEwMCUnLFxuICAgIGhlaWdodDogJzEwMCUnLFxuICAgIGJhY2tncm91bmRDb2xvcjogJ2N1cnJlbnRDb2xvcicsXG4gICAgdHJhbnNmb3JtOiAncm90YXRlKDQ1ZGVnKSdcbiAgfVxufSkpKTtcbmxldCBoeXN0ZXJzaXNPcGVuID0gZmFsc2U7XG5jb25zdCBoeXN0ZXJzaXNUaW1lciA9IG5ldyBUaW1lb3V0KCk7XG5sZXQgY3Vyc29yUG9zaXRpb24gPSB7XG4gIHg6IDAsXG4gIHk6IDBcbn07XG5leHBvcnQgZnVuY3Rpb24gdGVzdFJlc2V0KCkge1xuICBoeXN0ZXJzaXNPcGVuID0gZmFsc2U7XG4gIGh5c3RlcnNpc1RpbWVyLmNsZWFyKCk7XG59XG5mdW5jdGlvbiBjb21wb3NlRXZlbnRIYW5kbGVyKGhhbmRsZXIsIGV2ZW50SGFuZGxlcikge1xuICByZXR1cm4gKGV2ZW50LCAuLi5wYXJhbXMpID0+IHtcbiAgICBpZiAoZXZlbnRIYW5kbGVyKSB7XG4gICAgICBldmVudEhhbmRsZXIoZXZlbnQsIC4uLnBhcmFtcyk7XG4gICAgfVxuICAgIGhhbmRsZXIoZXZlbnQsIC4uLnBhcmFtcyk7XG4gIH07XG59XG5cbi8vIFRPRE8gdjY6IFJlbW92ZSBQb3BwZXJDb21wb25lbnQsIFBvcHBlclByb3BzLCBUcmFuc2l0aW9uQ29tcG9uZW50IGFuZCBUcmFuc2l0aW9uUHJvcHMuXG5jb25zdCBUb29sdGlwID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gVG9vbHRpcChpblByb3BzLCByZWYpIHtcbiAgY29uc3QgcHJvcHMgPSB1c2VEZWZhdWx0UHJvcHMoe1xuICAgIHByb3BzOiBpblByb3BzLFxuICAgIG5hbWU6ICdNdWlUb29sdGlwJ1xuICB9KTtcbiAgY29uc3Qge1xuICAgIGFycm93ID0gZmFsc2UsXG4gICAgY2hpbGRyZW46IGNoaWxkcmVuUHJvcCxcbiAgICBjbGFzc2VzOiBjbGFzc2VzUHJvcCxcbiAgICBjb21wb25lbnRzID0ge30sXG4gICAgY29tcG9uZW50c1Byb3BzID0ge30sXG4gICAgZGVzY3JpYmVDaGlsZCA9IGZhbHNlLFxuICAgIGRpc2FibGVGb2N1c0xpc3RlbmVyID0gZmFsc2UsXG4gICAgZGlzYWJsZUhvdmVyTGlzdGVuZXIgPSBmYWxzZSxcbiAgICBkaXNhYmxlSW50ZXJhY3RpdmU6IGRpc2FibGVJbnRlcmFjdGl2ZVByb3AgPSBmYWxzZSxcbiAgICBkaXNhYmxlVG91Y2hMaXN0ZW5lciA9IGZhbHNlLFxuICAgIGVudGVyRGVsYXkgPSAxMDAsXG4gICAgZW50ZXJOZXh0RGVsYXkgPSAwLFxuICAgIGVudGVyVG91Y2hEZWxheSA9IDcwMCxcbiAgICBmb2xsb3dDdXJzb3IgPSBmYWxzZSxcbiAgICBpZDogaWRQcm9wLFxuICAgIGxlYXZlRGVsYXkgPSAwLFxuICAgIGxlYXZlVG91Y2hEZWxheSA9IDE1MDAsXG4gICAgb25DbG9zZSxcbiAgICBvbk9wZW4sXG4gICAgb3Blbjogb3BlblByb3AsXG4gICAgcGxhY2VtZW50ID0gJ2JvdHRvbScsXG4gICAgUG9wcGVyQ29tcG9uZW50OiBQb3BwZXJDb21wb25lbnRQcm9wLFxuICAgIFBvcHBlclByb3BzID0ge30sXG4gICAgc2xvdFByb3BzID0ge30sXG4gICAgc2xvdHMgPSB7fSxcbiAgICB0aXRsZSxcbiAgICBUcmFuc2l0aW9uQ29tcG9uZW50OiBUcmFuc2l0aW9uQ29tcG9uZW50UHJvcCxcbiAgICBUcmFuc2l0aW9uUHJvcHMsXG4gICAgLi4ub3RoZXJcbiAgfSA9IHByb3BzO1xuXG4gIC8vIHRvIHByZXZlbnQgcnVudGltZSBlcnJvcnMsIGRldmVsb3BlcnMgd2lsbCBuZWVkIHRvIHByb3ZpZGUgYSBjaGlsZCBhcyBhIFJlYWN0IGVsZW1lbnQgYW55d2F5LlxuICBjb25zdCBjaGlsZHJlbiA9IC8qI19fUFVSRV9fKi9SZWFjdC5pc1ZhbGlkRWxlbWVudChjaGlsZHJlblByb3ApID8gY2hpbGRyZW5Qcm9wIDogLyojX19QVVJFX18qL19qc3goXCJzcGFuXCIsIHtcbiAgICBjaGlsZHJlbjogY2hpbGRyZW5Qcm9wXG4gIH0pO1xuICBjb25zdCB0aGVtZSA9IHVzZVRoZW1lKCk7XG4gIGNvbnN0IGlzUnRsID0gdXNlUnRsKCk7XG4gIGNvbnN0IFtjaGlsZE5vZGUsIHNldENoaWxkTm9kZV0gPSBSZWFjdC51c2VTdGF0ZSgpO1xuICBjb25zdCBbYXJyb3dSZWYsIHNldEFycm93UmVmXSA9IFJlYWN0LnVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBpZ25vcmVOb25Ub3VjaEV2ZW50cyA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IGRpc2FibGVJbnRlcmFjdGl2ZSA9IGRpc2FibGVJbnRlcmFjdGl2ZVByb3AgfHwgZm9sbG93Q3Vyc29yO1xuICBjb25zdCBjbG9zZVRpbWVyID0gdXNlVGltZW91dCgpO1xuICBjb25zdCBlbnRlclRpbWVyID0gdXNlVGltZW91dCgpO1xuICBjb25zdCBsZWF2ZVRpbWVyID0gdXNlVGltZW91dCgpO1xuICBjb25zdCB0b3VjaFRpbWVyID0gdXNlVGltZW91dCgpO1xuICBjb25zdCBbb3BlblN0YXRlLCBzZXRPcGVuU3RhdGVdID0gdXNlQ29udHJvbGxlZCh7XG4gICAgY29udHJvbGxlZDogb3BlblByb3AsXG4gICAgZGVmYXVsdDogZmFsc2UsXG4gICAgbmFtZTogJ1Rvb2x0aXAnLFxuICAgIHN0YXRlOiAnb3BlbidcbiAgfSk7XG4gIGxldCBvcGVuID0gb3BlblN0YXRlO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIC8vIFRPRE86IHVuY29tbWVudCBvbmNlIHdlIGVuYWJsZSBlc2xpbnQtcGx1Z2luLXJlYWN0LWNvbXBpbGVyIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1jb21waWxlci9yZWFjdC1jb21waWxlclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9ydWxlcy1vZi1ob29rcyAtLSBwcm9jZXNzLmVudiBuZXZlciBjaGFuZ2VzXG4gICAgY29uc3Qge1xuICAgICAgY3VycmVudDogaXNDb250cm9sbGVkXG4gICAgfSA9IFJlYWN0LnVzZVJlZihvcGVuUHJvcCAhPT0gdW5kZWZpbmVkKTtcblxuICAgIC8vIFRPRE86IHVuY29tbWVudCBvbmNlIHdlIGVuYWJsZSBlc2xpbnQtcGx1Z2luLXJlYWN0LWNvbXBpbGVyIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1jb21waWxlci9yZWFjdC1jb21waWxlclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9ydWxlcy1vZi1ob29rcyAtLSBwcm9jZXNzLmVudiBuZXZlciBjaGFuZ2VzXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGlmIChjaGlsZE5vZGUgJiYgY2hpbGROb2RlLmRpc2FibGVkICYmICFpc0NvbnRyb2xsZWQgJiYgdGl0bGUgIT09ICcnICYmIGNoaWxkTm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdidXR0b24nKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihbJ01VSTogWW91IGFyZSBwcm92aWRpbmcgYSBkaXNhYmxlZCBgYnV0dG9uYCBjaGlsZCB0byB0aGUgVG9vbHRpcCBjb21wb25lbnQuJywgJ0EgZGlzYWJsZWQgZWxlbWVudCBkb2VzIG5vdCBmaXJlIGV2ZW50cy4nLCBcIlRvb2x0aXAgbmVlZHMgdG8gbGlzdGVuIHRvIHRoZSBjaGlsZCBlbGVtZW50J3MgZXZlbnRzIHRvIGRpc3BsYXkgdGhlIHRpdGxlLlwiLCAnJywgJ0FkZCBhIHNpbXBsZSB3cmFwcGVyIGVsZW1lbnQsIHN1Y2ggYXMgYSBgc3BhbmAuJ10uam9pbignXFxuJykpO1xuICAgICAgfVxuICAgIH0sIFt0aXRsZSwgY2hpbGROb2RlLCBpc0NvbnRyb2xsZWRdKTtcbiAgfVxuICBjb25zdCBpZCA9IHVzZUlkKGlkUHJvcCk7XG4gIGNvbnN0IHByZXZVc2VyU2VsZWN0ID0gUmVhY3QudXNlUmVmKCk7XG4gIGNvbnN0IHN0b3BUb3VjaEludGVyYWN0aW9uID0gdXNlRXZlbnRDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKHByZXZVc2VyU2VsZWN0LmN1cnJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5XZWJraXRVc2VyU2VsZWN0ID0gcHJldlVzZXJTZWxlY3QuY3VycmVudDtcbiAgICAgIHByZXZVc2VyU2VsZWN0LmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHRvdWNoVGltZXIuY2xlYXIoKTtcbiAgfSk7XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiBzdG9wVG91Y2hJbnRlcmFjdGlvbiwgW3N0b3BUb3VjaEludGVyYWN0aW9uXSk7XG4gIGNvbnN0IGhhbmRsZU9wZW4gPSBldmVudCA9PiB7XG4gICAgaHlzdGVyc2lzVGltZXIuY2xlYXIoKTtcbiAgICBoeXN0ZXJzaXNPcGVuID0gdHJ1ZTtcblxuICAgIC8vIFRoZSBtb3VzZW92ZXIgZXZlbnQgd2lsbCB0cmlnZ2VyIGZvciBldmVyeSBuZXN0ZWQgZWxlbWVudCBpbiB0aGUgdG9vbHRpcC5cbiAgICAvLyBXZSBjYW4gc2tpcCByZXJlbmRlcmluZyB3aGVuIHRoZSB0b29sdGlwIGlzIGFscmVhZHkgb3Blbi5cbiAgICAvLyBXZSBhcmUgdXNpbmcgdGhlIG1vdXNlb3ZlciBldmVudCBpbnN0ZWFkIG9mIHRoZSBtb3VzZWVudGVyIGV2ZW50IHRvIGZpeCBhIGhpZGUvc2hvdyBpc3N1ZS5cbiAgICBzZXRPcGVuU3RhdGUodHJ1ZSk7XG4gICAgaWYgKG9uT3BlbiAmJiAhb3Blbikge1xuICAgICAgb25PcGVuKGV2ZW50KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGhhbmRsZUNsb3NlID0gdXNlRXZlbnRDYWxsYmFjayhcbiAgLyoqXG4gICAqIEBwYXJhbSB7UmVhY3QuU3ludGhldGljRXZlbnQgfCBFdmVudH0gZXZlbnRcbiAgICovXG4gIGV2ZW50ID0+IHtcbiAgICBoeXN0ZXJzaXNUaW1lci5zdGFydCg4MDAgKyBsZWF2ZURlbGF5LCAoKSA9PiB7XG4gICAgICBoeXN0ZXJzaXNPcGVuID0gZmFsc2U7XG4gICAgfSk7XG4gICAgc2V0T3BlblN0YXRlKGZhbHNlKTtcbiAgICBpZiAob25DbG9zZSAmJiBvcGVuKSB7XG4gICAgICBvbkNsb3NlKGV2ZW50KTtcbiAgICB9XG4gICAgY2xvc2VUaW1lci5zdGFydCh0aGVtZS50cmFuc2l0aW9ucy5kdXJhdGlvbi5zaG9ydGVzdCwgKCkgPT4ge1xuICAgICAgaWdub3JlTm9uVG91Y2hFdmVudHMuY3VycmVudCA9IGZhbHNlO1xuICAgIH0pO1xuICB9KTtcbiAgY29uc3QgaGFuZGxlTW91c2VPdmVyID0gZXZlbnQgPT4ge1xuICAgIGlmIChpZ25vcmVOb25Ub3VjaEV2ZW50cy5jdXJyZW50ICYmIGV2ZW50LnR5cGUgIT09ICd0b3VjaHN0YXJ0Jykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFJlbW92ZSB0aGUgdGl0bGUgYWhlYWQgb2YgdGltZS5cbiAgICAvLyBXZSBkb24ndCB3YW50IHRvIHdhaXQgZm9yIHRoZSBuZXh0IHJlbmRlciBjb21taXQuXG4gICAgLy8gV2Ugd291bGQgcmlzayBkaXNwbGF5aW5nIHR3byB0b29sdGlwcyBhdCB0aGUgc2FtZSB0aW1lIChuYXRpdmUgKyB0aGlzIG9uZSkuXG4gICAgaWYgKGNoaWxkTm9kZSkge1xuICAgICAgY2hpbGROb2RlLnJlbW92ZUF0dHJpYnV0ZSgndGl0bGUnKTtcbiAgICB9XG4gICAgZW50ZXJUaW1lci5jbGVhcigpO1xuICAgIGxlYXZlVGltZXIuY2xlYXIoKTtcbiAgICBpZiAoZW50ZXJEZWxheSB8fCBoeXN0ZXJzaXNPcGVuICYmIGVudGVyTmV4dERlbGF5KSB7XG4gICAgICBlbnRlclRpbWVyLnN0YXJ0KGh5c3RlcnNpc09wZW4gPyBlbnRlck5leHREZWxheSA6IGVudGVyRGVsYXksICgpID0+IHtcbiAgICAgICAgaGFuZGxlT3BlbihldmVudCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGFuZGxlT3BlbihldmVudCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBoYW5kbGVNb3VzZUxlYXZlID0gZXZlbnQgPT4ge1xuICAgIGVudGVyVGltZXIuY2xlYXIoKTtcbiAgICBsZWF2ZVRpbWVyLnN0YXJ0KGxlYXZlRGVsYXksICgpID0+IHtcbiAgICAgIGhhbmRsZUNsb3NlKGV2ZW50KTtcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgWywgc2V0Q2hpbGRJc0ZvY3VzVmlzaWJsZV0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IGhhbmRsZUJsdXIgPSBldmVudCA9PiB7XG4gICAgaWYgKCFpc0ZvY3VzVmlzaWJsZShldmVudC50YXJnZXQpKSB7XG4gICAgICBzZXRDaGlsZElzRm9jdXNWaXNpYmxlKGZhbHNlKTtcbiAgICAgIGhhbmRsZU1vdXNlTGVhdmUoZXZlbnQpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaGFuZGxlRm9jdXMgPSBldmVudCA9PiB7XG4gICAgLy8gV29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy83NzY5XG4gICAgLy8gVGhlIGF1dG9Gb2N1cyBvZiBSZWFjdCBtaWdodCB0cmlnZ2VyIHRoZSBldmVudCBiZWZvcmUgdGhlIGNvbXBvbmVudERpZE1vdW50LlxuICAgIC8vIFdlIG5lZWQgdG8gYWNjb3VudCBmb3IgdGhpcyBldmVudHVhbGl0eS5cbiAgICBpZiAoIWNoaWxkTm9kZSkge1xuICAgICAgc2V0Q2hpbGROb2RlKGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xuICAgIH1cbiAgICBpZiAoaXNGb2N1c1Zpc2libGUoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgc2V0Q2hpbGRJc0ZvY3VzVmlzaWJsZSh0cnVlKTtcbiAgICAgIGhhbmRsZU1vdXNlT3ZlcihldmVudCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBkZXRlY3RUb3VjaFN0YXJ0ID0gZXZlbnQgPT4ge1xuICAgIGlnbm9yZU5vblRvdWNoRXZlbnRzLmN1cnJlbnQgPSB0cnVlO1xuICAgIGNvbnN0IGNoaWxkcmVuUHJvcHMgPSBjaGlsZHJlbi5wcm9wcztcbiAgICBpZiAoY2hpbGRyZW5Qcm9wcy5vblRvdWNoU3RhcnQpIHtcbiAgICAgIGNoaWxkcmVuUHJvcHMub25Ub3VjaFN0YXJ0KGV2ZW50KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGhhbmRsZVRvdWNoU3RhcnQgPSBldmVudCA9PiB7XG4gICAgZGV0ZWN0VG91Y2hTdGFydChldmVudCk7XG4gICAgbGVhdmVUaW1lci5jbGVhcigpO1xuICAgIGNsb3NlVGltZXIuY2xlYXIoKTtcbiAgICBzdG9wVG91Y2hJbnRlcmFjdGlvbigpO1xuICAgIHByZXZVc2VyU2VsZWN0LmN1cnJlbnQgPSBkb2N1bWVudC5ib2R5LnN0eWxlLldlYmtpdFVzZXJTZWxlY3Q7XG4gICAgLy8gUHJldmVudCBpT1MgdGV4dCBzZWxlY3Rpb24gb24gbG9uZy10YXAuXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5XZWJraXRVc2VyU2VsZWN0ID0gJ25vbmUnO1xuICAgIHRvdWNoVGltZXIuc3RhcnQoZW50ZXJUb3VjaERlbGF5LCAoKSA9PiB7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLldlYmtpdFVzZXJTZWxlY3QgPSBwcmV2VXNlclNlbGVjdC5jdXJyZW50O1xuICAgICAgaGFuZGxlTW91c2VPdmVyKGV2ZW50KTtcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlVG91Y2hFbmQgPSBldmVudCA9PiB7XG4gICAgaWYgKGNoaWxkcmVuLnByb3BzLm9uVG91Y2hFbmQpIHtcbiAgICAgIGNoaWxkcmVuLnByb3BzLm9uVG91Y2hFbmQoZXZlbnQpO1xuICAgIH1cbiAgICBzdG9wVG91Y2hJbnRlcmFjdGlvbigpO1xuICAgIGxlYXZlVGltZXIuc3RhcnQobGVhdmVUb3VjaERlbGF5LCAoKSA9PiB7XG4gICAgICBoYW5kbGVDbG9zZShldmVudCk7XG4gICAgfSk7XG4gIH07XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFvcGVuKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gbmF0aXZlRXZlbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYW5kbGVLZXlEb3duKG5hdGl2ZUV2ZW50KSB7XG4gICAgICBpZiAobmF0aXZlRXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICBoYW5kbGVDbG9zZShuYXRpdmVFdmVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pO1xuICAgIH07XG4gIH0sIFtoYW5kbGVDbG9zZSwgb3Blbl0pO1xuICBjb25zdCBoYW5kbGVSZWYgPSB1c2VGb3JrUmVmKGdldFJlYWN0RWxlbWVudFJlZihjaGlsZHJlbiksIHNldENoaWxkTm9kZSwgcmVmKTtcblxuICAvLyBUaGVyZSBpcyBubyBwb2ludCBpbiBkaXNwbGF5aW5nIGFuIGVtcHR5IHRvb2x0aXAuXG4gIC8vIFNvIHdlIGV4Y2x1ZGUgYWxsIGZhbHN5IHZhbHVlcywgZXhjZXB0IDAsIHdoaWNoIGlzIHZhbGlkLlxuICBpZiAoIXRpdGxlICYmIHRpdGxlICE9PSAwKSB7XG4gICAgb3BlbiA9IGZhbHNlO1xuICB9XG4gIGNvbnN0IHBvcHBlclJlZiA9IFJlYWN0LnVzZVJlZigpO1xuICBjb25zdCBoYW5kbGVNb3VzZU1vdmUgPSBldmVudCA9PiB7XG4gICAgY29uc3QgY2hpbGRyZW5Qcm9wcyA9IGNoaWxkcmVuLnByb3BzO1xuICAgIGlmIChjaGlsZHJlblByb3BzLm9uTW91c2VNb3ZlKSB7XG4gICAgICBjaGlsZHJlblByb3BzLm9uTW91c2VNb3ZlKGV2ZW50KTtcbiAgICB9XG4gICAgY3Vyc29yUG9zaXRpb24gPSB7XG4gICAgICB4OiBldmVudC5jbGllbnRYLFxuICAgICAgeTogZXZlbnQuY2xpZW50WVxuICAgIH07XG4gICAgaWYgKHBvcHBlclJlZi5jdXJyZW50KSB7XG4gICAgICBwb3BwZXJSZWYuY3VycmVudC51cGRhdGUoKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG5hbWVPckRlc2NQcm9wcyA9IHt9O1xuICBjb25zdCB0aXRsZUlzU3RyaW5nID0gdHlwZW9mIHRpdGxlID09PSAnc3RyaW5nJztcbiAgaWYgKGRlc2NyaWJlQ2hpbGQpIHtcbiAgICBuYW1lT3JEZXNjUHJvcHMudGl0bGUgPSAhb3BlbiAmJiB0aXRsZUlzU3RyaW5nICYmICFkaXNhYmxlSG92ZXJMaXN0ZW5lciA/IHRpdGxlIDogbnVsbDtcbiAgICBuYW1lT3JEZXNjUHJvcHNbJ2FyaWEtZGVzY3JpYmVkYnknXSA9IG9wZW4gPyBpZCA6IG51bGw7XG4gIH0gZWxzZSB7XG4gICAgbmFtZU9yRGVzY1Byb3BzWydhcmlhLWxhYmVsJ10gPSB0aXRsZUlzU3RyaW5nID8gdGl0bGUgOiBudWxsO1xuICAgIG5hbWVPckRlc2NQcm9wc1snYXJpYS1sYWJlbGxlZGJ5J10gPSBvcGVuICYmICF0aXRsZUlzU3RyaW5nID8gaWQgOiBudWxsO1xuICB9XG4gIGNvbnN0IGNoaWxkcmVuUHJvcHMgPSB7XG4gICAgLi4ubmFtZU9yRGVzY1Byb3BzLFxuICAgIC4uLm90aGVyLFxuICAgIC4uLmNoaWxkcmVuLnByb3BzLFxuICAgIGNsYXNzTmFtZTogY2xzeChvdGhlci5jbGFzc05hbWUsIGNoaWxkcmVuLnByb3BzLmNsYXNzTmFtZSksXG4gICAgb25Ub3VjaFN0YXJ0OiBkZXRlY3RUb3VjaFN0YXJ0LFxuICAgIHJlZjogaGFuZGxlUmVmLFxuICAgIC4uLihmb2xsb3dDdXJzb3IgPyB7XG4gICAgICBvbk1vdXNlTW92ZTogaGFuZGxlTW91c2VNb3ZlXG4gICAgfSA6IHt9KVxuICB9O1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGNoaWxkcmVuUHJvcHNbJ2RhdGEtbXVpLWludGVybmFsLWNsb25lLWVsZW1lbnQnXSA9IHRydWU7XG5cbiAgICAvLyBUT0RPOiB1bmNvbW1lbnQgb25jZSB3ZSBlbmFibGUgZXNsaW50LXBsdWdpbi1yZWFjdC1jb21waWxlciAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtY29tcGlsZXIvcmVhY3QtY29tcGlsZXJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvcnVsZXMtb2YtaG9va3MgLS0gcHJvY2Vzcy5lbnYgbmV2ZXIgY2hhbmdlc1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBpZiAoY2hpbGROb2RlICYmICFjaGlsZE5vZGUuZ2V0QXR0cmlidXRlKCdkYXRhLW11aS1pbnRlcm5hbC1jbG9uZS1lbGVtZW50JykpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihbJ01VSTogVGhlIGBjaGlsZHJlbmAgY29tcG9uZW50IG9mIHRoZSBUb29sdGlwIGlzIG5vdCBmb3J3YXJkaW5nIGl0cyBwcm9wcyBjb3JyZWN0bHkuJywgJ1BsZWFzZSBtYWtlIHN1cmUgdGhhdCBwcm9wcyBhcmUgc3ByZWFkIG9uIHRoZSBzYW1lIGVsZW1lbnQgdGhhdCB0aGUgcmVmIGlzIGFwcGxpZWQgdG8uJ10uam9pbignXFxuJykpO1xuICAgICAgfVxuICAgIH0sIFtjaGlsZE5vZGVdKTtcbiAgfVxuICBjb25zdCBpbnRlcmFjdGl2ZVdyYXBwZXJMaXN0ZW5lcnMgPSB7fTtcbiAgaWYgKCFkaXNhYmxlVG91Y2hMaXN0ZW5lcikge1xuICAgIGNoaWxkcmVuUHJvcHMub25Ub3VjaFN0YXJ0ID0gaGFuZGxlVG91Y2hTdGFydDtcbiAgICBjaGlsZHJlblByb3BzLm9uVG91Y2hFbmQgPSBoYW5kbGVUb3VjaEVuZDtcbiAgfVxuICBpZiAoIWRpc2FibGVIb3Zlckxpc3RlbmVyKSB7XG4gICAgY2hpbGRyZW5Qcm9wcy5vbk1vdXNlT3ZlciA9IGNvbXBvc2VFdmVudEhhbmRsZXIoaGFuZGxlTW91c2VPdmVyLCBjaGlsZHJlblByb3BzLm9uTW91c2VPdmVyKTtcbiAgICBjaGlsZHJlblByb3BzLm9uTW91c2VMZWF2ZSA9IGNvbXBvc2VFdmVudEhhbmRsZXIoaGFuZGxlTW91c2VMZWF2ZSwgY2hpbGRyZW5Qcm9wcy5vbk1vdXNlTGVhdmUpO1xuICAgIGlmICghZGlzYWJsZUludGVyYWN0aXZlKSB7XG4gICAgICBpbnRlcmFjdGl2ZVdyYXBwZXJMaXN0ZW5lcnMub25Nb3VzZU92ZXIgPSBoYW5kbGVNb3VzZU92ZXI7XG4gICAgICBpbnRlcmFjdGl2ZVdyYXBwZXJMaXN0ZW5lcnMub25Nb3VzZUxlYXZlID0gaGFuZGxlTW91c2VMZWF2ZTtcbiAgICB9XG4gIH1cbiAgaWYgKCFkaXNhYmxlRm9jdXNMaXN0ZW5lcikge1xuICAgIGNoaWxkcmVuUHJvcHMub25Gb2N1cyA9IGNvbXBvc2VFdmVudEhhbmRsZXIoaGFuZGxlRm9jdXMsIGNoaWxkcmVuUHJvcHMub25Gb2N1cyk7XG4gICAgY2hpbGRyZW5Qcm9wcy5vbkJsdXIgPSBjb21wb3NlRXZlbnRIYW5kbGVyKGhhbmRsZUJsdXIsIGNoaWxkcmVuUHJvcHMub25CbHVyKTtcbiAgICBpZiAoIWRpc2FibGVJbnRlcmFjdGl2ZSkge1xuICAgICAgaW50ZXJhY3RpdmVXcmFwcGVyTGlzdGVuZXJzLm9uRm9jdXMgPSBoYW5kbGVGb2N1cztcbiAgICAgIGludGVyYWN0aXZlV3JhcHBlckxpc3RlbmVycy5vbkJsdXIgPSBoYW5kbGVCbHVyO1xuICAgIH1cbiAgfVxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmIChjaGlsZHJlbi5wcm9wcy50aXRsZSkge1xuICAgICAgY29uc29sZS5lcnJvcihbJ01VSTogWW91IGhhdmUgcHJvdmlkZWQgYSBgdGl0bGVgIHByb3AgdG8gdGhlIGNoaWxkIG9mIDxUb29sdGlwIC8+LicsIGBSZW1vdmUgdGhpcyB0aXRsZSBwcm9wIFxcYCR7Y2hpbGRyZW4ucHJvcHMudGl0bGV9XFxgIG9yIHRoZSBUb29sdGlwIGNvbXBvbmVudC5gXS5qb2luKCdcXG4nKSk7XG4gICAgfVxuICB9XG4gIGNvbnN0IG93bmVyU3RhdGUgPSB7XG4gICAgLi4ucHJvcHMsXG4gICAgaXNSdGwsXG4gICAgYXJyb3csXG4gICAgZGlzYWJsZUludGVyYWN0aXZlLFxuICAgIHBsYWNlbWVudCxcbiAgICBQb3BwZXJDb21wb25lbnRQcm9wLFxuICAgIHRvdWNoOiBpZ25vcmVOb25Ub3VjaEV2ZW50cy5jdXJyZW50XG4gIH07XG4gIGNvbnN0IHJlc29sdmVkUG9wcGVyUHJvcHMgPSB0eXBlb2Ygc2xvdFByb3BzLnBvcHBlciA9PT0gJ2Z1bmN0aW9uJyA/IHNsb3RQcm9wcy5wb3BwZXIob3duZXJTdGF0ZSkgOiBzbG90UHJvcHMucG9wcGVyO1xuICBjb25zdCBwb3BwZXJPcHRpb25zID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgbGV0IHRvb2x0aXBNb2RpZmllcnMgPSBbe1xuICAgICAgbmFtZTogJ2Fycm93JyxcbiAgICAgIGVuYWJsZWQ6IEJvb2xlYW4oYXJyb3dSZWYpLFxuICAgICAgb3B0aW9uczoge1xuICAgICAgICBlbGVtZW50OiBhcnJvd1JlZixcbiAgICAgICAgcGFkZGluZzogNFxuICAgICAgfVxuICAgIH1dO1xuICAgIGlmIChQb3BwZXJQcm9wcy5wb3BwZXJPcHRpb25zPy5tb2RpZmllcnMpIHtcbiAgICAgIHRvb2x0aXBNb2RpZmllcnMgPSB0b29sdGlwTW9kaWZpZXJzLmNvbmNhdChQb3BwZXJQcm9wcy5wb3BwZXJPcHRpb25zLm1vZGlmaWVycyk7XG4gICAgfVxuICAgIGlmIChyZXNvbHZlZFBvcHBlclByb3BzPy5wb3BwZXJPcHRpb25zPy5tb2RpZmllcnMpIHtcbiAgICAgIHRvb2x0aXBNb2RpZmllcnMgPSB0b29sdGlwTW9kaWZpZXJzLmNvbmNhdChyZXNvbHZlZFBvcHBlclByb3BzLnBvcHBlck9wdGlvbnMubW9kaWZpZXJzKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLlBvcHBlclByb3BzLnBvcHBlck9wdGlvbnMsXG4gICAgICAuLi5yZXNvbHZlZFBvcHBlclByb3BzPy5wb3BwZXJPcHRpb25zLFxuICAgICAgbW9kaWZpZXJzOiB0b29sdGlwTW9kaWZpZXJzXG4gICAgfTtcbiAgfSwgW2Fycm93UmVmLCBQb3BwZXJQcm9wcy5wb3BwZXJPcHRpb25zLCByZXNvbHZlZFBvcHBlclByb3BzPy5wb3BwZXJPcHRpb25zXSk7XG4gIGNvbnN0IGNsYXNzZXMgPSB1c2VVdGlsaXR5Q2xhc3Nlcyhvd25lclN0YXRlKTtcbiAgY29uc3QgcmVzb2x2ZWRUcmFuc2l0aW9uUHJvcHMgPSB0eXBlb2Ygc2xvdFByb3BzLnRyYW5zaXRpb24gPT09ICdmdW5jdGlvbicgPyBzbG90UHJvcHMudHJhbnNpdGlvbihvd25lclN0YXRlKSA6IHNsb3RQcm9wcy50cmFuc2l0aW9uO1xuICBjb25zdCBleHRlcm5hbEZvcndhcmRlZFByb3BzID0ge1xuICAgIHNsb3RzOiB7XG4gICAgICBwb3BwZXI6IGNvbXBvbmVudHMuUG9wcGVyLFxuICAgICAgdHJhbnNpdGlvbjogY29tcG9uZW50cy5UcmFuc2l0aW9uID8/IFRyYW5zaXRpb25Db21wb25lbnRQcm9wLFxuICAgICAgdG9vbHRpcDogY29tcG9uZW50cy5Ub29sdGlwLFxuICAgICAgYXJyb3c6IGNvbXBvbmVudHMuQXJyb3csXG4gICAgICAuLi5zbG90c1xuICAgIH0sXG4gICAgc2xvdFByb3BzOiB7XG4gICAgICBhcnJvdzogc2xvdFByb3BzLmFycm93ID8/IGNvbXBvbmVudHNQcm9wcy5hcnJvdyxcbiAgICAgIHBvcHBlcjoge1xuICAgICAgICAuLi5Qb3BwZXJQcm9wcyxcbiAgICAgICAgLi4uKHJlc29sdmVkUG9wcGVyUHJvcHMgPz8gY29tcG9uZW50c1Byb3BzLnBvcHBlcilcbiAgICAgIH0sXG4gICAgICAvLyByZXNvbHZlZFBvcHBlclByb3BzIGNhbiBiZSBzcHJlYWQgYmVjYXVzZSBpdCdzIGFscmVhZHkgYW4gb2JqZWN0XG4gICAgICB0b29sdGlwOiBzbG90UHJvcHMudG9vbHRpcCA/PyBjb21wb25lbnRzUHJvcHMudG9vbHRpcCxcbiAgICAgIHRyYW5zaXRpb246IHtcbiAgICAgICAgLi4uVHJhbnNpdGlvblByb3BzLFxuICAgICAgICAuLi4ocmVzb2x2ZWRUcmFuc2l0aW9uUHJvcHMgPz8gY29tcG9uZW50c1Byb3BzLnRyYW5zaXRpb24pXG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBbUG9wcGVyU2xvdCwgcG9wcGVyU2xvdFByb3BzXSA9IHVzZVNsb3QoJ3BvcHBlcicsIHtcbiAgICBlbGVtZW50VHlwZTogVG9vbHRpcFBvcHBlcixcbiAgICBleHRlcm5hbEZvcndhcmRlZFByb3BzLFxuICAgIG93bmVyU3RhdGUsXG4gICAgY2xhc3NOYW1lOiBjbHN4KGNsYXNzZXMucG9wcGVyLCBQb3BwZXJQcm9wcz8uY2xhc3NOYW1lKVxuICB9KTtcbiAgY29uc3QgW1RyYW5zaXRpb25TbG90LCB0cmFuc2l0aW9uU2xvdFByb3BzXSA9IHVzZVNsb3QoJ3RyYW5zaXRpb24nLCB7XG4gICAgZWxlbWVudFR5cGU6IEdyb3csXG4gICAgZXh0ZXJuYWxGb3J3YXJkZWRQcm9wcyxcbiAgICBvd25lclN0YXRlXG4gIH0pO1xuICBjb25zdCBbVG9vbHRpcFNsb3QsIHRvb2x0aXBTbG90UHJvcHNdID0gdXNlU2xvdCgndG9vbHRpcCcsIHtcbiAgICBlbGVtZW50VHlwZTogVG9vbHRpcFRvb2x0aXAsXG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRvb2x0aXAsXG4gICAgZXh0ZXJuYWxGb3J3YXJkZWRQcm9wcyxcbiAgICBvd25lclN0YXRlXG4gIH0pO1xuICBjb25zdCBbQXJyb3dTbG90LCBhcnJvd1Nsb3RQcm9wc10gPSB1c2VTbG90KCdhcnJvdycsIHtcbiAgICBlbGVtZW50VHlwZTogVG9vbHRpcEFycm93LFxuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5hcnJvdyxcbiAgICBleHRlcm5hbEZvcndhcmRlZFByb3BzLFxuICAgIG93bmVyU3RhdGUsXG4gICAgcmVmOiBzZXRBcnJvd1JlZlxuICB9KTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4cyhSZWFjdC5GcmFnbWVudCwge1xuICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL1JlYWN0LmNsb25lRWxlbWVudChjaGlsZHJlbiwgY2hpbGRyZW5Qcm9wcyksIC8qI19fUFVSRV9fKi9fanN4KFBvcHBlclNsb3QsIHtcbiAgICAgIGFzOiBQb3BwZXJDb21wb25lbnRQcm9wID8/IFBvcHBlcixcbiAgICAgIHBsYWNlbWVudDogcGxhY2VtZW50LFxuICAgICAgYW5jaG9yRWw6IGZvbGxvd0N1cnNvciA/IHtcbiAgICAgICAgZ2V0Qm91bmRpbmdDbGllbnRSZWN0OiAoKSA9PiAoe1xuICAgICAgICAgIHRvcDogY3Vyc29yUG9zaXRpb24ueSxcbiAgICAgICAgICBsZWZ0OiBjdXJzb3JQb3NpdGlvbi54LFxuICAgICAgICAgIHJpZ2h0OiBjdXJzb3JQb3NpdGlvbi54LFxuICAgICAgICAgIGJvdHRvbTogY3Vyc29yUG9zaXRpb24ueSxcbiAgICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgICBoZWlnaHQ6IDBcbiAgICAgICAgfSlcbiAgICAgIH0gOiBjaGlsZE5vZGUsXG4gICAgICBwb3BwZXJSZWY6IHBvcHBlclJlZixcbiAgICAgIG9wZW46IGNoaWxkTm9kZSA/IG9wZW4gOiBmYWxzZSxcbiAgICAgIGlkOiBpZCxcbiAgICAgIHRyYW5zaXRpb246IHRydWUsXG4gICAgICAuLi5pbnRlcmFjdGl2ZVdyYXBwZXJMaXN0ZW5lcnMsXG4gICAgICAuLi5wb3BwZXJTbG90UHJvcHMsXG4gICAgICBwb3BwZXJPcHRpb25zOiBwb3BwZXJPcHRpb25zLFxuICAgICAgY2hpbGRyZW46ICh7XG4gICAgICAgIFRyYW5zaXRpb25Qcm9wczogVHJhbnNpdGlvblByb3BzSW5uZXJcbiAgICAgIH0pID0+IC8qI19fUFVSRV9fKi9fanN4KFRyYW5zaXRpb25TbG90LCB7XG4gICAgICAgIHRpbWVvdXQ6IHRoZW1lLnRyYW5zaXRpb25zLmR1cmF0aW9uLnNob3J0ZXIsXG4gICAgICAgIC4uLlRyYW5zaXRpb25Qcm9wc0lubmVyLFxuICAgICAgICAuLi50cmFuc2l0aW9uU2xvdFByb3BzLFxuICAgICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3hzKFRvb2x0aXBTbG90LCB7XG4gICAgICAgICAgLi4udG9vbHRpcFNsb3RQcm9wcyxcbiAgICAgICAgICBjaGlsZHJlbjogW3RpdGxlLCBhcnJvdyA/IC8qI19fUFVSRV9fKi9fanN4KEFycm93U2xvdCwge1xuICAgICAgICAgICAgLi4uYXJyb3dTbG90UHJvcHNcbiAgICAgICAgICB9KSA6IG51bGxdXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pXVxuICB9KTtcbn0pO1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gVG9vbHRpcC5wcm9wVHlwZXMgLyogcmVtb3ZlLXByb3B0eXBlcyAqLyA9IHtcbiAgLy8g4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIFdhcm5pbmcg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQXG4gIC8vIOKUgiBUaGVzZSBQcm9wVHlwZXMgYXJlIGdlbmVyYXRlZCBmcm9tIHRoZSBUeXBlU2NyaXB0IHR5cGUgZGVmaW5pdGlvbnMuIOKUglxuICAvLyDilIIgICAgVG8gdXBkYXRlIHRoZW0sIGVkaXQgdGhlIGQudHMgZmlsZSBhbmQgcnVuIGBwbnBtIHByb3B0eXBlc2AuICAgICDilIJcbiAgLy8g4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIGFkZHMgYW4gYXJyb3cgdG8gdGhlIHRvb2x0aXAuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBhcnJvdzogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBUb29sdGlwIHJlZmVyZW5jZSBlbGVtZW50LlxuICAgKi9cbiAgY2hpbGRyZW46IGVsZW1lbnRBY2NlcHRpbmdSZWYuaXNSZXF1aXJlZCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIG9yIGV4dGVuZCB0aGUgc3R5bGVzIGFwcGxpZWQgdG8gdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIC8qKlxuICAgKiBUaGUgY29tcG9uZW50cyB1c2VkIGZvciBlYWNoIHNsb3QgaW5zaWRlLlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgdGhlIGBzbG90c2AgcHJvcCBpbnN0ZWFkLiBUaGlzIHByb3Agd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIG1ham9yIHJlbGVhc2UuIFNlZSBbTWlncmF0aW5nIGZyb20gZGVwcmVjYXRlZCBBUElzXShodHRwczovL211aS5jb20vbWF0ZXJpYWwtdWkvbWlncmF0aW9uL21pZ3JhdGluZy1mcm9tLWRlcHJlY2F0ZWQtYXBpcy8pIGZvciBtb3JlIGRldGFpbHMuXG4gICAqXG4gICAqIEBkZWZhdWx0IHt9XG4gICAqL1xuICBjb21wb25lbnRzOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIEFycm93OiBQcm9wVHlwZXMuZWxlbWVudFR5cGUsXG4gICAgUG9wcGVyOiBQcm9wVHlwZXMuZWxlbWVudFR5cGUsXG4gICAgVG9vbHRpcDogUHJvcFR5cGVzLmVsZW1lbnRUeXBlLFxuICAgIFRyYW5zaXRpb246IFByb3BUeXBlcy5lbGVtZW50VHlwZVxuICB9KSxcbiAgLyoqXG4gICAqIFRoZSBleHRyYSBwcm9wcyBmb3IgdGhlIHNsb3QgY29tcG9uZW50cy5cbiAgICogWW91IGNhbiBvdmVycmlkZSB0aGUgZXhpc3RpbmcgcHJvcHMgb3IgYWRkIG5ldyBvbmVzLlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgdGhlIGBzbG90UHJvcHNgIHByb3AgaW5zdGVhZC4gVGhpcyBwcm9wIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSBtYWpvciByZWxlYXNlLiBTZWUgW01pZ3JhdGluZyBmcm9tIGRlcHJlY2F0ZWQgQVBJc10oaHR0cHM6Ly9tdWkuY29tL21hdGVyaWFsLXVpL21pZ3JhdGlvbi9taWdyYXRpbmctZnJvbS1kZXByZWNhdGVkLWFwaXMvKSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgKlxuICAgKiBAZGVmYXVsdCB7fVxuICAgKi9cbiAgY29tcG9uZW50c1Byb3BzOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIGFycm93OiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIHBvcHBlcjogUHJvcFR5cGVzLm9iamVjdCxcbiAgICB0b29sdGlwOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIHRyYW5zaXRpb246IFByb3BUeXBlcy5vYmplY3RcbiAgfSksXG4gIC8qKlxuICAgKiBTZXQgdG8gYHRydWVgIGlmIHRoZSBgdGl0bGVgIGFjdHMgYXMgYW4gYWNjZXNzaWJsZSBkZXNjcmlwdGlvbi5cbiAgICogQnkgZGVmYXVsdCB0aGUgYHRpdGxlYCBhY3RzIGFzIGFuIGFjY2Vzc2libGUgbGFiZWwgZm9yIHRoZSBjaGlsZC5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGRlc2NyaWJlQ2hpbGQ6IFByb3BUeXBlcy5ib29sLFxuICAvKipcbiAgICogRG8gbm90IHJlc3BvbmQgdG8gZm9jdXMtdmlzaWJsZSBldmVudHMuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBkaXNhYmxlRm9jdXNMaXN0ZW5lcjogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBEbyBub3QgcmVzcG9uZCB0byBob3ZlciBldmVudHMuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBkaXNhYmxlSG92ZXJMaXN0ZW5lcjogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBNYWtlcyBhIHRvb2x0aXAgbm90IGludGVyYWN0aXZlLCBpLmUuIGl0IHdpbGwgY2xvc2Ugd2hlbiB0aGUgdXNlclxuICAgKiBob3ZlcnMgb3ZlciB0aGUgdG9vbHRpcCBiZWZvcmUgdGhlIGBsZWF2ZURlbGF5YCBpcyBleHBpcmVkLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZGlzYWJsZUludGVyYWN0aXZlOiBQcm9wVHlwZXMuYm9vbCxcbiAgLyoqXG4gICAqIERvIG5vdCByZXNwb25kIHRvIGxvbmcgcHJlc3MgdG91Y2ggZXZlbnRzLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZGlzYWJsZVRvdWNoTGlzdGVuZXI6IFByb3BUeXBlcy5ib29sLFxuICAvKipcbiAgICogVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gd2FpdCBiZWZvcmUgc2hvd2luZyB0aGUgdG9vbHRpcC5cbiAgICogVGhpcyBwcm9wIHdvbid0IGltcGFjdCB0aGUgZW50ZXIgdG91Y2ggZGVsYXkgKGBlbnRlclRvdWNoRGVsYXlgKS5cbiAgICogQGRlZmF1bHQgMTAwXG4gICAqL1xuICBlbnRlckRlbGF5OiBQcm9wVHlwZXMubnVtYmVyLFxuICAvKipcbiAgICogVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gd2FpdCBiZWZvcmUgc2hvd2luZyB0aGUgdG9vbHRpcCB3aGVuIG9uZSB3YXMgYWxyZWFkeSByZWNlbnRseSBvcGVuZWQuXG4gICAqIEBkZWZhdWx0IDBcbiAgICovXG4gIGVudGVyTmV4dERlbGF5OiBQcm9wVHlwZXMubnVtYmVyLFxuICAvKipcbiAgICogVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgYSB1c2VyIG11c3QgdG91Y2ggdGhlIGVsZW1lbnQgYmVmb3JlIHNob3dpbmcgdGhlIHRvb2x0aXAuXG4gICAqIEBkZWZhdWx0IDcwMFxuICAgKi9cbiAgZW50ZXJUb3VjaERlbGF5OiBQcm9wVHlwZXMubnVtYmVyLFxuICAvKipcbiAgICogSWYgYHRydWVgLCB0aGUgdG9vbHRpcCBmb2xsb3cgdGhlIGN1cnNvciBvdmVyIHRoZSB3cmFwcGVkIGVsZW1lbnQuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBmb2xsb3dDdXJzb3I6IFByb3BUeXBlcy5ib29sLFxuICAvKipcbiAgICogVGhpcyBwcm9wIGlzIHVzZWQgdG8gaGVscCBpbXBsZW1lbnQgdGhlIGFjY2Vzc2liaWxpdHkgbG9naWMuXG4gICAqIElmIHlvdSBkb24ndCBwcm92aWRlIHRoaXMgcHJvcC4gSXQgZmFsbHMgYmFjayB0byBhIHJhbmRvbWx5IGdlbmVyYXRlZCBpZC5cbiAgICovXG4gIGlkOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAvKipcbiAgICogVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gd2FpdCBiZWZvcmUgaGlkaW5nIHRoZSB0b29sdGlwLlxuICAgKiBUaGlzIHByb3Agd29uJ3QgaW1wYWN0IHRoZSBsZWF2ZSB0b3VjaCBkZWxheSAoYGxlYXZlVG91Y2hEZWxheWApLlxuICAgKiBAZGVmYXVsdCAwXG4gICAqL1xuICBsZWF2ZURlbGF5OiBQcm9wVHlwZXMubnVtYmVyLFxuICAvKipcbiAgICogVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgYWZ0ZXIgdGhlIHVzZXIgc3RvcHMgdG91Y2hpbmcgYW4gZWxlbWVudCBiZWZvcmUgaGlkaW5nIHRoZSB0b29sdGlwLlxuICAgKiBAZGVmYXVsdCAxNTAwXG4gICAqL1xuICBsZWF2ZVRvdWNoRGVsYXk6IFByb3BUeXBlcy5udW1iZXIsXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmaXJlZCB3aGVuIHRoZSBjb21wb25lbnQgcmVxdWVzdHMgdG8gYmUgY2xvc2VkLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlYWN0LlN5bnRoZXRpY0V2ZW50fSBldmVudCBUaGUgZXZlbnQgc291cmNlIG9mIHRoZSBjYWxsYmFjay5cbiAgICovXG4gIG9uQ2xvc2U6IFByb3BUeXBlcy5mdW5jLFxuICAvKipcbiAgICogQ2FsbGJhY2sgZmlyZWQgd2hlbiB0aGUgY29tcG9uZW50IHJlcXVlc3RzIHRvIGJlIG9wZW4uXG4gICAqXG4gICAqIEBwYXJhbSB7UmVhY3QuU3ludGhldGljRXZlbnR9IGV2ZW50IFRoZSBldmVudCBzb3VyY2Ugb2YgdGhlIGNhbGxiYWNrLlxuICAgKi9cbiAgb25PcGVuOiBQcm9wVHlwZXMuZnVuYyxcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIGNvbXBvbmVudCBpcyBzaG93bi5cbiAgICovXG4gIG9wZW46IFByb3BUeXBlcy5ib29sLFxuICAvKipcbiAgICogVG9vbHRpcCBwbGFjZW1lbnQuXG4gICAqIEBkZWZhdWx0ICdib3R0b20nXG4gICAqL1xuICBwbGFjZW1lbnQ6IFByb3BUeXBlcy5vbmVPZihbJ2F1dG8tZW5kJywgJ2F1dG8tc3RhcnQnLCAnYXV0bycsICdib3R0b20tZW5kJywgJ2JvdHRvbS1zdGFydCcsICdib3R0b20nLCAnbGVmdC1lbmQnLCAnbGVmdC1zdGFydCcsICdsZWZ0JywgJ3JpZ2h0LWVuZCcsICdyaWdodC1zdGFydCcsICdyaWdodCcsICd0b3AtZW5kJywgJ3RvcC1zdGFydCcsICd0b3AnXSksXG4gIC8qKlxuICAgKiBUaGUgY29tcG9uZW50IHVzZWQgZm9yIHRoZSBwb3BwZXIuXG4gICAqIEBkZXByZWNhdGVkIHVzZSB0aGUgYHNsb3RzLnBvcHBlcmAgcHJvcCBpbnN0ZWFkLiBUaGlzIHByb3Agd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIG1ham9yIHJlbGVhc2UuIFNlZSBbTWlncmF0aW5nIGZyb20gZGVwcmVjYXRlZCBBUElzXShodHRwczovL211aS5jb20vbWF0ZXJpYWwtdWkvbWlncmF0aW9uL21pZ3JhdGluZy1mcm9tLWRlcHJlY2F0ZWQtYXBpcy8pIGZvciBtb3JlIGRldGFpbHMuXG4gICAqL1xuICBQb3BwZXJDb21wb25lbnQ6IFByb3BUeXBlcy5lbGVtZW50VHlwZSxcbiAgLyoqXG4gICAqIFByb3BzIGFwcGxpZWQgdG8gdGhlIFtgUG9wcGVyYF0oaHR0cHM6Ly9tdWkuY29tL21hdGVyaWFsLXVpL2FwaS9wb3BwZXIvKSBlbGVtZW50LlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgdGhlIGBzbG90UHJvcHMucG9wcGVyYCBwcm9wIGluc3RlYWQuIFRoaXMgcHJvcCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgbWFqb3IgcmVsZWFzZS4gU2VlIFtNaWdyYXRpbmcgZnJvbSBkZXByZWNhdGVkIEFQSXNdKGh0dHBzOi8vbXVpLmNvbS9tYXRlcmlhbC11aS9taWdyYXRpb24vbWlncmF0aW5nLWZyb20tZGVwcmVjYXRlZC1hcGlzLykgZm9yIG1vcmUgZGV0YWlscy5cbiAgICogQGRlZmF1bHQge31cbiAgICovXG4gIFBvcHBlclByb3BzOiBQcm9wVHlwZXMub2JqZWN0LFxuICAvKipcbiAgICogVGhlIHByb3BzIHVzZWQgZm9yIGVhY2ggc2xvdCBpbnNpZGUuXG4gICAqIEBkZWZhdWx0IHt9XG4gICAqL1xuICBzbG90UHJvcHM6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgYXJyb3c6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0XSksXG4gICAgcG9wcGVyOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdF0pLFxuICAgIHRvb2x0aXA6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0XSksXG4gICAgdHJhbnNpdGlvbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3RdKVxuICB9KSxcbiAgLyoqXG4gICAqIFRoZSBjb21wb25lbnRzIHVzZWQgZm9yIGVhY2ggc2xvdCBpbnNpZGUuXG4gICAqIEBkZWZhdWx0IHt9XG4gICAqL1xuICBzbG90czogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBhcnJvdzogUHJvcFR5cGVzLmVsZW1lbnRUeXBlLFxuICAgIHBvcHBlcjogUHJvcFR5cGVzLmVsZW1lbnRUeXBlLFxuICAgIHRvb2x0aXA6IFByb3BUeXBlcy5lbGVtZW50VHlwZSxcbiAgICB0cmFuc2l0aW9uOiBQcm9wVHlwZXMuZWxlbWVudFR5cGVcbiAgfSksXG4gIC8qKlxuICAgKiBUaGUgc3lzdGVtIHByb3AgdGhhdCBhbGxvd3MgZGVmaW5pbmcgc3lzdGVtIG92ZXJyaWRlcyBhcyB3ZWxsIGFzIGFkZGl0aW9uYWwgQ1NTIHN0eWxlcy5cbiAgICovXG4gIHN4OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdCwgUHJvcFR5cGVzLmJvb2xdKSksIFByb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0XSksXG4gIC8qKlxuICAgKiBUb29sdGlwIHRpdGxlLiBaZXJvLWxlbmd0aCB0aXRsZXMgc3RyaW5nLCB1bmRlZmluZWQsIG51bGwgYW5kIGZhbHNlIGFyZSBuZXZlciBkaXNwbGF5ZWQuXG4gICAqL1xuICB0aXRsZTogUHJvcFR5cGVzLm5vZGUsXG4gIC8qKlxuICAgKiBUaGUgY29tcG9uZW50IHVzZWQgZm9yIHRoZSB0cmFuc2l0aW9uLlxuICAgKiBbRm9sbG93IHRoaXMgZ3VpZGVdKGh0dHBzOi8vbXVpLmNvbS9tYXRlcmlhbC11aS90cmFuc2l0aW9ucy8jdHJhbnNpdGlvbmNvbXBvbmVudC1wcm9wKSB0byBsZWFybiBtb3JlIGFib3V0IHRoZSByZXF1aXJlbWVudHMgZm9yIHRoaXMgY29tcG9uZW50LlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgdGhlIGBzbG90cy50cmFuc2l0aW9uYCBwcm9wIGluc3RlYWQuIFRoaXMgcHJvcCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgbWFqb3IgcmVsZWFzZS4gU2VlIFtNaWdyYXRpbmcgZnJvbSBkZXByZWNhdGVkIEFQSXNdKGh0dHBzOi8vbXVpLmNvbS9tYXRlcmlhbC11aS9taWdyYXRpb24vbWlncmF0aW5nLWZyb20tZGVwcmVjYXRlZC1hcGlzLykgZm9yIG1vcmUgZGV0YWlscy5cbiAgICovXG4gIFRyYW5zaXRpb25Db21wb25lbnQ6IFByb3BUeXBlcy5lbGVtZW50VHlwZSxcbiAgLyoqXG4gICAqIFByb3BzIGFwcGxpZWQgdG8gdGhlIHRyYW5zaXRpb24gZWxlbWVudC5cbiAgICogQnkgZGVmYXVsdCwgdGhlIGVsZW1lbnQgaXMgYmFzZWQgb24gdGhpcyBbYFRyYW5zaXRpb25gXShodHRwczovL3JlYWN0Y29tbXVuaXR5Lm9yZy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL3RyYW5zaXRpb24vKSBjb21wb25lbnQuXG4gICAqIEBkZXByZWNhdGVkIHVzZSB0aGUgYHNsb3RQcm9wcy50cmFuc2l0aW9uYCBwcm9wIGluc3RlYWQuIFRoaXMgcHJvcCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgbWFqb3IgcmVsZWFzZS4gU2VlIFtNaWdyYXRpbmcgZnJvbSBkZXByZWNhdGVkIEFQSXNdKGh0dHBzOi8vbXVpLmNvbS9tYXRlcmlhbC11aS9taWdyYXRpb24vbWlncmF0aW5nLWZyb20tZGVwcmVjYXRlZC1hcGlzLykgZm9yIG1vcmUgZGV0YWlscy5cbiAgICogQGRlZmF1bHQge31cbiAgICovXG4gIFRyYW5zaXRpb25Qcm9wczogUHJvcFR5cGVzLm9iamVjdFxufSA6IHZvaWQgMDtcbmV4cG9ydCBkZWZhdWx0IFRvb2x0aXA7IiwKICAgICJpbXBvcnQgZ2VuZXJhdGVVdGlsaXR5Q2xhc3NlcyBmcm9tICdAbXVpL3V0aWxzL2dlbmVyYXRlVXRpbGl0eUNsYXNzZXMnO1xuaW1wb3J0IGdlbmVyYXRlVXRpbGl0eUNsYXNzIGZyb20gJ0BtdWkvdXRpbHMvZ2VuZXJhdGVVdGlsaXR5Q2xhc3MnO1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRvb2x0aXBVdGlsaXR5Q2xhc3Moc2xvdCkge1xuICByZXR1cm4gZ2VuZXJhdGVVdGlsaXR5Q2xhc3MoJ011aVRvb2x0aXAnLCBzbG90KTtcbn1cbmNvbnN0IHRvb2x0aXBDbGFzc2VzID0gZ2VuZXJhdGVVdGlsaXR5Q2xhc3NlcygnTXVpVG9vbHRpcCcsIFsncG9wcGVyJywgJ3BvcHBlckludGVyYWN0aXZlJywgJ3BvcHBlckFycm93JywgJ3BvcHBlckNsb3NlJywgJ3Rvb2x0aXAnLCAndG9vbHRpcEFycm93JywgJ3RvdWNoJywgJ3Rvb2x0aXBQbGFjZW1lbnRMZWZ0JywgJ3Rvb2x0aXBQbGFjZW1lbnRSaWdodCcsICd0b29sdGlwUGxhY2VtZW50VG9wJywgJ3Rvb2x0aXBQbGFjZW1lbnRCb3R0b20nLCAnYXJyb3cnXSk7XG5leHBvcnQgZGVmYXVsdCB0b29sdGlwQ2xhc3NlczsiLAogICAgIid1c2UgY2xpZW50JztcblxuLy8gQGluaGVyaXRlZENvbXBvbmVudCBJY29uQnV0dG9uXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgcmVmVHlwZSBmcm9tICdAbXVpL3V0aWxzL3JlZlR5cGUnO1xuaW1wb3J0IGNvbXBvc2VDbGFzc2VzIGZyb20gJ0BtdWkvdXRpbHMvY29tcG9zZUNsYXNzZXMnO1xuaW1wb3J0IGNhcGl0YWxpemUgZnJvbSBcIi4uL3V0aWxzL2NhcGl0YWxpemUuanNcIjtcbmltcG9ydCBjcmVhdGVTaW1wbGVQYWxldHRlVmFsdWVGaWx0ZXIgZnJvbSBcIi4uL3V0aWxzL2NyZWF0ZVNpbXBsZVBhbGV0dGVWYWx1ZUZpbHRlci5qc1wiO1xuaW1wb3J0IFN3aXRjaEJhc2UgZnJvbSBcIi4uL2ludGVybmFsL1N3aXRjaEJhc2UuanNcIjtcbmltcG9ydCB7IHN0eWxlZCB9IGZyb20gXCIuLi96ZXJvLXN0eWxlZC9pbmRleC5qc1wiO1xuaW1wb3J0IG1lbW9UaGVtZSBmcm9tIFwiLi4vdXRpbHMvbWVtb1RoZW1lLmpzXCI7XG5pbXBvcnQgeyB1c2VEZWZhdWx0UHJvcHMgfSBmcm9tIFwiLi4vRGVmYXVsdFByb3BzUHJvdmlkZXIvaW5kZXguanNcIjtcbmltcG9ydCBzd2l0Y2hDbGFzc2VzLCB7IGdldFN3aXRjaFV0aWxpdHlDbGFzcyB9IGZyb20gXCIuL3N3aXRjaENsYXNzZXMuanNcIjtcbmltcG9ydCB1c2VTbG90IGZyb20gXCIuLi91dGlscy91c2VTbG90LmpzXCI7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuY29uc3QgdXNlVXRpbGl0eUNsYXNzZXMgPSBvd25lclN0YXRlID0+IHtcbiAgY29uc3Qge1xuICAgIGNsYXNzZXMsXG4gICAgZWRnZSxcbiAgICBzaXplLFxuICAgIGNvbG9yLFxuICAgIGNoZWNrZWQsXG4gICAgZGlzYWJsZWRcbiAgfSA9IG93bmVyU3RhdGU7XG4gIGNvbnN0IHNsb3RzID0ge1xuICAgIHJvb3Q6IFsncm9vdCcsIGVkZ2UgJiYgYGVkZ2Uke2NhcGl0YWxpemUoZWRnZSl9YCwgYHNpemUke2NhcGl0YWxpemUoc2l6ZSl9YF0sXG4gICAgc3dpdGNoQmFzZTogWydzd2l0Y2hCYXNlJywgYGNvbG9yJHtjYXBpdGFsaXplKGNvbG9yKX1gLCBjaGVja2VkICYmICdjaGVja2VkJywgZGlzYWJsZWQgJiYgJ2Rpc2FibGVkJ10sXG4gICAgdGh1bWI6IFsndGh1bWInXSxcbiAgICB0cmFjazogWyd0cmFjayddLFxuICAgIGlucHV0OiBbJ2lucHV0J11cbiAgfTtcbiAgY29uc3QgY29tcG9zZWRDbGFzc2VzID0gY29tcG9zZUNsYXNzZXMoc2xvdHMsIGdldFN3aXRjaFV0aWxpdHlDbGFzcywgY2xhc3Nlcyk7XG4gIHJldHVybiB7XG4gICAgLi4uY2xhc3NlcyxcbiAgICAvLyBmb3J3YXJkIHRoZSBkaXNhYmxlZCBhbmQgY2hlY2tlZCBjbGFzc2VzIHRvIHRoZSBTd2l0Y2hCYXNlXG4gICAgLi4uY29tcG9zZWRDbGFzc2VzXG4gIH07XG59O1xuY29uc3QgU3dpdGNoUm9vdCA9IHN0eWxlZCgnc3BhbicsIHtcbiAgbmFtZTogJ011aVN3aXRjaCcsXG4gIHNsb3Q6ICdSb290JyxcbiAgb3ZlcnJpZGVzUmVzb2x2ZXI6IChwcm9wcywgc3R5bGVzKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgb3duZXJTdGF0ZVxuICAgIH0gPSBwcm9wcztcbiAgICByZXR1cm4gW3N0eWxlcy5yb290LCBvd25lclN0YXRlLmVkZ2UgJiYgc3R5bGVzW2BlZGdlJHtjYXBpdGFsaXplKG93bmVyU3RhdGUuZWRnZSl9YF0sIHN0eWxlc1tgc2l6ZSR7Y2FwaXRhbGl6ZShvd25lclN0YXRlLnNpemUpfWBdXTtcbiAgfVxufSkoe1xuICBkaXNwbGF5OiAnaW5saW5lLWZsZXgnLFxuICB3aWR0aDogMzQgKyAxMiAqIDIsXG4gIGhlaWdodDogMTQgKyAxMiAqIDIsXG4gIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgcGFkZGluZzogMTIsXG4gIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgZmxleFNocmluazogMCxcbiAgekluZGV4OiAwLFxuICAvLyBSZXNldCB0aGUgc3RhY2tpbmcgY29udGV4dC5cbiAgdmVydGljYWxBbGlnbjogJ21pZGRsZScsXG4gIC8vIEZvciBjb3JyZWN0IGFsaWdubWVudCB3aXRoIHRoZSB0ZXh0LlxuICAnQG1lZGlhIHByaW50Jzoge1xuICAgIGNvbG9yQWRqdXN0OiAnZXhhY3QnXG4gIH0sXG4gIHZhcmlhbnRzOiBbe1xuICAgIHByb3BzOiB7XG4gICAgICBlZGdlOiAnc3RhcnQnXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgbWFyZ2luTGVmdDogLThcbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczoge1xuICAgICAgZWRnZTogJ2VuZCdcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICBtYXJnaW5SaWdodDogLThcbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczoge1xuICAgICAgc2l6ZTogJ3NtYWxsJ1xuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIHdpZHRoOiA0MCxcbiAgICAgIGhlaWdodDogMjQsXG4gICAgICBwYWRkaW5nOiA3LFxuICAgICAgW2AmIC4ke3N3aXRjaENsYXNzZXMudGh1bWJ9YF06IHtcbiAgICAgICAgd2lkdGg6IDE2LFxuICAgICAgICBoZWlnaHQ6IDE2XG4gICAgICB9LFxuICAgICAgW2AmIC4ke3N3aXRjaENsYXNzZXMuc3dpdGNoQmFzZX1gXToge1xuICAgICAgICBwYWRkaW5nOiA0LFxuICAgICAgICBbYCYuJHtzd2l0Y2hDbGFzc2VzLmNoZWNrZWR9YF06IHtcbiAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGVYKDE2cHgpJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XVxufSk7XG5jb25zdCBTd2l0Y2hTd2l0Y2hCYXNlID0gc3R5bGVkKFN3aXRjaEJhc2UsIHtcbiAgbmFtZTogJ011aVN3aXRjaCcsXG4gIHNsb3Q6ICdTd2l0Y2hCYXNlJyxcbiAgb3ZlcnJpZGVzUmVzb2x2ZXI6IChwcm9wcywgc3R5bGVzKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgb3duZXJTdGF0ZVxuICAgIH0gPSBwcm9wcztcbiAgICByZXR1cm4gW3N0eWxlcy5zd2l0Y2hCYXNlLCB7XG4gICAgICBbYCYgLiR7c3dpdGNoQ2xhc3Nlcy5pbnB1dH1gXTogc3R5bGVzLmlucHV0XG4gICAgfSwgb3duZXJTdGF0ZS5jb2xvciAhPT0gJ2RlZmF1bHQnICYmIHN0eWxlc1tgY29sb3Ike2NhcGl0YWxpemUob3duZXJTdGF0ZS5jb2xvcil9YF1dO1xuICB9XG59KShtZW1vVGhlbWUoKHtcbiAgdGhlbWVcbn0pID0+ICh7XG4gIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICB0b3A6IDAsXG4gIGxlZnQ6IDAsXG4gIHpJbmRleDogMSxcbiAgLy8gUmVuZGVyIGFib3ZlIHRoZSBmb2N1cyByaXBwbGUuXG4gIGNvbG9yOiB0aGVtZS52YXJzID8gdGhlbWUudmFycy5wYWxldHRlLlN3aXRjaC5kZWZhdWx0Q29sb3IgOiBgJHt0aGVtZS5wYWxldHRlLm1vZGUgPT09ICdsaWdodCcgPyB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSA6IHRoZW1lLnBhbGV0dGUuZ3JleVszMDBdfWAsXG4gIHRyYW5zaXRpb246IHRoZW1lLnRyYW5zaXRpb25zLmNyZWF0ZShbJ2xlZnQnLCAndHJhbnNmb3JtJ10sIHtcbiAgICBkdXJhdGlvbjogdGhlbWUudHJhbnNpdGlvbnMuZHVyYXRpb24uc2hvcnRlc3RcbiAgfSksXG4gIFtgJi4ke3N3aXRjaENsYXNzZXMuY2hlY2tlZH1gXToge1xuICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVgoMjBweCknXG4gIH0sXG4gIFtgJi4ke3N3aXRjaENsYXNzZXMuZGlzYWJsZWR9YF06IHtcbiAgICBjb2xvcjogdGhlbWUudmFycyA/IHRoZW1lLnZhcnMucGFsZXR0ZS5Td2l0Y2guZGVmYXVsdERpc2FibGVkQ29sb3IgOiBgJHt0aGVtZS5wYWxldHRlLm1vZGUgPT09ICdsaWdodCcgPyB0aGVtZS5wYWxldHRlLmdyZXlbMTAwXSA6IHRoZW1lLnBhbGV0dGUuZ3JleVs2MDBdfWBcbiAgfSxcbiAgW2AmLiR7c3dpdGNoQ2xhc3Nlcy5jaGVja2VkfSArIC4ke3N3aXRjaENsYXNzZXMudHJhY2t9YF06IHtcbiAgICBvcGFjaXR5OiAwLjVcbiAgfSxcbiAgW2AmLiR7c3dpdGNoQ2xhc3Nlcy5kaXNhYmxlZH0gKyAuJHtzd2l0Y2hDbGFzc2VzLnRyYWNrfWBdOiB7XG4gICAgb3BhY2l0eTogdGhlbWUudmFycyA/IHRoZW1lLnZhcnMub3BhY2l0eS5zd2l0Y2hUcmFja0Rpc2FibGVkIDogYCR7dGhlbWUucGFsZXR0ZS5tb2RlID09PSAnbGlnaHQnID8gMC4xMiA6IDAuMn1gXG4gIH0sXG4gIFtgJiAuJHtzd2l0Y2hDbGFzc2VzLmlucHV0fWBdOiB7XG4gICAgbGVmdDogJy0xMDAlJyxcbiAgICB3aWR0aDogJzMwMCUnXG4gIH1cbn0pKSwgbWVtb1RoZW1lKCh7XG4gIHRoZW1lXG59KSA9PiAoe1xuICAnJjpob3Zlcic6IHtcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLmFscGhhKCh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlLmFjdGlvbi5hY3RpdmUsICh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlLmFjdGlvbi5ob3Zlck9wYWNpdHkpLFxuICAgIC8vIFJlc2V0IG9uIHRvdWNoIGRldmljZXMsIGl0IGRvZXNuJ3QgYWRkIHNwZWNpZmljaXR5XG4gICAgJ0BtZWRpYSAoaG92ZXI6IG5vbmUpJzoge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnXG4gICAgfVxuICB9LFxuICB2YXJpYW50czogWy4uLk9iamVjdC5lbnRyaWVzKHRoZW1lLnBhbGV0dGUpLmZpbHRlcihjcmVhdGVTaW1wbGVQYWxldHRlVmFsdWVGaWx0ZXIoWydsaWdodCddKSkgLy8gY2hlY2sgYWxsIHRoZSB1c2VkIGZpZWxkcyBpbiB0aGUgc3R5bGUgYmVsb3dcbiAgLm1hcCgoW2NvbG9yXSkgPT4gKHtcbiAgICBwcm9wczoge1xuICAgICAgY29sb3JcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICBbYCYuJHtzd2l0Y2hDbGFzc2VzLmNoZWNrZWR9YF06IHtcbiAgICAgICAgY29sb3I6ICh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlW2NvbG9yXS5tYWluLFxuICAgICAgICAnJjpob3Zlcic6IHtcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLmFscGhhKCh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlW2NvbG9yXS5tYWluLCAodGhlbWUudmFycyB8fCB0aGVtZSkucGFsZXR0ZS5hY3Rpb24uaG92ZXJPcGFjaXR5KSxcbiAgICAgICAgICAnQG1lZGlhIChob3Zlcjogbm9uZSknOiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCdcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFtgJi4ke3N3aXRjaENsYXNzZXMuZGlzYWJsZWR9YF06IHtcbiAgICAgICAgICBjb2xvcjogdGhlbWUudmFycyA/IHRoZW1lLnZhcnMucGFsZXR0ZS5Td2l0Y2hbYCR7Y29sb3J9RGlzYWJsZWRDb2xvcmBdIDogYCR7dGhlbWUucGFsZXR0ZS5tb2RlID09PSAnbGlnaHQnID8gdGhlbWUubGlnaHRlbih0aGVtZS5wYWxldHRlW2NvbG9yXS5tYWluLCAwLjYyKSA6IHRoZW1lLmRhcmtlbih0aGVtZS5wYWxldHRlW2NvbG9yXS5tYWluLCAwLjU1KX1gXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBbYCYuJHtzd2l0Y2hDbGFzc2VzLmNoZWNrZWR9ICsgLiR7c3dpdGNoQ2xhc3Nlcy50cmFja31gXToge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICh0aGVtZS52YXJzIHx8IHRoZW1lKS5wYWxldHRlW2NvbG9yXS5tYWluXG4gICAgICB9XG4gICAgfVxuICB9KSldXG59KSkpO1xuY29uc3QgU3dpdGNoVHJhY2sgPSBzdHlsZWQoJ3NwYW4nLCB7XG4gIG5hbWU6ICdNdWlTd2l0Y2gnLFxuICBzbG90OiAnVHJhY2snXG59KShtZW1vVGhlbWUoKHtcbiAgdGhlbWVcbn0pID0+ICh7XG4gIGhlaWdodDogJzEwMCUnLFxuICB3aWR0aDogJzEwMCUnLFxuICBib3JkZXJSYWRpdXM6IDE0IC8gMixcbiAgekluZGV4OiAtMSxcbiAgdHJhbnNpdGlvbjogdGhlbWUudHJhbnNpdGlvbnMuY3JlYXRlKFsnb3BhY2l0eScsICdiYWNrZ3JvdW5kLWNvbG9yJ10sIHtcbiAgICBkdXJhdGlvbjogdGhlbWUudHJhbnNpdGlvbnMuZHVyYXRpb24uc2hvcnRlc3RcbiAgfSksXG4gIGJhY2tncm91bmRDb2xvcjogdGhlbWUudmFycyA/IHRoZW1lLnZhcnMucGFsZXR0ZS5jb21tb24ub25CYWNrZ3JvdW5kIDogYCR7dGhlbWUucGFsZXR0ZS5tb2RlID09PSAnbGlnaHQnID8gdGhlbWUucGFsZXR0ZS5jb21tb24uYmxhY2sgOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZX1gLFxuICBvcGFjaXR5OiB0aGVtZS52YXJzID8gdGhlbWUudmFycy5vcGFjaXR5LnN3aXRjaFRyYWNrIDogYCR7dGhlbWUucGFsZXR0ZS5tb2RlID09PSAnbGlnaHQnID8gMC4zOCA6IDAuM31gXG59KSkpO1xuY29uc3QgU3dpdGNoVGh1bWIgPSBzdHlsZWQoJ3NwYW4nLCB7XG4gIG5hbWU6ICdNdWlTd2l0Y2gnLFxuICBzbG90OiAnVGh1bWInXG59KShtZW1vVGhlbWUoKHtcbiAgdGhlbWVcbn0pID0+ICh7XG4gIGJveFNoYWRvdzogKHRoZW1lLnZhcnMgfHwgdGhlbWUpLnNoYWRvd3NbMV0sXG4gIGJhY2tncm91bmRDb2xvcjogJ2N1cnJlbnRDb2xvcicsXG4gIHdpZHRoOiAyMCxcbiAgaGVpZ2h0OiAyMCxcbiAgYm9yZGVyUmFkaXVzOiAnNTAlJ1xufSkpKTtcbmNvbnN0IFN3aXRjaCA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIFN3aXRjaChpblByb3BzLCByZWYpIHtcbiAgY29uc3QgcHJvcHMgPSB1c2VEZWZhdWx0UHJvcHMoe1xuICAgIHByb3BzOiBpblByb3BzLFxuICAgIG5hbWU6ICdNdWlTd2l0Y2gnXG4gIH0pO1xuICBjb25zdCB7XG4gICAgY2xhc3NOYW1lLFxuICAgIGNvbG9yID0gJ3ByaW1hcnknLFxuICAgIGVkZ2UgPSBmYWxzZSxcbiAgICBzaXplID0gJ21lZGl1bScsXG4gICAgc3gsXG4gICAgc2xvdHMgPSB7fSxcbiAgICBzbG90UHJvcHMgPSB7fSxcbiAgICAuLi5vdGhlclxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IG93bmVyU3RhdGUgPSB7XG4gICAgLi4ucHJvcHMsXG4gICAgY29sb3IsXG4gICAgZWRnZSxcbiAgICBzaXplXG4gIH07XG4gIGNvbnN0IGNsYXNzZXMgPSB1c2VVdGlsaXR5Q2xhc3Nlcyhvd25lclN0YXRlKTtcbiAgY29uc3QgZXh0ZXJuYWxGb3J3YXJkZWRQcm9wcyA9IHtcbiAgICBzbG90cyxcbiAgICBzbG90UHJvcHNcbiAgfTtcbiAgY29uc3QgW1Jvb3RTbG90LCByb290U2xvdFByb3BzXSA9IHVzZVNsb3QoJ3Jvb3QnLCB7XG4gICAgY2xhc3NOYW1lOiBjbHN4KGNsYXNzZXMucm9vdCwgY2xhc3NOYW1lKSxcbiAgICBlbGVtZW50VHlwZTogU3dpdGNoUm9vdCxcbiAgICBleHRlcm5hbEZvcndhcmRlZFByb3BzLFxuICAgIG93bmVyU3RhdGUsXG4gICAgYWRkaXRpb25hbFByb3BzOiB7XG4gICAgICBzeFxuICAgIH1cbiAgfSk7XG4gIGNvbnN0IFtUaHVtYlNsb3QsIHRodW1iU2xvdFByb3BzXSA9IHVzZVNsb3QoJ3RodW1iJywge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy50aHVtYixcbiAgICBlbGVtZW50VHlwZTogU3dpdGNoVGh1bWIsXG4gICAgZXh0ZXJuYWxGb3J3YXJkZWRQcm9wcyxcbiAgICBvd25lclN0YXRlXG4gIH0pO1xuICBjb25zdCBpY29uID0gLyojX19QVVJFX18qL19qc3goVGh1bWJTbG90LCB7XG4gICAgLi4udGh1bWJTbG90UHJvcHNcbiAgfSk7XG4gIGNvbnN0IFtUcmFja1Nsb3QsIHRyYWNrU2xvdFByb3BzXSA9IHVzZVNsb3QoJ3RyYWNrJywge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy50cmFjayxcbiAgICBlbGVtZW50VHlwZTogU3dpdGNoVHJhY2ssXG4gICAgZXh0ZXJuYWxGb3J3YXJkZWRQcm9wcyxcbiAgICBvd25lclN0YXRlXG4gIH0pO1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3hzKFJvb3RTbG90LCB7XG4gICAgLi4ucm9vdFNsb3RQcm9wcyxcbiAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KFN3aXRjaFN3aXRjaEJhc2UsIHtcbiAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgIGljb246IGljb24sXG4gICAgICBjaGVja2VkSWNvbjogaWNvbixcbiAgICAgIHJlZjogcmVmLFxuICAgICAgb3duZXJTdGF0ZTogb3duZXJTdGF0ZSxcbiAgICAgIC4uLm90aGVyLFxuICAgICAgY2xhc3Nlczoge1xuICAgICAgICAuLi5jbGFzc2VzLFxuICAgICAgICByb290OiBjbGFzc2VzLnN3aXRjaEJhc2VcbiAgICAgIH0sXG4gICAgICBzbG90czoge1xuICAgICAgICAuLi4oc2xvdHMuc3dpdGNoQmFzZSAmJiB7XG4gICAgICAgICAgcm9vdDogc2xvdHMuc3dpdGNoQmFzZVxuICAgICAgICB9KSxcbiAgICAgICAgLi4uKHNsb3RzLmlucHV0ICYmIHtcbiAgICAgICAgICBpbnB1dDogc2xvdHMuaW5wdXRcbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICBzbG90UHJvcHM6IHtcbiAgICAgICAgLi4uKHNsb3RQcm9wcy5zd2l0Y2hCYXNlICYmIHtcbiAgICAgICAgICByb290OiB0eXBlb2Ygc2xvdFByb3BzLnN3aXRjaEJhc2UgPT09ICdmdW5jdGlvbicgPyBzbG90UHJvcHMuc3dpdGNoQmFzZShvd25lclN0YXRlKSA6IHNsb3RQcm9wcy5zd2l0Y2hCYXNlXG4gICAgICAgIH0pLFxuICAgICAgICBpbnB1dDoge1xuICAgICAgICAgIHJvbGU6ICdzd2l0Y2gnXG4gICAgICAgIH0sXG4gICAgICAgIC4uLihzbG90UHJvcHMuaW5wdXQgJiYge1xuICAgICAgICAgIGlucHV0OiB0eXBlb2Ygc2xvdFByb3BzLmlucHV0ID09PSAnZnVuY3Rpb24nID8gc2xvdFByb3BzLmlucHV0KG93bmVyU3RhdGUpIDogc2xvdFByb3BzLmlucHV0XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFRyYWNrU2xvdCwge1xuICAgICAgLi4udHJhY2tTbG90UHJvcHNcbiAgICB9KV1cbiAgfSk7XG59KTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFN3aXRjaC5wcm9wVHlwZXMgLyogcmVtb3ZlLXByb3B0eXBlcyAqLyA9IHtcbiAgLy8g4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIFdhcm5pbmcg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQXG4gIC8vIOKUgiBUaGVzZSBQcm9wVHlwZXMgYXJlIGdlbmVyYXRlZCBmcm9tIHRoZSBUeXBlU2NyaXB0IHR5cGUgZGVmaW5pdGlvbnMuIOKUglxuICAvLyDilIIgICAgVG8gdXBkYXRlIHRoZW0sIGVkaXQgdGhlIGQudHMgZmlsZSBhbmQgcnVuIGBwbnBtIHByb3B0eXBlc2AuICAgICDilIJcbiAgLy8g4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBjb21wb25lbnQgaXMgY2hlY2tlZC5cbiAgICovXG4gIGNoZWNrZWQ6IFByb3BUeXBlcy5ib29sLFxuICAvKipcbiAgICogVGhlIGljb24gdG8gZGlzcGxheSB3aGVuIHRoZSBjb21wb25lbnQgaXMgY2hlY2tlZC5cbiAgICovXG4gIGNoZWNrZWRJY29uOiBQcm9wVHlwZXMubm9kZSxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIG9yIGV4dGVuZCB0aGUgc3R5bGVzIGFwcGxpZWQgdG8gdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIC8qKlxuICAgKiBUaGUgY29sb3Igb2YgdGhlIGNvbXBvbmVudC5cbiAgICogSXQgc3VwcG9ydHMgYm90aCBkZWZhdWx0IGFuZCBjdXN0b20gdGhlbWUgY29sb3JzLCB3aGljaCBjYW4gYmUgYWRkZWQgYXMgc2hvd24gaW4gdGhlXG4gICAqIFtwYWxldHRlIGN1c3RvbWl6YXRpb24gZ3VpZGVdKGh0dHBzOi8vbXVpLmNvbS9tYXRlcmlhbC11aS9jdXN0b21pemF0aW9uL3BhbGV0dGUvI2N1c3RvbS1jb2xvcnMpLlxuICAgKiBAZGVmYXVsdCAncHJpbWFyeSdcbiAgICovXG4gIGNvbG9yOiBQcm9wVHlwZXMgLyogQHR5cGVzY3JpcHQtdG8tcHJvcHR5cGVzLWlnbm9yZSAqLy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ2RlZmF1bHQnLCAncHJpbWFyeScsICdzZWNvbmRhcnknLCAnZXJyb3InLCAnaW5mbycsICdzdWNjZXNzJywgJ3dhcm5pbmcnXSksIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IGNoZWNrZWQgc3RhdGUuIFVzZSB3aGVuIHRoZSBjb21wb25lbnQgaXMgbm90IGNvbnRyb2xsZWQuXG4gICAqL1xuICBkZWZhdWx0Q2hlY2tlZDogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBjb21wb25lbnQgaXMgZGlzYWJsZWQuXG4gICAqL1xuICBkaXNhYmxlZDogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSByaXBwbGUgZWZmZWN0IGlzIGRpc2FibGVkLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZGlzYWJsZVJpcHBsZTogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBJZiBnaXZlbiwgdXNlcyBhIG5lZ2F0aXZlIG1hcmdpbiB0byBjb3VudGVyYWN0IHRoZSBwYWRkaW5nIG9uIG9uZVxuICAgKiBzaWRlICh0aGlzIGlzIG9mdGVuIGhlbHBmdWwgZm9yIGFsaWduaW5nIHRoZSBsZWZ0IG9yIHJpZ2h0XG4gICAqIHNpZGUgb2YgdGhlIGljb24gd2l0aCBjb250ZW50IGFib3ZlIG9yIGJlbG93LCB3aXRob3V0IHJ1aW5pbmcgdGhlIGJvcmRlclxuICAgKiBzaXplIGFuZCBzaGFwZSkuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBlZGdlOiBQcm9wVHlwZXMub25lT2YoWydlbmQnLCAnc3RhcnQnLCBmYWxzZV0pLFxuICAvKipcbiAgICogVGhlIGljb24gdG8gZGlzcGxheSB3aGVuIHRoZSBjb21wb25lbnQgaXMgdW5jaGVja2VkLlxuICAgKi9cbiAgaWNvbjogUHJvcFR5cGVzLm5vZGUsXG4gIC8qKlxuICAgKiBUaGUgaWQgb2YgdGhlIGBpbnB1dGAgZWxlbWVudC5cbiAgICovXG4gIGlkOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAvKipcbiAgICogW0F0dHJpYnV0ZXNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvUmVmZXJlbmNlL0VsZW1lbnRzL2lucHV0I2F0dHJpYnV0ZXMpIGFwcGxpZWQgdG8gdGhlIGBpbnB1dGAgZWxlbWVudC5cbiAgICogQGRlcHJlY2F0ZWQgVXNlIGBzbG90UHJvcHMuaW5wdXRgIGluc3RlYWQuIFRoaXMgcHJvcCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgbWFqb3IgcmVsZWFzZS4gU2VlIFtNaWdyYXRpbmcgZnJvbSBkZXByZWNhdGVkIEFQSXNdKC9tYXRlcmlhbC11aS9taWdyYXRpb24vbWlncmF0aW5nLWZyb20tZGVwcmVjYXRlZC1hcGlzLykgZm9yIG1vcmUgZGV0YWlscy5cbiAgICovXG4gIGlucHV0UHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG4gIC8qKlxuICAgKiBQYXNzIGEgcmVmIHRvIHRoZSBgaW5wdXRgIGVsZW1lbnQuXG4gICAqIEBkZXByZWNhdGVkIFVzZSBgc2xvdFByb3BzLmlucHV0LnJlZmAgaW5zdGVhZC4gVGhpcyBwcm9wIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSBtYWpvciByZWxlYXNlLiBTZWUgW01pZ3JhdGluZyBmcm9tIGRlcHJlY2F0ZWQgQVBJc10oL21hdGVyaWFsLXVpL21pZ3JhdGlvbi9taWdyYXRpbmctZnJvbS1kZXByZWNhdGVkLWFwaXMvKSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgKi9cbiAgaW5wdXRSZWY6IHJlZlR5cGUsXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmaXJlZCB3aGVuIHRoZSBzdGF0ZSBpcyBjaGFuZ2VkLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+fSBldmVudCBUaGUgZXZlbnQgc291cmNlIG9mIHRoZSBjYWxsYmFjay5cbiAgICogWW91IGNhbiBwdWxsIG91dCB0aGUgbmV3IHZhbHVlIGJ5IGFjY2Vzc2luZyBgZXZlbnQudGFyZ2V0LnZhbHVlYCAoc3RyaW5nKS5cbiAgICogWW91IGNhbiBwdWxsIG91dCB0aGUgbmV3IGNoZWNrZWQgc3RhdGUgYnkgYWNjZXNzaW5nIGBldmVudC50YXJnZXQuY2hlY2tlZGAgKGJvb2xlYW4pLlxuICAgKi9cbiAgb25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuICAvKipcbiAgICogSWYgYHRydWVgLCB0aGUgYGlucHV0YCBlbGVtZW50IGlzIHJlcXVpcmVkLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgcmVxdWlyZWQ6IFByb3BUeXBlcy5ib29sLFxuICAvKipcbiAgICogVGhlIHNpemUgb2YgdGhlIGNvbXBvbmVudC5cbiAgICogYHNtYWxsYCBpcyBlcXVpdmFsZW50IHRvIHRoZSBkZW5zZSBzd2l0Y2ggc3R5bGluZy5cbiAgICogQGRlZmF1bHQgJ21lZGl1bSdcbiAgICovXG4gIHNpemU6IFByb3BUeXBlcyAvKiBAdHlwZXNjcmlwdC10by1wcm9wdHlwZXMtaWdub3JlICovLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnbWVkaXVtJywgJ3NtYWxsJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gIC8qKlxuICAgKiBUaGUgcHJvcHMgdXNlZCBmb3IgZWFjaCBzbG90IGluc2lkZS5cbiAgICogQGRlZmF1bHQge31cbiAgICovXG4gIHNsb3RQcm9wczogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBpbnB1dDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3RdKSxcbiAgICByb290OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdF0pLFxuICAgIHN3aXRjaEJhc2U6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0XSksXG4gICAgdGh1bWI6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0XSksXG4gICAgdHJhY2s6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0XSlcbiAgfSksXG4gIC8qKlxuICAgKiBUaGUgY29tcG9uZW50cyB1c2VkIGZvciBlYWNoIHNsb3QgaW5zaWRlLlxuICAgKiBAZGVmYXVsdCB7fVxuICAgKi9cbiAgc2xvdHM6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgaW5wdXQ6IFByb3BUeXBlcy5lbGVtZW50VHlwZSxcbiAgICByb290OiBQcm9wVHlwZXMuZWxlbWVudFR5cGUsXG4gICAgc3dpdGNoQmFzZTogUHJvcFR5cGVzLmVsZW1lbnRUeXBlLFxuICAgIHRodW1iOiBQcm9wVHlwZXMuZWxlbWVudFR5cGUsXG4gICAgdHJhY2s6IFByb3BUeXBlcy5lbGVtZW50VHlwZVxuICB9KSxcbiAgLyoqXG4gICAqIFRoZSBzeXN0ZW0gcHJvcCB0aGF0IGFsbG93cyBkZWZpbmluZyBzeXN0ZW0gb3ZlcnJpZGVzIGFzIHdlbGwgYXMgYWRkaXRpb25hbCBDU1Mgc3R5bGVzLlxuICAgKi9cbiAgc3g6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0LCBQcm9wVHlwZXMuYm9vbF0pKSwgUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3RdKSxcbiAgLyoqXG4gICAqIFRoZSB2YWx1ZSBvZiB0aGUgY29tcG9uZW50LiBUaGUgRE9NIEFQSSBjYXN0cyB0aGlzIHRvIGEgc3RyaW5nLlxuICAgKiBUaGUgYnJvd3NlciB1c2VzIFwib25cIiBhcyB0aGUgZGVmYXVsdCB2YWx1ZS5cbiAgICovXG4gIHZhbHVlOiBQcm9wVHlwZXMuYW55XG59IDogdm9pZCAwO1xuZXhwb3J0IGRlZmF1bHQgU3dpdGNoOyIsCiAgICAiaW1wb3J0IGdlbmVyYXRlVXRpbGl0eUNsYXNzZXMgZnJvbSAnQG11aS91dGlscy9nZW5lcmF0ZVV0aWxpdHlDbGFzc2VzJztcbmltcG9ydCBnZW5lcmF0ZVV0aWxpdHlDbGFzcyBmcm9tICdAbXVpL3V0aWxzL2dlbmVyYXRlVXRpbGl0eUNsYXNzJztcbmV4cG9ydCBmdW5jdGlvbiBnZXRTd2l0Y2hVdGlsaXR5Q2xhc3Moc2xvdCkge1xuICByZXR1cm4gZ2VuZXJhdGVVdGlsaXR5Q2xhc3MoJ011aVN3aXRjaCcsIHNsb3QpO1xufVxuY29uc3Qgc3dpdGNoQ2xhc3NlcyA9IGdlbmVyYXRlVXRpbGl0eUNsYXNzZXMoJ011aVN3aXRjaCcsIFsncm9vdCcsICdlZGdlU3RhcnQnLCAnZWRnZUVuZCcsICdzd2l0Y2hCYXNlJywgJ2NvbG9yUHJpbWFyeScsICdjb2xvclNlY29uZGFyeScsICdzaXplU21hbGwnLCAnc2l6ZU1lZGl1bScsICdjaGVja2VkJywgJ2Rpc2FibGVkJywgJ2lucHV0JywgJ3RodW1iJywgJ3RyYWNrJ10pO1xuZXhwb3J0IGRlZmF1bHQgc3dpdGNoQ2xhc3NlczsiLAogICAgIid1c2UgY2xpZW50JztcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnO1xuaW1wb3J0IGNvbXBvc2VDbGFzc2VzIGZyb20gJ0BtdWkvdXRpbHMvY29tcG9zZUNsYXNzZXMnO1xuaW1wb3J0IHsgc3R5bGVkIH0gZnJvbSBcIi4uL3plcm8tc3R5bGVkL2luZGV4LmpzXCI7XG5pbXBvcnQgbWVtb1RoZW1lIGZyb20gXCIuLi91dGlscy9tZW1vVGhlbWUuanNcIjtcbmltcG9ydCB7IHVzZURlZmF1bHRQcm9wcyB9IGZyb20gXCIuLi9EZWZhdWx0UHJvcHNQcm92aWRlci9pbmRleC5qc1wiO1xuaW1wb3J0IHsgZ2V0VG9vbGJhclV0aWxpdHlDbGFzcyB9IGZyb20gXCIuL3Rvb2xiYXJDbGFzc2VzLmpzXCI7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuY29uc3QgdXNlVXRpbGl0eUNsYXNzZXMgPSBvd25lclN0YXRlID0+IHtcbiAgY29uc3Qge1xuICAgIGNsYXNzZXMsXG4gICAgZGlzYWJsZUd1dHRlcnMsXG4gICAgdmFyaWFudFxuICB9ID0gb3duZXJTdGF0ZTtcbiAgY29uc3Qgc2xvdHMgPSB7XG4gICAgcm9vdDogWydyb290JywgIWRpc2FibGVHdXR0ZXJzICYmICdndXR0ZXJzJywgdmFyaWFudF1cbiAgfTtcbiAgcmV0dXJuIGNvbXBvc2VDbGFzc2VzKHNsb3RzLCBnZXRUb29sYmFyVXRpbGl0eUNsYXNzLCBjbGFzc2VzKTtcbn07XG5jb25zdCBUb29sYmFyUm9vdCA9IHN0eWxlZCgnZGl2Jywge1xuICBuYW1lOiAnTXVpVG9vbGJhcicsXG4gIHNsb3Q6ICdSb290JyxcbiAgb3ZlcnJpZGVzUmVzb2x2ZXI6IChwcm9wcywgc3R5bGVzKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgb3duZXJTdGF0ZVxuICAgIH0gPSBwcm9wcztcbiAgICByZXR1cm4gW3N0eWxlcy5yb290LCAhb3duZXJTdGF0ZS5kaXNhYmxlR3V0dGVycyAmJiBzdHlsZXMuZ3V0dGVycywgc3R5bGVzW293bmVyU3RhdGUudmFyaWFudF1dO1xuICB9XG59KShtZW1vVGhlbWUoKHtcbiAgdGhlbWVcbn0pID0+ICh7XG4gIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICBkaXNwbGF5OiAnZmxleCcsXG4gIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICB2YXJpYW50czogW3tcbiAgICBwcm9wczogKHtcbiAgICAgIG93bmVyU3RhdGVcbiAgICB9KSA9PiAhb3duZXJTdGF0ZS5kaXNhYmxlR3V0dGVycyxcbiAgICBzdHlsZToge1xuICAgICAgcGFkZGluZ0xlZnQ6IHRoZW1lLnNwYWNpbmcoMiksXG4gICAgICBwYWRkaW5nUmlnaHQ6IHRoZW1lLnNwYWNpbmcoMiksXG4gICAgICBbdGhlbWUuYnJlYWtwb2ludHMudXAoJ3NtJyldOiB7XG4gICAgICAgIHBhZGRpbmdMZWZ0OiB0aGVtZS5zcGFjaW5nKDMpLFxuICAgICAgICBwYWRkaW5nUmlnaHQ6IHRoZW1lLnNwYWNpbmcoMylcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczoge1xuICAgICAgdmFyaWFudDogJ2RlbnNlJ1xuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIG1pbkhlaWdodDogNDhcbiAgICB9XG4gIH0sIHtcbiAgICBwcm9wczoge1xuICAgICAgdmFyaWFudDogJ3JlZ3VsYXInXG4gICAgfSxcbiAgICBzdHlsZTogdGhlbWUubWl4aW5zLnRvb2xiYXJcbiAgfV1cbn0pKSk7XG5jb25zdCBUb29sYmFyID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gVG9vbGJhcihpblByb3BzLCByZWYpIHtcbiAgY29uc3QgcHJvcHMgPSB1c2VEZWZhdWx0UHJvcHMoe1xuICAgIHByb3BzOiBpblByb3BzLFxuICAgIG5hbWU6ICdNdWlUb29sYmFyJ1xuICB9KTtcbiAgY29uc3Qge1xuICAgIGNsYXNzTmFtZSxcbiAgICBjb21wb25lbnQgPSAnZGl2JyxcbiAgICBkaXNhYmxlR3V0dGVycyA9IGZhbHNlLFxuICAgIHZhcmlhbnQgPSAncmVndWxhcicsXG4gICAgLi4ub3RoZXJcbiAgfSA9IHByb3BzO1xuICBjb25zdCBvd25lclN0YXRlID0ge1xuICAgIC4uLnByb3BzLFxuICAgIGNvbXBvbmVudCxcbiAgICBkaXNhYmxlR3V0dGVycyxcbiAgICB2YXJpYW50XG4gIH07XG4gIGNvbnN0IGNsYXNzZXMgPSB1c2VVdGlsaXR5Q2xhc3Nlcyhvd25lclN0YXRlKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KFRvb2xiYXJSb290LCB7XG4gICAgYXM6IGNvbXBvbmVudCxcbiAgICBjbGFzc05hbWU6IGNsc3goY2xhc3Nlcy5yb290LCBjbGFzc05hbWUpLFxuICAgIHJlZjogcmVmLFxuICAgIG93bmVyU3RhdGU6IG93bmVyU3RhdGUsXG4gICAgLi4ub3RoZXJcbiAgfSk7XG59KTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFRvb2xiYXIucHJvcFR5cGVzIC8qIHJlbW92ZS1wcm9wdHlwZXMgKi8gPSB7XG4gIC8vIOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBXYXJuaW5nIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuICAvLyDilIIgVGhlc2UgUHJvcFR5cGVzIGFyZSBnZW5lcmF0ZWQgZnJvbSB0aGUgVHlwZVNjcmlwdCB0eXBlIGRlZmluaXRpb25zLiDilIJcbiAgLy8g4pSCICAgIFRvIHVwZGF0ZSB0aGVtLCBlZGl0IHRoZSBkLnRzIGZpbGUgYW5kIHJ1biBgcG5wbSBwcm9wdHlwZXNgLiAgICAg4pSCXG4gIC8vIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmFxuICAvKipcbiAgICogVGhlIFRvb2xiYXIgY2hpbGRyZW4sIHVzdWFsbHkgYSBtaXh0dXJlIG9mIGBJY29uQnV0dG9uYCwgYEJ1dHRvbmAgYW5kIGBUeXBvZ3JhcGh5YC5cbiAgICogVGhlIFRvb2xiYXIgaXMgYSBmbGV4IGNvbnRhaW5lciwgYWxsb3dpbmcgZmxleCBpdGVtIHByb3BlcnRpZXMgdG8gYmUgdXNlZCB0byBsYXkgb3V0IHRoZSBjaGlsZHJlbi5cbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIG9yIGV4dGVuZCB0aGUgc3R5bGVzIGFwcGxpZWQgdG8gdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIC8qKlxuICAgKiBUaGUgY29tcG9uZW50IHVzZWQgZm9yIHRoZSByb290IG5vZGUuXG4gICAqIEVpdGhlciBhIHN0cmluZyB0byB1c2UgYSBIVE1MIGVsZW1lbnQgb3IgYSBjb21wb25lbnQuXG4gICAqL1xuICBjb21wb25lbnQ6IFByb3BUeXBlcy5lbGVtZW50VHlwZSxcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgZGlzYWJsZXMgZ3V0dGVyIHBhZGRpbmcuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBkaXNhYmxlR3V0dGVyczogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBUaGUgc3lzdGVtIHByb3AgdGhhdCBhbGxvd3MgZGVmaW5pbmcgc3lzdGVtIG92ZXJyaWRlcyBhcyB3ZWxsIGFzIGFkZGl0aW9uYWwgQ1NTIHN0eWxlcy5cbiAgICovXG4gIHN4OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdCwgUHJvcFR5cGVzLmJvb2xdKSksIFByb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0XSksXG4gIC8qKlxuICAgKiBUaGUgdmFyaWFudCB0byB1c2UuXG4gICAqIEBkZWZhdWx0ICdyZWd1bGFyJ1xuICAgKi9cbiAgdmFyaWFudDogUHJvcFR5cGVzIC8qIEB0eXBlc2NyaXB0LXRvLXByb3B0eXBlcy1pZ25vcmUgKi8ub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWydkZW5zZScsICdyZWd1bGFyJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSlcbn0gOiB2b2lkIDA7XG5leHBvcnQgZGVmYXVsdCBUb29sYmFyOyIsCiAgICAiaW1wb3J0IGdlbmVyYXRlVXRpbGl0eUNsYXNzZXMgZnJvbSAnQG11aS91dGlscy9nZW5lcmF0ZVV0aWxpdHlDbGFzc2VzJztcbmltcG9ydCBnZW5lcmF0ZVV0aWxpdHlDbGFzcyBmcm9tICdAbXVpL3V0aWxzL2dlbmVyYXRlVXRpbGl0eUNsYXNzJztcbmV4cG9ydCBmdW5jdGlvbiBnZXRUb29sYmFyVXRpbGl0eUNsYXNzKHNsb3QpIHtcbiAgcmV0dXJuIGdlbmVyYXRlVXRpbGl0eUNsYXNzKCdNdWlUb29sYmFyJywgc2xvdCk7XG59XG5jb25zdCB0b29sYmFyQ2xhc3NlcyA9IGdlbmVyYXRlVXRpbGl0eUNsYXNzZXMoJ011aVRvb2xiYXInLCBbJ3Jvb3QnLCAnZ3V0dGVycycsICdyZWd1bGFyJywgJ2RlbnNlJ10pO1xuZXhwb3J0IGRlZmF1bHQgdG9vbGJhckNsYXNzZXM7IiwKICAgICJpbXBvcnQgeyB1bnN0YWJsZV9jcmVhdGVVc2VNZWRpYVF1ZXJ5IH0gZnJvbSAnQG11aS9zeXN0ZW0vdXNlTWVkaWFRdWVyeSc7XG5pbXBvcnQgVEhFTUVfSUQgZnJvbSBcIi4uL3N0eWxlcy9pZGVudGlmaWVyLmpzXCI7XG5jb25zdCB1c2VNZWRpYVF1ZXJ5ID0gdW5zdGFibGVfY3JlYXRlVXNlTWVkaWFRdWVyeSh7XG4gIHRoZW1lSWQ6IFRIRU1FX0lEXG59KTtcbmV4cG9ydCBkZWZhdWx0IHVzZU1lZGlhUXVlcnk7IiwKICAgICIvLyBzcmMvaW5kZXgudHN4XG5pbXBvcnQgUmVhY3QzLCB7IENvbXBvbmVudCBhcyBDb21wb25lbnQzIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgZmFzdENvbXBhcmUgZnJvbSBcInJlYWN0LWZhc3QtY29tcGFyZVwiO1xuaW1wb3J0IGludmFyaWFudCBmcm9tIFwiaW52YXJpYW50XCI7XG5cbi8vIHNyYy9Qcm92aWRlci50c3hcbmltcG9ydCBSZWFjdDIsIHsgQ29tcG9uZW50IH0gZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy9zZXJ2ZXIudHNcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuLy8gc3JjL2NvbnN0YW50cy50c1xudmFyIFRBR19OQU1FUyA9IC8qIEBfX1BVUkVfXyAqLyAoKFRBR19OQU1FUzIpID0+IHtcbiAgVEFHX05BTUVTMltcIkJBU0VcIl0gPSBcImJhc2VcIjtcbiAgVEFHX05BTUVTMltcIkJPRFlcIl0gPSBcImJvZHlcIjtcbiAgVEFHX05BTUVTMltcIkhFQURcIl0gPSBcImhlYWRcIjtcbiAgVEFHX05BTUVTMltcIkhUTUxcIl0gPSBcImh0bWxcIjtcbiAgVEFHX05BTUVTMltcIkxJTktcIl0gPSBcImxpbmtcIjtcbiAgVEFHX05BTUVTMltcIk1FVEFcIl0gPSBcIm1ldGFcIjtcbiAgVEFHX05BTUVTMltcIk5PU0NSSVBUXCJdID0gXCJub3NjcmlwdFwiO1xuICBUQUdfTkFNRVMyW1wiU0NSSVBUXCJdID0gXCJzY3JpcHRcIjtcbiAgVEFHX05BTUVTMltcIlNUWUxFXCJdID0gXCJzdHlsZVwiO1xuICBUQUdfTkFNRVMyW1wiVElUTEVcIl0gPSBcInRpdGxlXCI7XG4gIFRBR19OQU1FUzJbXCJGUkFHTUVOVFwiXSA9IFwiU3ltYm9sKHJlYWN0LmZyYWdtZW50KVwiO1xuICByZXR1cm4gVEFHX05BTUVTMjtcbn0pKFRBR19OQU1FUyB8fCB7fSk7XG52YXIgU0VPX1BSSU9SSVRZX1RBR1MgPSB7XG4gIGxpbms6IHsgcmVsOiBbXCJhbXBodG1sXCIsIFwiY2Fub25pY2FsXCIsIFwiYWx0ZXJuYXRlXCJdIH0sXG4gIHNjcmlwdDogeyB0eXBlOiBbXCJhcHBsaWNhdGlvbi9sZCtqc29uXCJdIH0sXG4gIG1ldGE6IHtcbiAgICBjaGFyc2V0OiBcIlwiLFxuICAgIG5hbWU6IFtcImdlbmVyYXRvclwiLCBcInJvYm90c1wiLCBcImRlc2NyaXB0aW9uXCJdLFxuICAgIHByb3BlcnR5OiBbXG4gICAgICBcIm9nOnR5cGVcIixcbiAgICAgIFwib2c6dGl0bGVcIixcbiAgICAgIFwib2c6dXJsXCIsXG4gICAgICBcIm9nOmltYWdlXCIsXG4gICAgICBcIm9nOmltYWdlOmFsdFwiLFxuICAgICAgXCJvZzpkZXNjcmlwdGlvblwiLFxuICAgICAgXCJ0d2l0dGVyOnVybFwiLFxuICAgICAgXCJ0d2l0dGVyOnRpdGxlXCIsXG4gICAgICBcInR3aXR0ZXI6ZGVzY3JpcHRpb25cIixcbiAgICAgIFwidHdpdHRlcjppbWFnZVwiLFxuICAgICAgXCJ0d2l0dGVyOmltYWdlOmFsdFwiLFxuICAgICAgXCJ0d2l0dGVyOmNhcmRcIixcbiAgICAgIFwidHdpdHRlcjpzaXRlXCJcbiAgICBdXG4gIH1cbn07XG52YXIgVkFMSURfVEFHX05BTUVTID0gT2JqZWN0LnZhbHVlcyhUQUdfTkFNRVMpO1xudmFyIFJFQUNUX1RBR19NQVAgPSB7XG4gIGFjY2Vzc2tleTogXCJhY2Nlc3NLZXlcIixcbiAgY2hhcnNldDogXCJjaGFyU2V0XCIsXG4gIGNsYXNzOiBcImNsYXNzTmFtZVwiLFxuICBjb250ZW50ZWRpdGFibGU6IFwiY29udGVudEVkaXRhYmxlXCIsXG4gIGNvbnRleHRtZW51OiBcImNvbnRleHRNZW51XCIsXG4gIFwiaHR0cC1lcXVpdlwiOiBcImh0dHBFcXVpdlwiLFxuICBpdGVtcHJvcDogXCJpdGVtUHJvcFwiLFxuICB0YWJpbmRleDogXCJ0YWJJbmRleFwiXG59O1xudmFyIEhUTUxfVEFHX01BUCA9IE9iamVjdC5lbnRyaWVzKFJFQUNUX1RBR19NQVApLnJlZHVjZShcbiAgKGNhcnJ5LCBba2V5LCB2YWx1ZV0pID0+IHtcbiAgICBjYXJyeVt2YWx1ZV0gPSBrZXk7XG4gICAgcmV0dXJuIGNhcnJ5O1xuICB9LFxuICB7fVxuKTtcbnZhciBIRUxNRVRfQVRUUklCVVRFID0gXCJkYXRhLXJoXCI7XG5cbi8vIHNyYy91dGlscy50c1xudmFyIEhFTE1FVF9QUk9QUyA9IHtcbiAgREVGQVVMVF9USVRMRTogXCJkZWZhdWx0VGl0bGVcIixcbiAgREVGRVI6IFwiZGVmZXJcIixcbiAgRU5DT0RFX1NQRUNJQUxfQ0hBUkFDVEVSUzogXCJlbmNvZGVTcGVjaWFsQ2hhcmFjdGVyc1wiLFxuICBPTl9DSEFOR0VfQ0xJRU5UX1NUQVRFOiBcIm9uQ2hhbmdlQ2xpZW50U3RhdGVcIixcbiAgVElUTEVfVEVNUExBVEU6IFwidGl0bGVUZW1wbGF0ZVwiLFxuICBQUklPUklUSVpFX1NFT19UQUdTOiBcInByaW9yaXRpemVTZW9UYWdzXCJcbn07XG52YXIgZ2V0SW5uZXJtb3N0UHJvcGVydHkgPSAocHJvcHNMaXN0LCBwcm9wZXJ0eSkgPT4ge1xuICBmb3IgKGxldCBpID0gcHJvcHNMaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaSAtPSAxKSB7XG4gICAgY29uc3QgcHJvcHMgPSBwcm9wc0xpc3RbaV07XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwcm9wcywgcHJvcGVydHkpKSB7XG4gICAgICByZXR1cm4gcHJvcHNbcHJvcGVydHldO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG52YXIgZ2V0VGl0bGVGcm9tUHJvcHNMaXN0ID0gKHByb3BzTGlzdCkgPT4ge1xuICBsZXQgaW5uZXJtb3N0VGl0bGUgPSBnZXRJbm5lcm1vc3RQcm9wZXJ0eShwcm9wc0xpc3QsIFwidGl0bGVcIiAvKiBUSVRMRSAqLyk7XG4gIGNvbnN0IGlubmVybW9zdFRlbXBsYXRlID0gZ2V0SW5uZXJtb3N0UHJvcGVydHkocHJvcHNMaXN0LCBIRUxNRVRfUFJPUFMuVElUTEVfVEVNUExBVEUpO1xuICBpZiAoQXJyYXkuaXNBcnJheShpbm5lcm1vc3RUaXRsZSkpIHtcbiAgICBpbm5lcm1vc3RUaXRsZSA9IGlubmVybW9zdFRpdGxlLmpvaW4oXCJcIik7XG4gIH1cbiAgaWYgKGlubmVybW9zdFRlbXBsYXRlICYmIGlubmVybW9zdFRpdGxlKSB7XG4gICAgcmV0dXJuIGlubmVybW9zdFRlbXBsYXRlLnJlcGxhY2UoLyVzL2csICgpID0+IGlubmVybW9zdFRpdGxlKTtcbiAgfVxuICBjb25zdCBpbm5lcm1vc3REZWZhdWx0VGl0bGUgPSBnZXRJbm5lcm1vc3RQcm9wZXJ0eShwcm9wc0xpc3QsIEhFTE1FVF9QUk9QUy5ERUZBVUxUX1RJVExFKTtcbiAgcmV0dXJuIGlubmVybW9zdFRpdGxlIHx8IGlubmVybW9zdERlZmF1bHRUaXRsZSB8fCB2b2lkIDA7XG59O1xudmFyIGdldE9uQ2hhbmdlQ2xpZW50U3RhdGUgPSAocHJvcHNMaXN0KSA9PiBnZXRJbm5lcm1vc3RQcm9wZXJ0eShwcm9wc0xpc3QsIEhFTE1FVF9QUk9QUy5PTl9DSEFOR0VfQ0xJRU5UX1NUQVRFKSB8fCAoKCkgPT4ge1xufSk7XG52YXIgZ2V0QXR0cmlidXRlc0Zyb21Qcm9wc0xpc3QgPSAodGFnVHlwZSwgcHJvcHNMaXN0KSA9PiBwcm9wc0xpc3QuZmlsdGVyKChwcm9wcykgPT4gdHlwZW9mIHByb3BzW3RhZ1R5cGVdICE9PSBcInVuZGVmaW5lZFwiKS5tYXAoKHByb3BzKSA9PiBwcm9wc1t0YWdUeXBlXSkucmVkdWNlKCh0YWdBdHRycywgY3VycmVudCkgPT4gKHsgLi4udGFnQXR0cnMsIC4uLmN1cnJlbnQgfSksIHt9KTtcbnZhciBnZXRCYXNlVGFnRnJvbVByb3BzTGlzdCA9IChwcmltYXJ5QXR0cmlidXRlcywgcHJvcHNMaXN0KSA9PiBwcm9wc0xpc3QuZmlsdGVyKChwcm9wcykgPT4gdHlwZW9mIHByb3BzW1wiYmFzZVwiIC8qIEJBU0UgKi9dICE9PSBcInVuZGVmaW5lZFwiKS5tYXAoKHByb3BzKSA9PiBwcm9wc1tcImJhc2VcIiAvKiBCQVNFICovXSkucmV2ZXJzZSgpLnJlZHVjZSgoaW5uZXJtb3N0QmFzZVRhZywgdGFnKSA9PiB7XG4gIGlmICghaW5uZXJtb3N0QmFzZVRhZy5sZW5ndGgpIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModGFnKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IGF0dHJpYnV0ZUtleSA9IGtleXNbaV07XG4gICAgICBjb25zdCBsb3dlckNhc2VBdHRyaWJ1dGVLZXkgPSBhdHRyaWJ1dGVLZXkudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmIChwcmltYXJ5QXR0cmlidXRlcy5pbmRleE9mKGxvd2VyQ2FzZUF0dHJpYnV0ZUtleSkgIT09IC0xICYmIHRhZ1tsb3dlckNhc2VBdHRyaWJ1dGVLZXldKSB7XG4gICAgICAgIHJldHVybiBpbm5lcm1vc3RCYXNlVGFnLmNvbmNhdCh0YWcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gaW5uZXJtb3N0QmFzZVRhZztcbn0sIFtdKTtcbnZhciB3YXJuID0gKG1zZykgPT4gY29uc29sZSAmJiB0eXBlb2YgY29uc29sZS53YXJuID09PSBcImZ1bmN0aW9uXCIgJiYgY29uc29sZS53YXJuKG1zZyk7XG52YXIgZ2V0VGFnc0Zyb21Qcm9wc0xpc3QgPSAodGFnTmFtZSwgcHJpbWFyeUF0dHJpYnV0ZXMsIHByb3BzTGlzdCkgPT4ge1xuICBjb25zdCBhcHByb3ZlZFNlZW5UYWdzID0ge307XG4gIHJldHVybiBwcm9wc0xpc3QuZmlsdGVyKChwcm9wcykgPT4ge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BzW3RhZ05hbWVdKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcHJvcHNbdGFnTmFtZV0gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIGBIZWxtZXQ6ICR7dGFnTmFtZX0gc2hvdWxkIGJlIG9mIHR5cGUgXCJBcnJheVwiLiBJbnN0ZWFkIGZvdW5kIHR5cGUgXCIke3R5cGVvZiBwcm9wc1t0YWdOYW1lXX1cImBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSkubWFwKChwcm9wcykgPT4gcHJvcHNbdGFnTmFtZV0pLnJldmVyc2UoKS5yZWR1Y2UoKGFwcHJvdmVkVGFncywgaW5zdGFuY2VUYWdzKSA9PiB7XG4gICAgY29uc3QgaW5zdGFuY2VTZWVuVGFncyA9IHt9O1xuICAgIGluc3RhbmNlVGFncy5maWx0ZXIoKHRhZykgPT4ge1xuICAgICAgbGV0IHByaW1hcnlBdHRyaWJ1dGVLZXk7XG4gICAgICBjb25zdCBrZXlzMiA9IE9iamVjdC5rZXlzKHRhZyk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMyLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZUtleSA9IGtleXMyW2ldO1xuICAgICAgICBjb25zdCBsb3dlckNhc2VBdHRyaWJ1dGVLZXkgPSBhdHRyaWJ1dGVLZXkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKHByaW1hcnlBdHRyaWJ1dGVzLmluZGV4T2YobG93ZXJDYXNlQXR0cmlidXRlS2V5KSAhPT0gLTEgJiYgIShwcmltYXJ5QXR0cmlidXRlS2V5ID09PSBcInJlbFwiIC8qIFJFTCAqLyAmJiB0YWdbcHJpbWFyeUF0dHJpYnV0ZUtleV0udG9Mb3dlckNhc2UoKSA9PT0gXCJjYW5vbmljYWxcIikgJiYgIShsb3dlckNhc2VBdHRyaWJ1dGVLZXkgPT09IFwicmVsXCIgLyogUkVMICovICYmIHRhZ1tsb3dlckNhc2VBdHRyaWJ1dGVLZXldLnRvTG93ZXJDYXNlKCkgPT09IFwic3R5bGVzaGVldFwiKSkge1xuICAgICAgICAgIHByaW1hcnlBdHRyaWJ1dGVLZXkgPSBsb3dlckNhc2VBdHRyaWJ1dGVLZXk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByaW1hcnlBdHRyaWJ1dGVzLmluZGV4T2YoYXR0cmlidXRlS2V5KSAhPT0gLTEgJiYgKGF0dHJpYnV0ZUtleSA9PT0gXCJpbm5lckhUTUxcIiAvKiBJTk5FUl9IVE1MICovIHx8IGF0dHJpYnV0ZUtleSA9PT0gXCJjc3NUZXh0XCIgLyogQ1NTX1RFWFQgKi8gfHwgYXR0cmlidXRlS2V5ID09PSBcIml0ZW1wcm9wXCIgLyogSVRFTV9QUk9QICovKSkge1xuICAgICAgICAgIHByaW1hcnlBdHRyaWJ1dGVLZXkgPSBhdHRyaWJ1dGVLZXk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghcHJpbWFyeUF0dHJpYnV0ZUtleSB8fCAhdGFnW3ByaW1hcnlBdHRyaWJ1dGVLZXldKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlID0gdGFnW3ByaW1hcnlBdHRyaWJ1dGVLZXldLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAoIWFwcHJvdmVkU2VlblRhZ3NbcHJpbWFyeUF0dHJpYnV0ZUtleV0pIHtcbiAgICAgICAgYXBwcm92ZWRTZWVuVGFnc1twcmltYXJ5QXR0cmlidXRlS2V5XSA9IHt9O1xuICAgICAgfVxuICAgICAgaWYgKCFpbnN0YW5jZVNlZW5UYWdzW3ByaW1hcnlBdHRyaWJ1dGVLZXldKSB7XG4gICAgICAgIGluc3RhbmNlU2VlblRhZ3NbcHJpbWFyeUF0dHJpYnV0ZUtleV0gPSB7fTtcbiAgICAgIH1cbiAgICAgIGlmICghYXBwcm92ZWRTZWVuVGFnc1twcmltYXJ5QXR0cmlidXRlS2V5XVt2YWx1ZV0pIHtcbiAgICAgICAgaW5zdGFuY2VTZWVuVGFnc1twcmltYXJ5QXR0cmlidXRlS2V5XVt2YWx1ZV0gPSB0cnVlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KS5yZXZlcnNlKCkuZm9yRWFjaCgodGFnKSA9PiBhcHByb3ZlZFRhZ3MucHVzaCh0YWcpKTtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoaW5zdGFuY2VTZWVuVGFncyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBjb25zdCBhdHRyaWJ1dGVLZXkgPSBrZXlzW2ldO1xuICAgICAgY29uc3QgdGFnVW5pb24gPSB7XG4gICAgICAgIC4uLmFwcHJvdmVkU2VlblRhZ3NbYXR0cmlidXRlS2V5XSxcbiAgICAgICAgLi4uaW5zdGFuY2VTZWVuVGFnc1thdHRyaWJ1dGVLZXldXG4gICAgICB9O1xuICAgICAgYXBwcm92ZWRTZWVuVGFnc1thdHRyaWJ1dGVLZXldID0gdGFnVW5pb247XG4gICAgfVxuICAgIHJldHVybiBhcHByb3ZlZFRhZ3M7XG4gIH0sIFtdKS5yZXZlcnNlKCk7XG59O1xudmFyIGdldEFueVRydWVGcm9tUHJvcHNMaXN0ID0gKHByb3BzTGlzdCwgY2hlY2tlZFRhZykgPT4ge1xuICBpZiAoQXJyYXkuaXNBcnJheShwcm9wc0xpc3QpICYmIHByb3BzTGlzdC5sZW5ndGgpIHtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcHJvcHNMaXN0Lmxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgICAgY29uc3QgcHJvcCA9IHByb3BzTGlzdFtpbmRleF07XG4gICAgICBpZiAocHJvcFtjaGVja2VkVGFnXSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcbnZhciByZWR1Y2VQcm9wc1RvU3RhdGUgPSAocHJvcHNMaXN0KSA9PiAoe1xuICBiYXNlVGFnOiBnZXRCYXNlVGFnRnJvbVByb3BzTGlzdChbXCJocmVmXCIgLyogSFJFRiAqL10sIHByb3BzTGlzdCksXG4gIGJvZHlBdHRyaWJ1dGVzOiBnZXRBdHRyaWJ1dGVzRnJvbVByb3BzTGlzdChcImJvZHlBdHRyaWJ1dGVzXCIgLyogQk9EWSAqLywgcHJvcHNMaXN0KSxcbiAgZGVmZXI6IGdldElubmVybW9zdFByb3BlcnR5KHByb3BzTGlzdCwgSEVMTUVUX1BST1BTLkRFRkVSKSxcbiAgZW5jb2RlOiBnZXRJbm5lcm1vc3RQcm9wZXJ0eShwcm9wc0xpc3QsIEhFTE1FVF9QUk9QUy5FTkNPREVfU1BFQ0lBTF9DSEFSQUNURVJTKSxcbiAgaHRtbEF0dHJpYnV0ZXM6IGdldEF0dHJpYnV0ZXNGcm9tUHJvcHNMaXN0KFwiaHRtbEF0dHJpYnV0ZXNcIiAvKiBIVE1MICovLCBwcm9wc0xpc3QpLFxuICBsaW5rVGFnczogZ2V0VGFnc0Zyb21Qcm9wc0xpc3QoXG4gICAgXCJsaW5rXCIgLyogTElOSyAqLyxcbiAgICBbXCJyZWxcIiAvKiBSRUwgKi8sIFwiaHJlZlwiIC8qIEhSRUYgKi9dLFxuICAgIHByb3BzTGlzdFxuICApLFxuICBtZXRhVGFnczogZ2V0VGFnc0Zyb21Qcm9wc0xpc3QoXG4gICAgXCJtZXRhXCIgLyogTUVUQSAqLyxcbiAgICBbXG4gICAgICBcIm5hbWVcIiAvKiBOQU1FICovLFxuICAgICAgXCJjaGFyc2V0XCIgLyogQ0hBUlNFVCAqLyxcbiAgICAgIFwiaHR0cC1lcXVpdlwiIC8qIEhUVFBFUVVJViAqLyxcbiAgICAgIFwicHJvcGVydHlcIiAvKiBQUk9QRVJUWSAqLyxcbiAgICAgIFwiaXRlbXByb3BcIiAvKiBJVEVNX1BST1AgKi9cbiAgICBdLFxuICAgIHByb3BzTGlzdFxuICApLFxuICBub3NjcmlwdFRhZ3M6IGdldFRhZ3NGcm9tUHJvcHNMaXN0KFwibm9zY3JpcHRcIiAvKiBOT1NDUklQVCAqLywgW1wiaW5uZXJIVE1MXCIgLyogSU5ORVJfSFRNTCAqL10sIHByb3BzTGlzdCksXG4gIG9uQ2hhbmdlQ2xpZW50U3RhdGU6IGdldE9uQ2hhbmdlQ2xpZW50U3RhdGUocHJvcHNMaXN0KSxcbiAgc2NyaXB0VGFnczogZ2V0VGFnc0Zyb21Qcm9wc0xpc3QoXG4gICAgXCJzY3JpcHRcIiAvKiBTQ1JJUFQgKi8sXG4gICAgW1wic3JjXCIgLyogU1JDICovLCBcImlubmVySFRNTFwiIC8qIElOTkVSX0hUTUwgKi9dLFxuICAgIHByb3BzTGlzdFxuICApLFxuICBzdHlsZVRhZ3M6IGdldFRhZ3NGcm9tUHJvcHNMaXN0KFwic3R5bGVcIiAvKiBTVFlMRSAqLywgW1wiY3NzVGV4dFwiIC8qIENTU19URVhUICovXSwgcHJvcHNMaXN0KSxcbiAgdGl0bGU6IGdldFRpdGxlRnJvbVByb3BzTGlzdChwcm9wc0xpc3QpLFxuICB0aXRsZUF0dHJpYnV0ZXM6IGdldEF0dHJpYnV0ZXNGcm9tUHJvcHNMaXN0KFwidGl0bGVBdHRyaWJ1dGVzXCIgLyogVElUTEUgKi8sIHByb3BzTGlzdCksXG4gIHByaW9yaXRpemVTZW9UYWdzOiBnZXRBbnlUcnVlRnJvbVByb3BzTGlzdChwcm9wc0xpc3QsIEhFTE1FVF9QUk9QUy5QUklPUklUSVpFX1NFT19UQUdTKVxufSk7XG52YXIgZmxhdHRlbkFycmF5ID0gKHBvc3NpYmxlQXJyYXkpID0+IEFycmF5LmlzQXJyYXkocG9zc2libGVBcnJheSkgPyBwb3NzaWJsZUFycmF5LmpvaW4oXCJcIikgOiBwb3NzaWJsZUFycmF5O1xudmFyIGNoZWNrSWZQcm9wc01hdGNoID0gKHByb3BzLCB0b01hdGNoKSA9PiB7XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhwcm9wcyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmICh0b01hdGNoW2tleXNbaV1dICYmIHRvTWF0Y2hba2V5c1tpXV0uaW5jbHVkZXMocHJvcHNba2V5c1tpXV0pKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcbnZhciBwcmlvcml0aXplciA9IChlbGVtZW50c0xpc3QsIHByb3BzVG9NYXRjaCkgPT4ge1xuICBpZiAoQXJyYXkuaXNBcnJheShlbGVtZW50c0xpc3QpKSB7XG4gICAgcmV0dXJuIGVsZW1lbnRzTGlzdC5yZWR1Y2UoXG4gICAgICAoYWNjLCBlbGVtZW50QXR0cnMpID0+IHtcbiAgICAgICAgaWYgKGNoZWNrSWZQcm9wc01hdGNoKGVsZW1lbnRBdHRycywgcHJvcHNUb01hdGNoKSkge1xuICAgICAgICAgIGFjYy5wcmlvcml0eS5wdXNoKGVsZW1lbnRBdHRycyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWNjLmRlZmF1bHQucHVzaChlbGVtZW50QXR0cnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgICB9LFxuICAgICAgeyBwcmlvcml0eTogW10sIGRlZmF1bHQ6IFtdIH1cbiAgICApO1xuICB9XG4gIHJldHVybiB7IGRlZmF1bHQ6IGVsZW1lbnRzTGlzdCwgcHJpb3JpdHk6IFtdIH07XG59O1xudmFyIHdpdGhvdXQgPSAob2JqLCBrZXkpID0+IHtcbiAgcmV0dXJuIHtcbiAgICAuLi5vYmosXG4gICAgW2tleV06IHZvaWQgMFxuICB9O1xufTtcblxuLy8gc3JjL3NlcnZlci50c1xudmFyIFNFTEZfQ0xPU0lOR19UQUdTID0gW1wibm9zY3JpcHRcIiAvKiBOT1NDUklQVCAqLywgXCJzY3JpcHRcIiAvKiBTQ1JJUFQgKi8sIFwic3R5bGVcIiAvKiBTVFlMRSAqL107XG52YXIgZW5jb2RlU3BlY2lhbENoYXJhY3RlcnMgPSAoc3RyLCBlbmNvZGUgPSB0cnVlKSA9PiB7XG4gIGlmIChlbmNvZGUgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIFN0cmluZyhzdHIpO1xuICB9XG4gIHJldHVybiBTdHJpbmcoc3RyKS5yZXBsYWNlKC8mL2csIFwiJmFtcDtcIikucmVwbGFjZSgvPC9nLCBcIiZsdDtcIikucmVwbGFjZSgvPi9nLCBcIiZndDtcIikucmVwbGFjZSgvXCIvZywgXCImcXVvdDtcIikucmVwbGFjZSgvJy9nLCBcIiYjeDI3O1wiKTtcbn07XG52YXIgZ2VuZXJhdGVFbGVtZW50QXR0cmlidXRlc0FzU3RyaW5nID0gKGF0dHJpYnV0ZXMpID0+IE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLnJlZHVjZSgoc3RyLCBrZXkpID0+IHtcbiAgY29uc3QgYXR0ciA9IHR5cGVvZiBhdHRyaWJ1dGVzW2tleV0gIT09IFwidW5kZWZpbmVkXCIgPyBgJHtrZXl9PVwiJHthdHRyaWJ1dGVzW2tleV19XCJgIDogYCR7a2V5fWA7XG4gIHJldHVybiBzdHIgPyBgJHtzdHJ9ICR7YXR0cn1gIDogYXR0cjtcbn0sIFwiXCIpO1xudmFyIGdlbmVyYXRlVGl0bGVBc1N0cmluZyA9ICh0eXBlLCB0aXRsZSwgYXR0cmlidXRlcywgZW5jb2RlKSA9PiB7XG4gIGNvbnN0IGF0dHJpYnV0ZVN0cmluZyA9IGdlbmVyYXRlRWxlbWVudEF0dHJpYnV0ZXNBc1N0cmluZyhhdHRyaWJ1dGVzKTtcbiAgY29uc3QgZmxhdHRlbmVkVGl0bGUgPSBmbGF0dGVuQXJyYXkodGl0bGUpO1xuICByZXR1cm4gYXR0cmlidXRlU3RyaW5nID8gYDwke3R5cGV9ICR7SEVMTUVUX0FUVFJJQlVURX09XCJ0cnVlXCIgJHthdHRyaWJ1dGVTdHJpbmd9PiR7ZW5jb2RlU3BlY2lhbENoYXJhY3RlcnMoXG4gICAgZmxhdHRlbmVkVGl0bGUsXG4gICAgZW5jb2RlXG4gICl9PC8ke3R5cGV9PmAgOiBgPCR7dHlwZX0gJHtIRUxNRVRfQVRUUklCVVRFfT1cInRydWVcIj4ke2VuY29kZVNwZWNpYWxDaGFyYWN0ZXJzKFxuICAgIGZsYXR0ZW5lZFRpdGxlLFxuICAgIGVuY29kZVxuICApfTwvJHt0eXBlfT5gO1xufTtcbnZhciBnZW5lcmF0ZVRhZ3NBc1N0cmluZyA9ICh0eXBlLCB0YWdzLCBlbmNvZGUgPSB0cnVlKSA9PiB0YWdzLnJlZHVjZSgoc3RyLCB0KSA9PiB7XG4gIGNvbnN0IHRhZyA9IHQ7XG4gIGNvbnN0IGF0dHJpYnV0ZUh0bWwgPSBPYmplY3Qua2V5cyh0YWcpLmZpbHRlcihcbiAgICAoYXR0cmlidXRlKSA9PiAhKGF0dHJpYnV0ZSA9PT0gXCJpbm5lckhUTUxcIiAvKiBJTk5FUl9IVE1MICovIHx8IGF0dHJpYnV0ZSA9PT0gXCJjc3NUZXh0XCIgLyogQ1NTX1RFWFQgKi8pXG4gICkucmVkdWNlKChzdHJpbmcsIGF0dHJpYnV0ZSkgPT4ge1xuICAgIGNvbnN0IGF0dHIgPSB0eXBlb2YgdGFnW2F0dHJpYnV0ZV0gPT09IFwidW5kZWZpbmVkXCIgPyBhdHRyaWJ1dGUgOiBgJHthdHRyaWJ1dGV9PVwiJHtlbmNvZGVTcGVjaWFsQ2hhcmFjdGVycyh0YWdbYXR0cmlidXRlXSwgZW5jb2RlKX1cImA7XG4gICAgcmV0dXJuIHN0cmluZyA/IGAke3N0cmluZ30gJHthdHRyfWAgOiBhdHRyO1xuICB9LCBcIlwiKTtcbiAgY29uc3QgdGFnQ29udGVudCA9IHRhZy5pbm5lckhUTUwgfHwgdGFnLmNzc1RleHQgfHwgXCJcIjtcbiAgY29uc3QgaXNTZWxmQ2xvc2luZyA9IFNFTEZfQ0xPU0lOR19UQUdTLmluZGV4T2YodHlwZSkgPT09IC0xO1xuICByZXR1cm4gYCR7c3RyfTwke3R5cGV9ICR7SEVMTUVUX0FUVFJJQlVURX09XCJ0cnVlXCIgJHthdHRyaWJ1dGVIdG1sfSR7aXNTZWxmQ2xvc2luZyA/IGAvPmAgOiBgPiR7dGFnQ29udGVudH08LyR7dHlwZX0+YH1gO1xufSwgXCJcIik7XG52YXIgY29udmVydEVsZW1lbnRBdHRyaWJ1dGVzVG9SZWFjdFByb3BzID0gKGF0dHJpYnV0ZXMsIGluaXRQcm9wcyA9IHt9KSA9PiBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5yZWR1Y2UoKG9iaiwga2V5KSA9PiB7XG4gIGNvbnN0IG1hcHBlZCA9IFJFQUNUX1RBR19NQVBba2V5XTtcbiAgb2JqW21hcHBlZCB8fCBrZXldID0gYXR0cmlidXRlc1trZXldO1xuICByZXR1cm4gb2JqO1xufSwgaW5pdFByb3BzKTtcbnZhciBnZW5lcmF0ZVRpdGxlQXNSZWFjdENvbXBvbmVudCA9IChfdHlwZSwgdGl0bGUsIGF0dHJpYnV0ZXMpID0+IHtcbiAgY29uc3QgaW5pdFByb3BzID0ge1xuICAgIGtleTogdGl0bGUsXG4gICAgW0hFTE1FVF9BVFRSSUJVVEVdOiB0cnVlXG4gIH07XG4gIGNvbnN0IHByb3BzID0gY29udmVydEVsZW1lbnRBdHRyaWJ1dGVzVG9SZWFjdFByb3BzKGF0dHJpYnV0ZXMsIGluaXRQcm9wcyk7XG4gIHJldHVybiBbUmVhY3QuY3JlYXRlRWxlbWVudChcInRpdGxlXCIgLyogVElUTEUgKi8sIHByb3BzLCB0aXRsZSldO1xufTtcbnZhciBnZW5lcmF0ZVRhZ3NBc1JlYWN0Q29tcG9uZW50ID0gKHR5cGUsIHRhZ3MpID0+IHRhZ3MubWFwKCh0YWcsIGkpID0+IHtcbiAgY29uc3QgbWFwcGVkVGFnID0ge1xuICAgIGtleTogaSxcbiAgICBbSEVMTUVUX0FUVFJJQlVURV06IHRydWVcbiAgfTtcbiAgT2JqZWN0LmtleXModGFnKS5mb3JFYWNoKChhdHRyaWJ1dGUpID0+IHtcbiAgICBjb25zdCBtYXBwZWQgPSBSRUFDVF9UQUdfTUFQW2F0dHJpYnV0ZV07XG4gICAgY29uc3QgbWFwcGVkQXR0cmlidXRlID0gbWFwcGVkIHx8IGF0dHJpYnV0ZTtcbiAgICBpZiAobWFwcGVkQXR0cmlidXRlID09PSBcImlubmVySFRNTFwiIC8qIElOTkVSX0hUTUwgKi8gfHwgbWFwcGVkQXR0cmlidXRlID09PSBcImNzc1RleHRcIiAvKiBDU1NfVEVYVCAqLykge1xuICAgICAgY29uc3QgY29udGVudCA9IHRhZy5pbm5lckhUTUwgfHwgdGFnLmNzc1RleHQ7XG4gICAgICBtYXBwZWRUYWcuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgPSB7IF9faHRtbDogY29udGVudCB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBtYXBwZWRUYWdbbWFwcGVkQXR0cmlidXRlXSA9IHRhZ1thdHRyaWJ1dGVdO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KHR5cGUsIG1hcHBlZFRhZyk7XG59KTtcbnZhciBnZXRNZXRob2RzRm9yVGFnID0gKHR5cGUsIHRhZ3MsIGVuY29kZSA9IHRydWUpID0+IHtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBcInRpdGxlXCIgLyogVElUTEUgKi86XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b0NvbXBvbmVudDogKCkgPT4gZ2VuZXJhdGVUaXRsZUFzUmVhY3RDb21wb25lbnQodHlwZSwgdGFncy50aXRsZSwgdGFncy50aXRsZUF0dHJpYnV0ZXMpLFxuICAgICAgICB0b1N0cmluZzogKCkgPT4gZ2VuZXJhdGVUaXRsZUFzU3RyaW5nKHR5cGUsIHRhZ3MudGl0bGUsIHRhZ3MudGl0bGVBdHRyaWJ1dGVzLCBlbmNvZGUpXG4gICAgICB9O1xuICAgIGNhc2UgXCJib2R5QXR0cmlidXRlc1wiIC8qIEJPRFkgKi86XG4gICAgY2FzZSBcImh0bWxBdHRyaWJ1dGVzXCIgLyogSFRNTCAqLzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvQ29tcG9uZW50OiAoKSA9PiBjb252ZXJ0RWxlbWVudEF0dHJpYnV0ZXNUb1JlYWN0UHJvcHModGFncyksXG4gICAgICAgIHRvU3RyaW5nOiAoKSA9PiBnZW5lcmF0ZUVsZW1lbnRBdHRyaWJ1dGVzQXNTdHJpbmcodGFncylcbiAgICAgIH07XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvQ29tcG9uZW50OiAoKSA9PiBnZW5lcmF0ZVRhZ3NBc1JlYWN0Q29tcG9uZW50KHR5cGUsIHRhZ3MpLFxuICAgICAgICB0b1N0cmluZzogKCkgPT4gZ2VuZXJhdGVUYWdzQXNTdHJpbmcodHlwZSwgdGFncywgZW5jb2RlKVxuICAgICAgfTtcbiAgfVxufTtcbnZhciBnZXRQcmlvcml0eU1ldGhvZHMgPSAoeyBtZXRhVGFncywgbGlua1RhZ3MsIHNjcmlwdFRhZ3MsIGVuY29kZSB9KSA9PiB7XG4gIGNvbnN0IG1ldGEgPSBwcmlvcml0aXplcihtZXRhVGFncywgU0VPX1BSSU9SSVRZX1RBR1MubWV0YSk7XG4gIGNvbnN0IGxpbmsgPSBwcmlvcml0aXplcihsaW5rVGFncywgU0VPX1BSSU9SSVRZX1RBR1MubGluayk7XG4gIGNvbnN0IHNjcmlwdCA9IHByaW9yaXRpemVyKHNjcmlwdFRhZ3MsIFNFT19QUklPUklUWV9UQUdTLnNjcmlwdCk7XG4gIGNvbnN0IHByaW9yaXR5TWV0aG9kcyA9IHtcbiAgICB0b0NvbXBvbmVudDogKCkgPT4gW1xuICAgICAgLi4uZ2VuZXJhdGVUYWdzQXNSZWFjdENvbXBvbmVudChcIm1ldGFcIiAvKiBNRVRBICovLCBtZXRhLnByaW9yaXR5KSxcbiAgICAgIC4uLmdlbmVyYXRlVGFnc0FzUmVhY3RDb21wb25lbnQoXCJsaW5rXCIgLyogTElOSyAqLywgbGluay5wcmlvcml0eSksXG4gICAgICAuLi5nZW5lcmF0ZVRhZ3NBc1JlYWN0Q29tcG9uZW50KFwic2NyaXB0XCIgLyogU0NSSVBUICovLCBzY3JpcHQucHJpb3JpdHkpXG4gICAgXSxcbiAgICB0b1N0cmluZzogKCkgPT4gKFxuICAgICAgLy8gZ2VuZXJhdGUgYWxsIHRoZSB0YWdzIGFzIHN0cmluZ3MgYW5kIGNvbmNhdGVuYXRlIHRoZW1cbiAgICAgIGAke2dldE1ldGhvZHNGb3JUYWcoXCJtZXRhXCIgLyogTUVUQSAqLywgbWV0YS5wcmlvcml0eSwgZW5jb2RlKX0gJHtnZXRNZXRob2RzRm9yVGFnKFxuICAgICAgICBcImxpbmtcIiAvKiBMSU5LICovLFxuICAgICAgICBsaW5rLnByaW9yaXR5LFxuICAgICAgICBlbmNvZGVcbiAgICAgICl9ICR7Z2V0TWV0aG9kc0ZvclRhZyhcInNjcmlwdFwiIC8qIFNDUklQVCAqLywgc2NyaXB0LnByaW9yaXR5LCBlbmNvZGUpfWBcbiAgICApXG4gIH07XG4gIHJldHVybiB7XG4gICAgcHJpb3JpdHlNZXRob2RzLFxuICAgIG1ldGFUYWdzOiBtZXRhLmRlZmF1bHQsXG4gICAgbGlua1RhZ3M6IGxpbmsuZGVmYXVsdCxcbiAgICBzY3JpcHRUYWdzOiBzY3JpcHQuZGVmYXVsdFxuICB9O1xufTtcbnZhciBtYXBTdGF0ZU9uU2VydmVyID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBiYXNlVGFnLFxuICAgIGJvZHlBdHRyaWJ1dGVzLFxuICAgIGVuY29kZSA9IHRydWUsXG4gICAgaHRtbEF0dHJpYnV0ZXMsXG4gICAgbm9zY3JpcHRUYWdzLFxuICAgIHN0eWxlVGFncyxcbiAgICB0aXRsZSA9IFwiXCIsXG4gICAgdGl0bGVBdHRyaWJ1dGVzLFxuICAgIHByaW9yaXRpemVTZW9UYWdzXG4gIH0gPSBwcm9wcztcbiAgbGV0IHsgbGlua1RhZ3MsIG1ldGFUYWdzLCBzY3JpcHRUYWdzIH0gPSBwcm9wcztcbiAgbGV0IHByaW9yaXR5TWV0aG9kcyA9IHtcbiAgICB0b0NvbXBvbmVudDogKCkgPT4ge1xuICAgIH0sXG4gICAgdG9TdHJpbmc6ICgpID0+IFwiXCJcbiAgfTtcbiAgaWYgKHByaW9yaXRpemVTZW9UYWdzKSB7XG4gICAgKHsgcHJpb3JpdHlNZXRob2RzLCBsaW5rVGFncywgbWV0YVRhZ3MsIHNjcmlwdFRhZ3MgfSA9IGdldFByaW9yaXR5TWV0aG9kcyhwcm9wcykpO1xuICB9XG4gIHJldHVybiB7XG4gICAgcHJpb3JpdHk6IHByaW9yaXR5TWV0aG9kcyxcbiAgICBiYXNlOiBnZXRNZXRob2RzRm9yVGFnKFwiYmFzZVwiIC8qIEJBU0UgKi8sIGJhc2VUYWcsIGVuY29kZSksXG4gICAgYm9keUF0dHJpYnV0ZXM6IGdldE1ldGhvZHNGb3JUYWcoXCJib2R5QXR0cmlidXRlc1wiIC8qIEJPRFkgKi8sIGJvZHlBdHRyaWJ1dGVzLCBlbmNvZGUpLFxuICAgIGh0bWxBdHRyaWJ1dGVzOiBnZXRNZXRob2RzRm9yVGFnKFwiaHRtbEF0dHJpYnV0ZXNcIiAvKiBIVE1MICovLCBodG1sQXR0cmlidXRlcywgZW5jb2RlKSxcbiAgICBsaW5rOiBnZXRNZXRob2RzRm9yVGFnKFwibGlua1wiIC8qIExJTksgKi8sIGxpbmtUYWdzLCBlbmNvZGUpLFxuICAgIG1ldGE6IGdldE1ldGhvZHNGb3JUYWcoXCJtZXRhXCIgLyogTUVUQSAqLywgbWV0YVRhZ3MsIGVuY29kZSksXG4gICAgbm9zY3JpcHQ6IGdldE1ldGhvZHNGb3JUYWcoXCJub3NjcmlwdFwiIC8qIE5PU0NSSVBUICovLCBub3NjcmlwdFRhZ3MsIGVuY29kZSksXG4gICAgc2NyaXB0OiBnZXRNZXRob2RzRm9yVGFnKFwic2NyaXB0XCIgLyogU0NSSVBUICovLCBzY3JpcHRUYWdzLCBlbmNvZGUpLFxuICAgIHN0eWxlOiBnZXRNZXRob2RzRm9yVGFnKFwic3R5bGVcIiAvKiBTVFlMRSAqLywgc3R5bGVUYWdzLCBlbmNvZGUpLFxuICAgIHRpdGxlOiBnZXRNZXRob2RzRm9yVGFnKFwidGl0bGVcIiAvKiBUSVRMRSAqLywgeyB0aXRsZSwgdGl0bGVBdHRyaWJ1dGVzIH0sIGVuY29kZSlcbiAgfTtcbn07XG52YXIgc2VydmVyX2RlZmF1bHQgPSBtYXBTdGF0ZU9uU2VydmVyO1xuXG4vLyBzcmMvSGVsbWV0RGF0YS50c1xudmFyIGluc3RhbmNlcyA9IFtdO1xudmFyIGlzRG9jdW1lbnQgPSAhISh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5kb2N1bWVudCAmJiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG52YXIgSGVsbWV0RGF0YSA9IGNsYXNzIHtcbiAgaW5zdGFuY2VzID0gW107XG4gIGNhblVzZURPTSA9IGlzRG9jdW1lbnQ7XG4gIGNvbnRleHQ7XG4gIHZhbHVlID0ge1xuICAgIHNldEhlbG1ldDogKHNlcnZlclN0YXRlKSA9PiB7XG4gICAgICB0aGlzLmNvbnRleHQuaGVsbWV0ID0gc2VydmVyU3RhdGU7XG4gICAgfSxcbiAgICBoZWxtZXRJbnN0YW5jZXM6IHtcbiAgICAgIGdldDogKCkgPT4gdGhpcy5jYW5Vc2VET00gPyBpbnN0YW5jZXMgOiB0aGlzLmluc3RhbmNlcyxcbiAgICAgIGFkZDogKGluc3RhbmNlKSA9PiB7XG4gICAgICAgICh0aGlzLmNhblVzZURPTSA/IGluc3RhbmNlcyA6IHRoaXMuaW5zdGFuY2VzKS5wdXNoKGluc3RhbmNlKTtcbiAgICAgIH0sXG4gICAgICByZW1vdmU6IChpbnN0YW5jZSkgPT4ge1xuICAgICAgICBjb25zdCBpbmRleCA9ICh0aGlzLmNhblVzZURPTSA/IGluc3RhbmNlcyA6IHRoaXMuaW5zdGFuY2VzKS5pbmRleE9mKGluc3RhbmNlKTtcbiAgICAgICAgKHRoaXMuY2FuVXNlRE9NID8gaW5zdGFuY2VzIDogdGhpcy5pbnN0YW5jZXMpLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBjYW5Vc2VET00pIHtcbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIHRoaXMuY2FuVXNlRE9NID0gY2FuVXNlRE9NIHx8IGZhbHNlO1xuICAgIGlmICghY2FuVXNlRE9NKSB7XG4gICAgICBjb250ZXh0LmhlbG1ldCA9IHNlcnZlcl9kZWZhdWx0KHtcbiAgICAgICAgYmFzZVRhZzogW10sXG4gICAgICAgIGJvZHlBdHRyaWJ1dGVzOiB7fSxcbiAgICAgICAgZW5jb2RlU3BlY2lhbENoYXJhY3RlcnM6IHRydWUsXG4gICAgICAgIGh0bWxBdHRyaWJ1dGVzOiB7fSxcbiAgICAgICAgbGlua1RhZ3M6IFtdLFxuICAgICAgICBtZXRhVGFnczogW10sXG4gICAgICAgIG5vc2NyaXB0VGFnczogW10sXG4gICAgICAgIHNjcmlwdFRhZ3M6IFtdLFxuICAgICAgICBzdHlsZVRhZ3M6IFtdLFxuICAgICAgICB0aXRsZTogXCJcIixcbiAgICAgICAgdGl0bGVBdHRyaWJ1dGVzOiB7fVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59O1xuXG4vLyBzcmMvUHJvdmlkZXIudHN4XG52YXIgZGVmYXVsdFZhbHVlID0ge307XG52YXIgQ29udGV4dCA9IFJlYWN0Mi5jcmVhdGVDb250ZXh0KGRlZmF1bHRWYWx1ZSk7XG52YXIgSGVsbWV0UHJvdmlkZXIgPSBjbGFzcyBfSGVsbWV0UHJvdmlkZXIgZXh0ZW5kcyBDb21wb25lbnQge1xuICBzdGF0aWMgY2FuVXNlRE9NID0gaXNEb2N1bWVudDtcbiAgaGVsbWV0RGF0YTtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5oZWxtZXREYXRhID0gbmV3IEhlbG1ldERhdGEodGhpcy5wcm9wcy5jb250ZXh0IHx8IHt9LCBfSGVsbWV0UHJvdmlkZXIuY2FuVXNlRE9NKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB0aGlzLmhlbG1ldERhdGEudmFsdWUgfSwgdGhpcy5wcm9wcy5jaGlsZHJlbik7XG4gIH1cbn07XG5cbi8vIHNyYy9EaXNwYXRjaGVyLnRzeFxuaW1wb3J0IHsgQ29tcG9uZW50IGFzIENvbXBvbmVudDIgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBzaGFsbG93RXF1YWwgZnJvbSBcInNoYWxsb3dlcXVhbFwiO1xuXG4vLyBzcmMvY2xpZW50LnRzXG52YXIgdXBkYXRlVGFncyA9ICh0eXBlLCB0YWdzKSA9PiB7XG4gIGNvbnN0IGhlYWRFbGVtZW50ID0gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiaGVhZFwiIC8qIEhFQUQgKi8pO1xuICBjb25zdCB0YWdOb2RlcyA9IGhlYWRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYCR7dHlwZX1bJHtIRUxNRVRfQVRUUklCVVRFfV1gKTtcbiAgY29uc3Qgb2xkVGFncyA9IFtdLnNsaWNlLmNhbGwodGFnTm9kZXMpO1xuICBjb25zdCBuZXdUYWdzID0gW107XG4gIGxldCBpbmRleFRvRGVsZXRlO1xuICBpZiAodGFncyAmJiB0YWdzLmxlbmd0aCkge1xuICAgIHRhZ3MuZm9yRWFjaCgodGFnKSA9PiB7XG4gICAgICBjb25zdCBuZXdFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcbiAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIGluIHRhZykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhZywgYXR0cmlidXRlKSkge1xuICAgICAgICAgIGlmIChhdHRyaWJ1dGUgPT09IFwiaW5uZXJIVE1MXCIgLyogSU5ORVJfSFRNTCAqLykge1xuICAgICAgICAgICAgbmV3RWxlbWVudC5pbm5lckhUTUwgPSB0YWcuaW5uZXJIVE1MO1xuICAgICAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlID09PSBcImNzc1RleHRcIiAvKiBDU1NfVEVYVCAqLykge1xuICAgICAgICAgICAgaWYgKG5ld0VsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgICAgICAgICAgICBuZXdFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IHRhZy5jc3NUZXh0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbmV3RWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0YWcuY3NzVGV4dCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyID0gYXR0cmlidXRlO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0eXBlb2YgdGFnW2F0dHJdID09PSBcInVuZGVmaW5lZFwiID8gXCJcIiA6IHRhZ1thdHRyXTtcbiAgICAgICAgICAgIG5ld0VsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbmV3RWxlbWVudC5zZXRBdHRyaWJ1dGUoSEVMTUVUX0FUVFJJQlVURSwgXCJ0cnVlXCIpO1xuICAgICAgaWYgKG9sZFRhZ3Muc29tZSgoZXhpc3RpbmdUYWcsIGluZGV4KSA9PiB7XG4gICAgICAgIGluZGV4VG9EZWxldGUgPSBpbmRleDtcbiAgICAgICAgcmV0dXJuIG5ld0VsZW1lbnQuaXNFcXVhbE5vZGUoZXhpc3RpbmdUYWcpO1xuICAgICAgfSkpIHtcbiAgICAgICAgb2xkVGFncy5zcGxpY2UoaW5kZXhUb0RlbGV0ZSwgMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdUYWdzLnB1c2gobmV3RWxlbWVudCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgb2xkVGFncy5mb3JFYWNoKCh0YWcpID0+IHRhZy5wYXJlbnROb2RlPy5yZW1vdmVDaGlsZCh0YWcpKTtcbiAgbmV3VGFncy5mb3JFYWNoKCh0YWcpID0+IGhlYWRFbGVtZW50LmFwcGVuZENoaWxkKHRhZykpO1xuICByZXR1cm4ge1xuICAgIG9sZFRhZ3MsXG4gICAgbmV3VGFnc1xuICB9O1xufTtcbnZhciB1cGRhdGVBdHRyaWJ1dGVzID0gKHRhZ05hbWUsIGF0dHJpYnV0ZXMpID0+IHtcbiAgY29uc3QgZWxlbWVudFRhZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhZ05hbWUpWzBdO1xuICBpZiAoIWVsZW1lbnRUYWcpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgaGVsbWV0QXR0cmlidXRlU3RyaW5nID0gZWxlbWVudFRhZy5nZXRBdHRyaWJ1dGUoSEVMTUVUX0FUVFJJQlVURSk7XG4gIGNvbnN0IGhlbG1ldEF0dHJpYnV0ZXMgPSBoZWxtZXRBdHRyaWJ1dGVTdHJpbmcgPyBoZWxtZXRBdHRyaWJ1dGVTdHJpbmcuc3BsaXQoXCIsXCIpIDogW107XG4gIGNvbnN0IGF0dHJpYnV0ZXNUb1JlbW92ZSA9IFsuLi5oZWxtZXRBdHRyaWJ1dGVzXTtcbiAgY29uc3QgYXR0cmlidXRlS2V5cyA9IE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpO1xuICBmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiBhdHRyaWJ1dGVLZXlzKSB7XG4gICAgY29uc3QgdmFsdWUgPSBhdHRyaWJ1dGVzW2F0dHJpYnV0ZV0gfHwgXCJcIjtcbiAgICBpZiAoZWxlbWVudFRhZy5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKSAhPT0gdmFsdWUpIHtcbiAgICAgIGVsZW1lbnRUYWcuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAoaGVsbWV0QXR0cmlidXRlcy5pbmRleE9mKGF0dHJpYnV0ZSkgPT09IC0xKSB7XG4gICAgICBoZWxtZXRBdHRyaWJ1dGVzLnB1c2goYXR0cmlidXRlKTtcbiAgICB9XG4gICAgY29uc3QgaW5kZXhUb1NhdmUgPSBhdHRyaWJ1dGVzVG9SZW1vdmUuaW5kZXhPZihhdHRyaWJ1dGUpO1xuICAgIGlmIChpbmRleFRvU2F2ZSAhPT0gLTEpIHtcbiAgICAgIGF0dHJpYnV0ZXNUb1JlbW92ZS5zcGxpY2UoaW5kZXhUb1NhdmUsIDEpO1xuICAgIH1cbiAgfVxuICBmb3IgKGxldCBpID0gYXR0cmlidXRlc1RvUmVtb3ZlLmxlbmd0aCAtIDE7IGkgPj0gMDsgaSAtPSAxKSB7XG4gICAgZWxlbWVudFRhZy5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlc1RvUmVtb3ZlW2ldKTtcbiAgfVxuICBpZiAoaGVsbWV0QXR0cmlidXRlcy5sZW5ndGggPT09IGF0dHJpYnV0ZXNUb1JlbW92ZS5sZW5ndGgpIHtcbiAgICBlbGVtZW50VGFnLnJlbW92ZUF0dHJpYnV0ZShIRUxNRVRfQVRUUklCVVRFKTtcbiAgfSBlbHNlIGlmIChlbGVtZW50VGFnLmdldEF0dHJpYnV0ZShIRUxNRVRfQVRUUklCVVRFKSAhPT0gYXR0cmlidXRlS2V5cy5qb2luKFwiLFwiKSkge1xuICAgIGVsZW1lbnRUYWcuc2V0QXR0cmlidXRlKEhFTE1FVF9BVFRSSUJVVEUsIGF0dHJpYnV0ZUtleXMuam9pbihcIixcIikpO1xuICB9XG59O1xudmFyIHVwZGF0ZVRpdGxlID0gKHRpdGxlLCBhdHRyaWJ1dGVzKSA9PiB7XG4gIGlmICh0eXBlb2YgdGl0bGUgIT09IFwidW5kZWZpbmVkXCIgJiYgZG9jdW1lbnQudGl0bGUgIT09IHRpdGxlKSB7XG4gICAgZG9jdW1lbnQudGl0bGUgPSBmbGF0dGVuQXJyYXkodGl0bGUpO1xuICB9XG4gIHVwZGF0ZUF0dHJpYnV0ZXMoXCJ0aXRsZVwiIC8qIFRJVExFICovLCBhdHRyaWJ1dGVzKTtcbn07XG52YXIgY29tbWl0VGFnQ2hhbmdlcyA9IChuZXdTdGF0ZSwgY2IpID0+IHtcbiAgY29uc3Qge1xuICAgIGJhc2VUYWcsXG4gICAgYm9keUF0dHJpYnV0ZXMsXG4gICAgaHRtbEF0dHJpYnV0ZXMsXG4gICAgbGlua1RhZ3MsXG4gICAgbWV0YVRhZ3MsXG4gICAgbm9zY3JpcHRUYWdzLFxuICAgIG9uQ2hhbmdlQ2xpZW50U3RhdGUsXG4gICAgc2NyaXB0VGFncyxcbiAgICBzdHlsZVRhZ3MsXG4gICAgdGl0bGUsXG4gICAgdGl0bGVBdHRyaWJ1dGVzXG4gIH0gPSBuZXdTdGF0ZTtcbiAgdXBkYXRlQXR0cmlidXRlcyhcImJvZHlcIiAvKiBCT0RZICovLCBib2R5QXR0cmlidXRlcyk7XG4gIHVwZGF0ZUF0dHJpYnV0ZXMoXCJodG1sXCIgLyogSFRNTCAqLywgaHRtbEF0dHJpYnV0ZXMpO1xuICB1cGRhdGVUaXRsZSh0aXRsZSwgdGl0bGVBdHRyaWJ1dGVzKTtcbiAgY29uc3QgdGFnVXBkYXRlcyA9IHtcbiAgICBiYXNlVGFnOiB1cGRhdGVUYWdzKFwiYmFzZVwiIC8qIEJBU0UgKi8sIGJhc2VUYWcpLFxuICAgIGxpbmtUYWdzOiB1cGRhdGVUYWdzKFwibGlua1wiIC8qIExJTksgKi8sIGxpbmtUYWdzKSxcbiAgICBtZXRhVGFnczogdXBkYXRlVGFncyhcIm1ldGFcIiAvKiBNRVRBICovLCBtZXRhVGFncyksXG4gICAgbm9zY3JpcHRUYWdzOiB1cGRhdGVUYWdzKFwibm9zY3JpcHRcIiAvKiBOT1NDUklQVCAqLywgbm9zY3JpcHRUYWdzKSxcbiAgICBzY3JpcHRUYWdzOiB1cGRhdGVUYWdzKFwic2NyaXB0XCIgLyogU0NSSVBUICovLCBzY3JpcHRUYWdzKSxcbiAgICBzdHlsZVRhZ3M6IHVwZGF0ZVRhZ3MoXCJzdHlsZVwiIC8qIFNUWUxFICovLCBzdHlsZVRhZ3MpXG4gIH07XG4gIGNvbnN0IGFkZGVkVGFncyA9IHt9O1xuICBjb25zdCByZW1vdmVkVGFncyA9IHt9O1xuICBPYmplY3Qua2V5cyh0YWdVcGRhdGVzKS5mb3JFYWNoKCh0YWdUeXBlKSA9PiB7XG4gICAgY29uc3QgeyBuZXdUYWdzLCBvbGRUYWdzIH0gPSB0YWdVcGRhdGVzW3RhZ1R5cGVdO1xuICAgIGlmIChuZXdUYWdzLmxlbmd0aCkge1xuICAgICAgYWRkZWRUYWdzW3RhZ1R5cGVdID0gbmV3VGFncztcbiAgICB9XG4gICAgaWYgKG9sZFRhZ3MubGVuZ3RoKSB7XG4gICAgICByZW1vdmVkVGFnc1t0YWdUeXBlXSA9IHRhZ1VwZGF0ZXNbdGFnVHlwZV0ub2xkVGFncztcbiAgICB9XG4gIH0pO1xuICBpZiAoY2IpIHtcbiAgICBjYigpO1xuICB9XG4gIG9uQ2hhbmdlQ2xpZW50U3RhdGUobmV3U3RhdGUsIGFkZGVkVGFncywgcmVtb3ZlZFRhZ3MpO1xufTtcbnZhciBfaGVsbWV0Q2FsbGJhY2sgPSBudWxsO1xudmFyIGhhbmRsZVN0YXRlQ2hhbmdlT25DbGllbnQgPSAobmV3U3RhdGUpID0+IHtcbiAgaWYgKF9oZWxtZXRDYWxsYmFjaykge1xuICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKF9oZWxtZXRDYWxsYmFjayk7XG4gIH1cbiAgaWYgKG5ld1N0YXRlLmRlZmVyKSB7XG4gICAgX2hlbG1ldENhbGxiYWNrID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIGNvbW1pdFRhZ0NoYW5nZXMobmV3U3RhdGUsICgpID0+IHtcbiAgICAgICAgX2hlbG1ldENhbGxiYWNrID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGNvbW1pdFRhZ0NoYW5nZXMobmV3U3RhdGUpO1xuICAgIF9oZWxtZXRDYWxsYmFjayA9IG51bGw7XG4gIH1cbn07XG52YXIgY2xpZW50X2RlZmF1bHQgPSBoYW5kbGVTdGF0ZUNoYW5nZU9uQ2xpZW50O1xuXG4vLyBzcmMvRGlzcGF0Y2hlci50c3hcbnZhciBIZWxtZXREaXNwYXRjaGVyID0gY2xhc3MgZXh0ZW5kcyBDb21wb25lbnQyIHtcbiAgcmVuZGVyZWQgPSBmYWxzZTtcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcykge1xuICAgIHJldHVybiAhc2hhbGxvd0VxdWFsKG5leHRQcm9wcywgdGhpcy5wcm9wcyk7XG4gIH1cbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIHRoaXMuZW1pdENoYW5nZSgpO1xuICB9XG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGNvbnN0IHsgaGVsbWV0SW5zdGFuY2VzIH0gPSB0aGlzLnByb3BzLmNvbnRleHQ7XG4gICAgaGVsbWV0SW5zdGFuY2VzLnJlbW92ZSh0aGlzKTtcbiAgICB0aGlzLmVtaXRDaGFuZ2UoKTtcbiAgfVxuICBlbWl0Q2hhbmdlKCkge1xuICAgIGNvbnN0IHsgaGVsbWV0SW5zdGFuY2VzLCBzZXRIZWxtZXQgfSA9IHRoaXMucHJvcHMuY29udGV4dDtcbiAgICBsZXQgc2VydmVyU3RhdGUgPSBudWxsO1xuICAgIGNvbnN0IHN0YXRlID0gcmVkdWNlUHJvcHNUb1N0YXRlKFxuICAgICAgaGVsbWV0SW5zdGFuY2VzLmdldCgpLm1hcCgoaW5zdGFuY2UpID0+IHtcbiAgICAgICAgY29uc3QgcHJvcHMgPSB7IC4uLmluc3RhbmNlLnByb3BzIH07XG4gICAgICAgIGRlbGV0ZSBwcm9wcy5jb250ZXh0O1xuICAgICAgICByZXR1cm4gcHJvcHM7XG4gICAgICB9KVxuICAgICk7XG4gICAgaWYgKEhlbG1ldFByb3ZpZGVyLmNhblVzZURPTSkge1xuICAgICAgY2xpZW50X2RlZmF1bHQoc3RhdGUpO1xuICAgIH0gZWxzZSBpZiAoc2VydmVyX2RlZmF1bHQpIHtcbiAgICAgIHNlcnZlclN0YXRlID0gc2VydmVyX2RlZmF1bHQoc3RhdGUpO1xuICAgIH1cbiAgICBzZXRIZWxtZXQoc2VydmVyU3RhdGUpO1xuICB9XG4gIC8vIGNvbXBvbmVudFdpbGxNb3VudCB3aWxsIGJlIGRlcHJlY2F0ZWRcbiAgLy8gZm9yIFNTUiwgaW5pdGlhbGl6ZSBvbiBmaXJzdCByZW5kZXJcbiAgLy8gY29uc3RydWN0b3IgaXMgYWxzbyB1bnNhZmUgaW4gU3RyaWN0TW9kZVxuICBpbml0KCkge1xuICAgIGlmICh0aGlzLnJlbmRlcmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMucmVuZGVyZWQgPSB0cnVlO1xuICAgIGNvbnN0IHsgaGVsbWV0SW5zdGFuY2VzIH0gPSB0aGlzLnByb3BzLmNvbnRleHQ7XG4gICAgaGVsbWV0SW5zdGFuY2VzLmFkZCh0aGlzKTtcbiAgICB0aGlzLmVtaXRDaGFuZ2UoKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgdGhpcy5pbml0KCk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbi8vIHNyYy9pbmRleC50c3hcbnZhciBIZWxtZXQgPSBjbGFzcyBleHRlbmRzIENvbXBvbmVudDMge1xuICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgIGRlZmVyOiB0cnVlLFxuICAgIGVuY29kZVNwZWNpYWxDaGFyYWN0ZXJzOiB0cnVlLFxuICAgIHByaW9yaXRpemVTZW9UYWdzOiBmYWxzZVxuICB9O1xuICBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzKSB7XG4gICAgcmV0dXJuICFmYXN0Q29tcGFyZSh3aXRob3V0KHRoaXMucHJvcHMsIFwiaGVsbWV0RGF0YVwiKSwgd2l0aG91dChuZXh0UHJvcHMsIFwiaGVsbWV0RGF0YVwiKSk7XG4gIH1cbiAgbWFwTmVzdGVkQ2hpbGRyZW5Ub1Byb3BzKGNoaWxkLCBuZXN0ZWRDaGlsZHJlbikge1xuICAgIGlmICghbmVzdGVkQ2hpbGRyZW4pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzd2l0Y2ggKGNoaWxkLnR5cGUpIHtcbiAgICAgIGNhc2UgXCJzY3JpcHRcIiAvKiBTQ1JJUFQgKi86XG4gICAgICBjYXNlIFwibm9zY3JpcHRcIiAvKiBOT1NDUklQVCAqLzpcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpbm5lckhUTUw6IG5lc3RlZENoaWxkcmVuXG4gICAgICAgIH07XG4gICAgICBjYXNlIFwic3R5bGVcIiAvKiBTVFlMRSAqLzpcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBjc3NUZXh0OiBuZXN0ZWRDaGlsZHJlblxuICAgICAgICB9O1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGA8JHtjaGlsZC50eXBlfSAvPiBlbGVtZW50cyBhcmUgc2VsZi1jbG9zaW5nIGFuZCBjYW4gbm90IGNvbnRhaW4gY2hpbGRyZW4uIFJlZmVyIHRvIG91ciBBUEkgZm9yIG1vcmUgaW5mb3JtYXRpb24uYFxuICAgICAgICApO1xuICAgIH1cbiAgfVxuICBmbGF0dGVuQXJyYXlUeXBlQ2hpbGRyZW4oY2hpbGQsIGFycmF5VHlwZUNoaWxkcmVuLCBuZXdDaGlsZFByb3BzLCBuZXN0ZWRDaGlsZHJlbikge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5hcnJheVR5cGVDaGlsZHJlbixcbiAgICAgIFtjaGlsZC50eXBlXTogW1xuICAgICAgICAuLi5hcnJheVR5cGVDaGlsZHJlbltjaGlsZC50eXBlXSB8fCBbXSxcbiAgICAgICAge1xuICAgICAgICAgIC4uLm5ld0NoaWxkUHJvcHMsXG4gICAgICAgICAgLi4udGhpcy5tYXBOZXN0ZWRDaGlsZHJlblRvUHJvcHMoY2hpbGQsIG5lc3RlZENoaWxkcmVuKVxuICAgICAgICB9XG4gICAgICBdXG4gICAgfTtcbiAgfVxuICBtYXBPYmplY3RUeXBlQ2hpbGRyZW4oY2hpbGQsIG5ld1Byb3BzLCBuZXdDaGlsZFByb3BzLCBuZXN0ZWRDaGlsZHJlbikge1xuICAgIHN3aXRjaCAoY2hpbGQudHlwZSkge1xuICAgICAgY2FzZSBcInRpdGxlXCIgLyogVElUTEUgKi86XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ubmV3UHJvcHMsXG4gICAgICAgICAgW2NoaWxkLnR5cGVdOiBuZXN0ZWRDaGlsZHJlbixcbiAgICAgICAgICB0aXRsZUF0dHJpYnV0ZXM6IHsgLi4ubmV3Q2hpbGRQcm9wcyB9XG4gICAgICAgIH07XG4gICAgICBjYXNlIFwiYm9keVwiIC8qIEJPRFkgKi86XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ubmV3UHJvcHMsXG4gICAgICAgICAgYm9keUF0dHJpYnV0ZXM6IHsgLi4ubmV3Q2hpbGRQcm9wcyB9XG4gICAgICAgIH07XG4gICAgICBjYXNlIFwiaHRtbFwiIC8qIEhUTUwgKi86XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ubmV3UHJvcHMsXG4gICAgICAgICAgaHRtbEF0dHJpYnV0ZXM6IHsgLi4ubmV3Q2hpbGRQcm9wcyB9XG4gICAgICAgIH07XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLm5ld1Byb3BzLFxuICAgICAgICAgIFtjaGlsZC50eXBlXTogeyAuLi5uZXdDaGlsZFByb3BzIH1cbiAgICAgICAgfTtcbiAgICB9XG4gIH1cbiAgbWFwQXJyYXlUeXBlQ2hpbGRyZW5Ub1Byb3BzKGFycmF5VHlwZUNoaWxkcmVuLCBuZXdQcm9wcykge1xuICAgIGxldCBuZXdGbGF0dGVuZWRQcm9wcyA9IHsgLi4ubmV3UHJvcHMgfTtcbiAgICBPYmplY3Qua2V5cyhhcnJheVR5cGVDaGlsZHJlbikuZm9yRWFjaCgoYXJyYXlDaGlsZE5hbWUpID0+IHtcbiAgICAgIG5ld0ZsYXR0ZW5lZFByb3BzID0ge1xuICAgICAgICAuLi5uZXdGbGF0dGVuZWRQcm9wcyxcbiAgICAgICAgW2FycmF5Q2hpbGROYW1lXTogYXJyYXlUeXBlQ2hpbGRyZW5bYXJyYXlDaGlsZE5hbWVdXG4gICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBuZXdGbGF0dGVuZWRQcm9wcztcbiAgfVxuICB3YXJuT25JbnZhbGlkQ2hpbGRyZW4oY2hpbGQsIG5lc3RlZENoaWxkcmVuKSB7XG4gICAgaW52YXJpYW50KFxuICAgICAgVkFMSURfVEFHX05BTUVTLnNvbWUoKG5hbWUpID0+IGNoaWxkLnR5cGUgPT09IG5hbWUpLFxuICAgICAgdHlwZW9mIGNoaWxkLnR5cGUgPT09IFwiZnVuY3Rpb25cIiA/IGBZb3UgbWF5IGJlIGF0dGVtcHRpbmcgdG8gbmVzdCA8SGVsbWV0PiBjb21wb25lbnRzIHdpdGhpbiBlYWNoIG90aGVyLCB3aGljaCBpcyBub3QgYWxsb3dlZC4gUmVmZXIgdG8gb3VyIEFQSSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5gIDogYE9ubHkgZWxlbWVudHMgdHlwZXMgJHtWQUxJRF9UQUdfTkFNRVMuam9pbihcbiAgICAgICAgXCIsIFwiXG4gICAgICApfSBhcmUgYWxsb3dlZC4gSGVsbWV0IGRvZXMgbm90IHN1cHBvcnQgcmVuZGVyaW5nIDwke2NoaWxkLnR5cGV9PiBlbGVtZW50cy4gUmVmZXIgdG8gb3VyIEFQSSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5gXG4gICAgKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICAhbmVzdGVkQ2hpbGRyZW4gfHwgdHlwZW9mIG5lc3RlZENoaWxkcmVuID09PSBcInN0cmluZ1wiIHx8IEFycmF5LmlzQXJyYXkobmVzdGVkQ2hpbGRyZW4pICYmICFuZXN0ZWRDaGlsZHJlbi5zb21lKChuZXN0ZWRDaGlsZCkgPT4gdHlwZW9mIG5lc3RlZENoaWxkICE9PSBcInN0cmluZ1wiKSxcbiAgICAgIGBIZWxtZXQgZXhwZWN0cyBhIHN0cmluZyBhcyBhIGNoaWxkIG9mIDwke2NoaWxkLnR5cGV9Pi4gRGlkIHlvdSBmb3JnZXQgdG8gd3JhcCB5b3VyIGNoaWxkcmVuIGluIGJyYWNlcz8gKCA8JHtjaGlsZC50eXBlfT57XFxgXFxgfTwvJHtjaGlsZC50eXBlfT4gKSBSZWZlciB0byBvdXIgQVBJIGZvciBtb3JlIGluZm9ybWF0aW9uLmBcbiAgICApO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIG1hcENoaWxkcmVuVG9Qcm9wcyhjaGlsZHJlbiwgbmV3UHJvcHMpIHtcbiAgICBsZXQgYXJyYXlUeXBlQ2hpbGRyZW4gPSB7fTtcbiAgICBSZWFjdDMuQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgKGNoaWxkKSA9PiB7XG4gICAgICBpZiAoIWNoaWxkIHx8ICFjaGlsZC5wcm9wcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB7IGNoaWxkcmVuOiBuZXN0ZWRDaGlsZHJlbiwgLi4uY2hpbGRQcm9wcyB9ID0gY2hpbGQucHJvcHM7XG4gICAgICBjb25zdCBuZXdDaGlsZFByb3BzID0gT2JqZWN0LmtleXMoY2hpbGRQcm9wcykucmVkdWNlKChvYmosIGtleSkgPT4ge1xuICAgICAgICBvYmpbSFRNTF9UQUdfTUFQW2tleV0gfHwga2V5XSA9IGNoaWxkUHJvcHNba2V5XTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgIH0sIHt9KTtcbiAgICAgIGxldCB7IHR5cGUgfSA9IGNoaWxkO1xuICAgICAgaWYgKHR5cGVvZiB0eXBlID09PSBcInN5bWJvbFwiKSB7XG4gICAgICAgIHR5cGUgPSB0eXBlLnRvU3RyaW5nKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLndhcm5PbkludmFsaWRDaGlsZHJlbihjaGlsZCwgbmVzdGVkQ2hpbGRyZW4pO1xuICAgICAgfVxuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJTeW1ib2wocmVhY3QuZnJhZ21lbnQpXCIgLyogRlJBR01FTlQgKi86XG4gICAgICAgICAgbmV3UHJvcHMgPSB0aGlzLm1hcENoaWxkcmVuVG9Qcm9wcyhuZXN0ZWRDaGlsZHJlbiwgbmV3UHJvcHMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibGlua1wiIC8qIExJTksgKi86XG4gICAgICAgIGNhc2UgXCJtZXRhXCIgLyogTUVUQSAqLzpcbiAgICAgICAgY2FzZSBcIm5vc2NyaXB0XCIgLyogTk9TQ1JJUFQgKi86XG4gICAgICAgIGNhc2UgXCJzY3JpcHRcIiAvKiBTQ1JJUFQgKi86XG4gICAgICAgIGNhc2UgXCJzdHlsZVwiIC8qIFNUWUxFICovOlxuICAgICAgICAgIGFycmF5VHlwZUNoaWxkcmVuID0gdGhpcy5mbGF0dGVuQXJyYXlUeXBlQ2hpbGRyZW4oXG4gICAgICAgICAgICBjaGlsZCxcbiAgICAgICAgICAgIGFycmF5VHlwZUNoaWxkcmVuLFxuICAgICAgICAgICAgbmV3Q2hpbGRQcm9wcyxcbiAgICAgICAgICAgIG5lc3RlZENoaWxkcmVuXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBuZXdQcm9wcyA9IHRoaXMubWFwT2JqZWN0VHlwZUNoaWxkcmVuKGNoaWxkLCBuZXdQcm9wcywgbmV3Q2hpbGRQcm9wcywgbmVzdGVkQ2hpbGRyZW4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLm1hcEFycmF5VHlwZUNoaWxkcmVuVG9Qcm9wcyhhcnJheVR5cGVDaGlsZHJlbiwgbmV3UHJvcHMpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGNoaWxkcmVuLCAuLi5wcm9wcyB9ID0gdGhpcy5wcm9wcztcbiAgICBsZXQgbmV3UHJvcHMgPSB7IC4uLnByb3BzIH07XG4gICAgbGV0IHsgaGVsbWV0RGF0YSB9ID0gcHJvcHM7XG4gICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICBuZXdQcm9wcyA9IHRoaXMubWFwQ2hpbGRyZW5Ub1Byb3BzKGNoaWxkcmVuLCBuZXdQcm9wcyk7XG4gICAgfVxuICAgIGlmIChoZWxtZXREYXRhICYmICEoaGVsbWV0RGF0YSBpbnN0YW5jZW9mIEhlbG1ldERhdGEpKSB7XG4gICAgICBjb25zdCBkYXRhID0gaGVsbWV0RGF0YTtcbiAgICAgIGhlbG1ldERhdGEgPSBuZXcgSGVsbWV0RGF0YShkYXRhLmNvbnRleHQsIHRydWUpO1xuICAgICAgZGVsZXRlIG5ld1Byb3BzLmhlbG1ldERhdGE7XG4gICAgfVxuICAgIHJldHVybiBoZWxtZXREYXRhID8gLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KEhlbG1ldERpc3BhdGNoZXIsIHsgLi4ubmV3UHJvcHMsIGNvbnRleHQ6IGhlbG1ldERhdGEudmFsdWUgfSkgOiAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoQ29udGV4dC5Db25zdW1lciwgbnVsbCwgKGNvbnRleHQpID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChIZWxtZXREaXNwYXRjaGVyLCB7IC4uLm5ld1Byb3BzLCBjb250ZXh0IH0pKTtcbiAgfVxufTtcbmV4cG9ydCB7XG4gIEhlbG1ldCxcbiAgSGVsbWV0RGF0YSxcbiAgSGVsbWV0UHJvdmlkZXJcbn07XG4iCiAgXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FZRyxRQUFTLEdBQUc7QUFBQSxJQUNYLFNBQVMsd0JBQXdCLENBQUMsWUFBWSxNQUFNO0FBQUEsTUFDbEQsT0FBTyxlQUFlLFVBQVUsV0FBVyxZQUFZO0FBQUEsUUFDckQsS0FBSyxRQUFTLEdBQUc7QUFBQSxVQUNmLFFBQVEsS0FDTiwrREFDQSxLQUFLLElBQ0wsS0FBSyxFQUNQO0FBQUE7QUFBQSxNQUVKLENBQUM7QUFBQTtBQUFBLElBRUgsU0FBUyxhQUFhLENBQUMsZUFBZTtBQUFBLE1BQ3BDLElBQWEsa0JBQVQsUUFBdUMsT0FBTyxrQkFBcEI7QUFBQSxRQUM1QixPQUFPO0FBQUEsTUFDVCxnQkFDRyx5QkFBeUIsY0FBYywwQkFDeEMsY0FBYztBQUFBLE1BQ2hCLE9BQXNCLE9BQU8sa0JBQXRCLGFBQXNDLGdCQUFnQjtBQUFBO0FBQUEsSUFFL0QsU0FBUyxRQUFRLENBQUMsZ0JBQWdCLFlBQVk7QUFBQSxNQUM1QyxrQkFDSSxpQkFBaUIsZUFBZSxpQkFDL0IsZUFBZSxlQUFlLGVBQWUsU0FDaEQ7QUFBQSxNQUNGLElBQUksYUFBYSxpQkFBaUIsTUFBTTtBQUFBLE1BQ3hDLHdDQUF3QyxnQkFDckMsUUFBUSxNQUNQLHlQQUNBLFlBQ0EsY0FDRixHQUNDLHdDQUF3QyxjQUFjO0FBQUE7QUFBQSxJQUUzRCxTQUFTLFNBQVMsQ0FBQyxPQUFPLFNBQVMsU0FBUztBQUFBLE1BQzFDLEtBQUssUUFBUTtBQUFBLE1BQ2IsS0FBSyxVQUFVO0FBQUEsTUFDZixLQUFLLE9BQU87QUFBQSxNQUNaLEtBQUssVUFBVSxXQUFXO0FBQUE7QUFBQSxJQUU1QixTQUFTLGNBQWMsR0FBRztBQUFBLElBQzFCLFNBQVMsYUFBYSxDQUFDLE9BQU8sU0FBUyxTQUFTO0FBQUEsTUFDOUMsS0FBSyxRQUFRO0FBQUEsTUFDYixLQUFLLFVBQVU7QUFBQSxNQUNmLEtBQUssT0FBTztBQUFBLE1BQ1osS0FBSyxVQUFVLFdBQVc7QUFBQTtBQUFBLElBRTVCLFNBQVMsSUFBSSxHQUFHO0FBQUEsSUFDaEIsU0FBUyxrQkFBa0IsQ0FBQyxPQUFPO0FBQUEsTUFDakMsT0FBTyxLQUFLO0FBQUE7QUFBQSxJQUVkLFNBQVMsc0JBQXNCLENBQUMsT0FBTztBQUFBLE1BQ3JDLElBQUk7QUFBQSxRQUNGLG1CQUFtQixLQUFLO0FBQUEsUUFDeEIsSUFBSSwyQkFBMkI7QUFBQSxRQUMvQixPQUFPLEdBQUc7QUFBQSxRQUNWLDJCQUEyQjtBQUFBO0FBQUEsTUFFN0IsSUFBSSwwQkFBMEI7QUFBQSxRQUM1QiwyQkFBMkI7QUFBQSxRQUMzQixJQUFJLHdCQUF3Qix5QkFBeUI7QUFBQSxRQUNyRCxJQUFJLG9DQUNjLE9BQU8sV0FBdEIsY0FDQyxPQUFPLGVBQ1AsTUFBTSxPQUFPLGdCQUNmLE1BQU0sWUFBWSxRQUNsQjtBQUFBLFFBQ0Ysc0JBQXNCLEtBQ3BCLDBCQUNBLDRHQUNBLGlDQUNGO0FBQUEsUUFDQSxPQUFPLG1CQUFtQixLQUFLO0FBQUEsTUFDakM7QUFBQTtBQUFBLElBRUYsU0FBUyx3QkFBd0IsQ0FBQyxNQUFNO0FBQUEsTUFDdEMsSUFBWSxRQUFSO0FBQUEsUUFBYyxPQUFPO0FBQUEsTUFDekIsSUFBbUIsT0FBTyxTQUF0QjtBQUFBLFFBQ0YsT0FBTyxLQUFLLGFBQWEseUJBQ3JCLE9BQ0EsS0FBSyxlQUFlLEtBQUssUUFBUTtBQUFBLE1BQ3ZDLElBQWlCLE9BQU8sU0FBcEI7QUFBQSxRQUEwQixPQUFPO0FBQUEsTUFDckMsUUFBUTtBQUFBLGFBQ0Q7QUFBQSxVQUNILE9BQU87QUFBQSxhQUNKO0FBQUEsVUFDSCxPQUFPO0FBQUEsYUFDSjtBQUFBLFVBQ0gsT0FBTztBQUFBLGFBQ0o7QUFBQSxVQUNILE9BQU87QUFBQSxhQUNKO0FBQUEsVUFDSCxPQUFPO0FBQUEsYUFDSjtBQUFBLFVBQ0gsT0FBTztBQUFBO0FBQUEsTUFFWCxJQUFpQixPQUFPLFNBQXBCO0FBQUEsUUFDRixRQUNnQixPQUFPLEtBQUssUUFBekIsWUFDQyxRQUFRLE1BQ04sbUhBQ0YsR0FDRixLQUFLO0FBQUEsZUFFQTtBQUFBLFlBQ0gsT0FBTztBQUFBLGVBQ0o7QUFBQSxZQUNILE9BQU8sS0FBSyxlQUFlO0FBQUEsZUFDeEI7QUFBQSxZQUNILFFBQVEsS0FBSyxTQUFTLGVBQWUsYUFBYTtBQUFBLGVBQy9DO0FBQUEsWUFDSCxJQUFJLFlBQVksS0FBSztBQUFBLFlBQ3JCLE9BQU8sS0FBSztBQUFBLFlBQ1osU0FDSSxPQUFPLFVBQVUsZUFBZSxVQUFVLFFBQVEsSUFDbkQsT0FBYyxTQUFQLEtBQWMsZ0JBQWdCLE9BQU8sTUFBTTtBQUFBLFlBQ3JELE9BQU87QUFBQSxlQUNKO0FBQUEsWUFDSCxPQUNHLFlBQVksS0FBSyxlQUFlLE1BQ3hCLGNBQVQsT0FDSSxZQUNBLHlCQUF5QixLQUFLLElBQUksS0FBSztBQUFBLGVBRTFDO0FBQUEsWUFDSCxZQUFZLEtBQUs7QUFBQSxZQUNqQixPQUFPLEtBQUs7QUFBQSxZQUNaLElBQUk7QUFBQSxjQUNGLE9BQU8seUJBQXlCLEtBQUssU0FBUyxDQUFDO0FBQUEsY0FDL0MsT0FBTyxHQUFHO0FBQUE7QUFBQSxNQUVsQixPQUFPO0FBQUE7QUFBQSxJQUVULFNBQVMsV0FBVyxDQUFDLE1BQU07QUFBQSxNQUN6QixJQUFJLFNBQVM7QUFBQSxRQUFxQixPQUFPO0FBQUEsTUFDekMsSUFDZSxPQUFPLFNBQXBCLFlBQ1MsU0FBVCxRQUNBLEtBQUssYUFBYTtBQUFBLFFBRWxCLE9BQU87QUFBQSxNQUNULElBQUk7QUFBQSxRQUNGLElBQUksT0FBTyx5QkFBeUIsSUFBSTtBQUFBLFFBQ3hDLE9BQU8sT0FBTyxNQUFNLE9BQU8sTUFBTTtBQUFBLFFBQ2pDLE9BQU8sR0FBRztBQUFBLFFBQ1YsT0FBTztBQUFBO0FBQUE7QUFBQSxJQUdYLFNBQVMsUUFBUSxHQUFHO0FBQUEsTUFDbEIsSUFBSSxhQUFhLHFCQUFxQjtBQUFBLE1BQ3RDLE9BQWdCLGVBQVQsT0FBc0IsT0FBTyxXQUFXLFNBQVM7QUFBQTtBQUFBLElBRTFELFNBQVMsWUFBWSxHQUFHO0FBQUEsTUFDdEIsT0FBTyxNQUFNLHVCQUF1QjtBQUFBO0FBQUEsSUFFdEMsU0FBUyxXQUFXLENBQUMsUUFBUTtBQUFBLE1BQzNCLElBQUksZUFBZSxLQUFLLFFBQVEsS0FBSyxHQUFHO0FBQUEsUUFDdEMsSUFBSSxTQUFTLE9BQU8seUJBQXlCLFFBQVEsS0FBSyxFQUFFO0FBQUEsUUFDNUQsSUFBSSxVQUFVLE9BQU87QUFBQSxVQUFnQixPQUFPO0FBQUEsTUFDOUM7QUFBQSxNQUNBLE9BQWtCLE9BQU8sUUFBYjtBQUFBO0FBQUEsSUFFZCxTQUFTLDBCQUEwQixDQUFDLE9BQU8sYUFBYTtBQUFBLE1BQ3RELFNBQVMscUJBQXFCLEdBQUc7QUFBQSxRQUMvQiwrQkFDSSw2QkFBNkIsTUFDL0IsUUFBUSxNQUNOLDJPQUNBLFdBQ0Y7QUFBQTtBQUFBLE1BRUosc0JBQXNCLGlCQUFpQjtBQUFBLE1BQ3ZDLE9BQU8sZUFBZSxPQUFPLE9BQU87QUFBQSxRQUNsQyxLQUFLO0FBQUEsUUFDTCxjQUFjO0FBQUEsTUFDaEIsQ0FBQztBQUFBO0FBQUEsSUFFSCxTQUFTLHNDQUFzQyxHQUFHO0FBQUEsTUFDaEQsSUFBSSxnQkFBZ0IseUJBQXlCLEtBQUssSUFBSTtBQUFBLE1BQ3RELHVCQUF1QixtQkFDbkIsdUJBQXVCLGlCQUFpQixNQUMxQyxRQUFRLE1BQ04sNklBQ0Y7QUFBQSxNQUNGLGdCQUFnQixLQUFLLE1BQU07QUFBQSxNQUMzQixPQUFrQixrQkFBTixZQUFzQixnQkFBZ0I7QUFBQTtBQUFBLElBRXBELFNBQVMsWUFBWSxDQUFDLE1BQU0sS0FBSyxPQUFPLE9BQU8sWUFBWSxXQUFXO0FBQUEsTUFDcEUsSUFBSSxVQUFVLE1BQU07QUFBQSxNQUNwQixPQUFPO0FBQUEsUUFDTCxVQUFVO0FBQUEsUUFDVjtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQSxRQUFRO0FBQUEsTUFDVjtBQUFBLE9BQ3FCLFlBQU4sWUFBZ0IsVUFBVSxVQUF6QyxPQUNJLE9BQU8sZUFBZSxNQUFNLE9BQU87QUFBQSxRQUNqQyxZQUFZO0FBQUEsUUFDWixLQUFLO0FBQUEsTUFDUCxDQUFDLElBQ0QsT0FBTyxlQUFlLE1BQU0sT0FBTyxFQUFFLFlBQVksT0FBSSxPQUFPLEtBQUssQ0FBQztBQUFBLE1BQ3RFLEtBQUssU0FBUyxDQUFDO0FBQUEsTUFDZixPQUFPLGVBQWUsS0FBSyxRQUFRLGFBQWE7QUFBQSxRQUM5QyxjQUFjO0FBQUEsUUFDZCxZQUFZO0FBQUEsUUFDWixVQUFVO0FBQUEsUUFDVixPQUFPO0FBQUEsTUFDVCxDQUFDO0FBQUEsTUFDRCxPQUFPLGVBQWUsTUFBTSxjQUFjO0FBQUEsUUFDeEMsY0FBYztBQUFBLFFBQ2QsWUFBWTtBQUFBLFFBQ1osVUFBVTtBQUFBLFFBQ1YsT0FBTztBQUFBLE1BQ1QsQ0FBQztBQUFBLE1BQ0QsT0FBTyxlQUFlLE1BQU0sZUFBZTtBQUFBLFFBQ3pDLGNBQWM7QUFBQSxRQUNkLFlBQVk7QUFBQSxRQUNaLFVBQVU7QUFBQSxRQUNWLE9BQU87QUFBQSxNQUNULENBQUM7QUFBQSxNQUNELE9BQU8sZUFBZSxNQUFNLGNBQWM7QUFBQSxRQUN4QyxjQUFjO0FBQUEsUUFDZCxZQUFZO0FBQUEsUUFDWixVQUFVO0FBQUEsUUFDVixPQUFPO0FBQUEsTUFDVCxDQUFDO0FBQUEsTUFDRCxPQUFPLFdBQVcsT0FBTyxPQUFPLEtBQUssS0FBSyxHQUFHLE9BQU8sT0FBTyxJQUFJO0FBQUEsTUFDL0QsT0FBTztBQUFBO0FBQUEsSUFFVCxTQUFTLGtCQUFrQixDQUFDLFlBQVksUUFBUTtBQUFBLE1BQzlDLFNBQVMsYUFDUCxXQUFXLE1BQ1gsUUFDQSxXQUFXLE9BQ1gsV0FBVyxRQUNYLFdBQVcsYUFDWCxXQUFXLFVBQ2I7QUFBQSxNQUNBLFdBQVcsV0FDUixPQUFPLE9BQU8sWUFBWSxXQUFXLE9BQU87QUFBQSxNQUMvQyxPQUFPO0FBQUE7QUFBQSxJQUVULFNBQVMsaUJBQWlCLENBQUMsTUFBTTtBQUFBLE1BQy9CLGVBQWUsSUFBSSxJQUNmLEtBQUssV0FBVyxLQUFLLE9BQU8sWUFBWSxLQUMzQixPQUFPLFNBQXBCLFlBQ1MsU0FBVCxRQUNBLEtBQUssYUFBYSxvQkFDRCxLQUFLLFNBQVMsV0FBOUIsY0FDRyxlQUFlLEtBQUssU0FBUyxLQUFLLEtBQ2xDLEtBQUssU0FBUyxNQUFNLFdBQ25CLEtBQUssU0FBUyxNQUFNLE9BQU8sWUFBWSxLQUN4QyxLQUFLLFdBQVcsS0FBSyxPQUFPLFlBQVk7QUFBQTtBQUFBLElBRWxELFNBQVMsY0FBYyxDQUFDLFFBQVE7QUFBQSxNQUM5QixPQUNlLE9BQU8sV0FBcEIsWUFDUyxXQUFULFFBQ0EsT0FBTyxhQUFhO0FBQUE7QUFBQSxJQUd4QixTQUFTLE1BQU0sQ0FBQyxLQUFLO0FBQUEsTUFDbkIsSUFBSSxnQkFBZ0IsRUFBRSxLQUFLLE1BQU0sS0FBSyxLQUFLO0FBQUEsTUFDM0MsT0FDRSxNQUNBLElBQUksUUFBUSxTQUFTLFFBQVMsQ0FBQyxPQUFPO0FBQUEsUUFDcEMsT0FBTyxjQUFjO0FBQUEsT0FDdEI7QUFBQTtBQUFBLElBR0wsU0FBUyxhQUFhLENBQUMsU0FBUyxPQUFPO0FBQUEsTUFDckMsT0FBb0IsT0FBTyxZQUFwQixZQUNJLFlBQVQsUUFDUSxRQUFRLE9BQWhCLFFBQ0csdUJBQXVCLFFBQVEsR0FBRyxHQUFHLE9BQU8sS0FBSyxRQUFRLEdBQUcsS0FDN0QsTUFBTSxTQUFTLEVBQUU7QUFBQTtBQUFBLElBRXZCLFNBQVMsZUFBZSxDQUFDLFVBQVU7QUFBQSxNQUNqQyxRQUFRLFNBQVM7QUFBQSxhQUNWO0FBQUEsVUFDSCxPQUFPLFNBQVM7QUFBQSxhQUNiO0FBQUEsVUFDSCxNQUFNLFNBQVM7QUFBQTtBQUFBLFVBRWYsUUFDZ0IsT0FBTyxTQUFTLFdBQTdCLFdBQ0csU0FBUyxLQUFLLE1BQU0sSUFBSSxLQUN0QixTQUFTLFNBQVMsV0FDcEIsU0FBUyxLQUNQLFFBQVMsQ0FBQyxnQkFBZ0I7QUFBQSxZQUNWLFNBQVMsV0FBdkIsY0FDSSxTQUFTLFNBQVMsYUFDbkIsU0FBUyxRQUFRO0FBQUEsYUFFdEIsUUFBUyxDQUFDLE9BQU87QUFBQSxZQUNELFNBQVMsV0FBdkIsY0FDSSxTQUFTLFNBQVMsWUFDbkIsU0FBUyxTQUFTO0FBQUEsV0FFekIsSUFDSixTQUFTO0FBQUEsaUJBRUo7QUFBQSxjQUNILE9BQU8sU0FBUztBQUFBLGlCQUNiO0FBQUEsY0FDSCxNQUFNLFNBQVM7QUFBQTtBQUFBO0FBQUEsTUFHdkIsTUFBTTtBQUFBO0FBQUEsSUFFUixTQUFTLFlBQVksQ0FBQyxVQUFVLE9BQU8sZUFBZSxXQUFXLFVBQVU7QUFBQSxNQUN6RSxJQUFJLE9BQU8sT0FBTztBQUFBLE1BQ2xCLElBQW9CLFNBQWhCLGVBQXNDLFNBQWQ7QUFBQSxRQUFvQixXQUFXO0FBQUEsTUFDM0QsSUFBSSxpQkFBaUI7QUFBQSxNQUNyQixJQUFhLGFBQVQ7QUFBQSxRQUFtQixpQkFBaUI7QUFBQSxNQUV0QztBQUFBLGdCQUFRO0FBQUEsZUFDRDtBQUFBLGVBQ0E7QUFBQSxlQUNBO0FBQUEsWUFDSCxpQkFBaUI7QUFBQSxZQUNqQjtBQUFBLGVBQ0c7QUFBQSxZQUNILFFBQVEsU0FBUztBQUFBLG1CQUNWO0FBQUEsbUJBQ0E7QUFBQSxnQkFDSCxpQkFBaUI7QUFBQSxnQkFDakI7QUFBQSxtQkFDRztBQUFBLGdCQUNILE9BQ0csaUJBQWlCLFNBQVMsT0FDM0IsYUFDRSxlQUFlLFNBQVMsUUFBUSxHQUNoQyxPQUNBLGVBQ0EsV0FDQSxRQUNGO0FBQUE7QUFBQTtBQUFBLE1BSVosSUFBSSxnQkFBZ0I7QUFBQSxRQUNsQixpQkFBaUI7QUFBQSxRQUNqQixXQUFXLFNBQVMsY0FBYztBQUFBLFFBQ2xDLElBQUksV0FDSyxjQUFQLEtBQW1CLE1BQU0sY0FBYyxnQkFBZ0IsQ0FBQyxJQUFJO0FBQUEsUUFDOUQsWUFBWSxRQUFRLEtBQ2QsZ0JBQWdCLElBQ1YsWUFBUixTQUNHLGdCQUNDLFNBQVMsUUFBUSw0QkFBNEIsS0FBSyxJQUFJLE1BQzFELGFBQWEsVUFBVSxPQUFPLGVBQWUsSUFBSSxRQUFTLENBQUMsR0FBRztBQUFBLFVBQzVELE9BQU87QUFBQSxTQUNSLEtBQ08sWUFBUixTQUNDLGVBQWUsUUFBUSxNQUNiLFNBQVMsT0FBakIsU0FDRyxrQkFBa0IsZUFBZSxRQUFRLFNBQVMsT0FDbEQsdUJBQXVCLFNBQVMsR0FBRyxJQUN0QyxnQkFBZ0IsbUJBQ2YsVUFDQSxpQkFDVyxTQUFTLE9BQWpCLFFBQ0Esa0JBQWtCLGVBQWUsUUFBUSxTQUFTLE1BQy9DLE1BQ0MsS0FBSyxTQUFTLEtBQUssUUFDbEIsNEJBQ0EsS0FDRixJQUFJLE9BQ1IsUUFDSixHQUNPLGNBQVAsTUFDVSxrQkFBUixRQUNBLGVBQWUsY0FBYyxLQUNyQixlQUFlLE9BQXZCLFFBQ0EsZUFBZSxVQUNmLENBQUMsZUFBZSxPQUFPLGNBQ3RCLGNBQWMsT0FBTyxZQUFZLElBQ25DLFdBQVcsZ0JBQ2QsTUFBTSxLQUFLLFFBQVE7QUFBQSxRQUN2QixPQUFPO0FBQUEsTUFDVDtBQUFBLE1BQ0EsaUJBQWlCO0FBQUEsTUFDakIsV0FBa0IsY0FBUCxLQUFtQixNQUFNLFlBQVk7QUFBQSxNQUNoRCxJQUFJLFlBQVksUUFBUTtBQUFBLFFBQ3RCLFNBQVMsSUFBSSxFQUFHLElBQUksU0FBUyxRQUFRO0FBQUEsVUFDbEMsWUFBWSxTQUFTLElBQ25CLE9BQU8sV0FBVyxjQUFjLFdBQVcsQ0FBQyxHQUM1QyxrQkFBa0IsYUFDakIsV0FDQSxPQUNBLGVBQ0EsTUFDQSxRQUNGO0FBQUEsTUFDRCxTQUFNLElBQUksY0FBYyxRQUFRLEdBQW1CLE9BQU8sTUFBdEI7QUFBQSxRQUN2QyxLQUNFLE1BQU0sU0FBUyxZQUNaLG9CQUNDLFFBQVEsS0FDTix1RkFDRixHQUNELG1CQUFtQixPQUNwQixXQUFXLEVBQUUsS0FBSyxRQUFRLEdBQzFCLElBQUksRUFDTixFQUFFLFlBQVksU0FBUyxLQUFLLEdBQUc7QUFBQSxVQUc5QixZQUFZLFVBQVUsT0FDcEIsT0FBTyxXQUFXLGNBQWMsV0FBVyxHQUFHLEdBQzlDLGtCQUFrQixhQUNqQixXQUNBLE9BQ0EsZUFDQSxNQUNBLFFBQ0Y7QUFBQSxNQUNELFNBQWlCLFNBQWIsVUFBbUI7QUFBQSxRQUMxQixJQUFtQixPQUFPLFNBQVMsU0FBL0I7QUFBQSxVQUNGLE9BQU8sYUFDTCxnQkFBZ0IsUUFBUSxHQUN4QixPQUNBLGVBQ0EsV0FDQSxRQUNGO0FBQUEsUUFDRixRQUFRLE9BQU8sUUFBUTtBQUFBLFFBQ3ZCLE1BQU0sTUFDSixxREFDeUIsVUFBdEIsb0JBQ0csdUJBQXVCLE9BQU8sS0FBSyxRQUFRLEVBQUUsS0FBSyxJQUFJLElBQUksTUFDMUQsU0FDSiwyRUFDSjtBQUFBLE1BQ0Y7QUFBQSxNQUNBLE9BQU87QUFBQTtBQUFBLElBRVQsU0FBUyxXQUFXLENBQUMsVUFBVSxNQUFNLFNBQVM7QUFBQSxNQUM1QyxJQUFZLFlBQVI7QUFBQSxRQUFrQixPQUFPO0FBQUEsTUFDN0IsSUFBSSxTQUFTLENBQUMsR0FDWixRQUFRO0FBQUEsTUFDVixhQUFhLFVBQVUsUUFBUSxJQUFJLElBQUksUUFBUyxDQUFDLE9BQU87QUFBQSxRQUN0RCxPQUFPLEtBQUssS0FBSyxTQUFTLE9BQU8sT0FBTztBQUFBLE9BQ3pDO0FBQUEsTUFDRCxPQUFPO0FBQUE7QUFBQSxJQUVULFNBQVMsZUFBZSxDQUFDLFNBQVM7QUFBQSxNQUNoQyxJQUFXLFFBQVEsWUFBZixJQUF3QjtBQUFBLFFBQzFCLElBQUksU0FBUyxRQUFRO0FBQUEsUUFDYixVQUFSLFNBQW1CLE9BQU8sUUFBUSxPQUFPLE1BQU0sWUFBWSxJQUFJO0FBQUEsUUFDL0QsU0FBUyxRQUFRO0FBQUEsUUFDakIsSUFBSSxXQUFXLE9BQU87QUFBQSxRQUN0QixTQUFTLEtBQ1AsUUFBUyxDQUFDLGNBQWM7QUFBQSxVQUN0QixJQUFVLFFBQVEsWUFBZCxLQUFnQyxRQUFRLFlBQWYsSUFBd0I7QUFBQSxZQUNuRCxRQUFRLFVBQVU7QUFBQSxZQUNsQixRQUFRLFVBQVU7QUFBQSxZQUNsQixJQUFJLFVBQVUsUUFBUTtBQUFBLFlBQ2QsV0FBUixTQUFvQixRQUFRLE1BQU0sWUFBWSxJQUFJO0FBQUEsWUFDdkMsU0FBUyxXQUFmLGNBQ0QsU0FBUyxTQUFTLGFBQ25CLFNBQVMsUUFBUTtBQUFBLFVBQ3RCO0FBQUEsV0FFRixRQUFTLENBQUMsT0FBTztBQUFBLFVBQ2YsSUFBVSxRQUFRLFlBQWQsS0FBZ0MsUUFBUSxZQUFmLElBQXdCO0FBQUEsWUFDbkQsUUFBUSxVQUFVO0FBQUEsWUFDbEIsUUFBUSxVQUFVO0FBQUEsWUFDbEIsSUFBSSxXQUFXLFFBQVE7QUFBQSxZQUNmLFlBQVIsU0FBcUIsU0FBUyxNQUFNLFlBQVksSUFBSTtBQUFBLFlBQ3pDLFNBQVMsV0FBZixjQUNELFNBQVMsU0FBUyxZQUFjLFNBQVMsU0FBUztBQUFBLFVBQ3hEO0FBQUEsU0FFSjtBQUFBLFFBQ0EsU0FBUyxRQUFRO0FBQUEsUUFDakIsSUFBWSxVQUFSLE1BQWdCO0FBQUEsVUFDbEIsT0FBTyxRQUFRO0FBQUEsVUFDZixJQUFJLGNBQWMsU0FBUztBQUFBLFVBQ2QsT0FBTyxnQkFBcEIsYUFBb0MsT0FBTyxPQUFPO0FBQUEsUUFDcEQ7QUFBQSxRQUNPLFFBQVEsWUFBZixPQUNJLFFBQVEsVUFBVSxHQUFLLFFBQVEsVUFBVTtBQUFBLE1BQy9DO0FBQUEsTUFDQSxJQUFVLFFBQVEsWUFBZDtBQUFBLFFBQ0YsT0FDRyxTQUFTLFFBQVEsU0FDUCxXQUFOLGFBQ0gsUUFBUSxNQUNOO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSwyREFDQSxNQUNGLEdBQ0YsYUFBYSxVQUNYLFFBQVEsTUFDTjtBQUFBO0FBQUE7QUFBQSw0REFDQSxNQUNGLEdBQ0YsT0FBTztBQUFBLE1BRVgsTUFBTSxRQUFRO0FBQUE7QUFBQSxJQUVoQixTQUFTLGlCQUFpQixHQUFHO0FBQUEsTUFDM0IsSUFBSSxhQUFhLHFCQUFxQjtBQUFBLE1BQzdCLGVBQVQsUUFDRSxRQUFRLE1BQ047QUFBQTtBQUFBO0FBQUE7QUFBQSwrRkFDRjtBQUFBLE1BQ0YsT0FBTztBQUFBO0FBQUEsSUFFVCxTQUFTLHNCQUFzQixHQUFHO0FBQUEsTUFDaEMscUJBQXFCO0FBQUE7QUFBQSxJQUV2QixTQUFTLFdBQVcsQ0FBQyxNQUFNO0FBQUEsTUFDekIsSUFBYSxvQkFBVDtBQUFBLFFBQ0YsSUFBSTtBQUFBLFVBQ0YsSUFBSSxpQkFBaUIsWUFBWSxLQUFLLE9BQU8sR0FBRyxNQUFNLEdBQUcsQ0FBQztBQUFBLFVBQzFELG1CQUFtQixVQUFVLE9BQU8sZ0JBQWdCLEtBQ2xELFFBQ0EsUUFDRixFQUFFO0FBQUEsVUFDRixPQUFPLE1BQU07QUFBQSxVQUNiLGtCQUFrQixRQUFTLENBQUMsVUFBVTtBQUFBLFlBQzdCLCtCQUFQLFVBQ0ksNkJBQTZCLE1BQ2YsT0FBTyxtQkFBdkIsZUFDRSxRQUFRLE1BQ04sME5BQ0Y7QUFBQSxZQUNKLElBQUksVUFBVSxJQUFJO0FBQUEsWUFDbEIsUUFBUSxNQUFNLFlBQVk7QUFBQSxZQUMxQixRQUFRLE1BQU0sWUFBaUIsU0FBQztBQUFBO0FBQUE7QUFBQSxNQUd0QyxPQUFPLGdCQUFnQixJQUFJO0FBQUE7QUFBQSxJQUU3QixTQUFTLGVBQWUsQ0FBQyxRQUFRO0FBQUEsTUFDL0IsT0FBTyxJQUFJLE9BQU8sVUFBeUIsT0FBTyxtQkFBdEIsYUFDeEIsSUFBSSxlQUFlLE1BQU0sSUFDekIsT0FBTztBQUFBO0FBQUEsSUFFYixTQUFTLFdBQVcsQ0FBQyxjQUFjLG1CQUFtQjtBQUFBLE1BQ3BELHNCQUFzQixnQkFBZ0IsS0FDcEMsUUFBUSxNQUNOLGtJQUNGO0FBQUEsTUFDRixnQkFBZ0I7QUFBQTtBQUFBLElBRWxCLFNBQVMsNEJBQTRCLENBQUMsYUFBYSxTQUFTLFFBQVE7QUFBQSxNQUNsRSxJQUFJLFFBQVEscUJBQXFCO0FBQUEsTUFDakMsSUFBYSxVQUFUO0FBQUEsUUFDRixJQUFVLE1BQU0sV0FBWjtBQUFBLFVBQ0YsSUFBSTtBQUFBLFlBQ0YsY0FBYyxLQUFLO0FBQUEsWUFDbkIsWUFBWSxRQUFTLEdBQUc7QUFBQSxjQUN0QixPQUFPLDZCQUE2QixhQUFhLFNBQVMsTUFBTTtBQUFBLGFBQ2pFO0FBQUEsWUFDRDtBQUFBLFlBQ0EsT0FBTyxPQUFPO0FBQUEsWUFDZCxxQkFBcUIsYUFBYSxLQUFLLEtBQUs7QUFBQTtBQUFBLFFBRTNDO0FBQUEsK0JBQXFCLFdBQVc7QUFBQSxNQUN2QyxJQUFJLHFCQUFxQixhQUFhLFVBQ2hDLFFBQVEsZ0JBQWdCLHFCQUFxQixZQUFZLEdBQzFELHFCQUFxQixhQUFhLFNBQVMsR0FDNUMsT0FBTyxLQUFLLEtBQ1osUUFBUSxXQUFXO0FBQUE7QUFBQSxJQUV6QixTQUFTLGFBQWEsQ0FBQyxPQUFPO0FBQUEsTUFDNUIsSUFBSSxDQUFDLFlBQVk7QUFBQSxRQUNmLGFBQWE7QUFBQSxRQUNiLElBQUksSUFBSTtBQUFBLFFBQ1IsSUFBSTtBQUFBLFVBQ0YsTUFBTyxJQUFJLE1BQU0sUUFBUSxLQUFLO0FBQUEsWUFDNUIsSUFBSSxXQUFXLE1BQU07QUFBQSxZQUNyQixHQUFHO0FBQUEsY0FDRCxxQkFBcUIsZ0JBQWdCO0FBQUEsY0FDckMsSUFBSSxlQUFlLFNBQVMsS0FBRTtBQUFBLGNBQzlCLElBQWEsaUJBQVQsTUFBdUI7QUFBQSxnQkFDekIsSUFBSSxxQkFBcUIsZUFBZTtBQUFBLGtCQUN0QyxNQUFNLEtBQUs7QUFBQSxrQkFDWCxNQUFNLE9BQU8sR0FBRyxDQUFDO0FBQUEsa0JBQ2pCO0FBQUEsZ0JBQ0Y7QUFBQSxnQkFDQSxXQUFXO0FBQUEsY0FDYixFQUFPO0FBQUE7QUFBQSxZQUNULFNBQVM7QUFBQSxVQUNYO0FBQUEsVUFDQSxNQUFNLFNBQVM7QUFBQSxVQUNmLE9BQU8sT0FBTztBQUFBLFVBQ2QsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLEdBQUcscUJBQXFCLGFBQWEsS0FBSyxLQUFLO0FBQUEsa0JBQ3BFO0FBQUEsVUFDQSxhQUFhO0FBQUE7QUFBQSxNQUVqQjtBQUFBO0FBQUEsSUFFYyxPQUFPLG1DQUF2QixlQUVJLE9BQU8sK0JBQStCLGdDQUR4QyxjQUVBLCtCQUErQiw0QkFBNEIsTUFBTSxDQUFDO0FBQUEsSUFDcEUsSUFBSSxxQkFBcUIsT0FBTyxJQUFJLDRCQUE0QixHQUM5RCxvQkFBb0IsT0FBTyxJQUFJLGNBQWMsR0FDN0Msc0JBQXNCLE9BQU8sSUFBSSxnQkFBZ0IsR0FDakQseUJBQXlCLE9BQU8sSUFBSSxtQkFBbUIsR0FDdkQsc0JBQXNCLE9BQU8sSUFBSSxnQkFBZ0IsR0FDakQsc0JBQXNCLE9BQU8sSUFBSSxnQkFBZ0IsR0FDakQscUJBQXFCLE9BQU8sSUFBSSxlQUFlLEdBQy9DLHlCQUF5QixPQUFPLElBQUksbUJBQW1CLEdBQ3ZELHNCQUFzQixPQUFPLElBQUksZ0JBQWdCLEdBQ2pELDJCQUEyQixPQUFPLElBQUkscUJBQXFCLEdBQzNELGtCQUFrQixPQUFPLElBQUksWUFBWSxHQUN6QyxrQkFBa0IsT0FBTyxJQUFJLFlBQVksR0FDekMsc0JBQXNCLE9BQU8sSUFBSSxnQkFBZ0IsR0FDakQsd0JBQXdCLE9BQU8sVUFDL0IsMENBQTBDLENBQUMsR0FDM0MsdUJBQXVCO0FBQUEsTUFDckIsV0FBVyxRQUFTLEdBQUc7QUFBQSxRQUNyQixPQUFPO0FBQUE7QUFBQSxNQUVULG9CQUFvQixRQUFTLENBQUMsZ0JBQWdCO0FBQUEsUUFDNUMsU0FBUyxnQkFBZ0IsYUFBYTtBQUFBO0FBQUEsTUFFeEMscUJBQXFCLFFBQVMsQ0FBQyxnQkFBZ0I7QUFBQSxRQUM3QyxTQUFTLGdCQUFnQixjQUFjO0FBQUE7QUFBQSxNQUV6QyxpQkFBaUIsUUFBUyxDQUFDLGdCQUFnQjtBQUFBLFFBQ3pDLFNBQVMsZ0JBQWdCLFVBQVU7QUFBQTtBQUFBLElBRXZDLEdBQ0EsU0FBUyxPQUFPLFFBQ2hCLGNBQWMsQ0FBQztBQUFBLElBQ2pCLE9BQU8sT0FBTyxXQUFXO0FBQUEsSUFDekIsVUFBVSxVQUFVLG1CQUFtQixDQUFDO0FBQUEsSUFDeEMsVUFBVSxVQUFVLFdBQVcsUUFBUyxDQUFDLGNBQWMsVUFBVTtBQUFBLE1BQy9ELElBQ2UsT0FBTyxpQkFBcEIsWUFDZSxPQUFPLGlCQUF0QixjQUNRLGdCQUFSO0FBQUEsUUFFQSxNQUFNLE1BQ0osd0dBQ0Y7QUFBQSxNQUNGLEtBQUssUUFBUSxnQkFBZ0IsTUFBTSxjQUFjLFVBQVUsVUFBVTtBQUFBO0FBQUEsSUFFdkUsVUFBVSxVQUFVLGNBQWMsUUFBUyxDQUFDLFVBQVU7QUFBQSxNQUNwRCxLQUFLLFFBQVEsbUJBQW1CLE1BQU0sVUFBVSxhQUFhO0FBQUE7QUFBQSxJQUUvRCxJQUFJLGlCQUFpQjtBQUFBLE1BQ25CLFdBQVc7QUFBQSxRQUNUO0FBQUEsUUFDQTtBQUFBLE1BQ0Y7QUFBQSxNQUNBLGNBQWM7QUFBQSxRQUNaO0FBQUEsUUFDQTtBQUFBLE1BQ0Y7QUFBQSxJQUNGO0FBQUEsSUFDQSxLQUFLLFVBQVU7QUFBQSxNQUNiLGVBQWUsZUFBZSxNQUFNLEtBQ2xDLHlCQUF5QixRQUFRLGVBQWUsT0FBTztBQUFBLElBQzNELGVBQWUsWUFBWSxVQUFVO0FBQUEsSUFDckMsaUJBQWlCLGNBQWMsWUFBWSxJQUFJO0FBQUEsSUFDL0MsZUFBZSxjQUFjO0FBQUEsSUFDN0IsT0FBTyxnQkFBZ0IsVUFBVSxTQUFTO0FBQUEsSUFDMUMsZUFBZSx1QkFBdUI7QUFBQSxJQUN0QyxJQUFJLGNBQWMsTUFBTSxTQUN0Qix5QkFBeUIsT0FBTyxJQUFJLHdCQUF3QixHQUM1RCx1QkFBdUI7QUFBQSxNQUNyQixHQUFHO0FBQUEsTUFDSCxHQUFHO0FBQUEsTUFDSCxHQUFHO0FBQUEsTUFDSCxHQUFHO0FBQUEsTUFDSCxVQUFVO0FBQUEsTUFDVixrQkFBa0I7QUFBQSxNQUNsQixrQkFBa0I7QUFBQSxNQUNsQix5QkFBeUI7QUFBQSxNQUN6QixlQUFlO0FBQUEsTUFDZixjQUFjLENBQUM7QUFBQSxNQUNmLGlCQUFpQjtBQUFBLE1BQ2pCLDRCQUE0QjtBQUFBLElBQzlCLEdBQ0EsaUJBQWlCLE9BQU8sVUFBVSxnQkFDbEMsYUFBYSxRQUFRLGFBQ2pCLFFBQVEsYUFDUixRQUFTLEdBQUc7QUFBQSxNQUNWLE9BQU87QUFBQTtBQUFBLElBRWYsaUJBQWlCO0FBQUEsTUFDZiwwQkFBMEIsUUFBUyxDQUFDLG1CQUFtQjtBQUFBLFFBQ3JELE9BQU8sa0JBQWtCO0FBQUE7QUFBQSxJQUU3QjtBQUFBLElBQ0EsSUFBSSw0QkFBNEI7QUFBQSxJQUNoQyxJQUFJLHlCQUF5QixDQUFDO0FBQUEsSUFDOUIsSUFBSSx5QkFBeUIsZUFBZSx5QkFBeUIsS0FDbkUsZ0JBQ0EsWUFDRixFQUFFO0FBQUEsSUFDRixJQUFJLHdCQUF3QixXQUFXLFlBQVksWUFBWSxDQUFDO0FBQUEsSUFDaEUsSUFBSSxtQkFBbUIsT0FDckIsNkJBQTZCLFFBQzdCLG9CQUNpQixPQUFPLGdCQUF0QixhQUNJLGNBQ0EsUUFBUyxDQUFDLE9BQU87QUFBQSxNQUNmLElBQ2UsT0FBTyxXQUFwQixZQUNlLE9BQU8sT0FBTyxlQUE3QixZQUNBO0FBQUEsUUFDQSxJQUFJLFFBQVEsSUFBSSxPQUFPLFdBQVcsU0FBUztBQUFBLFVBQ3pDLFNBQVM7QUFBQSxVQUNULFlBQVk7QUFBQSxVQUNaLFNBQ2UsT0FBTyxVQUFwQixZQUNTLFVBQVQsUUFDYSxPQUFPLE1BQU0sWUFBMUIsV0FDSSxPQUFPLE1BQU0sT0FBTyxJQUNwQixPQUFPLEtBQUs7QUFBQSxVQUNsQjtBQUFBLFFBQ0YsQ0FBQztBQUFBLFFBQ0QsSUFBSSxDQUFDLE9BQU8sY0FBYyxLQUFLO0FBQUEsVUFBRztBQUFBLE1BQ3BDLEVBQU8sU0FDUSxPQUFPLFlBQXBCLFlBQ2UsT0FBTyxRQUFRLFNBQTlCLFlBQ0E7QUFBQSxRQUNBLFFBQVEsS0FBSyxxQkFBcUIsS0FBSztBQUFBLFFBQ3ZDO0FBQUEsTUFDRjtBQUFBLE1BQ0EsUUFBUSxNQUFNLEtBQUs7QUFBQSxPQUUzQiw2QkFBNkIsT0FDN0Isa0JBQWtCLE1BQ2xCLGdCQUFnQixHQUNoQixvQkFBb0IsT0FDcEIsYUFBYSxPQUNiLHlCQUNpQixPQUFPLG1CQUF0QixhQUNJLFFBQVMsQ0FBQyxVQUFVO0FBQUEsTUFDbEIsZUFBZSxRQUFTLEdBQUc7QUFBQSxRQUN6QixPQUFPLGVBQWUsUUFBUTtBQUFBLE9BQy9CO0FBQUEsUUFFSDtBQUFBLElBQ1IsaUJBQWlCLE9BQU8sT0FBTztBQUFBLE1BQzdCLFdBQVc7QUFBQSxNQUNYLEdBQUcsUUFBUyxDQUFDLE1BQU07QUFBQSxRQUNqQixPQUFPLGtCQUFrQixFQUFFLGFBQWEsSUFBSTtBQUFBO0FBQUEsSUFFaEQsQ0FBQztBQUFBLElBQ0QsSUFBSSxTQUFTO0FBQUEsTUFDWCxLQUFLO0FBQUEsTUFDTCxTQUFTLFFBQVMsQ0FBQyxVQUFVLGFBQWEsZ0JBQWdCO0FBQUEsUUFDeEQsWUFDRSxVQUNBLFFBQVMsR0FBRztBQUFBLFVBQ1YsWUFBWSxNQUFNLE1BQU0sU0FBUztBQUFBLFdBRW5DLGNBQ0Y7QUFBQTtBQUFBLE1BRUYsT0FBTyxRQUFTLENBQUMsVUFBVTtBQUFBLFFBQ3pCLElBQUksSUFBSTtBQUFBLFFBQ1IsWUFBWSxVQUFVLFFBQVMsR0FBRztBQUFBLFVBQ2hDO0FBQUEsU0FDRDtBQUFBLFFBQ0QsT0FBTztBQUFBO0FBQUEsTUFFVCxTQUFTLFFBQVMsQ0FBQyxVQUFVO0FBQUEsUUFDM0IsT0FDRSxZQUFZLFVBQVUsUUFBUyxDQUFDLE9BQU87QUFBQSxVQUNyQyxPQUFPO0FBQUEsU0FDUixLQUFLLENBQUM7QUFBQTtBQUFBLE1BR1gsTUFBTSxRQUFTLENBQUMsVUFBVTtBQUFBLFFBQ3hCLElBQUksQ0FBQyxlQUFlLFFBQVE7QUFBQSxVQUMxQixNQUFNLE1BQ0osdUVBQ0Y7QUFBQSxRQUNGLE9BQU87QUFBQTtBQUFBLElBRVg7QUFBQSxJQUNRLG1CQUFXO0FBQUEsSUFDWCxtQkFBVztBQUFBLElBQ1gsb0JBQVk7QUFBQSxJQUNaLG1CQUFXO0FBQUEsSUFDWCxtQkFBVztBQUFBLElBQ1gsd0JBQWdCO0FBQUEsSUFDaEIscUJBQWE7QUFBQSxJQUNiLG1CQUFXO0FBQUEsSUFDWCwwRUFDTjtBQUFBLElBQ00sNkJBQXFCO0FBQUEsSUFDckIsY0FBTSxRQUFTLENBQUMsVUFBVTtBQUFBLE1BQ2hDLElBQUksZUFBZSxxQkFBcUIsVUFDdEMsb0JBQW9CO0FBQUEsTUFDdEI7QUFBQSxNQUNBLElBQUksUUFBUyxxQkFBcUIsV0FDckIsaUJBQVQsT0FBd0IsZUFBZSxDQUFDLEdBQzFDLGtCQUFrQjtBQUFBLE1BQ3BCLElBQUk7QUFBQSxRQUNGLElBQUksU0FBUyxTQUFTO0FBQUEsUUFDdEIsT0FBTyxPQUFPO0FBQUEsUUFDZCxxQkFBcUIsYUFBYSxLQUFLLEtBQUs7QUFBQTtBQUFBLE1BRTlDLElBQUksSUFBSSxxQkFBcUIsYUFBYTtBQUFBLFFBQ3hDLE1BQ0csWUFBWSxjQUFjLGlCQUFpQixHQUMzQyxXQUFXLGdCQUFnQixxQkFBcUIsWUFBWSxHQUM1RCxxQkFBcUIsYUFBYSxTQUFTLEdBQzVDO0FBQUEsTUFFSixJQUNXLFdBQVQsUUFDYSxPQUFPLFdBQXBCLFlBQ2UsT0FBTyxPQUFPLFNBQTdCLFlBQ0E7QUFBQSxRQUNBLElBQUksV0FBVztBQUFBLFFBQ2YsdUJBQXVCLFFBQVMsR0FBRztBQUFBLFVBQ2pDLG1CQUNFLHNCQUNFLG9CQUFvQixNQUN0QixRQUFRLE1BQ04sbU1BQ0Y7QUFBQSxTQUNIO0FBQUEsUUFDRCxPQUFPO0FBQUEsVUFDTCxNQUFNLFFBQVMsQ0FBQyxTQUFTLFFBQVE7QUFBQSxZQUMvQixrQkFBa0I7QUFBQSxZQUNsQixTQUFTLEtBQ1AsUUFBUyxDQUFDLGFBQWE7QUFBQSxjQUNyQixZQUFZLGNBQWMsaUJBQWlCO0FBQUEsY0FDM0MsSUFBVSxzQkFBTixHQUF5QjtBQUFBLGdCQUMzQixJQUFJO0FBQUEsa0JBQ0YsY0FBYyxLQUFLLEdBQ2pCLFlBQVksUUFBUyxHQUFHO0FBQUEsb0JBQ3RCLE9BQU8sNkJBQ0wsYUFDQSxTQUNBLE1BQ0Y7QUFBQSxtQkFDRDtBQUFBLGtCQUNILE9BQU8sU0FBUztBQUFBLGtCQUNoQixxQkFBcUIsYUFBYSxLQUFLLE9BQU87QUFBQTtBQUFBLGdCQUVoRCxJQUFJLElBQUkscUJBQXFCLGFBQWEsUUFBUTtBQUFBLGtCQUNoRCxJQUFJLGVBQWUsZ0JBQ2pCLHFCQUFxQixZQUN2QjtBQUFBLGtCQUNBLHFCQUFxQixhQUFhLFNBQVM7QUFBQSxrQkFDM0MsT0FBTyxZQUFZO0FBQUEsZ0JBQ3JCO0FBQUEsY0FDRixFQUFPO0FBQUEsd0JBQVEsV0FBVztBQUFBLGVBRTVCLFFBQVMsQ0FBQyxPQUFPO0FBQUEsY0FDZixZQUFZLGNBQWMsaUJBQWlCO0FBQUEsY0FDM0MsSUFBSSxxQkFBcUIsYUFBYSxVQUNoQyxRQUFRLGdCQUNSLHFCQUFxQixZQUN2QixHQUNDLHFCQUFxQixhQUFhLFNBQVMsR0FDNUMsT0FBTyxLQUFLLEtBQ1osT0FBTyxLQUFLO0FBQUEsYUFFcEI7QUFBQTtBQUFBLFFBRUo7QUFBQSxNQUNGO0FBQUEsTUFDQSxJQUFJLHVCQUF1QjtBQUFBLE1BQzNCLFlBQVksY0FBYyxpQkFBaUI7QUFBQSxNQUNyQyxzQkFBTixNQUNHLGNBQWMsS0FBSyxHQUNkLE1BQU0sV0FBWixLQUNFLHVCQUF1QixRQUFTLEdBQUc7QUFBQSxRQUNqQyxtQkFDRSxzQkFDRSxvQkFBb0IsTUFDdEIsUUFBUSxNQUNOLHFNQUNGO0FBQUEsT0FDSCxHQUNGLHFCQUFxQixXQUFXO0FBQUEsTUFDbkMsSUFBSSxJQUFJLHFCQUFxQixhQUFhO0FBQUEsUUFDeEMsTUFDSSxXQUFXLGdCQUFnQixxQkFBcUIsWUFBWSxHQUM3RCxxQkFBcUIsYUFBYSxTQUFTLEdBQzVDO0FBQUEsTUFFSixPQUFPO0FBQUEsUUFDTCxNQUFNLFFBQVMsQ0FBQyxTQUFTLFFBQVE7QUFBQSxVQUMvQixrQkFBa0I7QUFBQSxVQUNaLHNCQUFOLEtBQ00scUJBQXFCLFdBQVcsT0FDbEMsWUFBWSxRQUFTLEdBQUc7QUFBQSxZQUN0QixPQUFPLDZCQUNMLHNCQUNBLFNBQ0EsTUFDRjtBQUFBLFdBQ0QsS0FDRCxRQUFRLG9CQUFvQjtBQUFBO0FBQUEsTUFFcEM7QUFBQTtBQUFBLElBRU0sZ0JBQVEsUUFBUyxDQUFDLElBQUk7QUFBQSxNQUM1QixPQUFPLFFBQVMsR0FBRztBQUFBLFFBQ2pCLE9BQU8sR0FBRyxNQUFNLE1BQU0sU0FBUztBQUFBO0FBQUE7QUFBQSxJQUczQixzQkFBYyxRQUFTLEdBQUc7QUFBQSxNQUNoQyxPQUFPO0FBQUE7QUFBQSxJQUVELDRCQUFvQixRQUFTLEdBQUc7QUFBQSxNQUN0QyxJQUFJLGtCQUFrQixxQkFBcUI7QUFBQSxNQUMzQyxPQUFnQixvQkFBVCxPQUEyQixPQUFPLGdCQUFnQjtBQUFBO0FBQUEsSUFFbkQsdUJBQWUsUUFBUyxDQUFDLFNBQVMsUUFBUSxVQUFVO0FBQUEsTUFDMUQsSUFBYSxZQUFULFFBQStCLFlBQU47QUFBQSxRQUMzQixNQUFNLE1BQ0osMERBQ0UsVUFDQSxHQUNKO0FBQUEsTUFDRixJQUFJLFFBQVEsT0FBTyxDQUFDLEdBQUcsUUFBUSxLQUFLLEdBQ2xDLE1BQU0sUUFBUSxLQUNkLFFBQVEsUUFBUTtBQUFBLE1BQ2xCLElBQVksVUFBUixNQUFnQjtBQUFBLFFBQ2xCLElBQUk7QUFBQSxRQUNKLEdBQUc7QUFBQSxVQUNELElBQ0UsZUFBZSxLQUFLLFFBQVEsS0FBSyxNQUNoQywyQkFBMkIsT0FBTyx5QkFDakMsUUFDQSxLQUNGLEVBQUUsUUFDRix5QkFBeUIsZ0JBQ3pCO0FBQUEsWUFDQSwyQkFBMkI7QUFBQSxZQUMzQjtBQUFBLFVBQ0Y7QUFBQSxVQUNBLDJCQUFzQyxPQUFPLFFBQWI7QUFBQSxRQUNsQztBQUFBLFFBQ0EsNkJBQTZCLFFBQVEsU0FBUztBQUFBLFFBQzlDLFlBQVksTUFBTSxNQUNmLHVCQUF1QixPQUFPLEdBQUcsR0FBSSxNQUFNLEtBQUssT0FBTztBQUFBLFFBQzFELEtBQUssWUFBWTtBQUFBLFVBQ2YsQ0FBQyxlQUFlLEtBQUssUUFBUSxRQUFRLEtBQ3pCLGFBQVYsU0FDYSxhQUFiLFlBQ2UsYUFBZixjQUNXLGFBQVYsU0FBaUMsT0FBTyxRQUFiLGNBQzNCLE1BQU0sWUFBWSxPQUFPO0FBQUEsTUFDaEM7QUFBQSxNQUNBLElBQUksV0FBVyxVQUFVLFNBQVM7QUFBQSxNQUNsQyxJQUFVLGFBQU47QUFBQSxRQUFnQixNQUFNLFdBQVc7QUFBQSxNQUNoQyxTQUFJLElBQUksVUFBVTtBQUFBLFFBQ3JCLDJCQUEyQixNQUFNLFFBQVE7QUFBQSxRQUN6QyxTQUFTLElBQUksRUFBRyxJQUFJLFVBQVU7QUFBQSxVQUM1Qix5QkFBeUIsS0FBSyxVQUFVLElBQUk7QUFBQSxRQUM5QyxNQUFNLFdBQVc7QUFBQSxNQUNuQjtBQUFBLE1BQ0EsUUFBUSxhQUNOLFFBQVEsTUFDUixLQUNBLE9BQ0EsT0FDQSxRQUFRLGFBQ1IsUUFBUSxVQUNWO0FBQUEsTUFDQSxLQUFLLE1BQU0sRUFBRyxNQUFNLFVBQVUsUUFBUTtBQUFBLFFBQ3BDLGtCQUFrQixVQUFVLElBQUk7QUFBQSxNQUNsQyxPQUFPO0FBQUE7QUFBQSxJQUVELHdCQUFnQixRQUFTLENBQUMsY0FBYztBQUFBLE1BQzlDLGVBQWU7QUFBQSxRQUNiLFVBQVU7QUFBQSxRQUNWLGVBQWU7QUFBQSxRQUNmLGdCQUFnQjtBQUFBLFFBQ2hCLGNBQWM7QUFBQSxRQUNkLFVBQVU7QUFBQSxRQUNWLFVBQVU7QUFBQSxNQUNaO0FBQUEsTUFDQSxhQUFhLFdBQVc7QUFBQSxNQUN4QixhQUFhLFdBQVc7QUFBQSxRQUN0QixVQUFVO0FBQUEsUUFDVixVQUFVO0FBQUEsTUFDWjtBQUFBLE1BQ0EsYUFBYSxtQkFBbUI7QUFBQSxNQUNoQyxhQUFhLG9CQUFvQjtBQUFBLE1BQ2pDLE9BQU87QUFBQTtBQUFBLElBRUQsd0JBQWdCLFFBQVMsQ0FBQyxNQUFNLFFBQVEsVUFBVTtBQUFBLE1BQ3hELFNBQVMsSUFBSSxFQUFHLElBQUksVUFBVSxRQUFRO0FBQUEsUUFDcEMsa0JBQWtCLFVBQVUsRUFBRTtBQUFBLE1BQ2hDLElBQUksQ0FBQztBQUFBLE1BQ0wsSUFBSSxNQUFNO0FBQUEsTUFDVixJQUFZLFVBQVI7QUFBQSxRQUNGLEtBQUssWUFBYSw2QkFDaEIsRUFBRSxZQUFZLFdBQ2QsU0FBUyxXQUNQLDRCQUE0QixNQUM5QixRQUFRLEtBQ04sK0tBQ0YsSUFDRixZQUFZLE1BQU0sTUFDZix1QkFBdUIsT0FBTyxHQUFHLEdBQUksTUFBTSxLQUFLLE9BQU8sTUFDMUQ7QUFBQSxVQUNFLGVBQWUsS0FBSyxRQUFRLFFBQVEsS0FDeEIsYUFBVixTQUNhLGFBQWIsWUFDZSxhQUFmLGVBQ0MsRUFBRSxZQUFZLE9BQU87QUFBQSxNQUM1QixJQUFJLGlCQUFpQixVQUFVLFNBQVM7QUFBQSxNQUN4QyxJQUFVLG1CQUFOO0FBQUEsUUFBc0IsRUFBRSxXQUFXO0FBQUEsTUFDbEMsU0FBSSxJQUFJLGdCQUFnQjtBQUFBLFFBQzNCLFNBQ00sYUFBYSxNQUFNLGNBQWMsR0FBRyxLQUFLLEVBQzdDLEtBQUssZ0JBQ0w7QUFBQSxVQUVBLFdBQVcsTUFBTSxVQUFVLEtBQUs7QUFBQSxRQUNsQyxPQUFPLFVBQVUsT0FBTyxPQUFPLFVBQVU7QUFBQSxRQUN6QyxFQUFFLFdBQVc7QUFBQSxNQUNmO0FBQUEsTUFDQSxJQUFJLFFBQVEsS0FBSztBQUFBLFFBQ2YsS0FBSyxZQUFjLGlCQUFpQixLQUFLLGNBQWU7QUFBQSxVQUMzQyxFQUFFLGNBQVIsY0FBc0IsRUFBRSxZQUFZLGVBQWU7QUFBQSxNQUM1RCxPQUNFLDJCQUNFLEdBQ2UsT0FBTyxTQUF0QixhQUNJLEtBQUssZUFBZSxLQUFLLFFBQVEsWUFDakMsSUFDTjtBQUFBLE1BQ0YsSUFBSSxXQUFXLE1BQU0scUJBQXFCO0FBQUEsTUFDMUMsT0FBTyxhQUNMLE1BQ0EsS0FDQSxHQUNBLFNBQVMsR0FDVCxXQUFXLE1BQU0sdUJBQXVCLElBQUksd0JBQzVDLFdBQVcsV0FBVyxZQUFZLElBQUksQ0FBQyxJQUFJLHFCQUM3QztBQUFBO0FBQUEsSUFFTSxvQkFBWSxRQUFTLEdBQUc7QUFBQSxNQUM5QixJQUFJLFlBQVksRUFBRSxTQUFTLEtBQUs7QUFBQSxNQUNoQyxPQUFPLEtBQUssU0FBUztBQUFBLE1BQ3JCLE9BQU87QUFBQTtBQUFBLElBRUQscUJBQWEsUUFBUyxDQUFDLFFBQVE7QUFBQSxNQUM3QixVQUFSLFFBQWtCLE9BQU8sYUFBYSxrQkFDbEMsUUFBUSxNQUNOLHFJQUNGLElBQ2UsT0FBTyxXQUF0QixhQUNFLFFBQVEsTUFDTiwyREFDUyxXQUFULE9BQWtCLFNBQVMsT0FBTyxNQUNwQyxJQUNNLE9BQU8sV0FBYixLQUNNLE9BQU8sV0FBYixLQUNBLFFBQVEsTUFDTixnRkFDTSxPQUFPLFdBQWIsSUFDSSw2Q0FDQSw2Q0FDTjtBQUFBLE1BQ0UsVUFBUixRQUNVLE9BQU8sZ0JBQWYsUUFDQSxRQUFRLE1BQ04sdUdBQ0Y7QUFBQSxNQUNGLElBQUksY0FBYyxFQUFFLFVBQVUsd0JBQXdCLE9BQWUsR0FDbkU7QUFBQSxNQUNGLE9BQU8sZUFBZSxhQUFhLGVBQWU7QUFBQSxRQUNoRCxZQUFZO0FBQUEsUUFDWixjQUFjO0FBQUEsUUFDZCxLQUFLLFFBQVMsR0FBRztBQUFBLFVBQ2YsT0FBTztBQUFBO0FBQUEsUUFFVCxLQUFLLFFBQVMsQ0FBQyxNQUFNO0FBQUEsVUFDbkIsVUFBVTtBQUFBLFVBQ1YsT0FBTyxRQUNMLE9BQU8sZ0JBQ04sT0FBTyxlQUFlLFFBQVEsUUFBUSxFQUFFLE9BQU8sS0FBSyxDQUFDLEdBQ3JELE9BQU8sY0FBYztBQUFBO0FBQUEsTUFFNUIsQ0FBQztBQUFBLE1BQ0QsT0FBTztBQUFBO0FBQUEsSUFFRCx5QkFBaUI7QUFBQSxJQUNqQixlQUFPLFFBQVMsQ0FBQyxNQUFNO0FBQUEsTUFDN0IsT0FBTyxFQUFFLFNBQVMsSUFBSSxTQUFTLEtBQUs7QUFBQSxNQUNwQyxJQUFJLFdBQVc7QUFBQSxRQUNYLFVBQVU7QUFBQSxRQUNWLFVBQVU7QUFBQSxRQUNWLE9BQU87QUFBQSxNQUNULEdBQ0EsU0FBUztBQUFBLFFBQ1AsTUFBTTtBQUFBLFFBQ04sT0FBTztBQUFBLFFBQ1AsS0FBSztBQUFBLFFBQ0wsT0FBTztBQUFBLFFBQ1AsT0FBTztBQUFBLFFBQ1AsWUFBWSxNQUFNLHVCQUF1QjtBQUFBLFFBQ3pDLFdBQVcsUUFBUSxhQUFhLFFBQVEsV0FBVyxRQUFRLElBQUk7QUFBQSxNQUNqRTtBQUFBLE1BQ0YsS0FBSyxVQUFVO0FBQUEsTUFDZixTQUFTLGFBQWEsQ0FBQyxFQUFFLFNBQVMsT0FBTyxDQUFDO0FBQUEsTUFDMUMsT0FBTztBQUFBO0FBQUEsSUFFRCxlQUFPLFFBQVMsQ0FBQyxNQUFNLFNBQVM7QUFBQSxNQUM5QixRQUFSLFFBQ0UsUUFBUSxNQUNOLHNFQUNTLFNBQVQsT0FBZ0IsU0FBUyxPQUFPLElBQ2xDO0FBQUEsTUFDRixVQUFVO0FBQUEsUUFDUixVQUFVO0FBQUEsUUFDVjtBQUFBLFFBQ0EsU0FBb0IsWUFBTixZQUFnQixPQUFPO0FBQUEsTUFDdkM7QUFBQSxNQUNBLElBQUk7QUFBQSxNQUNKLE9BQU8sZUFBZSxTQUFTLGVBQWU7QUFBQSxRQUM1QyxZQUFZO0FBQUEsUUFDWixjQUFjO0FBQUEsUUFDZCxLQUFLLFFBQVMsR0FBRztBQUFBLFVBQ2YsT0FBTztBQUFBO0FBQUEsUUFFVCxLQUFLLFFBQVMsQ0FBQyxNQUFNO0FBQUEsVUFDbkIsVUFBVTtBQUFBLFVBQ1YsS0FBSyxRQUNILEtBQUssZ0JBQ0osT0FBTyxlQUFlLE1BQU0sUUFBUSxFQUFFLE9BQU8sS0FBSyxDQUFDLEdBQ25ELEtBQUssY0FBYztBQUFBO0FBQUEsTUFFMUIsQ0FBQztBQUFBLE1BQ0QsT0FBTztBQUFBO0FBQUEsSUFFRCwwQkFBa0IsUUFBUyxDQUFDLE9BQU87QUFBQSxNQUN6QyxJQUFJLGlCQUFpQixxQkFBcUIsR0FDeEMsb0JBQW9CLENBQUM7QUFBQSxNQUN2QixrQkFBa0IsaUJBQWlCLElBQUk7QUFBQSxNQUN2QyxxQkFBcUIsSUFBSTtBQUFBLE1BQ3pCLElBQUk7QUFBQSxRQUNGLElBQUksY0FBYyxNQUFNLEdBQ3RCLDBCQUEwQixxQkFBcUI7QUFBQSxRQUN4Qyw0QkFBVCxRQUNFLHdCQUF3QixtQkFBbUIsV0FBVztBQUFBLFFBQzNDLE9BQU8sZ0JBQXBCLFlBQ1csZ0JBQVQsUUFDZSxPQUFPLFlBQVksU0FBbEMsZUFDQyxxQkFBcUIsb0JBQ3RCLFlBQVksS0FBSyx3QkFBd0Isc0JBQXNCLEdBQy9ELFlBQVksS0FBSyxNQUFNLGlCQUFpQjtBQUFBLFFBQzFDLE9BQU8sT0FBTztBQUFBLFFBQ2Qsa0JBQWtCLEtBQUs7QUFBQSxnQkFDdkI7QUFBQSxRQUNTLG1CQUFULFFBQ0Usa0JBQWtCLG1CQUNoQixRQUFRLGtCQUFrQixlQUFlLE1BQzNDLGtCQUFrQixlQUFlLE1BQU0sR0FDdkMsS0FBSyxTQUNILFFBQVEsS0FDTixxTUFDRixJQUNPLG1CQUFULFFBQ1csa0JBQWtCLFVBQTNCLFNBQ1UsZUFBZSxVQUF4QixRQUNDLGVBQWUsVUFBVSxrQkFBa0IsU0FDM0MsUUFBUSxNQUNOLHNLQUNGLEdBQ0QsZUFBZSxRQUFRLGtCQUFrQixRQUMzQyxxQkFBcUIsSUFBSTtBQUFBO0FBQUE7QUFBQSxJQUd4QixtQ0FBMkIsUUFBUyxHQUFHO0FBQUEsTUFDN0MsT0FBTyxrQkFBa0IsRUFBRSxnQkFBZ0I7QUFBQTtBQUFBLElBRXJDLGNBQU0sUUFBUyxDQUFDLFFBQVE7QUFBQSxNQUM5QixPQUFPLGtCQUFrQixFQUFFLElBQUksTUFBTTtBQUFBO0FBQUEsSUFFL0IseUJBQWlCLFFBQVMsQ0FBQyxRQUFRLGNBQWMsV0FBVztBQUFBLE1BQ2xFLE9BQU8sa0JBQWtCLEVBQUUsZUFDekIsUUFDQSxjQUNBLFNBQ0Y7QUFBQTtBQUFBLElBRU0sc0JBQWMsUUFBUyxDQUFDLFVBQVUsTUFBTTtBQUFBLE1BQzlDLE9BQU8sa0JBQWtCLEVBQUUsWUFBWSxVQUFVLElBQUk7QUFBQTtBQUFBLElBRS9DLHFCQUFhLFFBQVMsQ0FBQyxTQUFTO0FBQUEsTUFDdEMsSUFBSSxhQUFhLGtCQUFrQjtBQUFBLE1BQ25DLFFBQVEsYUFBYSx1QkFDbkIsUUFBUSxNQUNOLDhIQUNGO0FBQUEsTUFDRixPQUFPLFdBQVcsV0FBVyxPQUFPO0FBQUE7QUFBQSxJQUU5Qix3QkFBZ0IsUUFBUyxDQUFDLE9BQU8sYUFBYTtBQUFBLE1BQ3BELE9BQU8sa0JBQWtCLEVBQUUsY0FBYyxPQUFPLFdBQVc7QUFBQTtBQUFBLElBRXJELDJCQUFtQixRQUFTLENBQUMsT0FBTyxjQUFjO0FBQUEsTUFDeEQsT0FBTyxrQkFBa0IsRUFBRSxpQkFBaUIsT0FBTyxZQUFZO0FBQUE7QUFBQSxJQUV6RCxvQkFBWSxRQUFTLENBQUMsUUFBUSxNQUFNO0FBQUEsTUFDbEMsVUFBUixRQUNFLFFBQVEsS0FDTixrR0FDRjtBQUFBLE1BQ0YsT0FBTyxrQkFBa0IsRUFBRSxVQUFVLFFBQVEsSUFBSTtBQUFBO0FBQUEsSUFFM0MseUJBQWlCLFFBQVMsQ0FBQyxVQUFVO0FBQUEsTUFDM0MsT0FBTyxrQkFBa0IsRUFBRSxlQUFlLFFBQVE7QUFBQTtBQUFBLElBRTVDLGdCQUFRLFFBQVMsR0FBRztBQUFBLE1BQzFCLE9BQU8sa0JBQWtCLEVBQUUsTUFBTTtBQUFBO0FBQUEsSUFFM0IsOEJBQXNCLFFBQVMsQ0FBQyxLQUFLLFFBQVEsTUFBTTtBQUFBLE1BQ3pELE9BQU8sa0JBQWtCLEVBQUUsb0JBQW9CLEtBQUssUUFBUSxJQUFJO0FBQUE7QUFBQSxJQUUxRCw2QkFBcUIsUUFBUyxDQUFDLFFBQVEsTUFBTTtBQUFBLE1BQzNDLFVBQVIsUUFDRSxRQUFRLEtBQ04sMkdBQ0Y7QUFBQSxNQUNGLE9BQU8sa0JBQWtCLEVBQUUsbUJBQW1CLFFBQVEsSUFBSTtBQUFBO0FBQUEsSUFFcEQsMEJBQWtCLFFBQVMsQ0FBQyxRQUFRLE1BQU07QUFBQSxNQUN4QyxVQUFSLFFBQ0UsUUFBUSxLQUNOLHdHQUNGO0FBQUEsTUFDRixPQUFPLGtCQUFrQixFQUFFLGdCQUFnQixRQUFRLElBQUk7QUFBQTtBQUFBLElBRWpELGtCQUFVLFFBQVMsQ0FBQyxRQUFRLE1BQU07QUFBQSxNQUN4QyxPQUFPLGtCQUFrQixFQUFFLFFBQVEsUUFBUSxJQUFJO0FBQUE7QUFBQSxJQUV6Qyx3QkFBZ0IsUUFBUyxDQUFDLGFBQWEsU0FBUztBQUFBLE1BQ3RELE9BQU8sa0JBQWtCLEVBQUUsY0FBYyxhQUFhLE9BQU87QUFBQTtBQUFBLElBRXZELHFCQUFhLFFBQVMsQ0FBQyxTQUFTLFlBQVksTUFBTTtBQUFBLE1BQ3hELE9BQU8sa0JBQWtCLEVBQUUsV0FBVyxTQUFTLFlBQVksSUFBSTtBQUFBO0FBQUEsSUFFekQsaUJBQVMsUUFBUyxDQUFDLGNBQWM7QUFBQSxNQUN2QyxPQUFPLGtCQUFrQixFQUFFLE9BQU8sWUFBWTtBQUFBO0FBQUEsSUFFeEMsbUJBQVcsUUFBUyxDQUFDLGNBQWM7QUFBQSxNQUN6QyxPQUFPLGtCQUFrQixFQUFFLFNBQVMsWUFBWTtBQUFBO0FBQUEsSUFFMUMsK0JBQXVCLFFBQVMsQ0FDdEMsV0FDQSxhQUNBLG1CQUNBO0FBQUEsTUFDQSxPQUFPLGtCQUFrQixFQUFFLHFCQUN6QixXQUNBLGFBQ0EsaUJBQ0Y7QUFBQTtBQUFBLElBRU0sd0JBQWdCLFFBQVMsR0FBRztBQUFBLE1BQ2xDLE9BQU8sa0JBQWtCLEVBQUUsY0FBYztBQUFBO0FBQUEsSUFFbkMsa0JBQVU7QUFBQSxJQUNGLE9BQU8sbUNBQXZCLGVBRUksT0FBTywrQkFBK0IsK0JBRHhDLGNBRUEsK0JBQStCLDJCQUEyQixNQUFNLENBQUM7QUFBQSxLQUNsRTtBQUFBOzs7O0VDOXZDc0I7QUFBQSxFQUgzQixJQUFJLE9BQXVDLENBRTNDLEVBQU87QUFBQSxJQUNMLE9BQU8sVUFBa0I7QUFBQTtBQUFBOzs7O0VDOEVIO0FBQUEsR0F2RXJCLFFBQVMsR0FBRztBQUFBLElBQ1gsU0FBUyxJQUFJLEdBQUc7QUFBQSxJQUNoQixTQUFTLGtCQUFrQixDQUFDLE9BQU87QUFBQSxNQUNqQyxPQUFPLEtBQUs7QUFBQTtBQUFBLElBRWQsU0FBUyxjQUFjLENBQUMsVUFBVSxlQUFlLGdCQUFnQjtBQUFBLE1BQy9ELElBQUksTUFDRixJQUFJLFVBQVUsVUFBcUIsVUFBVSxPQUFoQixZQUFxQixVQUFVLEtBQUs7QUFBQSxNQUNuRSxJQUFJO0FBQUEsUUFDRixtQkFBbUIsR0FBRztBQUFBLFFBQ3RCLElBQUksMkJBQTJCO0FBQUEsUUFDL0IsT0FBTyxHQUFHO0FBQUEsUUFDViwyQkFBMkI7QUFBQTtBQUFBLE1BRTdCLDZCQUNHLFFBQVEsTUFDUCw0R0FDZ0IsT0FBTyxXQUF0QixjQUNDLE9BQU8sZUFDUCxJQUFJLE9BQU8sZ0JBQ1gsSUFBSSxZQUFZLFFBQ2hCLFFBQ0osR0FDQSxtQkFBbUIsR0FBRztBQUFBLE1BQ3hCLE9BQU87QUFBQSxRQUNMLFVBQVU7QUFBQSxRQUNWLEtBQWEsT0FBUixPQUFjLE9BQU8sS0FBSztBQUFBLFFBQy9CO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxNQUNGO0FBQUE7QUFBQSxJQUVGLFNBQVMsc0JBQXNCLENBQUMsSUFBSSxPQUFPO0FBQUEsTUFDekMsSUFBZSxPQUFYO0FBQUEsUUFBZSxPQUFPO0FBQUEsTUFDMUIsSUFBaUIsT0FBTyxVQUFwQjtBQUFBLFFBQ0YsT0FBNkIsVUFBdEIsb0JBQThCLFFBQVE7QUFBQTtBQUFBLElBRWpELFNBQVMsMkNBQTJDLENBQUMsT0FBTztBQUFBLE1BQzFELE9BQWdCLFVBQVQsT0FDSCxXQUNXLFVBQU4sWUFDSCxnQkFDTyxVQUFQLEtBQ0Usb0JBQ0EsMEJBQTBCLE9BQU8sUUFBUTtBQUFBO0FBQUEsSUFFbkQsU0FBUyx5Q0FBeUMsQ0FBQyxPQUFPO0FBQUEsTUFDeEQsT0FBZ0IsVUFBVCxPQUNILFdBQ1csVUFBTixZQUNILGdCQUNPLFVBQVAsS0FDRSxvQkFDYSxPQUFPLFVBQXBCLFdBQ0UsS0FBSyxVQUFVLEtBQUssSUFDUCxPQUFPLFVBQXBCLFdBQ0UsTUFBTSxRQUFRLE1BQ2QsMEJBQTBCLE9BQU8sUUFBUTtBQUFBO0FBQUEsSUFFdkQsU0FBUyxpQkFBaUIsR0FBRztBQUFBLE1BQzNCLElBQUksYUFBYSxxQkFBcUI7QUFBQSxNQUM3QixlQUFULFFBQ0UsUUFBUSxNQUNOO0FBQUE7QUFBQTtBQUFBO0FBQUEsK0ZBQ0Y7QUFBQSxNQUNGLE9BQU87QUFBQTtBQUFBLElBRU8sT0FBTyxtQ0FBdkIsZUFFSSxPQUFPLCtCQUErQixnQ0FEeEMsY0FFQSwrQkFBK0IsNEJBQTRCLE1BQU0sQ0FBQztBQUFBLElBQ3BFLElBQ0UsWUFBWTtBQUFBLE1BQ1YsR0FBRztBQUFBLFFBQ0QsR0FBRztBQUFBLFFBQ0gsR0FBRyxRQUFTLEdBQUc7QUFBQSxVQUNiLE1BQU0sTUFDSiwwRkFDRjtBQUFBO0FBQUEsUUFFRixHQUFHO0FBQUEsUUFDSCxHQUFHO0FBQUEsUUFDSCxHQUFHO0FBQUEsUUFDSCxHQUFHO0FBQUEsUUFDSCxHQUFHO0FBQUEsUUFDSCxHQUFHO0FBQUEsUUFDSCxHQUFHO0FBQUEsTUFDTDtBQUFBLE1BQ0EsR0FBRztBQUFBLE1BQ0gsYUFBYTtBQUFBLElBQ2YsR0FDQSxvQkFBb0IsT0FBTyxJQUFJLGNBQWMsR0FDN0MsdUJBQ1E7QUFBQSxJQUNNLE9BQU8sUUFBdEIsY0FDUyxJQUFJLGFBQVosUUFDZSxPQUFPLElBQUksVUFBVSxZQUFwQyxjQUNlLE9BQU8sUUFBdEIsY0FDUSxJQUFJLGFBQVosUUFDZSxPQUFPLElBQUksVUFBVSxVQUFwQyxjQUNlLE9BQU8sSUFBSSxVQUFVLFlBQXBDLGNBQ0EsUUFBUSxNQUNOLDZJQUNGO0FBQUEsSUFDTSx1RUFDTjtBQUFBLElBQ00sdUJBQWUsUUFBUyxDQUFDLFVBQVUsV0FBVztBQUFBLE1BQ3BELElBQUksTUFDRixJQUFJLFVBQVUsVUFBcUIsVUFBVSxPQUFoQixZQUFxQixVQUFVLEtBQUs7QUFBQSxNQUNuRSxJQUNFLENBQUMsYUFDTSxVQUFVLGFBQWhCLEtBQ08sVUFBVSxhQUFoQixLQUNPLFVBQVUsYUFBakI7QUFBQSxRQUVGLE1BQU0sTUFBTSx3Q0FBd0M7QUFBQSxNQUN0RCxPQUFPLGVBQWUsVUFBVSxXQUFXLE1BQU0sR0FBRztBQUFBO0FBQUEsSUFFOUMsb0JBQVksUUFBUyxDQUFDLElBQUk7QUFBQSxNQUNoQyxJQUFJLHFCQUFxQixxQkFBcUIsR0FDNUMseUJBQXlCLFVBQVU7QUFBQSxNQUNyQyxJQUFJO0FBQUEsUUFDRixJQUFNLHFCQUFxQixJQUFJLE1BQVEsVUFBVSxJQUFJLEdBQUk7QUFBQSxVQUN2RCxPQUFPLEdBQUc7QUFBQSxnQkFDWjtBQUFBLFFBQ0MscUJBQXFCLElBQUksb0JBQ3ZCLFVBQVUsSUFBSSx3QkFDZixVQUFVLEVBQUUsRUFBRSxLQUNaLFFBQVEsTUFDTix1S0FDRjtBQUFBO0FBQUE7QUFBQSxJQUdBLHFCQUFhLFFBQVMsQ0FBQyxNQUFNLFNBQVM7QUFBQSxNQUMvQixPQUFPLFNBQXBCLFlBQTRCLE9BQ2hCLFdBQVIsUUFBZ0MsT0FBTyxZQUFwQixXQUNqQixRQUFRLE1BQ04sK0xBQ0EsMENBQTBDLE9BQU8sQ0FDbkQsSUFDUSxXQUFSLFFBQ2EsT0FBTyxRQUFRLGdCQUE1QixZQUNBLFFBQVEsTUFDTixxTEFDQSw0Q0FBNEMsUUFBUSxXQUFXLENBQ2pFLElBQ0YsUUFBUSxNQUNOLG9IQUNBLDRDQUE0QyxJQUFJLENBQ2xEO0FBQUEsTUFDUyxPQUFPLFNBQXBCLGFBQ0csV0FDSyxVQUFVLFFBQVEsYUFDbkIsVUFDYyxPQUFPLFlBQXBCLFdBQzBCLFlBQXRCLG9CQUNFLFVBQ0EsS0FDRyxhQUNWLFVBQVUsTUFDZixVQUFVLEVBQUUsRUFBRSxNQUFNLE9BQU87QUFBQTtBQUFBLElBRXZCLHNCQUFjLFFBQVMsQ0FBQyxNQUFNO0FBQUEsTUFDcEMsSUFBaUIsT0FBTyxTQUFwQixZQUE0QixDQUFDO0FBQUEsUUFDL0IsUUFBUSxNQUNOLHFIQUNBLDRDQUE0QyxJQUFJLENBQ2xEO0FBQUEsTUFDRyxTQUFJLElBQUksVUFBVSxRQUFRO0FBQUEsUUFDN0IsSUFBSSxVQUFVLFVBQVU7QUFBQSxRQUNYLE9BQU8sWUFBcEIsWUFBK0IsUUFBUSxlQUFlLGFBQWEsSUFDL0QsUUFBUSxNQUNOLG9kQUNBLDBDQUEwQyxPQUFPLENBQ25ELElBQ0EsUUFBUSxNQUNOLHlRQUNBLDBDQUEwQyxPQUFPLENBQ25EO0FBQUEsTUFDTjtBQUFBLE1BQ2EsT0FBTyxTQUFwQixZQUE0QixVQUFVLEVBQUUsRUFBRSxJQUFJO0FBQUE7QUFBQSxJQUV4QyxrQkFBVSxRQUFTLENBQUMsTUFBTSxTQUFTO0FBQUEsTUFDNUIsT0FBTyxTQUFwQixZQUE0QixPQUNoQixXQUFSLFFBQWdDLE9BQU8sWUFBcEIsV0FDakIsUUFBUSxNQUNOLHVMQUNBLDBDQUEwQyxPQUFPLENBQ25ELElBQ1ksUUFBUSxPQUFwQixXQUNhLFFBQVEsT0FBckIsWUFDQSxRQUFRLE1BQ04sK09BQ0EsMENBQTBDLFFBQVEsRUFBRSxDQUN0RCxJQUNGLFFBQVEsTUFDTixpSEFDQSw0Q0FBNEMsSUFBSSxDQUNsRDtBQUFBLE1BQ0osSUFDZSxPQUFPLFNBQXBCLFlBQ0EsV0FDYSxPQUFPLFFBQVEsT0FBNUIsVUFDQTtBQUFBLFFBQ0EsSUFBSSxLQUFLLFFBQVEsSUFDZixjQUFjLHVCQUF1QixJQUFJLFFBQVEsV0FBVyxHQUM1RCxZQUNlLE9BQU8sUUFBUSxjQUE1QixXQUF3QyxRQUFRLFlBQWlCLFdBQ25FLGdCQUNlLE9BQU8sUUFBUSxrQkFBNUIsV0FDSSxRQUFRLGdCQUNIO0FBQUEsUUFDRCxPQUFaLFVBQ0ksVUFBVSxFQUFFLEVBQ1YsTUFDYSxPQUFPLFFBQVEsZUFBNUIsV0FDSSxRQUFRLGFBQ0gsV0FDVDtBQUFBLFVBQ0U7QUFBQSxVQUNBO0FBQUEsVUFDQTtBQUFBLFFBQ0YsQ0FDRixJQUNhLE9BQWIsWUFDQSxVQUFVLEVBQUUsRUFBRSxNQUFNO0FBQUEsVUFDbEI7QUFBQSxVQUNBO0FBQUEsVUFDQTtBQUFBLFVBQ0EsT0FBb0IsT0FBTyxRQUFRLFVBQTVCLFdBQW9DLFFBQVEsUUFBYTtBQUFBLFFBQ2xFLENBQUM7QUFBQSxNQUNQO0FBQUE7QUFBQSxJQUVNLHdCQUFnQixRQUFTLENBQUMsTUFBTSxTQUFTO0FBQUEsTUFDL0MsSUFBSSxjQUFjO0FBQUEsTUFDSixPQUFPLFNBQXBCLFlBQTRCLFNBQzFCLGVBQ0MsMENBQ0EsNENBQTRDLElBQUksSUFDaEQ7QUFBQSxNQUNPLFlBQU4sYUFBOEIsT0FBTyxZQUFwQixXQUNqQixlQUNDLDZDQUNBLDRDQUE0QyxPQUFPLElBQ25ELE1BQ0YsWUFDQSxRQUFRLFlBQ0ssUUFBUSxPQUFyQixhQUNDLGVBQ0Msc0NBQ0EsMENBQTBDLFFBQVEsRUFBRSxJQUNwRDtBQUFBLE1BQ04sSUFBSTtBQUFBLFFBQ0YsUUFBUSxNQUNOLHdKQUNBLFdBQ0Y7QUFBQSxNQUVBO0FBQUEsZ0JBQ0ksY0FDQSxXQUF3QixPQUFPLFFBQVEsT0FBNUIsV0FBaUMsUUFBUSxLQUFLLFVBQzNEO0FBQUEsZUFFSztBQUFBLFlBQ0g7QUFBQTtBQUFBLFlBRUMsY0FDQywwQ0FBMEMsV0FBVyxHQUNyRCxRQUFRLE1BQ04saVZBQ0EsYUFDQSxJQUNGO0FBQUE7QUFBQSxNQUVSLElBQWlCLE9BQU8sU0FBcEI7QUFBQSxRQUNGLElBQWlCLE9BQU8sWUFBcEIsWUFBd0MsWUFBVCxNQUFrQjtBQUFBLFVBQ25ELElBQVksUUFBUSxNQUFoQixRQUFtQyxRQUFRLE9BQXJCO0FBQUEsWUFDdkIsY0FBYyx1QkFDYixRQUFRLElBQ1IsUUFBUSxXQUNWLEdBQ0UsVUFBVSxFQUFFLEVBQUUsTUFBTTtBQUFBLGNBQ2xCLGFBQWE7QUFBQSxjQUNiLFdBQ2UsT0FBTyxRQUFRLGNBQTVCLFdBQ0ksUUFBUSxZQUNIO0FBQUEsY0FDWCxPQUNlLE9BQU8sUUFBUSxVQUE1QixXQUFvQyxRQUFRLFFBQWE7QUFBQSxZQUM3RCxDQUFDO0FBQUEsUUFDUCxFQUFPO0FBQUEsVUFBUSxXQUFSLFFBQW1CLFVBQVUsRUFBRSxFQUFFLElBQUk7QUFBQTtBQUFBLElBRXhDLGtCQUFVLFFBQVMsQ0FBQyxNQUFNLFNBQVM7QUFBQSxNQUN6QyxJQUFJLGNBQWM7QUFBQSxNQUNKLE9BQU8sU0FBcEIsWUFBNEIsU0FDMUIsZUFDQywwQ0FDQSw0Q0FBNEMsSUFBSSxJQUNoRDtBQUFBLE1BQ0ksV0FBUixRQUFnQyxPQUFPLFlBQXBCLFdBQ2QsZUFDQyw2Q0FDQSw0Q0FBNEMsT0FBTyxJQUNuRCxNQUNZLE9BQU8sUUFBUSxPQUE1QixZQUFrQyxRQUFRLE9BQzFDLGVBQ0Msc0NBQ0EsNENBQTRDLFFBQVEsRUFBRSxJQUN0RDtBQUFBLE1BQ04sZUFDRSxRQUFRLE1BQ04sNEtBQ0EsV0FDRjtBQUFBLE1BQ0YsSUFDZSxPQUFPLFNBQXBCLFlBQ2EsT0FBTyxZQUFwQixZQUNTLFlBQVQsUUFDYSxPQUFPLFFBQVEsT0FBNUIsVUFDQTtBQUFBLFFBQ0EsY0FBYyxRQUFRO0FBQUEsUUFDdEIsSUFBSSxjQUFjLHVCQUNoQixhQUNBLFFBQVEsV0FDVjtBQUFBLFFBQ0EsVUFBVSxFQUFFLEVBQUUsTUFBTSxhQUFhO0FBQUEsVUFDL0I7QUFBQSxVQUNBLFdBQ2UsT0FBTyxRQUFRLGNBQTVCLFdBQXdDLFFBQVEsWUFBaUI7QUFBQSxVQUNuRSxPQUFvQixPQUFPLFFBQVEsVUFBNUIsV0FBb0MsUUFBUSxRQUFhO0FBQUEsVUFDaEUsTUFBbUIsT0FBTyxRQUFRLFNBQTVCLFdBQW1DLFFBQVEsT0FBWTtBQUFBLFVBQzdELGVBQ2UsT0FBTyxRQUFRLGtCQUE1QixXQUNJLFFBQVEsZ0JBQ0g7QUFBQSxVQUNYLGdCQUNlLE9BQU8sUUFBUSxtQkFBNUIsV0FDSSxRQUFRLGlCQUNIO0FBQUEsVUFDWCxhQUNlLE9BQU8sUUFBUSxnQkFBNUIsV0FDSSxRQUFRLGNBQ0g7QUFBQSxVQUNYLFlBQ2UsT0FBTyxRQUFRLGVBQTVCLFdBQ0ksUUFBUSxhQUNIO0FBQUEsVUFDWCxPQUFvQixPQUFPLFFBQVEsVUFBNUIsV0FBb0MsUUFBUSxRQUFhO0FBQUEsUUFDbEUsQ0FBQztBQUFBLE1BQ0g7QUFBQTtBQUFBLElBRU0sd0JBQWdCLFFBQVMsQ0FBQyxNQUFNLFNBQVM7QUFBQSxNQUMvQyxJQUFJLGNBQWM7QUFBQSxNQUNKLE9BQU8sU0FBcEIsWUFBNEIsU0FDMUIsZUFDQywwQ0FDQSw0Q0FBNEMsSUFBSSxJQUNoRDtBQUFBLE1BQ08sWUFBTixhQUE4QixPQUFPLFlBQXBCLFdBQ2pCLGVBQ0MsNkNBQ0EsNENBQTRDLE9BQU8sSUFDbkQsTUFDRixZQUNBLFFBQVEsWUFDSyxPQUFPLFFBQVEsT0FBNUIsYUFDQyxlQUNDLHNDQUNBLDRDQUE0QyxRQUFRLEVBQUUsSUFDdEQ7QUFBQSxNQUNOLGVBQ0UsUUFBUSxNQUNOLHFNQUNBLFdBQ0Y7QUFBQSxNQUNXLE9BQU8sU0FBcEIsYUFDRyxXQUNLLGNBQWMsdUJBQ2QsUUFBUSxJQUNSLFFBQVEsV0FDVixHQUNBLFVBQVUsRUFBRSxFQUFFLE1BQU07QUFBQSxRQUNsQixJQUNlLE9BQU8sUUFBUSxPQUE1QixZQUErQyxRQUFRLE9BQXJCLFdBQzlCLFFBQVEsS0FDSDtBQUFBLFFBQ1gsYUFBYTtBQUFBLFFBQ2IsV0FDZSxPQUFPLFFBQVEsY0FBNUIsV0FDSSxRQUFRLFlBQ0g7QUFBQSxNQUNiLENBQUMsS0FDRCxVQUFVLEVBQUUsRUFBRSxJQUFJO0FBQUE7QUFBQSxJQUVsQiwyQkFBbUIsUUFBUyxDQUFDLE1BQU07QUFBQSxNQUN6QyxVQUFVLEVBQUUsRUFBRSxJQUFJO0FBQUE7QUFBQSxJQUVaLGtDQUEwQixRQUFTLENBQUMsSUFBSSxHQUFHO0FBQUEsTUFDakQsT0FBTyxHQUFHLENBQUM7QUFBQTtBQUFBLElBRUwsdUJBQWUsUUFBUyxDQUFDLFFBQVEsY0FBYyxXQUFXO0FBQUEsTUFDaEUsT0FBTyxrQkFBa0IsRUFBRSxhQUFhLFFBQVEsY0FBYyxTQUFTO0FBQUE7QUFBQSxJQUVqRSx3QkFBZ0IsUUFBUyxHQUFHO0FBQUEsTUFDbEMsT0FBTyxrQkFBa0IsRUFBRSx3QkFBd0I7QUFBQTtBQUFBLElBRTdDLGtCQUFVO0FBQUEsSUFDRixPQUFPLG1DQUF2QixlQUVJLE9BQU8sK0JBQStCLCtCQUR4QyxjQUVBLCtCQUErQiwyQkFBMkIsTUFBTSxDQUFDO0FBQUEsS0FDbEU7QUFBQTs7OztFQ25Zc0I7QUFBQSxFQU4zQixJQUFJLE9BQXVDLENBSzNDLEVBQU87QUFBQSxJQUNMLE9BQU8sVUFBa0I7QUFBQTtBQUFBOzs7O0VDdkIzQixJQUFJLE1BQXVDO0FBQUEsS0FDeEMsUUFBUSxHQUFHO0FBQUEsTUFLZCxJQUFJLFlBQVksT0FBTyxXQUFXLGNBQWMsT0FBTztBQUFBLE1BQ3ZELElBQUkscUJBQXFCLFlBQVksT0FBTyxJQUFJLGVBQWUsSUFBSTtBQUFBLE1BQ25FLElBQUksb0JBQW9CLFlBQVksT0FBTyxJQUFJLGNBQWMsSUFBSTtBQUFBLE1BQ2pFLElBQUksc0JBQXNCLFlBQVksT0FBTyxJQUFJLGdCQUFnQixJQUFJO0FBQUEsTUFDckUsSUFBSSx5QkFBeUIsWUFBWSxPQUFPLElBQUksbUJBQW1CLElBQUk7QUFBQSxNQUMzRSxJQUFJLHNCQUFzQixZQUFZLE9BQU8sSUFBSSxnQkFBZ0IsSUFBSTtBQUFBLE1BQ3JFLElBQUksc0JBQXNCLFlBQVksT0FBTyxJQUFJLGdCQUFnQixJQUFJO0FBQUEsTUFDckUsSUFBSSxxQkFBcUIsWUFBWSxPQUFPLElBQUksZUFBZSxJQUFJO0FBQUEsTUFHbkUsSUFBSSx3QkFBd0IsWUFBWSxPQUFPLElBQUksa0JBQWtCLElBQUk7QUFBQSxNQUN6RSxJQUFJLDZCQUE2QixZQUFZLE9BQU8sSUFBSSx1QkFBdUIsSUFBSTtBQUFBLE1BQ25GLElBQUkseUJBQXlCLFlBQVksT0FBTyxJQUFJLG1CQUFtQixJQUFJO0FBQUEsTUFDM0UsSUFBSSxzQkFBc0IsWUFBWSxPQUFPLElBQUksZ0JBQWdCLElBQUk7QUFBQSxNQUNyRSxJQUFJLDJCQUEyQixZQUFZLE9BQU8sSUFBSSxxQkFBcUIsSUFBSTtBQUFBLE1BQy9FLElBQUksa0JBQWtCLFlBQVksT0FBTyxJQUFJLFlBQVksSUFBSTtBQUFBLE1BQzdELElBQUksa0JBQWtCLFlBQVksT0FBTyxJQUFJLFlBQVksSUFBSTtBQUFBLE1BQzdELElBQUksbUJBQW1CLFlBQVksT0FBTyxJQUFJLGFBQWEsSUFBSTtBQUFBLE1BQy9ELElBQUkseUJBQXlCLFlBQVksT0FBTyxJQUFJLG1CQUFtQixJQUFJO0FBQUEsTUFDM0UsSUFBSSx1QkFBdUIsWUFBWSxPQUFPLElBQUksaUJBQWlCLElBQUk7QUFBQSxNQUN2RSxJQUFJLG1CQUFtQixZQUFZLE9BQU8sSUFBSSxhQUFhLElBQUk7QUFBQSxNQUUvRCxTQUFTLGtCQUFrQixDQUFDLE1BQU07QUFBQSxRQUNoQyxPQUFPLE9BQU8sU0FBUyxZQUFZLE9BQU8sU0FBUyxjQUNuRCxTQUFTLHVCQUF1QixTQUFTLDhCQUE4QixTQUFTLHVCQUF1QixTQUFTLDBCQUEwQixTQUFTLHVCQUF1QixTQUFTLDRCQUE0QixPQUFPLFNBQVMsWUFBWSxTQUFTLFNBQVMsS0FBSyxhQUFhLG1CQUFtQixLQUFLLGFBQWEsbUJBQW1CLEtBQUssYUFBYSx1QkFBdUIsS0FBSyxhQUFhLHNCQUFzQixLQUFLLGFBQWEsMEJBQTBCLEtBQUssYUFBYSwwQkFBMEIsS0FBSyxhQUFhLHdCQUF3QixLQUFLLGFBQWEsb0JBQW9CLEtBQUssYUFBYTtBQUFBO0FBQUEsTUFHcGxCLFNBQVMsTUFBTSxDQUFDLFFBQVE7QUFBQSxRQUN0QixJQUFJLE9BQU8sV0FBVyxZQUFZLFdBQVcsTUFBTTtBQUFBLFVBQ2pELElBQUksV0FBVyxPQUFPO0FBQUEsVUFFdEIsUUFBUTtBQUFBLGlCQUNEO0FBQUEsY0FDSCxJQUFJLE9BQU8sT0FBTztBQUFBLGNBRWxCLFFBQVE7QUFBQSxxQkFDRDtBQUFBLHFCQUNBO0FBQUEscUJBQ0E7QUFBQSxxQkFDQTtBQUFBLHFCQUNBO0FBQUEscUJBQ0E7QUFBQSxrQkFDSCxPQUFPO0FBQUE7QUFBQSxrQkFHUCxJQUFJLGVBQWUsUUFBUSxLQUFLO0FBQUEsa0JBRWhDLFFBQVE7QUFBQSx5QkFDRDtBQUFBLHlCQUNBO0FBQUEseUJBQ0E7QUFBQSx5QkFDQTtBQUFBLHlCQUNBO0FBQUEsc0JBQ0gsT0FBTztBQUFBO0FBQUEsc0JBR1AsT0FBTztBQUFBO0FBQUE7QUFBQSxpQkFLWjtBQUFBLGNBQ0gsT0FBTztBQUFBO0FBQUEsUUFFYjtBQUFBLFFBRUE7QUFBQTtBQUFBLE1BR0YsSUFBSSxZQUFZO0FBQUEsTUFDaEIsSUFBSSxpQkFBaUI7QUFBQSxNQUNyQixJQUFJLGtCQUFrQjtBQUFBLE1BQ3RCLElBQUksa0JBQWtCO0FBQUEsTUFDdEIsSUFBSSxXQUFVO0FBQUEsTUFDZCxJQUFJLGFBQWE7QUFBQSxNQUNqQixJQUFJLFlBQVc7QUFBQSxNQUNmLElBQUksT0FBTztBQUFBLE1BQ1gsSUFBSSxPQUFPO0FBQUEsTUFDWCxJQUFJLFNBQVM7QUFBQSxNQUNiLElBQUksV0FBVztBQUFBLE1BQ2YsSUFBSSxhQUFhO0FBQUEsTUFDakIsSUFBSSxZQUFXO0FBQUEsTUFDZixJQUFJLHNDQUFzQztBQUFBLE1BRTFDLFNBQVMsV0FBVyxDQUFDLFFBQVE7QUFBQSxRQUMzQjtBQUFBLFVBQ0UsSUFBSSxDQUFDLHFDQUFxQztBQUFBLFlBQ3hDLHNDQUFzQztBQUFBLFlBRXRDLFFBQVEsUUFBUSwwREFBMEQsK0RBQStELGdFQUFnRTtBQUFBLFVBQzNNO0FBQUEsUUFDRjtBQUFBLFFBRUEsT0FBTyxpQkFBaUIsTUFBTSxLQUFLLE9BQU8sTUFBTSxNQUFNO0FBQUE7QUFBQSxNQUV4RCxTQUFTLGdCQUFnQixDQUFDLFFBQVE7QUFBQSxRQUNoQyxPQUFPLE9BQU8sTUFBTSxNQUFNO0FBQUE7QUFBQSxNQUU1QixTQUFTLGlCQUFpQixDQUFDLFFBQVE7QUFBQSxRQUNqQyxPQUFPLE9BQU8sTUFBTSxNQUFNO0FBQUE7QUFBQSxNQUU1QixTQUFTLGlCQUFpQixDQUFDLFFBQVE7QUFBQSxRQUNqQyxPQUFPLE9BQU8sTUFBTSxNQUFNO0FBQUE7QUFBQSxNQUU1QixTQUFTLFNBQVMsQ0FBQyxRQUFRO0FBQUEsUUFDekIsT0FBTyxPQUFPLFdBQVcsWUFBWSxXQUFXLFFBQVEsT0FBTyxhQUFhO0FBQUE7QUFBQSxNQUU5RSxTQUFTLFlBQVksQ0FBQyxRQUFRO0FBQUEsUUFDNUIsT0FBTyxPQUFPLE1BQU0sTUFBTTtBQUFBO0FBQUEsTUFFNUIsU0FBUyxVQUFVLENBQUMsUUFBUTtBQUFBLFFBQzFCLE9BQU8sT0FBTyxNQUFNLE1BQU07QUFBQTtBQUFBLE1BRTVCLFNBQVMsTUFBTSxDQUFDLFFBQVE7QUFBQSxRQUN0QixPQUFPLE9BQU8sTUFBTSxNQUFNO0FBQUE7QUFBQSxNQUU1QixTQUFTLE1BQU0sQ0FBQyxRQUFRO0FBQUEsUUFDdEIsT0FBTyxPQUFPLE1BQU0sTUFBTTtBQUFBO0FBQUEsTUFFNUIsU0FBUyxRQUFRLENBQUMsUUFBUTtBQUFBLFFBQ3hCLE9BQU8sT0FBTyxNQUFNLE1BQU07QUFBQTtBQUFBLE1BRTVCLFNBQVMsVUFBVSxDQUFDLFFBQVE7QUFBQSxRQUMxQixPQUFPLE9BQU8sTUFBTSxNQUFNO0FBQUE7QUFBQSxNQUU1QixTQUFTLFlBQVksQ0FBQyxRQUFRO0FBQUEsUUFDNUIsT0FBTyxPQUFPLE1BQU0sTUFBTTtBQUFBO0FBQUEsTUFFNUIsU0FBUyxVQUFVLENBQUMsUUFBUTtBQUFBLFFBQzFCLE9BQU8sT0FBTyxNQUFNLE1BQU07QUFBQTtBQUFBLE1BR3BCLG9CQUFZO0FBQUEsTUFDWix5QkFBaUI7QUFBQSxNQUNqQiwwQkFBa0I7QUFBQSxNQUNsQiwwQkFBa0I7QUFBQSxNQUNsQixrQkFBVTtBQUFBLE1BQ1YscUJBQWE7QUFBQSxNQUNiLG1CQUFXO0FBQUEsTUFDWCxlQUFPO0FBQUEsTUFDUCxlQUFPO0FBQUEsTUFDUCxpQkFBUztBQUFBLE1BQ1QsbUJBQVc7QUFBQSxNQUNYLHFCQUFhO0FBQUEsTUFDYixtQkFBVztBQUFBLE1BQ1gsc0JBQWM7QUFBQSxNQUNkLDJCQUFtQjtBQUFBLE1BQ25CLDRCQUFvQjtBQUFBLE1BQ3BCLDRCQUFvQjtBQUFBLE1BQ3BCLG9CQUFZO0FBQUEsTUFDWix1QkFBZTtBQUFBLE1BQ2YscUJBQWE7QUFBQSxNQUNiLGlCQUFTO0FBQUEsTUFDVCxpQkFBUztBQUFBLE1BQ1QsbUJBQVc7QUFBQSxNQUNYLHFCQUFhO0FBQUEsTUFDYix1QkFBZTtBQUFBLE1BQ2YscUJBQWE7QUFBQSxNQUNiLDZCQUFxQjtBQUFBLE1BQ3JCLGlCQUFTO0FBQUEsT0FDWjtBQUFBLEVBQ0w7QUFBQTs7OztFQy9LMkI7QUFBQSxFQUgzQixJQUFJLE9BQXVDLENBRTNDLEVBQU87QUFBQSxJQUNMLE9BQU8sVUFBa0I7QUFBQTtBQUFBOzs7O0VDRzNCLElBQUksd0JBQXdCLE9BQU87QUFBQSxFQUNuQyxJQUFJLGlCQUFpQixPQUFPLFVBQVU7QUFBQSxFQUN0QyxJQUFJLG1CQUFtQixPQUFPLFVBQVU7QUFBQSxFQUV4QyxTQUFTLFFBQVEsQ0FBQyxLQUFLO0FBQUEsSUFDdEIsSUFBSSxRQUFRLFFBQVEsUUFBUSxXQUFXO0FBQUEsTUFDdEMsTUFBTSxJQUFJLFVBQVUsdURBQXVEO0FBQUEsSUFDNUU7QUFBQSxJQUVBLE9BQU8sT0FBTyxHQUFHO0FBQUE7QUFBQSxFQUdsQixTQUFTLGVBQWUsR0FBRztBQUFBLElBQzFCLElBQUk7QUFBQSxNQUNILElBQUksQ0FBQyxPQUFPLFFBQVE7QUFBQSxRQUNuQixPQUFPO0FBQUEsTUFDUjtBQUFBLE1BS0EsSUFBSSxRQUFRLElBQUksT0FBTyxLQUFLO0FBQUEsTUFDNUIsTUFBTSxLQUFLO0FBQUEsTUFDWCxJQUFJLE9BQU8sb0JBQW9CLEtBQUssRUFBRSxPQUFPLEtBQUs7QUFBQSxRQUNqRCxPQUFPO0FBQUEsTUFDUjtBQUFBLE1BR0EsSUFBSSxRQUFRLENBQUM7QUFBQSxNQUNiLFNBQVMsSUFBSSxFQUFHLElBQUksSUFBSSxLQUFLO0FBQUEsUUFDNUIsTUFBTSxNQUFNLE9BQU8sYUFBYSxDQUFDLEtBQUs7QUFBQSxNQUN2QztBQUFBLE1BQ0EsSUFBSSxTQUFTLE9BQU8sb0JBQW9CLEtBQUssRUFBRSxJQUFJLFFBQVMsQ0FBQyxHQUFHO0FBQUEsUUFDL0QsT0FBTyxNQUFNO0FBQUEsT0FDYjtBQUFBLE1BQ0QsSUFBSSxPQUFPLEtBQUssRUFBRSxNQUFNLGNBQWM7QUFBQSxRQUNyQyxPQUFPO0FBQUEsTUFDUjtBQUFBLE1BR0EsSUFBSSxRQUFRLENBQUM7QUFBQSxNQUNiLHVCQUF1QixNQUFNLEVBQUUsRUFBRSxRQUFRLFFBQVMsQ0FBQyxRQUFRO0FBQUEsUUFDMUQsTUFBTSxVQUFVO0FBQUEsT0FDaEI7QUFBQSxNQUNELElBQUksT0FBTyxLQUFLLE9BQU8sT0FBTyxDQUFDLEdBQUcsS0FBSyxDQUFDLEVBQUUsS0FBSyxFQUFFLE1BQy9DLHdCQUF3QjtBQUFBLFFBQ3pCLE9BQU87QUFBQSxNQUNSO0FBQUEsTUFFQSxPQUFPO0FBQUEsTUFDTixPQUFPLEtBQUs7QUFBQSxNQUViLE9BQU87QUFBQTtBQUFBO0FBQUEsRUFJVCxPQUFPLFVBQVUsZ0JBQWdCLElBQUksT0FBTyxTQUFTLFFBQVMsQ0FBQyxRQUFRLFFBQVE7QUFBQSxJQUM5RSxJQUFJO0FBQUEsSUFDSixJQUFJLEtBQUssU0FBUyxNQUFNO0FBQUEsSUFDeEIsSUFBSTtBQUFBLElBRUosU0FBUyxJQUFJLEVBQUcsSUFBSSxVQUFVLFFBQVEsS0FBSztBQUFBLE1BQzFDLE9BQU8sT0FBTyxVQUFVLEVBQUU7QUFBQSxNQUUxQixTQUFTLE9BQU8sTUFBTTtBQUFBLFFBQ3JCLElBQUksZUFBZSxLQUFLLE1BQU0sR0FBRyxHQUFHO0FBQUEsVUFDbkMsR0FBRyxPQUFPLEtBQUs7QUFBQSxRQUNoQjtBQUFBLE1BQ0Q7QUFBQSxNQUVBLElBQUksdUJBQXVCO0FBQUEsUUFDMUIsVUFBVSxzQkFBc0IsSUFBSTtBQUFBLFFBQ3BDLFNBQVMsSUFBSSxFQUFHLElBQUksUUFBUSxRQUFRLEtBQUs7QUFBQSxVQUN4QyxJQUFJLGlCQUFpQixLQUFLLE1BQU0sUUFBUSxFQUFFLEdBQUc7QUFBQSxZQUM1QyxHQUFHLFFBQVEsTUFBTSxLQUFLLFFBQVE7QUFBQSxVQUMvQjtBQUFBLFFBQ0Q7QUFBQSxNQUNEO0FBQUEsSUFDRDtBQUFBLElBRUEsT0FBTztBQUFBO0FBQUE7Ozs7RUMvRVIsSUFBSSx1QkFBdUI7QUFBQSxFQUUzQixPQUFPLFVBQVU7QUFBQTs7OztFQ1hqQixPQUFPLFVBQVUsU0FBUyxLQUFLLEtBQUssT0FBTyxVQUFVLGNBQWM7QUFBQTs7OztFQ1NuRSxJQUFJLGVBQWUsUUFBUSxHQUFHO0FBQUEsRUFFOUIsSUFBSSxNQUF1QztBQUFBLElBQ3JDO0FBQUEsSUFDQSxxQkFBcUIsQ0FBQztBQUFBLElBQ3RCO0FBQUEsSUFFSixlQUFlLFFBQVEsQ0FBQyxNQUFNO0FBQUEsTUFDNUIsSUFBSSxVQUFVLGNBQWM7QUFBQSxNQUM1QixJQUFJLE9BQU8sWUFBWSxhQUFhO0FBQUEsUUFDbEMsUUFBUSxNQUFNLE9BQU87QUFBQSxNQUN2QjtBQUFBLE1BQ0EsSUFBSTtBQUFBLFFBSUYsTUFBTSxJQUFJLE1BQU0sT0FBTztBQUFBLFFBQ3ZCLE9BQU8sR0FBRztBQUFBO0FBQUEsRUFFaEI7QUFBQSxFQWhCTTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUEyQk4sU0FBUyxjQUFjLENBQUMsV0FBVyxRQUFRLFdBQVUsZUFBZSxVQUFVO0FBQUEsSUFDNUUsSUFBSSxNQUF1QztBQUFBLE1BQ3pDLFNBQVMsZ0JBQWdCLFdBQVc7QUFBQSxRQUNsQyxJQUFJLElBQUksV0FBVyxZQUFZLEdBQUc7QUFBQSxVQUNoQyxJQUFJO0FBQUEsVUFJSixJQUFJO0FBQUEsWUFHRixJQUFJLE9BQU8sVUFBVSxrQkFBa0IsWUFBWTtBQUFBLGNBQ2pELElBQUksTUFBTSxPQUNQLGlCQUFpQixpQkFBaUIsT0FBTyxZQUFXLFlBQVksZUFBZSxtQkFDaEYsaUZBQWlGLE9BQU8sVUFBVSxnQkFBZ0IsT0FDbEgsK0ZBQ0Y7QUFBQSxjQUNBLElBQUksT0FBTztBQUFBLGNBQ1gsTUFBTTtBQUFBLFlBQ1I7QUFBQSxZQUNBLFFBQVEsVUFBVSxjQUFjLFFBQVEsY0FBYyxlQUFlLFdBQVUsTUFBTSxvQkFBb0I7QUFBQSxZQUN6RyxPQUFPLElBQUk7QUFBQSxZQUNYLFFBQVE7QUFBQTtBQUFBLFVBRVYsSUFBSSxTQUFTLEVBQUUsaUJBQWlCLFFBQVE7QUFBQSxZQUN0QyxjQUNHLGlCQUFpQixpQkFBaUIsNkJBQ25DLFlBQVcsT0FBTyxlQUFlLG9DQUNqQyw4REFBOEQsT0FBTyxRQUFRLE9BQzdFLG9FQUNBLG1FQUNBLGlDQUNGO0FBQUEsVUFDRjtBQUFBLFVBQ0EsSUFBSSxpQkFBaUIsU0FBUyxFQUFFLE1BQU0sV0FBVyxxQkFBcUI7QUFBQSxZQUdwRSxtQkFBbUIsTUFBTSxXQUFXO0FBQUEsWUFFcEMsSUFBSSxRQUFRLFdBQVcsU0FBUyxJQUFJO0FBQUEsWUFFcEMsYUFDRSxZQUFZLFlBQVcsWUFBWSxNQUFNLFdBQVcsU0FBUyxPQUFPLFFBQVEsR0FDOUU7QUFBQSxVQUNGO0FBQUEsUUFDRjtBQUFBLE1BQ0Y7QUFBQSxJQUNGO0FBQUE7QUFBQSxFQVFGLGVBQWUsb0JBQW9CLFFBQVEsR0FBRztBQUFBLElBQzVDLElBQUksTUFBdUM7QUFBQSxNQUN6QyxxQkFBcUIsQ0FBQztBQUFBLElBQ3hCO0FBQUE7QUFBQSxFQUdGLE9BQU8sVUFBVTtBQUFBOzs7O0VDN0ZLO0FBQUEsRUFDdEIsSUFBSTtBQUFBLEVBRUosSUFBSTtBQUFBLEVBQ0osSUFBSTtBQUFBLEVBQ0osSUFBSTtBQUFBLEVBRUosSUFBSSxlQUFlLFFBQVEsR0FBRztBQUFBLEVBRTlCLElBQUksTUFBdUM7QUFBQSxJQUN6QyxlQUFlLFFBQVEsQ0FBQyxNQUFNO0FBQUEsTUFDNUIsSUFBSSxVQUFVLGNBQWM7QUFBQSxNQUM1QixJQUFJLE9BQU8sWUFBWSxhQUFhO0FBQUEsUUFDbEMsUUFBUSxNQUFNLE9BQU87QUFBQSxNQUN2QjtBQUFBLE1BQ0EsSUFBSTtBQUFBLFFBSUYsTUFBTSxJQUFJLE1BQU0sT0FBTztBQUFBLFFBQ3ZCLE9BQU8sR0FBRztBQUFBO0FBQUEsRUFFaEI7QUFBQSxFQUVBLFNBQVMsNEJBQTRCLEdBQUc7QUFBQSxJQUN0QyxPQUFPO0FBQUE7QUFBQSxFQUdULE9BQU8sVUFBVSxRQUFRLENBQUMsaUJBQWdCLHFCQUFxQjtBQUFBLElBRTdELElBQUksa0JBQWtCLE9BQU8sV0FBVyxjQUFjLE9BQU87QUFBQSxJQUM3RCxJQUFJLHVCQUF1QjtBQUFBLElBZ0IzQixTQUFTLGFBQWEsQ0FBQyxlQUFlO0FBQUEsTUFDcEMsSUFBSSxhQUFhLGtCQUFrQixtQkFBbUIsY0FBYyxvQkFBb0IsY0FBYztBQUFBLE1BQ3RHLElBQUksT0FBTyxlQUFlLFlBQVk7QUFBQSxRQUNwQyxPQUFPO0FBQUEsTUFDVDtBQUFBO0FBQUEsSUFrREYsSUFBSSxZQUFZO0FBQUEsSUFJaEIsSUFBSSxpQkFBaUI7QUFBQSxNQUNuQixPQUFPLDJCQUEyQixPQUFPO0FBQUEsTUFDekMsUUFBUSwyQkFBMkIsUUFBUTtBQUFBLE1BQzNDLE1BQU0sMkJBQTJCLFNBQVM7QUFBQSxNQUMxQyxNQUFNLDJCQUEyQixVQUFVO0FBQUEsTUFDM0MsUUFBUSwyQkFBMkIsUUFBUTtBQUFBLE1BQzNDLFFBQVEsMkJBQTJCLFFBQVE7QUFBQSxNQUMzQyxRQUFRLDJCQUEyQixRQUFRO0FBQUEsTUFDM0MsUUFBUSwyQkFBMkIsUUFBUTtBQUFBLE1BRTNDLEtBQUsscUJBQXFCO0FBQUEsTUFDMUIsU0FBUztBQUFBLE1BQ1QsU0FBUyx5QkFBeUI7QUFBQSxNQUNsQyxhQUFhLDZCQUE2QjtBQUFBLE1BQzFDLFlBQVk7QUFBQSxNQUNaLE1BQU0sa0JBQWtCO0FBQUEsTUFDeEIsVUFBVTtBQUFBLE1BQ1YsT0FBTztBQUFBLE1BQ1AsV0FBVztBQUFBLE1BQ1gsT0FBTztBQUFBLE1BQ1AsT0FBTztBQUFBLElBQ1Q7QUFBQSxJQU9BLFNBQVMsRUFBRSxDQUFDLEdBQUcsR0FBRztBQUFBLE1BRWhCLElBQUksTUFBTSxHQUFHO0FBQUEsUUFHWCxPQUFPLE1BQU0sS0FBSyxJQUFJLE1BQU0sSUFBSTtBQUFBLE1BQ2xDLEVBQU87QUFBQSxRQUVMLE9BQU8sTUFBTSxLQUFLLE1BQU07QUFBQTtBQUFBO0FBQUEsSUFZNUIsU0FBUyxhQUFhLENBQUMsU0FBUyxPQUFNO0FBQUEsTUFDcEMsS0FBSyxVQUFVO0FBQUEsTUFDZixLQUFLLE9BQU8sU0FBUSxPQUFPLFVBQVMsV0FBVyxRQUFNLENBQUM7QUFBQSxNQUN0RCxLQUFLLFFBQVE7QUFBQTtBQUFBLElBR2YsY0FBYyxZQUFZLE1BQU07QUFBQSxJQUVoQyxTQUFTLDBCQUEwQixDQUFDLFVBQVU7QUFBQSxNQUM1QyxJQUFJLE1BQXVDO0FBQUEsUUFDekMsSUFBSSwwQkFBMEIsQ0FBQztBQUFBLFFBQy9CLElBQUksNkJBQTZCO0FBQUEsTUFDbkM7QUFBQSxNQUNBLFNBQVMsU0FBUyxDQUFDLFlBQVksT0FBTyxVQUFVLGVBQWUsV0FBVSxjQUFjLFFBQVE7QUFBQSxRQUM3RixnQkFBZ0IsaUJBQWlCO0FBQUEsUUFDakMsZUFBZSxnQkFBZ0I7QUFBQSxRQUUvQixJQUFJLFdBQVcsc0JBQXNCO0FBQUEsVUFDbkMsSUFBSSxxQkFBcUI7QUFBQSxZQUV2QixJQUFJLE1BQU0sSUFBSSxNQUNaLHlGQUNBLG9EQUNBLGdEQUNGO0FBQUEsWUFDQSxJQUFJLE9BQU87QUFBQSxZQUNYLE1BQU07QUFBQSxVQUNSLEVBQU8sU0FBNkMsT0FBTyxZQUFZLGFBQWE7QUFBQSxZQUVsRixJQUFJLFdBQVcsZ0JBQWdCLE1BQU07QUFBQSxZQUNyQyxJQUNFLENBQUMsd0JBQXdCLGFBRXpCLDZCQUE2QixHQUM3QjtBQUFBLGNBQ0EsYUFDRSwyREFDQSx1QkFBdUIsZUFBZSxnQkFBZ0IsZ0JBQWdCLDJCQUN0RSw0REFDQSxtRUFDQSxrRUFBa0UsY0FDcEU7QUFBQSxjQUNBLHdCQUF3QixZQUFZO0FBQUEsY0FDcEM7QUFBQSxZQUNGO0FBQUEsVUFDRjtBQUFBLFFBQ0Y7QUFBQSxRQUNBLElBQUksTUFBTSxhQUFhLE1BQU07QUFBQSxVQUMzQixJQUFJLFlBQVk7QUFBQSxZQUNkLElBQUksTUFBTSxjQUFjLE1BQU07QUFBQSxjQUM1QixPQUFPLElBQUksY0FBYyxTQUFTLFlBQVcsT0FBTyxlQUFlLDhCQUE4QixTQUFTLGdCQUFnQiw4QkFBOEI7QUFBQSxZQUMxSjtBQUFBLFlBQ0EsT0FBTyxJQUFJLGNBQWMsU0FBUyxZQUFXLE9BQU8sZUFBZSxpQ0FBaUMsTUFBTSxnQkFBZ0IsbUNBQW1DO0FBQUEsVUFDL0o7QUFBQSxVQUNBLE9BQU87QUFBQSxRQUNULEVBQU87QUFBQSxVQUNMLE9BQU8sU0FBUyxPQUFPLFVBQVUsZUFBZSxXQUFVLFlBQVk7QUFBQTtBQUFBO0FBQUEsTUFJMUUsSUFBSSxtQkFBbUIsVUFBVSxLQUFLLE1BQU0sS0FBSztBQUFBLE1BQ2pELGlCQUFpQixhQUFhLFVBQVUsS0FBSyxNQUFNLElBQUk7QUFBQSxNQUV2RCxPQUFPO0FBQUE7QUFBQSxJQUdULFNBQVMsMEJBQTBCLENBQUMsY0FBYztBQUFBLE1BQ2hELFNBQVMsUUFBUSxDQUFDLE9BQU8sVUFBVSxlQUFlLFdBQVUsY0FBYyxRQUFRO0FBQUEsUUFDaEYsSUFBSSxZQUFZLE1BQU07QUFBQSxRQUN0QixJQUFJLFdBQVcsWUFBWSxTQUFTO0FBQUEsUUFDcEMsSUFBSSxhQUFhLGNBQWM7QUFBQSxVQUk3QixJQUFJLGNBQWMsZUFBZSxTQUFTO0FBQUEsVUFFMUMsT0FBTyxJQUFJLGNBQ1QsYUFBYSxZQUFXLE9BQU8sZUFBZSxnQkFBZ0IsTUFBTSxjQUFjLG9CQUFvQixnQkFBZ0IsbUJBQW1CLE1BQU0sZUFBZSxPQUM5SixFQUFDLGFBQTBCLENBQzdCO0FBQUEsUUFDRjtBQUFBLFFBQ0EsT0FBTztBQUFBO0FBQUEsTUFFVCxPQUFPLDJCQUEyQixRQUFRO0FBQUE7QUFBQSxJQUc1QyxTQUFTLG9CQUFvQixHQUFHO0FBQUEsTUFDOUIsT0FBTywyQkFBMkIsNEJBQTRCO0FBQUE7QUFBQSxJQUdoRSxTQUFTLHdCQUF3QixDQUFDLGFBQWE7QUFBQSxNQUM3QyxTQUFTLFFBQVEsQ0FBQyxPQUFPLFVBQVUsZUFBZSxXQUFVLGNBQWM7QUFBQSxRQUN4RSxJQUFJLE9BQU8sZ0JBQWdCLFlBQVk7QUFBQSxVQUNyQyxPQUFPLElBQUksY0FBYyxlQUFlLGVBQWUscUJBQXFCLGdCQUFnQixpREFBaUQ7QUFBQSxRQUMvSTtBQUFBLFFBQ0EsSUFBSSxZQUFZLE1BQU07QUFBQSxRQUN0QixJQUFJLENBQUMsTUFBTSxRQUFRLFNBQVMsR0FBRztBQUFBLFVBQzdCLElBQUksV0FBVyxZQUFZLFNBQVM7QUFBQSxVQUNwQyxPQUFPLElBQUksY0FBYyxhQUFhLFlBQVcsT0FBTyxlQUFlLGdCQUFnQixNQUFNLFdBQVcsb0JBQW9CLGdCQUFnQix3QkFBd0I7QUFBQSxRQUN0SztBQUFBLFFBQ0EsU0FBUyxJQUFJLEVBQUcsSUFBSSxVQUFVLFFBQVEsS0FBSztBQUFBLFVBQ3pDLElBQUksUUFBUSxZQUFZLFdBQVcsR0FBRyxlQUFlLFdBQVUsZUFBZSxNQUFNLElBQUksS0FBSyxvQkFBb0I7QUFBQSxVQUNqSCxJQUFJLGlCQUFpQixPQUFPO0FBQUEsWUFDMUIsT0FBTztBQUFBLFVBQ1Q7QUFBQSxRQUNGO0FBQUEsUUFDQSxPQUFPO0FBQUE7QUFBQSxNQUVULE9BQU8sMkJBQTJCLFFBQVE7QUFBQTtBQUFBLElBRzVDLFNBQVMsd0JBQXdCLEdBQUc7QUFBQSxNQUNsQyxTQUFTLFFBQVEsQ0FBQyxPQUFPLFVBQVUsZUFBZSxXQUFVLGNBQWM7QUFBQSxRQUN4RSxJQUFJLFlBQVksTUFBTTtBQUFBLFFBQ3RCLElBQUksQ0FBQyxnQkFBZSxTQUFTLEdBQUc7QUFBQSxVQUM5QixJQUFJLFdBQVcsWUFBWSxTQUFTO0FBQUEsVUFDcEMsT0FBTyxJQUFJLGNBQWMsYUFBYSxZQUFXLE9BQU8sZUFBZSxnQkFBZ0IsTUFBTSxXQUFXLG9CQUFvQixnQkFBZ0IscUNBQXFDO0FBQUEsUUFDbkw7QUFBQSxRQUNBLE9BQU87QUFBQTtBQUFBLE1BRVQsT0FBTywyQkFBMkIsUUFBUTtBQUFBO0FBQUEsSUFHNUMsU0FBUyw0QkFBNEIsR0FBRztBQUFBLE1BQ3RDLFNBQVMsUUFBUSxDQUFDLE9BQU8sVUFBVSxlQUFlLFdBQVUsY0FBYztBQUFBLFFBQ3hFLElBQUksWUFBWSxNQUFNO0FBQUEsUUFDdEIsSUFBSSxDQUFTLDJCQUFtQixTQUFTLEdBQUc7QUFBQSxVQUMxQyxJQUFJLFdBQVcsWUFBWSxTQUFTO0FBQUEsVUFDcEMsT0FBTyxJQUFJLGNBQWMsYUFBYSxZQUFXLE9BQU8sZUFBZSxnQkFBZ0IsTUFBTSxXQUFXLG9CQUFvQixnQkFBZ0IsMENBQTBDO0FBQUEsUUFDeEw7QUFBQSxRQUNBLE9BQU87QUFBQTtBQUFBLE1BRVQsT0FBTywyQkFBMkIsUUFBUTtBQUFBO0FBQUEsSUFHNUMsU0FBUyx5QkFBeUIsQ0FBQyxlQUFlO0FBQUEsTUFDaEQsU0FBUyxRQUFRLENBQUMsT0FBTyxVQUFVLGVBQWUsV0FBVSxjQUFjO0FBQUEsUUFDeEUsSUFBSSxFQUFFLE1BQU0scUJBQXFCLGdCQUFnQjtBQUFBLFVBQy9DLElBQUksb0JBQW9CLGNBQWMsUUFBUTtBQUFBLFVBQzlDLElBQUksa0JBQWtCLGFBQWEsTUFBTSxTQUFTO0FBQUEsVUFDbEQsT0FBTyxJQUFJLGNBQWMsYUFBYSxZQUFXLE9BQU8sZUFBZSxnQkFBZ0IsTUFBTSxrQkFBa0Isb0JBQW9CLGdCQUFnQixtQkFBbUIsa0JBQWtCLG9CQUFvQixLQUFLO0FBQUEsUUFDbk47QUFBQSxRQUNBLE9BQU87QUFBQTtBQUFBLE1BRVQsT0FBTywyQkFBMkIsUUFBUTtBQUFBO0FBQUEsSUFHNUMsU0FBUyxxQkFBcUIsQ0FBQyxnQkFBZ0I7QUFBQSxNQUM3QyxJQUFJLENBQUMsTUFBTSxRQUFRLGNBQWMsR0FBRztBQUFBLFFBQ2xDLElBQUksTUFBdUM7QUFBQSxVQUN6QyxJQUFJLFVBQVUsU0FBUyxHQUFHO0FBQUEsWUFDeEIsYUFDRSxpRUFBaUUsVUFBVSxTQUFTLGlCQUNwRiwwRUFDRjtBQUFBLFVBQ0YsRUFBTztBQUFBLFlBQ0wsYUFBYSx3REFBd0Q7QUFBQTtBQUFBLFFBRXpFO0FBQUEsUUFDQSxPQUFPO0FBQUEsTUFDVDtBQUFBLE1BRUEsU0FBUyxRQUFRLENBQUMsT0FBTyxVQUFVLGVBQWUsV0FBVSxjQUFjO0FBQUEsUUFDeEUsSUFBSSxZQUFZLE1BQU07QUFBQSxRQUN0QixTQUFTLElBQUksRUFBRyxJQUFJLGVBQWUsUUFBUSxLQUFLO0FBQUEsVUFDOUMsSUFBSSxHQUFHLFdBQVcsZUFBZSxFQUFFLEdBQUc7QUFBQSxZQUNwQyxPQUFPO0FBQUEsVUFDVDtBQUFBLFFBQ0Y7QUFBQSxRQUVBLElBQUksZUFBZSxLQUFLLFVBQVUsZ0JBQWdCLFNBQVMsUUFBUSxDQUFDLEtBQUssT0FBTztBQUFBLFVBQzlFLElBQUksT0FBTyxlQUFlLEtBQUs7QUFBQSxVQUMvQixJQUFJLFNBQVMsVUFBVTtBQUFBLFlBQ3JCLE9BQU8sT0FBTyxLQUFLO0FBQUEsVUFDckI7QUFBQSxVQUNBLE9BQU87QUFBQSxTQUNSO0FBQUEsUUFDRCxPQUFPLElBQUksY0FBYyxhQUFhLFlBQVcsT0FBTyxlQUFlLGlCQUFpQixPQUFPLFNBQVMsSUFBSSxRQUFRLGtCQUFrQixnQkFBZ0Isd0JBQXdCLGVBQWUsSUFBSTtBQUFBO0FBQUEsTUFFbk0sT0FBTywyQkFBMkIsUUFBUTtBQUFBO0FBQUEsSUFHNUMsU0FBUyx5QkFBeUIsQ0FBQyxhQUFhO0FBQUEsTUFDOUMsU0FBUyxRQUFRLENBQUMsT0FBTyxVQUFVLGVBQWUsV0FBVSxjQUFjO0FBQUEsUUFDeEUsSUFBSSxPQUFPLGdCQUFnQixZQUFZO0FBQUEsVUFDckMsT0FBTyxJQUFJLGNBQWMsZUFBZSxlQUFlLHFCQUFxQixnQkFBZ0Isa0RBQWtEO0FBQUEsUUFDaEo7QUFBQSxRQUNBLElBQUksWUFBWSxNQUFNO0FBQUEsUUFDdEIsSUFBSSxXQUFXLFlBQVksU0FBUztBQUFBLFFBQ3BDLElBQUksYUFBYSxVQUFVO0FBQUEsVUFDekIsT0FBTyxJQUFJLGNBQWMsYUFBYSxZQUFXLE9BQU8sZUFBZSxnQkFBZ0IsTUFBTSxXQUFXLG9CQUFvQixnQkFBZ0IseUJBQXlCO0FBQUEsUUFDdks7QUFBQSxRQUNBLFNBQVMsT0FBTyxXQUFXO0FBQUEsVUFDekIsSUFBSSxJQUFJLFdBQVcsR0FBRyxHQUFHO0FBQUEsWUFDdkIsSUFBSSxRQUFRLFlBQVksV0FBVyxLQUFLLGVBQWUsV0FBVSxlQUFlLE1BQU0sS0FBSyxvQkFBb0I7QUFBQSxZQUMvRyxJQUFJLGlCQUFpQixPQUFPO0FBQUEsY0FDMUIsT0FBTztBQUFBLFlBQ1Q7QUFBQSxVQUNGO0FBQUEsUUFDRjtBQUFBLFFBQ0EsT0FBTztBQUFBO0FBQUEsTUFFVCxPQUFPLDJCQUEyQixRQUFRO0FBQUE7QUFBQSxJQUc1QyxTQUFTLHNCQUFzQixDQUFDLHFCQUFxQjtBQUFBLE1BQ25ELElBQUksQ0FBQyxNQUFNLFFBQVEsbUJBQW1CLEdBQUc7QUFBQSxRQUNDLGFBQWEsd0VBQXdFO0FBQUEsUUFDN0gsT0FBTztBQUFBLE1BQ1Q7QUFBQSxNQUVBLFNBQVMsSUFBSSxFQUFHLElBQUksb0JBQW9CLFFBQVEsS0FBSztBQUFBLFFBQ25ELElBQUksVUFBVSxvQkFBb0I7QUFBQSxRQUNsQyxJQUFJLE9BQU8sWUFBWSxZQUFZO0FBQUEsVUFDakMsYUFDRSx1RkFDQSxjQUFjLHlCQUF5QixPQUFPLElBQUksZUFBZSxJQUFJLEdBQ3ZFO0FBQUEsVUFDQSxPQUFPO0FBQUEsUUFDVDtBQUFBLE1BQ0Y7QUFBQSxNQUVBLFNBQVMsUUFBUSxDQUFDLE9BQU8sVUFBVSxlQUFlLFdBQVUsY0FBYztBQUFBLFFBQ3hFLElBQUksZ0JBQWdCLENBQUM7QUFBQSxRQUNyQixTQUFTLEtBQUksRUFBRyxLQUFJLG9CQUFvQixRQUFRLE1BQUs7QUFBQSxVQUNuRCxJQUFJLFdBQVUsb0JBQW9CO0FBQUEsVUFDbEMsSUFBSSxnQkFBZ0IsU0FBUSxPQUFPLFVBQVUsZUFBZSxXQUFVLGNBQWMsb0JBQW9CO0FBQUEsVUFDeEcsSUFBSSxpQkFBaUIsTUFBTTtBQUFBLFlBQ3pCLE9BQU87QUFBQSxVQUNUO0FBQUEsVUFDQSxJQUFJLGNBQWMsUUFBUSxJQUFJLGNBQWMsTUFBTSxjQUFjLEdBQUc7QUFBQSxZQUNqRSxjQUFjLEtBQUssY0FBYyxLQUFLLFlBQVk7QUFBQSxVQUNwRDtBQUFBLFFBQ0Y7QUFBQSxRQUNBLElBQUksdUJBQXdCLGNBQWMsU0FBUyxJQUFLLDZCQUE2QixjQUFjLEtBQUssSUFBSSxJQUFJLE1BQUs7QUFBQSxRQUNySCxPQUFPLElBQUksY0FBYyxhQUFhLFlBQVcsT0FBTyxlQUFlLG9CQUFvQixNQUFNLGdCQUFnQixNQUFNLHVCQUF1QixJQUFJO0FBQUE7QUFBQSxNQUVwSixPQUFPLDJCQUEyQixRQUFRO0FBQUE7QUFBQSxJQUc1QyxTQUFTLGlCQUFpQixHQUFHO0FBQUEsTUFDM0IsU0FBUyxRQUFRLENBQUMsT0FBTyxVQUFVLGVBQWUsV0FBVSxjQUFjO0FBQUEsUUFDeEUsSUFBSSxDQUFDLE9BQU8sTUFBTSxTQUFTLEdBQUc7QUFBQSxVQUM1QixPQUFPLElBQUksY0FBYyxhQUFhLFlBQVcsT0FBTyxlQUFlLG9CQUFvQixNQUFNLGdCQUFnQiwyQkFBMkI7QUFBQSxRQUM5STtBQUFBLFFBQ0EsT0FBTztBQUFBO0FBQUEsTUFFVCxPQUFPLDJCQUEyQixRQUFRO0FBQUE7QUFBQSxJQUc1QyxTQUFTLHFCQUFxQixDQUFDLGVBQWUsV0FBVSxjQUFjLEtBQUssTUFBTTtBQUFBLE1BQy9FLE9BQU8sSUFBSSxlQUNSLGlCQUFpQixpQkFBaUIsT0FBTyxZQUFXLFlBQVksZUFBZSxNQUFNLE1BQU0sbUJBQzVGLGlGQUFpRixPQUFPLElBQzFGO0FBQUE7QUFBQSxJQUdGLFNBQVMsc0JBQXNCLENBQUMsWUFBWTtBQUFBLE1BQzFDLFNBQVMsUUFBUSxDQUFDLE9BQU8sVUFBVSxlQUFlLFdBQVUsY0FBYztBQUFBLFFBQ3hFLElBQUksWUFBWSxNQUFNO0FBQUEsUUFDdEIsSUFBSSxXQUFXLFlBQVksU0FBUztBQUFBLFFBQ3BDLElBQUksYUFBYSxVQUFVO0FBQUEsVUFDekIsT0FBTyxJQUFJLGNBQWMsYUFBYSxZQUFXLE9BQU8sZUFBZSxnQkFBZ0IsV0FBVyxRQUFRLGtCQUFrQixnQkFBZ0Isd0JBQXdCO0FBQUEsUUFDdEs7QUFBQSxRQUNBLFNBQVMsT0FBTyxZQUFZO0FBQUEsVUFDMUIsSUFBSSxVQUFVLFdBQVc7QUFBQSxVQUN6QixJQUFJLE9BQU8sWUFBWSxZQUFZO0FBQUEsWUFDakMsT0FBTyxzQkFBc0IsZUFBZSxXQUFVLGNBQWMsS0FBSyxlQUFlLE9BQU8sQ0FBQztBQUFBLFVBQ2xHO0FBQUEsVUFDQSxJQUFJLFFBQVEsUUFBUSxXQUFXLEtBQUssZUFBZSxXQUFVLGVBQWUsTUFBTSxLQUFLLG9CQUFvQjtBQUFBLFVBQzNHLElBQUksT0FBTztBQUFBLFlBQ1QsT0FBTztBQUFBLFVBQ1Q7QUFBQSxRQUNGO0FBQUEsUUFDQSxPQUFPO0FBQUE7QUFBQSxNQUVULE9BQU8sMkJBQTJCLFFBQVE7QUFBQTtBQUFBLElBRzVDLFNBQVMsNEJBQTRCLENBQUMsWUFBWTtBQUFBLE1BQ2hELFNBQVMsUUFBUSxDQUFDLE9BQU8sVUFBVSxlQUFlLFdBQVUsY0FBYztBQUFBLFFBQ3hFLElBQUksWUFBWSxNQUFNO0FBQUEsUUFDdEIsSUFBSSxXQUFXLFlBQVksU0FBUztBQUFBLFFBQ3BDLElBQUksYUFBYSxVQUFVO0FBQUEsVUFDekIsT0FBTyxJQUFJLGNBQWMsYUFBYSxZQUFXLE9BQU8sZUFBZSxnQkFBZ0IsV0FBVyxRQUFRLGtCQUFrQixnQkFBZ0Isd0JBQXdCO0FBQUEsUUFDdEs7QUFBQSxRQUVBLElBQUksVUFBVSxPQUFPLENBQUMsR0FBRyxNQUFNLFdBQVcsVUFBVTtBQUFBLFFBQ3BELFNBQVMsT0FBTyxTQUFTO0FBQUEsVUFDdkIsSUFBSSxVQUFVLFdBQVc7QUFBQSxVQUN6QixJQUFJLElBQUksWUFBWSxHQUFHLEtBQUssT0FBTyxZQUFZLFlBQVk7QUFBQSxZQUN6RCxPQUFPLHNCQUFzQixlQUFlLFdBQVUsY0FBYyxLQUFLLGVBQWUsT0FBTyxDQUFDO0FBQUEsVUFDbEc7QUFBQSxVQUNBLElBQUksQ0FBQyxTQUFTO0FBQUEsWUFDWixPQUFPLElBQUksY0FDVCxhQUFhLFlBQVcsT0FBTyxlQUFlLFlBQVksTUFBTSxvQkFBb0IsZ0JBQWdCLE9BQ3BHO0FBQUEsZ0JBQW1CLEtBQUssVUFBVSxNQUFNLFdBQVcsTUFBTSxJQUFJLElBQzdEO0FBQUEsZ0JBQW1CLEtBQUssVUFBVSxPQUFPLEtBQUssVUFBVSxHQUFHLE1BQU0sSUFBSSxDQUN2RTtBQUFBLFVBQ0Y7QUFBQSxVQUNBLElBQUksUUFBUSxRQUFRLFdBQVcsS0FBSyxlQUFlLFdBQVUsZUFBZSxNQUFNLEtBQUssb0JBQW9CO0FBQUEsVUFDM0csSUFBSSxPQUFPO0FBQUEsWUFDVCxPQUFPO0FBQUEsVUFDVDtBQUFBLFFBQ0Y7QUFBQSxRQUNBLE9BQU87QUFBQTtBQUFBLE1BR1QsT0FBTywyQkFBMkIsUUFBUTtBQUFBO0FBQUEsSUFHNUMsU0FBUyxNQUFNLENBQUMsV0FBVztBQUFBLE1BQ3pCLFFBQVEsT0FBTztBQUFBLGFBQ1I7QUFBQSxhQUNBO0FBQUEsYUFDQTtBQUFBLFVBQ0gsT0FBTztBQUFBLGFBQ0o7QUFBQSxVQUNILE9BQU8sQ0FBQztBQUFBLGFBQ0w7QUFBQSxVQUNILElBQUksTUFBTSxRQUFRLFNBQVMsR0FBRztBQUFBLFlBQzVCLE9BQU8sVUFBVSxNQUFNLE1BQU07QUFBQSxVQUMvQjtBQUFBLFVBQ0EsSUFBSSxjQUFjLFFBQVEsZ0JBQWUsU0FBUyxHQUFHO0FBQUEsWUFDbkQsT0FBTztBQUFBLFVBQ1Q7QUFBQSxVQUVBLElBQUksYUFBYSxjQUFjLFNBQVM7QUFBQSxVQUN4QyxJQUFJLFlBQVk7QUFBQSxZQUNkLElBQUksV0FBVyxXQUFXLEtBQUssU0FBUztBQUFBLFlBQ3hDLElBQUk7QUFBQSxZQUNKLElBQUksZUFBZSxVQUFVLFNBQVM7QUFBQSxjQUNwQyxPQUFPLEVBQUUsT0FBTyxTQUFTLEtBQUssR0FBRyxNQUFNO0FBQUEsZ0JBQ3JDLElBQUksQ0FBQyxPQUFPLEtBQUssS0FBSyxHQUFHO0FBQUEsa0JBQ3ZCLE9BQU87QUFBQSxnQkFDVDtBQUFBLGNBQ0Y7QUFBQSxZQUNGLEVBQU87QUFBQSxjQUVMLE9BQU8sRUFBRSxPQUFPLFNBQVMsS0FBSyxHQUFHLE1BQU07QUFBQSxnQkFDckMsSUFBSSxRQUFRLEtBQUs7QUFBQSxnQkFDakIsSUFBSSxPQUFPO0FBQUEsa0JBQ1QsSUFBSSxDQUFDLE9BQU8sTUFBTSxFQUFFLEdBQUc7QUFBQSxvQkFDckIsT0FBTztBQUFBLGtCQUNUO0FBQUEsZ0JBQ0Y7QUFBQSxjQUNGO0FBQUE7QUFBQSxVQUVKLEVBQU87QUFBQSxZQUNMLE9BQU87QUFBQTtBQUFBLFVBR1QsT0FBTztBQUFBO0FBQUEsVUFFUCxPQUFPO0FBQUE7QUFBQTtBQUFBLElBSWIsU0FBUyxRQUFRLENBQUMsVUFBVSxXQUFXO0FBQUEsTUFFckMsSUFBSSxhQUFhLFVBQVU7QUFBQSxRQUN6QixPQUFPO0FBQUEsTUFDVDtBQUFBLE1BR0EsSUFBSSxDQUFDLFdBQVc7QUFBQSxRQUNkLE9BQU87QUFBQSxNQUNUO0FBQUEsTUFHQSxJQUFJLFVBQVUscUJBQXFCLFVBQVU7QUFBQSxRQUMzQyxPQUFPO0FBQUEsTUFDVDtBQUFBLE1BR0EsSUFBSSxPQUFPLFdBQVcsY0FBYyxxQkFBcUIsUUFBUTtBQUFBLFFBQy9ELE9BQU87QUFBQSxNQUNUO0FBQUEsTUFFQSxPQUFPO0FBQUE7QUFBQSxJQUlULFNBQVMsV0FBVyxDQUFDLFdBQVc7QUFBQSxNQUM5QixJQUFJLFdBQVcsT0FBTztBQUFBLE1BQ3RCLElBQUksTUFBTSxRQUFRLFNBQVMsR0FBRztBQUFBLFFBQzVCLE9BQU87QUFBQSxNQUNUO0FBQUEsTUFDQSxJQUFJLHFCQUFxQixRQUFRO0FBQUEsUUFJL0IsT0FBTztBQUFBLE1BQ1Q7QUFBQSxNQUNBLElBQUksU0FBUyxVQUFVLFNBQVMsR0FBRztBQUFBLFFBQ2pDLE9BQU87QUFBQSxNQUNUO0FBQUEsTUFDQSxPQUFPO0FBQUE7QUFBQSxJQUtULFNBQVMsY0FBYyxDQUFDLFdBQVc7QUFBQSxNQUNqQyxJQUFJLE9BQU8sY0FBYyxlQUFlLGNBQWMsTUFBTTtBQUFBLFFBQzFELE9BQU8sS0FBSztBQUFBLE1BQ2Q7QUFBQSxNQUNBLElBQUksV0FBVyxZQUFZLFNBQVM7QUFBQSxNQUNwQyxJQUFJLGFBQWEsVUFBVTtBQUFBLFFBQ3pCLElBQUkscUJBQXFCLE1BQU07QUFBQSxVQUM3QixPQUFPO0FBQUEsUUFDVCxFQUFPLFNBQUkscUJBQXFCLFFBQVE7QUFBQSxVQUN0QyxPQUFPO0FBQUEsUUFDVDtBQUFBLE1BQ0Y7QUFBQSxNQUNBLE9BQU87QUFBQTtBQUFBLElBS1QsU0FBUyx3QkFBd0IsQ0FBQyxPQUFPO0FBQUEsTUFDdkMsSUFBSSxPQUFPLGVBQWUsS0FBSztBQUFBLE1BQy9CLFFBQVE7QUFBQSxhQUNEO0FBQUEsYUFDQTtBQUFBLFVBQ0gsT0FBTyxRQUFRO0FBQUEsYUFDWjtBQUFBLGFBQ0E7QUFBQSxhQUNBO0FBQUEsVUFDSCxPQUFPLE9BQU87QUFBQTtBQUFBLFVBRWQsT0FBTztBQUFBO0FBQUE7QUFBQSxJQUtiLFNBQVMsWUFBWSxDQUFDLFdBQVc7QUFBQSxNQUMvQixJQUFJLENBQUMsVUFBVSxlQUFlLENBQUMsVUFBVSxZQUFZLE1BQU07QUFBQSxRQUN6RCxPQUFPO0FBQUEsTUFDVDtBQUFBLE1BQ0EsT0FBTyxVQUFVLFlBQVk7QUFBQTtBQUFBLElBRy9CLGVBQWUsaUJBQWlCO0FBQUEsSUFDaEMsZUFBZSxvQkFBb0IsZUFBZTtBQUFBLElBQ2xELGVBQWUsWUFBWTtBQUFBLElBRTNCLE9BQU87QUFBQTtBQUFBOzs7O0VDeGxCZTtBQUFBLEVBRHhCLElBQUksTUFBdUM7QUFBQSxJQUtyQyxzQkFBc0I7QUFBQSxJQUMxQixPQUFPLDRDQUF1RCxtQkFBVyxtQkFBbUI7QUFBQSxFQUM5RixFQUFPO0FBQUEsRUFGRDtBQUFBOzs7O0dDQUgsUUFBUyxHQUFHO0FBQUEsSUFDWCxTQUFTLE1BQU0sQ0FBQyxRQUFRO0FBQUEsTUFDdEIsSUFBaUIsT0FBTyxXQUFwQixZQUF1QyxXQUFULE1BQWlCO0FBQUEsUUFDakQsSUFBSSxXQUFXLE9BQU87QUFBQSxRQUN0QixRQUFRO0FBQUEsZUFDRDtBQUFBLFlBQ0gsUUFBVSxTQUFTLE9BQU8sTUFBTztBQUFBLG1CQUMxQjtBQUFBLG1CQUNBO0FBQUEsbUJBQ0E7QUFBQSxtQkFDQTtBQUFBLG1CQUNBO0FBQUEsbUJBQ0E7QUFBQSxnQkFDSCxPQUFPO0FBQUE7QUFBQSxnQkFFUCxRQUFVLFNBQVMsVUFBVSxPQUFPLFVBQVc7QUFBQSx1QkFDeEM7QUFBQSx1QkFDQTtBQUFBLHVCQUNBO0FBQUEsdUJBQ0E7QUFBQSxvQkFDSCxPQUFPO0FBQUEsdUJBQ0o7QUFBQSxvQkFDSCxPQUFPO0FBQUE7QUFBQSxvQkFFUCxPQUFPO0FBQUE7QUFBQTtBQUFBLGVBR1o7QUFBQSxZQUNILE9BQU87QUFBQTtBQUFBLE1BRWI7QUFBQTtBQUFBLElBRUYsSUFBSSxxQkFBcUIsT0FBTyxJQUFJLDRCQUE0QixHQUM5RCxvQkFBb0IsT0FBTyxJQUFJLGNBQWMsR0FDN0Msc0JBQXNCLE9BQU8sSUFBSSxnQkFBZ0IsR0FDakQseUJBQXlCLE9BQU8sSUFBSSxtQkFBbUIsR0FDdkQsc0JBQXNCLE9BQU8sSUFBSSxnQkFBZ0IsR0FDakQsc0JBQXNCLE9BQU8sSUFBSSxnQkFBZ0IsR0FDakQscUJBQXFCLE9BQU8sSUFBSSxlQUFlLEdBQy9DLHlCQUF5QixPQUFPLElBQUksbUJBQW1CLEdBQ3ZELHNCQUFzQixPQUFPLElBQUksZ0JBQWdCLEdBQ2pELDJCQUEyQixPQUFPLElBQUkscUJBQXFCLEdBQzNELGtCQUFrQixPQUFPLElBQUksWUFBWSxHQUN6QyxrQkFBa0IsT0FBTyxJQUFJLFlBQVksR0FDekMsNkJBQTZCLE9BQU8sSUFBSSx1QkFBdUIsR0FDL0QseUJBQXlCLE9BQU8sSUFBSSx3QkFBd0I7QUFBQSxJQUN0RCwwQkFBa0I7QUFBQSxJQUNsQiwwQkFBa0I7QUFBQSxJQUNsQixrQkFBVTtBQUFBLElBQ1YscUJBQWE7QUFBQSxJQUNiLG1CQUFXO0FBQUEsSUFDWCxlQUFPO0FBQUEsSUFDUCxlQUFPO0FBQUEsSUFDUCxpQkFBUztBQUFBLElBQ1QsbUJBQVc7QUFBQSxJQUNYLHFCQUFhO0FBQUEsSUFDYixtQkFBVztBQUFBLElBQ1gsdUJBQWU7QUFBQSxJQUNmLDRCQUFvQixRQUFTLENBQUMsUUFBUTtBQUFBLE1BQzVDLE9BQU8sT0FBTyxNQUFNLE1BQU07QUFBQTtBQUFBLElBRXBCLDRCQUFvQixRQUFTLENBQUMsUUFBUTtBQUFBLE1BQzVDLE9BQU8sT0FBTyxNQUFNLE1BQU07QUFBQTtBQUFBLElBRXBCLG9CQUFZLFFBQVMsQ0FBQyxRQUFRO0FBQUEsTUFDcEMsT0FDZSxPQUFPLFdBQXBCLFlBQ1MsV0FBVCxRQUNBLE9BQU8sYUFBYTtBQUFBO0FBQUEsSUFHaEIsdUJBQWUsUUFBUyxDQUFDLFFBQVE7QUFBQSxNQUN2QyxPQUFPLE9BQU8sTUFBTSxNQUFNO0FBQUE7QUFBQSxJQUVwQixxQkFBYSxRQUFTLENBQUMsUUFBUTtBQUFBLE1BQ3JDLE9BQU8sT0FBTyxNQUFNLE1BQU07QUFBQTtBQUFBLElBRXBCLGlCQUFTLFFBQVMsQ0FBQyxRQUFRO0FBQUEsTUFDakMsT0FBTyxPQUFPLE1BQU0sTUFBTTtBQUFBO0FBQUEsSUFFcEIsaUJBQVMsUUFBUyxDQUFDLFFBQVE7QUFBQSxNQUNqQyxPQUFPLE9BQU8sTUFBTSxNQUFNO0FBQUE7QUFBQSxJQUVwQixtQkFBVyxRQUFTLENBQUMsUUFBUTtBQUFBLE1BQ25DLE9BQU8sT0FBTyxNQUFNLE1BQU07QUFBQTtBQUFBLElBRXBCLHFCQUFhLFFBQVMsQ0FBQyxRQUFRO0FBQUEsTUFDckMsT0FBTyxPQUFPLE1BQU0sTUFBTTtBQUFBO0FBQUEsSUFFcEIsdUJBQWUsUUFBUyxDQUFDLFFBQVE7QUFBQSxNQUN2QyxPQUFPLE9BQU8sTUFBTSxNQUFNO0FBQUE7QUFBQSxJQUVwQixxQkFBYSxRQUFTLENBQUMsUUFBUTtBQUFBLE1BQ3JDLE9BQU8sT0FBTyxNQUFNLE1BQU07QUFBQTtBQUFBLElBRXBCLHlCQUFpQixRQUFTLENBQUMsUUFBUTtBQUFBLE1BQ3pDLE9BQU8sT0FBTyxNQUFNLE1BQU07QUFBQTtBQUFBLElBRXBCLDZCQUFxQixRQUFTLENBQUMsTUFBTTtBQUFBLE1BQzNDLE9BQW9CLE9BQU8sU0FBcEIsWUFDVSxPQUFPLFNBQXRCLGNBQ0EsU0FBUyx1QkFDVCxTQUFTLHVCQUNULFNBQVMsMEJBQ1QsU0FBUyx1QkFDVCxTQUFTLDRCQUNLLE9BQU8sU0FBcEIsWUFDVSxTQUFULFNBQ0MsS0FBSyxhQUFhLG1CQUNqQixLQUFLLGFBQWEsbUJBQ2xCLEtBQUssYUFBYSxzQkFDbEIsS0FBSyxhQUFhLHVCQUNsQixLQUFLLGFBQWEsMEJBQ2xCLEtBQUssYUFBYSwwQkFDUCxLQUFLLGdCQUFYLGFBQ1AsT0FDQTtBQUFBO0FBQUEsSUFFRSxpQkFBUztBQUFBLEtBQ2hCO0FBQUE7Ozs7RUM5SHNCO0FBQUEsRUFIM0IsSUFBSSxPQUF1QyxDQUUzQyxFQUFPO0FBQUEsSUFDTCxPQUFPLFVBQWtCO0FBQUE7QUFBQTs7OztFQ1EzQixJQUFJLE1BQXVDO0FBQUEsS0FDeEMsUUFBUSxHQUFHO0FBQUEsTUFLZCxJQUFJLFlBQVksT0FBTyxXQUFXLGNBQWMsT0FBTztBQUFBLE1BQ3ZELElBQUkscUJBQXFCLFlBQVksT0FBTyxJQUFJLGVBQWUsSUFBSTtBQUFBLE1BQ25FLElBQUksb0JBQW9CLFlBQVksT0FBTyxJQUFJLGNBQWMsSUFBSTtBQUFBLE1BQ2pFLElBQUksc0JBQXNCLFlBQVksT0FBTyxJQUFJLGdCQUFnQixJQUFJO0FBQUEsTUFDckUsSUFBSSx5QkFBeUIsWUFBWSxPQUFPLElBQUksbUJBQW1CLElBQUk7QUFBQSxNQUMzRSxJQUFJLHNCQUFzQixZQUFZLE9BQU8sSUFBSSxnQkFBZ0IsSUFBSTtBQUFBLE1BQ3JFLElBQUksc0JBQXNCLFlBQVksT0FBTyxJQUFJLGdCQUFnQixJQUFJO0FBQUEsTUFDckUsSUFBSSxxQkFBcUIsWUFBWSxPQUFPLElBQUksZUFBZSxJQUFJO0FBQUEsTUFHbkUsSUFBSSx3QkFBd0IsWUFBWSxPQUFPLElBQUksa0JBQWtCLElBQUk7QUFBQSxNQUN6RSxJQUFJLDZCQUE2QixZQUFZLE9BQU8sSUFBSSx1QkFBdUIsSUFBSTtBQUFBLE1BQ25GLElBQUkseUJBQXlCLFlBQVksT0FBTyxJQUFJLG1CQUFtQixJQUFJO0FBQUEsTUFDM0UsSUFBSSxzQkFBc0IsWUFBWSxPQUFPLElBQUksZ0JBQWdCLElBQUk7QUFBQSxNQUNyRSxJQUFJLDJCQUEyQixZQUFZLE9BQU8sSUFBSSxxQkFBcUIsSUFBSTtBQUFBLE1BQy9FLElBQUksa0JBQWtCLFlBQVksT0FBTyxJQUFJLFlBQVksSUFBSTtBQUFBLE1BQzdELElBQUksa0JBQWtCLFlBQVksT0FBTyxJQUFJLFlBQVksSUFBSTtBQUFBLE1BQzdELElBQUksbUJBQW1CLFlBQVksT0FBTyxJQUFJLGFBQWEsSUFBSTtBQUFBLE1BQy9ELElBQUkseUJBQXlCLFlBQVksT0FBTyxJQUFJLG1CQUFtQixJQUFJO0FBQUEsTUFDM0UsSUFBSSx1QkFBdUIsWUFBWSxPQUFPLElBQUksaUJBQWlCLElBQUk7QUFBQSxNQUN2RSxJQUFJLG1CQUFtQixZQUFZLE9BQU8sSUFBSSxhQUFhLElBQUk7QUFBQSxNQUUvRCxTQUFTLG1CQUFrQixDQUFDLE1BQU07QUFBQSxRQUNoQyxPQUFPLE9BQU8sU0FBUyxZQUFZLE9BQU8sU0FBUyxjQUNuRCxTQUFTLHVCQUF1QixTQUFTLDhCQUE4QixTQUFTLHVCQUF1QixTQUFTLDBCQUEwQixTQUFTLHVCQUF1QixTQUFTLDRCQUE0QixPQUFPLFNBQVMsWUFBWSxTQUFTLFNBQVMsS0FBSyxhQUFhLG1CQUFtQixLQUFLLGFBQWEsbUJBQW1CLEtBQUssYUFBYSx1QkFBdUIsS0FBSyxhQUFhLHNCQUFzQixLQUFLLGFBQWEsMEJBQTBCLEtBQUssYUFBYSwwQkFBMEIsS0FBSyxhQUFhLHdCQUF3QixLQUFLLGFBQWEsb0JBQW9CLEtBQUssYUFBYTtBQUFBO0FBQUEsTUFHcGxCLFNBQVMsTUFBTSxDQUFDLFFBQVE7QUFBQSxRQUN0QixJQUFJLE9BQU8sV0FBVyxZQUFZLFdBQVcsTUFBTTtBQUFBLFVBQ2pELElBQUksV0FBVyxPQUFPO0FBQUEsVUFFdEIsUUFBUTtBQUFBLGlCQUNEO0FBQUEsY0FDSCxJQUFJLE9BQU8sT0FBTztBQUFBLGNBRWxCLFFBQVE7QUFBQSxxQkFDRDtBQUFBLHFCQUNBO0FBQUEscUJBQ0E7QUFBQSxxQkFDQTtBQUFBLHFCQUNBO0FBQUEscUJBQ0E7QUFBQSxrQkFDSCxPQUFPO0FBQUE7QUFBQSxrQkFHUCxJQUFJLGVBQWUsUUFBUSxLQUFLO0FBQUEsa0JBRWhDLFFBQVE7QUFBQSx5QkFDRDtBQUFBLHlCQUNBO0FBQUEseUJBQ0E7QUFBQSx5QkFDQTtBQUFBLHlCQUNBO0FBQUEsc0JBQ0gsT0FBTztBQUFBO0FBQUEsc0JBR1AsT0FBTztBQUFBO0FBQUE7QUFBQSxpQkFLWjtBQUFBLGNBQ0gsT0FBTztBQUFBO0FBQUEsUUFFYjtBQUFBLFFBRUE7QUFBQTtBQUFBLE1BR0YsSUFBSSxZQUFZO0FBQUEsTUFDaEIsSUFBSSxpQkFBaUI7QUFBQSxNQUNyQixJQUFJLGtCQUFrQjtBQUFBLE1BQ3RCLElBQUksa0JBQWtCO0FBQUEsTUFDdEIsSUFBSSxXQUFVO0FBQUEsTUFDZCxJQUFJLGFBQWE7QUFBQSxNQUNqQixJQUFJLFlBQVc7QUFBQSxNQUNmLElBQUksT0FBTztBQUFBLE1BQ1gsSUFBSSxPQUFPO0FBQUEsTUFDWCxJQUFJLFNBQVM7QUFBQSxNQUNiLElBQUksV0FBVztBQUFBLE1BQ2YsSUFBSSxhQUFhO0FBQUEsTUFDakIsSUFBSSxZQUFXO0FBQUEsTUFDZixJQUFJLHNDQUFzQztBQUFBLE1BRTFDLFNBQVMsV0FBVyxDQUFDLFFBQVE7QUFBQSxRQUMzQjtBQUFBLFVBQ0UsSUFBSSxDQUFDLHFDQUFxQztBQUFBLFlBQ3hDLHNDQUFzQztBQUFBLFlBRXRDLFFBQVEsUUFBUSwwREFBMEQsK0RBQStELGdFQUFnRTtBQUFBLFVBQzNNO0FBQUEsUUFDRjtBQUFBLFFBRUEsT0FBTyxpQkFBaUIsTUFBTSxLQUFLLE9BQU8sTUFBTSxNQUFNO0FBQUE7QUFBQSxNQUV4RCxTQUFTLGdCQUFnQixDQUFDLFFBQVE7QUFBQSxRQUNoQyxPQUFPLE9BQU8sTUFBTSxNQUFNO0FBQUE7QUFBQSxNQUU1QixTQUFTLGlCQUFpQixDQUFDLFFBQVE7QUFBQSxRQUNqQyxPQUFPLE9BQU8sTUFBTSxNQUFNO0FBQUE7QUFBQSxNQUU1QixTQUFTLGlCQUFpQixDQUFDLFFBQVE7QUFBQSxRQUNqQyxPQUFPLE9BQU8sTUFBTSxNQUFNO0FBQUE7QUFBQSxNQUU1QixTQUFTLFNBQVMsQ0FBQyxRQUFRO0FBQUEsUUFDekIsT0FBTyxPQUFPLFdBQVcsWUFBWSxXQUFXLFFBQVEsT0FBTyxhQUFhO0FBQUE7QUFBQSxNQUU5RSxTQUFTLFlBQVksQ0FBQyxRQUFRO0FBQUEsUUFDNUIsT0FBTyxPQUFPLE1BQU0sTUFBTTtBQUFBO0FBQUEsTUFFNUIsU0FBUyxVQUFVLENBQUMsUUFBUTtBQUFBLFFBQzFCLE9BQU8sT0FBTyxNQUFNLE1BQU07QUFBQTtBQUFBLE1BRTVCLFNBQVMsTUFBTSxDQUFDLFFBQVE7QUFBQSxRQUN0QixPQUFPLE9BQU8sTUFBTSxNQUFNO0FBQUE7QUFBQSxNQUU1QixTQUFTLE1BQU0sQ0FBQyxRQUFRO0FBQUEsUUFDdEIsT0FBTyxPQUFPLE1BQU0sTUFBTTtBQUFBO0FBQUEsTUFFNUIsU0FBUyxRQUFRLENBQUMsUUFBUTtBQUFBLFFBQ3hCLE9BQU8sT0FBTyxNQUFNLE1BQU07QUFBQTtBQUFBLE1BRTVCLFNBQVMsVUFBVSxDQUFDLFFBQVE7QUFBQSxRQUMxQixPQUFPLE9BQU8sTUFBTSxNQUFNO0FBQUE7QUFBQSxNQUU1QixTQUFTLFlBQVksQ0FBQyxRQUFRO0FBQUEsUUFDNUIsT0FBTyxPQUFPLE1BQU0sTUFBTTtBQUFBO0FBQUEsTUFFNUIsU0FBUyxVQUFVLENBQUMsUUFBUTtBQUFBLFFBQzFCLE9BQU8sT0FBTyxNQUFNLE1BQU07QUFBQTtBQUFBLE1BR3BCLG9CQUFZO0FBQUEsTUFDWix5QkFBaUI7QUFBQSxNQUNqQiwwQkFBa0I7QUFBQSxNQUNsQiwwQkFBa0I7QUFBQSxNQUNsQixrQkFBVTtBQUFBLE1BQ1YscUJBQWE7QUFBQSxNQUNiLG1CQUFXO0FBQUEsTUFDWCxlQUFPO0FBQUEsTUFDUCxlQUFPO0FBQUEsTUFDUCxpQkFBUztBQUFBLE1BQ1QsbUJBQVc7QUFBQSxNQUNYLHFCQUFhO0FBQUEsTUFDYixtQkFBVztBQUFBLE1BQ1gsc0JBQWM7QUFBQSxNQUNkLDJCQUFtQjtBQUFBLE1BQ25CLDRCQUFvQjtBQUFBLE1BQ3BCLDRCQUFvQjtBQUFBLE1BQ3BCLG9CQUFZO0FBQUEsTUFDWix1QkFBZTtBQUFBLE1BQ2YscUJBQWE7QUFBQSxNQUNiLGlCQUFTO0FBQUEsTUFDVCxpQkFBUztBQUFBLE1BQ1QsbUJBQVc7QUFBQSxNQUNYLHFCQUFhO0FBQUEsTUFDYix1QkFBZTtBQUFBLE1BQ2YscUJBQWE7QUFBQSxNQUNiLDZCQUFxQjtBQUFBLE1BQ3JCLGlCQUFTO0FBQUEsT0FDWjtBQUFBLEVBQ0w7QUFBQTs7OztFQy9LMkI7QUFBQSxFQUgzQixJQUFJLE9BQXVDLENBRTNDLEVBQU87QUFBQSxJQUNMLE9BQU8sVUFBa0I7QUFBQTtBQUFBOzs7O0VDSEw7QUFBQSxFQU10QixJQUFJLGdCQUFnQjtBQUFBLElBQ2xCLG1CQUFtQjtBQUFBLElBQ25CLGFBQWE7QUFBQSxJQUNiLGNBQWM7QUFBQSxJQUNkLGNBQWM7QUFBQSxJQUNkLGFBQWE7QUFBQSxJQUNiLGlCQUFpQjtBQUFBLElBQ2pCLDBCQUEwQjtBQUFBLElBQzFCLDBCQUEwQjtBQUFBLElBQzFCLFFBQVE7QUFBQSxJQUNSLFdBQVc7QUFBQSxJQUNYLE1BQU07QUFBQSxFQUNSO0FBQUEsRUFDQSxJQUFJLGdCQUFnQjtBQUFBLElBQ2xCLE1BQU07QUFBQSxJQUNOLFFBQVE7QUFBQSxJQUNSLFdBQVc7QUFBQSxJQUNYLFFBQVE7QUFBQSxJQUNSLFFBQVE7QUFBQSxJQUNSLFdBQVc7QUFBQSxJQUNYLE9BQU87QUFBQSxFQUNUO0FBQUEsRUFDQSxJQUFJLHNCQUFzQjtBQUFBLElBQ3hCLFVBQVk7QUFBQSxJQUNaLFFBQVE7QUFBQSxJQUNSLGNBQWM7QUFBQSxJQUNkLGFBQWE7QUFBQSxJQUNiLFdBQVc7QUFBQSxFQUNiO0FBQUEsRUFDQSxJQUFJLGVBQWU7QUFBQSxJQUNqQixVQUFZO0FBQUEsSUFDWixTQUFTO0FBQUEsSUFDVCxjQUFjO0FBQUEsSUFDZCxhQUFhO0FBQUEsSUFDYixXQUFXO0FBQUEsSUFDWCxNQUFNO0FBQUEsRUFDUjtBQUFBLEVBQ0EsSUFBSSxlQUFlLENBQUM7QUFBQSxFQUNwQixhQUFxQixzQkFBYztBQUFBLEVBQ25DLGFBQXFCLGdCQUFRO0FBQUEsRUFFN0IsU0FBUyxVQUFVLENBQUMsV0FBVztBQUFBLElBRTdCLElBQVksZUFBTyxTQUFTLEdBQUc7QUFBQSxNQUM3QixPQUFPO0FBQUEsSUFDVDtBQUFBLElBR0EsT0FBTyxhQUFhLFVBQVUsZ0JBQWdCO0FBQUE7QUFBQSxFQUdoRCxJQUFJLGlCQUFpQixPQUFPO0FBQUEsRUFDNUIsSUFBSSxzQkFBc0IsT0FBTztBQUFBLEVBQ2pDLElBQUksd0JBQXdCLE9BQU87QUFBQSxFQUNuQyxJQUFJLDJCQUEyQixPQUFPO0FBQUEsRUFDdEMsSUFBSSxpQkFBaUIsT0FBTztBQUFBLEVBQzVCLElBQUksa0JBQWtCLE9BQU87QUFBQSxFQUM3QixTQUFTLG9CQUFvQixDQUFDLGlCQUFpQixpQkFBaUIsV0FBVztBQUFBLElBQ3pFLElBQUksT0FBTyxvQkFBb0IsVUFBVTtBQUFBLE1BRXZDLElBQUksaUJBQWlCO0FBQUEsUUFDbkIsSUFBSSxxQkFBcUIsZUFBZSxlQUFlO0FBQUEsUUFFdkQsSUFBSSxzQkFBc0IsdUJBQXVCLGlCQUFpQjtBQUFBLFVBQ2hFLHFCQUFxQixpQkFBaUIsb0JBQW9CLFNBQVM7QUFBQSxRQUNyRTtBQUFBLE1BQ0Y7QUFBQSxNQUVBLElBQUksT0FBTyxvQkFBb0IsZUFBZTtBQUFBLE1BRTlDLElBQUksdUJBQXVCO0FBQUEsUUFDekIsT0FBTyxLQUFLLE9BQU8sc0JBQXNCLGVBQWUsQ0FBQztBQUFBLE1BQzNEO0FBQUEsTUFFQSxJQUFJLGdCQUFnQixXQUFXLGVBQWU7QUFBQSxNQUM5QyxJQUFJLGdCQUFnQixXQUFXLGVBQWU7QUFBQSxNQUU5QyxTQUFTLElBQUksRUFBRyxJQUFJLEtBQUssUUFBUSxFQUFFLEdBQUc7QUFBQSxRQUNwQyxJQUFJLE1BQU0sS0FBSztBQUFBLFFBRWYsSUFBSSxDQUFDLGNBQWMsUUFBUSxFQUFFLGFBQWEsVUFBVSxTQUFTLEVBQUUsaUJBQWlCLGNBQWMsU0FBUyxFQUFFLGlCQUFpQixjQUFjLE9BQU87QUFBQSxVQUM3SSxJQUFJLGFBQWEseUJBQXlCLGlCQUFpQixHQUFHO0FBQUEsVUFFOUQsSUFBSTtBQUFBLFlBRUYsZUFBZSxpQkFBaUIsS0FBSyxVQUFVO0FBQUEsWUFDL0MsT0FBTyxHQUFHO0FBQUEsUUFDZDtBQUFBLE1BQ0Y7QUFBQSxJQUNGO0FBQUEsSUFFQSxPQUFPO0FBQUE7QUFBQSxFQUdULE9BQU8sVUFBVTtBQUFBOzs7O0VDdUxPO0FBQUEsR0FqUnJCLFFBQVMsR0FBRztBQUFBLElBQ1gsU0FBUyx3QkFBd0IsQ0FBQyxNQUFNO0FBQUEsTUFDdEMsSUFBWSxRQUFSO0FBQUEsUUFBYyxPQUFPO0FBQUEsTUFDekIsSUFBbUIsT0FBTyxTQUF0QjtBQUFBLFFBQ0YsT0FBTyxLQUFLLGFBQWEseUJBQ3JCLE9BQ0EsS0FBSyxlQUFlLEtBQUssUUFBUTtBQUFBLE1BQ3ZDLElBQWlCLE9BQU8sU0FBcEI7QUFBQSxRQUEwQixPQUFPO0FBQUEsTUFDckMsUUFBUTtBQUFBLGFBQ0Q7QUFBQSxVQUNILE9BQU87QUFBQSxhQUNKO0FBQUEsVUFDSCxPQUFPO0FBQUEsYUFDSjtBQUFBLFVBQ0gsT0FBTztBQUFBLGFBQ0o7QUFBQSxVQUNILE9BQU87QUFBQSxhQUNKO0FBQUEsVUFDSCxPQUFPO0FBQUEsYUFDSjtBQUFBLFVBQ0gsT0FBTztBQUFBO0FBQUEsTUFFWCxJQUFpQixPQUFPLFNBQXBCO0FBQUEsUUFDRixRQUNnQixPQUFPLEtBQUssUUFBekIsWUFDQyxRQUFRLE1BQ04sbUhBQ0YsR0FDRixLQUFLO0FBQUEsZUFFQTtBQUFBLFlBQ0gsT0FBTztBQUFBLGVBQ0o7QUFBQSxZQUNILE9BQU8sS0FBSyxlQUFlO0FBQUEsZUFDeEI7QUFBQSxZQUNILFFBQVEsS0FBSyxTQUFTLGVBQWUsYUFBYTtBQUFBLGVBQy9DO0FBQUEsWUFDSCxJQUFJLFlBQVksS0FBSztBQUFBLFlBQ3JCLE9BQU8sS0FBSztBQUFBLFlBQ1osU0FDSSxPQUFPLFVBQVUsZUFBZSxVQUFVLFFBQVEsSUFDbkQsT0FBYyxTQUFQLEtBQWMsZ0JBQWdCLE9BQU8sTUFBTTtBQUFBLFlBQ3JELE9BQU87QUFBQSxlQUNKO0FBQUEsWUFDSCxPQUNHLFlBQVksS0FBSyxlQUFlLE1BQ3hCLGNBQVQsT0FDSSxZQUNBLHlCQUF5QixLQUFLLElBQUksS0FBSztBQUFBLGVBRTFDO0FBQUEsWUFDSCxZQUFZLEtBQUs7QUFBQSxZQUNqQixPQUFPLEtBQUs7QUFBQSxZQUNaLElBQUk7QUFBQSxjQUNGLE9BQU8seUJBQXlCLEtBQUssU0FBUyxDQUFDO0FBQUEsY0FDL0MsT0FBTyxHQUFHO0FBQUE7QUFBQSxNQUVsQixPQUFPO0FBQUE7QUFBQSxJQUVULFNBQVMsa0JBQWtCLENBQUMsT0FBTztBQUFBLE1BQ2pDLE9BQU8sS0FBSztBQUFBO0FBQUEsSUFFZCxTQUFTLHNCQUFzQixDQUFDLE9BQU87QUFBQSxNQUNyQyxJQUFJO0FBQUEsUUFDRixtQkFBbUIsS0FBSztBQUFBLFFBQ3hCLElBQUksMkJBQTJCO0FBQUEsUUFDL0IsT0FBTyxHQUFHO0FBQUEsUUFDViwyQkFBMkI7QUFBQTtBQUFBLE1BRTdCLElBQUksMEJBQTBCO0FBQUEsUUFDNUIsMkJBQTJCO0FBQUEsUUFDM0IsSUFBSSx3QkFBd0IseUJBQXlCO0FBQUEsUUFDckQsSUFBSSxvQ0FDYyxPQUFPLFdBQXRCLGNBQ0MsT0FBTyxlQUNQLE1BQU0sT0FBTyxnQkFDZixNQUFNLFlBQVksUUFDbEI7QUFBQSxRQUNGLHNCQUFzQixLQUNwQiwwQkFDQSw0R0FDQSxpQ0FDRjtBQUFBLFFBQ0EsT0FBTyxtQkFBbUIsS0FBSztBQUFBLE1BQ2pDO0FBQUE7QUFBQSxJQUVGLFNBQVMsV0FBVyxDQUFDLE1BQU07QUFBQSxNQUN6QixJQUFJLFNBQVM7QUFBQSxRQUFxQixPQUFPO0FBQUEsTUFDekMsSUFDZSxPQUFPLFNBQXBCLFlBQ1MsU0FBVCxRQUNBLEtBQUssYUFBYTtBQUFBLFFBRWxCLE9BQU87QUFBQSxNQUNULElBQUk7QUFBQSxRQUNGLElBQUksT0FBTyx5QkFBeUIsSUFBSTtBQUFBLFFBQ3hDLE9BQU8sT0FBTyxNQUFNLE9BQU8sTUFBTTtBQUFBLFFBQ2pDLE9BQU8sR0FBRztBQUFBLFFBQ1YsT0FBTztBQUFBO0FBQUE7QUFBQSxJQUdYLFNBQVMsUUFBUSxHQUFHO0FBQUEsTUFDbEIsSUFBSSxhQUFhLHFCQUFxQjtBQUFBLE1BQ3RDLE9BQWdCLGVBQVQsT0FBc0IsT0FBTyxXQUFXLFNBQVM7QUFBQTtBQUFBLElBRTFELFNBQVMsWUFBWSxHQUFHO0FBQUEsTUFDdEIsT0FBTyxNQUFNLHVCQUF1QjtBQUFBO0FBQUEsSUFFdEMsU0FBUyxXQUFXLENBQUMsUUFBUTtBQUFBLE1BQzNCLElBQUksZUFBZSxLQUFLLFFBQVEsS0FBSyxHQUFHO0FBQUEsUUFDdEMsSUFBSSxTQUFTLE9BQU8seUJBQXlCLFFBQVEsS0FBSyxFQUFFO0FBQUEsUUFDNUQsSUFBSSxVQUFVLE9BQU87QUFBQSxVQUFnQixPQUFPO0FBQUEsTUFDOUM7QUFBQSxNQUNBLE9BQWtCLE9BQU8sUUFBYjtBQUFBO0FBQUEsSUFFZCxTQUFTLDBCQUEwQixDQUFDLE9BQU8sYUFBYTtBQUFBLE1BQ3RELFNBQVMscUJBQXFCLEdBQUc7QUFBQSxRQUMvQiwrQkFDSSw2QkFBNkIsTUFDL0IsUUFBUSxNQUNOLDJPQUNBLFdBQ0Y7QUFBQTtBQUFBLE1BRUosc0JBQXNCLGlCQUFpQjtBQUFBLE1BQ3ZDLE9BQU8sZUFBZSxPQUFPLE9BQU87QUFBQSxRQUNsQyxLQUFLO0FBQUEsUUFDTCxjQUFjO0FBQUEsTUFDaEIsQ0FBQztBQUFBO0FBQUEsSUFFSCxTQUFTLHNDQUFzQyxHQUFHO0FBQUEsTUFDaEQsSUFBSSxnQkFBZ0IseUJBQXlCLEtBQUssSUFBSTtBQUFBLE1BQ3RELHVCQUF1QixtQkFDbkIsdUJBQXVCLGlCQUFpQixNQUMxQyxRQUFRLE1BQ04sNklBQ0Y7QUFBQSxNQUNGLGdCQUFnQixLQUFLLE1BQU07QUFBQSxNQUMzQixPQUFrQixrQkFBTixZQUFzQixnQkFBZ0I7QUFBQTtBQUFBLElBRXBELFNBQVMsWUFBWSxDQUFDLE1BQU0sS0FBSyxPQUFPLE9BQU8sWUFBWSxXQUFXO0FBQUEsTUFDcEUsSUFBSSxVQUFVLE1BQU07QUFBQSxNQUNwQixPQUFPO0FBQUEsUUFDTCxVQUFVO0FBQUEsUUFDVjtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQSxRQUFRO0FBQUEsTUFDVjtBQUFBLE9BQ3FCLFlBQU4sWUFBZ0IsVUFBVSxVQUF6QyxPQUNJLE9BQU8sZUFBZSxNQUFNLE9BQU87QUFBQSxRQUNqQyxZQUFZO0FBQUEsUUFDWixLQUFLO0FBQUEsTUFDUCxDQUFDLElBQ0QsT0FBTyxlQUFlLE1BQU0sT0FBTyxFQUFFLFlBQVksT0FBSSxPQUFPLEtBQUssQ0FBQztBQUFBLE1BQ3RFLEtBQUssU0FBUyxDQUFDO0FBQUEsTUFDZixPQUFPLGVBQWUsS0FBSyxRQUFRLGFBQWE7QUFBQSxRQUM5QyxjQUFjO0FBQUEsUUFDZCxZQUFZO0FBQUEsUUFDWixVQUFVO0FBQUEsUUFDVixPQUFPO0FBQUEsTUFDVCxDQUFDO0FBQUEsTUFDRCxPQUFPLGVBQWUsTUFBTSxjQUFjO0FBQUEsUUFDeEMsY0FBYztBQUFBLFFBQ2QsWUFBWTtBQUFBLFFBQ1osVUFBVTtBQUFBLFFBQ1YsT0FBTztBQUFBLE1BQ1QsQ0FBQztBQUFBLE1BQ0QsT0FBTyxlQUFlLE1BQU0sZUFBZTtBQUFBLFFBQ3pDLGNBQWM7QUFBQSxRQUNkLFlBQVk7QUFBQSxRQUNaLFVBQVU7QUFBQSxRQUNWLE9BQU87QUFBQSxNQUNULENBQUM7QUFBQSxNQUNELE9BQU8sZUFBZSxNQUFNLGNBQWM7QUFBQSxRQUN4QyxjQUFjO0FBQUEsUUFDZCxZQUFZO0FBQUEsUUFDWixVQUFVO0FBQUEsUUFDVixPQUFPO0FBQUEsTUFDVCxDQUFDO0FBQUEsTUFDRCxPQUFPLFdBQVcsT0FBTyxPQUFPLEtBQUssS0FBSyxHQUFHLE9BQU8sT0FBTyxJQUFJO0FBQUEsTUFDL0QsT0FBTztBQUFBO0FBQUEsSUFFVCxTQUFTLFVBQVUsQ0FDakIsTUFDQSxRQUNBLFVBQ0Esa0JBQ0EsWUFDQSxXQUNBO0FBQUEsTUFDQSxJQUFJLFdBQVcsT0FBTztBQUFBLE1BQ3RCLElBQWUsYUFBTjtBQUFBLFFBQ1AsSUFBSTtBQUFBLFVBQ0YsSUFBSSxZQUFZLFFBQVEsR0FBRztBQUFBLFlBQ3pCLEtBQ0UsbUJBQW1CLEVBQ25CLG1CQUFtQixTQUFTLFFBQzVCO0FBQUEsY0FFQSxrQkFBa0IsU0FBUyxpQkFBaUI7QUFBQSxZQUM5QyxPQUFPLFVBQVUsT0FBTyxPQUFPLFFBQVE7QUFBQSxVQUN6QyxFQUNFO0FBQUEsb0JBQVEsTUFDTixzSkFDRjtBQUFBLFFBQ0M7QUFBQSw0QkFBa0IsUUFBUTtBQUFBLE1BQ2pDLElBQUksZUFBZSxLQUFLLFFBQVEsS0FBSyxHQUFHO0FBQUEsUUFDdEMsV0FBVyx5QkFBeUIsSUFBSTtBQUFBLFFBQ3hDLElBQUksT0FBTyxPQUFPLEtBQUssTUFBTSxFQUFFLE9BQU8sUUFBUyxDQUFDLEdBQUc7QUFBQSxVQUNqRCxPQUFpQixNQUFWO0FBQUEsU0FDUjtBQUFBLFFBQ0QsbUJBQ0UsSUFBSSxLQUFLLFNBQ0wsb0JBQW9CLEtBQUssS0FBSyxTQUFTLElBQUksV0FDM0M7QUFBQSxRQUNOLHNCQUFzQixXQUFXLHNCQUM3QixPQUNBLElBQUksS0FBSyxTQUFTLE1BQU0sS0FBSyxLQUFLLFNBQVMsSUFBSSxXQUFXLE1BQzVELFFBQVEsTUFDTjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsb0NBQ0Esa0JBQ0EsVUFDQSxNQUNBLFFBQ0YsR0FDQyxzQkFBc0IsV0FBVyxvQkFBb0I7QUFBQSxNQUMxRDtBQUFBLE1BQ0EsV0FBVztBQUFBLE1BQ0EsYUFBTixjQUNGLHVCQUF1QixRQUFRLEdBQUksV0FBVyxLQUFLO0FBQUEsTUFDdEQsWUFBWSxNQUFNLE1BQ2YsdUJBQXVCLE9BQU8sR0FBRyxHQUFJLFdBQVcsS0FBSyxPQUFPO0FBQUEsTUFDL0QsSUFBSSxTQUFTLFFBQVE7QUFBQSxRQUNuQixXQUFXLENBQUM7QUFBQSxRQUNaLFNBQVMsWUFBWTtBQUFBLFVBQ1QsYUFBVixVQUF1QixTQUFTLFlBQVksT0FBTztBQUFBLE1BQ3ZELEVBQU87QUFBQSxtQkFBVztBQUFBLE1BQ2xCLFlBQ0UsMkJBQ0UsVUFDZSxPQUFPLFNBQXRCLGFBQ0ksS0FBSyxlQUFlLEtBQUssUUFBUSxZQUNqQyxJQUNOO0FBQUEsTUFDRixPQUFPLGFBQ0wsTUFDQSxVQUNBLFVBQ0EsU0FBUyxHQUNULFlBQ0EsU0FDRjtBQUFBO0FBQUEsSUFFRixTQUFTLGlCQUFpQixDQUFDLE9BQU07QUFBQSxNQUMvQixnQkFBZSxLQUFJLElBQ2YsTUFBSyxXQUFXLE1BQUssT0FBTyxZQUFZLEtBQzNCLE9BQU8sVUFBcEIsWUFDUyxVQUFULFFBQ0EsTUFBSyxhQUFhLG9CQUNELE1BQUssU0FBUyxXQUE5QixjQUNHLGdCQUFlLE1BQUssU0FBUyxLQUFLLEtBQ2xDLE1BQUssU0FBUyxNQUFNLFdBQ25CLE1BQUssU0FBUyxNQUFNLE9BQU8sWUFBWSxLQUN4QyxNQUFLLFdBQVcsTUFBSyxPQUFPLFlBQVk7QUFBQTtBQUFBLElBRWxELFNBQVMsZUFBYyxDQUFDLFFBQVE7QUFBQSxNQUM5QixPQUNlLE9BQU8sV0FBcEIsWUFDUyxXQUFULFFBQ0EsT0FBTyxhQUFhO0FBQUE7QUFBQSxJQUd4QixJQUNFLHFCQUFxQixPQUFPLElBQUksNEJBQTRCLEdBQzVELG9CQUFvQixPQUFPLElBQUksY0FBYyxHQUM3QyxzQkFBc0IsT0FBTyxJQUFJLGdCQUFnQixHQUNqRCx5QkFBeUIsT0FBTyxJQUFJLG1CQUFtQixHQUN2RCxzQkFBc0IsT0FBTyxJQUFJLGdCQUFnQixHQUNqRCxzQkFBc0IsT0FBTyxJQUFJLGdCQUFnQixHQUNqRCxxQkFBcUIsT0FBTyxJQUFJLGVBQWUsR0FDL0MseUJBQXlCLE9BQU8sSUFBSSxtQkFBbUIsR0FDdkQsc0JBQXNCLE9BQU8sSUFBSSxnQkFBZ0IsR0FDakQsMkJBQTJCLE9BQU8sSUFBSSxxQkFBcUIsR0FDM0Qsa0JBQWtCLE9BQU8sSUFBSSxZQUFZLEdBQ3pDLGtCQUFrQixPQUFPLElBQUksWUFBWSxHQUN6QyxzQkFBc0IsT0FBTyxJQUFJLGdCQUFnQixHQUNqRCx5QkFBeUIsT0FBTyxJQUFJLHdCQUF3QixHQUM1RCx1QkFDUSx5RUFDUixpQkFBaUIsT0FBTyxVQUFVLGdCQUNsQyxjQUFjLE1BQU0sU0FDcEIsYUFBYSxRQUFRLGFBQ2pCLFFBQVEsYUFDUixRQUFTLEdBQUc7QUFBQSxNQUNWLE9BQU87QUFBQTtBQUFBLElBRWYsVUFBUTtBQUFBLE1BQ04sMEJBQTBCLFFBQVMsQ0FBQyxtQkFBbUI7QUFBQSxRQUNyRCxPQUFPLGtCQUFrQjtBQUFBO0FBQUEsSUFFN0I7QUFBQSxJQUNBLElBQUk7QUFBQSxJQUNKLElBQUkseUJBQXlCLENBQUM7QUFBQSxJQUM5QixJQUFJLHlCQUErQixpQ0FBeUIsS0FDMUQsU0FDQSxZQUNGLEVBQUU7QUFBQSxJQUNGLElBQUksd0JBQXdCLFdBQVcsWUFBWSxZQUFZLENBQUM7QUFBQSxJQUNoRSxJQUFJLHdCQUF3QixDQUFDO0FBQUEsSUFDckIsbUJBQVc7QUFBQSxJQUNYLGNBQU0sUUFBUyxDQUFDLE1BQU0sUUFBUSxVQUFVO0FBQUEsTUFDOUMsSUFBSSxtQkFDRixNQUFNLHFCQUFxQjtBQUFBLE1BQzdCLE9BQU8sV0FDTCxNQUNBLFFBQ0EsVUFDQSxPQUNBLG1CQUNJLE1BQU0sdUJBQXVCLElBQzdCLHdCQUNKLG1CQUFtQixXQUFXLFlBQVksSUFBSSxDQUFDLElBQUkscUJBQ3JEO0FBQUE7QUFBQSxJQUVNLGVBQU8sUUFBUyxDQUFDLE1BQU0sUUFBUSxVQUFVO0FBQUEsTUFDL0MsSUFBSSxtQkFDRixNQUFNLHFCQUFxQjtBQUFBLE1BQzdCLE9BQU8sV0FDTCxNQUNBLFFBQ0EsVUFDQSxNQUNBLG1CQUNJLE1BQU0sdUJBQXVCLElBQzdCLHdCQUNKLG1CQUFtQixXQUFXLFlBQVksSUFBSSxDQUFDLElBQUkscUJBQ3JEO0FBQUE7QUFBQSxLQUVEO0FBQUE7Ozs7RUMxVnNCO0FBQUEsRUFIM0IsSUFBSSxPQUF1QyxDQUUzQyxFQUFPO0FBQUEsSUFDTCxPQUFPLFVBQWtCO0FBQUE7QUFBQTs7OztFQ3dSSDtBQUFBLEdBalJyQixRQUFTLEdBQUc7QUFBQSxJQUNYLFNBQVMsd0JBQXdCLENBQUMsTUFBTTtBQUFBLE1BQ3RDLElBQVksUUFBUjtBQUFBLFFBQWMsT0FBTztBQUFBLE1BQ3pCLElBQW1CLE9BQU8sU0FBdEI7QUFBQSxRQUNGLE9BQU8sS0FBSyxhQUFhLHlCQUNyQixPQUNBLEtBQUssZUFBZSxLQUFLLFFBQVE7QUFBQSxNQUN2QyxJQUFpQixPQUFPLFNBQXBCO0FBQUEsUUFBMEIsT0FBTztBQUFBLE1BQ3JDLFFBQVE7QUFBQSxhQUNEO0FBQUEsVUFDSCxPQUFPO0FBQUEsYUFDSjtBQUFBLFVBQ0gsT0FBTztBQUFBLGFBQ0o7QUFBQSxVQUNILE9BQU87QUFBQSxhQUNKO0FBQUEsVUFDSCxPQUFPO0FBQUEsYUFDSjtBQUFBLFVBQ0gsT0FBTztBQUFBLGFBQ0o7QUFBQSxVQUNILE9BQU87QUFBQTtBQUFBLE1BRVgsSUFBaUIsT0FBTyxTQUFwQjtBQUFBLFFBQ0YsUUFDZ0IsT0FBTyxLQUFLLFFBQXpCLFlBQ0MsUUFBUSxNQUNOLG1IQUNGLEdBQ0YsS0FBSztBQUFBLGVBRUE7QUFBQSxZQUNILE9BQU87QUFBQSxlQUNKO0FBQUEsWUFDSCxPQUFPLEtBQUssZUFBZTtBQUFBLGVBQ3hCO0FBQUEsWUFDSCxRQUFRLEtBQUssU0FBUyxlQUFlLGFBQWE7QUFBQSxlQUMvQztBQUFBLFlBQ0gsSUFBSSxZQUFZLEtBQUs7QUFBQSxZQUNyQixPQUFPLEtBQUs7QUFBQSxZQUNaLFNBQ0ksT0FBTyxVQUFVLGVBQWUsVUFBVSxRQUFRLElBQ25ELE9BQWMsU0FBUCxLQUFjLGdCQUFnQixPQUFPLE1BQU07QUFBQSxZQUNyRCxPQUFPO0FBQUEsZUFDSjtBQUFBLFlBQ0gsT0FDRyxZQUFZLEtBQUssZUFBZSxNQUN4QixjQUFULE9BQ0ksWUFDQSx5QkFBeUIsS0FBSyxJQUFJLEtBQUs7QUFBQSxlQUUxQztBQUFBLFlBQ0gsWUFBWSxLQUFLO0FBQUEsWUFDakIsT0FBTyxLQUFLO0FBQUEsWUFDWixJQUFJO0FBQUEsY0FDRixPQUFPLHlCQUF5QixLQUFLLFNBQVMsQ0FBQztBQUFBLGNBQy9DLE9BQU8sR0FBRztBQUFBO0FBQUEsTUFFbEIsT0FBTztBQUFBO0FBQUEsSUFFVCxTQUFTLGtCQUFrQixDQUFDLE9BQU87QUFBQSxNQUNqQyxPQUFPLEtBQUs7QUFBQTtBQUFBLElBRWQsU0FBUyxzQkFBc0IsQ0FBQyxPQUFPO0FBQUEsTUFDckMsSUFBSTtBQUFBLFFBQ0YsbUJBQW1CLEtBQUs7QUFBQSxRQUN4QixJQUFJLDJCQUEyQjtBQUFBLFFBQy9CLE9BQU8sR0FBRztBQUFBLFFBQ1YsMkJBQTJCO0FBQUE7QUFBQSxNQUU3QixJQUFJLDBCQUEwQjtBQUFBLFFBQzVCLDJCQUEyQjtBQUFBLFFBQzNCLElBQUksd0JBQXdCLHlCQUF5QjtBQUFBLFFBQ3JELElBQUksb0NBQ2MsT0FBTyxXQUF0QixjQUNDLE9BQU8sZUFDUCxNQUFNLE9BQU8sZ0JBQ2YsTUFBTSxZQUFZLFFBQ2xCO0FBQUEsUUFDRixzQkFBc0IsS0FDcEIsMEJBQ0EsNEdBQ0EsaUNBQ0Y7QUFBQSxRQUNBLE9BQU8sbUJBQW1CLEtBQUs7QUFBQSxNQUNqQztBQUFBO0FBQUEsSUFFRixTQUFTLFdBQVcsQ0FBQyxNQUFNO0FBQUEsTUFDekIsSUFBSSxTQUFTO0FBQUEsUUFBcUIsT0FBTztBQUFBLE1BQ3pDLElBQ2UsT0FBTyxTQUFwQixZQUNTLFNBQVQsUUFDQSxLQUFLLGFBQWE7QUFBQSxRQUVsQixPQUFPO0FBQUEsTUFDVCxJQUFJO0FBQUEsUUFDRixJQUFJLE9BQU8seUJBQXlCLElBQUk7QUFBQSxRQUN4QyxPQUFPLE9BQU8sTUFBTSxPQUFPLE1BQU07QUFBQSxRQUNqQyxPQUFPLEdBQUc7QUFBQSxRQUNWLE9BQU87QUFBQTtBQUFBO0FBQUEsSUFHWCxTQUFTLFFBQVEsR0FBRztBQUFBLE1BQ2xCLElBQUksYUFBYSxxQkFBcUI7QUFBQSxNQUN0QyxPQUFnQixlQUFULE9BQXNCLE9BQU8sV0FBVyxTQUFTO0FBQUE7QUFBQSxJQUUxRCxTQUFTLFlBQVksR0FBRztBQUFBLE1BQ3RCLE9BQU8sTUFBTSx1QkFBdUI7QUFBQTtBQUFBLElBRXRDLFNBQVMsV0FBVyxDQUFDLFFBQVE7QUFBQSxNQUMzQixJQUFJLGVBQWUsS0FBSyxRQUFRLEtBQUssR0FBRztBQUFBLFFBQ3RDLElBQUksU0FBUyxPQUFPLHlCQUF5QixRQUFRLEtBQUssRUFBRTtBQUFBLFFBQzVELElBQUksVUFBVSxPQUFPO0FBQUEsVUFBZ0IsT0FBTztBQUFBLE1BQzlDO0FBQUEsTUFDQSxPQUFrQixPQUFPLFFBQWI7QUFBQTtBQUFBLElBRWQsU0FBUywwQkFBMEIsQ0FBQyxPQUFPLGFBQWE7QUFBQSxNQUN0RCxTQUFTLHFCQUFxQixHQUFHO0FBQUEsUUFDL0IsK0JBQ0ksNkJBQTZCLE1BQy9CLFFBQVEsTUFDTiwyT0FDQSxXQUNGO0FBQUE7QUFBQSxNQUVKLHNCQUFzQixpQkFBaUI7QUFBQSxNQUN2QyxPQUFPLGVBQWUsT0FBTyxPQUFPO0FBQUEsUUFDbEMsS0FBSztBQUFBLFFBQ0wsY0FBYztBQUFBLE1BQ2hCLENBQUM7QUFBQTtBQUFBLElBRUgsU0FBUyxzQ0FBc0MsR0FBRztBQUFBLE1BQ2hELElBQUksZ0JBQWdCLHlCQUF5QixLQUFLLElBQUk7QUFBQSxNQUN0RCx1QkFBdUIsbUJBQ25CLHVCQUF1QixpQkFBaUIsTUFDMUMsUUFBUSxNQUNOLDZJQUNGO0FBQUEsTUFDRixnQkFBZ0IsS0FBSyxNQUFNO0FBQUEsTUFDM0IsT0FBa0Isa0JBQU4sWUFBc0IsZ0JBQWdCO0FBQUE7QUFBQSxJQUVwRCxTQUFTLFlBQVksQ0FBQyxNQUFNLEtBQUssT0FBTyxPQUFPLFlBQVksV0FBVztBQUFBLE1BQ3BFLElBQUksVUFBVSxNQUFNO0FBQUEsTUFDcEIsT0FBTztBQUFBLFFBQ0wsVUFBVTtBQUFBLFFBQ1Y7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0EsUUFBUTtBQUFBLE1BQ1Y7QUFBQSxPQUNxQixZQUFOLFlBQWdCLFVBQVUsVUFBekMsT0FDSSxPQUFPLGVBQWUsTUFBTSxPQUFPO0FBQUEsUUFDakMsWUFBWTtBQUFBLFFBQ1osS0FBSztBQUFBLE1BQ1AsQ0FBQyxJQUNELE9BQU8sZUFBZSxNQUFNLE9BQU8sRUFBRSxZQUFZLE9BQUksT0FBTyxLQUFLLENBQUM7QUFBQSxNQUN0RSxLQUFLLFNBQVMsQ0FBQztBQUFBLE1BQ2YsT0FBTyxlQUFlLEtBQUssUUFBUSxhQUFhO0FBQUEsUUFDOUMsY0FBYztBQUFBLFFBQ2QsWUFBWTtBQUFBLFFBQ1osVUFBVTtBQUFBLFFBQ1YsT0FBTztBQUFBLE1BQ1QsQ0FBQztBQUFBLE1BQ0QsT0FBTyxlQUFlLE1BQU0sY0FBYztBQUFBLFFBQ3hDLGNBQWM7QUFBQSxRQUNkLFlBQVk7QUFBQSxRQUNaLFVBQVU7QUFBQSxRQUNWLE9BQU87QUFBQSxNQUNULENBQUM7QUFBQSxNQUNELE9BQU8sZUFBZSxNQUFNLGVBQWU7QUFBQSxRQUN6QyxjQUFjO0FBQUEsUUFDZCxZQUFZO0FBQUEsUUFDWixVQUFVO0FBQUEsUUFDVixPQUFPO0FBQUEsTUFDVCxDQUFDO0FBQUEsTUFDRCxPQUFPLGVBQWUsTUFBTSxjQUFjO0FBQUEsUUFDeEMsY0FBYztBQUFBLFFBQ2QsWUFBWTtBQUFBLFFBQ1osVUFBVTtBQUFBLFFBQ1YsT0FBTztBQUFBLE1BQ1QsQ0FBQztBQUFBLE1BQ0QsT0FBTyxXQUFXLE9BQU8sT0FBTyxLQUFLLEtBQUssR0FBRyxPQUFPLE9BQU8sSUFBSTtBQUFBLE1BQy9ELE9BQU87QUFBQTtBQUFBLElBRVQsU0FBUyxVQUFVLENBQ2pCLE1BQ0EsUUFDQSxVQUNBLGtCQUNBLFlBQ0EsV0FDQTtBQUFBLE1BQ0EsSUFBSSxXQUFXLE9BQU87QUFBQSxNQUN0QixJQUFlLGFBQU47QUFBQSxRQUNQLElBQUk7QUFBQSxVQUNGLElBQUksWUFBWSxRQUFRLEdBQUc7QUFBQSxZQUN6QixLQUNFLG1CQUFtQixFQUNuQixtQkFBbUIsU0FBUyxRQUM1QjtBQUFBLGNBRUEsa0JBQWtCLFNBQVMsaUJBQWlCO0FBQUEsWUFDOUMsT0FBTyxVQUFVLE9BQU8sT0FBTyxRQUFRO0FBQUEsVUFDekMsRUFDRTtBQUFBLG9CQUFRLE1BQ04sc0pBQ0Y7QUFBQSxRQUNDO0FBQUEsNEJBQWtCLFFBQVE7QUFBQSxNQUNqQyxJQUFJLGVBQWUsS0FBSyxRQUFRLEtBQUssR0FBRztBQUFBLFFBQ3RDLFdBQVcseUJBQXlCLElBQUk7QUFBQSxRQUN4QyxJQUFJLE9BQU8sT0FBTyxLQUFLLE1BQU0sRUFBRSxPQUFPLFFBQVMsQ0FBQyxHQUFHO0FBQUEsVUFDakQsT0FBaUIsTUFBVjtBQUFBLFNBQ1I7QUFBQSxRQUNELG1CQUNFLElBQUksS0FBSyxTQUNMLG9CQUFvQixLQUFLLEtBQUssU0FBUyxJQUFJLFdBQzNDO0FBQUEsUUFDTixzQkFBc0IsV0FBVyxzQkFDN0IsT0FDQSxJQUFJLEtBQUssU0FBUyxNQUFNLEtBQUssS0FBSyxTQUFTLElBQUksV0FBVyxNQUM1RCxRQUFRLE1BQ047QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLG9DQUNBLGtCQUNBLFVBQ0EsTUFDQSxRQUNGLEdBQ0Msc0JBQXNCLFdBQVcsb0JBQW9CO0FBQUEsTUFDMUQ7QUFBQSxNQUNBLFdBQVc7QUFBQSxNQUNBLGFBQU4sY0FDRix1QkFBdUIsUUFBUSxHQUFJLFdBQVcsS0FBSztBQUFBLE1BQ3RELFlBQVksTUFBTSxNQUNmLHVCQUF1QixPQUFPLEdBQUcsR0FBSSxXQUFXLEtBQUssT0FBTztBQUFBLE1BQy9ELElBQUksU0FBUyxRQUFRO0FBQUEsUUFDbkIsV0FBVyxDQUFDO0FBQUEsUUFDWixTQUFTLFlBQVk7QUFBQSxVQUNULGFBQVYsVUFBdUIsU0FBUyxZQUFZLE9BQU87QUFBQSxNQUN2RCxFQUFPO0FBQUEsbUJBQVc7QUFBQSxNQUNsQixZQUNFLDJCQUNFLFVBQ2UsT0FBTyxTQUF0QixhQUNJLEtBQUssZUFBZSxLQUFLLFFBQVEsWUFDakMsSUFDTjtBQUFBLE1BQ0YsT0FBTyxhQUNMLE1BQ0EsVUFDQSxVQUNBLFNBQVMsR0FDVCxZQUNBLFNBQ0Y7QUFBQTtBQUFBLElBRUYsU0FBUyxpQkFBaUIsQ0FBQyxPQUFNO0FBQUEsTUFDL0IsaUJBQWUsS0FBSSxJQUNmLE1BQUssV0FBVyxNQUFLLE9BQU8sWUFBWSxLQUMzQixPQUFPLFVBQXBCLFlBQ1MsVUFBVCxRQUNBLE1BQUssYUFBYSxvQkFDRCxNQUFLLFNBQVMsV0FBOUIsY0FDRyxpQkFBZSxNQUFLLFNBQVMsS0FBSyxLQUNsQyxNQUFLLFNBQVMsTUFBTSxXQUNuQixNQUFLLFNBQVMsTUFBTSxPQUFPLFlBQVksS0FDeEMsTUFBSyxXQUFXLE1BQUssT0FBTyxZQUFZO0FBQUE7QUFBQSxJQUVsRCxTQUFTLGdCQUFjLENBQUMsUUFBUTtBQUFBLE1BQzlCLE9BQ2UsT0FBTyxXQUFwQixZQUNTLFdBQVQsUUFDQSxPQUFPLGFBQWE7QUFBQTtBQUFBLElBR3hCLElBQ0UscUJBQXFCLE9BQU8sSUFBSSw0QkFBNEIsR0FDNUQsb0JBQW9CLE9BQU8sSUFBSSxjQUFjLEdBQzdDLHNCQUFzQixPQUFPLElBQUksZ0JBQWdCLEdBQ2pELHlCQUF5QixPQUFPLElBQUksbUJBQW1CLEdBQ3ZELHNCQUFzQixPQUFPLElBQUksZ0JBQWdCLEdBQ2pELHNCQUFzQixPQUFPLElBQUksZ0JBQWdCLEdBQ2pELHFCQUFxQixPQUFPLElBQUksZUFBZSxHQUMvQyx5QkFBeUIsT0FBTyxJQUFJLG1CQUFtQixHQUN2RCxzQkFBc0IsT0FBTyxJQUFJLGdCQUFnQixHQUNqRCwyQkFBMkIsT0FBTyxJQUFJLHFCQUFxQixHQUMzRCxrQkFBa0IsT0FBTyxJQUFJLFlBQVksR0FDekMsa0JBQWtCLE9BQU8sSUFBSSxZQUFZLEdBQ3pDLHNCQUFzQixPQUFPLElBQUksZ0JBQWdCLEdBQ2pELHlCQUF5QixPQUFPLElBQUksd0JBQXdCLEdBQzVELHVCQUNRLHlFQUNSLGlCQUFpQixPQUFPLFVBQVUsZ0JBQ2xDLGNBQWMsTUFBTSxTQUNwQixhQUFhLFFBQVEsYUFDakIsUUFBUSxhQUNSLFFBQVMsR0FBRztBQUFBLE1BQ1YsT0FBTztBQUFBO0FBQUEsSUFFZixVQUFRO0FBQUEsTUFDTiwwQkFBMEIsUUFBUyxDQUFDLG1CQUFtQjtBQUFBLFFBQ3JELE9BQU8sa0JBQWtCO0FBQUE7QUFBQSxJQUU3QjtBQUFBLElBQ0EsSUFBSTtBQUFBLElBQ0osSUFBSSx5QkFBeUIsQ0FBQztBQUFBLElBQzlCLElBQUkseUJBQStCLGlDQUF5QixLQUMxRCxTQUNBLFlBQ0YsRUFBRTtBQUFBLElBQ0YsSUFBSSx3QkFBd0IsV0FBVyxZQUFZLFlBQVksQ0FBQztBQUFBLElBQ2hFLElBQUksd0JBQXdCLENBQUM7QUFBQSxJQUNyQixtQkFBVztBQUFBLElBQ1gsaUJBQVMsUUFBUyxDQUFDLE1BQU0sUUFBUSxVQUFVLGtCQUFrQjtBQUFBLE1BQ25FLElBQUksbUJBQ0YsTUFBTSxxQkFBcUI7QUFBQSxNQUM3QixPQUFPLFdBQ0wsTUFDQSxRQUNBLFVBQ0Esa0JBQ0EsbUJBQ0ksTUFBTSx1QkFBdUIsSUFDN0Isd0JBQ0osbUJBQW1CLFdBQVcsWUFBWSxJQUFJLENBQUMsSUFBSSxxQkFDckQ7QUFBQTtBQUFBLEtBRUQ7QUFBQTs7OztFQzVVc0I7QUFBQSxFQUgzQixJQUFJLE9BQXVDLENBRTNDLEVBQU87QUFBQSxJQUNMLE9BQU8sVUFBa0I7QUFBQTtBQUFBOzs7O0VDSDNCLElBQUksaUJBQWlCLE9BQU8sWUFBWTtBQUFBLEVBQ3hDLElBQUksU0FBUyxPQUFPLFFBQVE7QUFBQSxFQUM1QixJQUFJLFNBQVMsT0FBTyxRQUFRO0FBQUEsRUFDNUIsSUFBSSxpQkFBaUIsT0FBTyxnQkFBZ0IsY0FBYyxDQUFDLENBQUMsWUFBWTtBQUFBLEVBSXhFLFNBQVMsS0FBSyxDQUFDLEdBQUcsR0FBRztBQUFBLElBRW5CLElBQUksTUFBTTtBQUFBLE1BQUcsT0FBTztBQUFBLElBRXBCLElBQUksS0FBSyxLQUFLLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxVQUFVO0FBQUEsTUFDMUQsSUFBSSxFQUFFLGdCQUFnQixFQUFFO0FBQUEsUUFBYSxPQUFPO0FBQUEsTUFFNUMsSUFBSSxTQUFRLEdBQUc7QUFBQSxNQUNmLElBQUksTUFBTSxRQUFRLENBQUMsR0FBRztBQUFBLFFBQ3BCLFVBQVMsRUFBRTtBQUFBLFFBQ1gsSUFBSSxXQUFVLEVBQUU7QUFBQSxVQUFRLE9BQU87QUFBQSxRQUMvQixLQUFLLElBQUksUUFBUSxRQUFRO0FBQUEsVUFDdkIsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUFBLFlBQUcsT0FBTztBQUFBLFFBQ2pDLE9BQU87QUFBQSxNQUNUO0FBQUEsTUFzQkEsSUFBSTtBQUFBLE1BQ0osSUFBSSxVQUFXLGFBQWEsT0FBUyxhQUFhLEtBQU07QUFBQSxRQUN0RCxJQUFJLEVBQUUsU0FBUyxFQUFFO0FBQUEsVUFBTSxPQUFPO0FBQUEsUUFDOUIsS0FBSyxFQUFFLFFBQVE7QUFBQSxRQUNmLE9BQU8sRUFBRSxJQUFJLEdBQUcsS0FBSyxHQUFHO0FBQUEsVUFDdEIsSUFBSSxDQUFDLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRTtBQUFBLFlBQUcsT0FBTztBQUFBLFFBQ2pDLEtBQUssRUFBRSxRQUFRO0FBQUEsUUFDZixPQUFPLEVBQUUsSUFBSSxHQUFHLEtBQUssR0FBRztBQUFBLFVBQ3RCLElBQUksQ0FBQyxNQUFNLEVBQUUsTUFBTSxJQUFJLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxDQUFDO0FBQUEsWUFBRyxPQUFPO0FBQUEsUUFDcEQsT0FBTztBQUFBLE1BQ1Q7QUFBQSxNQUVBLElBQUksVUFBVyxhQUFhLE9BQVMsYUFBYSxLQUFNO0FBQUEsUUFDdEQsSUFBSSxFQUFFLFNBQVMsRUFBRTtBQUFBLFVBQU0sT0FBTztBQUFBLFFBQzlCLEtBQUssRUFBRSxRQUFRO0FBQUEsUUFDZixPQUFPLEVBQUUsSUFBSSxHQUFHLEtBQUssR0FBRztBQUFBLFVBQ3RCLElBQUksQ0FBQyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUU7QUFBQSxZQUFHLE9BQU87QUFBQSxRQUNqQyxPQUFPO0FBQUEsTUFDVDtBQUFBLE1BR0EsSUFBSSxrQkFBa0IsWUFBWSxPQUFPLENBQUMsS0FBSyxZQUFZLE9BQU8sQ0FBQyxHQUFHO0FBQUEsUUFDcEUsVUFBUyxFQUFFO0FBQUEsUUFDWCxJQUFJLFdBQVUsRUFBRTtBQUFBLFVBQVEsT0FBTztBQUFBLFFBQy9CLEtBQUssSUFBSSxRQUFRLFFBQVE7QUFBQSxVQUN2QixJQUFJLEVBQUUsT0FBTyxFQUFFO0FBQUEsWUFBSSxPQUFPO0FBQUEsUUFDNUIsT0FBTztBQUFBLE1BQ1Q7QUFBQSxNQUVBLElBQUksRUFBRSxnQkFBZ0I7QUFBQSxRQUFRLE9BQU8sRUFBRSxXQUFXLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRTtBQUFBLE1BSzVFLElBQUksRUFBRSxZQUFZLE9BQU8sVUFBVSxXQUFXLE9BQU8sRUFBRSxZQUFZLGNBQWMsT0FBTyxFQUFFLFlBQVk7QUFBQSxRQUFZLE9BQU8sRUFBRSxRQUFRLE1BQU0sRUFBRSxRQUFRO0FBQUEsTUFDbkosSUFBSSxFQUFFLGFBQWEsT0FBTyxVQUFVLFlBQVksT0FBTyxFQUFFLGFBQWEsY0FBYyxPQUFPLEVBQUUsYUFBYTtBQUFBLFFBQVksT0FBTyxFQUFFLFNBQVMsTUFBTSxFQUFFLFNBQVM7QUFBQSxNQUd6SixPQUFPLE9BQU8sS0FBSyxDQUFDO0FBQUEsTUFDcEIsVUFBUyxLQUFLO0FBQUEsTUFDZCxJQUFJLFlBQVcsT0FBTyxLQUFLLENBQUMsRUFBRTtBQUFBLFFBQVEsT0FBTztBQUFBLE1BRTdDLEtBQUssSUFBSSxRQUFRLFFBQVE7QUFBQSxRQUN2QixJQUFJLENBQUMsT0FBTyxVQUFVLGVBQWUsS0FBSyxHQUFHLEtBQUssRUFBRTtBQUFBLFVBQUcsT0FBTztBQUFBLE1BS2hFLElBQUksa0JBQWtCLGFBQWE7QUFBQSxRQUFTLE9BQU87QUFBQSxNQUduRCxLQUFLLElBQUksUUFBUSxRQUFRLEtBQUk7QUFBQSxRQUMzQixLQUFLLEtBQUssT0FBTyxZQUFZLEtBQUssT0FBTyxTQUFTLEtBQUssT0FBTyxVQUFVLEVBQUUsVUFBVTtBQUFBLFVBU2xGO0FBQUEsUUFDRjtBQUFBLFFBR0EsSUFBSSxDQUFDLE1BQU0sRUFBRSxLQUFLLEtBQUssRUFBRSxLQUFLLEdBQUc7QUFBQSxVQUFHLE9BQU87QUFBQSxNQUM3QztBQUFBLE1BSUEsT0FBTztBQUFBLElBQ1Q7QUFBQSxJQUVBLE9BQU8sTUFBTSxLQUFLLE1BQU07QUFBQTtBQUFBLEVBSTFCLE9BQU8sVUFBVSxTQUFTLE9BQU8sQ0FBQyxHQUFHLEdBQUc7QUFBQSxJQUN0QyxJQUFJO0FBQUEsTUFDRixPQUFPLE1BQU0sR0FBRyxDQUFDO0FBQUEsTUFDakIsT0FBTyxPQUFPO0FBQUEsTUFDZCxLQUFNLE1BQU0sV0FBVyxJQUFJLE1BQU0sa0JBQWtCLEdBQUk7QUFBQSxRQU1yRCxRQUFRLEtBQUssZ0RBQWdEO0FBQUEsUUFDN0QsT0FBTztBQUFBLE1BQ1Q7QUFBQSxNQUVBLE1BQU07QUFBQTtBQUFBO0FBQUE7Ozs7RUNwSFYsSUFBSSxhQUFZLFFBQVEsQ0FBQyxXQUFXLFFBQVEsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUc7QUFBQSxJQUM1RCxJQUFJLE1BQXVDO0FBQUEsTUFDekMsSUFBSSxXQUFXLFdBQVc7QUFBQSxRQUN4QixNQUFNLElBQUksTUFBTSw4Q0FBOEM7QUFBQSxNQUNoRTtBQUFBLElBQ0Y7QUFBQSxJQUVBLElBQUksQ0FBQyxXQUFXO0FBQUEsTUFDZCxJQUFJO0FBQUEsTUFDSixJQUFJLFdBQVcsV0FBVztBQUFBLFFBQ3hCLFFBQVEsSUFBSSxNQUNWLHVFQUNBLDZEQUNGO0FBQUEsTUFDRixFQUFPO0FBQUEsUUFDTCxJQUFJLE9BQU8sQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztBQUFBLFFBQzVCLElBQUksV0FBVztBQUFBLFFBQ2YsUUFBUSxJQUFJLE1BQ1YsT0FBTyxRQUFRLE9BQU8sUUFBUSxHQUFHO0FBQUEsVUFBRSxPQUFPLEtBQUs7QUFBQSxTQUFjLENBQy9EO0FBQUEsUUFDQSxNQUFNLE9BQU87QUFBQTtBQUFBLE1BR2YsTUFBTSxjQUFjO0FBQUEsTUFDcEIsTUFBTTtBQUFBLElBQ1I7QUFBQTtBQUFBLEVBR0YsT0FBTyxVQUFVO0FBQUE7Ozs7RUM5Q2pCLE9BQU8sVUFBVSxTQUFTLFlBQVksQ0FBQyxNQUFNLE1BQU0sU0FBUyxnQkFBZ0I7QUFBQSxJQUMxRSxJQUFJLE1BQU0sVUFBVSxRQUFRLEtBQUssZ0JBQWdCLE1BQU0sSUFBSSxJQUFTO0FBQUEsSUFFcEUsSUFBSSxRQUFhLFdBQUc7QUFBQSxNQUNsQixPQUFPLENBQUMsQ0FBQztBQUFBLElBQ1g7QUFBQSxJQUVBLElBQUksU0FBUyxNQUFNO0FBQUEsTUFDakIsT0FBTztBQUFBLElBQ1Q7QUFBQSxJQUVBLElBQUksT0FBTyxTQUFTLFlBQVksQ0FBQyxRQUFRLE9BQU8sU0FBUyxZQUFZLENBQUMsTUFBTTtBQUFBLE1BQzFFLE9BQU87QUFBQSxJQUNUO0FBQUEsSUFFQSxJQUFJLFFBQVEsT0FBTyxLQUFLLElBQUk7QUFBQSxJQUM1QixJQUFJLFFBQVEsT0FBTyxLQUFLLElBQUk7QUFBQSxJQUU1QixJQUFJLE1BQU0sV0FBVyxNQUFNLFFBQVE7QUFBQSxNQUNqQyxPQUFPO0FBQUEsSUFDVDtBQUFBLElBRUEsSUFBSSxrQkFBa0IsT0FBTyxVQUFVLGVBQWUsS0FBSyxJQUFJO0FBQUEsSUFHL0QsU0FBUyxNQUFNLEVBQUcsTUFBTSxNQUFNLFFBQVEsT0FBTztBQUFBLE1BQzNDLElBQUksTUFBTSxNQUFNO0FBQUEsTUFFaEIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLEdBQUc7QUFBQSxRQUN6QixPQUFPO0FBQUEsTUFDVDtBQUFBLE1BRUEsSUFBSSxTQUFTLEtBQUs7QUFBQSxNQUNsQixJQUFJLFNBQVMsS0FBSztBQUFBLE1BRWxCLE1BQU0sVUFBVSxRQUFRLEtBQUssZ0JBQWdCLFFBQVEsUUFBUSxHQUFHLElBQVM7QUFBQSxNQUV6RSxJQUFJLFFBQVEsU0FBVSxRQUFhLGFBQUssV0FBVyxRQUFTO0FBQUEsUUFDMUQsT0FBTztBQUFBLE1BQ1Q7QUFBQSxJQUNGO0FBQUEsSUFFQSxPQUFPO0FBQUE7QUFBQTs7O0FDb21LVDtBQXVDQTtBQTJsQkE7QUF1M0JBO0FBMHBDQTtBQUdBO0FBNE9BO0FBR0E7QUFHQTtBQSt0Q0E7QUEwekJBO0FBdmlVQSxJQUFJLGNBQWMsQ0FBQyxRQUFRO0FBQUEsRUFDekIsTUFBTSxVQUFVLEdBQUc7QUFBQTtBQUVyQixJQUFJLGdCQUFnQixDQUFDLEtBQUssUUFBUSxRQUFRLE9BQU8sSUFBSSxHQUFHLEtBQUssWUFBWSxZQUFZLEdBQUc7QUFDeEYsSUFBSSxlQUFlLENBQUMsS0FBSyxRQUFRLFlBQVksY0FBYyxLQUFLLFFBQVEseUJBQXlCLEdBQUcsU0FBUyxPQUFPLEtBQUssR0FBRyxJQUFJLE9BQU8sSUFBSSxHQUFHO0FBQzlJLElBQUksZUFBZSxDQUFDLEtBQUssUUFBUSxVQUFVLE9BQU8sSUFBSSxHQUFHLElBQUksWUFBWSxtREFBbUQsSUFBSSxrQkFBa0IsVUFBVSxPQUFPLElBQUksR0FBRyxJQUFJLE9BQU8sSUFBSSxLQUFLLEtBQUs7QUFTbk0sSUFBSSxvQkFBb0I7QUFpR3hCLFNBQVMsb0JBQW9CLENBQUMsVUFBVSxDQUFDLEdBQUc7QUFBQSxFQUMxQyxTQUFTLHFCQUFxQixDQUFDLFNBQVMsZUFBZTtBQUFBLElBQ3JELE1BQU0sVUFBVSxRQUFRLFNBQVMsUUFBUTtBQUFBLElBQ3pDLE9BQU8sZUFDTCxJQUNBLEVBQUUsVUFBVSxRQUFRLEtBQUssR0FFekIsY0FBYyxTQUFTLGNBQWMsTUFBTSxPQUFPLE1BQ2xELGNBQWMsU0FBUyxjQUFjLE1BQU0sT0FBTyxTQUNwRDtBQUFBO0FBQUEsRUFFRixTQUFTLGlCQUFpQixDQUFDLFNBQVMsSUFBSTtBQUFBLElBQ3RDLE9BQU8sT0FBTyxPQUFPLFdBQVcsS0FBSyxXQUFXLEVBQUU7QUFBQTtBQUFBLEVBRXBELE9BQU8sbUJBQ0wsdUJBQ0EsbUJBQ0EsTUFDQSxPQUNGO0FBQUE7QUE2Q0YsU0FBUyxTQUFTLENBQUMsT0FBTyxTQUFTO0FBQUEsRUFDakMsSUFBSSxVQUFVLFNBQVMsVUFBVSxRQUFRLE9BQU8sVUFBVSxhQUFhO0FBQUEsSUFDckUsTUFBTSxJQUFJLE1BQU0sT0FBTztBQUFBLEVBQ3pCO0FBQUE7QUFFRixTQUFTLE9BQU8sQ0FBQyxNQUFNLFNBQVM7QUFBQSxFQUM5QixJQUFJLENBQUMsTUFBTTtBQUFBLElBQ1QsSUFBSSxPQUFPLFlBQVk7QUFBQSxNQUFhLFFBQVEsS0FBSyxPQUFPO0FBQUEsSUFDeEQsSUFBSTtBQUFBLE1BQ0YsTUFBTSxJQUFJLE1BQU0sT0FBTztBQUFBLE1BQ3ZCLE9BQU8sR0FBRztBQUFBLEVBRWQ7QUFBQTtBQUVGLFNBQVMsU0FBUyxHQUFHO0FBQUEsRUFDbkIsT0FBTyxLQUFLLE9BQU8sRUFBRSxTQUFTLEVBQUUsRUFBRSxVQUFVLEdBQUcsRUFBRTtBQUFBO0FBRW5ELFNBQVMsZUFBZSxDQUFDLFdBQVUsT0FBTztBQUFBLEVBQ3hDLE9BQU87QUFBQSxJQUNMLEtBQUssVUFBUztBQUFBLElBQ2QsS0FBSyxVQUFTO0FBQUEsSUFDZCxLQUFLO0FBQUEsRUFDUDtBQUFBO0FBRUYsU0FBUyxjQUFjLENBQUMsU0FBUyxJQUFJLFFBQVEsTUFBTSxLQUFLO0FBQUEsRUFDdEQsSUFBSSxZQUFXO0FBQUEsSUFDYixVQUFVLE9BQU8sWUFBWSxXQUFXLFVBQVUsUUFBUTtBQUFBLElBQzFELFFBQVE7QUFBQSxJQUNSLE1BQU07QUFBQSxPQUNILE9BQU8sT0FBTyxXQUFXLFVBQVUsRUFBRSxJQUFJO0FBQUEsSUFDNUM7QUFBQSxJQUtBLEtBQUssTUFBTSxHQUFHLE9BQU8sT0FBTyxVQUFVO0FBQUEsRUFDeEM7QUFBQSxFQUNBLE9BQU87QUFBQTtBQUVULFNBQVMsVUFBVTtBQUFBLEVBQ2pCLFdBQVc7QUFBQSxFQUNYLFNBQVM7QUFBQSxFQUNULE9BQU87QUFBQSxHQUNOO0FBQUEsRUFDRCxJQUFJLFVBQVUsV0FBVztBQUFBLElBQ3ZCLFlBQVksT0FBTyxPQUFPLENBQUMsTUFBTSxNQUFNLFNBQVMsTUFBTTtBQUFBLEVBQ3hELElBQUksUUFBUSxTQUFTO0FBQUEsSUFDbkIsWUFBWSxLQUFLLE9BQU8sQ0FBQyxNQUFNLE1BQU0sT0FBTyxNQUFNO0FBQUEsRUFDcEQsT0FBTztBQUFBO0FBRVQsU0FBUyxTQUFTLENBQUMsTUFBTTtBQUFBLEVBQ3ZCLElBQUksYUFBYSxDQUFDO0FBQUEsRUFDbEIsSUFBSSxNQUFNO0FBQUEsSUFDUixJQUFJLFlBQVksS0FBSyxRQUFRLEdBQUc7QUFBQSxJQUNoQyxJQUFJLGFBQWEsR0FBRztBQUFBLE1BQ2xCLFdBQVcsT0FBTyxLQUFLLFVBQVUsU0FBUztBQUFBLE1BQzFDLE9BQU8sS0FBSyxVQUFVLEdBQUcsU0FBUztBQUFBLElBQ3BDO0FBQUEsSUFDQSxJQUFJLGNBQWMsS0FBSyxRQUFRLEdBQUc7QUFBQSxJQUNsQyxJQUFJLGVBQWUsR0FBRztBQUFBLE1BQ3BCLFdBQVcsU0FBUyxLQUFLLFVBQVUsV0FBVztBQUFBLE1BQzlDLE9BQU8sS0FBSyxVQUFVLEdBQUcsV0FBVztBQUFBLElBQ3RDO0FBQUEsSUFDQSxJQUFJLE1BQU07QUFBQSxNQUNSLFdBQVcsV0FBVztBQUFBLElBQ3hCO0FBQUEsRUFDRjtBQUFBLEVBQ0EsT0FBTztBQUFBO0FBRVQsU0FBUyxrQkFBa0IsQ0FBQyxhQUFhLGFBQWEsa0JBQWtCLFVBQVUsQ0FBQyxHQUFHO0FBQUEsRUFDcEYsTUFBTSxRQUFRLFVBQVUsU0FBUyxhQUFhLFdBQVcsVUFBVTtBQUFBLEVBQ25FLElBQUksZ0JBQWdCLFFBQVE7QUFBQSxFQUM1QixJQUFJLFNBQVM7QUFBQSxFQUNiLElBQUksV0FBVztBQUFBLEVBQ2YsSUFBSSxRQUFRLFNBQVM7QUFBQSxFQUNyQixJQUFJLFNBQVMsTUFBTTtBQUFBLElBQ2pCLFFBQVE7QUFBQSxJQUNSLGNBQWMsYUFBYSxLQUFLLGNBQWMsT0FBTyxLQUFLLE1BQU0sR0FBRyxFQUFFO0FBQUEsRUFDdkU7QUFBQSxFQUNBLFNBQVMsUUFBUSxHQUFHO0FBQUEsSUFDbEIsSUFBSSxRQUFRLGNBQWMsU0FBUyxFQUFFLEtBQUssS0FBSztBQUFBLElBQy9DLE9BQU8sTUFBTTtBQUFBO0FBQUEsRUFFZixTQUFTLFNBQVMsR0FBRztBQUFBLElBQ25CLFNBQVM7QUFBQSxJQUNULElBQUksWUFBWSxTQUFTO0FBQUEsSUFDekIsSUFBSSxRQUFRLGFBQWEsT0FBTyxPQUFPLFlBQVk7QUFBQSxJQUNuRCxRQUFRO0FBQUEsSUFDUixJQUFJLFVBQVU7QUFBQSxNQUNaLFNBQVMsRUFBRSxRQUFRLFVBQVUsUUFBUSxVQUFVLE1BQU0sQ0FBQztBQUFBLElBQ3hEO0FBQUE7QUFBQSxFQUVGLFNBQVMsSUFBSSxDQUFDLElBQUksT0FBTztBQUFBLElBQ3ZCLFNBQVM7QUFBQSxJQUNULElBQUksWUFBVyxlQUFlLFFBQVEsVUFBVSxJQUFJLEtBQUs7QUFBQSxJQUN6RCxJQUFJO0FBQUEsTUFBa0IsaUJBQWlCLFdBQVUsRUFBRTtBQUFBLElBQ25ELFFBQVEsU0FBUyxJQUFJO0FBQUEsSUFDckIsSUFBSSxlQUFlLGdCQUFnQixXQUFVLEtBQUs7QUFBQSxJQUNsRCxJQUFJLE1BQU0sUUFBUSxXQUFXLFNBQVE7QUFBQSxJQUNyQyxJQUFJO0FBQUEsTUFDRixjQUFjLFVBQVUsY0FBYyxJQUFJLEdBQUc7QUFBQSxNQUM3QyxPQUFPLE9BQU87QUFBQSxNQUNkLElBQUksaUJBQWlCLGdCQUFnQixNQUFNLFNBQVMsa0JBQWtCO0FBQUEsUUFDcEUsTUFBTTtBQUFBLE1BQ1I7QUFBQSxNQUNBLFFBQVEsU0FBUyxPQUFPLEdBQUc7QUFBQTtBQUFBLElBRTdCLElBQUksWUFBWSxVQUFVO0FBQUEsTUFDeEIsU0FBUyxFQUFFLFFBQVEsVUFBVSxRQUFRLFVBQVUsT0FBTyxFQUFFLENBQUM7QUFBQSxJQUMzRDtBQUFBO0FBQUEsRUFFRixTQUFTLFFBQVEsQ0FBQyxJQUFJLE9BQU87QUFBQSxJQUMzQixTQUFTO0FBQUEsSUFDVCxJQUFJLFlBQVcsZUFBZSxRQUFRLFVBQVUsSUFBSSxLQUFLO0FBQUEsSUFDekQsSUFBSTtBQUFBLE1BQWtCLGlCQUFpQixXQUFVLEVBQUU7QUFBQSxJQUNuRCxRQUFRLFNBQVM7QUFBQSxJQUNqQixJQUFJLGVBQWUsZ0JBQWdCLFdBQVUsS0FBSztBQUFBLElBQ2xELElBQUksTUFBTSxRQUFRLFdBQVcsU0FBUTtBQUFBLElBQ3JDLGNBQWMsYUFBYSxjQUFjLElBQUksR0FBRztBQUFBLElBQ2hELElBQUksWUFBWSxVQUFVO0FBQUEsTUFDeEIsU0FBUyxFQUFFLFFBQVEsVUFBVSxRQUFRLFVBQVUsT0FBTyxFQUFFLENBQUM7QUFBQSxJQUMzRDtBQUFBO0FBQUEsRUFFRixTQUFTLFNBQVMsQ0FBQyxJQUFJO0FBQUEsSUFDckIsT0FBTyxxQkFBcUIsRUFBRTtBQUFBO0FBQUEsRUFFaEMsSUFBSSxVQUFVO0FBQUEsUUFDUixNQUFNLEdBQUc7QUFBQSxNQUNYLE9BQU87QUFBQTtBQUFBLFFBRUwsUUFBUSxHQUFHO0FBQUEsTUFDYixPQUFPLFlBQVksU0FBUyxhQUFhO0FBQUE7QUFBQSxJQUUzQyxNQUFNLENBQUMsSUFBSTtBQUFBLE1BQ1QsSUFBSSxVQUFVO0FBQUEsUUFDWixNQUFNLElBQUksTUFBTSw0Q0FBNEM7QUFBQSxNQUM5RDtBQUFBLE1BQ0EsUUFBUSxpQkFBaUIsbUJBQW1CLFNBQVM7QUFBQSxNQUNyRCxXQUFXO0FBQUEsTUFDWCxPQUFPLE1BQU07QUFBQSxRQUNYLFFBQVEsb0JBQW9CLG1CQUFtQixTQUFTO0FBQUEsUUFDeEQsV0FBVztBQUFBO0FBQUE7QUFBQSxJQUdmLFVBQVUsQ0FBQyxJQUFJO0FBQUEsTUFDYixPQUFPLFlBQVksU0FBUyxFQUFFO0FBQUE7QUFBQSxJQUVoQztBQUFBLElBQ0EsY0FBYyxDQUFDLElBQUk7QUFBQSxNQUNqQixJQUFJLE1BQU0sVUFBVSxFQUFFO0FBQUEsTUFDdEIsT0FBTztBQUFBLFFBQ0wsVUFBVSxJQUFJO0FBQUEsUUFDZCxRQUFRLElBQUk7QUFBQSxRQUNaLE1BQU0sSUFBSTtBQUFBLE1BQ1o7QUFBQTtBQUFBLElBRUY7QUFBQSxJQUNBLFNBQVM7QUFBQSxJQUNULEVBQUUsQ0FBQyxHQUFHO0FBQUEsTUFDSixPQUFPLGNBQWMsR0FBRyxDQUFDO0FBQUE7QUFBQSxFQUU3QjtBQUFBLEVBQ0EsT0FBTztBQUFBO0FBRVQsU0FBUyxvQkFBb0IsQ0FBQyxJQUFJLGFBQWEsT0FBTztBQUFBLEVBQ3BELElBQUksT0FBTztBQUFBLEVBQ1gsSUFBSSxPQUFPLFdBQVcsYUFBYTtBQUFBLElBQ2pDLE9BQU8sT0FBTyxTQUFTLFdBQVcsU0FBUyxPQUFPLFNBQVMsU0FBUyxPQUFPLFNBQVM7QUFBQSxFQUN0RjtBQUFBLEVBQ0EsVUFBVSxNQUFNLDBEQUEwRDtBQUFBLEVBQzFFLElBQUksT0FBTyxPQUFPLE9BQU8sV0FBVyxLQUFLLFdBQVcsRUFBRTtBQUFBLEVBQ3RELE9BQU8sS0FBSyxRQUFRLE1BQU0sS0FBSztBQUFBLEVBQy9CLElBQUksQ0FBQyxjQUFjLEtBQUssV0FBVyxJQUFJLEdBQUc7QUFBQSxJQUN4QyxPQUFPLE9BQU87QUFBQSxFQUNoQjtBQUFBLEVBQ0EsT0FBTyxJQUFJLElBQUksTUFBTSxJQUFJO0FBQUE7QUFJM0IsU0FBUyxjQUFhLENBQUMsY0FBYztBQUFBLEVBQ25DLE9BQU8sRUFBRSxhQUFhO0FBQUE7QUFFeEIsSUFBSTtBQUNKLElBQUksd0JBQXdCLE1BQU07QUFBQSxFQUtoQyxXQUFXLENBQUMsTUFBTTtBQUFBLElBQ2hCLGFBQWEsTUFBTSxzQkFBc0IsSUFBSSxHQUFLO0FBQUEsSUFDbEQsSUFBSSxNQUFNO0FBQUEsTUFDUixVQUFVLFNBQVMsVUFBVSxNQUFNO0FBQUEsUUFDakMsS0FBSyxJQUFJLFNBQVMsS0FBSztBQUFBLE1BQ3pCO0FBQUEsSUFDRjtBQUFBO0FBQUEsRUFVRixHQUFHLENBQUMsU0FBUztBQUFBLElBQ1gsSUFBSSxhQUFhLE1BQU0sSUFBSSxFQUFFLElBQUksT0FBTyxHQUFHO0FBQUEsTUFDekMsT0FBTyxhQUFhLE1BQU0sSUFBSSxFQUFFLElBQUksT0FBTztBQUFBLElBQzdDO0FBQUEsSUFDQSxJQUFJLFFBQVEsaUJBQXNCLFdBQUc7QUFBQSxNQUNuQyxPQUFPLFFBQVE7QUFBQSxJQUNqQjtBQUFBLElBQ0EsTUFBTSxJQUFJLE1BQU0sNEJBQTRCO0FBQUE7QUFBQSxFQVU5QyxHQUFHLENBQUMsU0FBUyxPQUFPO0FBQUEsSUFDbEIsYUFBYSxNQUFNLElBQUksRUFBRSxJQUFJLFNBQVMsS0FBSztBQUFBO0FBRS9DO0FBQ0EsT0FBTyxJQUFJO0FBQ1gsSUFBSSxpREFBaUQsSUFBSSxJQUFJO0FBQUEsRUFDM0Q7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUNGLENBQUM7QUFDRCxTQUFTLCtCQUErQixDQUFDLEtBQUs7QUFBQSxFQUM1QyxPQUFPLCtCQUErQixJQUNwQyxHQUNGO0FBQUE7QUFFRixJQUFJLG1EQUFtRCxJQUFJLElBQUk7QUFBQSxFQUM3RDtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUNGLENBQUM7QUFDRCxTQUFTLGlDQUFpQyxDQUFDLEtBQUs7QUFBQSxFQUM5QyxPQUFPLGlDQUFpQyxJQUN0QyxHQUNGO0FBQUE7QUFFRixTQUFTLFlBQVksQ0FBQyxPQUFPO0FBQUEsRUFDM0IsT0FBTyxNQUFNLFVBQVU7QUFBQTtBQUV6QixTQUFTLHlCQUF5QixDQUFDLFFBQVEscUJBQXFCLGFBQWEsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxHQUFHLHdCQUF3QixPQUFPO0FBQUEsRUFDN0gsT0FBTyxPQUFPLElBQUksQ0FBQyxPQUFPLFVBQVU7QUFBQSxJQUNsQyxJQUFJLFdBQVcsQ0FBQyxHQUFHLFlBQVksT0FBTyxLQUFLLENBQUM7QUFBQSxJQUM1QyxJQUFJLEtBQUssT0FBTyxNQUFNLE9BQU8sV0FBVyxNQUFNLEtBQUssU0FBUyxLQUFLLEdBQUc7QUFBQSxJQUNwRSxVQUNFLE1BQU0sVUFBVSxRQUFRLENBQUMsTUFBTSxVQUMvQiwyQ0FDRjtBQUFBLElBQ0EsVUFDRSx5QkFBeUIsQ0FBQyxTQUFTLEtBQ25DLHFDQUFxQyxvRUFDdkM7QUFBQSxJQUNBLElBQUksYUFBYSxLQUFLLEdBQUc7QUFBQSxNQUN2QixJQUFJLGFBQWE7QUFBQSxXQUNaO0FBQUEsUUFDSDtBQUFBLE1BQ0Y7QUFBQSxNQUNBLFNBQVMsTUFBTSxrQkFDYixZQUNBLG9CQUFvQixVQUFVLENBQ2hDO0FBQUEsTUFDQSxPQUFPO0FBQUEsSUFDVCxFQUFPO0FBQUEsTUFDTCxJQUFJLG9CQUFvQjtBQUFBLFdBQ25CO0FBQUEsUUFDSDtBQUFBLFFBQ0EsVUFBZTtBQUFBLE1BQ2pCO0FBQUEsTUFDQSxTQUFTLE1BQU0sa0JBQ2IsbUJBQ0Esb0JBQW9CLGlCQUFpQixDQUN2QztBQUFBLE1BQ0EsSUFBSSxNQUFNLFVBQVU7QUFBQSxRQUNsQixrQkFBa0IsV0FBVywwQkFDM0IsTUFBTSxVQUNOLHFCQUNBLFVBQ0EsVUFDQSxxQkFDRjtBQUFBLE1BQ0Y7QUFBQSxNQUNBLE9BQU87QUFBQTtBQUFBLEdBRVY7QUFBQTtBQUVILFNBQVMsaUJBQWlCLENBQUMsT0FBTyxTQUFTO0FBQUEsRUFDekMsT0FBTyxPQUFPLE9BQU8sT0FBTztBQUFBLE9BQ3ZCO0FBQUEsT0FDQSxPQUFPLFFBQVEsU0FBUyxZQUFZLFFBQVEsUUFBUSxPQUFPO0FBQUEsTUFDNUQsTUFBTTtBQUFBLFdBQ0QsTUFBTTtBQUFBLFdBQ04sUUFBUTtBQUFBLE1BQ2I7QUFBQSxJQUNGLElBQUksQ0FBQztBQUFBLEVBQ1AsQ0FBQztBQUFBO0FBRUgsU0FBUyxXQUFXLENBQUMsUUFBUSxhQUFhLFdBQVcsS0FBSztBQUFBLEVBQ3hELE9BQU8sZ0JBQWdCLFFBQVEsYUFBYSxVQUFVLEtBQUs7QUFBQTtBQUU3RCxTQUFTLGVBQWUsQ0FBQyxRQUFRLGFBQWEsVUFBVSxjQUFjO0FBQUEsRUFDcEUsSUFBSSxZQUFXLE9BQU8sZ0JBQWdCLFdBQVcsVUFBVSxXQUFXLElBQUk7QUFBQSxFQUMxRSxJQUFJLFdBQVcsY0FBYyxVQUFTLFlBQVksS0FBSyxRQUFRO0FBQUEsRUFDL0QsSUFBSSxZQUFZLE1BQU07QUFBQSxJQUNwQixPQUFPO0FBQUEsRUFDVDtBQUFBLEVBQ0EsSUFBSSxXQUFXLGNBQWMsTUFBTTtBQUFBLEVBQ25DLGtCQUFrQixRQUFRO0FBQUEsRUFDMUIsSUFBSSxVQUFVO0FBQUEsRUFDZCxTQUFTLElBQUksRUFBRyxXQUFXLFFBQVEsSUFBSSxTQUFTLFFBQVEsRUFBRSxHQUFHO0FBQUEsSUFDM0QsSUFBSSxVQUFVLFdBQVcsUUFBUTtBQUFBLElBQ2pDLFVBQVUsaUJBQ1IsU0FBUyxJQUNULFNBQ0EsWUFDRjtBQUFBLEVBQ0Y7QUFBQSxFQUNBLE9BQU87QUFBQTtBQUVULFNBQVMsMEJBQTBCLENBQUMsT0FBTyxZQUFZO0FBQUEsRUFDckQsTUFBTSxPQUFPLFVBQVUsV0FBVztBQUFBLEVBQ2xDLE9BQU87QUFBQSxJQUNMLElBQUksTUFBTTtBQUFBLElBQ1Y7QUFBQSxJQUNBO0FBQUEsSUFDQSxNQUFNLFdBQVcsTUFBTTtBQUFBLElBQ3ZCLFlBQVksV0FBVyxNQUFNO0FBQUEsSUFDN0IsUUFBUSxNQUFNO0FBQUEsRUFDaEI7QUFBQTtBQUVGLFNBQVMsYUFBYSxDQUFDLFFBQVEsV0FBVyxDQUFDLEdBQUcsY0FBYyxDQUFDLEdBQUcsYUFBYSxJQUFJLDZCQUE2QixPQUFPO0FBQUEsRUFDbkgsSUFBSSxlQUFlLENBQUMsT0FBTyxPQUFPLDRCQUE0Qiw0QkFBNEIsaUJBQWlCO0FBQUEsSUFDekcsSUFBSSxPQUFPO0FBQUEsTUFDVCxjQUFjLGlCQUFzQixZQUFJLE1BQU0sUUFBUSxLQUFLO0FBQUEsTUFDM0QsZUFBZSxNQUFNLGtCQUFrQjtBQUFBLE1BQ3ZDLGVBQWU7QUFBQSxNQUNmO0FBQUEsSUFDRjtBQUFBLElBQ0EsSUFBSSxLQUFLLGFBQWEsV0FBVyxHQUFHLEdBQUc7QUFBQSxNQUNyQyxJQUFJLENBQUMsS0FBSyxhQUFhLFdBQVcsVUFBVSxLQUFLLDJCQUEyQjtBQUFBLFFBQzFFO0FBQUEsTUFDRjtBQUFBLE1BQ0EsVUFDRSxLQUFLLGFBQWEsV0FBVyxVQUFVLEdBQ3ZDLHdCQUF3QixLQUFLLG9DQUFvQyxvSEFDbkU7QUFBQSxNQUNBLEtBQUssZUFBZSxLQUFLLGFBQWEsTUFBTSxXQUFXLE1BQU07QUFBQSxJQUMvRDtBQUFBLElBQ0EsSUFBSSxPQUFPLFVBQVUsQ0FBQyxZQUFZLEtBQUssWUFBWSxDQUFDO0FBQUEsSUFDcEQsSUFBSSxhQUFhLFlBQVksT0FBTyxJQUFJO0FBQUEsSUFDeEMsSUFBSSxNQUFNLFlBQVksTUFBTSxTQUFTLFNBQVMsR0FBRztBQUFBLE1BQy9DLFVBR0UsTUFBTSxVQUFVLE1BQ2hCLDRGQUE0RixRQUM5RjtBQUFBLE1BQ0EsY0FDRSxNQUFNLFVBQ04sVUFDQSxZQUNBLE1BQ0EseUJBQ0Y7QUFBQSxJQUNGO0FBQUEsSUFDQSxJQUFJLE1BQU0sUUFBUSxRQUFRLENBQUMsTUFBTSxPQUFPO0FBQUEsTUFDdEM7QUFBQSxJQUNGO0FBQUEsSUFDQSxTQUFTLEtBQUs7QUFBQSxNQUNaO0FBQUEsTUFDQSxPQUFPLGFBQWEsTUFBTSxNQUFNLEtBQUs7QUFBQSxNQUNyQztBQUFBLElBQ0YsQ0FBQztBQUFBO0FBQUEsRUFFSCxPQUFPLFFBQVEsQ0FBQyxPQUFPLFVBQVU7QUFBQSxJQUMvQixJQUFJLE1BQU0sU0FBUyxNQUFNLENBQUMsTUFBTSxNQUFNLFNBQVMsR0FBRyxHQUFHO0FBQUEsTUFDbkQsYUFBYSxPQUFPLEtBQUs7QUFBQSxJQUMzQixFQUFPO0FBQUEsTUFDTCxTQUFTLFlBQVksd0JBQXdCLE1BQU0sSUFBSSxHQUFHO0FBQUEsUUFDeEQsYUFBYSxPQUFPLE9BQU8sTUFBTSxRQUFRO0FBQUEsTUFDM0M7QUFBQTtBQUFBLEdBRUg7QUFBQSxFQUNELE9BQU87QUFBQTtBQUVULFNBQVMsdUJBQXVCLENBQUMsTUFBTTtBQUFBLEVBQ3JDLElBQUksV0FBVyxLQUFLLE1BQU0sR0FBRztBQUFBLEVBQzdCLElBQUksU0FBUyxXQUFXO0FBQUEsSUFBRyxPQUFPLENBQUM7QUFBQSxFQUNuQyxLQUFLLFVBQVUsUUFBUTtBQUFBLEVBQ3ZCLElBQUksYUFBYSxNQUFNLFNBQVMsR0FBRztBQUFBLEVBQ25DLElBQUksV0FBVyxNQUFNLFFBQVEsT0FBTyxFQUFFO0FBQUEsRUFDdEMsSUFBSSxLQUFLLFdBQVcsR0FBRztBQUFBLElBQ3JCLE9BQU8sYUFBYSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsUUFBUTtBQUFBLEVBQ2hEO0FBQUEsRUFDQSxJQUFJLGVBQWUsd0JBQXdCLEtBQUssS0FBSyxHQUFHLENBQUM7QUFBQSxFQUN6RCxJQUFJLFNBQVMsQ0FBQztBQUFBLEVBQ2QsT0FBTyxLQUNMLEdBQUcsYUFBYSxJQUNkLENBQUMsWUFBWSxZQUFZLEtBQUssV0FBVyxDQUFDLFVBQVUsT0FBTyxFQUFFLEtBQUssR0FBRyxDQUN2RSxDQUNGO0FBQUEsRUFDQSxJQUFJLFlBQVk7QUFBQSxJQUNkLE9BQU8sS0FBSyxHQUFHLFlBQVk7QUFBQSxFQUM3QjtBQUFBLEVBQ0EsT0FBTyxPQUFPLElBQ1osQ0FBQyxhQUFhLEtBQUssV0FBVyxHQUFHLEtBQUssYUFBYSxLQUFLLE1BQU0sUUFDaEU7QUFBQTtBQUVGLFNBQVMsaUJBQWlCLENBQUMsVUFBVTtBQUFBLEVBQ25DLFNBQVMsS0FDUCxDQUFDLEdBQUcsTUFBTSxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLFFBQVEsZUFDbEQsRUFBRSxXQUFXLElBQUksQ0FBQyxTQUFTLEtBQUssYUFBYSxHQUM3QyxFQUFFLFdBQVcsSUFBSSxDQUFDLFNBQVMsS0FBSyxhQUFhLENBQy9DLENBQ0Y7QUFBQTtBQUVGLElBQUksVUFBVTtBQUNkLElBQUksc0JBQXNCO0FBQzFCLElBQUksa0JBQWtCO0FBQ3RCLElBQUksb0JBQW9CO0FBQ3hCLElBQUkscUJBQXFCO0FBQ3pCLElBQUksZUFBZTtBQUNuQixJQUFJLFVBQVUsQ0FBQyxNQUFNLE1BQU07QUFDM0IsU0FBUyxZQUFZLENBQUMsTUFBTSxPQUFPO0FBQUEsRUFDakMsSUFBSSxXQUFXLEtBQUssTUFBTSxHQUFHO0FBQUEsRUFDN0IsSUFBSSxlQUFlLFNBQVM7QUFBQSxFQUM1QixJQUFJLFNBQVMsS0FBSyxPQUFPLEdBQUc7QUFBQSxJQUMxQixnQkFBZ0I7QUFBQSxFQUNsQjtBQUFBLEVBQ0EsSUFBSSxPQUFPO0FBQUEsSUFDVCxnQkFBZ0I7QUFBQSxFQUNsQjtBQUFBLEVBQ0EsT0FBTyxTQUFTLE9BQU8sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxPQUN6QyxDQUFDLE9BQU8sWUFBWSxTQUFTLFFBQVEsS0FBSyxPQUFPLElBQUksc0JBQXNCLFlBQVksS0FBSyxvQkFBb0IscUJBQ2hILFlBQ0Y7QUFBQTtBQUVGLFNBQVMsY0FBYyxDQUFDLEdBQUcsR0FBRztBQUFBLEVBQzVCLElBQUksV0FBVyxFQUFFLFdBQVcsRUFBRSxVQUFVLEVBQUUsTUFBTSxHQUFHLEVBQUUsRUFBRSxNQUFNLENBQUMsR0FBRyxNQUFNLE1BQU0sRUFBRSxFQUFFO0FBQUEsRUFDakYsT0FBTyxXQUtMLEVBQUUsRUFBRSxTQUFTLEtBQUssRUFBRSxFQUFFLFNBQVMsS0FJL0I7QUFBQTtBQUdKLFNBQVMsZ0JBQWdCLENBQUMsUUFBUSxVQUFVLGVBQWUsT0FBTztBQUFBLEVBQ2hFLE1BQU0sZUFBZTtBQUFBLEVBQ3JCLElBQUksZ0JBQWdCLENBQUM7QUFBQSxFQUNyQixJQUFJLGtCQUFrQjtBQUFBLEVBQ3RCLElBQUksVUFBVSxDQUFDO0FBQUEsRUFDZixTQUFTLElBQUksRUFBRyxJQUFJLFdBQVcsUUFBUSxFQUFFLEdBQUc7QUFBQSxJQUMxQyxJQUFJLE9BQU8sV0FBVztBQUFBLElBQ3RCLElBQUksTUFBTSxNQUFNLFdBQVcsU0FBUztBQUFBLElBQ3BDLElBQUksb0JBQW9CLG9CQUFvQixNQUFNLFdBQVcsU0FBUyxNQUFNLGdCQUFnQixNQUFNLEtBQUs7QUFBQSxJQUN2RyxJQUFJLFFBQVEsVUFDVixFQUFFLE1BQU0sS0FBSyxjQUFjLGVBQWUsS0FBSyxlQUFlLElBQUksR0FDbEUsaUJBQ0Y7QUFBQSxJQUNBLElBQUksUUFBUSxLQUFLO0FBQUEsSUFDakIsSUFBSSxDQUFDLFNBQVMsT0FBTyxnQkFBZ0IsQ0FBQyxXQUFXLFdBQVcsU0FBUyxHQUFHLE1BQU0sT0FBTztBQUFBLE1BQ25GLFFBQVEsVUFDTjtBQUFBLFFBQ0UsTUFBTSxLQUFLO0FBQUEsUUFDWCxlQUFlLEtBQUs7QUFBQSxRQUNwQixLQUFLO0FBQUEsTUFDUCxHQUNBLGlCQUNGO0FBQUEsSUFDRjtBQUFBLElBQ0EsSUFBSSxDQUFDLE9BQU87QUFBQSxNQUNWLE9BQU87QUFBQSxJQUNUO0FBQUEsSUFDQSxPQUFPLE9BQU8sZUFBZSxNQUFNLE1BQU07QUFBQSxJQUN6QyxRQUFRLEtBQUs7QUFBQSxNQUVYLFFBQVE7QUFBQSxNQUNSLFVBQVUsVUFBVSxDQUFDLGlCQUFpQixNQUFNLFFBQVEsQ0FBQztBQUFBLE1BQ3JELGNBQWMsa0JBQ1osVUFBVSxDQUFDLGlCQUFpQixNQUFNLFlBQVksQ0FBQyxDQUNqRDtBQUFBLE1BQ0E7QUFBQSxJQUNGLENBQUM7QUFBQSxJQUNELElBQUksTUFBTSxpQkFBaUIsS0FBSztBQUFBLE1BQzlCLGtCQUFrQixVQUFVLENBQUMsaUJBQWlCLE1BQU0sWUFBWSxDQUFDO0FBQUEsSUFDbkU7QUFBQSxFQUNGO0FBQUEsRUFDQSxPQUFPO0FBQUE7QUE4QlQsU0FBUyxTQUFTLENBQUMsU0FBUyxVQUFVO0FBQUEsRUFDcEMsSUFBSSxPQUFPLFlBQVksVUFBVTtBQUFBLElBQy9CLFVBQVUsRUFBRSxNQUFNLFNBQVMsZUFBZSxPQUFPLEtBQUssS0FBSztBQUFBLEVBQzdEO0FBQUEsRUFDQSxLQUFLLFNBQVMsa0JBQWtCLFlBQzlCLFFBQVEsTUFDUixRQUFRLGVBQ1IsUUFBUSxHQUNWO0FBQUEsRUFDQSxJQUFJLFFBQVEsU0FBUyxNQUFNLE9BQU87QUFBQSxFQUNsQyxJQUFJLENBQUM7QUFBQSxJQUFPLE9BQU87QUFBQSxFQUNuQixJQUFJLGtCQUFrQixNQUFNO0FBQUEsRUFDNUIsSUFBSSxlQUFlLGdCQUFnQixRQUFRLFdBQVcsSUFBSTtBQUFBLEVBQzFELElBQUksZ0JBQWdCLE1BQU0sTUFBTSxDQUFDO0FBQUEsRUFDakMsSUFBSSxTQUFTLGVBQWUsT0FDMUIsQ0FBQyxTQUFTLFdBQVcsY0FBYyxVQUFVO0FBQUEsSUFDM0MsSUFBSSxjQUFjLEtBQUs7QUFBQSxNQUNyQixJQUFJLGFBQWEsY0FBYyxVQUFVO0FBQUEsTUFDekMsZUFBZSxnQkFBZ0IsTUFBTSxHQUFHLGdCQUFnQixTQUFTLFdBQVcsTUFBTSxFQUFFLFFBQVEsV0FBVyxJQUFJO0FBQUEsSUFDN0c7QUFBQSxJQUNBLE1BQU0sUUFBUSxjQUFjO0FBQUEsSUFDNUIsSUFBSSxjQUFjLENBQUMsT0FBTztBQUFBLE1BQ3hCLE1BQU0sYUFBa0I7QUFBQSxJQUMxQixFQUFPO0FBQUEsTUFDTCxNQUFNLGNBQWMsU0FBUyxJQUFJLFFBQVEsUUFBUSxHQUFHO0FBQUE7QUFBQSxJQUV0RCxPQUFPO0FBQUEsS0FFVCxDQUFDLENBQ0g7QUFBQSxFQUNBLE9BQU87QUFBQSxJQUNMO0FBQUEsSUFDQSxVQUFVO0FBQUEsSUFDVjtBQUFBLElBQ0E7QUFBQSxFQUNGO0FBQUE7QUFFRixTQUFTLFdBQVcsQ0FBQyxNQUFNLGdCQUFnQixPQUFPLE1BQU0sTUFBTTtBQUFBLEVBQzVELFFBQ0UsU0FBUyxPQUFPLENBQUMsS0FBSyxTQUFTLEdBQUcsS0FBSyxLQUFLLFNBQVMsSUFBSSxHQUN6RCxlQUFlLHdDQUF3QyxLQUFLLFFBQVEsT0FBTyxJQUFJLDBJQUEwSSxLQUFLLFFBQVEsT0FBTyxJQUFJLEtBQ25QO0FBQUEsRUFDQSxJQUFJLFNBQVMsQ0FBQztBQUFBLEVBQ2QsSUFBSSxlQUFlLE1BQU0sS0FBSyxRQUFRLFdBQVcsRUFBRSxFQUFFLFFBQVEsUUFBUSxHQUFHLEVBQUUsUUFBUSxzQkFBc0IsTUFBTSxFQUFFLFFBQzlHLHFCQUNBLENBQUMsR0FBRyxXQUFXLGVBQWU7QUFBQSxJQUM1QixPQUFPLEtBQUssRUFBRSxXQUFXLFlBQVksY0FBYyxLQUFLLENBQUM7QUFBQSxJQUN6RCxPQUFPLGFBQWEsaUJBQWlCO0FBQUEsR0FFekMsRUFBRSxRQUFRLHVCQUF1QixVQUFVO0FBQUEsRUFDM0MsSUFBSSxLQUFLLFNBQVMsR0FBRyxHQUFHO0FBQUEsSUFDdEIsT0FBTyxLQUFLLEVBQUUsV0FBVyxJQUFJLENBQUM7QUFBQSxJQUM5QixnQkFBZ0IsU0FBUyxPQUFPLFNBQVMsT0FBTyxVQUFVO0FBQUEsRUFDNUQsRUFBTyxTQUFJLEtBQUs7QUFBQSxJQUNkLGdCQUFnQjtBQUFBLEVBQ2xCLEVBQU8sU0FBSSxTQUFTLE1BQU0sU0FBUyxLQUFLO0FBQUEsSUFDdEMsZ0JBQWdCO0FBQUEsRUFDbEIsRUFBTztBQUFBLEVBRVAsSUFBSSxVQUFVLElBQUksT0FBTyxjQUFjLGdCQUFxQixZQUFJLEdBQUc7QUFBQSxFQUNuRSxPQUFPLENBQUMsU0FBUyxNQUFNO0FBQUE7QUFFekIsU0FBUyxVQUFVLENBQUMsT0FBTztBQUFBLEVBQ3pCLElBQUk7QUFBQSxJQUNGLE9BQU8sTUFBTSxNQUFNLEdBQUcsRUFBRSxJQUFJLENBQUMsTUFBTSxtQkFBbUIsQ0FBQyxFQUFFLFFBQVEsT0FBTyxLQUFLLENBQUMsRUFBRSxLQUFLLEdBQUc7QUFBQSxJQUN4RixPQUFPLE9BQU87QUFBQSxJQUNkLFFBQ0UsT0FDQSxpQkFBaUIsc0hBQXNILFNBQ3pJO0FBQUEsSUFDQSxPQUFPO0FBQUE7QUFBQTtBQUdYLFNBQVMsYUFBYSxDQUFDLFVBQVUsVUFBVTtBQUFBLEVBQ3pDLElBQUksYUFBYTtBQUFBLElBQUssT0FBTztBQUFBLEVBQzdCLElBQUksQ0FBQyxTQUFTLFlBQVksRUFBRSxXQUFXLFNBQVMsWUFBWSxDQUFDLEdBQUc7QUFBQSxJQUM5RCxPQUFPO0FBQUEsRUFDVDtBQUFBLEVBQ0EsSUFBSSxhQUFhLFNBQVMsU0FBUyxHQUFHLElBQUksU0FBUyxTQUFTLElBQUksU0FBUztBQUFBLEVBQ3pFLElBQUksV0FBVyxTQUFTLE9BQU8sVUFBVTtBQUFBLEVBQ3pDLElBQUksWUFBWSxhQUFhLEtBQUs7QUFBQSxJQUNoQyxPQUFPO0FBQUEsRUFDVDtBQUFBLEVBQ0EsT0FBTyxTQUFTLE1BQU0sVUFBVSxLQUFLO0FBQUE7QUFFdkMsU0FBUyxlQUFlO0FBQUEsRUFDdEI7QUFBQSxFQUNBO0FBQUEsR0FDQztBQUFBLEVBQ0QsT0FBTyxhQUFhLE1BQU0sV0FBVyxVQUFVLENBQUMsVUFBVSxRQUFRLENBQUM7QUFBQTtBQUVyRSxTQUFTLFdBQVcsQ0FBQyxJQUFJLGVBQWUsS0FBSztBQUFBLEVBQzNDO0FBQUEsSUFDRSxVQUFVO0FBQUEsSUFDVixTQUFTO0FBQUEsSUFDVCxPQUFPO0FBQUEsTUFDTCxPQUFPLE9BQU8sV0FBVyxVQUFVLEVBQUUsSUFBSTtBQUFBLEVBQzdDLElBQUksV0FBVyxhQUFhLFdBQVcsV0FBVyxHQUFHLElBQUksYUFBYSxnQkFBZ0IsWUFBWSxZQUFZLElBQUk7QUFBQSxFQUNsSCxPQUFPO0FBQUEsSUFDTDtBQUFBLElBQ0EsUUFBUSxnQkFBZ0IsTUFBTTtBQUFBLElBQzlCLE1BQU0sY0FBYyxJQUFJO0FBQUEsRUFDMUI7QUFBQTtBQUVGLFNBQVMsZUFBZSxDQUFDLGNBQWMsY0FBYztBQUFBLEVBQ25ELElBQUksV0FBVyxhQUFhLFFBQVEsUUFBUSxFQUFFLEVBQUUsTUFBTSxHQUFHO0FBQUEsRUFDekQsSUFBSSxtQkFBbUIsYUFBYSxNQUFNLEdBQUc7QUFBQSxFQUM3QyxpQkFBaUIsUUFBUSxDQUFDLFlBQVk7QUFBQSxJQUNwQyxJQUFJLFlBQVksTUFBTTtBQUFBLE1BQ3BCLElBQUksU0FBUyxTQUFTO0FBQUEsUUFBRyxTQUFTLElBQUk7QUFBQSxJQUN4QyxFQUFPLFNBQUksWUFBWSxLQUFLO0FBQUEsTUFDMUIsU0FBUyxLQUFLLE9BQU87QUFBQSxJQUN2QjtBQUFBLEdBQ0Q7QUFBQSxFQUNELE9BQU8sU0FBUyxTQUFTLElBQUksU0FBUyxLQUFLLEdBQUcsSUFBSTtBQUFBO0FBRXBELFNBQVMsbUJBQW1CLENBQUMsTUFBTSxPQUFPLE1BQU0sTUFBTTtBQUFBLEVBQ3BELE9BQU8scUJBQXFCLGdEQUFnRCxrQkFBa0IsS0FBSyxVQUNqRyxJQUNGLDJDQUEyQztBQUFBO0FBRTdDLFNBQVMsMEJBQTBCLENBQUMsU0FBUztBQUFBLEVBQzNDLE9BQU8sUUFBUSxPQUNiLENBQUMsT0FBTyxVQUFVLFVBQVUsS0FBSyxNQUFNLE1BQU0sUUFBUSxNQUFNLE1BQU0sS0FBSyxTQUFTLENBQ2pGO0FBQUE7QUFFRixTQUFTLG1CQUFtQixDQUFDLFNBQVM7QUFBQSxFQUNwQyxJQUFJLGNBQWMsMkJBQTJCLE9BQU87QUFBQSxFQUNwRCxPQUFPLFlBQVksSUFDakIsQ0FBQyxPQUFPLFFBQVEsUUFBUSxZQUFZLFNBQVMsSUFBSSxNQUFNLFdBQVcsTUFBTSxZQUMxRTtBQUFBO0FBRUYsU0FBUyxTQUFTLENBQUMsT0FBTyxnQkFBZ0Isa0JBQWtCLGlCQUFpQixPQUFPO0FBQUEsRUFDbEYsSUFBSTtBQUFBLEVBQ0osSUFBSSxPQUFPLFVBQVUsVUFBVTtBQUFBLElBQzdCLEtBQUssVUFBVSxLQUFLO0FBQUEsRUFDdEIsRUFBTztBQUFBLElBQ0wsS0FBSyxLQUFLLE1BQU07QUFBQSxJQUNoQixVQUNFLENBQUMsR0FBRyxZQUFZLENBQUMsR0FBRyxTQUFTLFNBQVMsR0FBRyxHQUN6QyxvQkFBb0IsS0FBSyxZQUFZLFVBQVUsRUFBRSxDQUNuRDtBQUFBLElBQ0EsVUFDRSxDQUFDLEdBQUcsWUFBWSxDQUFDLEdBQUcsU0FBUyxTQUFTLEdBQUcsR0FDekMsb0JBQW9CLEtBQUssWUFBWSxRQUFRLEVBQUUsQ0FDakQ7QUFBQSxJQUNBLFVBQ0UsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxHQUFHLE9BQU8sU0FBUyxHQUFHLEdBQ3JDLG9CQUFvQixLQUFLLFVBQVUsUUFBUSxFQUFFLENBQy9DO0FBQUE7QUFBQSxFQUVGLElBQUksY0FBYyxVQUFVLE1BQU0sR0FBRyxhQUFhO0FBQUEsRUFDbEQsSUFBSSxhQUFhLGNBQWMsTUFBTSxHQUFHO0FBQUEsRUFDeEMsSUFBSTtBQUFBLEVBQ0osSUFBSSxjQUFjLE1BQU07QUFBQSxJQUN0QixPQUFPO0FBQUEsRUFDVCxFQUFPO0FBQUEsSUFDTCxJQUFJLHFCQUFxQixlQUFlLFNBQVM7QUFBQSxJQUNqRCxJQUFJLENBQUMsa0JBQWtCLFdBQVcsV0FBVyxJQUFJLEdBQUc7QUFBQSxNQUNsRCxJQUFJLGFBQWEsV0FBVyxNQUFNLEdBQUc7QUFBQSxNQUNyQyxPQUFPLFdBQVcsT0FBTyxNQUFNO0FBQUEsUUFDN0IsV0FBVyxNQUFNO0FBQUEsUUFDakIsc0JBQXNCO0FBQUEsTUFDeEI7QUFBQSxNQUNBLEdBQUcsV0FBVyxXQUFXLEtBQUssR0FBRztBQUFBLElBQ25DO0FBQUEsSUFDQSxPQUFPLHNCQUFzQixJQUFJLGVBQWUsc0JBQXNCO0FBQUE7QUFBQSxFQUV4RSxJQUFJLE9BQU8sWUFBWSxJQUFJLElBQUk7QUFBQSxFQUMvQixJQUFJLDJCQUEyQixjQUFjLGVBQWUsT0FBTyxXQUFXLFNBQVMsR0FBRztBQUFBLEVBQzFGLElBQUksMkJBQTJCLGVBQWUsZUFBZSxRQUFRLGlCQUFpQixTQUFTLEdBQUc7QUFBQSxFQUNsRyxJQUFJLENBQUMsS0FBSyxTQUFTLFNBQVMsR0FBRyxNQUFNLDRCQUE0QiwwQkFBMEI7QUFBQSxJQUN6RixLQUFLLFlBQVk7QUFBQSxFQUNuQjtBQUFBLEVBQ0EsT0FBTztBQUFBO0FBRVQsSUFBSSxZQUFZLENBQUMsVUFBVSxNQUFNLEtBQUssR0FBRyxFQUFFLFFBQVEsVUFBVSxHQUFHO0FBQ2hFLElBQUksb0JBQW9CLENBQUMsYUFBYSxTQUFTLFFBQVEsUUFBUSxFQUFFLEVBQUUsUUFBUSxRQUFRLEdBQUc7QUFDdEYsSUFBSSxrQkFBa0IsQ0FBQyxXQUFXLENBQUMsVUFBVSxXQUFXLE1BQU0sS0FBSyxPQUFPLFdBQVcsR0FBRyxJQUFJLFNBQVMsTUFBTTtBQUMzRyxJQUFJLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxRQUFRLFNBQVMsTUFBTSxLQUFLLEtBQUssV0FBVyxHQUFHLElBQUksT0FBTyxNQUFNO0FBbUMvRixJQUFJLG9CQUFvQixNQUFNO0FBQUEsRUFDNUIsV0FBVyxDQUFDLFFBQVEsWUFBWSxPQUFPLFdBQVcsT0FBTztBQUFBLElBQ3ZELEtBQUssU0FBUztBQUFBLElBQ2QsS0FBSyxhQUFhLGNBQWM7QUFBQSxJQUNoQyxLQUFLLFdBQVc7QUFBQSxJQUNoQixJQUFJLGlCQUFpQixPQUFPO0FBQUEsTUFDMUIsS0FBSyxPQUFPLE1BQU0sU0FBUztBQUFBLE1BQzNCLEtBQUssUUFBUTtBQUFBLElBQ2YsRUFBTztBQUFBLE1BQ0wsS0FBSyxPQUFPO0FBQUE7QUFBQTtBQUdsQjtBQUNBLFNBQVMsb0JBQW9CLENBQUMsT0FBTztBQUFBLEVBQ25DLE9BQU8sU0FBUyxRQUFRLE9BQU8sTUFBTSxXQUFXLFlBQVksT0FBTyxNQUFNLGVBQWUsWUFBWSxPQUFPLE1BQU0sYUFBYSxhQUFhLFVBQVU7QUFBQTtBQUV2SixTQUFTLGVBQWUsQ0FBQyxPQUFPO0FBQUEsRUFDOUIsT0FBTyxNQUFNLE9BQU8sT0FBTyxFQUFFLEtBQUssR0FBRyxFQUFFLFFBQVEsVUFBVSxHQUFHLEtBQUs7QUFBQTtBQUluRSxJQUFJLHVCQUF1QixPQUFPLGdCQUFnQjtBQUNsRCxTQUFTLDhCQUE4QixDQUFDLEtBQUssT0FBTztBQUFBLEVBQ2xELElBQUksYUFBYTtBQUFBLElBQ2YsTUFBTSxDQUFDO0FBQUEsSUFDUCxlQUFlLENBQUM7QUFBQSxJQUNoQixlQUFlLENBQUM7QUFBQSxJQUNoQixtQkFBbUIsQ0FBQztBQUFBLElBQ3BCLFlBQVksQ0FBQztBQUFBLElBQ2IsUUFBUSxDQUFDO0FBQUEsSUFDVCxRQUFRLENBQUM7QUFBQSxFQUNYO0FBQUEsRUFDQSxJQUFJLFFBQ0YsQ0FBQyxPQUFPLEdBQUc7QUFBQSxJQUNULElBQUksTUFBTTtBQUFBLElBQ1YsT0FBTyxNQUFNO0FBQUEsSUFDYixNQUFNLE1BQU07QUFBQSxJQUNaLFVBQVUsQ0FBQyxHQUFHO0FBQUEsTUFDWixJQUFJLE9BQU8sT0FBTyxLQUFLLFVBQVU7QUFBQSxNQUNqQyxTQUFTLE9BQU8sTUFBTTtBQUFBLFFBQ3BCLElBQUksRUFBRSxNQUFNO0FBQUEsVUFDVixXQUFXLEtBQUssS0FBSyxFQUFFLElBQUk7QUFBQSxRQUM3QjtBQUFBLE1BQ0Y7QUFBQTtBQUFBLEVBRUosQ0FBQyxDQUNIO0FBQUEsRUFDQSxJQUFJLFVBQVUsQ0FBQztBQUFBLEVBQ2YsSUFBSSxPQUFPLE1BQU0sU0FBUyxjQUFjLFdBQVcsS0FBSyxTQUFTLEdBQUc7QUFBQSxJQUNsRSxJQUFJLGVBQWUsU0FBUyxXQUFXLE1BQU0sTUFBTSxNQUFNLE1BQUc7QUFBQSxNQUFHO0FBQUEsS0FBTTtBQUFBLElBQ3JFLElBQUksY0FBYztBQUFBLE1BQ2hCLFFBQVEsT0FBTztBQUFBLElBQ2pCO0FBQUEsRUFDRjtBQUFBLEVBQ0EsSUFBSSxPQUFPLE1BQU0sU0FBUyxVQUFVO0FBQUEsSUFDbEMsSUFBSSxhQUFhLE1BQU07QUFBQSxJQUN2QixDQUFDLGNBQWMsVUFBVSxRQUFRLEVBQUUsUUFBUSxDQUFDLFFBQVE7QUFBQSxNQUNsRCxJQUFJLFNBQVMsV0FBVztBQUFBLE1BQ3hCLElBQUksbUJBQW1CLFdBQVcsUUFBUTtBQUFBLE1BQzFDLElBQUksT0FBTyxXQUFXLGNBQWMsaUJBQWlCLFNBQVMsR0FBRztBQUFBLFFBQy9ELElBQUksZUFBZSxTQUFTLGtCQUFrQixRQUFRLE1BQUc7QUFBQSxVQUFHO0FBQUEsU0FBTTtBQUFBLFFBQ2xFLElBQUksY0FBYztBQUFBLFVBQ2hCLFFBQVEsT0FBTyxPQUFPLE9BQU8sUUFBUSxRQUFRLENBQUMsR0FBRztBQUFBLGFBQzlDLE1BQU07QUFBQSxVQUNULENBQUM7QUFBQSxRQUNIO0FBQUEsTUFDRjtBQUFBLEtBQ0Q7QUFBQSxFQUNIO0FBQUEsRUFDQSxDQUFDLFVBQVUsUUFBUSxFQUFFLFFBQVEsQ0FBQyxRQUFRO0FBQUEsSUFDcEMsSUFBSSxVQUFVLE1BQU07QUFBQSxJQUNwQixJQUFJLE9BQU8sWUFBWSxjQUFjLFdBQVcsS0FBSyxTQUFTLEdBQUc7QUFBQSxNQUMvRCxJQUFJLFdBQVcsUUFBUSx5QkFBeUI7QUFBQSxNQUNoRCxJQUFJLGVBQWUsU0FDakIsV0FBVyxNQUNYLFVBQ0EsSUFBSSxTQUFTLGVBQWUsS0FBSyxFQUFFLENBQ3JDO0FBQUEsTUFDQSxJQUFJLGNBQWM7QUFBQSxRQUNoQixhQUFhLHdCQUF3QjtBQUFBLFFBQ3JDLFFBQVEsT0FBTztBQUFBLE1BQ2pCO0FBQUEsSUFDRjtBQUFBLEdBQ0Q7QUFBQSxFQUNELElBQUksTUFBTSxjQUFjLE1BQU0sV0FBVyxTQUFTLEtBQUssV0FBVyxXQUFXLFNBQVMsR0FBRztBQUFBLElBQ3ZGLFFBQVEsYUFBYSxNQUFNLFdBQVcsSUFBSSxDQUFDLGVBQWU7QUFBQSxNQUN4RCxJQUFJLFdBQVcsV0FBVyx5QkFBeUI7QUFBQSxNQUNuRCxJQUFJLGVBQWUsU0FDakIsV0FBVyxZQUNYLFVBQ0EsSUFBSSxTQUFTLGVBQWUsS0FBSyxFQUFFLENBQ3JDO0FBQUEsTUFDQSxJQUFJLGNBQWM7QUFBQSxRQUNoQixhQUFhLHdCQUF3QjtBQUFBLFFBQ3JDLE9BQU87QUFBQSxNQUNUO0FBQUEsTUFDQSxPQUFPO0FBQUEsS0FDUjtBQUFBLEVBQ0g7QUFBQSxFQUNBLE9BQU87QUFBQTtBQUVULFNBQVMsMEJBQTBCLENBQUMsUUFBUSxLQUFLO0FBQUEsRUFDL0MsSUFBSSxhQUFhO0FBQUEsSUFDZixVQUFVLENBQUM7QUFBQSxJQUNYLE9BQU8sQ0FBQztBQUFBLEVBQ1Y7QUFBQSxFQUNBLElBQUksUUFDRixDQUFDLE9BQU8sR0FBRztBQUFBLElBQ1QsVUFBVSxDQUFDLEdBQUc7QUFBQSxNQUNaLElBQUksT0FBTyxPQUFPLEtBQUssQ0FBQztBQUFBLE1BQ3hCLFNBQVMsT0FBTyxNQUFNO0FBQUEsUUFDcEIsSUFBSSxFQUFFLE1BQU07QUFBQSxVQUNWLFdBQVcsS0FBSyxLQUFLLEVBQUUsSUFBSTtBQUFBLFFBQzdCO0FBQUEsTUFDRjtBQUFBO0FBQUEsRUFFSixDQUFDLENBQ0g7QUFBQSxFQUNBLElBQUksV0FBVyxTQUFTLFNBQVMsR0FBRztBQUFBLElBQ2xDLElBQUksV0FBVyxPQUFPLFNBQVMseUJBQXlCLE9BQU87QUFBQSxJQUMvRCxJQUFJLHVCQUF1QixTQUN6QixXQUFXLFVBQ1gsVUFDQSxJQUFJLFNBQVM7QUFBQSxNQUNYLEtBQUssSUFBSSxRQUFRO0FBQUEsTUFDakIsT0FBTztBQUFBLFFBQ0wsSUFBSSxPQUFPLE9BQU8sWUFBWSxPQUFPLE9BQU8sV0FBVyxLQUFLLEtBQUssV0FBVyxFQUFFLElBQUk7QUFBQSxXQUMvRSxjQUFjLFFBQVEsUUFBUSxDQUFDLENBQUM7QUFBQSxNQUNyQztBQUFBLEtBRUo7QUFBQSxJQUNBLElBQUksc0JBQXNCO0FBQUEsTUFDeEIscUJBQXFCLHdCQUF3QjtBQUFBLE1BQzdDLE9BQU8sV0FBVztBQUFBLElBQ3BCO0FBQUEsRUFDRjtBQUFBLEVBQ0EsSUFBSSxXQUFXLE1BQU0sU0FBUyxHQUFHO0FBQUEsSUFDL0IsSUFBSSxTQUFTLE9BQU8sTUFBTSx5QkFBeUIsT0FBTztBQUFBLElBQzFELElBQUksb0JBQW9CLFNBQVMsV0FBVyxPQUFPLFFBQVEsSUFBSSxTQUFTO0FBQUEsTUFDdEUsS0FBSyxPQUFPLE1BQU0sUUFBUTtBQUFBLE1BQzFCLE9BQU87QUFBQSxRQUNMLE1BQU0sUUFBUTtBQUFBLFFBQ2QsWUFBWTtBQUFBLFdBQ1QsY0FBYyxRQUFRLFFBQVEsQ0FBQyxDQUFDO0FBQUEsTUFDckM7QUFBQSxLQUNEO0FBQUEsSUFDRCxJQUFJLG1CQUFtQjtBQUFBLE1BQ3JCLGtCQUFrQix3QkFBd0I7QUFBQSxNQUMxQyxPQUFPLFFBQVE7QUFBQSxJQUNqQjtBQUFBLEVBQ0Y7QUFBQSxFQUNBLE9BQU87QUFBQTtBQThCVCxTQUFTLFFBQVEsQ0FBQyxPQUFPLFNBQVMsU0FBUztBQUFBLEVBQ3pDLElBQUksTUFBTSxXQUFXLEdBQUc7QUFBQSxJQUN0QixPQUFPO0FBQUEsRUFDVDtBQUFBLEVBQ0EsT0FBTyxVQUFVLFNBQVM7QUFBQSxJQUN4QixJQUFJLFNBQVMsTUFBTSxhQUNqQixPQUNBLFFBQVEsR0FBRyxJQUFJLEdBQ2YsTUFBTSxRQUFRLEdBQUcsSUFBSSxHQUNyQixNQUFNLFNBQVMsQ0FDakI7QUFBQSxJQUNBLElBQUksT0FBTyxTQUFTLFNBQVM7QUFBQSxNQUMzQixNQUFNLE9BQU87QUFBQSxJQUNmO0FBQUEsSUFDQSxPQUFPLE9BQU87QUFBQTtBQUFBO0FBR2xCLGVBQWUsWUFBWSxDQUFDLE9BQU8sTUFBTSxTQUFTLE9BQU87QUFBQSxFQUN2RCxJQUFJLE9BQU8sTUFBTTtBQUFBLEVBQ2pCLElBQUk7QUFBQSxFQUNKLElBQUksQ0FBQyxNQUFNO0FBQUEsSUFDVCxJQUFJO0FBQUEsTUFDRixJQUFJLFFBQVEsTUFBTSxRQUFRO0FBQUEsTUFDMUIsU0FBUyxFQUFFLE1BQU0sV0FBVyxNQUFNO0FBQUEsTUFDbEMsT0FBTyxHQUFHO0FBQUEsTUFDVixTQUFTLEVBQUUsTUFBTSxTQUFTLE9BQU8sRUFBRTtBQUFBO0FBQUEsRUFFdkMsRUFBTztBQUFBLElBQ0wsSUFBSSxpQkFBc0I7QUFBQSxJQUMxQixJQUFJLGNBQWMsWUFBWTtBQUFBLE1BQzVCLElBQUksZ0JBQWdCO0FBQUEsUUFDbEIsUUFBUSxNQUFNLHNEQUFzRDtBQUFBLE1BQ3RFLEVBQU87QUFBQSxRQUNMLGlCQUFpQixhQUFhLE9BQU8sTUFBTSxTQUFTLFFBQVEsQ0FBQztBQUFBO0FBQUEsTUFFL0QsU0FBUyxNQUFNO0FBQUEsTUFDZixVQUFVLFFBQVEsbUJBQW1CO0FBQUEsTUFDckMsSUFBSSxPQUFPLFNBQVMsV0FBVyxPQUFPLGlCQUFpQixPQUFPO0FBQUEsUUFDNUQsT0FBTyxFQUFFLFFBQVEsU0FBUyxPQUFPLE9BQU8sTUFBTTtBQUFBLE1BQ2hEO0FBQUEsTUFDQSxPQUFPLEVBQUUsUUFBUSxXQUFXLE9BQVksVUFBRTtBQUFBO0FBQUEsSUFFNUMsSUFBSTtBQUFBLE1BQ0YsTUFBTSxLQUFLLGFBQWEsSUFBSTtBQUFBLE1BQzVCLE9BQU8sR0FBRztBQUFBLE1BQ1YsUUFBUSxNQUFNLCtDQUErQyxDQUFDO0FBQUE7QUFBQSxJQUVoRSxJQUFJLENBQUMsZ0JBQWdCO0FBQUEsTUFDbkIsTUFBTSxZQUFZO0FBQUEsSUFDcEI7QUFBQSxJQUNBLE1BQU07QUFBQTtBQUFBLEVBRVIsSUFBSSxRQUFRO0FBQUEsSUFDVixPQUFPO0FBQUEsRUFDVDtBQUFBLEVBQ0EsT0FBTztBQUFBLElBQ0wsTUFBTTtBQUFBLElBQ04sT0FBTyxJQUFJLE1BQU0sOENBQThDO0FBQUEsRUFDakU7QUFBQTtBQUVGLFNBQVMsY0FBYyxDQUFDLE1BQU07QUFBQSxFQUM1QixNQUFNLFNBQVMsU0FBUyxRQUFRLHFCQUFxQjtBQUFBLEVBQ3JELE9BQU87QUFBQSxJQUNMLFNBQVMsbUJBQW1CLE9BQU87QUFBQSxJQUNuQyxRQUFRLEtBQUssT0FBTztBQUFBLElBQ3BCO0FBQUEsSUFDQSxTQUFTLG1CQUFtQixPQUFPO0FBQUEsRUFDckM7QUFBQTtBQUVGLFNBQVMsYUFBYSxDQUFDLFFBQVEsTUFBTTtBQUFBLEVBQ25DLE9BQU87QUFBQSxJQUNMLFlBQVksV0FBVyxPQUFPLE1BQU0sUUFBUTtBQUFBLE9BQ3pDLGdCQUFnQixPQUFPLEVBQUUsWUFBWSxLQUFLLFdBQVcsSUFBSSxDQUFDO0FBQUEsT0FDMUQsaUJBQWlCLE9BQU8sRUFBRSxhQUFhLEtBQUssWUFBWSxJQUFJLENBQUM7QUFBQSxPQUM3RCxjQUFjLE9BQU8sRUFBRSxVQUFVLEtBQUssU0FBUyxJQUFJLENBQUM7QUFBQSxPQUNwRCxVQUFVLE9BQU8sRUFBRSxNQUFNLEtBQUssS0FBSyxJQUFJLENBQUM7QUFBQSxFQUM3QztBQUFBO0FBRUYsU0FBUyxrQkFBa0IsQ0FBQyxTQUFTO0FBQUEsRUFDbkMsT0FBTztBQUFBLElBQ0wsUUFBUSxRQUFRO0FBQUEsSUFDaEIsS0FBSyxRQUFRO0FBQUEsSUFDYixTQUFTO0FBQUEsTUFDUCxLQUFLLElBQUksU0FBUyxRQUFRLFFBQVEsSUFBSSxHQUFHLElBQUk7QUFBQSxJQUMvQztBQUFBLEVBQ0Y7QUFBQTtBQUVGLFNBQVMsa0JBQWtCLENBQUMsU0FBUztBQUFBLEVBQ25DLElBQUksY0FBYyxPQUFPLEdBQUc7QUFBQSxJQUMxQixJQUFJLFNBQVMsS0FBSyxRQUFRO0FBQUEsSUFDMUIsT0FBTyxPQUFPLE1BQU07QUFBQSxJQUNwQixPQUFPO0FBQUEsRUFDVCxFQUFPO0FBQUEsSUFDTCxPQUFPO0FBQUEsTUFDTCxLQUFLLENBQUMsUUFBUSxRQUFRLElBQUksR0FBRztBQUFBLElBQy9CO0FBQUE7QUFBQTtBQUdKLElBQUksbUJBQW1CLE9BQU8sb0JBQW9CLE9BQU8sU0FBUyxFQUFFLEtBQUssRUFBRSxLQUFLLE1BQUk7QUFDcEYsU0FBUyxhQUFhLENBQUMsT0FBTztBQUFBLEVBQzVCLElBQUksVUFBVSxRQUFRLE9BQU8sVUFBVSxVQUFVO0FBQUEsSUFDL0MsT0FBTztBQUFBLEVBQ1Q7QUFBQSxFQUNBLE1BQU0sUUFBUSxPQUFPLGVBQWUsS0FBSztBQUFBLEVBQ3pDLE9BQU8sVUFBVSxPQUFPLGFBQWEsVUFBVSxRQUFRLE9BQU8sb0JBQW9CLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxNQUFJLE1BQU07QUFBQTtBQUlqSCxJQUFJLDBCQUEwQjtBQUFBLEVBQzVCO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQ0Y7QUFDQSxJQUFJLHVCQUF1QixJQUFJLElBQzdCLHVCQUNGO0FBQ0EsSUFBSSx5QkFBeUI7QUFBQSxFQUMzQjtBQUFBLEVBQ0EsR0FBRztBQUNMO0FBQ0EsSUFBSSxzQkFBc0IsSUFBSSxJQUFJLHNCQUFzQjtBQUN4RCxJQUFJLHNDQUFzQyxJQUFJLElBQUksQ0FBQyxLQUFLLEtBQUssS0FBSyxLQUFLLEdBQUcsQ0FBQztBQUMzRSxJQUFJLG9EQUFvRCxJQUFJLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQztBQUMxRSxJQUFJLGtCQUFrQjtBQUFBLEVBQ3BCLE9BQU87QUFBQSxFQUNQLFVBQWU7QUFBQSxFQUNmLFlBQWlCO0FBQUEsRUFDakIsWUFBaUI7QUFBQSxFQUNqQixhQUFrQjtBQUFBLEVBQ2xCLFVBQWU7QUFBQSxFQUNmLE1BQVc7QUFBQSxFQUNYLE1BQVc7QUFDYjtBQUNBLElBQUksZUFBZTtBQUFBLEVBQ2pCLE9BQU87QUFBQSxFQUNQLE1BQVc7QUFBQSxFQUNYLFlBQWlCO0FBQUEsRUFDakIsWUFBaUI7QUFBQSxFQUNqQixhQUFrQjtBQUFBLEVBQ2xCLFVBQWU7QUFBQSxFQUNmLE1BQVc7QUFBQSxFQUNYLE1BQVc7QUFDYjtBQUNBLElBQUksZUFBZTtBQUFBLEVBQ2pCLE9BQU87QUFBQSxFQUNQLFNBQWM7QUFBQSxFQUNkLE9BQVk7QUFBQSxFQUNaLFVBQWU7QUFDakI7QUFDQSxJQUFJLHFCQUFxQjtBQUN6QixJQUFJLGdCQUFnQixDQUFDLFFBQVEsbUJBQW1CLEtBQUssR0FBRztBQUN4RCxJQUFJLDRCQUE0QixDQUFDLFdBQVc7QUFBQSxFQUMxQyxrQkFBa0IsUUFBUSxNQUFNLGdCQUFnQjtBQUNsRDtBQUNBLElBQUksMEJBQTBCO0FBQzlCLElBQUksd0JBQXdCLE9BQU8saUJBQWlCO0FBQ3BELFNBQVMsWUFBWSxDQUFDLE1BQU07QUFBQSxFQUMxQixNQUFNLGVBQWUsS0FBSyxTQUFTLEtBQUssU0FBUyxPQUFPLFdBQVcsY0FBYyxTQUFjO0FBQUEsRUFDL0YsTUFBTSxhQUFhLE9BQU8saUJBQWlCLGVBQWUsT0FBTyxhQUFhLGFBQWEsZUFBZSxPQUFPLGFBQWEsU0FBUyxrQkFBa0I7QUFBQSxFQUN6SixVQUNFLEtBQUssT0FBTyxTQUFTLEdBQ3JCLDJEQUNGO0FBQUEsRUFDQSxJQUFJLDRCQUE0QixLQUFLLDRCQUE0QixDQUFDO0FBQUEsRUFDbEUsSUFBSSxzQkFBc0IsS0FBSyxzQkFBc0I7QUFBQSxFQUNyRCxJQUFJLHNCQUFzQjtBQUFBLEVBQzFCLElBQUksS0FBSywyQkFBMkI7QUFBQSxJQUNsQyxJQUFJLG1CQUFtQixLQUFLO0FBQUEsSUFDNUIsc0JBQXNCLENBQUMsVUFBVTtBQUFBLE1BQy9CLE9BQU87QUFBQSxXQUNGLG9CQUFvQixLQUFLO0FBQUEsV0FDekIsK0JBQ0QsaUJBQWlCLElBQUksQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sT0FBTyxHQUNuRCxLQUNGO0FBQUEsTUFDRjtBQUFBO0FBQUEsRUFFSjtBQUFBLEVBQ0EsSUFBSSxXQUFXLENBQUM7QUFBQSxFQUNoQixJQUFJLGFBQWEsMEJBQ2YsS0FBSyxRQUNMLHFCQUNLLFdBQ0wsUUFDRjtBQUFBLEVBQ0EsSUFBSTtBQUFBLEVBQ0osSUFBSSxXQUFXLEtBQUssWUFBWTtBQUFBLEVBQ2hDLElBQUksQ0FBQyxTQUFTLFdBQVcsR0FBRyxHQUFHO0FBQUEsSUFDN0IsV0FBVyxJQUFJO0FBQUEsRUFDakI7QUFBQSxFQUNBLElBQUksbUJBQW1CLEtBQUssZ0JBQWdCO0FBQUEsRUFDNUMsSUFBSSxTQUFTO0FBQUEsT0FDUixLQUFLO0FBQUEsRUFDVjtBQUFBLEVBQ0EsSUFBSSxrQkFBa0I7QUFBQSxFQUN0QixJQUFJLDhCQUE4QixJQUFJO0FBQUEsRUFDdEMsSUFBSSx3QkFBd0I7QUFBQSxFQUM1QixJQUFJLDJCQUEyQjtBQUFBLEVBQy9CLElBQUksb0JBQW9CO0FBQUEsRUFDeEIsSUFBSSx3QkFBd0IsS0FBSyxpQkFBaUI7QUFBQSxFQUNsRCxJQUFJLGlCQUFpQixZQUFZLFlBQVksS0FBSyxRQUFRLFVBQVUsUUFBUTtBQUFBLEVBQzVFLElBQUksc0JBQXNCO0FBQUEsRUFDMUIsSUFBSSxnQkFBZ0I7QUFBQSxFQUNwQixJQUFJO0FBQUEsRUFDSixJQUFJLGtCQUFrQixRQUFRLENBQUMsS0FBSyx5QkFBeUI7QUFBQSxJQUMzRCxJQUFJLFFBQVEsdUJBQXVCLEtBQUs7QUFBQSxNQUN0QyxVQUFVLEtBQUssUUFBUSxTQUFTO0FBQUEsSUFDbEMsQ0FBQztBQUFBLElBQ0QsTUFBTSxTQUFTLFVBQVUsdUJBQXVCLFVBQVU7QUFBQSxJQUMxRCxjQUFjO0FBQUEsSUFDZCxpQkFBaUI7QUFBQSxJQUNqQixnQkFBZ0IsR0FBRyxNQUFNLEtBQUssTUFBTTtBQUFBLEVBQ3RDLEVBQU87QUFBQSxJQUNMLElBQUksa0JBQWtCLENBQUMsS0FBSyxlQUFlO0FBQUEsTUFDekMsSUFBSSxXQUFXLGNBQ2IsZ0JBQ0EsWUFDQSxLQUFLLFFBQVEsU0FBUyxRQUN4QjtBQUFBLE1BQ0EsSUFBSSxTQUFTLFFBQVE7QUFBQSxRQUNuQixpQkFBaUI7QUFBQSxNQUNuQjtBQUFBLElBQ0Y7QUFBQSxJQUNBLElBQUksQ0FBQyxnQkFBZ0I7QUFBQSxNQUNuQixjQUFjO0FBQUEsTUFDZCxpQkFBaUIsQ0FBQztBQUFBLE1BQ2xCLElBQUksV0FBVyxjQUNiLE1BQ0EsWUFDQSxLQUFLLFFBQVEsU0FBUyxRQUN4QjtBQUFBLE1BQ0EsSUFBSSxTQUFTLFVBQVUsU0FBUyxTQUFTO0FBQUEsUUFDdkMsc0JBQXNCO0FBQUEsUUFDdEIsaUJBQWlCLFNBQVM7QUFBQSxNQUM1QjtBQUFBLElBQ0YsRUFBTyxTQUFJLGVBQWUsS0FBSyxDQUFDLE1BQU0sRUFBRSxNQUFNLElBQUksR0FBRztBQUFBLE1BQ25ELGNBQWM7QUFBQSxJQUNoQixFQUFPLFNBQUksQ0FBQyxlQUFlLEtBQUssQ0FBQyxNQUFNLDJCQUEyQixFQUFFLEtBQUssQ0FBQyxHQUFHO0FBQUEsTUFDM0UsY0FBYztBQUFBLElBQ2hCLEVBQU87QUFBQSxNQUNMLElBQUksYUFBYSxLQUFLLGdCQUFnQixLQUFLLGNBQWMsYUFBYTtBQUFBLE1BQ3RFLElBQUksU0FBUyxLQUFLLGdCQUFnQixLQUFLLGNBQWMsU0FBUztBQUFBLE1BQzlELElBQUksUUFBUTtBQUFBLFFBQ1YsSUFBSSxNQUFNLGVBQWUsVUFDdkIsQ0FBQyxNQUFNLE9BQU8sRUFBRSxNQUFNLFFBQWEsU0FDckM7QUFBQSxRQUNBLGNBQWMsZUFBZSxNQUFNLEdBQUcsTUFBTSxDQUFDLEVBQUUsTUFDN0MsQ0FBQyxNQUFNLENBQUMsMkJBQTJCLEVBQUUsT0FBTyxZQUFZLE1BQU0sQ0FDaEU7QUFBQSxNQUNGLEVBQU87QUFBQSxRQUNMLGNBQWMsZUFBZSxNQUMzQixDQUFDLE1BQU0sQ0FBQywyQkFBMkIsRUFBRSxPQUFPLFlBQVksTUFBTSxDQUNoRTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSU4sSUFBSTtBQUFBLEVBQ0osSUFBSSxRQUFRO0FBQUEsSUFDVixlQUFlLEtBQUssUUFBUTtBQUFBLElBQzVCLFVBQVUsS0FBSyxRQUFRO0FBQUEsSUFDdkIsU0FBUztBQUFBLElBQ1Q7QUFBQSxJQUNBLFlBQVk7QUFBQSxJQUVaLHVCQUF1QixLQUFLLGlCQUFpQixPQUFPLFFBQVE7QUFBQSxJQUM1RCxvQkFBb0I7QUFBQSxJQUNwQixjQUFjO0FBQUEsSUFDZCxZQUFZLEtBQUssaUJBQWlCLEtBQUssY0FBYyxjQUFjLENBQUM7QUFBQSxJQUNwRSxZQUFZLEtBQUssaUJBQWlCLEtBQUssY0FBYyxjQUFjO0FBQUEsSUFDbkUsUUFBUSxLQUFLLGlCQUFpQixLQUFLLGNBQWMsVUFBVTtBQUFBLElBQzNELDBCQUEwQixJQUFJO0FBQUEsSUFDOUIsMEJBQTBCLElBQUk7QUFBQSxFQUNoQztBQUFBLEVBQ0EsSUFBSSxnQkFBZ0I7QUFBQSxFQUNwQixJQUFJLDRCQUE0QjtBQUFBLEVBQ2hDLElBQUk7QUFBQSxFQUNKLElBQUksK0JBQStCO0FBQUEsRUFDbkMsSUFBSSx5Q0FBeUMsSUFBSTtBQUFBLEVBQ2pELElBQUksOEJBQThCO0FBQUEsRUFDbEMsSUFBSSw4QkFBOEI7QUFBQSxFQUNsQyxJQUFJLHlCQUF5QjtBQUFBLEVBQzdCLElBQUksd0NBQXdDLElBQUk7QUFBQSxFQUNoRCxJQUFJLG1DQUFtQyxJQUFJO0FBQUEsRUFDM0MsSUFBSSxxQkFBcUI7QUFBQSxFQUN6QixJQUFJLDBCQUEwQjtBQUFBLEVBQzlCLElBQUksaUNBQWlDLElBQUk7QUFBQSxFQUN6QyxJQUFJLG1DQUFtQyxJQUFJO0FBQUEsRUFDM0MsSUFBSSxtQ0FBbUMsSUFBSTtBQUFBLEVBQzNDLElBQUksaUNBQWlDLElBQUk7QUFBQSxFQUN6QyxJQUFJLDRDQUE0QyxJQUFJO0FBQUEsRUFDcEQsSUFBSSxtQ0FBbUMsSUFBSTtBQUFBLEVBQzNDLElBQUksOEJBQW1DO0FBQUEsRUFDdkMsSUFBSSx5QkFBeUI7QUFBQSxFQUM3QixTQUFTLFVBQVUsR0FBRztBQUFBLElBQ3BCLGtCQUFrQixLQUFLLFFBQVEsT0FDN0IsR0FBRyxRQUFRLGVBQWUscUJBQVUsWUFBWTtBQUFBLE1BQzlDLElBQUksNkJBQTZCO0FBQUEsUUFDL0IsNEJBQTRCO0FBQUEsUUFDNUIsOEJBQW1DO0FBQUEsUUFDbkM7QUFBQSxNQUNGO0FBQUEsTUFDQSxRQUNFLGlCQUFpQixTQUFTLEtBQUssU0FBUyxNQUN4Qyw0WUFDRjtBQUFBLE1BQ0EsSUFBSSxhQUFhLHNCQUFzQjtBQUFBLFFBQ3JDLGlCQUFpQixNQUFNO0FBQUEsUUFDdkIsY0FBYztBQUFBLFFBQ2Q7QUFBQSxNQUNGLENBQUM7QUFBQSxNQUNELElBQUksY0FBYyxTQUFTLE1BQU07QUFBQSxRQUMvQixJQUFJLDJCQUEyQixJQUFJLFFBQVEsQ0FBQyxZQUFZO0FBQUEsVUFDdEQsOEJBQThCO0FBQUEsU0FDL0I7QUFBQSxRQUNELEtBQUssUUFBUSxHQUFHLFFBQVEsRUFBRTtBQUFBLFFBQzFCLGNBQWMsWUFBWTtBQUFBLFVBQ3hCLE9BQU87QUFBQSxVQUNQO0FBQUEsVUFDQSxPQUFPLEdBQUc7QUFBQSxZQUNSLGNBQWMsWUFBWTtBQUFBLGNBQ3hCLE9BQU87QUFBQSxjQUNQLFNBQWM7QUFBQSxjQUNkLE9BQVk7QUFBQSxjQUNaO0FBQUEsWUFDRixDQUFDO0FBQUEsWUFDRCx5QkFBeUIsS0FBSyxNQUFNLEtBQUssUUFBUSxHQUFHLEtBQUssQ0FBQztBQUFBO0FBQUEsVUFFNUQsS0FBSyxHQUFHO0FBQUEsWUFDTixJQUFJLFdBQVcsSUFBSSxJQUFJLE1BQU0sUUFBUTtBQUFBLFlBQ3JDLFNBQVMsSUFBSSxZQUFZLFlBQVk7QUFBQSxZQUNyQyxZQUFZLEVBQUUsU0FBUyxDQUFDO0FBQUE7QUFBQSxRQUU1QixDQUFDO0FBQUEsUUFDRDtBQUFBLE1BQ0Y7QUFBQSxNQUNBLE9BQU8sZ0JBQWdCLGVBQWUsU0FBUTtBQUFBLEtBRWxEO0FBQUEsSUFDQSxJQUFJLFlBQVk7QUFBQSxNQUNkLDBCQUEwQixjQUFjLHNCQUFzQjtBQUFBLE1BQzlELElBQUksMEJBQTBCLE1BQU0sMEJBQTBCLGNBQWMsc0JBQXNCO0FBQUEsTUFDbEcsYUFBYSxpQkFBaUIsWUFBWSx1QkFBdUI7QUFBQSxNQUNqRSw4QkFBOEIsTUFBTSxhQUFhLG9CQUFvQixZQUFZLHVCQUF1QjtBQUFBLElBQzFHO0FBQUEsSUFDQSxJQUFJLENBQUMsTUFBTSxhQUFhO0FBQUEsTUFDdEIsZ0JBQWdCLE9BQWlCLE1BQU0sVUFBVTtBQUFBLFFBQy9DLGtCQUFrQjtBQUFBLE1BQ3BCLENBQUM7QUFBQSxJQUNIO0FBQUEsSUFDQSxPQUFPO0FBQUE7QUFBQSxFQUVULFNBQVMsT0FBTyxHQUFHO0FBQUEsSUFDakIsSUFBSSxpQkFBaUI7QUFBQSxNQUNuQixnQkFBZ0I7QUFBQSxJQUNsQjtBQUFBLElBQ0EsSUFBSSw2QkFBNkI7QUFBQSxNQUMvQiw0QkFBNEI7QUFBQSxJQUM5QjtBQUFBLElBQ0EsWUFBWSxNQUFNO0FBQUEsSUFDbEIsK0JBQStCLDRCQUE0QixNQUFNO0FBQUEsSUFDakUsTUFBTSxTQUFTLFFBQVEsQ0FBQyxHQUFHLFFBQVEsY0FBYyxHQUFHLENBQUM7QUFBQSxJQUNyRCxNQUFNLFNBQVMsUUFBUSxDQUFDLEdBQUcsUUFBUSxjQUFjLEdBQUcsQ0FBQztBQUFBO0FBQUEsRUFFdkQsU0FBUyxTQUFTLENBQUMsSUFBSTtBQUFBLElBQ3JCLFlBQVksSUFBSSxFQUFFO0FBQUEsSUFDbEIsT0FBTyxNQUFNLFlBQVksT0FBTyxFQUFFO0FBQUE7QUFBQSxFQUVwQyxTQUFTLFdBQVcsQ0FBQyxVQUFVLE9BQU8sQ0FBQyxHQUFHO0FBQUEsSUFDeEMsSUFBSSxTQUFTLFNBQVM7QUFBQSxNQUNwQixTQUFTLFVBQVUsU0FBUyxRQUFRLElBQUksQ0FBQyxNQUFNO0FBQUEsUUFDN0MsSUFBSSxRQUFRLFNBQVMsRUFBRSxNQUFNO0FBQUEsUUFDN0IsSUFBSSxhQUFhLEVBQUU7QUFBQSxRQUNuQixJQUFJLFdBQVcsWUFBWSxNQUFNLFdBQVcsV0FBVyxpQkFBaUIsTUFBTSxnQkFBZ0IsV0FBVywyQkFBMkIsTUFBTSx3QkFBd0I7QUFBQSxVQUNoSyxPQUFPO0FBQUEsZUFDRjtBQUFBLFlBQ0g7QUFBQSxVQUNGO0FBQUEsUUFDRjtBQUFBLFFBQ0EsT0FBTztBQUFBLE9BQ1I7QUFBQSxJQUNIO0FBQUEsSUFDQSxRQUFRO0FBQUEsU0FDSDtBQUFBLFNBQ0E7QUFBQSxJQUNMO0FBQUEsSUFDQSxJQUFJLG9CQUFvQixDQUFDO0FBQUEsSUFDekIsSUFBSSxrQkFBa0IsQ0FBQztBQUFBLElBQ3ZCLE1BQU0sU0FBUyxRQUFRLENBQUMsU0FBUyxRQUFRO0FBQUEsTUFDdkMsSUFBSSxRQUFRLFVBQVUsUUFBUTtBQUFBLFFBQzVCLElBQUksMEJBQTBCLElBQUksR0FBRyxHQUFHO0FBQUEsVUFDdEMsa0JBQWtCLEtBQUssR0FBRztBQUFBLFFBQzVCLEVBQU87QUFBQSxVQUNMLGdCQUFnQixLQUFLLEdBQUc7QUFBQTtBQUFBLE1BRTVCO0FBQUEsS0FDRDtBQUFBLElBQ0QsMEJBQTBCLFFBQVEsQ0FBQyxRQUFRO0FBQUEsTUFDekMsSUFBSSxDQUFDLE1BQU0sU0FBUyxJQUFJLEdBQUcsS0FBSyxDQUFDLGlCQUFpQixJQUFJLEdBQUcsR0FBRztBQUFBLFFBQzFELGtCQUFrQixLQUFLLEdBQUc7QUFBQSxNQUM1QjtBQUFBLEtBQ0Q7QUFBQSxJQUNELENBQUMsR0FBRyxXQUFXLEVBQUUsUUFDZixDQUFDLGVBQWUsV0FBVyxPQUFPO0FBQUEsTUFDaEMsaUJBQWlCO0FBQUEsTUFDakIsb0JBQW9CLEtBQUs7QUFBQSxNQUN6QixXQUFXLEtBQUssY0FBYztBQUFBLElBQ2hDLENBQUMsQ0FDSDtBQUFBLElBQ0Esa0JBQWtCLFFBQVEsQ0FBQyxRQUFRLGNBQWMsR0FBRyxDQUFDO0FBQUEsSUFDckQsZ0JBQWdCLFFBQVEsQ0FBQyxRQUFRLE1BQU0sU0FBUyxPQUFPLEdBQUcsQ0FBQztBQUFBO0FBQUEsRUFFN0QsU0FBUyxrQkFBa0IsQ0FBQyxXQUFVLFlBQVksY0FBYyxDQUFDLEdBQUc7QUFBQSxJQUNsRSxJQUFJLGlCQUFpQixNQUFNLGNBQWMsUUFBUSxNQUFNLFdBQVcsY0FBYyxRQUFRLGlCQUFpQixNQUFNLFdBQVcsVUFBVSxLQUFLLE1BQU0sV0FBVyxVQUFVLGFBQWEsVUFBUyxPQUFPLGdCQUFnQjtBQUFBLElBQ2pOLElBQUk7QUFBQSxJQUNKLElBQUksU0FBUyxZQUFZO0FBQUEsTUFDdkIsSUFBSSxPQUFPLEtBQUssU0FBUyxVQUFVLEVBQUUsU0FBUyxHQUFHO0FBQUEsUUFDL0MsYUFBYSxTQUFTO0FBQUEsTUFDeEIsRUFBTztBQUFBLFFBQ0wsYUFBYTtBQUFBO0FBQUEsSUFFakIsRUFBTyxTQUFJLGdCQUFnQjtBQUFBLE1BQ3pCLGFBQWEsTUFBTTtBQUFBLElBQ3JCLEVBQU87QUFBQSxNQUNMLGFBQWE7QUFBQTtBQUFBLElBRWYsSUFBSSxhQUFhLFNBQVMsYUFBYSxnQkFDckMsTUFBTSxZQUNOLFNBQVMsWUFDVCxTQUFTLFdBQVcsQ0FBQyxHQUNyQixTQUFTLE1BQ1gsSUFBSSxNQUFNO0FBQUEsSUFDVixJQUFJLFdBQVcsTUFBTTtBQUFBLElBQ3JCLElBQUksU0FBUyxPQUFPLEdBQUc7QUFBQSxNQUNyQixXQUFXLElBQUksSUFBSSxRQUFRO0FBQUEsTUFDM0IsU0FBUyxRQUFRLENBQUMsR0FBRyxNQUFNLFNBQVMsSUFBSSxHQUFHLFlBQVksQ0FBQztBQUFBLElBQzFEO0FBQUEsSUFDQSxJQUFJLHdCQUF3Qiw4QkFBOEIsUUFBUSx1QkFBdUIsV0FBVSxTQUFTLFdBQVcsTUFBTSxPQUFPO0FBQUEsSUFDcEksSUFBSSxxQkFBcUIsOEJBQThCLFFBQVEsTUFBTSxXQUFXLGNBQWMsUUFBUSxpQkFBaUIsTUFBTSxXQUFXLFVBQVUsS0FBSyxVQUFTLE9BQU8sZ0JBQWdCO0FBQUEsSUFDdkwsSUFBSSxvQkFBb0I7QUFBQSxNQUN0QixhQUFhO0FBQUEsTUFDYixxQkFBMEI7QUFBQSxJQUM1QjtBQUFBLElBQ0EsSUFBSSw2QkFBNkIsQ0FDakMsRUFBTyxTQUFJLGtCQUFrQixPQUFpQixDQUM5QyxFQUFPLFNBQUksa0JBQWtCLFFBQW1CO0FBQUEsTUFDOUMsS0FBSyxRQUFRLEtBQUssV0FBVSxVQUFTLEtBQUs7QUFBQSxJQUM1QyxFQUFPLFNBQUksa0JBQWtCLFdBQXlCO0FBQUEsTUFDcEQsS0FBSyxRQUFRLFFBQVEsV0FBVSxVQUFTLEtBQUs7QUFBQSxJQUMvQztBQUFBLElBQ0EsSUFBSTtBQUFBLElBQ0osSUFBSSxrQkFBa0IsT0FBaUI7QUFBQSxNQUNyQyxJQUFJLGFBQWEsdUJBQXVCLElBQUksTUFBTSxTQUFTLFFBQVE7QUFBQSxNQUNuRSxJQUFJLGNBQWMsV0FBVyxJQUFJLFVBQVMsUUFBUSxHQUFHO0FBQUEsUUFDbkQscUJBQXFCO0FBQUEsVUFDbkIsaUJBQWlCLE1BQU07QUFBQSxVQUN2QixjQUFjO0FBQUEsUUFDaEI7QUFBQSxNQUNGLEVBQU8sU0FBSSx1QkFBdUIsSUFBSSxVQUFTLFFBQVEsR0FBRztBQUFBLFFBQ3hELHFCQUFxQjtBQUFBLFVBQ25CLGlCQUFpQjtBQUFBLFVBQ2pCLGNBQWMsTUFBTTtBQUFBLFFBQ3RCO0FBQUEsTUFDRjtBQUFBLElBQ0YsRUFBTyxTQUFJLDhCQUE4QjtBQUFBLE1BQ3ZDLElBQUksVUFBVSx1QkFBdUIsSUFBSSxNQUFNLFNBQVMsUUFBUTtBQUFBLE1BQ2hFLElBQUksU0FBUztBQUFBLFFBQ1gsUUFBUSxJQUFJLFVBQVMsUUFBUTtBQUFBLE1BQy9CLEVBQU87QUFBQSxRQUNMLDBCQUEwQixJQUFJLElBQUksQ0FBQyxVQUFTLFFBQVEsQ0FBQztBQUFBLFFBQ3JELHVCQUF1QixJQUFJLE1BQU0sU0FBUyxVQUFVLE9BQU87QUFBQTtBQUFBLE1BRTdELHFCQUFxQjtBQUFBLFFBQ25CLGlCQUFpQixNQUFNO0FBQUEsUUFDdkIsY0FBYztBQUFBLE1BQ2hCO0FBQUEsSUFDRjtBQUFBLElBQ0EsWUFDRTtBQUFBLFNBQ0s7QUFBQSxNQUVIO0FBQUEsTUFDQTtBQUFBLE1BQ0EsZUFBZTtBQUFBLE1BQ2Y7QUFBQSxNQUNBLGFBQWE7QUFBQSxNQUNiLFlBQVk7QUFBQSxNQUNaLGNBQWM7QUFBQSxNQUNkO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxJQUNGLEdBQ0E7QUFBQSxNQUNFO0FBQUEsTUFDQSxXQUFXLGNBQWM7QUFBQSxJQUMzQixDQUNGO0FBQUEsSUFDQSxnQkFBZ0I7QUFBQSxJQUNoQiw0QkFBNEI7QUFBQSxJQUM1QiwrQkFBK0I7QUFBQSxJQUMvQiw4QkFBOEI7QUFBQSxJQUM5Qix5QkFBeUI7QUFBQSxJQUN6Qix3QkFBd0IsUUFBUTtBQUFBLElBQ2hDLHlCQUF5QjtBQUFBO0FBQUEsRUFFM0IsZUFBZSxRQUFRLENBQUMsSUFBSSxNQUFNO0FBQUEsSUFDaEMsSUFBSSxPQUFPLE9BQU8sVUFBVTtBQUFBLE1BQzFCLEtBQUssUUFBUSxHQUFHLEVBQUU7QUFBQSxNQUNsQjtBQUFBLElBQ0Y7QUFBQSxJQUNBLElBQUksaUJBQWlCLFlBQ25CLE1BQU0sVUFDTixNQUFNLFNBQ04sVUFDQSxJQUNBLE1BQU0sYUFDTixNQUFNLFFBQ1I7QUFBQSxJQUNBLE1BQU0sTUFBTSxZQUFZLFVBQVUseUJBQ2hDLE9BQ0EsZ0JBQ0EsSUFDRjtBQUFBLElBQ0EsSUFBSSxrQkFBa0IsTUFBTTtBQUFBLElBQzVCLElBQUksZUFBZSxlQUFlLE1BQU0sVUFBVSxNQUFNLFFBQVEsS0FBSyxLQUFLO0FBQUEsSUFDMUUsZUFBZTtBQUFBLFNBQ1Y7QUFBQSxTQUNBLEtBQUssUUFBUSxlQUFlLFlBQVk7QUFBQSxJQUM3QztBQUFBLElBQ0EsSUFBSSxjQUFjLFFBQVEsS0FBSyxXQUFXLE9BQU8sS0FBSyxVQUFlO0FBQUEsSUFDckUsSUFBSSxnQkFBZ0I7QUFBQSxJQUNwQixJQUFJLGdCQUFnQixNQUFNO0FBQUEsTUFDeEIsZ0JBQWdCO0FBQUEsSUFDbEIsRUFBTyxTQUFJLGdCQUFnQixPQUFPLENBQ2xDLEVBQU8sU0FBSSxjQUFjLFFBQVEsaUJBQWlCLFdBQVcsVUFBVSxLQUFLLFdBQVcsZUFBZSxNQUFNLFNBQVMsV0FBVyxNQUFNLFNBQVMsUUFBUTtBQUFBLE1BQ3JKLGdCQUFnQjtBQUFBLElBQ2xCO0FBQUEsSUFDQSxJQUFJLHFCQUFxQixRQUFRLHdCQUF3QixPQUFPLEtBQUssdUJBQXVCLE9BQVk7QUFBQSxJQUN4RyxJQUFJLGFBQWEsUUFBUSxLQUFLLGVBQWU7QUFBQSxJQUM3QyxJQUFJLGFBQWEsc0JBQXNCO0FBQUEsTUFDckM7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLElBQ0YsQ0FBQztBQUFBLElBQ0QsSUFBSSxZQUFZO0FBQUEsTUFDZCxjQUFjLFlBQVk7QUFBQSxRQUN4QixPQUFPO0FBQUEsUUFDUCxVQUFVO0FBQUEsUUFDVixPQUFPLEdBQUc7QUFBQSxVQUNSLGNBQWMsWUFBWTtBQUFBLFlBQ3hCLE9BQU87QUFBQSxZQUNQLFNBQWM7QUFBQSxZQUNkLE9BQVk7QUFBQSxZQUNaLFVBQVU7QUFBQSxVQUNaLENBQUM7QUFBQSxVQUNELFNBQVMsSUFBSSxJQUFJO0FBQUE7QUFBQSxRQUVuQixLQUFLLEdBQUc7QUFBQSxVQUNOLElBQUksV0FBVyxJQUFJLElBQUksTUFBTSxRQUFRO0FBQUEsVUFDckMsU0FBUyxJQUFJLFlBQVksWUFBWTtBQUFBLFVBQ3JDLFlBQVksRUFBRSxTQUFTLENBQUM7QUFBQTtBQUFBLE1BRTVCLENBQUM7QUFBQSxNQUNEO0FBQUEsSUFDRjtBQUFBLElBQ0EsTUFBTSxnQkFBZ0IsZUFBZSxjQUFjO0FBQUEsTUFDakQ7QUFBQSxNQUdBLGNBQWM7QUFBQSxNQUNkO0FBQUEsTUFDQSxTQUFTLFFBQVEsS0FBSztBQUFBLE1BQ3RCLHNCQUFzQixRQUFRLEtBQUs7QUFBQSxNQUNuQztBQUFBLElBQ0YsQ0FBQztBQUFBO0FBQUEsRUFFSCxTQUFTLFVBQVUsR0FBRztBQUFBLElBQ3BCLElBQUksQ0FBQyx3QkFBd0I7QUFBQSxNQUMzQix5QkFBeUIsZUFBZTtBQUFBLElBQzFDO0FBQUEsSUFDQSxxQkFBcUI7QUFBQSxJQUNyQixZQUFZLEVBQUUsY0FBYyxVQUFVLENBQUM7QUFBQSxJQUN2QyxJQUFJLFVBQVUsdUJBQXVCO0FBQUEsSUFDckMsSUFBSSxNQUFNLFdBQVcsVUFBVSxjQUFjO0FBQUEsTUFDM0MsT0FBTztBQUFBLElBQ1Q7QUFBQSxJQUNBLElBQUksTUFBTSxXQUFXLFVBQVUsUUFBUTtBQUFBLE1BQ3JDLGdCQUFnQixNQUFNLGVBQWUsTUFBTSxVQUFVO0FBQUEsUUFDbkQsZ0NBQWdDO0FBQUEsTUFDbEMsQ0FBQztBQUFBLE1BQ0QsT0FBTztBQUFBLElBQ1Q7QUFBQSxJQUNBLGdCQUNFLGlCQUFpQixNQUFNLGVBQ3ZCLE1BQU0sV0FBVyxVQUNqQjtBQUFBLE1BQ0Usb0JBQW9CLE1BQU07QUFBQSxNQUUxQixzQkFBc0IsaUNBQWlDO0FBQUEsSUFDekQsQ0FDRjtBQUFBLElBQ0EsT0FBTztBQUFBO0FBQUEsRUFFVCxlQUFlLGVBQWUsQ0FBQyxlQUFlLFdBQVUsTUFBTTtBQUFBLElBQzVELCtCQUErQiw0QkFBNEIsTUFBTTtBQUFBLElBQ2pFLDhCQUE4QjtBQUFBLElBQzlCLGdCQUFnQjtBQUFBLElBQ2hCLCtCQUErQixRQUFRLEtBQUssb0NBQW9DO0FBQUEsSUFDaEYsbUJBQW1CLE1BQU0sVUFBVSxNQUFNLE9BQU87QUFBQSxJQUNoRCw2QkFBNkIsUUFBUSxLQUFLLHdCQUF3QjtBQUFBLElBQ2xFLGdDQUFnQyxRQUFRLEtBQUssMEJBQTBCO0FBQUEsSUFDdkUsSUFBSSxjQUFjLHNCQUFzQjtBQUFBLElBQ3hDLElBQUksb0JBQW9CLFFBQVEsS0FBSztBQUFBLElBQ3JDLElBQUksVUFBVSxNQUFNLG9CQUFvQixNQUFNLFdBQVcsTUFBTSxRQUFRLFNBQVMsS0FBSyxDQUFDLHNCQUVwRixNQUFNLFVBQ0osWUFBWSxhQUFhLFdBQVUsUUFBUTtBQUFBLElBQy9DLElBQUksYUFBYSxRQUFRLEtBQUssZUFBZTtBQUFBLElBQzdDLElBQUksV0FBVyxNQUFNLGVBQWUsQ0FBQywwQkFBMEIsaUJBQWlCLE1BQU0sVUFBVSxTQUFRLEtBQUssRUFBRSxRQUFRLEtBQUssY0FBYyxpQkFBaUIsS0FBSyxXQUFXLFVBQVUsSUFBSTtBQUFBLE1BQ3ZMLG1CQUFtQixXQUFVLEVBQUUsUUFBUSxHQUFHLEVBQUUsVUFBVSxDQUFDO0FBQUEsTUFDdkQ7QUFBQSxJQUNGO0FBQUEsSUFDQSxJQUFJLFdBQVcsY0FBYyxTQUFTLGFBQWEsVUFBUyxRQUFRO0FBQUEsSUFDcEUsSUFBSSxTQUFTLFVBQVUsU0FBUyxTQUFTO0FBQUEsTUFDdkMsVUFBVSxTQUFTO0FBQUEsSUFDckI7QUFBQSxJQUNBLElBQUksQ0FBQyxTQUFTO0FBQUEsTUFDWixNQUFNLE9BQU8saUJBQWlCLFVBQVUsc0JBQ3RDLFVBQVMsUUFDWDtBQUFBLE1BQ0EsbUJBQ0UsV0FDQTtBQUFBLFFBQ0UsU0FBUztBQUFBLFFBQ1QsWUFBWSxDQUFDO0FBQUEsUUFDYixRQUFRO0FBQUEsV0FDTCxNQUFNLEtBQUs7QUFBQSxRQUNkO0FBQUEsTUFDRixHQUNBLEVBQUUsVUFBVSxDQUNkO0FBQUEsTUFDQTtBQUFBLElBQ0Y7QUFBQSxJQUNBLDhCQUE4QixJQUFJO0FBQUEsSUFDbEMsSUFBSSxVQUFVLHdCQUNaLEtBQUssU0FDTCxXQUNBLDRCQUE0QixRQUM1QixRQUFRLEtBQUssVUFDZjtBQUFBLElBQ0EsSUFBSSxnQkFBZ0IsS0FBSyxhQUFhLE1BQU0sS0FBSyxXQUFXLElBQUksSUFBSTtBQUFBLElBQ3BFLElBQUk7QUFBQSxJQUNKLElBQUksUUFBUSxLQUFLLGNBQWM7QUFBQSxNQUM3QixzQkFBc0I7QUFBQSxRQUNwQixvQkFBb0IsT0FBTyxFQUFFLE1BQU07QUFBQSxRQUNuQyxFQUFFLE1BQU0sU0FBcUIsT0FBTyxLQUFLLGFBQWE7QUFBQSxNQUN4RDtBQUFBLElBQ0YsRUFBTyxTQUFJLFFBQVEsS0FBSyxjQUFjLGlCQUFpQixLQUFLLFdBQVcsVUFBVSxHQUFHO0FBQUEsTUFDbEYsSUFBSSxlQUFlLE1BQU0sYUFDdkIsU0FDQSxXQUNBLEtBQUssWUFDTCxTQUNBLGVBQ0EsU0FBUyxRQUNULFFBQVEsS0FBSyxxQkFBcUIsTUFDbEMsRUFBRSxTQUFTLEtBQUssU0FBUyxVQUFVLENBQ3JDO0FBQUEsTUFDQSxJQUFJLGFBQWEsZ0JBQWdCO0FBQUEsUUFDL0I7QUFBQSxNQUNGO0FBQUEsTUFDQSxJQUFJLGFBQWEscUJBQXFCO0FBQUEsUUFDcEMsS0FBSyxTQUFTLFVBQVUsYUFBYTtBQUFBLFFBQ3JDLElBQUksY0FBYyxNQUFNLEtBQUsscUJBQXFCLE9BQU8sS0FBSyxLQUFLLE9BQU8sTUFBTSxXQUFXLEtBQUs7QUFBQSxVQUM5Riw4QkFBOEI7QUFBQSxVQUM5QixtQkFBbUIsV0FBVTtBQUFBLFlBQzNCLFNBQVMsYUFBYTtBQUFBLFlBQ3RCLFlBQVksQ0FBQztBQUFBLFlBQ2IsUUFBUTtBQUFBLGVBQ0wsVUFBVSxPQUFPO0FBQUEsWUFDcEI7QUFBQSxVQUNGLENBQUM7QUFBQSxVQUNEO0FBQUEsUUFDRjtBQUFBLE1BQ0Y7QUFBQSxNQUNBLFVBQVUsYUFBYSxXQUFXO0FBQUEsTUFDbEMsc0JBQXNCLGFBQWE7QUFBQSxNQUNuQyxvQkFBb0IscUJBQXFCLFdBQVUsS0FBSyxVQUFVO0FBQUEsTUFDbEUsWUFBWTtBQUFBLE1BQ1osU0FBUyxTQUFTO0FBQUEsTUFDbEIsVUFBVSx3QkFDUixLQUFLLFNBQ0wsUUFBUSxLQUNSLFFBQVEsTUFDVjtBQUFBLElBQ0Y7QUFBQSxJQUNBO0FBQUEsTUFDRTtBQUFBLE1BQ0EsU0FBUztBQUFBLE1BQ1Q7QUFBQSxNQUNBO0FBQUEsUUFDRSxNQUFNLGNBQ1IsU0FDQSxXQUNBLFNBQ0EsZUFDQSxTQUFTLFFBQ1QsbUJBQ0EsUUFBUSxLQUFLLFlBQ2IsUUFBUSxLQUFLLG1CQUNiLFFBQVEsS0FBSyxTQUNiLFFBQVEsS0FBSyxxQkFBcUIsTUFDbEMsV0FDQSxtQkFDRjtBQUFBLElBQ0EsSUFBSSxnQkFBZ0I7QUFBQSxNQUNsQjtBQUFBLElBQ0Y7QUFBQSxJQUNBLDhCQUE4QjtBQUFBLElBQzlCLG1CQUFtQixXQUFVO0FBQUEsTUFDM0IsU0FBUyxrQkFBa0I7QUFBQSxTQUN4Qix1QkFBdUIsbUJBQW1CO0FBQUEsTUFDN0M7QUFBQSxNQUNBO0FBQUEsSUFDRixDQUFDO0FBQUE7QUFBQSxFQUVILGVBQWUsWUFBWSxDQUFDLFNBQVMsV0FBVSxZQUFZLFNBQVMsZUFBZSxZQUFZLGtCQUFrQixPQUFPLENBQUMsR0FBRztBQUFBLElBQzFILHFCQUFxQjtBQUFBLElBQ3JCLElBQUksYUFBYSx3QkFBd0IsV0FBVSxVQUFVO0FBQUEsSUFDN0QsWUFBWSxFQUFFLFdBQVcsR0FBRyxFQUFFLFdBQVcsS0FBSyxjQUFjLEtBQUssQ0FBQztBQUFBLElBQ2xFLElBQUksWUFBWTtBQUFBLE1BQ2QsSUFBSSxpQkFBaUIsTUFBTSxlQUN6QixTQUNBLFVBQVMsVUFDVCxRQUFRLE1BQ1Y7QUFBQSxNQUNBLElBQUksZUFBZSxTQUFTLFdBQVc7QUFBQSxRQUNyQyxPQUFPLEVBQUUsZ0JBQWdCLEtBQUs7QUFBQSxNQUNoQyxFQUFPLFNBQUksZUFBZSxTQUFTLFNBQVM7QUFBQSxRQUMxQyxJQUFJLGVBQWUsZUFBZSxXQUFXLEdBQUc7QUFBQSxVQUM5QyxNQUFNLFNBQVMsVUFBVSxVQUFVLHVCQUF1QixVQUFVO0FBQUEsVUFDcEUsT0FBTztBQUFBLFlBQ0wsU0FBUztBQUFBLFlBQ1QscUJBQXFCO0FBQUEsY0FDbkIsTUFBTTtBQUFBLGNBQ047QUFBQSxnQkFDRSxNQUFNO0FBQUEsZ0JBQ04sT0FBTyxlQUFlO0FBQUEsY0FDeEI7QUFBQSxZQUNGO0FBQUEsVUFDRjtBQUFBLFFBQ0Y7QUFBQSxRQUNBLElBQUksYUFBYSxvQkFBb0IsZUFBZSxjQUFjLEVBQUUsTUFBTTtBQUFBLFFBQzFFLE9BQU87QUFBQSxVQUNMLFNBQVMsZUFBZTtBQUFBLFVBQ3hCLHFCQUFxQjtBQUFBLFlBQ25CO0FBQUEsWUFDQTtBQUFBLGNBQ0UsTUFBTTtBQUFBLGNBQ04sT0FBTyxlQUFlO0FBQUEsWUFDeEI7QUFBQSxVQUNGO0FBQUEsUUFDRjtBQUFBLE1BQ0YsRUFBTyxTQUFJLENBQUMsZUFBZSxTQUFTO0FBQUEsUUFDbEMsTUFBTSxpQkFBaUIsT0FBTyxVQUFVLHNCQUN0QyxVQUFTLFFBQ1g7QUFBQSxRQUNBLE9BQU87QUFBQSxVQUNMLFNBQVM7QUFBQSxVQUNULHFCQUFxQjtBQUFBLFlBQ25CLE1BQU07QUFBQSxZQUNOO0FBQUEsY0FDRSxNQUFNO0FBQUEsY0FDTjtBQUFBLFlBQ0Y7QUFBQSxVQUNGO0FBQUEsUUFDRjtBQUFBLE1BQ0YsRUFBTztBQUFBLFFBQ0wsVUFBVSxlQUFlO0FBQUE7QUFBQSxJQUU3QjtBQUFBLElBQ0EsSUFBSTtBQUFBLElBQ0osSUFBSSxjQUFjLGVBQWUsU0FBUyxTQUFRO0FBQUEsSUFDbEQsSUFBSSxDQUFDLFlBQVksTUFBTSxVQUFVLENBQUMsWUFBWSxNQUFNLE1BQU07QUFBQSxNQUN4RCxTQUFTO0FBQUEsUUFDUCxNQUFNO0FBQUEsUUFDTixPQUFPLHVCQUF1QixLQUFLO0FBQUEsVUFDakMsUUFBUSxRQUFRO0FBQUEsVUFDaEIsVUFBVSxVQUFTO0FBQUEsVUFDbkIsU0FBUyxZQUFZLE1BQU07QUFBQSxRQUM3QixDQUFDO0FBQUEsTUFDSDtBQUFBLElBQ0YsRUFBTztBQUFBLE1BQ0wsSUFBSSxZQUFZLCtCQUNkLHFCQUNBLFVBQ0EsU0FDQSxTQUNBLGFBQ0EsbUJBQW1CLENBQUMsSUFBSSwyQkFDeEIsYUFDRjtBQUFBLE1BQ0EsSUFBSSxVQUFVLE1BQU0saUJBQ2xCLFNBQ0EsV0FDQSxlQUNBLElBQ0Y7QUFBQSxNQUNBLFNBQVMsUUFBUSxZQUFZLE1BQU07QUFBQSxNQUNuQyxJQUFJLENBQUMsUUFBUTtBQUFBLFFBQ1gsU0FBUyxTQUFTLFNBQVM7QUFBQSxVQUN6QixJQUFJLFFBQVEsTUFBTSxNQUFNLEtBQUs7QUFBQSxZQUMzQixTQUFTLFFBQVEsTUFBTSxNQUFNO0FBQUEsWUFDN0I7QUFBQSxVQUNGO0FBQUEsUUFDRjtBQUFBLE1BQ0Y7QUFBQSxNQUNBLElBQUksUUFBUSxPQUFPLFNBQVM7QUFBQSxRQUMxQixPQUFPLEVBQUUsZ0JBQWdCLEtBQUs7QUFBQSxNQUNoQztBQUFBO0FBQUEsSUFFRixJQUFJLGlCQUFpQixNQUFNLEdBQUc7QUFBQSxNQUM1QixJQUFJO0FBQUEsTUFDSixJQUFJLFFBQVEsS0FBSyxXQUFXLE1BQU07QUFBQSxRQUNoQyxXQUFXLEtBQUs7QUFBQSxNQUNsQixFQUFPO0FBQUEsUUFDTCxJQUFJLGFBQVksMEJBQ2QsT0FBTyxTQUFTLFFBQVEsSUFBSSxVQUFVLEdBQ3RDLElBQUksSUFBSSxRQUFRLEdBQUcsR0FDbkIsUUFDRjtBQUFBLFFBQ0EsV0FBVyxlQUFjLE1BQU0sU0FBUyxXQUFXLE1BQU0sU0FBUztBQUFBO0FBQUEsTUFFcEUsTUFBTSx3QkFBd0IsU0FBUyxRQUFRLE1BQU07QUFBQSxRQUNuRDtBQUFBLFFBQ0EsU0FBUztBQUFBLE1BQ1gsQ0FBQztBQUFBLE1BQ0QsT0FBTyxFQUFFLGdCQUFnQixLQUFLO0FBQUEsSUFDaEM7QUFBQSxJQUNBLElBQUksY0FBYyxNQUFNLEdBQUc7QUFBQSxNQUN6QixJQUFJLGdCQUFnQixvQkFBb0IsU0FBUyxZQUFZLE1BQU0sRUFBRTtBQUFBLE1BQ3JFLEtBQUssUUFBUSxLQUFLLGFBQWEsTUFBTTtBQUFBLFFBQ25DLGdCQUFnQjtBQUFBLE1BQ2xCO0FBQUEsTUFDQSxPQUFPO0FBQUEsUUFDTDtBQUFBLFFBQ0EscUJBQXFCO0FBQUEsVUFDbkIsY0FBYyxNQUFNO0FBQUEsVUFDcEI7QUFBQSxVQUNBLFlBQVksTUFBTTtBQUFBLFFBQ3BCO0FBQUEsTUFDRjtBQUFBLElBQ0Y7QUFBQSxJQUNBLE9BQU87QUFBQSxNQUNMO0FBQUEsTUFDQSxxQkFBcUIsQ0FBQyxZQUFZLE1BQU0sSUFBSSxNQUFNO0FBQUEsSUFDcEQ7QUFBQTtBQUFBLEVBRUYsZUFBZSxhQUFhLENBQUMsU0FBUyxXQUFVLFNBQVMsZUFBZSxZQUFZLG9CQUFvQixZQUFZLG1CQUFtQixVQUFVLGtCQUFrQixXQUFXLHFCQUFxQjtBQUFBLElBQ2pNLElBQUksb0JBQW9CLHNCQUFzQixxQkFBcUIsV0FBVSxVQUFVO0FBQUEsSUFDdkYsSUFBSSxtQkFBbUIsY0FBYyxxQkFBcUIsNEJBQTRCLGlCQUFpQjtBQUFBLElBQ3ZHLElBQUksOEJBQThCLENBQUMsK0JBQStCLENBQUM7QUFBQSxJQUNuRSxJQUFJLFlBQVk7QUFBQSxNQUNkLElBQUksNkJBQTZCO0FBQUEsUUFDL0IsSUFBSSxhQUFhLHFCQUFxQixtQkFBbUI7QUFBQSxRQUN6RCxZQUNFO0FBQUEsVUFDRSxZQUFZO0FBQUEsYUFDVCxlQUFvQixZQUFJLEVBQUUsV0FBVyxJQUFJLENBQUM7QUFBQSxRQUMvQyxHQUNBO0FBQUEsVUFDRTtBQUFBLFFBQ0YsQ0FDRjtBQUFBLE1BQ0Y7QUFBQSxNQUNBLElBQUksaUJBQWlCLE1BQU0sZUFDekIsU0FDQSxVQUFTLFVBQ1QsUUFBUSxNQUNWO0FBQUEsTUFDQSxJQUFJLGVBQWUsU0FBUyxXQUFXO0FBQUEsUUFDckMsT0FBTyxFQUFFLGdCQUFnQixLQUFLO0FBQUEsTUFDaEMsRUFBTyxTQUFJLGVBQWUsU0FBUyxTQUFTO0FBQUEsUUFDMUMsSUFBSSxlQUFlLGVBQWUsV0FBVyxHQUFHO0FBQUEsVUFDOUMsTUFBTSxTQUFTLFVBQVUsVUFBVSx1QkFBdUIsVUFBVTtBQUFBLFVBQ3BFLE9BQU87QUFBQSxZQUNMLFNBQVM7QUFBQSxZQUNULFlBQVksQ0FBQztBQUFBLFlBQ2IsUUFBUTtBQUFBLGVBQ0wsTUFBTSxLQUFLLGVBQWU7QUFBQSxZQUM3QjtBQUFBLFVBQ0Y7QUFBQSxRQUNGO0FBQUEsUUFDQSxJQUFJLGFBQWEsb0JBQW9CLGVBQWUsY0FBYyxFQUFFLE1BQU07QUFBQSxRQUMxRSxPQUFPO0FBQUEsVUFDTCxTQUFTLGVBQWU7QUFBQSxVQUN4QixZQUFZLENBQUM7QUFBQSxVQUNiLFFBQVE7QUFBQSxhQUNMLGFBQWEsZUFBZTtBQUFBLFVBQy9CO0FBQUEsUUFDRjtBQUFBLE1BQ0YsRUFBTyxTQUFJLENBQUMsZUFBZSxTQUFTO0FBQUEsUUFDbEMsTUFBTSxPQUFPLGlCQUFpQixVQUFVLHNCQUN0QyxVQUFTLFFBQ1g7QUFBQSxRQUNBLE9BQU87QUFBQSxVQUNMLFNBQVM7QUFBQSxVQUNULFlBQVksQ0FBQztBQUFBLFVBQ2IsUUFBUTtBQUFBLGFBQ0wsTUFBTSxLQUFLO0FBQUEsVUFDZDtBQUFBLFFBQ0Y7QUFBQSxNQUNGLEVBQU87QUFBQSxRQUNMLFVBQVUsZUFBZTtBQUFBO0FBQUEsSUFFN0I7QUFBQSxJQUNBLElBQUksY0FBYyxzQkFBc0I7QUFBQSxJQUN4QyxNQUFNLFdBQVcseUJBQXlCLGlCQUN4QyxTQUNBLGVBQ0EscUJBQ0EsVUFDQSxLQUFLLFNBQ0wsT0FDQSxTQUNBLGtCQUNBLFdBQ0EsbUJBQW1CLENBQUMsSUFBSSwyQkFDeEIscUJBQXFCLE1BQ3JCLHdCQUNBLHVCQUNBLDJCQUNBLGtCQUNBLGtCQUNBLGFBQ0EsVUFDQSxLQUFLLDJCQUEyQixNQUNoQyxtQkFDRjtBQUFBLElBQ0EsMEJBQTBCLEVBQUU7QUFBQSxJQUM1QixJQUFJLENBQUMsS0FBSyxnQkFBZ0IsQ0FBQyxVQUFVLEtBQUssQ0FBQyxNQUFNLEVBQUUsVUFBVSxLQUFLLENBQUMsVUFBVSxLQUMzRSxDQUFDLE1BQU0sRUFBRSxNQUFNLGNBQWMsRUFBRSxNQUFNLFdBQVcsU0FBUyxDQUMzRCxLQUFLLHFCQUFxQixXQUFXLEdBQUc7QUFBQSxNQUN0QyxJQUFJLG1CQUFtQix1QkFBdUI7QUFBQSxNQUM5QyxtQkFDRSxXQUNBO0FBQUEsUUFDRTtBQUFBLFFBQ0EsWUFBWSxDQUFDO0FBQUEsUUFFYixRQUFRLHVCQUF1QixjQUFjLG9CQUFvQixFQUFFLElBQUksR0FBRyxvQkFBb0IsS0FBSyxvQkFBb0IsR0FBRyxNQUFNLElBQUk7QUFBQSxXQUNqSSx1QkFBdUIsbUJBQW1CO0FBQUEsV0FDMUMsbUJBQW1CLEVBQUUsVUFBVSxJQUFJLElBQUksTUFBTSxRQUFRLEVBQUUsSUFBSSxDQUFDO0FBQUEsTUFDakUsR0FDQSxFQUFFLFVBQVUsQ0FDZDtBQUFBLE1BQ0EsT0FBTyxFQUFFLGdCQUFnQixLQUFLO0FBQUEsSUFDaEM7QUFBQSxJQUNBLElBQUksNkJBQTZCO0FBQUEsTUFDL0IsSUFBSSxVQUFVLENBQUM7QUFBQSxNQUNmLElBQUksQ0FBQyxZQUFZO0FBQUEsUUFDZixRQUFRLGFBQWE7QUFBQSxRQUNyQixJQUFJLGFBQWEscUJBQXFCLG1CQUFtQjtBQUFBLFFBQ3pELElBQUksZUFBb0IsV0FBRztBQUFBLFVBQ3pCLFFBQVEsYUFBYTtBQUFBLFFBQ3ZCO0FBQUEsTUFDRjtBQUFBLE1BQ0EsSUFBSSxxQkFBcUIsU0FBUyxHQUFHO0FBQUEsUUFDbkMsUUFBUSxXQUFXLCtCQUErQixvQkFBb0I7QUFBQSxNQUN4RTtBQUFBLE1BQ0EsWUFBWSxTQUFTLEVBQUUsVUFBVSxDQUFDO0FBQUEsSUFDcEM7QUFBQSxJQUNBLHFCQUFxQixRQUFRLENBQUMsT0FBTztBQUFBLE1BQ25DLGFBQWEsR0FBRyxHQUFHO0FBQUEsTUFDbkIsSUFBSSxHQUFHLFlBQVk7QUFBQSxRQUNqQixpQkFBaUIsSUFBSSxHQUFHLEtBQUssR0FBRyxVQUFVO0FBQUEsTUFDNUM7QUFBQSxLQUNEO0FBQUEsSUFDRCxJQUFJLGlDQUFpQyxNQUFNLHFCQUFxQixRQUFRLENBQUMsTUFBTSxhQUFhLEVBQUUsR0FBRyxDQUFDO0FBQUEsSUFDbEcsSUFBSSw2QkFBNkI7QUFBQSxNQUMvQiw0QkFBNEIsT0FBTyxpQkFDakMsU0FDQSw4QkFDRjtBQUFBLElBQ0Y7QUFBQSxJQUNBLE1BQU0sZUFBZSxtQkFBbUIsTUFBTSwrQkFDNUMsV0FDQSxzQkFDQSxTQUNBLGFBQ0Y7QUFBQSxJQUNBLElBQUksUUFBUSxPQUFPLFNBQVM7QUFBQSxNQUMxQixPQUFPLEVBQUUsZ0JBQWdCLEtBQUs7QUFBQSxJQUNoQztBQUFBLElBQ0EsSUFBSSw2QkFBNkI7QUFBQSxNQUMvQiw0QkFBNEIsT0FBTyxvQkFDakMsU0FDQSw4QkFDRjtBQUFBLElBQ0Y7QUFBQSxJQUNBLHFCQUFxQixRQUFRLENBQUMsT0FBTyxpQkFBaUIsT0FBTyxHQUFHLEdBQUcsQ0FBQztBQUFBLElBQ3BFLElBQUksWUFBWSxhQUFhLGFBQWE7QUFBQSxJQUMxQyxJQUFJLFdBQVc7QUFBQSxNQUNiLE1BQU0sd0JBQXdCLFNBQVMsVUFBVSxRQUFRLE1BQU07QUFBQSxRQUM3RCxTQUFTO0FBQUEsTUFDWCxDQUFDO0FBQUEsTUFDRCxPQUFPLEVBQUUsZ0JBQWdCLEtBQUs7QUFBQSxJQUNoQztBQUFBLElBQ0EsWUFBWSxhQUFhLGNBQWM7QUFBQSxJQUN2QyxJQUFJLFdBQVc7QUFBQSxNQUNiLGlCQUFpQixJQUFJLFVBQVUsR0FBRztBQUFBLE1BQ2xDLE1BQU0sd0JBQXdCLFNBQVMsVUFBVSxRQUFRLE1BQU07QUFBQSxRQUM3RCxTQUFTO0FBQUEsTUFDWCxDQUFDO0FBQUEsTUFDRCxPQUFPLEVBQUUsZ0JBQWdCLEtBQUs7QUFBQSxJQUNoQztBQUFBLElBQ0EsTUFBTSxZQUFZLFdBQVcsa0JBQzNCLE9BQ0EsU0FDQSxlQUNBLHFCQUNBLHNCQUNBLGNBQ0Y7QUFBQSxJQUNBLElBQUksb0JBQW9CLE1BQU0sUUFBUTtBQUFBLE1BQ3BDLFNBQVMsS0FBSyxNQUFNLFdBQVcsT0FBTztBQUFBLElBQ3hDO0FBQUEsSUFDQSxJQUFJLGtCQUFrQix1QkFBdUI7QUFBQSxJQUM3QyxJQUFJLHFCQUFxQixxQkFBcUIsdUJBQXVCO0FBQUEsSUFDckUsSUFBSSx1QkFBdUIsbUJBQW1CLHNCQUFzQixxQkFBcUIsU0FBUztBQUFBLElBQ2xHLE9BQU87QUFBQSxNQUNMO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxTQUNHLHVCQUF1QixFQUFFLFVBQVUsSUFBSSxJQUFJLE1BQU0sUUFBUSxFQUFFLElBQUksQ0FBQztBQUFBLElBQ3JFO0FBQUE7QUFBQSxFQUVGLFNBQVMsb0JBQW9CLENBQUMscUJBQXFCO0FBQUEsSUFDakQsSUFBSSx1QkFBdUIsQ0FBQyxjQUFjLG9CQUFvQixFQUFFLEdBQUc7QUFBQSxNQUNqRSxPQUFPO0FBQUEsU0FDSixvQkFBb0IsS0FBSyxvQkFBb0IsR0FBRztBQUFBLE1BQ25EO0FBQUEsSUFDRixFQUFPLFNBQUksTUFBTSxZQUFZO0FBQUEsTUFDM0IsSUFBSSxPQUFPLEtBQUssTUFBTSxVQUFVLEVBQUUsV0FBVyxHQUFHO0FBQUEsUUFDOUMsT0FBTztBQUFBLE1BQ1QsRUFBTztBQUFBLFFBQ0wsT0FBTyxNQUFNO0FBQUE7QUFBQSxJQUVqQjtBQUFBO0FBQUEsRUFFRixTQUFTLDhCQUE4QixDQUFDLHNCQUFzQjtBQUFBLElBQzVELHFCQUFxQixRQUFRLENBQUMsT0FBTztBQUFBLE1BQ25DLElBQUksVUFBVSxNQUFNLFNBQVMsSUFBSSxHQUFHLEdBQUc7QUFBQSxNQUN2QyxJQUFJLHNCQUFzQixrQkFDbkIsV0FDTCxVQUFVLFFBQVEsT0FBWSxTQUNoQztBQUFBLE1BQ0EsTUFBTSxTQUFTLElBQUksR0FBRyxLQUFLLG1CQUFtQjtBQUFBLEtBQy9DO0FBQUEsSUFDRCxPQUFPLElBQUksSUFBSSxNQUFNLFFBQVE7QUFBQTtBQUFBLEVBRS9CLGVBQWUsTUFBTSxDQUFDLEtBQUssU0FBUyxNQUFNLE1BQU07QUFBQSxJQUM5QyxhQUFhLEdBQUc7QUFBQSxJQUNoQixJQUFJLGFBQWEsUUFBUSxLQUFLLGVBQWU7QUFBQSxJQUM3QyxJQUFJLGNBQWMsc0JBQXNCO0FBQUEsSUFDeEMsSUFBSSxpQkFBaUIsWUFDbkIsTUFBTSxVQUNOLE1BQU0sU0FDTixVQUNBLE1BQ0EsU0FDQSxNQUFNLFFBQ1I7QUFBQSxJQUNBLElBQUksVUFBVSxZQUFZLGFBQWEsZ0JBQWdCLFFBQVE7QUFBQSxJQUMvRCxJQUFJLFdBQVcsY0FBYyxTQUFTLGFBQWEsY0FBYztBQUFBLElBQ2pFLElBQUksU0FBUyxVQUFVLFNBQVMsU0FBUztBQUFBLE1BQ3ZDLFVBQVUsU0FBUztBQUFBLElBQ3JCO0FBQUEsSUFDQSxJQUFJLENBQUMsU0FBUztBQUFBLE1BQ1osZ0JBQ0UsS0FDQSxTQUNBLHVCQUF1QixLQUFLLEVBQUUsVUFBVSxlQUFlLENBQUMsR0FDeEQsRUFBRSxVQUFVLENBQ2Q7QUFBQSxNQUNBO0FBQUEsSUFDRjtBQUFBLElBQ0EsTUFBTSxNQUFNLFlBQVksVUFBVSx5QkFDaEMsTUFDQSxnQkFDQSxJQUNGO0FBQUEsSUFDQSxJQUFJLE9BQU87QUFBQSxNQUNULGdCQUFnQixLQUFLLFNBQVMsT0FBTyxFQUFFLFVBQVUsQ0FBQztBQUFBLE1BQ2xEO0FBQUEsSUFDRjtBQUFBLElBQ0EsSUFBSSxnQkFBZ0IsS0FBSyxhQUFhLE1BQU0sS0FBSyxXQUFXLElBQUksSUFBSTtBQUFBLElBQ3BFLElBQUksc0JBQXNCLFFBQVEsS0FBSyx3QkFBd0I7QUFBQSxJQUMvRCxJQUFJLGNBQWMsaUJBQWlCLFdBQVcsVUFBVSxHQUFHO0FBQUEsTUFDekQsTUFBTSxvQkFDSixLQUNBLFNBQ0EsTUFDQSxTQUNBLGVBQ0EsU0FBUyxRQUNULFdBQ0Esb0JBQ0EsVUFDRjtBQUFBLE1BQ0E7QUFBQSxJQUNGO0FBQUEsSUFDQSxpQkFBaUIsSUFBSSxLQUFLLEVBQUUsU0FBUyxLQUFLLENBQUM7QUFBQSxJQUMzQyxNQUFNLG9CQUNKLEtBQ0EsU0FDQSxNQUNBLFNBQ0EsZUFDQSxTQUFTLFFBQ1QsV0FDQSxvQkFDQSxVQUNGO0FBQUE7QUFBQSxFQUVGLGVBQWUsbUJBQW1CLENBQUMsS0FBSyxTQUFTLE1BQU0sZ0JBQWdCLGVBQWUsWUFBWSxXQUFXLG9CQUFvQixZQUFZO0FBQUEsSUFDM0kscUJBQXFCO0FBQUEsSUFDckIsaUJBQWlCLE9BQU8sR0FBRztBQUFBLElBQzNCLElBQUksa0JBQWtCLE1BQU0sU0FBUyxJQUFJLEdBQUc7QUFBQSxJQUM1QyxtQkFBbUIsS0FBSyxxQkFBcUIsWUFBWSxlQUFlLEdBQUc7QUFBQSxNQUN6RTtBQUFBLElBQ0YsQ0FBQztBQUFBLElBQ0QsSUFBSSxrQkFBa0IsSUFBSTtBQUFBLElBQzFCLElBQUksZUFBZSx3QkFDakIsS0FBSyxTQUNMLE1BQ0EsZ0JBQWdCLFFBQ2hCLFVBQ0Y7QUFBQSxJQUNBLElBQUksWUFBWTtBQUFBLE1BQ2QsSUFBSSxpQkFBaUIsTUFBTSxlQUN6QixnQkFDQSxJQUFJLElBQUksYUFBYSxHQUFHLEVBQUUsVUFDMUIsYUFBYSxRQUNiLEdBQ0Y7QUFBQSxNQUNBLElBQUksZUFBZSxTQUFTLFdBQVc7QUFBQSxRQUNyQztBQUFBLE1BQ0YsRUFBTyxTQUFJLGVBQWUsU0FBUyxTQUFTO0FBQUEsUUFDMUMsZ0JBQWdCLEtBQUssU0FBUyxlQUFlLE9BQU8sRUFBRSxVQUFVLENBQUM7QUFBQSxRQUNqRTtBQUFBLE1BQ0YsRUFBTyxTQUFJLENBQUMsZUFBZSxTQUFTO0FBQUEsUUFDbEMsZ0JBQ0UsS0FDQSxTQUNBLHVCQUF1QixLQUFLLEVBQUUsVUFBVSxLQUFLLENBQUMsR0FDOUMsRUFBRSxVQUFVLENBQ2Q7QUFBQSxRQUNBO0FBQUEsTUFDRixFQUFPO0FBQUEsUUFDTCxpQkFBaUIsZUFBZTtBQUFBO0FBQUEsSUFFcEM7QUFBQSxJQUNBLElBQUksUUFBUSxlQUFlLGdCQUFnQixJQUFJO0FBQUEsSUFDL0MsSUFBSSxDQUFDLE1BQU0sTUFBTSxVQUFVLENBQUMsTUFBTSxNQUFNLE1BQU07QUFBQSxNQUM1QyxJQUFJLFFBQVEsdUJBQXVCLEtBQUs7QUFBQSxRQUN0QyxRQUFRLFdBQVc7QUFBQSxRQUNuQixVQUFVO0FBQUEsUUFDVjtBQUFBLE1BQ0YsQ0FBQztBQUFBLE1BQ0QsZ0JBQWdCLEtBQUssU0FBUyxPQUFPLEVBQUUsVUFBVSxDQUFDO0FBQUEsTUFDbEQ7QUFBQSxJQUNGO0FBQUEsSUFDQSxpQkFBaUIsSUFBSSxLQUFLLGVBQWU7QUFBQSxJQUN6QyxJQUFJLG9CQUFvQjtBQUFBLElBQ3hCLElBQUksZUFBZSwrQkFDakIscUJBQ0EsVUFDQSxjQUNBLGdCQUNBLE9BQ0EsMkJBQ0EsYUFDRjtBQUFBLElBQ0EsSUFBSSxnQkFBZ0IsTUFBTSxpQkFDeEIsY0FDQSxjQUNBLGVBQ0EsR0FDRjtBQUFBLElBQ0EsSUFBSSxlQUFlLGNBQWMsTUFBTSxNQUFNO0FBQUEsSUFDN0MsSUFBSSxhQUFhLE9BQU8sU0FBUztBQUFBLE1BQy9CLElBQUksaUJBQWlCLElBQUksR0FBRyxNQUFNLGlCQUFpQjtBQUFBLFFBQ2pELGlCQUFpQixPQUFPLEdBQUc7QUFBQSxNQUM3QjtBQUFBLE1BQ0E7QUFBQSxJQUNGO0FBQUEsSUFDQSxJQUFJLDBCQUEwQixJQUFJLEdBQUcsR0FBRztBQUFBLE1BQ3RDLElBQUksaUJBQWlCLFlBQVksS0FBSyxjQUFjLFlBQVksR0FBRztBQUFBLFFBQ2pFLG1CQUFtQixLQUFLLGVBQW9CLFNBQUMsQ0FBQztBQUFBLFFBQzlDO0FBQUEsTUFDRjtBQUFBLElBQ0YsRUFBTztBQUFBLE1BQ0wsSUFBSSxpQkFBaUIsWUFBWSxHQUFHO0FBQUEsUUFDbEMsaUJBQWlCLE9BQU8sR0FBRztBQUFBLFFBQzNCLElBQUksMEJBQTBCLG1CQUFtQjtBQUFBLFVBQy9DLG1CQUFtQixLQUFLLGVBQW9CLFNBQUMsQ0FBQztBQUFBLFVBQzlDO0FBQUEsUUFDRixFQUFPO0FBQUEsVUFDTCxpQkFBaUIsSUFBSSxHQUFHO0FBQUEsVUFDeEIsbUJBQW1CLEtBQUssa0JBQWtCLFVBQVUsQ0FBQztBQUFBLFVBQ3JELE9BQU8sd0JBQXdCLGNBQWMsY0FBYyxPQUFPO0FBQUEsWUFDaEUsbUJBQW1CO0FBQUEsWUFDbkI7QUFBQSxVQUNGLENBQUM7QUFBQTtBQUFBLE1BRUw7QUFBQSxNQUNBLElBQUksY0FBYyxZQUFZLEdBQUc7QUFBQSxRQUMvQixnQkFBZ0IsS0FBSyxTQUFTLGFBQWEsS0FBSztBQUFBLFFBQ2hEO0FBQUEsTUFDRjtBQUFBO0FBQUEsSUFFRixJQUFJLGVBQWUsTUFBTSxXQUFXLFlBQVksTUFBTTtBQUFBLElBQ3RELElBQUksc0JBQXNCLHdCQUN4QixLQUFLLFNBQ0wsY0FDQSxnQkFBZ0IsTUFDbEI7QUFBQSxJQUNBLElBQUksY0FBYyxzQkFBc0I7QUFBQSxJQUN4QyxJQUFJLFVBQVUsTUFBTSxXQUFXLFVBQVUsU0FBUyxZQUFZLGFBQWEsTUFBTSxXQUFXLFVBQVUsUUFBUSxJQUFJLE1BQU07QUFBQSxJQUN4SCxVQUFVLFNBQVMsOENBQThDO0FBQUEsSUFDakUsSUFBSSxTQUFTLEVBQUU7QUFBQSxJQUNmLGVBQWUsSUFBSSxLQUFLLE1BQU07QUFBQSxJQUM5QixJQUFJLGNBQWMsa0JBQWtCLFlBQVksYUFBYSxJQUFJO0FBQUEsSUFDakUsTUFBTSxTQUFTLElBQUksS0FBSyxXQUFXO0FBQUEsSUFDbkMsTUFBTSxXQUFXLHlCQUF5QixpQkFDeEMscUJBQ0EsZUFDQSxxQkFDQSxVQUNBLEtBQUssU0FDTCxPQUNBLFNBQ0EsWUFDQSxjQUNBLDJCQUNBLE9BQ0Esd0JBQ0EsdUJBQ0EsMkJBQ0Esa0JBQ0Esa0JBQ0EsYUFDQSxVQUNBLEtBQUssMkJBQTJCLE1BQ2hDLENBQUMsTUFBTSxNQUFNLElBQUksWUFBWSxDQUMvQjtBQUFBLElBQ0EscUJBQXFCLE9BQU8sQ0FBQyxPQUFPLEdBQUcsUUFBUSxHQUFHLEVBQUUsUUFBUSxDQUFDLE9BQU87QUFBQSxNQUNsRSxJQUFJLFdBQVcsR0FBRztBQUFBLE1BQ2xCLElBQUksbUJBQW1CLE1BQU0sU0FBUyxJQUFJLFFBQVE7QUFBQSxNQUNsRCxJQUFJLHNCQUFzQixrQkFDbkIsV0FDTCxtQkFBbUIsaUJBQWlCLE9BQVksU0FDbEQ7QUFBQSxNQUNBLE1BQU0sU0FBUyxJQUFJLFVBQVUsbUJBQW1CO0FBQUEsTUFDaEQsYUFBYSxRQUFRO0FBQUEsTUFDckIsSUFBSSxHQUFHLFlBQVk7QUFBQSxRQUNqQixpQkFBaUIsSUFBSSxVQUFVLEdBQUcsVUFBVTtBQUFBLE1BQzlDO0FBQUEsS0FDRDtBQUFBLElBQ0QsWUFBWSxFQUFFLFVBQVUsSUFBSSxJQUFJLE1BQU0sUUFBUSxFQUFFLENBQUM7QUFBQSxJQUNqRCxJQUFJLGlDQUFpQyxNQUFNLHFCQUFxQixRQUFRLENBQUMsT0FBTyxhQUFhLEdBQUcsR0FBRyxDQUFDO0FBQUEsSUFDcEcsZ0JBQWdCLE9BQU8saUJBQ3JCLFNBQ0EsOEJBQ0Y7QUFBQSxJQUNBLE1BQU0sZUFBZSxtQkFBbUIsTUFBTSwrQkFDNUMsV0FDQSxzQkFDQSxxQkFDQSxhQUNGO0FBQUEsSUFDQSxJQUFJLGdCQUFnQixPQUFPLFNBQVM7QUFBQSxNQUNsQztBQUFBLElBQ0Y7QUFBQSxJQUNBLGdCQUFnQixPQUFPLG9CQUNyQixTQUNBLDhCQUNGO0FBQUEsSUFDQSxlQUFlLE9BQU8sR0FBRztBQUFBLElBQ3pCLGlCQUFpQixPQUFPLEdBQUc7QUFBQSxJQUMzQixxQkFBcUIsUUFBUSxDQUFDLE1BQU0saUJBQWlCLE9BQU8sRUFBRSxHQUFHLENBQUM7QUFBQSxJQUNsRSxJQUFJLE1BQU0sU0FBUyxJQUFJLEdBQUcsR0FBRztBQUFBLE1BQzNCLElBQUksY0FBYyxlQUFlLGFBQWEsSUFBSTtBQUFBLE1BQ2xELE1BQU0sU0FBUyxJQUFJLEtBQUssV0FBVztBQUFBLElBQ3JDO0FBQUEsSUFDQSxJQUFJLFlBQVksYUFBYSxhQUFhO0FBQUEsSUFDMUMsSUFBSSxXQUFXO0FBQUEsTUFDYixPQUFPLHdCQUNMLHFCQUNBLFVBQVUsUUFDVixPQUNBLEVBQUUsbUJBQW1CLENBQ3ZCO0FBQUEsSUFDRjtBQUFBLElBQ0EsWUFBWSxhQUFhLGNBQWM7QUFBQSxJQUN2QyxJQUFJLFdBQVc7QUFBQSxNQUNiLGlCQUFpQixJQUFJLFVBQVUsR0FBRztBQUFBLE1BQ2xDLE9BQU8sd0JBQ0wscUJBQ0EsVUFBVSxRQUNWLE9BQ0EsRUFBRSxtQkFBbUIsQ0FDdkI7QUFBQSxJQUNGO0FBQUEsSUFDQSxNQUFNLFlBQVksV0FBVyxrQkFDM0IsT0FDQSxTQUNBLGVBQ0ssV0FDTCxzQkFDQSxjQUNGO0FBQUEsSUFDQSxxQkFBcUIsTUFBTTtBQUFBLElBQzNCLElBQUksTUFBTSxXQUFXLFVBQVUsYUFBYSxTQUFTLHlCQUF5QjtBQUFBLE1BQzVFLFVBQVUsZUFBZSx5QkFBeUI7QUFBQSxNQUNsRCwrQkFBK0IsNEJBQTRCLE1BQU07QUFBQSxNQUNqRSxtQkFBbUIsTUFBTSxXQUFXLFVBQVU7QUFBQSxRQUM1QztBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQSxVQUFVLElBQUksSUFBSSxNQUFNLFFBQVE7QUFBQSxNQUNsQyxDQUFDO0FBQUEsSUFDSCxFQUFPO0FBQUEsTUFDTCxZQUFZO0FBQUEsUUFDVjtBQUFBLFFBQ0EsWUFBWSxnQkFDVixNQUFNLFlBQ04sWUFDQSxTQUNBLE1BQ0Y7QUFBQSxRQUNBLFVBQVUsSUFBSSxJQUFJLE1BQU0sUUFBUTtBQUFBLE1BQ2xDLENBQUM7QUFBQSxNQUNELHlCQUF5QjtBQUFBO0FBQUE7QUFBQSxFQUc3QixlQUFlLG1CQUFtQixDQUFDLEtBQUssU0FBUyxNQUFNLFNBQVMsZUFBZSxZQUFZLFdBQVcsb0JBQW9CLFlBQVk7QUFBQSxJQUNwSSxJQUFJLGtCQUFrQixNQUFNLFNBQVMsSUFBSSxHQUFHO0FBQUEsSUFDNUMsbUJBQ0UsS0FDQSxrQkFDRSxZQUNBLGtCQUFrQixnQkFBZ0IsT0FBWSxTQUNoRCxHQUNBLEVBQUUsVUFBVSxDQUNkO0FBQUEsSUFDQSxJQUFJLGtCQUFrQixJQUFJO0FBQUEsSUFDMUIsSUFBSSxlQUFlLHdCQUNqQixLQUFLLFNBQ0wsTUFDQSxnQkFBZ0IsTUFDbEI7QUFBQSxJQUNBLElBQUksWUFBWTtBQUFBLE1BQ2QsSUFBSSxpQkFBaUIsTUFBTSxlQUN6QixTQUNBLElBQUksSUFBSSxhQUFhLEdBQUcsRUFBRSxVQUMxQixhQUFhLFFBQ2IsR0FDRjtBQUFBLE1BQ0EsSUFBSSxlQUFlLFNBQVMsV0FBVztBQUFBLFFBQ3JDO0FBQUEsTUFDRixFQUFPLFNBQUksZUFBZSxTQUFTLFNBQVM7QUFBQSxRQUMxQyxnQkFBZ0IsS0FBSyxTQUFTLGVBQWUsT0FBTyxFQUFFLFVBQVUsQ0FBQztBQUFBLFFBQ2pFO0FBQUEsTUFDRixFQUFPLFNBQUksQ0FBQyxlQUFlLFNBQVM7QUFBQSxRQUNsQyxnQkFDRSxLQUNBLFNBQ0EsdUJBQXVCLEtBQUssRUFBRSxVQUFVLEtBQUssQ0FBQyxHQUM5QyxFQUFFLFVBQVUsQ0FDZDtBQUFBLFFBQ0E7QUFBQSxNQUNGLEVBQU87QUFBQSxRQUNMLFVBQVUsZUFBZTtBQUFBO0FBQUEsSUFFN0I7QUFBQSxJQUNBLElBQUksUUFBUSxlQUFlLFNBQVMsSUFBSTtBQUFBLElBQ3hDLGlCQUFpQixJQUFJLEtBQUssZUFBZTtBQUFBLElBQ3pDLElBQUksb0JBQW9CO0FBQUEsSUFDeEIsSUFBSSxZQUFZLCtCQUNkLHFCQUNBLFVBQ0EsY0FDQSxTQUNBLE9BQ0EsMkJBQ0EsYUFDRjtBQUFBLElBQ0EsSUFBSSxVQUFVLE1BQU0saUJBQ2xCLGNBQ0EsV0FDQSxlQUNBLEdBQ0Y7QUFBQSxJQUNBLElBQUksU0FBUyxRQUFRLE1BQU0sTUFBTTtBQUFBLElBQ2pDLElBQUksaUJBQWlCLElBQUksR0FBRyxNQUFNLGlCQUFpQjtBQUFBLE1BQ2pELGlCQUFpQixPQUFPLEdBQUc7QUFBQSxJQUM3QjtBQUFBLElBQ0EsSUFBSSxhQUFhLE9BQU8sU0FBUztBQUFBLE1BQy9CO0FBQUEsSUFDRjtBQUFBLElBQ0EsSUFBSSwwQkFBMEIsSUFBSSxHQUFHLEdBQUc7QUFBQSxNQUN0QyxtQkFBbUIsS0FBSyxlQUFvQixTQUFDLENBQUM7QUFBQSxNQUM5QztBQUFBLElBQ0Y7QUFBQSxJQUNBLElBQUksaUJBQWlCLE1BQU0sR0FBRztBQUFBLE1BQzVCLElBQUksMEJBQTBCLG1CQUFtQjtBQUFBLFFBQy9DLG1CQUFtQixLQUFLLGVBQW9CLFNBQUMsQ0FBQztBQUFBLFFBQzlDO0FBQUEsTUFDRixFQUFPO0FBQUEsUUFDTCxpQkFBaUIsSUFBSSxHQUFHO0FBQUEsUUFDeEIsTUFBTSx3QkFBd0IsY0FBYyxRQUFRLE9BQU87QUFBQSxVQUN6RDtBQUFBLFFBQ0YsQ0FBQztBQUFBLFFBQ0Q7QUFBQTtBQUFBLElBRUo7QUFBQSxJQUNBLElBQUksY0FBYyxNQUFNLEdBQUc7QUFBQSxNQUN6QixnQkFBZ0IsS0FBSyxTQUFTLE9BQU8sS0FBSztBQUFBLE1BQzFDO0FBQUEsSUFDRjtBQUFBLElBQ0EsbUJBQW1CLEtBQUssZUFBZSxPQUFPLElBQUksQ0FBQztBQUFBO0FBQUEsRUFFckQsZUFBZSx1QkFBdUIsQ0FBQyxTQUFTLFdBQVc7QUFBQSxJQUN6RDtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQSxTQUFTO0FBQUEsTUFDUCxDQUFDLEdBQUc7QUFBQSxJQUNOLElBQUksVUFBVSxTQUFTLFFBQVEsSUFBSSxvQkFBb0IsR0FBRztBQUFBLE1BQ3hELHlCQUF5QjtBQUFBLElBQzNCO0FBQUEsSUFDQSxJQUFJLFlBQVcsVUFBVSxTQUFTLFFBQVEsSUFBSSxVQUFVO0FBQUEsSUFDeEQsVUFBVSxXQUFVLHFEQUFxRDtBQUFBLElBQ3pFLFlBQVcsMEJBQ1QsV0FDQSxJQUFJLElBQUksUUFBUSxHQUFHLEdBQ25CLFFBQ0Y7QUFBQSxJQUNBLElBQUksbUJBQW1CLGVBQWUsTUFBTSxVQUFVLFdBQVU7QUFBQSxNQUM5RCxhQUFhO0FBQUEsSUFDZixDQUFDO0FBQUEsSUFDRCxJQUFJLFlBQVk7QUFBQSxNQUNkLElBQUksbUJBQW1CO0FBQUEsTUFDdkIsSUFBSSxVQUFVLFNBQVMsUUFBUSxJQUFJLHlCQUF5QixHQUFHO0FBQUEsUUFDN0QsbUJBQW1CO0FBQUEsTUFDckIsRUFBTyxTQUFJLGNBQWMsU0FBUSxHQUFHO0FBQUEsUUFDbEMsTUFBTSxNQUFNLHFCQUFxQixXQUFVLElBQUk7QUFBQSxRQUMvQyxtQkFDQSxJQUFJLFdBQVcsYUFBYSxTQUFTLFVBQ3JDLGNBQWMsSUFBSSxVQUFVLFFBQVEsS0FBSztBQUFBLE1BQzNDO0FBQUEsTUFDQSxJQUFJLGtCQUFrQjtBQUFBLFFBQ3BCLElBQUksVUFBVTtBQUFBLFVBQ1osYUFBYSxTQUFTLFFBQVEsU0FBUTtBQUFBLFFBQ3hDLEVBQU87QUFBQSxVQUNMLGFBQWEsU0FBUyxPQUFPLFNBQVE7QUFBQTtBQUFBLFFBRXZDO0FBQUEsTUFDRjtBQUFBLElBQ0Y7QUFBQSxJQUNBLDhCQUE4QjtBQUFBLElBQzlCLElBQUkseUJBQXlCLGFBQWEsUUFBUSxVQUFVLFNBQVMsUUFBUSxJQUFJLGlCQUFpQixJQUFJLFlBQTBCO0FBQUEsSUFDaEksTUFBTSxZQUFZLFlBQVksZ0JBQWdCLE1BQU07QUFBQSxJQUNwRCxJQUFJLENBQUMsY0FBYyxDQUFDLHFCQUFxQixjQUFjLGNBQWMsYUFBYTtBQUFBLE1BQ2hGLGFBQWEsNEJBQTRCLE1BQU0sVUFBVTtBQUFBLElBQzNEO0FBQUEsSUFDQSxJQUFJLG1CQUFtQixjQUFjO0FBQUEsSUFDckMsSUFBSSxrQ0FBa0MsSUFBSSxVQUFVLFNBQVMsTUFBTSxLQUFLLG9CQUFvQixpQkFBaUIsaUJBQWlCLFVBQVUsR0FBRztBQUFBLE1BQ3pJLE1BQU0sZ0JBQWdCLHdCQUF3QixrQkFBa0I7QUFBQSxRQUM5RCxZQUFZO0FBQUEsYUFDUDtBQUFBLFVBQ0gsWUFBWTtBQUFBLFFBQ2Q7QUFBQSxRQUVBLG9CQUFvQixzQkFBc0I7QUFBQSxRQUMxQyxzQkFBc0IsZUFBZSwrQkFBb0M7QUFBQSxNQUMzRSxDQUFDO0FBQUEsSUFDSCxFQUFPO0FBQUEsTUFDTCxJQUFJLHFCQUFxQixxQkFDdkIsa0JBQ0EsVUFDRjtBQUFBLE1BQ0EsTUFBTSxnQkFBZ0Isd0JBQXdCLGtCQUFrQjtBQUFBLFFBQzlEO0FBQUEsUUFFQTtBQUFBLFFBRUEsb0JBQW9CLHNCQUFzQjtBQUFBLFFBQzFDLHNCQUFzQixlQUFlLCtCQUFvQztBQUFBLE1BQzNFLENBQUM7QUFBQTtBQUFBO0FBQUEsRUFHTCxlQUFlLGdCQUFnQixDQUFDLFNBQVMsU0FBUyxlQUFlLFlBQVk7QUFBQSxJQUMzRSxJQUFJO0FBQUEsSUFDSixJQUFJLGNBQWMsQ0FBQztBQUFBLElBQ25CLElBQUk7QUFBQSxNQUNGLFVBQVUsTUFBTSxxQkFDZCxrQkFDQSxTQUNBLFNBQ0EsWUFDQSxlQUNBLEtBQ0Y7QUFBQSxNQUNBLE9BQU8sR0FBRztBQUFBLE1BQ1YsUUFBUSxPQUFPLENBQUMsTUFBTSxFQUFFLFVBQVUsRUFBRSxRQUFRLENBQUMsTUFBTTtBQUFBLFFBQ2pELFlBQVksRUFBRSxNQUFNLE1BQU07QUFBQSxVQUN4QixNQUFNO0FBQUEsVUFDTixPQUFPO0FBQUEsUUFDVDtBQUFBLE9BQ0Q7QUFBQSxNQUNELE9BQU87QUFBQTtBQUFBLElBRVQsSUFBSSxRQUFRLE9BQU8sU0FBUztBQUFBLE1BQzFCLE9BQU87QUFBQSxJQUNUO0FBQUEsSUFDQSxVQUFVLFNBQVMsV0FBVyxPQUFPLFFBQVEsT0FBTyxHQUFHO0FBQUEsTUFDckQsSUFBSSw2QkFBNkIsTUFBTSxHQUFHO0FBQUEsUUFDeEMsSUFBSSxXQUFXLE9BQU87QUFBQSxRQUN0QixZQUFZLFdBQVc7QUFBQSxVQUNyQixNQUFNO0FBQUEsVUFDTixVQUFVLHlDQUNSLFVBQ0EsU0FDQSxTQUNBLFNBQ0EsUUFDRjtBQUFBLFFBQ0Y7QUFBQSxNQUNGLEVBQU87QUFBQSxRQUNMLFlBQVksV0FBVyxNQUFNLHNDQUFzQyxNQUFNO0FBQUE7QUFBQSxJQUU3RTtBQUFBLElBQ0EsT0FBTztBQUFBO0FBQUEsRUFFVCxlQUFlLDhCQUE4QixDQUFDLFNBQVMsZ0JBQWdCLFNBQVMsZUFBZTtBQUFBLElBQzdGLElBQUksdUJBQXVCLGlCQUN6QixTQUNBLFNBQ0EsZUFDQSxJQUNGO0FBQUEsSUFDQSxJQUFJLHdCQUF3QixRQUFRLElBQ2xDLGVBQWUsSUFBSSxPQUFPLE1BQU07QUFBQSxNQUM5QixJQUFJLEVBQUUsV0FBVyxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsWUFBWTtBQUFBLFFBQ3JELElBQUksVUFBVSxNQUFNLGlCQUNsQixFQUFFLFNBQ0YsRUFBRSxTQUNGLGVBQ0EsRUFBRSxHQUNKO0FBQUEsUUFDQSxJQUFJLFNBQVMsUUFBUSxFQUFFLE1BQU0sTUFBTTtBQUFBLFFBQ25DLE9BQU8sR0FBRyxFQUFFLE1BQU0sT0FBTztBQUFBLE1BQzNCLEVBQU87QUFBQSxRQUNMLE9BQU8sUUFBUSxRQUFRO0FBQUEsV0FDcEIsRUFBRSxNQUFNO0FBQUEsWUFDUCxNQUFNO0FBQUEsWUFDTixPQUFPLHVCQUF1QixLQUFLO0FBQUEsY0FDakMsVUFBVSxFQUFFO0FBQUEsWUFDZCxDQUFDO0FBQUEsVUFDSDtBQUFBLFFBQ0YsQ0FBQztBQUFBO0FBQUEsS0FFSixDQUNIO0FBQUEsSUFDQSxJQUFJLGdCQUFnQixNQUFNO0FBQUEsSUFDMUIsSUFBSSxrQkFBa0IsTUFBTSx1QkFBdUIsT0FDakQsQ0FBQyxLQUFLLE1BQU0sT0FBTyxPQUFPLEtBQUssQ0FBQyxHQUNoQyxDQUFDLENBQ0g7QUFBQSxJQUNBLE9BQU87QUFBQSxNQUNMO0FBQUEsTUFDQTtBQUFBLElBQ0Y7QUFBQTtBQUFBLEVBRUYsU0FBUyxvQkFBb0IsR0FBRztBQUFBLElBQzlCLHlCQUF5QjtBQUFBLElBQ3pCLGlCQUFpQixRQUFRLENBQUMsR0FBRyxRQUFRO0FBQUEsTUFDbkMsSUFBSSxpQkFBaUIsSUFBSSxHQUFHLEdBQUc7QUFBQSxRQUM3QixzQkFBc0IsSUFBSSxHQUFHO0FBQUEsTUFDL0I7QUFBQSxNQUNBLGFBQWEsR0FBRztBQUFBLEtBQ2pCO0FBQUE7QUFBQSxFQUVILFNBQVMsa0JBQWtCLENBQUMsS0FBSyxTQUFTLE9BQU8sQ0FBQyxHQUFHO0FBQUEsSUFDbkQsTUFBTSxTQUFTLElBQUksS0FBSyxPQUFPO0FBQUEsSUFDL0IsWUFDRSxFQUFFLFVBQVUsSUFBSSxJQUFJLE1BQU0sUUFBUSxFQUFFLEdBQ3BDLEVBQUUsWUFBWSxRQUFRLEtBQUssZUFBZSxLQUFLLENBQ2pEO0FBQUE7QUFBQSxFQUVGLFNBQVMsZUFBZSxDQUFDLEtBQUssU0FBUyxPQUFPLE9BQU8sQ0FBQyxHQUFHO0FBQUEsSUFDdkQsSUFBSSxnQkFBZ0Isb0JBQW9CLE1BQU0sU0FBUyxPQUFPO0FBQUEsSUFDOUQsY0FBYyxHQUFHO0FBQUEsSUFDakIsWUFDRTtBQUFBLE1BQ0UsUUFBUTtBQUFBLFNBQ0wsY0FBYyxNQUFNLEtBQUs7QUFBQSxNQUM1QjtBQUFBLE1BQ0EsVUFBVSxJQUFJLElBQUksTUFBTSxRQUFRO0FBQUEsSUFDbEMsR0FDQSxFQUFFLFlBQVksUUFBUSxLQUFLLGVBQWUsS0FBSyxDQUNqRDtBQUFBO0FBQUEsRUFFRixTQUFTLFVBQVUsQ0FBQyxLQUFLO0FBQUEsSUFDdkIsZUFBZSxJQUFJLE1BQU0sZUFBZSxJQUFJLEdBQUcsS0FBSyxLQUFLLENBQUM7QUFBQSxJQUMxRCxJQUFJLDBCQUEwQixJQUFJLEdBQUcsR0FBRztBQUFBLE1BQ3RDLDBCQUEwQixPQUFPLEdBQUc7QUFBQSxJQUN0QztBQUFBLElBQ0EsT0FBTyxNQUFNLFNBQVMsSUFBSSxHQUFHLEtBQUs7QUFBQTtBQUFBLEVBRXBDLFNBQVMsWUFBWSxDQUFDLEtBQUssTUFBTTtBQUFBLElBQy9CLGFBQWEsS0FBSyxNQUFNLE1BQU07QUFBQSxJQUM5QixtQkFBbUIsS0FBSyxlQUFlLElBQUksQ0FBQztBQUFBO0FBQUEsRUFFOUMsU0FBUyxhQUFhLENBQUMsS0FBSztBQUFBLElBQzFCLElBQUksVUFBVSxNQUFNLFNBQVMsSUFBSSxHQUFHO0FBQUEsSUFDcEMsSUFBSSxpQkFBaUIsSUFBSSxHQUFHLEtBQUssRUFBRSxXQUFXLFFBQVEsVUFBVSxhQUFhLGVBQWUsSUFBSSxHQUFHLElBQUk7QUFBQSxNQUNyRyxhQUFhLEdBQUc7QUFBQSxJQUNsQjtBQUFBLElBQ0EsaUJBQWlCLE9BQU8sR0FBRztBQUFBLElBQzNCLGVBQWUsT0FBTyxHQUFHO0FBQUEsSUFDekIsaUJBQWlCLE9BQU8sR0FBRztBQUFBLElBQzNCLDBCQUEwQixPQUFPLEdBQUc7QUFBQSxJQUNwQyxzQkFBc0IsT0FBTyxHQUFHO0FBQUEsSUFDaEMsTUFBTSxTQUFTLE9BQU8sR0FBRztBQUFBO0FBQUEsRUFFM0IsU0FBUyx1QkFBdUIsQ0FBQyxLQUFLO0FBQUEsSUFDcEMsSUFBSSxTQUFTLGVBQWUsSUFBSSxHQUFHLEtBQUssS0FBSztBQUFBLElBQzdDLElBQUksU0FBUyxHQUFHO0FBQUEsTUFDZCxlQUFlLE9BQU8sR0FBRztBQUFBLE1BQ3pCLDBCQUEwQixJQUFJLEdBQUc7QUFBQSxJQUNuQyxFQUFPO0FBQUEsTUFDTCxlQUFlLElBQUksS0FBSyxLQUFLO0FBQUE7QUFBQSxJQUUvQixZQUFZLEVBQUUsVUFBVSxJQUFJLElBQUksTUFBTSxRQUFRLEVBQUUsQ0FBQztBQUFBO0FBQUEsRUFFbkQsU0FBUyxZQUFZLENBQUMsS0FBSyxRQUFRO0FBQUEsSUFDakMsSUFBSSxhQUFhLGlCQUFpQixJQUFJLEdBQUc7QUFBQSxJQUN6QyxJQUFJLFlBQVk7QUFBQSxNQUNkLFdBQVcsTUFBTSxNQUFNO0FBQUEsTUFDdkIsaUJBQWlCLE9BQU8sR0FBRztBQUFBLElBQzdCO0FBQUE7QUFBQSxFQUVGLFNBQVMsZ0JBQWdCLENBQUMsTUFBTTtBQUFBLElBQzlCLFNBQVMsT0FBTyxNQUFNO0FBQUEsTUFDcEIsSUFBSSxVQUFVLFdBQVcsR0FBRztBQUFBLE1BQzVCLElBQUksY0FBYyxlQUFlLFFBQVEsSUFBSTtBQUFBLE1BQzdDLE1BQU0sU0FBUyxJQUFJLEtBQUssV0FBVztBQUFBLElBQ3JDO0FBQUE7QUFBQSxFQUVGLFNBQVMsc0JBQXNCLEdBQUc7QUFBQSxJQUNoQyxJQUFJLFdBQVcsQ0FBQztBQUFBLElBQ2hCLElBQUksa0JBQWtCO0FBQUEsSUFDdEIsU0FBUyxPQUFPLGtCQUFrQjtBQUFBLE1BQ2hDLElBQUksVUFBVSxNQUFNLFNBQVMsSUFBSSxHQUFHO0FBQUEsTUFDcEMsVUFBVSxTQUFTLHFCQUFxQixLQUFLO0FBQUEsTUFDN0MsSUFBSSxRQUFRLFVBQVUsV0FBVztBQUFBLFFBQy9CLGlCQUFpQixPQUFPLEdBQUc7QUFBQSxRQUMzQixTQUFTLEtBQUssR0FBRztBQUFBLFFBQ2pCLGtCQUFrQjtBQUFBLE1BQ3BCO0FBQUEsSUFDRjtBQUFBLElBQ0EsaUJBQWlCLFFBQVE7QUFBQSxJQUN6QixPQUFPO0FBQUE7QUFBQSxFQUVULFNBQVMsb0JBQW9CLENBQUMsVUFBVTtBQUFBLElBQ3RDLElBQUksYUFBYSxDQUFDO0FBQUEsSUFDbEIsVUFBVSxLQUFLLE9BQU8sZ0JBQWdCO0FBQUEsTUFDcEMsSUFBSSxLQUFLLFVBQVU7QUFBQSxRQUNqQixJQUFJLFVBQVUsTUFBTSxTQUFTLElBQUksR0FBRztBQUFBLFFBQ3BDLFVBQVUsU0FBUyxxQkFBcUIsS0FBSztBQUFBLFFBQzdDLElBQUksUUFBUSxVQUFVLFdBQVc7QUFBQSxVQUMvQixhQUFhLEdBQUc7QUFBQSxVQUNoQixlQUFlLE9BQU8sR0FBRztBQUFBLFVBQ3pCLFdBQVcsS0FBSyxHQUFHO0FBQUEsUUFDckI7QUFBQSxNQUNGO0FBQUEsSUFDRjtBQUFBLElBQ0EsaUJBQWlCLFVBQVU7QUFBQSxJQUMzQixPQUFPLFdBQVcsU0FBUztBQUFBO0FBQUEsRUFFN0IsU0FBUyxVQUFVLENBQUMsS0FBSyxJQUFJO0FBQUEsSUFDM0IsSUFBSSxVQUFVLE1BQU0sU0FBUyxJQUFJLEdBQUcsS0FBSztBQUFBLElBQ3pDLElBQUksaUJBQWlCLElBQUksR0FBRyxNQUFNLElBQUk7QUFBQSxNQUNwQyxpQkFBaUIsSUFBSSxLQUFLLEVBQUU7QUFBQSxJQUM5QjtBQUFBLElBQ0EsT0FBTztBQUFBO0FBQUEsRUFFVCxTQUFTLGFBQWEsQ0FBQyxLQUFLO0FBQUEsSUFDMUIsTUFBTSxTQUFTLE9BQU8sR0FBRztBQUFBLElBQ3pCLGlCQUFpQixPQUFPLEdBQUc7QUFBQTtBQUFBLEVBRTdCLFNBQVMsYUFBYSxDQUFDLEtBQUssWUFBWTtBQUFBLElBQ3RDLElBQUksVUFBVSxNQUFNLFNBQVMsSUFBSSxHQUFHLEtBQUs7QUFBQSxJQUN6QyxVQUNFLFFBQVEsVUFBVSxlQUFlLFdBQVcsVUFBVSxhQUFhLFFBQVEsVUFBVSxhQUFhLFdBQVcsVUFBVSxhQUFhLFFBQVEsVUFBVSxhQUFhLFdBQVcsVUFBVSxnQkFBZ0IsUUFBUSxVQUFVLGFBQWEsV0FBVyxVQUFVLGVBQWUsUUFBUSxVQUFVLGdCQUFnQixXQUFXLFVBQVUsYUFDbFUscUNBQXFDLFFBQVEsWUFBWSxXQUFXLE9BQ3RFO0FBQUEsSUFDQSxJQUFJLFdBQVcsSUFBSSxJQUFJLE1BQU0sUUFBUTtBQUFBLElBQ3JDLFNBQVMsSUFBSSxLQUFLLFVBQVU7QUFBQSxJQUM1QixZQUFZLEVBQUUsU0FBUyxDQUFDO0FBQUE7QUFBQSxFQUUxQixTQUFTLHFCQUFxQjtBQUFBLElBQzVCO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxLQUNDO0FBQUEsSUFDRCxJQUFJLGlCQUFpQixTQUFTLEdBQUc7QUFBQSxNQUMvQjtBQUFBLElBQ0Y7QUFBQSxJQUNBLElBQUksaUJBQWlCLE9BQU8sR0FBRztBQUFBLE1BQzdCLFFBQVEsT0FBTyw4Q0FBOEM7QUFBQSxJQUMvRDtBQUFBLElBQ0EsSUFBSSxVQUFVLE1BQU0sS0FBSyxpQkFBaUIsUUFBUSxDQUFDO0FBQUEsSUFDbkQsS0FBSyxZQUFZLG1CQUFtQixRQUFRLFFBQVEsU0FBUztBQUFBLElBQzdELElBQUksVUFBVSxNQUFNLFNBQVMsSUFBSSxVQUFVO0FBQUEsSUFDM0MsSUFBSSxXQUFXLFFBQVEsVUFBVSxjQUFjO0FBQUEsTUFDN0M7QUFBQSxJQUNGO0FBQUEsSUFDQSxJQUFJLGdCQUFnQixFQUFFLGlCQUFpQixjQUFjLGNBQWMsQ0FBQyxHQUFHO0FBQUEsTUFDckUsT0FBTztBQUFBLElBQ1Q7QUFBQTtBQUFBLEVBRUYsU0FBUyxxQkFBcUIsQ0FBQyxVQUFVO0FBQUEsSUFDdkMsSUFBSSxRQUFRLHVCQUF1QixLQUFLLEVBQUUsU0FBUyxDQUFDO0FBQUEsSUFDcEQsSUFBSSxjQUFjLHNCQUFzQjtBQUFBLElBQ3hDLE1BQU0sU0FBUyxVQUFVLHVCQUF1QixXQUFXO0FBQUEsSUFDM0QsT0FBTyxFQUFFLGlCQUFpQixTQUFTLE9BQU8sTUFBTTtBQUFBO0FBQUEsRUFFbEQsU0FBUyx1QkFBdUIsQ0FBQyxXQUFXLGFBQWEsUUFBUTtBQUFBLElBQy9ELHdCQUF3QjtBQUFBLElBQ3hCLG9CQUFvQjtBQUFBLElBQ3BCLDJCQUEyQixVQUFVO0FBQUEsSUFDckMsSUFBSSxDQUFDLHlCQUF5QixNQUFNLGVBQWUsaUJBQWlCO0FBQUEsTUFDbEUsd0JBQXdCO0FBQUEsTUFDeEIsSUFBSSxJQUFJLHVCQUF1QixNQUFNLFVBQVUsTUFBTSxPQUFPO0FBQUEsTUFDNUQsSUFBSSxLQUFLLE1BQU07QUFBQSxRQUNiLFlBQVksRUFBRSx1QkFBdUIsRUFBRSxDQUFDO0FBQUEsTUFDMUM7QUFBQSxJQUNGO0FBQUEsSUFDQSxPQUFPLE1BQU07QUFBQSxNQUNYLHdCQUF3QjtBQUFBLE1BQ3hCLG9CQUFvQjtBQUFBLE1BQ3BCLDJCQUEyQjtBQUFBO0FBQUE7QUFBQSxFQUcvQixTQUFTLFlBQVksQ0FBQyxXQUFVLFNBQVM7QUFBQSxJQUN2QyxJQUFJLDBCQUEwQjtBQUFBLE1BQzVCLElBQUksTUFBTSx5QkFDUixXQUNBLFFBQVEsSUFBSSxDQUFDLE1BQU0sMkJBQTJCLEdBQUcsTUFBTSxVQUFVLENBQUMsQ0FDcEU7QUFBQSxNQUNBLE9BQU8sT0FBTyxVQUFTO0FBQUEsSUFDekI7QUFBQSxJQUNBLE9BQU8sVUFBUztBQUFBO0FBQUEsRUFFbEIsU0FBUyxrQkFBa0IsQ0FBQyxXQUFVLFNBQVM7QUFBQSxJQUM3QyxJQUFJLHlCQUF5QixtQkFBbUI7QUFBQSxNQUM5QyxJQUFJLE1BQU0sYUFBYSxXQUFVLE9BQU87QUFBQSxNQUN4QyxzQkFBc0IsT0FBTyxrQkFBa0I7QUFBQSxJQUNqRDtBQUFBO0FBQUEsRUFFRixTQUFTLHNCQUFzQixDQUFDLFdBQVUsU0FBUztBQUFBLElBQ2pELElBQUksdUJBQXVCO0FBQUEsTUFDekIsSUFBSSxNQUFNLGFBQWEsV0FBVSxPQUFPO0FBQUEsTUFDeEMsSUFBSSxJQUFJLHNCQUFzQjtBQUFBLE1BQzlCLElBQUksT0FBTyxNQUFNLFVBQVU7QUFBQSxRQUN6QixPQUFPO0FBQUEsTUFDVDtBQUFBLElBQ0Y7QUFBQSxJQUNBLE9BQU87QUFBQTtBQUFBLEVBRVQsU0FBUyxhQUFhLENBQUMsU0FBUyxhQUFhLFVBQVU7QUFBQSxJQUNyRCxJQUFJLEtBQUsseUJBQXlCO0FBQUEsTUFDaEMsSUFBSSxDQUFDLFNBQVM7QUFBQSxRQUNaLElBQUksYUFBYSxnQkFDZixhQUNBLFVBQ0EsVUFDQSxJQUNGO0FBQUEsUUFDQSxPQUFPLEVBQUUsUUFBUSxNQUFNLFNBQVMsY0FBYyxDQUFDLEVBQUU7QUFBQSxNQUNuRCxFQUFPO0FBQUEsUUFDTCxJQUFJLE9BQU8sS0FBSyxRQUFRLEdBQUcsTUFBTSxFQUFFLFNBQVMsR0FBRztBQUFBLFVBQzdDLElBQUksaUJBQWlCLGdCQUNuQixhQUNBLFVBQ0EsVUFDQSxJQUNGO0FBQUEsVUFDQSxPQUFPLEVBQUUsUUFBUSxNQUFNLFNBQVMsZUFBZTtBQUFBLFFBQ2pEO0FBQUE7QUFBQSxJQUVKO0FBQUEsSUFDQSxPQUFPLEVBQUUsUUFBUSxPQUFPLFNBQVMsS0FBSztBQUFBO0FBQUEsRUFFeEMsZUFBZSxjQUFjLENBQUMsU0FBUyxVQUFVLFFBQVEsWUFBWTtBQUFBLElBQ25FLElBQUksQ0FBQyxLQUFLLHlCQUF5QjtBQUFBLE1BQ2pDLE9BQU8sRUFBRSxNQUFNLFdBQVcsUUFBUTtBQUFBLElBQ3BDO0FBQUEsSUFDQSxJQUFJLGlCQUFpQjtBQUFBLElBQ3JCLE9BQU8sTUFBTTtBQUFBLE1BQ1gsSUFBSSxXQUFXLHNCQUFzQjtBQUFBLE1BQ3JDLElBQUksY0FBYyxzQkFBc0I7QUFBQSxNQUN4QyxJQUFJLGdCQUFnQjtBQUFBLE1BQ3BCLElBQUk7QUFBQSxRQUNGLE1BQU0sS0FBSyx3QkFBd0I7QUFBQSxVQUNqQztBQUFBLFVBQ0EsTUFBTTtBQUFBLFVBQ04sU0FBUztBQUFBLFVBQ1Q7QUFBQSxVQUNBLE9BQU8sQ0FBQyxTQUFTLGFBQWE7QUFBQSxZQUM1QixJQUFJLE9BQU87QUFBQSxjQUFTO0FBQUEsWUFDcEIsZ0JBQ0UsU0FDQSxVQUNBLGFBQ0EsZUFDQSxxQkFDQSxLQUNGO0FBQUE7QUFBQSxRQUVKLENBQUM7QUFBQSxRQUNELE9BQU8sR0FBRztBQUFBLFFBQ1YsT0FBTyxFQUFFLE1BQU0sU0FBUyxPQUFPLEdBQUcsZUFBZTtBQUFBLGdCQUNqRDtBQUFBLFFBQ0EsSUFBSSxZQUFZLENBQUMsT0FBTyxTQUFTO0FBQUEsVUFDL0IsYUFBYSxDQUFDLEdBQUcsVUFBVTtBQUFBLFFBQzdCO0FBQUE7QUFBQSxNQUVGLElBQUksT0FBTyxTQUFTO0FBQUEsUUFDbEIsT0FBTyxFQUFFLE1BQU0sVUFBVTtBQUFBLE1BQzNCO0FBQUEsTUFDQSxJQUFJLGFBQWEsWUFBWSxhQUFhLFVBQVUsUUFBUTtBQUFBLE1BQzVELElBQUksWUFBWTtBQUFBLFFBQ2QsT0FBTyxFQUFFLE1BQU0sV0FBVyxTQUFTLFdBQVc7QUFBQSxNQUNoRDtBQUFBLE1BQ0EsSUFBSSxvQkFBb0IsZ0JBQ3RCLGFBQ0EsVUFDQSxVQUNBLElBQ0Y7QUFBQSxNQUNBLElBQUksQ0FBQyxxQkFBcUIsZUFBZSxXQUFXLGtCQUFrQixVQUFVLGVBQWUsTUFDN0YsQ0FBQyxHQUFHLE1BQU0sRUFBRSxNQUFNLE9BQU8sa0JBQWtCLEdBQUcsTUFBTSxFQUN0RCxHQUFHO0FBQUEsUUFDRCxPQUFPLEVBQUUsTUFBTSxXQUFXLFNBQVMsS0FBSztBQUFBLE1BQzFDO0FBQUEsTUFDQSxpQkFBaUI7QUFBQSxJQUNuQjtBQUFBO0FBQUEsRUFFRixTQUFTLGtCQUFrQixDQUFDLFdBQVc7QUFBQSxJQUNyQyxXQUFXLENBQUM7QUFBQSxJQUNaLHFCQUFxQiwwQkFDbkIsV0FDQSxxQkFDSyxXQUNMLFFBQ0Y7QUFBQTtBQUFBLEVBRUYsU0FBUyxXQUFXLENBQUMsU0FBUyxVQUFVLGlDQUFpQyxPQUFPO0FBQUEsSUFDOUUsSUFBSSxXQUFXLHNCQUFzQjtBQUFBLElBQ3JDLElBQUksY0FBYyxzQkFBc0I7QUFBQSxJQUN4QyxnQkFDRSxTQUNBLFVBQ0EsYUFDQSxVQUNBLHFCQUNBLDhCQUNGO0FBQUEsSUFDQSxJQUFJLFVBQVU7QUFBQSxNQUNaLGFBQWEsQ0FBQyxHQUFHLFVBQVU7QUFBQSxNQUMzQixZQUFZLENBQUMsQ0FBQztBQUFBLElBQ2hCO0FBQUE7QUFBQSxFQUVGLFNBQVM7QUFBQSxRQUNILFFBQVEsR0FBRztBQUFBLE1BQ2IsT0FBTztBQUFBO0FBQUEsUUFFTCxNQUFNLEdBQUc7QUFBQSxNQUNYLE9BQU87QUFBQTtBQUFBLFFBRUwsS0FBSyxHQUFHO0FBQUEsTUFDVixPQUFPO0FBQUE7QUFBQSxRQUVMLE1BQU0sR0FBRztBQUFBLE1BQ1gsT0FBTztBQUFBO0FBQUEsUUFFTCxNQUFNLEdBQUc7QUFBQSxNQUNYLE9BQU87QUFBQTtBQUFBLElBRVQ7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBLE9BQU87QUFBQSxJQUNQO0FBQUEsSUFHQSxZQUFZLENBQUMsT0FBTyxLQUFLLFFBQVEsV0FBVyxFQUFFO0FBQUEsSUFDOUMsZ0JBQWdCLENBQUMsT0FBTyxLQUFLLFFBQVEsZUFBZSxFQUFFO0FBQUEsSUFDdEQ7QUFBQSxJQUNBO0FBQUEsSUFDQSxlQUFlO0FBQUEsSUFDZjtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0EsMkJBQTJCO0FBQUEsSUFHM0I7QUFBQSxJQUNBLDhDQUE4QyxDQUFDLFVBQVU7QUFBQSxNQUN2RCxZQUFZLFFBQVE7QUFBQTtBQUFBLEVBRXhCO0FBQUEsRUFDQSxJQUFJLEtBQUssMkJBQTJCO0FBQUEsSUFDbEMsU0FBUywyQkFDUCxRQUNBLEtBQUssMEJBQTBCLElBQUksQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLE9BQU8sT0FBTyxDQUNwRTtBQUFBLEVBQ0Y7QUFBQSxFQUNBLE9BQU87QUFBQTtBQTRuQlQsU0FBUyxzQkFBc0IsQ0FBQyxNQUFNO0FBQUEsRUFDcEMsT0FBTyxRQUFRLFVBQVMsY0FBYyxTQUFRLEtBQUssWUFBWSxTQUFRLFVBQVUsU0FBUSxLQUFLLFNBQWM7QUFBQTtBQUU5RyxTQUFTLFdBQVcsQ0FBQyxXQUFVLFNBQVMsVUFBVSxJQUFJLGFBQWEsVUFBVTtBQUFBLEVBQzNFLElBQUk7QUFBQSxFQUNKLElBQUk7QUFBQSxFQUNKLElBQUksYUFBYTtBQUFBLElBQ2Ysb0JBQW9CLENBQUM7QUFBQSxJQUNyQixTQUFTLFNBQVMsU0FBUztBQUFBLE1BQ3pCLGtCQUFrQixLQUFLLEtBQUs7QUFBQSxNQUM1QixJQUFJLE1BQU0sTUFBTSxPQUFPLGFBQWE7QUFBQSxRQUNsQyxtQkFBbUI7QUFBQSxRQUNuQjtBQUFBLE1BQ0Y7QUFBQSxJQUNGO0FBQUEsRUFDRixFQUFPO0FBQUEsSUFDTCxvQkFBb0I7QUFBQSxJQUNwQixtQkFBbUIsUUFBUSxRQUFRLFNBQVM7QUFBQTtBQUFBLEVBRTlDLElBQUksT0FBTyxVQUNULEtBQUssS0FBSyxLQUNWLG9CQUFvQixpQkFBaUIsR0FDckMsY0FBYyxVQUFTLFVBQVUsUUFBUSxLQUFLLFVBQVMsVUFDdkQsYUFBYSxNQUNmO0FBQUEsRUFDQSxJQUFJLE1BQU0sTUFBTTtBQUFBLElBQ2QsS0FBSyxTQUFTLFVBQVM7QUFBQSxJQUN2QixLQUFLLE9BQU8sVUFBUztBQUFBLEVBQ3ZCO0FBQUEsRUFDQSxLQUFLLE1BQU0sUUFBUSxPQUFPLE1BQU0sT0FBTyxRQUFRLGtCQUFrQjtBQUFBLElBQy9ELElBQUksYUFBYSxtQkFBbUIsS0FBSyxNQUFNO0FBQUEsSUFDL0MsSUFBSSxpQkFBaUIsTUFBTSxTQUFTLENBQUMsWUFBWTtBQUFBLE1BQy9DLEtBQUssU0FBUyxLQUFLLFNBQVMsS0FBSyxPQUFPLFFBQVEsT0FBTyxTQUFTLElBQUk7QUFBQSxJQUN0RSxFQUFPLFNBQUksQ0FBQyxpQkFBaUIsTUFBTSxTQUFTLFlBQVk7QUFBQSxNQUN0RCxJQUFJLFNBQVMsSUFBSSxnQkFBZ0IsS0FBSyxNQUFNO0FBQUEsTUFDNUMsSUFBSSxjQUFjLE9BQU8sT0FBTyxPQUFPO0FBQUEsTUFDdkMsT0FBTyxPQUFPLE9BQU87QUFBQSxNQUNyQixZQUFZLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRSxRQUFRLENBQUMsTUFBTSxPQUFPLE9BQU8sU0FBUyxDQUFDLENBQUM7QUFBQSxNQUNyRSxJQUFJLEtBQUssT0FBTyxTQUFTO0FBQUEsTUFDekIsS0FBSyxTQUFTLEtBQUssSUFBSSxPQUFPO0FBQUEsSUFDaEM7QUFBQSxFQUNGO0FBQUEsRUFDQSxJQUFJLGFBQWEsS0FBSztBQUFBLElBQ3BCLEtBQUssV0FBVyxnQkFBZ0IsRUFBRSxVQUFVLFVBQVUsS0FBSyxTQUFTLENBQUM7QUFBQSxFQUN2RTtBQUFBLEVBQ0EsT0FBTyxXQUFXLElBQUk7QUFBQTtBQUV4QixTQUFTLHdCQUF3QixDQUFDLFdBQVcsTUFBTSxNQUFNO0FBQUEsRUFDdkQsSUFBSSxDQUFDLFFBQVEsQ0FBQyx1QkFBdUIsSUFBSSxHQUFHO0FBQUEsSUFDMUMsT0FBTyxFQUFFLEtBQUs7QUFBQSxFQUNoQjtBQUFBLEVBQ0EsSUFBSSxLQUFLLGNBQWMsQ0FBQyxjQUFjLEtBQUssVUFBVSxHQUFHO0FBQUEsSUFDdEQsT0FBTztBQUFBLE1BQ0w7QUFBQSxNQUNBLE9BQU8sdUJBQXVCLEtBQUssRUFBRSxRQUFRLEtBQUssV0FBVyxDQUFDO0FBQUEsSUFDaEU7QUFBQSxFQUNGO0FBQUEsRUFDQSxJQUFJLHNCQUFzQixPQUFPO0FBQUEsSUFDL0I7QUFBQSxJQUNBLE9BQU8sdUJBQXVCLEtBQUssRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUFBLEVBQzdEO0FBQUEsRUFDQSxJQUFJLGdCQUFnQixLQUFLLGNBQWM7QUFBQSxFQUN2QyxJQUFJLGFBQWEsY0FBYyxZQUFZO0FBQUEsRUFDM0MsSUFBSSxhQUFhLGtCQUFrQixJQUFJO0FBQUEsRUFDdkMsSUFBSSxLQUFLLFNBQWMsV0FBRztBQUFBLElBQ3hCLElBQUksS0FBSyxnQkFBZ0IsY0FBYztBQUFBLE1BQ3JDLElBQUksQ0FBQyxpQkFBaUIsVUFBVSxHQUFHO0FBQUEsUUFDakMsT0FBTyxvQkFBb0I7QUFBQSxNQUM3QjtBQUFBLE1BQ0EsSUFBSSxPQUFPLE9BQU8sS0FBSyxTQUFTLFdBQVcsS0FBSyxPQUFPLEtBQUssZ0JBQWdCLFlBQVksS0FBSyxnQkFBZ0Isa0JBRTNHLE1BQU0sS0FBSyxLQUFLLEtBQUssUUFBUSxDQUFDLEVBQUUsT0FDOUIsQ0FBQyxNQUFNLE1BQU0sV0FBVyxHQUFHLE1BQU0sUUFBUTtBQUFBLEdBRXpDLEVBQ0YsSUFDRSxPQUFPLEtBQUssSUFBSTtBQUFBLE1BQ3BCLE9BQU87QUFBQSxRQUNMO0FBQUEsUUFDQSxZQUFZO0FBQUEsVUFDVjtBQUFBLFVBQ0E7QUFBQSxVQUNBLGFBQWEsS0FBSztBQUFBLFVBQ2xCLFVBQWU7QUFBQSxVQUNmLE1BQVc7QUFBQSxVQUNYO0FBQUEsUUFDRjtBQUFBLE1BQ0Y7QUFBQSxJQUNGLEVBQU8sU0FBSSxLQUFLLGdCQUFnQixvQkFBb0I7QUFBQSxNQUNsRCxJQUFJLENBQUMsaUJBQWlCLFVBQVUsR0FBRztBQUFBLFFBQ2pDLE9BQU8sb0JBQW9CO0FBQUEsTUFDN0I7QUFBQSxNQUNBLElBQUk7QUFBQSxRQUNGLElBQUksT0FBTyxPQUFPLEtBQUssU0FBUyxXQUFXLEtBQUssTUFBTSxLQUFLLElBQUksSUFBSSxLQUFLO0FBQUEsUUFDeEUsT0FBTztBQUFBLFVBQ0w7QUFBQSxVQUNBLFlBQVk7QUFBQSxZQUNWO0FBQUEsWUFDQTtBQUFBLFlBQ0EsYUFBYSxLQUFLO0FBQUEsWUFDbEIsVUFBZTtBQUFBLFlBQ2Y7QUFBQSxZQUNBLE1BQVc7QUFBQSxVQUNiO0FBQUEsUUFDRjtBQUFBLFFBQ0EsT0FBTyxHQUFHO0FBQUEsUUFDVixPQUFPLG9CQUFvQjtBQUFBO0FBQUEsSUFFL0I7QUFBQSxFQUNGO0FBQUEsRUFDQSxVQUNFLE9BQU8sYUFBYSxZQUNwQiwrQ0FDRjtBQUFBLEVBQ0EsSUFBSTtBQUFBLEVBQ0osSUFBSTtBQUFBLEVBQ0osSUFBSSxLQUFLLFVBQVU7QUFBQSxJQUNqQixlQUFlLDhCQUE4QixLQUFLLFFBQVE7QUFBQSxJQUMxRCxXQUFXLEtBQUs7QUFBQSxFQUNsQixFQUFPLFNBQUksS0FBSyxnQkFBZ0IsVUFBVTtBQUFBLElBQ3hDLGVBQWUsOEJBQThCLEtBQUssSUFBSTtBQUFBLElBQ3RELFdBQVcsS0FBSztBQUFBLEVBQ2xCLEVBQU8sU0FBSSxLQUFLLGdCQUFnQixpQkFBaUI7QUFBQSxJQUMvQyxlQUFlLEtBQUs7QUFBQSxJQUNwQixXQUFXLDhCQUE4QixZQUFZO0FBQUEsRUFDdkQsRUFBTyxTQUFJLEtBQUssUUFBUSxNQUFNO0FBQUEsSUFDNUIsZUFBZSxJQUFJO0FBQUEsSUFDbkIsV0FBVyxJQUFJO0FBQUEsRUFDakIsRUFBTztBQUFBLElBQ0wsSUFBSTtBQUFBLE1BQ0YsZUFBZSxJQUFJLGdCQUFnQixLQUFLLElBQUk7QUFBQSxNQUM1QyxXQUFXLDhCQUE4QixZQUFZO0FBQUEsTUFDckQsT0FBTyxHQUFHO0FBQUEsTUFDVixPQUFPLG9CQUFvQjtBQUFBO0FBQUE7QUFBQSxFQUcvQixJQUFJLGFBQWE7QUFBQSxJQUNmO0FBQUEsSUFDQTtBQUFBLElBQ0EsYUFBYSxRQUFRLEtBQUssZUFBZTtBQUFBLElBQ3pDO0FBQUEsSUFDQSxNQUFXO0FBQUEsSUFDWCxNQUFXO0FBQUEsRUFDYjtBQUFBLEVBQ0EsSUFBSSxpQkFBaUIsV0FBVyxVQUFVLEdBQUc7QUFBQSxJQUMzQyxPQUFPLEVBQUUsTUFBTSxXQUFXO0FBQUEsRUFDNUI7QUFBQSxFQUNBLElBQUksYUFBYSxVQUFVLElBQUk7QUFBQSxFQUMvQixJQUFJLGFBQWEsV0FBVyxVQUFVLG1CQUFtQixXQUFXLE1BQU0sR0FBRztBQUFBLElBQzNFLGFBQWEsT0FBTyxTQUFTLEVBQUU7QUFBQSxFQUNqQztBQUFBLEVBQ0EsV0FBVyxTQUFTLElBQUk7QUFBQSxFQUN4QixPQUFPLEVBQUUsTUFBTSxXQUFXLFVBQVUsR0FBRyxXQUFXO0FBQUE7QUFFcEQsU0FBUyxnQkFBZ0IsQ0FBQyxTQUFTLGVBQWUscUJBQXFCLFVBQVUsU0FBUyxPQUFPLFNBQVMsWUFBWSxXQUFVLDJCQUEyQixrQkFBa0Isd0JBQXdCLHVCQUF1QiwyQkFBMkIsa0JBQWtCLGtCQUFrQixhQUFhLFVBQVUsNEJBQTRCLHFCQUFxQjtBQUFBLEVBQ2pXLElBQUksZUFBZSxzQkFBc0IsY0FBYyxvQkFBb0IsRUFBRSxJQUFJLG9CQUFvQixHQUFHLFFBQVEsb0JBQW9CLEdBQUcsT0FBWTtBQUFBLEVBQ25KLElBQUksYUFBYSxRQUFRLFVBQVUsTUFBTSxRQUFRO0FBQUEsRUFDakQsSUFBSSxVQUFVLFFBQVEsVUFBVSxTQUFRO0FBQUEsRUFDeEMsSUFBSTtBQUFBLEVBQ0osSUFBSSxvQkFBb0IsTUFBTSxRQUFRO0FBQUEsSUFDcEMsSUFBSSxhQUFhLE9BQU8sS0FBSyxNQUFNLE1BQU0sRUFBRTtBQUFBLElBQzNDLFNBQVMsUUFBUSxVQUFVLENBQUMsTUFBTSxFQUFFLE1BQU0sT0FBTyxVQUFVO0FBQUEsRUFDN0QsRUFBTyxTQUFJLHVCQUF1QixjQUFjLG9CQUFvQixFQUFFLEdBQUc7QUFBQSxJQUN2RSxJQUFJLGFBQWEsb0JBQW9CO0FBQUEsSUFDckMsU0FBUyxRQUFRLFVBQVUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxPQUFPLFVBQVUsSUFBSTtBQUFBLEVBQ2pFO0FBQUEsRUFDQSxJQUFJLGVBQWUsc0JBQXNCLG9CQUFvQixHQUFHLGFBQWtCO0FBQUEsRUFDbEYsSUFBSSx5QkFBeUIsZ0JBQWdCLGdCQUFnQjtBQUFBLEVBQzdELElBQUksMkJBQTJCO0FBQUEsSUFDN0I7QUFBQSxJQUNBLGVBQWUsTUFBTSxRQUFRLElBQUksVUFBVSxDQUFDO0FBQUEsSUFDNUM7QUFBQSxJQUNBLFlBQVksUUFBUSxHQUFHO0FBQUEsT0FDcEI7QUFBQSxJQUNIO0FBQUEsSUFDQTtBQUFBLEVBQ0Y7QUFBQSxFQUNBLElBQUksVUFBVSxnQkFBZ0IsUUFBUSxJQUFJLENBQUMsTUFBTSxFQUFFLE1BQU0sSUFBSSxDQUFDO0FBQUEsRUFDOUQsSUFBSSxZQUFZLFFBQVEsSUFBSSxDQUFDLE9BQU8sVUFBVTtBQUFBLElBQzVDLE1BQU0sVUFBVTtBQUFBLElBQ2hCLElBQUksa0JBQWtCO0FBQUEsSUFDdEIsSUFBSSxVQUFVLFFBQVEsUUFBUSxRQUFRO0FBQUEsTUFDcEMsa0JBQWtCO0FBQUEsSUFDcEIsRUFBTyxTQUFJLE1BQU0sTUFBTTtBQUFBLE1BQ3JCLGtCQUFrQjtBQUFBLElBQ3BCLEVBQU8sU0FBSSxDQUFDLDJCQUEyQixLQUFLLEdBQUc7QUFBQSxNQUM3QyxrQkFBa0I7QUFBQSxJQUNwQixFQUFPLFNBQUksa0JBQWtCO0FBQUEsTUFDM0Isa0JBQWtCLDJCQUNoQixPQUNBLE1BQU0sWUFDTixNQUFNLE1BQ1I7QUFBQSxJQUNGLEVBQU8sU0FBSSxZQUFZLE1BQU0sWUFBWSxNQUFNLFFBQVEsUUFBUSxLQUFLLEdBQUc7QUFBQSxNQUNyRSxrQkFBa0I7QUFBQSxJQUNwQjtBQUFBLElBQ0EsSUFBSSxvQkFBb0IsTUFBTTtBQUFBLE1BQzVCLE9BQU8scUJBQ0wscUJBQ0EsVUFDQSxTQUNBLFNBQ0EsT0FDQSwyQkFDQSxlQUNBLGVBQ0Y7QUFBQSxJQUNGO0FBQUEsSUFDQSxJQUFJLDBCQUEwQix5QkFBeUIsUUFFckQsMEJBQTBCLFdBQVcsV0FBVyxXQUFXLFdBQVcsUUFBUSxXQUFXLFFBQVEsVUFDakcsV0FBVyxXQUFXLFFBQVEsVUFBVSxtQkFBbUIsTUFBTSxRQUFRLFFBQVEsS0FBSztBQUFBLElBRXhGLElBQUksdUJBQXVCO0FBQUEsU0FDdEI7QUFBQSxNQUNIO0FBQUEsSUFDRjtBQUFBLElBQ0EsSUFBSSxhQUFhLHVCQUF1QixPQUFPLG9CQUFvQjtBQUFBLElBQ25FLE9BQU8scUJBQ0wscUJBQ0EsVUFDQSxTQUNBLFNBQ0EsT0FDQSwyQkFDQSxlQUNBLFlBQ0Esb0JBQ0Y7QUFBQSxHQUNEO0FBQUEsRUFDRCxJQUFJLHVCQUF1QixDQUFDO0FBQUEsRUFDNUIsaUJBQWlCLFFBQVEsQ0FBQyxHQUFHLFFBQVE7QUFBQSxJQUNuQyxJQUFJLG9CQUFvQixDQUFDLFFBQVEsS0FBSyxDQUFDLE1BQU0sRUFBRSxNQUFNLE9BQU8sRUFBRSxPQUFPLEtBQUssMEJBQTBCLElBQUksR0FBRyxHQUFHO0FBQUEsTUFDNUc7QUFBQSxJQUNGO0FBQUEsSUFDQSxJQUFJLFVBQVUsTUFBTSxTQUFTLElBQUksR0FBRztBQUFBLElBQ3BDLElBQUksbUJBQW1CLFdBQVcsUUFBUSxVQUFVLFVBQVUsUUFBUSxTQUFjO0FBQUEsSUFDcEYsSUFBSSxpQkFBaUIsWUFBWSxhQUFhLEVBQUUsTUFBTSxRQUFRO0FBQUEsSUFDOUQsSUFBSSxDQUFDLGdCQUFnQjtBQUFBLE1BQ25CLElBQUksOEJBQThCLGtCQUFrQjtBQUFBLFFBQ2xEO0FBQUEsTUFDRjtBQUFBLE1BQ0EscUJBQXFCLEtBQUs7QUFBQSxRQUN4QjtBQUFBLFFBQ0EsU0FBUyxFQUFFO0FBQUEsUUFDWCxNQUFNLEVBQUU7QUFBQSxRQUNSLFNBQVM7QUFBQSxRQUNULE9BQU87QUFBQSxRQUNQLFNBQVM7QUFBQSxRQUNULFlBQVk7QUFBQSxNQUNkLENBQUM7QUFBQSxNQUNEO0FBQUEsSUFDRjtBQUFBLElBQ0EsSUFBSSxpQkFBaUIsSUFBSSxHQUFHLEdBQUc7QUFBQSxNQUM3QjtBQUFBLElBQ0Y7QUFBQSxJQUNBLElBQUksZUFBZSxlQUFlLGdCQUFnQixFQUFFLElBQUk7QUFBQSxJQUN4RCxJQUFJLGtCQUFrQixJQUFJO0FBQUEsSUFDMUIsSUFBSSxlQUFlLHdCQUNqQixTQUNBLEVBQUUsTUFDRixnQkFBZ0IsTUFDbEI7QUFBQSxJQUNBLElBQUksbUJBQW1CO0FBQUEsSUFDdkIsSUFBSSxzQkFBc0IsSUFBSSxHQUFHLEdBQUc7QUFBQSxNQUNsQyxzQkFBc0IsT0FBTyxHQUFHO0FBQUEsTUFDaEMsbUJBQW1CLCtCQUNqQixxQkFDQSxVQUNBLGNBQ0EsZ0JBQ0EsY0FDQSwyQkFDQSxhQUNGO0FBQUEsSUFDRixFQUFPLFNBQUksa0JBQWtCO0FBQUEsTUFDM0IsSUFBSSx3QkFBd0I7QUFBQSxRQUMxQixtQkFBbUIsK0JBQ2pCLHFCQUNBLFVBQ0EsY0FDQSxnQkFDQSxjQUNBLDJCQUNBLGFBQ0Y7QUFBQSxNQUNGO0FBQUEsSUFDRixFQUFPO0FBQUEsTUFDTCxJQUFJLHVCQUF1QjtBQUFBLFdBQ3RCO0FBQUEsUUFDSCx5QkFBeUIseUJBQXlCLFFBQVE7QUFBQSxNQUM1RDtBQUFBLE1BQ0EsSUFBSSx1QkFBdUIsY0FBYyxvQkFBb0IsR0FBRztBQUFBLFFBQzlELG1CQUFtQiwrQkFDakIscUJBQ0EsVUFDQSxjQUNBLGdCQUNBLGNBQ0EsMkJBQ0EsZUFDQSxvQkFDRjtBQUFBLE1BQ0Y7QUFBQTtBQUFBLElBRUYsSUFBSSxrQkFBa0I7QUFBQSxNQUNwQixxQkFBcUIsS0FBSztBQUFBLFFBQ3hCO0FBQUEsUUFDQSxTQUFTLEVBQUU7QUFBQSxRQUNYLE1BQU0sRUFBRTtBQUFBLFFBQ1IsU0FBUztBQUFBLFFBQ1QsT0FBTztBQUFBLFFBQ1AsU0FBUztBQUFBLFFBQ1QsWUFBWTtBQUFBLE1BQ2QsQ0FBQztBQUFBLElBQ0g7QUFBQSxHQUNEO0FBQUEsRUFDRCxPQUFPLEVBQUUsV0FBVyxxQkFBcUI7QUFBQTtBQUUzQyxTQUFTLDBCQUEwQixDQUFDLE9BQU87QUFBQSxFQUN6QyxPQUFPLE1BQU0sVUFBVSxRQUFRLE1BQU0sY0FBYyxRQUFRLE1BQU0sV0FBVyxTQUFTO0FBQUE7QUFFdkYsU0FBUywwQkFBMEIsQ0FBQyxPQUFPLFlBQVksUUFBUTtBQUFBLEVBQzdELElBQUksTUFBTSxNQUFNO0FBQUEsSUFDZCxPQUFPO0FBQUEsRUFDVDtBQUFBLEVBQ0EsSUFBSSxDQUFDLDJCQUEyQixLQUFLLEdBQUc7QUFBQSxJQUN0QyxPQUFPO0FBQUEsRUFDVDtBQUFBLEVBQ0EsSUFBSSxVQUFVLGNBQWMsUUFBUSxNQUFNLE1BQU07QUFBQSxFQUNoRCxJQUFJLFdBQVcsVUFBVSxRQUFRLE9BQU8sTUFBTSxRQUFhO0FBQUEsRUFDM0QsSUFBSSxDQUFDLFdBQVcsVUFBVTtBQUFBLElBQ3hCLE9BQU87QUFBQSxFQUNUO0FBQUEsRUFDQSxJQUFJLE9BQU8sTUFBTSxXQUFXLGNBQWMsTUFBTSxPQUFPLFlBQVksTUFBTTtBQUFBLElBQ3ZFLE9BQU87QUFBQSxFQUNUO0FBQUEsRUFDQSxPQUFPLENBQUMsV0FBVyxDQUFDO0FBQUE7QUFFdEIsU0FBUyxXQUFXLENBQUMsbUJBQW1CLGNBQWMsT0FBTztBQUFBLEVBQzNELElBQUksUUFFRixDQUFDLGdCQUNELE1BQU0sTUFBTSxPQUFPLGFBQWEsTUFBTTtBQUFBLEVBRXhDLElBQUksZ0JBQWdCLENBQUMsa0JBQWtCLGVBQWUsTUFBTSxNQUFNLEVBQUU7QUFBQSxFQUNwRSxPQUFPLFNBQVM7QUFBQTtBQUVsQixTQUFTLGtCQUFrQixDQUFDLGNBQWMsT0FBTztBQUFBLEVBQy9DLElBQUksY0FBYyxhQUFhLE1BQU07QUFBQSxFQUNyQyxPQUVFLGFBQWEsYUFBYSxNQUFNLFlBRWhDLGVBQWUsUUFBUSxZQUFZLFNBQVMsR0FBRyxLQUFLLGFBQWEsT0FBTyxTQUFTLE1BQU0sT0FBTztBQUFBO0FBR2xHLFNBQVMsc0JBQXNCLENBQUMsYUFBYSxLQUFLO0FBQUEsRUFDaEQsSUFBSSxZQUFZLE1BQU0sa0JBQWtCO0FBQUEsSUFDdEMsSUFBSSxjQUFjLFlBQVksTUFBTSxpQkFBaUIsR0FBRztBQUFBLElBQ3hELElBQUksT0FBTyxnQkFBZ0IsV0FBVztBQUFBLE1BQ3BDLE9BQU87QUFBQSxJQUNUO0FBQUEsRUFDRjtBQUFBLEVBQ0EsT0FBTyxJQUFJO0FBQUE7QUFFYixTQUFTLGVBQWUsQ0FBQyxTQUFTLFVBQVUsYUFBYSxVQUFVLHFCQUFxQix1QkFBdUI7QUFBQSxFQUM3RyxJQUFJO0FBQUEsRUFDSixJQUFJLFNBQVM7QUFBQSxJQUNYLElBQUksUUFBUSxTQUFTO0FBQUEsSUFDckIsVUFDRSxPQUNBLG9EQUFvRCxTQUN0RDtBQUFBLElBQ0EsSUFBSSxDQUFDLE1BQU0sVUFBVTtBQUFBLE1BQ25CLE1BQU0sV0FBVyxDQUFDO0FBQUEsSUFDcEI7QUFBQSxJQUNBLGtCQUFrQixNQUFNO0FBQUEsRUFDMUIsRUFBTztBQUFBLElBQ0wsa0JBQWtCO0FBQUE7QUFBQSxFQUVwQixJQUFJLGlCQUFpQixDQUFDO0FBQUEsRUFDdEIsSUFBSSxtQkFBbUIsQ0FBQztBQUFBLEVBQ3hCLFNBQVMsUUFBUSxDQUFDLGFBQWE7QUFBQSxJQUM3QixJQUFJLGdCQUFnQixnQkFBZ0IsS0FDbEMsQ0FBQyxtQkFBbUIsWUFBWSxVQUFVLGNBQWMsQ0FDMUQ7QUFBQSxJQUNBLElBQUksZUFBZTtBQUFBLE1BQ2pCLGlCQUFpQixLQUFLLEVBQUUsZUFBZSxTQUFTLENBQUM7QUFBQSxJQUNuRCxFQUFPO0FBQUEsTUFDTCxlQUFlLEtBQUssUUFBUTtBQUFBO0FBQUEsR0FFL0I7QUFBQSxFQUNELElBQUksZUFBZSxTQUFTLEdBQUc7QUFBQSxJQUM3QixJQUFJLFlBQVksMEJBQ2QsZ0JBQ0EscUJBQ0EsQ0FBQyxXQUFXLEtBQUssU0FBUyxPQUFPLGlCQUFpQixVQUFVLEdBQUcsQ0FBQyxHQUNoRSxRQUNGO0FBQUEsSUFDQSxnQkFBZ0IsS0FBSyxHQUFHLFNBQVM7QUFBQSxFQUNuQztBQUFBLEVBQ0EsSUFBSSx5QkFBeUIsaUJBQWlCLFNBQVMsR0FBRztBQUFBLElBQ3hELFNBQVMsSUFBSSxFQUFHLElBQUksaUJBQWlCLFFBQVEsS0FBSztBQUFBLE1BQ2hELE1BQU0sZUFBZSxhQUFhLGlCQUFpQjtBQUFBLE1BQ25ELElBQUkscUJBQXFCO0FBQUEsTUFDekIsS0FBSyxpQkFBaUIsMEJBQ3BCLENBQUMsUUFBUSxHQUNULHFCQUNBLENBQUMsR0FFRCxDQUFDLEdBRUQsSUFDRjtBQUFBLE1BQ0EsT0FBTyxPQUFPLG9CQUFvQjtBQUFBLFFBQ2hDLFNBQVMsY0FBYyxVQUFVLGNBQWMsVUFBVSxtQkFBbUI7QUFBQSxRQUM1RSxjQUFjLGNBQWMsZUFBZSxjQUFjLGVBQWUsbUJBQW1CO0FBQUEsUUFDM0Ysd0JBQXdCLGNBQWMseUJBQXlCLGNBQWMseUJBQXlCLG1CQUFtQjtBQUFBLE1BQzNILENBQUM7QUFBQSxJQUNIO0FBQUEsRUFDRjtBQUFBO0FBRUYsU0FBUyxXQUFXLENBQUMsVUFBVSxlQUFlO0FBQUEsRUFDNUMsSUFBSSxRQUFRLFlBQVksUUFBUSxpQkFBaUIsU0FBUyxPQUFPLGNBQWMsSUFBSTtBQUFBLElBQ2pGLE9BQU87QUFBQSxFQUNUO0FBQUEsRUFDQSxJQUFJLEVBQUUsU0FBUyxVQUFVLGNBQWMsU0FBUyxTQUFTLFNBQVMsY0FBYyxRQUFRLFNBQVMsa0JBQWtCLGNBQWMsZ0JBQWdCO0FBQUEsSUFDL0ksT0FBTztBQUFBLEVBQ1Q7QUFBQSxFQUNBLEtBQUssQ0FBQyxTQUFTLFlBQVksU0FBUyxTQUFTLFdBQVcsT0FBTyxDQUFDLGNBQWMsWUFBWSxjQUFjLFNBQVMsV0FBVyxJQUFJO0FBQUEsSUFDOUgsT0FBTztBQUFBLEVBQ1Q7QUFBQSxFQUNBLE9BQU8sU0FBUyxTQUFTLE1BQ3ZCLENBQUMsUUFBUSxNQUFNLGNBQWMsVUFBVSxLQUFLLENBQUMsV0FBVyxZQUFZLFFBQVEsTUFBTSxDQUFDLENBQ3JGO0FBQUE7QUFFRixJQUFJLHlDQUF5QyxJQUFJO0FBQ2pELElBQUksd0JBQXdCO0FBQUEsRUFDMUI7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0Esb0JBQW9CO0FBQUEsTUFDaEI7QUFBQSxFQUNKLElBQUksZ0JBQWdCLFNBQVMsTUFBTTtBQUFBLEVBQ25DLFVBQVUsZUFBZSw0QkFBNEI7QUFBQSxFQUNyRCxJQUFJLENBQUMsY0FBYyxRQUFRLE9BQU8sY0FBYyxTQUFTLFVBQVU7QUFBQSxJQUNqRTtBQUFBLEVBQ0Y7QUFBQSxFQUNBLElBQUksU0FBUyxjQUFjLEtBQUs7QUFBQSxFQUNoQyxJQUFJLENBQUMsUUFBUTtBQUFBLElBQ1g7QUFBQSxFQUNGO0FBQUEsRUFDQSxJQUFJLFFBQVEsdUJBQXVCLElBQUksYUFBYTtBQUFBLEVBQ3BELElBQUksQ0FBQyxPQUFPO0FBQUEsSUFDVixRQUFRLENBQUM7QUFBQSxJQUNULHVCQUF1QixJQUFJLGVBQWUsS0FBSztBQUFBLEVBQ2pEO0FBQUEsRUFDQSxJQUFJLGdCQUFnQixNQUFNO0FBQUEsRUFDMUIsSUFBSSxlQUFlO0FBQUEsSUFDakIsT0FBTztBQUFBLEVBQ1Q7QUFBQSxFQUNBLElBQUksbUJBQW1CLFlBQVk7QUFBQSxJQUNqQyxJQUFJLGdCQUFnQixnQ0FBZ0MsR0FBRztBQUFBLElBQ3ZELElBQUksbUJBQW1CLGNBQWM7QUFBQSxJQUNyQyxJQUFJLHNCQUFzQixxQkFBMEIsYUFBSyxRQUFRO0FBQUEsSUFDakUsSUFBSSxlQUFlO0FBQUEsTUFDakIsUUFDRSxDQUFDLGVBQ0Qsb0JBQW9CLE1BQU0seUVBQzVCO0FBQUEsTUFDQSxNQUFNLE9BQU8sUUFBUSxRQUFRO0FBQUEsSUFDL0IsRUFBTyxTQUFJLHFCQUFxQjtBQUFBLE1BQzlCLFFBQ0UsT0FDQSxVQUFVLGNBQWMsOEJBQThCLGtEQUN4RDtBQUFBLElBQ0YsRUFBTztBQUFBLE1BQ0wsSUFBSSxRQUFRLE1BQU0sT0FBTztBQUFBLE1BQ3pCLElBQUksU0FBUyxNQUFNO0FBQUEsUUFDakIsT0FBTyxPQUFPLGVBQWUsR0FBRyxNQUFNLE1BQU0sQ0FBQztBQUFBLFFBQzdDLE9BQU8sT0FBTyxlQUFlLG9CQUFvQixhQUFhLENBQUM7QUFBQSxNQUNqRTtBQUFBO0FBQUEsSUFFRixJQUFJLE9BQU8sY0FBYyxTQUFTLFVBQVU7QUFBQSxNQUMxQyxjQUFjLEtBQUssT0FBWTtBQUFBLE1BQy9CLElBQUksT0FBTyxPQUFPLGNBQWMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxVQUFVLFVBQWUsU0FBQyxHQUFHO0FBQUEsUUFDeEUsY0FBYyxPQUFZO0FBQUEsTUFDNUI7QUFBQSxJQUNGO0FBQUEsS0FDQztBQUFBLEVBQ0gsTUFBTSxPQUFPO0FBQUEsRUFDYixPQUFPO0FBQUE7QUFFVCxJQUFJLHlDQUF5QyxJQUFJO0FBQ2pELFNBQVMsYUFBYSxDQUFDLE9BQU8sTUFBTSxVQUFVLHFCQUFxQiwyQkFBMkI7QUFBQSxFQUM1RixJQUFJLGdCQUFnQixTQUFTLE1BQU07QUFBQSxFQUNuQyxVQUFVLGVBQWUsNEJBQTRCO0FBQUEsRUFDckQsSUFBSSxDQUFDLE1BQU0sTUFBTTtBQUFBLElBQ2YsT0FBTztBQUFBLE1BQ0wsa0JBQXVCO0FBQUEsTUFDdkIsb0JBQXlCO0FBQUEsSUFDM0I7QUFBQSxFQUNGO0FBQUEsRUFDQSxJQUFJLE9BQU8sTUFBTSxTQUFTLFlBQVk7QUFBQSxJQUNwQyxJQUFJLGdCQUFnQix1QkFBdUIsSUFBSSxhQUFhO0FBQUEsSUFDNUQsSUFBSSxlQUFlO0FBQUEsTUFDakIsT0FBTztBQUFBLFFBQ0wsa0JBQWtCO0FBQUEsUUFDbEIsb0JBQW9CO0FBQUEsTUFDdEI7QUFBQSxJQUNGO0FBQUEsSUFDQSxJQUFJLHFCQUFxQixZQUFZO0FBQUEsTUFDbkMsVUFDRSxPQUFPLE1BQU0sU0FBUyxZQUN0Qiw4QkFDRjtBQUFBLE1BQ0EsSUFBSSxZQUFZLE1BQU0sTUFBTSxLQUFLO0FBQUEsTUFDakMsSUFBSSxlQUFlLENBQUM7QUFBQSxNQUNwQixTQUFTLHFCQUFxQixXQUFXO0FBQUEsUUFDdkMsSUFBSSxZQUFZLFVBQVU7QUFBQSxRQUMxQixJQUFJLGNBQW1CLFdBQUc7QUFBQSxVQUN4QjtBQUFBLFFBQ0Y7QUFBQSxRQUNBLElBQUksZ0JBQWdCLGtDQUFrQyxpQkFBaUI7QUFBQSxRQUN2RSxJQUFJLG1CQUFtQixjQUFjO0FBQUEsUUFDckMsSUFBSSxzQkFBc0IscUJBQTBCLGFBRXBELHNCQUFzQjtBQUFBLFFBQ3RCLElBQUksZUFBZTtBQUFBLFVBQ2pCLFFBQ0UsQ0FBQyxlQUNELG9CQUFvQixvQkFBb0Isd0dBQzFDO0FBQUEsUUFDRixFQUFPLFNBQUkscUJBQXFCO0FBQUEsVUFDOUIsUUFDRSxDQUFDLHFCQUNELFVBQVUsY0FBYyw4QkFBOEIsMEhBQTBILHFDQUNsTDtBQUFBLFFBQ0YsRUFBTztBQUFBLFVBQ0wsYUFBYSxxQkFBcUI7QUFBQTtBQUFBLE1BRXRDO0FBQUEsTUFDQSxPQUFPLE9BQU8sZUFBZSxZQUFZO0FBQUEsTUFDekMsT0FBTyxPQUFPLGVBQWU7QUFBQSxXQUl4QixvQkFBb0IsYUFBYTtBQUFBLFFBQ3BDLE1BQVc7QUFBQSxNQUNiLENBQUM7QUFBQSxPQUNBO0FBQUEsSUFDSCx1QkFBdUIsSUFBSSxlQUFlLGlCQUFpQjtBQUFBLElBQzNELGtCQUFrQixNQUFNLE1BQU0sRUFDN0I7QUFBQSxJQUNELE9BQU87QUFBQSxNQUNMLGtCQUFrQjtBQUFBLE1BQ2xCLG9CQUFvQjtBQUFBLElBQ3RCO0FBQUEsRUFDRjtBQUFBLEVBQ0EsSUFBSSxXQUFXLE9BQU8sS0FBSyxNQUFNLElBQUk7QUFBQSxFQUNyQyxJQUFJLHVCQUF1QixDQUFDO0FBQUEsRUFDNUIsSUFBSSxxQkFBMEI7QUFBQSxFQUM5QixTQUFTLE9BQU8sVUFBVTtBQUFBLElBQ3hCLElBQUksNkJBQTZCLDBCQUEwQixTQUFTLEdBQUcsR0FBRztBQUFBLE1BQ3hFO0FBQUEsSUFDRjtBQUFBLElBQ0EsSUFBSSxVQUFVLHNCQUFzQjtBQUFBLE1BQ2xDO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBLG9CQUFvQjtBQUFBLElBQ3RCLENBQUM7QUFBQSxJQUNELElBQUksU0FBUztBQUFBLE1BQ1gscUJBQXFCLEtBQUssT0FBTztBQUFBLE1BQ2pDLElBQUksUUFBUSxNQUFNO0FBQUEsUUFDaEIscUJBQXFCO0FBQUEsTUFDdkI7QUFBQSxJQUNGO0FBQUEsRUFDRjtBQUFBLEVBQ0EsSUFBSSxtQkFBbUIscUJBQXFCLFNBQVMsSUFBSSxRQUFRLElBQUksb0JBQW9CLEVBQUUsS0FBSyxNQUFNLEVBQ3JHLElBQVM7QUFBQSxFQUNWLGtCQUFrQixNQUFNLE1BQU0sRUFDN0I7QUFBQSxFQUNELG9CQUFvQixNQUFNLE1BQU0sRUFDL0I7QUFBQSxFQUNELE9BQU87QUFBQSxJQUNMO0FBQUEsSUFDQTtBQUFBLEVBQ0Y7QUFBQTtBQW1CRixlQUFlLG1CQUFtQixDQUFDLE1BQU07QUFBQSxFQUN2QyxJQUFJLGdCQUFnQixLQUFLLFFBQVEsT0FBTyxDQUFDLE1BQU0sRUFBRSxVQUFVO0FBQUEsRUFDM0QsSUFBSSxlQUFlLENBQUM7QUFBQSxFQUNwQixJQUFJLFVBQVUsTUFBTSxRQUFRLElBQUksY0FBYyxJQUFJLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQUEsRUFDckUsUUFBUSxRQUFRLENBQUMsUUFBUSxNQUFNO0FBQUEsSUFDN0IsYUFBYSxjQUFjLEdBQUcsTUFBTSxNQUFNO0FBQUEsR0FDM0M7QUFBQSxFQUNELE9BQU87QUFBQTtBQUVULGVBQWUsaUNBQWlDLENBQUMsTUFBTTtBQUFBLEVBQ3JELElBQUksQ0FBQyxLQUFLLFFBQVEsS0FBSyxDQUFDLE1BQU0sRUFBRSxNQUFNLFVBQVUsR0FBRztBQUFBLElBQ2pELE9BQU8sb0JBQW9CLElBQUk7QUFBQSxFQUNqQztBQUFBLEVBQ0EsT0FBTyw0QkFBNEIsTUFBTSxNQUFNLG9CQUFvQixJQUFJLENBQUM7QUFBQTtBQWMxRSxTQUFTLDJCQUEyQixDQUFDLE1BQU0sU0FBUztBQUFBLEVBQ2xELE9BQU8sc0JBQ0wsTUFDQSxTQUNBLENBQUMsTUFBTSxHQUVQLHVCQUNBLFlBQ0Y7QUFBQSxFQUNBLFNBQVMsWUFBWSxDQUFDLE9BQU8sU0FBUyxZQUFZO0FBQUEsSUFDaEQsSUFBSSxZQUFZO0FBQUEsTUFDZCxPQUFPLFFBQVEsUUFDYixPQUFPLE9BQU8sV0FBVyxPQUFPO0FBQUEsU0FDN0IsVUFBVSxFQUFFLE1BQU0sU0FBUyxRQUFRLE1BQU07QUFBQSxNQUM1QyxDQUFDLENBQ0g7QUFBQSxJQUNGLEVBQU87QUFBQSxNQUNMLE1BQU0sWUFBWTtBQUFBLE1BQ2xCLElBQUksaUJBQWlCLEtBQUssSUFFeEIsS0FBSyxJQUNILFFBQVEsVUFBVSxDQUFDLE1BQU0sRUFBRSxNQUFNLE9BQU8sT0FBTyxHQUMvQyxDQUNGLEdBRUEsS0FBSyxJQUNILFFBQVEsVUFBVSxDQUFDLE1BQU0sRUFBRSwyQkFBMkIsQ0FBQyxHQUN2RCxDQUNGLENBQ0Y7QUFBQSxNQUNBLElBQUksa0JBQWtCLG9CQUNwQixTQUNBLFFBQVEsZ0JBQWdCLE1BQU0sRUFDaEMsRUFBRSxNQUFNO0FBQUEsTUFDUixPQUFPLFFBQVEsUUFBUTtBQUFBLFNBQ3BCLGtCQUFrQixFQUFFLE1BQU0sU0FBUyxRQUFRLE1BQU07QUFBQSxNQUNwRCxDQUFDO0FBQUE7QUFBQTtBQUFBO0FBSVAsZUFBZSxxQkFBcUIsQ0FBQyxNQUFNLFNBQVMsZUFBZSxVQUFVLGNBQWM7QUFBQSxFQUN6RixNQUFNLFNBQVMsU0FBUyxRQUFRLFNBQVMscUJBQXFCO0FBQUEsRUFDOUQsSUFBSSxTQUFTLFFBQVEsUUFDbkIsQ0FBQyxNQUFNLEVBQUUsTUFBTSxhQUFhLEVBQUUsTUFBTSxXQUFXLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxNQUFNLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxDQUNsRjtBQUFBLEVBQ0EsSUFBSSxTQUFTLE1BQU0sb0JBQ2pCO0FBQUEsSUFDRTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLEVBQ0YsR0FDQSxRQUNBLFNBQ0EsZUFDQSxVQUNBLFlBQ0Y7QUFBQSxFQUNBLE9BQU87QUFBQTtBQUVULGVBQWUsbUJBQW1CLENBQUMsTUFBTSxhQUFhLFNBQVMsZUFBZSxVQUFVLGNBQWMsTUFBTSxHQUFHO0FBQUEsRUFDN0csTUFBTSxZQUFZO0FBQUEsRUFDbEIsSUFBSSxRQUFRLE9BQU8sU0FBUztBQUFBLElBQzFCLE1BQU0sUUFBUSxPQUFPLFVBQVUsSUFBSSxNQUFNLG9CQUFvQixRQUFRLFVBQVUsUUFBUSxLQUFLO0FBQUEsRUFDOUY7QUFBQSxFQUNBLElBQUksUUFBUSxZQUFZO0FBQUEsRUFDeEIsSUFBSSxDQUFDLE9BQU87QUFBQSxJQUNWLElBQUksU0FBUyxNQUFNLFFBQVE7QUFBQSxJQUMzQixPQUFPO0FBQUEsRUFDVDtBQUFBLEVBQ0EsS0FBSyxTQUFTLGNBQWM7QUFBQSxFQUM1QixJQUFJO0FBQUEsRUFDSixJQUFJLE9BQU8sWUFBWTtBQUFBLElBQ3JCLElBQUksWUFBWTtBQUFBLE1BQ2QsTUFBTSxJQUFJLE1BQU0sZ0RBQWdEO0FBQUEsSUFDbEU7QUFBQSxJQUNBLElBQUk7QUFBQSxNQUNGLElBQUksU0FBUyxNQUFNLG9CQUNqQixNQUNBLGFBQ0EsU0FDQSxlQUNBLFVBQ0EsY0FDQSxNQUFNLENBQ1I7QUFBQSxNQUNBLGFBQWEsRUFBRSxPQUFPLE9BQU87QUFBQSxNQUM3QixPQUFPLFdBQVc7QUFBQSxNQUNsQixPQUFPLE9BQU87QUFBQSxNQUNkLGFBQWEsRUFBRSxPQUFPLE1BQU0sYUFBYSxPQUFPLFNBQVMsVUFBVSxFQUFFO0FBQUEsTUFDckUsT0FBTyxXQUFXO0FBQUE7QUFBQTtBQUFBLEVBR3RCLElBQUk7QUFBQSxJQUNGLElBQUksUUFBUSxNQUFNLFdBQVcsTUFBTSxJQUFJO0FBQUEsSUFDdkMsSUFBSSxTQUFTLFNBQVMsT0FBTyxjQUFjLEtBQUssSUFBUztBQUFBLElBQ3pELElBQUksU0FBUyxNQUFNLEdBQUc7QUFBQSxNQUNwQixPQUFPO0FBQUEsSUFDVCxFQUFPLFNBQUksWUFBWTtBQUFBLE1BQ3JCLE9BQU8sVUFBVSxXQUFXO0FBQUEsSUFDOUIsRUFBTztBQUFBLE1BQ0wsYUFBYSxFQUFFLE9BQU8sTUFBTSxLQUFLLEVBQUU7QUFBQSxNQUNuQyxPQUFPLFdBQVc7QUFBQTtBQUFBLElBRXBCLE9BQU8sT0FBTztBQUFBLElBQ2QsSUFBSSxXQUFXLE1BQU0sYUFBYSxPQUFPLFNBQVMsVUFBVTtBQUFBLElBQzVELE9BQU87QUFBQTtBQUFBO0FBR1gsU0FBUyxnQ0FBZ0MsQ0FBQyxxQkFBcUIsVUFBVSxTQUFTLE9BQU8sMkJBQTJCO0FBQUEsRUFDbEgsSUFBSSx3QkFBd0Isc0JBQXNCO0FBQUEsSUFDaEQsS0FBSztBQUFBLElBQ0wsT0FBTyxNQUFNO0FBQUEsSUFDYjtBQUFBLElBQ0Esb0JBQW9CO0FBQUEsRUFDdEIsQ0FBQztBQUFBLEVBQ0QsSUFBSSxvQkFBb0IsY0FDdEIsTUFBTSxPQUNOLGlCQUFpQixRQUFRLE1BQU0sSUFBSSxXQUFXLFVBQzlDLFVBQ0EscUJBQ0EseUJBQ0Y7QUFBQSxFQUNBLE9BQU87QUFBQSxJQUNMLFlBQVk7QUFBQSxJQUNaLE9BQU8sa0JBQWtCO0FBQUEsSUFDekIsU0FBUyxrQkFBa0I7QUFBQSxFQUM3QjtBQUFBO0FBRUYsU0FBUyxvQkFBb0IsQ0FBQyxxQkFBcUIsVUFBVSxTQUFTLGtCQUFrQixPQUFPLDJCQUEyQixlQUFlLFlBQVksZ0NBQWdDLE1BQU07QUFBQSxFQUN6TCxJQUFJLGdCQUFnQjtBQUFBLEVBQ3BCLElBQUksZ0JBQWdCLGlDQUNsQixxQkFDQSxVQUNBLFNBQ0EsT0FDQSx5QkFDRjtBQUFBLEVBQ0EsT0FBTztBQUFBLE9BQ0Y7QUFBQSxJQUNIO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBLDBCQUEwQixDQUFDLHlCQUF5QjtBQUFBLE1BQ2xELGdCQUFnQjtBQUFBLE1BQ2hCLElBQUksQ0FBQywrQkFBK0I7QUFBQSxRQUNsQyxPQUFPO0FBQUEsTUFDVDtBQUFBLE1BQ0EsSUFBSSxPQUFPLDRCQUE0QixXQUFXO0FBQUEsUUFDaEQsT0FBTyx1QkFBdUIsT0FBTztBQUFBLGFBQ2hDO0FBQUEsVUFDSDtBQUFBLFFBQ0YsQ0FBQztBQUFBLE1BQ0g7QUFBQSxNQUNBLE9BQU8sdUJBQXVCLE9BQU8sNkJBQTZCO0FBQUE7QUFBQSxJQUVwRSxPQUFPLENBQUMsaUJBQWlCO0FBQUEsTUFDdkIsTUFBTSxNQUFNLFFBQVEsZUFBZSxNQUFNO0FBQUEsTUFDekMsSUFBSSxjQUFjLGlCQUFpQixjQUFjLG1CQUFtQixDQUFDLGlCQUFpQixRQUFRLE1BQU0sTUFBTSxRQUFRO0FBQUEsTUFDbEgsSUFBSSx3QkFBd0IsY0FBYyxXQUFXLFNBQVMsS0FBSyxDQUFDLFVBQVUsQ0FBQztBQUFBLE1BQy9FLElBQUksZ0JBQWdCLGlCQUFpQixRQUFRLE1BQU0sS0FBSyxDQUFDLHdCQUF3QjtBQUFBLFFBQy9FLE9BQU8sbUJBQW1CO0FBQUEsVUFDeEI7QUFBQSxVQUNBO0FBQUEsVUFDQTtBQUFBLFVBQ0Esb0JBQW9CLGVBQWU7QUFBQSxVQUNuQyxrQkFBa0IsZUFBZTtBQUFBLFVBQ2pDO0FBQUEsVUFDQTtBQUFBLFFBQ0YsQ0FBQztBQUFBLE1BQ0g7QUFBQSxNQUNBLE9BQU8sUUFBUSxRQUFRLEVBQUUsTUFBTSxRQUFtQixRQUFhLFVBQUUsQ0FBQztBQUFBO0FBQUEsRUFFdEU7QUFBQTtBQUVGLFNBQVMsOEJBQThCLENBQUMscUJBQXFCLFVBQVUsU0FBUyxTQUFTLGFBQWEsMkJBQTJCLGVBQWUsdUJBQXVCLE1BQU07QUFBQSxFQUMzSyxPQUFPLFFBQVEsSUFBSSxDQUFDLFVBQVU7QUFBQSxJQUM1QixJQUFJLE1BQU0sTUFBTSxPQUFPLFlBQVksTUFBTSxJQUFJO0FBQUEsTUFDM0MsT0FBTztBQUFBLFdBQ0Y7QUFBQSxRQUNILFlBQVk7QUFBQSxRQUNaLCtCQUErQjtBQUFBLFFBQy9CLDRCQUE0QixNQUFNO0FBQUEsUUFDbEMsZUFBZSxpQ0FDYixxQkFDQSxVQUNBLFNBQ0EsT0FDQSx5QkFDRjtBQUFBLFFBQ0EsU0FBUyxNQUFNLFFBQVEsUUFBUSxFQUFFLE1BQU0sUUFBUSxRQUFhLFVBQUUsQ0FBQztBQUFBLE1BQ2pFO0FBQUEsSUFDRjtBQUFBLElBQ0EsT0FBTyxxQkFDTCxxQkFDQSxVQUNBLFNBQ0EsZ0JBQWdCLFFBQVEsSUFBSSxDQUFDLE1BQU0sRUFBRSxNQUFNLElBQUksQ0FBQyxHQUNoRCxPQUNBLDJCQUNBLGVBQ0EsTUFDQSxvQkFDRjtBQUFBLEdBQ0Q7QUFBQTtBQUVILGVBQWUsb0JBQW9CLENBQUMsa0JBQWtCLFNBQVMsU0FBUyxZQUFZLGVBQWUsaUJBQWlCO0FBQUEsRUFDbEgsSUFBSSxRQUFRLEtBQUssQ0FBQyxNQUFNLEVBQUUsZUFBZSxVQUFVLEdBQUc7QUFBQSxJQUNwRCxNQUFNLFFBQVEsSUFBSSxRQUFRLElBQUksQ0FBQyxNQUFNLEVBQUUsZUFBZSxVQUFVLENBQUM7QUFBQSxFQUNuRTtBQUFBLEVBQ0EsSUFBSSxtQkFBbUI7QUFBQSxJQUNyQjtBQUFBLElBQ0Esa0JBQWtCLGdCQUFnQixRQUFRLElBQUksQ0FBQyxNQUFNLEVBQUUsTUFBTSxJQUFJLENBQUM7QUFBQSxJQUNsRSxRQUFRLFFBQVEsR0FBRztBQUFBLElBQ25CLFNBQVM7QUFBQSxJQUNUO0FBQUEsRUFDRjtBQUFBLEVBQ0EsSUFBSSxzQkFBc0Isa0JBQWtCLE1BQU07QUFBQSxJQUNoRCxNQUFNLElBQUksTUFDUixtUEFDRjtBQUFBLE1BQ0UsQ0FBQyxPQUFPO0FBQUEsSUFDVixJQUFJLHdCQUF3QjtBQUFBLElBQzVCLE9BQU8sNEJBQTRCLHVCQUF1QixNQUFNO0FBQUEsTUFDOUQsT0FBTyxHQUFHO0FBQUEsV0FDTDtBQUFBLFFBQ0g7QUFBQSxRQUNBLHFCQUFxQixNQUFNO0FBQUEsVUFDekIsTUFBTSxJQUFJLE1BQ1Isa0ZBQ0Y7QUFBQTtBQUFBLE1BRUosQ0FBQztBQUFBLEtBQ0Y7QUFBQTtBQUFBLEVBRUgsSUFBSSxVQUFVLE1BQU0saUJBQWlCO0FBQUEsT0FDaEM7QUFBQSxJQUNIO0FBQUEsSUFDQTtBQUFBLEVBQ0YsQ0FBQztBQUFBLEVBQ0QsSUFBSTtBQUFBLElBQ0YsTUFBTSxRQUFRLElBQ1osUUFBUSxRQUFRLENBQUMsTUFBTTtBQUFBLE1BQ3JCLEVBQUUsZUFBZTtBQUFBLE1BQ2pCLEVBQUUsZUFBZTtBQUFBLElBQ25CLENBQUMsQ0FDSDtBQUFBLElBQ0EsT0FBTyxHQUFHO0FBQUEsRUFFWixPQUFPO0FBQUE7QUFFVCxlQUFlLGtCQUFrQjtBQUFBLEVBQy9CO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsR0FDQztBQUFBLEVBQ0QsSUFBSTtBQUFBLEVBQ0osSUFBSTtBQUFBLEVBQ0osSUFBSSxXQUFXLGlCQUFpQixRQUFRLE1BQU07QUFBQSxFQUM5QyxJQUFJLE9BQU8sV0FBVyxXQUFXO0FBQUEsRUFDakMsSUFBSSxhQUFhLENBQUMsWUFBWTtBQUFBLElBQzVCLElBQUk7QUFBQSxJQUNKLElBQUksZUFBZSxJQUFJLFFBQVEsQ0FBQyxHQUFHLE1BQU0sU0FBUyxDQUFDO0FBQUEsSUFDbkQsV0FBVyxNQUFNLE9BQU87QUFBQSxJQUN4QixRQUFRLE9BQU8saUJBQWlCLFNBQVMsUUFBUTtBQUFBLElBQ2pELElBQUksZ0JBQWdCLENBQUMsUUFBUTtBQUFBLE1BQzNCLElBQUksT0FBTyxZQUFZLFlBQVk7QUFBQSxRQUNqQyxPQUFPLFFBQVEsT0FDYixJQUFJLE1BQ0Ysb0VBQW9FLG1CQUFtQixNQUFNLE1BQU0sS0FDckcsQ0FDRjtBQUFBLE1BQ0Y7QUFBQSxNQUNBLE9BQU8sUUFDTDtBQUFBLFFBQ0U7QUFBQSxRQUNBO0FBQUEsUUFDQSxRQUFRLE1BQU07QUFBQSxRQUNkLFNBQVM7QUFBQSxNQUNYLEdBQ0EsR0FBRyxRQUFhLFlBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUMvQjtBQUFBO0FBQUEsSUFFRixJQUFJLGtCQUFrQixZQUFZO0FBQUEsTUFDaEMsSUFBSTtBQUFBLFFBQ0YsSUFBSSxNQUFNLE9BQU8sa0JBQWtCLGdCQUFnQixDQUFDLFFBQVEsY0FBYyxHQUFHLENBQUMsSUFBSSxjQUFjO0FBQUEsUUFDaEcsT0FBTyxFQUFFLE1BQU0sUUFBUSxRQUFRLElBQUk7QUFBQSxRQUNuQyxPQUFPLEdBQUc7QUFBQSxRQUNWLE9BQU8sRUFBRSxNQUFNLFNBQVMsUUFBUSxFQUFFO0FBQUE7QUFBQSxPQUVuQztBQUFBLElBQ0gsT0FBTyxRQUFRLEtBQUssQ0FBQyxnQkFBZ0IsWUFBWSxDQUFDO0FBQUE7QUFBQSxFQUVwRCxJQUFJO0FBQUEsSUFDRixJQUFJLFVBQVUsV0FBVyxNQUFNLE1BQU0sU0FBUyxNQUFNLE1BQU07QUFBQSxJQUMxRCxJQUFJLHNCQUFzQixrQkFBa0I7QUFBQSxNQUMxQyxJQUFJLFNBQVM7QUFBQSxRQUNYLElBQUk7QUFBQSxRQUNKLEtBQUssU0FBUyxNQUFNLFFBQVEsSUFBSTtBQUFBLFVBSTlCLFdBQVcsT0FBTyxFQUFFLE1BQU0sQ0FBQyxNQUFNO0FBQUEsWUFDL0IsZUFBZTtBQUFBLFdBQ2hCO0FBQUEsVUFFRDtBQUFBLFVBQ0E7QUFBQSxRQUNGLENBQUM7QUFBQSxRQUNELElBQUksaUJBQXNCLFdBQUc7QUFBQSxVQUMzQixNQUFNO0FBQUEsUUFDUjtBQUFBLFFBQ0EsU0FBUztBQUFBLE1BQ1gsRUFBTztBQUFBLFFBQ0wsTUFBTTtBQUFBLFFBQ04sSUFBSSxXQUFXLFdBQVcsTUFBTSxNQUFNLFNBQVMsTUFBTSxNQUFNO0FBQUEsUUFDM0QsSUFBSSxVQUFVO0FBQUEsVUFDWixDQUFDLE1BQU0sSUFBSSxNQUFNLFFBQVEsSUFBSSxDQUFDLFdBQVcsUUFBUSxHQUFHLGdCQUFnQixDQUFDO0FBQUEsUUFDdkUsRUFBTyxTQUFJLFNBQVMsVUFBVTtBQUFBLFVBQzVCLElBQUksTUFBTSxJQUFJLElBQUksUUFBUSxHQUFHO0FBQUEsVUFDN0IsSUFBSSxXQUFXLElBQUksV0FBVyxJQUFJO0FBQUEsVUFDbEMsTUFBTSx1QkFBdUIsS0FBSztBQUFBLFlBQ2hDLFFBQVEsUUFBUTtBQUFBLFlBQ2hCO0FBQUEsWUFDQSxTQUFTLE1BQU0sTUFBTTtBQUFBLFVBQ3ZCLENBQUM7QUFBQSxRQUNILEVBQU87QUFBQSxVQUNMLE9BQU8sRUFBRSxNQUFNLFFBQW1CLFFBQWEsVUFBRTtBQUFBO0FBQUE7QUFBQSxJQUd2RCxFQUFPLFNBQUksQ0FBQyxTQUFTO0FBQUEsTUFDbkIsSUFBSSxNQUFNLElBQUksSUFBSSxRQUFRLEdBQUc7QUFBQSxNQUM3QixJQUFJLFdBQVcsSUFBSSxXQUFXLElBQUk7QUFBQSxNQUNsQyxNQUFNLHVCQUF1QixLQUFLO0FBQUEsUUFDaEM7QUFBQSxNQUNGLENBQUM7QUFBQSxJQUNILEVBQU87QUFBQSxNQUNMLFNBQVMsTUFBTSxXQUFXLE9BQU87QUFBQTtBQUFBLElBRW5DLE9BQU8sR0FBRztBQUFBLElBQ1YsT0FBTyxFQUFFLE1BQU0sU0FBcUIsUUFBUSxFQUFFO0FBQUEsWUFDOUM7QUFBQSxJQUNBLElBQUksVUFBVTtBQUFBLE1BQ1osUUFBUSxPQUFPLG9CQUFvQixTQUFTLFFBQVE7QUFBQSxJQUN0RDtBQUFBO0FBQUEsRUFFRixPQUFPO0FBQUE7QUFFVCxlQUFlLGlCQUFpQixDQUFDLFVBQVU7QUFBQSxFQUN6QyxJQUFJLGNBQWMsU0FBUyxRQUFRLElBQUksY0FBYztBQUFBLEVBQ3JELElBQUksZUFBZSx3QkFBd0IsS0FBSyxXQUFXLEdBQUc7QUFBQSxJQUM1RCxPQUFPLFNBQVMsUUFBUSxPQUFPLE9BQU8sU0FBUyxLQUFLO0FBQUEsRUFDdEQ7QUFBQSxFQUNBLE9BQU8sU0FBUyxLQUFLO0FBQUE7QUFFdkIsZUFBZSxxQ0FBcUMsQ0FBQyxvQkFBb0I7QUFBQSxFQUN2RSxNQUFNLFFBQVEsU0FBUztBQUFBLEVBQ3ZCLElBQUksV0FBVyxNQUFNLEdBQUc7QUFBQSxJQUN0QixJQUFJO0FBQUEsSUFDSixJQUFJO0FBQUEsTUFDRixRQUFRLE1BQU0sa0JBQWtCLE1BQU07QUFBQSxNQUN0QyxPQUFPLEdBQUc7QUFBQSxNQUNWLE9BQU8sRUFBRSxNQUFNLFNBQXFCLE9BQU8sRUFBRTtBQUFBO0FBQUEsSUFFL0MsSUFBSSxTQUFTLFNBQXFCO0FBQUEsTUFDaEMsT0FBTztBQUFBLFFBQ0wsTUFBTTtBQUFBLFFBQ04sT0FBTyxJQUFJLGtCQUFrQixPQUFPLFFBQVEsT0FBTyxZQUFZLEtBQUs7QUFBQSxRQUNwRSxZQUFZLE9BQU87QUFBQSxRQUNuQixTQUFTLE9BQU87QUFBQSxNQUNsQjtBQUFBLElBQ0Y7QUFBQSxJQUNBLE9BQU87QUFBQSxNQUNMLE1BQU07QUFBQSxNQUNOLE1BQU07QUFBQSxNQUNOLFlBQVksT0FBTztBQUFBLE1BQ25CLFNBQVMsT0FBTztBQUFBLElBQ2xCO0FBQUEsRUFDRjtBQUFBLEVBQ0EsSUFBSSxTQUFTLFNBQXFCO0FBQUEsSUFDaEMsSUFBSSx1QkFBdUIsTUFBTSxHQUFHO0FBQUEsTUFDbEMsSUFBSSxPQUFPLGdCQUFnQixPQUFPO0FBQUEsUUFDaEMsT0FBTztBQUFBLFVBQ0wsTUFBTTtBQUFBLFVBQ04sT0FBTyxPQUFPO0FBQUEsVUFDZCxZQUFZLE9BQU8sTUFBTTtBQUFBLFVBQ3pCLFNBQVMsT0FBTyxNQUFNLFVBQVUsSUFBSSxRQUFRLE9BQU8sS0FBSyxPQUFPLElBQVM7QUFBQSxRQUMxRTtBQUFBLE1BQ0Y7QUFBQSxNQUNBLE9BQU87QUFBQSxRQUNMLE1BQU07QUFBQSxRQUNOLE9BQU8sSUFBSSxrQkFDVCxPQUFPLE1BQU0sVUFBVSxLQUNsQixXQUNMLE9BQU8sSUFDVDtBQUFBLFFBQ0EsWUFBWSxxQkFBcUIsTUFBTSxJQUFJLE9BQU8sU0FBYztBQUFBLFFBQ2hFLFNBQVMsT0FBTyxNQUFNLFVBQVUsSUFBSSxRQUFRLE9BQU8sS0FBSyxPQUFPLElBQVM7QUFBQSxNQUMxRTtBQUFBLElBQ0Y7QUFBQSxJQUNBLE9BQU87QUFBQSxNQUNMLE1BQU07QUFBQSxNQUNOLE9BQU87QUFBQSxNQUNQLFlBQVkscUJBQXFCLE1BQU0sSUFBSSxPQUFPLFNBQWM7QUFBQSxJQUNsRTtBQUFBLEVBQ0Y7QUFBQSxFQUNBLElBQUksdUJBQXVCLE1BQU0sR0FBRztBQUFBLElBQ2xDLE9BQU87QUFBQSxNQUNMLE1BQU07QUFBQSxNQUNOLE1BQU0sT0FBTztBQUFBLE1BQ2IsWUFBWSxPQUFPLE1BQU07QUFBQSxNQUN6QixTQUFTLE9BQU8sTUFBTSxVQUFVLElBQUksUUFBUSxPQUFPLEtBQUssT0FBTyxJQUFTO0FBQUEsSUFDMUU7QUFBQSxFQUNGO0FBQUEsRUFDQSxPQUFPLEVBQUUsTUFBTSxRQUFtQixNQUFNLE9BQU87QUFBQTtBQUVqRCxTQUFTLHdDQUF3QyxDQUFDLFVBQVUsU0FBUyxTQUFTLFNBQVMsVUFBVTtBQUFBLEVBQy9GLElBQUksWUFBVyxTQUFTLFFBQVEsSUFBSSxVQUFVO0FBQUEsRUFDOUMsVUFDRSxXQUNBLDRFQUNGO0FBQUEsRUFDQSxJQUFJLENBQUMsY0FBYyxTQUFRLEdBQUc7QUFBQSxJQUM1QixJQUFJLGlCQUFpQixRQUFRLE1BQzNCLEdBQ0EsUUFBUSxVQUFVLENBQUMsTUFBTSxFQUFFLE1BQU0sT0FBTyxPQUFPLElBQUksQ0FDckQ7QUFBQSxJQUNBLFlBQVcsWUFDVCxJQUFJLElBQUksUUFBUSxHQUFHLEdBQ25CLGdCQUNBLFVBQ0EsU0FDRjtBQUFBLElBQ0EsU0FBUyxRQUFRLElBQUksWUFBWSxTQUFRO0FBQUEsRUFDM0M7QUFBQSxFQUNBLE9BQU87QUFBQTtBQUVULFNBQVMseUJBQXlCLENBQUMsV0FBVSxZQUFZLFVBQVU7QUFBQSxFQUNqRSxJQUFJLGNBQWMsU0FBUSxHQUFHO0FBQUEsSUFDM0IsSUFBSSxxQkFBcUI7QUFBQSxJQUN6QixJQUFJLE1BQU0sbUJBQW1CLFdBQVcsSUFBSSxJQUFJLElBQUksSUFBSSxXQUFXLFdBQVcsa0JBQWtCLElBQUksSUFBSSxJQUFJLGtCQUFrQjtBQUFBLElBQzlILElBQUksaUJBQWlCLGNBQWMsSUFBSSxVQUFVLFFBQVEsS0FBSztBQUFBLElBQzlELElBQUksSUFBSSxXQUFXLFdBQVcsVUFBVSxnQkFBZ0I7QUFBQSxNQUN0RCxPQUFPLElBQUksV0FBVyxJQUFJLFNBQVMsSUFBSTtBQUFBLElBQ3pDO0FBQUEsRUFDRjtBQUFBLEVBQ0EsT0FBTztBQUFBO0FBRVQsU0FBUyx1QkFBdUIsQ0FBQyxTQUFTLFdBQVUsUUFBUSxZQUFZO0FBQUEsRUFDdEUsSUFBSSxNQUFNLFFBQVEsVUFBVSxrQkFBa0IsU0FBUSxDQUFDLEVBQUUsU0FBUztBQUFBLEVBQ2xFLElBQUksT0FBTyxFQUFFLE9BQU87QUFBQSxFQUNwQixJQUFJLGNBQWMsaUJBQWlCLFdBQVcsVUFBVSxHQUFHO0FBQUEsSUFDekQsTUFBTSxZQUFZLGdCQUFnQjtBQUFBLElBQ2xDLEtBQUssU0FBUyxXQUFXLFlBQVk7QUFBQSxJQUNyQyxJQUFJLGdCQUFnQixvQkFBb0I7QUFBQSxNQUN0QyxLQUFLLFVBQVUsSUFBSSxRQUFRLEVBQUUsZ0JBQWdCLFlBQVksQ0FBQztBQUFBLE1BQzFELEtBQUssT0FBTyxLQUFLLFVBQVUsV0FBVyxJQUFJO0FBQUEsSUFDNUMsRUFBTyxTQUFJLGdCQUFnQixjQUFjO0FBQUEsTUFDdkMsS0FBSyxPQUFPLFdBQVc7QUFBQSxJQUN6QixFQUFPLFNBQUksZ0JBQWdCLHVDQUF1QyxXQUFXLFVBQVU7QUFBQSxNQUNyRixLQUFLLE9BQU8sOEJBQThCLFdBQVcsUUFBUTtBQUFBLElBQy9ELEVBQU87QUFBQSxNQUNMLEtBQUssT0FBTyxXQUFXO0FBQUE7QUFBQSxFQUUzQjtBQUFBLEVBQ0EsT0FBTyxJQUFJLFFBQVEsS0FBSyxJQUFJO0FBQUE7QUFFOUIsU0FBUyw2QkFBNkIsQ0FBQyxVQUFVO0FBQUEsRUFDL0MsSUFBSSxlQUFlLElBQUk7QUFBQSxFQUN2QixVQUFVLEtBQUssVUFBVSxTQUFTLFFBQVEsR0FBRztBQUFBLElBQzNDLGFBQWEsT0FBTyxLQUFLLE9BQU8sVUFBVSxXQUFXLFFBQVEsTUFBTSxJQUFJO0FBQUEsRUFDekU7QUFBQSxFQUNBLE9BQU87QUFBQTtBQUVULFNBQVMsNkJBQTZCLENBQUMsY0FBYztBQUFBLEVBQ25ELElBQUksV0FBVyxJQUFJO0FBQUEsRUFDbkIsVUFBVSxLQUFLLFVBQVUsYUFBYSxRQUFRLEdBQUc7QUFBQSxJQUMvQyxTQUFTLE9BQU8sS0FBSyxLQUFLO0FBQUEsRUFDNUI7QUFBQSxFQUNBLE9BQU87QUFBQTtBQUVULFNBQVMsc0JBQXNCLENBQUMsU0FBUyxTQUFTLHFCQUFxQixrQkFBa0IsT0FBTywwQkFBMEIsT0FBTztBQUFBLEVBQy9ILElBQUksYUFBYSxDQUFDO0FBQUEsRUFDbEIsSUFBSSxTQUFTO0FBQUEsRUFDYixJQUFJO0FBQUEsRUFDSixJQUFJLGFBQWE7QUFBQSxFQUNqQixJQUFJLGdCQUFnQixDQUFDO0FBQUEsRUFDckIsSUFBSSxlQUFlLHVCQUF1QixjQUFjLG9CQUFvQixFQUFFLElBQUksb0JBQW9CLEdBQUcsUUFBYTtBQUFBLEVBQ3RILFFBQVEsUUFBUSxDQUFDLFVBQVU7QUFBQSxJQUN6QixJQUFJLEVBQUUsTUFBTSxNQUFNLE1BQU0sVUFBVTtBQUFBLE1BQ2hDO0FBQUEsSUFDRjtBQUFBLElBQ0EsSUFBSSxLQUFLLE1BQU0sTUFBTTtBQUFBLElBQ3JCLElBQUksU0FBUyxRQUFRO0FBQUEsSUFDckIsVUFDRSxDQUFDLGlCQUFpQixNQUFNLEdBQ3hCLHFEQUNGO0FBQUEsSUFDQSxJQUFJLGNBQWMsTUFBTSxHQUFHO0FBQUEsTUFDekIsSUFBSSxRQUFRLE9BQU87QUFBQSxNQUNuQixJQUFJLGlCQUFzQixXQUFHO0FBQUEsUUFDM0IsUUFBUTtBQUFBLFFBQ1IsZUFBb0I7QUFBQSxNQUN0QjtBQUFBLE1BQ0EsU0FBUyxVQUFVLENBQUM7QUFBQSxNQUNwQixJQUFJLHlCQUF5QjtBQUFBLFFBQzNCLE9BQU8sTUFBTTtBQUFBLE1BQ2YsRUFBTztBQUFBLFFBQ0wsSUFBSSxnQkFBZ0Isb0JBQW9CLFNBQVMsRUFBRTtBQUFBLFFBQ25ELElBQUksT0FBTyxjQUFjLE1BQU0sT0FBTyxNQUFNO0FBQUEsVUFDMUMsT0FBTyxjQUFjLE1BQU0sTUFBTTtBQUFBLFFBQ25DO0FBQUE7QUFBQSxNQUVGLElBQUksQ0FBQyxpQkFBaUI7QUFBQSxRQUNwQixXQUFXLE1BQU07QUFBQSxNQUNuQjtBQUFBLE1BQ0EsSUFBSSxDQUFDLFlBQVk7QUFBQSxRQUNmLGFBQWE7QUFBQSxRQUNiLGFBQWEscUJBQXFCLE9BQU8sS0FBSyxJQUFJLE9BQU8sTUFBTSxTQUFTO0FBQUEsTUFDMUU7QUFBQSxNQUNBLElBQUksT0FBTyxTQUFTO0FBQUEsUUFDbEIsY0FBYyxNQUFNLE9BQU87QUFBQSxNQUM3QjtBQUFBLElBQ0YsRUFBTztBQUFBLE1BQ0wsV0FBVyxNQUFNLE9BQU87QUFBQSxNQUN4QixJQUFJLE9BQU8sY0FBYyxPQUFPLGVBQWUsT0FBTyxDQUFDLFlBQVk7QUFBQSxRQUNqRSxhQUFhLE9BQU87QUFBQSxNQUN0QjtBQUFBLE1BQ0EsSUFBSSxPQUFPLFNBQVM7QUFBQSxRQUNsQixjQUFjLE1BQU0sT0FBTztBQUFBLE1BQzdCO0FBQUE7QUFBQSxHQUVIO0FBQUEsRUFDRCxJQUFJLGlCQUFzQixhQUFLLHFCQUFxQjtBQUFBLElBQ2xELFNBQVMsR0FBRyxvQkFBb0IsS0FBSyxhQUFhO0FBQUEsSUFDbEQsSUFBSSxvQkFBb0IsSUFBSTtBQUFBLE1BQzFCLFdBQVcsb0JBQW9CLE1BQVc7QUFBQSxJQUM1QztBQUFBLEVBQ0Y7QUFBQSxFQUNBLE9BQU87QUFBQSxJQUNMO0FBQUEsSUFDQTtBQUFBLElBQ0EsWUFBWSxjQUFjO0FBQUEsSUFDMUI7QUFBQSxFQUNGO0FBQUE7QUFFRixTQUFTLGlCQUFpQixDQUFDLE9BQU8sU0FBUyxTQUFTLHFCQUFxQixzQkFBc0IsZ0JBQWdCO0FBQUEsRUFDN0csTUFBTSxZQUFZLFdBQVcsdUJBQzNCLFNBQ0EsU0FDQSxtQkFDRjtBQUFBLEVBQ0EscUJBQXFCLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRSxXQUFXLEVBQUUsUUFBUSxLQUFLLENBQUMsTUFBTSxFQUFFLFVBQVUsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxPQUFPO0FBQUEsSUFDcEcsTUFBTSxLQUFLLE9BQU8sZUFBZTtBQUFBLElBQ2pDLElBQUksY0FBYyxXQUFXLE9BQU8sU0FBUztBQUFBLE1BQzNDO0FBQUEsSUFDRjtBQUFBLElBQ0EsSUFBSSxTQUFTLGVBQWU7QUFBQSxJQUM1QixVQUFVLFFBQVEsMkNBQTJDO0FBQUEsSUFDN0QsSUFBSSxjQUFjLE1BQU0sR0FBRztBQUFBLE1BQ3pCLElBQUksZ0JBQWdCLG9CQUFvQixNQUFNLFNBQVMsT0FBTyxNQUFNLEVBQUU7QUFBQSxNQUN0RSxJQUFJLEVBQUUsVUFBVSxPQUFPLGNBQWMsTUFBTSxNQUFNO0FBQUEsUUFDL0MsU0FBUztBQUFBLGFBQ0o7QUFBQSxXQUNGLGNBQWMsTUFBTSxLQUFLLE9BQU87QUFBQSxRQUNuQztBQUFBLE1BQ0Y7QUFBQSxNQUNBLE1BQU0sU0FBUyxPQUFPLEdBQUc7QUFBQSxJQUMzQixFQUFPLFNBQUksaUJBQWlCLE1BQU0sR0FBRztBQUFBLE1BQ25DLFVBQVUsT0FBTyx5Q0FBeUM7QUFBQSxJQUM1RCxFQUFPO0FBQUEsTUFDTCxJQUFJLGNBQWMsZUFBZSxPQUFPLElBQUk7QUFBQSxNQUM1QyxNQUFNLFNBQVMsSUFBSSxLQUFLLFdBQVc7QUFBQTtBQUFBLEdBRXRDO0FBQUEsRUFDRCxPQUFPLEVBQUUsWUFBWSxPQUFPO0FBQUE7QUFFOUIsU0FBUyxlQUFlLENBQUMsWUFBWSxlQUFlLFNBQVMsUUFBUTtBQUFBLEVBQ25FLElBQUksbUJBQW1CLE9BQU8sUUFBUSxhQUFhLEVBQUUsT0FBTyxJQUFJLE9BQU8sTUFBTSxxQkFBcUIsRUFBRSxPQUFPLENBQUMsU0FBUyxHQUFHLE9BQU87QUFBQSxJQUM3SCxPQUFPLEtBQUs7QUFBQSxJQUNaLE9BQU87QUFBQSxLQUNOLENBQUMsQ0FBQztBQUFBLEVBQ0wsU0FBUyxTQUFTLFNBQVM7QUFBQSxJQUN6QixJQUFJLEtBQUssTUFBTSxNQUFNO0FBQUEsSUFDckIsSUFBSSxDQUFDLGNBQWMsZUFBZSxFQUFFLEtBQUssV0FBVyxlQUFlLEVBQUUsS0FBSyxNQUFNLE1BQU0sUUFBUTtBQUFBLE1BQzVGLGlCQUFpQixNQUFNLFdBQVc7QUFBQSxJQUNwQztBQUFBLElBQ0EsSUFBSSxVQUFVLE9BQU8sZUFBZSxFQUFFLEdBQUc7QUFBQSxNQUN2QztBQUFBLElBQ0Y7QUFBQSxFQUNGO0FBQUEsRUFDQSxPQUFPO0FBQUE7QUFFVCxTQUFTLHNCQUFzQixDQUFDLHFCQUFxQjtBQUFBLEVBQ25ELElBQUksQ0FBQyxxQkFBcUI7QUFBQSxJQUN4QixPQUFPLENBQUM7QUFBQSxFQUNWO0FBQUEsRUFDQSxPQUFPLGNBQWMsb0JBQW9CLEVBQUUsSUFBSTtBQUFBLElBRTdDLFlBQVksQ0FBQztBQUFBLEVBQ2YsSUFBSTtBQUFBLElBQ0YsWUFBWTtBQUFBLE9BQ1Qsb0JBQW9CLEtBQUssb0JBQW9CLEdBQUc7QUFBQSxJQUNuRDtBQUFBLEVBQ0Y7QUFBQTtBQUVGLFNBQVMsbUJBQW1CLENBQUMsU0FBUyxTQUFTO0FBQUEsRUFDN0MsSUFBSSxrQkFBa0IsVUFBVSxRQUFRLE1BQU0sR0FBRyxRQUFRLFVBQVUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxPQUFPLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLE9BQU87QUFBQSxFQUNwSCxPQUFPLGdCQUFnQixRQUFRLEVBQUUsS0FBSyxDQUFDLE1BQU0sRUFBRSxNQUFNLHFCQUFxQixJQUFJLEtBQUssUUFBUTtBQUFBO0FBRTdGLFNBQVMsc0JBQXNCLENBQUMsUUFBUTtBQUFBLEVBQ3RDLElBQUksUUFBUSxPQUFPLFdBQVcsSUFBSSxPQUFPLEtBQUssT0FBTyxLQUFLLENBQUMsTUFBTSxFQUFFLFNBQVMsQ0FBQyxFQUFFLFFBQVEsRUFBRSxTQUFTLEdBQUcsS0FBSztBQUFBLElBQ3hHLElBQUk7QUFBQSxFQUNOO0FBQUEsRUFDQSxPQUFPO0FBQUEsSUFDTCxTQUFTO0FBQUEsTUFDUDtBQUFBLFFBQ0UsUUFBUSxDQUFDO0FBQUEsUUFDVCxVQUFVO0FBQUEsUUFDVixjQUFjO0FBQUEsUUFDZDtBQUFBLE1BQ0Y7QUFBQSxJQUNGO0FBQUEsSUFDQTtBQUFBLEVBQ0Y7QUFBQTtBQUVGLFNBQVMsc0JBQXNCLENBQUM7QUFBQSxFQUM5QjtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxJQUNFLENBQUMsR0FBRztBQUFBLEVBQ04sSUFBSSxhQUFhO0FBQUEsRUFDakIsSUFBSSxlQUFlO0FBQUEsRUFDbkIsSUFBSSxXQUFXLEtBQUs7QUFBQSxJQUNsQixhQUFhO0FBQUEsSUFDYixJQUFJLFVBQVUsWUFBWSxTQUFTO0FBQUEsTUFDakMsZUFBZSxjQUFjLHNCQUFzQix5REFBeUQ7QUFBQSxJQUM5RyxFQUFPLFNBQUksU0FBUyxnQkFBZ0I7QUFBQSxNQUNsQyxlQUFlO0FBQUEsSUFDakI7QUFBQSxFQUNGLEVBQU8sU0FBSSxXQUFXLEtBQUs7QUFBQSxJQUN6QixhQUFhO0FBQUEsSUFDYixlQUFlLFVBQVUsZ0NBQWdDO0FBQUEsRUFDM0QsRUFBTyxTQUFJLFdBQVcsS0FBSztBQUFBLElBQ3pCLGFBQWE7QUFBQSxJQUNiLGVBQWUseUJBQXlCO0FBQUEsRUFDMUMsRUFBTyxTQUFJLFdBQVcsS0FBSztBQUFBLElBQ3pCLGFBQWE7QUFBQSxJQUNiLElBQUksVUFBVSxZQUFZLFNBQVM7QUFBQSxNQUNqQyxlQUFlLGNBQWMsT0FBTyxZQUFZLGlCQUFpQiwwREFBMEQ7QUFBQSxJQUM3SCxFQUFPLFNBQUksUUFBUTtBQUFBLE1BQ2pCLGVBQWUsMkJBQTJCLE9BQU8sWUFBWTtBQUFBLElBQy9EO0FBQUEsRUFDRjtBQUFBLEVBQ0EsT0FBTyxJQUFJLGtCQUNULFVBQVUsS0FDVixZQUNBLElBQUksTUFBTSxZQUFZLEdBQ3RCLElBQ0Y7QUFBQTtBQUVGLFNBQVMsWUFBWSxDQUFDLFNBQVM7QUFBQSxFQUM3QixJQUFJLFVBQVUsT0FBTyxRQUFRLE9BQU87QUFBQSxFQUNwQyxTQUFTLElBQUksUUFBUSxTQUFTLEVBQUcsS0FBSyxHQUFHLEtBQUs7QUFBQSxJQUM1QyxLQUFLLEtBQUssVUFBVSxRQUFRO0FBQUEsSUFDNUIsSUFBSSxpQkFBaUIsTUFBTSxHQUFHO0FBQUEsTUFDNUIsT0FBTyxFQUFFLEtBQUssT0FBTztBQUFBLElBQ3ZCO0FBQUEsRUFDRjtBQUFBO0FBRUYsU0FBUyxpQkFBaUIsQ0FBQyxNQUFNO0FBQUEsRUFDL0IsSUFBSSxhQUFhLE9BQU8sU0FBUyxXQUFXLFVBQVUsSUFBSSxJQUFJO0FBQUEsRUFDOUQsT0FBTyxXQUFXLEtBQUssWUFBWSxNQUFNLEdBQUcsQ0FBQztBQUFBO0FBRS9DLFNBQVMsZ0JBQWdCLENBQUMsR0FBRyxHQUFHO0FBQUEsRUFDOUIsSUFBSSxFQUFFLGFBQWEsRUFBRSxZQUFZLEVBQUUsV0FBVyxFQUFFLFFBQVE7QUFBQSxJQUN0RCxPQUFPO0FBQUEsRUFDVDtBQUFBLEVBQ0EsSUFBSSxFQUFFLFNBQVMsSUFBSTtBQUFBLElBQ2pCLE9BQU8sRUFBRSxTQUFTO0FBQUEsRUFDcEIsRUFBTyxTQUFJLEVBQUUsU0FBUyxFQUFFLE1BQU07QUFBQSxJQUM1QixPQUFPO0FBQUEsRUFDVCxFQUFPLFNBQUksRUFBRSxTQUFTLElBQUk7QUFBQSxJQUN4QixPQUFPO0FBQUEsRUFDVDtBQUFBLEVBQ0EsT0FBTztBQUFBO0FBWVQsU0FBUyxxQkFBcUIsQ0FBQyxRQUFRO0FBQUEsRUFDckMsT0FBTyxVQUFVLFFBQVEsT0FBTyxXQUFXLFlBQVksT0FBTyxRQUFRLE1BQU0sRUFBRSxNQUM1RSxFQUFFLEtBQUssV0FBVyxPQUFPLFFBQVEsWUFBWSxxQkFBcUIsS0FBSyxDQUN6RTtBQUFBO0FBRUYsU0FBUyxvQkFBb0IsQ0FBQyxRQUFRO0FBQUEsRUFDcEMsT0FBTyxVQUFVLFFBQVEsT0FBTyxXQUFXLFlBQVksVUFBVSxVQUFVLFlBQVksV0FBVyxPQUFPLFNBQVMsVUFBcUIsT0FBTyxTQUFTO0FBQUE7QUFFekosU0FBUyw0QkFBNEIsQ0FBQyxRQUFRO0FBQUEsRUFDNUMsT0FBTyxXQUFXLE9BQU8sTUFBTSxLQUFLLG9CQUFvQixJQUFJLE9BQU8sT0FBTyxNQUFNO0FBQUE7QUFFbEYsU0FBUyxhQUFhLENBQUMsUUFBUTtBQUFBLEVBQzdCLE9BQU8sT0FBTyxTQUFTO0FBQUE7QUFFekIsU0FBUyxnQkFBZ0IsQ0FBQyxRQUFRO0FBQUEsRUFDaEMsUUFBUSxVQUFVLE9BQU8sVUFBVTtBQUFBO0FBRXJDLFNBQVMsc0JBQXNCLENBQUMsT0FBTztBQUFBLEVBQ3JDLE9BQU8sT0FBTyxVQUFVLFlBQVksU0FBUyxRQUFRLFVBQVUsU0FBUyxVQUFVLFNBQVMsVUFBVSxTQUFTLE1BQU0sU0FBUztBQUFBO0FBRS9ILFNBQVMsVUFBVSxDQUFDLE9BQU87QUFBQSxFQUN6QixPQUFPLFNBQVMsUUFBUSxPQUFPLE1BQU0sV0FBVyxZQUFZLE9BQU8sTUFBTSxlQUFlLFlBQVksT0FBTyxNQUFNLFlBQVksWUFBWSxPQUFPLE1BQU0sU0FBUztBQUFBO0FBUWpLLFNBQVMsYUFBYSxDQUFDLFFBQVE7QUFBQSxFQUM3QixPQUFPLG9CQUFvQixJQUFJLE9BQU8sWUFBWSxDQUFDO0FBQUE7QUFFckQsU0FBUyxnQkFBZ0IsQ0FBQyxRQUFRO0FBQUEsRUFDaEMsT0FBTyxxQkFBcUIsSUFBSSxPQUFPLFlBQVksQ0FBQztBQUFBO0FBRXRELFNBQVMsa0JBQWtCLENBQUMsUUFBUTtBQUFBLEVBQ2xDLE9BQU8sSUFBSSxnQkFBZ0IsTUFBTSxFQUFFLE9BQU8sT0FBTyxFQUFFLEtBQUssQ0FBQyxNQUFNLE1BQU0sRUFBRTtBQUFBO0FBRXpFLFNBQVMsY0FBYyxDQUFDLFNBQVMsV0FBVTtBQUFBLEVBQ3pDLElBQUksU0FBUyxPQUFPLGNBQWEsV0FBVyxVQUFVLFNBQVEsRUFBRSxTQUFTLFVBQVM7QUFBQSxFQUNsRixJQUFJLFFBQVEsUUFBUSxTQUFTLEdBQUcsTUFBTSxTQUFTLG1CQUFtQixVQUFVLEVBQUUsR0FBRztBQUFBLElBQy9FLE9BQU8sUUFBUSxRQUFRLFNBQVM7QUFBQSxFQUNsQztBQUFBLEVBQ0EsSUFBSSxjQUFjLDJCQUEyQixPQUFPO0FBQUEsRUFDcEQsT0FBTyxZQUFZLFlBQVksU0FBUztBQUFBO0FBRTFDLFNBQVMsMkJBQTJCLENBQUMsWUFBWTtBQUFBLEVBQy9DLE1BQU0sWUFBWSxZQUFZLGFBQWEsTUFBTSxVQUFVLFNBQVM7QUFBQSxFQUNwRSxJQUFJLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBQyxhQUFhO0FBQUEsSUFDOUM7QUFBQSxFQUNGO0FBQUEsRUFDQSxJQUFJLFFBQVEsTUFBTTtBQUFBLElBQ2hCLE9BQU87QUFBQSxNQUNMO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBLFVBQWU7QUFBQSxNQUNmLE1BQVc7QUFBQSxNQUNYO0FBQUEsSUFDRjtBQUFBLEVBQ0YsRUFBTyxTQUFJLFlBQVksTUFBTTtBQUFBLElBQzNCLE9BQU87QUFBQSxNQUNMO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQSxNQUFXO0FBQUEsTUFDWCxNQUFXO0FBQUEsSUFDYjtBQUFBLEVBQ0YsRUFBTyxTQUFJLFNBQWMsV0FBRztBQUFBLElBQzFCLE9BQU87QUFBQSxNQUNMO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBLFVBQWU7QUFBQSxNQUNmO0FBQUEsTUFDQSxNQUFXO0FBQUEsSUFDYjtBQUFBLEVBQ0Y7QUFBQTtBQUVGLFNBQVMsb0JBQW9CLENBQUMsV0FBVSxZQUFZO0FBQUEsRUFDbEQsSUFBSSxZQUFZO0FBQUEsSUFDZCxJQUFJLGFBQWE7QUFBQSxNQUNmLE9BQU87QUFBQSxNQUNQO0FBQUEsTUFDQSxZQUFZLFdBQVc7QUFBQSxNQUN2QixZQUFZLFdBQVc7QUFBQSxNQUN2QixhQUFhLFdBQVc7QUFBQSxNQUN4QixVQUFVLFdBQVc7QUFBQSxNQUNyQixNQUFNLFdBQVc7QUFBQSxNQUNqQixNQUFNLFdBQVc7QUFBQSxJQUNuQjtBQUFBLElBQ0EsT0FBTztBQUFBLEVBQ1QsRUFBTztBQUFBLElBQ0wsSUFBSSxhQUFhO0FBQUEsTUFDZixPQUFPO0FBQUEsTUFDUDtBQUFBLE1BQ0EsWUFBaUI7QUFBQSxNQUNqQixZQUFpQjtBQUFBLE1BQ2pCLGFBQWtCO0FBQUEsTUFDbEIsVUFBZTtBQUFBLE1BQ2YsTUFBVztBQUFBLE1BQ1gsTUFBVztBQUFBLElBQ2I7QUFBQSxJQUNBLE9BQU87QUFBQTtBQUFBO0FBR1gsU0FBUyx1QkFBdUIsQ0FBQyxXQUFVLFlBQVk7QUFBQSxFQUNyRCxJQUFJLGFBQWE7QUFBQSxJQUNmLE9BQU87QUFBQSxJQUNQO0FBQUEsSUFDQSxZQUFZLFdBQVc7QUFBQSxJQUN2QixZQUFZLFdBQVc7QUFBQSxJQUN2QixhQUFhLFdBQVc7QUFBQSxJQUN4QixVQUFVLFdBQVc7QUFBQSxJQUNyQixNQUFNLFdBQVc7QUFBQSxJQUNqQixNQUFNLFdBQVc7QUFBQSxFQUNuQjtBQUFBLEVBQ0EsT0FBTztBQUFBO0FBRVQsU0FBUyxpQkFBaUIsQ0FBQyxZQUFZLE9BQU87QUFBQSxFQUM1QyxJQUFJLFlBQVk7QUFBQSxJQUNkLElBQUksVUFBVTtBQUFBLE1BQ1osT0FBTztBQUFBLE1BQ1AsWUFBWSxXQUFXO0FBQUEsTUFDdkIsWUFBWSxXQUFXO0FBQUEsTUFDdkIsYUFBYSxXQUFXO0FBQUEsTUFDeEIsVUFBVSxXQUFXO0FBQUEsTUFDckIsTUFBTSxXQUFXO0FBQUEsTUFDakIsTUFBTSxXQUFXO0FBQUEsTUFDakIsTUFBTTtBQUFBLElBQ1I7QUFBQSxJQUNBLE9BQU87QUFBQSxFQUNULEVBQU87QUFBQSxJQUNMLElBQUksVUFBVTtBQUFBLE1BQ1osT0FBTztBQUFBLE1BQ1AsWUFBaUI7QUFBQSxNQUNqQixZQUFpQjtBQUFBLE1BQ2pCLGFBQWtCO0FBQUEsTUFDbEIsVUFBZTtBQUFBLE1BQ2YsTUFBVztBQUFBLE1BQ1gsTUFBVztBQUFBLE1BQ1gsTUFBTTtBQUFBLElBQ1I7QUFBQSxJQUNBLE9BQU87QUFBQTtBQUFBO0FBR1gsU0FBUyxvQkFBb0IsQ0FBQyxZQUFZLGlCQUFpQjtBQUFBLEVBQ3pELElBQUksVUFBVTtBQUFBLElBQ1osT0FBTztBQUFBLElBQ1AsWUFBWSxXQUFXO0FBQUEsSUFDdkIsWUFBWSxXQUFXO0FBQUEsSUFDdkIsYUFBYSxXQUFXO0FBQUEsSUFDeEIsVUFBVSxXQUFXO0FBQUEsSUFDckIsTUFBTSxXQUFXO0FBQUEsSUFDakIsTUFBTSxXQUFXO0FBQUEsSUFDakIsTUFBTSxrQkFBa0IsZ0JBQWdCLE9BQVk7QUFBQSxFQUN0RDtBQUFBLEVBQ0EsT0FBTztBQUFBO0FBRVQsU0FBUyxjQUFjLENBQUMsT0FBTztBQUFBLEVBQzdCLElBQUksVUFBVTtBQUFBLElBQ1osT0FBTztBQUFBLElBQ1AsWUFBaUI7QUFBQSxJQUNqQixZQUFpQjtBQUFBLElBQ2pCLGFBQWtCO0FBQUEsSUFDbEIsVUFBZTtBQUFBLElBQ2YsTUFBVztBQUFBLElBQ1gsTUFBVztBQUFBLElBQ1gsTUFBTTtBQUFBLEVBQ1I7QUFBQSxFQUNBLE9BQU87QUFBQTtBQUVULFNBQVMseUJBQXlCLENBQUMsU0FBUyxhQUFhO0FBQUEsRUFDdkQsSUFBSTtBQUFBLElBQ0YsSUFBSSxtQkFBbUIsUUFBUSxlQUFlLFFBQzVDLHVCQUNGO0FBQUEsSUFDQSxJQUFJLGtCQUFrQjtBQUFBLE1BQ3BCLElBQUksT0FBTyxLQUFLLE1BQU0sZ0JBQWdCO0FBQUEsTUFDdEMsVUFBVSxHQUFHLE1BQU0sT0FBTyxRQUFRLFFBQVEsQ0FBQyxDQUFDLEdBQUc7QUFBQSxRQUM3QyxJQUFJLEtBQUssTUFBTSxRQUFRLENBQUMsR0FBRztBQUFBLFVBQ3pCLFlBQVksSUFBSSxHQUFHLElBQUksSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDO0FBQUEsUUFDckM7QUFBQSxNQUNGO0FBQUEsSUFDRjtBQUFBLElBQ0EsT0FBTyxHQUFHO0FBQUE7QUFHZCxTQUFTLHlCQUF5QixDQUFDLFNBQVMsYUFBYTtBQUFBLEVBQ3ZELElBQUksWUFBWSxPQUFPLEdBQUc7QUFBQSxJQUN4QixJQUFJLE9BQU8sQ0FBQztBQUFBLElBQ1osVUFBVSxHQUFHLE1BQU0sYUFBYTtBQUFBLE1BQzlCLEtBQUssS0FBSyxDQUFDLEdBQUcsQ0FBQztBQUFBLElBQ2pCO0FBQUEsSUFDQSxJQUFJO0FBQUEsTUFDRixRQUFRLGVBQWUsUUFDckIseUJBQ0EsS0FBSyxVQUFVLElBQUksQ0FDckI7QUFBQSxNQUNBLE9BQU8sT0FBTztBQUFBLE1BQ2QsUUFDRSxPQUNBLDhEQUE4RCxTQUNoRTtBQUFBO0FBQUEsRUFFSjtBQUFBO0FBRUYsU0FBUyxjQUFjLEdBQUc7QUFBQSxFQUN4QixJQUFJO0FBQUEsRUFDSixJQUFJO0FBQUEsRUFDSixJQUFJLFVBQVUsSUFBSSxRQUFRLENBQUMsS0FBSyxRQUFRO0FBQUEsSUFDdEMsVUFBVSxPQUFPLFFBQVE7QUFBQSxNQUN2QixJQUFJLEdBQUc7QUFBQSxNQUNQLElBQUk7QUFBQSxRQUNGLE1BQU07QUFBQSxRQUNOLE9BQU8sR0FBRztBQUFBO0FBQUEsSUFHZCxTQUFTLE9BQU8sVUFBVTtBQUFBLE1BQ3hCLElBQUksS0FBSztBQUFBLE1BQ1QsSUFBSTtBQUFBLFFBQ0YsTUFBTTtBQUFBLFFBQ04sT0FBTyxHQUFHO0FBQUE7QUFBQSxHQUdmO0FBQUEsRUFDRCxPQUFPO0FBQUEsSUFDTDtBQUFBLElBRUE7QUFBQSxJQUVBO0FBQUEsRUFDRjtBQUFBO0FBS0YsSUFBSSxvQkFBMEIsb0JBQWMsSUFBSTtBQUNoRCxrQkFBa0IsY0FBYztBQUNoQyxJQUFJLHlCQUErQixvQkFBYyxJQUFJO0FBQ3JELHVCQUF1QixjQUFjO0FBQ3JDLElBQUksbUJBQXlCLG9CQUFjLEtBQUs7QUFJaEQsSUFBSSx3QkFBOEIsb0JBQWM7QUFBQSxFQUM5QyxpQkFBaUI7QUFDbkIsQ0FBQztBQUNELHNCQUFzQixjQUFjO0FBQ3BDLElBQUksa0JBQXdCLG9DQUNWLElBQUksR0FDdEI7QUFDQSxnQkFBZ0IsY0FBYztBQUM5QixJQUFJLGVBQXFCLG9CQUFjLElBQUk7QUFDM0MsYUFBYSxjQUFjO0FBRTNCLElBQUksb0JBQTBCLG9CQUM1QixJQUNGO0FBQ0Esa0JBQWtCLGNBQWM7QUFDaEMsSUFBSSxrQkFBd0Isb0JBQzFCLElBQ0Y7QUFDQSxnQkFBZ0IsY0FBYztBQUM5QixJQUFJLGVBQXFCLG9CQUFjO0FBQUEsRUFDckMsUUFBUTtBQUFBLEVBQ1IsU0FBUyxDQUFDO0FBQUEsRUFDVixhQUFhO0FBQ2YsQ0FBQztBQUNELGFBQWEsY0FBYztBQUMzQixJQUFJLG9CQUEwQixvQkFBYyxJQUFJO0FBQ2hELGtCQUFrQixjQUFjO0FBQ2hDLElBQUksc0JBQXNCO0FBSTFCLFNBQVMsT0FBTyxDQUFDLE1BQU0sYUFBYSxDQUFDLEdBQUc7QUFBQSxFQUN0QyxVQUNFLG1CQUFtQixHQUduQixvRUFDRjtBQUFBLEVBQ0EsTUFBTSxVQUFVLDBCQUFxQixrQkFBVyxpQkFBaUI7QUFBQSxFQUNqRSxNQUFNLE1BQU0sVUFBVSxXQUFXLGdCQUFnQixJQUFJLEVBQUUsU0FBUyxDQUFDO0FBQUEsRUFDakUsSUFBSSxpQkFBaUI7QUFBQSxFQUNyQixJQUFJLGFBQWEsS0FBSztBQUFBLElBQ3BCLGlCQUFpQixhQUFhLE1BQU0sV0FBVyxVQUFVLENBQUMsVUFBVSxRQUFRLENBQUM7QUFBQSxFQUMvRTtBQUFBLEVBQ0EsT0FBTyxXQUFVLFdBQVcsRUFBRSxVQUFVLGdCQUFnQixRQUFRLEtBQUssQ0FBQztBQUFBO0FBRXhFLFNBQVMsa0JBQWtCLEdBQUc7QUFBQSxFQUM1QixPQUFjLGtCQUFXLGVBQWUsS0FBSztBQUFBO0FBRS9DLFNBQVMsV0FBVyxHQUFHO0FBQUEsRUFDckIsVUFDRSxtQkFBbUIsR0FHbkIsd0VBQ0Y7QUFBQSxFQUNBLE9BQWMsa0JBQVcsZUFBZSxFQUFFO0FBQUE7QUFrQjVDLElBQUksd0JBQXdCO0FBQzVCLFNBQVMseUJBQXlCLENBQUMsSUFBSTtBQUFBLEVBQ3JDLElBQUksV0FBa0Isa0JBQVcsaUJBQWlCLEVBQUU7QUFBQSxFQUNwRCxJQUFJLENBQUMsVUFBVTtBQUFBLElBQ04sdUJBQWdCLEVBQUU7QUFBQSxFQUMzQjtBQUFBO0FBRUYsU0FBUyxXQUFXLEdBQUc7QUFBQSxFQUNyQixNQUFNLGdCQUF1QixrQkFBVyxZQUFZO0FBQUEsRUFDcEQsT0FBTyxjQUFjLGtCQUFrQixJQUFJLG9CQUFvQjtBQUFBO0FBRWpFLFNBQVMsbUJBQW1CLEdBQUc7QUFBQSxFQUM3QixVQUNFLG1CQUFtQixHQUduQix3RUFDRjtBQUFBLEVBQ0EsSUFBSSxvQkFBMkIsa0JBQVcsaUJBQWlCO0FBQUEsRUFDM0QsTUFBTSxVQUFVLDBCQUFxQixrQkFBVyxpQkFBaUI7QUFBQSxFQUNqRSxNQUFNLFlBQW1CLGtCQUFXLFlBQVk7QUFBQSxFQUNoRCxNQUFNLFVBQVUscUJBQXFCLFlBQVk7QUFBQSxFQUNqRCxJQUFJLHFCQUFxQixLQUFLLFVBQVUsb0JBQW9CLE9BQU8sQ0FBQztBQUFBLEVBQ3BFLElBQUksWUFBbUIsY0FBTyxLQUFLO0FBQUEsRUFDbkMsMEJBQTBCLE1BQU07QUFBQSxJQUM5QixVQUFVLFVBQVU7QUFBQSxHQUNyQjtBQUFBLEVBQ0QsSUFBSSxXQUFrQixtQkFDcEIsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxNQUFNO0FBQUEsSUFDcEIsUUFBUSxVQUFVLFNBQVMscUJBQXFCO0FBQUEsSUFDaEQsSUFBSSxDQUFDLFVBQVU7QUFBQSxNQUFTO0FBQUEsSUFDeEIsSUFBSSxPQUFPLE9BQU8sVUFBVTtBQUFBLE1BQzFCLFdBQVUsR0FBRyxFQUFFO0FBQUEsTUFDZjtBQUFBLElBQ0Y7QUFBQSxJQUNBLElBQUksT0FBTyxVQUNULElBQ0EsS0FBSyxNQUFNLGtCQUFrQixHQUM3QixrQkFDQSxRQUFRLGFBQWEsTUFDdkI7QUFBQSxJQUNBLElBQUkscUJBQXFCLFFBQVEsYUFBYSxLQUFLO0FBQUEsTUFDakQsS0FBSyxXQUFXLEtBQUssYUFBYSxNQUFNLFdBQVcsVUFBVSxDQUFDLFVBQVUsS0FBSyxRQUFRLENBQUM7QUFBQSxJQUN4RjtBQUFBLEtBQ0csUUFBUSxVQUFVLFdBQVUsVUFBVSxXQUFVLE1BQ2pELE1BQ0EsUUFBUSxPQUNSLE9BQ0Y7QUFBQSxLQUVGO0FBQUEsSUFDRTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxFQUNGLENBQ0Y7QUFBQSxFQUNBLE9BQU87QUFBQTtBQUVULElBQUksZ0JBQXVCLHFCQUFjLElBQUk7QUFJN0MsU0FBUyxTQUFTLENBQUMsU0FBUztBQUFBLEVBQzFCLElBQUksU0FBZ0Isa0JBQVcsWUFBWSxFQUFFO0FBQUEsRUFDN0MsT0FBYyxlQUNaLE1BQU0sMEJBQWlDLHFCQUFjLGNBQWMsVUFBVSxFQUFFLE9BQU8sUUFBUSxHQUFHLE1BQU0sR0FDdkcsQ0FBQyxRQUFRLE9BQU8sQ0FDbEI7QUFBQTtBQU9GLFNBQVMsZUFBZSxDQUFDLE1BQU0sYUFBYSxDQUFDLEdBQUc7QUFBQSxFQUM5QyxNQUFNLFlBQW1CLGtCQUFXLFlBQVk7QUFBQSxFQUNoRCxNQUFNLFVBQVUscUJBQXFCLFlBQVk7QUFBQSxFQUNqRCxJQUFJLHFCQUFxQixLQUFLLFVBQVUsb0JBQW9CLE9BQU8sQ0FBQztBQUFBLEVBQ3BFLE9BQWMsZUFDWixNQUFNLFVBQ0osSUFDQSxLQUFLLE1BQU0sa0JBQWtCLEdBQzdCLGtCQUNBLGFBQWEsTUFDZixHQUNBLENBQUMsSUFBSSxvQkFBb0Isa0JBQWtCLFFBQVEsQ0FDckQ7QUFBQTtBQUtGLFNBQVMsYUFBYSxDQUFDLFFBQVEsYUFBYSxpQkFBaUIsa0JBQWtCLFFBQVE7QUFBQSxFQUNyRixVQUNFLG1CQUFtQixHQUduQixzRUFDRjtBQUFBLEVBQ0EsTUFBTSwwQkFBcUIsa0JBQVcsaUJBQWlCO0FBQUEsRUFDdkQsTUFBTSxTQUFTLGtCQUF5QixrQkFBVyxZQUFZO0FBQUEsRUFDL0QsSUFBSSxhQUFhLGNBQWMsY0FBYyxTQUFTO0FBQUEsRUFDdEQsSUFBSSxlQUFlLGFBQWEsV0FBVyxTQUFTLENBQUM7QUFBQSxFQUNyRCxJQUFJLGlCQUFpQixhQUFhLFdBQVcsV0FBVztBQUFBLEVBQ3hELElBQUkscUJBQXFCLGFBQWEsV0FBVyxlQUFlO0FBQUEsRUFDaEUsSUFBSSxjQUFjLGNBQWMsV0FBVztBQUFBLEVBQzNDLElBQUkscUJBQXFCO0FBQUEsSUFDdkIsSUFBSSxhQUFhLGVBQWUsWUFBWSxRQUFRO0FBQUEsSUFDcEQsWUFDRSxnQkFDQSxDQUFDLGVBQWUsV0FBVyxTQUFTLEdBQUcsS0FBSyxXQUFXLFNBQVMsSUFBSSxHQUNwRSxvRUFBb0UsdUNBQXVDO0FBQUE7QUFBQSx3Q0FFekUsZ0NBQWdDLGVBQWUsTUFBTSxNQUFNLEdBQUcsbUJBQ2xHO0FBQUEsRUFDRjtBQUFBLEVBQ0EsSUFBSSxzQkFBc0IsWUFBWTtBQUFBLEVBQ3RDLElBQUk7QUFBQSxFQUNKLElBQUksYUFBYTtBQUFBLElBQ2YsSUFBSSxvQkFBb0IsT0FBTyxnQkFBZ0IsV0FBVyxVQUFVLFdBQVcsSUFBSTtBQUFBLElBQ25GLFVBQ0UsdUJBQXVCLE9BQU8sa0JBQWtCLFVBQVUsV0FBVyxrQkFBa0IsR0FDdkYsMk9BQTJPLHFDQUFxQyxrQkFBa0IsK0NBQ3BTO0FBQUEsSUFDQSxZQUFXO0FBQUEsRUFDYixFQUFPO0FBQUEsSUFDTCxZQUFXO0FBQUE7QUFBQSxFQUViLElBQUksV0FBVyxVQUFTLFlBQVk7QUFBQSxFQUNwQyxJQUFJLG9CQUFvQjtBQUFBLEVBQ3hCLElBQUksdUJBQXVCLEtBQUs7QUFBQSxJQUM5QixJQUFJLGlCQUFpQixtQkFBbUIsUUFBUSxPQUFPLEVBQUUsRUFBRSxNQUFNLEdBQUc7QUFBQSxJQUNwRSxJQUFJLFdBQVcsU0FBUyxRQUFRLE9BQU8sRUFBRSxFQUFFLE1BQU0sR0FBRztBQUFBLElBQ3BELG9CQUFvQixNQUFNLFNBQVMsTUFBTSxlQUFlLE1BQU0sRUFBRSxLQUFLLEdBQUc7QUFBQSxFQUMxRTtBQUFBLEVBQ0EsSUFBSSxVQUFVLFlBQVksUUFBUSxFQUFFLFVBQVUsa0JBQWtCLENBQUM7QUFBQSxFQUNqRSxJQUFJLHFCQUFxQjtBQUFBLElBQ3ZCLFFBQ0UsZUFBZSxXQUFXLE1BQzFCLCtCQUErQixVQUFTLFdBQVcsVUFBUyxTQUFTLFVBQVMsUUFDaEY7QUFBQSxJQUNBLFFBQ0UsV0FBVyxRQUFRLFFBQVEsUUFBUSxTQUFTLEdBQUcsTUFBTSxZQUFpQixhQUFLLFFBQVEsUUFBUSxTQUFTLEdBQUcsTUFBTSxjQUFtQixhQUFLLFFBQVEsUUFBUSxTQUFTLEdBQUcsTUFBTSxTQUFjLFdBQ3JMLG1DQUFtQyxVQUFTLFdBQVcsVUFBUyxTQUFTLFVBQVMsaUpBQ3BGO0FBQUEsRUFDRjtBQUFBLEVBQ0EsSUFBSSxrQkFBa0IsZUFDcEIsV0FBVyxRQUFRLElBQ2pCLENBQUMsVUFBVSxPQUFPLE9BQU8sQ0FBQyxHQUFHLE9BQU87QUFBQSxJQUNsQyxRQUFRLE9BQU8sT0FBTyxDQUFDLEdBQUcsY0FBYyxNQUFNLE1BQU07QUFBQSxJQUNwRCxVQUFVLFVBQVU7QUFBQSxNQUNsQjtBQUFBLE1BS0EsV0FBVSxpQkFBaUIsV0FBVSxlQUNuQyxNQUFNLFNBQVMsUUFBUSxPQUFPLEtBQUssRUFBRSxRQUFRLE1BQU0sS0FBSyxDQUMxRCxFQUFFLFdBQVcsTUFBTTtBQUFBLElBQ3JCLENBQUM7QUFBQSxJQUNELGNBQWMsTUFBTSxpQkFBaUIsTUFBTSxxQkFBcUIsVUFBVTtBQUFBLE1BQ3hFO0FBQUEsTUFLQSxXQUFVLGlCQUFpQixXQUFVLGVBQ25DLE1BQU0sYUFBYSxRQUFRLE9BQU8sS0FBSyxFQUFFLFFBQVEsTUFBTSxLQUFLLENBQzlELEVBQUUsV0FBVyxNQUFNO0FBQUEsSUFDckIsQ0FBQztBQUFBLEVBQ0gsQ0FBQyxDQUNILEdBQ0EsZUFDQSxpQkFDQSxrQkFDQSxNQUNGO0FBQUEsRUFDQSxJQUFJLGVBQWUsaUJBQWlCO0FBQUEsSUFDbEMsdUJBQThCLHFCQUM1QixnQkFBZ0IsVUFDaEI7QUFBQSxNQUNFLE9BQU87QUFBQSxRQUNMLFVBQVU7QUFBQSxVQUNSLFVBQVU7QUFBQSxVQUNWLFFBQVE7QUFBQSxVQUNSLE1BQU07QUFBQSxVQUNOLE9BQU87QUFBQSxVQUNQLEtBQUs7QUFBQSxhQUNGO0FBQUEsUUFDTDtBQUFBLFFBQ0EsZ0JBQWdCO0FBQUEsTUFDbEI7QUFBQSxJQUNGLEdBQ0EsZUFDRjtBQUFBLEVBQ0Y7QUFBQSxFQUNBLE9BQU87QUFBQTtBQUVULFNBQVMscUJBQXFCLEdBQUc7QUFBQSxFQUMvQixJQUFJLFFBQVEsY0FBYztBQUFBLEVBQzFCLElBQUksVUFBVSxxQkFBcUIsS0FBSyxJQUFJLEdBQUcsTUFBTSxVQUFVLE1BQU0sZUFBZSxpQkFBaUIsUUFBUSxNQUFNLFVBQVUsS0FBSyxVQUFVLEtBQUs7QUFBQSxFQUNqSixJQUFJLFFBQVEsaUJBQWlCLFFBQVEsTUFBTSxRQUFRO0FBQUEsRUFDbkQsSUFBSSxZQUFZO0FBQUEsRUFDaEIsSUFBSSxZQUFZLEVBQUUsU0FBUyxVQUFVLGlCQUFpQixVQUFVO0FBQUEsRUFDaEUsSUFBSSxhQUFhLEVBQUUsU0FBUyxXQUFXLGlCQUFpQixVQUFVO0FBQUEsRUFDbEUsSUFBSSxVQUFVO0FBQUEsRUFDZCxJQUFJLHFCQUFxQjtBQUFBLElBQ3ZCLFFBQVEsTUFDTix3REFDQSxLQUNGO0FBQUEsSUFDQSwwQkFBaUMscUJBQXFCLGlCQUFVLHNCQUE2QixxQkFBYyxLQUFLLE1BQU0seUNBQW1DLG1CQUEwQixxQkFBYyxLQUFLLE1BQU0sZ0hBQXVILHFCQUFjLFFBQVEsRUFBRSxPQUFPLFdBQVcsR0FBRyxlQUFlLEdBQUcsT0FBTyxxQkFBNEIscUJBQWMsUUFBUSxFQUFFLE9BQU8sV0FBVyxHQUFHLGNBQWMsR0FBRyxzQkFBc0IsQ0FBQztBQUFBLEVBQzVmO0FBQUEsRUFDQSx1QkFBOEIscUJBQXFCLGlCQUFVLHNCQUE2QixxQkFBYyxNQUFNLE1BQU0sK0JBQStCLG1CQUEwQixxQkFBYyxNQUFNLEVBQUUsT0FBTyxFQUFFLFdBQVcsU0FBUyxFQUFFLEdBQUcsT0FBTyxHQUFHLHdCQUErQixxQkFBYyxPQUFPLEVBQUUsT0FBTyxVQUFVLEdBQUcsS0FBSyxJQUFJLE1BQU0sT0FBTztBQUFBO0FBRWpWLElBQUksc0NBQTZDLHFCQUFjLHVCQUF1QixJQUFJO0FBQzFGLElBQUksc0JBQXNCLGNBQXFCLGlCQUFVO0FBQUEsRUFDdkQsV0FBVyxDQUFDLE9BQU87QUFBQSxJQUNqQixNQUFNLEtBQUs7QUFBQSxJQUNYLEtBQUssUUFBUTtBQUFBLE1BQ1gsVUFBVSxNQUFNO0FBQUEsTUFDaEIsY0FBYyxNQUFNO0FBQUEsTUFDcEIsT0FBTyxNQUFNO0FBQUEsSUFDZjtBQUFBO0FBQUEsU0FFSyx3QkFBd0IsQ0FBQyxPQUFPO0FBQUEsSUFDckMsT0FBTyxFQUFFLE1BQU07QUFBQTtBQUFBLFNBRVYsd0JBQXdCLENBQUMsT0FBTyxPQUFPO0FBQUEsSUFDNUMsSUFBSSxNQUFNLGFBQWEsTUFBTSxZQUFZLE1BQU0saUJBQWlCLFVBQVUsTUFBTSxpQkFBaUIsUUFBUTtBQUFBLE1BQ3ZHLE9BQU87QUFBQSxRQUNMLE9BQU8sTUFBTTtBQUFBLFFBQ2IsVUFBVSxNQUFNO0FBQUEsUUFDaEIsY0FBYyxNQUFNO0FBQUEsTUFDdEI7QUFBQSxJQUNGO0FBQUEsSUFDQSxPQUFPO0FBQUEsTUFDTCxPQUFPLE1BQU0sVUFBZSxZQUFJLE1BQU0sUUFBUSxNQUFNO0FBQUEsTUFDcEQsVUFBVSxNQUFNO0FBQUEsTUFDaEIsY0FBYyxNQUFNLGdCQUFnQixNQUFNO0FBQUEsSUFDNUM7QUFBQTtBQUFBLEVBRUYsaUJBQWlCLENBQUMsT0FBTyxXQUFXO0FBQUEsSUFDbEMsSUFBSSxLQUFLLE1BQU0sa0JBQWtCO0FBQUEsTUFDL0IsS0FBSyxNQUFNLGlCQUFpQixPQUFPLFNBQVM7QUFBQSxJQUM5QyxFQUFPO0FBQUEsTUFDTCxRQUFRLE1BQ04seURBQ0EsS0FDRjtBQUFBO0FBQUE7QUFBQSxFQUdKLE1BQU0sR0FBRztBQUFBLElBQ1AsT0FBTyxLQUFLLE1BQU0sVUFBZSw0QkFBMkIscUJBQWMsYUFBYSxVQUFVLEVBQUUsT0FBTyxLQUFLLE1BQU0sYUFBYSxtQkFBMEIscUJBQzFKLGtCQUFrQixVQUNsQjtBQUFBLE1BQ0UsT0FBTyxLQUFLLE1BQU07QUFBQSxNQUNsQixVQUFVLEtBQUssTUFBTTtBQUFBLElBQ3ZCLENBQ0YsQ0FBQyxJQUFJLEtBQUssTUFBTTtBQUFBO0FBRXBCO0FBQ0EsU0FBUyxhQUFhLEdBQUcsY0FBYyxPQUFPLFlBQVk7QUFBQSxFQUN4RCxJQUFJLG9CQUEyQixrQkFBVyxpQkFBaUI7QUFBQSxFQUMzRCxJQUFJLHFCQUFxQixrQkFBa0IsVUFBVSxrQkFBa0Isa0JBQWtCLE1BQU0sTUFBTSxnQkFBZ0IsTUFBTSxNQUFNLGdCQUFnQjtBQUFBLElBQy9JLGtCQUFrQixjQUFjLDZCQUE2QixNQUFNLE1BQU07QUFBQSxFQUMzRTtBQUFBLEVBQ0EsdUJBQThCLHFCQUFjLGFBQWEsVUFBVSxFQUFFLE9BQU8sYUFBYSxHQUFHLFFBQVE7QUFBQTtBQUV0RyxTQUFTLGNBQWMsQ0FBQyxTQUFTLGdCQUFnQixDQUFDLEdBQUcsa0JBQWtCLE1BQU0sbUJBQW1CLE1BQU0sU0FBUyxNQUFNO0FBQUEsRUFDbkgsSUFBSSxXQUFXLE1BQU07QUFBQSxJQUNuQixJQUFJLENBQUMsaUJBQWlCO0FBQUEsTUFDcEIsT0FBTztBQUFBLElBQ1Q7QUFBQSxJQUNBLElBQUksZ0JBQWdCLFFBQVE7QUFBQSxNQUMxQixVQUFVLGdCQUFnQjtBQUFBLElBQzVCLEVBQU8sU0FBSSxjQUFjLFdBQVcsS0FBSyxDQUFDLGdCQUFnQixlQUFlLGdCQUFnQixRQUFRLFNBQVMsR0FBRztBQUFBLE1BQzNHLFVBQVUsZ0JBQWdCO0FBQUEsSUFDNUIsRUFBTztBQUFBLE1BQ0wsT0FBTztBQUFBO0FBQUEsRUFFWDtBQUFBLEVBQ0EsSUFBSSxrQkFBa0I7QUFBQSxFQUN0QixJQUFJLFNBQVMsaUJBQWlCO0FBQUEsRUFDOUIsSUFBSSxVQUFVLE1BQU07QUFBQSxJQUNsQixJQUFJLGFBQWEsZ0JBQWdCLFVBQy9CLENBQUMsTUFBTSxFQUFFLE1BQU0sTUFBTSxTQUFTLEVBQUUsTUFBTSxRQUFhLFNBQ3JEO0FBQUEsSUFDQSxVQUNFLGNBQWMsR0FDZCw0REFBNEQsT0FBTyxLQUNqRSxNQUNGLEVBQUUsS0FBSyxHQUFHLEdBQ1o7QUFBQSxJQUNBLGtCQUFrQixnQkFBZ0IsTUFDaEMsR0FDQSxLQUFLLElBQUksZ0JBQWdCLFFBQVEsYUFBYSxDQUFDLENBQ2pEO0FBQUEsRUFDRjtBQUFBLEVBQ0EsSUFBSSxpQkFBaUI7QUFBQSxFQUNyQixJQUFJLGdCQUFnQjtBQUFBLEVBQ3BCLElBQUksaUJBQWlCO0FBQUEsSUFDbkIsU0FBUyxJQUFJLEVBQUcsSUFBSSxnQkFBZ0IsUUFBUSxLQUFLO0FBQUEsTUFDL0MsSUFBSSxRQUFRLGdCQUFnQjtBQUFBLE1BQzVCLElBQUksTUFBTSxNQUFNLG1CQUFtQixNQUFNLE1BQU0sd0JBQXdCO0FBQUEsUUFDckUsZ0JBQWdCO0FBQUEsTUFDbEI7QUFBQSxNQUNBLElBQUksTUFBTSxNQUFNLElBQUk7QUFBQSxRQUNsQixNQUFNLFlBQVksUUFBUSxZQUFZO0FBQUEsUUFDdEMsSUFBSSxtQkFBbUIsTUFBTSxNQUFNLFVBQVUsQ0FBQyxXQUFXLGVBQWUsTUFBTSxNQUFNLEVBQUUsTUFBTSxDQUFDLFdBQVcsUUFBUSxNQUFNLE1BQU0sUUFBYTtBQUFBLFFBQ3pJLElBQUksTUFBTSxNQUFNLFFBQVEsa0JBQWtCO0FBQUEsVUFDeEMsaUJBQWlCO0FBQUEsVUFDakIsSUFBSSxpQkFBaUIsR0FBRztBQUFBLFlBQ3RCLGtCQUFrQixnQkFBZ0IsTUFBTSxHQUFHLGdCQUFnQixDQUFDO0FBQUEsVUFDOUQsRUFBTztBQUFBLFlBQ0wsa0JBQWtCLENBQUMsZ0JBQWdCLEVBQUU7QUFBQTtBQUFBLFVBRXZDO0FBQUEsUUFDRjtBQUFBLE1BQ0Y7QUFBQSxJQUNGO0FBQUEsRUFDRjtBQUFBLEVBQ0EsT0FBTyxnQkFBZ0IsWUFDckIsQ0FBQyxRQUFRLE9BQU8sVUFBVTtBQUFBLElBQ3hCLElBQUk7QUFBQSxJQUNKLElBQUksOEJBQThCO0FBQUEsSUFDbEMsSUFBSSxlQUFlO0FBQUEsSUFDbkIsSUFBSSx5QkFBeUI7QUFBQSxJQUM3QixJQUFJLGlCQUFpQjtBQUFBLE1BQ25CLFFBQVEsVUFBVSxNQUFNLE1BQU0sS0FBSyxPQUFPLE1BQU0sTUFBTSxNQUFXO0FBQUEsTUFDakUsZUFBZSxNQUFNLE1BQU0sZ0JBQWdCO0FBQUEsTUFDM0MsSUFBSSxnQkFBZ0I7QUFBQSxRQUNsQixJQUFJLGdCQUFnQixLQUFLLFVBQVUsR0FBRztBQUFBLFVBQ3BDLFlBQ0Usa0JBQ0EsT0FDQSwwRUFDRjtBQUFBLFVBQ0EsOEJBQThCO0FBQUEsVUFDOUIseUJBQXlCO0FBQUEsUUFDM0IsRUFBTyxTQUFJLGtCQUFrQixPQUFPO0FBQUEsVUFDbEMsOEJBQThCO0FBQUEsVUFDOUIseUJBQXlCLE1BQU0sTUFBTSwwQkFBMEI7QUFBQSxRQUNqRTtBQUFBLE1BQ0Y7QUFBQSxJQUNGO0FBQUEsSUFDQSxJQUFJLFdBQVcsY0FBYyxPQUFPLGdCQUFnQixNQUFNLEdBQUcsUUFBUSxDQUFDLENBQUM7QUFBQSxJQUN2RSxJQUFJLGNBQWMsTUFBTTtBQUFBLE1BQ3RCLElBQUk7QUFBQSxNQUNKLElBQUksT0FBTztBQUFBLFFBQ1QsV0FBVztBQUFBLE1BQ2IsRUFBTyxTQUFJLDZCQUE2QjtBQUFBLFFBQ3RDLFdBQVc7QUFBQSxNQUNiLEVBQU8sU0FBSSxNQUFNLE1BQU0sV0FBVztBQUFBLFFBQ2hDLDJCQUFrQyxxQkFBYyxNQUFNLE1BQU0sV0FBVyxJQUFJO0FBQUEsTUFDN0UsRUFBTyxTQUFJLE1BQU0sTUFBTSxTQUFTO0FBQUEsUUFDOUIsV0FBVyxNQUFNLE1BQU07QUFBQSxNQUN6QixFQUFPO0FBQUEsUUFDTCxXQUFXO0FBQUE7QUFBQSxNQUViLHVCQUE4QixxQkFDNUIsZUFDQTtBQUFBLFFBQ0U7QUFBQSxRQUNBLGNBQWM7QUFBQSxVQUNaO0FBQUEsVUFDQSxTQUFTO0FBQUEsVUFDVCxhQUFhLG1CQUFtQjtBQUFBLFFBQ2xDO0FBQUEsUUFDQTtBQUFBLE1BQ0YsQ0FDRjtBQUFBO0FBQUEsSUFFRixPQUFPLG9CQUFvQixNQUFNLE1BQU0saUJBQWlCLE1BQU0sTUFBTSxnQkFBZ0IsVUFBVSxxQkFBNEIscUJBQ3hILHFCQUNBO0FBQUEsTUFDRSxVQUFVLGdCQUFnQjtBQUFBLE1BQzFCLGNBQWMsZ0JBQWdCO0FBQUEsTUFDOUIsV0FBVztBQUFBLE1BQ1g7QUFBQSxNQUNBLFVBQVUsWUFBWTtBQUFBLE1BQ3RCLGNBQWMsRUFBRSxRQUFRLE1BQU0sU0FBUyxVQUFVLGFBQWEsS0FBSztBQUFBLE1BQ25FO0FBQUEsSUFDRixDQUNGLElBQUksWUFBWTtBQUFBLEtBRWxCLElBQ0Y7QUFBQTtBQUVGLFNBQVMseUJBQXlCLENBQUMsVUFBVTtBQUFBLEVBQzNDLE9BQU8sR0FBRztBQUFBO0FBRVosU0FBUyxvQkFBb0IsQ0FBQyxVQUFVO0FBQUEsRUFDdEMsSUFBSSxNQUFhLGtCQUFXLGlCQUFpQjtBQUFBLEVBQzdDLFVBQVUsS0FBSywwQkFBMEIsUUFBUSxDQUFDO0FBQUEsRUFDbEQsT0FBTztBQUFBO0FBRVQsU0FBUyxrQkFBa0IsQ0FBQyxVQUFVO0FBQUEsRUFDcEMsSUFBSSxRQUFlLGtCQUFXLHNCQUFzQjtBQUFBLEVBQ3BELFVBQVUsT0FBTywwQkFBMEIsUUFBUSxDQUFDO0FBQUEsRUFDcEQsT0FBTztBQUFBO0FBRVQsU0FBUyxlQUFlLENBQUMsVUFBVTtBQUFBLEVBQ2pDLElBQUksUUFBZSxrQkFBVyxZQUFZO0FBQUEsRUFDMUMsVUFBVSxPQUFPLDBCQUEwQixRQUFRLENBQUM7QUFBQSxFQUNwRCxPQUFPO0FBQUE7QUFFVCxTQUFTLGlCQUFpQixDQUFDLFVBQVU7QUFBQSxFQUNuQyxJQUFJLFFBQVEsZ0JBQWdCLFFBQVE7QUFBQSxFQUNwQyxJQUFJLFlBQVksTUFBTSxRQUFRLE1BQU0sUUFBUSxTQUFTO0FBQUEsRUFDckQsVUFDRSxVQUFVLE1BQU0sSUFDaEIsR0FBRyxnRUFDTDtBQUFBLEVBQ0EsT0FBTyxVQUFVLE1BQU07QUFBQTtBQUV6QixTQUFTLFVBQVUsR0FBRztBQUFBLEVBQ3BCLE9BQU8sa0JBQWtCLFlBQTZCO0FBQUE7QUFFeEQsU0FBUyxhQUFhLEdBQUc7QUFBQSxFQUN2QixJQUFJLFFBQVEsbUJBQW1CLGVBQW1DO0FBQUEsRUFDbEUsT0FBTyxNQUFNO0FBQUE7QUFhZixTQUFTLFVBQVUsR0FBRztBQUFBLEVBQ3BCLE1BQU0sU0FBUyxlQUFlLG1CQUM1QixZQUNGO0FBQUEsRUFDQSxPQUFjLGVBQ1osTUFBTSxRQUFRLElBQUksQ0FBQyxNQUFNLDJCQUEyQixHQUFHLFVBQVUsQ0FBQyxHQUNsRSxDQUFDLFNBQVMsVUFBVSxDQUN0QjtBQUFBO0FBZ0JGLFNBQVMsYUFBYSxHQUFHO0FBQUEsRUFDdkIsSUFBSSxRQUFlLGtCQUFXLGlCQUFpQjtBQUFBLEVBQy9DLElBQUksUUFBUSxtQkFBbUIsZUFBbUM7QUFBQSxFQUNsRSxJQUFJLFVBQVUsa0JBQWtCLGVBQW1DO0FBQUEsRUFDbkUsSUFBSSxVQUFlLFdBQUc7QUFBQSxJQUNwQixPQUFPO0FBQUEsRUFDVDtBQUFBLEVBQ0EsT0FBTyxNQUFNLFNBQVM7QUFBQTtBQWtEeEIsU0FBUyxpQkFBaUIsR0FBRztBQUFBLEVBQzNCLE1BQU0sV0FBVyxxQkFBcUIsYUFBcUM7QUFBQSxFQUMzRSxJQUFJLEtBQUssa0JBQWtCLGFBQXFDO0FBQUEsRUFDaEUsSUFBSSxZQUFtQixjQUFPLEtBQUs7QUFBQSxFQUNuQywwQkFBMEIsTUFBTTtBQUFBLElBQzlCLFVBQVUsVUFBVTtBQUFBLEdBQ3JCO0FBQUEsRUFDRCxJQUFJLFdBQWtCLG1CQUNwQixPQUFPLElBQUksVUFBVSxDQUFDLE1BQU07QUFBQSxJQUMxQixRQUFRLFVBQVUsU0FBUyxxQkFBcUI7QUFBQSxJQUNoRCxJQUFJLENBQUMsVUFBVTtBQUFBLE1BQVM7QUFBQSxJQUN4QixJQUFJLE9BQU8sT0FBTyxVQUFVO0FBQUEsTUFDMUIsT0FBTyxTQUFTLEVBQUU7QUFBQSxJQUNwQixFQUFPO0FBQUEsTUFDTCxNQUFNLE9BQU8sU0FBUyxJQUFJLEVBQUUsYUFBYSxPQUFPLFFBQVEsQ0FBQztBQUFBO0FBQUEsS0FHN0QsQ0FBQyxRQUFRLEVBQUUsQ0FDYjtBQUFBLEVBQ0EsT0FBTztBQUFBO0FBRVQsSUFBSSxnQkFBZ0IsQ0FBQztBQUNyQixTQUFTLFdBQVcsQ0FBQyxLQUFLLE1BQU0sU0FBUztBQUFBLEVBQ3ZDLElBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxNQUFNO0FBQUEsSUFDaEMsY0FBYyxPQUFPO0FBQUEsSUFDckIsUUFBUSxPQUFPLE9BQU87QUFBQSxFQUN4QjtBQUFBO0FBcUJGLElBQUksaUJBQWlCLENBQUM7QUFDdEIsU0FBUyxRQUFRLENBQUMsV0FBVyxTQUFTO0FBQUEsRUFDcEMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxlQUFlLFVBQVU7QUFBQSxJQUMxQyxlQUFlLFdBQVc7QUFBQSxJQUMxQixRQUFRLEtBQUssT0FBTztBQUFBLEVBQ3RCO0FBQUE7QUFJRixTQUFTLGtCQUFrQixDQUFDLE9BQU87QUFBQSxFQUNqQyxJQUFJLFVBQVU7QUFBQSxJQUdaLGtCQUFrQixNQUFNLG9CQUFvQixNQUFNLGlCQUFpQixRQUFRLE1BQU0sZ0JBQWdCO0FBQUEsRUFDbkc7QUFBQSxFQUNBLElBQUksTUFBTSxXQUFXO0FBQUEsSUFDbkIsSUFBSSxxQkFBcUI7QUFBQSxNQUN2QixJQUFJLE1BQU0sU0FBUztBQUFBLFFBQ2pCLFFBQ0UsT0FDQSxpR0FDRjtBQUFBLE1BQ0Y7QUFBQSxJQUNGO0FBQUEsSUFDQSxPQUFPLE9BQU8sU0FBUztBQUFBLE1BQ3JCLFNBQWdCLHFCQUFjLE1BQU0sU0FBUztBQUFBLE1BQzdDLFdBQWdCO0FBQUEsSUFDbEIsQ0FBQztBQUFBLEVBQ0g7QUFBQSxFQUNBLElBQUksTUFBTSxpQkFBaUI7QUFBQSxJQUN6QixJQUFJLHFCQUFxQjtBQUFBLE1BQ3ZCLElBQUksTUFBTSx3QkFBd0I7QUFBQSxRQUNoQyxRQUNFLE9BQ0EsNEhBQ0Y7QUFBQSxNQUNGO0FBQUEsSUFDRjtBQUFBLElBQ0EsT0FBTyxPQUFPLFNBQVM7QUFBQSxNQUNyQix3QkFBK0IscUJBQWMsTUFBTSxlQUFlO0FBQUEsTUFDbEUsaUJBQXNCO0FBQUEsSUFDeEIsQ0FBQztBQUFBLEVBQ0g7QUFBQSxFQUNBLElBQUksTUFBTSxlQUFlO0FBQUEsSUFDdkIsSUFBSSxxQkFBcUI7QUFBQSxNQUN2QixJQUFJLE1BQU0sY0FBYztBQUFBLFFBQ3RCLFFBQ0UsT0FDQSw4R0FDRjtBQUFBLE1BQ0Y7QUFBQSxJQUNGO0FBQUEsSUFDQSxPQUFPLE9BQU8sU0FBUztBQUFBLE1BQ3JCLGNBQXFCLHFCQUFjLE1BQU0sYUFBYTtBQUFBLE1BQ3RELGVBQW9CO0FBQUEsSUFDdEIsQ0FBQztBQUFBLEVBQ0g7QUFBQSxFQUNBLE9BQU87QUFBQTtBQUVULElBQUksMkJBQTJCO0FBQUEsRUFDN0I7QUFBQSxFQUNBO0FBQ0Y7QUFtQkEsSUFBSSxXQUFXLE1BQU07QUFBQSxFQUNuQixXQUFXLEdBQUc7QUFBQSxJQUNaLEtBQUssU0FBUztBQUFBLElBQ2QsS0FBSyxVQUFVLElBQUksUUFBUSxDQUFDLFNBQVMsV0FBVztBQUFBLE1BQzlDLEtBQUssVUFBVSxDQUFDLFVBQVU7QUFBQSxRQUN4QixJQUFJLEtBQUssV0FBVyxXQUFXO0FBQUEsVUFDN0IsS0FBSyxTQUFTO0FBQUEsVUFDZCxRQUFRLEtBQUs7QUFBQSxRQUNmO0FBQUE7QUFBQSxNQUVGLEtBQUssU0FBUyxDQUFDLFdBQVc7QUFBQSxRQUN4QixJQUFJLEtBQUssV0FBVyxXQUFXO0FBQUEsVUFDN0IsS0FBSyxTQUFTO0FBQUEsVUFDZCxPQUFPLE1BQU07QUFBQSxRQUNmO0FBQUE7QUFBQSxLQUVIO0FBQUE7QUFFTDtBQWtIQSxTQUFTLGNBQWM7QUFBQSxFQUNyQjtBQUFBLEVBQ0EsV0FBVztBQUFBLEVBQ1g7QUFBQSxHQUNDO0FBQUEsRUFDRCxLQUFLLE9BQU8sZ0JBQXVCLGdCQUFTLE9BQU8sS0FBSztBQUFBLEVBQ3hELEtBQUssY0FBYyxtQkFBMEIsZ0JBQVM7QUFBQSxFQUN0RCxLQUFLLFdBQVcsZ0JBQXVCLGdCQUFTO0FBQUEsSUFDOUMsaUJBQWlCO0FBQUEsRUFDbkIsQ0FBQztBQUFBLEVBQ0QsS0FBSyxXQUFXLGdCQUF1QixnQkFBUztBQUFBLEVBQ2hELEtBQUssWUFBWSxpQkFBd0IsZ0JBQVM7QUFBQSxFQUNsRCxLQUFLLGNBQWMsbUJBQTBCLGdCQUFTO0FBQUEsRUFDdEQsSUFBSSxjQUFxQiw4QkFBdUIsSUFBSSxHQUFLO0FBQUEsRUFDekQsSUFBSSx1QkFBOEIsbUJBQ2hDLENBQUMsYUFBYTtBQUFBLElBQ1osYUFBYSxDQUFDLGNBQWM7QUFBQSxNQUMxQixJQUFJLFNBQVMsVUFBVSxrQkFBa0I7QUFBQSxRQUN2QyxPQUFPLFFBQVEsU0FBUyxNQUFNLEVBQUUsUUFBUSxFQUFFLFNBQVMsV0FBVztBQUFBLFVBQzVELElBQUksVUFBVSxTQUFTLGFBQWEsT0FBTztBQUFBLFlBQ3pDLGlCQUFpQixLQUFLO0FBQUEsVUFDeEI7QUFBQSxTQUNEO0FBQUEsTUFDSDtBQUFBLE1BQ0EsT0FBTztBQUFBLEtBQ1I7QUFBQSxLQUVILENBQUMsZ0JBQWdCLENBQ25CO0FBQUEsRUFDQSxJQUFJLFdBQWtCLG1CQUNwQixDQUFDLFlBQVksaUJBQWlCLFdBQVcseUJBQXlCO0FBQUEsSUFDaEUsU0FBUyxTQUFTLFFBQVEsQ0FBQyxTQUFTLFFBQVE7QUFBQSxNQUMxQyxJQUFJLFFBQVEsU0FBYyxXQUFHO0FBQUEsUUFDM0IsWUFBWSxRQUFRLElBQUksS0FBSyxRQUFRLElBQUk7QUFBQSxNQUMzQztBQUFBLEtBQ0Q7QUFBQSxJQUNELGdCQUFnQixRQUFRLENBQUMsUUFBUSxZQUFZLFFBQVEsT0FBTyxHQUFHLENBQUM7QUFBQSxJQUNoRSxTQUNFLGNBQWMsU0FBUyx5QkFBeUIsTUFDaEQsZ1ZBQ0Y7QUFBQSxJQUNBLElBQUksNEJBQTRCLE9BQU8sVUFBVSxRQUFRLE9BQU8sT0FBTyxZQUFZLFFBQVEsT0FBTyxPQUFPLE9BQU8sU0FBUyx3QkFBd0I7QUFBQSxJQUNqSixTQUNFLHNCQUFzQixRQUFRLDJCQUM5Qix5S0FDRjtBQUFBLElBQ0EsSUFBSSxDQUFDLHNCQUFzQixDQUFDLDJCQUEyQjtBQUFBLE1BQ3JELElBQUkseUJBQXlCLFdBQVc7QUFBQSxRQUN0QyxzQkFBc0IsTUFBTSxxQkFBcUIsUUFBUSxDQUFDO0FBQUEsTUFDNUQsRUFBTztBQUFBLFFBQ0UsdUJBQWdCLE1BQU0scUJBQXFCLFFBQVEsQ0FBQztBQUFBO0FBQUEsTUFFN0Q7QUFBQSxJQUNGO0FBQUEsSUFDQSxJQUFJLHlCQUF5QixXQUFXO0FBQUEsTUFDdEMsc0JBQXNCLE1BQU07QUFBQSxRQUMxQixJQUFJLFlBQVk7QUFBQSxVQUNkLGFBQWEsVUFBVSxRQUFRO0FBQUEsVUFDL0IsV0FBVyxlQUFlO0FBQUEsUUFDNUI7QUFBQSxRQUNBLGFBQWE7QUFBQSxVQUNYLGlCQUFpQjtBQUFBLFVBQ2pCLFdBQVc7QUFBQSxVQUNYLGlCQUFpQixtQkFBbUI7QUFBQSxVQUNwQyxjQUFjLG1CQUFtQjtBQUFBLFFBQ25DLENBQUM7QUFBQSxPQUNGO0FBQUEsTUFDRCxJQUFJLElBQUksT0FBTyxPQUFPLFNBQVMsb0JBQW9CLE1BQU07QUFBQSxRQUN2RCxzQkFBc0IsTUFBTSxxQkFBcUIsUUFBUSxDQUFDO0FBQUEsT0FDM0Q7QUFBQSxNQUNELEVBQUUsU0FBUyxRQUFRLE1BQU07QUFBQSxRQUN2QixzQkFBc0IsTUFBTTtBQUFBLFVBQzFCLGFBQWtCLFNBQUM7QUFBQSxVQUNuQixjQUFtQixTQUFDO0FBQUEsVUFDcEIsZ0JBQXFCLFNBQUM7QUFBQSxVQUN0QixhQUFhLEVBQUUsaUJBQWlCLE1BQU0sQ0FBQztBQUFBLFNBQ3hDO0FBQUEsT0FDRjtBQUFBLE1BQ0Qsc0JBQXNCLE1BQU0sY0FBYyxDQUFDLENBQUM7QUFBQSxNQUM1QztBQUFBLElBQ0Y7QUFBQSxJQUNBLElBQUksWUFBWTtBQUFBLE1BQ2QsYUFBYSxVQUFVLFFBQVE7QUFBQSxNQUMvQixXQUFXLGVBQWU7QUFBQSxNQUMxQixnQkFBZ0I7QUFBQSxRQUNkLE9BQU87QUFBQSxRQUNQLGlCQUFpQixtQkFBbUI7QUFBQSxRQUNwQyxjQUFjLG1CQUFtQjtBQUFBLE1BQ25DLENBQUM7QUFBQSxJQUNILEVBQU87QUFBQSxNQUNMLGdCQUFnQixRQUFRO0FBQUEsTUFDeEIsYUFBYTtBQUFBLFFBQ1gsaUJBQWlCO0FBQUEsUUFDakIsV0FBVztBQUFBLFFBQ1gsaUJBQWlCLG1CQUFtQjtBQUFBLFFBQ3BDLGNBQWMsbUJBQW1CO0FBQUEsTUFDbkMsQ0FBQztBQUFBO0FBQUEsS0FHTDtBQUFBLElBQ0UsT0FBTztBQUFBLElBQ1A7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxFQUNGLENBQ0Y7QUFBQSxFQUNPLHVCQUFnQixNQUFNLE9BQU8sVUFBVSxRQUFRLEdBQUcsQ0FBQyxRQUFRLFFBQVEsQ0FBQztBQUFBLEVBQ3BFLGlCQUFVLE1BQU07QUFBQSxJQUNyQixJQUFJLFVBQVUsbUJBQW1CLENBQUMsVUFBVSxXQUFXO0FBQUEsTUFDckQsYUFBYSxJQUFJLFFBQVU7QUFBQSxJQUM3QjtBQUFBLEtBQ0MsQ0FBQyxTQUFTLENBQUM7QUFBQSxFQUNQLGlCQUFVLE1BQU07QUFBQSxJQUNyQixJQUFJLGFBQWEsZ0JBQWdCLE9BQU8sUUFBUTtBQUFBLE1BQzlDLElBQUksV0FBVztBQUFBLE1BQ2YsSUFBSSxnQkFBZ0IsVUFBVTtBQUFBLE1BQzlCLElBQUksY0FBYyxPQUFPLE9BQU8sU0FBUyxvQkFBb0IsWUFBWTtBQUFBLFFBQ2hFLHVCQUFnQixNQUFNLHFCQUFxQixRQUFRLENBQUM7QUFBQSxRQUMzRCxNQUFNO0FBQUEsT0FDUDtBQUFBLE1BQ0QsWUFBWSxTQUFTLFFBQVEsTUFBTTtBQUFBLFFBQ2pDLGFBQWtCLFNBQUM7QUFBQSxRQUNuQixjQUFtQixTQUFDO0FBQUEsUUFDcEIsZ0JBQXFCLFNBQUM7QUFBQSxRQUN0QixhQUFhLEVBQUUsaUJBQWlCLE1BQU0sQ0FBQztBQUFBLE9BQ3hDO0FBQUEsTUFDRCxjQUFjLFdBQVc7QUFBQSxJQUMzQjtBQUFBLEtBQ0MsQ0FBQyxjQUFjLFdBQVcsT0FBTyxRQUFRLG9CQUFvQixDQUFDO0FBQUEsRUFDMUQsaUJBQVUsTUFBTTtBQUFBLElBQ3JCLElBQUksYUFBYSxnQkFBZ0IsTUFBTSxTQUFTLFFBQVEsYUFBYSxTQUFTLEtBQUs7QUFBQSxNQUNqRixVQUFVLFFBQVE7QUFBQSxJQUNwQjtBQUFBLEtBQ0MsQ0FBQyxXQUFXLFlBQVksTUFBTSxVQUFVLFlBQVksQ0FBQztBQUFBLEVBQ2pELGlCQUFVLE1BQU07QUFBQSxJQUNyQixJQUFJLENBQUMsVUFBVSxtQkFBbUIsY0FBYztBQUFBLE1BQzlDLGdCQUFnQixhQUFhLEtBQUs7QUFBQSxNQUNsQyxhQUFhO0FBQUEsUUFDWCxpQkFBaUI7QUFBQSxRQUNqQixXQUFXO0FBQUEsUUFDWCxpQkFBaUIsYUFBYTtBQUFBLFFBQzlCLGNBQWMsYUFBYTtBQUFBLE1BQzdCLENBQUM7QUFBQSxNQUNELGdCQUFxQixTQUFDO0FBQUEsSUFDeEI7QUFBQSxLQUNDLENBQUMsVUFBVSxpQkFBaUIsWUFBWSxDQUFDO0FBQUEsRUFDNUMsSUFBSSxhQUFtQixlQUFRLE1BQU07QUFBQSxJQUNuQyxPQUFPO0FBQUEsTUFDTCxZQUFZLE9BQU87QUFBQSxNQUNuQixnQkFBZ0IsT0FBTztBQUFBLE1BQ3ZCLElBQUksQ0FBQyxNQUFNLE9BQU8sU0FBUyxDQUFDO0FBQUEsTUFDNUIsTUFBTSxDQUFDLElBQUksUUFBUSxTQUFTLE9BQU8sU0FBUyxJQUFJO0FBQUEsUUFDOUMsT0FBTztBQUFBLFFBQ1Asb0JBQW9CLE1BQU07QUFBQSxNQUM1QixDQUFDO0FBQUEsTUFDRCxTQUFTLENBQUMsSUFBSSxRQUFRLFNBQVMsT0FBTyxTQUFTLElBQUk7QUFBQSxRQUNqRCxTQUFTO0FBQUEsUUFDVCxPQUFPO0FBQUEsUUFDUCxvQkFBb0IsTUFBTTtBQUFBLE1BQzVCLENBQUM7QUFBQSxJQUNIO0FBQUEsS0FDQyxDQUFDLE1BQU0sQ0FBQztBQUFBLEVBQ1gsSUFBSSxXQUFXLE9BQU8sWUFBWTtBQUFBLEVBQ2xDLElBQUksb0JBQTJCLGVBQzdCLE9BQU87QUFBQSxJQUNMO0FBQUEsSUFDQTtBQUFBLElBQ0EsUUFBUTtBQUFBLElBQ1I7QUFBQSxJQUNBO0FBQUEsRUFDRixJQUNBLENBQUMsUUFBUSxZQUFXLFVBQVUsZ0JBQWdCLENBQ2hEO0FBQUEsRUFDQSx1QkFBOEIscUJBQXFCLGlCQUFVLHNCQUE2QixxQkFBYyxrQkFBa0IsVUFBVSxFQUFFLE9BQU8sa0JBQWtCLG1CQUEwQixxQkFBYyx1QkFBdUIsVUFBVSxFQUFFLE9BQU8sTUFBTSxtQkFBMEIscUJBQWMsZ0JBQWdCLFVBQVUsRUFBRSxPQUFPLFlBQVksUUFBUSxtQkFBMEIscUJBQWMsc0JBQXNCLFVBQVUsRUFBRSxPQUFPLFVBQVUsbUJBQTBCLHFCQUN6YyxRQUNBO0FBQUEsSUFDRTtBQUFBLElBQ0EsVUFBVSxNQUFNO0FBQUEsSUFDaEIsZ0JBQWdCLE1BQU07QUFBQSxJQUN0QjtBQUFBLEVBQ0YsbUJBQ3VCLHFCQUNyQixvQkFDQTtBQUFBLElBQ0UsUUFBUSxPQUFPO0FBQUEsSUFDZixRQUFRLE9BQU87QUFBQSxJQUNmO0FBQUEsSUFDQTtBQUFBLEVBQ0YsQ0FDRixDQUNGLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJO0FBQUE7QUFFYixJQUFJLHFCQUE0QixZQUFLLFVBQVU7QUFDL0MsU0FBUyxVQUFVO0FBQUEsRUFDakI7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxHQUNDO0FBQUEsRUFDRCxPQUFPLGNBQWMsUUFBYSxXQUFHLE9BQU8sa0JBQWtCLE1BQU07QUFBQTtBQXVFdEUsU0FBUyxNQUFNLENBQUMsT0FBTztBQUFBLEVBQ3JCLE9BQU8sVUFBVSxNQUFNLE9BQU87QUFBQTtBQVFoQyxTQUFTLE1BQU07QUFBQSxFQUNiLFVBQVUsZUFBZTtBQUFBLEVBQ3pCLFdBQVc7QUFBQSxFQUNYLFVBQVU7QUFBQSxFQUNWLGlCQUFpQjtBQUFBLEVBQ2pCO0FBQUEsRUFDQSxRQUFRLGFBQWE7QUFBQSxHQUNwQjtBQUFBLEVBQ0QsVUFDRSxDQUFDLG1CQUFtQixHQUNwQix3R0FDRjtBQUFBLEVBQ0EsSUFBSSxXQUFXLGFBQWEsUUFBUSxRQUFRLEdBQUc7QUFBQSxFQUMvQyxJQUFJLG9CQUEyQixlQUM3QixPQUFPO0FBQUEsSUFDTDtBQUFBLElBQ0E7QUFBQSxJQUNBLFFBQVE7QUFBQSxJQUNSLFFBQVEsQ0FBQztBQUFBLEVBQ1gsSUFDQSxDQUFDLFVBQVUsWUFBVyxVQUFVLENBQ2xDO0FBQUEsRUFDQSxJQUFJLE9BQU8saUJBQWlCLFVBQVU7QUFBQSxJQUNwQyxlQUFlLFVBQVUsWUFBWTtBQUFBLEVBQ3ZDO0FBQUEsRUFDQTtBQUFBLElBQ0UsV0FBVztBQUFBLElBQ1gsU0FBUztBQUFBLElBQ1QsT0FBTztBQUFBLElBQ1AsUUFBUTtBQUFBLElBQ1IsTUFBTTtBQUFBLE1BQ0o7QUFBQSxFQUNKLElBQUksa0JBQXlCLGVBQVEsTUFBTTtBQUFBLElBQ3pDLElBQUksbUJBQW1CLGNBQWMsVUFBVSxRQUFRO0FBQUEsSUFDdkQsSUFBSSxvQkFBb0IsTUFBTTtBQUFBLE1BQzVCLE9BQU87QUFBQSxJQUNUO0FBQUEsSUFDQSxPQUFPO0FBQUEsTUFDTCxVQUFVO0FBQUEsUUFDUixVQUFVO0FBQUEsUUFDVjtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLE1BQ0Y7QUFBQSxNQUNBO0FBQUEsSUFDRjtBQUFBLEtBQ0MsQ0FBQyxVQUFVLFVBQVUsUUFBUSxNQUFNLE9BQU8sS0FBSyxjQUFjLENBQUM7QUFBQSxFQUNqRSxRQUNFLG1CQUFtQixNQUNuQixxQkFBcUIsNENBQTRDLFdBQVcsU0FBUywyRkFDdkY7QUFBQSxFQUNBLElBQUksbUJBQW1CLE1BQU07QUFBQSxJQUMzQixPQUFPO0FBQUEsRUFDVDtBQUFBLEVBQ0EsdUJBQThCLHFCQUFjLGtCQUFrQixVQUFVLEVBQUUsT0FBTyxrQkFBa0IsbUJBQTBCLHFCQUFjLGdCQUFnQixVQUFVLEVBQUUsVUFBVSxPQUFPLGdCQUFnQixDQUFDLENBQUM7QUFBQTtBQWdONU0sSUFBSSxnQkFBZ0I7QUFDcEIsSUFBSSxpQkFBaUI7QUFDckIsU0FBUyxhQUFhLENBQUMsUUFBUTtBQUFBLEVBQzdCLE9BQU8sVUFBVSxRQUFRLE9BQU8sT0FBTyxZQUFZO0FBQUE7QUFFckQsU0FBUyxlQUFlLENBQUMsUUFBUTtBQUFBLEVBQy9CLE9BQU8sY0FBYyxNQUFNLEtBQUssT0FBTyxRQUFRLFlBQVksTUFBTTtBQUFBO0FBRW5FLFNBQVMsYUFBYSxDQUFDLFFBQVE7QUFBQSxFQUM3QixPQUFPLGNBQWMsTUFBTSxLQUFLLE9BQU8sUUFBUSxZQUFZLE1BQU07QUFBQTtBQUVuRSxTQUFTLGNBQWMsQ0FBQyxRQUFRO0FBQUEsRUFDOUIsT0FBTyxjQUFjLE1BQU0sS0FBSyxPQUFPLFFBQVEsWUFBWSxNQUFNO0FBQUE7QUFFbkUsU0FBUyxlQUFlLENBQUMsT0FBTztBQUFBLEVBQzlCLE9BQU8sQ0FBQyxFQUFFLE1BQU0sV0FBVyxNQUFNLFVBQVUsTUFBTSxXQUFXLE1BQU07QUFBQTtBQUVwRSxTQUFTLHNCQUFzQixDQUFDLE9BQU8sUUFBUTtBQUFBLEVBQzdDLE9BQU8sTUFBTSxXQUFXLE1BQ3ZCLENBQUMsVUFBVSxXQUFXLFlBQ3ZCLENBQUMsZ0JBQWdCLEtBQUs7QUFBQTtBQXlCeEIsSUFBSSw2QkFBNkI7QUFDakMsU0FBUyw0QkFBNEIsR0FBRztBQUFBLEVBQ3RDLElBQUksK0JBQStCLE1BQU07QUFBQSxJQUN2QyxJQUFJO0FBQUEsTUFDRixJQUFJLFNBQ0YsU0FBUyxjQUFjLE1BQU0sR0FFN0IsQ0FDRjtBQUFBLE1BQ0EsNkJBQTZCO0FBQUEsTUFDN0IsT0FBTyxHQUFHO0FBQUEsTUFDViw2QkFBNkI7QUFBQTtBQUFBLEVBRWpDO0FBQUEsRUFDQSxPQUFPO0FBQUE7QUFFVCxJQUFJLHdDQUF3QyxJQUFJLElBQUk7QUFBQSxFQUNsRDtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQ0YsQ0FBQztBQUNELFNBQVMsY0FBYyxDQUFDLFNBQVM7QUFBQSxFQUMvQixJQUFJLFdBQVcsUUFBUSxDQUFDLHNCQUFzQixJQUFJLE9BQU8sR0FBRztBQUFBLElBQzFELFFBQ0UsT0FDQSxJQUFJLDhGQUE4RixpQkFDcEc7QUFBQSxJQUNBLE9BQU87QUFBQSxFQUNUO0FBQUEsRUFDQSxPQUFPO0FBQUE7QUFFVCxTQUFTLHFCQUFxQixDQUFDLFFBQVEsVUFBVTtBQUFBLEVBQy9DLElBQUk7QUFBQSxFQUNKLElBQUk7QUFBQSxFQUNKLElBQUk7QUFBQSxFQUNKLElBQUk7QUFBQSxFQUNKLElBQUk7QUFBQSxFQUNKLElBQUksY0FBYyxNQUFNLEdBQUc7QUFBQSxJQUN6QixJQUFJLE9BQU8sT0FBTyxhQUFhLFFBQVE7QUFBQSxJQUN2QyxTQUFTLE9BQU8sY0FBYyxNQUFNLFFBQVEsSUFBSTtBQUFBLElBQ2hELFNBQVMsT0FBTyxhQUFhLFFBQVEsS0FBSztBQUFBLElBQzFDLFVBQVUsZUFBZSxPQUFPLGFBQWEsU0FBUyxDQUFDLEtBQUs7QUFBQSxJQUM1RCxXQUFXLElBQUksU0FBUyxNQUFNO0FBQUEsRUFDaEMsRUFBTyxTQUFJLGdCQUFnQixNQUFNLEtBQUssZUFBZSxNQUFNLE1BQU0sT0FBTyxTQUFTLFlBQVksT0FBTyxTQUFTLFVBQVU7QUFBQSxJQUNySCxJQUFJLE9BQU8sT0FBTztBQUFBLElBQ2xCLElBQUksUUFBUSxNQUFNO0FBQUEsTUFDaEIsTUFBTSxJQUFJLE1BQ1Isb0VBQ0Y7QUFBQSxJQUNGO0FBQUEsSUFDQSxJQUFJLE9BQU8sT0FBTyxhQUFhLFlBQVksS0FBSyxLQUFLLGFBQWEsUUFBUTtBQUFBLElBQzFFLFNBQVMsT0FBTyxjQUFjLE1BQU0sUUFBUSxJQUFJO0FBQUEsSUFDaEQsU0FBUyxPQUFPLGFBQWEsWUFBWSxLQUFLLEtBQUssYUFBYSxRQUFRLEtBQUs7QUFBQSxJQUM3RSxVQUFVLGVBQWUsT0FBTyxhQUFhLGFBQWEsQ0FBQyxLQUFLLGVBQWUsS0FBSyxhQUFhLFNBQVMsQ0FBQyxLQUFLO0FBQUEsSUFDaEgsV0FBVyxJQUFJLFNBQVMsTUFBTSxNQUFNO0FBQUEsSUFDcEMsSUFBSSxDQUFDLDZCQUE2QixHQUFHO0FBQUEsTUFDbkMsTUFBTSxNQUFNLE1BQU0sVUFBVTtBQUFBLE1BQzVCLElBQUksU0FBUyxTQUFTO0FBQUEsUUFDcEIsSUFBSSxTQUFTLE9BQU8sR0FBRyxVQUFVO0FBQUEsUUFDakMsU0FBUyxPQUFPLEdBQUcsV0FBVyxHQUFHO0FBQUEsUUFDakMsU0FBUyxPQUFPLEdBQUcsV0FBVyxHQUFHO0FBQUEsTUFDbkMsRUFBTyxTQUFJLE1BQU07QUFBQSxRQUNmLFNBQVMsT0FBTyxNQUFNLEtBQUs7QUFBQSxNQUM3QjtBQUFBLElBQ0Y7QUFBQSxFQUNGLEVBQU8sU0FBSSxjQUFjLE1BQU0sR0FBRztBQUFBLElBQ2hDLE1BQU0sSUFBSSxNQUNSLG9GQUNGO0FBQUEsRUFDRixFQUFPO0FBQUEsSUFDTCxTQUFTO0FBQUEsSUFDVCxTQUFTO0FBQUEsSUFDVCxVQUFVO0FBQUEsSUFDVixPQUFPO0FBQUE7QUFBQSxFQUVULElBQUksWUFBWSxZQUFZLGNBQWM7QUFBQSxJQUN4QyxPQUFPO0FBQUEsSUFDUCxXQUFnQjtBQUFBLEVBQ2xCO0FBQUEsRUFDQSxPQUFPLEVBQUUsUUFBUSxRQUFRLE9BQU8sWUFBWSxHQUFHLFNBQVMsVUFBVSxLQUFLO0FBQUE7QUFzTnpFLElBQUksb0JBQW9CLE9BQU8sb0JBQW9CLE9BQU8sU0FBUyxFQUFFLEtBQUssRUFBRSxLQUFLLE1BQUk7QUE2ZXJGLFNBQVMsVUFBVSxDQUFDLE9BQU8sU0FBUztBQUFBLEVBQ2xDLElBQUksVUFBVSxTQUFTLFVBQVUsUUFBUSxPQUFPLFVBQVUsYUFBYTtBQUFBLElBQ3JFLE1BQU0sSUFBSSxNQUFNLE9BQU87QUFBQSxFQUN6QjtBQUFBO0FBSUYsSUFBSSw0QkFBNEIsT0FBTyxxQkFBcUI7QUF1UzVELFNBQVMsY0FBYyxDQUFDLFFBQVEsVUFBVSxXQUFXO0FBQUEsRUFDbkQsSUFBSSxNQUFNLE9BQU8sV0FBVyxXQUFXLElBQUksSUFDekMsUUFHQSxPQUFPLFdBQVcsY0FBYywwQkFBMEIsT0FBTyxTQUFTLE1BQzVFLElBQUk7QUFBQSxFQUNKLElBQUksSUFBSSxhQUFhLEtBQUs7QUFBQSxJQUN4QixJQUFJLFdBQVcsU0FBUztBQUFBLEVBQzFCLEVBQU8sU0FBSSxZQUFZLGNBQWMsSUFBSSxVQUFVLFFBQVEsTUFBTSxLQUFLO0FBQUEsSUFDcEUsSUFBSSxXQUFXLEdBQUcsU0FBUyxRQUFRLE9BQU8sRUFBRSxXQUFXO0FBQUEsRUFDekQsRUFBTztBQUFBLElBQ0wsSUFBSSxXQUFXLEdBQUcsSUFBSSxTQUFTLFFBQVEsT0FBTyxFQUFFLEtBQUs7QUFBQTtBQUFBLEVBRXZELE9BQU87QUFBQTtBQXFLVCxlQUFlLGVBQWUsQ0FBQyxPQUFPLG1CQUFtQjtBQUFBLEVBQ3ZELElBQUksTUFBTSxNQUFNLG1CQUFtQjtBQUFBLElBQ2pDLE9BQU8sa0JBQWtCLE1BQU07QUFBQSxFQUNqQztBQUFBLEVBQ0EsSUFBSTtBQUFBLElBQ0YsSUFBSSxjQUFjLE1BR2hCLGFBQU07QUFBQSxJQUVSLGtCQUFrQixNQUFNLE1BQU07QUFBQSxJQUM5QixPQUFPO0FBQUEsSUFDUCxPQUFPLE9BQU87QUFBQSxJQUNkLFFBQVEsTUFDTixnQ0FBZ0MsTUFBTSw2QkFDeEM7QUFBQSxJQUNBLFFBQVEsTUFBTSxLQUFLO0FBQUEsSUFDbkIsSUFBSSxPQUFPLHdCQUF3QixPQUFPLHFCQUFxQixhQUMvRCxXQUFpQixDQUVqQjtBQUFBLElBQ0EsT0FBTyxTQUFTLE9BQU87QUFBQSxJQUN2QixPQUFPLElBQUksUUFBUSxNQUFNLEVBQ3hCO0FBQUE7QUFBQTtBQXlFTCxTQUFTLG9CQUFvQixDQUFDLFFBQVE7QUFBQSxFQUNwQyxPQUFPLFVBQVUsUUFBUSxPQUFPLE9BQU8sU0FBUztBQUFBO0FBRWxELFNBQVMsb0JBQW9CLENBQUMsUUFBUTtBQUFBLEVBQ3BDLElBQUksVUFBVSxNQUFNO0FBQUEsSUFDbEIsT0FBTztBQUFBLEVBQ1Q7QUFBQSxFQUNBLElBQUksT0FBTyxRQUFRLE1BQU07QUFBQSxJQUN2QixPQUFPLE9BQU8sUUFBUSxhQUFhLE9BQU8sT0FBTyxnQkFBZ0IsWUFBWSxPQUFPLE9BQU8sZUFBZTtBQUFBLEVBQzVHO0FBQUEsRUFDQSxPQUFPLE9BQU8sT0FBTyxRQUFRLFlBQVksT0FBTyxPQUFPLFNBQVM7QUFBQTtBQUVsRSxlQUFlLHFCQUFxQixDQUFDLFNBQVMsVUFBVSxjQUFjO0FBQUEsRUFDcEUsSUFBSSxRQUFRLE1BQU0sUUFBUSxJQUN4QixRQUFRLElBQUksT0FBTyxVQUFVO0FBQUEsSUFDM0IsSUFBSSxRQUFRLFNBQVMsT0FBTyxNQUFNLE1BQU07QUFBQSxJQUN4QyxJQUFJLE9BQU87QUFBQSxNQUNULElBQUksTUFBTSxNQUFNLGdCQUFnQixPQUFPLFlBQVk7QUFBQSxNQUNuRCxPQUFPLElBQUksUUFBUSxJQUFJLE1BQU0sSUFBSSxDQUFDO0FBQUEsSUFDcEM7QUFBQSxJQUNBLE9BQU8sQ0FBQztBQUFBLEdBQ1QsQ0FDSDtBQUFBLEVBQ0EsT0FBTyxzQkFDTCxNQUFNLEtBQUssQ0FBQyxFQUFFLE9BQU8sb0JBQW9CLEVBQUUsT0FBTyxDQUFDLFNBQVMsS0FBSyxRQUFRLGdCQUFnQixLQUFLLFFBQVEsU0FBUyxFQUFFLElBQy9HLENBQUMsU0FBUyxLQUFLLFFBQVEsZUFBZSxLQUFLLE1BQU0sS0FBSyxZQUFZLElBQUksUUFBUSxJQUFJLEtBQUssTUFBTSxLQUFLLFdBQVcsQ0FDL0csQ0FDRjtBQUFBO0FBRUYsU0FBUyxxQkFBcUIsQ0FBQyxNQUFNLGFBQWEsZ0JBQWdCLFVBQVUsV0FBVSxNQUFNO0FBQUEsRUFDMUYsSUFBSSxRQUFRLENBQUMsT0FBTyxVQUFVO0FBQUEsSUFDNUIsSUFBSSxDQUFDLGVBQWU7QUFBQSxNQUFRLE9BQU87QUFBQSxJQUNuQyxPQUFPLE1BQU0sTUFBTSxPQUFPLGVBQWUsT0FBTyxNQUFNO0FBQUE7QUFBQSxFQUV4RCxJQUFJLG1CQUFtQixDQUFDLE9BQU8sVUFBVTtBQUFBLElBQ3ZDLE9BRUUsZUFBZSxPQUFPLGFBQWEsTUFBTSxZQUV6QyxlQUFlLE9BQU8sTUFBTSxNQUFNLFNBQVMsR0FBRyxLQUFLLGVBQWUsT0FBTyxPQUFPLFNBQVMsTUFBTSxPQUFPO0FBQUE7QUFBQSxFQUcxRyxJQUFJLFNBQVMsVUFBVTtBQUFBLElBQ3JCLE9BQU8sWUFBWSxPQUNqQixDQUFDLE9BQU8sVUFBVSxNQUFNLE9BQU8sS0FBSyxLQUFLLGlCQUFpQixPQUFPLEtBQUssQ0FDeEU7QUFBQSxFQUNGO0FBQUEsRUFDQSxJQUFJLFNBQVMsUUFBUTtBQUFBLElBQ25CLE9BQU8sWUFBWSxPQUFPLENBQUMsT0FBTyxVQUFVO0FBQUEsTUFDMUMsSUFBSSxnQkFBZ0IsU0FBUyxPQUFPLE1BQU0sTUFBTTtBQUFBLE1BQ2hELElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxjQUFjLFdBQVc7QUFBQSxRQUM5QyxPQUFPO0FBQUEsTUFDVDtBQUFBLE1BQ0EsSUFBSSxNQUFNLE9BQU8sS0FBSyxLQUFLLGlCQUFpQixPQUFPLEtBQUssR0FBRztBQUFBLFFBQ3pELE9BQU87QUFBQSxNQUNUO0FBQUEsTUFDQSxJQUFJLE1BQU0sTUFBTSxrQkFBa0I7QUFBQSxRQUNoQyxJQUFJLGNBQWMsTUFBTSxNQUFNLGlCQUFpQjtBQUFBLFVBQzdDLFlBQVksSUFBSSxJQUNkLFVBQVMsV0FBVyxVQUFTLFNBQVMsVUFBUyxNQUMvQyxPQUFPLE1BQ1Q7QUFBQSxVQUNBLGVBQWUsZUFBZSxJQUFJLFVBQVUsQ0FBQztBQUFBLFVBQzdDLFNBQVMsSUFBSSxJQUFJLE1BQU0sT0FBTyxNQUFNO0FBQUEsVUFDcEMsWUFBWSxNQUFNO0FBQUEsVUFDbEIseUJBQXlCO0FBQUEsUUFDM0IsQ0FBQztBQUFBLFFBQ0QsSUFBSSxPQUFPLGdCQUFnQixXQUFXO0FBQUEsVUFDcEMsT0FBTztBQUFBLFFBQ1Q7QUFBQSxNQUNGO0FBQUEsTUFDQSxPQUFPO0FBQUEsS0FDUjtBQUFBLEVBQ0g7QUFBQSxFQUNBLE9BQU8sQ0FBQztBQUFBO0FBRVYsU0FBUyxrQkFBa0IsQ0FBQyxTQUFTLFlBQVksMkJBQTJCLENBQUMsR0FBRztBQUFBLEVBQzlFLE9BQU8sWUFDTCxRQUFRLElBQUksQ0FBQyxVQUFVO0FBQUEsSUFDckIsSUFBSSxRQUFRLFNBQVMsT0FBTyxNQUFNLE1BQU07QUFBQSxJQUN4QyxJQUFJLENBQUM7QUFBQSxNQUFPLE9BQU8sQ0FBQztBQUFBLElBQ3BCLElBQUksUUFBUSxDQUFDLE1BQU0sTUFBTTtBQUFBLElBQ3pCLElBQUksTUFBTSxvQkFBb0I7QUFBQSxNQUM1QixRQUFRLE1BQU0sT0FBTyxNQUFNLGtCQUFrQjtBQUFBLElBQy9DO0FBQUEsSUFDQSxJQUFJLE1BQU0sb0JBQW9CO0FBQUEsTUFDNUIsUUFBUSxNQUFNLE9BQU8sTUFBTSxrQkFBa0I7QUFBQSxJQUMvQztBQUFBLElBQ0EsSUFBSSwwQkFBMEIsTUFBTSx1QkFBdUI7QUFBQSxNQUN6RCxRQUFRLE1BQU0sT0FBTyxNQUFNLHFCQUFxQjtBQUFBLElBQ2xEO0FBQUEsSUFDQSxJQUFJLE1BQU0sU0FBUztBQUFBLE1BQ2pCLFFBQVEsTUFBTSxPQUFPLE1BQU0sT0FBTztBQUFBLElBQ3BDO0FBQUEsSUFDQSxPQUFPO0FBQUEsR0FDUixFQUFFLEtBQUssQ0FBQyxDQUNYO0FBQUE7QUFFRixTQUFTLFdBQVcsQ0FBQyxPQUFPO0FBQUEsRUFDMUIsT0FBTyxDQUFDLEdBQUcsSUFBSSxJQUFJLEtBQUssQ0FBQztBQUFBO0FBRTNCLFNBQVMsUUFBUSxDQUFDLEtBQUs7QUFBQSxFQUNyQixJQUFJLFNBQVMsQ0FBQztBQUFBLEVBQ2QsSUFBSSxPQUFPLE9BQU8sS0FBSyxHQUFHLEVBQUUsS0FBSztBQUFBLEVBQ2pDLFNBQVMsT0FBTyxNQUFNO0FBQUEsSUFDcEIsT0FBTyxPQUFPLElBQUk7QUFBQSxFQUNwQjtBQUFBLEVBQ0EsT0FBTztBQUFBO0FBRVQsU0FBUyxxQkFBcUIsQ0FBQyxhQUFhLFVBQVU7QUFBQSxFQUNwRCxJQUFJLHNCQUFzQixJQUFJO0FBQUEsRUFDOUIsSUFBSSxjQUFjLElBQUksSUFBSSxRQUFRO0FBQUEsRUFDbEMsT0FBTyxZQUFZLE9BQU8sQ0FBQyxTQUFTLGVBQWU7QUFBQSxJQUNqRCxJQUFJLHVCQUF1QixZQUFZLENBQUMscUJBQXFCLFVBQVUsS0FBSyxXQUFXLE9BQU8sWUFBWSxXQUFXLFFBQVEsWUFBWSxJQUFJLFdBQVcsSUFBSTtBQUFBLElBQzVKLElBQUksc0JBQXNCO0FBQUEsTUFDeEIsT0FBTztBQUFBLElBQ1Q7QUFBQSxJQUNBLElBQUksTUFBTSxLQUFLLFVBQVUsU0FBUyxVQUFVLENBQUM7QUFBQSxJQUM3QyxJQUFJLENBQUMsSUFBSSxJQUFJLEdBQUcsR0FBRztBQUFBLE1BQ2pCLElBQUksSUFBSSxHQUFHO0FBQUEsTUFDWCxRQUFRLEtBQUssRUFBRSxLQUFLLE1BQU0sV0FBVyxDQUFDO0FBQUEsSUFDeEM7QUFBQSxJQUNBLE9BQU87QUFBQSxLQUNOLENBQUMsQ0FBQztBQUFBO0FBMm9CUCxTQUFTLHFCQUFxQixHQUFHO0FBQUEsRUFDL0IsSUFBSSxVQUFpQixrQkFBVyxpQkFBaUI7QUFBQSxFQUNqRCxXQUNFLFNBQ0EsNEVBQ0Y7QUFBQSxFQUNBLE9BQU87QUFBQTtBQUVULFNBQVMseUJBQXlCLEdBQUc7QUFBQSxFQUNuQyxJQUFJLFVBQWlCLGtCQUFXLHNCQUFzQjtBQUFBLEVBQ3RELFdBQ0UsU0FDQSxpRkFDRjtBQUFBLEVBQ0EsT0FBTztBQUFBO0FBRVQsSUFBSSxtQkFBMEIscUJBQW1CLFNBQUM7QUFDbEQsaUJBQWlCLGNBQWM7QUFDL0IsU0FBUyxtQkFBbUIsR0FBRztBQUFBLEVBQzdCLElBQUksVUFBaUIsa0JBQVcsZ0JBQWdCO0FBQUEsRUFDaEQsV0FDRSxTQUNBLGdFQUNGO0FBQUEsRUFDQSxPQUFPO0FBQUE7QUFFVCxTQUFTLG1CQUFtQixDQUFDLFVBQVUsbUJBQW1CO0FBQUEsRUFDeEQsSUFBSSxtQkFBMEIsa0JBQVcsZ0JBQWdCO0FBQUEsRUFDekQsS0FBSyxlQUFlLG9CQUEyQixnQkFBUyxLQUFLO0FBQUEsRUFDN0QsS0FBSyxnQkFBZ0IscUJBQTRCLGdCQUFTLEtBQUs7QUFBQSxFQUMvRCxNQUFNLFNBQVMsUUFBUSxjQUFjLGNBQWMsaUJBQWlCO0FBQUEsRUFDcEUsSUFBSSxNQUFhLGNBQU8sSUFBSTtBQUFBLEVBQ3JCLGlCQUFVLE1BQU07QUFBQSxJQUNyQixJQUFJLGFBQWEsVUFBVTtBQUFBLE1BQ3pCLGtCQUFrQixJQUFJO0FBQUEsSUFDeEI7QUFBQSxJQUNBLElBQUksYUFBYSxZQUFZO0FBQUEsTUFDM0IsSUFBSSxXQUFXLENBQUMsWUFBWTtBQUFBLFFBQzFCLFFBQVEsUUFBUSxDQUFDLFVBQVU7QUFBQSxVQUN6QixrQkFBa0IsTUFBTSxjQUFjO0FBQUEsU0FDdkM7QUFBQTtBQUFBLE1BRUgsSUFBSSxXQUFXLElBQUkscUJBQXFCLFVBQVUsRUFBRSxXQUFXLElBQUksQ0FBQztBQUFBLE1BQ3BFLElBQUksSUFBSTtBQUFBLFFBQVMsU0FBUyxRQUFRLElBQUksT0FBTztBQUFBLE1BQzdDLE9BQU8sTUFBTTtBQUFBLFFBQ1gsU0FBUyxXQUFXO0FBQUE7QUFBQSxJQUV4QjtBQUFBLEtBQ0MsQ0FBQyxRQUFRLENBQUM7QUFBQSxFQUNOLGlCQUFVLE1BQU07QUFBQSxJQUNyQixJQUFJLGVBQWU7QUFBQSxNQUNqQixJQUFJLEtBQUssV0FBVyxNQUFNO0FBQUEsUUFDeEIsa0JBQWtCLElBQUk7QUFBQSxTQUNyQixHQUFHO0FBQUEsTUFDTixPQUFPLE1BQU07QUFBQSxRQUNYLGFBQWEsRUFBRTtBQUFBO0FBQUEsSUFFbkI7QUFBQSxLQUNDLENBQUMsYUFBYSxDQUFDO0FBQUEsRUFDbEIsSUFBSSxZQUFZLE1BQU07QUFBQSxJQUNwQixpQkFBaUIsSUFBSTtBQUFBO0FBQUEsRUFFdkIsSUFBSSxlQUFlLE1BQU07QUFBQSxJQUN2QixpQkFBaUIsS0FBSztBQUFBLElBQ3RCLGtCQUFrQixLQUFLO0FBQUE7QUFBQSxFQUV6QixJQUFJLENBQUMsa0JBQWtCO0FBQUEsSUFDckIsT0FBTyxDQUFDLE9BQU8sS0FBSyxDQUFDLENBQUM7QUFBQSxFQUN4QjtBQUFBLEVBQ0EsSUFBSSxhQUFhLFVBQVU7QUFBQSxJQUN6QixPQUFPLENBQUMsZ0JBQWdCLEtBQUssQ0FBQyxDQUFDO0FBQUEsRUFDakM7QUFBQSxFQUNBLE9BQU87QUFBQSxJQUNMO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxNQUNFLFNBQVMscUJBQXFCLFNBQVMsU0FBUztBQUFBLE1BQ2hELFFBQVEscUJBQXFCLFFBQVEsWUFBWTtBQUFBLE1BQ2pELGNBQWMscUJBQXFCLGNBQWMsU0FBUztBQUFBLE1BQzFELGNBQWMscUJBQXFCLGNBQWMsWUFBWTtBQUFBLE1BQzdELGNBQWMscUJBQXFCLGNBQWMsU0FBUztBQUFBLElBQzVEO0FBQUEsRUFDRjtBQUFBO0FBRUYsU0FBUyxvQkFBb0IsQ0FBQyxjQUFjLFlBQVk7QUFBQSxFQUN0RCxPQUFPLENBQUMsVUFBVTtBQUFBLElBQ2hCLGdCQUFnQixhQUFhLEtBQUs7QUFBQSxJQUNsQyxJQUFJLENBQUMsTUFBTSxrQkFBa0I7QUFBQSxNQUMzQixXQUFXLEtBQUs7QUFBQSxJQUNsQjtBQUFBO0FBQUE7QUF3Q0osU0FBUyxpQkFBaUIsR0FBRyxTQUFTLGFBQWE7QUFBQSxFQUNqRCxNQUFNLFdBQVcsc0JBQXNCO0FBQUEsRUFDdkMsSUFBSSxVQUFpQixlQUNuQixNQUFNLFlBQVksT0FBTyxRQUFRLE1BQU0sT0FBTyxRQUFRLEdBQ3RELENBQUMsT0FBTyxRQUFRLE1BQU0sT0FBTyxRQUFRLENBQ3ZDO0FBQUEsRUFDQSxJQUFJLENBQUMsU0FBUztBQUFBLElBQ1osT0FBTztBQUFBLEVBQ1Q7QUFBQSxFQUNBLHVCQUE4QixxQkFBYyx1QkFBdUIsRUFBRSxNQUFNLFlBQVksVUFBVSxDQUFDO0FBQUE7QUFFcEcsU0FBUyxxQkFBcUIsQ0FBQyxTQUFTO0FBQUEsRUFDdEMsTUFBTSxVQUFVLGlCQUFpQixvQkFBb0I7QUFBQSxFQUNyRCxLQUFLLG9CQUFvQix5QkFBZ0MsZ0JBQVMsQ0FBQyxDQUFDO0FBQUEsRUFDN0QsaUJBQVUsTUFBTTtBQUFBLElBQ3JCLElBQUksY0FBYztBQUFBLElBQ2Isc0JBQXNCLFNBQVMsVUFBVSxZQUFZLEVBQUUsS0FDMUQsQ0FBQyxVQUFVO0FBQUEsTUFDVCxJQUFJLENBQUMsYUFBYTtBQUFBLFFBQ2hCLHNCQUFzQixLQUFLO0FBQUEsTUFDN0I7QUFBQSxLQUVKO0FBQUEsSUFDQSxPQUFPLE1BQU07QUFBQSxNQUNYLGNBQWM7QUFBQTtBQUFBLEtBRWYsQ0FBQyxTQUFTLFVBQVUsWUFBWSxDQUFDO0FBQUEsRUFDcEMsT0FBTztBQUFBO0FBRVQsU0FBUyxxQkFBcUI7QUFBQSxFQUM1QjtBQUFBLEVBQ0EsU0FBUztBQUFBLEtBQ047QUFBQSxHQUNGO0FBQUEsRUFDRCxJQUFJLFlBQVcsWUFBWTtBQUFBLEVBQzNCLE1BQU0sVUFBVSxpQkFBaUIsb0JBQW9CO0FBQUEsRUFDckQsTUFBTSxhQUFhLHNCQUFzQjtBQUFBLEVBQ3pDLE1BQU0sWUFBWSxZQUFZLDBCQUEwQjtBQUFBLEVBQ3hELElBQUksb0JBQTJCLGVBQzdCLE1BQU0sc0JBQ0osTUFDQSxhQUNBLFNBQ0EsVUFDQSxXQUNBLE1BQ0YsR0FDQSxDQUFDLE1BQU0sYUFBYSxTQUFTLFVBQVUsU0FBUSxDQUNqRDtBQUFBLEVBQ0EsSUFBSSxzQkFBNkIsZUFDL0IsTUFBTSxzQkFDSixNQUNBLGFBQ0EsU0FDQSxVQUNBLFdBQ0EsUUFDRixHQUNBLENBQUMsTUFBTSxhQUFhLFNBQVMsVUFBVSxTQUFRLENBQ2pEO0FBQUEsRUFDQSxJQUFJLFlBQW1CLGVBQVEsTUFBTTtBQUFBLElBQ25DLElBQUksU0FBUyxVQUFTLFdBQVcsVUFBUyxTQUFTLFVBQVMsTUFBTTtBQUFBLE1BQ2hFLE9BQU8sQ0FBQztBQUFBLElBQ1Y7QUFBQSxJQUNBLElBQUksK0JBQStCLElBQUk7QUFBQSxJQUN2QyxJQUFJLG1CQUFtQjtBQUFBLElBQ3ZCLFlBQVksUUFBUSxDQUFDLE1BQU07QUFBQSxNQUN6QixJQUFJLGdCQUFnQixTQUFTLE9BQU8sRUFBRSxNQUFNO0FBQUEsTUFDNUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLGNBQWMsV0FBVztBQUFBLFFBQzlDO0FBQUEsTUFDRjtBQUFBLE1BQ0EsSUFBSSxDQUFDLGtCQUFrQixLQUFLLENBQUMsT0FBTyxHQUFHLE1BQU0sT0FBTyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsTUFBTSxNQUFNLGNBQWMsYUFBYSxFQUFFLE1BQU0sS0FBSyxrQkFBa0I7QUFBQSxRQUN6SSxtQkFBbUI7QUFBQSxNQUNyQixFQUFPLFNBQUksY0FBYyxpQkFBaUI7QUFBQSxRQUN4QyxtQkFBbUI7QUFBQSxNQUNyQixFQUFPO0FBQUEsUUFDTCxhQUFhLElBQUksRUFBRSxNQUFNLEVBQUU7QUFBQTtBQUFBLEtBRTlCO0FBQUEsSUFDRCxJQUFJLGFBQWEsU0FBUyxHQUFHO0FBQUEsTUFDM0IsT0FBTyxDQUFDO0FBQUEsSUFDVjtBQUFBLElBQ0EsSUFBSSxNQUFNLGVBQWUsTUFBTSxVQUFVLE1BQU07QUFBQSxJQUMvQyxJQUFJLG9CQUFvQixhQUFhLE9BQU8sR0FBRztBQUFBLE1BQzdDLElBQUksYUFBYSxJQUNmLFdBQ0EsWUFBWSxPQUFPLENBQUMsTUFBTSxhQUFhLElBQUksRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLEVBQUUsS0FBSyxHQUFHLENBQ3pGO0FBQUEsSUFDRjtBQUFBLElBQ0EsT0FBTyxDQUFDLElBQUksV0FBVyxJQUFJLE1BQU07QUFBQSxLQUNoQztBQUFBLElBQ0Q7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsRUFDRixDQUFDO0FBQUEsRUFDRCxJQUFJLGNBQXFCLGVBQ3ZCLE1BQU0sbUJBQW1CLHFCQUFxQixRQUFRLEdBQ3RELENBQUMscUJBQXFCLFFBQVEsQ0FDaEM7QUFBQSxFQUNBLElBQUkscUJBQXFCLHNCQUFzQixtQkFBbUI7QUFBQSxFQUNsRSx1QkFBOEIscUJBQXFCLGlCQUFVLE1BQU0sVUFBVSxJQUFJLENBQUMseUJBQWdDLHFCQUFjLFFBQVEsRUFBRSxLQUFLLE1BQU0sS0FBSyxZQUFZLElBQUksU0FBUyxTQUFTLFVBQVUsQ0FBQyxDQUFDLEdBQUcsWUFBWSxJQUFJLENBQUMseUJBQWdDLHFCQUFjLFFBQVEsRUFBRSxLQUFLLE1BQU0sS0FBSyxpQkFBaUIsU0FBUyxVQUFVLENBQUMsQ0FBQyxHQUFHLG1CQUFtQixJQUFJLEdBQUcsS0FBSywyQkFHblYscUJBQWMsUUFBUSxFQUFFLEtBQUssT0FBTyxVQUFVLFVBQVUsS0FBSyxDQUFDLENBQ3RGLENBQUM7QUFBQTtBQTRRSixTQUFTLFNBQVMsSUFBSSxNQUFNO0FBQUEsRUFDMUIsT0FBTyxDQUFDLFVBQVU7QUFBQSxJQUNoQixLQUFLLFFBQVEsQ0FBQyxRQUFRO0FBQUEsTUFDcEIsSUFBSSxPQUFPLFFBQVEsWUFBWTtBQUFBLFFBQzdCLElBQUksS0FBSztBQUFBLE1BQ1gsRUFBTyxTQUFJLE9BQU8sTUFBTTtBQUFBLFFBQ3RCLElBQUksVUFBVTtBQUFBLE1BQ2hCO0FBQUEsS0FDRDtBQUFBO0FBQUE7QUF1R0wsSUFBSSxZQUFZLE9BQU8sV0FBVyxlQUFlLE9BQU8sT0FBTyxhQUFhLGVBQWUsT0FBTyxPQUFPLFNBQVMsa0JBQWtCO0FBQ3BJLElBQUk7QUFBQSxFQUNGLElBQUksV0FBVztBQUFBLElBQ2IsT0FBTyx1QkFDUDtBQUFBLEVBQ0Y7QUFBQSxFQUNBLE9BQU8sR0FBRztBQUVaLFNBQVMsbUJBQW1CLENBQUMsUUFBUSxNQUFNO0FBQUEsRUFDekMsT0FBTyxhQUFhO0FBQUEsSUFDbEIsVUFBVSxNQUFNO0FBQUEsSUFDaEIsWUFBWSxNQUFNO0FBQUEsSUFDbEIsUUFBUSxNQUFNO0FBQUEsSUFDZCxTQUFTLHFCQUFxQixFQUFFLFFBQVEsTUFBTSxPQUFPLENBQUM7QUFBQSxJQUN0RCxlQUFlLE1BQU0saUJBQWlCLG1CQUFtQjtBQUFBLElBQ3pEO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBLGNBQWMsTUFBTTtBQUFBLElBQ3BCLHlCQUF5QixNQUFNO0FBQUEsSUFDL0IsUUFBUSxNQUFNO0FBQUEsSUFDZCwyQkFBMkIsTUFBTTtBQUFBLEVBQ25DLENBQUMsRUFBRSxXQUFXO0FBQUE7QUFrQmhCLFNBQVMsa0JBQWtCLEdBQUc7QUFBQSxFQUM1QixJQUFJLFFBQVEsUUFBUTtBQUFBLEVBQ3BCLElBQUksU0FBUyxNQUFNLFFBQVE7QUFBQSxJQUN6QixRQUFRO0FBQUEsU0FDSDtBQUFBLE1BQ0gsUUFBUSxrQkFBa0IsTUFBTSxNQUFNO0FBQUEsSUFDeEM7QUFBQSxFQUNGO0FBQUEsRUFDQSxPQUFPO0FBQUE7QUFFVCxTQUFTLGlCQUFpQixDQUFDLFFBQVE7QUFBQSxFQUNqQyxJQUFJLENBQUM7QUFBQSxJQUFRLE9BQU87QUFBQSxFQUNwQixJQUFJLFVBQVUsT0FBTyxRQUFRLE1BQU07QUFBQSxFQUNuQyxJQUFJLGFBQWEsQ0FBQztBQUFBLEVBQ2xCLFVBQVUsS0FBSyxRQUFRLFNBQVM7QUFBQSxJQUM5QixJQUFJLE9BQU8sSUFBSSxXQUFXLHNCQUFzQjtBQUFBLE1BQzlDLFdBQVcsT0FBTyxJQUFJLGtCQUNwQixJQUFJLFFBQ0osSUFBSSxZQUNKLElBQUksTUFDSixJQUFJLGFBQWEsSUFDbkI7QUFBQSxJQUNGLEVBQU8sU0FBSSxPQUFPLElBQUksV0FBVyxTQUFTO0FBQUEsTUFDeEMsSUFBSSxJQUFJLFdBQVc7QUFBQSxRQUNqQixJQUFJLG1CQUFtQixPQUFPLElBQUk7QUFBQSxRQUNsQyxJQUFJLE9BQU8scUJBQXFCLFlBQVk7QUFBQSxVQUMxQyxJQUFJO0FBQUEsWUFDRixJQUFJLFFBQVEsSUFBSSxpQkFBaUIsSUFBSSxPQUFPO0FBQUEsWUFDNUMsTUFBTSxRQUFRO0FBQUEsWUFDZCxXQUFXLE9BQU87QUFBQSxZQUNsQixPQUFPLEdBQUc7QUFBQSxRQUVkO0FBQUEsTUFDRjtBQUFBLE1BQ0EsSUFBSSxXQUFXLFFBQVEsTUFBTTtBQUFBLFFBQzNCLElBQUksUUFBUSxJQUFJLE1BQU0sSUFBSSxPQUFPO0FBQUEsUUFDakMsTUFBTSxRQUFRO0FBQUEsUUFDZCxXQUFXLE9BQU87QUFBQSxNQUNwQjtBQUFBLElBQ0YsRUFBTztBQUFBLE1BQ0wsV0FBVyxPQUFPO0FBQUE7QUFBQSxFQUV0QjtBQUFBLEVBQ0EsT0FBTztBQUFBO0FBOERULFNBQVMsYUFBYTtBQUFBLEVBQ3BCO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxHQUNDO0FBQUEsRUFDRCxLQUFLLE9BQU8sZ0JBQXdCLGlCQUFTO0FBQUEsSUFDM0MsUUFBUSxRQUFRO0FBQUEsSUFDaEIsVUFBVSxRQUFRO0FBQUEsRUFDcEIsQ0FBQztBQUFBLEVBQ0QsSUFBSSxXQUFtQixvQkFDckIsQ0FBQyxhQUFhO0FBQUEsSUFDSix3QkFBZ0IsTUFBTSxhQUFhLFFBQVEsQ0FBQztBQUFBLEtBRXRELENBQUMsWUFBWSxDQUNmO0FBQUEsRUFDUSx3QkFBZ0IsTUFBTSxRQUFRLE9BQU8sUUFBUSxHQUFHLENBQUMsU0FBUyxRQUFRLENBQUM7QUFBQSxFQUMzRSx1QkFBK0Isc0JBQzdCLFFBQ0E7QUFBQSxJQUNFO0FBQUEsSUFDQTtBQUFBLElBQ0EsVUFBVSxNQUFNO0FBQUEsSUFDaEIsZ0JBQWdCLE1BQU07QUFBQSxJQUN0QixXQUFXO0FBQUEsRUFDYixDQUNGO0FBQUE7QUFFRixjQUFjLGNBQWM7QUFDNUIsSUFBSSxzQkFBc0I7QUFDMUIsSUFBSSxPQUFlLG1CQUNqQixTQUFTLFdBQVc7QUFBQSxFQUNsQjtBQUFBLEVBQ0EsV0FBVztBQUFBLEVBQ1gsV0FBVztBQUFBLEVBQ1g7QUFBQSxFQUNBO0FBQUEsRUFDQSxTQUFTO0FBQUEsRUFDVDtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxLQUNHO0FBQUEsR0FDRixjQUFjO0FBQUEsRUFDZixNQUFNLGFBQXFCLG1CQUFXLGlCQUFpQjtBQUFBLEVBQ3ZELElBQUksYUFBYSxPQUFPLE9BQU8sWUFBWSxvQkFBb0IsS0FBSyxFQUFFO0FBQUEsRUFDdEUsSUFBSTtBQUFBLEVBQ0osSUFBSSxhQUFhO0FBQUEsRUFDakIsSUFBSSxPQUFPLE9BQU8sWUFBWSxZQUFZO0FBQUEsSUFDeEMsZUFBZTtBQUFBLElBQ2YsSUFBSSxXQUFXO0FBQUEsTUFDYixJQUFJO0FBQUEsUUFDRixJQUFJLGFBQWEsSUFBSSxJQUFJLE9BQU8sU0FBUyxJQUFJO0FBQUEsUUFDN0MsSUFBSSxZQUFZLEdBQUcsV0FBVyxJQUFJLElBQUksSUFBSSxJQUFJLFdBQVcsV0FBVyxFQUFFLElBQUksSUFBSSxJQUFJLEVBQUU7QUFBQSxRQUNwRixJQUFJLE9BQU8sY0FBYyxVQUFVLFVBQVUsUUFBUTtBQUFBLFFBQ3JELElBQUksVUFBVSxXQUFXLFdBQVcsVUFBVSxRQUFRLE1BQU07QUFBQSxVQUMxRCxLQUFLLE9BQU8sVUFBVSxTQUFTLFVBQVU7QUFBQSxRQUMzQyxFQUFPO0FBQUEsVUFDTCxhQUFhO0FBQUE7QUFBQSxRQUVmLE9BQU8sR0FBRztBQUFBLFFBQ1YsUUFDRSxPQUNBLGFBQWEsMEdBQ2Y7QUFBQTtBQUFBLElBRUo7QUFBQSxFQUNGO0FBQUEsRUFDQSxJQUFJLE9BQU8sUUFBUSxJQUFJLEVBQUUsU0FBUyxDQUFDO0FBQUEsRUFDbkMsS0FBSyxnQkFBZ0IsYUFBYSxvQkFBb0Isb0JBQ3BELFVBQ0EsSUFDRjtBQUFBLEVBQ0EsSUFBSSxrQkFBa0Isb0JBQW9CLElBQUk7QUFBQSxJQUM1QyxTQUFTO0FBQUEsSUFDVDtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxFQUNGLENBQUM7QUFBQSxFQUNELFNBQVMsV0FBVyxDQUFDLE9BQU87QUFBQSxJQUMxQixJQUFJO0FBQUEsTUFBUyxRQUFRLEtBQUs7QUFBQSxJQUMxQixJQUFJLENBQUMsTUFBTSxrQkFBa0I7QUFBQSxNQUMzQixnQkFBZ0IsS0FBSztBQUFBLElBQ3ZCO0FBQUE7QUFBQSxFQUVGLElBQUksdUJBRXNCLHNCQUN0QixLQUNBO0FBQUEsT0FDSztBQUFBLE9BQ0E7QUFBQSxJQUNILE1BQU0sZ0JBQWdCO0FBQUEsSUFDdEIsU0FBUyxjQUFjLGlCQUFpQixVQUFVO0FBQUEsSUFDbEQsS0FBSyxVQUFVLGNBQWMsV0FBVztBQUFBLElBQ3hDO0FBQUEsSUFDQSxpQkFBaUIsQ0FBQyxjQUFjLGFBQWEsV0FBVyxTQUFjO0FBQUEsRUFDeEUsQ0FDRjtBQUFBLEVBRUYsT0FBTyxrQkFBa0IsQ0FBQyw2QkFBcUMsc0JBQXNCLGtCQUFVLE1BQU0sc0JBQThCLHNCQUFjLG1CQUFtQixFQUFFLE1BQU0sS0FBSyxDQUFDLENBQUMsSUFBSTtBQUFBLENBRTNMO0FBQ0EsS0FBSyxjQUFjO0FBQ25CLElBQUksVUFBa0IsbUJBQ3BCLFNBQVMsY0FBYztBQUFBLEVBQ3JCLGdCQUFnQixrQkFBa0I7QUFBQSxFQUNsQyxnQkFBZ0I7QUFBQSxFQUNoQixXQUFXLGdCQUFnQjtBQUFBLEVBQzNCLE1BQU07QUFBQSxFQUNOLE9BQU87QUFBQSxFQUNQO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxLQUNHO0FBQUEsR0FDRixLQUFLO0FBQUEsRUFDTixJQUFJLE9BQU8sZ0JBQWdCLElBQUksRUFBRSxVQUFVLEtBQUssU0FBUyxDQUFDO0FBQUEsRUFDMUQsSUFBSSxZQUFXLFlBQVk7QUFBQSxFQUMzQixJQUFJLGNBQXNCLG1CQUFXLHNCQUFzQjtBQUFBLEVBQzNELE1BQU0sdUJBQVcsYUFBcUIsbUJBQVcsaUJBQWlCO0FBQUEsRUFDbEUsSUFBSSxrQkFBa0IsZUFBZSxRQUVyQyx1QkFBdUIsSUFBSSxLQUFLLG1CQUFtQjtBQUFBLEVBQ25ELElBQUksYUFBYSxXQUFVLGlCQUFpQixXQUFVLGVBQWUsSUFBSSxFQUFFLFdBQVcsS0FBSztBQUFBLEVBQzNGLElBQUksbUJBQW1CLFVBQVM7QUFBQSxFQUNoQyxJQUFJLHVCQUF1QixlQUFlLFlBQVksY0FBYyxZQUFZLFdBQVcsV0FBVyxZQUFZLFdBQVcsU0FBUyxXQUFXO0FBQUEsRUFDakosSUFBSSxDQUFDLGVBQWU7QUFBQSxJQUNsQixtQkFBbUIsaUJBQWlCLFlBQVk7QUFBQSxJQUNoRCx1QkFBdUIsdUJBQXVCLHFCQUFxQixZQUFZLElBQUk7QUFBQSxJQUNuRixhQUFhLFdBQVcsWUFBWTtBQUFBLEVBQ3RDO0FBQUEsRUFDQSxJQUFJLHdCQUF3QixVQUFVO0FBQUEsSUFDcEMsdUJBQXVCLGNBQWMsc0JBQXNCLFFBQVEsS0FBSztBQUFBLEVBQzFFO0FBQUEsRUFDQSxNQUFNLG1CQUFtQixlQUFlLE9BQU8sV0FBVyxTQUFTLEdBQUcsSUFBSSxXQUFXLFNBQVMsSUFBSSxXQUFXO0FBQUEsRUFDN0csSUFBSSxXQUFXLHFCQUFxQixjQUFjLENBQUMsT0FBTyxpQkFBaUIsV0FBVyxVQUFVLEtBQUssaUJBQWlCLE9BQU8sZ0JBQWdCLE1BQU07QUFBQSxFQUNuSixJQUFJLFlBQVksd0JBQXdCLFNBQVMseUJBQXlCLGNBQWMsQ0FBQyxPQUFPLHFCQUFxQixXQUFXLFVBQVUsS0FBSyxxQkFBcUIsT0FBTyxXQUFXLE1BQU0sTUFBTTtBQUFBLEVBQ2xNLElBQUksY0FBYztBQUFBLElBQ2hCO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxFQUNGO0FBQUEsRUFDQSxJQUFJLGNBQWMsV0FBVyxrQkFBdUI7QUFBQSxFQUNwRCxJQUFJO0FBQUEsRUFDSixJQUFJLE9BQU8sa0JBQWtCLFlBQVk7QUFBQSxJQUN2QyxZQUFZLGNBQWMsV0FBVztBQUFBLEVBQ3ZDLEVBQU87QUFBQSxJQUNMLFlBQVk7QUFBQSxNQUNWO0FBQUEsTUFDQSxXQUFXLFdBQVc7QUFBQSxNQUN0QixZQUFZLFlBQVk7QUFBQSxNQUN4QixrQkFBa0Isa0JBQWtCO0FBQUEsSUFDdEMsRUFBRSxPQUFPLE9BQU8sRUFBRSxLQUFLLEdBQUc7QUFBQTtBQUFBLEVBRTVCLElBQUksUUFBUSxPQUFPLGNBQWMsYUFBYSxVQUFVLFdBQVcsSUFBSTtBQUFBLEVBQ3ZFLHVCQUErQixzQkFDN0IsTUFDQTtBQUFBLE9BQ0s7QUFBQSxJQUNILGdCQUFnQjtBQUFBLElBQ2hCO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLEVBQ0YsR0FDQSxPQUFPLGFBQWEsYUFBYSxTQUFTLFdBQVcsSUFBSSxRQUMzRDtBQUFBLENBRUo7QUFDQSxRQUFRLGNBQWM7QUFDdEIsSUFBSSxPQUFlLG1CQUNqQjtBQUFBLEVBQ0UsV0FBVztBQUFBLEVBQ1g7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0EsU0FBUztBQUFBLEVBQ1Q7QUFBQSxFQUNBLFNBQVM7QUFBQSxFQUNUO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEtBQ0c7QUFBQSxHQUNGLGlCQUFpQjtBQUFBLEVBQ2xCLElBQUksU0FBUyxVQUFVO0FBQUEsRUFDdkIsSUFBSSxhQUFhLGNBQWMsUUFBUSxFQUFFLFNBQVMsQ0FBQztBQUFBLEVBQ25ELElBQUksYUFBYSxPQUFPLFlBQVksTUFBTSxRQUFRLFFBQVE7QUFBQSxFQUMxRCxJQUFJLGFBQWEsT0FBTyxXQUFXLFlBQVksb0JBQW9CLEtBQUssTUFBTTtBQUFBLEVBQzlFLElBQUksZ0JBQWdCLENBQUMsVUFBVTtBQUFBLElBQzdCLFlBQVksU0FBUyxLQUFLO0FBQUEsSUFDMUIsSUFBSSxNQUFNO0FBQUEsTUFBa0I7QUFBQSxJQUM1QixNQUFNLGVBQWU7QUFBQSxJQUNyQixJQUFJLFlBQVksTUFBTSxZQUFZO0FBQUEsSUFDbEMsSUFBSSxlQUFlLFdBQVcsYUFBYSxZQUFZLEtBQUs7QUFBQSxJQUM1RCxPQUFPLGFBQWEsTUFBTSxlQUFlO0FBQUEsTUFDdkM7QUFBQSxNQUNBLFFBQVE7QUFBQSxNQUNSO0FBQUEsTUFDQSxTQUFTO0FBQUEsTUFDVDtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLElBQ0YsQ0FBQztBQUFBO0FBQUEsRUFFSCx1QkFBK0Isc0JBQzdCLFFBQ0E7QUFBQSxJQUNFLEtBQUs7QUFBQSxJQUNMLFFBQVE7QUFBQSxJQUNSLFFBQVE7QUFBQSxJQUNSLFVBQVUsaUJBQWlCLFdBQVc7QUFBQSxPQUNuQztBQUFBLElBQ0gsaUJBQWlCLENBQUMsY0FBYyxhQUFhLFdBQVcsU0FBYztBQUFBLEVBQ3hFLENBQ0Y7QUFBQSxDQUVKO0FBQ0EsS0FBSyxjQUFjO0FBQ25CLFNBQVMsaUJBQWlCO0FBQUEsRUFDeEI7QUFBQSxFQUNBO0FBQUEsS0FDRztBQUFBLEdBQ0Y7QUFBQSxFQUNELElBQUksZUFBdUIsbUJBQVcsZ0JBQWdCO0FBQUEsRUFDdEQsTUFBTSxhQUFxQixtQkFBVyxpQkFBaUI7QUFBQSxFQUN2RCxJQUFJLFlBQVcsWUFBWTtBQUFBLEVBQzNCLElBQUksVUFBVSxXQUFXO0FBQUEsRUFDekIscUJBQXFCLEVBQUUsUUFBUSxXQUFXLENBQUM7QUFBQSxFQUMzQyxJQUFJLFNBQWlCLGdCQUNuQixNQUFNO0FBQUEsSUFDSixJQUFJLENBQUMsZ0JBQWdCLENBQUM7QUFBQSxNQUFRLE9BQU87QUFBQSxJQUNyQyxJQUFJLFVBQVUsd0JBQ1osV0FDQSxTQUNBLFVBQ0EsTUFDRjtBQUFBLElBQ0EsT0FBTyxZQUFZLFVBQVMsTUFBTSxVQUFVO0FBQUEsS0FJOUMsQ0FBQyxDQUNIO0FBQUEsRUFDQSxJQUFJLENBQUMsZ0JBQWdCLGFBQWEsV0FBVztBQUFBLElBQzNDLE9BQU87QUFBQSxFQUNUO0FBQUEsRUFDQSxJQUFJLGlCQUFpQixDQUFDLGFBQWEsZUFBZTtBQUFBLElBQ2hELElBQUksQ0FBQyxPQUFPLFFBQVEsU0FBUyxDQUFDLE9BQU8sUUFBUSxNQUFNLEtBQUs7QUFBQSxNQUN0RCxJQUFJLE1BQU0sS0FBSyxPQUFPLEVBQUUsU0FBUyxFQUFFLEVBQUUsTUFBTSxDQUFDO0FBQUEsTUFDNUMsT0FBTyxRQUFRLGFBQWEsRUFBRSxJQUFJLEdBQUcsRUFBRTtBQUFBLElBQ3pDO0FBQUEsSUFDQSxJQUFJO0FBQUEsTUFDRixJQUFJLFlBQVksS0FBSyxNQUFNLGVBQWUsUUFBUSxXQUFXLEtBQUssSUFBSTtBQUFBLE1BQ3RFLElBQUksVUFBVSxVQUFVLGNBQWMsT0FBTyxRQUFRLE1BQU07QUFBQSxNQUMzRCxJQUFJLE9BQU8sWUFBWSxVQUFVO0FBQUEsUUFDL0IsT0FBTyxTQUFTLEdBQUcsT0FBTztBQUFBLE1BQzVCO0FBQUEsTUFDQSxPQUFPLE9BQU87QUFBQSxNQUNkLFFBQVEsTUFBTSxLQUFLO0FBQUEsTUFDbkIsZUFBZSxXQUFXLFdBQVc7QUFBQTtBQUFBLEtBRXRDLFNBQVM7QUFBQSxFQUNaLHVCQUErQixzQkFDN0IsVUFDQTtBQUFBLE9BQ0s7QUFBQSxJQUNILDBCQUEwQjtBQUFBLElBQzFCLHlCQUF5QjtBQUFBLE1BQ3ZCLFFBQVEsSUFBSSxrQkFBa0IsS0FBSyxVQUNqQyxjQUFjLDhCQUNoQixNQUFNLEtBQUssVUFBVSxNQUFNO0FBQUEsSUFDN0I7QUFBQSxFQUNGLENBQ0Y7QUFBQTtBQUVGLGtCQUFrQixjQUFjO0FBQ2hDLFNBQVMsMEJBQTBCLENBQUMsVUFBVTtBQUFBLEVBQzVDLE9BQU8sR0FBRztBQUFBO0FBRVosU0FBUyxxQkFBcUIsQ0FBQyxVQUFVO0FBQUEsRUFDdkMsSUFBSSxNQUFjLG1CQUFXLGlCQUFpQjtBQUFBLEVBQzlDLFVBQVUsS0FBSywyQkFBMkIsUUFBUSxDQUFDO0FBQUEsRUFDbkQsT0FBTztBQUFBO0FBRVQsU0FBUyxtQkFBbUIsQ0FBQyxVQUFVO0FBQUEsRUFDckMsSUFBSSxRQUFnQixtQkFBVyxzQkFBc0I7QUFBQSxFQUNyRCxVQUFVLE9BQU8sMkJBQTJCLFFBQVEsQ0FBQztBQUFBLEVBQ3JELE9BQU87QUFBQTtBQUVULFNBQVMsbUJBQW1CLENBQUM7QUFBQSxFQUMzQjtBQUFBLEVBQ0EsU0FBUztBQUFBLEVBQ1Q7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxJQUNFLENBQUMsR0FBRztBQUFBLEVBQ04sSUFBSSxXQUFXLFlBQVk7QUFBQSxFQUMzQixJQUFJLFlBQVcsWUFBWTtBQUFBLEVBQzNCLElBQUksT0FBTyxnQkFBZ0IsSUFBSSxFQUFFLFNBQVMsQ0FBQztBQUFBLEVBQzNDLE9BQWUsb0JBQ2IsQ0FBQyxVQUFVO0FBQUEsSUFDVCxJQUFJLHVCQUF1QixPQUFPLE1BQU0sR0FBRztBQUFBLE1BQ3pDLE1BQU0sZUFBZTtBQUFBLE1BQ3JCLElBQUksV0FBVyxnQkFBcUIsWUFBSSxjQUFjLFdBQVcsU0FBUSxNQUFNLFdBQVcsSUFBSTtBQUFBLE1BQzlGLFNBQVMsSUFBSTtBQUFBLFFBQ1gsU0FBUztBQUFBLFFBQ1Q7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxNQUNGLENBQUM7QUFBQSxJQUNIO0FBQUEsS0FFRjtBQUFBLElBQ0U7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxFQUNGLENBQ0Y7QUFBQTtBQW1DRixJQUFJLFlBQVk7QUFDaEIsSUFBSSxxQkFBcUIsTUFBTSxLQUFLLE9BQU8sRUFBRSxTQUFTO0FBQ3RELFNBQVMsU0FBUyxHQUFHO0FBQUEsRUFDbkIsTUFBTSxXQUFXLHNCQUFzQixXQUEyQjtBQUFBLEVBQ2xFLE1BQU0sYUFBcUIsbUJBQVcsaUJBQWlCO0FBQUEsRUFDdkQsSUFBSSxpQkFBaUIsV0FBVztBQUFBLEVBQ2hDLE9BQWUsb0JBQ2IsT0FBTyxRQUFRLFVBQVUsQ0FBQyxNQUFNO0FBQUEsSUFDOUIsTUFBTSxRQUFRLFFBQVEsU0FBUyxVQUFVLFNBQVMsc0JBQ2hELFFBQ0EsUUFDRjtBQUFBLElBQ0EsSUFBSSxRQUFRLGFBQWEsT0FBTztBQUFBLE1BQzlCLElBQUksTUFBTSxRQUFRLGNBQWMsbUJBQW1CO0FBQUEsTUFDbkQsTUFBTSxPQUFPLE1BQU0sS0FBSyxnQkFBZ0IsUUFBUSxVQUFVLFFBQVE7QUFBQSxRQUNoRSxvQkFBb0IsUUFBUTtBQUFBLFFBQzVCO0FBQUEsUUFDQTtBQUFBLFFBQ0EsWUFBWSxRQUFRLFVBQVU7QUFBQSxRQUM5QixhQUFhLFFBQVEsV0FBVztBQUFBLFFBQ2hDLFdBQVcsUUFBUTtBQUFBLE1BQ3JCLENBQUM7QUFBQSxJQUNILEVBQU87QUFBQSxNQUNMLE1BQU0sT0FBTyxTQUFTLFFBQVEsVUFBVSxRQUFRO0FBQUEsUUFDOUMsb0JBQW9CLFFBQVE7QUFBQSxRQUM1QjtBQUFBLFFBQ0E7QUFBQSxRQUNBLFlBQVksUUFBUSxVQUFVO0FBQUEsUUFDOUIsYUFBYSxRQUFRLFdBQVc7QUFBQSxRQUNoQyxTQUFTLFFBQVE7QUFBQSxRQUNqQixPQUFPLFFBQVE7QUFBQSxRQUNmLGFBQWE7QUFBQSxRQUNiLFdBQVcsUUFBUTtBQUFBLFFBQ25CLGdCQUFnQixRQUFRO0FBQUEsTUFDMUIsQ0FBQztBQUFBO0FBQUEsS0FHTCxDQUFDLFFBQVEsVUFBVSxjQUFjLENBQ25DO0FBQUE7QUFFRixTQUFTLGFBQWEsQ0FBQyxVQUFVLGFBQWEsQ0FBQyxHQUFHO0FBQUEsRUFDaEQsTUFBTSxhQUFxQixtQkFBVyxpQkFBaUI7QUFBQSxFQUN2RCxJQUFJLGVBQXVCLG1CQUFXLFlBQVk7QUFBQSxFQUNsRCxVQUFVLGNBQWMsa0RBQWtEO0FBQUEsRUFDMUUsS0FBSyxTQUFTLGFBQWEsUUFBUSxNQUFNLEVBQUU7QUFBQSxFQUMzQyxJQUFJLE9BQU8sS0FBSyxnQkFBZ0IsU0FBUyxTQUFTLEtBQUssRUFBRSxTQUFTLENBQUMsRUFBRTtBQUFBLEVBQ3JFLElBQUksWUFBVyxZQUFZO0FBQUEsRUFDM0IsSUFBSSxVQUFVLE1BQU07QUFBQSxJQUNsQixLQUFLLFNBQVMsVUFBUztBQUFBLElBQ3ZCLElBQUksU0FBUyxJQUFJLGdCQUFnQixLQUFLLE1BQU07QUFBQSxJQUM1QyxJQUFJLGNBQWMsT0FBTyxPQUFPLE9BQU87QUFBQSxJQUN2QyxJQUFJLHFCQUFxQixZQUFZLEtBQUssQ0FBQyxNQUFNLE1BQU0sRUFBRTtBQUFBLElBQ3pELElBQUksb0JBQW9CO0FBQUEsTUFDdEIsT0FBTyxPQUFPLE9BQU87QUFBQSxNQUNyQixZQUFZLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRSxRQUFRLENBQUMsTUFBTSxPQUFPLE9BQU8sU0FBUyxDQUFDLENBQUM7QUFBQSxNQUNyRSxJQUFJLEtBQUssT0FBTyxTQUFTO0FBQUEsTUFDekIsS0FBSyxTQUFTLEtBQUssSUFBSSxPQUFPO0FBQUEsSUFDaEM7QUFBQSxFQUNGO0FBQUEsRUFDQSxLQUFLLENBQUMsVUFBVSxXQUFXLFFBQVEsTUFBTSxNQUFNLE9BQU87QUFBQSxJQUNwRCxLQUFLLFNBQVMsS0FBSyxTQUFTLEtBQUssT0FBTyxRQUFRLE9BQU8sU0FBUyxJQUFJO0FBQUEsRUFDdEU7QUFBQSxFQUNBLElBQUksYUFBYSxLQUFLO0FBQUEsSUFDcEIsS0FBSyxXQUFXLEtBQUssYUFBYSxNQUFNLFdBQVcsVUFBVSxDQUFDLFVBQVUsS0FBSyxRQUFRLENBQUM7QUFBQSxFQUN4RjtBQUFBLEVBQ0EsT0FBTyxXQUFXLElBQUk7QUFBQTtBQTJFeEIsSUFBSSxpQ0FBaUM7QUFDckMsSUFBSSx1QkFBdUIsQ0FBQztBQUM1QixTQUFTLHVCQUF1QixDQUFDLFdBQVUsU0FBUyxVQUFVLFFBQVE7QUFBQSxFQUNwRSxJQUFJLE1BQU07QUFBQSxFQUNWLElBQUksUUFBUTtBQUFBLElBQ1YsSUFBSSxhQUFhLEtBQUs7QUFBQSxNQUNwQixNQUFNLE9BQ0o7QUFBQSxXQUNLO0FBQUEsUUFDSCxVQUFVLGNBQWMsVUFBUyxVQUFVLFFBQVEsS0FBSyxVQUFTO0FBQUEsTUFDbkUsR0FDQSxPQUNGO0FBQUEsSUFDRixFQUFPO0FBQUEsTUFDTCxNQUFNLE9BQU8sV0FBVSxPQUFPO0FBQUE7QUFBQSxFQUVsQztBQUFBLEVBQ0EsSUFBSSxPQUFPLE1BQU07QUFBQSxJQUNmLE1BQU0sVUFBUztBQUFBLEVBQ2pCO0FBQUEsRUFDQSxPQUFPO0FBQUE7QUFFVCxTQUFTLG9CQUFvQjtBQUFBLEVBQzNCO0FBQUEsRUFDQTtBQUFBLElBQ0UsQ0FBQyxHQUFHO0FBQUEsRUFDTixNQUFNLFdBQVcsc0JBQXNCLHNCQUFpRDtBQUFBLEVBQ3hGLE1BQU0sdUJBQXVCLHVCQUF1QixvQkFDbEQsc0JBQ0Y7QUFBQSxFQUNBLE1BQU0sYUFBcUIsbUJBQVcsaUJBQWlCO0FBQUEsRUFDdkQsSUFBSSxZQUFXLFlBQVk7QUFBQSxFQUMzQixJQUFJLFVBQVUsV0FBVztBQUFBLEVBQ3pCLElBQUksYUFBYSxjQUFjO0FBQUEsRUFDdkIsa0JBQVUsTUFBTTtBQUFBLElBQ3RCLE9BQU8sUUFBUSxvQkFBb0I7QUFBQSxJQUNuQyxPQUFPLE1BQU07QUFBQSxNQUNYLE9BQU8sUUFBUSxvQkFBb0I7QUFBQTtBQUFBLEtBRXBDLENBQUMsQ0FBQztBQUFBLEVBQ0wsWUFDVSxvQkFBWSxNQUFNO0FBQUEsSUFDeEIsSUFBSSxXQUFXLFVBQVUsUUFBUTtBQUFBLE1BQy9CLElBQUksTUFBTSx3QkFBd0IsV0FBVSxTQUFTLFVBQVUsTUFBTTtBQUFBLE1BQ3JFLHFCQUFxQixPQUFPLE9BQU87QUFBQSxJQUNyQztBQUFBLElBQ0EsSUFBSTtBQUFBLE1BQ0YsZUFBZSxRQUNiLGNBQWMsZ0NBQ2QsS0FBSyxVQUFVLG9CQUFvQixDQUNyQztBQUFBLE1BQ0EsT0FBTyxPQUFPO0FBQUEsTUFDZCxRQUNFLE9BQ0Esb0dBQW9HLFNBQ3RHO0FBQUE7QUFBQSxJQUVGLE9BQU8sUUFBUSxvQkFBb0I7QUFBQSxLQUNsQyxDQUFDLFdBQVcsT0FBTyxRQUFRLFVBQVUsV0FBVSxTQUFTLFVBQVUsQ0FBQyxDQUN4RTtBQUFBLEVBQ0EsSUFBSSxPQUFPLGFBQWEsYUFBYTtBQUFBLElBQzNCLHdCQUFnQixNQUFNO0FBQUEsTUFDNUIsSUFBSTtBQUFBLFFBQ0YsSUFBSSxtQkFBbUIsZUFBZSxRQUNwQyxjQUFjLDhCQUNoQjtBQUFBLFFBQ0EsSUFBSSxrQkFBa0I7QUFBQSxVQUNwQix1QkFBdUIsS0FBSyxNQUFNLGdCQUFnQjtBQUFBLFFBQ3BEO0FBQUEsUUFDQSxPQUFPLEdBQUc7QUFBQSxPQUVYLENBQUMsVUFBVSxDQUFDO0FBQUEsSUFDUCx3QkFBZ0IsTUFBTTtBQUFBLE1BQzVCLElBQUksMkJBQTJCLFFBQVEsd0JBQ3JDLHNCQUNBLE1BQU0sT0FBTyxTQUNiLFNBQVMsQ0FBQyxZQUFXLGFBQWEsd0JBQXdCLFlBQVcsVUFBVSxVQUFVLE1BQU0sSUFBUyxTQUMxRztBQUFBLE1BQ0EsT0FBTyxNQUFNLDRCQUE0Qix5QkFBeUI7QUFBQSxPQUNqRSxDQUFDLFFBQVEsVUFBVSxNQUFNLENBQUM7QUFBQSxJQUNyQix3QkFBZ0IsTUFBTTtBQUFBLE1BQzVCLElBQUksMEJBQTBCLE9BQU87QUFBQSxRQUNuQztBQUFBLE1BQ0Y7QUFBQSxNQUNBLElBQUksT0FBTywwQkFBMEIsVUFBVTtBQUFBLFFBQzdDLE9BQU8sU0FBUyxHQUFHLHFCQUFxQjtBQUFBLFFBQ3hDO0FBQUEsTUFDRjtBQUFBLE1BQ0EsSUFBSTtBQUFBLFFBQ0YsSUFBSSxVQUFTLE1BQU07QUFBQSxVQUNqQixJQUFJLEtBQUssU0FBUyxlQUNoQixtQkFBbUIsVUFBUyxLQUFLLE1BQU0sQ0FBQyxDQUFDLENBQzNDO0FBQUEsVUFDQSxJQUFJLElBQUk7QUFBQSxZQUNOLEdBQUcsZUFBZTtBQUFBLFlBQ2xCO0FBQUEsVUFDRjtBQUFBLFFBQ0Y7QUFBQSxRQUNBLE1BQU07QUFBQSxRQUNOLFFBQ0UsT0FDQSxJQUFJLFVBQVMsS0FBSyxNQUNoQixDQUNGLG1FQUNGO0FBQUE7QUFBQSxNQUVGLElBQUksdUJBQXVCLE1BQU07QUFBQSxRQUMvQjtBQUFBLE1BQ0Y7QUFBQSxNQUNBLE9BQU8sU0FBUyxHQUFHLENBQUM7QUFBQSxPQUNuQixDQUFDLFdBQVUsdUJBQXVCLGtCQUFrQixDQUFDO0FBQUEsRUFDMUQ7QUFBQTtBQVlGLFNBQVMsV0FBVyxDQUFDLFVBQVUsU0FBUztBQUFBLEVBQ3RDLE1BQU0sWUFBWSxXQUFXLENBQUM7QUFBQSxFQUN0QixrQkFBVSxNQUFNO0FBQUEsSUFDdEIsSUFBSSxPQUFPLFdBQVcsT0FBTyxFQUFFLFFBQVEsSUFBUztBQUFBLElBQ2hELE9BQU8saUJBQWlCLFlBQVksVUFBVSxJQUFJO0FBQUEsSUFDbEQsT0FBTyxNQUFNO0FBQUEsTUFDWCxPQUFPLG9CQUFvQixZQUFZLFVBQVUsSUFBSTtBQUFBO0FBQUEsS0FFdEQsQ0FBQyxVQUFVLE9BQU8sQ0FBQztBQUFBO0FBdUJ4QixTQUFTLHNCQUFzQixDQUFDLE1BQU0sYUFBYSxDQUFDLEdBQUc7QUFBQSxFQUNyRCxJQUFJLFlBQW9CLG1CQUFXLHFCQUFxQjtBQUFBLEVBQ3hELFVBQ0UsYUFBYSxNQUNiLHdKQUNGO0FBQUEsRUFDQSxNQUFNLGFBQWEsc0JBQ2pCLHdCQUNGO0FBQUEsRUFDQSxJQUFJLE9BQU8sZ0JBQWdCLElBQUksRUFBRSxTQUFTLENBQUM7QUFBQSxFQUMzQyxJQUFJLENBQUMsVUFBVSxpQkFBaUI7QUFBQSxJQUM5QixPQUFPO0FBQUEsRUFDVDtBQUFBLEVBQ0EsSUFBSSxjQUFjLGNBQWMsVUFBVSxnQkFBZ0IsVUFBVSxRQUFRLEtBQUssVUFBVSxnQkFBZ0I7QUFBQSxFQUMzRyxJQUFJLFdBQVcsY0FBYyxVQUFVLGFBQWEsVUFBVSxRQUFRLEtBQUssVUFBVSxhQUFhO0FBQUEsRUFDbEcsT0FBTyxVQUFVLEtBQUssVUFBVSxRQUFRLEtBQUssUUFBUSxVQUFVLEtBQUssVUFBVSxXQUFXLEtBQUs7QUFBQTs7O0FDbmlVaEc7OztBQ3NDQTtBQUNBO0FBTUE7QUF3TUE7QUFDQTtBQXRQQTtBQXdDQSxTQUFTLGVBQWUsQ0FBQyxPQUFPO0FBQUEsRUFDOUIsdUJBQTZCLHNCQUFjLGdCQUFnQixFQUFFLFdBQW9CLHVCQUFjLE1BQU0sQ0FBQztBQUFBO0FBc2N4RyxJQUFJLHdCQUF3QixlQUFjOztBQ3ZmMUM7QUFDQTs7O0FDSEEsU0FBUyxDQUFDLENBQUMsR0FBRTtBQUFBLEVBQUMsSUFBSSxHQUFFLEdBQUUsSUFBRTtBQUFBLEVBQUcsSUFBYSxPQUFPLEtBQWpCLFlBQThCLE9BQU8sS0FBakI7QUFBQSxJQUFtQixLQUFHO0FBQUEsRUFBTyxTQUFhLE9BQU8sS0FBakI7QUFBQSxJQUFtQixJQUFHLE1BQU0sUUFBUSxDQUFDLEdBQUU7QUFBQSxNQUFDLElBQUksSUFBRSxFQUFFO0FBQUEsTUFBTyxLQUFJLElBQUUsRUFBRSxJQUFFLEdBQUU7QUFBQSxRQUFJLEVBQUUsT0FBSyxJQUFFLEVBQUUsRUFBRSxFQUFFLE9BQUssTUFBSSxLQUFHLE1BQUssS0FBRztBQUFBLElBQUUsRUFBTTtBQUFBLFdBQUksS0FBSztBQUFBLFFBQUUsRUFBRSxPQUFLLE1BQUksS0FBRyxNQUFLLEtBQUc7QUFBQSxFQUFHLE9BQU87QUFBQTtBQUFTLFNBQVMsSUFBSSxHQUFFO0FBQUEsRUFBQyxTQUFRLEdBQUUsR0FBRSxJQUFFLEdBQUUsSUFBRSxJQUFHLElBQUUsVUFBVSxPQUFPLElBQUUsR0FBRTtBQUFBLEtBQUssSUFBRSxVQUFVLFFBQU0sSUFBRSxFQUFFLENBQUMsT0FBSyxNQUFJLEtBQUcsTUFBSyxLQUFHO0FBQUEsRUFBRyxPQUFPO0FBQUE7QUFBRSxJQUFlOzs7QUNpQy9YLFNBQXdCLGNBQWMsQ0FBQyxPQUFPLGlCQUFpQixVQUFVLFdBQVc7QUFBQSxFQUNsRixNQUFNLFNBQVMsQ0FBQztBQUFBLEVBQ2hCLFdBQVcsWUFBWSxPQUFPO0FBQUEsSUFDNUIsTUFBTSxPQUFPLE1BQU07QUFBQSxJQUNuQixJQUFJLFNBQVM7QUFBQSxJQUNiLElBQUksUUFBUTtBQUFBLElBQ1osU0FBUyxJQUFJLEVBQUcsSUFBSSxLQUFLLFFBQVEsS0FBSyxHQUFHO0FBQUEsTUFDdkMsTUFBTSxRQUFRLEtBQUs7QUFBQSxNQUNuQixJQUFJLE9BQU87QUFBQSxRQUNULFdBQVcsVUFBVSxPQUFPLEtBQUssT0FBTyxnQkFBZ0IsS0FBSztBQUFBLFFBQzdELFFBQVE7QUFBQSxRQUNSLElBQUksV0FBVyxRQUFRLFFBQVE7QUFBQSxVQUM3QixVQUFVLE1BQU0sUUFBUTtBQUFBLFFBQzFCO0FBQUEsTUFDRjtBQUFBLElBQ0Y7QUFBQSxJQUNBLE9BQU8sWUFBWTtBQUFBLEVBQ3JCO0FBQUEsRUFDQSxPQUFPO0FBQUE7O0FDOUNULFNBQXdCLFVBQVUsQ0FBQyxRQUFRO0FBQUEsRUFDekMsSUFBSSxPQUFPLFdBQVcsVUFBVTtBQUFBLElBQzlCLE1BQU0sSUFBSSxNQUE4QyxzREFBK0U7QUFBQSxFQUN6STtBQUFBLEVBQ0EsT0FBTyxPQUFPLE9BQU8sQ0FBQyxFQUFFLFlBQVksSUFBSSxPQUFPLE1BQU0sQ0FBQztBQUFBOztBQ1R4RDtBQUNBO0FBR08sU0FBUyxjQUFhLENBQUMsTUFBTTtBQUFBLEVBQ2xDLElBQUksT0FBTyxTQUFTLFlBQVksU0FBUyxNQUFNO0FBQUEsSUFDN0MsT0FBTztBQUFBLEVBQ1Q7QUFBQSxFQUNBLE1BQU0sWUFBWSxPQUFPLGVBQWUsSUFBSTtBQUFBLEVBQzVDLFFBQVEsY0FBYyxRQUFRLGNBQWMsT0FBTyxhQUFhLE9BQU8sZUFBZSxTQUFTLE1BQU0sU0FBUyxFQUFFLE9BQU8sZUFBZSxTQUFTLEVBQUUsT0FBTyxZQUFZO0FBQUE7QUFFdEssU0FBUyxTQUFTLENBQUMsUUFBUTtBQUFBLEVBQ3pCLG9CQUF1Qix1QkFBZSxNQUFNLEtBQUssbUNBQW1CLE1BQU0sS0FBSyxDQUFDLGVBQWMsTUFBTSxHQUFHO0FBQUEsSUFDckcsT0FBTztBQUFBLEVBQ1Q7QUFBQSxFQUNBLE1BQU0sU0FBUyxDQUFDO0FBQUEsRUFDaEIsT0FBTyxLQUFLLE1BQU0sRUFBRSxRQUFRLFNBQU87QUFBQSxJQUNqQyxPQUFPLE9BQU8sVUFBVSxPQUFPLElBQUk7QUFBQSxHQUNwQztBQUFBLEVBQ0QsT0FBTztBQUFBO0FBcUJULFNBQXdCLFNBQVMsQ0FBQyxRQUFRLFFBQVEsVUFBVTtBQUFBLEVBQzFELE9BQU87QUFDVCxHQUFHO0FBQUEsRUFDRCxNQUFNLFNBQVMsUUFBUSxRQUFRO0FBQUEsT0FDMUI7QUFBQSxFQUNMLElBQUk7QUFBQSxFQUNKLElBQUksZUFBYyxNQUFNLEtBQUssZUFBYyxNQUFNLEdBQUc7QUFBQSxJQUNsRCxPQUFPLEtBQUssTUFBTSxFQUFFLFFBQVEsU0FBTztBQUFBLE1BQ2pDLG9CQUF1Qix1QkFBZSxPQUFPLElBQUksS0FBSyxtQ0FBbUIsT0FBTyxJQUFJLEdBQUc7QUFBQSxRQUNyRixPQUFPLE9BQU8sT0FBTztBQUFBLE1BQ3ZCLEVBQU8sU0FBSSxlQUFjLE9BQU8sSUFBSSxLQUVwQyxPQUFPLFVBQVUsZUFBZSxLQUFLLFFBQVEsR0FBRyxLQUFLLGVBQWMsT0FBTyxJQUFJLEdBQUc7QUFBQSxRQUUvRSxPQUFPLE9BQU8sVUFBVSxPQUFPLE1BQU0sT0FBTyxNQUFNLE9BQU87QUFBQSxNQUMzRCxFQUFPLFNBQUksUUFBUSxPQUFPO0FBQUEsUUFDeEIsT0FBTyxPQUFPLGVBQWMsT0FBTyxJQUFJLElBQUksVUFBVSxPQUFPLElBQUksSUFBSSxPQUFPO0FBQUEsTUFDN0UsRUFBTztBQUFBLFFBQ0wsT0FBTyxPQUFPLE9BQU87QUFBQTtBQUFBLEtBRXhCO0FBQUEsRUFDSDtBQUFBLEVBQ0EsT0FBTztBQUFBOztBQzdEVCxTQUFTLEtBQUssQ0FBQyxLQUFLLE1BQU07QUFBQSxFQUN4QixJQUFJLENBQUMsTUFBTTtBQUFBLElBQ1QsT0FBTztBQUFBLEVBQ1Q7QUFBQSxFQUNBLE9BQU8sVUFBVSxLQUFLLE1BQU07QUFBQSxJQUMxQixPQUFPO0FBQUEsRUFDVCxDQUFDO0FBQUE7QUFFSCxJQUFlOztBQ1RmO0FBQ0EsSUFBTSxxQkFBNkQsMEJBQVUsVUFBVSxDQUFDLDBCQUFVLFFBQVEsMEJBQVUsUUFBUSwwQkFBVSxRQUFRLDBCQUFVLEtBQUssQ0FBQztBQUM5SixJQUFlOztBQ0tSLFNBQVMsb0JBQW9CLENBQUMsT0FBTyxLQUFLO0FBQUEsRUFDL0MsSUFBSSxDQUFDLE1BQU0sa0JBQWtCO0FBQUEsSUFDM0IsT0FBTztBQUFBLEVBQ1Q7QUFBQSxFQUNBLE1BQU0sU0FBUyxPQUFPLEtBQUssR0FBRyxFQUFFLE9BQU8sU0FBTyxJQUFJLFdBQVcsWUFBWSxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsTUFBTTtBQUFBLElBQ3pGLE1BQU0sUUFBUTtBQUFBLElBQ2QsT0FBTyxFQUFFLEVBQUUsTUFBTSxLQUFLLElBQUksTUFBTSxLQUFLLEVBQUUsRUFBRSxNQUFNLEtBQUssSUFBSSxNQUFNO0FBQUEsR0FDL0Q7QUFBQSxFQUNELElBQUksQ0FBQyxPQUFPLFFBQVE7QUFBQSxJQUNsQixPQUFPO0FBQUEsRUFDVDtBQUFBLEVBQ0EsT0FBTyxPQUFPLE9BQU8sQ0FBQyxLQUFLLFFBQVE7QUFBQSxJQUNqQyxNQUFNLFFBQVEsSUFBSTtBQUFBLElBQ2xCLE9BQU8sSUFBSTtBQUFBLElBQ1gsSUFBSSxPQUFPO0FBQUEsSUFDWCxPQUFPO0FBQUEsS0FDTjtBQUFBLE9BQ0U7QUFBQSxFQUNMLENBQUM7QUFBQTtBQUVJLFNBQVMsYUFBYSxDQUFDLGdCQUFnQixPQUFPO0FBQUEsRUFDbkQsT0FBTyxVQUFVLE9BQU8sTUFBTSxXQUFXLEdBQUcsTUFBTSxlQUFlLEtBQUssU0FBTyxNQUFNLFdBQVcsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxNQUFNLE1BQU07QUFBQTtBQUU1SCxTQUFTLGlCQUFpQixDQUFDLE9BQU8sV0FBVztBQUFBLEVBQ2xELE1BQU0sVUFBVSxVQUFVLE1BQU0scUJBQXFCO0FBQUEsRUFDckQsSUFBSSxDQUFDLFNBQVM7QUFBQSxJQUNaLElBQUksTUFBdUM7QUFBQSxNQUN6QyxNQUFNLElBQUksTUFBOEMsK0JBQStCLElBQUk7QUFBQSxJQUEwSCxtREFBK0Y7QUFBQSxJQUN0VDtBQUFBLElBQ0EsT0FBTztBQUFBLEVBQ1Q7QUFBQSxFQUNBLFNBQVMsZ0JBQWdCLGlCQUFpQjtBQUFBLEVBQzFDLE1BQU0sUUFBUSxPQUFPLE1BQU0sQ0FBQyxjQUFjLElBQUksa0JBQWtCLElBQUksQ0FBQztBQUFBLEVBQ3JFLE9BQU8sTUFBTSxpQkFBaUIsYUFBYSxFQUFFLEdBQUcsS0FBSztBQUFBO0FBRXZELFNBQXdCLG1CQUFtQixDQUFDLFlBQVk7QUFBQSxFQUN0RCxNQUFNLG1CQUFtQixDQUFDLFlBQVksU0FBUyxXQUFXLFFBQVEsVUFBVSxPQUFPLGNBQWMsU0FBUyxZQUFZO0FBQUEsRUFDdEgsU0FBUyxRQUFRLENBQUMsT0FBTSxNQUFNO0FBQUEsSUFDNUIsTUFBSyxLQUFLLElBQUksU0FBUyxpQkFBaUIsV0FBVyxZQUFZLEdBQUcsR0FBRyxJQUFJLEdBQUcsSUFBSTtBQUFBLElBQ2hGLE1BQUssT0FBTyxJQUFJLFNBQVMsaUJBQWlCLFdBQVcsWUFBWSxLQUFLLEdBQUcsSUFBSSxHQUFHLElBQUk7QUFBQSxJQUNwRixNQUFLLFVBQVUsSUFBSSxTQUFTLGlCQUFpQixXQUFXLFlBQVksUUFBUSxHQUFHLElBQUksR0FBRyxJQUFJO0FBQUEsSUFDMUYsTUFBSyxPQUFPLElBQUksU0FBUyxpQkFBaUIsV0FBVyxZQUFZLEtBQUssR0FBRyxJQUFJLEdBQUcsSUFBSTtBQUFBLElBQ3BGLE1BQUssTUFBTSxJQUFJLFNBQVM7QUFBQSxNQUN0QixNQUFNLFNBQVMsaUJBQWlCLFdBQVcsWUFBWSxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUk7QUFBQSxNQUN6RSxJQUFJLE9BQU8sU0FBUyxhQUFhLEdBQUc7QUFBQSxRQUVsQyxPQUFPLE9BQU8sUUFBUSxnQkFBZ0IsRUFBRSxFQUFFLFFBQVEsY0FBYyxRQUFRLEVBQUUsUUFBUSxjQUFjLFFBQVEsRUFBRSxRQUFRLE9BQU8sSUFBSTtBQUFBLE1BQy9IO0FBQUEsTUFDQSxPQUFPO0FBQUE7QUFBQTtBQUFBLEVBR1gsTUFBTSxPQUFPLENBQUM7QUFBQSxFQUNkLE1BQU0sbUJBQW1CLFVBQVE7QUFBQSxJQUMvQixTQUFTLE1BQU0sSUFBSTtBQUFBLElBQ25CLE9BQU87QUFBQTtBQUFBLEVBRVQsU0FBUyxnQkFBZ0I7QUFBQSxFQUN6QixPQUFPO0FBQUEsT0FDRjtBQUFBLElBQ0g7QUFBQSxFQUNGO0FBQUE7O0FDNURLLElBQU0sU0FBUztBQUFBLEVBQ3BCLElBQUk7QUFBQSxFQUVKLElBQUk7QUFBQSxFQUVKLElBQUk7QUFBQSxFQUVKLElBQUk7QUFBQSxFQUVKLElBQUk7QUFDTjtBQUNBLElBQU0scUJBQXFCO0FBQUEsRUFHekIsTUFBTSxDQUFDLE1BQU0sTUFBTSxNQUFNLE1BQU0sSUFBSTtBQUFBLEVBQ25DLElBQUksU0FBTyxxQkFBcUIsT0FBTztBQUN6QztBQUNBLElBQU0sMEJBQTBCO0FBQUEsRUFDOUIsa0JBQWtCLG9CQUFrQjtBQUFBLElBQ2xDLElBQUksU0FBTztBQUFBLE1BQ1QsSUFBSSxTQUFTLE9BQU8sUUFBUSxXQUFXLE1BQU0sT0FBTyxRQUFRO0FBQUEsTUFDNUQsSUFBSSxPQUFPLFdBQVcsVUFBVTtBQUFBLFFBQzlCLFNBQVMsR0FBRztBQUFBLE1BQ2Q7QUFBQSxNQUNBLE9BQU8sZ0JBQWdCLGNBQWMsNEJBQTRCLFlBQVkseUJBQXlCO0FBQUE7QUFBQSxFQUUxRztBQUNGO0FBQ08sU0FBUyxpQkFBaUIsQ0FBQyxPQUFPLFdBQVcsb0JBQW9CO0FBQUEsRUFDdEUsTUFBTSxRQUFRLE1BQU0sU0FBUyxDQUFDO0FBQUEsRUFDOUIsSUFBSSxNQUFNLFFBQVEsU0FBUyxHQUFHO0FBQUEsSUFDNUIsTUFBTSxtQkFBbUIsTUFBTSxlQUFlO0FBQUEsSUFDOUMsT0FBTyxVQUFVLE9BQU8sQ0FBQyxLQUFLLE1BQU0sVUFBVTtBQUFBLE1BQzVDLElBQUksaUJBQWlCLEdBQUcsaUJBQWlCLEtBQUssTUFBTSxLQUFLLG1CQUFtQixVQUFVLE1BQU07QUFBQSxNQUM1RixPQUFPO0FBQUEsT0FDTixDQUFDLENBQUM7QUFBQSxFQUNQO0FBQUEsRUFDQSxJQUFJLE9BQU8sY0FBYyxVQUFVO0FBQUEsSUFDakMsTUFBTSxtQkFBbUIsTUFBTSxlQUFlO0FBQUEsSUFDOUMsT0FBTyxPQUFPLEtBQUssU0FBUyxFQUFFLE9BQU8sQ0FBQyxLQUFLLGVBQWU7QUFBQSxNQUN4RCxJQUFJLGNBQWMsaUJBQWlCLE1BQU0sVUFBVSxHQUFHO0FBQUEsUUFDcEQsTUFBTSxlQUFlLGtCQUFrQixNQUFNLG1CQUFtQixRQUFRLHlCQUF5QixVQUFVO0FBQUEsUUFDM0csSUFBSSxjQUFjO0FBQUEsVUFDaEIsSUFBSSxnQkFBZ0IsbUJBQW1CLFVBQVUsYUFBYSxVQUFVO0FBQUEsUUFDMUU7QUFBQSxNQUNGLEVBRUssU0FBSSxPQUFPLEtBQUssaUJBQWlCLFVBQVUsTUFBTSxFQUFFLFNBQVMsVUFBVSxHQUFHO0FBQUEsUUFDNUUsTUFBTSxXQUFXLGlCQUFpQixHQUFHLFVBQVU7QUFBQSxRQUMvQyxJQUFJLFlBQVksbUJBQW1CLFVBQVUsYUFBYSxVQUFVO0FBQUEsTUFDdEUsRUFBTztBQUFBLFFBQ0wsTUFBTSxTQUFTO0FBQUEsUUFDZixJQUFJLFVBQVUsVUFBVTtBQUFBO0FBQUEsTUFFMUIsT0FBTztBQUFBLE9BQ04sQ0FBQyxDQUFDO0FBQUEsRUFDUDtBQUFBLEVBQ0EsTUFBTSxTQUFTLG1CQUFtQixTQUFTO0FBQUEsRUFDM0MsT0FBTztBQUFBO0FBZ0NGLFNBQVMsMkJBQTJCLENBQUMsbUJBQW1CLENBQUMsR0FBRztBQUFBLEVBQ2pFLE1BQU0scUJBQXFCLGlCQUFpQixNQUFNLE9BQU8sQ0FBQyxLQUFLLFFBQVE7QUFBQSxJQUNyRSxNQUFNLHFCQUFxQixpQkFBaUIsR0FBRyxHQUFHO0FBQUEsSUFDbEQsSUFBSSxzQkFBc0IsQ0FBQztBQUFBLElBQzNCLE9BQU87QUFBQSxLQUNOLENBQUMsQ0FBQztBQUFBLEVBQ0wsT0FBTyxzQkFBc0IsQ0FBQztBQUFBO0FBRXpCLFNBQVMsdUJBQXVCLENBQUMsZ0JBQWdCLE9BQU87QUFBQSxFQUM3RCxPQUFPLGVBQWUsT0FBTyxDQUFDLEtBQUssUUFBUTtBQUFBLElBQ3pDLE1BQU0sbUJBQW1CLElBQUk7QUFBQSxJQUM3QixNQUFNLHFCQUFxQixDQUFDLG9CQUFvQixPQUFPLEtBQUssZ0JBQWdCLEVBQUUsV0FBVztBQUFBLElBQ3pGLElBQUksb0JBQW9CO0FBQUEsTUFDdEIsT0FBTyxJQUFJO0FBQUEsSUFDYjtBQUFBLElBQ0EsT0FBTztBQUFBLEtBQ04sS0FBSztBQUFBO0FBRUgsU0FBUyx1QkFBdUIsQ0FBQyxxQkFBcUIsUUFBUTtBQUFBLEVBQ25FLE1BQU0sbUJBQW1CLDRCQUE0QixnQkFBZ0I7QUFBQSxFQUNyRSxNQUFNLGVBQWUsQ0FBQyxrQkFBa0IsR0FBRyxNQUFNLEVBQUUsT0FBTyxDQUFDLE1BQU0sU0FBUyxVQUFVLE1BQU0sSUFBSSxHQUFHLENBQUMsQ0FBQztBQUFBLEVBQ25HLE9BQU8sd0JBQXdCLE9BQU8sS0FBSyxnQkFBZ0IsR0FBRyxZQUFZO0FBQUE7QUFNckUsU0FBUyxzQkFBc0IsQ0FBQyxrQkFBa0Isa0JBQWtCO0FBQUEsRUFFekUsSUFBSSxPQUFPLHFCQUFxQixVQUFVO0FBQUEsSUFDeEMsT0FBTyxDQUFDO0FBQUEsRUFDVjtBQUFBLEVBQ0EsTUFBTSxPQUFPLENBQUM7QUFBQSxFQUNkLE1BQU0sa0JBQWtCLE9BQU8sS0FBSyxnQkFBZ0I7QUFBQSxFQUNwRCxJQUFJLE1BQU0sUUFBUSxnQkFBZ0IsR0FBRztBQUFBLElBQ25DLGdCQUFnQixRQUFRLENBQUMsWUFBWSxNQUFNO0FBQUEsTUFDekMsSUFBSSxJQUFJLGlCQUFpQixRQUFRO0FBQUEsUUFDL0IsS0FBSyxjQUFjO0FBQUEsTUFDckI7QUFBQSxLQUNEO0FBQUEsRUFDSCxFQUFPO0FBQUEsSUFDTCxnQkFBZ0IsUUFBUSxnQkFBYztBQUFBLE1BQ3BDLElBQUksaUJBQWlCLGVBQWUsTUFBTTtBQUFBLFFBQ3hDLEtBQUssY0FBYztBQUFBLE1BQ3JCO0FBQUEsS0FDRDtBQUFBO0FBQUEsRUFFSCxPQUFPO0FBQUE7QUFFRixTQUFTLHVCQUF1QjtBQUFBLEVBQ3JDLFFBQVE7QUFBQSxFQUNSLGFBQWE7QUFBQSxFQUNiLE1BQU07QUFBQSxHQUNMO0FBQUEsRUFDRCxNQUFNLE9BQU8sY0FBYyx1QkFBdUIsa0JBQWtCLGdCQUFnQjtBQUFBLEVBQ3BGLE1BQU0sT0FBTyxPQUFPLEtBQUssSUFBSTtBQUFBLEVBQzdCLElBQUksS0FBSyxXQUFXLEdBQUc7QUFBQSxJQUNyQixPQUFPO0FBQUEsRUFDVDtBQUFBLEVBQ0EsSUFBSTtBQUFBLEVBQ0osT0FBTyxLQUFLLE9BQU8sQ0FBQyxLQUFLLFlBQVksTUFBTTtBQUFBLElBQ3pDLElBQUksTUFBTSxRQUFRLGdCQUFnQixHQUFHO0FBQUEsTUFDbkMsSUFBSSxjQUFjLGlCQUFpQixNQUFNLE9BQU8saUJBQWlCLEtBQUssaUJBQWlCO0FBQUEsTUFDdkYsV0FBVztBQUFBLElBQ2IsRUFBTyxTQUFJLE9BQU8scUJBQXFCLFVBQVU7QUFBQSxNQUMvQyxJQUFJLGNBQWMsaUJBQWlCLGVBQWUsT0FBTyxpQkFBaUIsY0FBYyxpQkFBaUI7QUFBQSxNQUN6RyxXQUFXO0FBQUEsSUFDYixFQUFPO0FBQUEsTUFDTCxJQUFJLGNBQWM7QUFBQTtBQUFBLElBRXBCLE9BQU87QUFBQSxLQUNOLENBQUMsQ0FBQztBQUFBOzs7QUNyS0EsU0FBUyxPQUFPLENBQUMsS0FBSyxNQUFNLFlBQVksTUFBTTtBQUFBLEVBQ25ELElBQUksQ0FBQyxRQUFRLE9BQU8sU0FBUyxVQUFVO0FBQUEsSUFDckMsT0FBTztBQUFBLEVBQ1Q7QUFBQSxFQUdBLElBQUksT0FBTyxJQUFJLFFBQVEsV0FBVztBQUFBLElBQ2hDLE1BQU0sTUFBTSxRQUFRLE9BQU8sTUFBTSxHQUFHLEVBQUUsT0FBTyxDQUFDLEtBQUssU0FBUyxPQUFPLElBQUksUUFBUSxJQUFJLFFBQVEsTUFBTSxHQUFHO0FBQUEsSUFDcEcsSUFBSSxPQUFPLE1BQU07QUFBQSxNQUNmLE9BQU87QUFBQSxJQUNUO0FBQUEsRUFDRjtBQUFBLEVBQ0EsT0FBTyxLQUFLLE1BQU0sR0FBRyxFQUFFLE9BQU8sQ0FBQyxLQUFLLFNBQVM7QUFBQSxJQUMzQyxJQUFJLE9BQU8sSUFBSSxTQUFTLE1BQU07QUFBQSxNQUM1QixPQUFPLElBQUk7QUFBQSxJQUNiO0FBQUEsSUFDQSxPQUFPO0FBQUEsS0FDTixHQUFHO0FBQUE7QUFFRCxTQUFTLGFBQWEsQ0FBQyxjQUFjLFdBQVcsZ0JBQWdCLFlBQVksZ0JBQWdCO0FBQUEsRUFDakcsSUFBSTtBQUFBLEVBQ0osSUFBSSxPQUFPLGlCQUFpQixZQUFZO0FBQUEsSUFDdEMsUUFBUSxhQUFhLGNBQWM7QUFBQSxFQUNyQyxFQUFPLFNBQUksTUFBTSxRQUFRLFlBQVksR0FBRztBQUFBLElBQ3RDLFFBQVEsYUFBYSxtQkFBbUI7QUFBQSxFQUMxQyxFQUFPO0FBQUEsSUFDTCxRQUFRLFFBQVEsY0FBYyxjQUFjLEtBQUs7QUFBQTtBQUFBLEVBRW5ELElBQUksV0FBVztBQUFBLElBQ2IsUUFBUSxVQUFVLE9BQU8sV0FBVyxZQUFZO0FBQUEsRUFDbEQ7QUFBQSxFQUNBLE9BQU87QUFBQTtBQUVULFNBQVMsS0FBSyxDQUFDLFNBQVM7QUFBQSxFQUN0QjtBQUFBLElBQ0U7QUFBQSxJQUNBLGNBQWMsUUFBUTtBQUFBLElBQ3RCO0FBQUEsSUFDQTtBQUFBLE1BQ0U7QUFBQSxFQUlKLE1BQU0sS0FBSyxXQUFTO0FBQUEsSUFDbEIsSUFBSSxNQUFNLFNBQVMsTUFBTTtBQUFBLE1BQ3ZCLE9BQU87QUFBQSxJQUNUO0FBQUEsSUFDQSxNQUFNLFlBQVksTUFBTTtBQUFBLElBQ3hCLE1BQU0sUUFBUSxNQUFNO0FBQUEsSUFDcEIsTUFBTSxlQUFlLFFBQVEsT0FBTyxRQUFRLEtBQUssQ0FBQztBQUFBLElBQ2xELE1BQU0scUJBQXFCLG9CQUFrQjtBQUFBLE1BQzNDLElBQUksUUFBUSxjQUFjLGNBQWMsV0FBVyxjQUFjO0FBQUEsTUFDakUsSUFBSSxtQkFBbUIsU0FBUyxPQUFPLG1CQUFtQixVQUFVO0FBQUEsUUFFbEUsUUFBUSxjQUFjLGNBQWMsV0FBVyxHQUFHLE9BQU8sbUJBQW1CLFlBQVksS0FBSyxXQUFXLGNBQWMsS0FBSyxjQUFjO0FBQUEsTUFDM0k7QUFBQSxNQUNBLElBQUksZ0JBQWdCLE9BQU87QUFBQSxRQUN6QixPQUFPO0FBQUEsTUFDVDtBQUFBLE1BQ0EsT0FBTztBQUFBLFNBQ0osY0FBYztBQUFBLE1BQ2pCO0FBQUE7QUFBQSxJQUVGLE9BQU8sa0JBQWtCLE9BQU8sV0FBVyxrQkFBa0I7QUFBQTtBQUFBLEVBRS9ELEdBQUcsWUFBb0Q7QUFBQSxLQUNwRCxPQUFPO0FBQUEsRUFDVjtBQUFBLEVBQ0EsR0FBRyxjQUFjLENBQUMsSUFBSTtBQUFBLEVBQ3RCLE9BQU87QUFBQTtBQUVULElBQWU7O0FDMUVmLFNBQXdCLE9BQU8sQ0FBQyxJQUFJO0FBQUEsRUFDbEMsTUFBTSxRQUFRLENBQUM7QUFBQSxFQUNmLE9BQU8sU0FBTztBQUFBLElBQ1osSUFBSSxNQUFNLFNBQVMsV0FBVztBQUFBLE1BQzVCLE1BQU0sT0FBTyxHQUFHLEdBQUc7QUFBQSxJQUNyQjtBQUFBLElBQ0EsT0FBTyxNQUFNO0FBQUE7QUFBQTs7QUNEakIsSUFBTSxhQUFhO0FBQUEsRUFDakIsR0FBRztBQUFBLEVBQ0gsR0FBRztBQUNMO0FBQ0EsSUFBTSxhQUFhO0FBQUEsRUFDakIsR0FBRztBQUFBLEVBQ0gsR0FBRztBQUFBLEVBQ0gsR0FBRztBQUFBLEVBQ0gsR0FBRztBQUFBLEVBQ0gsR0FBRyxDQUFDLFFBQVEsT0FBTztBQUFBLEVBQ25CLEdBQUcsQ0FBQyxPQUFPLFFBQVE7QUFDckI7QUFDQSxJQUFNLFVBQVU7QUFBQSxFQUNkLFNBQVM7QUFBQSxFQUNULFNBQVM7QUFBQSxFQUNULFVBQVU7QUFBQSxFQUNWLFVBQVU7QUFDWjtBQUtBLElBQU0sbUJBQW1CLFFBQVEsVUFBUTtBQUFBLEVBRXZDLElBQUksS0FBSyxTQUFTLEdBQUc7QUFBQSxJQUNuQixJQUFJLFFBQVEsT0FBTztBQUFBLE1BQ2pCLE9BQU8sUUFBUTtBQUFBLElBQ2pCLEVBQU87QUFBQSxNQUNMLE9BQU8sQ0FBQyxJQUFJO0FBQUE7QUFBQSxFQUVoQjtBQUFBLEVBQ0EsT0FBTyxHQUFHLEtBQUssS0FBSyxNQUFNLEVBQUU7QUFBQSxFQUM1QixNQUFNLFdBQVcsV0FBVztBQUFBLEVBQzVCLE1BQU0sWUFBWSxXQUFXLE1BQU07QUFBQSxFQUNuQyxPQUFPLE1BQU0sUUFBUSxTQUFTLElBQUksVUFBVSxJQUFJLFNBQU8sV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLFNBQVM7QUFBQSxDQUMvRjtBQUNNLElBQU0sYUFBYSxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sVUFBVSxhQUFhLGVBQWUsZ0JBQWdCLGNBQWMsV0FBVyxXQUFXLGdCQUFnQixxQkFBcUIsbUJBQW1CLGVBQWUsb0JBQW9CLGdCQUFnQjtBQUNsUSxJQUFNLGNBQWMsQ0FBQyxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLFdBQVcsY0FBYyxnQkFBZ0IsaUJBQWlCLGVBQWUsWUFBWSxZQUFZLGlCQUFpQixzQkFBc0Isb0JBQW9CLGdCQUFnQixxQkFBcUIsaUJBQWlCO0FBQ3ZSLElBQU0sY0FBYyxDQUFDLEdBQUcsWUFBWSxHQUFHLFdBQVc7QUFDM0MsU0FBUyxlQUFlLENBQUMsT0FBTyxVQUFVLGNBQWMsVUFBVTtBQUFBLEVBQ3ZFLE1BQU0sZUFBZSxRQUFRLE9BQU8sVUFBVSxJQUFJLEtBQUs7QUFBQSxFQUN2RCxJQUFJLE9BQU8saUJBQWlCLFlBQVksT0FBTyxpQkFBaUIsVUFBVTtBQUFBLElBQ3hFLE9BQU8sU0FBTztBQUFBLE1BQ1osSUFBSSxPQUFPLFFBQVEsVUFBVTtBQUFBLFFBQzNCLE9BQU87QUFBQSxNQUNUO0FBQUEsTUFDQSxJQUFJLE1BQXVDO0FBQUEsUUFDekMsSUFBSSxPQUFPLFFBQVEsVUFBVTtBQUFBLFVBQzNCLFFBQVEsTUFBTSxpQkFBaUIscURBQXFELE1BQU07QUFBQSxRQUM1RjtBQUFBLE1BQ0Y7QUFBQSxNQUNBLElBQUksT0FBTyxpQkFBaUIsVUFBVTtBQUFBLFFBQ3BDLElBQUksYUFBYSxXQUFXLE1BQU0sS0FBSyxRQUFRLEdBQUc7QUFBQSxVQUNoRCxPQUFPO0FBQUEsUUFDVDtBQUFBLFFBQ0EsSUFBSSxhQUFhLFdBQVcsTUFBTSxLQUFLLFFBQVEsR0FBRztBQUFBLFVBQ2hELE9BQU87QUFBQSxRQUNUO0FBQUEsUUFDQSxPQUFPLFFBQVEsU0FBUztBQUFBLE1BQzFCO0FBQUEsTUFDQSxPQUFPLGVBQWU7QUFBQTtBQUFBLEVBRTFCO0FBQUEsRUFDQSxJQUFJLE1BQU0sUUFBUSxZQUFZLEdBQUc7QUFBQSxJQUMvQixPQUFPLFNBQU87QUFBQSxNQUNaLElBQUksT0FBTyxRQUFRLFVBQVU7QUFBQSxRQUMzQixPQUFPO0FBQUEsTUFDVDtBQUFBLE1BQ0EsTUFBTSxNQUFNLEtBQUssSUFBSSxHQUFHO0FBQUEsTUFDeEIsSUFBSSxNQUF1QztBQUFBLFFBQ3pDLElBQUksQ0FBQyxPQUFPLFVBQVUsR0FBRyxHQUFHO0FBQUEsVUFDMUIsUUFBUSxNQUFNLENBQUMsb0JBQW9CLHNFQUFzRSwyRkFBMkYseUJBQXlCLEVBQUUsS0FBSztBQUFBLENBQUksQ0FBQztBQUFBLFFBQzNPLEVBQU8sU0FBSSxNQUFNLGFBQWEsU0FBUyxHQUFHO0FBQUEsVUFDeEMsUUFBUSxNQUFNLENBQUMsNEJBQTRCLG1CQUFtQiw2QkFBNkIsS0FBSyxVQUFVLFlBQVksTUFBTSxHQUFHLFNBQVMsYUFBYSxTQUFTLHdDQUF3QyxFQUFFLEtBQUs7QUFBQSxDQUFJLENBQUM7QUFBQSxRQUNwTjtBQUFBLE1BQ0Y7QUFBQSxNQUNBLE1BQU0sY0FBYyxhQUFhO0FBQUEsTUFDakMsSUFBSSxPQUFPLEdBQUc7QUFBQSxRQUNaLE9BQU87QUFBQSxNQUNUO0FBQUEsTUFDQSxJQUFJLE9BQU8sZ0JBQWdCLFVBQVU7QUFBQSxRQUNuQyxPQUFPLENBQUM7QUFBQSxNQUNWO0FBQUEsTUFDQSxJQUFJLE9BQU8sZ0JBQWdCLFlBQVksWUFBWSxXQUFXLE1BQU0sR0FBRztBQUFBLFFBQ3JFLE9BQU8sYUFBYTtBQUFBLE1BQ3RCO0FBQUEsTUFDQSxPQUFPLElBQUk7QUFBQTtBQUFBLEVBRWY7QUFBQSxFQUNBLElBQUksT0FBTyxpQkFBaUIsWUFBWTtBQUFBLElBQ3RDLE9BQU87QUFBQSxFQUNUO0FBQUEsRUFDQSxJQUFJLE1BQXVDO0FBQUEsSUFDekMsUUFBUSxNQUFNLENBQUMsb0JBQW9CLHFCQUFxQiw2QkFBNkIsZ0RBQWdELEVBQUUsS0FBSztBQUFBLENBQUksQ0FBQztBQUFBLEVBQ25KO0FBQUEsRUFDQSxPQUFPLE1BQUc7QUFBQSxJQUFHO0FBQUE7QUFBQTtBQUVSLFNBQVMsa0JBQWtCLENBQUMsT0FBTztBQUFBLEVBQ3hDLE9BQU8sZ0JBQWdCLE9BQU8sV0FBVyxHQUFHLFNBQVM7QUFBQTtBQUVoRCxTQUFTLFFBQVEsQ0FBQyxhQUFhLFdBQVc7QUFBQSxFQUMvQyxJQUFJLE9BQU8sY0FBYyxZQUFZLGFBQWEsTUFBTTtBQUFBLElBQ3RELE9BQU87QUFBQSxFQUNUO0FBQUEsRUFDQSxPQUFPLFlBQVksU0FBUztBQUFBO0FBRXZCLFNBQVMscUJBQXFCLENBQUMsZUFBZSxhQUFhO0FBQUEsRUFDaEUsT0FBTyxlQUFhLGNBQWMsT0FBTyxDQUFDLEtBQUssZ0JBQWdCO0FBQUEsSUFDN0QsSUFBSSxlQUFlLFNBQVMsYUFBYSxTQUFTO0FBQUEsSUFDbEQsT0FBTztBQUFBLEtBQ04sQ0FBQyxDQUFDO0FBQUE7QUFFUCxTQUFTLGtCQUFrQixDQUFDLE9BQU8sTUFBTSxNQUFNLGFBQWE7QUFBQSxFQUcxRCxJQUFJLENBQUMsS0FBSyxTQUFTLElBQUksR0FBRztBQUFBLElBQ3hCLE9BQU87QUFBQSxFQUNUO0FBQUEsRUFDQSxNQUFNLGdCQUFnQixpQkFBaUIsSUFBSTtBQUFBLEVBQzNDLE1BQU0scUJBQXFCLHNCQUFzQixlQUFlLFdBQVc7QUFBQSxFQUMzRSxNQUFNLFlBQVksTUFBTTtBQUFBLEVBQ3hCLE9BQU8sa0JBQWtCLE9BQU8sV0FBVyxrQkFBa0I7QUFBQTtBQUUvRCxTQUFTLE1BQUssQ0FBQyxPQUFPLE1BQU07QUFBQSxFQUMxQixNQUFNLGNBQWMsbUJBQW1CLE1BQU0sS0FBSztBQUFBLEVBQ2xELE9BQU8sT0FBTyxLQUFLLEtBQUssRUFBRSxJQUFJLFVBQVEsbUJBQW1CLE9BQU8sTUFBTSxNQUFNLFdBQVcsQ0FBQyxFQUFFLE9BQU8sZUFBTyxDQUFDLENBQUM7QUFBQTtBQUVyRyxTQUFTLE1BQU0sQ0FBQyxPQUFPO0FBQUEsRUFDNUIsT0FBTyxPQUFNLE9BQU8sVUFBVTtBQUFBO0FBRWhDLE9BQU8sWUFBb0QsV0FBVyxPQUFPLENBQUMsS0FBSyxRQUFRO0FBQUEsRUFDekYsSUFBSSxPQUFPO0FBQUEsRUFDWCxPQUFPO0FBQUEsR0FDTixDQUFDLENBQUM7QUFDTCxPQUFPLGNBQWM7QUFDZCxTQUFTLE9BQU8sQ0FBQyxPQUFPO0FBQUEsRUFDN0IsT0FBTyxPQUFNLE9BQU8sV0FBVztBQUFBO0FBRWpDLFFBQVEsWUFBb0QsWUFBWSxPQUFPLENBQUMsS0FBSyxRQUFRO0FBQUEsRUFDM0YsSUFBSSxPQUFPO0FBQUEsRUFDWCxPQUFPO0FBQUEsR0FDTixDQUFDLENBQUM7QUFDTCxRQUFRLGNBQWM7QUFDdEIsU0FBUyxPQUFPLENBQUMsT0FBTztBQUFBLEVBQ3RCLE9BQU8sT0FBTSxPQUFPLFdBQVc7QUFBQTtBQUVqQyxRQUFRLFlBQW9ELFlBQVksT0FBTyxDQUFDLEtBQUssUUFBUTtBQUFBLEVBQzNGLElBQUksT0FBTztBQUFBLEVBQ1gsT0FBTztBQUFBLEdBQ04sQ0FBQyxDQUFDO0FBQ0wsUUFBUSxjQUFjOzs7QUMxSnRCLFNBQVMsT0FBTyxJQUFJLFFBQVE7QUFBQSxFQUMxQixNQUFNLFdBQVcsT0FBTyxPQUFPLENBQUMsS0FBSyxXQUFVO0FBQUEsSUFDN0MsT0FBTSxZQUFZLFFBQVEsVUFBUTtBQUFBLE1BQ2hDLElBQUksUUFBUTtBQUFBLEtBQ2I7QUFBQSxJQUNELE9BQU87QUFBQSxLQUNOLENBQUMsQ0FBQztBQUFBLEVBSUwsTUFBTSxLQUFLLFdBQVM7QUFBQSxJQUNsQixPQUFPLE9BQU8sS0FBSyxLQUFLLEVBQUUsT0FBTyxDQUFDLEtBQUssU0FBUztBQUFBLE1BQzlDLElBQUksU0FBUyxPQUFPO0FBQUEsUUFDbEIsT0FBTyxjQUFNLEtBQUssU0FBUyxNQUFNLEtBQUssQ0FBQztBQUFBLE1BQ3pDO0FBQUEsTUFDQSxPQUFPO0FBQUEsT0FDTixDQUFDLENBQUM7QUFBQTtBQUFBLEVBRVAsR0FBRyxZQUFvRCxPQUFPLE9BQU8sQ0FBQyxLQUFLLFdBQVUsT0FBTyxPQUFPLEtBQUssT0FBTSxTQUFTLEdBQUcsQ0FBQyxDQUFDO0FBQUEsRUFDNUgsR0FBRyxjQUFjLE9BQU8sT0FBTyxDQUFDLEtBQUssV0FBVSxJQUFJLE9BQU8sT0FBTSxXQUFXLEdBQUcsQ0FBQyxDQUFDO0FBQUEsRUFDaEYsT0FBTztBQUFBO0FBRVQsSUFBZTs7QUNsQlIsU0FBUyxlQUFlLENBQUMsT0FBTztBQUFBLEVBQ3JDLElBQUksT0FBTyxVQUFVLFVBQVU7QUFBQSxJQUM3QixPQUFPO0FBQUEsRUFDVDtBQUFBLEVBQ0EsT0FBTyxHQUFHO0FBQUE7QUFFWixTQUFTLGlCQUFpQixDQUFDLE1BQU0sV0FBVztBQUFBLEVBQzFDLE9BQU8sY0FBTTtBQUFBLElBQ1g7QUFBQSxJQUNBLFVBQVU7QUFBQSxJQUNWO0FBQUEsRUFDRixDQUFDO0FBQUE7QUFFSSxJQUFNLFNBQVMsa0JBQWtCLFVBQVUsZUFBZTtBQUMxRCxJQUFNLFlBQVksa0JBQWtCLGFBQWEsZUFBZTtBQUNoRSxJQUFNLGNBQWMsa0JBQWtCLGVBQWUsZUFBZTtBQUNwRSxJQUFNLGVBQWUsa0JBQWtCLGdCQUFnQixlQUFlO0FBQ3RFLElBQU0sYUFBYSxrQkFBa0IsY0FBYyxlQUFlO0FBQ2xFLElBQU0sY0FBYyxrQkFBa0IsYUFBYTtBQUNuRCxJQUFNLGlCQUFpQixrQkFBa0IsZ0JBQWdCO0FBQ3pELElBQU0sbUJBQW1CLGtCQUFrQixrQkFBa0I7QUFDN0QsSUFBTSxvQkFBb0Isa0JBQWtCLG1CQUFtQjtBQUMvRCxJQUFNLGtCQUFrQixrQkFBa0IsaUJBQWlCO0FBQzNELElBQU0sVUFBVSxrQkFBa0IsV0FBVyxlQUFlO0FBQzVELElBQU0sZUFBZSxrQkFBa0IsY0FBYztBQUlyRCxJQUFNLGVBQWUsV0FBUztBQUFBLEVBQ25DLElBQUksTUFBTSxpQkFBaUIsYUFBYSxNQUFNLGlCQUFpQixNQUFNO0FBQUEsSUFDbkUsTUFBTSxjQUFjLGdCQUFnQixNQUFNLE9BQU8sc0JBQXNCLEdBQUcsY0FBYztBQUFBLElBQ3hGLE1BQU0scUJBQXFCLGdCQUFjO0FBQUEsTUFDdkMsY0FBYyxTQUFTLGFBQWEsU0FBUztBQUFBLElBQy9DO0FBQUEsSUFDQSxPQUFPLGtCQUFrQixPQUFPLE1BQU0sY0FBYyxrQkFBa0I7QUFBQSxFQUN4RTtBQUFBLEVBQ0EsT0FBTztBQUFBO0FBRVQsYUFBYSxZQUFvRDtBQUFBLEVBQy9ELGNBQWM7QUFDaEI7QUFDQSxhQUFhLGNBQWMsQ0FBQyxjQUFjO0FBQzFDLElBQU0sVUFBVSxnQkFBUSxRQUFRLFdBQVcsYUFBYSxjQUFjLFlBQVksYUFBYSxnQkFBZ0Isa0JBQWtCLG1CQUFtQixpQkFBaUIsY0FBYyxTQUFTLFlBQVk7OztBQ3ZDak0sSUFBTSxNQUFNLFdBQVM7QUFBQSxFQUMxQixJQUFJLE1BQU0sUUFBUSxhQUFhLE1BQU0sUUFBUSxNQUFNO0FBQUEsSUFDakQsTUFBTSxjQUFjLGdCQUFnQixNQUFNLE9BQU8sV0FBVyxHQUFHLEtBQUs7QUFBQSxJQUNwRSxNQUFNLHFCQUFxQixnQkFBYztBQUFBLE1BQ3ZDLEtBQUssU0FBUyxhQUFhLFNBQVM7QUFBQSxJQUN0QztBQUFBLElBQ0EsT0FBTyxrQkFBa0IsT0FBTyxNQUFNLEtBQUssa0JBQWtCO0FBQUEsRUFDL0Q7QUFBQSxFQUNBLE9BQU87QUFBQTtBQUVULElBQUksWUFBb0Q7QUFBQSxFQUN0RCxLQUFLO0FBQ1A7QUFDQSxJQUFJLGNBQWMsQ0FBQyxLQUFLO0FBSWpCLElBQU0sWUFBWSxXQUFTO0FBQUEsRUFDaEMsSUFBSSxNQUFNLGNBQWMsYUFBYSxNQUFNLGNBQWMsTUFBTTtBQUFBLElBQzdELE1BQU0sY0FBYyxnQkFBZ0IsTUFBTSxPQUFPLFdBQVcsR0FBRyxXQUFXO0FBQUEsSUFDMUUsTUFBTSxxQkFBcUIsZ0JBQWM7QUFBQSxNQUN2QyxXQUFXLFNBQVMsYUFBYSxTQUFTO0FBQUEsSUFDNUM7QUFBQSxJQUNBLE9BQU8sa0JBQWtCLE9BQU8sTUFBTSxXQUFXLGtCQUFrQjtBQUFBLEVBQ3JFO0FBQUEsRUFDQSxPQUFPO0FBQUE7QUFFVCxVQUFVLFlBQW9EO0FBQUEsRUFDNUQsV0FBVztBQUNiO0FBQ0EsVUFBVSxjQUFjLENBQUMsV0FBVztBQUk3QixJQUFNLFNBQVMsV0FBUztBQUFBLEVBQzdCLElBQUksTUFBTSxXQUFXLGFBQWEsTUFBTSxXQUFXLE1BQU07QUFBQSxJQUN2RCxNQUFNLGNBQWMsZ0JBQWdCLE1BQU0sT0FBTyxXQUFXLEdBQUcsUUFBUTtBQUFBLElBQ3ZFLE1BQU0scUJBQXFCLGdCQUFjO0FBQUEsTUFDdkMsUUFBUSxTQUFTLGFBQWEsU0FBUztBQUFBLElBQ3pDO0FBQUEsSUFDQSxPQUFPLGtCQUFrQixPQUFPLE1BQU0sUUFBUSxrQkFBa0I7QUFBQSxFQUNsRTtBQUFBLEVBQ0EsT0FBTztBQUFBO0FBRVQsT0FBTyxZQUFvRDtBQUFBLEVBQ3pELFFBQVE7QUFDVjtBQUNBLE9BQU8sY0FBYyxDQUFDLFFBQVE7QUFDdkIsSUFBTSxhQUFhLGNBQU07QUFBQSxFQUM5QixNQUFNO0FBQ1IsQ0FBQztBQUNNLElBQU0sVUFBVSxjQUFNO0FBQUEsRUFDM0IsTUFBTTtBQUNSLENBQUM7QUFDTSxJQUFNLGVBQWUsY0FBTTtBQUFBLEVBQ2hDLE1BQU07QUFDUixDQUFDO0FBQ00sSUFBTSxrQkFBa0IsY0FBTTtBQUFBLEVBQ25DLE1BQU07QUFDUixDQUFDO0FBQ00sSUFBTSxlQUFlLGNBQU07QUFBQSxFQUNoQyxNQUFNO0FBQ1IsQ0FBQztBQUNNLElBQU0sc0JBQXNCLGNBQU07QUFBQSxFQUN2QyxNQUFNO0FBQ1IsQ0FBQztBQUNNLElBQU0sbUJBQW1CLGNBQU07QUFBQSxFQUNwQyxNQUFNO0FBQ1IsQ0FBQztBQUNNLElBQU0sb0JBQW9CLGNBQU07QUFBQSxFQUNyQyxNQUFNO0FBQ1IsQ0FBQztBQUNNLElBQU0sV0FBVyxjQUFNO0FBQUEsRUFDNUIsTUFBTTtBQUNSLENBQUM7QUFDRCxJQUFNLE9BQU8sZ0JBQVEsS0FBSyxXQUFXLFFBQVEsWUFBWSxTQUFTLGNBQWMsaUJBQWlCLGNBQWMscUJBQXFCLGtCQUFrQixtQkFBbUIsUUFBUTs7O0FDakYxSyxTQUFTLGdCQUFnQixDQUFDLE9BQU8sV0FBVztBQUFBLEVBQ2pELElBQUksY0FBYyxRQUFRO0FBQUEsSUFDeEIsT0FBTztBQUFBLEVBQ1Q7QUFBQSxFQUNBLE9BQU87QUFBQTtBQUVGLElBQU0sUUFBUSxjQUFNO0FBQUEsRUFDekIsTUFBTTtBQUFBLEVBQ04sVUFBVTtBQUFBLEVBQ1YsV0FBVztBQUNiLENBQUM7QUFDTSxJQUFNLFVBQVUsY0FBTTtBQUFBLEVBQzNCLE1BQU07QUFBQSxFQUNOLGFBQWE7QUFBQSxFQUNiLFVBQVU7QUFBQSxFQUNWLFdBQVc7QUFDYixDQUFDO0FBQ00sSUFBTSxrQkFBa0IsY0FBTTtBQUFBLEVBQ25DLE1BQU07QUFBQSxFQUNOLFVBQVU7QUFBQSxFQUNWLFdBQVc7QUFDYixDQUFDO0FBQ0QsSUFBTSxVQUFVLGdCQUFRLE9BQU8sU0FBUyxlQUFlOzs7QUNyQmhELFNBQVMsZUFBZSxDQUFDLE9BQU87QUFBQSxFQUNyQyxPQUFPLFNBQVMsS0FBSyxVQUFVLElBQUksR0FBRyxRQUFRLFNBQVM7QUFBQTtBQUVsRCxJQUFNLFFBQVEsY0FBTTtBQUFBLEVBQ3pCLE1BQU07QUFBQSxFQUNOLFdBQVc7QUFDYixDQUFDO0FBQ00sSUFBTSxXQUFXLFdBQVM7QUFBQSxFQUMvQixJQUFJLE1BQU0sYUFBYSxhQUFhLE1BQU0sYUFBYSxNQUFNO0FBQUEsSUFDM0QsTUFBTSxxQkFBcUIsZUFBYTtBQUFBLE1BQ3RDLE1BQU0sYUFBYSxNQUFNLE9BQU8sYUFBYSxTQUFTLGNBQWMsT0FBa0I7QUFBQSxNQUN0RixJQUFJLENBQUMsWUFBWTtBQUFBLFFBQ2YsT0FBTztBQUFBLFVBQ0wsVUFBVSxnQkFBZ0IsU0FBUztBQUFBLFFBQ3JDO0FBQUEsTUFDRjtBQUFBLE1BQ0EsSUFBSSxNQUFNLE9BQU8sYUFBYSxTQUFTLE1BQU07QUFBQSxRQUMzQyxPQUFPO0FBQUEsVUFDTCxVQUFVLEdBQUcsYUFBYSxNQUFNLE1BQU0sWUFBWTtBQUFBLFFBQ3BEO0FBQUEsTUFDRjtBQUFBLE1BQ0EsT0FBTztBQUFBLFFBQ0wsVUFBVTtBQUFBLE1BQ1o7QUFBQTtBQUFBLElBRUYsT0FBTyxrQkFBa0IsT0FBTyxNQUFNLFVBQVUsa0JBQWtCO0FBQUEsRUFDcEU7QUFBQSxFQUNBLE9BQU87QUFBQTtBQUVULFNBQVMsY0FBYyxDQUFDLFVBQVU7QUFDM0IsSUFBTSxXQUFXLGNBQU07QUFBQSxFQUM1QixNQUFNO0FBQUEsRUFDTixXQUFXO0FBQ2IsQ0FBQztBQUNNLElBQU0sU0FBUyxjQUFNO0FBQUEsRUFDMUIsTUFBTTtBQUFBLEVBQ04sV0FBVztBQUNiLENBQUM7QUFDTSxJQUFNLFlBQVksY0FBTTtBQUFBLEVBQzdCLE1BQU07QUFBQSxFQUNOLFdBQVc7QUFDYixDQUFDO0FBQ00sSUFBTSxZQUFZLGNBQU07QUFBQSxFQUM3QixNQUFNO0FBQUEsRUFDTixXQUFXO0FBQ2IsQ0FBQztBQUNNLElBQU0sWUFBWSxjQUFNO0FBQUEsRUFDN0IsTUFBTTtBQUFBLEVBQ04sYUFBYTtBQUFBLEVBQ2IsV0FBVztBQUNiLENBQUM7QUFDTSxJQUFNLGFBQWEsY0FBTTtBQUFBLEVBQzlCLE1BQU07QUFBQSxFQUNOLGFBQWE7QUFBQSxFQUNiLFdBQVc7QUFDYixDQUFDO0FBQ00sSUFBTSxZQUFZLGNBQU07QUFBQSxFQUM3QixNQUFNO0FBQ1IsQ0FBQztBQUNELElBQU0sU0FBUyxnQkFBUSxPQUFPLFVBQVUsVUFBVSxRQUFRLFdBQVcsV0FBVyxTQUFTOzs7QUN6RHpGLElBQU0sa0JBQWtCO0FBQUEsRUFFdEIsUUFBUTtBQUFBLElBQ04sVUFBVTtBQUFBLElBQ1YsV0FBVztBQUFBLEVBQ2I7QUFBQSxFQUNBLFdBQVc7QUFBQSxJQUNULFVBQVU7QUFBQSxJQUNWLFdBQVc7QUFBQSxFQUNiO0FBQUEsRUFDQSxhQUFhO0FBQUEsSUFDWCxVQUFVO0FBQUEsSUFDVixXQUFXO0FBQUEsRUFDYjtBQUFBLEVBQ0EsY0FBYztBQUFBLElBQ1osVUFBVTtBQUFBLElBQ1YsV0FBVztBQUFBLEVBQ2I7QUFBQSxFQUNBLFlBQVk7QUFBQSxJQUNWLFVBQVU7QUFBQSxJQUNWLFdBQVc7QUFBQSxFQUNiO0FBQUEsRUFDQSxhQUFhO0FBQUEsSUFDWCxVQUFVO0FBQUEsRUFDWjtBQUFBLEVBQ0EsZ0JBQWdCO0FBQUEsSUFDZCxVQUFVO0FBQUEsRUFDWjtBQUFBLEVBQ0Esa0JBQWtCO0FBQUEsSUFDaEIsVUFBVTtBQUFBLEVBQ1o7QUFBQSxFQUNBLG1CQUFtQjtBQUFBLElBQ2pCLFVBQVU7QUFBQSxFQUNaO0FBQUEsRUFDQSxpQkFBaUI7QUFBQSxJQUNmLFVBQVU7QUFBQSxFQUNaO0FBQUEsRUFDQSxTQUFTO0FBQUEsSUFDUCxVQUFVO0FBQUEsSUFDVixXQUFXO0FBQUEsRUFDYjtBQUFBLEVBQ0EsY0FBYztBQUFBLElBQ1osVUFBVTtBQUFBLEVBQ1o7QUFBQSxFQUNBLGNBQWM7QUFBQSxJQUNaLFVBQVU7QUFBQSxJQUNWLE9BQU87QUFBQSxFQUNUO0FBQUEsRUFFQSxPQUFPO0FBQUEsSUFDTCxVQUFVO0FBQUEsSUFDVixXQUFXO0FBQUEsRUFDYjtBQUFBLEVBQ0EsU0FBUztBQUFBLElBQ1AsVUFBVTtBQUFBLElBQ1YsYUFBYTtBQUFBLElBQ2IsV0FBVztBQUFBLEVBQ2I7QUFBQSxFQUNBLGlCQUFpQjtBQUFBLElBQ2YsVUFBVTtBQUFBLElBQ1YsV0FBVztBQUFBLEVBQ2I7QUFBQSxFQUVBLEdBQUc7QUFBQSxJQUNELE9BQU87QUFBQSxFQUNUO0FBQUEsRUFDQSxJQUFJO0FBQUEsSUFDRixPQUFPO0FBQUEsRUFDVDtBQUFBLEVBQ0EsSUFBSTtBQUFBLElBQ0YsT0FBTztBQUFBLEVBQ1Q7QUFBQSxFQUNBLElBQUk7QUFBQSxJQUNGLE9BQU87QUFBQSxFQUNUO0FBQUEsRUFDQSxJQUFJO0FBQUEsSUFDRixPQUFPO0FBQUEsRUFDVDtBQUFBLEVBQ0EsSUFBSTtBQUFBLElBQ0YsT0FBTztBQUFBLEVBQ1Q7QUFBQSxFQUNBLElBQUk7QUFBQSxJQUNGLE9BQU87QUFBQSxFQUNUO0FBQUEsRUFDQSxTQUFTO0FBQUEsSUFDUCxPQUFPO0FBQUEsRUFDVDtBQUFBLEVBQ0EsWUFBWTtBQUFBLElBQ1YsT0FBTztBQUFBLEVBQ1Q7QUFBQSxFQUNBLGNBQWM7QUFBQSxJQUNaLE9BQU87QUFBQSxFQUNUO0FBQUEsRUFDQSxlQUFlO0FBQUEsSUFDYixPQUFPO0FBQUEsRUFDVDtBQUFBLEVBQ0EsYUFBYTtBQUFBLElBQ1gsT0FBTztBQUFBLEVBQ1Q7QUFBQSxFQUNBLFVBQVU7QUFBQSxJQUNSLE9BQU87QUFBQSxFQUNUO0FBQUEsRUFDQSxVQUFVO0FBQUEsSUFDUixPQUFPO0FBQUEsRUFDVDtBQUFBLEVBQ0EsZUFBZTtBQUFBLElBQ2IsT0FBTztBQUFBLEVBQ1Q7QUFBQSxFQUNBLG9CQUFvQjtBQUFBLElBQ2xCLE9BQU87QUFBQSxFQUNUO0FBQUEsRUFDQSxrQkFBa0I7QUFBQSxJQUNoQixPQUFPO0FBQUEsRUFDVDtBQUFBLEVBQ0EsY0FBYztBQUFBLElBQ1osT0FBTztBQUFBLEVBQ1Q7QUFBQSxFQUNBLG1CQUFtQjtBQUFBLElBQ2pCLE9BQU87QUFBQSxFQUNUO0FBQUEsRUFDQSxpQkFBaUI7QUFBQSxJQUNmLE9BQU87QUFBQSxFQUNUO0FBQUEsRUFDQSxHQUFHO0FBQUEsSUFDRCxPQUFPO0FBQUEsRUFDVDtBQUFBLEVBQ0EsSUFBSTtBQUFBLElBQ0YsT0FBTztBQUFBLEVBQ1Q7QUFBQSxFQUNBLElBQUk7QUFBQSxJQUNGLE9BQU87QUFBQSxFQUNUO0FBQUEsRUFDQSxJQUFJO0FBQUEsSUFDRixPQUFPO0FBQUEsRUFDVDtBQUFBLEVBQ0EsSUFBSTtBQUFBLElBQ0YsT0FBTztBQUFBLEVBQ1Q7QUFBQSxFQUNBLElBQUk7QUFBQSxJQUNGLE9BQU87QUFBQSxFQUNUO0FBQUEsRUFDQSxJQUFJO0FBQUEsSUFDRixPQUFPO0FBQUEsRUFDVDtBQUFBLEVBQ0EsUUFBUTtBQUFBLElBQ04sT0FBTztBQUFBLEVBQ1Q7QUFBQSxFQUNBLFdBQVc7QUFBQSxJQUNULE9BQU87QUFBQSxFQUNUO0FBQUEsRUFDQSxhQUFhO0FBQUEsSUFDWCxPQUFPO0FBQUEsRUFDVDtBQUFBLEVBQ0EsY0FBYztBQUFBLElBQ1osT0FBTztBQUFBLEVBQ1Q7QUFBQSxFQUNBLFlBQVk7QUFBQSxJQUNWLE9BQU87QUFBQSxFQUNUO0FBQUEsRUFDQSxTQUFTO0FBQUEsSUFDUCxPQUFPO0FBQUEsRUFDVDtBQUFBLEVBQ0EsU0FBUztBQUFBLElBQ1AsT0FBTztBQUFBLEVBQ1Q7QUFBQSxFQUNBLGNBQWM7QUFBQSxJQUNaLE9BQU87QUFBQSxFQUNUO0FBQUEsRUFDQSxtQkFBbUI7QUFBQSxJQUNqQixPQUFPO0FBQUEsRUFDVDtBQUFBLEVBQ0EsaUJBQWlCO0FBQUEsSUFDZixPQUFPO0FBQUEsRUFDVDtBQUFBLEVBQ0EsYUFBYTtBQUFBLElBQ1gsT0FBTztBQUFBLEVBQ1Q7QUFBQSxFQUNBLGtCQUFrQjtBQUFBLElBQ2hCLE9BQU87QUFBQSxFQUNUO0FBQUEsRUFDQSxnQkFBZ0I7QUFBQSxJQUNkLE9BQU87QUFBQSxFQUNUO0FBQUEsRUFFQSxjQUFjO0FBQUEsSUFDWixhQUFhO0FBQUEsSUFDYixXQUFXLFlBQVU7QUFBQSxNQUNuQixnQkFBZ0I7QUFBQSxRQUNkLFNBQVM7QUFBQSxNQUNYO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7QUFBQSxFQUNBLFNBQVMsQ0FBQztBQUFBLEVBQ1YsVUFBVSxDQUFDO0FBQUEsRUFDWCxjQUFjLENBQUM7QUFBQSxFQUNmLFlBQVksQ0FBQztBQUFBLEVBQ2IsWUFBWSxDQUFDO0FBQUEsRUFFYixXQUFXLENBQUM7QUFBQSxFQUNaLGVBQWUsQ0FBQztBQUFBLEVBQ2hCLFVBQVUsQ0FBQztBQUFBLEVBQ1gsZ0JBQWdCLENBQUM7QUFBQSxFQUNqQixZQUFZLENBQUM7QUFBQSxFQUNiLGNBQWMsQ0FBQztBQUFBLEVBQ2YsT0FBTyxDQUFDO0FBQUEsRUFDUixNQUFNLENBQUM7QUFBQSxFQUNQLFVBQVUsQ0FBQztBQUFBLEVBQ1gsWUFBWSxDQUFDO0FBQUEsRUFDYixXQUFXLENBQUM7QUFBQSxFQUNaLGNBQWMsQ0FBQztBQUFBLEVBQ2YsYUFBYSxDQUFDO0FBQUEsRUFFZCxLQUFLO0FBQUEsSUFDSCxPQUFPO0FBQUEsRUFDVDtBQUFBLEVBQ0EsUUFBUTtBQUFBLElBQ04sT0FBTztBQUFBLEVBQ1Q7QUFBQSxFQUNBLFdBQVc7QUFBQSxJQUNULE9BQU87QUFBQSxFQUNUO0FBQUEsRUFDQSxZQUFZLENBQUM7QUFBQSxFQUNiLFNBQVMsQ0FBQztBQUFBLEVBQ1YsY0FBYyxDQUFDO0FBQUEsRUFDZixpQkFBaUIsQ0FBQztBQUFBLEVBQ2xCLGNBQWMsQ0FBQztBQUFBLEVBQ2YscUJBQXFCLENBQUM7QUFBQSxFQUN0QixrQkFBa0IsQ0FBQztBQUFBLEVBQ25CLG1CQUFtQixDQUFDO0FBQUEsRUFDcEIsVUFBVSxDQUFDO0FBQUEsRUFFWCxVQUFVLENBQUM7QUFBQSxFQUNYLFFBQVE7QUFBQSxJQUNOLFVBQVU7QUFBQSxFQUNaO0FBQUEsRUFDQSxLQUFLLENBQUM7QUFBQSxFQUNOLE9BQU8sQ0FBQztBQUFBLEVBQ1IsUUFBUSxDQUFDO0FBQUEsRUFDVCxNQUFNLENBQUM7QUFBQSxFQUVQLFdBQVc7QUFBQSxJQUNULFVBQVU7QUFBQSxFQUNaO0FBQUEsRUFFQSxPQUFPO0FBQUEsSUFDTCxXQUFXO0FBQUEsRUFDYjtBQUFBLEVBQ0EsVUFBVTtBQUFBLElBQ1IsT0FBTztBQUFBLEVBQ1Q7QUFBQSxFQUNBLFVBQVU7QUFBQSxJQUNSLFdBQVc7QUFBQSxFQUNiO0FBQUEsRUFDQSxRQUFRO0FBQUEsSUFDTixXQUFXO0FBQUEsRUFDYjtBQUFBLEVBQ0EsV0FBVztBQUFBLElBQ1QsV0FBVztBQUFBLEVBQ2I7QUFBQSxFQUNBLFdBQVc7QUFBQSxJQUNULFdBQVc7QUFBQSxFQUNiO0FBQUEsRUFDQSxXQUFXLENBQUM7QUFBQSxFQUVaLE1BQU07QUFBQSxJQUNKLFVBQVU7QUFBQSxFQUNaO0FBQUEsRUFDQSxZQUFZO0FBQUEsSUFDVixVQUFVO0FBQUEsRUFDWjtBQUFBLEVBQ0EsVUFBVTtBQUFBLElBQ1IsVUFBVTtBQUFBLEVBQ1o7QUFBQSxFQUNBLFdBQVc7QUFBQSxJQUNULFVBQVU7QUFBQSxFQUNaO0FBQUEsRUFDQSxZQUFZO0FBQUEsSUFDVixVQUFVO0FBQUEsRUFDWjtBQUFBLEVBQ0EsZUFBZSxDQUFDO0FBQUEsRUFDaEIsZUFBZSxDQUFDO0FBQUEsRUFDaEIsWUFBWSxDQUFDO0FBQUEsRUFDYixXQUFXLENBQUM7QUFBQSxFQUNaLFlBQVk7QUFBQSxJQUNWLGFBQWE7QUFBQSxJQUNiLFVBQVU7QUFBQSxFQUNaO0FBQ0Y7QUFDQSxJQUFlOzs7QUMvUmYsU0FBUyxtQkFBbUIsSUFBSSxTQUFTO0FBQUEsRUFDdkMsTUFBTSxVQUFVLFFBQVEsT0FBTyxDQUFDLE1BQU0sV0FBVyxLQUFLLE9BQU8sT0FBTyxLQUFLLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUFBLEVBQ3JGLE1BQU0sUUFBUSxJQUFJLElBQUksT0FBTztBQUFBLEVBQzdCLE9BQU8sUUFBUSxNQUFNLFlBQVUsTUFBTSxTQUFTLE9BQU8sS0FBSyxNQUFNLEVBQUUsTUFBTTtBQUFBO0FBRTFFLFNBQVMsUUFBUSxDQUFDLFNBQVMsS0FBSztBQUFBLEVBQzlCLE9BQU8sT0FBTyxZQUFZLGFBQWEsUUFBUSxHQUFHLElBQUk7QUFBQTtBQUlqRCxTQUFTLDhCQUE4QixHQUFHO0FBQUEsRUFDL0MsU0FBUyxhQUFhLENBQUMsTUFBTSxLQUFLLE9BQU8sUUFBUTtBQUFBLElBQy9DLE1BQU0sUUFBUTtBQUFBLE9BQ1gsT0FBTztBQUFBLE1BQ1I7QUFBQSxJQUNGO0FBQUEsSUFDQSxNQUFNLFVBQVUsT0FBTztBQUFBLElBQ3ZCLElBQUksQ0FBQyxTQUFTO0FBQUEsTUFDWixPQUFPO0FBQUEsU0FDSixPQUFPO0FBQUEsTUFDVjtBQUFBLElBQ0Y7QUFBQSxJQUNBO0FBQUEsTUFDRSxjQUFjO0FBQUEsTUFDZDtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsUUFDRTtBQUFBLElBQ0osSUFBSSxPQUFPLE1BQU07QUFBQSxNQUNmLE9BQU87QUFBQSxJQUNUO0FBQUEsSUFHQSxJQUFJLGFBQWEsZ0JBQWdCLFFBQVEsV0FBVztBQUFBLE1BQ2xELE9BQU87QUFBQSxTQUNKLE9BQU87QUFBQSxNQUNWO0FBQUEsSUFDRjtBQUFBLElBQ0EsTUFBTSxlQUFlLFFBQVEsT0FBTyxRQUFRLEtBQUssQ0FBQztBQUFBLElBQ2xELElBQUksUUFBTztBQUFBLE1BQ1QsT0FBTyxPQUFNLEtBQUs7QUFBQSxJQUNwQjtBQUFBLElBQ0EsTUFBTSxxQkFBcUIsb0JBQWtCO0FBQUEsTUFDM0MsSUFBSSxRQUFRLGNBQVMsY0FBYyxXQUFXLGNBQWM7QUFBQSxNQUM1RCxJQUFJLG1CQUFtQixTQUFTLE9BQU8sbUJBQW1CLFVBQVU7QUFBQSxRQUVsRSxRQUFRLGNBQVMsY0FBYyxXQUFXLEdBQUcsT0FBTyxtQkFBbUIsWUFBWSxLQUFLLFdBQVcsY0FBYyxLQUFLLGNBQWM7QUFBQSxNQUN0STtBQUFBLE1BQ0EsSUFBSSxnQkFBZ0IsT0FBTztBQUFBLFFBQ3pCLE9BQU87QUFBQSxNQUNUO0FBQUEsTUFDQSxPQUFPO0FBQUEsU0FDSixjQUFjO0FBQUEsTUFDakI7QUFBQTtBQUFBLElBRUYsT0FBTyxrQkFBa0IsT0FBTyxLQUFLLGtCQUFrQjtBQUFBO0FBQUEsRUFFekQsU0FBUyxlQUFlLENBQUMsT0FBTztBQUFBLElBQzlCO0FBQUEsTUFDRTtBQUFBLE1BQ0EsUUFBUSxDQUFDO0FBQUEsTUFDVDtBQUFBLFFBQ0UsU0FBUyxDQUFDO0FBQUEsSUFDZCxJQUFJLENBQUMsSUFBSTtBQUFBLE1BQ1AsT0FBTztBQUFBLElBQ1Q7QUFBQSxJQUNBLE1BQU0sU0FBUyxNQUFNLHFCQUFxQjtBQUFBLElBTzFDLFNBQVMsUUFBUSxDQUFDLFNBQVM7QUFBQSxNQUN6QixJQUFJLFdBQVc7QUFBQSxNQUNmLElBQUksT0FBTyxZQUFZLFlBQVk7QUFBQSxRQUNqQyxXQUFXLFFBQVEsS0FBSztBQUFBLE1BQzFCLEVBQU8sU0FBSSxPQUFPLFlBQVksVUFBVTtBQUFBLFFBRXRDLE9BQU87QUFBQSxNQUNUO0FBQUEsTUFDQSxJQUFJLENBQUMsVUFBVTtBQUFBLFFBQ2IsT0FBTztBQUFBLE1BQ1Q7QUFBQSxNQUNBLE1BQU0sbUJBQW1CLDRCQUE0QixNQUFNLFdBQVc7QUFBQSxNQUN0RSxNQUFNLGtCQUFrQixPQUFPLEtBQUssZ0JBQWdCO0FBQUEsTUFDcEQsSUFBSSxNQUFNO0FBQUEsTUFDVixPQUFPLEtBQUssUUFBUSxFQUFFLFFBQVEsY0FBWTtBQUFBLFFBQ3hDLE1BQU0sUUFBUSxTQUFTLFNBQVMsV0FBVyxLQUFLO0FBQUEsUUFDaEQsSUFBSSxVQUFVLFFBQVEsVUFBVSxXQUFXO0FBQUEsVUFDekMsSUFBSSxPQUFPLFVBQVUsVUFBVTtBQUFBLFlBQzdCLElBQUksT0FBTyxXQUFXO0FBQUEsY0FDcEIsTUFBTSxjQUFNLEtBQUssY0FBYyxVQUFVLE9BQU8sT0FBTyxNQUFNLENBQUM7QUFBQSxZQUNoRSxFQUFPO0FBQUEsY0FDTCxNQUFNLG9CQUFvQixrQkFBa0I7QUFBQSxnQkFDMUM7QUFBQSxjQUNGLEdBQUcsT0FBTyxRQUFNO0FBQUEsaUJBQ2IsV0FBVztBQUFBLGNBQ2QsRUFBRTtBQUFBLGNBQ0YsSUFBSSxvQkFBb0IsbUJBQW1CLEtBQUssR0FBRztBQUFBLGdCQUNqRCxJQUFJLFlBQVksZ0JBQWdCO0FBQUEsa0JBQzlCLElBQUk7QUFBQSxrQkFDSjtBQUFBLGtCQUNBLFFBQVE7QUFBQSxnQkFDVixDQUFDO0FBQUEsY0FDSCxFQUFPO0FBQUEsZ0JBQ0wsTUFBTSxjQUFNLEtBQUssaUJBQWlCO0FBQUE7QUFBQTtBQUFBLFVBR3hDLEVBQU87QUFBQSxZQUNMLE1BQU0sY0FBTSxLQUFLLGNBQWMsVUFBVSxPQUFPLE9BQU8sTUFBTSxDQUFDO0FBQUE7QUFBQSxRQUVsRTtBQUFBLE9BQ0Q7QUFBQSxNQUNELElBQUksQ0FBQyxVQUFVLE1BQU0sa0JBQWtCO0FBQUEsUUFDckMsT0FBTztBQUFBLFVBQ0wsYUFBYSxxQkFBcUIsT0FBTyx3QkFBd0IsaUJBQWlCLEdBQUcsQ0FBQztBQUFBLFFBQ3hGO0FBQUEsTUFDRjtBQUFBLE1BQ0EsT0FBTyxxQkFBcUIsT0FBTyx3QkFBd0IsaUJBQWlCLEdBQUcsQ0FBQztBQUFBO0FBQUEsSUFFbEYsT0FBTyxNQUFNLFFBQVEsRUFBRSxJQUFJLEdBQUcsSUFBSSxRQUFRLElBQUksU0FBUyxFQUFFO0FBQUE7QUFBQSxFQUUzRCxPQUFPO0FBQUE7QUFFVCxJQUFNLGtCQUFrQiwrQkFBK0I7QUFDdkQsZ0JBQWdCLGNBQWMsQ0FBQyxJQUFJO0FBQ25DLElBQWU7O0FDbklmLElBQU0sYUFBYSxXQUFTO0FBQUEsRUFDMUIsTUFBTSxTQUFTO0FBQUEsSUFDYixhQUFhLENBQUM7QUFBQSxJQUNkLFlBQVksQ0FBQztBQUFBLEVBQ2Y7QUFBQSxFQUNBLE1BQU0sU0FBUyxPQUFPLE9BQU8scUJBQXFCO0FBQUEsRUFDbEQsT0FBTyxLQUFLLEtBQUssRUFBRSxRQUFRLFVBQVE7QUFBQSxJQUNqQyxJQUFJLE9BQU8sT0FBTztBQUFBLE1BQ2hCLE9BQU8sWUFBWSxRQUFRLE1BQU07QUFBQSxJQUNuQyxFQUFPO0FBQUEsTUFDTCxPQUFPLFdBQVcsUUFBUSxNQUFNO0FBQUE7QUFBQSxHQUVuQztBQUFBLEVBQ0QsT0FBTztBQUFBO0FBRVQsU0FBd0IsWUFBWSxDQUFDLE9BQU87QUFBQSxFQUMxQztBQUFBLElBQ0UsSUFBSTtBQUFBLE9BQ0Q7QUFBQSxNQUNEO0FBQUEsRUFDSjtBQUFBLElBQ0U7QUFBQSxJQUNBO0FBQUEsTUFDRSxXQUFXLEtBQUs7QUFBQSxFQUNwQixJQUFJO0FBQUEsRUFDSixJQUFJLE1BQU0sUUFBUSxJQUFJLEdBQUc7QUFBQSxJQUN2QixVQUFVLENBQUMsYUFBYSxHQUFHLElBQUk7QUFBQSxFQUNqQyxFQUFPLFNBQUksT0FBTyxTQUFTLFlBQVk7QUFBQSxJQUNyQyxVQUFVLElBQUksU0FBUztBQUFBLE1BQ3JCLE1BQU0sU0FBUyxLQUFLLEdBQUcsSUFBSTtBQUFBLE1BQzNCLElBQUksQ0FBQyxlQUFjLE1BQU0sR0FBRztBQUFBLFFBQzFCLE9BQU87QUFBQSxNQUNUO0FBQUEsTUFDQSxPQUFPO0FBQUEsV0FDRjtBQUFBLFdBQ0E7QUFBQSxNQUNMO0FBQUE7QUFBQSxFQUVKLEVBQU87QUFBQSxJQUNMLFVBQVU7QUFBQSxTQUNMO0FBQUEsU0FDQTtBQUFBLElBQ0w7QUFBQTtBQUFBLEVBRUYsT0FBTztBQUFBLE9BQ0Y7QUFBQSxJQUNILElBQUk7QUFBQSxFQUNOO0FBQUE7O0FDL0NGOzs7QUNGQSxTQUFTLFFBQVEsR0FBRztBQUFBLEVBQ2xCLE9BQU8sV0FBVyxPQUFPLFNBQVMsT0FBTyxPQUFPLEtBQUssSUFBSSxRQUFTLENBQUMsR0FBRztBQUFBLElBQ3BFLFNBQVMsSUFBSSxFQUFHLElBQUksVUFBVSxRQUFRLEtBQUs7QUFBQSxNQUN6QyxJQUFJLElBQUksVUFBVTtBQUFBLE1BQ2xCLFNBQVMsTUFBSztBQUFBLFNBQUksQ0FBQyxHQUFHLGVBQWUsS0FBSyxHQUFHLEVBQUMsTUFBTSxFQUFFLE1BQUssRUFBRTtBQUFBLElBQy9EO0FBQUEsSUFDQSxPQUFPO0FBQUEsS0FDTixTQUFTLE1BQU0sTUFBTSxTQUFTO0FBQUE7OztBQ1BuQztBQUNBOzs7QUNEQSxJQUFJLGdCQUFnQjtBQXlCcEIsU0FBUyxXQUFXLENBQUMsS0FBSztBQUFBLEVBQ3hCLElBQUksSUFBSSxPQUFPO0FBQUEsSUFDYixPQUFPLElBQUk7QUFBQSxFQUNiO0FBQUEsRUFLQSxTQUFTLElBQUksRUFBRyxJQUFJLFNBQVMsWUFBWSxRQUFRLEtBQUs7QUFBQSxJQUNwRCxJQUFJLFNBQVMsWUFBWSxHQUFHLGNBQWMsS0FBSztBQUFBLE1BQzdDLE9BQU8sU0FBUyxZQUFZO0FBQUEsSUFDOUI7QUFBQSxFQUNGO0FBQUEsRUFJQTtBQUFBO0FBR0YsU0FBUyxrQkFBa0IsQ0FBQyxTQUFTO0FBQUEsRUFDbkMsSUFBSSxNQUFNLFNBQVMsY0FBYyxPQUFPO0FBQUEsRUFDeEMsSUFBSSxhQUFhLGdCQUFnQixRQUFRLEdBQUc7QUFBQSxFQUU1QyxJQUFJLFFBQVEsVUFBVSxXQUFXO0FBQUEsSUFDL0IsSUFBSSxhQUFhLFNBQVMsUUFBUSxLQUFLO0FBQUEsRUFDekM7QUFBQSxFQUVBLElBQUksWUFBWSxTQUFTLGVBQWUsRUFBRSxDQUFDO0FBQUEsRUFDM0MsSUFBSSxhQUFhLFVBQVUsRUFBRTtBQUFBLEVBQzdCLE9BQU87QUFBQTtBQUdULElBQUksNkJBQTBCLFFBQVMsR0FBRztBQUFBLEVBRXhDLFNBQVMsV0FBVSxDQUFDLFNBQVM7QUFBQSxJQUMzQixJQUFJLFFBQVE7QUFBQSxJQUVaLEtBQUssYUFBYSxRQUFTLENBQUMsS0FBSztBQUFBLE1BQy9CLElBQUk7QUFBQSxNQUVKLElBQUksTUFBTSxLQUFLLFdBQVcsR0FBRztBQUFBLFFBQzNCLElBQUksTUFBTSxnQkFBZ0I7QUFBQSxVQUN4QixTQUFTLE1BQU0sZUFBZTtBQUFBLFFBQ2hDLEVBQU8sU0FBSSxNQUFNLFNBQVM7QUFBQSxVQUN4QixTQUFTLE1BQU0sVUFBVTtBQUFBLFFBQzNCLEVBQU87QUFBQSxVQUNMLFNBQVMsTUFBTTtBQUFBO0FBQUEsTUFFbkIsRUFBTztBQUFBLFFBQ0wsU0FBUyxNQUFNLEtBQUssTUFBTSxLQUFLLFNBQVMsR0FBRztBQUFBO0FBQUEsTUFHN0MsTUFBTSxVQUFVLGFBQWEsS0FBSyxNQUFNO0FBQUEsTUFFeEMsTUFBTSxLQUFLLEtBQUssR0FBRztBQUFBO0FBQUEsSUFHckIsS0FBSyxXQUFXLFFBQVEsV0FBVyxZQUFZLENBQUMsZ0JBQWdCLFFBQVE7QUFBQSxJQUN4RSxLQUFLLE9BQU8sQ0FBQztBQUFBLElBQ2IsS0FBSyxNQUFNO0FBQUEsSUFDWCxLQUFLLFFBQVEsUUFBUTtBQUFBLElBRXJCLEtBQUssTUFBTSxRQUFRO0FBQUEsSUFDbkIsS0FBSyxZQUFZLFFBQVE7QUFBQSxJQUN6QixLQUFLLFVBQVUsUUFBUTtBQUFBLElBQ3ZCLEtBQUssaUJBQWlCLFFBQVE7QUFBQSxJQUM5QixLQUFLLFNBQVM7QUFBQTtBQUFBLEVBR2hCLElBQUksU0FBUyxZQUFXO0FBQUEsRUFFeEIsT0FBTyxVQUFVLFNBQVMsT0FBTyxDQUFDLE9BQU87QUFBQSxJQUN2QyxNQUFNLFFBQVEsS0FBSyxVQUFVO0FBQUE7QUFBQSxFQUcvQixPQUFPLFNBQVMsU0FBUyxNQUFNLENBQUMsTUFBTTtBQUFBLElBSXBDLElBQUksS0FBSyxPQUFPLEtBQUssV0FBVyxRQUFRLE9BQU8sR0FBRztBQUFBLE1BQ2hELEtBQUssV0FBVyxtQkFBbUIsSUFBSSxDQUFDO0FBQUEsSUFDMUM7QUFBQSxJQUVBLElBQUksTUFBTSxLQUFLLEtBQUssS0FBSyxLQUFLLFNBQVM7QUFBQSxJQUV2QztBQUFBLE1BQ0UsSUFBSSxlQUFlLEtBQUssV0FBVyxDQUFDLE1BQU0sTUFBTSxLQUFLLFdBQVcsQ0FBQyxNQUFNO0FBQUEsTUFFdkUsSUFBSSxnQkFBZ0IsS0FBSyxzQ0FBc0M7QUFBQSxRQUk3RCxRQUFRLE1BQU07QUFBQSxJQUFzRCxPQUFPLHdMQUF3TDtBQUFBLE1BQ3JRO0FBQUEsTUFFQSxLQUFLLHVDQUF1QyxLQUFLLHdDQUF3QyxDQUFDO0FBQUEsSUFDNUY7QUFBQSxJQUVBLElBQUksS0FBSyxVQUFVO0FBQUEsTUFDakIsSUFBSSxRQUFRLFlBQVksR0FBRztBQUFBLE1BRTNCLElBQUk7QUFBQSxRQUdGLE1BQU0sV0FBVyxNQUFNLE1BQU0sU0FBUyxNQUFNO0FBQUEsUUFDNUMsT0FBTyxHQUFHO0FBQUEsUUFDVixJQUFJLENBQUMsNElBQTRJLEtBQUssSUFBSSxHQUFHO0FBQUEsVUFDM0osUUFBUSxNQUFNLHdEQUF5RCxPQUFPLEtBQU0sQ0FBQztBQUFBLFFBQ3ZGO0FBQUE7QUFBQSxJQUVKLEVBQU87QUFBQSxNQUNMLElBQUksWUFBWSxTQUFTLGVBQWUsSUFBSSxDQUFDO0FBQUE7QUFBQSxJQUcvQyxLQUFLO0FBQUE7QUFBQSxFQUdQLE9BQU8sUUFBUSxTQUFTLEtBQUssR0FBRztBQUFBLElBQzlCLEtBQUssS0FBSyxRQUFRLFFBQVMsQ0FBQyxLQUFLO0FBQUEsTUFDL0IsSUFBSTtBQUFBLE1BRUosUUFBUSxrQkFBa0IsSUFBSSxlQUFlLE9BQVksWUFBSSxnQkFBZ0IsWUFBWSxHQUFHO0FBQUEsS0FDN0Y7QUFBQSxJQUNELEtBQUssT0FBTyxDQUFDO0FBQUEsSUFDYixLQUFLLE1BQU07QUFBQSxJQUVYO0FBQUEsTUFDRSxLQUFLLHVDQUF1QztBQUFBLElBQzlDO0FBQUE7QUFBQSxFQUdGLE9BQU87QUFBQSxFQUNQOzs7QUM3SkssSUFBSSxLQUFLO0FBQ1QsSUFBSSxNQUFNO0FBQ1YsSUFBSSxTQUFTO0FBRWIsSUFBSSxVQUFVO0FBQ2QsSUFBSSxVQUFVO0FBQ2QsSUFBSSxjQUFjO0FBSWxCLElBQUksU0FBUztBQU1iLElBQUksWUFBWTtBQUloQixJQUFJLFFBQVE7OztBQ2hCWixJQUFJLE1BQU0sS0FBSztBQU1mLElBQUksT0FBTyxPQUFPO0FBTWxCLElBQUksU0FBUyxPQUFPO0FBT3BCLFNBQVMsSUFBSyxDQUFDLE9BQU8sUUFBUTtBQUFBLEVBQ3BDLE9BQU8sT0FBTyxPQUFPLENBQUMsSUFBSSxRQUFZLFVBQVUsSUFBSyxPQUFPLE9BQU8sQ0FBQyxNQUFNLElBQUssT0FBTyxPQUFPLENBQUMsTUFBTSxJQUFLLE9BQU8sT0FBTyxDQUFDLE1BQU0sSUFBSyxPQUFPLE9BQU8sQ0FBQyxJQUFJO0FBQUE7QUFPaEosU0FBUyxJQUFLLENBQUMsT0FBTztBQUFBLEVBQzVCLE9BQU8sTUFBTSxLQUFLO0FBQUE7QUFRWixTQUFTLEtBQU0sQ0FBQyxPQUFPLFNBQVM7QUFBQSxFQUN0QyxRQUFRLFFBQVEsUUFBUSxLQUFLLEtBQUssS0FBSyxNQUFNLEtBQUs7QUFBQTtBQVM1QyxTQUFTLFFBQVEsQ0FBQyxPQUFPLFNBQVMsYUFBYTtBQUFBLEVBQ3JELE9BQU8sTUFBTSxRQUFRLFNBQVMsV0FBVztBQUFBO0FBUW5DLFNBQVMsT0FBUSxDQUFDLE9BQU8sUUFBUTtBQUFBLEVBQ3ZDLE9BQU8sTUFBTSxRQUFRLE1BQU07QUFBQTtBQVFyQixTQUFTLE1BQU8sQ0FBQyxPQUFPLE9BQU87QUFBQSxFQUNyQyxPQUFPLE1BQU0sV0FBVyxLQUFLLElBQUk7QUFBQTtBQVMzQixTQUFTLE1BQU8sQ0FBQyxPQUFPLE9BQU8sS0FBSztBQUFBLEVBQzFDLE9BQU8sTUFBTSxNQUFNLE9BQU8sR0FBRztBQUFBO0FBT3ZCLFNBQVMsTUFBTyxDQUFDLE9BQU87QUFBQSxFQUM5QixPQUFPLE1BQU07QUFBQTtBQU9QLFNBQVMsTUFBTyxDQUFDLE9BQU87QUFBQSxFQUM5QixPQUFPLE1BQU07QUFBQTtBQVFQLFNBQVMsTUFBTyxDQUFDLE9BQU8sT0FBTztBQUFBLEVBQ3JDLE9BQU8sTUFBTSxLQUFLLEtBQUssR0FBRztBQUFBO0FBUXBCLFNBQVMsT0FBUSxDQUFDLE9BQU8sVUFBVTtBQUFBLEVBQ3pDLE9BQU8sTUFBTSxJQUFJLFFBQVEsRUFBRSxLQUFLLEVBQUU7QUFBQTs7O0FDL0c1QixJQUFJLE9BQU87QUFDWCxJQUFJLFNBQVM7QUFDYixJQUFJLFNBQVM7QUFDYixJQUFJLFdBQVc7QUFDZixJQUFJLFlBQVk7QUFDaEIsSUFBSSxhQUFhO0FBV2pCLFNBQVMsSUFBSyxDQUFDLE9BQU8sTUFBTSxRQUFRLE1BQU0sT0FBTyxVQUFVLFNBQVE7QUFBQSxFQUN6RSxPQUFPLEVBQUMsT0FBYyxNQUFZLFFBQWdCLE1BQVksT0FBYyxVQUFvQixNQUFZLFFBQWdCLFFBQVEsU0FBUSxRQUFRLEdBQUU7QUFBQTtBQVFoSixTQUFTLElBQUssQ0FBQyxNQUFNLE9BQU87QUFBQSxFQUNsQyxPQUFPLE9BQU8sS0FBSyxJQUFJLE1BQU0sTUFBTSxJQUFJLE1BQU0sTUFBTSxDQUFDLEdBQUcsTUFBTSxFQUFDLFFBQVEsQ0FBQyxLQUFLLE9BQU0sR0FBRyxLQUFLO0FBQUE7QUFNcEYsU0FBUyxJQUFLLEdBQUc7QUFBQSxFQUN2QixPQUFPO0FBQUE7QUFNRCxTQUFTLElBQUssR0FBRztBQUFBLEVBQ3ZCLFlBQVksV0FBVyxJQUFJLE9BQU8sWUFBWSxFQUFFLFFBQVEsSUFBSTtBQUFBLEVBRTVELElBQUksVUFBVSxjQUFjO0FBQUEsSUFDM0IsU0FBUyxHQUFHO0FBQUEsRUFFYixPQUFPO0FBQUE7QUFNRCxTQUFTLElBQUssR0FBRztBQUFBLEVBQ3ZCLFlBQVksV0FBVyxTQUFTLE9BQU8sWUFBWSxVQUFVLElBQUk7QUFBQSxFQUVqRSxJQUFJLFVBQVUsY0FBYztBQUFBLElBQzNCLFNBQVMsR0FBRztBQUFBLEVBRWIsT0FBTztBQUFBO0FBTUQsU0FBUyxJQUFLLEdBQUc7QUFBQSxFQUN2QixPQUFPLE9BQU8sWUFBWSxRQUFRO0FBQUE7QUFNNUIsU0FBUyxLQUFNLEdBQUc7QUFBQSxFQUN4QixPQUFPO0FBQUE7QUFRRCxTQUFTLEtBQU0sQ0FBQyxPQUFPLEtBQUs7QUFBQSxFQUNsQyxPQUFPLE9BQU8sWUFBWSxPQUFPLEdBQUc7QUFBQTtBQU85QixTQUFTLEtBQU0sQ0FBQyxNQUFNO0FBQUEsRUFDNUIsUUFBUTtBQUFBLFNBRUY7QUFBQSxTQUFRO0FBQUEsU0FBUTtBQUFBLFNBQVM7QUFBQSxTQUFTO0FBQUEsTUFDdEMsT0FBTztBQUFBLFNBRUg7QUFBQSxTQUFTO0FBQUEsU0FBUztBQUFBLFNBQVM7QUFBQSxTQUFTO0FBQUEsU0FBUztBQUFBLFNBQVM7QUFBQSxTQUV0RDtBQUFBLFNBQVM7QUFBQSxTQUFVO0FBQUEsTUFDdkIsT0FBTztBQUFBLFNBRUg7QUFBQSxNQUNKLE9BQU87QUFBQSxTQUVIO0FBQUEsU0FBUztBQUFBLFNBQVM7QUFBQSxTQUFTO0FBQUEsTUFDL0IsT0FBTztBQUFBLFNBRUg7QUFBQSxTQUFTO0FBQUEsTUFDYixPQUFPO0FBQUE7QUFBQSxFQUdULE9BQU87QUFBQTtBQU9ELFNBQVMsS0FBTSxDQUFDLE9BQU87QUFBQSxFQUM3QixPQUFPLE9BQU8sU0FBUyxHQUFHLFNBQVMsT0FBTyxhQUFhLEtBQUssR0FBRyxXQUFXLEdBQUcsQ0FBQztBQUFBO0FBT3hFLFNBQVMsT0FBUSxDQUFDLE9BQU87QUFBQSxFQUMvQixPQUFPLGFBQWEsSUFBSTtBQUFBO0FBT2xCLFNBQVMsT0FBUSxDQUFDLE1BQU07QUFBQSxFQUM5QixPQUFPLEtBQUssTUFBTSxXQUFXLEdBQUcsVUFBVSxTQUFTLEtBQUssT0FBTyxJQUFJLFNBQVMsS0FBSyxPQUFPLElBQUksSUFBSSxDQUFDLENBQUM7QUFBQTtBQWU1RixTQUFTLFVBQVcsQ0FBQyxNQUFNO0FBQUEsRUFDakMsT0FBTyxZQUFZLEtBQUs7QUFBQSxJQUN2QixJQUFJLFlBQVk7QUFBQSxNQUNmLEtBQUs7QUFBQSxJQUVMO0FBQUE7QUFBQSxFQUVGLE9BQU8sTUFBTSxJQUFJLElBQUksS0FBSyxNQUFNLFNBQVMsSUFBSSxJQUFJLEtBQUs7QUFBQTtBQXlCaEQsU0FBUyxRQUFTLENBQUMsT0FBTyxPQUFPO0FBQUEsRUFDdkMsT0FBTyxFQUFFLFNBQVMsS0FBSztBQUFBLElBRXRCLElBQUksWUFBWSxNQUFNLFlBQVksT0FBUSxZQUFZLE1BQU0sWUFBWSxNQUFRLFlBQVksTUFBTSxZQUFZO0FBQUEsTUFDN0c7QUFBQSxFQUVGLE9BQU8sTUFBTSxPQUFPLE1BQU0sS0FBSyxRQUFRLEtBQUssS0FBSyxLQUFLLE1BQU0sS0FBSyxLQUFLLEdBQUc7QUFBQTtBQU9uRSxTQUFTLFNBQVUsQ0FBQyxNQUFNO0FBQUEsRUFDaEMsT0FBTyxLQUFLO0FBQUEsSUFDWCxRQUFRO0FBQUEsV0FFRjtBQUFBLFFBQ0osT0FBTztBQUFBLFdBRUg7QUFBQSxXQUFTO0FBQUEsUUFDYixJQUFJLFNBQVMsTUFBTSxTQUFTO0FBQUEsVUFDM0IsVUFBVSxTQUFTO0FBQUEsUUFDcEI7QUFBQSxXQUVJO0FBQUEsUUFDSixJQUFJLFNBQVM7QUFBQSxVQUNaLFVBQVUsSUFBSTtBQUFBLFFBQ2Y7QUFBQSxXQUVJO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTDtBQUFBO0FBQUEsRUFHSCxPQUFPO0FBQUE7QUFRRCxTQUFTLFNBQVUsQ0FBQyxNQUFNLE9BQU87QUFBQSxFQUN2QyxPQUFPLEtBQUs7QUFBQSxJQUVYLElBQUksT0FBTyxjQUFjLEtBQUs7QUFBQSxNQUM3QjtBQUFBLElBRUksU0FBSSxPQUFPLGNBQWMsS0FBSyxNQUFNLEtBQUssTUFBTTtBQUFBLE1BQ25EO0FBQUEsRUFFRixPQUFPLE9BQU8sTUFBTSxPQUFPLFdBQVcsQ0FBQyxJQUFJLE1BQU0sS0FBSyxTQUFTLEtBQUssT0FBTyxLQUFLLENBQUM7QUFBQTtBQU8zRSxTQUFTLFVBQVcsQ0FBQyxPQUFPO0FBQUEsRUFDbEMsT0FBTyxDQUFDLE1BQU0sS0FBSyxDQUFDO0FBQUEsSUFDbkIsS0FBSztBQUFBLEVBRU4sT0FBTyxNQUFNLE9BQU8sUUFBUTtBQUFBOzs7QUM1T3RCLFNBQVMsT0FBUSxDQUFDLE9BQU87QUFBQSxFQUMvQixPQUFPLFFBQVEsTUFBTSxJQUFJLE1BQU0sTUFBTSxNQUFNLENBQUMsRUFBRSxHQUFHLFFBQVEsTUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUM7QUFBQTtBQWUvRSxTQUFTLEtBQU0sQ0FBQyxPQUFPLE1BQU0sUUFBUSxNQUFNLE9BQU8sVUFBVSxRQUFRLFFBQVEsY0FBYztBQUFBLEVBQ2hHLElBQUksUUFBUTtBQUFBLEVBQ1osSUFBSSxTQUFTO0FBQUEsRUFDYixJQUFJLFVBQVM7QUFBQSxFQUNiLElBQUksU0FBUztBQUFBLEVBQ2IsSUFBSSxXQUFXO0FBQUEsRUFDZixJQUFJLFdBQVc7QUFBQSxFQUNmLElBQUksV0FBVztBQUFBLEVBQ2YsSUFBSSxXQUFXO0FBQUEsRUFDZixJQUFJLFlBQVk7QUFBQSxFQUNoQixJQUFJLGFBQVk7QUFBQSxFQUNoQixJQUFJLE9BQU87QUFBQSxFQUNYLElBQUksUUFBUTtBQUFBLEVBQ1osSUFBSSxXQUFXO0FBQUEsRUFDZixJQUFJLFlBQVk7QUFBQSxFQUNoQixJQUFJLGNBQWE7QUFBQSxFQUVqQixPQUFPO0FBQUEsSUFDTixRQUFRLFdBQVcsWUFBVyxhQUFZLEtBQUs7QUFBQSxXQUV6QztBQUFBLFFBQ0osSUFBSSxZQUFZLE9BQU8sT0FBTyxhQUFZLFVBQVMsQ0FBQyxLQUFLLElBQUk7QUFBQSxVQUM1RCxJQUFJLFFBQVEsZUFBYyxTQUFRLFFBQVEsVUFBUyxHQUFHLEtBQUssS0FBSyxHQUFHLEtBQUssS0FBSztBQUFBLFlBQzVFLFlBQVk7QUFBQSxVQUNiO0FBQUEsUUFDRDtBQUFBLFdBRUk7QUFBQSxXQUFTO0FBQUEsV0FBUztBQUFBLFFBQ3RCLGVBQWMsUUFBUSxVQUFTO0FBQUEsUUFDL0I7QUFBQSxXQUVJO0FBQUEsV0FBUTtBQUFBLFdBQVM7QUFBQSxXQUFTO0FBQUEsUUFDOUIsZUFBYyxXQUFXLFFBQVE7QUFBQSxRQUNqQztBQUFBLFdBRUk7QUFBQSxRQUNKLGVBQWMsU0FBUyxNQUFNLElBQUksR0FBRyxDQUFDO0FBQUEsUUFDckM7QUFBQSxXQUVJO0FBQUEsUUFDSixRQUFRLEtBQUs7QUFBQSxlQUNQO0FBQUEsZUFBUztBQUFBLFlBQ2IsT0FBTyxRQUFRLFVBQVUsS0FBSyxHQUFHLE1BQU0sQ0FBQyxHQUFHLE1BQU0sTUFBTSxHQUFHLFlBQVk7QUFBQSxZQUN0RTtBQUFBO0FBQUEsWUFFQSxlQUFjO0FBQUE7QUFBQSxRQUVoQjtBQUFBLFdBRUksTUFBTTtBQUFBLFFBQ1YsT0FBTyxXQUFXLE9BQU8sV0FBVSxJQUFJO0FBQUEsV0FFbkMsTUFBTTtBQUFBLFdBQWU7QUFBQSxXQUFTO0FBQUEsUUFDbEMsUUFBUTtBQUFBLGVBRUY7QUFBQSxlQUFRO0FBQUEsWUFBSyxXQUFXO0FBQUEsZUFFeEIsS0FBSztBQUFBLFlBQVEsSUFBSSxhQUFhO0FBQUEsY0FBSSxjQUFhLFNBQVEsYUFBWSxPQUFPLEVBQUU7QUFBQSxZQUNoRixJQUFJLFdBQVcsS0FBTSxPQUFPLFdBQVUsSUFBSTtBQUFBLGNBQ3pDLE9BQU8sV0FBVyxLQUFLLFlBQVksY0FBYSxLQUFLLE1BQU0sUUFBUSxVQUFTLENBQUMsSUFBSSxZQUFZLFNBQVEsYUFBWSxLQUFLLEVBQUUsSUFBSSxLQUFLLE1BQU0sUUFBUSxVQUFTLENBQUMsR0FBRyxZQUFZO0FBQUEsWUFDeks7QUFBQSxlQUVJO0FBQUEsWUFBSSxlQUFjO0FBQUE7QUFBQSxZQUd0QixPQUFPLFlBQVksUUFBUSxhQUFZLE1BQU0sUUFBUSxPQUFPLFFBQVEsT0FBTyxRQUFRLE1BQU0sUUFBUSxDQUFDLEdBQUcsV0FBVyxDQUFDLEdBQUcsT0FBTSxHQUFHLFFBQVE7QUFBQSxZQUVySSxJQUFJLGVBQWM7QUFBQSxjQUNqQixJQUFJLFdBQVc7QUFBQSxnQkFDZCxNQUFNLGFBQVksTUFBTSxXQUFXLFdBQVcsT0FBTyxVQUFVLFNBQVEsUUFBUSxRQUFRO0FBQUEsY0FFdkY7QUFBQSx3QkFBUSxXQUFXLE1BQU0sT0FBTyxhQUFZLENBQUMsTUFBTSxNQUFNLE1BQU07QUFBQSx1QkFFekQ7QUFBQSx1QkFBVTtBQUFBLHVCQUFVO0FBQUEsdUJBQVU7QUFBQSxvQkFDbEMsTUFBTSxPQUFPLFdBQVcsV0FBVyxRQUFRLE9BQU8sUUFBUSxPQUFPLFdBQVcsV0FBVyxHQUFHLEdBQUcsT0FBTyxRQUFRLE1BQU0sT0FBTyxRQUFRLENBQUMsR0FBRyxPQUFNLEdBQUcsUUFBUSxHQUFHLE9BQU8sVUFBVSxTQUFRLFFBQVEsT0FBTyxRQUFRLFFBQVE7QUFBQSxvQkFDak47QUFBQTtBQUFBLG9CQUVBLE1BQU0sYUFBWSxXQUFXLFdBQVcsV0FBVyxDQUFDLEVBQUUsR0FBRyxVQUFVLEdBQUcsUUFBUSxRQUFRO0FBQUE7QUFBQTtBQUFBLFFBSTVGLFFBQVEsU0FBUyxXQUFXLEdBQUcsV0FBVyxZQUFZLEdBQUcsT0FBTyxjQUFhLElBQUksVUFBUztBQUFBLFFBQzFGO0FBQUEsV0FFSTtBQUFBLFFBQ0osVUFBUyxJQUFJLE9BQU8sV0FBVSxHQUFHLFdBQVc7QUFBQTtBQUFBLFFBRTVDLElBQUksV0FBVztBQUFBLFVBQ2QsSUFBSSxjQUFhO0FBQUEsWUFDaEIsRUFBRTtBQUFBLFVBQ0UsU0FBSSxjQUFhLE9BQU8sY0FBYyxLQUFLLEtBQUssS0FBSztBQUFBLFlBQ3pEO0FBQUE7QUFBQSxRQUVGLFFBQVEsZUFBYyxLQUFLLFVBQVMsR0FBRyxhQUFZO0FBQUEsZUFFN0M7QUFBQSxZQUNKLFlBQVksU0FBUyxJQUFJLEtBQUssZUFBYyxNQUFNO0FBQUEsWUFDbEQ7QUFBQSxlQUVJO0FBQUEsWUFDSixPQUFPLFlBQVksT0FBTyxXQUFVLElBQUksS0FBSyxXQUFXLFlBQVk7QUFBQSxZQUNwRTtBQUFBLGVBRUk7QUFBQSxZQUVKLElBQUksS0FBSyxNQUFNO0FBQUEsY0FDZCxlQUFjLFFBQVEsS0FBSyxDQUFDO0FBQUEsWUFFN0IsU0FBUyxLQUFLLEdBQUcsU0FBUyxVQUFTLE9BQU8sT0FBTyxlQUFjLFdBQVcsTUFBTSxDQUFDLENBQUMsR0FBRztBQUFBLFlBQ3JGO0FBQUEsZUFFSTtBQUFBLFlBQ0osSUFBSSxhQUFhLE1BQU0sT0FBTyxXQUFVLEtBQUs7QUFBQSxjQUM1QyxXQUFXO0FBQUE7QUFBQTtBQUFBLEVBSWpCLE9BQU87QUFBQTtBQWlCRCxTQUFTLE9BQVEsQ0FBQyxPQUFPLE1BQU0sUUFBUSxPQUFPLFFBQVEsT0FBTyxRQUFRLE1BQU0sT0FBTyxVQUFVLFNBQVE7QUFBQSxFQUMxRyxJQUFJLE9BQU8sU0FBUztBQUFBLEVBQ3BCLElBQUksT0FBTyxXQUFXLElBQUksUUFBUSxDQUFDLEVBQUU7QUFBQSxFQUNyQyxJQUFJLE9BQU8sT0FBTyxJQUFJO0FBQUEsRUFFdEIsU0FBUyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksRUFBRyxJQUFJLE9BQU8sRUFBRTtBQUFBLElBQzFDLFNBQVMsSUFBSSxHQUFHLElBQUksT0FBTyxPQUFPLE9BQU8sR0FBRyxPQUFPLElBQUksSUFBSSxPQUFPLEVBQUUsQ0FBQyxHQUFHLElBQUksTUFBTyxJQUFJLE1BQU0sRUFBRTtBQUFBLE1BQzlGLElBQUksSUFBSSxLQUFLLElBQUksSUFBSSxLQUFLLEtBQUssTUFBTSxJQUFJLFNBQVEsR0FBRyxRQUFRLEtBQUssRUFBRSxDQUFDO0FBQUEsUUFDbkUsTUFBTSxPQUFPO0FBQUEsRUFFaEIsT0FBTyxLQUFLLE9BQU8sTUFBTSxRQUFRLFdBQVcsSUFBSSxVQUFVLE1BQU0sT0FBTyxVQUFVLE9BQU07QUFBQTtBQVNqRixTQUFTLE9BQVEsQ0FBQyxPQUFPLE1BQU0sUUFBUTtBQUFBLEVBQzdDLE9BQU8sS0FBSyxPQUFPLE1BQU0sUUFBUSxTQUFTLEtBQUssS0FBSyxDQUFDLEdBQUcsT0FBTyxPQUFPLEdBQUcsRUFBRSxHQUFHLENBQUM7QUFBQTtBQVV6RSxTQUFTLFdBQVksQ0FBQyxPQUFPLE1BQU0sUUFBUSxTQUFRO0FBQUEsRUFDekQsT0FBTyxLQUFLLE9BQU8sTUFBTSxRQUFRLGFBQWEsT0FBTyxPQUFPLEdBQUcsT0FBTSxHQUFHLE9BQU8sT0FBTyxVQUFTLEdBQUcsRUFBRSxHQUFHLE9BQU07QUFBQTs7O0FDckx2RyxTQUFTLFNBQVUsQ0FBQyxVQUFVLFVBQVU7QUFBQSxFQUM5QyxJQUFJLFNBQVM7QUFBQSxFQUNiLElBQUksVUFBUyxPQUFPLFFBQVE7QUFBQSxFQUU1QixTQUFTLElBQUksRUFBRyxJQUFJLFNBQVE7QUFBQSxJQUMzQixVQUFVLFNBQVMsU0FBUyxJQUFJLEdBQUcsVUFBVSxRQUFRLEtBQUs7QUFBQSxFQUUzRCxPQUFPO0FBQUE7QUFVRCxTQUFTLFNBQVUsQ0FBQyxTQUFTLE9BQU8sVUFBVSxVQUFVO0FBQUEsRUFDOUQsUUFBUSxRQUFRO0FBQUEsU0FDVjtBQUFBLE1BQU8sSUFBSSxRQUFRLFNBQVM7QUFBQSxRQUFRO0FBQUEsU0FDcEM7QUFBQSxTQUFhO0FBQUEsTUFBYSxPQUFPLFFBQVEsU0FBUyxRQUFRLFVBQVUsUUFBUTtBQUFBLFNBQzVFO0FBQUEsTUFBUyxPQUFPO0FBQUEsU0FDaEI7QUFBQSxNQUFXLE9BQU8sUUFBUSxTQUFTLFFBQVEsUUFBUSxNQUFNLFVBQVUsUUFBUSxVQUFVLFFBQVEsSUFBSTtBQUFBLFNBQ2pHO0FBQUEsTUFBUyxRQUFRLFFBQVEsUUFBUSxNQUFNLEtBQUssR0FBRztBQUFBO0FBQUEsRUFHckQsT0FBTyxPQUFPLFdBQVcsVUFBVSxRQUFRLFVBQVUsUUFBUSxDQUFDLElBQUksUUFBUSxTQUFTLFFBQVEsUUFBUSxNQUFNLFdBQVcsTUFBTTtBQUFBOzs7QUN4QnBILFNBQVMsVUFBVyxDQUFDLFlBQVk7QUFBQSxFQUN2QyxJQUFJLFVBQVMsT0FBTyxVQUFVO0FBQUEsRUFFOUIsT0FBTyxRQUFTLENBQUMsU0FBUyxPQUFPLFVBQVUsVUFBVTtBQUFBLElBQ3BELElBQUksU0FBUztBQUFBLElBRWIsU0FBUyxJQUFJLEVBQUcsSUFBSSxTQUFRO0FBQUEsTUFDM0IsVUFBVSxXQUFXLEdBQUcsU0FBUyxPQUFPLFVBQVUsUUFBUSxLQUFLO0FBQUEsSUFFaEUsT0FBTztBQUFBO0FBQUE7OztBQ25CVCxTQUFTLFFBQU8sQ0FBQyxJQUFJO0FBQUEsRUFDbkIsSUFBSSxRQUFRLE9BQU8sT0FBTyxJQUFJO0FBQUEsRUFDOUIsT0FBTyxRQUFTLENBQUMsS0FBSztBQUFBLElBQ3BCLElBQUksTUFBTSxTQUFTO0FBQUEsTUFBVyxNQUFNLE9BQU8sR0FBRyxHQUFHO0FBQUEsSUFDakQsT0FBTyxNQUFNO0FBQUE7QUFBQTs7O0FDQ2pCLElBQUksOEJBQThCLFNBQVMsNEJBQTJCLENBQUMsT0FBTyxRQUFRLE9BQU87QUFBQSxFQUMzRixJQUFJLFdBQVc7QUFBQSxFQUNmLElBQUksYUFBWTtBQUFBLEVBRWhCLE9BQU8sTUFBTTtBQUFBLElBQ1gsV0FBVztBQUFBLElBQ1gsYUFBWSxLQUFLO0FBQUEsSUFFakIsSUFBSSxhQUFhLE1BQU0sZUFBYyxJQUFJO0FBQUEsTUFDdkMsT0FBTyxTQUFTO0FBQUEsSUFDbEI7QUFBQSxJQUVBLElBQUksTUFBTSxVQUFTLEdBQUc7QUFBQSxNQUNwQjtBQUFBLElBQ0Y7QUFBQSxJQUVBLEtBQUs7QUFBQSxFQUNQO0FBQUEsRUFFQSxPQUFPLE1BQU0sT0FBTyxRQUFRO0FBQUE7QUFHOUIsSUFBSSxVQUFVLFNBQVMsUUFBTyxDQUFDLFFBQVEsUUFBUTtBQUFBLEVBRTdDLElBQUksUUFBUTtBQUFBLEVBQ1osSUFBSSxhQUFZO0FBQUEsRUFFaEIsR0FBRztBQUFBLElBQ0QsUUFBUSxNQUFNLFVBQVM7QUFBQSxXQUNoQjtBQUFBLFFBRUgsSUFBSSxlQUFjLE1BQU0sS0FBSyxNQUFNLElBQUk7QUFBQSxVQUtyQyxPQUFPLFNBQVM7QUFBQSxRQUNsQjtBQUFBLFFBRUEsT0FBTyxVQUFVLDRCQUE0QixXQUFXLEdBQUcsUUFBUSxLQUFLO0FBQUEsUUFDeEU7QUFBQSxXQUVHO0FBQUEsUUFDSCxPQUFPLFVBQVUsUUFBUSxVQUFTO0FBQUEsUUFDbEM7QUFBQSxXQUVHO0FBQUEsUUFFSCxJQUFJLGVBQWMsSUFBSTtBQUFBLFVBRXBCLE9BQU8sRUFBRSxTQUFTLEtBQUssTUFBTSxLQUFLLFFBQVE7QUFBQSxVQUMxQyxPQUFPLFNBQVMsT0FBTyxPQUFPO0FBQUEsVUFDOUI7QUFBQSxRQUNGO0FBQUE7QUFBQSxRQUtBLE9BQU8sVUFBVSxLQUFLLFVBQVM7QUFBQTtBQUFBLEVBRXJDLFNBQVMsYUFBWSxLQUFLO0FBQUEsRUFFMUIsT0FBTztBQUFBO0FBR1QsSUFBSSxXQUFXLFNBQVMsU0FBUSxDQUFDLE9BQU8sUUFBUTtBQUFBLEVBQzlDLE9BQU8sUUFBUSxRQUFRLE1BQU0sS0FBSyxHQUFHLE1BQU0sQ0FBQztBQUFBO0FBSTlDLElBQUksZ0NBQStCLElBQUk7QUFDdkMsSUFBSSxTQUFTLFNBQVMsT0FBTSxDQUFDLFNBQVM7QUFBQSxFQUNwQyxJQUFJLFFBQVEsU0FBUyxVQUFVLENBQUMsUUFBUSxVQUV4QyxRQUFRLFNBQVMsR0FBRztBQUFBLElBQ2xCO0FBQUEsRUFDRjtBQUFBLEVBRUEsSUFBSSxRQUFRLFFBQVE7QUFBQSxFQUNwQixJQUFJLFNBQVMsUUFBUTtBQUFBLEVBQ3JCLElBQUksaUJBQWlCLFFBQVEsV0FBVyxPQUFPLFVBQVUsUUFBUSxTQUFTLE9BQU87QUFBQSxFQUVqRixPQUFPLE9BQU8sU0FBUyxRQUFRO0FBQUEsSUFDN0IsU0FBUyxPQUFPO0FBQUEsSUFDaEIsSUFBSSxDQUFDO0FBQUEsTUFBUTtBQUFBLEVBQ2Y7QUFBQSxFQUdBLElBQUksUUFBUSxNQUFNLFdBQVcsS0FBSyxNQUFNLFdBQVcsQ0FBQyxNQUFNLE1BRXZELENBQUMsY0FBYyxJQUFJLE1BQU0sR0FBRztBQUFBLElBQzdCO0FBQUEsRUFDRjtBQUFBLEVBSUEsSUFBSSxnQkFBZ0I7QUFBQSxJQUNsQjtBQUFBLEVBQ0Y7QUFBQSxFQUVBLGNBQWMsSUFBSSxTQUFTLElBQUk7QUFBQSxFQUMvQixJQUFJLFNBQVMsQ0FBQztBQUFBLEVBQ2QsSUFBSSxRQUFRLFNBQVMsT0FBTyxNQUFNO0FBQUEsRUFDbEMsSUFBSSxjQUFjLE9BQU87QUFBQSxFQUV6QixTQUFTLElBQUksR0FBRyxJQUFJLEVBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSztBQUFBLElBQzVDLFNBQVMsSUFBSSxFQUFHLElBQUksWUFBWSxRQUFRLEtBQUssS0FBSztBQUFBLE1BQ2hELFFBQVEsTUFBTSxLQUFLLE9BQU8sS0FBSyxNQUFNLEdBQUcsUUFBUSxRQUFRLFlBQVksRUFBRSxJQUFJLFlBQVksS0FBSyxNQUFNLE1BQU07QUFBQSxJQUN6RztBQUFBLEVBQ0Y7QUFBQTtBQUVGLElBQUksY0FBYyxTQUFTLFlBQVcsQ0FBQyxTQUFTO0FBQUEsRUFDOUMsSUFBSSxRQUFRLFNBQVMsUUFBUTtBQUFBLElBQzNCLElBQUksUUFBUSxRQUFRO0FBQUEsSUFFcEIsSUFDQSxNQUFNLFdBQVcsQ0FBQyxNQUFNLE9BQ3hCLE1BQU0sV0FBVyxDQUFDLE1BQU0sSUFBSTtBQUFBLE1BRTFCLFFBQVEsWUFBWTtBQUFBLE1BQ3BCLFFBQVEsUUFBUTtBQUFBLElBQ2xCO0FBQUEsRUFDRjtBQUFBO0FBRUYsSUFBSSxhQUFhO0FBRWpCLElBQUksb0JBQW9CLFNBQVMsa0JBQWlCLENBQUMsU0FBUztBQUFBLEVBQzFELE9BQU8sUUFBUSxTQUFTLFVBQVUsUUFBUSxTQUFTLFFBQVEsVUFBVSxJQUFJO0FBQUE7QUFHM0UsSUFBSSw2QkFBNkIsU0FBUywyQkFBMEIsQ0FBQyxPQUFPO0FBQUEsRUFDMUUsT0FBTyxRQUFTLENBQUMsU0FBUyxPQUFPLFVBQVU7QUFBQSxJQUN6QyxJQUFJLFFBQVEsU0FBUyxVQUFVLE1BQU07QUFBQSxNQUFRO0FBQUEsSUFDN0MsSUFBSSxzQkFBc0IsUUFBUSxNQUFNLE1BQU0sZ0NBQWdDO0FBQUEsSUFFOUUsSUFBSSxxQkFBcUI7QUFBQSxNQUN2QixJQUFJLFdBQVcsQ0FBQyxDQUFDLFFBQVE7QUFBQSxNQWdCekIsSUFBSSxtQkFBbUIsV0FBVyxRQUFRLE9BQU8sV0FDakQ7QUFBQSxNQUVBLFNBQVMsSUFBSSxpQkFBaUIsU0FBUyxFQUFHLEtBQUssR0FBRyxLQUFLO0FBQUEsUUFDckQsSUFBSSxRQUFPLGlCQUFpQjtBQUFBLFFBRTVCLElBQUksTUFBSyxPQUFPLFFBQVEsTUFBTTtBQUFBLFVBQzVCO0FBQUEsUUFDRjtBQUFBLFFBa0JBLElBQUksTUFBSyxTQUFTLFFBQVEsUUFBUTtBQUFBLFVBQ2hDLElBQUksa0JBQWtCLEtBQUksR0FBRztBQUFBLFlBQzNCO0FBQUEsVUFDRjtBQUFBLFVBRUE7QUFBQSxRQUNGO0FBQUEsTUFDRjtBQUFBLE1BRUEsb0JBQW9CLFFBQVEsUUFBUyxDQUFDLG1CQUFtQjtBQUFBLFFBQ3ZELFFBQVEsTUFBTSx1QkFBd0Isb0JBQW9CLG1GQUFxRixrQkFBa0IsTUFBTSxRQUFRLEVBQUUsS0FBSyxZQUFhO0FBQUEsT0FDcE07QUFBQSxJQUNIO0FBQUE7QUFBQTtBQUlKLElBQUksZUFBZSxTQUFTLGFBQVksQ0FBQyxTQUFTO0FBQUEsRUFDaEQsT0FBTyxRQUFRLEtBQUssV0FBVyxDQUFDLE1BQU0sT0FBTyxRQUFRLEtBQUssV0FBVyxDQUFDLE1BQU07QUFBQTtBQUc5RSxJQUFJLDhCQUE4QixTQUFTLDRCQUEyQixDQUFDLE9BQU8sVUFBVTtBQUFBLEVBQ3RGLFNBQVMsSUFBSSxRQUFRLEVBQUcsS0FBSyxHQUFHLEtBQUs7QUFBQSxJQUNuQyxJQUFJLENBQUMsYUFBYSxTQUFTLEVBQUUsR0FBRztBQUFBLE1BQzlCLE9BQU87QUFBQSxJQUNUO0FBQUEsRUFDRjtBQUFBLEVBRUEsT0FBTztBQUFBO0FBTVQsSUFBSSxpQkFBaUIsU0FBUyxlQUFjLENBQUMsU0FBUztBQUFBLEVBQ3BELFFBQVEsT0FBTztBQUFBLEVBQ2YsUUFBUSxRQUFRO0FBQUEsRUFDaEIsUUFBUSxZQUFZO0FBQUEsRUFDcEIsUUFBUSxXQUFXO0FBQUEsRUFDbkIsUUFBUSxRQUFRO0FBQUE7QUFHbEIsSUFBSSx1QkFBdUIsU0FBUyxxQkFBb0IsQ0FBQyxTQUFTLE9BQU8sVUFBVTtBQUFBLEVBQ2pGLElBQUksQ0FBQyxhQUFhLE9BQU8sR0FBRztBQUFBLElBQzFCO0FBQUEsRUFDRjtBQUFBLEVBRUEsSUFBSSxRQUFRLFFBQVE7QUFBQSxJQUNsQixRQUFRLE1BQU0sb0xBQW9MO0FBQUEsSUFDbE0sZUFBZSxPQUFPO0FBQUEsRUFDeEIsRUFBTyxTQUFJLDRCQUE0QixPQUFPLFFBQVEsR0FBRztBQUFBLElBQ3ZELFFBQVEsTUFBTSxzR0FBc0c7QUFBQSxJQUNwSCxlQUFlLE9BQU87QUFBQSxFQUN4QjtBQUFBO0FBS0YsU0FBUyxNQUFNLENBQUMsT0FBTyxTQUFRO0FBQUEsRUFDN0IsUUFBUSxLQUFLLE9BQU8sT0FBTTtBQUFBLFNBRW5CO0FBQUEsTUFDSCxPQUFPLFNBQVMsV0FBVyxRQUFRO0FBQUEsU0FHaEM7QUFBQSxTQUNBO0FBQUEsU0FDQTtBQUFBLFNBQ0E7QUFBQSxTQUNBO0FBQUEsU0FDQTtBQUFBLFNBQ0E7QUFBQSxTQUVBO0FBQUEsU0FDQTtBQUFBLFNBQ0E7QUFBQSxTQUNBO0FBQUEsU0FDQTtBQUFBLFNBQ0E7QUFBQSxTQUVBO0FBQUEsU0FDQTtBQUFBLFNBQ0E7QUFBQSxTQUNBO0FBQUEsU0FDQTtBQUFBLFNBQ0E7QUFBQSxTQUVBO0FBQUEsU0FDQTtBQUFBLFNBQ0E7QUFBQSxTQUNBO0FBQUEsU0FDQTtBQUFBLFNBQ0E7QUFBQSxNQUNILE9BQU8sU0FBUyxRQUFRO0FBQUEsU0FHckI7QUFBQSxTQUNBO0FBQUEsU0FDQTtBQUFBLFNBQ0E7QUFBQSxTQUNBO0FBQUEsTUFDSCxPQUFPLFNBQVMsUUFBUSxNQUFNLFFBQVEsS0FBSyxRQUFRO0FBQUEsU0FHaEQ7QUFBQSxTQUNBO0FBQUEsTUFDSCxPQUFPLFNBQVMsUUFBUSxLQUFLLFFBQVE7QUFBQSxTQUdsQztBQUFBLE1BQ0gsT0FBTyxTQUFTLFFBQVEsS0FBSyxVQUFVLFFBQVE7QUFBQSxTQUc1QztBQUFBLE1BQ0gsT0FBTyxTQUFTLFFBQVEsU0FBUSxPQUFPLGtCQUFrQixTQUFTLGFBQWEsS0FBSyxXQUFXLElBQUk7QUFBQSxTQUdoRztBQUFBLE1BQ0gsT0FBTyxTQUFTLFFBQVEsS0FBSyxlQUFlLFNBQVEsT0FBTyxlQUFlLEVBQUUsSUFBSTtBQUFBLFNBRzdFO0FBQUEsTUFDSCxPQUFPLFNBQVMsUUFBUSxLQUFLLG1CQUFtQixTQUFRLE9BQU8sNkJBQTZCLEVBQUUsSUFBSTtBQUFBLFNBRy9GO0FBQUEsTUFDSCxPQUFPLFNBQVMsUUFBUSxLQUFLLFNBQVEsT0FBTyxVQUFVLFVBQVUsSUFBSTtBQUFBLFNBR2pFO0FBQUEsTUFDSCxPQUFPLFNBQVMsUUFBUSxLQUFLLFNBQVEsT0FBTyxTQUFTLGdCQUFnQixJQUFJO0FBQUEsU0FHdEU7QUFBQSxNQUNILE9BQU8sU0FBUyxTQUFTLFNBQVEsT0FBTyxTQUFTLEVBQUUsSUFBSSxTQUFTLFFBQVEsS0FBSyxTQUFRLE9BQU8sUUFBUSxVQUFVLElBQUk7QUFBQSxTQUcvRztBQUFBLE1BQ0gsT0FBTyxTQUFTLFNBQVEsT0FBTyxzQkFBc0IsT0FBTyxTQUFTLElBQUksSUFBSTtBQUFBLFNBRzFFO0FBQUEsTUFDSCxPQUFPLFNBQVEsU0FBUSxTQUFRLE9BQU8sZ0JBQWdCLFNBQVMsSUFBSSxHQUFHLGVBQWUsU0FBUyxJQUFJLEdBQUcsT0FBTyxFQUFFLElBQUk7QUFBQSxTQUcvRztBQUFBLFNBQ0E7QUFBQSxNQUNILE9BQU8sU0FBUSxPQUFPLHFCQUFxQixTQUFTLE9BQU8sTUFBTTtBQUFBLFNBRzlEO0FBQUEsTUFDSCxPQUFPLFNBQVEsU0FBUSxPQUFPLHFCQUFxQixTQUFTLGdCQUFnQixLQUFLLGNBQWMsR0FBRyxjQUFjLFNBQVMsSUFBSSxTQUFTLFFBQVE7QUFBQSxTQUczSTtBQUFBLFNBQ0E7QUFBQSxTQUNBO0FBQUEsU0FDQTtBQUFBLE1BQ0gsT0FBTyxTQUFRLE9BQU8sbUJBQW1CLFNBQVMsTUFBTSxJQUFJO0FBQUEsU0FHekQ7QUFBQSxTQUNBO0FBQUEsU0FDQTtBQUFBLFNBQ0E7QUFBQSxTQUNBO0FBQUEsU0FDQTtBQUFBLFNBQ0E7QUFBQSxTQUNBO0FBQUEsU0FDQTtBQUFBLFNBQ0E7QUFBQSxTQUNBO0FBQUEsU0FDQTtBQUFBLE1BRUgsSUFBSSxPQUFPLEtBQUssSUFBSSxJQUFJLFVBQVM7QUFBQSxRQUFHLFFBQVEsT0FBTyxPQUFPLFVBQVMsQ0FBQztBQUFBLGVBRTdEO0FBQUEsWUFFSCxJQUFJLE9BQU8sT0FBTyxVQUFTLENBQUMsTUFBTTtBQUFBLGNBQUk7QUFBQSxlQUduQztBQUFBLFlBQ0gsT0FBTyxTQUFRLE9BQU8sb0JBQW9CLE9BQU8sU0FBUyxVQUFVLE9BQU8sT0FBTyxPQUFPLE9BQU8sVUFBUyxDQUFDLEtBQUssTUFBTSxPQUFPLFFBQVEsSUFBSTtBQUFBLGVBR3JJO0FBQUEsWUFDSCxPQUFPLENBQUMsUUFBUSxPQUFPLFNBQVMsSUFBSSxPQUFPLFNBQVEsT0FBTyxXQUFXLGdCQUFnQixHQUFHLE9BQU0sSUFBSSxRQUFRO0FBQUE7QUFBQSxNQUU5RztBQUFBLFNBR0c7QUFBQSxNQUVILElBQUksT0FBTyxPQUFPLFVBQVMsQ0FBQyxNQUFNO0FBQUEsUUFBSztBQUFBLFNBR3BDO0FBQUEsTUFDSCxRQUFRLE9BQU8sT0FBTyxPQUFPLEtBQUssSUFBSSxLQUFLLENBQUMsUUFBUSxPQUFPLFlBQVksS0FBSyxHQUFHO0FBQUEsYUFFeEU7QUFBQSxVQUNILE9BQU8sU0FBUSxPQUFPLEtBQUssTUFBTSxNQUFNLElBQUk7QUFBQSxhQUd4QztBQUFBLFVBQ0gsT0FBTyxTQUFRLE9BQU8seUJBQXlCLE9BQU8sVUFBVSxPQUFPLE9BQU8sRUFBRSxNQUFNLEtBQUssWUFBWSxNQUFNLFVBQVUsT0FBTyxTQUFTLFNBQVMsT0FBTyxLQUFLLFNBQVMsSUFBSTtBQUFBO0FBQUEsTUFHN0s7QUFBQSxTQUdHO0FBQUEsTUFDSCxRQUFRLE9BQU8sT0FBTyxVQUFTLEVBQUU7QUFBQSxhQUUxQjtBQUFBLFVBQ0gsT0FBTyxTQUFTLFFBQVEsS0FBSyxTQUFRLE9BQU8sc0JBQXNCLElBQUksSUFBSTtBQUFBLGFBR3ZFO0FBQUEsVUFDSCxPQUFPLFNBQVMsUUFBUSxLQUFLLFNBQVEsT0FBTyxzQkFBc0IsT0FBTyxJQUFJO0FBQUEsYUFHMUU7QUFBQSxVQUNILE9BQU8sU0FBUyxRQUFRLEtBQUssU0FBUSxPQUFPLHNCQUFzQixJQUFJLElBQUk7QUFBQTtBQUFBLE1BRzlFLE9BQU8sU0FBUyxRQUFRLEtBQUssUUFBUTtBQUFBO0FBQUEsRUFHekMsT0FBTztBQUFBO0FBR1QsSUFBSSxXQUFXLFNBQVMsU0FBUSxDQUFDLFNBQVMsT0FBTyxVQUFVLFVBQVU7QUFBQSxFQUNuRSxJQUFJLFFBQVEsU0FBUztBQUFBLElBQUksSUFBSSxDQUFDLFFBQVE7QUFBQSxNQUFXLFFBQVEsUUFBUTtBQUFBLGFBQzFEO0FBQUEsVUFDSCxRQUFRLFlBQVksT0FBTyxRQUFRLE9BQU8sUUFBUSxNQUFNO0FBQUEsVUFDeEQ7QUFBQSxhQUVHO0FBQUEsVUFDSCxPQUFPLFVBQVUsQ0FBQyxLQUFLLFNBQVM7QUFBQSxZQUM5QixPQUFPLFNBQVEsUUFBUSxPQUFPLEtBQUssTUFBTSxNQUFNO0FBQUEsVUFDakQsQ0FBQyxDQUFDLEdBQUcsUUFBUTtBQUFBLGFBRVY7QUFBQSxVQUNILElBQUksUUFBUTtBQUFBLFlBQVEsT0FBTyxRQUFRLFFBQVEsT0FBTyxRQUFTLENBQUMsT0FBTztBQUFBLGNBQ2pFLFFBQVEsTUFBTSxPQUFPLHVCQUF1QjtBQUFBLHFCQUVyQztBQUFBLHFCQUNBO0FBQUEsa0JBQ0gsT0FBTyxVQUFVLENBQUMsS0FBSyxTQUFTO0FBQUEsb0JBQzlCLE9BQU8sQ0FBQyxTQUFRLE9BQU8sZUFBZSxNQUFNLE1BQU0sSUFBSSxDQUFDO0FBQUEsa0JBQ3pELENBQUMsQ0FBQyxHQUFHLFFBQVE7QUFBQSxxQkFHVjtBQUFBLGtCQUNILE9BQU8sVUFBVSxDQUFDLEtBQUssU0FBUztBQUFBLG9CQUM5QixPQUFPLENBQUMsU0FBUSxPQUFPLGNBQWMsTUFBTSxTQUFTLFVBQVUsQ0FBQztBQUFBLGtCQUNqRSxDQUFDLEdBQUcsS0FBSyxTQUFTO0FBQUEsb0JBQ2hCLE9BQU8sQ0FBQyxTQUFRLE9BQU8sY0FBYyxNQUFNLE1BQU0sSUFBSSxDQUFDO0FBQUEsa0JBQ3hELENBQUMsR0FBRyxLQUFLLFNBQVM7QUFBQSxvQkFDaEIsT0FBTyxDQUFDLFNBQVEsT0FBTyxjQUFjLEtBQUssVUFBVSxDQUFDO0FBQUEsa0JBQ3ZELENBQUMsQ0FBQyxHQUFHLFFBQVE7QUFBQTtBQUFBLGNBR2pCLE9BQU87QUFBQSxhQUNSO0FBQUE7QUFBQTtBQUFBO0FBSVAsSUFBSSx1QkFBdUIsQ0FBQyxRQUFRO0FBQ3BDLElBQUk7QUFFSjtBQUFBLEVBQ00sbUJBQW1CO0FBQUEsRUFFdkIsZUFBZSxTQUFTLFlBQVksQ0FBQyxRQUFRO0FBQUEsSUFDM0MsSUFBSSxVQUFVLE9BQU8sTUFBTSxnQkFBZ0I7QUFBQSxJQUMzQyxJQUFJLENBQUM7QUFBQSxNQUFTO0FBQUEsSUFDZCxPQUFPLFFBQVEsUUFBUSxTQUFTO0FBQUE7QUFFcEM7QUFQTTtBQVNOLElBQUksY0FBYyxTQUFTLFlBQVcsQ0FBQyxTQUFTO0FBQUEsRUFDOUMsSUFBSSxNQUFNLFFBQVE7QUFBQSxFQUVsQixJQUFJLENBQUMsS0FBSztBQUFBLElBQ1IsTUFBTSxJQUFJLE1BQU0sdUpBQXVKLDJGQUE2RjtBQUFBLEVBQ3RRO0FBQUEsRUFFQSxJQUFJLFFBQVEsT0FBTztBQUFBLElBQ2pCLElBQUksWUFBWSxTQUFTLGlCQUFpQixtQ0FBbUM7QUFBQSxJQUs3RSxNQUFNLFVBQVUsUUFBUSxLQUFLLFdBQVcsUUFBUyxDQUFDLE9BQU07QUFBQSxNQU90RCxJQUFJLHVCQUF1QixNQUFLLGFBQWEsY0FBYztBQUFBLE1BRTNELElBQUkscUJBQXFCLFFBQVEsR0FBRyxNQUFNLElBQUk7QUFBQSxRQUM1QztBQUFBLE1BQ0Y7QUFBQSxNQUVBLFNBQVMsS0FBSyxZQUFZLEtBQUk7QUFBQSxNQUM5QixNQUFLLGFBQWEsVUFBVSxFQUFFO0FBQUEsS0FDL0I7QUFBQSxFQUNIO0FBQUEsRUFFQSxJQUFJLGdCQUFnQixRQUFRLGlCQUFpQjtBQUFBLEVBRTdDO0FBQUEsSUFDRSxJQUFJLFVBQVUsS0FBSyxHQUFHLEdBQUc7QUFBQSxNQUN2QixNQUFNLElBQUksTUFBTSxpRkFBa0YsTUFBTSxjQUFlO0FBQUEsSUFDekg7QUFBQSxFQUNGO0FBQUEsRUFFQSxJQUFJLFdBQVcsQ0FBQztBQUFBLEVBQ2hCLElBQUk7QUFBQSxFQUNKLElBQUksaUJBQWlCLENBQUM7QUFBQSxFQUV0QjtBQUFBLElBQ0UsWUFBWSxRQUFRLGFBQWEsU0FBUztBQUFBLElBQzFDLE1BQU0sVUFBVSxRQUFRLEtBRXhCLFNBQVMsaUJBQWlCLDBCQUEyQixNQUFNLEtBQU0sR0FBRyxRQUFTLENBQUMsT0FBTTtBQUFBLE1BQ2xGLElBQUksU0FBUyxNQUFLLGFBQWEsY0FBYyxFQUFFLE1BQU0sR0FBRztBQUFBLE1BRXhELFNBQVMsSUFBSSxFQUFHLElBQUksT0FBTyxRQUFRLEtBQUs7QUFBQSxRQUN0QyxTQUFTLE9BQU8sTUFBTTtBQUFBLE1BQ3hCO0FBQUEsTUFFQSxlQUFlLEtBQUssS0FBSTtBQUFBLEtBQ3pCO0FBQUEsRUFDSDtBQUFBLEVBRUEsSUFBSTtBQUFBLEVBRUosSUFBSSxxQkFBcUIsQ0FBQyxRQUFRLFdBQVc7QUFBQSxFQUU3QztBQUFBLElBQ0UsbUJBQW1CLEtBQUssMkJBQTJCO0FBQUEsVUFDN0MsTUFBTSxHQUFHO0FBQUEsUUFDWCxPQUFPLE1BQU07QUFBQTtBQUFBLElBR2pCLENBQUMsR0FBRyxvQkFBb0I7QUFBQSxFQUMxQjtBQUFBLEVBRUE7QUFBQSxJQUNFLElBQUk7QUFBQSxJQUNKLElBQUksb0JBQW9CLENBQUMsV0FBVyxRQUFTLENBQUMsU0FBUztBQUFBLE1BQ3JELElBQUksQ0FBQyxRQUFRLE1BQU07QUFBQSxRQUNqQixJQUFJLFFBQVEsV0FBVztBQUFBLFVBQ3JCLGFBQWEsT0FBTyxRQUFRLFNBQVM7QUFBQSxRQUN2QyxFQUFPLFNBQUksUUFBUSxTQUFTLFFBQVEsU0FBUyxTQUFTO0FBQUEsVUFHcEQsYUFBYSxPQUFPLFFBQVEsUUFBUSxJQUFJO0FBQUEsUUFDMUM7QUFBQSxNQUNGO0FBQUEsS0FDQTtBQUFBLElBQ0YsSUFBSSxhQUFhLFdBQVcsbUJBQW1CLE9BQU8sZUFBZSxpQkFBaUIsQ0FBQztBQUFBLElBRXZGLElBQUksU0FBUyxTQUFTLE1BQU0sQ0FBQyxRQUFRO0FBQUEsTUFDbkMsT0FBTyxVQUFVLFFBQVEsTUFBTSxHQUFHLFVBQVU7QUFBQTtBQUFBLElBRzlDLFVBQVUsU0FBUyxNQUFNLENBQUMsVUFBVSxZQUFZLE9BQU8sYUFBYTtBQUFBLE1BQ2xFLGVBQWU7QUFBQSxNQUVmLElBQUksY0FBYztBQUFBLFFBQ2hCLElBQUksWUFBWSxhQUFhLFdBQVcsTUFBTTtBQUFBLFFBRTlDLElBQUksV0FBVztBQUFBLFVBQ2IsZUFBZTtBQUFBLFlBQ2IsUUFBUSxTQUFTLE1BQU0sQ0FBQyxNQUFNO0FBQUEsY0FDNUIsTUFBTSxPQUFPLE9BQU8sU0FBUztBQUFBO0FBQUEsVUFFakM7QUFBQSxRQUNGO0FBQUEsTUFDRjtBQUFBLE1BRUEsT0FBTyxXQUFXLFdBQVcsTUFBTSxXQUFXLFNBQVMsTUFBTSxXQUFXLE1BQU07QUFBQSxNQUU5RSxJQUFJLGFBQWE7QUFBQSxRQUNmLE1BQU0sU0FBUyxXQUFXLFFBQVE7QUFBQSxNQUNwQztBQUFBO0FBQUEsRUFFSjtBQUFBLEVBRUEsSUFBSSxRQUFRO0FBQUEsSUFDVjtBQUFBLElBQ0EsT0FBTyxJQUFJLFdBQVc7QUFBQSxNQUNwQjtBQUFBLE1BQ0E7QUFBQSxNQUNBLE9BQU8sUUFBUTtBQUFBLE1BQ2YsUUFBUSxRQUFRO0FBQUEsTUFDaEIsU0FBUyxRQUFRO0FBQUEsTUFDakIsZ0JBQWdCLFFBQVE7QUFBQSxJQUMxQixDQUFDO0FBQUEsSUFDRCxPQUFPLFFBQVE7QUFBQSxJQUNmO0FBQUEsSUFDQSxZQUFZLENBQUM7QUFBQSxJQUNiLFFBQVE7QUFBQSxFQUNWO0FBQUEsRUFDQSxNQUFNLE1BQU0sUUFBUSxjQUFjO0FBQUEsRUFDbEMsT0FBTztBQUFBOzs7QUNobEJULElBQUksYUFBWTtBQUVoQixTQUFTLG1CQUFtQixDQUFDLFlBQVksa0JBQWtCLFlBQVk7QUFBQSxFQUNyRSxJQUFJLGVBQWU7QUFBQSxFQUNuQixXQUFXLE1BQU0sR0FBRyxFQUFFLFFBQVEsUUFBUyxDQUFDLFdBQVc7QUFBQSxJQUNqRCxJQUFJLFdBQVcsZUFBZSxXQUFXO0FBQUEsTUFDdkMsaUJBQWlCLEtBQUssV0FBVyxhQUFhLEdBQUc7QUFBQSxJQUNuRCxFQUFPLFNBQUksV0FBVztBQUFBLE1BQ3BCLGdCQUFnQixZQUFZO0FBQUEsSUFDOUI7QUFBQSxHQUNEO0FBQUEsRUFDRCxPQUFPO0FBQUE7QUFFVCxJQUFJLGlCQUFpQixTQUFTLGVBQWMsQ0FBQyxPQUFPLFlBQVksYUFBYTtBQUFBLEVBQzNFLElBQUksWUFBWSxNQUFNLE1BQU0sTUFBTSxXQUFXO0FBQUEsRUFFN0MsS0FLQyxnQkFBZ0IsU0FJakIsZUFBYyxVQUFXLE1BQU0sV0FBVyxlQUFlLFdBQVc7QUFBQSxJQUNsRSxNQUFNLFdBQVcsYUFBYSxXQUFXO0FBQUEsRUFDM0M7QUFBQTtBQUVGLElBQUksZUFBZSxTQUFTLGFBQVksQ0FBQyxPQUFPLFlBQVksYUFBYTtBQUFBLEVBQ3ZFLGVBQWUsT0FBTyxZQUFZLFdBQVc7QUFBQSxFQUM3QyxJQUFJLFlBQVksTUFBTSxNQUFNLE1BQU0sV0FBVztBQUFBLEVBRTdDLElBQUksTUFBTSxTQUFTLFdBQVcsVUFBVSxXQUFXO0FBQUEsSUFDakQsSUFBSSxVQUFVO0FBQUEsSUFFZCxHQUFHO0FBQUEsTUFDRCxNQUFNLE9BQU8sZUFBZSxVQUFVLE1BQU0sWUFBWSxJQUFJLFNBQVMsTUFBTSxPQUFPLElBQUk7QUFBQSxNQUV0RixVQUFVLFFBQVE7QUFBQSxJQUNwQixTQUFTLFlBQVk7QUFBQSxFQUN2QjtBQUFBOzs7QUN0Q0YsU0FBUyxPQUFPLENBQUMsS0FBSztBQUFBLEVBTXBCLElBQUksSUFBSTtBQUFBLEVBRVIsSUFBSSxHQUNBLElBQUksR0FDSixNQUFNLElBQUk7QUFBQSxFQUVkLE1BQU8sT0FBTyxHQUFHLEVBQUUsR0FBRyxPQUFPLEdBQUc7QUFBQSxJQUM5QixJQUFJLElBQUksV0FBVyxDQUFDLElBQUksT0FBUSxJQUFJLFdBQVcsRUFBRSxDQUFDLElBQUksUUFBUyxLQUFLLElBQUksV0FBVyxFQUFFLENBQUMsSUFBSSxRQUFTLE1BQU0sSUFBSSxXQUFXLEVBQUUsQ0FBQyxJQUFJLFFBQVM7QUFBQSxJQUN4SSxLQUVDLElBQUksU0FBVSxlQUFlLE1BQU0sTUFBTSxTQUFVO0FBQUEsSUFDcEQsS0FFQSxNQUFNO0FBQUEsSUFDTixLQUVDLElBQUksU0FBVSxlQUFlLE1BQU0sTUFBTSxTQUFVLE9BRW5ELElBQUksU0FBVSxlQUFlLE1BQU0sTUFBTSxTQUFVO0FBQUEsRUFDdEQ7QUFBQSxFQUdBLFFBQVE7QUFBQSxTQUNEO0FBQUEsTUFDSCxNQUFNLElBQUksV0FBVyxJQUFJLENBQUMsSUFBSSxRQUFTO0FBQUEsU0FFcEM7QUFBQSxNQUNILE1BQU0sSUFBSSxXQUFXLElBQUksQ0FBQyxJQUFJLFFBQVM7QUFBQSxTQUVwQztBQUFBLE1BQ0gsS0FBSyxJQUFJLFdBQVcsQ0FBQyxJQUFJO0FBQUEsTUFDekIsS0FFQyxJQUFJLFNBQVUsZUFBZSxNQUFNLE1BQU0sU0FBVTtBQUFBO0FBQUEsRUFLeEQsS0FBSyxNQUFNO0FBQUEsRUFDWCxLQUVDLElBQUksU0FBVSxlQUFlLE1BQU0sTUFBTSxTQUFVO0FBQUEsRUFDcEQsU0FBUyxJQUFJLE1BQU0sUUFBUSxHQUFHLFNBQVMsRUFBRTtBQUFBOzs7QUNuRDNDLElBQUksZUFBZTtBQUFBLEVBQ2pCLHlCQUF5QjtBQUFBLEVBQ3pCLGFBQWE7QUFBQSxFQUNiLG1CQUFtQjtBQUFBLEVBQ25CLGtCQUFrQjtBQUFBLEVBQ2xCLGtCQUFrQjtBQUFBLEVBQ2xCLFNBQVM7QUFBQSxFQUNULGNBQWM7QUFBQSxFQUNkLGlCQUFpQjtBQUFBLEVBQ2pCLGFBQWE7QUFBQSxFQUNiLFNBQVM7QUFBQSxFQUNULE1BQU07QUFBQSxFQUNOLFVBQVU7QUFBQSxFQUNWLGNBQWM7QUFBQSxFQUNkLFlBQVk7QUFBQSxFQUNaLGNBQWM7QUFBQSxFQUNkLFdBQVc7QUFBQSxFQUNYLFNBQVM7QUFBQSxFQUNULFlBQVk7QUFBQSxFQUNaLGFBQWE7QUFBQSxFQUNiLGNBQWM7QUFBQSxFQUNkLFlBQVk7QUFBQSxFQUNaLGVBQWU7QUFBQSxFQUNmLGdCQUFnQjtBQUFBLEVBQ2hCLGlCQUFpQjtBQUFBLEVBQ2pCLFdBQVc7QUFBQSxFQUNYLGVBQWU7QUFBQSxFQUNmLGNBQWM7QUFBQSxFQUNkLGtCQUFrQjtBQUFBLEVBQ2xCLFlBQVk7QUFBQSxFQUNaLFlBQVk7QUFBQSxFQUNaLFNBQVM7QUFBQSxFQUNULE9BQU87QUFBQSxFQUNQLFNBQVM7QUFBQSxFQUNULE9BQU87QUFBQSxFQUNQLFNBQVM7QUFBQSxFQUNULFFBQVE7QUFBQSxFQUNSLFFBQVE7QUFBQSxFQUNSLE1BQU07QUFBQSxFQUNOLGlCQUFpQjtBQUFBLEVBRWpCLGFBQWE7QUFBQSxFQUNiLGNBQWM7QUFBQSxFQUNkLGFBQWE7QUFBQSxFQUNiLGlCQUFpQjtBQUFBLEVBQ2pCLGtCQUFrQjtBQUFBLEVBQ2xCLGtCQUFrQjtBQUFBLEVBQ2xCLGVBQWU7QUFBQSxFQUNmLGFBQWE7QUFDZjs7O0FDN0NBLElBQUksaUJBQWdCO0FBRXBCLElBQUksZ0NBQWdDO0FBQUE7QUFBQTtBQUFBO0FBQ3BDLElBQUksZ0NBQWdDO0FBQ3BDLElBQUksaUJBQWlCO0FBQ3JCLElBQUksaUJBQWlCO0FBRXJCLElBQUksbUJBQW1CLFNBQVMsaUJBQWdCLENBQUMsVUFBVTtBQUFBLEVBQ3pELE9BQU8sU0FBUyxXQUFXLENBQUMsTUFBTTtBQUFBO0FBR3BDLElBQUkscUJBQXFCLFNBQVMsbUJBQWtCLENBQUMsT0FBTztBQUFBLEVBQzFELE9BQU8sU0FBUyxRQUFRLE9BQU8sVUFBVTtBQUFBO0FBRzNDLElBQUksbUNBQWtDLFNBQVEsUUFBUyxDQUFDLFdBQVc7QUFBQSxFQUNqRSxPQUFPLGlCQUFpQixTQUFTLElBQUksWUFBWSxVQUFVLFFBQVEsZ0JBQWdCLEtBQUssRUFBRSxZQUFZO0FBQUEsQ0FDdkc7QUFFRCxJQUFJLG9CQUFvQixTQUFTLGtCQUFpQixDQUFDLEtBQUssT0FBTztBQUFBLEVBQzdELFFBQVE7QUFBQSxTQUNEO0FBQUEsU0FDQSxpQkFDSDtBQUFBLE1BQ0UsSUFBSSxPQUFPLFVBQVUsVUFBVTtBQUFBLFFBQzdCLE9BQU8sTUFBTSxRQUFRLGdCQUFnQixRQUFTLENBQUMsUUFBTyxJQUFJLElBQUk7QUFBQSxVQUM1RCxTQUFTO0FBQUEsWUFDUCxNQUFNO0FBQUEsWUFDTixRQUFRO0FBQUEsWUFDUixNQUFNO0FBQUEsVUFDUjtBQUFBLFVBQ0EsT0FBTztBQUFBLFNBQ1I7QUFBQSxNQUNIO0FBQUEsSUFDRjtBQUFBO0FBQUEsRUFHSixJQUFJLGFBQVMsU0FBUyxLQUFLLENBQUMsaUJBQWlCLEdBQUcsS0FBSyxPQUFPLFVBQVUsWUFBWSxVQUFVLEdBQUc7QUFBQSxJQUM3RixPQUFPLFFBQVE7QUFBQSxFQUNqQjtBQUFBLEVBRUEsT0FBTztBQUFBO0FBR1Q7QUFBQSxFQUNNLHNCQUFzQjtBQUFBLEVBQ3RCLGdCQUFnQixDQUFDLFVBQVUsUUFBUSxXQUFXLFdBQVcsT0FBTztBQUFBLEVBQ2hFLHVCQUF1QjtBQUFBLEVBQ3ZCLFlBQVk7QUFBQSxFQUNaLGdCQUFnQjtBQUFBLEVBQ2hCLGtCQUFrQixDQUFDO0FBQUEsRUFFdkIsb0JBQW9CLFNBQVMsaUJBQWlCLENBQUMsS0FBSyxPQUFPO0FBQUEsSUFDekQsSUFBSSxRQUFRLFdBQVc7QUFBQSxNQUNyQixJQUFJLE9BQU8sVUFBVSxZQUFZLGNBQWMsUUFBUSxLQUFLLE1BQU0sTUFBTSxDQUFDLG9CQUFvQixLQUFLLEtBQUssTUFBTSxNQUFNLE9BQU8sQ0FBQyxNQUFNLE1BQU0sT0FBTyxNQUFNLFNBQVMsQ0FBQyxLQUFLLE1BQU0sT0FBTyxDQUFDLE1BQU0sT0FBTyxNQUFNLE9BQU8sQ0FBQyxNQUFNLE1BQU07QUFBQSxRQUN0TixNQUFNLElBQUksTUFBTSxtR0FBbUcsUUFBUSxNQUFNO0FBQUEsTUFDbkk7QUFBQSxJQUNGO0FBQUEsSUFFQSxJQUFJLFlBQVkscUJBQXFCLEtBQUssS0FBSztBQUFBLElBRS9DLElBQUksY0FBYyxNQUFNLENBQUMsaUJBQWlCLEdBQUcsS0FBSyxJQUFJLFFBQVEsR0FBRyxNQUFNLE1BQU0sZ0JBQWdCLFNBQVMsV0FBVztBQUFBLE1BQy9HLGdCQUFnQixPQUFPO0FBQUEsTUFDdkIsUUFBUSxNQUFNLG1GQUFtRixJQUFJLFFBQVEsV0FBVyxLQUFLLEVBQUUsUUFBUSxlQUFlLFFBQVMsQ0FBQyxLQUFLLE9BQU87QUFBQSxRQUMxSyxPQUFPLE1BQU0sWUFBWTtBQUFBLE9BQzFCLElBQUksR0FBRztBQUFBLElBQ1Y7QUFBQSxJQUVBLE9BQU87QUFBQTtBQUVYO0FBekJNO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXNCTixJQUFJLDZCQUE2Qiw4REFBOEQsNkVBQTZFO0FBRTVLLFNBQVMsbUJBQW1CLENBQUMsYUFBYSxZQUFZLGVBQWU7QUFBQSxFQUNuRSxJQUFJLGlCQUFpQixNQUFNO0FBQUEsSUFDekIsT0FBTztBQUFBLEVBQ1Q7QUFBQSxFQUVBLElBQUksb0JBQW9CO0FBQUEsRUFFeEIsSUFBSSxrQkFBa0IscUJBQXFCLFdBQVc7QUFBQSxJQUNwRCxJQUFJLE9BQU8saUJBQWlCLE1BQU0seUJBQXlCO0FBQUEsTUFDekQsTUFBTSxJQUFJLE1BQU0sMEJBQTBCO0FBQUEsSUFDNUM7QUFBQSxJQUVBLE9BQU87QUFBQSxFQUNUO0FBQUEsRUFFQSxRQUFRLE9BQU87QUFBQSxTQUNSLFdBQ0g7QUFBQSxNQUNFLE9BQU87QUFBQSxJQUNUO0FBQUEsU0FFRyxVQUNIO0FBQUEsTUFDRSxJQUFJLFlBQVk7QUFBQSxNQUVoQixJQUFJLFVBQVUsU0FBUyxHQUFHO0FBQUEsUUFDeEIsU0FBUztBQUFBLFVBQ1AsTUFBTSxVQUFVO0FBQUEsVUFDaEIsUUFBUSxVQUFVO0FBQUEsVUFDbEIsTUFBTTtBQUFBLFFBQ1I7QUFBQSxRQUNBLE9BQU8sVUFBVTtBQUFBLE1BQ25CO0FBQUEsTUFFQSxJQUFJLG1CQUFtQjtBQUFBLE1BRXZCLElBQUksaUJBQWlCLFdBQVcsV0FBVztBQUFBLFFBQ3pDLElBQUksUUFBTyxpQkFBaUI7QUFBQSxRQUU1QixJQUFJLFVBQVMsV0FBVztBQUFBLFVBR3RCLE9BQU8sVUFBUyxXQUFXO0FBQUEsWUFDekIsU0FBUztBQUFBLGNBQ1AsTUFBTSxNQUFLO0FBQUEsY0FDWCxRQUFRLE1BQUs7QUFBQSxjQUNiLE1BQU07QUFBQSxZQUNSO0FBQUEsWUFDQSxRQUFPLE1BQUs7QUFBQSxVQUNkO0FBQUEsUUFDRjtBQUFBLFFBRUEsSUFBSSxTQUFTLGlCQUFpQixTQUFTO0FBQUEsUUFDdkMsT0FBTztBQUFBLE1BQ1Q7QUFBQSxNQUVBLE9BQU8sdUJBQXVCLGFBQWEsWUFBWSxhQUFhO0FBQUEsSUFDdEU7QUFBQSxTQUVHLFlBQ0g7QUFBQSxNQUNFLElBQUksZ0JBQWdCLFdBQVc7QUFBQSxRQUM3QixJQUFJLGlCQUFpQjtBQUFBLFFBQ3JCLElBQUksU0FBUyxjQUFjLFdBQVc7QUFBQSxRQUN0QyxTQUFTO0FBQUEsUUFDVCxPQUFPLG9CQUFvQixhQUFhLFlBQVksTUFBTTtBQUFBLE1BQzVELEVBQU87QUFBQSxRQUNMLFFBQVEsTUFBTTtBQUFBLElBQXdFO0FBQUEsSUFBeUcsK0RBQStEO0FBQUEsSUFBc0Ysb0RBQW9EO0FBQUE7QUFBQSxNQUcxWTtBQUFBLElBQ0Y7QUFBQSxTQUVHO0FBQUEsTUFDSDtBQUFBLFFBQ0UsSUFBSSxVQUFVLENBQUM7QUFBQSxRQUNmLElBQUksV0FBVyxjQUFjLFFBQVEsZ0JBQWdCLFFBQVMsQ0FBQyxRQUFRLEtBQUssSUFBSTtBQUFBLFVBQzlFLElBQUksY0FBYyxjQUFjLFFBQVE7QUFBQSxVQUN4QyxRQUFRLEtBQUssV0FBVyxjQUFjLGtCQUFrQixHQUFHLFFBQVEsNkJBQTZCLEVBQUUsSUFBSSxHQUFHO0FBQUEsVUFDekcsT0FBTyxPQUFPLGNBQWM7QUFBQSxTQUM3QjtBQUFBLFFBRUQsSUFBSSxRQUFRLFFBQVE7QUFBQSxVQUNsQixRQUFRLE1BQU0sb0hBQW9ILENBQUMsRUFBRSxPQUFPLFNBQVMsQ0FBQyxNQUFNLFdBQVcsR0FBRyxDQUFDLEVBQUUsS0FBSztBQUFBLENBQUksSUFBSTtBQUFBO0FBQUE7QUFBQTtBQUFBLFNBQXlELFdBQVcsR0FBRztBQUFBLFFBQ25RO0FBQUEsTUFDRjtBQUFBLE1BRUE7QUFBQTtBQUFBLEVBSUosSUFBSSxXQUFXO0FBQUEsRUFFZixJQUFJLGNBQWMsTUFBTTtBQUFBLElBQ3RCLE9BQU87QUFBQSxFQUNUO0FBQUEsRUFFQSxJQUFJLFNBQVMsV0FBVztBQUFBLEVBQ3hCLE9BQU8sV0FBVyxZQUFZLFNBQVM7QUFBQTtBQUd6QyxTQUFTLHNCQUFzQixDQUFDLGFBQWEsWUFBWSxLQUFLO0FBQUEsRUFDNUQsSUFBSSxTQUFTO0FBQUEsRUFFYixJQUFJLE1BQU0sUUFBUSxHQUFHLEdBQUc7QUFBQSxJQUN0QixTQUFTLElBQUksRUFBRyxJQUFJLElBQUksUUFBUSxLQUFLO0FBQUEsTUFDbkMsVUFBVSxvQkFBb0IsYUFBYSxZQUFZLElBQUksRUFBRSxJQUFJO0FBQUEsSUFDbkU7QUFBQSxFQUNGLEVBQU87QUFBQSxJQUNMLFNBQVMsT0FBTyxLQUFLO0FBQUEsTUFDbkIsSUFBSSxRQUFRLElBQUk7QUFBQSxNQUVoQixJQUFJLE9BQU8sVUFBVSxVQUFVO0FBQUEsUUFDN0IsSUFBSSxXQUFXO0FBQUEsUUFFZixJQUFJLGNBQWMsUUFBUSxXQUFXLGNBQWMsV0FBVztBQUFBLFVBQzVELFVBQVUsTUFBTSxNQUFNLFdBQVcsWUFBWTtBQUFBLFFBQy9DLEVBQU8sU0FBSSxtQkFBbUIsUUFBUSxHQUFHO0FBQUEsVUFDdkMsVUFBVSxpQkFBaUIsR0FBRyxJQUFJLE1BQU0sa0JBQWtCLEtBQUssUUFBUSxJQUFJO0FBQUEsUUFDN0U7QUFBQSxNQUNGLEVBQU87QUFBQSxRQUNMLElBQUksUUFBUSwyQkFBMkIsZ0JBQWU7QUFBQSxVQUNwRCxNQUFNLElBQUksTUFBTSwwQkFBMEI7QUFBQSxRQUM1QztBQUFBLFFBRUEsSUFBSSxNQUFNLFFBQVEsS0FBSyxLQUFLLE9BQU8sTUFBTSxPQUFPLGFBQWEsY0FBYyxRQUFRLFdBQVcsTUFBTSxRQUFRLFlBQVk7QUFBQSxVQUN0SCxTQUFTLEtBQUssRUFBRyxLQUFLLE1BQU0sUUFBUSxNQUFNO0FBQUEsWUFDeEMsSUFBSSxtQkFBbUIsTUFBTSxHQUFHLEdBQUc7QUFBQSxjQUNqQyxVQUFVLGlCQUFpQixHQUFHLElBQUksTUFBTSxrQkFBa0IsS0FBSyxNQUFNLEdBQUcsSUFBSTtBQUFBLFlBQzlFO0FBQUEsVUFDRjtBQUFBLFFBQ0YsRUFBTztBQUFBLFVBQ0wsSUFBSSxlQUFlLG9CQUFvQixhQUFhLFlBQVksS0FBSztBQUFBLFVBRXJFLFFBQVE7QUFBQSxpQkFDRDtBQUFBLGlCQUNBLGlCQUNIO0FBQUEsY0FDRSxVQUFVLGlCQUFpQixHQUFHLElBQUksTUFBTSxlQUFlO0FBQUEsY0FDdkQ7QUFBQSxZQUNGO0FBQUEscUJBR0E7QUFBQSxjQUNFLElBQUksUUFBUSxhQUFhO0FBQUEsZ0JBQ3ZCLFFBQVEsTUFBTSw2QkFBNkI7QUFBQSxjQUM3QztBQUFBLGNBRUEsVUFBVSxNQUFNLE1BQU0sZUFBZTtBQUFBLFlBQ3ZDO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFJVjtBQUFBO0FBQUEsRUFHRixPQUFPO0FBQUE7QUFHVCxJQUFJLGVBQWU7QUFHbkIsSUFBSTtBQUNKLFNBQVMsZUFBZSxDQUFDLE1BQU0sWUFBWSxhQUFhO0FBQUEsRUFDdEQsSUFBSSxLQUFLLFdBQVcsS0FBSyxPQUFPLEtBQUssT0FBTyxZQUFZLEtBQUssT0FBTyxRQUFRLEtBQUssR0FBRyxXQUFXLFdBQVc7QUFBQSxJQUN4RyxPQUFPLEtBQUs7QUFBQSxFQUNkO0FBQUEsRUFFQSxJQUFJLGFBQWE7QUFBQSxFQUNqQixJQUFJLFNBQVM7QUFBQSxFQUNiLFNBQVM7QUFBQSxFQUNULElBQUksVUFBVSxLQUFLO0FBQUEsRUFFbkIsSUFBSSxXQUFXLFFBQVEsUUFBUSxRQUFRLFdBQVc7QUFBQSxJQUNoRCxhQUFhO0FBQUEsSUFDYixVQUFVLG9CQUFvQixhQUFhLFlBQVksT0FBTztBQUFBLEVBQ2hFLEVBQU87QUFBQSxJQUNMLElBQUksdUJBQXVCO0FBQUEsSUFFM0IsSUFBSSxxQkFBcUIsT0FBTyxXQUFXO0FBQUEsTUFDekMsUUFBUSxNQUFNLDZCQUE2QjtBQUFBLElBQzdDO0FBQUEsSUFFQSxVQUFVLHFCQUFxQjtBQUFBO0FBQUEsRUFJakMsU0FBUyxJQUFJLEVBQUcsSUFBSSxLQUFLLFFBQVEsS0FBSztBQUFBLElBQ3BDLFVBQVUsb0JBQW9CLGFBQWEsWUFBWSxLQUFLLEVBQUU7QUFBQSxJQUU5RCxJQUFJLFlBQVk7QUFBQSxNQUNkLElBQUkscUJBQXFCO0FBQUEsTUFFekIsSUFBSSxtQkFBbUIsT0FBTyxXQUFXO0FBQUEsUUFDdkMsUUFBUSxNQUFNLDZCQUE2QjtBQUFBLE1BQzdDO0FBQUEsTUFFQSxVQUFVLG1CQUFtQjtBQUFBLElBQy9CO0FBQUEsRUFDRjtBQUFBLEVBR0EsYUFBYSxZQUFZO0FBQUEsRUFDekIsSUFBSSxpQkFBaUI7QUFBQSxFQUNyQixJQUFJO0FBQUEsRUFFSixRQUFRLFNBQVEsYUFBYSxLQUFLLE1BQU0sT0FBTyxNQUFNO0FBQUEsSUFDbkQsa0JBQWtCLE1BQU0sT0FBTTtBQUFBLEVBQ2hDO0FBQUEsRUFFQSxJQUFJLE9BQU8sUUFBVyxNQUFNLElBQUk7QUFBQSxFQUVoQztBQUFBLElBQ0UsSUFBSSxZQUFZO0FBQUEsTUFDZDtBQUFBLE1BQ0E7QUFBQSxNQUNBLE1BQU07QUFBQSxNQUNOLFVBQVUsU0FBUyxRQUFRLEdBQUc7QUFBQSxRQUM1QixPQUFPO0FBQUE7QUFBQSxJQUVYO0FBQUEsSUFDQSxPQUFPO0FBQUEsRUFDVDtBQUFBOzs7QUM1U0Y7QUFFQSxJQUFJLGVBQWUsU0FBUyxhQUFZLENBQUMsUUFBUTtBQUFBLEVBQy9DLE9BQU8sT0FBTztBQUFBO0FBR2hCLElBQUkscUJBQXFCLFFBQU0saUJBQWlCLFlBQVksUUFBTSxpQkFBaUIsWUFBWTtBQUMvRixJQUFJLDJDQUEyQyxzQkFBc0I7QUFDckUsSUFBSSx1Q0FBdUMsc0JBQTRCOzs7QWRFdkUsSUFBSSxzQ0FBMkMsc0JBTS9DLE9BQU8sZ0JBQWdCLDhCQUE2QixZQUFZO0FBQUEsRUFDOUQsS0FBSztBQUNQLENBQUMsSUFBSSxJQUFJO0FBRVQ7QUFBQSxFQUNFLG9CQUFvQixjQUFjO0FBQ3BDO0FBRUEsSUFBSSxnQkFBZ0Isb0JBQW9CO0FBS3hDLElBQUksbUJBQW1CLFNBQVMsaUJBQWdCLENBQUMsTUFBTTtBQUFBLEVBQ3JELHVCQUFvQix3QkFBVyxRQUFTLENBQUMsT0FBTyxLQUFLO0FBQUEsSUFFbkQsSUFBSSxRQUFRLHdCQUFXLG1CQUFtQjtBQUFBLElBQzFDLE9BQU8sS0FBSyxPQUFPLE9BQU8sR0FBRztBQUFBLEdBQzlCO0FBQUE7QUFHSCxJQUFJLCtCQUFvQyxzQkFBYyxDQUFDLENBQUM7QUFFeEQ7QUFBQSxFQUNFLGFBQWEsY0FBYztBQUM3QjtBQXFEQSxJQUFJLFNBQVMsQ0FBQyxFQUFFO0FBRWhCLElBQUksY0FBYyxTQUFTLFlBQVcsQ0FBQyxjQUFjO0FBQUEsRUFHbkQsSUFBSSxRQUFRLGFBQWEsTUFBTSxHQUFHO0FBQUEsRUFDbEMsT0FBTyxNQUFNLE1BQU0sU0FBUztBQUFBO0FBRzlCLElBQUksb0NBQW9DLFNBQVMsa0NBQWlDLENBQUMsT0FBTTtBQUFBLEVBRXZGLElBQUksU0FBUSw4QkFBOEIsS0FBSyxLQUFJO0FBQUEsRUFDbkQsSUFBSTtBQUFBLElBQU8sT0FBTyxZQUFZLE9BQU0sRUFBRTtBQUFBLEVBRXRDLFNBQVEscUJBQXFCLEtBQUssS0FBSTtBQUFBLEVBQ3RDLElBQUk7QUFBQSxJQUFPLE9BQU8sWUFBWSxPQUFNLEVBQUU7QUFBQSxFQUN0QztBQUFBO0FBR0YsSUFBSSw2Q0FBNEMsSUFBSSxJQUFJLENBQUMsbUJBQW1CLGdCQUFnQix3QkFBd0IsZ0JBQWdCLENBQUM7QUFJckksSUFBSSxxQkFBcUIsU0FBUyxtQkFBa0IsQ0FBQyxhQUFZO0FBQUEsRUFDL0QsT0FBTyxZQUFXLFFBQVEsT0FBTyxHQUFHO0FBQUE7QUFHdEMsSUFBSSx5QkFBeUIsU0FBUyx1QkFBc0IsQ0FBQyxZQUFZO0FBQUEsRUFDdkUsSUFBSSxDQUFDO0FBQUEsSUFBWTtBQUFBLEVBQ2pCLElBQUksUUFBUSxXQUFXLE1BQU07QUFBQSxDQUFJO0FBQUEsRUFFakMsU0FBUyxJQUFJLEVBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSztBQUFBLElBQ3JDLElBQUksZUFBZSxrQ0FBa0MsTUFBTSxFQUFFO0FBQUEsSUFFN0QsSUFBSSxDQUFDO0FBQUEsTUFBYztBQUFBLElBRW5CLElBQUksMkJBQTJCLElBQUksWUFBWTtBQUFBLE1BQUc7QUFBQSxJQUdsRCxJQUFJLFNBQVMsS0FBSyxZQUFZO0FBQUEsTUFBRyxPQUFPLG1CQUFtQixZQUFZO0FBQUEsRUFDekU7QUFBQSxFQUVBO0FBQUE7QUFHRixJQUFJLGVBQWU7QUFDbkIsSUFBSSxnQkFBZ0I7QUFDcEIsSUFBSSxxQkFBcUIsU0FBUyxtQkFBa0IsQ0FBQyxNQUFNLE9BQU87QUFBQSxFQUNoRSxJQUFJLE9BQU8sTUFBTSxRQUFRLFlBQ3pCLE1BQU0sSUFBSSxRQUFRLEdBQUcsTUFBTSxJQUFJO0FBQUEsSUFDN0IsTUFBTSxJQUFJLE1BQU0sK0hBQStILE1BQU0sTUFBTSxHQUFHO0FBQUEsRUFDaEs7QUFBQSxFQUVBLElBQUksV0FBVyxDQUFDO0FBQUEsRUFFaEIsU0FBUyxRQUFRLE9BQU87QUFBQSxJQUN0QixJQUFJLE9BQU8sS0FBSyxPQUFPLElBQUksR0FBRztBQUFBLE1BQzVCLFNBQVMsUUFBUSxNQUFNO0FBQUEsSUFDekI7QUFBQSxFQUNGO0FBQUEsRUFFQSxTQUFTLGdCQUFnQjtBQUFBLEVBT3pCLElBQUksT0FBTyxlQUFlLGVBQWUsQ0FBQyxDQUFDLFdBQVcsOEJBQThCLENBQUMsQ0FBQyxNQUFNLFFBQVEsT0FBTyxNQUFNLFFBQVEsWUFBWSxFQUFFLFVBQVUsTUFBTSxRQUFRLE9BQU8sTUFBTSxJQUFJLFNBQVMsWUFBWSxNQUFNLElBQUksS0FBSyxRQUFRLEdBQUcsTUFBTSxLQUFLO0FBQUEsSUFDeE8sSUFBSSxRQUFRLHVCQUF1QixJQUFJLE1BQU0sRUFBRSxLQUFLO0FBQUEsSUFDcEQsSUFBSTtBQUFBLE1BQU8sU0FBUyxpQkFBaUI7QUFBQSxFQUN2QztBQUFBLEVBRUEsT0FBTztBQUFBO0FBR1QsSUFBSSxZQUFZLFNBQVMsVUFBUyxDQUFDLE1BQU07QUFBQSxFQUN2QyxNQUFpQixPQUNLLFlBQ0MsZ0JBRE47QUFBQSxFQUVqQixlQUFlLE9BQU8sWUFBWSxXQUFXO0FBQUEsRUFDN0MseUNBQXlDLFFBQVMsR0FBRztBQUFBLElBQ25ELE9BQU8sYUFBYSxPQUFPLFlBQVksV0FBVztBQUFBLEdBQ25EO0FBQUEsRUFFRCxPQUFPO0FBQUE7QUFHVCxJQUFJLDBCQUF5QixpQkFBaUIsUUFBUyxDQUFDLE9BQU8sT0FBTyxLQUFLO0FBQUEsRUFDekUsSUFBSSxVQUFVLE1BQU07QUFBQSxFQUlwQixJQUFJLE9BQU8sWUFBWSxZQUFZLE1BQU0sV0FBVyxhQUFhLFdBQVc7QUFBQSxJQUMxRSxVQUFVLE1BQU0sV0FBVztBQUFBLEVBQzdCO0FBQUEsRUFFQSxJQUFJLG1CQUFtQixNQUFNO0FBQUEsRUFDN0IsSUFBSSxtQkFBbUIsQ0FBQyxPQUFPO0FBQUEsRUFDL0IsSUFBSSxZQUFZO0FBQUEsRUFFaEIsSUFBSSxPQUFPLE1BQU0sY0FBYyxVQUFVO0FBQUEsSUFDdkMsWUFBWSxvQkFBb0IsTUFBTSxZQUFZLGtCQUFrQixNQUFNLFNBQVM7QUFBQSxFQUNyRixFQUFPLFNBQUksTUFBTSxhQUFhLE1BQU07QUFBQSxJQUNsQyxZQUFZLE1BQU0sWUFBWTtBQUFBLEVBQ2hDO0FBQUEsRUFFQSxJQUFJLGFBQWEsZ0JBQWdCLGtCQUFrQixXQUFpQixtQkFBVyxZQUFZLENBQUM7QUFBQSxFQUU1RixJQUFJLFdBQVcsS0FBSyxRQUFRLEdBQUcsTUFBTSxJQUFJO0FBQUEsSUFDdkMsSUFBSSxpQkFBaUIsTUFBTTtBQUFBLElBRTNCLElBQUksZ0JBQWdCO0FBQUEsTUFDbEIsYUFBYSxnQkFBZ0IsQ0FBQyxZQUFZLFdBQVcsaUJBQWlCLEdBQUcsQ0FBQztBQUFBLElBQzVFO0FBQUEsRUFDRjtBQUFBLEVBRUEsYUFBYSxNQUFNLE1BQU0sTUFBTSxXQUFXO0FBQUEsRUFDMUMsSUFBSSxXQUFXLENBQUM7QUFBQSxFQUVoQixTQUFTLFNBQVMsT0FBTztBQUFBLElBQ3ZCLElBQUksT0FBTyxLQUFLLE9BQU8sS0FBSyxLQUFLLFVBQVUsU0FBUyxVQUFVLGdCQUFpQixVQUFVLGVBQWdCO0FBQUEsTUFDdkcsU0FBUyxTQUFTLE1BQU07QUFBQSxJQUMxQjtBQUFBLEVBQ0Y7QUFBQSxFQUVBLFNBQVMsWUFBWTtBQUFBLEVBRXJCLElBQUksS0FBSztBQUFBLElBQ1AsU0FBUyxNQUFNO0FBQUEsRUFDakI7QUFBQSxFQUVBLHVCQUEwQixzQkFBb0Isa0JBQVUsc0JBQXlCLHNCQUFjLFdBQVc7QUFBQSxJQUN4RztBQUFBLElBQ0E7QUFBQSxJQUNBLGFBQWEsT0FBTyxxQkFBcUI7QUFBQSxFQUMzQyxDQUFDLG1CQUFzQixzQkFBYyxrQkFBa0IsUUFBUSxDQUFDO0FBQUEsQ0FDakU7QUFFRDtBQUFBLEVBQ0UsUUFBUSxjQUFjO0FBQ3hCO0FBRUEsSUFBSSxZQUFZOzs7QWUzT2hCO0FBUUE7QUFFQSxJQUFJLGlCQUFnQjtBQUVwQixJQUFJLE1BQU07QUFBQSxFQUNULE1BQU07QUFBQSxFQUNOLFNBQVM7QUFBQSxFQUNULE1BQU07QUFBQSxFQUNOLFFBQVE7QUFBQSxFQUNSLE9BQU87QUFBQSxFQUNQLFNBQVM7QUFBQSxJQUNSLEtBQUs7QUFBQSxNQUNKLE9BQU87QUFBQSxRQUNOLFFBQVU7QUFBQSxRQUNWLFNBQVc7QUFBQSxNQUNaO0FBQUEsTUFDQSxhQUFhO0FBQUEsUUFDWixjQUFjO0FBQUEsVUFDYixRQUFRO0FBQUEsVUFDUixRQUFVO0FBQUEsVUFDVixTQUFXO0FBQUEsUUFDWjtBQUFBLFFBQ0EsUUFBUTtBQUFBLFVBQ1AsUUFBUTtBQUFBLFVBQ1IsUUFBVTtBQUFBLFVBQ1YsU0FBVztBQUFBLFFBQ1o7QUFBQSxRQUNBLFNBQVM7QUFBQSxVQUNSLFFBQVE7QUFBQSxVQUNSLFFBQVU7QUFBQSxVQUNWLFNBQVc7QUFBQSxRQUNaO0FBQUEsUUFDQSxTQUFTO0FBQUEsVUFDUixRQUFRO0FBQUEsVUFDUixRQUFVO0FBQUEsVUFDVixTQUFXO0FBQUEsUUFDWjtBQUFBLFFBQ0EsUUFBUTtBQUFBLFFBQ1IsUUFBVTtBQUFBLFFBQ1YsU0FBVztBQUFBLE1BQ1o7QUFBQSxNQUNBLGNBQWM7QUFBQSxRQUNiLFFBQVE7QUFBQSxRQUNSLFFBQVU7QUFBQSxRQUNWLFNBQVc7QUFBQSxNQUNaO0FBQUEsTUFDQSxRQUFRO0FBQUEsUUFDUCxRQUFRO0FBQUEsUUFDUixRQUFVO0FBQUEsUUFDVixTQUFXO0FBQUEsTUFDWjtBQUFBLE1BQ0EsU0FBUztBQUFBLFFBQ1IsUUFBUTtBQUFBLFFBQ1IsUUFBVTtBQUFBLFFBQ1YsU0FBVztBQUFBLE1BQ1o7QUFBQSxNQUNBLFNBQVM7QUFBQSxRQUNSLFFBQVE7QUFBQSxRQUNSLFFBQVU7QUFBQSxRQUNWLFNBQVc7QUFBQSxNQUNaO0FBQUEsTUFDQSxRQUFRO0FBQUEsTUFDUixRQUFVO0FBQUEsTUFDVixTQUFXO0FBQUEsSUFDWjtBQUFBLElBQ0EsaUJBQWlCO0FBQUEsTUFDaEIsT0FBTztBQUFBLFFBQ04sUUFBVTtBQUFBLFFBQ1YsU0FBVztBQUFBLE1BQ1o7QUFBQSxNQUNBLGFBQWE7QUFBQSxRQUNaLGNBQWM7QUFBQSxVQUNiLFFBQVE7QUFBQSxVQUNSLFFBQVU7QUFBQSxVQUNWLFNBQVc7QUFBQSxRQUNaO0FBQUEsUUFDQSxRQUFRO0FBQUEsVUFDUCxRQUFRO0FBQUEsVUFDUixRQUFVO0FBQUEsVUFDVixTQUFXO0FBQUEsUUFDWjtBQUFBLFFBQ0EsU0FBUztBQUFBLFVBQ1IsUUFBUTtBQUFBLFVBQ1IsUUFBVTtBQUFBLFVBQ1YsU0FBVztBQUFBLFFBQ1o7QUFBQSxRQUNBLFNBQVM7QUFBQSxVQUNSLFFBQVE7QUFBQSxVQUNSLFFBQVU7QUFBQSxVQUNWLFNBQVc7QUFBQSxRQUNaO0FBQUEsUUFDQSxRQUFRO0FBQUEsUUFDUixRQUFVO0FBQUEsUUFDVixTQUFXO0FBQUEsTUFDWjtBQUFBLE1BQ0EsY0FBYztBQUFBLFFBQ2IsUUFBUTtBQUFBLFFBQ1IsUUFBVTtBQUFBLFFBQ1YsU0FBVztBQUFBLE1BQ1o7QUFBQSxNQUNBLFFBQVE7QUFBQSxRQUNQLFFBQVE7QUFBQSxRQUNSLFFBQVU7QUFBQSxRQUNWLFNBQVc7QUFBQSxNQUNaO0FBQUEsTUFDQSxTQUFTO0FBQUEsUUFDUixRQUFRO0FBQUEsUUFDUixRQUFVO0FBQUEsUUFDVixTQUFXO0FBQUEsTUFDWjtBQUFBLE1BQ0EsU0FBUztBQUFBLFFBQ1IsUUFBUTtBQUFBLFFBQ1IsUUFBVTtBQUFBLFFBQ1YsU0FBVztBQUFBLE1BQ1o7QUFBQSxNQUNBLFFBQVE7QUFBQSxNQUNSLFFBQVU7QUFBQSxNQUNWLFNBQVc7QUFBQSxJQUNaO0FBQUEsSUFDQSxvQkFBb0I7QUFBQSxNQUNuQixPQUFPO0FBQUEsUUFDTixRQUFVO0FBQUEsUUFDVixTQUFXO0FBQUEsTUFDWjtBQUFBLE1BQ0EsYUFBYTtBQUFBLFFBQ1osY0FBYztBQUFBLFVBQ2IsUUFBUTtBQUFBLFVBQ1IsUUFBVTtBQUFBLFVBQ1YsU0FBVztBQUFBLFFBQ1o7QUFBQSxRQUNBLFFBQVE7QUFBQSxVQUNQLFFBQVE7QUFBQSxVQUNSLFFBQVU7QUFBQSxVQUNWLFNBQVc7QUFBQSxRQUNaO0FBQUEsUUFDQSxTQUFTO0FBQUEsVUFDUixRQUFRO0FBQUEsVUFDUixRQUFVO0FBQUEsVUFDVixTQUFXO0FBQUEsUUFDWjtBQUFBLFFBQ0EsU0FBUztBQUFBLFVBQ1IsUUFBUTtBQUFBLFVBQ1IsUUFBVTtBQUFBLFVBQ1YsU0FBVztBQUFBLFFBQ1o7QUFBQSxRQUNBLFFBQVE7QUFBQSxRQUNSLFFBQVU7QUFBQSxRQUNWLFNBQVc7QUFBQSxNQUNaO0FBQUEsTUFDQSxjQUFjO0FBQUEsUUFDYixRQUFRO0FBQUEsUUFDUixRQUFVO0FBQUEsUUFDVixTQUFXO0FBQUEsTUFDWjtBQUFBLE1BQ0EsUUFBUTtBQUFBLFFBQ1AsUUFBUTtBQUFBLFFBQ1IsUUFBVTtBQUFBLFFBQ1YsU0FBVztBQUFBLE1BQ1o7QUFBQSxNQUNBLFNBQVM7QUFBQSxRQUNSLFFBQVE7QUFBQSxRQUNSLFFBQVU7QUFBQSxRQUNWLFNBQVc7QUFBQSxNQUNaO0FBQUEsTUFDQSxTQUFTO0FBQUEsUUFDUixRQUFRO0FBQUEsUUFDUixRQUFVO0FBQUEsUUFDVixTQUFXO0FBQUEsTUFDWjtBQUFBLE1BQ0EsUUFBUTtBQUFB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QUFRO0FBQUEsRUFBVztBQUFBLEVBQVM7QUFBQSxFQUFTO0FBQUEsRUFBSztBQUFBLEVBQVE7QUFBQSxFQUFPO0FBQUEsRUFBTztBQUFBLEVBQU87QUFBQSxFQUFjO0FBQUEsRUFBUTtBQUFBLEVBQU07QUFBQSxFQUFVO0FBQUEsRUFBVTtBQUFBLEVBQVc7QUFBQSxFQUFRO0FBQUEsRUFBUTtBQUFBLEVBQU87QUFBQSxFQUFZO0FBQUEsRUFBUTtBQUFBLEVBQVk7QUFBQSxFQUFNO0FBQUEsRUFBTztBQUFBLEVBQVc7QUFBQSxFQUFPO0FBQUEsRUFBVTtBQUFBLEVBQU87QUFBQSxFQUFNO0FBQUEsRUFBTTtBQUFBLEVBQU07QUFBQSxFQUFTO0FBQUEsRUFBWTtBQUFBLEVBQWM7QUFBQSxFQUFVO0FBQUEsRUFBVTtBQUFBLEVBQVE7QUFBQSxFQUFNO0FBQUEsRUFBTTtBQUFBLEVBQU07QUFBQSxFQUFNO0FBQUEsRUFBTTtBQUFBLEVBQU07QUFBQSxFQUFRO0FBQUEsRUFBVTtBQUFBLEVBQVU7QUFBQSxFQUFNO0FBQUEsRUFBUTtBQUFBLEVBQUs7QUFBQSxFQUFVO0FBQUEsRUFBTztBQUFBLEVBQVM7QUFBQSxFQUFPO0FBQUEsRUFBTztBQUFBLEVBQVU7QUFBQSxFQUFTO0FBQUEsRUFBVTtBQUFBLEVBQU07QUFBQSxFQUFRO0FBQUEsRUFBUTtBQUFBLEVBQU87QUFBQSxFQUFRO0FBQUEsRUFBVztBQUFBLEVBQVE7QUFBQSxFQUFZO0FBQUEsRUFBUTtBQUFBLEVBQVM7QUFBQSxFQUFPO0FBQUEsRUFBWTtBQUFBLEVBQVU7QUFBQSxFQUFNO0FBQUEsRUFBWTtBQUFBLEVBQVU7QUFBQSxFQUFVO0FBQUEsRUFBSztBQUFBLEVBQVM7QUFBQSxFQUFXO0FBQUEsRUFBTztBQUFBLEVBQVk7QUFBQSxFQUFLO0FBQUEsRUFBTTtBQUFBLEVBQU07QUFBQSxFQUFRO0FBQUEsRUFBSztBQUFBLEVBQVE7QUFBQSxFQUFVO0FBQUEsRUFBVztBQUFBLEVBQVU7QUFBQSxFQUFTO0FBQUEsRUFBVTtBQUFBLEVBQVE7QUFBQSxF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QVUsTUFBTSxDQUFDLENBQUMsR0FBRyw0QkFBVSxRQUFRLDRCQUFVLFFBQVEsNEJBQVUsTUFBTSxDQUFDO0FBQUEsSUFDdkssV0FBVyw0QkFBVTtBQUFBLElBQ3JCLFdBQVcsNEJBQVU7QUFBQSxJQUNyQixXQUFXLDRCQUFVLFVBQVUsQ0FBQyw0QkFBVSxNQUFNLENBQUMsa0JBQWtCLFVBQVUsZUFBZSxLQUFLLENBQUMsR0FBRyw0QkFBVSxRQUFRLDRCQUFVLE1BQU0sQ0FBQyxrQkFBa0IsVUFBVSxlQUFlLEtBQUssQ0FBQyxDQUFDLEdBQUcsNEJBQVUsTUFBTSxDQUFDO0FBQUEsSUFDOU0sUUFBUSw0QkFBVSxVQUFVLENBQUMsNEJBQVUsUUFBUSw0QkFBVSxRQUFRLDRCQUFVLFFBQVEsNEJBQVUsVUFBVSxDQUFDLDRCQUFVLFFBQVEsNEJBQVUsTUFBTSxDQUFDLENBQUMsR0FBRyw0QkFBVSxNQUFNLENBQUM7QUFBQSxJQUNoSyxZQUFZLDRCQUFVLFVBQVUsQ0FBQyw0QkFBVSxRQUFRLDRCQUFVLFVBQVUsQ0FBQyw0QkFBVSxRQUFRLDRCQUFVLE1BQU0sQ0FBQyxDQUFDLEdBQUcsNEJBQVUsUUFBUSw0QkFBVSxRQUFRLDRCQUFVLE1BQU0sQ0FBQztBQUFBLElBQ3BLLE1BQU0sNEJBQVUsVUFBVSxDQUFDLDRCQUFVLFFBQVEsNEJBQVUsTUFBTSw0QkFBVSxRQUFRLDRCQUFVLFFBQVEsNEJBQVUsVUFBVSxDQUFDLDRCQUFVLFFBQVEsNEJBQVUsTUFBTSw0QkFBVSxNQUFNLENBQUMsQ0FBQyxHQUFHLDRCQUFVLE1BQU0sQ0FBQztBQUFBLElBQzlMLFNBQVMsNEJBQVUsVUFBVSxDQUFDLDRCQUFVLFFBQVEsNEJBQVUsVUFBVSxDQUFDLDRCQUFVLFFBQVEsNEJBQVUsTUFBTSxDQUFDLENBQUMsR0FBRyw0QkFBVSxRQUFRLDRCQUFVLFFBQVEsNEJBQVUsTUFBTSxDQUFDO0FBQUEsSUFDakssSUFBSSw0QkFBVSxVQUFVLENBQUMsNEJBQVUsUUFBUSw0QkFBVSxVQUFVLENBQUMsNEJBQVUsTUFBTSw0QkFBVSxR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LEtBQUs7QUFBQSxFQUNMLEtBQUs7QUFBQSxFQUNMLEtBQUs7QUFBQSxFQUNMLEtBQUs7QUFBQSxFQUNMLEtBQUs7QUFBQSxFQUNMLEtBQUs7QUFBQSxFQUNMLEtBQUs7QUFBQSxFQUNMLEtBQUs7QUFBQSxFQUNMLEtBQUs7QUFBQSxFQUNMLE1BQU07QUFBQSxFQUNOLE1BQU07QUFBQSxFQUNOLE1BQU07QUFBQSxFQUNOLE1BQU07QUFDUjtBQUNBLElBQWU7OztBQ2hCZixJQUFNLFNBQVM7QUFBQSxFQUNiLElBQUk7QUFBQSxFQUNKLEtBQUs7QUFBQSxFQUNMLEtBQUs7QUFBQSxFQUNMLEtBQUs7QUFBQSxFQUNMLEtBQUs7QUFBQSxFQUNMLEtBQUs7QUFBQSxFQUNMLEtBQUs7QUFBQSxFQUNMLEtBQUs7QUFBQSxFQUNMLEtBQUs7QUFBQSxFQUNMLEtBQUs7QUFBQSxFQUNMLE1BQU07QUFBQSxFQUNOLE1BQU07QUFBQSxFQUNOLE1BQU07QUFBQSxFQUNOLE1BQU07QUFDUjtBQUNBLElBQWU7OztBQ2hCZixJQUFNLE9BQU87QUFBQSxFQUNYLElBQUk7QUFBQSxFQUNKLEtBQUs7QUFBQSxFQUNMLEtBQUs7QUFBQSxFQUNMLEtBQUs7QUFBQSxFQUNMLEtBQUs7QUFBQSxFQUNMLEtBQUs7QUFBQSxFQUNMLEtBQUs7QUFBQSxFQUNMLEtBQUs7QUFBQSxFQUNMLEtBQUs7QUFBQSxFQUNMLEtBQUs7QUFBQSxFQUNMLE1BQU07QUFBQSxFQUNOLE1BQU07QUFBQSxFQUNOLE1BQU07QUFBQSxFQUNOLE1BQU07QUFDUjtBQUNBLElBQWU7OztBQ2hCZixJQUFNLFlBQVk7QUFBQSxFQUNoQixJQUFJO0FBQUEsRUFDSixLQUFLO0FBQUEsRUFDTCxLQUFLO0FBQUEsRUFDTCxLQUFLO0FBQUEsRUFDTCxLQUFLO0FBQUEsRUFDTCxLQUFLO0FBQUEsRUFDTCxLQUFLO0FBQUEsRUFDTCxLQUFLO0FBQUEsRUFDTCxLQUFLO0FBQUEsRUFDTCxLQUFLO0FBQUEsRUFDTCxNQUFNO0FBQUEsRUFDTixNQUFNO0FBQUEsRUFDTixNQUFN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QUFHLEdBQUcsSUFBSSxHQUFHLEdBQUcsSUFBSSxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxhQUFhLEdBQUcsR0FBRyxHQUFHLElBQUksR0FBRyxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsYUFBYSxHQUFHLEdBQUcsR0FBRyxJQUFJLEdBQUcsR0FBRyxJQUFJLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLGFBQWEsR0FBRyxHQUFHLEdBQUcsSUFBSSxHQUFHLEdBQUcsSUFBSSxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxhQUFhLEdBQUcsR0FBRyxHQUFHLElBQUksR0FBRyxJQUFJLElBQUksR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsYUFBYSxHQUFHLEdBQUcsR0FBRyxJQUFJLEdBQUcsSUFBSSxJQUFJLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLGFBQWEsR0FBRyxHQUFHLEdBQUcsSUFBSSxHQUFHLElBQUksSUFBSSxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxhQUFhLEdBQUcsR0FBRyxHQUFHLElBQUksR0FBRyxJQUFJLElBQUksR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsYUFBYSxHQUFHLEdBQUcsR0FBRyxJQUFJLEdBQUcsSUFBSSxJQUFJLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLGFBQWEsR0FBRyxHQUFHLEdBQUcsSUFBSSxHQUFHLElBQUksSUFBSSxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxhQUFhLEdBQUcsR0FBRyxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsYUFBYSxHQUFHLEdBQUcsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLGFBQWEsR0FBRyxHQUFHLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxh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QUVyRSxNQUFNLEdBQUc7QUFBQSxJQUNQLFFBQVEsYUFBYSxVQUFVLEtBQUs7QUFBQSxJQUNwQyxJQUFJLFdBQVcsS0FBSyxNQUFNO0FBQUEsSUFDMUIsTUFBTSxlQUFlO0FBQUEsSUFDckIsSUFBSSxVQUFVO0FBQUEsTUFDWixXQUFXLEtBQUssbUJBQW1CLFVBQVUsUUFBUTtBQUFBLElBQ3ZEO0FBQUEsSUFDQSxJQUFJLGNBQWMsRUFBRSxzQkFBc0IsYUFBYTtBQUFBLE1BQ3JELE1BQU0sUUFBTztBQUFBLE1BQ2IsYUFBYSxJQUFJLFdBQVcsTUFBSyxTQUFTLElBQUk7QUFBQSxNQUM5QyxPQUFPLFNBQVM7QUFBQSxJQUNsQjtBQUFBLElBQ0EsT0FBTyw2QkFBNkIsdUJBQU8sY0FBYyxrQkFBa0IsS0FBSyxVQUFVLFNBQVMsV0FBVyxNQUFNLENBQUMsb0JBQW9CLHVCQUFPLGNBQWMsUUFBUSxVQUFVLE1BQU0sQ0FBQyw0QkFBNEIsdUJBQU8sY0FBYyxrQkFBa0IsS0FBSyxVQUFVLFFBQVEsQ0FBQyxDQUFDO0FBQUE7QUFFdlI7IiwKICAiZGVidWdJZCI6ICIzOTAzOTM4RTNGODNCRUQ0NjQ3NTZFMjE2NDc1NkUyMSIsCiAgIm5hbWVzIjogW10KfQ==
